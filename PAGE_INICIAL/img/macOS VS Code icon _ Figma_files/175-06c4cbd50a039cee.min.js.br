
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9e27f3ca-d05d-5315-b760-a08cc32ff043")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[175],{96212:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getTextStyle=r.parseLineHeight=r.cssFromFontWeight=r.getFill=r.getEffectsStyle=r.cssDropShadow=r.cssBoxShadow=r.cssFilterFromBlurEffectRadius=r.concatFilter=r.concatOptional=r.cssBlendMode=r.supportedBlendModesSet=r.cssBackgroundFromPaint=r.cssFillAngularGradient=r.cssFillRadialGradient=r.cssFillLinearGradient=r.decimalToPercent=r.cssVarToString=r.colorToHex=r.colorToString=r.colorToRgba=void 0;let i=n(85601),a=e=>("00"+Math.round(255*e).toString(16).toUpperCase()).substr(-2),o=e=>Math.round(255*e),s=e=>e.toFixed(2);r.colorToRgba=({r:e,g:r,b:n,a:i=1},a=1)=>`rgba(${o(e)}, ${o(r)}, ${o(n)}, ${s(i*a)})`,r.colorToString=(e,n=1)=>1!==e.a||1!==n?(0,r.colorToRgba)(e,n):(0,r.colorToHex)(e);let l=e=>`${a(e.r)}${a(e.g)}${a(e.b)}`,d=(e,r=1)=>`${a(e.r)}${a(e.g)}${a(e.b)}${a(e.a*r)}`;function c({value:e}){let r=e.replace("--","");return`var(--${r}, var(--fallback-${r}))`}function u(e,r){r&&console.warn(`Warning in color '${r}': ${e}`)}r.colorToHex=(e,r=1)=>{if(1===e.a&&1===r){let r=l(e);return r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]?`#${r[0]}${r[2]}${r[4]}`:`#${r}`}{let n=d(e,r);return n[0]===n[1]&&n[2]===n[3]&&n[4]===n[5]&&n[6]===n[7]?`#${n[0]}${n[2]}${n[4]}${n[6]}`:`#${n}`}},r.cssVarToString=c,r.decimalToPercent=(e,r=0)=>{let n=100*e;return r>0&&n!==Math.round(n)?`${n.toFixed(r)}%`:`${Math.round(n)}%`};let p=e=>Object.assign(Object.assign({},e),{type:"gradient-linear",gradientHandlePositions:[{x:0,y:1},{x:0,y:0},{x:0,y:0}],gradientStops:[{color:e.color,position:0},{color:e.color,position:1}]});r.cssFillLinearGradient=(e,n)=>{if(e.gradientHandlePositions.length<2){u("Linear gradients must have 2 handles",n);return}let{gradientStops:i,gradientHandlePositions:[{x:a,y:o},{x:s,y:l}],opacity:d}=e,c=Math.atan2(s-a,o-l),p=i.map(({color:e,position:n})=>`${(0,r.colorToString)(e,d)} ${(0,r.decimalToPercent)(n,2)}`).join(", ");return`linear-gradient(${Math.round(180/Math.PI*c+(c<0?360:0))}deg, ${p})`},r.cssFillRadialGradient=(e,n)=>{if(e.gradientHandlePositions.length<3){u("Radial gradients must have 3 handles",n);return}let{gradientStops:i,gradientHandlePositions:[{x:a,y:o},{x:s,y:l},{x:d,y:c}],opacity:p}=e,h=i.map(({color:e,position:n})=>`${(0,r.colorToString)(e,p)} ${(0,r.decimalToPercent)(n,2)}`).join(", ");return`radial-gradient(${(0,r.decimalToPercent)(Math.sqrt((d-a)*(d-a)+(c-o)*(c-o)),2)} ${(0,r.decimalToPercent)(Math.sqrt((s-a)*(s-a)+(l-o)*(l-o)),2)} at ${(0,r.decimalToPercent)(a,2)} ${(0,r.decimalToPercent)(o,2)}, ${h})`},r.cssFillAngularGradient=(e,n)=>{if(e.gradientHandlePositions.length<2){u("Angular gradients must have 2 handles",n);return}u("Angular gradients can only be approximated in CSS (scaling might be lost)",n);let{gradientStops:i,gradientHandlePositions:[{x:a,y:o},{x:s,y:l}]}=e,d=180*Math.atan2(l-o,s-a)/Math.PI+90,c=i.map(({color:e,position:n})=>`${(0,r.colorToString)(e)} ${360*n}deg`).join(", ");return`conic-gradient(from ${Math.round(d)}deg at ${(0,r.decimalToPercent)(a,2)} ${(0,r.decimalToPercent)(o,2)}, ${c})`};let h=(e,n)=>{u("Diamond gradients can only be approximated in CSS",n);let{gradientStops:i,opacity:a}=e,o=i.map(({color:e,position:n})=>`${(0,r.colorToString)(e,a)} ${(0,r.decimalToPercent)(n/2,2)}`).join(", ");return["bottom right","bottom left","top left","top right"].map(e=>`linear-gradient(to ${e}, ${o}) ${e} / 50% 50% no-repeat`).join(", ")},m=(e,r,n)=>{var i,a;let o={};switch(1!==e.opacity&&u("Image paint opacity not supported",n),o.background=`url("${e.src}")`,o.backgroundPosition="50% 50%",o.backgroundRepeat="no-repeat",o.backgroundSize="auto",e.scaleMode){case"fill":o.backgroundSize="cover";break;case"fit":o.backgroundSize="contain";break;case"tile":let s=e.imageSize,l=null!==(i=e.scalingFactor)&&void 0!==i?i:1,d=s?`${s.width*l}px`:`${Math.round(100*l)}%`,c=s?`${s.height*l}px`:`${Math.round(100*l)}%`;o.backgroundSize=`${d} ${c}`,o.backgroundPosition="0% 0%",o.backgroundRepeat="repeat";break;case"crop":let p=null!==(a=e.imageTransform)&&void 0!==a?a:[[1,0,0],[0,1,0]],h=100/p[0][0],m=100/p[1][1];o.backgroundSize=`${h.toFixed(2)}% ${m.toFixed(2)}%`;let g=r?-(r.width/p[0][0])*p[0][2]:0,f=r?-(r.height/p[1][1])*p[1][2]:0;o.backgroundPosition=`${g.toFixed(2)}px ${f.toFixed(2)}px`,o.backgroundRepeat="no-repeat"}return e.rotation&&u("Image paint rotation not supported",n),`${o.background} ${o.backgroundPosition} / ${o.backgroundSize} ${o.backgroundRepeat}`};function g(e,n,i,a){let o=e.type;switch(e.type){case"css-var":return c(e);case"solid":if(n)return(0,r.colorToString)(e.color,e.opacity);return(0,r.cssFillLinearGradient)(p(e),a);case"gradient-linear":return(0,r.cssFillLinearGradient)(e,a);case"gradient-radial":return(0,r.cssFillRadialGradient)(e,a);case"gradient-angular":return(0,r.cssFillAngularGradient)(e,a);case"gradient-diamond":return h(e,a);case"image":return m(e,i,a);default:u(`Paint type ${o} not supported`,a);return}}r.cssBackgroundFromPaint=g;let f="normal";function _(e,n){if(r.supportedBlendModesSet.has(e.blendMode))return e.blendMode;u(`Blend mode ${e.blendMode} not supported`,n)}function y(e){return`blur(${Math.sqrt(e)}px)`}function E(e){return"string"==typeof e?e.startsWith("--")?c({type:"css-var",value:e,visible:!0}):e:(0,r.colorToString)(e)}function b(e){var r;let n=`${e.offset.x}px ${e.offset.y}px ${e.blur}px ${null!==(r=e.spread)&&void 0!==r?r:0}px ${E(e.color)}`;return"inner-shadow"===e.type?`inset ${n}`:n}function v(e){return`${e.offset.x}px ${e.offset.y}px ${e.blur}px ${E(e.color)}`}r.supportedBlendModesSet=new Set(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),r.cssBlendMode=_,r.concatOptional=(e,r)=>e?`${e}, ${r}`:r,r.concatFilter=(e,r)=>e?`${e} ${r}`:r,r.cssFilterFromBlurEffectRadius=y,r.cssBoxShadow=b,r.cssDropShadow=v,r.getEffectsStyle=function(e,n=!0){let i={};return e.filter(e=>e.visible).forEach(e=>{switch(e.type){case"layer-blur":i.filter=(0,r.concatFilter)(i.filter,y(e.blur));break;case"background-blur":i.backdropFilter=(0,r.concatFilter)(i.backdropFilter,y(e.blur));break;case"drop-shadow":n?i.boxShadow=(0,r.concatOptional)(i.boxShadow,b(e)):i.filter=(0,r.concatFilter)(i.filter,`drop-shadow(${v(e)})`);break;case"inner-shadow":i.boxShadow=(0,r.concatOptional)(i.boxShadow,b(e))}}),i},r.getFill=(e,n,a)=>{let o=e.filter(({visible:e=!0})=>e).reverse(),s={},{blendMode:l=[],background:d}=o.reduce((e,i,o,s)=>{var l;let d=g(i,o===s.length-1,n,a),c="css-var"===i.type?f:null!==(l=_(i,a))&&void 0!==l?l:f;return d?{background:(0,r.concatOptional)(e.background,d),blendMode:[...e.blendMode,c]}:e},{background:void 0,blendMode:[]});return l.some(e=>e!==f)&&(s.backgroundBlendMode=l.join(", ")),(0,i.exists)(d)&&(s.background=d),s};let S=[["thin",100],["extralight",200],["light",300],["normal",400],["medium",500],["semibold",600],["bold",700],["extrabold",800],["black",900]];function I({lineHeightUnit:e,lineHeightPx:r,lineHeightPercentFontSize:n}){switch(e){case"pixels":return r+"px";case"font-size-%":return n+"%"}}function T(e){if("number"==typeof e)return e;switch(e){case"thin":return 100;case"extra-light":return 200;case"light":return 300;case"normal":return 400;case"medium":return 500;case"semi-bold":return 600;case"bold":return 700;case"extra-bold":return 800;case"black":return 900}}function w(e){if("string"==typeof e){if("auto"===e)return{lineHeightPercentFontSize:100,lineHeightPx:0,lineHeightUnit:"intrinsic-%"};let[,r,n]=Array.from(function*(e,r){let n;let i=r.global?r.flags:r.flags+"g",a=new RegExp(r,i);for(;n=a.exec(e);)yield n}(e,/(\d+\.?\d+)([px\%]+)/g))[0];if(!(0,i.exists)(r)||!(0,i.exists)(n))throw Error(`Invalid lineHeight string: ${e}`);if("%"===n)return{lineHeightPx:0,lineHeightPercentFontSize:parseFloat(r),lineHeightUnit:"font-size-%"};if("px"===n)return{lineHeightPx:parseInt(r),lineHeightPercentFontSize:0,lineHeightUnit:"pixels"};throw Error(`Invalid lineHeight string: ${e}`)}return{lineHeightPercentFontSize:0,lineHeightPx:e,lineHeightUnit:"pixels"}}r.cssFromFontWeight=T,r.parseLineHeight=w,r.getTextStyle=function(e){let r={};if(!e)return{};e.fontFamily&&(r.fontFamily=e.fontFamily),e.fontSize&&(r.fontSize=e.fontSize+"px");let{fontPostScriptName:n}=e,i=S.find(([e,r])=>null==n?void 0:n.toLowerCase().includes(e));if(i?r.fontWeight=i[1]:e.fontWeight&&(r.fontWeight=T(e.fontWeight)),e.italic&&(r.fontStyle="italic"),e.textDecoration&&(r.textDecoration=function(e){switch(e){case"strikethrough":return"line-through";case"underline":return"underline"}}(e.textDecoration)),!e.textDecoration&&e.href&&(r.textDecoration="underline"),e.textCase){let n=function(e){switch(e){case"upper":return"uppercase";case"lower":return"lowercase";case"title":return"capitalize"}}(e.textCase);n&&(r.textTransform=n);let i=function(e){switch(e){case"small-caps":case"small-caps-forced":return"small-caps"}}(e.textCase);i&&(r.fontVariant=i)}if(e.letterSpacing&&(r.letterSpacing=e.letterSpacing+"px"),e.lineHeightUnit)r.lineHeight=I(e);else if(e.lineHeight){let n=w(e.lineHeight);r.lineHeight=I(n)}return e.paragraphIndent&&(r.textIndent=e.paragraphIndent+"px"),r}},39321:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=n(58932);(0,i.__exportStar)(n(94251),r),(0,i.__exportStar)(n(96212),r)},94251:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.transformFromReactProps=r.getSvgLayout=r.getConstraintPositioning=r.getItemLayout=r.getParentLayout=r.getOpacity=r.getTextColor=r.getBlendMode=r.getTextLayout=r.getTextAlign=r.getFrameStrokeAndEffects=r.getRectangleStrokeAndEffects=r.getTextEffects=r.getCornerRadius=r.cornerRadiusToArray=r.getOverflow=r.getVisibility=r.getResetStyles=void 0;let i=n(85601),a=n(78883),o=n(96212),s=n(50311),l=n(45977),d=n(39321);function c(e){var r,n,a,o;let{cornerRadius:s}=e;if((0,i.exists)(s)&&0!==s)return"number"==typeof s?[s,s,s,s]:[null!==(r=s.topLeft)&&void 0!==r?r:0,null!==(n=s.topRight)&&void 0!==n?n:0,null!==(a=s.bottomRight)&&void 0!==a?a:0,null!==(o=s.bottomLeft)&&void 0!==o?o:0]}function u({props:e,parent:r,hasChildren:n,ignoreRotation:o=!1}){let s;let c={};if((0,i.exists)(r)&&(0,l.isAutoLayout)(r)&&"absolute"!==e.positioning){var u;let i=Object.assign(Object.assign({},(0,l.isAutoLayout)(r)&&("horizontal"===r.props.direction&&"fill-parent"===e.width||"vertical"===r.props.direction&&"fill-parent"===e.height)?{flexGrow:1,flexBasis:0}:{flexShrink:0}),(0,l.isAutoLayout)(r)&&("horizontal"===r.props.direction&&"fill-parent"===e.height||"vertical"===r.props.direction&&"fill-parent"===e.width)?{alignSelf:"stretch"}:{});e.padding&&(0!==(u=e.padding).top||0!==u.bottom||0!==u.left||0!==u.right)&&n?(c=i,s={width:"100%",height:"100%"}):s=i}else s=(0,i.exists)(r)?p(e):{position:"relative"};(0,i.exists)(r)||"fill-parent"!==e.width||(s.width="100%"),(0,i.exists)(r)||"fill-parent"!==e.height||(s.height="100%");let{width:h,height:_}=e,y=f(e);if((0,a.isRotated)(y)&&"number"==typeof h&&"number"==typeof _){let e=Object.assign(Object.assign({},function(e,r,n){let{width:i,height:a}=e;return{width:r/i*100+"%",height:n/a*100+"%",left:(i-r)/2/i*100+"%",top:(a-n)/2/a*100+"%"}}(y.relativeBoundingBox,h,_)),o?{}:g(y));return{wrapperStyle:Object.assign(Object.assign(Object.assign({},c),s),function(e){let{width:r,height:n}=e,i={};return i.width=r.toFixed(2)+"px",i.height=n.toFixed(2)+"px",i}(y.relativeBoundingBox)),style:e}}{let{transform:r}=g(y),n=Object.keys(c).length>0;return{style:Object.assign(Object.assign(Object.assign({},s),n?{}:m(e)),{transform:(0,i.exists)(r)&&!o?(0,d.concatFilter)(s.transform,r):s.transform}),wrapperStyle:n?Object.assign(Object.assign({},c),m(e)):void 0}}}function p(e){let r={position:"absolute"},n=0,i=0;"direction"in e&&("vertical"===e.direction&&(n=e.strokeWidth/2),"horizontal"===e.direction&&(i=e.strokeWidth/2));let{x:a,y:o}=e;switch(a.type){case"left":r.left=a.offset-n+"px";break;case"right":r.right=a.offset+n+"px";break;case"left-right":r.left=a.leftOffset-n+"px",r.width=`calc(100% - (${a.leftOffset}px + ${a.rightOffset}px))`;break;case"center":r.transform="translateX(-50%)",r.left=`calc(50% + ${Math.round(a.offset)}px)`;break;case"horizontal-scale":{r.left=a.leftOffsetPercent.toFixed(2)+"%";let e=100-(a.leftOffsetPercent+a.rightOffsetPercent);r.width=`${e.toFixed(2)}%`}}switch(o.type){case"top":r.top=o.offset-i+"px";break;case"bottom":r.bottom=o.offset+i+"px";break;case"top-bottom":r.top=o.topOffset-i+"px",r.height=`calc(100% - (${o.topOffset}px + ${o.bottomOffset}px))`;break;case"center":r.transform=(0,d.concatFilter)(r.transform,"translateY(-50%)"),r.top=`calc(50% + ${Math.round(o.offset)}px)`;break;case"vertical-scale":{r.top=o.topOffsetPercent.toFixed(2)+"%";let e=100-(o.topOffsetPercent+o.bottomOffsetPercent);r.height=`${e.toFixed(2)}%`}}return r}function h(e){switch(e){case"center":return"center";case"end":return"flex-end";case"start":return"flex-start";case"baseline":return"baseline"}}function m(e){var r,n,i,a;let o={};return"number"!=typeof e.width||(null===(r=e.x)||void 0===r?void 0:r.type)==="left-right"||(null===(n=e.x)||void 0===n?void 0:n.type)==="horizontal-scale"||(o.width=e.width.toFixed(2)+"px"),"number"!=typeof e.height||(null===(i=e.y)||void 0===i?void 0:i.type)==="top-bottom"||(null===(a=e.y)||void 0===a?void 0:a.type)==="vertical-scale"||(o.height=e.height.toFixed(2)+"px"),o}function g(e){let{relativeTransform:r}=e,n=r[0][0],i=r[0][1],a=r[1][0],o=r[1][1];return 1===n&&0===a&&0===i&&1===o?{}:{transform:`matrix(${n},${a},${i},${o},0,0)`}}function f(e){var r;let n="number"==typeof e.width?e.width:0,i="number"==typeof e.height?e.height:0,o=(0,a.getCenteredRotation)(null!==(r=e.rotation)&&void 0!==r?r:(0,s.transformDefaults)().rotation,n,i);e.flipVertical&&(o=(0,a.flipVertical)(o));let{relativeBoundingBox:l,rotationOnlyTransform:d}=(0,a.getRelativeBoundsAndRotation)({width:n,height:i,relativeTransform:o});return{relativeTransform:o,relativeBoundingBox:l,rotationOnlyTransform:d}}r.getResetStyles=function(){return{boxSizing:"border-box"}},r.getVisibility=function(e){return!0===e.hidden?{display:"none"}:{}},r.getOverflow=function(e){return{overflow:e.overflow}},r.cornerRadiusToArray=c,r.getCornerRadius=function(e){let r=c(e);return(0,i.exists)(r)?{borderRadius:r.map(e=>`${e}px`).join(" ")}:{}},r.getTextEffects=function(e){let r={};return e.filter(e=>e.visible).forEach(e=>{switch(e.type){case"layer-blur":r.filter=(0,o.cssFilterFromBlurEffectRadius)(e.blur);break;case"background-blur":r.backdropFilter=(0,o.cssFilterFromBlurEffectRadius)(e.blur);break;case"drop-shadow":r.textShadow=(0,o.concatOptional)(r.textShadow,(0,o.cssDropShadow)(e));break;case"inner-shadow":console.warn("Inner shadow is not supported on text")}}),r},r.getRectangleStrokeAndEffects=function(e){let r=(0,o.getEffectsStyle)(e.effect),{stroke:n,strokeWidth:i=0,strokeAlign:a}=e;if(n){let e=n.find(e=>"css-var"===e.type||"solid"===e.type&&!1!==e.visible&&e.color);if(e){let n;if("css-var"===e.type)n=(0,d.cssVarToString)(e);else{let{color:r,opacity:i}=e;n=(0,o.colorToString)(r,i)}switch(a){case"inside":r.boxShadow=(0,o.concatOptional)(r.boxShadow,`0px 0px 0px ${i}px ${n} inset`);break;case"outside":r.boxShadow=(0,o.concatOptional)(r.boxShadow,`0px 0px 0px ${i}px ${n}`);break;case"center":r.boxShadow=(0,o.concatOptional)(r.boxShadow,`0px 0px 0px ${i/2}px ${n} inset`),r.boxShadow=(0,o.concatOptional)(r.boxShadow,`0px 0px 0px ${i/2}px ${n}`)}}}return r},r.getFrameStrokeAndEffects=function(e){let r="hidden"===e.overflow,{fill:n,effect:i}=e,a=r&&n.some(e=>!1!==e.visible),s=(0,o.getEffectsStyle)(i,a),l={},{stroke:c,strokeWidth:u=0,strokeAlign:p}=e;if(c){let e=c.find(e=>"css-var"===e.type||"solid"===e.type&&!1!==e.visible&&e.color);if(e){let n;if("css-var"===e.type)n=(0,d.cssVarToString)(e);else{let{color:r,opacity:i}=e;n=(0,o.colorToString)(r,i)}switch(p){case"inside":r?l.boxShadow=`0px 0px 0px ${u}px ${n} inset`:s.boxShadow=(0,o.concatOptional)(s.boxShadow,`0px 0px 0px ${u}px ${n} inset`);break;case"outside":s.boxShadow=(0,o.concatOptional)(s.boxShadow,`0px 0px 0px ${u}px ${n}`);break;case"center":r?l.boxShadow=`0px 0px 0px ${u/2}px ${n} inset`:s.boxShadow=(0,o.concatOptional)(s.boxShadow,`0px 0px 0px ${u/2}px ${n} inset`),s.boxShadow=(0,o.concatOptional)(s.boxShadow,`0px 0px 0px ${u/2}px ${n}`)}}}return{style:s,overlayStyle:l}},r.getTextAlign=function(e){let r={};return e.horizontalAlignText&&(r.textAlign=function(e){switch(e){case"center":return"center";case"left":return"left";case"right":return"right";case"justified":return"justify"}}(e.horizontalAlignText)),e.verticalAlignText&&(r.display="flex",r.flexDirection="column",r.justifyContent=function(e){switch(e){case"bottom":return"flex-end";case"center":return"center";case"top":return"flex-start"}}(e.verticalAlignText)),r},r.getTextLayout=function(e,r){let{style:n,wrapperStyle:i}=u({props:e,parent:r,hasChildren:!1}),{width:o,height:s}=e,l=f(e);return(0,a.isRotated)(l)||("hug-contents"===o&&"hug-contents"===s?(delete n.width,delete n.height):"hug-contents"===s?delete n.height:"hug-contents"===o&&console.warn("Text cannot have hug-contents on width only")),("hug-contents"!==o||"hug-contents"!==s)&&(n.wordBreak="break-word"),{style:n,wrapperStyle:i}},r.getBlendMode=function(e){return{mixBlendMode:(0,o.cssBlendMode)(e)}},r.getTextColor=function(e,r=1){var n,a;let s={},l=e.fill.find(e=>!1!==e.visible);return(0,i.exists)(l)&&("css-var"===l.type&&(s.color=(0,d.cssVarToString)(l)),"solid"===l.type&&l.color&&(s.color=(0,o.colorToString)(Object.assign(Object.assign({},l.color),{a:l.color.a*(null!==(n=l.opacity)&&void 0!==n?n:1)*(null!==(a=e.opacity)&&void 0!==a?a:1)*r})))),s},r.getOpacity=function(e){let r=e.opacity;return void 0!==r&&1!==r?{opacity:r}:{}},r.getParentLayout=function(e){let r={},{padding:n}=e,{direction:i,spacing:a,verticalAlignItems:o,horizontalAlignItems:s}=e;return(0!==n.top||0!==n.right||0!==n.bottom||0!==n.left)&&(r.padding=`${n.top}px ${n.right}px ${n.bottom}px ${n.left}px`),r.display="flex",r.flexDirection="vertical"===i?"column":"row","horizontal"===i?r.justifyContent=h(s):"vertical"===i&&(r.alignItems=h(s)),"horizontal"===i?r.alignItems=h(o):"vertical"===i&&(r.justifyContent=h(o)),"number"==typeof a?Object.assign(r,{[`> *:not(.${l.ABSOLUTE_CLASS}) ~ *:not(.${l.ABSOLUTE_CLASS})`]:{["horizontal"===i?"marginLeft":"marginTop"]:`${a}px`}}):"auto"===a&&(r.justifyContent="space-between"),r},r.getItemLayout=u,r.getConstraintPositioning=p,r.getSvgLayout=function({props:e,parent:r,hasChildren:n}){let{style:i,wrapperStyle:a}=u({props:e,parent:r,hasChildren:n,ignoreRotation:!0}),o=void 0===a?i:a;return o.overflow="visible",("0.00%"===o.height||"0.00px"===o.height)&&(o.height="1px"),("0.00%"===o.width||"0.00px"===o.width)&&(o.width="1px"),o},r.transformFromReactProps=f},50311:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultSpanProps=r.getDefaultTextProps=r.getDefaultSvgProps=r.getDefaultRectangleProps=r.getDefaultLineProps=r.getDefaultEllipseProps=r.getDefaultAutoLayoutProps=r.getDefaultFrameProps=r.blurEffectDefaults=r.shadowEffectDefaults=r.imagePaintDefaults=r.paintDefaults=r.textStyleDefaults=r.autoLayoutDefaults=r.transformDefaults=r.autoLayoutSizeDefaults=r.sizeDefaults=r.cornerDefaults=r.pathDefaults=r.geometryDefaults=r.baseDefaults=void 0;let n={type:"solid",color:{r:0,g:0,b:0,a:1},blendMode:"normal"};function i(){return Object.assign(Object.assign({name:"",hidden:!1,positioning:"auto"},{x:0,y:0}),{blendMode:"normal",opacity:1,effect:[]})}function a(){return{fill:[],stroke:[],strokeWidth:1,strokeAlign:"inside"}}function o(){return{fillPath:[],strokePath:[]}}function s(){return{cornerRadius:0}}function l(){return{width:0,height:0}}function d(){return{width:"hug-contents",height:"hug-contents"}}function c(){return{rotation:0,flipVertical:!1}}function u(){return{direction:"horizontal",spacing:0,padding:0,horizontalAlignItems:"start",verticalAlignItems:"start"}}function p(e=!1){return{fontFamily:"Roboto",letterSpacing:0,textDecoration:"none",fontSize:16,italic:!1,textCase:"original",fontWeight:400,fontPostScriptName:"",fill:e?[]:n}}function h(){return{visible:!0,opacity:1,blendMode:"normal"}}function m(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i()),a()),c()),s()),{overflow:"hidden"})}r.baseDefaults=i,r.geometryDefaults=a,r.pathDefaults=o,r.cornerDefaults=s,r.sizeDefaults=l,r.autoLayoutSizeDefaults=d,r.transformDefaults=c,r.autoLayoutDefaults=u,r.textStyleDefaults=p,r.paintDefaults=h,r.imagePaintDefaults=function(){return Object.assign(Object.assign({},h()),{scaleMode:"fill",imageTransform:[[1,0,0],[0,1,0]],scalingFactor:1,rotation:0})},r.shadowEffectDefaults=function(){return{blendMode:"normal",spread:0,visible:!0}},r.blurEffectDefaults=function(){return{visible:!0}},r.getDefaultFrameProps=m,r.getDefaultAutoLayoutProps=function(){return Object.assign(Object.assign(Object.assign({},m()),d()),u())},r.getDefaultEllipseProps=function(){return Object.assign(Object.assign(Object.assign({},i()),a()),c())},r.getDefaultLineProps=function(){return Object.assign(Object.assign(Object.assign({},i()),a()),{flipVertical:!1,strokeWidth:1,direction:"horizontal"})},r.getDefaultRectangleProps=function(){return Object.assign(Object.assign(Object.assign(Object.assign({},i()),a()),c()),s())},r.getDefaultSvgProps=function(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i()),a()),l()),c()),o())},r.getDefaultTextProps=function(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i()),d()),c()),p(!1)),{paragraphSpacing:0,paragraphIndent:0,horizontalAlignText:"left",verticalAlignText:"top",lineHeight:"auto"})},r.getDefaultSpanProps=function(){return Object.assign(Object.assign(Object.assign(Object.assign({},i()),d()),c()),p(!0))}},31528:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cssTransformFromNodeTransform=r.mergeProps=r.htmlColorFromFigColor=void 0,r.htmlColorFromFigColor=function(e){let{r,g:n,b:i,a}=e;return`rgba(${255*r}, ${255*n}, ${255*i}, ${a})`},r.mergeProps=function e(...r){let n={};for(let i of r){for(let r in n){let a=n[r],o=i[r];("attributes"===r||"style"===r)&&"object"==typeof o?n[r]=e(a,o):"className"===r&&"string"==typeof a&&"string"==typeof o?n[r]=[a,o].join(" "):void 0!==o&&(n[r]=o)}for(let e in i)void 0===n[e]&&(n[e]=i[e])}return n},r.cssTransformFromNodeTransform=function(e){if(void 0===e)return;let[[r,n,i],[a,o,s]]=e;if(1!==r||0!==a||0!==n||1!==o||0!==i||0!==s)return`matrix(${r},${a},${n},${o},${i},${s})`}},83405:(e,r,n)=>{"use strict";r.EY=r.Yf=r.uA=void 0,n(29009),n(10199),n(98);var i=n(77087);Object.defineProperty(r,"uA",{enumerable:!0,get:function(){return i.Component}});var a=n(39784);Object.defineProperty(r,"Yf",{enumerable:!0,get:function(){return a.ComponentSet}}),n(29949),n(98316),n(32146),n(81537),n(23042),n(39426);var o=n(9873);Object.defineProperty(r,"EY",{enumerable:!0,get:function(){return o.Text}}),n(55904),n(23085),n(13261),n(50223)},78469:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeEffect=r.normalizePadding=r.normalizeVerticalConstraint=r.normalizeHorizontalConstraint=r.normalizeSvgPath=r.normalizePath=r.normalizeFill=r.normalizePaint=r.normalizeProps=void 0;let i=n(50311),a=n(85601),o=n(13261);function s(e){return"image"===e.type?Object.assign(Object.assign({},(0,i.imagePaintDefaults)()),e):Object.assign(Object.assign({},(0,i.paintDefaults)()),e)}function l(e=[]){return"string"==typeof e?e.startsWith("--")?[{type:"css-var",value:e,visible:!0}]:[s((0,o.solid)(e))]:Array.isArray(e)?e.map(s):"type"in e?[s(e)]:[Object.assign(Object.assign({type:"solid"},(0,i.paintDefaults)()),{color:e})]}function d(e){return"string"==typeof e?{path:e,windingRule:o.WINDING_RULE_DEFAULT_VALUE}:e}function c(e=[]){return Array.isArray(e)?e.map(d):[d(e)]}function u(e){return(0,a.exists)(e)?"number"==typeof e?{type:"left",offset:e}:e:{type:"left",offset:0}}function p(e){return(0,a.exists)(e)?"number"==typeof e?{type:"top",offset:e}:e:{type:"top",offset:0}}function h(e){var r,n,i,o,s,l,d,c;return(0,a.exists)(e)&&("object"!=typeof e||0!==Object.keys(e).length)?"number"==typeof e?{top:e,right:e,bottom:e,left:e}:"vertical"in e||"horizontal"in e?{top:null!==(r=e.vertical)&&void 0!==r?r:0,bottom:null!==(n=e.vertical)&&void 0!==n?n:0,right:null!==(i=e.horizontal)&&void 0!==i?i:0,left:null!==(o=e.horizontal)&&void 0!==o?o:0}:{top:null!==(s=e.top)&&void 0!==s?s:0,right:null!==(l=e.right)&&void 0!==l?l:0,bottom:null!==(d=e.bottom)&&void 0!==d?d:0,left:null!==(c=e.left)&&void 0!==c?c:0}:{top:0,right:0,bottom:0,left:0}}function m(e=[]){return(Array.isArray(e)?e:[e]).map(e=>{if("drop-shadow"===e.type||"inner-shadow"===e.type){let r=e.color;return Object.assign(Object.assign(Object.assign({},(0,i.shadowEffectDefaults)()),e),{color:"string"==typeof r?(0,o.hexToRgb)(r):r})}return Object.assign(Object.assign({},(0,i.blurEffectDefaults)()),e)})}r.normalizeProps=function(e){let r={};for(let n in e)switch(n){case"fill":r.fill=l(e.fill);break;case"fillPath":r.fillPath=c(e.fillPath);break;case"strokePath":r.strokePath=c(e.strokePath);break;case"stroke":r.stroke=l(e.stroke);break;case"effect":r.effect=m(e.effect);break;case"padding":r.padding=h(e.padding);break;case"x":r.x=u(e.x);break;case"y":r.y=p(e.y);break;default:r[n]=e[n]}return r},r.normalizePaint=s,r.normalizeFill=l,r.normalizePath=d,r.normalizeSvgPath=c,r.normalizeHorizontalConstraint=u,r.normalizeVerticalConstraint=p,r.normalizePadding=h,r.normalizeEffect=m},10199:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AutoLayout=r.styleForAutoLayout=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(29009),l=n(39321),d=n(50311),c=n(78469);function u(e,r,n){let{style:i,overlayStyle:a,wrapperStyle:o}=(0,s.styleForFrame)(e,r,n);return{style:Object.assign(Object.assign(Object.assign({},i),(0,l.getParentLayout)(e)),(0,l.getVisibility)(e)),overlayStyle:a,wrapperStyle:o}}r.styleForAutoLayout=u,r.AutoLayout=a.forwardRef(function(e,r){let{attributes:n,children:l}=e,p=(0,i.__rest)(e,["attributes","children"]),h=a.useContext(o.ParentContext);(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},p),{parent:h}));let m=(0,c.normalizeProps)(Object.assign(Object.assign({},(0,d.getDefaultAutoLayoutProps)()),p)),g=(0,o.getInvalidFillParentCheckerRef)(Object.assign(Object.assign({},m),{parent:h})),f=u(m,h,a.Children.count(l)>0);return a.createElement(o.ParentContext.Provider,{value:{type:"autolayout",props:m}},(0,s.domNodeFromFrame)({figmaLayerName:m.name,styles:f,attributes:n,children:l,ref:(0,o.mergeRefs)([g,r])}))})},77087:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Component=void 0;let i=n(58932),a=n(11855),o=n(23085),s=n(10199),l=n(29009);r.Component=a.forwardRef(function(e,r){let{attributes:n,overrides:d={}}=e,c=(0,i.__rest)(e,["attributes","overrides"]),u=Object.assign(Object.assign({},c),{attributes:n});return a.createElement(o.OverridesContext.Provider,{value:d},!function(e){let r={direction:!0,horizontalAlignItems:!0,padding:!0,spacing:!0,verticalAlignItems:!0};for(let n in e)if(n in r)return!0;return!1}(c)?a.createElement(l.Frame,Object.assign({},u,{ref:r})):a.createElement(s.AutoLayout,Object.assign({},u,{ref:r})))})},39784:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ComponentSet=void 0;let i=n(58932),a=n(11855),o=n(85601),s=e=>e.map(e=>e.trim()).sort().join(","),l=e=>e.split(",").map(e=>{let[r]=e.split("=");return r.trim()});r.ComponentSet=a.forwardRef(function(e,r){let{children:n,name:d}=e,c=(0,i.__rest)(e,["children","name"]),u=a.Children.toArray(n),p=l(u[0].props.name),h=s(p.map(e=>{var r;return`${e}=${null===(r=c[e])||void 0===r?void 0:r.toString()}`})),m=u.find(e=>e.props.name&&s(e.props.name.split(","))===h);if(!(0,o.exists)(m)||!a.isValidElement(m))throw Error(`Cannot find variant ${h} in component set ${d}`);return a.cloneElement(m,Object.assign({key:"selected",ref:r},(0,o.omit)(c,p)))})},98:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Ellipse=r.styleForEllipse=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(39321),l=n(78469),d=n(50311),c=n(31528);function u(e,r){let{relativeBoundingBox:n}=(0,s.transformFromReactProps)(e);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,s.getResetStyles)()),(0,s.getOpacity)(e)),(0,s.getFill)(e.fill,{width:n.width,height:n.height})),(0,s.getBlendMode)(e)),(0,s.getItemLayout)({props:e,parent:r,hasChildren:!1}).style),(0,s.getRectangleStrokeAndEffects)(e)),(0,s.getVisibility)(e)),{height:e.height+"px",width:e.width+"px",borderRadius:"50%"})}r.styleForEllipse=u,r.Ellipse=a.forwardRef(function(e,r){let{attributes:n,children:s}=e,p=(0,i.__rest)(e,["attributes","children"]),h=a.useContext(o.ParentContext);(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},p),{parent:h}));let m=(0,l.normalizeProps)(Object.assign(Object.assign({},(0,d.getDefaultEllipseProps)()),p)),g=(0,o.css)(u(m,h));return a.createElement("div",Object.assign({"data-layer":m.name},(0,c.mergeProps)(n,{className:g}),{ref:r}))})},55904:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FigmaReact=void 0;let i=n(11855),a=n(45977);r.FigmaReact=e=>i.createElement(a.ParentContext.Provider,{value:null},e.children)},29009:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Frame=r.domNodeFromFrame=r.styleForFrame=void 0;let i=n(58932),a=n(11855),o=n(39321),s=n(78469),l=n(45977),d=n(23085),c=n(31528),u=n(50311);function p(e,r,n){let{relativeBoundingBox:i}=(0,o.transformFromReactProps)(e),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,o.getResetStyles)()),(0,o.getCornerRadius)(e)),(0,o.getOpacity)(e)),(0,o.getFill)(e.fill,{width:i.width,height:i.height})),(0,o.getBlendMode)(e)),(0,o.getOverflow)(e)),(0,o.getVisibility)(e)),{position:"relative"}),{style:s,wrapperStyle:l}=(0,o.getItemLayout)({props:e,parent:r,hasChildren:n}),{style:d,overlayStyle:c}=(0,o.getFrameStrokeAndEffects)(e);return{style:Object.assign(Object.assign(Object.assign({},a),s),d),overlayStyle:c,wrapperStyle:l}}function h({figmaLayerName:e,styles:r,attributes:n={},children:o,ref:s}){let{style:u,overlayStyle:p,wrapperStyle:h}=r,{style:m}=n,g=(0,i.__rest)(n,["style"]),f=a.useContext(d.OverridesContext),_=a.Children.toArray(o).map(e=>{if(a.isValidElement(e)){let{name:r,figmaLayer:n}=e.props,i=(0,d.findOverride)(f,{name:null!=n?n:r});return(0,d.applyOverride)(e,i)}return e});if(p&&Object.keys(p).length>0){let e=Object.assign({position:"absolute",pointerEvents:"none",inset:0,borderRadius:u.borderRadius},p);_.push(a.createElement("div",{className:(0,l.css)(e),key:"fg-overlay"}))}let y={children:_,className:(0,l.css)(Object.assign(Object.assign(Object.assign({},u),"function"==typeof n.onClick||"function"==typeof n.onMouseDown||"function"==typeof n.onMouseUp||"function"==typeof n.onPointerDown||"function"==typeof n.onPointerUp?{userSelect:"none",cursor:"default"}:{}),m))};return h&&Object.keys(h).length>0?a.createElement("div",{"data-fg-tag":"wrapper",className:(0,l.css)(h),ref:s},a.createElement("div",Object.assign({"data-layer":e},(0,c.mergeProps)(y,g)))):a.createElement("div",Object.assign({"data-layer":e},(0,c.mergeProps)(y,g),{ref:s}))}r.styleForFrame=p,r.domNodeFromFrame=h,r.Frame=a.forwardRef(function(e,r){let{attributes:n,children:o}=e,d=(0,i.__rest)(e,["attributes","children"]),c=a.useContext(l.ParentContext);(0,l.warnInvalidConstraints)(Object.assign(Object.assign({},d),{parent:c}));let m=(0,s.normalizeProps)(Object.assign(Object.assign({},(0,u.getDefaultFrameProps)()),d)),g=(0,l.getInvalidFillParentCheckerRef)(Object.assign(Object.assign({},m),{parent:c})),f=p(m,c,a.Children.count(o)>0);return a.createElement(l.ParentContext.Provider,{value:{type:"frame",props:m}},h({figmaLayerName:m.name,styles:f,attributes:n,children:o,ref:(0,l.mergeRefs)([g,r])}))})},29949:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Image=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(13261),l=n(74351),d=n(81537),c=n(78469),u=n(50311),p=e=>"fill-parent"===e?e:(0,s.round)(e);r.Image=a.forwardRef(function(e,r){var n,h;let{attributes:m}=e,g=(0,i.__rest)(e,["attributes"]),f=a.useContext(o.ParentContext);(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},g),{parent:f}));let{width:_,height:y}=(0,l.useImageSize)(e),E="string"==typeof g.src?(0,s.image)(g.src):g.src,b=(0,c.normalizeProps)(Object.assign(Object.assign(Object.assign({},(0,u.getDefaultRectangleProps)()),g),{fill:E,width:null!==(n=p(_))&&void 0!==n?n:0,height:null!==(h=p(y))&&void 0!==h?h:0}));return(0,d.domNodeFromRectangle)(b,f,r,m)})},98316:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Line=r.styleForLine=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(39321),l=n(78469),d=n(31528),c=n(50311);function u(e,r){let n="horizontal"===e.direction,i="fill-parent"===e.length,a=`${e.strokeWidth.toFixed(2)}px`,l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,s.getResetStyles)()),(0,s.getFill)(e.stroke)),(0,s.getBlendMode)(e)),(0,s.getOpacity)(e)),(0,s.getEffectsStyle)(e.effect)),(0,s.getVisibility)(e));if(!r&&i){let r=n?"100%":a,i=n?a:"100%";return{style:Object.assign(Object.assign(Object.assign({},l),{width:r,height:i}),(0,s.getConstraintPositioning)(e))}}if(!r||!(0,o.isAutoLayout)(r)){let r=n?e.length:e.strokeWidth,i=n?e.strokeWidth:e.length;return{style:Object.assign(Object.assign(Object.assign({},l),{width:`${r}px`,height:`${i}px`}),(0,s.getConstraintPositioning)(e))}}let d=(0,o.isAutoLayout)(r)?r.props.direction:void 0,c={overflow:"visible"},u=Object.assign(Object.assign({},l),{position:"relative"});return(n?(u.top=-e.strokeWidth+"px",u.height=a,c.height="0px"):(u.width=a,c.width="0px"),e.direction===d)?(i&&(c.flexGrow=1),n?(u.width="100%",c.width=i?void 0:`${e.length}px`):(u.height="100%",c.height=i?void 0:`${e.length}px`),{wrapperStyle:c,style:u}):(n?(u.width="100%",i?c.alignSelf="stretch":c.width=`${e.length}px`):(u.height="100%",i?c.alignSelf="stretch":c.height=`${e.length}px`),{style:u,wrapperStyle:c})}r.styleForLine=u,r.Line=a.forwardRef(function(e,r){let{attributes:n={},children:s}=e,p=(0,i.__rest)(e,["attributes","children"]),h=a.useContext(o.ParentContext);(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},p),{parent:h}));let m=(0,l.normalizeProps)(Object.assign(Object.assign(Object.assign({},(0,c.getDefaultLineProps)()),{stroke:[]}),p)),g=(0,o.getInvalidFillParentCheckerRef)(Object.assign(Object.assign({},m),{parent:h})),{style:f,wrapperStyle:_}=u(m,h),y=a.createElement("div",Object.assign({"data-layer":m.name,ref:(0,o.mergeRefs)([g,r])},(0,d.mergeProps)({className:(0,o.css)(f)},n)));return _?a.createElement("div",{className:(0,o.css)(_)},y):y})},23085:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ForwardOverrides=r.OverridesContext=r.applyOverride=r.findOverride=void 0;let i=n(11855),a=n(85601),o=n(31528);function s(e,r){if((0,a.exists)(r.name))return e[r.name]}r.findOverride=s,r.applyOverride=function(e,r){var n;if(!1===r||null===r)return null;if(i.isValidElement(r)){let s=null!==(n=r.key)&&void 0!==n?n:e.key,l=(0,o.mergeProps)(e.props,r.props);return i.cloneElement(r,(0,a.exists)(s)?Object.assign({key:s},l):l)}return"function"==typeof r?r(e.props):"object"==typeof r?i.cloneElement(e,(0,o.mergeProps)(e.props,r)):e},r.OverridesContext=i.createContext({}),r.ForwardOverrides=function(e){var n;let{children:a,name:o}=e,l=s(null!==(n=i.useContext(r.OverridesContext))&&void 0!==n?n:{},{name:o})||{};return i.cloneElement(a,l)}},32146:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Paragraph=void 0;let i=n(58932),a=n(11855),o=n(31528),s=n(45977);r.Paragraph=function(e){let{children:r,spacing:n}=e,l=(0,i.__rest)(e,["children","spacing"]);return a.createElement("p",Object.assign({},(0,o.mergeProps)(l,{className:(0,s.css)(n?{marginBottom:n}:{})})),r)}},45977:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.css=r.ABSOLUTE_CLASS=r.getInvalidFillParentCheckerRef=r.warnInvalidConstraints=r.mergeRefs=r.isAutoLayout=r.ParentContext=void 0;let i=n(11855),a=n(85601),o=n(27390);function s(e){return(0,a.exists)(e)&&"autolayout"===e.type}r.ParentContext=i.createContext(null),r.isAutoLayout=s,r.mergeRefs=function(e){return r=>{for(let n of e)"function"==typeof n?n(r):null!=n&&(n.current=r)}},r.warnInvalidConstraints=function(e){let{parent:r}=e;e.x&&0!==e.x&&s(r)&&console.warn(`'x=${JSON.stringify(e.x)}' is being used inside an AutoLayout. Constraints are only valid when inside a Frame`),e.y&&0!==e.y&&s(r)&&console.warn(`'y=${JSON.stringify(e.y)}' is being used inside an AutoLayout. Constraints are only valid when inside a Frame`)},r.getInvalidFillParentCheckerRef=function(e){return r=>{let{name:n,parent:i,width:o,height:s,length:l,direction:d}=e;if("fill-parent"!==o&&"fill-parent"!==s&&"fill-parent"!==l||!(0,a.exists)(r))return;let c=r.parentElement,u=(0,a.exists)(null==c?void 0:c.dataset.layer);if((0,a.exists)(i)&&!u)console.warn(`Layer "${n}" has 'fill-parent' set, but is wrapped in a non figma-react element. To fix this you can replace the wrapper element with a react Fragment (<></>) or a figma-react <AutoLayout> instead. Or you can add a <FigmaReact> tag between the wrapper and "${n}".`);else if((0,a.exists)(i)&&"frame"===i.type){let e,r;"fill-parent"===o&&(e="width",r="x={{ type: 'left-right', leftOffset: 0 rightOffset: 0 }}"),"fill-parent"===s&&(e="height",r="y={{ type: 'top-bottom', topOffset: 0 bottomOffset: 0 }}"),"fill-parent"===l&&(e=l,r="vertical"===d?"y={{ type: 'top-bottom', topOffset: 0 bottomOffset: 0 }}":"x={{ type: 'left-right', leftOffset: 0 rightOffset: 0 }}"),console.warn(`Layer "${n}" has ${e}="fill-parent" set, but "fill-parent" is not valid when the parent is a Frame. Either use <AutoLayout> for the parent or use ${r} instead of ${e}="fill-parent"`)}}},r.ABSOLUTE_CLASS="fg-absolute",r.css=function(e){let n=(null==e?void 0:e.position)==="absolute",i=(0,o.css)(e);return n?`${i} ${r.ABSOLUTE_CLASS}`:i}},81537:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Rectangle=r.domNodeFromRectangle=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(39321),l=n(96212),d=n(78469),c=n(50311),u=n(31528);function p(e,r,n,i={}){let d=(0,o.getInvalidFillParentCheckerRef)(Object.assign(Object.assign({},e),{parent:r})),{style:c,wrapperStyle:p}=function(e,r,n){let{relativeBoundingBox:i}=(0,s.transformFromReactProps)(e),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({position:"relative"},(0,s.getResetStyles)()),(0,s.getCornerRadius)(e)),(0,s.getOpacity)(e)),(0,l.getFill)(e.fill,{width:i.width,height:i.height})),(0,s.getBlendMode)(e)),(0,s.getRectangleStrokeAndEffects)(e)),(0,s.getVisibility)(e)),{style:o,wrapperStyle:d}=(0,s.getItemLayout)({props:e,parent:r,hasChildren:n});return{style:Object.assign(Object.assign({},a),o),wrapperStyle:d}}(e,r,!1),h=(0,o.css)(c),m=a.createElement("div",Object.assign({"data-layer":e.name,ref:(0,o.mergeRefs)([d,n])},(0,u.mergeProps)({className:h},i)));return p&&Object.keys(p).length>0?a.createElement("div",{className:(0,o.css)(p)},m):m}r.domNodeFromRectangle=p,r.Rectangle=a.forwardRef(function(e,r){let{attributes:n}=e,s=(0,i.__rest)(e,["attributes"]),l=a.useContext(o.ParentContext);return(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},s),{parent:l})),p((0,d.normalizeProps)(Object.assign(Object.assign({},(0,c.getDefaultRectangleProps)()),s)),l,r,n)})},39426:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Span=r.styleForSpanInTextNode=void 0;let i=n(58932),a=n(31528),o=n(39321),s=n(11855),l=n(78469),d=n(45977);function c(e){return Object.assign(Object.assign({display:"inline",position:"relative"},(0,o.getTextColor)(e,1)),(0,o.getTextStyle)(e))}r.styleForSpanInTextNode=c,r.Span=function(e){let{attributes:r={},children:n}=e,o=(0,i.__rest)(e,["attributes","children"]),u=c((0,l.normalizeProps)(Object.assign({fill:[]},o)));return e.href?s.createElement("a",Object.assign({href:e.href},(0,a.mergeProps)(r,{className:(0,d.css)(Object.assign(Object.assign({},u),{cursor:"default"}))})),n):s.createElement("span",Object.assign({},(0,a.mergeProps)({className:(0,d.css)(u)},r)),n)}},23042:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SVG=r.styleForSvg=r.RenderTreeView=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(50311),l=n(39321),d=n(57783),c=n(5403),u=n(78469),p=n(31528);function h(e,r){return Object.assign(Object.assign(Object.assign(Object.assign({},(0,l.getResetStyles)()),(0,l.getSvgLayout)({props:e,parent:r,hasChildren:!1})),(0,l.getBlendMode)(e)),(0,l.getVisibility)(e))}r.RenderTreeView=({node:e})=>{let r=new Map;return a.createElement(d.RenderNode,{defMaker:(e,n)=>{let i=r.get(e);return void 0===i?(i=a.createElement("defs",null,n(e)),r.set(e,i),i):null},node:e})},r.styleForSvg=h,r.SVG=a.forwardRef(function(e,n){let{attributes:l={}}=e,d=(0,i.__rest)(e,["attributes"]),m=a.useContext(o.ParentContext);(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},d),{parent:m}));let g=(0,u.normalizeProps)(Object.assign(Object.assign({},(0,s.getDefaultSvgProps)()),d)),f=h(g,m),_=(0,c.renderTree)(g,{}),y=(0,o.css)(f);return a.createElement("svg",Object.assign({"data-layer":g.name,ref:n},(0,p.mergeProps)({className:y},l)),a.createElement(r.RenderTreeView,{node:_}))})},9873:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.applyTextProp=r.Text=r.styleForTextNode=void 0;let i=n(58932),a=n(11855),o=n(45977),s=n(50311),l=n(39321),d=n(78469),c=n(31528);function u(e,r,n){let i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block"},(0,l.getResetStyles)()),(0,l.getOpacity)(e)),(0,l.getTextColor)(e,n)),(0,l.getTextStyle)(e)),(0,l.getTextAlign)(e)),(0,l.getTextEffects)(e.effect)),(0,l.getVisibility)(e)),{style:a,wrapperStyle:o}=(0,l.getTextLayout)(e,r);return{style:Object.assign(Object.assign({},i),a),wrapperStyle:o}}r.styleForTextNode=u,r.Text=a.forwardRef(function(e,r){let{attributes:n={},children:l}=e,p=(0,i.__rest)(e,["attributes","children"]),h=a.useContext(o.ParentContext);(0,o.warnInvalidConstraints)(Object.assign(Object.assign({},p),{parent:h}));let m=(0,d.normalizeProps)(Object.assign(Object.assign({},(0,s.getDefaultTextProps)()),p)),{style:g,wrapperStyle:f}=u(m,h),_={"data-layer":m.name,children:Array.isArray(l)?a.createElement("div",null,l):l,className:(0,o.css)(Object.assign(Object.assign({},g),m.href?{cursor:"default"}:{})),ref:r},y=m.href?a.createElement("a",Object.assign({href:m.href},(0,c.mergeProps)(n,_))):a.createElement("div",Object.assign({},(0,c.mergeProps)(n,_)));return f&&Object.keys(f).length>0?a.createElement("div",{className:(0,o.css)(f)},y):y}),r.applyTextProp=function(e,r){return void 0!==r?a.cloneElement(e,{children:r}):e}},74351:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.useImageSize=void 0;let i=n(11855);r.useImageSize=function(e){let{width:r,height:n,src:a}=e,[o,s]=(0,i.useState)({width:r,height:n});return(0,i.useEffect)(()=>{let e=new Image;e.src="string"==typeof a?a:a.src,e.onload=()=>{var r,n;o.width&&o.height||s({width:null!==(r=o.width)&&void 0!==r?r:e.width,height:null!==(n=o.height)&&void 0!==n?n:e.height})}}),o}},63997:(e,r,n)=>{"use strict";r.IY=void 0;let i=n(58932),a=n(11855);r.IY=function(e){let r=(r,n)=>{var{overrides:o,parent:s}=r,l=(0,i.__rest)(r,["overrides","parent"]);return a.cloneElement(e(l),Object.assign({parent:s,overrides:o,ref:n},l))};return Object.defineProperty(r,"name",{value:e.name,writable:!1}),a.forwardRef(r)}},57783:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RenderNode=r.RenderPathNode=r.RenderMaskNode=r.RenderGroupNode=void 0;let i=n(58932),a=n(11855),o=n(31528),s=n(31528),l=n(39321);r.RenderGroupNode=e=>{let{node:n,defMaker:i}=e,l=n.clip?i(`clip-${n.name}`,e=>{var r,i;return a.createElement("clipPath",{id:e},a.createElement("rect",{width:null===(r=n.size)||void 0===r?void 0:r.x,height:null===(i=n.size)||void 0===i?void 0:i.y}))}):null,d=n.clip?{clipPath:`url(#clip-${n.name})`}:{},c=`filter-${n.name}`,u=function(e,r,n){let i=[],s=0,l=0,d=0,c=0,u=r.map((e,r)=>{var n,u,p,h,m,g,f,_;if("drop-shadow"===e.type&&e.offset&&e.color){let p=`shadow${r}`;return i.push(p),s=Math.max(null!==(n=e.offset.x+e.blur)&&void 0!==n?n:0,s),l=Math.max(null!==(u=e.offset.y+e.blur)&&void 0!==u?u:0,l),d=Math.min(e.offset.x-e.blur,d),c=Math.min(e.offset.y-e.blur,c),a.createElement("feDropShadow",{in:"SourceGraphic",result:p,key:r,dx:e.offset.x,dy:e.offset.y,stdDeviation:Math.sqrt(e.blur),floodColor:(0,o.htmlColorFromFigColor)(e.color)})}if("layer-blur"===e.type){s=Math.max(null!==(m=e.blur)&&void 0!==m?m:0,s),l=Math.max(null!==(g=e.blur)&&void 0!==g?g:0,l),d=Math.min(-e.blur,d),c=Math.min(-e.blur,c);let n=`layerBlur${r}`;return i.push(n),a.createElement("feGaussianBlur",{in:"SourceGraphic",result:n,key:r,stdDeviation:Math.sqrt(e.blur)})}}).filter(e=>!!e);if(u.length>0){let r=s+Math.abs(d)+n.width,o=l+Math.abs(c)+n.height;return a.createElement("filter",{x:Math.min(0,d),y:Math.min(0,c),width:`${r}px`,height:`${o}px`,id:e},u,a.createElement("feMerge",null,i.map((e,r)=>a.createElement("feMergeNode",{in:e,key:`filter-${r}`}))))}}(c,n.effects||[],n.boundingBox),p=u?{filter:`url(#${c})`}:{};return a.createElement(a.Fragment,null,l,u,a.createElement("g",Object.assign({},p),a.createElement("g",Object.assign({className:n.name},d,{transform:(0,s.cssTransformFromNodeTransform)(n.transform),opacity:n.opacity}),[...n.children].reverse().map((n,i)=>a.createElement(r.RenderNode,Object.assign({key:i},Object.assign(Object.assign({},e),{node:n})))))))},r.RenderMaskNode=e=>{let{node:n,defMaker:i}=e;return a.createElement(a.Fragment,null,a.createElement("defs",null,a.createElement("mask",{id:n.name},a.createElement(r.RenderNode,{defMaker:i,node:n.maskNode}))),a.createElement("g",{mask:`url(#${n.name})`},[...n.children].reverse().map((e,n)=>a.createElement(r.RenderNode,{key:n,defMaker:i,node:e}))))},r.RenderPathNode=e=>{let{node:r}=e;if(!r.path)return console.error("No path for",r),null;let{path:n,windingRule:i}=r.path,{fill:d,def:c}=function(e,r,n){switch(e.type){case"override":return{fill:e.color};case"css-var":return{fill:(0,l.cssVarToString)(e)};case"solid":return{fill:function(e){let{color:r,opacity:n}=e;if(r)return void 0!==n&&(r=Object.assign(Object.assign({},r),{a:r.a*n})),(0,o.htmlColorFromFigColor)(r)}(e)};case"gradient-linear":case"gradient-radial":return function(e,r,n){let{gradientStops:i,gradientHandlePositions:[{x:o,y:s},{x:d,y:c}],opacity:u=1}=e,p=i.map(({position:e,color:r})=>a.createElement("stop",{key:`${r}-${e}`,offset:(0,l.decimalToPercent)(e),style:{stopColor:(0,l.colorToString)(r),stopOpacity:r.a*u}})),h=`grad-${n}}`;return{fill:`url(#${h})`,def:r(h,r=>"gradient-linear"===e.type?a.createElement("linearGradient",Object.assign({id:r},{x1:(0,l.decimalToPercent)(o),y1:(0,l.decimalToPercent)(s),x2:(0,l.decimalToPercent)(d),y2:(0,l.decimalToPercent)(c)}),p):a.createElement("radialGradient",{id:r},p))}}(e,r,n);case"image":return function(e,r,n){var i,o,s,l;let d;let c=null==e?void 0:e.src,u=null==e?void 0:e.imageSize;switch(e.scaleMode){case"tile":let p=(null!==(i=null==u?void 0:u.width)&&void 0!==i?i:1)*(null!==(o=e.scalingFactor)&&void 0!==o?o:1),h=(null!==(s=null==u?void 0:u.height)&&void 0!==s?s:1)*(null!==(l=e.scalingFactor)&&void 0!==l?l:1);d=e=>a.createElement("pattern",{id:e,width:p,height:h,patternContentUnits:"userSpaceOnUse",patternUnits:"userSpaceOnUse"},a.createElement("image",{href:c,width:p,height:h}));break;case"fill":d=e=>a.createElement("pattern",{id:e,width:"100%",height:"100%"},a.createElement("image",{href:c,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}));break;case"fit":case"crop":return console.error(`Unable to render image fill for ${n}. Scale mode ${e.scaleMode} is not supported.`),{}}let m=`image-${n}}`;return{fill:`url(#${m})`,def:r(m,d)}}(e,r,n);default:return console.error(`Unable to render paint for ${n}. Paint type ${e.type} is not supported.`),{}}}(r.paint,e.defMaker,r.name);return a.createElement(a.Fragment,null,c,a.createElement("path",{className:r.name,d:n,fillRule:i,fill:d,transform:r.transform?(0,s.cssTransformFromNodeTransform)(r.transform):void 0}))},r.RenderNode=a.memo(e=>{var{node:n}=e,o=(0,i.__rest)(e,["node"]);switch(n.type){case"group":return a.createElement(r.RenderGroupNode,Object.assign({},Object.assign(Object.assign({},o),{node:n})));case"mask":return a.createElement(r.RenderMaskNode,Object.assign({},Object.assign(Object.assign({},o),{node:n})));case"path":return a.createElement(r.RenderPathNode,Object.assign({},Object.assign(Object.assign({},o),{node:n})))}})},5403:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.renderTree=void 0;let i=n(39321);r.renderTree=function(e,r){var n;let o=`${null===(n=e.name)||void 0===n?void 0:n.replace(/ /g,"-")}-${a++}`,{relativeBoundingBox:s,rotationOnlyTransform:l}=(0,i.transformFromReactProps)(e),d=[],c=e.stroke.filter(e=>!1!==e.visible).reverse();for(let n of e.strokePath||[])if(r.stroke)d.push({type:"path",name:o,path:n,paint:{type:"override",color:r.stroke}});else for(let e of c)d.push({type:"path",name:o,path:n,paint:e});e.fillPath&&e.fillPath.length>0&&("inside"===e.strokeAlign?d=[{type:"mask",name:`${o}-strokeMask`,maskNode:{type:"path",name:`${o}-strokeMaskNode`,path:e.fillPath[0],paint:{type:"solid",color:{r:1,g:1,b:1,a:1},blendMode:"luminosity"}},children:d}]:"outside"===e.strokeAlign&&(d=[{type:"mask",name:`${o}-strokeMask`,maskNode:{type:"group",name:`${o}-strokeMaskNode`,clip:!1,size:{x:s.width,y:s.height},boundingBox:s,effects:[],children:[{type:"path",name:`${o}-strokeMaskNodePath`,path:e.fillPath[0],paint:{type:"solid",color:{r:0,g:0,b:0,a:1},blendMode:"luminosity"}},{type:"path",path:function({x:e,y:r},n){let i=2*n;return{path:`M0 ${-i}H${e+i}V${r+i}H${-i}V0Z`,windingRule:"nonzero"}}({x:s.width,y:s.height},e.strokeWidth),name:`${o}-strokeMaskNodeBounds`,paint:{type:"solid",color:{r:1,g:1,b:1,a:1},blendMode:"luminosity"}}]},children:d}]));let u=[],p=e.fill.filter(e=>!1!==e.visible).reverse();for(let n of e.fillPath||[])if(r.fill)u.push({type:"path",name:o,path:n,paint:{type:"override",color:r.fill}});else for(let e of p)u.push({type:"path",name:o,path:n,paint:e});let h=e.effect.filter(e=>!1!==e.visible);return{type:"group",name:o,transform:l,size:{x:s.width,y:s.height},clip:!1,children:[...d,...u],effects:h,opacity:e.opacity,boundingBox:s}};let a=0},78883:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.applyMatrixToPoint=r.roundBoundingBox=r.roundTransform=r.isRotated=r.getRelativeBoundsAndRotation=r.skipPosition=r.rotatePoint=r.multiply=r.getCenteredRotation=r.flipVertical=r.isFlippedVertical=r.getAngleDeg=r.getAngle=void 0;let i=n(13261);function a(e){let r=e[0][0];return Math.atan2(e[0][1],r)}function o(e,r){let[[n,i,a],[o,s,l]]=e,[[d,c,u],[p,h,m]]=r;return[[n*d+i*p,n*c+i*h,n*u+i*m+a],[o*d+s*p,o*c+s*h,o*u+s*m+l]]}function s(e,r){let[[n,i,a],[o,s,l]]=e,[d,c]=r;return[n*d+i*c+a,o*d+s*c+l]}function l(e){let[[r,n],[i,a]]=e;return[[r,n,0],[i,a,0]]}r.getAngle=a,r.getAngleDeg=function(e){return a(e)*(180/Math.PI)},r.isFlippedVertical=function(e){let[[r,n],[i,a]]=e;return r*a-n*i<0},r.flipVertical=function(e){return o([[1,0,0],[0,-1,0]],e)},r.getCenteredRotation=function(e,r,n){let i=e*Math.PI/180;return o([[1,0,r/2],[0,1,n/2]],o([[Math.cos(i),Math.sin(i),0],[-Math.sin(i),Math.cos(i),0]],[[1,0,-r/2],[0,1,-n/2]]))},r.multiply=o,r.rotatePoint=s,r.skipPosition=l,r.getRelativeBoundsAndRotation=function(e){let{width:r,height:n}=e,i=o([[1,0,r/2],[0,1,n/2]],o(l(e.relativeTransform),[[1,0,-r/2],[0,1,-n/2]])),[a,d]=s(i,[0,0]),[c,u]=s(i,[0,n]),[p,h]=s(i,[r,0]),[m,g]=s(i,[r,n]),f=Math.max(a,c,p,m)-Math.min(a,c,p,m),_=Math.max(d,u,h,g)-Math.min(d,u,h,g),y=o([[1,0,(f-r)/2],[0,1,(_-n)/2]],i),[[,,E],[,,b]]=y;return{relativeBoundingBox:{x:e.relativeTransform[0][2]-E,y:e.relativeTransform[1][2]-b,width:f,height:_},rotationOnlyTransform:y,relativeTransform:e.relativeTransform}},r.isRotated=function(e){if(!e.relativeTransform)return!1;let r=e.relativeTransform[0][0],n=e.relativeTransform[0][1],i=e.relativeTransform[1][0],a=e.relativeTransform[1][1];return!(r-1<1e-5&&n-0<1e-5&&i-0<1e-5&&a-1<1e-5)},r.roundTransform=function(e){return[[(0,i.round)(e[0][0],5),(0,i.round)(e[0][1],5),(0,i.round)(e[0][2],5)],[(0,i.round)(e[1][0],5),(0,i.round)(e[1][1],5),(0,i.round)(e[1][2],5)]]},r.roundBoundingBox=function(e){return{x:(0,i.round)(e.x),y:(0,i.round)(e.y),width:(0,i.round)(e.width),height:(0,i.round)(e.height)}},r.applyMatrixToPoint=function(e,r){return[r[0]*e[0][0]+r[1]*e[0][1]+e[0][2],r[0]*e[1][0]+r[1]*e[1][1]+e[1][2]]}},50223:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.useInteractionState=void 0;let i=n(11855);r.useInteractionState=function(e){let[r,n]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>{s&&(l(!1),o(!1))},[s,o]);return(0,i.useEffect)(()=>(document.addEventListener("mouseup",d),()=>{document.removeEventListener("mouseup",d)}),[d]),{state:a?e.pressed:r?e.hover:e.default,handlers:{onPointerEnter:()=>{n(!0),l(!0)},onPointerLeave:()=>{n(!1)},onPointerDown:e=>{o(!0),e.stopPropagation()},onPointerUp:()=>{o(!1)}}}}},85601:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flatMap=r.flatten=r.omit=r.keys=r.values=r.entries=r.exists=void 0,r.exists=function(e){return null!=e},r.entries=Object.entries,r.values=Object.values,r.keys=Object.keys;let n=r.keys;function i(e){return e.reduce((e,r)=>e.concat(r),[])}r.omit=function(e,r){let i={};for(let a of n(e))-1===r.indexOf(a)&&(i[a]=e[a]);return i},r.flatten=i,r.flatMap=function(e,r){return i(e.map(r))}},70560:(e,r)=>{"use strict";function n(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}Object.defineProperty(r,"AffineTransform",{enumerable:!0,get:function(){return i}});class i{static fromFigmaTransform(e){return new i([e[0][0],e[1][0],e[0][1],e[1][1],e[0][2],e[1][2]])}det(){return this.matrix[0]*this.matrix[3]-this.matrix[1]*this.matrix[2]}transformPoint([e,r]){return[e*this.matrix[0]+r*this.matrix[2]+this.matrix[4],e*this.matrix[1]+r*this.matrix[3]+this.matrix[5]]}inverse(){if(this._inverse)return this._inverse;let e=this.det(),r=new i([1,0,0,1,0,0]);return e&&(this.isTranslation()?(r.matrix[4]-=this.matrix[4],r.matrix[5]-=this.matrix[5]):r.matrix=[this.matrix[3]/e,-this.matrix[1]/e,-this.matrix[2]/e,this.matrix[0]/e,(this.matrix[2]*this.matrix[5]-this.matrix[3]*this.matrix[4])/e,(this.matrix[1]*this.matrix[4]-this.matrix[0]*this.matrix[5])/e]),this._inverse=r}isIdentity(){return"1,0,0,1,0,0"===this.matrix.join(",")}isTranslation(){return 1===this.matrix[0]&&!this.matrix[1]&&!this.matrix[2]&&1===this.matrix[3]}constructor(e){n(this,"matrix",void 0),n(this,"_inverse",void 0),this.matrix=e,this._inverse=null}}},95953:(e,r,n)=>{"use strict";Object.defineProperty(r,"gzipDistanceFunc",{enumerable:!0,get:function(){return a}});let i=n(17215);function a(e,r){let n=(0,i.gzip)(e).length,a=(0,i.gzip)(r).length,o=`${e} ${r}`;return((0,i.gzip)(o).length-Math.min(n,a))/Math.max(n,a)}},91594:(e,r)=>{"use strict";function n(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function i(e){let r=e.findAll(),i={};for(let e of r){let s=[];for(let i of r){var a,o;e.id!==i.id&&e.absoluteBoundingBox&&i.absoluteBoundingBox&&(a=e.absoluteBoundingBox,o=i.absoluteBoundingBox,a=n(a),o=n(o),a.x<o.x+o.width&&a.x+a.width>o.x&&a.y<o.y+o.height&&a.y+a.height>o.y)&&s.push(i.id)}s.length>0&&(i[e.id]=s)}return i}function a(e=[],r=[]){return e.length===r.length&&e.every((e,n)=>e===r[n])}function o(e){let r=i(e);e.resize(.7*e.width,e.height);let n=i(e),o=Object.keys(n).filter(e=>!a(r[e],n[e]));return o.length>0?{type:"overlap",nodeId:e.id,success:!1,errors:o.map(e=>{var i;return{nodeId:e,name:null===(i=figma.getNodeById(e))||void 0===i?void 0:i.name,message:"Node "+e+" overlaps with nodes it did not previously overlap with",finalIntersects:n[e],initialIntersects:r[e]}})}:{type:"overlap",nodeId:e.id,success:!0}}function s(e,r){return e=n(e),(r=n(r)).x<e.x||r.y<e.y||r.x+r.width>e.x+e.width||r.y+r.height>e.y+e.height}function l(e){let r=e.findAll().filter(r=>r.absoluteBoundingBox&&s(e.absoluteBoundingBox,r.absoluteBoundingBox)).map(e=>e.id);e.resize(.7*e.width,e.height);let n=e.findAll().filter(r=>r.absoluteBoundingBox&&s(e.absoluteBoundingBox,r.absoluteBoundingBox)).map(e=>e.id);if(!a(n,r)){let i=n.filter(e=>!r.includes(e));return{type:"overflow",nodeId:e.id,success:!1,errors:i.map(e=>({nodeId:e,message:"Node "+e+" overflows the frame bounds"}))}}return{type:"overflow",nodeId:e.id,success:!0}}function d(e,r){return r.x+r.width>e.x+.7*e.width}function c(e){let r=e.findAll().filter(r=>r.absoluteBoundingBox&&d(e.absoluteBoundingBox,r.absoluteBoundingBox)).map(e=>e.id);e.resize(1.5*e.width,e.height);let n=e.findAll().filter(r=>r.absoluteBoundingBox&&d(e.absoluteBoundingBox,r.absoluteBoundingBox)).map(e=>e.id),i=r.filter(e=>!n.includes(e));return i.length>0?{type:"fill",nodeId:e.id,success:!1,errors:i.map(e=>({nodeId:e,message:"Node "+e+" did not stay to the right side"}))}:{type:"fill",nodeId:e.id,success:!0}}function u(){return 0===figma.currentPage.selection.length&&figma.closePlugin("No selection"),figma.currentPage.selection.map(e=>{if("FRAME"===e.type)return h(e);throw Error("Unsupported node type for responsivity testing: "+e.type)}).reduce((e,r)=>e.concat(r),[])}function p(e,r){if(e.name=r.type+" "+(r.success?"\u2705":"\u274C")+e.name,!r.success)for(let e of r.errors)!function(e){let r=figma.getNodeById(e);if(r&&"PAGE"!==r.type&&"DOCUMENT"!==r.type){let e=figma.createFrame();e.x=r.absoluteBoundingBox.x,e.y=r.absoluteBoundingBox.y,e.resize(r.width||1,r.height||1),e.strokes=[{type:"SOLID",color:{r:1,g:0,b:0}}],e.fills=[],e.name="Error",figma.currentPage.appendChild(e)}}(e.nodeId)}function h(e,r){let n,i,a;console.log("Running responsivity tests on "+e.name+" ("+e.id+")");let s=[];r?(n=r.cloneAndAddNode(e,"Overlap Test"),i=r.cloneAndAddNode(e,"Overflow Test"),a=r.cloneAndAddNode(e,"Fill Test")):(n=e.clone(),i=e.clone(),a=e.clone());let d=o(n);p(n,d),s.push(d);let u=l(i);p(i,u),s.push(u);let h=c(a);return p(a,h),s.push(h),console.log("Results",s),s}!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{runResponsivityTests:function(){return h},runResponsivityTestsOnSelection:function(){return u},testFillWhenWidening:function(){return c},testNoOverflowsWhenNarrowing:function(){return l},testNoOverlapWhenNarrowing:function(){return o}})},79905:(e,r)=>{"use strict";function n(){return{LOG_LEVEL:1,LOG_FILTERS:[],TIDY_UP_OVERLAP_THRESHOLD:.2,TIDY_UP_SPACING_EQUALITY_THRESHOLD:.3,PRE_SEGMENTATION_STRATEGY:"none"}}!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{AAL_SETTINGS:function(){return i},resetAALConstants:function(){return a}});let i=n();function a(){Object.assign(i,n())}},18350:(e,r,n)=>{"use strict";Object.defineProperty(r,"setStackResponsiveV2",{enumerable:!0,get:function(){return I}});let i=n(10945),a=n(56261);function o(e,r,n,i,a,o,s){try{var l=e[o](s),d=l.value}catch(e){n(e);return}l.done?r(d):Promise.resolve(d).then(i,a)}function s(e){return function(){var r=this,n=arguments;return new Promise(function(i,a){var s=e.apply(r,n);function l(e){o(s,i,a,l,d,"next",e)}function d(e){o(s,i,a,l,d,"throw",e)}l(void 0)})}}function l(e){if(!("children"in e)||0===e.children.length)return!1;let r=(0,a.getNodesExtent)(e.children),n=(0,a.getNodesExtent)([e]);return(0,i.isEqual)(n.right-n.left-r.right,r.left)}function d(){return(d=s(function*(e,r){if(e.type!==r.type)return!1;if("INSTANCE"===e.type&&"INSTANCE"===r.type){let n=yield e.getMainComponentAsync(),i=yield r.getMainComponentAsync();return(null==n?void 0:n.id)===(null==i?void 0:i.id)}return"TEXT"===e.type&&"TEXT"===r.type?e.fontName===r.fontName&&e.fontSize===r.fontSize&&e.fontWeight===r.fontWeight:!("children"in e)||!("children"in r)||e.children.length===r.children.length})).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=s(function*(e){var r;if(!("children"in e)||e.children.length<=1)return!1;let n=e.children[0];return!!e.children.every((r=s(function*(e){return yield function(e,r){return d.apply(this,arguments)}(e,n)}),function(e){return r.apply(this,arguments)}))&&("INSTANCE"===n.type||e.children.every(c))})).apply(this,arguments)}function p(e){return"layoutPositioning"in e&&"AUTO"===e.layoutPositioning}function h(e,r){return m.apply(this,arguments)}function m(){return(m=s(function*(e,r){if("TEXT"!==e.type)return!0;try{e.fontName!==r.mixed?yield r.loadFontAsync(e.fontName):yield Promise.all(e.getRangeAllFontNames(0,e.characters.length).map(r.loadFontAsync))}catch(r){return console.error("Error loading font: ",e.fontName,r),!1}return!e.hasMissingFont||(console.error("Missing font on node: ",e.name,e.id,", fontName: ",e.fontName),!1)})).apply(this,arguments)}function g(e){return"layoutMode"in e&&"NONE"!==e.layoutMode||!!e.parent&&"TEXT"===e.type&&"layoutMode"in e.parent&&"NONE"!==e.parent.layoutMode}function f(e){"children"in e&&"layoutSizingHorizontal"in e&&g(e)&&(e.children.forEach(e=>{p(e)&&"layoutSizingHorizontal"in e&&"FILL"===e.layoutSizingHorizontal&&(e.layoutSizingHorizontal="FIXED")}),e.layoutSizingHorizontal="HUG")}function _(e,r,n,i){return y.apply(this,arguments)}function y(){return(y=s(function*(e,r,n,i){if("layoutSizingHorizontal"in e&&e.parent&&"layoutMode"in e.parent&&"NONE"!==e.parent.layoutMode)(yield h(e,i))&&(n&&g(e)?f(e):n||r?e.layoutSizingHorizontal="FIXED":"parent"in e&&!!e.parent&&"layoutSizingHorizontal"in e&&"layoutMode"in e.parent&&"NONE"!==e.parent.layoutMode&&("HUG"===e.parent.layoutSizingHorizontal&&(e.parent.layoutSizingHorizontal="FIXED"),e.layoutSizingHorizontal="FILL"))})).apply(this,arguments)}function E(e,r,n){return b.apply(this,arguments)}function b(){return(b=s(function*(e,r,n){"layoutSizingHorizontal"in e&&g(e)&&!r&&(yield h(e,n))&&f(e)})).apply(this,arguments)}function v(e,r,n,i,a){return S.apply(this,arguments)}function S(){return(S=s(function*(e,r,n,a,o){var d,u,m,g,f,y,b;if("TEXT"===e.type){if(yield h(e,a)){let r="WIDTH_AND_HEIGHT"===e.textAutoResize;if(!r){let n=null;try{(n=e.clone()).textAutoResize="WIDTH_AND_HEIGHT",Math.abs(n.width-e.width)<i.EPSILON?r=!0:(n.width,e.width,i.EPSILON)}catch(r){console.error("Can't clone text node: ",e.name,e.id,r)}finally{n&&n.remove()}}if(!r)try{e.maxWidth=1100}catch(r){console.error("Can't set maxWidth on node: ",e.name,e.id,r)}}return}if(!("children"in e)||0===e.children.length||!("layoutMode"in e)||!e.layoutMode||o.indexOf(e.id)>-1)return;"HORIZONTAL"===e.layoutMode&&(3===e.children.length||2===e.children.length)&&e.itemSpacing>5&&e.itemSpacing>Math.min(.1*e.width,89)&&(e.primaryAxisAlignItems="SPACE_BETWEEN");let S="SPACE_BETWEEN"===e.primaryAxisAlignItems;if(function(e){if(!("children"in e)||0===e.children.length)return!1;let r=(e,r)=>10>Math.abs(e-r),n=e.children.filter(p);if(0===n.length)return!1;let i=n[0].width;return n.every(e=>r(e.width,i))}(e))e.children.forEach((d=s(function*(e){p(e)&&(yield _(e,r.includes(e.id),n.includes(e.id),a))}),function(e){return d.apply(this,arguments)}));else if(S){e.children.forEach((u=s(function*(e){l(e)&&(yield E(e,r.includes(e.id),a))}),function(e){return u.apply(this,arguments)}));let o=e.children.filter(e=>"TEXT"===e.type),d=Math.max(...o.map(e=>e.width));o.filter(e=>(0,i.isEqual)(e.width,d)).forEach((m=s(function*(e){yield _(e,r.includes(e.id),n.includes(e.id),a)}),function(e){return m.apply(this,arguments)}))}else{let i=[],o=[];e.children.forEach((g=s(function*(e){if(r.includes(e.id)){o.push(e);return}if(n.includes(e.id))i.push(e);else{var a;p(e)&&"layoutMode"in(a=e)&&"HORIZONTAL"===a.layoutMode&&"layoutWrap"in a&&"NO_WRAP"===a.layoutWrap&&(yield c(e))?i.push(e):p(e)&&o.push(e)}}),function(e){return g.apply(this,arguments)})),i.forEach((f=s(function*(e){yield E(e,r.includes(e.id),a)}),function(e){return f.apply(this,arguments)}));let l=Math.max(...o.map(e=>e.width));o.filter(e=>e.width===l).forEach((y=s(function*(e){yield _(e,r.includes(e.id),n.includes(e.id),a)}),function(e){return y.apply(this,arguments)}))}e.children.filter(p).forEach((b=s(function*(e){return yield v(e,r,n,a,o)}),function(e){return b.apply(this,arguments)}))})).apply(this,arguments)}function I(e,r,n){return T.apply(this,arguments)}function T(){return(T=s(function*(e,r,n){let o=new Set,s=new Set;!function e(r,n,a){if("RECTANGLE"===r.type&&Array.isArray(r.fills)&&r.fills.length>0&&r.fills.filter(e=>e.visible).length>0||"ELLIPSE"===r.type||"BOOLEAN_OPERATION"===r.type||(!("VECTOR"===r.type&&(0,i.isEqual)(r.height,0))||!(r.width>=30))&&"VECTOR"===r.type||"MEDIA"===r.type||"POLYGON"===r.type||"SHAPE_WITH_TEXT"===r.type||"SLICE"===r.type||"STAMP"===r.type||"WIDGET"===r.type||"STICKY"===r.type)return n.add(r.id),!0;if(!("children"in r)||0===r.children.length)return!1;let o=!0;return r.children.forEach(r=>{let i=e(r,n,a);o=o&&i}),!!o&&(l(r)?a.add(r.id):n.add(r.id),!0)}(e,o,s),yield v(e,[...o],[...s],r,n),function e(r,n){if("TEXT"===r.type&&r.parent&&"layoutMode"in r.parent&&"NONE"!==r.parent.layoutMode){("FIXED"===r.layoutSizingHorizontal||"FILL"===r.layoutSizingHorizontal)&&(r.layoutSizingVertical="HUG");return}!("layoutMode"in r)||!r.layoutMode||n.indexOf(r.id)>-1||(function(e){if(!("layoutMode"in e)||"NONE"===e.layoutMode)return!1;let r=(0,a.getNodesExtent)([e]),n=(0,a.getNodesExtent)("children"in e?e.children:[]);return(0,i.isEqual)(r.bottom-r.top-n.bottom,n.top)||(0,i.isEqual)(r.bottom-r.top-n.bottom,e.paddingBottom)}(r)&&(r.layoutSizingVertical="HUG"),r.children.forEach(r=>e(r,n)))}(e,n)})).apply(this,arguments)}},10945:(e,r,n)=>{"use strict";!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{EPSILON:function(){return l},createEdgesByVertexId:function(){return f},createVertices:function(){return g},getOtherVertexFromEdge:function(){return u},getRayFromEdgeAndVertex:function(){return p},isEqual:function(){return d},segmentNodes:function(){return v}});let i=n(70560),a=n(95953),o=n(56261),s={gzipPivotRule:!1},l=2.001;function d(e,r){return Math.abs(e-r)<l}function c(e){return e.join(",")}function u(e,r){if(e.from.id!==r.id&&e.to.id!==r.id)throw Error("vertex is not in edge!");return e.from.id===r.id?e.to:e.from}function p(e,r){return e.from.id===r.id?1:-1}function h(e,r){let n=0;return 0!=(n=-(0,o.compareFunc)(e.width*e.height,r.width*r.height))||0!==(n=(0,o.compareFunc)(e.x,r.x))||0!==(n=(0,o.compareFunc)(e.y,r.y))?n:e.id.localeCompare(r.id)}function m(e,r){let n=0;return 0!==(n=(0,o.compareFunc)(e.spacing,r.spacing,l))||0!==(n=(0,o.compareFunc)(r.hitCount,e.hitCount))?n:n=(0,o.compareFunc)(e.axis,r.axis)}function g(e){return e.map(e=>{let r=e.relativeTransform,n=i.AffineTransform.fromFigmaTransform(r),a="rotation"in e?e.rotation:0,o=d(Math.abs(a),90)||d(Math.abs(a),270),s=n.transformPoint([0,0]),l=n.transformPoint([e.width,e.height]);return{type:"NODE",id:e.id,x:o?Math.min(s[1],l[1]):Math.min(s[0],l[0]),y:o?Math.min(s[0],l[0]):Math.min(s[1],l[1]),width:o?e.height:e.width,height:o?e.width:e.height,node:e,signature:function e(r){return"FRAME"===r.type||"GROUP"===r.type||"INSTANCE"===r.type?0===r.children.length?"FRAME":c(r.children.map(r=>e(r))):"TEXT"===r.type?["number"==typeof r.fontSize?r.fontSize:"mixed","object"==typeof r.fontName&&"family"in r.fontName?r.fontName.family:"mixed"].join(","):r.type}(e)}})}function f(e){let r=new Map,n=new Map;function i(e,i,a){var s,l;if(!i)return;let d=(s=e.id)>(l=i.id)?`${l}-${s}`:`${s}-${l}`;if(r.has(d)){let e=r.get(d);e.hitCount++;return}let c=(0,o.component)(e,a)<(0,o.component)(i,a)?e:i,u=(0,o.component)(e,a)<(0,o.component)(i,a)?i:e,p={id:d,spacing:(0,o.spacingFromNodePairInAxis)(e,i,a),axis:a,hitCount:1,from:c,to:u};r.set(d,p),n.has(e.id)||n.set(e.id,[]),n.has(i.id)||n.set(i.id,[]),n.get(e.id).push(p),n.get(i.id).push(p)}let a=[...e].sort((e,r)=>{let n=(0,o.compareFunc)(e.x,r.x);return 0!==n?n:(0,o.compareFunc)(e.y,r.y)}),s=[...e].sort((e,r)=>{let n=(0,o.compareFunc)(e.y,r.y);return 0!==n?n:(0,o.compareFunc)(e.x,r.x)});function l(e,r,n){let i=e+n;for(;i>=0&&i<a.length;){let o=a[i];if(!d(o.x,a[e].x)&&o.y<=r&&o.y+o.height>=r&&!(o.y+o.height===r&&o.x>=a[e].x&&o.x+o.width<=a[e].x+a[e].width)&&!(o.y===r&&o.x<=a[e].x&&o.x+o.width>=a[e].x+a[e].width))return o;i+=n}}function c(e,r,n){let i=e+n;for(;i>=0&&i<s.length;){let a=s[i];if(!d(a.y,s[e].y)&&a.x<=r&&a.x+a.width>=r&&!(a.x+a.width===r&&a.y>=s[e].y&&a.y+a.height<=s[e].y+s[e].height)&&!(a.x===r&&a.y<=s[e].y&&a.y+a.height>=s[e].y+s[e].height))return a;i+=n}}for(let e=0;e<a.length;e++){let r=a[e];{let n=l(e,r.y,-1);i(r,n,"X")}{let n=l(e,r.y+r.height,-1);i(r,n,"X")}{let n=l(e,r.y,1);i(r,n,"X")}{let n=l(e,r.y+r.height,1);i(r,n,"X")}}for(let e=0;e<s.length;e++){let r=s[e];{let n=c(e,r.x,-1);i(r,n,"Y")}{let n=c(e,r.x,1);i(r,n,"Y")}{let n=c(e,r.x+r.width,-1);i(r,n,"Y")}{let n=c(e,r.x+r.width,1);i(r,n,"Y")}}return n}let _={};function y(e,r){let n=`${e.signature}-${r.signature}`;if(void 0!==_[n])return _[n];let i=(0,a.gzipDistanceFunc)(e.signature,r.signature);return _[n]=i,i}function E(e,r,n,i,a,l){let c=(0,o.getSecondaryAxis)(n),h=l.get(e.id).filter(e=>e.to.id!==r.id&&e.axis===c),m=l.get(r.id).filter(r=>r.from.id!==e.id&&r.axis===c);for(let l of h){let c=u(l,e);for(let h of m){let m=u(h,r);if(c.id===m.id)continue;if(i.indexOf(c)>a||i.indexOf(m)>a)return!0;let g=p(l,e),f=p(h,r),_=d(l.spacing,h.spacing),E=d((0,o.distanceFromCenters)(e,c),(0,o.distanceFromCenters)(r,m)),b=!1;if(s.gzipPivotRule){let n=y(c,m);b=n<y(e,c)&&n<y(r,m)}else b=c.signature===m.signature;let v=g===f;if((_||E)&&b&&v&&(e.signature!==r.signature||c.signature!==e.signature||"X"===n))return!0}}return!1}function b(e,r,n,i,a,s){let l=e.filter(e=>{let{from:l,to:d,axis:c}=e;return!(-1===n.indexOf(l)||-1===n.indexOf(d)||function(e,r,n){let i=(0,o.getNodesExtent)([e,r]);for(let a of n){if(a.id===e.id||a.id===r.id)continue;let n=(0,o.getNodesExtent)([a]);if((0,o.extentsOverlap)(i,n))return!0}return!1}(l,d,r)||s&&E(l,d,c,r,i,a))});if(l.length)return l[0]}function v(e,r,n){let i={maxHitCount:4,enablePivotRule:!0};r||(r=e);{let i=new Map,a=(null==n?void 0:n.height)||1/0,s=(null==n?void 0:n.width)||1/0,l=.1*s,u=.1*a,p=e.filter(e=>e.height>.9*a&&e.width>.9*s||e.x<-1*l||e.y<-1*u||e.x+e.width>s+l||e.y+e.height>a+u);if(p.length>0){let r=function(e){let r=(0,o.getNodesExtent)(e);return{type:"FRAME",id:"absolute"+e.map(e=>e.id).join("-"),x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top,absolutePositionedChildren:e,children:[],signature:"absolute"+c(e.map(e=>e.signature))}}(p);e.push(r),i.set(r.id,!0)}for(let e of p)i.set(e.id,!0);e=e.filter(e=>!i.has(e.id)),r=r.filter(e=>!i.has(e.id)),e.sort(h);let m=function(e){let r=[],n=new Set;for(let i of e)if(!n.has(i.id))for(let a of e){if(n.has(a.id)||i.id===a.id)continue;let e=(0,o.getNodesExtent)([i]),s=(0,o.getNodesExtent)([a]);if((0,o.extentsOverlap)(e,s)){r.push([i,a]),n.add(i.id),n.add(a.id);break}}return r}(e),g=[];for(;m.length>0&&m[0];){let r=m.pop();if(r&&!i.get(r[0].id)&&!i.get(r[1].id)){!function(e,r,n,i,a){let{vertex:s,oldGroupId:l}=function(e){let r=(0,o.getNodesExtent)(e),n=e.find(e=>"GROUP"===e.type);if(!n)return{vertex:{absolutePositionedChildren:[],type:"GROUP",id:e.map(e=>e.id).join("-"),x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top,children:e,signature:c(e.map(e=>e.signature))},oldGroupId:void 0};{let r=n.children,i=(0,o.getNodesExtent)([...r,...e]),a=[...r,...e.filter(e=>e.id!==n.id)];return{vertex:{absolutePositionedChildren:[],type:"GROUP",id:a.map(e=>e.id).join("-"),x:i.left,y:i.top,width:i.right-i.left,height:i.bottom-i.top,children:a,signature:c(e.map(e=>e.signature))},oldGroupId:n.id}}}([e,r]);n.push(s),a.push(s);let d=n.find(e=>e.id===l),u=[e,r,...d?[d]:[]],p=(0,o.getNodesExtent)([s]),h=[];for(let a of(n.forEach(n=>{n.id!==s.id&&!i.has(n.id)&&n.id!==l&&n.id!==r.id&&n.id!==e.id&&function(e){let r=e=>"NODE"===e.type||"GROUP"===e.type&&e.children.every(r);return e.every(r)}([n])&&(0,o.extentsOverlap)((0,o.getNodesExtent)([n]),p)&&(u.push(n),h.push(n),p=(0,o.getNodesExtent)([s,...h,n]))}),s.children.push(...h),s.id=s.children.map(e=>e.id).join("-"),s.x=p.left,s.y=p.top,s.width=p.right-p.left,s.height=p.bottom-p.top,s.signature=c(s.children.map(e=>e.signature)),u))i.set(a.id,!0)}(r[0],r[1],e,i,g);let n=[];for(let r of g)if(!(r.width<=300)||!(r.height<=300)){for(let e of"children"in r?null==r?void 0:r.children:[])d(e.x,r.x)&&d(e.y,r.y)&&d(e.width,r.width)&&d(e.height,r.height)&&n.push(e);if(n.length>0){let a=function(e,r){let n=[],i=new Set(r.map(e=>e.id));for(let r of e.children)i.has(r.id)||n.push(r);return{id:n.map(e=>e.id).join("-")+"absolute"+r.map(e=>e.id).join("-"),type:"FRAME",x:e.x,y:e.y,width:e.width,height:e.height,absolutePositionedChildren:r,children:n,signature:c(n.map(e=>e.signature))+"absolute"+c(r.map(e=>e.signature))}}(r,n);i.set(r.id,!0),e.push(a)}}e.sort(h)}}e=e.filter(e=>!i.has(e.id)),r=r.filter(e=>!i.has(e.id)).concat(g)}for(;r.length>1&&i.maxHitCount>0;){let n=!0;for(;n;){let{vertices:a,verticesSubset:s}=function(e,r,n,i){(e=[...e]).sort(h);let a=f(e),s=new Map,g=e.length;for(let h=0;h<g;h++){let f=e[h];if(-1===r.indexOf(f)||s.has(f.id)||!a.has(f.id))continue;let _=b(a.get(f.id).sort(m),e,r,g,a,i);if(!_||_.hitCount<n)continue;let y=u(_,f);if(e.indexOf(y)>g)continue;let v=p(_,f),S=[f,y],I=[_],T=S[1],w=!1;for(;T&&!w&&a.has(T.id);){let o=a.get(T.id).filter(r=>{if(r.axis!==_.axis||r.hitCount<n)return!1;let i=u(r,T);return!(S.indexOf(i)>-1||e.indexOf(i)>g)&&v===p(r,T)&&(!d(r.spacing,_.spacing)&&r.spacing<_.spacing+l&&r.hitCount>=I[I.length-1].hitCount?(w=!0,!1):!!d(r.spacing,_.spacing))}).sort(m);if(w)break;let s=b(o,e,r,g,a,i);if(!s)break;let c=u(s,T);if(i&&E(f,c,s.axis,e,g,a))break;S.push(c),I.push(s),T=c}if(w)continue;let C=[...S].sort((e,r)=>"X"===_.axis?(0,o.compareFunc)(e.x,r.x):(0,o.compareFunc)(e.y,r.y)),A=function(e,r){let n=(0,o.spacingAvgFromChildren)(r,e),i=(0,o.getNodesExtent)(r);return{type:"LIST",id:r.map(e=>e.id).join("-"),x:i.left,y:i.top,axis:e,spacing:n,width:i.right-i.left,height:i.bottom-i.top,children:r,signature:c(r.map(e=>e.signature))}}(_.axis,C);for(let r of(e.push(A),S)){s.set(r.id,!0);let e=a.get(r.id);if(e)for(let n of e){let e=u(n,r),i=a.get(e.id);i&&i.splice(i.indexOf(n),1)}}}let _=e.slice(g);return{vertices:e.filter(e=>!s.has(e.id)),verticesSubset:r.filter(e=>!s.has(e.id)).concat(_)}}(e,r,i.maxHitCount,i.enablePivotRule);if(n=e.length!==a.length,e=a,r=s,0===e.length)throw Error("graph is empty!");if(1===e.length)break}i=function(e){let r=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(r){var i;i=n[r],r in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i})}return e}({},e);return r.maxHitCount--,0===r.maxHitCount&&r.enablePivotRule&&(r.maxHitCount=4,r.enablePivotRule=!1),r}(i)}return e}},92856:(e,r,n)=>{"use strict";!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{destroyStructure:function(){return _},makeResponsiveV2:function(){return g},makeTestSuiteOnPage:function(){return A},runMSAL:function(){return p},runMSALOnSelection:function(){return h},runMSALWithouRecursion:function(){return m},runMakeResponsiveV2WithGUID:function(){return f},runTestSuite:function(){return y},runTestSuiteCorrectChildren:function(){return w},runTestSuiteCorrectChildrenNoResponsive:function(){return C},runTestSuiteNoMax:function(){return T},runTestSuiteNoRecursive:function(){return S},runTestSuiteNoResponsive:function(){return b},shouldRunSimpleStackDetection:function(){return u}});let i=n(18350),a=n(5825),o=n(56261),s=n(92660),l=n(79905);function d(e,r,n,i,a,o,s){try{var l=e[o](s),d=l.value}catch(e){n(e);return}l.done?r(d):Promise.resolve(d).then(i,a)}function c(e){return function(){var r=this,n=arguments;return new Promise(function(i,a){var o=e.apply(r,n);function s(e){d(o,i,a,s,l,"next",e)}function l(e){d(o,i,a,s,l,"throw",e)}s(void 0)})}}function u(e){let r=1===e.currentPage.selection.length&&"children"in e.currentPage.selection[0]?e.currentPage.selection[0].children:e.currentPage.selection;return!!(e.currentPage.selection.find(e=>"COMPONENT_SET"===e.type||"COMPONENT"===e.type)||r.find(e=>"COMPONENT_SET"===e.type||"COMPONENT"===e.type))||(r.length<=1?((0,a.log)("shouldRunSimpleStackDetection","Single node in selection, returning true",1),!0):!function(e){let r=1===e.currentPage.selection.length&&"children"in e.currentPage.selection[0]?e.currentPage.selection[0].children:e.currentPage.selection;if(r.length<2)return!1;let n=-Number.MAX_VALUE,i=-Number.MAX_VALUE,s=Number.MAX_VALUE,d=Number.MAX_VALUE;r.forEach(e=>{n=Math.max(e.x,n),s=Math.min(e.x+e.width,s),i=Math.max(e.y,i),d=Math.min(e.y+e.height,d)});let c=s-n;if(d-i<0&&c<0)return!1;let u=!1,p=r.map(e=>{let r=Math.min(e.y+e.height,d)-i;return r<=e.height&&(u=!0),r/e.height>l.AAL_SETTINGS.TIDY_UP_OVERLAP_THRESHOLD}),h=r.map(e=>{let r=Math.min(e.x+e.width,s)-n;return r<=e.width&&(u=!0),r/e.width>l.AAL_SETTINGS.TIDY_UP_OVERLAP_THRESHOLD});if(p.every(Boolean)&&h.every(Boolean))return(0,a.log)("shouldTidySelectionSingleDimension:","All nodes overlap in both dimensions. Ret true",3),!0;let m=(0,o.getNodesExtent)(r);if(p.every(Boolean)){let e=m.right-m.left;for(let n of r)e-=n.width;let n=e/(r.length-1);for(let e=0;e<r.length-1;e++)if(Math.abs(r[e+1].x-(r[e].x+r[e].width)-n)/n>l.AAL_SETTINGS.TIDY_UP_SPACING_EQUALITY_THRESHOLD)return(0,a.log)("shouldTidySelectionSingleDimension:",`width spacing check failed between node ordered ${e} - ${e+1}`,3),!1;return(0,a.log)("shouldTidySelectionSingleDimension:","width spacing check passed",3),!0}if(h.every(Boolean)){let e=m.bottom-m.top;for(let n of r)e-=n.height;let n=e/(r.length-1);for(let e=0;e<r.length-1;e++)if(Math.abs(r[e+1].y-(r[e].y+r[e].height)-n)/n>l.AAL_SETTINGS.TIDY_UP_SPACING_EQUALITY_THRESHOLD)return(0,a.log)("shouldTidySelectionSingleDimension:",`height spacing check failed between node ordered ${e} - ${e+1}`,3),!1;return(0,a.log)("shouldTidySelectionSingleDimension:","height spacing check passed",3),!0}return u}(e)?((0,a.log)("shouldRunSimpleStackDetection","exiting with return false",1),!1):((0,a.log)("shouldRunSimpleStackDetection","shouldTidySelectionSingleDimension() returned true",1),!0))}function p(e,r,n){var s;if(0===e.length){console.error("No nodes to segment.");return}let l=null===(s=e[0])||void 0===s?void 0:s.id,d=(0,o.getNodesExtent)(e),c=new Set,u=e=>{c.add(e.id)};(null==r?void 0:r.recurseOnlySingleLayer)&&(e.length>1?e.forEach(e=>{u(e)}):"children"in e[0]&&e[0].children.forEach(e=>{u(e)}));let p=(0,a.createStackFromSceneNodes)(e,n||figma,r);return(null==r?void 0:r.skipResponsive)||(0,i.setStackResponsiveV2)(p,n||figma,[...c]),(n||figma).currentPage.selection=[p],l&&p.id!==l&&(p.x=d.left,p.y=d.top),p}function h(e,r){p((e||figma).currentPage.selection,r,e)}function m(e){let r=e||figma;p(r.currentPage.selection,{recurseOnlySingleLayer:!0},r)}function g(e){let r=e||figma,n=r.currentPage.selection[0];(0,a.destroyResponsiveSettingsRecursively)(n),(0,i.setStackResponsiveV2)(n,r,[])}function f(e,r){let n=r||figma,a=n.getNodeById(e);a&&(0,i.setStackResponsiveV2)(a,n,[])}function _(e){let r=(e||figma).currentPage.selection;(0,a.destroyStructureFromSelection)(r,e)}function y(e){return E.apply(this,arguments)}function E(){return(E=c(function*(e){return yield(0,s.runTestSuite)({},e)})).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=c(function*(e){return yield(0,s.runTestSuite)({skipResponsive:!0},e)})).apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return(I=c(function*(e){return yield(0,s.runTestSuite)({noRecursive:!0},e)})).apply(this,arguments)}function T(){(0,s.runTestSuiteWithoutMax)()}function w(){(0,s.runTestSuiteAssumeChildrenCorrect)()}function C(){(0,s.runTestSuiteAssumeChildrenCorrectNoResponsive)()}function A(){let e=figma.currentPage.children.filter(e=>"FRAME"===e.type&&e.height>30&&e.width>50),r=figma.createPage();r.name=`${Date.now()} test suite`,figma.currentPage=r;let n=1,i=-12e4,a=0,o=0;e.forEach(e=>{let r=figma.createSection();r.name="Test case "+n+": "+e.name,r.appendChild(e.clone()),r.children[0].x=100,r.children[0].y=100,r.resizeWithoutConstraints(5*e.width,e.height+200),r.x=o,r.y=i,a<r.width&&(a=r.width),i+=r.height+300,n++,i>13e4&&(i=-12e4,o+=a+100,a=0)})}},5825:(e,r,n)=>{"use strict";!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{createStackFromSceneNodes:function(){return function e(r,n,l,d,u=!1){var g;let f=r.filter(e=>!(!e||e.parent&&r.indexOf(e.parent)>-1)&&"CONNECTOR"!==e.type&&(!("visible"in e)||!!e.visible));if(0===f.length)throw Error("no nodes to stack!");let _=f[0].parent,y=_.children.map(e=>e.id).indexOf(f[0].id),S=(0,a.createVertices)(f),I=(0,o.getNodesExtent)(S),T=1===f.length?f[0].width:I.right-I.left,w=1===f.length?f[0].height:I.bottom-I.top;switch(d&&(T=d.width,w=d.height),i.AAL_SETTINGS.PRE_SEGMENTATION_STRATEGY){case"blobify":{let e=!0,r=12;for(;e&&S.length>1;){let n=(0,s.blobify)(S,r),i=S.length;for(let e of n)for(let n of(0,s.rowify)(e,r))S=(0,a.segmentNodes)(S,n,d);(e=S.length!==i)||!(r<80)||(r+=8,e=!0)}break}case"rowify":for(let e of(0,s.rowify)(S))S=(0,a.segmentNodes)(S,e,d)}if(S.length>1&&(S=(0,a.segmentNodes)(S,S,d)),1!==S.length)throw console.error("graph could not resolve: "+S.length+" vertices",S.forEach((e,r)=>console.log(r+": "+E(e,0)+"\n\n"))),Error("graph could not resolve");let C=function e(r){var n,i;if("LIST"!==r.type)return r;let o=[];for(let n of r.children){let i=e(n);if("LIST"===i.type&&i.axis===r.axis&&(0,a.isEqual)(i.spacing,r.spacing)){o.push(...i.children);continue}o.push(i)}return n=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(r){var i;i=n[r],r in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i})}return e}({},r),i=i={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n}(S[0]),A=p(C,null,n);("FRAME"===C.type||"GROUP"===C.type)&&("NONE"===A.layoutMode||!A.layoutMode)&&C.absolutePositionedChildren.length>0&&(A=O(A,C.absolutePositionedChildren),C.absolutePositionedChildren.forEach(e=>{if((0,a.isEqual)(e.width,A.width)&&(0,a.isEqual)(e.height,A.height)&&"NODE"===e.type&&("RECTANGLE"===e.node.type||"ELLIPSE"===e.node.type)){c("createStackFromSceneNodes",`Merging background node (${e.node.id}) into TLF: `,3);let r=e.node,n=b("fills"in r?r.fills:[]),i=b("effects"in r?r.effects:[]),a=b("strokes"in r?r.strokes:[]);A.fills=n,A.effects=i,A.strokes=a,"cornerRadius"in r&&"number"==typeof r.cornerRadius&&(A.cornerRadius=r.cornerRadius),r.remove();return}let r=p(e,C,n),i=r.x,o=r.y;A.insertChild(0,r),r.layoutPositioning="ABSOLUTE",0!==r.rotation?(r.x=i,r.y=o):(r.x=0,r.y=0),r.constraints={horizontal:"MAX",vertical:"MIN"}}));let N=A;function O(r,i=[]){var a;let s="children"in r?r.children:[],d=i.map(e=>e.id);if(0===(s=s.filter(e=>-1===d.indexOf(e.id)&&"CONNECTOR"!==e.type&&e.visible)).length)return"FRAME"===r.type&&h(r),r;if("INSTANCE"===r.type)return r;let c=(0,o.getNodesExtent)(s);if(1===s.length&&"FRAME"!==s[0].type)return h(r,c),r;let u=e(s,n,{noRecurse:null==l?void 0:l.recurseOnlySingleLayer},{width:r.width,height:r.height}),p=r.width,m=r.height;if(!u.layoutMode||"NONE"===u.layoutMode)return h(r,c),r;if("INSTANCE"===u.type)return r;if(u.id===(null===(a=s[0])||void 0===a?void 0:a.id))return h(r,c),r;r.layoutMode=u.layoutMode,r.primaryAxisAlignItems=u.primaryAxisAlignItems,r.counterAxisAlignItems=u.counterAxisAlignItems,r.setSharedPluginData("AAL","was_auto_auto_layouted_but_existing","true"),c.left>=0?r.paddingLeft=c.left:console.error("paddingLeftCandidate is negative",c.left);let g=p-c.right;return g>=0?r.paddingRight=p-c.right:console.error("paddingRightCandidate is negative",g),c.top>=0?r.paddingTop=c.top:console.error("paddingTopCandidate is negative",c.top),m-c.bottom>=0?r.paddingBottom=m-c.bottom:console.error("paddingBottomCandidate is negative",c.top),r.resize(p,m),r.children.forEach(e=>{if("layoutPositioning"in e){let r=e.x,n=e.y;e.layoutPositioning="ABSOLUTE",e.x=r,e.y=n}}),r.layoutSizingVertical="HUG",r.layoutSizingHorizontal=u.layoutSizingHorizontal,r.layoutWrap=u.layoutWrap,r.itemSpacing=u.itemSpacing,"number"==typeof r.cornerRadius&&0===r.cornerRadius&&(r.cornerRadius=u.cornerRadius),v(u,r,"fills"),v(u,r,"effects"),v(u,r,"strokes"),u.children.forEach(e=>{r.appendChild(e)}),u.remove(),r}if(null==_||_.insertChild(y,A),"NODE"===C.type&&m(C.node)&&!(null==l?void 0:l.noRecurse))return O(C.node);if("LIST"===C.type){let e=r=>{"NODE"===r.type&&m(r.node)?O(r.node):"children"in r&&r.children.forEach(e)};(null==l?void 0:l.noRecurse)||C.children.forEach(e),((null===(g=N.parent)||void 0===g?void 0:g.type)==="PAGE"||u)&&(N.x=I.left,N.y=I.top),(0,a.isEqual)(T,N.width)||N.resize(T,N.height),(0,a.isEqual)(w,N.height)||N.resize(N.width,w)}return N}},destroyResponsiveSettingsRecursively:function(){return function e(r){"layoutSizingHorizontal"in r&&(r.layoutSizingHorizontal="FIXED",r.layoutSizingVertical="FIXED"),"children"in r&&r.children.forEach(r=>{e(r)})}},destroyStructureFromSelection:function(){return _},log:function(){return c},prettyPrintVertex:function(){return E}});let i=n(79905),a=n(10945),o=n(56261),s=n(80843);function l(e,r,n,i,a,o,s){try{var l=e[o](s),d=l.value}catch(e){n(e);return}l.done?r(d):Promise.resolve(d).then(i,a)}function d(e){return function(){var r=this,n=arguments;return new Promise(function(i,a){var o=e.apply(r,n);function s(e){l(o,i,a,s,d,"next",e)}function d(e){l(o,i,a,s,d,"throw",e)}s(void 0)})}}function c(e,r,n=0){let a=0===i.AAL_SETTINGS.LOG_FILTERS.length||i.AAL_SETTINGS.LOG_FILTERS.includes(e);n>=i.AAL_SETTINGS.LOG_LEVEL&&a&&console.log(`${n} ${e}: ${r}`)}let u={};function p(e,r,n){if("LIST"!==e.type&&"GROUP"!==e.type&&"FRAME"!==e.type)return e.node;if("FRAME"===e.type||"GROUP"===e.type){let r=n.createFrame();return r.fills=[],r.x=e.x,r.y=e.y,r.resize(e.width,e.height),e.children.map(r=>p(r,e,n)).forEach(n=>{r.appendChild(n),n.x=n.x-e.x,n.y=n.y-e.y}),u[e.id]=r,r}for(let r of e.children)p(r,e,n);let i=(0,o.detectAlignment)(e.children,(0,o.getNodesExtent)([e]),e.axis),a="MIN";a=(0,o.asAutoLayoutAlignment)(i);let s=n.createFrame();return s.name="Frame",s.layoutMode="X"===e.axis?"HORIZONTAL":"VERTICAL",s.setSharedPluginData("AAL","was_auto_auto_layouted","true"),s.itemSpacing=isNaN(e.spacing)?0:e.spacing,s.resize(e.width,e.height),s.layoutSizingHorizontal="FIXED",s.layoutSizingVertical="FIXED",s.fills=[],s.clipsContent=!1,e.children.forEach(e=>{if("LIST"===e.type)s.appendChild(u[e.id]);else if("GROUP"===e.type)s.appendChild(u[e.id]);else if("FRAME"===e.type)s.appendChild(u[e.id]);else{s.appendChild(e.node);let r=e.node;"layoutSizingVertical"in r&&("FILL"===r.layoutSizingVertical||"FILL"===r.layoutSizingHorizontal)&&(r.height!==e.height||r.width!==e.width)&&r.resize(e.width,e.height)}}),s.primaryAxisAlignItems="MIN",a&&(s.counterAxisAlignItems=a),"HORIZONTAL"===s.layoutMode&&(2===s.children.length&&(s.itemSpacing>.2*s.width||s.itemSpacing>.1*s.width&&s.children[0].width>.7*s.width)&&(s.primaryAxisAlignItems="SPACE_BETWEEN"),3===s.children.length&&(s.itemSpacing>.15*s.width||s.itemSpacing>.05*s.width&&s.children[1].width>.5*s.width)&&(s.primaryAxisAlignItems="SPACE_BETWEEN")),u[e.id]=s,s}function h(e,r){let n=e.width,i=e.height;if(e.layoutMode="VERTICAL",e.layoutSizingHorizontal="FIXED",e.layoutSizingVertical="FIXED",e.resize(n,i),r){let n=e.width,i=e.height;r.left>=0?e.paddingLeft=r.left:console.error("paddingLeftCandidate is negative",r.left);let a=n-r.right;a>=0?e.paddingRight=n-r.right:console.error("paddingRightCandidate is negative",a),r.top>=0?e.paddingTop=r.top:console.error("paddingTopCandidate is negative",r.top),i-r.bottom>=0?e.paddingBottom=i-r.bottom:console.error("paddingBottomCandidate is negative",r.top)}}function m(e){return"FRAME"===e.type&&("NONE"===e.layoutMode||void 0===e.layoutMode)}function g(e,r){return f.apply(this,arguments)}function f(){return(f=d(function*(e,r){"constraints"in e&&(e.constraints={horizontal:"MIN",vertical:"MIN"});let n=r||figma;if("TEXT"===e.type){try{if(e.fontName!==n.mixed?yield n.loadFontAsync(e.fontName):yield Promise.all(e.getRangeAllFontNames(0,e.characters.length).map(n.loadFontAsync)),e.hasMissingFont)throw Error(`missing font on node ${e.name}`);let r=e.clone();r.textAutoResize="WIDTH_AND_HEIGHT",r.width<=e.width&&(e.textAutoResize="WIDTH_AND_HEIGHT"),r.remove()}catch(e){console.error("error loading font or changing text node",e)}return}if(!("children"in e)||0===e.children.length||e.children.every(e=>"VECTOR"===e.type||"BOOLEAN_OPERATION"===e.type)||"COMPONENT"===e.type||"COMPONENT_SET"===e.type)return;let i=e;if("INSTANCE"===i.type&&(i=i.detachInstance()),"FRAME"===i.type||"GROUP"===i.type){var a;let e=[],o="GROUP"===i.type||i.fills!==n.mixed&&0===i.fills.length&&0===i.strokes.length&&0===i.effects.length;"GROUP"===i.type?e=n.ungroup(i):"FRAME"===i.type&&o?e=n.ungroup(i):("FRAME"===i.type&&(i.layoutMode="NONE"),e=[...i.children]),e.forEach((a=d(function*(e){return yield g(e,r)}),function(e){return a.apply(this,arguments)}))}})).apply(this,arguments)}function _(e,r){return y.apply(this,arguments)}function y(){return(y=d(function*(e,r){var n;let i=r||figma;yield e.forEach((n=d(function*(e){("FRAME"===e.type||"GROUP"===e.type||"INSTANCE"===e.type)&&("GROUP"!==e.type&&i.mixed!=e.fills&&0===e.fills.length&&(console.log("setting fills to white",e.name),e.fills=[i.util.solidPaint("#FFFFFF")]),yield g(e,r))}),function(e){return n.apply(this,arguments)}))})).apply(this,arguments)}function E(e,r){return"NODE"===e.type?e.node.name:"LIST"===e.type||"GROUP"===e.type?"\n"+" ".repeat(null!=r?r:0)+e.type+": "+e.children.map(e=>E(e,null!=r?r:2)).join(", "):""}function b(e){return JSON.parse(JSON.stringify(e))}function v(e,r,n){if(Array.isArray(e[n])&&Array.isArray(r[n])){let i=[...b(e[n]),...b(r[n])];r[n]=i}}},56261:(e,r)=>{"use strict";function n(e,r,n){return null!=n&&Math.abs(Number(e)-Number(r))<n?0:e>r?1:e<r?-1:0}function i(e){return"X"===e?"Y":"X"}function a(e){let r=0,n=0;for(let i of e)r=Math.max(r,i.width),n=Math.max(n,i.height);return{width:r,height:n}}function o(e){let r=1/0,n=1/0,i=-1/0,a=-1/0;for(let o of e){let e=!1;"rotation"in o&&(90===o.rotation||270===o.rotation||-90===o.rotation||-270===o.rotation)&&(e=!0),e?(o.y<r&&(r=o.y),o.x<n&&(n=o.x),o.y+o.height>i&&(i=o.y+o.height),o.x+o.width>a&&(a=o.x+o.width)):(o.x<r&&(r=o.x),o.y<n&&(n=o.y),o.x+o.width>i&&(i=o.x+o.width),o.y+o.height>a&&(a=o.y+o.height))}return{left:r,top:n,right:i,bottom:a}}function s(e,r,n=0){return e.left<r.right+n&&e.right>r.left-n&&e.top<r.bottom+n&&e.bottom>r.top-n}function l(e,r){return e["X"===r?"x":"y"]}function d(e,r){return"X"===r?e.width:e.height}function c(e,r,n){return l(r,n)<l(e,n)?c(r,e,n):l(r,n)-l(e,n)-d(e,n)}function u(e,r){let n=[];if(e.length<2)return n;for(let i=0;i+1<e.length;i++)n.push(c(e[i],e[i+1],r));return n}function p(e,r){let n=u(e,r);return n.reduce((e,r)=>e+r,0)/n.length}function h(e,r){let n=Math.min(c(e,r,"X"),0),i=Math.min(c(e,r,"Y"),0);return n>i?"X":n<i?"Y":void 0}function m(e){switch(e){case"left":return"MIN";case"right":return"MAX";default:return"CENTER"}}function g(e,r,n){if(!e.length)return"left";let i={left:0,center:0,right:0,defer:0};for(let a of e){let e=function(e,r,n,i){let a="Y"===n?"left":"top",o="Y"===n?"right":"bottom",s=Math.abs(r[a]-e[a]),l=Math.max(0,r[o]-e[o]);return s<1&&l<1?"defer":s>5*l+5?"right":5*s+5<l?"left":Math.abs(l-s)<=(r[o]-r[a])*.33&&0!==s&&0!==l?"center":s>l?"right":"left"}(o([a]),r,n,0);e&&i[e]++}if("X"===n&&e.every(r=>r.height===e[0].height))return"center";let a=0,s=!1,l="X"===n?"center":"left";for(let e of["left","center","right"]){let r=i[e];r>a?(a=r,l=e,s=!1):r&&r===a&&(s=!0)}return s?i.left>i.right?"left":i.right>i.left?"right":"center":l}function f(e,r){let n=e.x+e.width/2,i=e.y+e.height/2;return Math.sqrt(Math.pow(n-(r.x+r.width/2),2)+Math.pow(i-(r.y+r.height/2),2))}!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{asAutoLayoutAlignment:function(){return m},compareFunc:function(){return n},component:function(){return l},detectAlignment:function(){return g},detectStackPrimaryAxis:function(){return h},distanceFromCenters:function(){return f},extentsOverlap:function(){return s},getMaxSize:function(){return a},getNodesExtent:function(){return o},getSecondaryAxis:function(){return i},sizeComponent:function(){return d},spacingAvgFromChildren:function(){return p},spacingFromNodePairInAxis:function(){return c},spacingsFromChildren:function(){return u}})},80843:(e,r,n)=>{"use strict";!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{blobify:function(){return o},rowify:function(){return s}});let i=n(10945),a=n(56261);function o(e,r){let n=[],a=new Set,o=(0,i.createEdgesByVertexId)(e);for(let s of e){if(a.has(s.id))continue;let e=[];!function n(s){if(!a.has(s.id))for(let l of(e.push(s),a.add(s.id),(o.get(s.id)||[]).filter(e=>e.spacing<=r)))n((0,i.getOtherVertexFromEdge)(l,s))}(s),n.push(e)}return n}function s(e,r=40){let n=[],o=new Set,s=(0,i.createEdgesByVertexId)(e);for(let r of e){if(o.has(r.id))continue;let e=[];!function r(n){if(!o.has(n.id))for(let a of(e.push(n),o.add(n.id),(s.get(n.id)||[]).filter(e=>"X"===e.axis)))r((0,i.getOtherVertexFromEdge)(a,n))}(r),n.push({vertices:e,bbox:(0,a.getNodesExtent)(e)})}n.sort((e,r)=>(0,a.compareFunc)(e.bbox.top,r.bbox.top));let l=[],d=new Set,c=0,u=null;return n.forEach((e,o)=>{if(0===o){d.add(o),l.push(e),u=e.bbox;return}if(d.has(o))return;let{bbox:s}=e;c=0===o?s.top:s.top-u.bottom;let p={vertices:e.vertices,bbox:s};u=s;for(let e=o+1;e<n.length;e++){if(d.has(e))continue;let o=n[e],{bbox:s}=o,l=s.top-u.bottom;if(l>c+i.EPSILON||l>r)break;p.vertices.push(...o.vertices),p.bbox=(0,a.getNodesExtent)(p.vertices),u=p.bbox,d.add(e)}d.add(o),l.push(p)}),l.map(e=>e.vertices)}},92660:(e,r,n)=>{"use strict";!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{TestResultsSection:function(){return c},runTestSuite:function(){return g},runTestSuiteAssumeChildrenCorrect:function(){return b},runTestSuiteAssumeChildrenCorrectNoResponsive:function(){return S},runTestSuiteWithoutMax:function(){return y}});let i=n(91594),a=n(92856),o=n(5825);function s(e,r,n,i,a,o,s){try{var l=e[o](s),d=l.value}catch(e){n(e);return}l.done?r(d):Promise.resolve(d).then(i,a)}function l(e){return function(){var r=this,n=arguments;return new Promise(function(i,a){var o=e.apply(r,n);function l(e){s(o,i,a,l,d,"next",e)}function d(e){s(o,i,a,l,d,"throw",e)}l(void 0)})}}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}class c{getRightmostFrame(){let e=this._resultsSection.children.slice().reverse().find(e=>"FRAME"==e.type);if(null==e)throw Error("No frames found");return e}addNode(e,r){let n=this.getRightmostFrame();e.x=n.x+n.width+100,this._resultsSection.appendChild(e),r&&this.addTitleAboveNode(e,r)}addTitleAboveNode(e,r){let n=this._figmaAPI.createText();n.characters=r,n.fontSize=18,n.x=e.x+e.width/2-n.width/2,n.y=e.y-70,this._resultsSection.appendChild(n)}cloneAndAddNode(e,r){let n=e.clone();return this.addNode(n,r),n}addMetricsText(e){let r=this._figmaAPI.createText();this._resultsSection.appendChild(r),r.x=10,r.y=10,r.characters=`Layer match: ${e.layerMatch}, Position match: ${e.positionMatch}, Size match: ${e.sizeMatch}
Metrics: ${JSON.stringify(e.boxDiffs)}
`,e.layerMatch>m&&e.sizeMatch>m&&e.positionMatch>m?this._resultsSection.fills=[{type:"SOLID",color:{r:0,g:1,b:0}}]:e.sizeMatch>m&&e.positionMatch>m&&(this._resultsSection.fills=[{type:"SOLID",color:{r:0,g:1,b:0},opacity:.2}])}constructor(e,r,n){d(this,"_page",void 0),d(this,"_resultsSection",void 0),d(this,"_figmaAPI",void 0),d(this,"targetTLF",void 0),this._figmaAPI=n||figma,this._page=e,this._resultsSection=r.clone(),this._page.appendChild(this._resultsSection),this._resultsSection.x=r.x,this._resultsSection.y=r.y,this.targetTLF=this._resultsSection.children.filter(e=>"FRAME"===e.type)[0],this.targetTLF.name="Original TLF",this.addTitleAboveNode(this.targetTLF,"Target"),this._resultsSection.appendChild(this.targetTLF)}}class u{constructor(e=0,r=0,n=0,i=0,a=0){d(this,"passedCount",void 0),d(this,"truePositivesCount",void 0),d(this,"trueNegativesCount",void 0),d(this,"falsePositivesCount",void 0),d(this,"falseNegativesCount",void 0),this.passedCount=e,this.truePositivesCount=r,this.trueNegativesCount=n,this.falsePositivesCount=i,this.falseNegativesCount=a}}function p(e,r=0){return function e(r,n,i,a,o=0){return o>a&&0!==a||(i[n.id]={x:n.absoluteTransform[0][2]-r.absoluteTransform[0][2],y:n.absoluteTransform[1][2]-r.absoluteTransform[1][2],width:n.width,height:n.height},"children"in n&&n.children.forEach(n=>e(r,n,i,a,o+1))),i}(e,e,{},r)}function h(e,r){return 10.1>Math.abs(e-r)}let m=.9;function g(e,r){return f.apply(this,arguments)}function f(){return(f=l(function*(e,r){var n;let s=r||figma;console.log("Running test suite with options ",e),yield s.loadFontAsync({family:"Inter",style:"Regular"});let d=s.createPage(),m=s.currentPage;yield s.setCurrentPageAsync(d);let g=m.children.filter(e=>"SECTION"===e.type);d.name=`${Math.min(100,g.length)} tests - ${Date.now()} Results`;let f=0,y=new u,E=new u,b=new u,v=0,S=g.slice(0,100),I=new Map;S.forEach((n=l(function*(r){try{let n=new c(d,r,s),l=n.targetTLF.clone();n.addNode(l,"Input to algorithm (destroyed structure)"),("VERTICAL"===l.layoutMode||"HORIZONTAL"===l.layoutMode)&&((null==e?void 0:e.assumeChildrenCorrect)?(0,o.destroyStructureFromSelection)(l.children,s):(0,o.destroyStructureFromSelection)([l],s));let u=l.clone();s.currentPage.selection=[u];let m=p(u),g=function(e){let r=Object.keys(e).map(r=>{let n={id:r};return Object.keys(e[r]).forEach(i=>{n[i]=e[r][i]}),n}),n=o("x",r),i=o("y",r),a=s("height",r);function o(e,r){let n=r.map(r=>r[e]),i=new Set;return n.forEach(e=>i.add(e)),i.size}function s(e,r){let n=r.map(r=>r[e]);return Math.abs(Math.max(...n)-Math.min(...n))}let l={"x.nunique":n,"y.nunique":i,"height.abs_range":a,"width.abs_range":s("width",r),distinct_xy:n*i};return console.log("Complexity features:",l),l}(m),f=g["height.abs_range"]<=118;if(function(e,r,n,i){let a=i.createFrame();a.x=e.absoluteBoundingBox.x-300,a.y=e.absoluteBoundingBox.y,a.resize(150,150),a.fills=[{type:"SOLID",color:r?{r:0,g:1,b:0}:{r:1,g:0,b:0}}],a.name="Complexity Features";let o=i.createText();o.name="Complexity Features Text",a.appendChild(o),o.characters=JSON.stringify(n,null,2)}(n.targetTLF,f,g,s),null==e?void 0:e.assumeChildrenCorrect)for(let r of u.children)(0,a.runMSAL)([r],{skipResponsive:null==e?void 0:e.skipResponsive,recurseOnlySingleLayer:null==e?void 0:e.noRecursive},s);let S=(0,a.runMSAL)([u],{skipResponsive:null==e?void 0:e.skipResponsive,recurseOnlySingleLayer:null==e?void 0:e.noRecursive},s);n.addNode(S,"Output");let T=function(e,r,n){let i;let a=(Object.keys(i=p(r)).forEach(e=>{n[e]||delete i[e]}),i),o=Object.keys(n).length,s=0,l=0,d=new Map;Object.keys(n).forEach(e=>{let i=n[e],o=a[e];if(!o)throw Error("wtf: no currentbbox for guid: "+e+" in "+r.id);let c={widthDiff:i.width-o.width,heightDiff:i.height-o.height,xDiff:i.x-o.x,yDiff:i.y-o.y,x:i.x,y:i.y,width:i.width,height:i.height};h(i.width,o.width)&&h(i.height,o.height)&&s++,h(i.x,o.x)&&h(i.y,o.y)&&l++,d.set(e,c)});let{matchCount:c,layerCount:u}=function(e,r){let n=0,i=0;if(!e||!r)return{matchCount:n,layerCount:i};let a=[e],o=[r];for(i++;a.length>0&&o.length>0;){let e=a.length,r=o.length;if(e!==r){for(let n=0;n<Math.max(e,r);n++)n<e&&a.shift(),n<r&&o.shift();continue}for(let r=0;r<e;r++){let e=a.shift(),r=o.shift();if(!e||!r)break;if((e.type!==r.type||"Frame"!==e.name&&"Frame"!==r.name&&e.name!==r.name||"layoutMode"in e&&"layoutMode"in r&&(e.layoutMode&&r.layoutMode&&e.layoutMode!==r.layoutMode||e.layoutMode&&!r.layoutMode)?1:"children"in e&&"children"in r&&e.children.length!==r.children.length||"children"in e&&!("children"in r)||"children"in r&&!("children"in e))||n++,"children"in e&&"children"in r){if(e.children)for(let r of e.children)a.push(r),i++;if(r.children)for(let e of r.children)o.push(e)}}}return{matchCount:n,layerCount:i}}(e,r);return{positionMatch:l/o,sizeMatch:s/o,layerMatch:c/u,layerCount:o,boxDiffs:d}}(n.targetTLF,u,m);if(n.addMetricsText(T),_(T.sizeMatch,y,f),_(T.positionMatch,E,f),_(T.layerMatch,b,f),I.set(r.name,T.boxDiffs),!(null==e?void 0:e.skipResponsive)){let e=S.clone(),r=(0,i.runResponsivityTests)(e,n);(yield r).every(e=>e.success)&&v++,e.remove()}}catch(e){e.message.startsWith("wtf")?console.error(e):(console.error("Failed to run AAL on test case: ",r.name,"error",e),f++)}}),function(e){return n.apply(this,arguments)})),console.log("----------------------- TEST SUITE OUTPUT -----------------------"),console.log("Ran test suite with",f,"error cases"),console.log("Hard error rate: ",(f/S.length).toFixed(3)),console.log(`
  Responsivity error rate: ${((S.length-v)/S.length).toFixed(3)}
  Responsivity rate: ${(v/S.length).toFixed(3)}
  Responsivity passed: ${v.toFixed(3)} out of ${S.length}
  `);let T=[y,E,b],w=["Size","Position","Layer"];for(let e=0;e<T.length;e++){let r=T[e],n=w[e];console.log(`
  ${n} rate: ${(r.passedCount/g.length).toFixed(3)} (${r.passedCount} out of ${S.length}),
  Precision: ${(r.truePositivesCount/(r.truePositivesCount+r.falsePositivesCount)).toFixed(3)} (${r.truePositivesCount} out of ${r.truePositivesCount+r.falsePositivesCount}),
  Recall: ${(r.truePositivesCount/(r.truePositivesCount+r.falseNegativesCount)).toFixed(3)} (${r.truePositivesCount} out of ${r.truePositivesCount+r.falseNegativesCount})
    `)}return console.log("All box comparisons",I),console.log("----------------------- END TEST SUITE OUTPUT -----------------------"),d.name=d.name+` - ${Math.round(E.passedCount/g.length*100)}% position`,{hardErrorCounts:f,metricsPassedCountBySize:y.passedCount,metricsPassedCountByPosition:E.passedCount,metricsPassedCountByLayer:b.passedCount,sectionsSliceLength:S.length}})).apply(this,arguments)}function _(e,r,n){e>m?(r.passedCount++,n?r.truePositivesCount++:r.falseNegativesCount++):n?r.falsePositivesCount++:r.trueNegativesCount++}function y(){return E.apply(this,arguments)}function E(){return(E=l(function*(){yield g({skipResponsive:!1,noRecursive:!0})})).apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return(v=l(function*(){yield g({skipResponsive:!1,noRecursive:!1,assumeChildrenCorrect:!0})})).apply(this,arguments)}function S(){return I.apply(this,arguments)}function I(){return(I=l(function*(){yield g({skipResponsive:!0,noRecursive:!1,assumeChildrenCorrect:!0})})).apply(this,arguments)}},81054:(e,r)=>{"use strict";!function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{MOCKED_AAL_NODE_IDS:function(){return i},TEST_AAL_FILE_KEY:function(){return n}});let n="b2XUNRa1b1UPr0ZqkqiOOu",i={"Potea - Screen - Reviews - Cleaned":{detections:[{score:.99,box:{x:0,y:0,width:428,height:44}},{score:.99,box:{x:24,y:68,width:380,height:48}},{score:.99,box:{x:24,y:140,width:380,height:38}},{score:.99,box:{x:24,y:202,width:380,height:776}}]},"Potea - Screen - Home - Cleaned":{detections:[{score:.99,box:{x:0,y:0,width:428,height:44}},{score:.99,box:{x:24,y:68,width:380,height:52}},{score:.99,box:{x:24,y:144,width:380,height:56}},{score:.99,box:{x:24,y:224,width:380,height:24}},{score:.99,box:{x:24,y:272,width:1008,height:362}},{score:.99,box:{x:24,y:658,width:380,height:24}},{score:.99,box:{x:24,y:706,width:380,height:38}},{score:.99,box:{x:24,y:768,width:380,height:882}},{score:.99,box:{x:0,y:1674,width:428,height:98}}]},"Potea - Screen - Log In - Cleaned":{detections:[{score:.99,box:{x:0,y:0,width:428,height:44}},{score:.99,box:{x:24,y:69,width:380,height:48}},{score:.99,box:{x:138.5,y:166.80078125,width:151,height:68}},{score:.99,box:{x:24,y:284.599609375,width:380,height:38}},{score:.99,box:{x:24,y:372.400390625,width:380,height:262}},{score:.99,box:{x:24,y:684.2001953125,width:380,height:125}},{score:.99,box:{x:24,y:859,width:380,height:20}}]},"Youtube - Screen - Home - Cleaned":{detections:[{score:.99,box:{x:0,y:0,width:428,height:56}},{score:.99,box:{x:0,y:56,width:428,height:4}},{score:.99,box:{x:0,y:60,width:428,height:120}},{score:.99,box:{x:0,y:180,width:428,height:4}},{score:.99,box:{x:0,y:184,width:428,height:54}},{score:.99,box:{x:0,y:238,width:428,height:283}},{score:.99,box:{x:0,y:525,width:428,height:283}},{score:.99,box:{x:0,y:812,width:428,height:283}},{score:.99,box:{x:0,y:1099,width:428,height:283}},{score:.99,box:{x:0,y:1382,width:428,height:68}}]},"Potea - Screen - Product Page":{detections:[{score:.99,box:{x:0,y:0,width:428,height:43}},{score:.99,box:{x:0,y:43,width:428,height:476}},{score:.99,box:{x:166,y:519,width:96.00000762939453,height:24}},{score:.99,box:{x:24,y:67,width:28,height:28}},{score:.99,box:{x:0,y:543,width:428,height:402}}]},"YouTube - Screen - Library":{detections:[{score:.99,box:{x:0,y:0,width:428,height:56}},{score:.99,box:{x:0,y:56,width:428,height:4}},{score:.99,box:{x:0,y:60,width:428,height:31}},{score:.99,box:{x:0,y:91,width:428,height:178}},{score:.99,box:{x:0,y:269,width:428,height:4}},{score:.99,box:{x:0,y:273,width:428,height:286}},{score:.99,box:{x:0,y:559,width:428,height:4}},{score:.99,box:{x:0,y:563,width:428,height:220}},{score:.99,box:{x:0,y:783,width:428,height:68}}]},"Spotify - Album View - Auto Layout":{detections:[{score:.99,box:{x:0,y:0,width:450,height:44}},{score:.99,box:{x:24,y:68,width:402,height:276}},{score:.99,box:{x:24,y:384,width:402,height:165}},{score:.99,box:{x:24,y:565,width:402,height:259}},{score:.99,box:{x:0,y:676,width:450,height:250}}]},"Spotify - Playlist Search - Auto Layout":{detections:[{score:.99,box:{x:0,y:0,width:450,height:44}},{score:.99,box:{x:24,y:68,width:402,height:440}},{score:.99,box:{x:24,y:520,width:402,height:88}},{score:.99,box:{x:24,y:624,width:402,height:168}},{score:.99,box:{x:0,y:676,width:450,height:250}}]},"Spotify - Chose Podcasts - Auto Layout":{detections:[{score:.99,box:{x:0,y:0,width:450,height:44}},{score:.99,box:{x:0,y:44,width:450,height:189}},{score:.99,box:{x:24,y:281,width:112,height:168}},{score:.99,box:{x:169,y:281,width:112,height:152}},{score:.99,box:{x:314,y:281,width:112,height:168}},{score:.99,box:{x:24,y:461,width:112,height:152}},{score:.99,box:{x:169,y:461,width:112,height:168}},{score:.99,box:{x:314,y:461,width:112,height:152}},{score:.99,box:{x:24,y:641,width:112,height:168}},{score:.99,box:{x:169,y:641,width:112,height:152}},{score:.99,box:{x:314,y:641,width:112,height:168}},{score:.99,box:{x:24,y:821,width:112,height:152}},{score:.99,box:{x:169,y:821,width:112,height:168}},{score:.99,box:{x:314,y:821,width:112,height:152}},{score:.99,box:{x:0,y:676,width:450,height:250}}]},"Music Player - Screen":{detections:[{score:.99,box:{x:25,y:65,width:340,height:24}},{score:.99,box:{x:25,y:129,width:340,height:340}},{score:.99,box:{x:25,y:508,width:340,height:56}},{score:.99,box:{x:25,y:606,width:340,height:28}},{score:.99,box:{x:25,y:684,width:340,height:64}},{score:.99,box:{x:-249.51953125,y:676.8084225297971,width:655.1994601669194,height:514.700671580893}},{score:.99,box:{x:181,y:-189.720703125,width:326.9999694824219,height:322.01214599609375}}]},"Yoga - Homepage":{detections:[{score:.99,box:{x:20,y:28,width:341,height:36}},{score:.99,box:{x:20,y:94,width:341,height:120}},{score:.99,box:{x:20,y:229,width:341,height:590}},{score:.99,box:{x:0,y:845,width:381,height:51}}]},"Happn - Sign In":{detections:[{score:.99,box:{x:0,y:0,width:380,height:47}},{score:.99,box:{x:13,y:47,width:50,height:50}},{score:.99,box:{x:13,y:97,width:354,height:359}},{score:.99,box:{x:13,y:456,width:354,height:359}},{score:.99,box:{x:123,y:815,width:134,height:29}},{score:.99,box:{x:-66,y:293.2529296875,width:1190,height:551}}]},"Shoes-Checkout":{detections:[{score:.99,box:{x:0,y:0,width:375,height:78}},{score:.99,box:{x:0,y:103,width:375,height:90}},{score:.99,box:{x:0,y:209,width:375,height:8}},{score:.99,box:{x:0,y:233,width:375,height:396}},{score:.99,box:{x:0,y:645,width:375,height:8}},{score:.99,box:{x:0,y:669,width:375,height:31}},{score:.99,box:{x:0,y:716,width:648,height:112}},{score:.99,box:{x:0,y:844,width:375,height:124}}]},"Shoes-AddAddress":{detections:[{score:.99,box:{x:0,y:0,width:375,height:78}},{score:.99,box:{x:16,y:94,width:90,height:13}},{score:.99,box:{x:16,y:123,width:343,height:282}},{score:.99,box:{x:16,y:437,width:343,height:360}},{score:.99,box:{x:16,y:829,width:343,height:194}},{score:.99,box:{x:16,y:1055,width:343,height:56}}]},"Profile Page":{detections:[{score:.99,box:{x:0,y:0,width:375,height:44}},{score:.99,box:{x:0,y:44,width:375,height:60}},{score:.99,box:{x:24,y:128,width:327,height:192}},{score:.99,box:{x:24,y:336,width:327,height:268}}]},"3legant - CheckOut":{detections:[{score:.99,box:{x:0,y:0,width:376,height:36}},{score:.99,box:{x:0,y:36,width:376,height:60}},{score:.99,box:{x:32,y:112,width:49,height:24}},{score:.99,box:{x:32,y:176,width:312,height:134}},{score:.99,box:{x:32,y:350,width:312,height:1292}},{score:.99,box:{x:32,y:1666,width:312,height:810}},{score:.99,box:{x:32,y:2500,width:312,height:52}},{score:.99,box:{x:0,y:2632,width:376,height:665}}]},"3legant - Cart":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:60}},{score:.99,box:{x:80,y:140,width:1120,height:166}},{score:.99,box:{x:80,y:306,width:1120,height:642}},{score:.99,box:{x:80,y:948,width:424,height:129}},{score:.99,box:{x:0,y:1157,width:1280,height:261}}]},"3legant - Order Complete":{detections:[{score:.99,box:{x:0,y:0,width:376,height:36}},{score:.99,box:{x:0,y:36,width:376,height:60}},{score:.99,box:{x:32,y:112,width:107,height:24}},{score:.99,box:{x:32,y:176,width:312,height:134}},{score:.99,box:{x:32,y:350,width:312,height:794}},{score:.99,box:{x:0,y:1224,width:376,height:665}}]},"3legant - My Account/wishlist":{detections:[{score:.99,box:{x:0,y:0,width:376,height:36}},{score:.99,box:{x:0,y:36,width:376,height:60}},{score:.99,box:{x:32,y:112,width:49,height:24}},{score:.99,box:{x:32,y:176,width:312,height:44}},{score:.99,box:{x:32,y:260,width:312,height:288}},{score:.99,box:{x:32,y:588,width:312,height:774}},{score:.99,box:{x:0,y:1442,width:376,height:665}}]},"3legant - My Account/orders":{detections:[{score:.99,box:{x:0,y:0,width:376,height:36}},{score:.99,box:{x:0,y:36,width:376,height:60}},{score:.99,box:{x:32,y:112,width:49,height:24}},{score:.99,box:{x:32,y:176,width:312,height:44}},{score:.99,box:{x:32,y:260,width:312,height:288}},{score:.99,box:{x:32,y:588,width:312,height:744}},{score:.99,box:{x:0,y:1412,width:376,height:665}}]},"3legant - My Account/Address":{detections:[{score:.99,box:{x:0,y:0,width:376,height:36}},{score:.99,box:{x:0,y:36,width:376,height:60}},{score:.99,box:{x:32,y:112,width:49,height:24}},{score:.99,box:{x:32,y:176,width:312,height:44}},{score:.99,box:{x:32,y:260,width:312,height:682}},{score:.99,box:{x:0,y:1022,width:376,height:665}}]},"3legant - My Account":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:60}},{score:.99,box:{x:80,y:60,width:1120,height:218}},{score:.99,box:{x:80,y:278,width:262,height:828}},{score:.99,box:{x:349,y:278,width:851,height:828}},{score:.99,box:{x:0,y:1186,width:1280,height:261}}]},"Electronic Store - Product Page - Autolayout":{detections:[{score:.99,box:{x:0,y:0,width:360,height:56}},{score:.99,box:{x:0,y:56,width:360,height:305}},{score:.99,box:{x:0,y:361,width:360,height:387}},{score:.99,box:{x:0,y:748,width:360,height:140}},{score:.99,box:{x:0,y:888,width:360,height:282}}]},"Electronic Store - Home - Autolayout":{detections:[{score:.99,box:{x:0,y:0,width:360,height:56}},{score:.99,box:{x:0,y:56,width:360,height:108}},{score:.99,box:{x:0,y:164,width:360,height:180}},{score:.99,box:{x:0,y:354,width:360,height:244}},{score:.99,box:{x:0,y:608,width:360,height:270}},{score:.99,box:{x:0,y:888,width:360,height:270}},{score:.99,box:{x:0,y:1168,width:360,height:150}},{score:.99,box:{x:0,y:1328,width:360,height:1042}}]},"Monito - Homepage":{detections:[{score:.99,box:{x:0,y:0,width:1296,height:695}},{score:.99,box:{x:40,y:755,width:1216,height:854}},{score:.99,box:{x:40,y:1669,width:1216,height:330}},{score:.99,box:{x:40,y:2059,width:1216,height:1014}},{score:.99,box:{x:40,y:3133,width:1216,height:176}},{score:.99,box:{x:40,y:3369,width:1216,height:330}},{score:.99,box:{x:40,y:3759,width:1216,height:514}},{score:.99,box:{x:0,y:4333,width:1296,height:440}},{score:.99,box:{x:0,y:0,width:1296,height:100}}]},"Monito - Category Page":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:100}},{score:.99,box:{x:0,y:100,width:1280,height:429}},{score:.99,box:{x:40,y:569,width:280,height:622}},{score:.99,box:{x:344,y:569,width:896,height:2116}},{score:.99,box:{x:0,y:2725,width:1280,height:440}}]},"Monito - Product":{detections:[{score:.99,box:{x:0,y:0,width:1440,height:100}},{score:.99,box:{x:130,y:120,width:1180,height:826}},{score:.99,box:{x:130,y:966,width:1180,height:471}},{score:.99,box:{x:0,y:1457,width:1440,height:588}},{score:.99,box:{x:0,y:2065,width:1440,height:440}}]},"3legant - Complete":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:60}},{score:.99,box:{x:224,y:140,width:832,height:164}},{score:.99,box:{x:367,y:464,width:546,height:138}},{score:.99,box:{x:367,y:642,width:546,height:112}},{score:.99,box:{x:366,y:794,width:548,height:148}},{score:.99,box:{x:538.5,y:982,width:203,height:52}},{score:.99,box:{x:0,y:1194,width:1280,height:261}}]},"3legant - History":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:60}},{score:.99,box:{x:80,y:60,width:1120,height:218}},{score:.99,box:{x:80,y:278,width:1120,height:498}},{score:.99,box:{x:0,y:856,width:1280,height:261}}]},"3legant - Check Out":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:60}},{score:.99,box:{x:80,y:140,width:1120,height:164}},{score:.99,box:{x:80,y:384,width:656,height:1386}},{score:.99,box:{x:800,y:384,width:400,height:862}},{score:.99,box:{x:0,y:1930,width:1280,height:261}}]},"3legant - Wishlist":{detections:[{score:.99,box:{x:0,y:0,width:1280,height:60}},{score:.99,box:{x:80,y:60,width:1120,height:218}},{score:.99,box:{x:80,y:278,width:1120,height:582}},{score:.99,box:{x:0,y:940,width:1280,height:261}}]},"Electronic Store - Home":{detections:[{score:.99,box:{x:0,y:0,width:1440,height:126}},{score:.99,box:{x:0,y:156,width:1440,height:400}},{score:.99,box:{x:0,y:586,width:1440,height:1213.066650390625}},{score:.99,box:{x:0,y:1829.06640625,width:1440,height:692.2392578125}},{score:.99,box:{x:0,y:2551.3056640625,width:1440,height:420}},{score:.99,box:{x:0,y:3001.3056640625,width:1440,height:494.0001220703125}}]},"Electronic Store - Product Page":{detections:[{score:.99,box:{x:0,y:0,width:1440,height:126}},{score:.99,box:{x:0,y:126,width:1440,height:64}},{score:.99,box:{x:130,y:190,width:1180,height:576}},{score:.99,box:{x:130,y:786,width:1180,height:613}},{score:.99,box:{x:130,y:1419,width:1180,height:319}},{score:.99,box:{x:130,y:1758,width:1180,height:120}},{score:.99,box:{x:0,y:1966,width:1440,height:304.0001220703125}}]},"Dashboard  - 01 - Auto Layout":{detections:[{score:.99,box:{x:0,y:0,width:272,height:1028}},{score:.99,box:{x:272,y:0,width:1008,height:221}},{score:.99,box:{x:336,y:285,width:266.6666564941406,height:671}},{score:.99,box:{x:642.66650390625,y:285,width:266.66668701171875,height:490}},{score:.99,box:{x:949.3330078125,y:285,width:266.66668701171875,height:671}}]},"Data Dashboard":{detections:[{score:.99,box:{x:16,y:16,width:1392,height:426}},{score:.99,box:{x:16,y:458,width:1392,height:426}}]},Logoi:{detections:[{score:.99,box:{x:0,y:0,width:316,height:1097}},{score:.99,box:{x:356,y:32,width:884,height:80}},{score:.99,box:{x:356,y:142,width:884,height:923}}]},"Team Members Table":{detections:[{score:.99,box:{x:28,y:34,width:1224,height:112}},{score:.99,box:{x:28,y:164,width:62,height:580}},{score:.99,box:{x:90,y:164,width:397,height:580}},{score:.99,box:{x:487,y:164,width:120,height:580}},{score:.99,box:{x:607,y:164,width:397,height:580}},{score:.99,box:{x:1004,y:164,width:120,height:580}},{score:.99,box:{x:1124,y:164,width:64,height:580}},{score:.99,box:{x:1188,y:164,width:64,height:580}},{score:.99,box:{x:28,y:762,width:1224,height:32}}]},WeHR:{detections:[{score:.99,box:{x:0,y:0,width:242,height:998.435546875}},{score:.99,box:{x:242,y:0,width:1198,height:69}},{score:.99,box:{x:292,y:93,width:748,height:753}},{score:.99,box:{x:1070,y:93,width:320,height:881.435546875}}]},Leads:{detections:[{score:.99,box:{x:0,y:0,width:80,height:816}},{score:.99,box:{x:116,y:26,width:83,height:32}},{score:.99,box:{x:116,y:90,width:1128,height:48}},{score:.99,box:{x:116,y:170,width:225.60000610351563,height:620}},{score:.99,box:{x:341.60009765625,y:170,width:225.60000610351563,height:620}},{score:.99,box:{x:567.2001953125,y:170,width:225.6000213623047,height:620}},{score:.99,box:{x:792.7998046875,y:170,width:225.60000610351563,height:620}},{score:.99,box:{x:1018.400390625,y:170,width:225.60000610351563,height:620}}]},"Table with progress bar":{detections:[{score:.99,box:{x:0,y:0,width:1380,height:91}},{score:.99,box:{x:0,y:91,width:1380,height:64}},{score:.99,box:{x:0,y:155,width:66,height:620}},{score:.99,box:{x:66,y:155,width:416.6666564941406,height:620}},{score:.99,box:{x:482.66650390625,y:155,width:416.66668701171875,height:620}},{score:.99,box:{x:899.33349609375,y:155,width:416.66668701171875,height:620}},{score:.99,box:{x:1316,y:155,width:64,height:620}},{score:.99,box:{x:0,y:775,width:1380,height:64}}]},"Landify - Home Screen - AutoLayout":{detections:[{score:.99,box:{x:0,y:0,width:1440,height:816}},{score:.99,box:{x:0,y:816,width:1440,height:242}},{score:.99,box:{x:0,y:1058,width:1440,height:781}},{score:.99,box:{x:0,y:1839,width:1440,height:868}},{score:.99,box:{x:0,y:2707,width:1440,height:502}},{score:.99,box:{x:0,y:3209,width:1440,height:772.0003051757813}},{score:.99,box:{x:0,y:3981,width:1440,height:828.00048828125}},{score:.99,box:{x:0,y:4809.0009765625,width:1440,height:600}},{score:.99,box:{x:0,y:5409.0009765625,width:1440,height:496}}]},"Landify - Coworking Screen - Autolayout":{detections:[{score:.99,box:{x:0,y:0,width:1440,height:946}},{score:.99,box:{x:0,y:946,width:1440,height:607}},{score:.99,box:{x:0,y:1553,width:1440,height:1136}},{score:.99,box:{x:0,y:2689,width:1440,height:498}},{score:.99,box:{x:0,y:3187,width:1440,height:392}},{score:.99,box:{x:0,y:3579,width:1440,height:1276}},{score:.99,box:{x:0,y:4855,width:1440,height:742}},{score:.99,box:{x:0,y:5597,width:1440,height:708}},{score:.99,box:{x:0,y:6305,width:1440,height:732}},{score:.99,box:{x:0,y:7037,width:1440,height:496}}]},"Workspace - Screen":{detections:[{score:.99,box:{x:0,y:0,width:1440,height:866}},{score:.99,box:{x:0,y:866,width:1440,height:193}},{score:.99,box:{x:0,y:1059,width:1440,height:472}},{score:.99,box:{x:0,y:1531,width:1440,height:1060}},{score:.99,box:{x:0,y:2591,width:1440,height:502}},{score:.99,box:{x:0,y:3093,width:1440,height:732}},{score:.99,box:{x:0,y:3825,width:1440,height:256}}]},"World Peas - Screen":{detections:[{score:.99,box:{x:73,y:59,width:1294,height:49}},{score:.99,box:{x:73,y:195,width:1294,height:23}},{score:.99,box:{x:73,y:305,width:1294,height:154}},{score:.99,box:{x:73,y:546,width:1294,height:660}},{score:.99,box:{x:73,y:1293,width:1294,height:290}},{score:.99,box:{x:73,y:1670,width:1294,height:301}},{score:.99,box:{x:73,y:2058,width:1294,height:421}},{score:.99,box:{x:73,y:2653,width:1294,height:343}},{score:.99,box:{x:73,y:3170,width:1294,height:119}}]}}},21898:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});let i=new(n(54630)).b({name:"autosave",dependencies:[],routeHints:["whiteboard","design"],exports:["modals.ts*","modals/new_file_already_open_modal.ts*"],friendFiles:[]})},96700:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});let i=new(n(54630)).b({name:"File Browser",dependencies:[],exports:[{glob:"constants.ts*",sideEffects:!1},{glob:"routing.ts*",sideEffects:!1},{glob:"views.ts*",sideEffects:!1},{glob:"state.ts*",sideEffects:!1},{glob:"modals.ts*",sideEffects:!1},{glob:"move_file_to_project.ts*",sideEffects:!1},{glob:"overlays.ts*",sideEffects:!1}],routeHints:["file_browser"],exceptions:[{path:"file_browser/views/team_view/members_list",specifiers:["MembersList"],importers:["web/js/figma_app/views/modal/team_settings/team_settings_modal.tsx"]},{path:"file_browser/views/new_file_dropdown"},{path:"file_browser/views/profile_entry_client_rect_atom"},{path:"file_browser/views/input"},{path:"file_browser/views/file_import_modal",specifier:["FILE_IMPORT_MODAL"],importers:["web/js/figma_app/lib/fullscreen/file_import/add_file_to_import_queue.ts"]},{path:"file_browser/views/file_restore_from_version_modal",specifiers:["FILE_RESTORE_FROM_VERSION_MODAL"],importers:["web/js/figma_app/actions/file_version_actions.ts"]},{path:"file_browser/views/profiles_blocked_from_commenting_table",specifiers:["ProfilesBlockedFromCommentingTable"],importers:"web/js/figma_app/views/modal/account_settings/community_view.tsx"},{path:"file_browser/views/user_view",specifiers:["Organizations"],importers:"web/js/figma_app/views/modal/account_settings/settings_view.tsx"},{path:"file_browser/views/profiles_blocked_from_commenting_table",specifiers:["PROFILES_BLOCKED_FROM_COMMENTING_MODAL"],importers:["web/js/figma_app/views/modal/team_settings/settings_view.tsx"]},{path:"file_browser/views/sidebar/sidebar_storage",specifiers:["collapsedCustomSectionsFromStorage"],importers:["web/js/figma_app/reducers/favorites.ts"]},{path:"file_browser/views/sidebar/sidebar_storage",specifiers:["setSectionExpanded"],importers:["web/js/figma_app/views/file_browser/file_tile/favorite_star.tsx"]},{path:"file_browser/views/sidebar/favorited_section/organize_favorite_menu",specifiers:["OrganizeFavoriteMenu"],importers:["web/js/figma_app/views/file_browser/file_tile/favorite_star.tsx"]},{path:"file_browser/views/sidebar/sidebar",specifiers:["SideBar"],importers:["web/js/figma_app/views/file_browser/layouts/file_browser_layout/file_browser_layout.tsx"]}],friendFiles:[{},"js/figma_app/views/modal/payments/consumption_paywall_modals.tsx","js/search/views/search_model_results/projects.tsx","js/search/views/search_results_view.tsx","js/search/views/search_results_file_view/search_results_file_view.tsx","js/search/views/search_results_project_list_view/search_results_project_list_view.tsx","js/figma_app/lib/generic_tile.ts","js/figma_app/views/desktop_new_tab/desktop_new_tab_view.tsx"]})},99264:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});let i=new(n(54630)).b({name:"Team Feed",dependencies:[],exports:["lib.ts*","constants.ts*","views.ts*","modals.ts*"],routeHints:["file_browser"],friendFiles:["js/figma_app/models/comments.ts","js/figma_app/views/curator_machines/feed_onboarding/feed_audience_selection_overlay.tsx","js/figma_app/views/file_browser/user_view/internal_user_profile_page_view.tsx","js/figma_app/views/fullscreen/comments/active_thread/active_thread.tsx","js/figma_app/views/fullscreen/comments/attachments/attachment_detail_modal.tsx","js/figma_app/views/fullscreen/comments/comments_sidebar/components/comments_row/use_comments_sidebar_item.ts","js/figma_app/views/fullscreen/quick_actions/experimental/quick_actions_v2/views/fragment_search/fragment_search_peek_view.tsx","js/figma_app/views/fullscreen/post_to_feed_view/post_to_feed_view.tsx","js/file_browser/router.tsx"]})},70931:(e,r,n)=>{"use strict";n.r(r),n.d(r,{button:()=>i,buttonContent:()=>s,buttonText:()=>o,destructive:()=>_,destructiveLink:()=>v,destructiveSecondary:()=>y,icon:()=>a,largeSize:()=>c,largeWideSize:()=>p,link:()=>b,outlineStyle:()=>h,primary:()=>g,regularSize:()=>d,secondary:()=>f,shortcut:()=>l,signup:()=>E,solidStyle:()=>m,wideSize:()=>u});let i="button-module--button--xiqeQ utilities--bodyMedium--7-YGK",a="button-module--icon--oG442",o="button-module--buttonText--L017I",s="button-module--buttonContent--qEgIw",l="button-module--shortcut--IV5GW",d="button-module--regularSize--Mmmf7",c="button-module--largeSize--mjEzO",u="button-module--wideSize--Ue30x",p="button-module--largeWideSize--A2A7S",h="button-module--outlineStyle--zhgef",m="button-module--solidStyle--mSysv",g="button-module--primary--pCfBo button-module--solidStyle--mSysv",f="button-module--secondary--v-G7o button-module--outlineStyle--zhgef",_="button-module--destructive--j8NCU button-module--solidStyle--mSysv",y="button-module--destructiveSecondary--cwSRC button-module--outlineStyle--zhgef",E="button-module--signup--3B4ev button-module--solidStyle--mSysv",b="button-module--link--vcAie",v="button-module--destructiveLink--ODFm1 button-module--link--vcAie"},42624:(e,r,n)=>{"use strict";n.d(r,{DA:()=>s,Hl:()=>c,Jn:()=>u,Ou:()=>l,R3:()=>a,my:()=>o,wn:()=>i,yZ:()=>d});let i="face_pile--facePile--1XmV9",a="face_pile--avatarWrapper--XZX44",o="face_pile--avatar--d8wC7",s="face_pile--voiceAvatarWrapper--7IVEH face_pile--avatarWrapper--XZX44",l="face_pile--overlappedWrapper--E0j-6",d="face_pile--overflowTarget--xaz84 face_pile--avatarWrapper--XZX44",c="face_pile--overflowRow--uzKVQ",u="face_pile--overflowUserName--uxQQb text--_negText--j9g-L"},38534:(e,r,n)=>{"use strict";n.d(r,{P:()=>i});let i="feature_callout--featureCallout---qPZ7"},64611:(e,r,n)=>{"use strict";n.d(r,{Be:()=>g,DD:()=>m,Dn:()=>B,FD:()=>j,G9:()=>L,Hb:()=>a,Kl:()=>x,LX:()=>A,M9:()=>I,OF:()=>R,P8:()=>$,R:()=>k,Rm:()=>E,S1:()=>v,UT:()=>f,W8:()=>w,WH:()=>_,Wd:()=>N,Wr:()=>C,XA:()=>Q,Xl:()=>F,aI:()=>H,ai:()=>D,ak:()=>P,ed:()=>U,es:()=>Z,ho:()=>b,iG:()=>V,j2:()=>y,jA:()=>Y,jT:()=>i,k2:()=>S,kB:()=>o,kL:()=>s,kb:()=>c,kd:()=>z,lT:()=>M,lq:()=>J,mK:()=>X,oW:()=>K,pG:()=>u,pz:()=>d,qU:()=>q,qr:()=>p,rU:()=>W,rb:()=>l,sB:()=>O,tp:()=>ee,v2:()=>G,w5:()=>T,wx:()=>h});let i="branch_merge_modal--modalContainer--r0Yka",a="branch_merge_modal--modalInnerContainer--GbBbt",o="branch_merge_modal--modalContents--xuw6J",s="branch_merge_modal--container--NdE3h",l="branch_merge_modal--mainContent--slQCM",d="branch_merge_modal--sidebar--Ruj-j",c="branch_merge_modal--left--CZ7eo",u="branch_merge_modal--right---oTv3",p="branch_merge_modal--footer--LVjgx",h="branch_merge_modal--header--lP-5x text--fontPos11--2LvXf text--_fontBase--QdLsd",m="branch_merge_modal--title--8dbqf",g="branch_merge_modal--blueLink--A430A blue_link--blueLink--9rlnd",f="branch_merge_modal--branchIconSidebar--cXAjc branch_merge_modal--branchIcon--ZySwZ",_="branch_merge_modal--innerContainer--xOQjo",y="branch_merge_modal--backIcon--HbTRB",E="branch_merge_modal--detailHeader--0abGL",b="branch_merge_modal--detailHeaderLeftContent--IFkvK",v="branch_merge_modal--detailHeaderRightContent--z6K69",S="branch_merge_modal--detailHeaderName--Zs0jK",I="branch_merge_modal--detailHeaderNameDeselected--DhSOi branch_merge_modal--detailHeaderName--Zs0jK",T="branch_merge_modal--detailHeaderAdditionalInfo--j57Yx",w="branch_merge_modal--detailHeaderNameTruncate--j-w-V",C="branch_merge_modal--detailTabSelected--belYU",A="branch_merge_modal--detailTabDeselected--qcw9k branch_merge_modal--detailTabSelected--belYU",N="branch_merge_modal--headerCountWrapper--U6PBt",O="branch_merge_modal--detailHeaderNumber--Bn4xE",R="branch_merge_modal--detailHeaderNumberDeselected--Mt6Ri branch_merge_modal--detailHeaderNumber--Bn4xE",P="branch_merge_modal--detailHeaderPhase--n-pbl",L="branch_merge_modal--detailViewFooter--tDonB",D="branch_merge_modal--chevron--1sPup",M="branch_merge_modal--countText--CRSx-",k="branch_merge_modal--hidden--zM-Ja",x="branch_merge_modal--slidingPaneContainer--c9nXO",F="branch_merge_modal--slidingPaneInner--yJsO0",U="branch_merge_modal--slidingPaneInnerShiftLeft--Njk2H branch_merge_modal--slidingPaneInner--yJsO0",B="branch_merge_modal--centeredFlexParentContainer--OV1x4",V="branch_merge_modal--centeredContainer--RulPf",H="branch_merge_modal--errorBoundaryMessageNew--vllvg branch_merge_modal--centeredContainer--RulPf",G="branch_merge_modal--errorBoundaryTitle--0ni2w text--fontPos20--Bcz97 text--_fontBase--QdLsd",W="branch_merge_modal--errorBoundaryDescription--xyZPD text--fontPos13--xW8hS text--_fontBase--QdLsd",z="branch_merge_modal--errorRefreshButton--9ZjH8",K="branch_merge_modal--errorBoundaryMessage--zS4cW branch_merge_modal--centeredContainer--RulPf",j="branch_merge_modal--loadingBarContainer--mFKPf",Y="branch_merge_modal--conflictList--6j6Pd",$="branch_merge_modal--fromSourceFooter--NPnBS",q="branch_merge_modal--fromSourceButton--XeoOA",Z="branch_merge_modal--chunkSectionContainer--oPfHg",X="branch_merge_modal--variantSummaryChunks--94Wgw branch_merge_modal--chunkSectionContainer--oPfHg",J="branch_merge_modal--scrollbar---zb6D",Q="branch_merge_modal--innerScrollbar--HFeR9",ee="branch_merge_modal--table--RHq5d"},27433:(e,r,n)=>{"use strict";n.d(r,{A3:()=>f,Di:()=>c,IS:()=>u,Nz:()=>y,Pp:()=>l,ZR:()=>m,gq:()=>o,gy:()=>s,hO:()=>h,my:()=>a,pd:()=>_,rX:()=>g,u_:()=>i,v2:()=>d,v3:()=>p});let i="comment_cluster_element_updatable--avatarsContainer--9KMtK",a="comment_cluster_element_updatable--avatar--O2T-p",o="comment_cluster_element_updatable--cornerCluster--fp6Se",s="comment_cluster_element_updatable--unread--WDj6-",l="comment_cluster_element_updatable--avatarImage--DbdLm",d="comment_cluster_element_updatable--avatarGhost---HncI",c="comment_cluster_element_updatable--avatarClusterAnchor--EK8F5",u="comment_cluster_element_updatable--avatarCluster--nOGr5",p="comment_cluster_element_updatable--pinnedThreadToFileIndicator--VWP8h",h="comment_cluster_element_updatable--emphasized--rlBH5",m="comment_cluster_element_updatable--indicatorShown--E-uu-",g="comment_cluster_element_updatable--dimmed--8R64m",f="comment_cluster_element_updatable--clusterCount--LB-u8",_="comment_cluster_element_updatable--minimized--zZzdI",y="/** @postcss-export-raw */\n.comment_cluster_element_updatable--avatarsContainer--9KMtK {\n  display: flex;\n  height: 64px;\n  width: 64px;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n.comment_cluster_element_updatable--cornerClusterContainer--hdEF3 {\n  height: 16px;\n  width: 16px;\n}\n.comment_cluster_element_updatable--avatar--O2T-p {\n  position: absolute;\n  left: 14px;\n  top: 18px;\n  transition:\n    left 200ms ease-in-out, top 200ms ease-in-out;\n}\n.comment_cluster_element_updatable--cornerCluster--fp6Se {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  transition:\n    left 200ms ease-in-out, top 200ms ease-in-out;\n}\n.comment_cluster_element_updatable--unread--WDj6- .comment_cluster_element_updatable--avatar--O2T-p > .comment_cluster_element_updatable--avatarImage--DbdLm {\n  border-color: var(--color-bg-brand, #0d99ff);\n}\n.comment_cluster_element_updatable--avatarGhost---HncI {\n  left: 22px;\n  top: 18px;\n  opacity: 0.5;\n}\n/* two real items */\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:not(.comment_cluster_element_updatable--avatarGhost---HncI):first-child:nth-last-child(2):nth-child(1), .comment_cluster_element_updatable--avatarsContainer--9KMtK\n  > .comment_cluster_element_updatable--avatar--O2T-p:not(.comment_cluster_element_updatable--avatarGhost---HncI):first-child:nth-last-child(2)\n  ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:not(.comment_cluster_element_updatable--avatarGhost---HncI):nth-child(1) {\n    left: 10px;\n    top: 10px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:not(.comment_cluster_element_updatable--avatarGhost---HncI):first-child:nth-last-child(2):nth-child(2), .comment_cluster_element_updatable--avatarsContainer--9KMtK\n  > .comment_cluster_element_updatable--avatar--O2T-p:not(.comment_cluster_element_updatable--avatarGhost---HncI):first-child:nth-last-child(2)\n  ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:not(.comment_cluster_element_updatable--avatarGhost---HncI):nth-child(2) {\n    left: 26px;\n    top: 26px;\n  }\n/* three items */\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(3):nth-child(1), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(3) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(1) {\n    left: 6px;\n    top: 10px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(3):nth-child(2), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(3) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(2) {\n    left: 30px;\n    top: 10px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(3):nth-child(3), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(3) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(3) {\n    left: 18px;\n    top: 32px;\n  }\n/* four items */\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(4):nth-child(1), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(4) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(1) {\n    left: 4px;\n    top: 18px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(4):nth-child(2), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(4) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(2) {\n    left: 18px;\n    top: 4px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(4):nth-child(3), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(4) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(3) {\n    left: 32px;\n    top: 18px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(4):nth-child(4), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(4) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(4) {\n    left: 18px;\n    top: 32px;\n  }\n/* five items */\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(5):nth-child(1), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(5) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(1) {\n    left: 9px;\n    top: 30px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(5):nth-child(2), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(5) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(2) {\n    left: 5px;\n    top: 13px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(5):nth-child(3), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(5) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(3) {\n    left: 18px;\n    top: 4px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(5):nth-child(4), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(5) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(4) {\n    left: 31px;\n    top: 13px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK > *.comment_cluster_element_updatable--avatar--O2T-p:first-child:nth-last-child(5):nth-child(5), .comment_cluster_element_updatable--avatarsContainer--9KMtK > *:first-child:nth-last-child(5) ~ .comment_cluster_element_updatable--avatar--O2T-p.comment_cluster_element_updatable--avatar--O2T-p:nth-child(5) {\n    left: 27px;\n    top: 30px;\n  }\n.comment_cluster_element_updatable--avatarsContainer--9KMtK .comment_cluster_element_updatable--unread--WDj6- {\n  background-color: var(--color-bg-brand, #0d99ff);\n  border-color: var(--color-bg-brand, #0d99ff);\n}\n:root {\n  --scale: 1;\n}\n.comment_cluster_element_updatable--avatarClusterAnchor--EK8F5 {\n  position: absolute;\n  will-change: transform;\n  /* transform property set programatically in avatar_cluster_element.tsx */\n  user-select: none;\n  -webkit-user-select: none;\n}\n/**\n  Math for the indicator we are using to show if a thread is pinned as part of\n  #exp-pinned-comments! This icon sits in the top-right corner of the cluster\n  element and should shift as the radius expands with a scale transformation:\n\n          , - ~ ~ ~ - ,\n      , '               ' ,     ,\n    ,                       ,     ,\n    ,                         ,     ,\n  ,                   r1      ,     ,\n  ,             ------------- , --- ,\n  ,             |             , |   ,\n    ,            ------- r2 - , --  ,\n    ,                       ,     ,\n      ,                  , '\n        ' - , _ _ _ ,  '\n\n  r2 = 1.1 * r1 (or 1.2, in the case of .emphasized)\n  d1 and d2 are equal to 2r1 and 2r2, respectively\n\n  Since we're shifting the top-left coordinates of the pin indicator, we need\n  to calculate the delta between the two radii, and derive the x/y from the\n  hypotenuse of the triangle created\n\n  ((scaleFactor * d1 - d1) / 2)^2 = delta^2\n  delta = (scaleFactor * d1 - d1) / 2 / sqrt(2)\n*/\n.comment_cluster_element_updatable--avatarCluster--nOGr5 {\n  display: flex;\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  font-family: Inter, sans-serif;\n  font-weight: 400;\n  font-size: 13px;\n}\n.comment_cluster_element_updatable--avatarCluster--nOGr5:hover .comment_cluster_element_updatable--pinnedThreadToFileIndicator--VWP8h {\n    transform: translate(\n      2.26274px,\n      -2.26274px\n    );\n  }\n.comment_cluster_element_updatable--emphasized--rlBH5 .comment_cluster_element_updatable--pinnedThreadToFileIndicator--VWP8h,\n  .comment_cluster_element_updatable--emphasized--rlBH5:hover .comment_cluster_element_updatable--pinnedThreadToFileIndicator--VWP8h {\n    transform: translate(\n      2.26274px,\n      -2.26274px\n    ) !important;\n  }\n.comment_cluster_element_updatable--pinnedThreadToFileIndicator--VWP8h {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  justify-content: center;\n  align-items: center;\n  box-shadow: var(--elevation-200-canvas);\n  display: flex;\n  transform: scale(0);\n  opacity: 0;\n  transition:\n    250ms transform cubic-bezier(0.4, 0, 0, 1), 250ms opacity cubic-bezier(0.4, 0, 0, 1);\n}\n.comment_cluster_element_updatable--pinnedThreadToFileIndicator--VWP8h.comment_cluster_element_updatable--indicatorShown--E-uu- {\n    opacity: 1;\n    transform: scale(1);\n  }\n.comment_cluster_element_updatable--cornerCluster--fp6Se {\n  width: 24px;\n  height: 24px;\n}\n/* We are using a before pseudo element here because\n * We want to scale the cluster size on hover but not its\n * child elements.\n */\n.comment_cluster_element_updatable--avatarCluster--nOGr5:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n  background: var(--color-bg, #ffffff);\n  border-radius: 50%;\n  box-shadow: var(\n    --elevation-200-canvas,\n    0px 3px 6px rgba(0, 0, 0, 0.3),\n    0 0 1px rgba(0, 0, 0, 0.05)\n  );\n  transition: transform 250ms cubic-bezier(0.4, 0, 0, 1);\n}\n.comment_cluster_element_updatable--avatarCluster--nOGr5:hover::before {\n  transform: scale(1.1);\n}\n.comment_cluster_element_updatable--unread--WDj6- .comment_cluster_element_updatable--avatarCluster--nOGr5::before {\n  background: var(--color-bg-brand, #0d99ff);\n  box-shadow: var(\n    --elevation-200-canvas,\n    0px 1px 2px rgba(0, 0, 0, 0.1),\n    0px 5px 8px rgba(0, 0, 0, 0.3)\n  );\n  color: #ffffff; /* stylelint-disable-line @figma/color-no-raw -- TODO: refactor with semantic token */\n}\n.comment_cluster_element_updatable--avatarCluster--nOGr5:hover > .comment_cluster_element_updatable--avatar--O2T-p {\n  transform: scale(0.2);\n  opacity: 0 !important;\n  transition: all 200ms ease-in-out;\n}\n.comment_cluster_element_updatable--avatarCluster--nOGr5:hover:after {\n  opacity: 1;\n}\n.comment_cluster_element_updatable--unread--WDj6- .comment_cluster_element_updatable--avatarCluster--nOGr5:after {\n  background-color: var(--color-bg-brand, rgba(13, 153, 255, 1));\n  color: var(--color-text-onbrand, rgb(255, 255, 255));\n}\n.comment_cluster_element_updatable--dimmed--8R64m .comment_cluster_element_updatable--avatarCluster--nOGr5 {\n  opacity: 0.5;\n}\n.comment_cluster_element_updatable--dimmed--8R64m:hover .comment_cluster_element_updatable--avatarCluster--nOGr5 {\n  opacity: 1;\n}\n.comment_cluster_element_updatable--emphasized--rlBH5 .comment_cluster_element_updatable--avatarCluster--nOGr5::before {\n  transform: scale(1.2);\n}\n.comment_cluster_element_updatable--clusterCount--LB-u8 {\n  display: block;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  opacity: 0;\n  border-radius: 50%;\n  background-color: var(--color-bg, #ffffff);\n  overflow: hidden;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0, 1);\n  font-weight: 600;\n}\n.comment_cluster_element_updatable--clusterCount--LB-u8::after {\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  width: 100%;\n  vertical-align: -50%;\n  text-align: center;\n  content: attr(display-thread-count) ' ';\n  transform: translateY(-50%);\n  border-radius: 50%;\n}\n.comment_cluster_element_updatable--unread--WDj6- .comment_cluster_element_updatable--clusterCount--LB-u8 {\n  background-color: var(--color-bg-brand, #0d99ff);\n  color: var(--color-text-onbrand, white);\n}\n.comment_cluster_element_updatable--clusterCount--LB-u8.comment_cluster_element_updatable--appear--QXfbh {\n  opacity: 1;\n}\n.comment_cluster_element_updatable--avatarClusterAnchor--EK8F5:hover > *:not(.comment_cluster_element_updatable--minimized--zZzdI) > .comment_cluster_element_updatable--clusterCount--LB-u8 {\n  opacity: 1;\n}\n.comment_cluster_element_updatable--minimized--zZzdI .comment_cluster_element_updatable--avatarCluster--nOGr5 {\n  transform: scale(0.5);\n}\n"},32007:(e,r,n)=>{"use strict";n.d(r,{$N:()=>N,CA:()=>K,C_:()=>w,Fm:()=>G,Gb:()=>B,H:()=>i,KV:()=>j,K_:()=>o,Nz:()=>Y,OF:()=>p,S:()=>V,T7:()=>R,Ud:()=>O,VH:()=>A,V_:()=>D,Vc:()=>U,Ws:()=>h,XH:()=>k,ZR:()=>S,Zr:()=>P,b9:()=>_,c_:()=>l,dQ:()=>d,e7:()=>s,gy:()=>g,hp:()=>x,i1:()=>z,ij:()=>f,kW:()=>E,mh:()=>M,mp:()=>m,my:()=>a,pd:()=>C,q_:()=>u,rC:()=>v,rX:()=>I,se:()=>L,sz:()=>H,tu:()=>T,u5:()=>F,u_:()=>c,v3:()=>b,wH:()=>y,zn:()=>W});let i="comment_cluster_elements--avatarContainer--MIWC0",a="comment_cluster_elements--avatar---UxUS",o="comment_cluster_elements--inCluster--bki2j",s="comment_cluster_elements--fallbackAvatar--Wzl2w",l="comment_cluster_elements--avatarOverflowCounter--e523R",d="comment_cluster_elements--avatarsRoot--lXrbc",c="comment_cluster_elements--avatarsContainer--tcQC0",u="comment_cluster_elements--avatarsPrimaryContainer--v1PL-",p="comment_cluster_elements--avatarsOverflowContainer--nDRn0",h="comment_cluster_elements--avatarsSecondaryContainer--1qP2a",m="comment_cluster_elements--avatarsOverflowAvatar--gFZKs",g="comment_cluster_elements--unread--U9YNQ",f="comment_cluster_elements--avatarPinAnchor--QPpy0",_="comment_cluster_elements--feedPinAnchor--e9Z1p",y="comment_cluster_elements--selected--M-70L",E="comment_cluster_elements--avatarPinContainer---daUJ",b="comment_cluster_elements--pinnedThreadToFileIndicator--Y1TFE",v="comment_cluster_elements--withMotion--s-HSe",S="comment_cluster_elements--indicatorShown--wmJN7",I="comment_cluster_elements--dimmed--Zrzpv",T="comment_cluster_elements--multipleAvatars--3RDVv",w="comment_cluster_elements--avatarsHoverContainer--Aopn-",C="comment_cluster_elements--minimized--rON0e",A="comment_cluster_elements--preview--06uH5",N="comment_cluster_elements--avatarPinPreview--LyYBG",O="comment_cluster_elements--avatarPinPreviewHeader--KFft4",R="comment_cluster_elements--avatarPinPreviewAuthorName---M3T7",P="comment_cluster_elements--avatarPinPreviewTimestamp--7jd3I",L="comment_cluster_elements--avatarPinPreviewText--jC62s",D="comment_cluster_elements--avatarPinPreviewReplySummary--tQ-W6",M="comment_cluster_elements--inlineEmoji--kIOnz",k="comment_cluster_elements--lightBoldStyle--4-E1R",x="comment_cluster_elements--boldStyle--GamiE",F="comment_cluster_elements--italicStyle--oT7bX",U="comment_cluster_elements--strikethroughStyle--95bxL",B="comment_cluster_elements--selectionBox--1TSuq",V="comment_cluster_elements--loadingSpinner--6derj",H="comment_cluster_elements--expanded--ENOB5",G="comment_cluster_elements--hoverDisabled--j76j7",W="comment_cluster_elements--feedPostPinContainer--Kq02d comment_cluster_elements--avatarPinContainer---daUJ",z="comment_cluster_elements--feedPostPinTopRowContainer--rTGtQ",K="comment_cluster_elements--feedPostTitleText---LQTq",j="comment_cluster_elements--selectionBoxHidden--U8Ntf",Y="/** @postcss-export-raw */\n:root {\n  --expandAnimationTime: 100ms;\n}\n.comment_cluster_elements--avatarContainer--MIWC0 {\n  display: flex;\n  min-width: 26px;\n  visibility: visible;\n}\n/* Left position is set in javascript */\n.comment_cluster_elements--avatar---UxUS {\n  width: 24px;\n  height: 24px;\n  border-radius: 100%;\n  border: 1px solid var(--color-bg, #ffffff);\n  /* stylelint-disable @figma/color-no-raw -- TODO: refactor with semantic token */\n  background: linear-gradient(\n      136.68deg,\n      rgba(0, 0, 0, 0.05) 11.37%,\n      rgba(255, 255, 255, 0.039) 82.26%\n    ),\n    #f0f0f0;\n  /* stylelint-enable @figma/color-no-raw */\n}\n.comment_cluster_elements--inCluster--bki2j .comment_cluster_elements--avatar---UxUS,\n.comment_cluster_elements--inCluster--bki2j .comment_cluster_elements--fallbackAvatar--Wzl2w,\n.comment_cluster_elements--inCluster--bki2j .comment_cluster_elements--avatarOverflowCounter--e523R {\n  border-width: 2px;\n}\n.comment_cluster_elements--fallbackAvatar--Wzl2w {\n  width: 24px;\n  height: 24px;\n  border-radius: 100%;\n  /* TODO(dark mode): avatar text color */\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 13px;\n  text-transform: uppercase;\n  border: 1px solid var(--color-bg, #ffffff);\n}\n/* Avatar elements */\n.comment_cluster_elements--avatarsRoot--lXrbc {\n  display: flex;\n  transition:\n    opacity var(--expandAnimationTime) ease-in-out, visibility var(--expandAnimationTime) ease-in-out;\n}\n.comment_cluster_elements--avatarsContainer--tcQC0 {\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: flex-end;\n  align-items: flex-start;\n  min-width: 26px;\n  min-height: 26px;\n}\n.comment_cluster_elements--avatarsPrimaryContainer--v1PL- {\n  display: flex;\n  flex-direction: row-reverse;\n}\n.comment_cluster_elements--avatarsPrimaryContainer--v1PL- > .comment_cluster_elements--avatarContainer--MIWC0 {\n  margin-left: -6px;\n  margin-right: 0px;\n  transition: margin-left var(--expandAnimationTime) ease-in-out;\n  -webkit-transition: margin-left var(--expandAnimationTime) ease-in-out;\n  /* We add a z-index to force the stacking context to stack elements further down the DOM\n     above elements further up the DOM */\n  z-index: 0;\n}\n.comment_cluster_elements--avatarsPrimaryContainer--v1PL- > .comment_cluster_elements--avatarContainer--MIWC0:last-child {\n  margin-left: 0;\n}\n.comment_cluster_elements--avatarsOverflowContainer--nDRn0 {\n  display: flex;\n  flex-direction: row-reverse;\n  margin-left: -6px;\n  transition: margin-left var(--expandAnimationTime) ease-in-out;\n  -webkit-transition: margin-left var(--expandAnimationTime) ease-in-out;\n  min-width: 4px;\n  /* The overflow container should always be above the secondary container when they overlap */\n  /* We add a z-index to force the stacking context to stack elements further down the DOM\n     above elements further up the DOM */\n\n  z-index: 0;\n}\n.comment_cluster_elements--avatarsSecondaryContainer--1qP2a {\n  display: flex;\n  flex-direction: row-reverse;\n  margin-left: -26px;\n  max-width: 26px;\n  overflow: hidden;\n  border-radius: 16px 0 0 16px;\n  transition: max-width var(--expandAnimationTime) ease-in-out;\n  -webkit-transition: max-width var(--expandAnimationTime) ease-in-out;\n}\n.comment_cluster_elements--avatarsSecondaryContainer--1qP2a > .comment_cluster_elements--avatarContainer--MIWC0 {\n  margin-left: 5px;\n}\n.comment_cluster_elements--avatarsSecondaryContainer--1qP2a > .comment_cluster_elements--avatarContainer--MIWC0:last-child {\n  margin-left: 33px !important;\n}\n.comment_cluster_elements--avatarsOverflowAvatar--gFZKs {\n  margin-left: -26px;\n}\n@property --num {\n  syntax: '<integer>';\n  initial-value: 0;\n  inherits: false;\n}\n.comment_cluster_elements--avatarOverflowCounter--e523R {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  /* TODO(dark mode): --color-text against --color-bg-secondary */\n  background-color: var(--color-bg-secondary, #b2b2b2);\n  border: 1px solid var(--color-bg, white);\n  color: var(--color-text, white);\n  font-size: 13px;\n  text-transform: uppercase;\n  font-family: Inter, sans-serif;\n\n  transition: --num var(--expandAnimationTime);\n  -webkit-transition: --num var(--expandAnimationTime);\n  counter-reset: num var(--num);\n  --num: var(--overflowCount);\n  opacity: var(--num);\n  /* The overflow counter should always be on top any avatar placed in the overflow container */\n  /* We add a z-index to force the stacking context to stack elements further down the DOM\n     above elements further up the DOM */\n\n  z-index: 0;\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--avatarOverflowCounter--e523R {\n  background-color: var(--color-bg-brand-secondary, #1167b0);\n  border-color: var(--color-bg-brand, #0d99ff);\n  color: var(--color-text-onbrand, white);\n}\n.comment_cluster_elements--avatarOverflowCounter--e523R::after {\n  content: counter(num);\n}\n.comment_cluster_elements--avatarPinAnchor--QPpy0 {\n  position: absolute;\n  will-change: transform;\n  /* transform property set programatically in avatar_pin_element_display.tsx */\n  transform-origin: bottom left;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.comment_cluster_elements--feedPinAnchor--e9Z1p {\n  /* Simply used to distinguish the top level figma-post-pin element */\n}\n/* Make the comments slightly bigger on devices with coarse pointers (usually mobile) */\n@media (pointer: coarse) {\n  .comment_cluster_elements--avatarPinAnchor--QPpy0 {\n    --scale: 1.15;\n  }\n}\n.comment_cluster_elements--avatarPinAnchor--QPpy0:not(.comment_cluster_elements--selected--M-70L) .comment_cluster_elements--avatarPinContainer---daUJ:hover .comment_cluster_elements--pinnedThreadToFileIndicator--Y1TFE {\n  transform: scale(0);\n  opacity: 0;\n  transition: unset;\n  pointer-events: none;\n}\n.comment_cluster_elements--avatarPinContainer---daUJ {\n  display: flex;\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  min-width: 26px;\n  align-self: flex-start;\n  justify-self: flex-start;\n  flex-direction: row;\n  max-width: 240px;\n  box-sizing: border-box;\n  padding: 3px 3px;\n  font-size: 11px;\n  line-height: 16px;\n  color: var(--color-text, #333333);\n  background-color: var(--color-bg, white);\n  border-radius: 16px 16px 16px 0px;\n  box-shadow: var(\n    --elevation-200-canvas,\n    0px 3px 6px rgba(0, 0, 0, 0.3),\n    0 0 1px rgba(0, 0, 0, 0.05)\n  );\n  font-family: Inter, sans-serif;\n  transform-origin: bottom left;\n  transition:\n    max-width var(--expandAnimationTime) ease-in-out, max-height var(--expandAnimationTime) ease-in-out, padding var(--expandAnimationTime) ease-in-out, min-width var(--expandAnimationTime) ease-in-out;\n  -webkit-transition:\n    max-width var(--expandAnimationTime) ease-in-out,\n    max-height var(--expandAnimationTime) ease-in-out,\n    padding var(--expandAnimationTime) ease-in-out,\n    min-width var(--expandAnimationTime) ease-in-out;\n}\n.comment_cluster_elements--pinnedThreadToFileIndicator--Y1TFE {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  z-index: 1;\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  justify-content: center;\n  align-items: center;\n  box-shadow: var(--elevation-200-canvas);\n  display: flex;\n  transform: scale(0);\n  opacity: 0;\n  pointer-events: none;\n}\n.comment_cluster_elements--pinnedThreadToFileIndicator--Y1TFE.comment_cluster_elements--withMotion--s-HSe {\n    /* TODO: Confirm with design whether this bezier curve suffices */\n    transition:\n      600ms transform cubic-bezier(0.18, 0.89, 0.32, 1.28), 600ms opacity cubic-bezier(0.18, 0.89, 0.32, 1.28);\n  }\n.comment_cluster_elements--pinnedThreadToFileIndicator--Y1TFE.comment_cluster_elements--indicatorShown--wmJN7 {\n    opacity: 1;\n    transform: scale(1);\n  }\n.comment_cluster_elements--dimmed--Zrzpv .comment_cluster_elements--avatarPinContainer---daUJ {\n  opacity: 0.5;\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--avatarPinContainer---daUJ {\n  background-color: var(--color-bg-brand, #0d99ff);\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--avatar---UxUS {\n  border-color: var(--color-bg-brand, #0d99ff); /* border should blend into background */\n  /* stylelint-disable @figma/color-no-raw -- TODO: refactor with semantic token */\n  background: linear-gradient(\n      136.68deg,\n      rgba(0, 0, 0, 0.05) 11.37%,\n      rgba(255, 255, 255, 0.039) 82.26%\n    ),\n    var(--color-bg-brand, #1797ec);\n  /* stylelint-enable @figma/color-no-raw*/\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--fallbackAvatar--Wzl2w {\n  border-color: var(--color-bg-brand, #0d99ff);\n}\n.comment_cluster_elements--multipleAvatars--3RDVv {\n  flex-direction: column;\n}\n.comment_cluster_elements--avatarsHoverContainer--Aopn-.comment_cluster_elements--selected--M-70L .comment_cluster_elements--avatarPinContainer---daUJ {\n  /* stylelint-disable @figma/color-no-raw -- TODO(dark mode): box shadow */\n  box-shadow:\n    0px 3px 6px rgba(0, 0, 0, 0.3),\n    0 0 1px rgba(0, 0, 0, 0.05),\n     0 0 0 2px\n      var(--color-border-selected, #0d99ff);\n  /* stylelint-enable @figma/color-no-raw*/\n}\n.comment_cluster_elements--minimized--rON0e:not(.comment_cluster_elements--selected--M-70L):not(.comment_cluster_elements--preview--06uH5) > .comment_cluster_elements--avatarPinContainer---daUJ {\n  /* If minimized, we also want to animate the transform property */\n  transition-propery: max-width, max-height, padding, min-width, transform;\n  -webkit-transition-propery: max-width, max-height, padding, min-width, transform;\n\n  transform: scale(0.5);\n}\n.comment_cluster_elements--minimized--rON0e:hover .comment_cluster_elements--avatarPinContainer---daUJ {\n  transform: unset;\n}\n.comment_cluster_elements--minimized--rON0e:hover .comment_cluster_elements--avatarPinContainer---daUJ .comment_cluster_elements--avatarsRoot--lXrbc {\n    opacity: 1;\n  }\n.comment_cluster_elements--avatarPinPreview--LyYBG {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  visibility: hidden;\n  max-width: 0px;\n  max-height: 0px;\n  font-size: 11px;\n  transition:\n    max-width var(--expandAnimationTime) ease-in-out, max-height var(--expandAnimationTime) ease-in-out;\n  -webkit-transition:\n    max-width var(--expandAnimationTime) ease-in-out,\n    max-height var(--expandAnimationTime) ease-in-out;\n  cursor: default;\n}\n.comment_cluster_elements--avatarPinPreviewHeader--KFft4 {\n  display: flex;\n  font-weight: 400;\n}\n.comment_cluster_elements--avatarPinPreviewAuthorName---M3T7 {\n  font-weight: 500;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  min-width: 15px;\n}\n.comment_cluster_elements--avatarPinPreviewTimestamp--7jd3I {\n  margin-left: 4px;\n  flex-shrink: 0;\n  color: var(--color-text-secondary, rgba(0, 0, 0, 0.3));\n}\n.comment_cluster_elements--avatarPinPreviewText--jC62s {\n  display: flex;\n  overflow: hidden;\n  min-width: 180px;\n  max-width: 180px;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n}\n.comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreviewText--jC62s {\n  min-width: 200px;\n  max-width: 200px;\n}\n.comment_cluster_elements--avatarPinPreviewReplySummary--tQ-W6 {\n  display: flex;\n  flex-grow: 1;\n  color: var(--color-text-secondary, rgba(0, 0, 0, 0.3));\n  -webkit-line-clamp: 1;\n  max-height: 1.5em;\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--avatarPinPreview--LyYBG {\n  color: var(--color-text-onbrand, #fff);\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--avatarPinPreview--LyYBG .comment_cluster_elements--avatarPinPreviewTimestamp--7jd3I {\n  color: var(--color-text-onbrand-secondary, rgba(255, 255, 255, 0.8));\n}\n.comment_cluster_elements--unread--U9YNQ .comment_cluster_elements--avatarPinPreview--LyYBG .comment_cluster_elements--avatarPinPreviewReplySummary--tQ-W6 {\n  color: var(--color-text-onbrand-secondary, rgba(255, 255, 255, 0.8));\n}\n.comment_cluster_elements--inlineEmoji__OLD--3OFn9 {\n  vertical-align: text-bottom;\n  height: 17px;\n}\n.comment_cluster_elements--inlineEmoji--kIOnz {\n  font-family:\n    EmojiMart,\n    Segoe UI Emoji,\n    Segoe UI Symbol,\n    Segoe UI,\n    Apple Color Emoji,\n    Twemoji Mozilla,\n    Noto Color Emoji,\n    Android Emoji;\n  font-size: 16px;\n}\n.comment_cluster_elements--lightBoldStyle--4-E1R {\n  font-weight: 500;\n}\n.comment_cluster_elements--boldStyle--GamiE {\n  font-weight: 600;\n}\n.comment_cluster_elements--italicStyle--oT7bX {\n  font-style: italic;\n}\n.comment_cluster_elements--strikethroughStyle--95bxL {\n  -webkit-text-decoration: line-through;\n  text-decoration: line-through;\n}\n/* Selection box */\n.comment_cluster_elements--selectionBox--1TSuq {\n  visibility: hidden;\n  position: absolute;\n  box-sizing: border-box;\n  border: dashed 2px var(--color-border-selected, #0d99ff);\n  pointer-events: none;\n}\n/* Loading spinner */\n.comment_cluster_elements--loadingSpinner--6derj {\n  border: 2px solid var(--color-border, #f3f3f3);\n  border-top: 2px solid var(--color-border-brand, #3498db);\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  margin: 4px;\n  box-sizing: border-box;\n  animation: comment_cluster_elements--spin--1OFwI 1s linear infinite;\n  flex-shrink: 0;\n}\n@keyframes comment_cluster_elements--spin--1OFwI {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.comment_cluster_elements--preview--06uH5 {\n  /* used to distinguish the \"preview\" meta-state in CSS */\n}\n/* Comment preview expanded animation */\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) {\n  z-index: 1;\n  transition: z-index var(--expandAnimationTime) linear;\n  -webkit-transition: z-index var(--expandAnimationTime) linear;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsSecondaryContainer--1qP2a {\n  max-width: 160px;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) :not(.comment_cluster_elements--multipleAvatars--3RDVv) .comment_cluster_elements--avatarPinPreview--LyYBG {\n  margin-left: 8px;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7):not(.comment_cluster_elements--multipleAvatars--3RDVv)\n  .comment_cluster_elements--avatarsPrimaryContainer--v1PL-\n  > .comment_cluster_elements--avatarContainer--MIWC0:last-child {\n  margin-left: 0px !important;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsPrimaryContainer--v1PL- > .comment_cluster_elements--avatarContainer--MIWC0:last-child {\n  margin-left: -2px !important;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsPrimaryContainer--v1PL- > .comment_cluster_elements--avatarContainer--MIWC0 {\n  margin-left: 5px !important;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsOverflowContainer--nDRn0 {\n  margin-left: 5px !important;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarOverflowCounter--e523R {\n  --num: 0;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ {\n  min-width: 240px;\n}\n.comment_cluster_elements--dimmed--Zrzpv.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ {\n  opacity: 1;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ:not(.comment_cluster_elements--multipleAvatars--3RDVv) {\n  padding: 10px;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ.comment_cluster_elements--multipleAvatars--3RDVv {\n  padding: 16px;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinPreview--LyYBG {\n  max-width: 240px;\n  max-height: 156px;\n  visibility: visible;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreview--LyYBG {\n  margin-top: 4px;\n  margin-left: 2px;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreviewHeader--KFft4 {\n  margin-bottom: 4px;\n}\n.comment_cluster_elements--expanded--ENOB5:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreviewText--jC62s {\n  margin-bottom: 4px;\n}\n.comment_cluster_elements--feedPostPinContainer--Kq02d {\n  top: 0;\n  bottom: unset;\n  border-radius: 0px 16px 16px 4px;\n  padding: 0;\n  flex-direction: column;\n}\n.comment_cluster_elements--feedPostPinTopRowContainer--rTGtQ {\n  display: flex;\n  align-items: center;\n  column-gap: 0px;\n  padding: 2px;\n  height: 32px;\n  box-sizing: border-box;\n}\n.comment_cluster_elements--feedPostTitleText---LQTq {\n  font-weight: 500;\n}\n/* Hover animations */\n@media (hover: hover) {\n  /* This style essentially does nothing. Safari version 15 and up will not apply styles\n  of the form  `parentClass:hover childClass` if we don't use the direct child selector (>).\n  For some reason, adding this property works as a fix. We are still root causing.\n  Tracked here: https://app.asana.com/0/1147681086502841/1201887604132116/f */\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) > .comment_cluster_elements--avatarPinContainer---daUJ {\n    pointer-events: all;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsSecondaryContainer--1qP2a {\n    max-width: 160px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) :not(.comment_cluster_elements--multipleAvatars--3RDVv) .comment_cluster_elements--avatarPinPreview--LyYBG {\n    margin-left: 8px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7):not(.comment_cluster_elements--multipleAvatars--3RDVv)\n    .comment_cluster_elements--avatarsPrimaryContainer--v1PL-\n    > .comment_cluster_elements--avatarContainer--MIWC0:last-child {\n    margin-left: 0px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7)\n    .comment_cluster_elements--avatarsPrimaryContainer--v1PL-\n    > .comment_cluster_elements--avatarContainer--MIWC0:last-child {\n    margin-left: -2px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsPrimaryContainer--v1PL- > .comment_cluster_elements--avatarContainer--MIWC0 {\n    margin-left: 5px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarsOverflowContainer--nDRn0 {\n    margin-left: 5px !important;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarOverflowCounter--e523R {\n    --num: 0;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) {\n    z-index: 1;\n    transition: z-index var(--expandAnimationTime) linear;\n    -webkit-transition: z-index var(--expandAnimationTime) linear;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ {\n    min-width: 240px;\n  }\n\n  .comment_cluster_elements--dimmed--Zrzpv.comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ {\n    opacity: 1;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7)\n    .comment_cluster_elements--avatarPinContainer---daUJ:not(.comment_cluster_elements--multipleAvatars--3RDVv):not(.comment_cluster_elements--feedPostPinContainer--Kq02d) {\n    padding: 10px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinContainer---daUJ.comment_cluster_elements--multipleAvatars--3RDVv {\n    padding: 16px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--avatarPinPreview--LyYBG {\n    max-width: 240px;\n    max-height: 156px;\n    visibility: visible;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreview--LyYBG {\n    margin-top: 4px;\n    margin-left: 2px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreviewHeader--KFft4 {\n    margin-bottom: 4px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--multipleAvatars--3RDVv .comment_cluster_elements--avatarPinPreviewText--jC62s {\n    margin-bottom: 4px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7):not(.comment_cluster_elements--selected--M-70L)\n    > .comment_cluster_elements--selectionBox--1TSuq:not(.comment_cluster_elements--selectionBoxHidden--U8Ntf) {\n    visibility: visible;\n  }\n\n  /* Comment pins display a React component <CommentSelectionBox/> when they are selected\n  For post pins, we can just use CSS to make the existing selection box visible when they are selected */\n  .comment_cluster_elements--feedPinAnchor--e9Z1p.comment_cluster_elements--selected--M-70L > .comment_cluster_elements--selectionBox--1TSuq:not(.comment_cluster_elements--selectionBoxHidden--U8Ntf) {\n    visibility: visible;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--feedPostPinTopRowContainer--rTGtQ {\n    column-gap: 8px;\n    padding: 0;\n    height: 24px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--feedPostPinContainer--Kq02d {\n    padding: 16px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--feedPostPinContainer--Kq02d .comment_cluster_elements--avatarPinPreview--LyYBG {\n    margin-top: 4px;\n    margin-left: 2px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--feedPostPinContainer--Kq02d .comment_cluster_elements--avatarPinPreviewHeader--KFft4 {\n    margin-bottom: 4px;\n  }\n\n  .comment_cluster_elements--avatarsHoverContainer--Aopn-:hover:not(.comment_cluster_elements--hoverDisabled--j76j7) .comment_cluster_elements--feedPostPinContainer--Kq02d .comment_cluster_elements--avatarPinPreviewText--jC62s {\n    margin-bottom: 4px;\n  }\n}\n"},37592:()=>{},654:(e,r,n)=>{"use strict";n.d(r,{$b:()=>m,DK:()=>c,G:()=>E,H:()=>I,IZ:()=>_,Kf:()=>w,Rc:()=>d,Sv:()=>l,UU:()=>s,Xv:()=>g,Yp:()=>T,b0:()=>v,d7:()=>h,hF:()=>C,li:()=>f,qD:()=>a,qN:()=>i,uK:()=>b,wA:()=>S,wf:()=>u,ws:()=>p,zc:()=>y,zn:()=>o});let i="multilevel_dropdown--pointingDropdown--0mYYM",a="multilevel_dropdown--submenu---sSa9",o="multilevel_dropdown--subTextContainer--Yx6bF",s="multilevel_dropdown--name--G0H87 ellipsis--ellipsis--Tjyfa",l="multilevel_dropdown--subText--Czx4F multilevel_dropdown--name--G0H87 ellipsis--ellipsis--Tjyfa text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",d="multilevel_dropdown--sideText--AxsT3 multilevel_dropdown--name--G0H87 ellipsis--ellipsis--Tjyfa text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",c="multilevel_dropdown--rightColumn--NfYz8",u="multilevel_dropdown--rightColumnCheckmark--fNU4f multilevel_dropdown--rightColumn--NfYz8",p="multilevel_dropdown--rightColumnBadge--IdQu7 multilevel_dropdown--rightColumn--NfYz8",h="multilevel_dropdown--rightColumnAfterFixedSideText--jTp46 multilevel_dropdown--rightColumn--NfYz8",m="multilevel_dropdown--sideTextFixedRight--pXQKr multilevel_dropdown--sideText--AxsT3 multilevel_dropdown--name--G0H87 ellipsis--ellipsis--Tjyfa text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",g="multilevel_dropdown--rightColumnShortcut---2GmL multilevel_dropdown--rightColumn--NfYz8 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",f="multilevel_dropdown--hasSubmenuIcon--PWJDs",_="multilevel_dropdown--optionDisabled--yUluY multilevel_dropdown--optionBase--hPebA dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",y="multilevel_dropdown--iconContainer--ApRpE",E="multilevel_dropdown--infoIcon--qV2KE multilevel_dropdown--iconContainer--ApRpE",b="multilevel_dropdown--option--RRwcd multilevel_dropdown--optionBase--hPebA dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",v="multilevel_dropdown--optionVisuallyDisabledWithSelection--8ty9b multilevel_dropdown--optionDisabled--yUluY multilevel_dropdown--optionBase--hPebA dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",S="multilevel_dropdown--optionActive--PfdBl multilevel_dropdown--optionBase--hPebA dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",I="multilevel_dropdown--childCheckedIndicator--Ij9Jl",T="multilevel_dropdown--noLeftPadding--KRDRo",w="multilevel_dropdown--inputContainer--50x82",C="multilevel_dropdown--input--ZHn1-"},33483:(e,r,n)=>{"use strict";n.d(r,{Ah:()=>y,CZ:()=>w,EA:()=>c,LE:()=>T,LJ:()=>u,No:()=>_,O1:()=>m,PB:()=>b,PQ:()=>i,Pf:()=>s,U:()=>f,X0:()=>I,Z4:()=>h,_Z:()=>d,a2:()=>v,ai:()=>g,kR:()=>a,l$:()=>S,pc:()=>p,pq:()=>o,vR:()=>E,wh:()=>l});let i="raw_components--border--SKh2u",a="raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip",o="raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",s="raw_components--label--4LcC7 raw_components--base--T7G0z",l="raw_components--labelInactive--tm1fU raw_components--label--4LcC7 raw_components--base--T7G0z",d="raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",c="raw_components--textInputSoftDisabled--M5O7I",u="raw_components--noPlaceholderLine--KBoD7",p="raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",h="raw_components--noLeftBorder--QE-ZB",m="raw_components--squareRightBorder--ktojw",g="raw_components--chevron--nJiSt",f="raw_components--wide--F33jp",_="raw_components--transparentIconButtonEnabled--l2bm3 raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",y="raw_components--iconButtonDisabled--SoTjK raw_components--_iconButton---ybo6",E="raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6",b="raw_components--outlineButton--FyUoF",v="raw_components--modalPanel--wmDfl",S="raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm",I="raw_components--row200--Dgjc6 raw_components--row200Height--wotRv raw_components--_row--rHucX",T="raw_components--row150--2Q0-i raw_components--_rowHeight150--ZzVcZ raw_components--_row--rHucX",w="raw_components--rowSelected--M2Eip"},94248:(e,r,n)=>{"use strict";n.d(r,{xE:()=>i,yA:()=>a});let i="in_app_page--appFont--W2-9p",a="in_app_page--app--U0Lrj in_app_page--appFont--W2-9p"},9590:(e,r,n)=>{"use strict";n.d(r,{$$:()=>R,CY:()=>c,DD:()=>v,Dy:()=>y,Er:()=>p,FQ:()=>O,Gx:()=>f,HY:()=>h,Ir:()=>o,JY:()=>m,K1:()=>i,KJ:()=>l,KP:()=>E,L4:()=>s,LO:()=>A,R7:()=>g,Xt:()=>a,Y0:()=>d,_f:()=>w,ew:()=>_,hF:()=>T,jE:()=>b,pL:()=>C,u1:()=>N,v0:()=>I,wN:()=>S,yl:()=>u});let i="modal--modalBackground--PCmzN",a="modal--modalLeftAligned--29R-z",o="modal--modalRightAligned--SseYm",s="modal--modalLeftAlignedNoPadding--Jy9ep",l="modal--modalAbsolutelyPositioned--Tl61h",d="modal--tintedModalBackground--4UCfa",c="modal--fixedTop--KE57J",u="modal--modal--e-4g4 modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",p="modal--modalWithoutOverflow--MFd42 modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",h="modal--animateIn--5a63g",m="modal--smallSize--R9SPV",g="modal--defaultSize--MYhYQ modal--smallSize--R9SPV",f="modal--mobileSize--5IaqH",_="modal--fitContentSize--St4N4",y="modal--defaultModalSmallPadding--8S3gX",E="modal--modalSmallPadding--HnURo modal--modal--e-4g4 modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E modal--defaultModalSmallPadding--8S3gX",b="modal--modalContent--K-PxJ modal--modalContent--P643j",v="modal--title--KDcHh modal--title--sEkWg",S="modal--titleSmall--Ak1yV modal--title--sEkWg",I="modal--buttonRow--cnneb",T="modal--buttonRowRight---8CPb",w="modal--buttonRowLeft--VHcwA ellipsis--ellipsis--Tjyfa",C="modal--confirmButton--hgiIG modal--confirmButton--SNUDv",A="modal--loadingButton--N-9xY modal--confirmButton--hgiIG modal--confirmButton--SNUDv",N="modal--spinner--0krii",O="modal--spinnerWithText--ffrjy modal--spinner--0krii",R="modal--bottomWarningContainer--Qs8sj"},21112:(e,r,n)=>{"use strict";n.d(r,{Be:()=>o,DD:()=>u,Lu:()=>a,N4:()=>g,Rt:()=>m,Vq:()=>c,_Z:()=>p,iZ:()=>h,jE:()=>d,pL:()=>i,v0:()=>s,yl:()=>l});let i="modal--confirmButton--SNUDv",a="modal--cancelLink--gmgMU modal--button--ZJmGG",o="modal--blueLink--9GcJu blue_link--blueLink--9rlnd",s="modal--buttonRow--o2A0S",l="modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",d="modal--modalContent--P643j",c="modal--important--qfd6R",u="modal--title--sEkWg",p="modal--textInput---r1fJ",h="modal--blockQuote--bzdW1 text--fontPos11--2LvXf text--_fontBase--QdLsd",m="modal--blockQuoteHeader--IKpaG",g="modal--blockQuoteText--nDUnj ellipsis--ellipsis--Tjyfa"},83238:(e,r,n)=>{"use strict";n.d(r,{Ar:()=>T,B9:()=>c,FQ:()=>b,Hn:()=>C,IL:()=>s,Lq:()=>l,Ny:()=>I,OQ:()=>_,TI:()=>p,ZA:()=>f,ZO:()=>h,_S:()=>o,a5:()=>v,b:()=>a,dC:()=>g,gF:()=>w,gh:()=>y,jS:()=>m,nW:()=>S,oX:()=>E,uS:()=>u,w0:()=>d,wV:()=>i});let i="pointer_modal--announcementPointerModalDark--9DD-M pointer_modal--announcementPointerModal---X9Ui",a="pointer_modal--closeButton--yKnli",o="pointer_modal--closeButtonExtraSpacing--e8erM",s="pointer_modal--announcementPointerModalLight--AaKLA pointer_modal--announcementPointerModal---X9Ui",l="pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",d="pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",c="pointer_modal--walkThroughModalAnimateFast--Xm453 pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",u="pointer_modal--closeButtonWhite--nj2uk",p="pointer_modal--primaryCtaButtonLight--WnZAX pointer_modal--primaryCtaButton--Snffw",h="pointer_modal--primaryCtaButtonDark--ZWijN pointer_modal--primaryCtaButton--Snffw",m="pointer_modal--secondaryCtaButtonLight---Dv4E pointer_modal--secondaryCtaButton--Jg0Yu",g="pointer_modal--secondaryCtaButtonDark--dKbwo pointer_modal--secondaryCtaButton--Jg0Yu",f="pointer_modal--footerDiv--JtCDN",_="pointer_modal--ctaContainer--luZLz",y="pointer_modal--noMotion--YIicU",E="pointer_modal--topTriangleBackground--bAkvB pointer_modal--topTriangle--eTQ3K",b="pointer_modal--topTriangleForeground--BZxHM pointer_modal--topTriangle--eTQ3K",v="pointer_modal--bottomTriangleBackground--GHZc5 pointer_modal--bottomTriangle--iDHi9",S="pointer_modal--bottomTriangleForeground--2hiBJ pointer_modal--bottomTriangle--iDHi9",I="pointer_modal--rightTriangleBackground--fw0l3 pointer_modal--rightTriangle--rQltw",T="pointer_modal--rightTriangleForeground--ReV7J pointer_modal--rightTriangle--rQltw",w="pointer_modal--leftTriangleBackground--GAtIC pointer_modal--leftTriangle--p5eQp",C="pointer_modal--leftTriangleForeground--shkXU pointer_modal--leftTriangle--p5eQp"},79211:(e,r,n)=>{"use strict";n.d(r,{A$:()=>w,A0:()=>v,Fb:()=>l,Hb:()=>y,I2:()=>s,K6:()=>S,SK:()=>I,TE:()=>m,Vq:()=>i,Y2:()=>N,dC:()=>A,ec:()=>c,g4:()=>o,hP:()=>T,hQ:()=>a,iA:()=>u,iU:()=>f,jo:()=>b,kh:()=>C,kv:()=>g,pL:()=>_,qs:()=>E,s$:()=>d,uW:()=>h,vu:()=>p});let i="request_upgrade_modal--important--TsF9U",a="request_upgrade_modal--contentContainer--Hqp0B",o="request_upgrade_modal--loadingContainer--tG4tR",s="request_upgrade_modal--emailContainer--QJHCU",l="request_upgrade_modal--stepTitle--HEFYi",d="request_upgrade_modal--importantInstructions--6ke2E",c="request_upgrade_modal--selectAllAdmins--KsiZ8",u="request_upgrade_modal--adminList--pOYSK",p="request_upgrade_modal--adminName---ib9K",h="request_upgrade_modal--adminEmail--F07Za ellipsis--ellipsis--Tjyfa",m="request_upgrade_modal--adminItem--9cXEq",g="request_upgrade_modal--checkbox--UvaFJ",f="request_upgrade_modal--message--igR-K",_="request_upgrade_modal--confirmButton--IP-Y6",y="request_upgrade_modal--licenseGroupAdminsRow--XxtsH",E="request_upgrade_modal--overflowTextList--6ia0F",b="request_upgrade_modal--lgModalButtonRow--TwgPl",v="request_upgrade_modal--oneAvatar--WBFbN",S="request_upgrade_modal--firstAvatar--K56F5",I="request_upgrade_modal--secondAvatar--jrNAE request_upgrade_modal--avatarWithOverlap--aGHIw",T="request_upgrade_modal--thirdAvatar--ScE6p request_upgrade_modal--avatarWithOverlap--aGHIw",w="request_upgrade_modal--curfHeader--xqBWN",C="request_upgrade_modal--figmaLogo--JQUp4 request_upgrade_modal--logo--CjTol",A="request_upgrade_modal--arrowLogo--F3-Ch request_upgrade_modal--logo--CjTol",N="request_upgrade_modal--curfBlockQuote--bPJkx"},7584:(e,r,n)=>{"use strict";n.d(r,{ES:()=>a,Fy:()=>o,Os:()=>i,Sj:()=>d,V$:()=>s,_5:()=>l,kh:()=>u,nO:()=>c});let i="address_form--group--mizg8 basic_form--labeledInputGroup--aeD6L",a="address_form--selectPlaceholder--t-3wu",o="address_form--groupHalf--bL-Lf basic_form--labeledInputGroup--aeD6L",s="address_form--groupedRow--Ib5dr",l="address_form--selectRowFull--8DtEB",d="address_form--selectRowHalf--4WVNF address_form--selectRowFull--8DtEB",c="address_form--menuSelector--d0ZhJ",u="address_form--dontSeeYourCountryLink--pnbvb"},25530:(e,r,n)=>{"use strict";n.d(r,{$2:()=>c,DA:()=>g,E_:()=>u,Lq:()=>d,SS:()=>a,VA:()=>l,Vq:()=>y,YQ:()=>f,Zk:()=>p,bV:()=>s,d3:()=>m,eF:()=>E,l2:()=>o,st:()=>h,v_:()=>_,wx:()=>i});let i="permissions_modal--header--mj57H",a="permissions_modal--teamContentContainer--evlU9",o="permissions_modal--teamAccessContainer--g01nc",s="permissions_modal--sectionHeader--6AW4h text--fontPos11--2LvXf text--_fontBase--QdLsd",l="permissions_modal--subtitle--GxcXl text--fontPos11--2LvXf text--_fontBase--QdLsd",d="permissions_modal--loading--jvhU0",c="permissions_modal--teamDiscoverabilityOptions--pEYOk",u="permissions_modal--bottomRow--S813o",p="permissions_modal--inviteBar--8XkkP",h="permissions_modal--roleRows--tqVZr overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",m="permissions_modal--nestedRoleRows--BW-m6",g="permissions_modal--fileTitle--487xP",f="permissions_modal--orgGuestEmails--67DIG",_="permissions_modal--orgGuestLink--uf5Ps blue_link--blueLink--9rlnd",y="permissions_modal--inviteHeader--mTkIA",E="permissions_modal--accessHeader---6TFX"},15471:(e,r,n)=>{"use strict";n.d(r,{$L:()=>S,$S:()=>a,$U:()=>R,$w:()=>ef,A:()=>eh,AA:()=>B,Aq:()=>f,B5:()=>v,C1:()=>e_,C9:()=>eu,Ck:()=>Z,Fl:()=>u,G:()=>et,H:()=>U,JZ:()=>eg,Jt:()=>d,KU:()=>Q,LS:()=>z,Lo:()=>F,Lt:()=>k,MI:()=>P,N1:()=>D,NE:()=>Y,QO:()=>p,QW:()=>$,QY:()=>g,R8:()=>el,RA:()=>es,UU:()=>K,V6:()=>w,VP:()=>N,W8:()=>M,Xk:()=>_,Yk:()=>eo,Zk:()=>W,_O:()=>ed,_V:()=>O,b$:()=>ee,dT:()=>H,dj:()=>T,eT:()=>C,ec:()=>E,f1:()=>V,gJ:()=>ec,gY:()=>ep,h0:()=>l,hq:()=>I,iq:()=>y,j7:()=>c,jI:()=>L,kL:()=>ei,my:()=>G,nP:()=>s,oZ:()=>m,p4:()=>em,qB:()=>J,rJ:()=>en,rp:()=>x,tl:()=>h,to:()=>j,u2:()=>ea,vQ:()=>er,wB:()=>A,wk:()=>X,x7:()=>b,xf:()=>i,yb:()=>q,zn:()=>o});let i="role_row--roleRow--chGuj",a="role_row--nameAndSelect--A2OEI",o="role_row--roleRowSC--d5l7R role_row--roleRow--chGuj",s="role_row--passwordAutogenRow--9G6gl",l="role_row--autogenPassword--ZzjYX",d="role_row--folderAccessRowSC--kbZr9 role_row--folderAccessRow--W-rzn role_row--roleRow--chGuj role_row--roleRowSC--d5l7R role_row--roleRow--chGuj",c="role_row--fileAudienceRight--i-yw9",u="role_row--accessRowWithMargin--F9YN- role_row--folderAccessRowSC--kbZr9 role_row--folderAccessRow--W-rzn role_row--roleRow--chGuj role_row--roleRowSC--d5l7R role_row--roleRow--chGuj",p="role_row--linkAccessProperties--QUdfl",h="role_row--passwordGenerateButton--rnywn",m="role_row--passwordGenerateText--teMl8",g="role_row--passwordCopyBox--pfkcP",f="role_row--passwordCopyText--6SwrI",_="role_row--passwordContainer--BorG1",y="role_row--autogenPasswordContainer--UEMm- role_row--passwordContainer--BorG1",E="role_row--changePassword--r0LJ3",b="role_row--cancelButton--v-9Pd",v="role_row--setButton--ardCl",S="role_row--passwordCopyButton--k-Hh8",I="role_row--passwordCopyAnimation--nJrqu",T="role_row--activePasswordCopyAnimation--fpFjl role_row--passwordCopyAnimation--nJrqu",w="role_row--passwordCopyAnimationButton--lkHqc",C="role_row--passwordGenerateIcon--BfND9 role_row--passwordCopyButton--k-Hh8",A="role_row--passwordInputRow--LVpQq",N="role_row--descriptionRow--friRC",O="role_row--passwordSecondary--LgTLg",R="role_row--passwordButtonContainer--NhrH9",P="role_row--passwordResetButton--lL54o",L="role_row--passwordResetButtonDisabled--Ha1rb role_row--passwordResetButton--lL54o",D="role_row--fixedContextMenu--NzwYR",M="role_row--permissionSelectorMenu--SLh2N",k="role_row--select--6VpSS",x="role_row--ui3Icon--wfpVV",F="role_row--caretWrapper--P1Mak",U="role_row--avatarContainer--SePdT",B="role_row--avatarContainerWithFill--2x8yR role_row--avatarContainer--SePdT",V="role_row--avatarBase--aRUqD",H="role_row--avatarSmall--ety5d",G="role_row--avatar--v0OFM role_row--avatarNoMargin--KLnfW role_row--avatarBase--aRUqD",W="role_row--avatarEmpty--eoccd role_row--avatar--v0OFM role_row--avatarNoMargin--KLnfW role_row--avatarBase--aRUqD",z="role_row--avatarPending--9cGja role_row--avatar--v0OFM role_row--avatarNoMargin--KLnfW role_row--avatarBase--aRUqD",K="role_row--name--NCAoS",j="role_row--wrappedName--9TYwu",Y="role_row--namePending--p16Wo role_row--name--NCAoS",$="role_row--warningIcon--Kva-N",q="role_row--folderDisclaimer--OeC8z role_row--sharingDisclaimer--ZsoOG",Z="role_row--permissionLabel--3zL2E",X="role_row--linkAccessIcon--kLG-n role_row--roleRowIcon--BatSn",J="role_row--permissionSelectorIcon--2UKUd",Q="role_row--enableAccessLink--XButf blue_link--blueLink--9rlnd",ee="role_row--permissionWarningWrapper--bi-XI",et="role_row--infoIcon--dwTC9",er="role_row--youText--k-s7G",en="role_row--addExpiration--Bgwnm",ei="role_row--addExpirationWithPassword--b1Hg3 role_row--addExpiration--Bgwnm",ea="role_row--linkExpirationRow--tZ4QD role_row--roleRow--chGuj",eo="role_row--linkExpirationLabel--jzzx3",es="role_row--customTimeSelectorContainer--LilBu basic_form--textInput--e9Rn5 basic_form--input--mz9WY",el="role_row--linkExpirationCustomDateInput--P7ntx",ed="role_row--orgEnforcementMessage--zNurr",ec="role_row--errorMessage--dpsZ3",eu="role_row--errorMessageWithMargin--aqSIS role_row--errorMessage--dpsZ3",ep="role_row--customExpirationWrapper--K1Na4",eh="role_row--customExpirationWithMessagePaddingWrapper--uP1Af role_row--customExpirationWrapper--K1Na4",em="role_row--linkExpirationCustomDateInputError--druLW role_row--linkExpirationCustomDateInput--P7ntx role_row--errorBorder--EeHVL",eg="role_row--accessSubtitle--v-dRs text--fontPos11--2LvXf text--_fontBase--QdLsd",ef="role_row--rightArrowIcon--VfpIj",e_="role_row--levelName--2AA47"},56320:(e,r,n)=>{"use strict";n.d(r,{Db:()=>p,Kb:()=>y,MD:()=>l,S:()=>o,SV:()=>_,Tw:()=>g,Yf:()=>m,iQ:()=>c,lI:()=>E,o:()=>d,oO:()=>u,qg:()=>f,qr:()=>a,v0:()=>s,xC:()=>i,yl:()=>h,zP:()=>b});let i="rcs_components--contentFeatureUpdate--BQecL text--fontPos11--2LvXf text--_fontBase--QdLsd rcs_components--contentLarge--1qHKL rcs_components--leftRightContent--5yuzu",a="rcs_components--footer--l5bb0",o="rcs_components--footerStepCounter--jKzRi",s="rcs_components--buttonRow--OfMRY",l="rcs_components--closeButtonDefault--q8cPK rcs_components--closeButtonBase--wooGI",d="rcs_components--closeButtonOnLight--rFK2o rcs_components--closeButtonBase--wooGI",c="rcs_components--closeButtonMobileOnLight--jElEv rcs_components--closeButtonOnLight--rFK2o rcs_components--closeButtonBase--wooGI",u="rcs_components--closeButtonOnDark--SRWWX rcs_components--closeButtonBase--wooGI",p="rcs_components--closeButtonHighContrast--Dlf2s rcs_components--closeButtonBase--wooGI",h="rcs_components--modal--sgfHP",m="rcs_components--mobileModal--yvxOb",g="rcs_components--welcomeSequenceModal--TOyd- rcs_components--overflowingModal--QrH-H",f="rcs_components--fullscreenBackground--tIex6",_="rcs_components--fullscreenWelcomeSequenceModal--cuKAh rcs_components--welcomeSequenceModal--TOyd- rcs_components--overflowingModal--QrH-H",y="rcs_components--modalAnimateIn--zcZjW",E="rcs_components--ctaButton--5FSzm",b="rcs_components--loadingSpinner--rOHo1"},7872:(e,r,n)=>{"use strict";n.d(r,{Ij:()=>i,yx:()=>a});let i="auth_view--fullWidth--ffDfw",a="auth_view--brandButton--Le4wb auth_view--brandButtonBase--RAO-j auth_branding--brand--WeCuU"},71131:(e,r,n)=>{"use strict";n.d(r,{aY:()=>o,hF:()=>a,nf:()=>l,rt:()=>s,wk:()=>i});let i="form_inputs--brand--3ovp4 auth_branding--brand--WeCuU",a="form_inputs--input--wfn0T",o="form_inputs--invalidInput--cpEoE",s="form_inputs--domainSuggestion--sBuUE",l="form_inputs--link--KfGcM"},54797:(e,r,n)=>{"use strict";n.d(r,{BQ:()=>o,J_:()=>a,Nk:()=>i});let i="close_button--closeX--Bc-63",a="close_button--modalUpperRightCorner--eKAQg",o="close_button--smallModal--iXyBf"},3453:(e,r,n)=>{"use strict";n.d(r,{AJ:()=>y,Eg:()=>p,FO:()=>R,G:()=>B,GC:()=>g,HI:()=>c,HM:()=>_,I2:()=>N,Ij:()=>b,Iw:()=>A,MH:()=>x,OK:()=>w,OY:()=>C,Pf:()=>m,QC:()=>o,X7:()=>F,_Z:()=>i,_d:()=>U,d1:()=>s,dQ:()=>l,dy:()=>D,fY:()=>S,hP:()=>h,hz:()=>E,ki:()=>d,kv:()=>u,ky:()=>I,nf:()=>k,oC:()=>T,rd:()=>O,ri:()=>a,sY:()=>L,xJ:()=>M,xZ:()=>v,yT:()=>P,z3:()=>V,zi:()=>f});let i="basic_form--textInput--e9Rn5 basic_form--input--mz9WY",a="basic_form--labeledInputGroup--aeD6L",o="basic_form--hoverLabel__hasValue--YDJPR",s="basic_form--labeledInputGroupDisabled--BKwa0 basic_form--labeledInputGroup--aeD6L",l="basic_form--hoverLabel--LKjBC",d="basic_form--bigTextInput--5c4O9 basic_form--textInput--e9Rn5 basic_form--input--mz9WY basic_form--bigInput--OIoA- basic_form--input--mz9WY",c="basic_form--checkboxContainer--7vOVn",u="basic_form--checkbox--C-tcA",p="basic_form--checkboxSvg--JFwlf",h="basic_form--checkboxShowFocus--bZTt6",m="basic_form--label--p2msE",g="basic_form--buttonGroup--a5B5-",f="basic_form--buttonGroup_reversed--LKwyG",_="basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",y="basic_form--btnSecondaryMenu--JITnz basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",E="basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",b="basic_form--fullWidth--RThzY",v="basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",S="basic_form--primaryBtnBig--nm4A7 basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",I="basic_form--negativeBtn--8UYj4 basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",T="basic_form--secondaryNegativeBtn--5FcUB basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",w="basic_form--negativeBtnBig--e1ib- basic_form--negativeBtn--8UYj4 basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",C="basic_form--greenBtn--fpWTn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",A="basic_form--greyBtn--19WMM basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",N="basic_form--whiteBtn---id1k basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",O="basic_form--inverseBtn--Ciwlq basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",R="basic_form--inverseBtnBig--bvml- basic_form--inverseBtn--Ciwlq basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",P="basic_form--blackBtnBig--ZWnu7 basic_form--blackBtn--w6s85 basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",L="basic_form--greenBtnBig--Bn08i basic_form--greenBtn--fpWTn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",D="basic_form--greenBtnBigSolidWhenDisabled--ioARO basic_form--greenBtnBig--Bn08i basic_form--greenBtn--fpWTn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",M="basic_form--secondaryBtnBig--dc8mX basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--btnBig--mR0CY ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd basic_form--bigInput--OIoA- basic_form--input--mz9WY",k="basic_form--link--7lLmB blue_link--blueLink--9rlnd",x="basic_form--inlineLink---UZ4A blue_link--blueLink--9rlnd",F="basic_form--bigSelect--TzXoZ basic_form--bigTextInput--5c4O9 basic_form--textInput--e9Rn5 basic_form--input--mz9WY basic_form--bigInput--OIoA- basic_form--input--mz9WY",U="basic_form--buttonText--zVE8g blue_link--blueLink--9rlnd",B="basic_form--infoIcon--ZlWE0",V="basic_form--error--bHKqm"},84175:(e,r,n)=>{"use strict";n.d(r,{Nu:()=>u,Wx:()=>o,_Z:()=>a,bX:()=>s,lL:()=>c,l_:()=>l,og:()=>d,x6:()=>i});let i="landing_form--button--FOhJa",a="landing_form--textInput--QhVAu landing_form--input--yxoaP",o="landing_form--hollowButton--fo853 auth_view--brandButton--Le4wb auth_view--brandButtonBase--RAO-j auth_branding--brand--WeCuU",s="landing_form--autoHeight--uHR-p",l="landing_form--infoCaptureButton--5XC97 auth_view--brandButton--Le4wb auth_view--brandButtonBase--RAO-j auth_branding--brand--WeCuU",d="landing_form--googleButtonInner--LUmAu",c="landing_form--googleIcon--5qkTs",u="landing_form--googleText--tCnEH"},45265:(e,r,n)=>{"use strict";n.d(r,{LF:()=>a,hX:()=>o,km:()=>i});let i="24px",a="44px",o="17px"},59341:()=>{},38411:(e,r,n)=>{"use strict";n.d(r,{Q:()=>i});let i="visually_hidden--visuallyHidden--To537"},58200:(e,r,n)=>{"use strict";n.d(r,{$:()=>I,$d:()=>B,$y:()=>c,B4:()=>eu,BE:()=>J,BN:()=>es,Bm:()=>h,Bx:()=>N,C0:()=>R,Du:()=>Q,F0:()=>w,FK:()=>C,FP:()=>f,ID:()=>em,LI:()=>q,Lt:()=>a,RH:()=>ee,SN:()=>el,Sk:()=>Z,Sq:()=>W,T5:()=>L,UJ:()=>F,WX:()=>x,Wq:()=>eh,ZJ:()=>z,ZY:()=>K,Zh:()=>p,_V:()=>v,ac:()=>H,bQ:()=>M,cP:()=>ed,cb:()=>et,cj:()=>X,cq:()=>U,dB:()=>ea,dP:()=>ec,dR:()=>i,eB:()=>j,fg:()=>O,gz:()=>$,hA:()=>T,he:()=>b,i0:()=>l,i9:()=>P,iD:()=>ei,iE:()=>d,ll:()=>A,mK:()=>en,mL:()=>V,nS:()=>Y,oE:()=>S,qF:()=>er,rf:()=>E,rh:()=>ep,sD:()=>s,tS:()=>y,tq:()=>_,uA:()=>m,uh:()=>eo,vu:()=>o,wj:()=>g,yD:()=>D,yG:()=>u,yR:()=>k,z6:()=>G});let i="delightful_toolbar--focusVisibleHover--Ag5DV",a="delightful_toolbar--select--Qs3At",o="delightful_toolbar--active--Xm9-4",s="delightful_toolbar--hand--UoaPp",l="delightful_toolbar--animate--gXF-Y",d="delightful_toolbar--stamp--diHIZ",c="delightful_toolbar--fakeButtonContainer--ivi7f",u="delightful_toolbar--toolbarFakeButtonTarget--SdMI0",p="delightful_toolbar--passthruLayout--gz5r2",h="delightful_toolbar--stampButton--3kdlW",m="delightful_toolbar--peekingVotingWheel--w0rd4",g="delightful_toolbar--peekingVotingWheelHidden--97uHk",f="delightful_toolbar--peekingVotingWheelDoneVoting--tAyvc",_="delightful_toolbar--peekingVotingWheelShowHide--1jIMo",y="delightful_toolbar--remainingVotesIndicator--1pWLF text--fontPos12--YsUAh text--_fontBase--QdLsd",E="delightful_toolbar--remainingVotesIndicatorInProgress--x9DdJ",b="delightful_toolbar--remainingVotesIndicatorDone--OyZtG",v="delightful_toolbar--remainingVotesIndicatorTextSpan--ola4B ellipsis--ellipsis--Tjyfa",S="delightful_toolbar--checkIcon--JmhHu",I="delightful_toolbar--peekingVotingWheelContainer--EBQCY",T="delightful_toolbar--peekingVotingWheelInactive--bdvqB",w="delightful_toolbar--horizontalButton--GEYZm",C="delightful_toolbar--horizontalButtonDisabled--J--Nk",A="delightful_toolbar--pointerEventsDisabled--0umVY",N="delightful_toolbar--toolIconIsDragging--NbbVm",O="delightful_toolbar--customAnimatedStickyContainer--NwoG4",R="delightful_toolbar--customAnimatedSticky--Am-sV",P="delightful_toolbar--enableDogEarAnimation--mKWg-",L="delightful_toolbar--bottomSticky--EL0yA delightful_toolbar--stickyAnimationProperties--sQIyc",D="delightful_toolbar--middleSticky--euFjB delightful_toolbar--stickyAnimationProperties--sQIyc",M="delightful_toolbar--topSticky--rCKI- delightful_toolbar--stickyAnimationProperties--sQIyc",k="delightful_toolbar--customAnimatedStickyDogEar--W4GVZ",x="delightful_toolbar--hasDropShadow--Jr9fo",F="delightful_toolbar--hasBoxShadow--GZIGk",U="delightful_toolbar--easeInDltItemFill--rGBLG",B="delightful_toolbar--shapeSpawnAnimation--bHVVH",V="delightful_toolbar--middleStickyContainer--86OO8 delightful_toolbar--backgroundSticky--14jwo",H="delightful_toolbar--bottomStickyContainer--OO2fl delightful_toolbar--backgroundSticky--14jwo",G="delightful_toolbar--customAnimatedStickyContainerV2--v-iK4",W="delightful_toolbar--customAnimatedStickyV2--OVYQS",z="delightful_toolbar--customAnimatedStickyV3--qLTBA",K="delightful_toolbar--bottomStickyV2--p7HoD delightful_toolbar--stickyAnimationProperties--sQIyc",j="delightful_toolbar--bottomStickyV3---oRIg delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",Y="delightful_toolbar--middleStickyV2--bfVaY delightful_toolbar--stickyAnimationProperties--sQIyc",$="delightful_toolbar--middleStickyV3--BiM-v delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",q="delightful_toolbar--topStickyV2---0qKu",Z="delightful_toolbar--topStickyV3--5ndgM delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",X="delightful_toolbar--dogEarSticky---UqUA",J="delightful_toolbar--reverse---CQhv",Q="delightful_toolbar--stickyDogEarContainer--FJHcW",ee="delightful_toolbar--forwards--nPpnP",et="delightful_toolbar--noAnimation--XnCqV",er="delightful_toolbar--middleStickyContainerV2--Dy8Na delightful_toolbar--backgroundStickyV2--GQPLn",en="delightful_toolbar--bottomStickyContainerV2--XUsyj delightful_toolbar--backgroundStickyV2--GQPLn",ei="delightful_toolbar--fakeStickyContainer--OmfTq delightful_toolbar--backgroundStickyV2--GQPLn",ea="delightful_toolbar--fakeSticky--cTZnZ delightful_toolbar--stickyAnimationProperties--sQIyc",eo="delightful_toolbar--stickyOuterV3--ROW-i",es="delightful_toolbar--stickyCurlV3--6kp8i",el="delightful_toolbar--stickyMaskContainerV3--XBMQM",ed="delightful_toolbar--stickyMaskDynamicV3--hTZdB",ec="delightful_toolbar--stickyMaskStaticV3---Ycp2",eu="delightful_toolbar--showCurlV3--qx7tK",ep="delightful_toolbar--noTransition--aPSPH",eh="delightful_toolbar--stickyBaseV3--sQACX",em="delightful_toolbar--fakeStickyV3--Jq79A delightful_toolbar--stickyAnimationPropertiesV3--tf0ke"},66071:(e,r,n)=>{"use strict";n.d(r,{$9:()=>y,BB:()=>h,EX:()=>d,Ec:()=>b,F$:()=>T,Hh:()=>u,LJ:()=>p,Ln:()=>f,OW:()=>s,Pq:()=>S,Qq:()=>c,_T:()=>l,bH:()=>i,bI:()=>g,cN:()=>E,gK:()=>m,k1:()=>I,me:()=>w,x6:()=>o,y9:()=>_,zr:()=>a,zt:()=>v});let i="menu--relativeRoot--TeIX2",a="menu--root--I6he5",o="menu--button--ayGTj",s="menu--caret--ukjfb",l="menu--isNewSubmenu--MBZ0-",d="menu--small---E8Xd",c="menu--buttonChildren--StSWG",u="menu--isDesignInlineMenu--Y-FsZ",p="menu--buttonTextChildren--OQbdX",h="menu--safariVoiceover--D-Oht",m="menu--buttonEnabled--WAnG1",g="menu--overrideFocusOutline--n8x4D",f="menu--caretAnimated--hVW7S",_="menu--caretActive--o2X9u",y="menu--buttonDisabled--8niUR",E="menu--withCaret--o-XKs",b="menu--onlyCaret--gzsco",v="menu--textChildren--aRpOj",S="menu--activeSoft--zUDg7",I="menu--activeNormal--FQnlU",T="menu--activeLoud--o8dec",w="menu--separator--bSrY9"},72719:(e,r,n)=>{"use strict";n.d(r,{Wh:()=>a,ec:()=>i});let i="menu_selector--flexColumn--KvuRu",a="menu_selector--flexRow--j-QSP"},71367:(e,r,n)=>{},43407:(e,r,n)=>{"use strict";function i(e){return`LOCAL_${e()}`}function a(e){return e.startsWith("LOCAL_")}n.d(r,{T:()=>a,r:()=>i})},23069:(e,r,n)=>{"use strict";let i,a;n.d(r,{aw:()=>s,iX:()=>l,rb:()=>c});let o=window.__figmaDesktop;var s=((i=s||{})[i.FOCAL_TAB=0]="FOCAL_TAB",i[i.BACKGROUND_TAB=1]="BACKGROUND_TAB",i[i.NEW_WINDOW=2]="NEW_WINDOW",i),l=((a=l||{})[a.GENERIC=0]="GENERIC",a[a.SNAP=1]="SNAP",a[a.LEVEL=2]="LEVEL",a);class d{constructor(e){this.api=e}getVersion(){return this.api.version}get beta(){return/\bFigma(Beta|Dev)\//.test(navigator.userAgent)}getInformationalVersion(){let e=navigator.userAgent.match(/Figma\/([^\s]+)/);return e&&2===e.length?e[1]:"dev"}getClientID(){return this.api.clientID}getConcurrentLoadingTabsCount(){return this.api.concurrentLoadingTabsCount}tabWasOpenedAsPartOfInitialStartup(){return void 0!==this.api.concurrentLoadingTabsCount}isFileBrowserTab(){return this.api.fileBrowser}getCPUUsage(){return this.api.promiseMessage("getCPUUsage")}getDisplayMetadata(e){return this.api.promiseMessage("getDisplayMetadata",{thumbnailWidth:e.width,thumbnailHeight:e.height})}isFileTab(){return!this.api.fileBrowser}setMessageHandler(e){this.api.setMessageHandler(e)}getFonts(){return this.api.promiseMessage("getFonts")}getFontFile(e,r){return this.api.promiseMessage("getFontFile",{path:e,postscript:r}).then(e=>new Uint8Array(e))}getFontPreview(e,r,n,i,a){return this.api.promiseMessage("getFontPreview",{path:e,size:r,postscript:n,family:i,style:a})}getFontsModifiedAt(){return 100.1===this.getVersion()||this.getVersion()>=102?this.api.promiseMessage("getFontsModifiedAt"):Promise.resolve(0)}getModifiedFonts(){return 100.1===this.getVersion()||this.getVersion()>=102?this.api.promiseMessage("getModifiedFonts"):Promise.resolve({})}getClipboardData(e){return this.api.promiseMessage("getClipboardData",{formats:e})}openFile({fileKey:e,title:r,editorType:n,target:i,isBranch:a,isLibrary:o,isTeamTemplate:s,userId:l}){this.api.postMessage("openFile",{fileKey:e,title:r,editorType:n,target:i,isBranch:a,isLibrary:o,isTeamTemplate:s,userId:l})}openPrototype(e,r,n,i,a){let o={fileKey:e,pageId:r,userId:a,title:n,target:i};if(99>this.getVersion()){let e=new URLSearchParams;e.set("node-id",r),a&&e.set("fuid",a),o.params=`?${e.toString()}`}this.api.postMessage("openPrototype",o)}isTabOpen(e){return this.getVersion()>=98?this.api.promiseMessage("isTabOpen",{url:e}):Promise.resolve(!0)}openCommunity(e,r){this.api.postMessage("openCommunity",{path:e,userId:r})}openFileFromNewTab({url:e,editorType:r,title:n,isBranch:i,isLibrary:a,isTeamTemplate:o}){this.api.version>=71&&this.api.postMessage("openFileFromNewTab",{url:e,editorType:r,title:n,isBranch:i,isLibrary:a,isTeamTemplate:o})}createFile({url:e,newFileInfo:r,editorType:n,isFromNewTabPage:i}){return this.api.version>=81?this.api.promiseMessage("createFile",{url:e,newFileInfo:r,editorType:n,isFromNewTabPage:i}):Promise.resolve({fileKey:null})}startedPreloadedNewTab(e){this.api.version>=71&&this.api.version<=77&&this.api.postMessage("startedPreloadedNewTab",{isSuccess:e})}close({suppressReopening:e,shouldForceClose:r}){this.api.postMessage("close",{suppressReopening:e,shouldForceClose:r})}addTabAnalyticsMetadata(e){this.api.postMessage("addTabAnalyticsMetadata",{info:e})}setTitle(e){this.api.postMessage("setTitle",{title:e})}setFullScreen(e){this.api.postMessage("setFullScreen",{fullscreen:e})}setUrl({url:e,fileKey:r,oldLocalFileKey:n}){this.api.postMessage("setUrl",{url:e,fileKey:r,oldLocalFileKey:n})}setEditorType(e){this.api.postMessage("setEditorType",{editorType:e})}setRealtimeToken({realtimeToken:e,fileKey:r}){this.api.postMessage("setRealtimeToken",{realtimeToken:e,fileKey:r})}setLoading(e){this.api.postMessage("setLoading",{loading:e})}setTabPreviewData(e){this.api.postMessage("setTabPreviewData",{data:e})}setSaved(e){this.api.postMessage("setSaved",{saved:e})}setMergingStatus(e){this.api.postMessage("setMergingStatus",{mergingStatus:e})}setAuthedUsers(e){this.isFileBrowserTab()&&this.api.postMessage("setAuthedUsers",{userIDs:e})}setInitialOptions({userId:e,orgId:r,teamId:n,navigationConfig:i}){this.api.postMessage("setInitialOptions",{userId:e,orgId:r,teamId:n,navigationConfig:i})}setIsBranch(e){this.api.postMessage("setIsBranch",{isBranch:e})}setIsLibrary(e){this.api.postMessage("setIsLibrary",{isLibrary:e})}setIsTeamTemplate(e){this.api.postMessage("setIsTeamTemplate",{isTeamTemplate:e})}setCaptionsEnabled(e){this.api.postMessage("setCaptionsEnabled",{captionsEnabled:e})}getCaptionsEnabled(){return this.api.promiseMessage("getCaptionsEnabled")}audioStreamOpen(e){this.api.postMessage("audioStreamOpen",{streamID:e})}audioStreamClose(e){this.api.postMessage("audioStreamClose",{streamID:e})}audioStreamSink(e,r){this.api.postMessage("audioStreamSink",{streamID:e,samples:r})}setIsInVoiceCall(e){this.api.postMessage("setIsInVoiceCall",{isInVoiceCall:e})}setUsingMicrophone(e){this.api.postMessage("setUsingMicrophone",{isUsingMicrophone:e})}async addAllowedPluginOrigin(e){return this.api.promiseMessage("addAllowedPluginOrigin",{pluginOrigin:e})}async removeAllowedPluginOrigin(e){return this.api.promiseMessage("removeAllowedPluginOrigin",{pluginOrigin:e})}requestMicrophonePermission(){return this.api.promiseMessage("requestMicrophonePermission")}requestCameraAndOrMicrophonePermissions(e){this.api.postMessage("requestCameraAndOrMicrophonePermissions",e)}setWorkspaceProperties(e){this.isFileBrowserTab()?this.api.postMessage("setWorkspaceProperties",e):this.api.postMessage("setWorkspaceName",{name:e.name})}setFeatureFlags(e){this.api.postMessage("setFeatureFlags",{featureFlags:e})}setDefaultEditorType(e){this.api.postMessage("setDefaultEditorType",{editorType:e})}updateCachedContainsWidget(e){this.api.version>=58&&this.api.postMessage("updateCachedContainsWidget",{state:e})}updateFullscreenMenuState(e){this.api.version>=56&&this.api.postMessage("updateFullscreenMenuState",{state:e})}showFileBrowser(e){this.api.postMessage("showFileBrowser",{flashErrorMessage:e})}startAppAuth(e){this.api.postMessage("startAppAuth",{grantPath:e})}finishAppAuth(e){this.api.postMessage("finishAppAuth",{redirectURL:e})}writeFiles(e){this.api.postMessage("writeFiles",{files:e})}createMultipleNewLocalFileExtensions(e,r){return this.api.promiseMessage("createMultipleNewLocalFileExtensions",{options:e,depth:r})}getLocalManifestFileExtensionIdsToCachedContainsWidgetMap(){return this.api.promiseMessage("getLocalManifestFileExtensionIdsToCachedContainsWidgetMap")}getLocalManifestFileExtensionIdsToCachedMetadataMap(){return this.api.promiseMessage("getLocalManifestFileExtensionIdsToCachedMetadataMap")}getAllLocalFileExtensionIds(){return this.api.promiseMessage("getAllLocalManifestFileExtensionIds")}getLocalFileExtensionManifest(e){return this.api.promiseMessage("getLocalFileExtensionManifest",{id:e})}getLocalFileExtensionSource(e){return this.api.promiseMessage("getLocalFileExtensionSource",{id:e})}removeLocalFileExtension(e){this.api.postMessage("removeLocalFileExtension",{id:e})}openExtensionDirectory(e){this.api.postMessage("openExtensionDirectory",{id:e})}openExtensionManifest(e){this.api.postMessage("openExtensionManifest",{id:e})}writeNewExtensionToDisk(e,r){return this.api.promiseMessage("writeNewExtensionDirectoryToDisk",{dir:{name:e,files:r,dirs:[]}})}writeNewExtensionDirectoryToDisk(e){return this.api.promiseMessage("writeNewExtensionDirectoryToDisk",{dir:e})}openDevTools(e){return this.api.postMessage("openDevTools",{mode:e})}closeDevTools(){return this.api.postMessage("closeDevTools")}isDevToolsOpened(){return this.api.promiseMessage("isDevToolsOpened")}registerManifestChangeObserver(e){return this.api.registerCallback("registerManifestChangeObserver",void 0,e)}registerCodeChangeObserver(e){return this.api.registerCallback("registerCodeChangeObserver",void 0,e)}registerUiChangeObserver(e){return this.api.registerCallback("registerUiChangeObserver",void 0,e)}setTheme(e){106>this.getVersion()&&this.api.postMessage("setTheme",{theme:e})}setTabColor(e){this.getVersion()>=109&&this.api.postMessage("setTabColor",{color:e})}setThemePreference(e){this.getVersion()>=106&&this.api.postMessage("setThemePreference",{themePreference:e})}getZoomFactor(){return this.api.promiseMessage("getZoomFactor")}getKeyboardLayout(){return this.api.promiseMessage("getKeyboardLayout")}setLocales(e){this.api.postMessage("setLocales",{locales:e})}spellingCorrect(e,r=""){return this.api.promiseMessage("spellingCorrect",{word:e,language:r})}spellingCheckSpelling(e,r=""){return this.api.promiseMessage("spellingCheckSpelling",{text:e,language:r})}spellingSuggest(e,r=""){return this.api.promiseMessage("spellingSuggest",{word:e,language:r})}spellingAdd(e,r=""){return this.api.promiseMessage("spellingAdd",{word:e,language:r})}spellingIgnore(e,r=""){return this.api.promiseMessage("spellingIgnoreWords",{words:e,language:r})}spellingSetLanguage(e){return this.api.promiseMessage("spellingSetLanguage",{language:e})}spellingGetLanguages(){return this.api.promiseMessage("spellingGetLanguages")}triggerHaptic(e,r,n){return this.api.postMessage("triggerHaptic",{type:e,count:r,intervalMs:n})}getColorSpace(){return this.api.colorSpace}getLegacyColorSpacePreference(){if(!(97>this.getVersion()))return this.api.legacyColorSpacePreference}getActiveNSScreens(){return this.api.promiseMessage("getActiveNSScreens")}updateViewport(e,r){if(!(101>this.getVersion()))return this.api.postMessage("updateViewport",{fileKey:e,viewport:r})}reportFatalError(e,r){if(!(101>this.getVersion()))return this.api.postMessage("reportFatalError",{fileKey:e,errorInfo:r})}}function c(){return o?new d(o):null}},72824:(e,r,n)=>{"use strict";n.d(r,{A:()=>o});var i=n(38249),a=n(33970);class o{constructor(e){this.client=e,this.stableArgs=new Map,this.inputArgsToStableArgs=new WeakMap,this.subscriptions=new Map,this.latestArgs=[]}setArgs(e){this.latestArgs=e;let r=new Set;for(let n of e)r.add(this.getStableArgs(n));for(let e of this.subscriptions.keys())r.has(e)||(this.client.getUnsubscribeFunction(this.subscriptions.get(e))(),this.subscriptions.delete(e))}recomputeViewResult(e){e(this.latestArgs.map(e=>{var r,n;let a=this.getStableArgs(e);return{args:a,result:this.subscriptions.get(a)&&(null==(r=this.subscriptions.get(a))?void 0:r.lastResult)?null==(n=this.subscriptions.get(a))?void 0:n.lastResult:i.F5}}))}getStableArgs(e){if(this.inputArgsToStableArgs.has(e))return this.inputArgsToStableArgs.get(e);let r=(0,a.J)(e),n=this.stableArgs.get(r);return n?(this.inputArgsToStableArgs.set(e,n),n):(this.stableArgs.set(r,e),e)}clearSubscriptions(){for(let e of this.subscriptions.values())this.client.getUnsubscribeFunction(e)();this.subscriptions.clear()}}},38249:(e,r,n)=>{"use strict";let i;n.d(r,{Ay:()=>g,F4:()=>u,F5:()=>c,Y2:()=>f});var a=n(86136),o=n(33878),s=n(66757),l=n(66206),d=n(75810);let c=Object.freeze({status:"loading",data:null,errors:null}),u=Object.freeze({status:"disabled",data:null,errors:null}),p=new Map;var h=((i=h||{})[i.INITIAL_RESULTS=0]="INITIAL_RESULTS",i[i.ADD=1]="ADD",i[i.REMOVE=2]="REMOVE",i[i.UPDATE=3]="UPDATE",i);let m=class{constructor({parent:e,queryDef:r,observable:n,context:i,paginationData:s}){var c,u,p,h,g,f;let _;this.children=new Map,this.detachedChildren=new Set,this.bufferedUpdates=[],this.loadingChildren=new Set,this._isLoaded=!1,this._status={type:"loading"},this.parent=e,this.observable=n,this.context=i,this.unsubscribe=()=>{},e instanceof d.A&&s?(_=this.parent.parent.instance,this.paginationArgs=s,this.query=new a.A(r,i,_,{before:s.before,after:s.after,count:s.count})):((0,l.vA)(e instanceof o.A),_=e.instance,this.query=new a.A(r,i,_));let y=null==(c=i.tracingContext)?void 0:c.tracer,E="root"===e.queryDef.objectDef.name?"root":e.queryDef.objectDef.name;this.loadSpan=null==y?void 0:y.startSpan(m.SPAN_TAG,{childOf:e.loadSpan,tags:{"resource.name":E+"."+r.objectFieldDef.name,queryId:this.query.queryId}}),i.statsCollector.queryNodes++;let{objectFieldDef:b}=r;if(this.bufferedUpdateSize=(null==(h=null==(p=null==(u=i.options)?void 0:u.hotPathOptimizations)?void 0:p.incrementalTreeLoading)?void 0:h.bufferSize)||0,this.useIsLoadedOptimization=(null==(f=null==(g=i.options)?void 0:g.hotPathOptimizations)?void 0:f.useIsLoadedOptimization)||!1,this.isEmbedded||b.name in _){let e=_[b.name],r=_.id;if(e){if(Array.isArray(e)){let n={};e.forEach((e,i)=>{var a,o;let s=`${r}-${i.toString().padStart(10,"0")}`;e instanceof Object?n[s]={id:s,...e}:"string"==typeof e?n[s]={id:e}:null==(o=null==(a=this.context.options)?void 0:a.logger)||o.warn("EMBEDDED_INSTANCE_INVALID_TYPE",this.query.queryId,e)});let i=[];for(let e in _){i=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(n[e]);break}this.onInitialResults(n,!1,void 0,i)}else{let n=`${r}-0`,i={id:n,...e},a=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(i);this.onInitialResults({[n]:i},!1,void 0,a)}}else this.onInitialResults({},!1,void 0,[])}else this.unsubscribe=this.observable.subscribeQuery(this.query,this)}get isEmbedded(){return this.query.queryDef.objectFieldDef.embedded}get fieldName(){return this.query.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,this.fieldName]}get debugFields(){var e;return{query:this.query.queryId,canonicalShapeID:null==(e=this.query.queryDef.shape)?void 0:e.id,path:this.path,embedded:this.isEmbedded}}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs}}overridesChanged(){var e;for(let[r,n]of((null==(e=this.context.overrides)?void 0:e.has(this.query.objectName))&&this.resetResult(),this.children))n.overridesChanged()}destroy(){for(let e of this.children.values())e.destroy();this.unsubscribe()}onError(e){var r;null==(r=this.loadSpan)||r.finish(),this.resetResult(),this._status={type:"failed",error:e},this.parent instanceof d.A&&this.parent.onError(e),this.parent.resultsUpdated()}onInitialResults(e,r,n,i){var a,s;n&&((0,l.vA)(this.parent instanceof d.A),this.parent.onPaginationResults(n)),null==(s=null==(a=this.context.options)?void 0:a.logger)||s.debug("VIEW_QUERY_NODE.INITIAL_RESULT",this.query.queryId,e),r&&this.context.statsCollector.queriesSubscribed++,(0,l.vA)("loaded"!==this._status.type,"Unexpected initial results on already loaded node");let c=0;for(let r in e){let n=new o.A(this,this.context,e[r],this.query.queryDef,i||[]);if(this.children.set(r,n),this.useIsLoadedOptimization&&!n.isLoaded()&&this.loadingChildren.add(n),c++,this.shouldUseBufferedUpdates()&&c===this.bufferedUpdateSize){let r=Object.values(e);this.bufferedUpdates.push({type:0,instances:r,offset:this.bufferedUpdateSize,missingOptionalFields:i}),setTimeout(this.processBufferedUpdates.bind(this),0);return}}this.finishLoading()}finishLoading(){var e,r;this._status={type:"loaded"},null==(e=this.loadSpan)||e.setTag("numInstances",this.children.size.toString()),null==(r=this.loadSpan)||r.finish(),this.resetResult(),this.parent.resultsUpdated()}shouldUseBufferedUpdates(){var e,r,n;return!!(null==(n=null==(r=null==(e=this.context.options)?void 0:e.hotPathOptimizations)?void 0:r.incrementalTreeLoading)?void 0:n.enabled)&&this.bufferedUpdateSize>0}processBufferedUpdates(){this.context.statsCollector.bufferedUpdates++,(0,l.vA)(this.bufferedUpdates.length>0,"Should not be processing updates if there are none");let e=0;e:for(;e<this.bufferedUpdateSize&&this.bufferedUpdates.length>0;){let r=this.bufferedUpdates[0];switch(r.type){case 0:for(let n=r.offset;n<r.instances.length;n++){let i=r.instances[n],a=new o.A(this,this.context,i,this.query.queryDef,r.missingOptionalFields||[]);if(this.children.set(i.id,a),this.useIsLoadedOptimization&&!a.isLoaded()&&this.loadingChildren.add(a),++e===this.bufferedUpdateSize&&n<r.instances.length-1){r.offset+=this.bufferedUpdateSize;break e}}this.bufferedUpdates.shift(),this.finishLoading();break;case 1:this.bufferedUpdates.shift(),this._onAddResult(r.instance,r.missingOptionalFields),e++;break;case 2:this.bufferedUpdates.shift(),this._onRemoveResult(r.instance),e++;break;case 3:this.bufferedUpdates.shift(),this._onUpdateResult(r.instance,r.missingOptionalFields),e++;break;default:(0,l.xb)(r)}}this.bufferedUpdates.length>0&&setTimeout(this.processBufferedUpdates.bind(this),0)}onAddResult(e,r){if(this.shouldUseBufferedUpdates()&&this.bufferedUpdates.length>0){this.bufferedUpdates.push({type:1,instance:e,missingOptionalFields:r});return}this._onAddResult(e,r)}_onAddResult(e,r){var n,i;null==(i=null==(n=this.context.options)?void 0:n.logger)||i.debug("VIEW_QUERY_NODE.ADD_RESULT",this.query.queryId,e),(0,l.vA)("loaded"===this._status.type,"Unexpected incremental results on node that hasn't loaded yet");let a=new o.A(this,this.context,e,this.query.queryDef,r||[]);this.children.set(e.id,a),this.useIsLoadedOptimization&&!a.isLoaded()&&this.loadingChildren.add(a),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e,r){if(this.shouldUseBufferedUpdates()&&this.bufferedUpdates.length>0){this.bufferedUpdates.push({type:3,instance:e,missingOptionalFields:r});return}this._onUpdateResult(e,r)}_onUpdateResult(e,r){var n,i;if(null==(i=null==(n=this.context.options)?void 0:n.logger)||i.debug("VIEW_QUERY_NODE.UPDATE_RESULT",this.query.queryId,e),(0,l.vA)("loaded"===this._status.type,"Unexpected incremental results on node that hasn't loaded yet"),(0,l.vA)(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onUpdateResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let r=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,r)}this.children.get(e.id).onUpdateResult(e,r||[])&&this.parent.resultsUpdated()}_onRemoveResult(e){var r,n;let{id:i}=e;if(null==(n=null==(r=this.context.options)?void 0:r.logger)||n.debug("VIEW_QUERY_NODE.REMOVE_RESULT",this.query.queryId,e),(0,l.vA)("loaded"===this._status.type,"Unexpected incremental results on node that hasn't loaded yet"),(0,l.vA)(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onRemoveResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let r=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,r)}let a=this.children.get(i);a.destroy(),this.children.delete(i),this.detachedChildren.delete(i),this.loadingChildren.delete(a),this.resetResult(),this.parent.resultsUpdated()}onRemoveResult(e){if(this.shouldUseBufferedUpdates()&&this.bufferedUpdates.length>0){this.bufferedUpdates.push({type:2,instance:e});return}this._onRemoveResult(e)}detachChild({id:e}){this.detachedChildren.add(e),this.children.delete(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild(e){this.detachedChildren.delete(e.id),this.onAddResult(e),this.resetResult()}resultsUpdated(e){this.useIsLoadedOptimization&&e.isLoaded()&&this.loadingChildren.delete(e),"loading"!==this._status.type&&this.parent.resultsUpdated()}recreateIfStale(e,r){if(this.isEmbedded){if((0,l.jQ)(e[this.query.queryDef.objectFieldDef.name],r[this.query.queryDef.objectFieldDef.name]))return}else if(!this.query.isContextStale(r))return;return new m({parent:this.parent,queryDef:this.query.queryDef,observable:this.observable,context:this.context})}getLoadingPathsForDebugging(){let e=[];"loading"===this._status.type&&e.push(this.fieldName);let r=[...this.children.values()],n=this.query.order();for(let i of(n&&r.sort(({instance:e},{instance:r})=>n(e,r)),r)){let r=i.getLoadingPathsForDebugging();e.push(...r.map(e=>`${this.fieldName}["${i.instance.id}"].${e}`))}return e}getOptionalErrorPathsForDebugging(){let e=[],r=[...this.children.values()],n=this.query.order();for(let i of(n&&r.sort(({instance:e},{instance:r})=>n(e,r)),r)){let r=i.getOptionalErrorPathsForDebugging();e.push(...r.map(e=>`${this.fieldName}["${i.instance.id}"].${e}`))}return e}result(){var e,r,n,i,a,o,s,d;if("loading"===this._status.type)return c;if("failed"===this._status.type){let e=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:e,path:[this.fieldName],error:Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let u=(null==(e=this.context.overrides)?void 0:e.get(this.query.objectName))||p,h=[];for(let e of this.children.values()){let r=e.instance,n=e.result();if("loaded"===n.status){let i=u.get(e.instance.id);if(i){if("delete"===i.type)continue;if("create"===i.type)continue;if("update"===i.type){if(r={...r,...i.delta},!this.query.substituted().matches(r))continue;n.data=this.query.queryDef.projectResults({...n.data,...i.delta})}else(0,l.xb)(i)}}h.push({instance:r,result:n})}for(let[e,r]of u)"create"===r.type&&this.query.substituted().matches(r.instance)&&h.push({instance:r.instance,result:{status:"loaded",data:this.query.queryDef.projectResults(r.instance),errors:[]}});let m=this.query.order();m&&h.sort(({instance:e},{instance:r})=>m(e,r));let{fieldName:g}=this,f=[],_=[],y=!0;for(let{result:e}of h)switch(e.status){case"loading":return this._result=e,this._result;case"errors":for(let r of(y=!1,e.errors))f.push({...r,path:[g,...r.path]});break;case"loaded":for(let r of e.errors)f.push({...r,path:[g,...r.path]});_.push(e.data)}if(!y)return this.query.queryDef.isNullable()?(this.context.statsCollector.errorsNullableSoaked++,null==(n=null==(r=this.context.options)?void 0:r.logger)||n.info("VIEW_QUERY_NODE.NULLABLE_ERROR_SOAK",{errors:f,...this.debugFields}),this._result={status:"loaded",errors:f,data:null}):this._result={status:"errors",data:null,errors:f},this._result;if(_.length){let e=this.query.queryDef.getMissingProjectedFields(_[0]);if(e.length&&(null==(i=this.context.options)?void 0:i.enableCrossViewIncompleteInstanceCheck))return null==(o=null==(a=this.context.options)?void 0:a.logger)||o.debug("CROSS_VIEW_INCOMPLETE_INSTANCES",this.query.queryInfo(),e,"ff_enabled_and_set_loading"),this._result=c,this._result;null==(d=null==(s=this.context.options)?void 0:s.logger)||d.debug("CROSS_VIEW_INCOMPLETE_INSTANCES",this.query.queryInfo(),e,"set_loaded")}return this.query.queryDef.isList()?this._result={status:"loaded",errors:f,data:_}:_.length>0?this._result={status:"loaded",errors:f,data:_[0]}:this.query.queryDef.isNullable()?this._result={status:"loaded",errors:f,data:null}:this._result={status:"errors",data:null,errors:[...f,{code:"nonNullableResult",path:[g]}]},this._result}resultWithLoadingStates(){let e=this.result();return{id:this.query.queryId,status:e.status,children:Array.from(this.children.entries()).map(([e,r])=>r.resultWithLoadingStates()),data:"errors"===e.status?e.errors:void 0}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if("loading"===this._status.type)return!1;if(this.useIsLoadedOptimization)return 0===this.loadingChildren.size;if(this._isLoaded)return!0;for(let e of this.children.values())if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[this.query.queryId];for(let[r,n]of this.children)e.push(...n.getQueryIds());return e}getInitStats(){if(!this.isLoaded())return null;let e={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:"failed"===this._status.type?1:0};for(let r of this.children.values())(0,s.K)(e,r.getInitStats());return e}getLiveViewForDebugging(){return this.parent.getLiveViewForDebugging()}},g=m;function f(e){return e instanceof g}g.DEFAULT_INITIAL_COUNT=10,g.SPAN_TAG="LiveViewQueryNode"},86013:(e,r,n)=>{"use strict";n.d(r,{C7b:()=>i.C7b,Fh:()=>i.Fh,Hw9:()=>i.Hw9,I5K:()=>i.I5K,LZx:()=>i.LZx,QRJ:()=>i.QRJ,_Dm:()=>i._Dm});var i=n(48509)},76024:(e,r,n)=>{"use strict";n.d(r,{$7:()=>eL,A8:()=>eH,AU:()=>eK,BJ:()=>$,BK:()=>U,Bg:()=>m,Cj:()=>z,DR:()=>B,F9:()=>g,F_:()=>E,Fq:()=>G,GN:()=>eT,Gp:()=>d,H5:()=>eG,Hh:()=>ef,Hn:()=>eO,Hw:()=>s,I:()=>er,In:()=>el,J2:()=>ep,KR:()=>e$,L:()=>ed,L1:()=>Z,L_:()=>ey,Lv:()=>M,M9:()=>en,MN:()=>x,Ml:()=>eE,Mn:()=>ec,N2:()=>Q,NB:()=>k,Nd:()=>eS,Nx:()=>ea,O6:()=>e_,QF:()=>ew,RS:()=>L,So:()=>W,TE:()=>h,TH:()=>em,Ud:()=>eP,Uo:()=>eW,V9:()=>eC,Vh:()=>S,Vw:()=>f,WR:()=>K,Xs:()=>eo,YA:()=>Y,ZG:()=>eh,ZK:()=>eb,ZS:()=>eA,_m:()=>b,ao:()=>et,av:()=>u,br:()=>eM,cT:()=>eB,cn:()=>X,cy:()=>q,fQ:()=>eV,h3:()=>eI,h_:()=>ej,iQ:()=>ek,j9:()=>eF,jl:()=>J,jq:()=>I,lT:()=>N,l_:()=>D,m3:()=>y,nE:()=>ex,oV:()=>w,of:()=>c,or:()=>ez,pt:()=>j,qC:()=>ev,qO:()=>eu,sN:()=>eU,t2:()=>eY,tS:()=>O,uE:()=>F,uJ:()=>es,ut:()=>P,uy:()=>ee,ye:()=>eN,yy:()=>eg,zN:()=>eD});var i=n(62241),a=n(24744),o=n(56140);let s=14,l=(e,r,n)=>{let i={type:"function",name:e,meta:n||""};return(...e)=>({expr:r(...e),meta:i})},d=l("isFolderAccessEnabledFile",e=>ez([eW([eU(o.TO.SC_FILE_EXPERIENCE),eU(o.TO.SC_FILE_FOLDER_ACCESS),[e.folderAccessEnabled,"=",!0]]),eK(eU(o.TO.SC_FILE_EXPERIENCE)),eK(eU(o.TO.SC_FILE_FOLDER_ACCESS))])),c=l("isCommunityHubAdmin",()=>eU(o.TO.COMMUNITY_HUB_ADMIN)),u=l("isCommunityHubReviewer",()=>eU(o.TO.COMMUNITY_HUB_REVIEWER)),p=l("isApprovedPublicResource",e=>[e.publishingStatus,"=","approved_public"]),h=l("isDelistedResource",e=>({or:[[e.publishingStatus,"=","delisted"],[e.publishingStatus,"=","delisted_3rd_party_m10n"],[e.publishingStatus,"=","delisted_creator_stripe_disabled"]]})),m=l("isPendingHubFile",e=>({or:[[e.publishingStatus,"=","pending_public"],[e.publishingStatus,"=","pending_user_visual_compliance"]]})),g=l("isPendingPlugin",e=>({or:[[e.publishingStatus,"=","org_private_pending_public"],[e.publishingStatus,"=","pending_public"],[e.publishingStatus,"=","pending_user_visual_compliance"]]})),f=l("isHubFileCommunityPublisher",(e,r)=>eW([[e.publisherProfileIds,"<>",null],[r.profileId,"in",{type:"field",ref:e.publisherProfileIds}]])),_=l("isPublishedResource",e=>[e.unpublishedAt,"=",null]),y=l("isMonetizedResource",e=>[e.monetizedResourceMetadataId,"<>",null]),E=l("isPublicHubFile",e=>eW([p(e),T(e)])),b=(e,r)=>[e,"hasPermission",r],v=l("isBlockedPlugin",e=>ez([[e.blockedAt,"<>",null],[e.publishingStatus,"=","blocked"]])),S=l("isOrgPrivatePlugin",e=>eW([[e.orgId,"<>",null],ez([[e.publishingStatus,"=","org_private"],[e.publishingStatus,"=","org_private_pending_public"]])])),I=l("isPublicPlugin",e=>eW([p(e),_(e),eK(v(e))])),T=l("isVerifiedHubFile",e=>ez([eW([eU(o.TO.COMMUNITY_HUB_IMAGE_INSPECTION),_(e),[e.contentVerifiedAt,"<>",null]]),eK(A(e))])),w=l("userHasPaidForHubFile",(e,r,n)=>eW([eY(r),eY(n),e$([r.id,"=",n.userId]),eW([[n.monetizedResourceMetadataId,"<>",null],e$([n.monetizedResourceMetadataId,"=",e.monetizedResourceMetadataId])]),C(n)])),C=l("isActivePurchase",e=>[e.isActive,"=",!0]);l("hasPurchased",e=>ez([[e.status,"in",["succeeded","refunded","canceled"]],[e.status,"in",[1,2,3]]]));let A=l("isBlockedHubFile",e=>[e.publishingStatus,"=","blocked"]),N=l("isWhiteboardHubFile",e=>[e.viewerMode,"=",i.y4.WHITEBOARD]),O=l("isSlideTemplateHubFile",e=>[e.viewerMode,"=",i.y4.SLIDE_TEMPLATE]),R=l("isWhiteboardFile",e=>[e.editorType,"=",i._Y.WHITEBOARD]),P=l("isDesignFileLike",e=>ez([[e.editorType,"=",i._Y.DESIGN],[e.editorType,"=",i._Y.SLIDES],[e.editorType,"=",null]])),L=l("isDesignFile",e=>ez([[e.editorType,"=",i._Y.DESIGN],[e.editorType,"=",null]])),D=l("isFigJamFile",e=>R(e)),M=l("isSlidesFile",e=>[e.editorType,"=",i._Y.SLIDES]),k=l("isMember",e=>[e.permission,"in",[i.vK.MEMBER,i.vK.ADMIN]]),x=l("isWorkspaceMember",(e,r)=>({and:[eY(r),eY(a.li),k(r),[e.permission,"in",[i.vK.MEMBER,i.vK.ADMIN]]]})),F=l("isOrgAdmin",e=>[e.permission,"=",i.vK.ADMIN]),U=l("hasWorkspacePermissionInWorkspace",(e,r,n)=>eW([[e.id,"<>",null],e$([e.id,"=",r.workspaceId]),[r.permission,"in",n]])),B=l("hasWorkspacePermissionInTeam ",(e,r,n)=>eW([[e.workspaceId,"<>",null],e$([e.workspaceId,"=",r.workspaceId]),[r.permission,"in",n]]));l("hasRequiredOrgAccess",(e,r)=>({and:[[e.orgAccess,"<>",null],[e.orgAccess,"in",r.map(e=>e.toString())]]}));let V=l("isViewOnlyOrInviteOnly",e=>({or:[[e.viewOnlyAt,"<>",null],[e.inviteOnlyAt,"<>",null]]})),H=l("isInviteOnly",e=>[e.inviteOnlyAt,"<>",null]),G=l("hasRoleAccess",(e,r)=>[e.level,">=",r]),W=l("userInViewTeamUserGroupOnFolder",(e,r)=>({and:[G(r,o.gR),j(e)]})),z=l("userInFolderViewAudience",(e,r,n,i)=>({and:[K(i),eY(e),ez([eW([k(r),[e.sharing_audience_control,"in",["org_view","org_edit"]]]),eW([x(n,r),[e.sharing_audience_control,"in",["workspace_view","workspace_edit"]]])])]})),K=l("scTeamExperienceEnabledTeam",e=>({or:[eU(o.TO.SC_TEAM_EXPERIENCE),{and:[eY(e),[e.scTeamExperienceEnabled,"=",!0]]}]})),j=l("folderHasAtLeastViewTeam",e=>({and:[eY(e),eK(H(e))]})),Y=l("folderHasAtLeastEditTeam",e=>({and:[eY(e),eK(V(e))]})),$=l("userInEditTeamUserGroupOnFolder",(e,r)=>({and:[G(r,o.zx),Y(e)]})),q=l("userInFolderEditAudience",(e,r,n,i)=>({and:[K(i),eY(e),ez([eW([k(r),[e.sharing_audience_control,"=","org_edit"]]),eW([x(n,r),[e.sharing_audience_control,"=","workspace_edit"]])])]})),Z=l("isProTeam",e=>({and:[[e.id,"<>",null],[e.orgId,"=",null],ez([eW([[e.id,"<>",null],[e.subscription,"<>",null],[e.subscription,"<>","incomplete"]]),eW([[e.id,"<>",null],[e.gracePeriodEnd,">",{type:"func",name:"now"}]])])]}));l("isOrgTeam",e=>({and:[[e.id,"<>",null],[e.orgId,"<>",null]]}));let X=l("isStudent",e=>[e.studentValidatedAt,"<>",null]),J=l("isStudentTeam",e=>[e.studentTeamAt,"<>",null]),Q=l("isEduGracePeriodExpired",e=>[e.createdAt,"<",{type:"func",name:"now",offset:-604800}]),ee=l("isOpenOrgTeam",e=>({and:[[e.orgId,"<>",null],[e.orgAccess,"=",i.bU.PUBLIC]]})),et=l("hasValidFilePasswordAuthIfNecessary",(e,r,n,i)=>ei(e,r,n,i,ea)),er=l("hasValidProtoPasswordAuthIfNecessary",(e,r,n,i)=>ei(e,r,n,i,eo)),en=l("hasValidPasswordAuth",(e,r,n)=>ez([eW([eU(o.TO.PERMISSIONS_OLD_FP_COOKIE_IGNORE),e$([r.passwordVersion,"=",n.version]),[r.createdAt,">",{type:"func",name:"now",offset:-79200}]]),eW([eK(eU(o.TO.PERMISSIONS_OLD_FP_COOKIE_IGNORE)),[e.key,"<>",null],[e.key,"in",{type:"field",ref:a.jj.passwordAuthValidatedFileKeys}]])])),ei=l("hasValidPasswordAuthIfNecessary",(e,r,n,i,a)=>({or:[eW([eK(eF(e)),a(e)]),en(e,n,i),eW([eF(e),a(r)])]})),ea=l("noFileLinkPasswordSet",e=>eK(eW([eY(e),[e.hasFileLinkPassword,"=",!0]]))),eo=l("noProtoLinkPasswordSet",e=>eK(eW([eY(e),[e.hasProtoLinkPassword,"=",!0]])));l("isOrgUserDesignPaidStatusStarter",e=>({or:[[e.accountType,"=",i.CO.STARTER],[e.id,"=",null]]}));let es=l("teamUserHasPaidStatusOnFile",(e,r,n,a)=>{let o,s;if(a===i.CO.STARTER){let e=[[r.designPaidStatus,n,i.CO.STARTER],[r.id,n,null]],a=[[r.whiteboardPaidStatus,n,i.CO.STARTER],[r.id,n,null]];"="===n?(s={or:e},o={or:a}):(s={and:e},o={and:a})}else s=[r.designPaidStatus,n,a],o=[r.whiteboardPaidStatus,n,a];return{or:[{and:[P(e),s]},{and:[D(e),o]}]}}),el=l("orgUserHasPaidStatusOnFile",(e,r,n,i)=>({or:[{and:[P(e),eY(r),[r.accountType,n,i]]},{and:[D(e),eY(r),[r.whiteboardPaidStatus,n,i]]}]})),ed=l("orgUserHasDesignPaidStatusOnFile",(e,r,n,i)=>({and:[P(e),eY(r),[r.accountType,n,i]]})),ec=l("orgUserHasDevModePaidStatusOnFile",(e,r,n,i)=>({and:[P(e),eY(r),[r.devModePaidStatus,n,i]]}));l("isTeamUserWhiteboardPaidStatusFull",e=>[e.whiteboardPaidStatus,"=",i.CO.FULL]);let eu=l("isTeamUserDesignPaidStatusFull",e=>[e.designPaidStatus,"=",i.CO.FULL]),ep=l("isOrgUserWhiteboardRestricted",e=>[e.whiteboardPaidStatus,"=",i.CO.RESTRICTED]),eh=l("isOrgUserDesignPaidStatusRestricted",e=>[e.accountType,"=",i.CO.RESTRICTED]),em=l("isTeamUserWhiteboardPaidStatusRestricted",e=>[e.whiteboardPaidStatus,"=",i.CO.RESTRICTED]);l("isFigJamFileAndTeamUserWhiteboardPaidStatusRestricted",(e,r)=>({and:[D(e),em(r)]}));let eg=l("isTeamUserDesignPaidStatusRestricted",e=>[e.designPaidStatus,"=",i.CO.RESTRICTED]),ef=l("orgContainsDomainFromUserEmail",(e,r)=>({and:[eY(r),eY(e),[e.domainCapture,"<>",!0],[e.domainCaptureDomains,"<>",null],[r.email,"<>",null],[r.emailDomain,"<>",null],[r.emailDomain,"in",{type:"field",ref:e.domainCaptureDomains}]]}));l("isBigmaOrg",e=>[e.bigmaEnabledAt,"<>",null]);let e_=l("isOrgsDraftOwner",(e,r,n)=>({and:[eC(e),eO(r),[e.folderId,"<>",null],[n.draftsFolderId,"=",{type:"field",ref:e.folderId}]]})),ey=l("isTeamDraftOwner",(e,r,n)=>({and:[eK(eC(e)),eO(n),[e.folderId,"<>",null],[r.draftsFolderId,"=",{type:"field",ref:e.folderId}]]}));l("orgUserIsDraftsFolderOwner",(e,r,n)=>({and:[eO(r),eC(e),[n.draftsFolderId,"=",{type:"field",ref:e.folderId}]]}));let eE=l("isInWorkshopMode",(e,r)=>({and:[D(e),[r.expiresAt,"<>",null],[r.expiresAt,">=",{type:"func",name:"now"}]]})),eb=l("publicLinkHasExpired",(e,r)=>eW([[r.bigmaEnabledAt,"<>",null],[e.expiresAt,"<>",null],[e.accessReverted,"=",!1],[e.expiresAt,"<=",{type:"func",name:"now"}]])),ev=l("isLinkExpirationPrevOrgBrowsableTrue",(e,r)=>eW([eb(e,r),[e.prevOrgBrowsable,"=",!0]])),eS=l("publicLinkHasActiveExpiration",e=>eW([[e.expiresAt,"<>",null],[e.accessReverted,"=",!1],[e.expiresAt,">",{type:"func",name:"now"}]])),eI=l("orgOrWorkspaceEnforcingExpiration",(e,r)=>eW([[r.bigmaEnabledAt,"<>",null],ez([[e.publicLinkControlsSetting,"=",o.w_.EXPIRATION_REQUIRED],[e.publicLinkControlsSetting,"=",o.w_.EXP_AND_PWD_REQUIRED]])])),eT=l("hasNoWorkspacePublicLinkControlsSetting",e=>ez([eK(eY(e)),eW([eY(e),[e.publicLinkControlsSetting,"=",null]])])),ew=l("orgOrWorkspaceEnforcingPasswords",(e,r)=>ez([[e.publicLinkControlsSetting,"=",o.w_.PASSWORD_REQUIRED],eW([[r.bigmaEnabledAt,"<>",null],[e.publicLinkControlsSetting,"=",o.w_.EXP_AND_PWD_REQUIRED]])]));l("hasFileLinkAccessThroughPrevLink",(e,r,n)=>{let a=eW([[r.prevPrivateLinkAccess,"<>",null],[r.prevPrivateLinkAccess,"in",e]]);return e.includes(i.PQ.ORG_VIEW)?eW([eb(r,n),ez([a,eW([eY(r),[r.prevPrivateLinkAccess,"=",null]])])]):eW([eb(r,n),a])}),l("hasPrototypeLinkAccessThroughPrevLink",(e,r,n)=>eW([eb(r,n),[r.prevPrivateProtoLinkAccess,"in",e]])),l("orgUserIsDraftFolderOwner",(e,r,n)=>({and:[eY(n),eY(r),[n.userId,"=",{type:"field",ref:r.id}]]}));let eC=l("isOrgFile",e=>[e.orgId,"<>",null]),eA=l("isOrgDraftsFolder",e=>({and:[eO(e),[e.orgId,"<>",null]]})),eN=l("isTeamDraftsFolder",e=>({and:[eR(e),eO(e)]})),eO=l("isDraftsFolder",e=>[e.path,"=",""]),eR=l("isTeamFolder",e=>[e.teamId,"<>",null]),eP=l("isWorkspaceFile",(e,r)=>({and:[[e.teamId,"<>",null],[e.teamId,"=",{type:"field",ref:r.id}],[r.workspaceId,"<>",null]]})),eL=l("hasPlanUser",(e,r,n,i)=>ez([eW([eY(e),eY(n)]),eW([eY(r),eY(i)])])),eD=l("planHasDefaultDesignPaidStatus",(e,r,n,i,a)=>ez([eW([eC(e),[r.designDefaultPaidStatus,i,a]]),eW([eK(eC(e)),eY(n),[n.designDefaultPaidStatus,i,a]])])),eM=l("planHasDefaultFigjamPaidStatus",(e,r,n,i,a)=>ez([eW([eC(e),[r.whiteboardDefaultPaidStatus,i,a]]),eW([eK(eC(e)),eY(n),[n.whiteboardDefaultPaidStatus,i,a]])])),ek=l("isTrashed",e=>[e.trashedAt,"<>",null]),ex=l("isRepoFile",e=>[e.fileRepoId,"<>",null]),eF=l("isRepoBranch",e=>({and:[ex(e),[e.sourceFileKey,"<>",null],[e.sourceFileKey,"<>",{type:"field",ref:e.key}]]}));l("isRepoMainFile",e=>({and:[ex(e),{or:[[e.sourceFileKey,"=",null],[e.sourceFileKey,"=",{type:"field",ref:e.key}]]}]}));let eU=l("passesFeatureFlag",e=>[a.DB.featureFlags,"includes",e]),eB=l("isInOrgDevModeTrial",(e,r,n)=>eW([eY(n),ed(e,a.sO,"<>",i.CO.FULL),ec(e,a.sO,"<>",i.CO.FULL),[n.status,"=","pending"],e$([r.firstDevModeAccountTypeRequestCreatedAt,"=",n.createdAt]),ez([eW([eY(n),[n.gracePeriodExpireAt,"=",null],[n.createdAt,">",{type:"func",name:"now",offset:-1209600}]]),eW([[n.gracePeriodExpireAt,"<>",null],[n.gracePeriodExpireAt,">",{type:"func",name:"now"}]])])])),eV=l("isInTeamDevModeTrial",(e,r)=>eW([eY(r),eK(eu(e)),[r.status,"=","pending"],e$([e.devModeTrialStartAt,"=",r.createdAt]),[e.devModeTrialStartAt,"<>",null],ez([eW([eY(r),[r.gracePeriodExpireAt,"=",null],[r.createdAt,">",{type:"func",name:"now",offset:-1209600}]]),eW([[r.gracePeriodExpireAt,"<>",null],[r.gracePeriodExpireAt,">",{type:"func",name:"now"}]])])])),eH=l("isEligibleForTeamDevModeTrial",e=>[e.devModeTrialStartAt,"=",null]),eG=l("hasUserFileRecent",e=>({and:[[e.userId,"<>",null],[e.userId,"=",{type:"field",ref:a.KJ.id}],[e.fileKey,"<>",null],[e.fileKey,"=",{type:"field",ref:a.ZH.key}]]}));function eW(e){return{and:e}}function ez(e){return{or:e}}function eK(e){return{not:e}}let ej=(e,r)=>e.filter(e=>!r.includes(e)),eY=e=>[e.id,"<>",null],e$=e=>({and:[[e[0],"<>",null],[e[0],e[1],{type:"field",ref:e[2]}]]})},48509:(e,r,n)=>{"use strict";n.d(r,{C7b:()=>f.C7,Fh:()=>f.Fh,Hw9:()=>_.Hw,I5K:()=>g.I5,LZx:()=>g.LZ,QRJ:()=>f.QR,_Dm:()=>f._D});var i=n(18393),a=n(34122),o=n(81505),s=n(59980),l=n(22479),d=n(85925),c=n(83496),u=n(48904),p=n(20592),h=n(87160),m=n(4422),g=n(72285);n(42751),n(78103),n(81996);var f=n(56140);n(62241);var _=n(76024);n(61390);let y=[...a.l,...o.l,...s.l,...l.l,...i.l,...d.l,...c.l,...u.l,...p.l,...h.l].map(e=>new e),E=a.l.map(e=>m.p.compile(new e,y)),b=o.l.map(e=>m.p.compile(new e,y)),v=s.l.map(e=>m.p.compile(new e,y)),S=l.l.map(e=>m.p.compile(new e,y)),I=i.l.map(e=>m.p.compile(new e,y)),T=d.l.map(e=>m.p.compile(new e,y)),w=c.l.map(e=>m.p.compile(new e,y));[...I,...E,...b,...v,...S,...T,...w,...u.l.map(e=>m.p.compile(new e,y)),...p.l.map(e=>m.p.compile(new e,y)),...h.l.map(e=>m.p.compile(new e,y))]},82916:(e,r,n)=>{"use strict";n.d(r,{v0:()=>g,Oi:()=>f,EC:()=>I});var i=n(63838);let a=i.z.enum(["claude-instant-1.2","claude-1.3","claude-2.0","claude-2.1","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],{description:"The specified model is not an allowed anthropic chat model"}),o=i.z.enum(["user","assistant"]);i.z.enum(["stop_sequence","max_tokens"]);let s=i.z.object({type:i.z.literal("text"),text:i.z.string()}),l=i.z.enum(["image/jpeg","image/png","image/gif","image/webp"]),d=i.z.object({type:i.z.literal("base64"),media_type:l,data:i.z.string()}),c=i.z.object({type:i.z.literal("image"),source:d}),u=i.z.discriminatedUnion("type",[s,c]),p=i.z.object({type:i.z.literal("text_delta"),text:i.z.string()}),h=i.z.object({id:i.z.string().optional(),type:i.z.literal("message").optional(),role:o,content:i.z.array(u).or(i.z.string())}),m=i.z.array(h),g=i.z.object({model:a,system:i.z.string().optional(),messages:m,max_tokens:i.z.number().optional(),stop_sequences:i.z.array(i.z.string()).optional(),temperature:i.z.number().optional(),top_p:i.z.number().optional(),top_k:i.z.number().optional(),stream:i.z.boolean().optional()}),f=i.z.object({id:i.z.string(),type:i.z.literal("message"),role:o,model:i.z.string(),content:i.z.array(u),stop_reason:i.z.string().nullable().optional(),stop_sequence:i.z.string().nullable().optional(),usage:i.z.object({input_tokens:i.z.number(),output_tokens:i.z.number()})}),_=i.z.object({type:i.z.literal("message_start"),message:h.partial()}),y=i.z.object({type:i.z.literal("message_delta"),delta:h.partial()}),E=i.z.object({type:i.z.literal("message_stop")}),b=i.z.object({type:i.z.literal("content_block_start"),index:i.z.number(),content_block:u}),v=i.z.object({type:i.z.literal("content_block_delta"),index:i.z.number(),delta:p}),S=i.z.object({type:i.z.literal("content_block_stop"),index:i.z.number()}),I=i.z.discriminatedUnion("type",[_,y,E,b,v,S])},39995:(e,r,n)=>{"use strict";let i,a;n.d(r,{HP:()=>c,Kg:()=>d});let o="aws_waf_token_challenge_attempts";function s(){let e=i??("undefined"!=typeof window?window:void 0);if(!e)throw Error("Expected window object to be defined");return e}function l(){let e=a??("undefined"!=typeof document?document:void 0);if(!e)throw Error("Expected document object to be defined");return e}let d=new class{constructor(){this.onMessage=e=>{if(this.pendingWAFVerification&&"waf-successful"===e.data){if("challenge"===this.pendingWAFVerification.type){let{deferred:e,iframe:r}=this.pendingWAFVerification;this.pendingWAFVerification=void 0,e.resolve(),r.remove()}s().removeEventListener("message",this.onMessage)}}}waitForWAFValidation(e){if(this.pendingWAFVerification)return this.pendingWAFVerification.deferred.promise;let r=function(){let e,r;let n={promise:new Promise((n,i)=>{e=n,r=i}),resolve:r=>{n.status="resolved",n.result=r,e(r)},reject:e=>{n.status="rejected",n.error=e,r(e)},status:"pending"};return n}();try{let e=s().localStorage.getItem(o);if(e){let r=JSON.parse(e);r.attempts=1,s().localStorage.setItem(o,JSON.stringify(r))}}catch(e){console.error(e)}if("challenge"===e){let e=l().createElement("iframe");return e.src=`${s().location.origin}/waf-validation`,e.id="waf-iframe",l().body.appendChild(e),s().addEventListener("message",this.onMessage),this.pendingWAFVerification={type:"challenge",deferred:r,iframe:e},r.promise}if("captcha"===e)throw Error("Unhandled in Cortex client")}};function c(e){if(!e.url||!e.url.startsWith(s().location.origin))return null;let r=e.headers.get("x-amzn-waf-action");return r?"challenge"===r?"challenge":"captcha":null}},21645:(e,r,n)=>{"use strict";n.d(r,{Lj:()=>d,MZ:()=>l});var i=n(63838),a=n(54106);let o=i.z.array(i.z.object({defId:i.z.string(),fieldName:i.z.string(),instructions:i.z.string().optional()})),s=i.z.object({defId:i.z.string(),fieldName:i.z.string(),value:i.z.string()}),l=i.z.object({v:i.z.number(),data:i.z.object({fieldsToValues:i.z.array(i.z.object({fields:i.z.array(s)})),fieldsToUserInstructions:o,numToAdd:i.z.number(),forceCacheMiss:i.z.boolean().optional(),userPrompt:i.z.string().optional()})});i.z.record(i.z.string()),i.z.discriminatedUnion("type",[i.z.object({type:i.z.literal("KEY_VALUE_PAIR"),key:i.z.string(),value:i.z.any()}),i.z.object({type:i.z.literal("OBJECT_OPEN"),key:i.z.string().optional()}),i.z.object({type:i.z.literal("OBJECT_CLOSE")}),i.z.object({type:i.z.literal("ARRAY_OPEN"),key:i.z.string().optional()}),i.z.object({type:i.z.literal("ARRAY_CLOSE")})]);let d=i.z.object({trace:a.B.optional(),cortex_error:i.z.object({type:i.z.string(),data:i.z.any()}).optional(),result:i.z.record(i.z.string()).optional()})},81118:(e,r,n)=>{"use strict";n.d(r,{D:()=>o,r:()=>a});var i=n(63838);let a=i.z.object({prompt:i.z.string(),width:i.z.number(),height:i.z.number()}),o=i.z.string()},55320:(e,r,n)=>{"use strict";n.d(r,{D_:()=>a,Fr:()=>o,HC:()=>s,TO:()=>l});var i=n(63838);let a=i.z.object({image:i.z.string()}),o=i.z.object({mask:i.z.string()}),s=i.z.object({image:i.z.string(),imageCoordinates:i.z.object({x:i.z.number(),y:i.z.number(),width:i.z.number(),height:i.z.number()}),modelOverride:i.z.optional(i.z.string())}),l=i.z.object({detections:i.z.array(i.z.object({score:i.z.number(),box:i.z.object({x:i.z.number(),y:i.z.number(),width:i.z.number(),height:i.z.number()})}))})},60808:(e,r,n)=>{"use strict";n.d(r,{I:()=>a,s:()=>o});var i=n(63838);let a=i.z.object({prompt:i.z.string(),negativePrompt:i.z.string().default("blurry, bad"),cfgScale:i.z.number().default(8),seed:i.z.number().default(20),height:i.z.number().default(512),width:i.z.number().default(512),numImages:i.z.number().default(1)}),o=i.z.object({images:i.z.array(i.z.string()),metadata:i.z.object({height:i.z.number(),width:i.z.number()})})},4496:(e,r,n)=>{"use strict";n.d(r,{Xl:()=>s,vx:()=>o});var i=n(63838);let a=i.z.lazy(()=>i.z.object({name:i.z.string().optional(),type:i.z.string(),id:i.z.string().optional(),x:i.z.number().optional(),y:i.z.number().optional(),w:i.z.number().optional(),h:i.z.number().optional(),text:i.z.string().optional(),autolayout:i.z.enum(["VERTICAL","HORIZONTAL","NONE"]).optional(),children:i.z.array(a).optional()})),o=i.z.object({nodeRepresentation:a,imageB64:i.z.string()}),s=i.z.string()},65100:(e,r,n)=>{"use strict";n.d(r,{$t:()=>s,tu:()=>l});var i=n(63838);let a=i.z.lazy(()=>i.z.object({type:i.z.string(),name:i.z.string(),id:i.z.string(),text:i.z.string().optional(),children:i.z.array(a).optional()})),o=i.z.array(i.z.array(i.z.string())),s=i.z.object({nodeRepresentation:a,tabularData:o}),l=i.z.object({guids:i.z.array(i.z.string())})},13376:(e,r,n)=>{"use strict";n.d(r,{C7:()=>p,DL:()=>d,H:()=>g,Qv:()=>h,_M:()=>s,fR:()=>u,g8:()=>o,h4:()=>l,jR:()=>c,tl:()=>y});var i=n(63838),a=n(54106);let o=i.z.object({endpoint:i.z.string(),method:i.z.optional(i.z.union([i.z.literal("GET"),i.z.literal("POST"),i.z.literal("PUT")])),data:i.z.record(i.z.any())}),s=i.z.any(),l=i.z.object({prompt_data:i.z.string(),negative_prompt_data:i.z.string().default("blurry, bad"),cfg_scale:i.z.number().default(10),seed:i.z.number().default(20),steps:i.z.number().default(50),style_preset:i.z.string().default("photographic"),height:i.z.number().default(512),width:i.z.number().default(512),additionalPrefix:i.z.string().optional().default("")}),d=i.z.object({image:i.z.string(),metadata:i.z.object({height:i.z.number(),width:i.z.number()})}),c=i.z.object({kitKey:i.z.string(),userPrompt:i.z.string(),isLocal:i.z.boolean()}),u=i.z.string(),p=i.z.object({userPrompt:i.z.string(),themeByDefault:i.z.boolean()}),h=i.z.object({content:i.z.string()}),m=i.z.object({fontFamilies:i.z.array(i.z.string()),colors:i.z.array(i.z.string()),borderRadii:i.z.array(i.z.number()),spacing:i.z.array(i.z.number())}),g=i.z.object({userPrompt:i.z.string(),storedInitialPrompt:i.z.string(),jsx:i.z.string(),selectedId:i.z.string(),currentTheme:m,kitKey:i.z.string(),isLocal:i.z.boolean()}),f=i.z.object({type:i.z.literal("text_or_image"),affectedId:i.z.string(),content:i.z.string()}),_=i.z.discriminatedUnion("type",[i.z.object({type:i.z.literal("theme"),content:m.partial()}),f,i.z.object({type:i.z.literal("insert"),affectedId:i.z.string(),insertBehavior:i.z.union([i.z.literal("above"),i.z.literal("below")]),jsxToInsert:i.z.string()}),i.z.object({type:i.z.literal("replace"),affectedId:i.z.string(),jsxToInsert:i.z.string()})]),y=i.z.object({action:_.optional(),cortex_error:i.z.object({type:i.z.string(),data:i.z.any()}).optional(),trace:a.B.optional()})},10366:(e,r,n)=>{"use strict";n.d(r,{F:()=>a,V:()=>o});var i=n(63838);let a=i.z.object({userDescription:i.z.string(),variablesUsed:i.z.string(),canvasDescriptions:i.z.string()}),o=i.z.object({delta:i.z.string()})},51530:(e,r,n)=>{"use strict";n.d(r,{O:()=>o,S:()=>a});var i=n(63838);let a=i.z.object({selectedTLFs:i.z.string().optional(),selectedHotspots:i.z.string().optional(),canvasData:i.z.string().optional(),userDescription:i.z.string().optional()}),o=i.z.object({delta:i.z.string()})},40408:(e,r,n)=>{"use strict";n.d(r,{Xj:()=>l,ZC:()=>o});var i=n(63838);let a=i.z.object({source_id:i.z.string(),target_id:i.z.string()}).catchall(i.z.union([i.z.string(),i.z.number()])),o=i.z.object({data:i.z.array(a)}),s=i.z.object({source_id:i.z.string(),target_id:i.z.string(),predicted_link:i.z.boolean(),score:i.z.number()}),l=i.z.object({results:i.z.array(s)})},81380:(e,r,n)=>{"use strict";n.d(r,{V:()=>o,m:()=>a});var i=n(63838);let a=i.z.object({canvasData:i.z.string(),userDescription:i.z.string(),canvasVariables:i.z.string(),variablesUsed:i.z.string(),resolvedType:i.z.string()}),o=i.z.object({delta:i.z.string()})},12163:(e,r,n)=>{"use strict";n.d(r,{Z4:()=>d,d6:()=>l});var i=n(63838),a=n(49001),o=n(54106);let s=i.z.union([a.k6,i.z.literal("board")]);i.z.union([a.k6,i.z.literal("board"),i.z.literal("inappropriate")]);let l=i.z.object({prompt:i.z.string()}),d=i.z.object({type:s,trace:o.B.optional()})},54896:(e,r,n)=>{"use strict";n.d(r,{H:()=>o,x:()=>a});var i=n(63838);let a=i.z.object({requestUuid:i.z.string(),clusters:i.z.array(i.z.object({clusterName:i.z.string(),messages:i.z.array(i.z.string())}))}),o=i.z.object({v:i.z.number(),tokenCount:i.z.number(),data:i.z.array(i.z.object({id:i.z.string(),text:i.z.string()}))})},99999:(e,r,n)=>{"use strict";let i,a;n.d(r,{Wc:()=>e2,Fs:()=>e3,pp:()=>e4});var o=n(63838);function s(e){return Object.values(e)}let l=new WeakMap,d=new WeakMap,c=new WeakMap;function u(e,r){return l.set(e,e._def.getType),d.set(e,r),e._def.getType=(...r)=>{let n=l.get(e),i=d.get(e);return i&&!c.get(e)?i.call(e._def,...r):n?n.call(e._def,...r):void 0},e}let p=o.z.number().min(0).max(1),h=o.z.number().min(0),m=o.z.number().int().min(0),g=u(o.z.object({r:o.z.number().min(0).max(1),g:o.z.number().min(0).max(1),b:o.z.number().min(0).max(1)}),e=>e.factory.createIdentifier("Color")),f=u(o.z.object({r:o.z.number().min(0).max(1),g:o.z.number().min(0).max(1),b:o.z.number().min(0).max(1),a:o.z.number().min(0).max(1)}),e=>e.factory.createIdentifier("ColorA")),_=o.z.object({0:o.z.number(),1:o.z.number(),2:o.z.number()}),y=o.z.object({0:_,1:_}),E=o.z.object({0:h,1:h,2:h,3:h}),b=o.z.object({x:o.z.number(),y:o.z.number()}),v=o.z.object({width:o.z.number(),height:o.z.number()}),S=o.z.enum(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),I=o.z.enum(["FIXED","SCROLLS","STICKY_SCROLLS"]),T=o.z.enum(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),w=o.z.enum(["TOP","BOTTOM","TOP_BOTTOM","STRETCH","SCALE"]),C=o.z.enum(["LEFT","RIGHT","LEFT_RIGHT","STRETCH","SCALE"]),A=o.z.enum(["CENTER","INSIDE","OUTSIDE"]),N=o.z.enum(["NONE","ROUND","SQUARE","LINE_ARROW","TRIANGLE_ARROW","DIAMOND_FILLED","CIRCLE_FILLED","TRIANGLE_FILLED"]),O=o.z.enum(["MITER","BEVEL","ROUND"]),R=o.z.object({horizontal:C.optional(),vertical:w.optional()}),P=o.z.enum(["NONE","HORIZONTAL_SCROLLING","VERTICAL_SCROLLING","HORIZONTAL_AND_VERTICAL_SCROLLING"]),L=o.z.enum(["MIN","CENTER","MAX","STRETCH","BASELINE","INHERIT"]),D=o.z.enum(["NONE","VERTICAL","HORIZONTAL"]),M=o.z.enum(["MIN","MAX","CENTER","BASELINE"]),k=o.z.enum(["MIN","MAX","CENTER","SPACE_EVENLY","SPACE_BETWEEN"]),x=o.z.enum(["FIXED","AUTO"]),F=o.z.enum(["FIXED","AUTO"]),U=o.z.object({layoutMode:D.optional(),layoutAlign:L.optional(),itemSpacing:o.z.number().optional(),counterAxisSizingMode:x.optional(),primaryAxisSizingMode:F.optional(),counterAxisAlignItems:k.optional(),primaryAxisAlignItems:M.optional(),paddingLeft:o.z.number().optional(),paddingRight:o.z.number().optional(),paddingTop:o.z.number().optional(),paddingBottom:o.z.number().optional()}),B=o.z.enum(["AUTO","ABSOLUTE"]),V=o.z.union([o.z.object({pattern:o.z.enum(["COLUMNS","ROWS"]),alignment:o.z.enum(["MIN","MAX"]),gutterSize:o.z.number(),count:m,sectionSize:o.z.number().min(0),offset:o.z.number().min(0),visible:o.z.boolean().optional(),color:f.optional()}),o.z.object({pattern:o.z.enum(["COLUMNS","ROWS"]),alignment:o.z.literal("STRETCH"),gutterSize:o.z.number(),count:m,offset:o.z.number().min(0),visible:o.z.boolean().optional(),color:f.optional()}),o.z.object({pattern:o.z.enum(["COLUMNS","ROWS"]),alignment:o.z.literal("CENTER"),gutterSize:o.z.number(),count:m,sectionSize:o.z.number().min(0),visible:o.z.boolean().optional(),color:f.optional()}),o.z.object({pattern:o.z.literal("GRID"),sectionSize:o.z.number().min(0),visible:o.z.boolean().optional(),color:f.optional()})]),H={offset:b,color:f,blendMode:S,radius:o.z.number().min(0),spread:o.z.number().optional(),visible:o.z.boolean()},G=o.z.object({...H,type:o.z.literal("INNER_SHADOW")}),W=o.z.object({...H,type:o.z.literal("DROP_SHADOW"),showShadowBehindNode:o.z.boolean().optional()}),z=o.z.object({type:o.z.enum(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:o.z.number().min(0),visible:o.z.boolean()}),K=o.z.discriminatedUnion("type",[G,W,z]),j=o.z.array(K),Y=o.z.object({position:p,color:f}),$=o.z.enum(["EASE_IN","EASE_OUT","EASE_IN_AND_OUT","LINEAR","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_CUBIC_BEZIER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"]),q=u(o.z.discriminatedUnion("type",[o.z.object({type:o.z.literal("SOLID"),color:g,visible:o.z.boolean().optional(),opacity:p.optional(),blendMode:S.optional()}),o.z.object({type:o.z.enum(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:y,gradientStops:o.z.array(Y),visible:o.z.boolean().optional(),opacity:p.optional(),blendMode:S.optional()}),o.z.object({type:o.z.literal("IMAGE"),scaleMode:o.z.enum(["FILL","FIT","CROP","TILE"]).optional(),imageRef:o.z.string(),scalingFactor:h.optional(),rotation:m.optional(),imageTransform:y.optional(),visible:o.z.boolean().optional(),opacity:p.optional(),blendMode:S.optional()})]),e=>e.factory.createIdentifier("Paint")),Z=o.z.array(q),X=o.z.object({startingAngle:o.z.number(),endingAngle:o.z.number(),innerRadius:p}),J=o.z.enum(["NONZERO","EVENODD"]),Q=o.z.object({x:o.z.number(),y:o.z.number(),strokeCap:N.optional(),strokeJoin:O.optional(),cornerRadius:h.optional()}),ee=o.z.object({start:m,end:m,tangentStart:b.optional(),tangentEnd:b.optional()}),et=o.z.object({windingRule:J,loops:o.z.array(o.z.array(m)),fillStyleId:o.z.string().optional()}),er=o.z.object({vertices:o.z.array(Q),segments:o.z.array(ee),regions:o.z.array(et).optional()}),en=o.z.discriminatedUnion("format",[o.z.object({format:o.z.enum(["PNG","JPG"]),contentsOnly:o.z.boolean().optional(),suffix:o.z.string().optional(),useAbsoluteBounds:o.z.boolean().optional(),constraint:o.z.union([o.z.object({type:o.z.enum(["SCALE"]),value:o.z.number()}),o.z.object({type:o.z.enum(["WIDTH","HEIGHT"]),value:o.z.number().int()})]).optional()}),o.z.object({format:o.z.literal("PDF"),contentsOnly:o.z.boolean().optional(),suffix:o.z.string().optional(),useAbsoluteBounds:o.z.boolean().optional()}),o.z.object({format:o.z.literal("SVG"),contentsOnly:o.z.boolean().optional(),suffix:o.z.string().optional(),svgOutlineText:o.z.boolean().optional(),svgIdAttribute:o.z.boolean().optional(),svgSimplifyStroke:o.z.boolean().optional(),useAbsoluteBounds:o.z.boolean().optional()})]),ei=o.z.array(en),ea=o.z.record(o.z.object({fills:Z})),eo=o.z.object({cornerRadius:h.optional(),rectangleCornerRadii:E.optional()}),es=o.z.object({strokeWeight:o.z.number().optional(),individualStrokeWeights:o.z.object({left:o.z.number().optional(),right:o.z.number().optional(),top:o.z.number().optional(),bottom:o.z.number().optional()}).optional()}),el=u(o.z.enum(["ORIGINAL","UPPER","LOWER","TITLE"]),e=>e.factory.createIdentifier("TextCase")),ed=u(o.z.enum(["NO_WRAP","WRAP"]),e=>e.factory.createIdentifier("LayoutWrapCase")),ec=u(o.z.object({family:o.z.string(),style:o.z.string()}),e=>e.factory.createIdentifier("FontName")),eu=u(o.z.object({fontSize:h.optional(),fontName:ec.optional(),letterSpacing:o.z.number().optional(),textCase:el.optional(),fillPaints:Z.optional()}),e=>e.factory.createIdentifier("TextStyle")),ep=o.z.array(o.z.record(o.z.string())),eh=o.z.enum(["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","ENG_FILE","ENG_FOLDER","TRAPEZOID","PREDEFINED_PROCESS","SHIELD","DOCUMENT_SINGLE","DOCUMENT_MULTIPLE","MANUAL_INPUT","HEXAGON","CHEVRON","PENTAGON","OCTAGON","STAR","PLUS","ARROW_LEFT","ARROW_RIGHT","SUMMING_JUNCTION","OR","SPEECH_BUBBLE","INTERNAL_STORAGE"]),em=o.z.enum(["NONE","ARROW_EQUILATERAL","ARROW_LINES","TRIANGLE_FILLED","DIAMOND_FILLED","CIRCLE_FILLED"]),eg=o.z.union([o.z.object({endpointNodeId:o.z.string(),magnet:o.z.enum(["NONE","AUTO","TOP","LEFT","BOTTOM","RIGHT"])}),o.z.object({endpointNodeId:o.z.string().optional(),position:o.z.object({x:o.z.number(),y:o.z.number()})})]),ef=o.z.object({id:o.z.string(),name:o.z.string().optional(),visible:o.z.boolean().optional(),locked:o.z.boolean().optional(),scrollBehavior:I.optional(),pluginData:o.z.object({desiredSize:o.z.enum(["small","medium","large","notice"]).optional(),pluginSvgPreviewUrl:o.z.string().optional(),pluginSvgPreviewData:o.z.string().optional()}).optional()}),e_=o.z.object({blendMode:S.optional(),opacity:p.optional()}),ey=o.z.object({fills:Z.optional(),strokes:Z.optional(),fillOverrideTable:ea.optional(),strokeAlign:A.optional(),strokeCap:N.optional(),strokeJoin:O.optional(),strokeMiterLimit:o.z.number().min(0).optional(),strokeDashes:o.z.array(o.z.number()).optional()}),eE=o.z.object({relativeTransform:y.optional(),preserveRatio:o.z.boolean().optional(),constraints:R.optional(),size:v.optional(),layoutAlign:L.optional(),layoutGrow:o.z.number().optional(),layoutPositioning:B.optional()}),eb=o.z.object({transitionNodeID:o.z.string().optional(),transitionDuration:o.z.number().min(0).optional(),transitionEasing:$.optional()}),ev=o.z.object({clipsContent:o.z.boolean().optional(),fills:Z.optional(),strokes:Z.optional(),strokeAlign:A.optional(),overflowDirection:P.optional(),layoutGrids:V.optional()}).merge(eo).merge(es).merge(U),eS=o.z.object({exportSettings:ei.optional()}),eI=o.z.object({effects:j.optional()}),eT=o.z.object({isMask:o.z.boolean().optional()}),ew=ef.merge(e_).merge(eE).merge(ey).merge(eS).merge(eI).merge(eT).merge(eb),eC=o.z.object({uri:o.z.string()}),eA=o.z.object({description:o.z.string().optional(),documentationLinks:o.z.object({0:eC}).optional()}),eN=o.z.object({sectionContentsHidden:o.z.boolean().optional()}),eO=o.z.object({fills:Z.optional()}),eR=o.z.object({strokes:Z.optional(),strokeWeight:o.z.number().optional(),strokeAlign:A.optional(),strokeJoin:O.optional(),strokeDashes:o.z.array(o.z.number()).optional()}),eP=o.z.object({parentId:o.z.string().optional()}),eL=o.z.object({type:o.z.literal("ELLIPSE"),arcData:X}).merge(ew).merge(eP),eD=o.z.object({type:o.z.enum(["STAR","LINE","REGULAR_POLYGON","RECTANGLE"])}).merge(ew).merge(eo).merge(eP),eM=o.z.object({type:o.z.literal("VECTOR"),vectorNetwork:er}).merge(ew).merge(eP),ek=o.z.object({type:o.z.literal("BOOLEAN_OPERATION"),booleanOperation:T}).merge(ew).merge(eP),ex=o.z.object({type:o.z.literal("SLICE")}).merge(eE).merge(eS).merge(eP),eF=o.z.enum(["ORDERED","UNORDERED","NONE"]),eU=o.z.object({characters:o.z.string(),style:eu.optional(),characterStyleOverrides:o.z.array(o.z.number()).optional(),styleOverrideTable:o.z.record(eu).optional(),lineTypes:o.z.array(eF).optional(),lineIndentations:o.z.array(o.z.number().min(0)).optional()}),eB=o.z.object({layoutWrap:ed.optional()}),eV=o.z.object({type:o.z.literal("TEXT")}).merge(ew).merge(eP).merge(eU).merge(eB),eH=o.z.object({type:o.z.literal("FRAME")}).merge(ew).merge(ev).merge(eP),eG=o.z.object({type:o.z.literal("GROUP")}).merge(ef).merge(eP),eW=o.z.object({type:o.z.literal("COMPONENT")}).merge(ef).merge(ev).merge(eA).merge(eP),ez=o.z.object({type:o.z.literal("COMPONENT_SET")}).merge(ef).merge(ev).merge(eA).merge(eP);var eK=((i=eK||{}).COMPONENT="COMPONENT",i.COMPONENT_SET="COMPONENT_SET",i);let ej=o.z.object({type:o.z.literal("INSTANCE"),componentKey:o.z.string(),componentType:o.z.enum(s(eK)),componentId:o.z.string().optional(),uniformScaleFactor:o.z.number().optional()}).merge(ef).merge(ev).merge(eE).merge(eP),eY=o.z.object({type:o.z.literal("SECTION")}).merge(ef).merge(eN).merge(ey).merge(eE).merge(eP),e$=o.z.object({type:o.z.literal("STICKY"),authorVisible:o.z.boolean(),authorName:o.z.string()}).merge(ef).merge(eE).merge(e_).merge(eO).merge(eT).merge(eI).merge(eS).merge(eU).merge(eP),eq=o.z.object({type:o.z.literal("SHAPE_WITH_TEXT"),shapeType:eh}).merge(ef).merge(eE).merge(e_).merge(eO).merge(eT).merge(eI).merge(eS).merge(eU).merge(eo).merge(eR).merge(eP),eZ=o.z.object({type:o.z.literal("CONNECTOR"),connectorStart:eg,connectorEnd:eg,connectorStartStrokeCap:em,connectorEndStrokeCap:em,textBackground:eo.merge(es).optional(),connectorLineType:o.z.enum(["ELBOWED","STRAIGHT"])}).merge(ef).merge(eE).merge(e_).merge(eI).merge(eS).merge(eU).merge(eR).merge(eP),eX=o.z.object({type:o.z.literal("WIDGET"),pluginId:o.z.string(),pluginVersionId:o.z.string(),size:v.optional(),widgetSyncedState:ep.optional()}).merge(ef).merge(eS).merge(eP),eJ=o.z.object({type:o.z.literal("TABLE"),numRows:o.z.number().int(),numColumns:o.z.number().int()}).merge(ef).merge(eE).merge(eR).merge(eI).merge(e_).merge(eS).merge(eP),eQ=o.z.object({type:o.z.literal("TABLE_CELL"),rowIndex:o.z.number().int(),columnIndex:o.z.number().int()}).merge(eE).merge(ef).merge(eO).merge(eU).merge(eP),e0=o.z.lazy(()=>o.z.discriminatedUnion("type",[eL,eD,eM,ex,eV,ej,e$,eq,eZ,eX,eJ,eQ,ek.extend({children:o.z.array(e0).optional()}),eY.extend({children:o.z.array(e0).optional()}),eH.extend({children:o.z.array(e0).optional()}),eG.extend({children:o.z.array(e0).optional()}),eW.extend({children:o.z.array(e0).optional()}),ez.extend({children:o.z.array(e0).min(1)})]));var e1=n(54106),e2=((a=e2||{}).DESCRIPTION="description",a.PASSTHROUGH_XML_DEBUG_ONLY="passthroughXmlDebugOnly",a);let e3=o.z.object({prompt:o.z.string(),mode:o.z.enum(s(e2)).optional()});o.z.discriminatedUnion("type",[o.z.object({type:o.z.literal("TAG_OPEN"),tag:o.z.string(),attrs:o.z.record(o.z.string(),o.z.string().optional())}),o.z.object({type:o.z.literal("TEXT"),text:o.z.string()}),o.z.object({type:o.z.literal("TAG_CLOSE"),tag:o.z.string()}),o.z.object({type:o.z.literal("COMMENT"),comment:o.z.string()})]);let e5=o.z.string(),e4=o.z.object({requestId:o.z.string().optional(),createNodes:o.z.object({node:u(e0,e=>e.factory.createKeywordTypeNode(e.SyntaxKind.AnyKeyword)),parentId:e5.optional(),index:o.z.number().optional()}).array().optional(),cortex_error:o.z.object({type:o.z.string(),data:o.z.any()}).optional(),trace:e1.B.optional()})},49001:(e,r,n)=>{"use strict";n.d(r,{TG:()=>S,k6:()=>b,nY:()=>v,pk:()=>E});var i=n(63838),a=n(54106);let o=i.z.union([i.z.literal("diagram"),i.z.literal("orgchart")]),s=i.z.union([i.z.literal("horizontal"),i.z.literal("vertical")]),l=i.z.object({id:i.z.string(),name:i.z.string(),team:i.z.string(),role:i.z.string(),location:i.z.string(),x:i.z.number(),y:i.z.number()}),d=i.z.object({id:i.z.string(),label:i.z.string(),shapeWithTextType:i.z.string(),x:i.z.number(),y:i.z.number()}),c=i.z.object({startId:i.z.string(),endId:i.z.string(),label:i.z.string()}),u=i.z.object({requestId:i.z.string().optional(),type:o,direction:s,vertices:i.z.union([i.z.array(d),i.z.array(l)]),edges:i.z.array(c),trace:a.B.optional()}),p=i.z.object({text:i.z.string(),rangePercent:i.z.number()}),h=i.z.object({text:i.z.string(),tasks:i.z.array(i.z.object({text:i.z.string(),dateText:i.z.string(),width:i.z.number(),x:i.z.number(),depth:i.z.number(),isMilestone:i.z.boolean(),isCrit:i.z.boolean(),isActive:i.z.boolean(),isDone:i.z.boolean()}))}),m=i.z.object({requestId:i.z.string().optional(),title:i.z.string(),width:i.z.number(),numDays:i.z.number(),months:i.z.array(p),categories:i.z.array(h),trace:a.B.optional()}),g=i.z.object({text:i.z.string(),rangePercent:i.z.number()}),f=i.z.object({x:i.z.number(),dateText:i.z.string(),text:i.z.string(),isMilestone:i.z.boolean()}),_=i.z.object({requestId:i.z.string().optional(),title:i.z.string(),width:i.z.number(),numDays:i.z.number(),months:i.z.array(g),events:i.z.array(f),trace:a.B.optional()}),y=i.z.object({level:i.z.number(),descr:i.z.string()}).extend({children:i.z.lazy(()=>y.array())}),E=i.z.object({requestId:i.z.string().optional(),rootNode:y,trace:a.B.optional()}),b=i.z.union([o,i.z.literal("gantt"),i.z.literal("timeline"),i.z.literal("mindmap")]),v=i.z.object({prompt:i.z.string(),visualType:b}),S=i.z.union([u,m,_,E])},35767:(e,r,n)=>{"use strict";n.d(r,{qv:()=>d,sb:()=>c});var i=n(63838);let a=i.z.enum(["TEXT","STICKY","CODE_BLOCK","SHAPE_WITH_TEXT","TABLE","EXPLORE_CLASS","EXPLORE_OPTION","GET_MORE_OPTION"]),o=i.z.array(i.z.object({id:i.z.string(),type:a,text:i.z.string()})),s=i.z.union([i.z.literal("ideate"),i.z.literal("quickQuestion"),i.z.literal("teachMeAbout"),i.z.literal("giveMeInit"),i.z.literal("giveMe"),i.z.literal("similarStuff"),i.z.literal("rabbitHoleInit"),i.z.literal("rabbitHole"),i.z.literal("summarize"),i.z.literal("rewriteThis"),i.z.literal("turnThisInto"),i.z.literal("code"),i.z.literal("custom"),i.z.literal("dev")]),l=i.z.object({ideateDescription:i.z.string().optional(),quickQuestion:i.z.string().optional(),giveMeSelected:i.z.string().optional(),rabbitHoleSelected:i.z.string().optional(),summarizeSelected:i.z.string().optional(),rewriteThisDescription:i.z.string().optional(),turnThisIntoSelected:i.z.string().optional(),codeDescription:i.z.string().optional(),customPrompt:i.z.string().optional(),devSystemMessage:i.z.string().optional(),devPrefix:i.z.string().optional()}),d=i.z.object({blockType:s,inputNodeData:o,widgetData:l}),c=i.z.array(i.z.object({type:a,text:i.z.string()}))},1321:(e,r,n)=>{"use strict";n.d(r,{CJ:()=>l,W4:()=>c});var i=n(63838);let a=i.z.enum(["STICKY","SHAPE_WITH_TEXT","TEXT"],{invalid_type_error:"Not an allowed type in summarize"}),o=i.z.record(i.z.number(),{description:"A map from the name of the stamp to the number of instances it has on the given node"}),s=i.z.object({t:i.z.string({description:"The text of the node"}),bounds:i.z.object({x:i.z.number(),y:i.z.number(),w:i.z.number(),h:i.z.number()}).nullable(),id:i.z.string(),stamps:o.optional(),type:a}),l=i.z.object({v:i.z.number({description:"summarize request version"}),data:i.z.array(s),stream:i.z.boolean().optional()}),d=i.z.object({header:i.z.string(),items:i.z.string().array()});i.z.object({summary:i.z.string(),clusters:d.array()});let c=i.z.object({delta:i.z.string()});i.z.object({error:i.z.object({code:i.z.number(),message:i.z.string()})})},85840:(e,r,n)=>{"use strict";n.d(r,{C:()=>c,w:()=>d});var i=n(63838),a=n(49001);let o=i.z.literal("generate_ideas"),s=i.z.object({selectedNode:i.z.string(),parentHierarchy:i.z.array(i.z.string()),children:i.z.array(i.z.string()),excludedSuggestions:i.z.optional(i.z.array(i.z.string()))}),l=i.z.discriminatedUnion("visualType",[i.z.object({visualType:i.z.literal("mindmap"),updateMode:o})]),d=i.z.object({inputData:s,updateType:l}),c=a.pk},44003:(e,r,n)=>{"use strict";n.d(r,{un:()=>c,Ak:()=>d,Oh:()=>u});var i=n(63838);let a=i.z.object({use_cache:i.z.boolean().optional().default(!0)});var o=n(28077),s=n(82916),l=n(76969);let d=o.$l.and(a),c=s.v0.and(a),u=l.vD.and(a)},69114:(e,r,n)=>{"use strict";n.d(r,{XR:()=>s,rD:()=>o});var i=n(63838);let a=i.z.discriminatedUnion("type",[i.z.object({type:i.z.literal("TRANSLATE"),language:i.z.string()}),i.z.object({type:i.z.literal("SHORTEN")}),i.z.object({type:i.z.literal("REWRITE_TEXT"),prompt:i.z.string()})]),o=i.z.object({action:a,text:i.z.string()}),s=i.z.object({delta:i.z.string()})},67131:(e,r,n)=>{"use strict";n.d(r,{BB:()=>u,h7:()=>l});var i=n(63838);let a=i.z.enum(["STICKY","SHAPE_WITH_TEXT","TEXT"],{invalid_type_error:"Not an allowed type in slides"}),o=i.z.record(i.z.number(),{description:"A map from the name of the stamp to the number of instances it has on the given node"}),s=i.z.object({t:i.z.string({description:"The text of the node"}),bounds:i.z.object({x:i.z.number(),y:i.z.number(),w:i.z.number(),h:i.z.number()}).nullable(),id:i.z.string(),stamps:o.optional(),type:a}),l=i.z.object({version:i.z.number({description:"slides request version"}),data:i.z.array(s)});i.z.object({delta:i.z.string()});let d=i.z.enum(["p","h2","li","h1"]),c=i.z.enum(["supporting_point","main_theme","tldr","title"]),u=i.z.object({type:d,context:i.z.optional(c),content:i.z.string()})},32113:(e,r,n)=>{"use strict";n.d(r,{ZR:()=>a,uI:()=>o});var i=n(63838);let a=i.z.enum(["gpt-3.5-turbo","gpt-3.5-turbo-0301","gpt-3.5-turbo-0613","gpt-3.5-turbo-1106","gpt-3.5-turbo-0125","gpt-3.5-turbo-16k","gpt-3.5-turbo-16k-0613","gpt-4","gpt-4-0314","gpt-4-0613","gpt-4-32k","gpt-4-32k-0314","gpt-4-32k-0613","gpt-4-1106-preview","gpt-4-vision-preview","gpt-4-turbo-2024-04-09","gpt-4o-2024-05-13"],{description:"The specified model is not an allowed chat completion model"});i.z.enum(["gpt-35-turbo","gpt-35-turbo-16k","gpt-4","gpt-4-vision","gpt-35-turbo-instruct","gpt-4-32k","no-fallback"]);let o=i.z.enum(["gpt-4-visual","gpt-4-vision-preview","gpt-4-turbo-2024-04-09","gpt-4o-2024-05-13"]);i.z.enum(["gpt-3.5-turbo-instruct"])},28077:(e,r,n)=>{"use strict";n.d(r,{$l:()=>p,tm:()=>h,v0:()=>g});var i=n(32113),a=n(63838),o=n(42568);let s=a.z.union([a.z.object({type:a.z.literal("text"),text:a.z.string()}),a.z.object({type:a.z.literal("image_url"),image_url:a.z.object({url:a.z.string(),detail:a.z.string().optional()})})]),l=a.z.object({role:o.Cw,content:a.z.union([a.z.string(),a.z.array(s)]),name:a.z.string().optional(),function_call:a.z.any()}),d=a.z.object({role:o.Cw,content:a.z.string().nullable(),function_call:a.z.any()}),c=a.z.array(l),u=a.z.object({message:d,index:a.z.number().optional(),finish_reason:a.z.string().nullable().optional()}),p=a.z.object({model:i.ZR,messages:c,functions:a.z.any().array().optional(),function_call:a.z.any()}).merge(o.n1),h=a.z.object({id:a.z.string(),object:a.z.string(),model:a.z.string(),choices:a.z.array(u),usage:o.Tb}),m=a.z.object({delta:a.z.object({content:a.z.string().optional(),function_call:a.z.any()}),finish_reason:a.z.string().nullable().optional(),index:a.z.number().optional()}),g=a.z.object({id:a.z.string(),object:a.z.literal("chat.completion.chunk").optional(),created:a.z.number().optional(),model:a.z.string(),choices:a.z.array(m),usage:o.Tb.optional()})},76969:(e,r,n)=>{"use strict";n.d(r,{ZI:()=>l,vD:()=>o});var i=n(63838);let a=i.z.enum(["text-embedding-ada-002","text-embedding-3-small","text-embedding-3-large"]),o=i.z.object({model:a,input:i.z.string().or(i.z.string().array())}),s=i.z.object({object:i.z.literal("embedding"),embedding:i.z.array(i.z.number()),index:i.z.number()}),l=i.z.object({object:i.z.literal("list"),data:s.array(),model:i.z.string(),usage:i.z.object({prompt_tokens:i.z.number(),total_tokens:i.z.number()})})},42568:(e,r,n)=>{"use strict";n.d(r,{Cw:()=>a,Tb:()=>s,n1:()=>o});var i=n(63838);let a=i.z.enum(["system","user","assistant","function"]),o=i.z.object({stream:i.z.boolean().optional(),temperature:i.z.number().optional(),top_p:i.z.number().optional(),max_tokens:i.z.number().optional(),n:i.z.number().optional(),best_of:i.z.number().optional(),frequency_penalty:i.z.number().optional(),presence_penalty:i.z.number().optional(),logit_bias:i.z.record(i.z.number()).optional(),stop:i.z.array(i.z.string()).or(i.z.string()).optional(),response_format:i.z.object({type:i.z.enum(["text","json_object"])}).optional()}),s=i.z.object({prompt_tokens:i.z.number(),completion_tokens:i.z.number(),total_tokens:i.z.number()})},67583:(e,r,n)=>{"use strict";n.d(r,{vX:()=>g});var i=n(32113),a=n(63838),o=n(42568);let s=a.z.object({image:a.z.string({description:"base64-encoded image data"}),resize:a.z.number().nullable()}),l=a.z.object({image_url:a.z.string({description:"url for the relevant image"})}),d=a.z.string().or(s).or(l),c=a.z.object({type:a.z.literal("text"),text:a.z.string()}),u=a.z.object({url:a.z.string(),detail:a.z.enum(["low","high"])}),p=a.z.object({type:a.z.literal("image_url"),image_url:a.z.string().or(u)}),h=a.z.discriminatedUnion("type",[c,p]),m=a.z.object({role:o.Cw,content:a.z.string().or(a.z.array(d)).or(a.z.array(h)),name:a.z.string().optional()}),g=a.z.object({model:i.uI,messages:a.z.array(m),functions:a.z.any().array().optional(),function_call:a.z.any()}).merge(o.n1)},41092:(e,r,n)=>{"use strict";n.d(r,{G1:()=>i});class i extends Error{constructor(e,r,n,i,a,o){super((n??function(e){let r=e.message;return"string"==typeof r?r:void 0}(r)??`CortexError of type ${e}`)+(o?`
go/cortex-request/${o}`:"")),null!=i&&(this.stack=i),void 0!==a&&(this.trace=a),this.type=e,this.data=r}}},54106:(e,r,n)=>{"use strict";n.d(r,{B:()=>l});var i=n(63838),a=n(28077),o=n(76969);let s=i.z.object({item:i.z.any(),score:i.z.number()}),l=i.z.object({name:i.z.string(),type:i.z.enum(["group","chat","embeddings","error"]),start:i.z.number(),end:i.z.number().optional(),chat:i.z.object({request:a.$l,response:a.tm.optional()}).optional(),embeddings:i.z.object({request:o.vD,choices:s.array().optional(),filteredChoices:s.array().optional()}).optional(),error:i.z.object({type:i.z.string(),message:i.z.string(),stack:i.z.string().optional()}).optional()}).extend({children:i.z.lazy(()=>l.array())})},72937:(e,r,n)=>{"use strict";n.d(r,{xi:()=>o});var i=n(38912),a=n(63838);function o(){let e;let r=new TextDecoder;return new TransformStream({start(r){e=(0,i.C)(e=>r.enqueue(e))},transform(n){e.feed(r.decode(n))}})}a.z.enum(["invalid_request_error"]),a.z.enum(["context_length_exceeded"]),a.z.object({error:a.z.object({message:a.z.string(),type:a.z.string().optional(),param:a.z.any().optional(),code:a.z.number().or(a.z.string()).nullable().optional()})}),n(41092),a.z.object({error:a.z.object({type:a.z.string(),message:a.z.string()})})},29798:(e,r,n)=>{"use strict";function i(e){return new TransformStream({transform(r,n){let i;try{i=e.parse(r)}catch(e){n.error(e),console.error("ERROR PARSING ZOD",e);return}try{n.enqueue(i)}catch(e){console.error("ERROR ENQUEUEING ZOD",e)}}},new CountQueuingStrategy({highWaterMark:100}),new CountQueuingStrategy({highWaterMark:100}))}n.d(r,{Wd:()=>i})},32376:(e,r,n)=>{"use strict";n.d(r,{xv:()=>s});var i=n(37870),a=n(21898);let o=a.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(945),n.e(817)]).then(n.bind(n,14932)).then(e=>e.AutosaveLogOutModal),(0,i.Ij)("AutosaveLogOutModal")),s=(0,i.Ju)(o),l=a.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(945),n.e(817)]).then(n.bind(n,14932)).then(e=>e.HasAutosaveChangesModal),(0,i.Ij)("HasAutosaveChangesModal"));(0,i.Ju)(l);let d=a.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(945),n.e(817)]).then(n.bind(n,75081)).then(e=>e.AutosaveLearnMoreModal),(0,i.Ij)("AutosaveLearnMoreModal"));(0,i.Ju)(d)},73944:(e,r,n)=>{"use strict";n.d(r,{V:()=>X});var i=n(37870),a=n(11855),o=n(88507),s=n(29019),l=n.n(s),d=n(94272),c=n(99569),u=n(30949),p=n(39863),h=n(69987),m=n(46689),g=n(76813),f=n(62275),_=n(1505);function y(){let e=(0,o.wA)();return a.createElement("div",{className:"enterprise_plan_banner--bannerContainer--I0Cr-","data-testid":"enterprise_plan_banner"},a.createElement("div",{className:"enterprise_plan_banner--bannerIcon---QYfz"},a.createElement(g.In,{icon:"org-32"})),a.createElement("div",{className:"enterprise_plan_banner--bannerTextContainer--VLYAK"},a.createElement("h2",{className:"enterprise_plan_banner--bannerHeader--Bk-7y"},a.createElement(p.Tx,{id:"universal_upgrade.enterpise_plan_banner.banner_header"})),a.createElement("span",{className:"enterprise_plan_banner--bannerTextBody--5lmrF"},a.createElement(p.Tx,{id:"universal_upgrade.enterpise_plan_banner.banner_body_text"}))),a.createElement(m.tM,{className:"enterprise_plan_banner--contactSalesCTA--CMB-2",onClick:()=>e(f.to({type:h.lk,data:{source:h.B7.PLAN_COMPARISON}})),trackingProperties:{trackingDescriptor:_.c.ENTERPRISE_PLAN_BANNER_CONTACT_SALES}},a.createElement(p.Tx,{id:"universal_upgrade.enterpise_plan_banner.contact_sales"})))}function E(){return a.createElement("div",{className:"enterprise_plan_banner--stickyFooterContainer--8QzNH","data-testid":"enterprise_plan_banner_sticky_footer"},a.createElement(y,null))}var b=n(38269),v=n(95852),S=n(49410),I=n(72517),T=n(11916),w=n(20662),C=n(20113),A=n(24838),N=n(43987),O=n(28467),R=n(46869),P=n(7956),L=n(88578),D=n(84934),M=n(24897),k=n(22139),x=n(92079),F=n(98606),U=n(30413),B=n(90448),V=n(43135),H=n(18025);let G="comparison_chart--highlighted--Z9H4C",W="comparison_chart--planInformationContainer--4g1pU",z="comparison_chart--featureContainer--LpUtH";var K=n(14270);function j({currency:e,chooseStarterPlan:r,chooseProPlan:n,chooseOrgPlan:i,updateCurrency:s,isProTrial:d,upsellSource:c,isProCurrent:p,overrideHighlightedPlan:h,overrideHighlightedBadgeText:m,featureList:g,parentRef:f,withUpgradeExistingTeamOption:_}){let E=(0,o.d4)(e=>e.dropdownShown),b=(0,o.d4)(e=>e.user),v=(0,o.d4)(e=>e.payment),[S,T]=a.useState(v.billingPeriod?V.AY[v.billingPeriod]:k.R$.ANNUAL),{highlightedPlan:w,orderedFeatures:O,orderedPlans:R,currentPlan:P,billingPeriod:L,seeMoreLinkText:D,isShowingFullFeatureSet:M}=(0,V.uF)({isProCurrent:p,featureList:g,overrideHighlightedPlan:h,subscriptionPlan:S}),x=!p&&!M&&(0,A.Hw)(b),F=(0,V.H8)(f);return a.createElement(I.fu,{name:V.QO,properties:{highlightedPlan:w,currentPlan:P}},a.createElement("div",{className:"comparison_chart--container--dFsm6"},!p&&a.createElement("div",{className:"comparison_chart--billingToggleContainer--RsPEZ"},a.createElement(B.C,{currentPlan:S,setCurrentPlan:e=>{T(e)}})),(0,C._Z)()&&a.createElement("div",{className:"comparison_chart--currencySwitcherContainer--lhBnA"},a.createElement(U.D,{currency:e,dropdownShown:E,supportedCurrencies:(0,C.B9)(),changeCurrency:s,shortFormDisplay:!1})),a.createElement("div",{className:"comparison_chart--tableContainer--JKw45",role:"tabpanel",id:`${S}-tab`},a.createElement("table",{className:"comparison_chart--table--ziR97"},a.createElement("colgroup",null,a.createElement("col",{span:1}),R.map(e=>a.createElement("col",{key:e,span:1}))),a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:z}),R.map(e=>a.createElement("th",{key:e,className:l()(W,u.cx.pt24.pb12.$,{[G]:e===w})},a.createElement(H.gS,{planMode:e,isProCurrent:p,isProTrial:d,isHighlighted:e===w,upsellSource:c,overrideHighlightedBadgeText:m})))),a.createElement("tr",null,a.createElement("th",{className:z}),R.map(r=>a.createElement("th",{key:r,className:l()(W,u.cx.pt12.pb12.$,{[G]:r===w})},a.createElement(H.Lo,{planMode:r,currency:e,currentSubscriptionPlan:S,setCurrentSubscriptionPlan:T,isCurrentPlan:r===P,showFullCurrencyFormat:"usd"===e&&"cad"===(0,C.LN)()})))),a.createElement("tr",null,a.createElement("th",{className:z}),R.map(e=>a.createElement("th",{key:e,className:l()(W,u.cx.pt12.$,{[G]:e===w})},a.createElement(H.Zn,{planMode:e,chooseStarterPlan:r,chooseProPlan:()=>n(L),chooseOrgPlan:i,isCurrentPlan:e===P,upsellSource:c})))),a.createElement("tr",null,a.createElement("th",{className:z}),R.map(e=>a.createElement("th",{key:e,className:l()(W,u.cx.pt8.pb12.$,{[G]:e===w})},a.createElement(H.z0,{planMode:e,withUpgradeExistingTeamOption:e===N.Jm.PRO&&_?()=>_(L):void 0}))))),a.createElement("tbody",null,O.map(e=>a.createElement(Y,{key:e,feature:e,orderedPlans:R,highlightedPlan:w})),M&&a.createElement("tr",{"data-testid":"comparison-chart-cta-footer-row"},a.createElement("td",{className:l()(z,u.cx.alignMiddle.$)},a.createElement(q,{linkText:D})),R.map(e=>a.createElement("td",{key:e,className:l()(W,u.cx.pt12.pb12.$,{[G]:e===w})},a.createElement(H.Zn,{planMode:e,chooseStarterPlan:r,chooseProPlan:()=>n(L),chooseOrgPlan:i,isCurrentPlan:e===P,upsellSource:c})))),F)),F,!M&&a.createElement(q,{linkText:D}),x&&a.createElement(y,null))))}function Y({feature:e,orderedPlans:r,highlightedPlan:n}){var i,o;let[s,d]=a.useState(!1),c=a.useRef(),u=void 0!==x.qT[e].tooltipSpecialKey,p=u?F.Ib.SPECIAL:F.Ib.TEXT,h=u?x.qT[e].tooltipSpecialKey:null==(o=(i=x.qT[e]).details)?void 0:o.call(i);return a.createElement("tr",null,a.createElement("td",{className:z,"data-tooltip-type":p,"data-tooltip":h,"data-tooltip-show-right":!0,"data-tooltip-show-immediately":!0,"data-tooltip-light-mode":!0,onMouseEnter:()=>{s||(c.current=setTimeout(()=>{d(!0),(0,D.sx)("Plan Comparison Feature Viewed",{featureName:x.qT[e].id})},1e3))},onMouseLeave:()=>{clearTimeout(c.current)}},a.createElement("p",{className:"comparison_chart--featureName--J4il4"},x.qT[e].name())),r.map(r=>a.createElement("td",{key:r,className:l()("comparison_chart--planFeature--Zml3V",{[G]:r===n})},a.createElement($,{key:r,plan:r,feature:e}))))}function $({plan:e,feature:r}){let n=x.Lh[e][r];return"boolean"==typeof n?n?a.createElement(M.B,{svg:K.A,className:"comparison_chart--featureIcon--pD7-x",title:(0,p.t)("plan_comparison.chart.included")}):null:a.createElement(a.Fragment,null,n())}function q(e){return a.createElement(m.Us,{className:"comparison_chart--allFeaturesLink--aAa8A",href:N.zZ,target:"_blank",trusted:!0,"data-testid":"comparison-chart-see-all-features-link"},e.linkText)}var Z=n(52011);let X=(0,i.Ju)(function(e){let r=(0,o.wA)(),n=(0,P.ks)(),i=(0,w.TN)(e.teamId??""),s=(0,o.d4)(e=>e.user),[m,g]=(0,a.useState)((0,C.LN)()),_=(0,d.R)(e=>(0,T.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),y=(0,S.oI)({isInDevMode:!!n,isProCurrent:!!e.isProCurrent,hasFeatureListOverride:!!e.featureList}),D=(0,S.WQ)({isInDevMode:!!n,isProCurrent:!!e.isProCurrent,hasFeatureListOverride:!!e.featureList}),M=!e.isProCurrent&&D&&(0,A.Hw)(s),k=a.useRef(null),x=(0,N.PS)((0,O.usePermissionsState)()),F=()=>{var n;r(f.Lo()),null==(n=e.onDone)||n.call(e)},U=l()("upgrade_choose_plan_modal--modal--7FGnw",{"upgrade_choose_plan_modal--modalFullScreen--qtwJr":y,"upgrade_choose_plan_modal--topPaddingOnly--SUliS":M}),B=y?void 0:1049,V=u.cx.overflowAuto.$;return a.createElement(I.fu,{name:"Upgrade Choose Plan With Figjam Modal",properties:{upsellSource:e.upsellSource}},a.createElement(L.Nb,{className:U,hide:F,size:B,backgroundClassName:V,alignment:"leftNoPadding","data-testid":"upgrade_choose_plan_modal",modalRef:k},a.createElement("div",{className:"upgrade_choose_plan_modal--planModalHeader--5kVOG"},a.createElement("h1",{className:"upgrade_choose_plan_modal--planModalTitle--p6yZy text--fontPos24--YppUD text--_fontBase--QdLsd"},e.isProCurrent?a.createElement(p.Tx,{id:"plan_comparison.title.working_group"}):a.createElement(p.Tx,{id:"plan_comparison.title"}))),a.createElement(c.Jn,{className:"upgrade_choose_plan_modal--closeButton--G-qyN",onClick:F,innerText:"close"}),a.createElement("div",{className:"upgrade_choose_plan_modal--planModalBody--dgAxc"},a.createElement(j,{currency:m,chooseProPlan:n=>{var i;let a=1===x.length?x[0]:null,o=e.teamId||(null==_?void 0:_.teamId)||(null==a?void 0:a.id);o?(r(f.Ce()),r(v.WX({teamId:o,billingPeriod:n,currency:m,openInNewTab:e.openCheckoutInNewTab})),null==(i=e.onDone)||i.call(e)):r((0,f.to)({type:h.dR,data:{plan:Z.I.PRO,upsellSource:e.upsellSource,billingPeriod:n,openInNewTab:e.openCheckoutInNewTab,onDone:e.onDone}}))},chooseOrgPlan:()=>{var n;r(f.Ce()),r(v.Bq({currency:m,upsellSource:e.upsellSource,openInNewTab:e.openCheckoutInNewTab})),null==(n=e.onDone)||n.call(e)},updateCurrency:e=>{g(e),r(b.oB())},isProTrial:R.ng.canSeeProTrialUx(i),upsellSource:e.upsellSource,isProCurrent:e.isProCurrent,overrideHighlightedPlan:e.overrideHighlightedPlan,overrideHighlightedBadgeText:e.overrideHighlightedBadgeText,featureList:e.featureList,parentRef:k})),M&&a.createElement(E,null)))},"UpgradeChoosePlanModal")},69987:(e,r,n)=>{"use strict";n.d(r,{B7:()=>s.B,dR:()=>d,lk:()=>u,In:()=>o.I});var i=n(37870);let a=new(n(54630)).b({name:"Billing",dependencies:[],exports:["modals.ts*",{glob:"views.ts*",sideEffects:!1},{glob:"choose_plan_modal.ts*",sideEffects:!1}],routeHints:["file_browser"],exceptions:[{path:"billing/modals/universal_upgrade/comparison_chart/comparison_chart",specifiers:["ComparisonChart"],importers:["web/js/file_browser/views/team_upgrade/step_upgrade_new_team.tsx"]},{path:"billing/modals/universal_upgrade/comparison_chart/enterprise_plan_banner",specifiers:["EnterprisePlanBannerStickyFooter"],importers:["web/js/file_browser/views/team_upgrade/step_upgrade_new_team.tsx"]}],friendFiles:["js/figma_app/views/file_browser/org_self_serve/org_self_serve_figjam.tsx","js/figma_app/views/file_browser/team_upgrade_v2/choose_plan_step.tsx"]});var o=n(52011),s=n(46612);let l=a.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(964)]).then(n.bind(n,625)).then(e=>e.UniversalUpgradeSequence),(0,i.Ij)("UniversalUpgradeSequence")),d=(0,i.Ju)(l,"UniversalUpgradeSequence"),c=a.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(964)]).then(n.bind(n,5189)).then(e=>e.UpgradeContactSalesModal),(0,i.Ij)("UpgradeContactSalesModal")),u=(0,i.Ju)(c,"UpgradeContactSalesModal")},90448:(e,r,n)=>{"use strict";n.d(r,{C:()=>c});var i=n(11855),a=n(29019),o=n.n(a),s=n(84934),l=n(39863),d=n(22139);function c({currentPlan:e,setCurrentPlan:r}){let n=n=>{let i=n.currentTarget.id;(0,s.sx)("Toggled Billing Display",{prevDisplay:e,newDisplay:i}),r(i)};return i.createElement("div",{className:"billing_toggle--container--KRAXj"},i.createElement(u,{id:d.R$.MONTHLY,selected:e===d.R$.MONTHLY,onClick:n},i.createElement(l.Tx,{id:"plan_comparison.billing_toggle.monthly_billing"})),i.createElement(u,{id:d.R$.ANNUAL,selected:e===d.R$.ANNUAL,onClick:n},i.createElement(l.Tx,{id:"plan_comparison.billing_toggle.yearly_billing",saveMessage:i.createElement("strong",{className:"billing_toggle--saveMessage--KdQeP"},i.createElement(l.Tx,{id:"plan_comparison.billing_toggle.yearly_billing_save_message",saveAmount:40}))})))}function u({id:e,children:r,selected:n,onClick:a}){return i.createElement("button",{role:"tab",id:e,className:o()("billing_toggle--toggle--M5z-a",{"billing_toggle--toggle__selected--nPNJ4":n}),"aria-selected":n,"aria-controls":`${e}-tab`,onClick:a},r)}},43135:(e,r,n)=>{"use strict";n.d(r,{AY:()=>f,H8:()=>w,QO:()=>g,uF:()=>T});var i=n(11855),a=n(88507),o=n(50322),s=n(28322),l=n(39863),d=n(49410),c=n(88022),u=n(43987),p=n(22139),h=n(92079),m=n(7956);let g="Plan comparison chart",f={[p.tY.UNSPECIFIED]:p.R$.ANNUAL,[p.tY.MONTHLY]:p.R$.MONTHLY,[p.tY.ANNUAL]:p.R$.ANNUAL,[p.tY.STUDENT]:p.R$.ANNUAL},_={[p.R$.MONTHLY]:p.tY.MONTHLY,[p.R$.ANNUAL]:p.tY.ANNUAL},y=({overrideHighlightedPlan:e,isProCurrent:r})=>e?"none"===e?null:e:r?u.Jm.ORG:u.Jm.PRO,E=({isProCurrent:e,isStudentUser:r})=>e?h.DA:r?h.$$:h.Qw,b=({isProCurrent:e,featureList:r,shouldShowDevModePlanComparison:n,canSeeFullPlanComparisonFeatureSet:i})=>r||(e?h.RO:n?h.X9:i?h.SH:h.Q1),v=({isProCurrent:e})=>e?u.Jm.PRO:u.Jm.FREE,S=({isStudentUser:e,payment:r,subscriptionPlan:n})=>e&&r.billingPeriod===p.tY.STUDENT?p.tY.STUDENT:_[n],I=e=>{let r=e.canSeeFullPlanComparisonFeatureSet?i.createElement(l.Tx,{id:"plan_details.learn_more"}):i.createElement(l.Tx,{id:"plan_details.see_all_features"});return{orderedPlans:E(e),orderedFeatures:b(e),currentPlan:v(e),highlightedPlan:y(e),billingPeriod:S(e),seeMoreLinkText:r,isShowingFullFeatureSet:e.canSeeFullPlanComparisonFeatureSet}};function T({overrideHighlightedPlan:e,featureList:r,isProCurrent:n,subscriptionPlan:s}){let l=(0,m.ks)(),c=(0,a.d4)(e=>!!e.user&&(0,o.cn)(e.user)),u=(0,a.d4)(e=>e.payment),p=(0,d.WQ)({isInDevMode:l,isProCurrent:!!n,hasFeatureListOverride:!!r});return i.useMemo(()=>I({isProCurrent:n,isStudentUser:c,shouldShowDevModePlanComparison:l,overrideHighlightedPlan:e,featureList:r,payment:u,subscriptionPlan:s,canSeeFullPlanComparisonFeatureSet:p}),[n,c,l,e,r,u,s,p])}function w(e){let[r,n]=i.useState(!0),a=i.useCallback(()=>{(0,c.qD)({name:g,action:"scrolled"})},[]);return(0,i.useEffect)(()=>{let n=null==e?void 0:e.current;return n&&(r?n.addEventListener("scroll",a,{once:!0}):n.removeEventListener("scroll",a)),()=>{null==n||n.removeEventListener("scroll",a)}},[e,a,r]),r?i.createElement(s.a,{onIntersectionChange:({isIntersecting:e})=>{e&&((0,c.qD)({name:g,action:"bottom_visible"}),n(!1))}}):null}},18025:(e,r,n)=>{"use strict";n.d(r,{z0:()=>A,Zn:()=>C,gS:()=>I,Lo:()=>w});var i=n(11855),a=n(88507),o=n(60601),s=n(46689),l=n(30949),d=n(39863),c=n(1114),u=n(9840),p=n(69987),h=n(62275),m=n(1505),g=n(99506),f=n(43987),_=n(6193),y=n(22139),E=n(92079),b=n(98606),v=n(59596);let S="plan_information--button--BjtlH";function I(e){let{name:r,description:n}=E.SO[e.planMode];return i.createElement("div",null,i.createElement("h2",{className:l.cx.font16.fontSemiBold.flex.flexWrap.itemsCenter.$},r()," ",i.createElement(T,{...e})),i.createElement("p",{className:l.cx.mt8.colorTextSecondary.$},n()," ",e.isProCurrent&&e.planMode!==f.Jm.PRO?i.createElement(d.Tx,{id:"plan_comparison.plans.billed_yearly"}):null))}function T({planMode:e,isProCurrent:r,isProTrial:n,isHighlighted:o,overrideHighlightedBadgeText:s,upsellSource:c}){let{highlightBadgeText:p}=E.SO[e],h=l.cx.ml8.fontMedium.font11.colorTextBrand.$,m=(0,a.d4)(e=>e.isFreeUser);if(e===f.Jm.FREE){if(c===_.b.CREATE_NEW_PAID_TEAM&&m)return i.createElement("strong",{className:l.cx.ml8.fontMedium.font11.colorTextSecondary.$},i.createElement(d.Tx,{id:"plan_comparison.plans.starter.current_plan"}))}else if(e===f.Jm.PRO&&n)return i.createElement("strong",{className:h},i.createElement(u.E,{i18nId:"plan_comparison.plans.current_trial"}));if(o&&p){let e=s?E.Zy[s]():null==p?void 0:p(r?E.zS.RECOMMENDED:E.zS.MOST_VALUED);return i.createElement("strong",{className:h},e)}return null}function w({currentSubscriptionPlan:e,setCurrentSubscriptionPlan:r,currency:n,planMode:a,isCurrentPlan:o,showFullCurrencyFormat:s}){let{hasPrice:u,hasAnnualOnlyMessage:p}=E.SO[a],h=[f.Jm.EDU,f.Jm.PRO,f.Jm.ORG,f.Jm.ENT].includes(a),m=[f.Jm.ORG,f.Jm.ENT].includes(a);if(o||!u)return null;if(e!==y.R$.ANNUAL&&p)return i.createElement("p",null,i.createElement(d.Tx,{id:"plan_comparison.plans.org.annual_only_message",billingToggle:i.createElement("button",{"data-testid":"plan-information-toggle-billing",className:"plan_information--annualToggleButton--P1LQx blue_link--blueLink--9rlnd",onClick:()=>r(y.R$.ANNUAL)},i.createElement(d.Tx,{id:"plan_comparison.plans.button.annual_billing_toggle"}))}));let _=l.cx.flex.justifyBetween.itemsCenter.gap6.$,b=l.cx.fontMedium.font11.colorText.$,S=c.sx.flex.flexColumn.add({maxWidth:"50%"}).$,I=l.cx.fontSemiBold.font16.colorText.$,T=l.cx.noWrap.$,w=l.cx.noWrap.$;return i.createElement("div",{className:"plan_information--priceContainer--ZxNy3"},i.createElement("div",{className:_,"data-testid":"design-price-row"},i.createElement("div",{style:S},i.createElement("p",{className:b},i.createElement(d.Tx,{id:"plan_details.figma"})),h&&i.createElement("p",{className:w},i.createElement(v.G,null))),i.createElement("p",{className:T},i.createElement(d.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:i.createElement("strong",{className:I},(0,E.jL)({editorType:g.G_.DESIGN,planMode:a,currency:n,currentSubscriptionPlan:e,showFullCurrencyFormat:s}))}))),m&&i.createElement("div",{className:_,"data-testid":"dev-mode-price-row"},i.createElement("div",{style:S},i.createElement("p",{className:b},i.createElement(d.Tx,{id:"plan_details.dev_mode_only"}))),i.createElement("p",{className:T},i.createElement(d.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:i.createElement("strong",{className:I},(0,E.jL)({editorType:g.G_.DEV_MODE,planMode:a,currency:n,currentSubscriptionPlan:e,showFullCurrencyFormat:s}))}))),i.createElement("div",{className:_,"data-testid":"whiteboard-price-row"},i.createElement("p",{className:b},i.createElement(d.Tx,{id:"plan_details.fig_jam"})),i.createElement("p",{className:T},i.createElement(d.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:i.createElement("strong",{className:I},(0,E.jL)({editorType:g.G_.WHITEBOARD,planMode:a,currency:n,currentSubscriptionPlan:e,showFullCurrencyFormat:s}))}))))}function C({planMode:e,chooseStarterPlan:r,chooseProPlan:n,chooseOrgPlan:l,isCurrentPlan:c,upsellSource:u}){let m=(0,a.wA)(),g=(0,a.d4)(e=>e.teamCreation.loading);if(c&&!r){let r=u===_.b.CREATE_NEW_PAID_TEAM;return i.createElement(s.$$,{className:S,onClick:o.lQ,disabled:!0,"data-testid":`plan-information-${e}-button`,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":r?(0,d.t)("plan_comparison.plans.starter.you_already_have_a_starter_team"):void 0,"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":200,"data-tooltip-offset-y":-8},r?i.createElement(d.Tx,{id:"plan_comparison.plans.starter.limit_reached"}):i.createElement(d.Tx,{id:"plan_comparison.plans.button.current_plan"}))}let{buttonText:y,trackingDescriptor:v}=E.SO[e],I=c&&!!r||e===f.Jm.ENT,T=e===f.Jm.FREE&&u===_.b.CREATE_NEW_PAID_TEAM&&g,w={[f.Jm.FREE]:r??o.lQ,[f.Jm.PRO]:n,[f.Jm.ORG]:l,[f.Jm.EDU]:n,[f.Jm.ENT]:()=>m(h.to({type:p.lk,data:{source:p.B7.PLAN_COMPARISON}}))},C=I?s.tM:s.vd;return i.createElement(C,{className:S,onClick:w[e],disabled:T,"data-testid":`plan-information-${e}-button`,trackingProperties:{trackingDescriptor:v,upsellSource:u}},(0,E.UJ)({planMode:e,upsellSource:u,buttonText:y}))}function A({planMode:e,withUpgradeExistingTeamOption:r}){let n=(0,a.wA)(),{canContactSales:o,additionalMessage:c}=E.SO[e];return i.createElement("div",{className:l.cx.alignCenter.$},o&&i.createElement("p",null,i.createElement(d.Tx,{id:"plan_comparison.plans.or_contact_sales",contactSalesLink:i.createElement(s.Us,{className:l.cx.noWrap.cursorDefault.$,onClick:()=>n(h.to({type:p.lk,data:{source:p.B7.PLAN_COMPARISON}})),"data-testid":"plan-information-contact-sales",trusted:!0},i.createElement(d.Tx,{id:"plan_details.contact_sales"}))})),!!r&&i.createElement("p",null,i.createElement(s.Us,{onClick:r,"data-testid":"plan-information-upgrade-existing",trackingProperties:{trackingDescriptor:m.c.UPGRADE_EXISTING_TEAM},trusted:!0},i.createElement(d.Tx,{id:"plan_comparison.plans.pro.upgrade_an_existing_team"}))),c&&i.createElement("p",null,c()))}},52011:(e,r,n)=>{"use strict";n.d(r,{I:()=>i});let i={PRO:"pro"}},14053:(e,r,n)=>{"use strict";n.d(r,{e:()=>u});var i=n(11855),a=n(83405),o=n(63997);let s="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",l=(0,o.IY)(function(e){return i.createElement(a.Yf,{name:"Avatar"},i.createElement(a.uA,{name:"type=Letter,size=Large",fill:"#FFC700",stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:32,height:32,verticalAlignItems:"center",horizontalAlignItems:"center"},i.createElement(a.EY,{name:"letter",fill:"#FFF",verticalAlignText:"center",horizontalAlignText:"center",lineHeight:24,fontFamily:"Inter",letterSpacing:-.14399999618530274},e.letter??"A")),i.createElement(a.uA,{name:"type=Letter,size=Small",fill:"#FFC700",stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:26,height:26,verticalAlignItems:"center",horizontalAlignItems:"center"},i.createElement(a.EY,{name:"letter",fill:"#FFF",verticalAlignText:"center",horizontalAlignText:"center",lineHeight:24,fontFamily:"Inter",fontSize:14,letterSpacing:-.014000000208616257},e.letter??"A")),i.createElement(a.uA,{name:"type=Image,size=Large",effect:{spread:1,color:"#FFF",offset:{x:0,y:0},blur:0,type:"drop-shadow"},fill:{type:"image",src:s,imageRef:"efe98099a0aa97c1aa64e286bc82e633cc9aed22",scalingFactor:.5},stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:32,height:32,verticalAlignItems:"center",horizontalAlignItems:"center"}),i.createElement(a.uA,{name:"type=Image,size=Small",fill:{type:"image",src:s,imageRef:"efe98099a0aa97c1aa64e286bc82e633cc9aed22",scalingFactor:.5},stroke:"#0000001A",cornerRadius:13,direction:"vertical",spacing:8,padding:8,width:26,height:26,verticalAlignItems:"center",horizontalAlignItems:"center"}))});var d=n(80332),c=n(81779);function u({entity:e,adtlClassName:r,size:n=32,style:a}){let o;let[s,u]=i.useState(!1),p=new Image;return(p.onerror=()=>{u(!0)},(null==e?void 0:e.img_url)&&(p.src=e.img_url,!s))?i.createElement(l,{type:"Image",size:"Large",attributes:{className:r,style:{...a||{},backgroundImage:`url(${e.img_url})`,backgroundColor:"transparent",width:`${n}px`,height:`${n}px`}}}):(e?(e.name||e.handle)&&(o=e.name||e.handle):o=void 0,"string"==typeof o&&(o=o[0].toUpperCase()),i.createElement(l,{type:"Letter",size:"Large",letter:o,attributes:{className:r,style:{...a||{},width:`${n}px`,height:`${n}px`,background:e?(0,d.$L)(e.id,d.us):c.$C9}}}))}},37324:(e,r,n)=>{"use strict";let i;n.d(r,{Cg:()=>w,Co:()=>g,Dl:()=>v,FG:()=>_,HD:()=>f,Mk:()=>T,N6:()=>C,UI:()=>S,Vm:()=>E,qD:()=>y,sP:()=>I}),n(11855),n(88507);var a=n(41563),o=n.n(a),s=n(17333),l=n(98977);n(22332),n(66712),n(99737),n(91388);var d=n(96328),c=n(30637);n(39863),n(9495),n(57611),n(71120),n(75665);var u=n(97128);n(7877),n(99506),n(79453);var p=n(55328);n(37459),n(13408);var h=n(22139);n(76485),n(60062),n(83894),n(66083);var m=n(13270);n(46935);let g=new RegExp(/^[\w.]{0,30}$/),f=new RegExp(/^\w{0,15}$/),_=!1;function y(e){return"current_hub_file_version_id"in e?e.versions[e.current_hub_file_version_id]:e.versions[e.current_plugin_version_id]}function E(e){return e.viewer_mode?p.vt.HUB_FILE:e.is_widget?p.vt.WIDGET:p.vt.PLUGIN}var b=((i=b||{}).HUB_FILES="hub_files",i.PLUGINS="plugins",i.WIDGETS="widgets",i);function v(e){return function(e){switch(e){case p.vt.HUB_FILE:return u.Uo.FILE;case p.vt.PLUGIN:return u.Uo.PLUGIN;case p.vt.WIDGET:return u.Uo.WIDGET}}(E(e))}function S({path:e,id:r,name:n,trackingInfo:i}){let a=i?new URLSearchParams(i).toString():"",o=(0,d.fs)(n||"");return`/community/${e}/${r}${""===o?"":"/"}${o}${a?`?${a}`:""}`}function I(e){(0,c.Lg)()||(0,c.lZ)()||"communityHub"!==e.view||s.eD||"searchAndBrowse"!==e.subView||!e.data||l.Ay.push((0,m.MU)(e.data))}function T(e){let r=y(e);return r&&r.name||""}function w(e){return o()(e,(0,h.EB)())}function C(e){let r={};return e.carousel_media_urls&&Object.entries(e.carousel_media_urls).forEach(([e,n])=>{r[e]={...n,type:"image"}}),((0,p.I0)(e)||(0,p.xQ)(e))&&(null==e?void 0:e.carousel_videos)&&Object.entries(e.carousel_videos).forEach(([e,n])=>{r[e]={...n,type:"video"}}),Object.entries(r).sort(([e],[r])=>parseInt(e)-parseInt(r)).map(([e,r])=>r)}},87051:(e,r,n)=>{"use strict";n.d(r,{_:()=>a});var i=n(66712);function a(){return!0===(0,i.kc)().piper_community_templates_publish}},68389:(e,r,n)=>{"use strict";n.d(r,{D3:()=>o,Sb:()=>l});var i=n(67249),a=n(80820);let o=(0,i.N)("HUB_FILE_PUT_ALL"),s=(0,i.N)("HUB_FILE_DEL_ALL"),l=(0,a.nF)((e,{hubFiles:r,src:n})=>{if(!r)return;let i=[],a=[];for(let e of r){if(e.unpublished_at){a.push(e);continue}try{i.push(function(e,r){if(!e||!e.id)throw Error(`${r} Invalid hubFile id`);let n=e.current_hub_file_version_id;if(!n)throw Error(`${r} Invalid hubFile ${e.id}: current version id does not exist`);if(!e.versions||!e.versions[n])throw Error(`${r} Invalid hubFile ${e.id}: version id ${n} does not exist in versions`);return e}(e,n))}catch(e){console.error(e)}}e.dispatch(o(i)),e.dispatch(s(a))})},66636:(e,r,n)=>{"use strict";n.d(r,{QQ:()=>h,V4:()=>g,bV:()=>u,up:()=>p,vf:()=>c});var i=n(27735),a=n(39863),o=n(61057),s=n(20113),l=n(55328),d=n(1730);function c(e){if(null==e?void 0:e.price){let{price:r}=e;return .01*r}}function u(e,r=!1){let{price:n,is_subscription:i}=e;if(!i)return p(n,!1);if(r){let r=e.annual_price||0;return(0,a.t)("community.buyer.price_per_year",{priceString:p(r,r%100!=0)})}return(0,a.t)("community.buyer.price_per_month",{priceString:p(n,n%100!=0)})}function p(e,r=!1){return new s.vr("usd").formatMoney(e,{showCents:r})}function h(e){return!!e&&(e.subscription_expires_at&&!isNaN(Date.parse(e.subscription_expires_at))?new Date(e.subscription_expires_at).getTime()+864e5>new Date().getTime()&&!m(e,d.G3.DISPUTED):m(e,d.G3.SUCCEEDED))}function m(e,r){return!!e.status&&e.status===r}function g(e,r){var n,a;if((0,l.I0)(r)||(0,l.xQ)(r)){let o=((null==(n=r.plugin_publishers)?void 0:n.accepted)||[]).map(e=>e.id),s=((null==(a=r.plugin_publishers)?void 0:a.pending)||[]).map(e=>e.id),l=new Set(o.concat(s)),{pass:d,fail:c}=(0,i.j)(e,e=>l.has(e.id)||e.id===r.creator.id);return{usersCanPurchase:c,publishers:d}}{let n=new Set((0,o.D)(r)),{pass:a,fail:s}=(0,i.j)(e,e=>n.has(e.id));return{usersCanPurchase:s,publishers:a}}}n(78787)},84336:(e,r,n)=>{"use strict";n.d(r,{Qi:()=>c});var i=n(67249),a=n(80820);let o=(0,i.N)("PLUGIN_PUT_ALL"),s=(0,i.N)("WIDGET_PUT_ALL"),l=(0,i.N)("PLUGIN_DEL_ALL"),d=(0,i.N)("WIDGET_DEL_ALL"),c=(0,a.T8)("MERGE_PUBLISHED_PLUGIN",(e,r)=>{if(!r.publishedPlugins)return;let n=(e.getState().user||{id:null}).id,i=[],a=[];for(let o of r.publishedPlugins){if(o.unpublished_at&&o.creator.id!==n){a.push(o);continue}try{let{publishedPlugins:n,publishedWidgets:a}=e.getState();if(!r.overrideInstallStatus&&null==o.install_status){let e=n[o.id]||a[o.id];e&&(o.install_status=e.install_status)}i.push(function(e,r){let n=e.current_plugin_version_id;if(n&&(!e.versions||!e.versions[n]))throw Error(`${r} Invalid publishedPlugin ${e.id}: version id ${n} does not exist in versions`);return e}(o,r.src))}catch(e){console.error(e)}}let c={plugins:i.filter(e=>!e.is_widget),widgets:i.filter(e=>e.is_widget)},u={plugins:a.filter(e=>!e.is_widget),widgets:a.filter(e=>e.is_widget)};c.widgets.length>0&&e.dispatch(s(c.widgets)),c.plugins.length>0&&e.dispatch(o(c.plugins)),u.widgets.length>0&&e.dispatch(d(u.widgets)),u.plugins.length>0&&e.dispatch(l(u.plugins))})},62194:(e,r,n)=>{"use strict";n.d(r,{b:()=>a});var i=n(86640);function a(e){var r;null==(r=i.x4)||r.setItem("last-used-editor-type",e)}n(99506)},22863:(e,r,n)=>{"use strict";n.d(r,{c:()=>a});var i=n(13408);function a(e){return!!(e&&(e.entity_type===i.o1.ORG||e.entity_type===i.o1.TEAM))}},45941:(e,r,n)=>{"use strict";n.d(r,{AC:()=>d,G8:()=>l,Ul:()=>c});var i=n(96210),a=n.n(i);n(84934);var o=n(99506);function s(e){let r=document.createElement("div");return r.innerHTML=a().sanitize(e),r.innerText}function l(e,r,n){if(e.tagline)return e.tagline;let i=(r=r||s)(e.description);return n?function(e){let r=null==e?void 0:e.match(/[^.!?\r\n]+[.!?\r\n]+/);return r?r[0].trim():e??""}(i):i}function d(e){return!!e.publishing_status&&[o.KB.PENDING_PUBLIC,o.KB.PENDING_USER_VISUAL_COMPLIANCE,o.KB.ORG_PRIVATE_PENDING_PUBLIC].includes(e.publishing_status)}function c(e){return e.publishing_status===o.KB.APPROVED_PUBLIC}n(67409)},73434:(e,r,n)=>{"use strict";n.d(r,{LK:()=>_,NU:()=>b,A0:()=>y,MT:()=>m,p:()=>f,Ap:()=>E,uz:()=>g,S8:()=>v,v4:()=>w,Pt:()=>I,AC:()=>T,XP:()=>S});var i=n(11855),a=n(88507),o=n(66712),s=n(74626),l=n(39863),d=n(99934),c=n(20666),u=n(39671),p=n(38311);let h=(0,n(38580).eU)(null),m="FIGMA_PROPERTIES",g="WEB",f="IOS",_="ANDROID",y="CSSBUILDER",E="IOS_UIKIT",b="ANDROID_XML",v={[g]:{type:"first-party",id:g},[f]:{type:"first-party",id:f},[E]:{type:"first-party",id:E},[_]:{type:"first-party",id:_},[b]:{type:"first-party",id:b}};function S(e){let r="string"==typeof e?{type:"first-party",id:e}:e;return r&&r.id&&("first-party"!==r.type||v[r.id])?r:{type:"first-party",id:g}}function I(e){let r=(0,d.$1)(),n=(0,d.j8)();return(0,i.useMemo)(()=>({format(i){if((null==i?void 0:i.type)==="first-party")switch(null==i?void 0:i.id){case y:return"CssBuilder";case g:return(0,l.t)("dev_handoff.code.lang_css");case f:return(0,l.t)("dev_handoff.code.lang_swiftui");case E:return(0,l.t)("dev_handoff.code.lang_uikit");case _:return(0,l.t)("dev_handoff.code.lang_compose");case b:return(0,l.t)("dev_handoff.code.lang_android_xml");case m:return(0,l.t)("dev_handoff.code.lang_figma")}if(e){let a=(null==i?void 0:i.type)==="local-plugin"?r[i.id]:(null==i?void 0:i.type)==="published-plugin"&&e.plugin_id===(null==i?void 0:i.id)?n[i.id]??e:null;if(a)return 1===(0,p.m)(a).length?a.name:(0,p.X)(a,(null==i?void 0:i.pluginLanguage)??"").label??a.name}return""}}),[n,r,e])}function T(e){let r=(0,a.d4)(e=>e.selectedView),n="fullscreen"===r.view?r.editorType:null,i=(0,d.S0)("first-party"!==e.type?e.id:"",{searchLocalPlugins:!0,searchPublishedPlugins:!0,searchSavedPlugins:!0,searchRecentPlugins:!0}),{plugin:o}=(0,d._P)("published-plugin"===e.type?e.id:"0","published-plugin"===e.type);if("orgAdminSettings"!==r.view&&n!==u.nT.DevHandoff)return null;let s=i||o;return s&&(0,c.M5)(s)?s:null}function w(){let e=(0,s.md)(h),r=(0,a.d4)(e=>e.mirror.appModel.devHandoffCodeLanguage),n=(0,a.d4)(e=>e.selectedView),o=r;return"orgAdminSettings"===n.view&&e&&(o=e),(0,i.useMemo)(()=>S(o),[o])}(0,o.kc)().dt_lego_ext_plugins&&(v[y]={type:"first-party",id:y})},93812:(e,r,n)=>{"use strict";n.d(r,{Mx:()=>s,ZC:()=>l});var i=n(87918),a=n(52800),o=n(79702);function s(e){return null!=e&&!!e.mirror&&1===Object.keys(e.mirror.sceneGraphSelection).length}function l(e){var r;if(!e||!(0,i.fn)((0,i.sH)(e)))return o.PW.ASSET_COMPONENT;try{return(null==(r=a.w3z.getAssetInfo(e))?void 0:r.type)??o.PW.ASSET_COMPONENT}catch(e){console.warn(e)}return o.PW.ASSET_COMPONENT}},86538:(e,r,n)=>{"use strict";n.d(r,{HT:()=>d,RB:()=>c});var i=n(38580),a=n(88706),o=n(29928);let s=(0,i.eU)(void 0),l=(0,o.bt)(e=>e.universalInsertModal.initialFdView),d=(0,a.t_)(e=>{let r=e(l),n=e(s);return r||n||"recents_and_saved"}),c=(0,i.eU)(!1)},85304:(e,r,n)=>{"use strict";n.d(r,{e:()=>l}),n(11855);var i=n(38580),a=n(74626);n(30637);var o=n(7956);let s=(0,i.eU)(!1);function l(){let e=(0,o.LS)(),[r]=(0,a.fp)(s);return r&&e}},56975:(e,r,n)=>{"use strict";n.d(r,{_I:()=>d,tn:()=>l}),n(11855);var i=n(88507);n(31828);var a=n(82947),o=n(35682);n(7956);var s=n(79296);let l=(0,s.n)(e=>{let r=(0,o.tB)({openFile:e.openFile??null});return(null==r?void 0:r.canAccessFullDevMode)??!0});function d(){return(0,i.d4)(l)}(0,s.n)(e=>{let r=(0,o.tB)({openFile:e.openFile??null});return(null==r?void 0:r.canAccessDevModeEntryPoint)??!0}),(0,a.Fu)("dev_mode_notified_of_approved_org_request")},70934:(e,r,n)=>{"use strict";n.d(r,{$n:()=>u,D8:()=>m,K6:()=>h,dW:()=>f,n_:()=>g});var i=n(38329),a=n(73434),o=n(52800),s=n(24266),l=n(76485),d=n(38311);function c(e){return(0,l.ZQ)(e)?`${e.localFileId}`:`${e.plugin_id}`}function u(e,r){let n=(0,l.ZQ)(e)?"local-plugin":"published-plugin",a=c(e);if(r)return{type:n,id:a,pluginLanguage:r.value};let o=i.D.getState().mirror.appModel.devHandoffCodeLanguage,s=(0,d.m)(e).map(({value:e})=>e);return o.id===a&&"first-party"!==o.type&&s.includes(o.pluginLanguage)?o:{type:n,id:a,pluginLanguage:s[0]??""}}function p(e,r){var n;return e?((null==(n=e.manifest)?void 0:n.codegenPreferences)??[]).filter(e=>{var n;return!(null==r?void 0:r.value)||!("includedLanguages"in e)||(null==(n=e.includedLanguages)?void 0:n.includes(r.value))}):[]}function h(e,r){return p(e,r).find(l.MP)??null}function m(e,r,n){var i;let a={...e,codeExtensionPreferences:{...e.codeExtensionPreferences,[r.id]:{...(null==(i=e.codeExtensionPreferences)?void 0:i[r.id])||{},...n}}};s.aB(a)}function g(e,r){var n;let a=c(e),s=i.D.getState().mirror.appModel.devHandoffPreferences.codeExtensionPreferences[a]??{},d={},u=h(e,r),m=!1,g=!1;"unit"in s&&"scaleFactor"in s||(d.unit=(null==u?void 0:u.default)?o.tKW.SCALED:o.tKW.PIXEL,d.scaleFactor=(null==u?void 0:u.defaultScaleFactor)?u.defaultScaleFactor:1,m=!0,g=!0),r||u||s.unit!==o.tKW.SCALED||(d.unit=o.tKW.PIXEL,d.scaleFactor=1,m=!0,g=!0),m||!r||s.unit!==o.tKW.SCALED||u||(d.unit=u?o.tKW.SCALED:o.tKW.PIXEL,m=!0);let f=!1,_=p(e,r).filter(l.ZV),y=s.customSettings??{},E={};for(let e of _){let r=y[e.propertyName];if(r&&e.options.some(e=>e.value===r)){E[e.propertyName]=r;continue}E[e.propertyName]=(null==(n=e.options.find(e=>e.isDefault))?void 0:n.value)??e.options[0].value,f=!0}(f||Object.keys(y).length!==Object.keys(E).length)&&(d.customSettings=E);let b={...s,...d};return{shouldUpdateCustomSettings:!!d.customSettings,shouldUpdateScaleFactor:g,shouldUpdateAltUnit:m,preferences:{...b,scaleFactor:b.unit===o.tKW.PIXEL?1:b.scaleFactor}}}function f(e,r){let n=null,{shouldUpdateCustomSettings:a,shouldUpdateAltUnit:o,shouldUpdateScaleFactor:s,preferences:l}=g(e,null);r&&({shouldUpdateAltUnit:o,preferences:n}=g(e,r),o&&(l.unit=n.unit));let d={};return a&&(d.customSettings=l.customSettings),s&&(d.scaleFactor=l.scaleFactor),o&&(d.unit=l.unit),Object.keys(d).length>0&&m(i.D.getState().mirror.appModel.devHandoffPreferences,u(e),d),n??l}o.tKW.PIXEL,o.tKW.SCALED,a.MT},45099:(e,r,n)=>{"use strict";n.d(r,{sQ:()=>s});var i=n(74626),a=n(39863);n(94901);let o=(0,i.E3)("dev-mode-code-or-properties","code");function s(){return"code"===(0,i.md)(o)}new class{format(e){switch(e){case"code":return(0,a.t)("inspect_panel.code.code");case"properties":return(0,a.t)("fullscreen.properties_panel.properties")}}}},42916:(e,r,n)=>{"use strict";let i,a;n.d(r,{t:()=>N});var o=n(11855),s=n(88507),l=n(74626),d=n(99737),c=n(39863);n(47899);var u=n(35682),p=n(94687),h=n(96607),m=n(43067),g=n(43987),f=n(84968);function _(e){let r=(0,u.tB)(e),n=(0,h.xw)(e),i=(0,f.UQ)(e),a=e.teams[(0,f.ZT)(e)]||null,o=(0,g.w5)(a)&&!(null==a?void 0:a.org_id),s=(0,p.td)(e.currentUserOrgId,e.orgById);if(!r||null===r)return"unknown";if(r.parentOrgId){let e=(0,m.kA)(s)?"ent":"org";return n&&n.org_id===r.parentOrgId?e:"non_member_"+e}return o?i&&i.team_id===r.teamId?"pro":"non_member_pro":"starter"}n(56975);var y=n(82947);(0,y.Fu)("dev_mode_should_see_paywall_reminder"),(0,y.Fu)("dev_mode_seen_paywall_reminder");var E=n(38580),b=((i=b||{})[i.DEFAULT=0]="DEFAULT",i[i.UPGRADING=1]="UPGRADING",i[i.REQUESTED=2]="REQUESTED",i[i.REQUESTED_TRIAL=3]="REQUESTED_TRIAL",i);let v=(0,E.eU)(0);(0,y.Fu)("dev_mode_made_request_in_exp"),n(6949);var S=n(79453);n(28467),n(2026),n(68860),n(7956);var I=((a=I||{}).CONTROL="default",a.BLOCKING_MODAL="blocking_modal",a.ACTION_ORIENTED="action_oriented",a);let T=(0,o.createContext)({proPlusExperimentType:"default",inStarterExperiment:!1});function w(){return(0,o.useContext)(T).proPlusExperimentType}var C=n(31828),A=n(49410);function N(e){var r,n,i;let a=(0,u.tS)()??"",h=null==(i=null==(n=null==(r=(0,d.Rs)(S.HdA,{key:a}))?void 0:r.data)?void 0:n.file)?void 0:i.hasPermission,m=w(),g=m===I.ACTION_ORIENTED&&h,[y,E]=(0,l.fp)(v),N=(0,s.wA)(),O=function(){var e,r,n,i;let a=w(),l=(0,o.useContext)(T).inStarterExperiment,c=null==(e=(0,f.ol)())?void 0:e.id,h=null==(r=(0,p.sZ)())?void 0:r.id,m=(0,s.d4)(_),g=(0,u.tS)()??"",y=(0,d.Rs)(S.HdA,{key:g}),E=null==(i=null==(n=null==y?void 0:y.data)?void 0:n.file)?void 0:i.hasPermission;return"blocking_modal"===a?{experiment_group:"fellowship_pro_org_experiment_blocking_modal",teamId:c,orgId:h,currentPlan:m,gracePeriod:E}:"action_oriented"===a?{experiment_group:"fellowship_pro_org_experiment_action_oriented",teamId:c,orgId:h,currentPlan:m,gracePeriod:E}:l?{experiment_group:"fellowship_starter_experiment_blocking_modal",teamId:c,currentPlan:m,gracePeriod:!1}:void 0}(),R=(0,o.useCallback)(()=>E(b.DEFAULT),[E]),P=(0,o.useCallback)(()=>{N(C.b({dev_mode_made_request_in_exp:!0})),E(h?b.REQUESTED_TRIAL:b.REQUESTED)},[N,h,E]),L=(0,o.useCallback)(()=>E(b.DEFAULT),[E]),D=(0,A.CS)();return e&&m!==I.CONTROL?{isInDevModeProPlusExperiment:!0,devModeExperimentTitle:g?(0,c.t)("request_upgrade.title_dev_mode_first_you_need_request"):(0,c.t)("request_upgrade.title_request_access_to_dev"),devModeExperimentActionText:h?o.createElement(c.Tx,{id:"request_upgrade.description_dev_mode_grace_period",numDays:D()}):o.createElement(c.Tx,{id:"request_upgrade.action_text.dev_mode_need_request"}),onClose:R,onSuccess:P,onError:L,trackingProperties:O}:{isInDevModeProPlusExperiment:!1,devModeExperimentTitle:void 0,devModeExperimentActionText:void 0,onClose:void 0,onSuccess:void 0,onError:void 0,trackingProperties:void 0}}},65514:(e,r,n)=>{"use strict";function i(e){if(e.length>0){let r=e[0].metadata;return{status:(null==r?void 0:r.status)??null}}return{status:null}}n.d(r,{D:()=>i}),n(39863),n(52800)},41381:(e,r,n)=>{"use strict";n.d(r,{LP:()=>G,Qi:()=>m.Qi,a8:()=>W,kA:()=>H,pZ:()=>V,uF:()=>M});var i=n(67249),a=n(84934),o=n(38329),s=n(17037),l=n(76621),d=n(4783),c=n(208),u=n(81388),p=n(39863),h=n(92592),m=n(84336),g=n(45941),f=n(80820),_=n(63397),y=n(51705),E=n(82976),b=n(97551),v=n(82501),S=n(91205),I=n(28467),T=n(72794),w=n(20666),C=n(20741),A=n(3454),N=n(55328),O=n(13408),R=n(93623),P=n(92330),L=n(15408),D=n(56714);(0,i.N)("PLUGIN_REPLACE_FEATURED");let M=(0,f.nF)((e,r,{loadingKey:n})=>{if(!e.getState().user)return;let i=R.V.getPlugins(),a=P.U.getWidgets();i.then(({data:r})=>{let n=r.meta;e.dispatch((0,m.Qi)({publishedPlugins:n,src:"initializeUserPublishedPlugins"}))}),a.then(({data:r})=>{let n=r.meta;e.dispatch((0,m.Qi)({publishedPlugins:n,src:"initializeUserPublishedWidgets"}))}),(0,C.N)(a,e,n)});S.M4.Query({fetch:async e=>(await R.V.getUnpublishedPlugins()).data.meta,output:({data:e})=>{let r={};if(e)for(let n of e)r[n.id]=n;return r}}),S.M4.Query({fetch:async e=>(await P.U.getUnpublishedWidgets()).data.meta,output:({data:e})=>{let r={};if(e)for(let n of e)r[n.id]=n;return r}});let k=(0,f.nF)((e,{widgetIDToVersions:r})=>{let{publishedCanvasWidgetVersions:n,currentUserOrgId:i}=e.getState();for(let[e,a]of Object.entries(r))a.forEach(a=>{var o;let s=null==(o=n[e])?void 0:o[a];s&&new Set(r[e]).forEach(e=>{T.F.getAndCache({...s,id:e},i??void 0)})})});(0,f.nF)(async(e,{resourceId:r,resourceType:n})=>{let i=n===N.bD.WIDGET?P.U.getWidgets({id:r}):R.V.getPlugins({id:r}),{data:a}=await i,o=a.meta.find(e=>e.id===r);o&&e.dispatch((0,m.Qi)({publishedPlugins:[o],src:"getPublishedResource"}))});let x=(0,i.N)("UPDATE_PUBLISHED_CANVAS_WIDGET_VERSIONS"),F=(0,i.N)("UPDATE_FETCHED_CANVAS_WIDGET_VERSIONS");async function U(e,r){var n,i;let a=null==(n=o.D.getState().openFile)?void 0:n.key,s=await c.Ay.post("/api/widgets/v2/versions",{ids_to_versions:e,org_id:r,file_key:a}),l=(null==(i=null==s?void 0:s.data)?void 0:i.meta)||{};return o.D.dispatch(x(l)),o.D.dispatch(F(Object.fromEntries(Object.entries(e).map(([e,r])=>[e,Object.fromEntries(r.map(e=>[e,!0]))])))),l}(0,f.nF)(async(e,{pluginIds:r})=>{var n;let{currentUserOrgId:i,publishedPlugins:a}=e.getState(),s=r.filter(e=>!a[e]);if(s.length)try{let e=await R.V.postPluginsBatch(s,i),r=(null==(n=e.data)?void 0:n.meta)??[];o.D.dispatch((0,m.Qi)({publishedPlugins:r,src:"fetchPublishedPlugins",overrideInstallStatus:!0}))}catch{return}});let B=(0,f.nF)(async(e,{widgetIds:r})=>{var n;let{currentUserOrgId:i,publishedWidgets:a}=e.getState(),s=r.filter(e=>!a[e]);if(s.length)try{let e=await c.Ay.post("/api/widgets/batch",{ids:s,org_id:i}),r=(null==(n=e.data)?void 0:n.meta)??[];o.D.dispatch((0,m.Qi)({publishedPlugins:r,src:"fetchPublishedWidgets",overrideInstallStatus:!0}))}catch{return}});(0,f.nF)(async(e,{widgetIDAndVersions:r})=>{let{currentUserOrgId:n}=e.getState(),i=[],a={};r.forEach(({widgetID:e,widgetVersionID:r})=>{a[e]?a[e].includes(r)||a[e].push(r):(i.push(e),a[e]=[r])}),0!==i.length&&(await U(a,n),e.dispatch(k({widgetIDToVersions:a})),e.dispatch(B({widgetIds:Object.keys(a)})))});let V=(0,f.T8)("GET_COMMUNITY_PROFILE_PLUGINS",(e,r,{loadingKey:n})=>{let i=R.V.getProfile({profileId:r.profileId,currentOrgId:e.getState().currentUserOrgId||void 0}),a=(0,D.UM)(r.profileId);return(0,C.N)(i,e,n),i.then(async({data:r})=>{let n=[...await a,...r.meta];return e.dispatch((0,m.Qi)({publishedPlugins:n,src:"getCommunityProfilePlugins"})),n})},({profileId:e})=>`GET_COMMUNITY_PROFILE_PLUGINS_${e}`),H=(0,f.T8)("GET_COMMUNITY_PROFILE_WIDGETS",(e,r,{loadingKey:n})=>{let i=P.U.getProfile({profileId:r.profileId,currentOrgId:e.getState().currentUserOrgId||void 0}),a=(0,D.Jr)(r.profileId);return(0,C.N)(i,e,n),i.then(async({data:r})=>{let n=[...await a,...r.meta];return e.dispatch((0,m.Qi)({publishedPlugins:n,src:"getCommunityProfileWidgets"})),n})},({profileId:e})=>`GET_COMMUNITY_PROFILE_WIDGETS_${e}`),G=(0,f.T8)("GET_ORG_PUBLISHED_PLUGINS",(e,r,{loadingKey:n})=>{let i=R.V.getOrg({orgId:r});return(0,C.N)(i,e,n),i.then(({data:r})=>{let n=r.meta;return e.dispatch((0,m.Qi)({publishedPlugins:n,src:"getOrgPublishedPlugins"})),n})},e=>`GET_ORG_PUBLISHED_PLUGINS_${e}`),W=(0,f.T8)("GET_ORG_PUBLISHED_WIDGETS",async(e,r,{loadingKey:n})=>{var i;try{e.dispatch(E.Cx({key:n}));let a=await P.U.getOrg({orgId:r}),o=(null==(i=null==a?void 0:a.data)?void 0:i.meta)||[];return e.dispatch((0,m.Qi)({publishedPlugins:o,src:"getOrgPublishedWidgets"})),e.dispatch(E.x2({key:n})),o}catch(r){return u.s.flash(r.message||(0,p.t)("community.actions.an_error_occurred_while_trying_to_fetch_the_org_widgets_list")),e.dispatch(E.of({key:n})),[]}},e=>`GET_ORG_PUBLISHED_WIDGETS_${e}`);async function z(e,r,n){if(null===e.current_plugin_version_id||!e.id)throw Error((0,p.t)("community.actions.resource_is_invalid"));let i=0;r.iconBlob&&(i=(0,w.wf)(r.iconBlob));let o=0;r.coverBlob&&(o=(0,w.oD)(r.coverBlob));let s=r.carouselMedia,{uploadImages:u,uploadVideos:h,allMedia:m}=(0,v.Kg)(s),g=(await c.Ay.post(`/api/${(0,b.KH)(e,{pluralized:!0})}/${e.id}/images/upload`,{images_sha1:u})).data.meta,f=Promise.resolve(!1),_=r.iconBlob;void 0!==_&&(f=(0,v.ck)(_).then(e=>c.Ay.crossOriginPut(g.icon_path,e,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":_.type}})).then(()=>!0).catch(r=>{(0,l.$D)(d.e.COMMUNITY,r);let n=(0,p.Jv)(r,(0,p.t)("community.actions.could_not_connect_to_the_server"));throw Error((0,N.xQ)(e)?(0,p.t)("community.actions.error_uploading_widget_icon_error",{error:n}):(0,p.t)("community.actions.error_uploading_plugin_icon_error",{error:n}))}));let y=Promise.resolve(!1),E=r.coverBlob;void 0!==E&&(y=(0,v.ck)(E).then(e=>c.Ay.crossOriginPut(g.cover_image_path,e,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":E.type}})).then(()=>!0).catch(r=>{var n,i;throw(0,l.$D)(d.e.COMMUNITY,r),Error((0,N.xQ)(e)?(0,p.t)("community.actions.error_uploading_widget_artwork_image_error",{error:(0,p.Jv)(r,(null==(n=r.data)?void 0:n.message)||"unknown error")}):(0,p.t)("community.actions.error_uploading_plugin_artwork_image_error",{error:(0,p.Jv)(r,(null==(i=r.data)?void 0:i.message)||"unknown error")}))}));let{snapshotBlob:S}=r,I=Promise.resolve(!1);void 0!==S&&(I=(0,v.ck)(S).then(e=>c.Ay.crossOriginPut(g.snapshot_path,e,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":S.type}})).then(()=>!0).catch(e=>{var r;throw(0,l.$D)(d.e.COMMUNITY,e),Error((0,p.t)("community.actions.error_uploading_widget_snapshot_image_error",{error:(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))}));let T=(0,v.Rd)(g.carousel_images,s),[C,O,R]=await Promise.all([f,y,I,T]),P=h.map(r=>(0,A.Gf)((0,b.KH)(e,{pluralized:!0}),e.id,{sha1:r.sha1,bytes:r.bytes},r.video_thumbnail_buffer,r.video_thumbnail_sha1).then(e=>{m.push({carousel_position:r.carousel_position,sha1:e.sha1,video_file_uuid:e.videoFileUuid,video_thumbnail_sha1:e.videoThumbnailSha1})}).then(()=>!0).catch(e=>{var r;throw(0,l.$D)(d.e.COMMUNITY,e),Error((0,p.t)("community.actions.error_uploading_plugin_video_error",{error:(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))}));await Promise.all(P);let{data:L}=await c.Ay.put(`/api/${(0,b.KH)(e,{pluralized:!0})}/${e.id}/versions/${r.id}`,{icon_uploaded:C,cover_image_uploaded:O,snapshot_uploaded:R,carousel_media:m,name:r.name,description:r.description,tagline:r.tagline,creator_policy:r.creatorPolicy,release_notes:r.releaseNotes,comments_setting:e.comments_setting,category_id:e.category_id,image_upload_nonce:g.image_upload_nonce,playground_fig_file_key:r.playground_fig_file_key,playground_file_publish_type:n}).catch(e=>{var r;throw(0,l.$D)(d.e.COMMUNITY,e),Error((0,p.t)("community.actions.error_finalizing_plugin_error",{error:(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))}),D=L.meta;D.plugin.redirect_thumbnail_url=g.cover_image_path.split("?")[0];let M=D.plugin;if(M.id!==e.id)throw Error((0,p.t)("community.actions.the_published_resource_i_ds_do_not_match"));return(0,a.sx)("Hub Plugin Update Version",{pluginId:e.id,isWidget:e.is_widget,iconFileSize:i,coverFileSize:o}),{publishedPlugin:M,profile:D.profile}}async function K(e,r,n,i,o,s,u,h,m,g){var f;let _;if(!e)throw Error((0,p.t)("community.actions.plugin_id_is_invalid"));let[y,E]=await Promise.all([(0,w.c2)(r,{resourceType:(0,b.nF)(m),isPublishing:!0}),(0,w.MB)(r)]),S=(0,w.ZT)(E),I=0;n.iconBlob&&(I=(0,w.wf)(n.iconBlob));let T=0;n.coverBlob&&(T=(0,w.oD)(n.coverBlob));let C=s.tokens.map(e=>e.content),N=n.carouselMedia,{uploadImages:O,uploadVideos:R,allMedia:P}=(0,v.Kg)(N),L={manifest:y,release_notes:n.releaseNotes,name:n.name,description:n.description,tagline:n.tagline,creator_policy:n.creatorPolicy,tags:C,category_id:o,images_sha1:O};_=m?c.Ay.post(`/api/widgets/${e}/upload`,L):c.Ay.post(`/api/plugins/${e}/upload`,L);let{codeUploadUrl:D,iconUploadUrl:M,coverImageUploadUrl:k,snapshotUploadUrl:x,signature:F,versionId:U,imageUploadNonce:B,carouselImageUrls:V}=await _.then(({data:e})=>({codeUploadUrl:e.meta.code_upload_url,iconUploadUrl:e.meta.icon_upload_url,coverImageUploadUrl:e.meta.cover_image_upload_url,snapshotUploadUrl:e.meta.snapshot_upload_url,signature:e.meta.signature,versionId:e.meta.version_id,imageUploadNonce:e.meta.image_upload_nonce,carouselImageUrls:e.meta.carousel_images})).catch(e=>{throw(0,l.$D)(d.e.COMMUNITY,e),Error((0,p.Jv)(e,(0,p.t)("community.actions.could_not_connect_to_the_server")))}),H=e=>{let r=e.data;if(!r||"string"!=typeof r)return;let n=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("Code");if(n&&n[0]&&"EntityTooLarge"===n[0].textContent)return(0,p.t)("community.actions.file_too_large")},G=Promise.resolve(!1);E&&(G=(e=>{if(e.fields&&e.code_path){let{fields:r,code_path:n}=e,i=new FormData;return Object.entries(r).forEach(([e,r])=>i.append(e,r)),i.set("Content-Type","text/javascript"),i.append("file",E),c.Ay.crossOriginPost(n,i,{raw:!0,headers:{"Content-Type":"multipart/form-data","Cache-Control":"private, max-age=86400"}})}return"string"==typeof e?c.Ay.crossOriginPut(D,E,{headers:{...c.Ay.defaults.headers,"Content-Type":""}}):Promise.reject(Error("Invalid presigned_url"))})(D).then(()=>!0).catch(e=>{(0,l.$D)(d.e.COMMUNITY,e);let r=H(e)??(0,p.Jv)(e,(0,p.t)("community.actions.could_not_connect_to_the_server"));throw Error(m?(0,p.t)("community.actions.error_uploading_widget_code_error",{error:r}):(0,p.t)("community.actions.error_uploading_plugin_code_error",{error:r}))}));let W=(e,r,n)=>{if(e.fields&&e.image_path){let{fields:n,image_path:i}=e,a=new FormData;return Object.entries(n).forEach(([e,r])=>a.append(e,r)),a.set("Content-Type",r.type),a.append("file",r),c.Ay.crossOriginPost(i,a,{raw:!0,headers:{"Content-Type":r.type}})}return"string"==typeof e?c.Ay.crossOriginPut(e,n,{raw:!0,headers:{...c.Ay.defaults.headers,"Content-Type":r.type}}):Promise.reject(Error("Invalid presigned_url"))},z=Promise.resolve(!1),K=n.iconBlob;null!=K&&(z=(0,v.ck)(K).then(e=>W(M,K,e)).then(()=>!0).catch(e=>{var r;(0,l.$D)(d.e.COMMUNITY,e);let n=H(e)??(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error");throw Error(m?(0,p.t)("community.actions.error_uploading_widget_icon_error",{error:n}):(0,p.t)("community.actions.error_uploading_plugin_icon_error",{error:n}))}));let j=Promise.resolve(!1),Y=n.coverBlob;null!=Y&&(j=(0,v.ck)(Y).then(e=>W(k,Y,e)).then(()=>!0).catch(e=>{(0,l.$D)(d.e.COMMUNITY,e);let r=H(e)??(0,p.Jv)(e,(0,p.t)("community.actions.could_not_connect_to_the_server"));throw Error(m?(0,p.t)("community.actions.error_uploading_widget_artwork_image_error",{error:r}):(0,p.t)("community.actions.error_uploading_plugin_artwork_image_error",{error:r}))}));let{snapshotBlob:$}=n,q=Promise.resolve(!1);null!=$&&(q=(0,v.ck)($).then(e=>W(x,$,e)).then(()=>!0).catch(e=>{var r;throw(0,l.$D)(d.e.COMMUNITY,e),Error((0,p.t)("community.actions.error_uploading_widget_snapshot_image_error",{error:H(e)??(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))}));let Z=(0,v.Rd)(V,N),[X,J,Q,ee]=await Promise.all([G,z,j,q,Z]),et=R.map(r=>(0,A.Gf)(m?"widgets":"plugins",e,{sha1:r.sha1,bytes:r.bytes},r.video_thumbnail_buffer,r.video_thumbnail_sha1).then(e=>{P.push({carousel_position:r.carousel_position,sha1:e.sha1,video_file_uuid:e.videoFileUuid,video_thumbnail_sha1:e.videoThumbnailSha1})}).then(()=>!0).catch(e=>{var r;throw(0,l.$D)(d.e.COMMUNITY,e),Error((0,p.t)("community.actions.error_uploading_plugin_video_error",{error:(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))}));await Promise.all(et);let{data:er}=await c.Ay.put(`/api/${(0,b.nF)(!!m,{pluralized:!0})}/${e}/versions/${U}`,{icon_uploaded:J,cover_image_uploaded:Q,snapshot_uploaded:ee,carousel_media:P,code_uploaded:X,comments_setting:i,category_id:o,signature:F,image_upload_nonce:B,agreed_to_tos:u,org_id:h,playground_fig_file_key:n.playground_fig_file_key,playground_file_publish_type:g}).catch(e=>{var r,n;throw(0,l.$D)(d.e.COMMUNITY,e),Error(m?(0,p.t)("community.actions.error_finalizing_widget_error",{error:(0,p.Jv)(e,(null==(r=e.data)?void 0:r.message)||"")}):(0,p.t)("community.actions.error_finalizing_plugin_error",{error:(0,p.Jv)(e,(null==(n=e.data)?void 0:n.message)||"")}))}),en=er.meta,ei=en.plugin;if(ei.id!==e)throw Error((0,p.t)("community.actions.the_published_resource_i_ds_do_not_match"));return(0,a.sx)("Hub Plugin Publish Version",{pluginId:e,hasUI:!!y.ui,apiVersion:y.api,codeLength:S,iconFileSize:I,coverFileSize:T,isWidget:m,editorType:null==(f=y.editorType)?void 0:f.sort().join(", ")}),{publishedPlugin:ei,profile:en.profile}}(0,f.T8)("GET_PUBLIC_PROFILE_PLUGINS",(e,{handle:r,orgId:n},{loadingKey:i})=>{let a=R.V.getProfile({profileId:r,currentOrgId:n||void 0});(0,C.N)(a,e,i),a.then(({data:r})=>{let n=r.meta;e.dispatch((0,m.Qi)({publishedPlugins:n,src:"getPublicProfilePlugins"}))})},({handle:e})=>`GET_PUBLIC_PROFILE_PLUGINS_${e}`);let{updateMetadata:j,updateStatus:Y,clearMetadataAndStatus:$,clearMetadata:q}=(0,_.d6)("PLUGIN");(0,f.nF)(async(e,r)=>{let{pluginVersion:n,localFileId:i,pluginId:a,commentsSetting:o,categoryId:c,callback:u,agreedToTos:g,orgId:f,isWidget:_,playgroundFilePublishType:E,tags:b}=r;e.dispatch(Y({id:i,status:{code:O.aP.UPLOADING}}));try{let{publishedPlugin:r,profile:s}=await K(a,i,n,o,c,b,g,f,_,E);e.dispatch((0,m.Qi)({publishedPlugins:[r],src:"publishPluginVersion"})),s&&(e.dispatch(y.HZ(s)),e.dispatch(y.Oo(s))),e.dispatch(Y({id:i,status:{code:O.aP.SUCCESS}})),e.dispatch(q({id:i})),u()}catch(n){e.dispatch(Y({id:i,status:{code:O.aP.FAILURE,error:n.message}}));let r=(0,p.t)("community.actions.could_not_publish_plugin_error",{error:(0,p.Jv)(n,n.message)});throw n instanceof s.q?(0,L.MZ)(e.dispatch,(0,p.t)("check_network_compatibility.error_bell.video_upload.message")):n.message.includes("invalid word")||e.dispatch(h.F.enqueue({message:r,error:!0})),(0,l.$D)(d.e.COMMUNITY,n),Error(r)}}),(0,f.nF)(async(e,r)=>{let{resource:n,pluginVersion:i,callback:a,playgroundFilePublishType:o,localFileIdOrPluginId:c}=r;try{e.dispatch(Y({id:c,status:{code:O.aP.UPLOADING}}));let{profile:r,publishedPlugin:s}=await z(n,i,o);e.dispatch((0,m.Qi)({publishedPlugins:[s],src:"updatePublishedPluginRole"})),r&&e.dispatch(y.Oo(r)),e.dispatch(Y({id:c,status:{code:O.aP.SUCCESS}})),a()}catch(n){let r=(0,p.Jv)(n,n.message);throw n instanceof s.q?(0,L.MZ)(e.dispatch,(0,p.t)("check_network_compatibility.error_bell.video_upload.message")):e.dispatch(h.F.enqueue({message:r,error:!0})),e.dispatch(Y({id:c,status:{code:O.aP.FAILURE,error:r}})),(0,l.$D)(d.e.COMMUNITY,n),Error(`Failed plugin patchVersion: ${n.message}`)}}),(0,f.nF)(async(e,{pluginId:r,role:n,agreedToTos:i,isWidget:o})=>{let s;let u={org_id:n.org?n.org.id:void 0,is_public:n.is_public,agreed_to_tos:i};s=o?c.Ay.put(`/api/widgets/${r}/roles`,u):c.Ay.put(`/api/plugins/${r}/roles`,u),await s.then(({data:n})=>{let i=n.meta;(0,a.sx)("Hub Plugin Publish Role",{pluginId:r,toPublic:i.roles.is_public,toOrg:!!i.roles.org,needApproval:(0,g.AC)(i),isWidget:o}),e.dispatch((0,m.Qi)({publishedPlugins:[i],src:"updatePublishedPluginRole"}))}).catch(r=>{var n;e.dispatch(h.F.enqueue({message:(0,p.t)("community.publishing.could_not_publish_plugin_error",{error:(0,p.Jv)(r,null==(n=r.data)?void 0:n.message)}),error:!0})),(0,l.$D)(d.e.COMMUNITY,r)})}),(0,f.nF)(async(e,r)=>{let n;if(r.authorOrgId&&r.authorTeamId){console.error("Attempting to set both authorOrgId and authorTeamId while publishing");return}let{isWidget:i,pluginId:a}=r,o={tags:r.tags,support_contact:r.supportContact,author_org_id:r.authorOrgId,author_team_id:r.authorTeamId,publisher_ids:r.publisherIds,hide_related_content_by_others:r.hideRelatedContentByOthers,agreed_to_tos:r.agreedToTos,is_paid:r.isPaid,is_subscription:r.isSubscription,price:r.price,has_freemium_code:r.hasFreemiumCode,category_id:r.categoryId,is_public:r.isPublic,annual_discount_percentage:r.annualDiscount,is_annual_discount_active:r.isAnnualDiscountActive};n=i?c.Ay.put(`/api/widgets/${a}`,o):c.Ay.put(`/api/plugins/${a}`,o),await n.then(({data:n})=>{var i;let a=n.meta;e.dispatch((0,m.Qi)({publishedPlugins:[a],src:"updatePublishedPlugin"})),null==(i=r.onSuccess)||i.call(r)}).catch(r=>{var n;e.dispatch(h.F.enqueue({message:(0,p.t)("community.publishing.could_not_publish_plugin_error",{error:(0,p.Jv)(r,null==(n=r.data)?void 0:n.message)}),error:!0})),(0,l.$D)(d.e.COMMUNITY,r)})}),(0,f.nF)((e,{resource:r})=>{c.Ay.del(`/api/${(0,b.KH)(r,{pluralized:!0})}/${r.id}`).then(({data:n})=>{let i=n.meta;e.dispatch((0,m.Qi)({publishedPlugins:[i],src:"unpublishPublishedPlugin"})),(0,a.sx)("Hub Unpublish Plugin",{pluginId:r.id,...(0,w.L8)(r)})}).catch(n=>{var i,a;e.dispatch(h.F.enqueue({message:(0,N.xQ)(r)?(0,p.t)("community.actions.could_not_publish_widget_error",{error:(0,p.Jv)(n,null==(i=n.data)?void 0:i.message)}):(0,p.t)("community.actions.could_not_publish_plugin_error",{error:(0,p.Jv)(n,null==(a=n.data)?void 0:a.message)}),error:!0})),(0,l.$D)(d.e.COMMUNITY,n)})}),(0,f.T8)("GET_PLUGIN_VERSIONS",(e,{id:r,resourceType:n},{loadingKey:i})=>{let a=r=>e.dispatch((0,m.Qi)({publishedPlugins:[r],src:"getResourceVersions",overrideInstallStatus:!0})),o=n===N.bD.WIDGET?P.U.getVersions({widgetId:r}):R.V.getVersions({pluginId:r});(0,C.N)(o,e,i),o.then(({data:e})=>{a(e.meta.plugin)}).catch(e=>{var i;console.log(`Versions of ${n} with id ${r} cannot be fetched at this time:`,null==(i=e.data)?void 0:i.message)})},({id:e})=>`GET_PLUGIN_VERSIONS_${e}`),(0,f.nF)(async(e,r)=>{let{role:n,userId:i,resource:a}=r;try{let r=(a.is_widget?await c.Ay.put(`/api/widgets/${a.id}/publishers/${i}`,{role:n}):await c.Ay.put(`/api/plugins/${a.id}/publishers/${i}`,{role:n})).data.meta.plugin,o=e.getState().user;n===O.kM.NONE&&i===(null==o?void 0:o.id)&&(r.plugin_publishers={accepted:[],pending:[]}),e.dispatch((0,m.Qi)({publishedPlugins:[r],src:"setPluginPublisherRole"}));let s=e.getState(),{publishingPlugins:l,localPlugins:d,publishedPlugins:u,publishedWidgets:p,currentUserOrgId:h,authedProfilesById:g}=s,f=Object.values(d).find(e=>e.plugin_id===a.id),_=(null==f?void 0:f.localFileId)??a.id,y=(0,w.mI)({...(0,I.getPermissionsState)(s),currentUserOrgId:h,localPlugins:d,publishedPlugins:u,publishedWidgets:p,authedProfilesById:g},null==f?void 0:f.localFileId),E={...l[_].metadata,author:y.author,publishers:y.publishers,creators:y.creators,blockPublishingOnToS:y.blockPublishingOnToS};e.dispatch(j({id:_,metadata:E}))}catch(r){throw e.dispatch(h.F.enqueue({message:(0,p.Jv)(r,r.message),error:!0})),(0,l.$D)(d.e.COMMUNITY,r),Error(r.message)}})},51705:(e,r,n)=>{"use strict";n.d(r,{HZ:()=>h,Oo:()=>u,cr:()=>p});var i=n(208),a=n(39863),o=n(23026),s=n(92592),l=n(20741),d=n(80820),c=n(30258);let u=o.L_,p=o.Nr,h=o.HZ;(0,d.T8)("COMMUNITY_HUB_CHANGE_COMMUNITY_PROFILE_PRIMARY_USER",(e,{email:r,profileId:n,userId:o},{loadingKey:d})=>{let c=i.Ay.post(`/api/profile/${n}/primary_user`,{new_primary_user_id:o});(0,l.N)(c,e,d),c.then(({data:n})=>{e.dispatch(u(n.meta)),e.dispatch(s.F.enqueue({error:!1,type:"profile-merge-update",message:(0,a.t)("community.actions.your_profile_s_primary_email_was_set_to_email",{email:r})}))}).catch(r=>{let n=(0,a.Jv)(r);n&&e.dispatch(s.F.enqueue({error:!0,type:"profile-merge-update",message:n}))})},({profileId:e})=>`COMMUNITY_HUB_CHANGE_COMMUNITY_PROFILE_PRIMARY_USER_${e}`),(0,d.nF)((e,{email:r,profileId:n,userId:o},{loadingKey:d})=>{let p=i.Ay.del(`/api/profile/${n}/user`,{secondary_user_id:o});(0,l.N)(p,e,d),p.then(({data:n})=>{e.dispatch(u(n.meta)),e.dispatch(s.F.enqueue({error:!1,type:"profile-merge-update",message:(0,a.t)("community.actions.email_was_removed_from_your_profile",{email:r})})),e.dispatch(c.hm())}).catch(r=>{let n=(0,a.Jv)(r);n&&e.dispatch(s.F.enqueue({error:!0,type:"profile-merge-update",message:n}))})},({profileId:e})=>`COMMUNITY_HUB_REMOVE_COMMUNITY_PROFILE_USER_${e}`),(0,d.nF)((e,{primaryUserId:r,secondaryUserId:n},{loadingKey:o})=>{let d=i.Ay.post("/api/profile/merge",{primary_user_id:r,secondary_user_id:n});(0,l.N)(d,e,o),d.then(({data:r})=>{e.dispatch(u(r.meta)),e.dispatch(s.F.enqueue({type:"profile-merge-update",message:(0,a.t)("community.actions.new_profile_connection_added")})),e.dispatch(c.hm())}).catch(r=>{let n=(0,a.Jv)(r);n&&e.dispatch(s.F.enqueue({error:!0,type:"profile-merge-update",message:(0,a.t)("community.actions.failed_to_merge_msg",{msg:n})}))})},({secondaryUserId:e})=>`COMMUNITY_HUB_ADD_COMMUNITY_PROFILE_USER_${e}`)},44673:(e,r,n)=>{"use strict";n.d(r,{N9:()=>B,Qv:()=>G,VV:()=>W,Vk:()=>K,_1:()=>z,g6:()=>C,ne:()=>j,ot:()=>D});var i=n(67249),a=n(57663),o=n(97666),s=n(66712),l=n(39863),d=n(92592),c=n(88022),u=n(74105),p=n(57766),h=n(55513),m=n(52800),g=n(60628),f=n(18261),_=n(46456),y=n(87467),E=n(11189),b=n(28406),v=n(68702),S=n(80820);function I(e){return e.multiplayer.allUsers.length}function T(e){return e?e.isPaused?e.lastReceivedSongTimestampMs:e.lastReceivedSongTimestampMs+(performance.now()-e.timeOrigin):0}async function w(e,r){let n=e;return await (0,E._s)({songID:e,onSuccess:()=>{},onNotFound:()=>{r.dispatch(k({selectedSongID:"",musicStartTimeMs:0})),n="",r.dispatch(F()),r.dispatch(d.F.enqueue({message:(0,l.t)("whiteboard.timer.song_not_available_error"),error:!0,type:"active-song-not-found"}))}}),n}(0,S.T8)("SET_SELECTED_SONG_ID_MUSIC",(e,r)=>{let{music:n}=e.getState().music,i=!r.dontTransmitWhenPaused;if(n&&!n.isStopped&&(!n.isPaused||i)){let i=e.getState().music.activeSongs.find(e=>e.song_id===r.selectedSongID);e.dispatch(P({eventName:"update-music-song-id",isPaused:!n||n.isPaused,selectedSongID:r.selectedSongID,lastReceivedSongTimestampMs:(null==i?void 0:i.start_at_ms)||0,isStopped:!n||n.isStopped}))}});let C=(0,S.nF)(e=>{e.dispatch(A()),(0,E.I8)(),(0,E.om)()}),A=(0,i.N)("RESET_LOCAL_MUSIC");(0,S.nF)((e,r)=>{if(e.dispatch(N(r)),r.isPaused||r.isStopped||!r.selectedSongID)(r.isPaused||r.isStopped)&&(0,E.c4)()&&(0,E.I8)();else{let n=R(r.selectedSongID,e.getState().music.activeSongs);(0,E.$_)(n,()=>{e.dispatch(O())})}});let N=(0,i.N)("SET_MUSIC_STATE");(0,S.T8)("RESUME_MUSIC",async(e,r)=>{var n;let i=T(r),a=null==(n=e.getState().music.music)?void 0:n.selectedSongID;a&&(a=await w(a,e)),e.dispatch(P({eventName:"resume-music",isPaused:!1,selectedSongID:a||"",lastReceivedSongTimestampMs:i,isStopped:!1}))}),(0,S.nF)((e,r)=>{var n;let i=T(r),a=null==(n=e.getState().music.music)?void 0:n.selectedSongID;e.dispatch(P({eventName:"pause-music",isPaused:!0,selectedSongID:a||"",lastReceivedSongTimestampMs:i,isStopped:!1}))});let O=(0,S.nF)(e=>{var r;let n=null==(r=e.getState().music.music)?void 0:r.selectedSongID;e.dispatch(P({eventName:"stop-music",isPaused:!0,selectedSongID:n||"",lastReceivedSongTimestampMs:0,isStopped:!0}))});(0,S.T8)("START_MUSIC",async(e,{musicStartTimeMs:r=0})=>{let{music:n}=e.getState().music,i="";n&&(i=n.selectedSongID),i&&(i=await w(i,e)),e.dispatch(P({eventName:"start-music",isPaused:!1,selectedSongID:i,lastReceivedSongTimestampMs:r,isStopped:!1}))});let R=(e,r)=>r.find(r=>r.song_id===e),P=(0,S.T8)("SEND_MUSIC_MESSAGE",(e,r)=>{var n;let i=e.getState().music;m.h3O.sendMusic(r.isPaused,((null==(n=null==i?void 0:i.music)?void 0:n.musicMessageID)||0)+1,r.selectedSongID||"",r.lastReceivedSongTimestampMs||0,r.isStopped)});(0,S.nF)((e,r)=>{"open"===r.state&&(0,v.D)(()=>{var r;(null==(r=e.getState().music)?void 0:r.modalState)==="open"&&e.dispatch(L({state:"closed",userInitiated:!1}))}),e.dispatch(L(r))});let L=(0,i.N)("SET_MUSIC_MODAL"),D=(0,i.N)("RESET_LOCAL_TIMER");(0,S.T8)("SET_MUSIC_STANDALONE_VOLUME",(e,r)=>{M(e.getState(),r)}),(0,S.T8)("SET_MUSIC_IS_MUTED",(e,{isMuted:r,userInitiated:n})=>{n&&(0,y.ym)(e.getState(),r)}),(0,S.T8)("SET_TIMER_AND_MUSIC_ARE_MUTED",(e,{isMuted:r,userInitiated:n})=>{n&&(0,y.ym)(e.getState(),r)}),(0,i.N)("SET_STANDALONE_MUSIC_PLAYER"),(0,i.N)("SET_MAIN_MUSIC_PLAYER"),(0,S.T8)("SET_MUSIC_VOLUME",(e,r)=>{M(e.getState(),r)});let M=(0,o.s)((e,r)=>(0,y.qV)(e,r),1e3,!1),k=(0,S.T8)("SET_SELECTED_SONG_ID",(e,r)=>{let{time:n}=e.getState().timer;if(n&&n.totalTimeMs>0){let i=(0,b.P$)(n);e.dispatch(H({eventName:"update-timer-song-id",totalTimeMs:n.totalTimeMs,timeRemainingMs:i,isPaused:n.isPaused,songID:r.selectedSongID,lastReceivedSongTimestampMs:r.musicStartTimeMs})),g.d1.timerChange("timerupdatesongid")}}),x=(0,i.N)("GET_ACTIVE_SONGS_SUCCESS"),F=(0,S.nF)(async e=>{try{let r=await f.N.getSongs();if(!r||200!==r.status||!r.data||!r.data.meta)throw a.k.warn("Failed to fetch active songs"),Error("Api error while fetching active songs");e.dispatch(x(r.data.meta))}catch(e){throw a.k.warn("Failed to fetch active songs"),e}}),U=(0,i.N)("GET_ALL_SONGS_SUCCESS");(0,S.nF)(async e=>{if(!(0,s.kc)().figjam_more_tracks_listen)throw Error("Fetching all songs disabled");try{let r=await f.N.getAllSongs();if(!r||200!==r.status||!r.data||!r.data.meta)throw a.k.warn("Failed to fetch all songs"),Error("Api error while fetching all songs");e.dispatch(U(r.data.meta))}catch(e){throw a.k.warn("Failed to fetch all songs"),e}});let B=(0,i.N)("SET_SHOWING_FILE_FOOTER");(0,i.N)("SET_SELECTED_TYPED_PROP_DEF_ID"),(0,i.N)("SET_START_CHIME_PLAYED"),(0,i.N)("SET_TIMER_NOTIFICATION"),(0,i.N)("SET_TIMER_AUDIO_ENABLED");let V=(0,S.T8)("SET_TIMER_MODAL",(e,r)=>{var n,i;if("open"===r.state&&(0,b.FR)()&&(0,v.D)(()=>{var r;let n=(0,b.FR)();(null==(r=e.getState().timer)?void 0:r.modalState)==="open"&&n&&e.dispatch(V({state:"closed",userInitiated:!1}))}),r.userInitiated){let a=e.getState(),o=(null==(n=a.timer.time)?void 0:n.timeRemainingMs)>0;(0,c.ds)(`timer-modal-${r.state}`,null==(i=a.openFile)?void 0:i.key,a,{"multiplayer-users":I(a),"timer-active":o,source:r.source})}}),H=(0,S.T8)("SEND_TIMER",(e,r)=>{var n,i,a;let o=e.getState(),l=o.timer,d=l.setBy;if("start-timer"===r.eventName){let e=o.multiplayer.allUsers.find(e=>e.sessionID===o.multiplayer.sessionID);d=e?e.name:(null==(n=(0,s.Ay)().user_data)?void 0:n.handle)||"anonymous user"}if(m.h3O.sendTimer(r.totalTimeMs||0,r.timeRemainingMs||0,!!r.isPaused,((null==(i=null==l?void 0:l.time)?void 0:i.timerID)||0)+1,d,r.songID||"",r.lastReceivedSongTimestampMs||0),r.eventName){let e={"multiplayer-users":I(o)};if("adjust-timer"===r.eventName){let n=Math.round((r.totalTimeMs-o.timer.time.totalTimeMs)/1e3);e["time-added-s"]=n}else"start-timer"===r.eventName&&(e["duration-s"]=Math.round(r.totalTimeMs/1e3));(0,c.ds)(r.eventName,null==(a=o.openFile)?void 0:a.key,o,e,{forwardToDatadog:!0})}});(0,S.T8)("SET_TIMER",(e,r)=>{if(0===r.totalTimeMs){let r=e.getState(),n=(0,u.d1)(r);if(n){let e=(0,p.L8)(n,r.repos);!function(e,r,n){if(!e)return;let i=new _.a().selectedViewNameHelper(e,r,void 0);(0,h.pE)(i,e.editor_type)}(n,e)}}});let G=(0,S.T8)("START_TIMER",async(e,{totalTimeMs:r,musicStartTimeMs:n=0})=>{let i=e.getState().timer.selectedSongID;i&&(i=await w(i,e)),e.dispatch(H({eventName:"start-timer",totalTimeMs:r,timeRemainingMs:r,isPaused:!1,songID:i,lastReceivedSongTimestampMs:n})),g.d1.timerChange("timerstart")}),W=(0,S.nF)((e,r)=>{let n=e.getState().timer.selectedSongID;e.dispatch(H({eventName:"adjust-timer",totalTimeMs:r.timer.totalTimeMs+r.deltaMs,timeRemainingMs:(0,b.P$)(r.timer)+r.deltaMs,isPaused:r.timer.isPaused,songID:n,lastReceivedSongTimestampMs:r.timer.lastReceivedSongTimestampMs})),g.d1.timerChange("timeradjust")}),z=(0,S.nF)((e,r)=>{let n=(0,b.P$)(r),i=T(r),a=e.getState().timer.selectedSongID;e.dispatch(H({eventName:"pause-timer",totalTimeMs:r.totalTimeMs,timeRemainingMs:n,isPaused:!0,songID:a,lastReceivedSongTimestampMs:i})),g.d1.timerChange("timerpause")}),K=(0,S.nF)(e=>{let r=e.getState().timer.selectedSongID;e.dispatch(H({eventName:"stop-timer",totalTimeMs:0,timeRemainingMs:0,isPaused:!0,songID:r,lastReceivedSongTimestampMs:0})),g.d1.timerChange("timerstop")}),j=(0,S.T8)("RESUME_TIMER",async(e,r)=>{let n=e.getState().timer.selectedSongID;n&&(n=await w(n,e)),e.dispatch(H({eventName:"resume-timer",totalTimeMs:r.totalTimeMs,timeRemainingMs:r.timeRemainingMs,isPaused:!1,songID:n,lastReceivedSongTimestampMs:r.lastReceivedSongTimestampMs})),g.d1.timerChange("timerresume")})},2067:(e,r,n)=>{"use strict";n.d(r,{yn:()=>g});var i=n(66712),a=n(39863),o=n(92592),s=n(80820),l=n(88022),d=n(74105),c=n(50225),u=n(52800),p=n(62531),h=n(2778),m=n(82698);async function g(e,r,n,a,o){var s,g;let f,_;function y(e,i){return p.l7.system("finalize-link-preview-failure",()=>!n&&i?{status:"success",nodeID:u.glU.finalizeLinkPreview(i,{url:r}),type:"preview"}:(i&&u.glU.removeLoadingEmbed(i),console.error(e),{status:"error",error:e}))}if(!navigator.onLine)return y("Could not paste an embed because the browser was offline");let E=(null==(s=(0,d.d1)(o))?void 0:s.key)??"",b=(0,c.vO)(r);try{_=u.glU.insertLoadingEmbedInCanvas(encodeURIComponent(r),encodeURIComponent(e)),(0,l.ds)(c.yc.ATTEMPT,E,o,{entrypoint:a,domain:b,userId:null==(g=o.user)?void 0:g.id}),f=(await m.E.getLinkMetadata({text:n?e:r,useEmbedsAllowList:((0,i.kc)().figjam_embeds_allowlist||!1).toString(),useLinkPreviewsV2:((0,i.kc)().link_previews_v2||!1).toString()})).data.meta}catch(e){return y("Failed to get metadata for the provided text",_)}return f?p.l7.system("finalize-link-preview",()=>{var e;switch(f.thumbnailImage&&f.thumbnailImageHash&&(0,h.K)(f.thumbnailImageHash,new Uint8Array(f.thumbnailImage.data)),f.favicon&&f.faviconImageHash&&(0,h.K)(f.faviconImageHash,new Uint8Array(f.favicon.data)),(0,l.ds)(c.yc.SUCCESS,E,o,{entrypoint:a,domain:b,linkRenderType:f.type,userId:null==(e=o.user)?void 0:e.id}),f.type){case"preview":return{status:"success",nodeID:u.glU.finalizeLinkPreview(_,{url:f.url,title:f.title,description:f.description,thumbnailImageHash:f.thumbnailImageHash||void 0,thumbnailImageWidth:f.thumbnailImageWidth,thumbnailImageHeight:f.thumbnailImageHeight,faviconImageHash:f.faviconImageHash||void 0,provider:f.provider}),type:"preview"};case"embed":return{status:"success",nodeID:u.glU.finalizeEmbed(_,{url:f.url,srcUrl:f.srcUrl,originalText:f.originalText,embedType:f.embedType,title:f.title,description:f.description,thumbnailImageHash:f.thumbnailImageHash||void 0,faviconImageHash:f.faviconImageHash||void 0,provider:f.provider,width:f.width,height:f.height,embedVersionId:(0,i.kc)().figjam_embeds_v1?f.embedVersionId:"v0"}),type:"embed"}}}):y("Failed to get metadata for the provided text",_)}(0,s.T8)("ACTIVATE_AND_MAXIMIZE_EMBED",(e,r)=>{u.glU.setActiveEmbed(r.embedNodeID)}),(0,s.nF)(async(e,{clipboardText:r,url:n,isTextIframe:i,entrypoint:s})=>{var p,h;if("error"===(await g(r,n,i,s,e.getState())).status){u.glU.tryPastingTextFromClipboardAsTextNode(r);let n=(null==(p=(0,d.d1)(e.getState()))?void 0:p.key)??"";(0,l.ds)(c.yc.ERROR,n,e.getState(),{entrypoint:s,domain:(0,c.vO)(r),userId:null==(h=e.getState().user)?void 0:h.id}),e.dispatch(o.F.enqueue({type:"embed_failed",message:(0,a.t)("whiteboard.embed_actions.embed_failed"),timeoutOverride:5e3,error:!0}))}})},30258:(e,r,n)=>{"use strict";n.d(r,{Dw:()=>V,UN:()=>U,V3:()=>x,_l:()=>k,gN:()=>F,hm:()=>D,kg:()=>B,q0:()=>M});var i=n(84934),a=n(11617),o=n(17333),s=n(98977),l=n(10004),d=n(47899),c=n(208),u=n(39863),p=n(92592),h=n(49410),m=n(88022),g=n(97551),f=n(69870),_=n(41088),y=n(20741),E=n(7465),b=n(35757),v=n(49719),S=n(22139),I=n(37590),T=n(40351),w=n(52571),C=n(41136),A=n(79050),N=n(57406),O=n(80820),R=n(38269),P=n(62275);let L=(0,O.nF)((e,r)=>{var n,i;(null==(n=e.getState().modalShown)?void 0:n.type)!=null&&e.dispatch((0,P.Ce)()),(null==(i=e.getState().dropdownShown)?void 0:i.type)!=null&&e.dispatch((0,R.oB)()),e.dispatch((0,R.DE)({show:!0})),null==r||r.until.then(()=>{e.dispatch((0,R.DE)({show:!1}))}),A.q.addDependency("FILE_BROWSER_SET_LOADING",(null==r?void 0:r.until)||"pending")}),D=(0,O.nF)(e=>{w.H.getState().then(r=>{e.dispatch((0,R.os)(r.data.meta)),e.dispatch(M(r.data.meta))}).catch(r=>{var n;let i=(null==(n=r.data)?void 0:n.message)||(0,u.t)("file_browser.file_browser_actions.error_on_data_update");e.dispatch(p.F.enqueue({error:!0,message:i}))})}),M=(0,O.nF)((e,r)=>{new l.P().sendToOtherTabs(T.y,r)}),k=(0,O.nF)((e,r)=>{let n=e.getState(),i=r.view||{view:"recentFiles"},l=(0,E.Np)({...n,currentUserOrgId:r.workspace.orgId,currentTeamId:r.workspace.teamId||null},i),d=!(0,g.d9)(n.selectedView)&&(0,g.d9)(i);if(o.eD&&d){o.eD.openCommunity(l,r.workspace.userId);return}function c(){let e=(0,g.d9)(n.selectedView)&&!(0,g.d9)(i);o.eD&&e&&s.Ay.redirect((0,a.dR)((0,E.Np)({...n,currentUserOrgId:r.workspace.orgId,currentTeamId:r.workspace.teamId||null},n.selectedView),{fuid:r.workspace.userId}))}if(e.dispatch(L()),r.path){(0,m.uE)("account_switched",n,{newUserId:r.workspace.userId,orgId:n.currentUserOrgId,newOrgId:r.workspace.orgId,teamId:n.currentTeamId,newTeamId:r.workspace.teamId,view:n.selectedView.view,newPath:r.path}),s.Ay.redirect((0,a.dR)(r.path,{fuid:r.workspace.userId})),c();return}(0,m.uE)("account_switched",n,{newUserId:r.workspace.userId,orgId:n.currentUserOrgId,newOrgId:r.workspace.orgId,view:n.selectedView.view,newView:i.view,newTeamId:r.workspace.teamId,teamId:n.currentTeamId}),(r.workspace.orgId&&!l.includes(r.workspace.orgId)||r.workspace.teamId&&!l.includes(r.workspace.teamId)||(0,g.d9)(i)&&!r.workspace.orgId&&n.currentUserOrgId)&&(0,b.Y9)(r.workspace.userId,(0,g.d9)(i),r.workspace.orgId,void 0,r.workspace.teamId),(0,f.ck)()?N.m({action:"reloadPage",payload:{fuid:r.workspace.userId}}):(s.Ay.redirect((0,a.dR)(l,{fuid:r.workspace.userId})),c())});(0,O.nF)(e=>{c.Ay.post("/api/session/app_auth",{app_type:"desktop"}).then(({data:r})=>{var n;let i=r.meta.id,a=`/app_auth/${i}/grant`,s=e.getState().authedUsers.orderedIds;s.length>0&&(a+=`?authed_ids=${s.join(",")}`),null==(n=o.eD)||n.startAppAuth(a),e.dispatch(p.F.enqueue({message:(0,u.t)("file_browser.file_browser_actions.desktop_go_to_your_browser")}))}).catch(r=>{console.error(r),e.dispatch(p.F.enqueue({message:(0,u.t)("file_browser.error_try_again"),error:!0}))})}),(0,O.nF)((e,r)=>{e.getState().dropdownShown||e.dispatch((0,R.j7)(r))}),(0,O.nF)((e,r)=>{let n=e.getState().dropdownShown;(null==n?void 0:n.type)===r.type?e.dispatch((0,R.oB)()):e.dispatch((0,R.j7)(r))});let x=(0,O.nF)((e,r)=>{(0,_.T)()?(0,v.Qn)(r.url):s.Ay.redirect(r.url,"_blank")});function F(e,r={},n){return(0,R.$T)({view:"folder",folderId:e,...r,...n?{folderViewTab:n}:{}})}(0,O.nF)((e,{index:r})=>{(0,i.sx)("Recent File Clicked",{index:r},{forwardToDatadog:!0})});let U=(0,O.nF)((e,{fileKey:r,entrypoint:n,currentPlanFilter:i,currentSharedByFilter:a,viewMode:o})=>{(0,m.k1)(r,{state:e.getState(),entrypoint:n,planFilterId:null==i?void 0:i.planId,planFilterType:null==i?void 0:i.planType,sharedByFilter:a,viewMode:o})});(0,O.nF)(e=>{(0,m.uE)("Font Installer Downloaded",e.getState())}),(0,O.nF)(e=>{(0,m.uE)("Font Uninstaller Downloaded",e.getState())});let B=(0,O.nF)((e,{clickedResourceType:r,resourceIdOrKey:n})=>{(0,m.uE)("File Browser Nav Tree Clicked",e.getState(),{clickedResourceType:r,resourceIdOrKey:n})});(0,O.nF)((e,{orgId:r,teamId:n},{loadingKey:i})=>{let a=C.p.getTrashedFilesV2({orgId:r||"",teamId:n||""});(0,y.N)(a,e,i),a.then(r=>{let n=JSON.parse(r.response);e.dispatch((0,R.pB)({deletedFiles:n.meta.files})),e.dispatch((0,R.pg)({deletedRepos:n.meta.repos}))})});let V=(0,O.nF)(async(e,{previousView:r,openInNewTab:n,onSubmitReturnToPrevView:i,isEduTeam:a,ignoreCurrentPlan:o})=>{let s=e.getState();if(n){let r=(0,E.xS)(s,{view:"teamCreation",ignoreCurrentPlan:o});e.dispatch(x({url:r}));return}let l=(0,d.hW)("starter_team_loophole_experiment_m0"),c=(0,d.hW)("starter_team_loophole_experiment_m1"),[u,p]=await Promise.all([l,c]);s.user&&(0,h.e5)({userId:s.user.id,teams:Object.values(s.teams),rolesByTeamId:s.roles.byTeamId,getM0Config:()=>u,getM1Config:()=>p})?e.dispatch((0,R.$T)({view:"teamUpgrade",teamFlowType:I.SC.CREATE_AND_UPGRADE,teamId:null,paymentStep:S.tn.PLAN_COMPARISON,previousView:r,isEduTeam:a,ignoreCurrentPlan:o})):s.user&&(0,h.Mk)(s.user.id,Object.values(s.teams),s.roles.byTeamId)?e.dispatch((0,R.$T)({view:"teamUpgrade",teamFlowType:I.SC.CREATE,teamId:null,paymentStep:S.tn.CREATE_TEAM,previousView:r,isEduTeam:a,ignoreCurrentPlan:o})):e.dispatch((0,R.$T)({view:"teamCreation",previousView:r,onSubmitReturnToPrevView:i,isEduTeam:a,ignoreCurrentPlan:o}))})},39423:(e,r,n)=>{"use strict";n.d(r,{lY:()=>ee,oj:()=>et,j0:()=>Q});var i=n(84934),a=n(80820),o=n(62275),s=n(50293),l=n(74105),d=n(20647),c=n(28467),u=n(84968),p=n(11855),h=n(88507),m=n(99737),g=n(38082),f=n(208),_=n(99569),y=n(46689),E=n(92766),b=n(71779),v=n(39863),S=n(92592),I=n(44682),T=n(38269),w=n(82656),C=n(56390),A=n(62531),N=n(79453),O=n(73131),R=n(39671),P=n(37870),L=n(88578),D=n(21112);function M(e){let r=(0,h.wA)(),[n,a]=p.useState(""),[s,l]=p.useState(!1),d=(0,h.d4)(e=>"fullscreen"===e.selectedView.view?e.selectedView.nodeId:void 0),c=(0,h.d4)(e=>"fullscreen"===e.selectedView.view),u=(0,m.Rs)(N.dDF,{key:e.sourceFileKey}),P=a=>{var p,h;if(a.preventDefault(),s)return;l(!0);let m=new g.jk("branch_created",{});m.start();let _=Promise.resolve();c&&(null==(h=null==(p=u.data)?void 0:p.file)?void 0:h.hasPermission)&&((0,A.l7)(A.zk.SYSTEM,"prune-derived-data",()=>{C.Y5.triggerAction("prune-derived-data")}),_=(0,O.m)(e.sourceFileKey,"","",r,!0)),_.then(()=>{f.Ay.post(`/api/multiplayer/${e.sourceFileKey}/branch_create?name=${encodeURIComponent(n)}`).then(e=>{let{file:n,source_file:a,repo:s}=e.data.meta;r(w.bE({repo:s})),r(I.yJ({file:a})),r(I.bE({file:n})),r(o.Ce()),r(T.$T({view:"fullscreen",fileKey:n.key,editorType:R.nT.Design,nodeId:d})),m.stop();let l=m.getElapsedTime();l&&(0,i.sx)("Branch Created",{fileKey:n.key,sourceFileKey:a.key,fileRepoId:n.file_repo_id,durationMs:l},{forwardToDatadog:!0})})}).catch(e=>{var n;l(!1);let i=(null==(n=null==e?void 0:e.data)?void 0:n.message)||"an error occurred";r(S.F.enqueue({message:`Unable to create branch: ${i}`,error:!0}))})};return p.createElement(L.aF,{size:296},p.createElement(_.s_,{dispatch:r}),p.createElement("div",{className:"branch_create_modal--container--s3J25"},p.createElement("div",{className:"branch_create_modal--header--uRzcD text--fontPos11--2LvXf text--_fontBase--QdLsd"},p.createElement(v.Tx,{id:"collaboration.branching_create.title"})),p.createElement(b.i,{displayAs:b.C.Block},p.createElement("form",{onSubmit:P},p.createElement(y.ks,{className:"branch_create_modal--input--USZQ9",autoFocus:!0,value:n,onChange:e=>{a(e.currentTarget.value)},dataTestId:"branch-create-modal-input"}),p.createElement("div",{className:D.v0},(s||"loading"===u.status)&&p.createElement(E.kt,{className:"branch_create_modal--loadingSpinner--D9-wX"}),p.createElement(y.e2,{reversed:!0},p.createElement(y.$$,{className:D.pL,type:"submit",onClick:P,disabled:n.length<1||s||"loading"===u.status,dataTestId:"branch-create-modal-submit"},p.createElement(v.Tx,{id:"collaboration.branching_create.create_button"})),p.createElement(y.nR,{className:D.Lu,onClick:()=>{r(o.Ce())}},p.createElement(v.Tx,{id:"collaboration.branching_create.cancel_button"}))))))))}M.displayName="BranchCreateModal";let k=(0,P.Ju)(M,"BranchCreateModal");var x=n(98977),F=n(24897),U=n(30949),B=n(43632),V=n(73944),H=n(43987),G=n(6193),W=n(92079);function z(){return p.createElement("svg",{width:"195",height:"150",viewBox:"0 0 195 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M133.649 1H4.65089C2.63456 1 1 2.62939 1 4.63934V145.361C1 147.371 2.63456 149 4.65089 149H133.649C135.665 149 137.3 147.371 137.3 145.361V4.63934C137.3 2.62939 135.665 1 133.649 1Z",fill:"white"}),p.createElement("path",{d:"M1 4.6375C1 2.62857 2.63096 1 4.64286 1H133.357C135.369 1 137 2.62856 137 4.6375V98H1V4.6375Z",fill:"black",fillOpacity:"0.05"}),p.createElement("g",{clipPath:"url(#clip0_5_7)"},p.createElement("path",{d:"M128.8 8H98.2C97.5373 8 97 8.50368 97 9.125V15.875C97 16.4963 97.5373 17 98.2 17H128.8C129.463 17 130 16.4963 130 15.875V9.125C130 8.50368 129.463 8 128.8 8Z",fill:"#1BC47D"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.193 12.1926V10H101.807V12.1926H104V12.8074H101.807V15H101.193V12.8074H99V12.1926H101.193Z",fill:"white"}),p.createElement("path",{d:"M107.61 14.8525H107L108.765 10H109.365L111.129 14.8525H110.52L109.084 10.7677H109.046L107.61 14.8525ZM107.835 12.957H110.294V13.4782H107.835V12.957ZM113.197 14.9283C112.896 14.9283 112.632 14.8517 112.402 14.6985C112.171 14.5437 111.991 14.3257 111.862 14.0445C111.732 13.7617 111.667 13.4277 111.667 13.0422C111.667 12.66 111.732 12.3283 111.862 12.0471C111.991 11.766 112.172 11.5488 112.404 11.3956C112.635 11.2424 112.902 11.1657 113.206 11.1657C113.441 11.1657 113.626 11.2052 113.762 11.2842C113.9 11.3616 114.005 11.45 114.077 11.5496C114.15 11.6475 114.207 11.7281 114.248 11.7912H114.295V10H114.849V14.8525H114.313V14.2933H114.248C114.207 14.3596 114.149 14.4433 114.074 14.5445C113.999 14.6439 113.892 14.7332 113.753 14.8122C113.614 14.8896 113.428 14.9283 113.197 14.9283ZM113.272 14.426C113.494 14.426 113.681 14.3675 113.835 14.2506C113.988 14.1322 114.105 13.9687 114.185 13.7602C114.264 13.5501 114.304 13.3076 114.304 13.0328C114.304 12.7611 114.265 12.5234 114.187 12.3196C114.109 12.1143 113.993 11.9548 113.839 11.841C113.686 11.7257 113.497 11.668 113.272 11.668C113.037 11.668 112.842 11.7289 112.685 11.8505C112.531 11.9705 112.414 12.134 112.335 12.3409C112.259 12.5463 112.221 12.7769 112.221 13.0328C112.221 13.2918 112.26 13.5272 112.338 13.7389C112.418 13.9489 112.535 14.1164 112.69 14.2412C112.847 14.3644 113.041 14.426 113.272 14.426ZM117.333 14.9283C117.033 14.9283 116.768 14.8517 116.538 14.6985C116.308 14.5437 116.128 14.3257 115.998 14.0445C115.868 13.7617 115.804 13.4277 115.804 13.0422C115.804 12.66 115.868 12.3283 115.998 12.0471C116.128 11.766 116.309 11.5488 116.541 11.3956C116.772 11.2424 117.039 11.1657 117.343 11.1657C117.577 11.1657 117.763 11.2052 117.899 11.2842C118.037 11.3616 118.141 11.45 118.213 11.5496C118.287 11.6475 118.344 11.7281 118.384 11.7912H118.431V10H118.985V14.8525H118.45V14.2933H118.384C118.344 14.3596 118.286 14.4433 118.211 14.5445C118.136 14.6439 118.029 14.7332 117.89 14.8122C117.75 14.8896 117.565 14.9283 117.333 14.9283ZM117.408 14.426C117.631 14.426 117.818 14.3675 117.971 14.2506C118.125 14.1322 118.242 13.9687 118.321 13.7602C118.401 13.5501 118.441 13.3076 118.441 13.0328C118.441 12.7611 118.402 12.5234 118.323 12.3196C118.245 12.1143 118.13 11.9548 117.976 11.841C117.823 11.7257 117.634 11.668 117.408 11.668C117.174 11.668 116.978 11.7289 116.822 11.8505C116.667 11.9705 116.551 12.134 116.472 12.3409C116.396 12.5463 116.357 12.7769 116.357 13.0328C116.357 13.2918 116.396 13.5272 116.474 13.7389C116.554 13.9489 116.671 14.1164 116.826 14.2412C116.983 14.3644 117.177 14.426 117.408 14.426ZM121.62 14.9283C121.273 14.9283 120.973 14.8509 120.722 14.6961C120.471 14.5397 120.278 14.3217 120.142 14.0422C120.007 13.761 119.94 13.434 119.94 13.0612C119.94 12.6884 120.007 12.3599 120.142 12.0756C120.278 11.7896 120.467 11.5669 120.71 11.4074C120.954 11.2463 121.239 11.1657 121.564 11.1657C121.752 11.1657 121.937 11.1973 122.12 11.2605C122.303 11.3237 122.469 11.4264 122.62 11.5685C122.77 11.7091 122.889 11.8955 122.979 12.1277C123.068 12.3599 123.112 12.6458 123.112 12.9854V13.2223H120.334V12.739H122.549C122.549 12.5337 122.508 12.3504 122.427 12.1893C122.347 12.0281 122.233 11.901 122.084 11.8078C121.938 11.7146 121.764 11.668 121.564 11.668C121.343 11.668 121.152 11.7233 120.991 11.8339C120.832 11.9429 120.709 12.085 120.623 12.2604C120.537 12.4357 120.494 12.6237 120.494 12.8243V13.1465C120.494 13.4213 120.541 13.6543 120.634 13.8455C120.73 14.035 120.862 14.1795 121.031 14.2791C121.2 14.377 121.397 14.426 121.62 14.426C121.765 14.426 121.897 14.4054 122.014 14.3644C122.133 14.3217 122.236 14.2585 122.322 14.1748C122.408 14.0895 122.474 13.9837 122.521 13.8573L123.056 14.009C123 14.1922 122.905 14.3533 122.772 14.4923C122.639 14.6297 122.475 14.7372 122.28 14.8145C122.084 14.8904 121.864 14.9283 121.62 14.9283ZM125.348 14.9283C125.048 14.9283 124.783 14.8517 124.553 14.6985C124.323 14.5437 124.143 14.3257 124.014 14.0445C123.884 13.7617 123.818 13.4277 123.818 13.0422C123.818 12.66 123.884 12.3283 124.014 12.0471C124.143 11.766 124.324 11.5488 124.555 11.3956C124.787 11.2424 125.055 11.1657 125.358 11.1657C125.593 11.1657 125.778 11.2052 125.914 11.2842C126.052 11.3616 126.156 11.45 126.228 11.5496C126.302 11.6475 126.359 11.7281 126.399 11.7912H126.446V10H127V14.8525H126.465V14.2933H126.399C126.359 14.3596 126.301 14.4433 126.226 14.5445C126.151 14.6439 126.044 14.7332 125.904 14.8122C125.765 14.8896 125.58 14.9283 125.348 14.9283ZM125.423 14.426C125.646 14.426 125.834 14.3675 125.987 14.2506C126.14 14.1322 126.256 13.9687 126.336 13.7602C126.416 13.5501 126.456 13.3076 126.456 13.0328C126.456 12.7611 126.417 12.5234 126.339 12.3196C126.261 12.1143 126.145 11.9548 125.992 11.841C125.838 11.7257 125.649 11.668 125.423 11.668C125.189 11.668 124.993 11.7289 124.837 11.8505C124.682 11.9705 124.566 12.134 124.488 12.3409C124.411 12.5463 124.372 12.7769 124.372 13.0328C124.372 13.2918 124.411 13.5272 124.49 13.7389C124.569 13.9489 124.687 14.1164 124.842 14.2412C124.998 14.3644 125.192 14.426 125.423 14.426Z",fill:"white"})),p.createElement("path",{d:"M136.692 97.4426H1.60855V98.0492H136.692V97.4426Z",fill:"#E6E6E6"}),p.createElement("path",{d:"M58 51.5299V46.25H60.0008C60.3885 46.25 60.7095 46.3119 60.9639 46.4356C61.2182 46.5576 61.4085 46.7235 61.5348 46.9332C61.661 47.1412 61.7242 47.3758 61.7242 47.637C61.7242 47.857 61.6824 48.0427 61.5988 48.1939C61.5152 48.3435 61.4032 48.4637 61.2627 48.5548C61.124 48.6442 60.971 48.7095 60.8038 48.7507V48.8023C60.9852 48.8109 61.1622 48.8676 61.3347 48.9725C61.509 49.0756 61.653 49.2226 61.7669 49.4133C61.8807 49.6041 61.9376 49.8361 61.9376 50.1094C61.9376 50.3792 61.8718 50.6216 61.7402 50.8364C61.6104 51.0496 61.4094 51.2189 61.1373 51.3443C60.8652 51.468 60.5175 51.5299 60.0942 51.5299H58ZM58.8244 50.8467H60.0141C60.409 50.8467 60.6918 50.7729 60.8625 50.6251C61.0333 50.4772 61.1186 50.2924 61.1186 50.0708C61.1186 49.904 61.075 49.7511 60.9879 49.6118C60.9007 49.4726 60.7763 49.3618 60.6144 49.2793C60.4544 49.1968 60.2641 49.1555 60.0435 49.1555H58.8244V50.8467ZM58.8244 48.5342H59.9288C60.1137 48.5342 60.2801 48.4998 60.4276 48.4311C60.5771 48.3623 60.6953 48.2661 60.7825 48.1424C60.8714 48.0169 60.9159 47.8691 60.9159 47.6989C60.9159 47.4806 60.8367 47.2976 60.6784 47.1497C60.5202 47.0019 60.2774 46.9281 59.9502 46.9281H58.8244V48.5342ZM65.4844 49.8877V47.57H66.2851V51.5299H65.5006V50.8442H65.4581C65.3635 51.0556 65.2127 51.2317 65.0042 51.3727C64.7982 51.5119 64.5409 51.5815 64.2335 51.5815C63.97 51.5815 63.7371 51.5256 63.5343 51.4139C63.3333 51.3005 63.1749 51.1329 63.0597 50.9112C62.9458 50.6895 62.8888 50.4154 62.8888 50.0888V47.57H63.6864V49.996C63.6864 50.2658 63.764 50.4806 63.9187 50.6405C64.0733 50.8003 64.2742 50.8802 64.5215 50.8802C64.6711 50.8802 64.8195 50.8442 64.9673 50.772C65.1163 50.6998 65.2402 50.5906 65.3379 50.4446C65.4374 50.2985 65.4862 50.1129 65.4844 49.8877ZM69.3069 47.57V48.1888H67.0689V47.57H69.3069ZM67.6692 46.6213H68.4668V50.3672C68.4668 50.5168 68.49 50.6293 68.5363 50.705C68.5826 50.7788 68.6421 50.8295 68.7147 50.8571C68.7898 50.8828 68.8706 50.8957 68.9576 50.8957C69.0215 50.8957 69.0778 50.8914 69.1254 50.8828C69.1736 50.8742 69.2111 50.8674 69.2374 50.8622L69.3821 51.499C69.3357 51.5162 69.27 51.5334 69.1842 51.5506C69.0991 51.5694 68.992 51.5798 68.8643 51.5815C68.6546 51.5849 68.4587 51.5488 68.2771 51.4732C68.0962 51.3976 67.9491 51.2807 67.837 51.1226C67.7249 50.9645 67.6692 50.766 67.6692 50.527V46.6213ZM72.1397 47.57V48.1888H69.9017V47.57H72.1397ZM70.502 46.6213H71.2996V50.3672C71.2996 50.5168 71.3228 50.6293 71.3691 50.705C71.4148 50.7788 71.4749 50.8295 71.5475 50.8571C71.622 50.8828 71.7034 50.8957 71.7904 50.8957C71.8543 50.8957 71.9106 50.8914 71.9582 50.8828C72.0064 50.8742 72.0439 50.8674 72.0702 50.8622L72.2142 51.499C72.1685 51.5162 72.1022 51.5334 72.017 51.5506C71.9319 51.5694 71.8248 51.5798 71.6971 51.5815C71.4868 51.5849 71.2915 51.5488 71.1099 51.4732C70.9284 51.3976 70.7819 51.2807 70.6698 51.1226C70.5577 50.9645 70.502 50.766 70.502 50.527V46.6213ZM74.7415 51.6099C74.3578 51.6099 74.0222 51.5248 73.7361 51.3546C73.4494 51.1845 73.2272 50.9464 73.0688 50.6405C72.911 50.3345 72.8315 49.9771 72.8315 49.568C72.8315 49.1572 72.911 48.798 73.0688 48.4904C73.2272 48.1827 73.4494 47.9438 73.7361 47.7737C74.0222 47.6035 74.3578 47.5184 74.7415 47.5184C75.1259 47.5184 75.4608 47.6035 75.7476 47.7737C76.0337 47.9438 76.2559 48.1827 76.4143 48.4904C76.5727 48.798 76.6516 49.1572 76.6516 49.568C76.6516 49.9771 76.5727 50.3345 76.4143 50.6405C76.2559 50.9464 76.0337 51.1845 75.7476 51.3546C75.4608 51.5248 75.1259 51.6099 74.7415 51.6099ZM74.7447 50.9628C74.9932 50.9628 75.1998 50.8992 75.3632 50.772C75.5272 50.6448 75.648 50.4755 75.7263 50.2641C75.8064 50.0527 75.8459 49.8198 75.8459 49.5654C75.8459 49.3128 75.8064 49.0808 75.7263 48.8694C75.648 48.6562 75.5272 48.4852 75.3632 48.3563C75.1998 48.2274 74.9932 48.163 74.7447 48.163C74.4936 48.163 74.2858 48.2274 74.1199 48.3563C73.9565 48.4852 73.8344 48.6562 73.7549 48.8694C73.6766 49.0808 73.6372 49.3128 73.6372 49.5654C73.6372 49.8198 73.6766 50.0527 73.7549 50.2641C73.8344 50.4755 73.9565 50.6448 74.1199 50.772C74.2858 50.8992 74.4936 50.9628 74.7447 50.9628ZM78.3775 49.1787V51.5299H77.58V47.57H78.3456V48.2145H78.3963C78.4902 48.0048 78.638 47.8364 78.8389 47.7092C79.0418 47.582 79.2972 47.5184 79.6046 47.5184C79.8838 47.5184 80.1286 47.5752 80.3383 47.6886C80.548 47.8003 80.7108 47.967 80.8266 48.1888C80.9418 48.4104 81 48.6846 81 49.0111V51.5299H80.2024V49.104C80.2024 48.8169 80.1248 48.5926 79.9702 48.4311C79.8155 48.2678 79.6027 48.1862 79.3322 48.1862C79.1476 48.1862 78.9829 48.2248 78.8389 48.3022C78.6968 48.3795 78.5835 48.4929 78.5002 48.6425C78.4182 48.7903 78.3775 48.969 78.3775 49.1787Z",fill:"black",fillOpacity:"0.8"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M79.6522 40.5H58.3478C53.4126 40.5 49.5 44.3535 49.5 49C49.5 53.6465 53.4126 57.5 58.3478 57.5H79.6522C84.5874 57.5 88.5 53.6465 88.5 49C88.5 44.3535 84.5874 40.5 79.6522 40.5ZM58.3478 39H79.6522C85.3671 39 90 43.4772 90 49C90 54.5228 85.3671 59 79.6522 59H58.3478C52.6329 59 48 54.5228 48 49C48 43.4772 52.6329 39 58.3478 39Z",fill:"black",fillOpacity:"0.8"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3583 107.635L13 106L14.6417 107.635L13 109.27L11.3583 107.635ZM10.635 111.641L9 110L10.635 108.359L12.2698 110L10.635 111.641ZM14.6417 112.365L13 114L11.3583 112.365L13 110.73L14.6417 112.365ZM17 110L15.365 108.359L13.7302 110L15.365 111.641L17 110Z",fill:"black",fillOpacity:"0.8"}),p.createElement("path",{d:"M22 112.607V107.754H23.7827C24.1281 107.754 24.4142 107.811 24.6408 107.925C24.8673 108.037 25.0369 108.189 25.1494 108.382C25.2619 108.573 25.3181 108.789 25.3181 109.029C25.3181 109.231 25.2809 109.402 25.2064 109.54C25.1319 109.678 25.0321 109.788 24.907 109.872C24.7833 109.955 24.6471 110.015 24.4981 110.052V110.1C24.6597 110.108 24.8174 110.16 24.9711 110.256C25.1264 110.351 25.2548 110.486 25.3561 110.661C25.4576 110.837 25.5083 111.05 25.5083 111.301C25.5083 111.549 25.4497 111.772 25.3324 111.969C25.2167 112.165 25.0377 112.321 24.7952 112.436C24.5528 112.55 24.243 112.607 23.8659 112.607H22ZM22.7344 111.979H23.7945C24.1464 111.979 24.3983 111.911 24.5504 111.775C24.7025 111.639 24.7786 111.469 24.7786 111.265C24.7786 111.112 24.7398 110.972 24.6621 110.844C24.5845 110.716 24.4735 110.614 24.3293 110.538C24.1868 110.462 24.0172 110.424 23.8207 110.424H22.7344V111.979ZM22.7344 109.853H23.7185C23.8833 109.853 24.0314 109.822 24.163 109.759C24.296 109.696 24.4014 109.607 24.4791 109.493C24.5583 109.378 24.5979 109.242 24.5979 109.085C24.5979 108.885 24.5275 108.717 24.3864 108.581C24.2454 108.445 24.029 108.377 23.7375 108.377H22.7344V109.853ZM28.6685 111.097V108.967H29.3816V112.607H28.6828V111.976H28.6447C28.5608 112.17 28.4261 112.332 28.2407 112.462C28.0569 112.59 27.8279 112.654 27.5538 112.654C27.3193 112.654 27.1117 112.602 26.931 112.5C26.752 112.395 26.611 112.241 26.5079 112.038C26.4066 111.834 26.3558 111.582 26.3558 111.282V108.967H27.0665V111.197C27.0665 111.445 27.1355 111.642 27.2733 111.789C27.4112 111.936 27.5902 112.01 27.8105 112.01C27.9436 112.01 28.0759 111.976 28.2074 111.91C28.3405 111.844 28.4506 111.743 28.5378 111.609C28.6266 111.475 28.6701 111.304 28.6685 111.097ZM32.0742 108.967V109.536H30.08V108.967H32.0742ZM30.6148 108.095H31.3255V111.538C31.3255 111.675 31.3461 111.779 31.3873 111.848C31.4285 111.916 31.4816 111.963 31.5465 111.988C31.6131 112.012 31.6852 112.024 31.7629 112.024C31.8199 112.024 31.8698 112.02 31.9126 112.012C31.9554 112.004 31.9887 111.998 32.0124 111.993L32.1408 112.578C32.0996 112.594 32.0409 112.61 31.9649 112.625C31.8888 112.643 31.7938 112.653 31.6797 112.654C31.4927 112.657 31.3184 112.624 31.1567 112.554C30.9951 112.485 30.8644 112.377 30.7646 112.232C30.6647 112.087 30.6148 111.904 30.6148 111.685V108.095ZM34.5981 108.967V109.536H32.6038V108.967H34.5981ZM33.1386 108.095H33.8493V111.538C33.8493 111.675 33.87 111.779 33.9112 111.848C33.9524 111.916 34.0054 111.963 34.0704 111.988C34.137 112.012 34.209 112.024 34.2867 112.024C34.3437 112.024 34.3936 112.02 34.4364 112.012C34.4792 112.004 34.5125 111.998 34.5363 111.993L34.6646 112.578C34.6234 112.594 34.5648 112.61 34.4887 112.625C34.4127 112.643 34.3176 112.653 34.2035 112.654C34.0165 112.657 33.8422 112.624 33.6806 112.554C33.5189 112.485 33.3882 112.377 33.2884 112.232C33.1886 112.087 33.1386 111.904 33.1386 111.685V108.095ZM36.9163 112.68C36.5741 112.68 36.2754 112.602 36.0202 112.445C35.7651 112.289 35.567 112.07 35.426 111.789C35.285 111.508 35.2145 111.179 35.2145 110.803C35.2145 110.426 35.285 110.096 35.426 109.813C35.567 109.53 35.7651 109.311 36.0202 109.155C36.2754 108.998 36.5741 108.92 36.9163 108.92C37.2586 108.92 37.5572 108.998 37.8124 109.155C38.0675 109.311 38.2656 109.53 38.4066 109.813C38.5476 110.096 38.6181 110.426 38.6181 110.803C38.6181 111.179 38.5476 111.508 38.4066 111.789C38.2656 112.07 38.0675 112.289 37.8124 112.445C37.5572 112.602 37.2586 112.68 36.9163 112.68ZM36.9187 112.086C37.1405 112.086 37.3243 112.027 37.4701 111.91C37.6159 111.793 37.7237 111.637 37.7934 111.443C37.8647 111.249 37.9003 111.035 37.9003 110.801C37.9003 110.569 37.8647 110.356 37.7934 110.162C37.7237 109.966 37.6159 109.808 37.4701 109.69C37.3243 109.571 37.1405 109.512 36.9187 109.512C36.6953 109.512 36.5099 109.571 36.3625 109.69C36.2167 109.808 36.1081 109.966 36.0368 110.162C35.9672 110.356 35.9323 110.569 35.9323 110.801C35.9323 111.035 35.9672 111.249 36.0368 111.443C36.1081 111.637 36.2167 111.793 36.3625 111.91C36.5099 112.027 36.6953 112.086 36.9187 112.086ZM40.1556 110.445V112.607H39.4449V108.967H40.127V109.56H40.1722C40.2562 109.367 40.3877 109.212 40.5668 109.095C40.7475 108.978 40.9748 108.92 41.249 108.92C41.4977 108.92 41.7156 108.972 41.9026 109.076C42.0896 109.179 42.2346 109.332 42.3375 109.536C42.4406 109.739 42.4921 109.992 42.4921 110.292V112.607H41.7814V110.377C41.7814 110.113 41.7125 109.907 41.5746 109.759C41.4367 109.608 41.2474 109.534 41.0065 109.534C40.8417 109.534 40.6951 109.569 40.5668 109.64C40.4401 109.711 40.3394 109.815 40.2649 109.953C40.192 110.089 40.1556 110.253 40.1556 110.445Z",fill:"black",fillOpacity:"0.8"}),p.createElement("path",{d:"M12.1303 121.194H12.8672V124.386C12.8672 124.725 12.7872 125.026 12.6271 125.288C12.4671 125.549 12.2421 125.754 11.9521 125.905C11.6621 126.053 11.3222 126.127 10.9324 126.127C10.5442 126.127 10.2051 126.053 9.9151 125.905C9.62516 125.754 9.40014 125.549 9.24005 125.288C9.08002 125.026 9 124.725 9 124.386V121.194H9.73444V124.326C9.73444 124.546 9.78281 124.741 9.87944 124.912C9.97771 125.082 10.1163 125.217 10.2954 125.314C10.4745 125.411 10.6868 125.459 10.9324 125.459C11.1796 125.459 11.3927 125.411 11.5718 125.314C11.7524 125.217 11.8903 125.082 11.9854 124.912C12.082 124.741 12.1303 124.546 12.1303 124.326V121.194ZM13.9114 127.411V122.407H14.6055V122.997H14.6649C14.7061 122.922 14.7656 122.834 14.8432 122.734C14.9208 122.635 15.0285 122.548 15.1664 122.473C15.3043 122.398 15.4865 122.36 15.7131 122.36C16.0078 122.36 16.2709 122.434 16.5022 122.583C16.7336 122.731 16.915 122.945 17.0466 123.225C17.1796 123.504 17.2462 123.841 17.2462 124.234C17.2462 124.627 17.1804 124.964 17.0489 125.246C16.9174 125.526 16.7367 125.741 16.507 125.892C16.2772 126.042 16.0149 126.118 15.7203 126.118C15.4984 126.118 15.317 126.081 15.1759 126.007C15.0365 125.932 14.9272 125.845 14.8479 125.746C14.7687 125.646 14.7077 125.558 14.6649 125.48H14.6221V127.411H13.9114ZM14.6078 124.227C14.6078 124.483 14.6451 124.707 14.7196 124.9C14.794 125.092 14.9018 125.243 15.0428 125.352C15.1839 125.46 15.3566 125.513 15.561 125.513C15.7733 125.513 15.9508 125.458 16.0934 125.345C16.236 125.231 16.3438 125.077 16.4167 124.883C16.4911 124.689 16.5284 124.47 16.5284 124.227C16.5284 123.987 16.4919 123.771 16.419 123.58C16.3477 123.389 16.24 123.238 16.0958 123.128C15.9532 123.017 15.7749 122.962 15.561 122.962C15.355 122.962 15.1807 123.014 15.0381 123.121C14.897 123.226 14.7901 123.374 14.7172 123.563C14.6443 123.753 14.6078 123.974 14.6078 124.227ZM19.4427 126.118C19.1479 126.118 18.8849 126.042 18.6535 125.892C18.4237 125.741 18.2431 125.526 18.1116 125.246C17.9816 124.964 17.9167 124.627 17.9167 124.234C17.9167 123.841 17.9824 123.504 18.114 123.225C18.247 122.945 18.4293 122.731 18.6606 122.583C18.892 122.434 19.1542 122.36 19.4474 122.36C19.674 122.36 19.8562 122.398 19.9941 122.473C20.1335 122.548 20.2413 122.635 20.3173 122.734C20.395 122.834 20.4552 122.922 20.4979 122.997H20.5408V121.194H21.2514V126.047H20.5574V125.48H20.4979C20.4552 125.558 20.3934 125.646 20.3126 125.746C20.2333 125.845 20.124 125.932 19.9846 126.007C19.8451 126.081 19.6644 126.118 19.4427 126.118ZM19.5995 125.513C19.8039 125.513 19.9767 125.46 20.1176 125.352C20.2603 125.243 20.368 125.092 20.4409 124.9C20.5154 124.707 20.5526 124.483 20.5526 124.227C20.5526 123.974 20.5162 123.753 20.4433 123.563C20.3704 123.374 20.2634 123.226 20.1224 123.121C19.9814 123.014 19.8071 122.962 19.5995 122.962C19.3856 122.962 19.2073 123.017 19.0647 123.128C18.9221 123.238 18.8143 123.389 18.7414 123.58C18.6701 123.771 18.6345 123.987 18.6345 124.227C18.6345 124.47 18.6709 124.689 18.7438 124.883C18.8167 125.077 18.9245 125.231 19.0671 125.345C19.2113 125.458 19.3887 125.513 19.5995 125.513ZM23.3617 126.127C23.1304 126.127 22.9212 126.085 22.7342 125.999C22.5473 125.913 22.3991 125.787 22.2897 125.623C22.182 125.458 22.1281 125.257 22.1281 125.018C22.1281 124.813 22.1677 124.644 22.247 124.511C22.3262 124.379 22.4332 124.274 22.5678 124.196C22.7025 124.119 22.8531 124.06 23.0194 124.021C23.1858 123.981 23.3554 123.952 23.5281 123.931C23.7468 123.905 23.9242 123.885 24.0605 123.869C24.1968 123.852 24.2958 123.824 24.3576 123.786C24.4194 123.748 24.4503 123.686 24.4503 123.602V123.585C24.4503 123.378 24.3917 123.218 24.2744 123.104C24.1588 122.99 23.986 122.933 23.7562 122.933C23.517 122.933 23.3284 122.986 23.1906 123.092C23.0543 123.196 22.96 123.312 22.9077 123.44L22.2398 123.289C22.3191 123.068 22.4347 122.889 22.5869 122.753C22.7406 122.616 22.9172 122.516 23.1169 122.455C23.3166 122.391 23.5265 122.36 23.7468 122.36C23.8925 122.36 24.047 122.377 24.2102 122.412C24.3751 122.445 24.5288 122.507 24.6714 122.596C24.8156 122.687 24.9336 122.815 25.0255 122.983C25.1174 123.149 25.1634 123.364 25.1634 123.63V126.047H24.4693V125.549H24.4408C24.3948 125.641 24.3259 125.731 24.234 125.819C24.1421 125.908 24.024 125.981 23.8799 126.039C23.7357 126.098 23.5629 126.127 23.3617 126.127ZM23.5162 125.558C23.7127 125.558 23.8807 125.52 24.0201 125.442C24.1611 125.365 24.2681 125.264 24.341 125.139C24.4155 125.013 24.4527 124.878 24.4527 124.734V124.264C24.4273 124.29 24.3782 124.314 24.3053 124.336C24.234 124.357 24.1524 124.374 24.0605 124.391C23.9686 124.405 23.8791 124.418 23.7919 124.431C23.7048 124.442 23.6319 124.451 23.5733 124.459C23.4354 124.476 23.3094 124.506 23.1953 124.547C23.0828 124.588 22.9925 124.647 22.9244 124.724C22.8578 124.8 22.8245 124.901 22.8245 125.028C22.8245 125.203 22.8895 125.336 23.0194 125.426C23.1493 125.514 23.315 125.558 23.5162 125.558ZM27.8477 122.407V122.976H25.8534V122.407H27.8477ZM26.3883 121.535H27.0989V124.978C27.0989 125.116 27.1196 125.219 27.1608 125.288C27.202 125.356 27.255 125.403 27.32 125.428C27.3866 125.452 27.4587 125.464 27.5363 125.464C27.5933 125.464 27.6433 125.46 27.6861 125.452C27.7288 125.444 27.7621 125.438 27.7859 125.433L27.9142 126.018C27.8731 126.034 27.8144 126.05 27.7383 126.065C27.6623 126.083 27.5672 126.093 27.4531 126.094C27.2662 126.097 27.0918 126.064 26.9302 125.994C26.7686 125.925 26.6378 125.817 26.538 125.672C26.4382 125.527 26.3883 125.344 26.3883 125.125V121.535ZM30.2016 126.12C29.8419 126.12 29.5321 126.044 29.2722 125.89C29.0139 125.735 28.8143 125.518 28.6732 125.239C28.5338 124.957 28.4641 124.628 28.4641 124.251C28.4641 123.878 28.5338 123.549 28.6732 123.265C28.8143 122.98 29.0107 122.758 29.2627 122.599C29.5163 122.439 29.8125 122.36 30.1516 122.36C30.3577 122.36 30.5573 122.394 30.7506 122.462C30.9439 122.53 31.1175 122.636 31.2712 122.781C31.4249 122.927 31.5461 123.116 31.6348 123.348C31.7236 123.578 31.7679 123.859 31.7679 124.189V124.44H28.8658V123.91H31.0715C31.0715 123.723 31.0335 123.558 30.9575 123.414C30.8814 123.269 30.7744 123.154 30.6365 123.071C30.5003 122.987 30.3402 122.945 30.1564 122.945C29.9567 122.945 29.7825 122.994 29.6335 123.092C29.4861 123.188 29.372 123.315 29.2912 123.471C29.212 123.626 29.1724 123.794 29.1724 123.976V124.391C29.1724 124.634 29.2152 124.841 29.3007 125.011C29.3879 125.182 29.5091 125.312 29.6644 125.402C29.8197 125.49 30.0011 125.535 30.2087 125.535C30.3434 125.535 30.4662 125.516 30.5771 125.478C30.688 125.438 30.7839 125.38 30.8647 125.302C30.9455 125.225 31.0073 125.129 31.0501 125.016L31.7228 125.137C31.6689 125.334 31.5723 125.507 31.4328 125.655C31.2949 125.803 31.1214 125.917 30.9122 125.999C30.7047 126.08 30.4678 126.12 30.2016 126.12ZM33.9567 126.118C33.6619 126.118 33.3989 126.042 33.1675 125.892C32.9378 125.741 32.7571 125.526 32.6256 125.246C32.4956 124.964 32.4307 124.627 32.4307 124.234C32.4307 123.841 32.4964 123.504 32.628 123.225C32.7611 122.945 32.9433 122.731 33.1746 122.583C33.406 122.434 33.6682 122.36 33.9614 122.36C34.188 122.36 34.3702 122.398 34.5081 122.473C34.6475 122.548 34.7553 122.635 34.8314 122.734C34.909 122.834 34.9692 122.922 35.012 122.997H35.0548V121.194H35.7654V126.047H35.0714V125.48H35.012C34.9692 125.558 34.9074 125.646 34.8266 125.746C34.7474 125.845 34.638 125.932 34.4986 126.007C34.3591 126.081 34.1785 126.118 33.9567 126.118ZM34.1135 125.513C34.3179 125.513 34.4907 125.46 34.6317 125.352C34.7743 125.243 34.882 125.092 34.9549 124.9C35.0294 124.707 35.0667 124.483 35.0667 124.227C35.0667 123.974 35.0302 123.753 34.9573 123.563C34.8844 123.374 34.7774 123.226 34.6365 123.121C34.4954 123.014 34.3211 122.962 34.1135 122.962C33.8996 122.962 33.7214 123.017 33.5787 123.128C33.4361 123.238 33.3283 123.389 33.2554 123.58C33.1841 123.771 33.1485 123.987 33.1485 124.227C33.1485 124.47 33.1849 124.689 33.2578 124.883C33.3307 125.077 33.4385 125.231 33.5811 125.345C33.7253 125.458 33.9027 125.513 34.1135 125.513ZM38.6181 127.411V122.407H39.3122V122.997H39.3715C39.4127 122.922 39.4722 122.834 39.5498 122.734C39.6275 122.635 39.7352 122.548 39.8731 122.473C40.0109 122.398 40.1932 122.36 40.4198 122.36C40.7145 122.36 40.9776 122.434 41.2089 122.583C41.4403 122.731 41.6217 122.945 41.7532 123.225C41.8863 123.504 41.9528 123.841 41.9528 124.234C41.9528 124.627 41.8871 124.964 41.7556 125.246C41.6241 125.526 41.4434 125.741 41.2137 125.892C40.9839 126.042 40.7216 126.118 40.4269 126.118C40.205 126.118 40.0237 126.081 39.8826 126.007C39.7431 125.932 39.6338 125.845 39.5546 125.746C39.4754 125.646 39.4144 125.558 39.3715 125.48H39.3288V127.411H38.6181ZM39.3145 124.227C39.3145 124.483 39.3518 124.707 39.4262 124.9C39.5007 125.092 39.6085 125.243 39.7495 125.352C39.8905 125.46 40.0633 125.513 40.2677 125.513C40.48 125.513 40.6574 125.458 40.8001 125.345C40.9427 125.231 41.0505 125.077 41.1233 124.883C41.1978 124.689 41.235 124.47 41.235 124.227C41.235 123.987 41.1986 123.771 41.1257 123.58C41.0544 123.389 40.9467 123.238 40.8024 123.128C40.6598 123.017 40.4816 122.962 40.2677 122.962C40.0617 122.962 39.8874 123.014 39.7447 123.121C39.6037 123.226 39.4968 123.374 39.4239 123.563C39.351 123.753 39.3145 123.974 39.3145 124.227ZM43.845 126.127C43.6137 126.127 43.4046 126.085 43.2176 125.999C43.0306 125.913 42.8824 125.787 42.7731 125.623C42.6653 125.458 42.6115 125.257 42.6115 125.018C42.6115 124.813 42.6511 124.644 42.7303 124.511C42.8095 124.379 42.9165 124.274 43.0512 124.196C43.1859 124.119 43.3364 124.06 43.5028 124.021C43.6692 123.981 43.8387 123.952 44.0115 123.931C44.2301 123.905 44.4076 123.885 44.5439 123.869C44.6801 123.852 44.7792 123.824 44.8409 123.786C44.9028 123.748 44.9337 123.686 44.9337 123.602V123.585C44.9337 123.378 44.875 123.218 44.7578 123.104C44.6421 122.99 44.4694 122.933 44.2396 122.933C44.0003 122.933 43.8118 122.986 43.6739 123.092C43.5376 123.196 43.4434 123.312 43.3911 123.44L42.7232 123.289C42.8024 123.068 42.9181 122.889 43.0702 122.753C43.2239 122.616 43.4006 122.516 43.6003 122.455C43.7999 122.391 44.0098 122.36 44.2301 122.36C44.3759 122.36 44.5304 122.377 44.6936 122.412C44.8584 122.445 45.0121 122.507 45.1547 122.596C45.2989 122.687 45.4169 122.815 45.5089 122.983C45.6008 123.149 45.6468 123.364 45.6468 123.63V126.047H44.9527V125.549H44.9242C44.8782 125.641 44.8092 125.731 44.7174 125.819C44.6255 125.908 44.5074 125.981 44.3632 126.039C44.219 126.098 44.0463 126.127 43.845 126.127ZM43.9995 125.558C44.196 125.558 44.364 125.52 44.5034 125.442C44.6445 125.365 44.7514 125.264 44.8243 125.139C44.8988 125.013 44.9361 124.878 44.9361 124.734V124.264C44.9107 124.29 44.8616 124.314 44.7887 124.336C44.7174 124.357 44.6358 124.374 44.5439 124.391C44.4519 124.405 44.3624 124.418 44.2752 124.431C44.1881 124.442 44.1152 124.451 44.0566 124.459C43.9187 124.476 43.7928 124.506 43.6787 124.547C43.5662 124.588 43.4758 124.647 43.4077 124.724C43.3412 124.8 43.3079 124.901 43.3079 125.028C43.3079 125.203 43.3729 125.336 43.5028 125.426C43.6327 125.514 43.7983 125.558 43.9995 125.558ZM47.9935 126.118C47.6987 126.118 47.4357 126.042 47.2044 125.892C46.9746 125.741 46.794 125.526 46.6624 125.246C46.5325 124.964 46.4675 124.627 46.4675 124.234C46.4675 123.841 46.5333 123.504 46.6648 123.225C46.7979 122.945 46.9801 122.731 47.2115 122.583C47.4429 122.434 47.7051 122.36 47.9982 122.36C48.2248 122.36 48.4071 122.398 48.545 122.473C48.6844 122.548 48.7921 122.635 48.8682 122.734C48.9458 122.834 49.0061 122.922 49.0488 122.997H49.0916V121.194H49.8023V126.047H49.1082V125.48H49.0488C49.0061 125.558 48.9442 125.646 48.8634 125.746C48.7842 125.845 48.6749 125.932 48.5354 126.007C48.396 126.081 48.2153 126.118 47.9935 126.118ZM48.1504 125.513C48.3548 125.513 48.5275 125.46 48.6685 125.352C48.8112 125.243 48.9189 125.092 48.9918 124.9C49.0662 124.707 49.1035 124.483 49.1035 124.227C49.1035 123.974 49.067 123.753 48.9941 123.563C48.9212 123.374 48.8143 123.226 48.6733 123.121C48.5322 123.014 48.358 122.962 48.1504 122.962C47.9365 122.962 47.7582 123.017 47.6156 123.128C47.4729 123.238 47.3652 123.389 47.2923 123.58C47.221 123.771 47.1854 123.987 47.1854 124.227C47.1854 124.47 47.2218 124.689 47.2947 124.883C47.3676 125.077 47.4753 125.231 47.6179 125.345C47.7621 125.458 47.9396 125.513 48.1504 125.513ZM52.2168 126.118C51.9221 126.118 51.6591 126.042 51.4277 125.892C51.1979 125.741 51.0173 125.526 50.8858 125.246C50.7558 124.964 50.6908 124.627 50.6908 124.234C50.6908 123.841 50.7566 123.504 50.8882 123.225C51.0212 122.945 51.2035 122.731 51.4348 122.583C51.6662 122.434 51.9284 122.36 52.2216 122.36C52.4482 122.36 52.6304 122.398 52.7683 122.473C52.9077 122.548 53.0155 122.635 53.0915 122.734C53.1692 122.834 53.2294 122.922 53.2721 122.997H53.3149V121.194H54.0256V126.047H53.3316V125.48H53.2721C53.2294 125.558 53.1676 125.646 53.0867 125.746C53.0075 125.845 52.8982 125.932 52.7588 126.007C52.6193 126.081 52.4386 126.118 52.2168 126.118ZM52.3737 125.513C52.5781 125.513 52.7509 125.46 52.8918 125.352C53.0345 125.243 53.1422 125.092 53.2151 124.9C53.2896 124.707 53.3268 124.483 53.3268 124.227C53.3268 123.974 53.2904 123.753 53.2175 123.563C53.1446 123.374 53.0376 123.226 52.8966 123.121C52.7556 123.014 52.5813 122.962 52.3737 122.962C52.1598 122.962 51.9815 123.017 51.8389 123.128C51.6963 123.238 51.5885 123.389 51.5156 123.58C51.4443 123.771 51.4087 123.987 51.4087 124.227C51.4087 124.47 51.4451 124.689 51.518 124.883C51.5909 125.077 51.6987 125.231 51.8413 125.345C51.9854 125.458 52.1629 125.513 52.3737 125.513ZM55.0734 126.047V122.407H55.7841V126.047H55.0734ZM55.4323 121.846C55.3087 121.846 55.2026 121.805 55.1138 121.722C55.0267 121.639 54.9831 121.539 54.9831 121.424C54.9831 121.307 55.0267 121.207 55.1138 121.126C55.2026 121.042 55.3087 121 55.4323 121C55.556 121 55.6613 121.042 55.7485 121.126C55.8372 121.207 55.8816 121.307 55.8816 121.424C55.8816 121.539 55.8372 121.639 55.7485 121.722C55.6613 121.805 55.556 121.846 55.4323 121.846ZM57.4844 123.885V126.047H56.7737V122.407H57.4558V123H57.501C57.585 122.807 57.7165 122.652 57.8956 122.535C58.0762 122.418 58.3036 122.36 58.5777 122.36C58.8265 122.36 59.0444 122.412 59.2314 122.516C59.4184 122.619 59.5634 122.772 59.6664 122.976C59.7693 123.179 59.8209 123.432 59.8209 123.732V126.047H59.1102V123.817C59.1102 123.553 59.0412 123.347 58.9034 123.199C58.7655 123.048 58.5762 122.974 58.3353 122.974C58.1705 122.974 58.0239 123.009 57.8956 123.08C57.7688 123.151 57.6682 123.255 57.5937 123.393C57.5208 123.529 57.4844 123.693 57.4844 123.885ZM62.3384 127.487C62.0482 127.487 61.7987 127.45 61.5894 127.374C61.3819 127.298 61.2123 127.197 61.0808 127.072C60.9492 126.948 60.851 126.811 60.786 126.663L61.3969 126.412C61.4397 126.481 61.4968 126.554 61.5681 126.632C61.641 126.711 61.739 126.778 61.8626 126.833C61.9879 126.888 62.1486 126.916 62.3451 126.916C62.6147 126.916 62.8374 126.851 63.0132 126.719C63.1891 126.59 63.2773 126.383 63.2773 126.099V125.383H63.2317C63.1891 125.461 63.127 125.547 63.0467 125.641C62.967 125.736 62.8581 125.819 62.7187 125.888C62.5788 125.957 62.3974 125.992 62.1741 125.992C61.8857 125.992 61.6259 125.925 61.3945 125.791C61.1648 125.655 60.9825 125.455 60.8479 125.191C60.7147 124.926 60.6482 124.6 60.6482 124.213C60.6482 123.826 60.7139 123.494 60.8455 123.218C60.9786 122.941 61.1608 122.729 61.3922 122.583C61.6235 122.434 61.8857 122.36 62.179 122.36C62.4053 122.36 62.5885 122.398 62.7278 122.473C62.8672 122.548 62.9761 122.635 63.0534 122.734C63.1331 122.834 63.1939 122.922 63.2365 122.997H63.2889V122.407H63.9856V126.127C63.9856 126.44 63.9125 126.697 63.7665 126.897C63.6211 127.098 63.4233 127.246 63.1751 127.343C62.9274 127.439 62.6487 127.487 62.3384 127.487ZM62.3311 125.404C62.5356 125.404 62.7084 125.357 62.8489 125.262C62.9919 125.166 63.0996 125.029 63.1726 124.85C63.2469 124.67 63.284 124.454 63.284 124.203C63.284 123.958 63.2475 123.743 63.1751 123.557C63.1021 123.37 62.995 123.225 62.8538 123.121C62.7126 123.014 62.5386 122.962 62.3311 122.962C62.1169 122.962 61.9386 123.017 61.7962 123.128C61.6536 123.236 61.5459 123.385 61.473 123.573C61.4016 123.761 61.366 123.971 61.366 124.203C61.366 124.442 61.4024 124.651 61.4753 124.831C61.5482 125.011 61.656 125.152 61.7987 125.253C61.9429 125.354 62.1206 125.404 62.3311 125.404ZM67.8391 126.127C67.6079 126.127 67.3985 126.085 67.2117 125.999C67.0249 125.913 66.8765 125.787 66.7675 125.623C66.6592 125.458 66.6057 125.257 66.6057 125.018C66.6057 124.813 66.6452 124.644 66.7243 124.511C66.8034 124.379 66.9105 124.274 67.0456 124.196C67.1801 124.119 67.3304 124.06 67.4971 124.021C67.6632 123.981 67.833 123.952 68.0058 123.931C68.2243 123.905 68.4019 123.885 68.5382 123.869C68.6745 123.852 68.7731 123.824 68.8352 123.786C68.8972 123.748 68.9277 123.686 68.9277 123.602V123.585C68.9277 123.378 68.8692 123.218 68.7518 123.104C68.6362 122.99 68.4634 122.933 68.234 122.933C67.9942 122.933 67.8062 122.986 67.6681 123.092C67.5318 123.196 67.4375 123.312 67.3852 123.44L66.7177 123.289C66.7968 123.068 66.9124 122.889 67.0645 122.753C67.2178 122.616 67.3949 122.516 67.5945 122.455C67.7941 122.391 68.004 122.36 68.2243 122.36C68.3703 122.36 68.5248 122.377 68.6879 122.412C68.8528 122.445 69.0062 122.507 69.1491 122.596C69.2934 122.687 69.4114 122.815 69.5033 122.983C69.5952 123.149 69.6408 123.364 69.6408 123.63V126.047H68.9471V125.549H68.9185C68.8723 125.641 68.8035 125.731 68.7116 125.819C68.6198 125.908 68.5017 125.981 68.3575 126.039C68.2133 126.098 68.0405 126.127 67.8391 126.127ZM67.9936 125.558C68.1902 125.558 68.3581 125.52 68.4975 125.442C68.6386 125.365 68.7457 125.264 68.8187 125.139C68.893 125.013 68.9301 124.878 68.9301 124.734V124.264C68.9051 124.29 68.8559 124.314 68.7828 124.336C68.7116 124.357 68.6301 124.374 68.5382 124.391C68.4463 124.405 68.3569 124.418 68.2693 124.431C68.1823 124.442 68.1093 124.451 68.0508 124.459C67.9127 124.476 67.7868 124.506 67.673 124.547C67.5604 124.588 67.4697 124.647 67.4022 124.724C67.3353 124.8 67.3018 124.901 67.3018 125.028C67.3018 125.203 67.3669 125.336 67.4971 125.426C67.6267 125.514 67.7922 125.558 67.9936 125.558ZM71.3318 123.885V126.047H70.6211V122.407H71.3032V123H71.3482C71.4322 122.807 71.5636 122.652 71.7431 122.535C71.9232 122.418 72.1508 122.36 72.4252 122.36C72.6741 122.36 72.8919 122.412 73.0787 122.516C73.2655 122.619 73.411 122.772 73.5138 122.976C73.6166 123.179 73.6683 123.432 73.6683 123.732V126.047H72.9576V123.817C72.9576 123.553 72.8883 123.347 72.7508 123.199C72.6126 123.048 72.4234 122.974 72.1824 122.974C72.0175 122.974 71.8715 123.009 71.7431 123.08C71.6159 123.151 71.5155 123.255 71.4413 123.393C71.3683 123.529 71.3318 123.693 71.3318 123.885ZM76.0213 126.118C75.7268 126.118 75.464 126.042 75.2321 125.892C75.0027 125.741 74.822 125.526 74.6906 125.246C74.5604 124.964 74.4953 124.627 74.4953 124.234C74.4953 123.841 74.561 123.504 74.693 123.225C74.8257 122.945 75.0082 122.731 75.2394 122.583C75.4707 122.434 75.7329 122.36 76.0262 122.36C76.2526 122.36 76.4351 122.398 76.5726 122.473C76.7126 122.548 76.8203 122.635 76.8963 122.734C76.9736 122.834 77.0339 122.922 77.0771 122.997H77.1197V121.194H77.8304V126.047H77.1361V125.48H77.0771C77.0339 125.558 76.9724 125.646 76.8915 125.746C76.8124 125.845 76.7028 125.932 76.5635 126.007C76.4242 126.081 76.2434 126.118 76.0213 126.118ZM76.1783 125.513C76.3828 125.513 76.5556 125.46 76.6968 125.352C76.8391 125.243 76.9468 125.092 77.0199 124.9C77.0941 124.707 77.1312 124.483 77.1312 124.227C77.1312 123.974 77.0953 123.753 77.0223 123.563C76.9493 123.374 76.8422 123.226 76.701 123.121C76.5605 123.014 76.3858 122.962 76.1783 122.962C75.9641 122.962 75.7859 123.017 75.6435 123.128C75.5011 123.238 75.3934 123.389 75.3204 123.58C75.2492 123.771 75.2133 123.987 75.2133 124.227C75.2133 124.47 75.2498 124.689 75.3228 124.883C75.3958 125.077 75.5035 125.231 75.6459 125.345C75.7901 125.458 75.9678 125.513 76.1783 125.513ZM80.6829 126.047V122.407H81.3699V122.985H81.4076C81.4746 122.789 81.5914 122.635 81.7593 122.523C81.9291 122.41 82.1208 122.353 82.335 122.353C82.3794 122.353 82.4317 122.354 82.492 122.357C82.5534 122.361 82.6021 122.365 82.6368 122.369V123.047C82.6082 123.039 82.5577 123.03 82.4846 123.021C82.4116 123.01 82.3386 123.004 82.2662 123.004C82.0976 123.004 81.948 123.04 81.8165 123.111C81.6869 123.181 81.5835 123.278 81.5074 123.403C81.4314 123.526 81.3936 123.666 81.3936 123.824V126.047H80.6829ZM84.315 126.127C84.0837 126.127 83.8744 126.085 83.6876 125.999C83.5002 125.913 83.3523 125.787 83.2428 125.623C83.1351 125.458 83.0816 125.257 83.0816 125.018C83.0816 124.813 83.1211 124.644 83.2002 124.511C83.2793 124.379 83.3864 124.274 83.5209 124.196C83.656 124.119 83.8063 124.06 83.973 124.021C84.1391 123.981 84.3089 123.952 84.4811 123.931C84.7001 123.905 84.8778 123.885 85.0135 123.869C85.1498 123.852 85.249 123.824 85.311 123.786C85.3725 123.748 85.4035 123.686 85.4035 123.602V123.585C85.4035 123.378 85.3451 123.218 85.2277 123.104C85.1121 122.99 84.9393 122.933 84.7093 122.933C84.4701 122.933 84.2815 122.986 84.144 123.092C84.0077 123.196 83.9134 123.312 83.861 123.44L83.1929 123.289C83.272 123.068 83.3882 122.889 83.5404 122.753C83.6937 122.616 83.8708 122.516 84.0704 122.455C84.2699 122.391 84.4799 122.36 84.7001 122.36C84.8456 122.36 85.0001 122.377 85.1638 122.412C85.3281 122.445 85.482 122.507 85.6244 122.596C85.7686 122.687 85.8867 122.815 85.9785 122.983C86.0704 123.149 86.1167 123.364 86.1167 123.63V126.047H85.4224V125.549H85.3938C85.3482 125.641 85.2794 125.731 85.1875 125.819C85.0956 125.908 84.9776 125.981 84.8334 126.039C84.6892 126.098 84.5164 126.127 84.315 126.127ZM84.4695 125.558C84.6661 125.558 84.834 125.52 84.9733 125.442C85.1145 125.365 85.2216 125.264 85.294 125.139C85.3688 125.013 85.406 124.878 85.406 124.734V124.264C85.3804 124.29 85.3317 124.314 85.2587 124.336C85.1875 124.357 85.106 124.374 85.0135 124.391C84.9216 124.405 84.8322 124.418 84.7451 124.431C84.6581 124.442 84.5851 124.451 84.5267 124.459C84.3886 124.476 84.2626 124.506 84.1488 124.547C84.0363 124.588 83.9456 124.647 83.8775 124.724C83.8111 124.8 83.7777 124.901 83.7777 125.028C83.7777 125.203 83.8428 125.336 83.973 125.426C84.1026 125.514 84.2681 125.558 84.4695 125.558ZM88.4636 126.118C88.1685 126.118 87.9056 126.042 87.6744 125.892C87.4444 125.741 87.2637 125.526 87.1322 125.246C87.0026 124.964 86.9375 124.627 86.9375 124.234C86.9375 123.841 87.0032 123.504 87.1347 123.225C87.2679 122.945 87.4499 122.731 87.6817 122.583C87.9129 122.434 88.1752 122.36 88.4685 122.36C88.6948 122.36 88.8768 122.398 89.0149 122.473C89.1542 122.548 89.2619 122.635 89.338 122.734C89.4159 122.834 89.4761 122.922 89.5187 122.997H89.5613V121.194H90.272V126.047H89.5783V125.48H89.5187C89.4761 125.558 89.414 125.646 89.3331 125.746C89.254 125.845 89.1451 125.932 89.0051 126.007C88.8658 126.081 88.6851 126.118 88.4636 126.118ZM88.6206 125.513C88.8244 125.513 88.9972 125.46 89.1384 125.352C89.2808 125.243 89.3891 125.092 89.4615 124.9C89.5363 124.707 89.5735 124.483 89.5735 124.227C89.5735 123.974 89.5369 123.753 89.4639 123.563C89.3909 123.374 89.2844 123.226 89.1433 123.121C89.0021 123.014 88.8281 122.962 88.6206 122.962C88.4064 122.962 88.2281 123.017 88.0857 123.128C87.9427 123.238 87.835 123.389 87.762 123.58C87.6908 123.771 87.6555 123.987 87.6555 124.227C87.6555 124.47 87.6914 124.689 87.7644 124.883C87.8375 125.077 87.9452 125.231 88.0882 125.345C88.2324 125.458 88.4094 125.513 88.6206 125.513ZM91.3198 126.047V122.407H92.0305V126.047H91.3198ZM91.6788 121.846C91.5553 121.846 91.4494 121.805 91.3606 121.722C91.2736 121.639 91.2298 121.539 91.2298 121.424C91.2298 121.307 91.2736 121.207 91.3606 121.126C91.4494 121.042 91.5553 121 91.6788 121C91.8023 121 91.9082 121.042 91.9952 121.126C92.0841 121.207 92.1279 121.307 92.1279 121.424C92.1279 121.539 92.0841 121.639 91.9952 121.722C91.9082 121.805 91.8023 121.846 91.6788 121.846ZM95.3327 124.537V122.407H96.0459V126.047H95.3474V125.416H95.309C95.225 125.61 95.0906 125.772 94.905 125.902C94.7212 126.03 94.4924 126.094 94.218 126.094C93.9837 126.094 93.7762 126.042 93.5955 125.94C93.4166 125.835 93.2755 125.681 93.1726 125.478C93.071 125.274 93.0205 125.022 93.0205 124.722V122.407H93.7312V124.637C93.7312 124.885 93.8 125.082 93.9375 125.229C94.0756 125.376 94.2545 125.45 94.4748 125.45C94.608 125.45 94.7401 125.416 94.8721 125.35C95.0048 125.284 95.1149 125.183 95.2025 125.049C95.2908 124.915 95.3346 124.744 95.3327 124.537ZM99.7704 123.296L99.126 123.409C99.0992 123.327 99.0567 123.249 98.9976 123.175C98.9404 123.101 98.8632 123.04 98.7646 122.993C98.6666 122.945 98.5437 122.922 98.3965 122.922C98.195 122.922 98.0271 122.966 97.8926 123.056C97.7575 123.145 97.6906 123.259 97.6906 123.4C97.6906 123.521 97.7356 123.62 97.8257 123.694C97.9164 123.768 98.0618 123.829 98.2632 123.876L98.8431 124.009C99.179 124.086 99.4297 124.206 99.5946 124.366C99.7588 124.528 99.8416 124.737 99.8416 124.995C99.8416 125.213 99.7783 125.407 99.6511 125.578C99.5264 125.746 99.3512 125.879 99.126 125.976C98.9027 126.072 98.6435 126.12 98.349 126.12C97.9401 126.12 97.6066 126.033 97.348 125.859C97.09 125.684 96.9312 125.435 96.8728 125.113L97.5598 125.009C97.6024 125.187 97.6906 125.322 97.8233 125.414C97.9565 125.504 98.1299 125.549 98.3441 125.549C98.5772 125.549 98.7634 125.501 98.9027 125.404C99.0421 125.307 99.112 125.187 99.112 125.047C99.112 124.933 99.0688 124.838 98.9836 124.76C98.8997 124.682 98.7701 124.624 98.596 124.585L97.9778 124.449C97.6377 124.372 97.3851 124.249 97.2221 124.08C97.0608 123.911 96.9799 123.697 96.9799 123.438C96.9799 123.223 97.0401 123.035 97.1606 122.874C97.2811 122.713 97.4472 122.587 97.6596 122.497C97.8719 122.405 98.1153 122.36 98.3891 122.36C98.784 122.36 99.0944 122.445 99.3207 122.616C99.5477 122.784 99.6974 123.011 99.7704 123.296Z",fill:"black",fillOpacity:"0.8"}),p.createElement("path",{d:"M8.99594 137.085V136.601L11.1393 133.227H11.4918V133.976H11.2536L9.63419 136.525V136.564H12.5206V137.085H8.99594ZM11.2917 138.08V136.938V136.713V133.227H11.8537V138.08H11.2917ZM18.3669 134.441L17.0142 138.08H16.4426L15.09 134.441H15.6996L16.7093 137.341H16.7474L17.7572 134.441H18.3669ZM20.1073 138.165C19.8755 138.165 19.6651 138.122 19.4762 138.035C19.2873 137.946 19.1372 137.819 19.0261 137.654C18.9149 137.486 18.8594 137.284 18.8594 137.047C18.8594 136.838 18.9007 136.669 18.9832 136.54C19.0658 136.409 19.1761 136.306 19.3143 136.232C19.4524 136.158 19.6048 136.103 19.7715 136.066C19.9398 136.028 20.1089 135.998 20.2787 135.976C20.501 135.947 20.6812 135.926 20.8193 135.912C20.9591 135.896 21.0607 135.87 21.1242 135.834C21.1893 135.797 21.2218 135.734 21.2218 135.644V135.625C21.2218 135.392 21.1575 135.21 21.0289 135.08C20.9019 134.951 20.709 134.886 20.4502 134.886C20.1819 134.886 19.9715 134.945 19.8191 135.061C19.6667 135.178 19.5595 135.303 19.4977 135.436L18.9642 135.246C19.0594 135.025 19.1865 134.853 19.3452 134.73C19.5056 134.605 19.6802 134.518 19.8691 134.469C20.0596 134.419 20.247 134.393 20.4312 134.393C20.5486 134.393 20.6836 134.407 20.836 134.436C20.99 134.462 21.1385 134.519 21.2814 134.604C21.4258 134.689 21.5457 134.818 21.641 134.99C21.7362 135.162 21.7839 135.393 21.7839 135.682V138.08H21.2218V137.587H21.1932C21.1551 137.666 21.0917 137.751 21.0027 137.84C20.9138 137.931 20.7956 138.007 20.6479 138.07C20.5002 138.134 20.32 138.165 20.1073 138.165ZM20.193 137.663C20.4153 137.663 20.6027 137.62 20.7551 137.533C20.9091 137.445 21.025 137.334 21.1028 137.196C21.1821 137.058 21.2218 136.914 21.2218 136.762V136.251C21.198 136.279 21.1456 136.305 21.0647 136.329C20.9853 136.351 20.8932 136.371 20.7884 136.388C20.6852 136.404 20.5844 136.418 20.486 136.431C20.3891 136.442 20.3105 136.451 20.2502 136.459C20.1041 136.478 19.9676 136.509 19.8406 136.551C19.7151 136.593 19.6135 136.655 19.5358 136.739C19.4595 136.821 19.4214 136.933 19.4214 137.075C19.4214 137.27 19.4937 137.416 19.6381 137.516C19.7842 137.614 19.9692 137.663 20.193 137.663ZM22.8432 138.08V134.441H23.3862V134.99H23.4243C23.491 134.81 23.6116 134.664 23.7863 134.552C23.9609 134.44 24.1578 134.384 24.3769 134.384C24.4181 134.384 24.4698 134.385 24.5317 134.386C24.5936 134.388 24.6404 134.39 24.6722 134.393V134.962C24.6531 134.957 24.6094 134.95 24.5412 134.94C24.4745 134.929 24.4039 134.924 24.3292 134.924C24.1514 134.924 23.9927 134.961 23.8529 135.035C23.7148 135.108 23.6053 135.209 23.5243 135.338C23.4449 135.466 23.4053 135.612 23.4053 135.777V138.08H22.8432ZM25.3719 138.08V134.441H25.9339V138.08H25.3719ZM25.6577 133.834C25.5481 133.834 25.4537 133.797 25.3743 133.722C25.2965 133.648 25.2576 133.559 25.2576 133.455C25.2576 133.351 25.2965 133.261 25.3743 133.187C25.4537 133.113 25.5481 133.076 25.6577 133.076C25.7672 133.076 25.8609 133.113 25.9387 133.187C26.0181 133.261 26.0578 133.351 26.0578 133.455C26.0578 133.559 26.0181 133.648 25.9387 133.722C25.8609 133.797 25.7672 133.834 25.6577 133.834ZM28.0733 138.165C27.8415 138.165 27.6311 138.122 27.4422 138.035C27.2533 137.946 27.1032 137.819 26.9921 137.654C26.881 137.486 26.8254 137.284 26.8254 137.047C26.8254 136.838 26.8667 136.669 26.9492 136.54C27.0318 136.409 27.1421 136.306 27.2803 136.232C27.4184 136.158 27.5708 136.103 27.7375 136.066C27.9058 136.028 28.0749 135.998 28.2448 135.976C28.4671 135.947 28.6472 135.926 28.7854 135.912C28.9251 135.896 29.0267 135.87 29.0902 135.834C29.1553 135.797 29.1879 135.734 29.1879 135.644V135.625C29.1879 135.392 29.1235 135.21 28.995 135.08C28.8679 134.951 28.675 134.886 28.4162 134.886C28.1479 134.886 27.9376 134.945 27.7852 135.061C27.6327 135.178 27.5256 135.303 27.4636 135.436L26.9302 135.246C27.0255 135.025 27.1524 134.853 27.3112 134.73C27.4716 134.605 27.6462 134.518 27.8351 134.469C28.0257 134.419 28.213 134.393 28.3972 134.393C28.5147 134.393 28.6496 134.407 28.8021 134.436C28.9561 134.462 29.1044 134.519 29.2474 134.604C29.3918 134.689 29.5117 134.818 29.607 134.99C29.7022 135.162 29.7498 135.393 29.7498 135.682V138.08H29.1879V137.587H29.1593C29.1212 137.666 29.0576 137.751 28.9687 137.84C28.8798 137.931 28.7615 138.007 28.6139 138.07C28.4663 138.134 28.286 138.165 28.0733 138.165ZM28.1591 137.663C28.3813 137.663 28.5686 137.62 28.721 137.533C28.875 137.445 28.9909 137.334 29.0688 137.196C29.1482 137.058 29.1879 136.914 29.1879 136.762V136.251C29.164 136.279 29.1116 136.305 29.0307 136.329C28.9512 136.351 28.8592 136.371 28.7544 136.388C28.6512 136.404 28.5504 136.418 28.4519 136.431C28.3551 136.442 28.2765 136.451 28.2162 136.459C28.0701 136.478 27.9336 136.509 27.8065 136.551C27.6811 136.593 27.5795 136.655 27.5017 136.739C27.4255 136.821 27.3874 136.933 27.3874 137.075C27.3874 137.27 27.4597 137.416 27.6041 137.516C27.7502 137.614 27.9352 137.663 28.1591 137.663ZM31.3712 135.891V138.08H30.8092V134.441H31.3522V135.009H31.3998C31.4855 134.825 31.6157 134.676 31.7904 134.564C31.965 134.45 32.1905 134.393 32.4667 134.393C32.7144 134.393 32.9311 134.444 33.1168 134.545C33.3026 134.644 33.4471 134.796 33.5502 135C33.6535 135.202 33.7051 135.458 33.7051 135.768V138.08H33.1431V135.805C33.1431 135.52 33.0684 135.296 32.9192 135.137C32.77 134.976 32.5652 134.895 32.3048 134.895C32.1254 134.895 31.965 134.934 31.8237 135.011C31.684 135.089 31.5737 135.202 31.4927 135.35C31.4117 135.499 31.3712 135.679 31.3712 135.891ZM36.3564 134.441V134.914H34.4608V134.441H36.3564ZM35.0133 133.568H35.5753V137.037C35.5753 137.196 35.5983 137.314 35.6444 137.393C35.692 137.47 35.7523 137.522 35.8254 137.549C35.9 137.575 35.9786 137.587 36.0611 137.587C36.1231 137.587 36.1738 137.584 36.2135 137.578C36.2532 137.57 36.285 137.563 36.3088 137.559L36.4231 138.061C36.385 138.075 36.3318 138.09 36.2636 138.104C36.1953 138.119 36.1088 138.127 36.004 138.127C35.8452 138.127 35.6897 138.093 35.5372 138.025C35.3864 137.957 35.261 137.854 35.161 137.715C35.0625 137.576 35.0133 137.401 35.0133 137.189V133.568ZM39.761 135.256L39.2561 135.398C39.2243 135.314 39.1775 135.233 39.1156 135.154C39.0552 135.073 38.9727 135.007 38.8679 134.955C38.7631 134.903 38.6289 134.877 38.4654 134.877C38.2416 134.877 38.055 134.928 37.9058 135.031C37.7581 135.131 37.6843 135.261 37.6843 135.417C37.6843 135.556 37.7351 135.666 37.8367 135.746C37.9383 135.827 38.0971 135.894 38.313 135.947L38.856 136.08C39.1831 136.159 39.4267 136.28 39.5871 136.443C39.7475 136.604 39.8276 136.812 39.8276 137.066C39.8276 137.274 39.7673 137.461 39.6466 137.625C39.5276 137.789 39.3608 137.919 39.1465 138.014C38.9322 138.108 38.683 138.156 38.3987 138.156C38.0256 138.156 37.7168 138.075 37.4724 137.914C37.2278 137.753 37.073 137.518 37.008 137.208L37.5414 137.075C37.5922 137.271 37.6883 137.418 37.8296 137.516C37.9725 137.614 38.159 137.663 38.3892 137.663C38.6512 137.663 38.8591 137.607 39.0131 137.497C39.1687 137.385 39.2465 137.251 39.2465 137.094C39.2465 136.968 39.2021 136.862 39.1132 136.777C39.0243 136.69 38.8877 136.625 38.7036 136.582L38.0939 136.44C37.7589 136.362 37.5128 136.239 37.3557 136.073C37.2001 135.905 37.1223 135.696 37.1223 135.445C37.1223 135.24 37.1802 135.058 37.2961 134.9C37.4136 134.742 37.5732 134.618 37.7748 134.529C37.978 134.438 38.2082 134.393 38.4654 134.393C38.8274 134.393 39.1116 134.472 39.318 134.63C39.526 134.788 39.6736 134.997 39.761 135.256ZM43.0365 136.383C42.919 136.383 42.8181 136.342 42.734 136.258C42.6499 136.174 42.6078 136.074 42.6078 135.957C42.6078 135.84 42.6499 135.74 42.734 135.656C42.8181 135.572 42.919 135.531 43.0365 135.531C43.1539 135.531 43.2548 135.572 43.3389 135.656C43.423 135.74 43.4651 135.84 43.4651 135.957C43.4651 136.035 43.4453 136.106 43.4056 136.17C43.3675 136.235 43.3159 136.287 43.2508 136.326C43.1873 136.365 43.1158 136.383 43.0365 136.383ZM46.7031 138.08H46.084L47.8748 133.227H48.4845L50.2753 138.08H49.6561L48.1987 133.995H48.1606L46.7031 138.08ZM46.9317 136.184H49.4275V136.705H46.9317V136.184ZM52.6212 134.441V134.914H50.6494V134.441H52.6212ZM51.24 138.08V133.938C51.24 133.73 51.2892 133.556 51.3877 133.417C51.4861 133.278 51.6139 133.173 51.7711 133.104C51.9282 133.035 52.0941 133 52.2688 133C52.4069 133 52.5197 133.011 52.607 133.033C52.6943 133.055 52.7594 133.076 52.8022 133.095L52.6403 133.578C52.6117 133.568 52.572 133.557 52.5213 133.543C52.472 133.528 52.407 133.521 52.326 133.521C52.1402 133.521 52.006 133.568 51.9235 133.661C51.8425 133.754 51.802 133.891 51.802 134.071V138.08H51.24ZM55.0714 134.441V134.914H53.0995V134.441H55.0714ZM53.6902 138.08V133.938C53.6902 133.73 53.7394 133.556 53.8378 133.417C53.9362 133.278 54.0641 133.173 54.2212 133.104C54.3784 133.035 54.5443 133 54.7189 133C54.857 133 54.9698 133.011 55.0571 133.033C55.1444 133.055 55.2095 133.076 55.2524 133.095L55.0904 133.578C55.0619 133.568 55.0222 133.557 54.9713 133.543C54.9221 133.528 54.857 133.521 54.7761 133.521C54.5903 133.521 54.4562 133.568 54.3736 133.661C54.2927 133.754 54.2521 133.891 54.2521 134.071V138.08H53.6902ZM57.2756 138.156C56.9232 138.156 56.6191 138.078 56.3636 137.923C56.1095 137.767 55.9135 137.549 55.7753 137.27C55.6387 136.989 55.5705 136.661 55.5705 136.289C55.5705 135.916 55.6387 135.588 55.7753 135.303C55.9135 135.017 56.1056 134.794 56.3516 134.635C56.5993 134.474 56.8882 134.393 57.2185 134.393C57.409 134.393 57.5971 134.425 57.7829 134.488C57.9687 134.551 58.1377 134.654 58.2901 134.796C58.4426 134.937 58.564 135.123 58.6545 135.355C58.745 135.588 58.7902 135.873 58.7902 136.213V136.449H55.9706V135.967H58.2187C58.2187 135.761 58.1774 135.578 58.0949 135.417C58.0139 135.256 57.898 135.128 57.7472 135.035C57.5979 134.942 57.4217 134.895 57.2185 134.895C56.9946 134.895 56.8009 134.951 56.6374 135.061C56.4754 135.17 56.3508 135.312 56.2635 135.488C56.1762 135.663 56.1325 135.851 56.1325 136.052V136.374C56.1325 136.649 56.1802 136.882 56.2754 137.073C56.3723 137.262 56.5064 137.407 56.6779 137.507C56.8493 137.604 57.0486 137.654 57.2756 137.654C57.4233 137.654 57.5567 137.633 57.6757 137.592C57.7964 137.549 57.9004 137.486 57.9877 137.402C58.075 137.317 58.1425 137.211 58.1901 137.085L58.7331 137.236C58.6759 137.419 58.5799 137.581 58.4449 137.72C58.31 137.857 58.1433 137.965 57.9448 138.042C57.7464 138.118 57.5233 138.156 57.2756 138.156ZM61.1648 138.156C60.8219 138.156 60.5265 138.075 60.2788 137.914C60.0312 137.753 59.8407 137.531 59.7073 137.248C59.574 136.966 59.5073 136.642 59.5073 136.279C59.5073 135.91 59.5755 135.583 59.7121 135.301C59.8502 135.016 60.0423 134.794 60.2884 134.635C60.5361 134.474 60.825 134.393 61.1552 134.393C61.4124 134.393 61.6442 134.441 61.8507 134.535C62.0571 134.63 62.226 134.763 62.3577 134.933C62.4899 135.104 62.5716 135.303 62.6033 135.531H62.0412C61.9986 135.364 61.903 135.218 61.7554 135.09C61.6093 134.96 61.4124 134.895 61.1648 134.895C60.9457 134.895 60.7536 134.953 60.5885 135.066C60.4249 135.178 60.2971 135.337 60.205 135.542C60.1145 135.746 60.0693 135.985 60.0693 136.26C60.0693 136.542 60.1137 136.786 60.2026 136.995C60.2932 137.203 60.4202 137.365 60.5837 137.481C60.7488 137.596 60.9425 137.654 61.1648 137.654C61.3108 137.654 61.4434 137.628 61.5625 137.578C61.6815 137.527 61.7824 137.455 61.8649 137.359C61.9475 137.265 62.0065 137.151 62.0412 137.018H62.6033C62.5716 137.233 62.493 137.427 62.3674 137.599C62.2436 137.769 62.079 137.905 61.8744 138.007C61.6712 138.106 61.4347 138.156 61.1648 138.156ZM65.0493 134.441V134.914H63.1533V134.441H65.0493ZM63.7062 133.568H64.2683V137.037C64.2683 137.196 64.2909 137.314 64.3372 137.393C64.3848 137.47 64.4451 137.522 64.5183 137.549C64.5927 137.575 64.6713 137.587 64.7536 137.587C64.8158 137.587 64.8664 137.584 64.906 137.578C64.9463 137.57 64.978 137.563 65.0017 137.559L65.1157 138.061C65.0779 138.075 65.0243 138.09 64.956 138.104C64.8877 138.119 64.8018 138.127 64.6969 138.127C64.5378 138.127 64.3823 138.093 64.2299 138.025C64.0793 137.957 63.9537 137.854 63.8538 137.715C63.755 137.576 63.7062 137.401 63.7062 137.189V133.568ZM68.4536 135.256L67.9488 135.398C67.9171 135.314 67.8702 135.233 67.808 135.154C67.7482 135.073 67.6653 135.007 67.5605 134.955C67.4556 134.903 67.3215 134.877 67.1581 134.877C66.9343 134.877 66.7478 134.928 66.5984 135.031C66.4509 135.131 66.3771 135.261 66.3771 135.417C66.3771 135.556 66.4277 135.666 66.5295 135.746C66.6307 135.827 66.7899 135.894 67.0057 135.947L67.5489 136.08C67.8757 136.159 68.1195 136.28 68.2799 136.443C68.4402 136.604 68.5201 136.812 68.5201 137.066C68.5201 137.274 68.4597 137.461 68.3396 137.625C68.2201 137.789 68.0537 137.919 67.8391 138.014C67.6251 138.108 67.3757 138.156 67.0916 138.156C66.7185 138.156 66.4094 138.075 66.165 137.914C65.9205 137.753 65.7656 137.518 65.7004 137.208L66.2339 137.075C66.2851 137.271 66.3808 137.418 66.5222 137.516C66.6649 137.614 66.8514 137.663 67.0819 137.663C67.344 137.663 67.5519 137.607 67.7062 137.497C67.8616 137.385 67.9391 137.251 67.9391 137.094C67.9391 136.968 67.8946 136.862 67.8062 136.777C67.7172 136.69 67.5806 136.625 67.3965 136.582L66.7868 136.44C66.4515 136.362 66.2058 136.239 66.0485 136.073C65.8931 135.905 65.815 135.696 65.815 135.445C65.815 135.24 65.8729 135.058 65.9888 134.9C66.1064 134.742 66.2662 134.618 66.4674 134.529C66.671 134.438 66.9008 134.393 67.1581 134.393C67.5202 134.393 67.8043 134.472 68.011 134.63C68.2189 134.788 68.3664 134.997 68.4536 135.256ZM73.0248 133.227V138.08H72.4341V133.844H72.4054L71.2148 134.63V134.033L72.4341 133.227H73.0248ZM74.4612 138.08V137.654L76.0707 135.9C76.2597 135.695 76.4151 135.516 76.5377 135.364C76.6596 135.212 76.7504 135.068 76.809 134.933C76.8693 134.798 76.8998 134.655 76.8998 134.507C76.8998 134.336 76.8583 134.189 76.7754 134.064C76.695 133.939 76.5834 133.843 76.4426 133.775C76.3011 133.707 76.142 133.673 75.9658 133.673C75.7786 133.673 75.6153 133.711 75.4756 133.789C75.3373 133.865 75.23 133.972 75.1537 134.109C75.0794 134.246 75.0422 134.407 75.0422 134.592H74.4801C74.4801 134.308 74.5459 134.058 74.6776 133.844C74.8093 133.628 74.9885 133.461 75.2159 133.341C75.4446 133.221 75.7006 133.161 75.9853 133.161C76.2706 133.161 76.5243 133.221 76.7449 133.341C76.9656 133.461 77.1382 133.623 77.2638 133.827C77.3894 134.031 77.4522 134.257 77.4522 134.507C77.4522 134.686 77.4192 134.86 77.3546 135.031C77.2906 135.199 77.1796 135.388 77.0211 135.597C76.8638 135.804 76.6456 136.056 76.3664 136.355L75.2708 137.521V137.559H77.5375V138.08H74.4612ZM80.484 138.08V134.441H81.0461V138.08H80.484ZM80.7699 133.834C80.6602 133.834 80.5657 133.797 80.4864 133.722C80.4084 133.648 80.37 133.559 80.37 133.455C80.37 133.351 80.4084 133.261 80.4864 133.187C80.5657 133.113 80.6602 133.076 80.7699 133.076C80.8797 133.076 80.9729 133.113 81.051 133.187C81.1302 133.261 81.1698 133.351 81.1698 133.455C81.1698 133.559 81.1302 133.648 81.051 133.722C80.9729 133.797 80.8797 133.834 80.7699 133.834ZM83.6999 134.441V134.914H81.8039V134.441H83.6999ZM82.3568 133.568H82.919V137.037C82.919 137.196 82.9415 137.314 82.9878 137.393C83.0354 137.47 83.0958 137.522 83.1689 137.549C83.2433 137.575 83.3219 137.587 83.4042 137.587C83.4664 137.587 83.517 137.584 83.5567 137.578C83.5969 137.57 83.6286 137.563 83.6524 137.559L83.7664 138.061C83.7286 138.075 83.6749 138.09 83.6066 138.104C83.5384 138.119 83.4524 138.127 83.3475 138.127C83.1884 138.127 83.033 138.093 82.8805 138.025C82.73 137.957 82.6044 137.854 82.5044 137.715C82.4056 137.576 82.3568 137.401 82.3568 137.189V133.568ZM86.0733 138.156C85.7209 138.156 85.4167 138.078 85.1613 137.923C84.9071 137.767 84.7107 137.549 84.5729 137.27C84.4364 136.989 84.3681 136.661 84.3681 136.289C84.3681 135.916 84.4364 135.588 84.5729 135.303C84.7107 135.017 84.9028 134.794 85.1491 134.635C85.3966 134.474 85.6856 134.393 86.016 134.393C86.2062 134.393 86.3946 134.425 86.5806 134.488C86.7659 134.551 86.9354 134.654 87.0878 134.796C87.2402 134.937 87.3615 135.123 87.4518 135.355C87.5426 135.588 87.5877 135.873 87.5877 136.213V136.449H84.768V135.967H87.0165C87.0165 135.761 86.975 135.578 86.8921 135.417C86.8116 135.256 86.6958 135.128 86.5446 135.035C86.3952 134.942 86.219 134.895 86.016 134.895C85.7923 134.895 85.5984 134.951 85.435 135.061C85.2728 135.17 85.1485 135.312 85.0613 135.488C84.9735 135.663 84.9302 135.851 84.9302 136.052V136.374C84.9302 136.649 84.9778 136.882 85.0729 137.073C85.1698 137.262 85.3039 137.407 85.4753 137.507C85.6466 137.604 85.8459 137.654 86.0733 137.654C86.2208 137.654 86.3544 137.633 86.4733 137.592C86.594 137.549 86.6976 137.486 86.7854 137.402C86.8726 137.317 86.9402 137.211 86.9878 137.085L87.5304 137.236C87.4737 137.419 87.3774 137.581 87.2426 137.72C87.1073 137.857 86.9409 137.965 86.7421 138.042C86.544 138.118 86.3208 138.156 86.0733 138.156ZM88.476 138.08V134.441H89.0192V135.009H89.0667C89.1429 134.815 89.2661 134.664 89.4362 134.556C89.6057 134.448 89.8099 134.393 90.0483 134.393C90.2891 134.393 90.4903 134.448 90.6506 134.556C90.8122 134.664 90.9384 134.815 91.0292 135.009H91.067C91.1609 134.821 91.3017 134.672 91.4889 134.561C91.6761 134.449 91.901 134.393 92.1626 134.393C92.49 134.393 92.7576 134.495 92.9655 134.699C93.1734 134.901 93.277 135.216 93.277 135.644V138.08H92.7155V135.644C92.7155 135.376 92.6412 135.184 92.4936 135.068C92.3461 134.953 92.1723 134.895 91.9724 134.895C91.7151 134.895 91.5157 134.973 91.3743 135.128C91.2335 135.281 91.1627 135.475 91.1627 135.711V138.08H90.5909V135.588C90.5909 135.38 90.5232 135.214 90.3885 135.087C90.2537 134.959 90.08 134.895 89.8672 134.895C89.7209 134.895 89.5843 134.934 89.4575 135.011C89.3319 135.089 89.2301 135.196 89.1527 135.334C89.0765 135.47 89.0381 135.627 89.0381 135.805V138.08H88.476ZM96.9295 135.256L96.4247 135.398C96.393 135.314 96.346 135.233 96.2839 135.154C96.2235 135.073 96.1412 135.007 96.0363 134.955C95.9315 134.903 95.7974 134.877 95.634 134.877C95.4102 134.877 95.2237 134.928 95.0743 135.031C94.9268 135.131 94.853 135.261 94.853 135.417C94.853 135.556 94.9036 135.666 95.0054 135.746C95.1066 135.827 95.2657 135.894 95.4816 135.947L96.0248 136.08C96.3515 136.159 96.5954 136.28 96.7557 136.443C96.9161 136.604 96.9959 136.812 96.9959 137.066C96.9959 137.274 96.9356 137.461 96.8149 137.625C96.696 137.789 96.5296 137.919 96.315 138.014C96.101 138.108 95.8516 138.156 95.5675 138.156C95.1944 138.156 94.8853 138.075 94.6408 137.914C94.3964 137.753 94.2415 137.518 94.1763 137.208L94.7097 137.075C94.7609 137.271 94.8567 137.418 94.9981 137.516C95.1408 137.614 95.3273 137.663 95.5578 137.663C95.8199 137.663 96.0278 137.607 96.1814 137.497C96.3375 137.385 96.4149 137.251 96.4149 137.094C96.4149 136.968 96.3704 136.862 96.2814 136.777C96.193 136.69 96.0565 136.625 95.8723 136.582L95.2627 136.44C94.9274 136.362 94.6811 136.239 94.5244 136.073C94.3683 135.905 94.2909 135.696 94.2909 135.445C94.2909 135.24 94.3488 135.058 94.4646 134.9C94.5823 134.742 94.7414 134.618 94.9432 134.529C95.1462 134.438 95.3767 134.393 95.634 134.393C95.9961 134.393 96.2802 134.472 96.4863 134.63C96.6948 134.788 96.8423 134.997 96.9295 135.256Z",fill:"black",fillOpacity:"0.3"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.65099 1.61066C2.97153 1.61066 1.61172 2.96757 1.61172 4.63935V145.361C1.61172 147.032 2.97153 148.389 4.65099 148.389H133.649C135.329 148.389 136.688 147.032 136.688 145.361V4.63935C136.688 2.96757 135.329 1.61066 133.649 1.61066H4.65099ZM0.996964 4.63935C0.996964 2.62622 2.63385 0.995911 4.65099 0.995911H133.649C135.666 0.995911 137.303 2.62622 137.303 4.63935V145.361C137.303 147.374 135.666 149.004 133.649 149.004H4.65099C2.63385 149.004 0.996964 147.374 0.996964 145.361V4.63935Z",fill:"#E6E6E6"}),p.createElement("g",{filter:"url(#filter0_ddd_5_7)"},p.createElement("path",{d:"M182.883 61.6557H100.18C98.1654 61.6557 96.5318 63.2843 96.5318 65.2932V106.518C96.5318 108.527 98.1654 110.156 100.18 110.156H182.883C184.898 110.156 186.532 108.527 186.532 106.518V65.2932C186.532 63.2843 184.898 61.6557 182.883 61.6557Z",fill:"white"})),p.createElement("path",{d:"M102.008 68.3279C102.008 67.6576 102.553 67.1148 103.225 67.1148H109.31C109.982 67.1148 110.527 67.6576 110.527 68.3279V74.3934C110.527 75.0637 109.982 75.6066 109.31 75.6066H103.225C102.553 75.6066 102.008 75.0637 102.008 74.3934V68.3279Z",fill:"#2C2C2C"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.138 69.8484H103.225V69.2336H104.138C104.979 69.2336 105.662 69.9132 105.662 70.7541V71.3606C105.662 71.8602 106.068 72.2664 106.572 72.2664H108.702V72.8811H106.572C105.731 72.8811 105.048 72.2016 105.048 71.3606V70.7541C105.048 70.2545 104.641 69.8484 104.138 69.8484Z",fill:"white"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.701 69.8484H106.876V69.2336H108.701V69.8484Z",fill:"white"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.29 72.5738L107.255 71.4136L107.714 71.0044L109.113 72.5738L107.714 74.1431L107.255 73.7339L108.29 72.5738Z",fill:"white"}),p.createElement("path",{d:"M116.749 73.7869V68.9344H119.687V69.4554H117.339V71.095H119.535V71.6166H117.339V73.2658H119.725V73.7869H116.749ZM122.086 73.8627C121.781 73.8627 121.513 73.7863 121.279 73.6328C121.047 73.4781 120.864 73.2604 120.733 72.9789C120.602 72.6963 120.536 72.3621 120.536 71.9769C120.536 71.5942 120.602 71.263 120.733 70.9815C120.864 70.7001 121.048 70.483 121.282 70.3301C121.517 70.1766 121.788 70.1002 122.095 70.1002C122.333 70.1002 122.521 70.1396 122.658 70.2185C122.798 70.2961 122.904 70.3847 122.977 70.4842C123.051 70.5818 123.109 70.6625 123.151 70.7256H123.198V68.9344H123.759V73.7869H123.217V73.2276H123.151C123.109 73.2937 123.051 73.3781 122.975 73.4787C122.899 73.5782 122.79 73.6674 122.649 73.7468C122.508 73.8239 122.32 73.8627 122.086 73.8627ZM122.162 73.3605C122.386 73.3605 122.577 73.3022 122.732 73.1852C122.887 73.0663 123.005 72.9031 123.086 72.6945C123.167 72.4846 123.207 72.242 123.207 71.9672C123.207 71.6955 123.168 71.4577 123.088 71.2539C123.009 71.0489 122.892 70.8894 122.737 70.7753C122.582 70.6601 122.39 70.6024 122.162 70.6024C121.924 70.6024 121.726 70.6631 121.567 70.785C121.41 70.9051 121.292 71.0683 121.213 71.2751C121.136 71.4807 121.097 71.7112 121.097 71.9672C121.097 72.2262 121.136 72.4615 121.216 72.6732C121.297 72.8831 121.415 73.0505 121.572 73.1755C121.73 73.2986 121.927 73.3605 122.162 73.3605ZM124.898 73.7869V70.1475H125.459V73.7869H124.898ZM125.183 69.541C125.073 69.541 124.979 69.504 124.9 69.4294C124.822 69.3554 124.784 69.2662 124.784 69.1619C124.784 69.0575 124.822 68.9684 124.9 68.8944C124.979 68.8198 125.073 68.7828 125.183 68.7828C125.292 68.7828 125.386 68.8198 125.463 68.8944C125.543 68.9684 125.582 69.0575 125.582 69.1619C125.582 69.2662 125.543 69.3554 125.463 69.4294C125.386 69.504 125.292 69.541 125.183 69.541ZM128.107 70.1475V70.6213H126.215V70.1475H128.107ZM126.767 69.2753H127.328V72.7442C127.328 72.9025 127.35 73.0208 127.397 73.0996C127.444 73.1773 127.504 73.2294 127.577 73.2561C127.652 73.2816 127.73 73.2937 127.812 73.2937C127.874 73.2937 127.925 73.2907 127.964 73.2846C128.004 73.2768 128.036 73.2701 128.06 73.2658L128.174 73.7681C128.136 73.782 128.082 73.7966 128.014 73.8105C127.947 73.8263 127.86 73.8342 127.756 73.8342C127.597 73.8342 127.442 73.8002 127.289 73.7323C127.139 73.6644 127.014 73.5612 126.914 73.4217C126.815 73.2828 126.767 73.1075 126.767 72.8958V69.2753ZM130.976 73.7869V68.9344H131.537V70.7256H131.585C131.626 70.6625 131.683 70.5818 131.756 70.4842C131.831 70.3847 131.936 70.2961 132.075 70.2185C132.214 70.1396 132.403 70.1002 132.64 70.1002C132.948 70.1002 133.219 70.1766 133.453 70.3301C133.688 70.483 133.871 70.7001 134.002 70.9815C134.134 71.263 134.199 71.5942 134.199 71.9769C134.199 72.3621 134.134 72.6963 134.002 72.9789C133.871 73.2604 133.688 73.4781 133.456 73.6328C133.223 73.7863 132.954 73.8627 132.65 73.8627C132.415 73.8627 132.227 73.8239 132.087 73.7468C131.946 73.6674 131.837 73.5782 131.761 73.4787C131.685 73.3781 131.626 73.2937 131.585 73.2276H131.518V73.7869H130.976ZM131.528 71.9672C131.528 72.242 131.568 72.4846 131.649 72.6945C131.73 72.9031 131.848 73.0663 132.003 73.1852C132.159 73.3022 132.349 73.3605 132.574 73.3605C132.808 73.3605 133.004 73.2986 133.161 73.1755C133.32 73.0505 133.438 72.8831 133.517 72.6732C133.598 72.4615 133.638 72.2262 133.638 71.9672C133.638 71.7112 133.599 71.4807 133.52 71.2751C133.442 71.0683 133.324 70.9051 133.166 70.785C133.009 70.6631 132.811 70.6024 132.574 70.6024C132.345 70.6024 132.154 70.6601 131.999 70.7753C131.843 70.8894 131.726 71.0489 131.647 71.2539C131.568 71.4577 131.528 71.6955 131.528 71.9672ZM137.392 72.299V70.1475H137.953V73.7869H137.392V73.1706H137.354C137.268 73.3556 137.135 73.5127 136.955 73.6425C136.774 73.7705 136.546 73.8342 136.27 73.8342C136.042 73.8342 135.839 73.7844 135.662 73.685C135.484 73.5837 135.345 73.432 135.243 73.2301C135.142 73.0263 135.091 72.7697 135.091 72.4597V70.1475H135.652V72.4221C135.652 72.6872 135.727 72.8989 135.875 73.0572C136.026 73.2149 136.218 73.2937 136.451 73.2937C136.59 73.2937 136.732 73.2586 136.876 73.1876C137.022 73.1166 137.144 73.0074 137.242 72.8607C137.342 72.7133 137.392 72.5264 137.392 72.299ZM140.601 70.1475V70.6213H138.709V70.1475H140.601ZM139.261 69.2753H139.822V72.7442C139.822 72.9025 139.845 73.0208 139.891 73.0996C139.938 73.1773 139.998 73.2294 140.071 73.2561C140.146 73.2816 140.225 73.2937 140.307 73.2937C140.368 73.2937 140.419 73.2907 140.459 73.2846C140.498 73.2768 140.53 73.2701 140.554 73.2658L140.668 73.7681C140.63 73.782 140.577 73.7966 140.509 73.8105C140.441 73.8263 140.354 73.8342 140.25 73.8342C140.091 73.8342 139.936 73.8002 139.784 73.7323C139.633 73.6644 139.508 73.5612 139.408 73.4217C139.31 73.2828 139.261 73.1075 139.261 72.8958V69.2753ZM143.066 70.1475V70.6213H141.174V70.1475H143.066ZM141.726 69.2753H142.287V72.7442C142.287 72.9025 142.31 73.0208 142.355 73.0996C142.404 73.1773 142.464 73.2294 142.536 73.2561C142.611 73.2816 142.69 73.2937 142.772 73.2937C142.834 73.2937 142.884 73.2907 142.924 73.2846C142.963 73.2768 142.995 73.2701 143.019 73.2658L143.133 73.7681C143.095 73.782 143.042 73.7966 142.974 73.8105C142.906 73.8263 142.819 73.8342 142.714 73.8342C142.556 73.8342 142.401 73.8002 142.249 73.7323C142.098 73.6644 141.973 73.5612 141.873 73.4217C141.775 73.2828 141.726 73.1075 141.726 72.8958V69.2753ZM145.388 73.8627C145.058 73.8627 144.769 73.7844 144.52 73.628C144.273 73.4715 144.079 73.2531 143.94 72.9717C143.802 72.6908 143.733 72.3621 143.733 71.986C143.733 71.6069 143.802 71.2763 143.94 70.9937C144.079 70.7104 144.273 70.4908 144.52 70.335C144.769 70.1785 145.058 70.1002 145.388 70.1002C145.717 70.1002 146.006 70.1785 146.253 70.335C146.502 70.4908 146.695 70.7104 146.833 70.9937C146.972 71.2763 147.042 71.6069 147.042 71.986C147.042 72.3621 146.972 72.6908 146.833 72.9717C146.695 73.2531 146.502 73.4715 146.253 73.628C146.006 73.7844 145.717 73.8627 145.388 73.8627ZM145.388 73.3605C145.638 73.3605 145.844 73.2962 146.006 73.1682C146.167 73.0408 146.287 72.8722 146.365 72.6635C146.442 72.4555 146.481 72.2292 146.481 71.986C146.481 71.7428 146.442 71.5165 146.365 71.3061C146.287 71.0962 146.167 70.9263 146.006 70.7965C145.844 70.6673 145.638 70.6024 145.388 70.6024C145.137 70.6024 144.931 70.6673 144.77 70.7965C144.608 70.9263 144.488 71.0962 144.411 71.3061C144.333 71.5165 144.294 71.7428 144.294 71.986C144.294 72.2292 144.333 72.4555 144.411 72.6635C144.488 72.8722 144.608 73.0408 144.77 73.1682C144.931 73.2962 145.137 73.3605 145.388 73.3605ZM148.493 71.5978V73.7869H147.932V70.1475H148.474V70.7159H148.521C148.607 70.5315 148.737 70.3829 148.911 70.2707C149.085 70.1572 149.31 70.1002 149.586 70.1002C149.833 70.1002 150.05 70.1506 150.235 70.2519C150.42 70.3513 150.565 70.503 150.667 70.7068C150.771 70.9088 150.822 71.1647 150.822 71.4747V73.7869H150.261V71.5123C150.261 71.2266 150.187 71.0034 150.038 70.8439C149.888 70.6831 149.684 70.6024 149.424 70.6024C149.245 70.6024 149.085 70.6413 148.944 70.7183C148.805 70.7959 148.695 70.9088 148.614 71.0574C148.533 71.206 148.493 71.3861 148.493 71.5978ZM153.872 73.7869V68.9344H154.433V70.7256H154.481C154.522 70.6625 154.579 70.5818 154.652 70.4842C154.727 70.3847 154.833 70.2961 154.971 70.2185C155.11 70.1396 155.299 70.1002 155.536 70.1002C155.844 70.1002 156.114 70.1766 156.349 70.3301C156.584 70.483 156.767 70.7001 156.898 70.9815C157.03 71.263 157.095 71.5942 157.095 71.9769C157.095 72.3621 157.03 72.6963 156.898 72.9789C156.767 73.2604 156.585 73.4781 156.352 73.6328C156.119 73.7863 155.85 73.8627 155.546 73.8627C155.311 73.8627 155.123 73.8239 154.983 73.7468C154.842 73.6674 154.733 73.5782 154.657 73.4787C154.581 73.3781 154.522 73.2937 154.481 73.2276H154.414V73.7869H153.872ZM154.424 71.9672C154.424 72.242 154.464 72.4846 154.545 72.6945C154.626 72.9031 154.744 73.0663 154.899 73.1852C155.055 73.3022 155.245 73.3605 155.469 73.3605C155.704 73.3605 155.9 73.2986 156.057 73.1755C156.215 73.0505 156.334 72.8831 156.413 72.6732C156.494 72.4615 156.534 72.2262 156.534 71.9672C156.534 71.7112 156.495 71.4807 156.416 71.2751C156.338 71.0683 156.22 70.9051 156.062 70.785C155.905 70.6631 155.707 70.6024 155.469 70.6024C155.241 70.6024 155.05 70.6601 154.894 70.7753C154.739 70.8894 154.622 71.0489 154.543 71.2539C154.464 71.4577 154.424 71.6955 154.424 71.9672ZM157.987 73.7869V70.1475H158.529V70.6971H158.567C158.634 70.5169 158.754 70.3707 158.928 70.2591C159.103 70.1469 159.299 70.0905 159.518 70.0905C159.559 70.0905 159.61 70.0917 159.672 70.0929C159.734 70.0948 159.781 70.0972 159.812 70.1002V70.6686C159.793 70.6643 159.75 70.657 159.682 70.6473C159.615 70.6364 159.544 70.631 159.47 70.631C159.293 70.631 159.134 70.668 158.995 70.742C158.857 70.8147 158.747 70.916 158.667 71.0452C158.587 71.1732 158.548 71.3194 158.548 71.4838V73.7869H157.987ZM161.585 73.8724C161.354 73.8724 161.144 73.8287 160.956 73.742C160.767 73.6534 160.617 73.5261 160.506 73.3605C160.395 73.1931 160.34 72.9905 160.34 72.7539C160.34 72.5452 160.381 72.376 160.463 72.2468C160.546 72.1158 160.656 72.0133 160.794 71.9387C160.932 71.8647 161.084 71.8095 161.25 71.7731C161.418 71.7349 161.587 71.7052 161.756 71.6827C161.978 71.6542 162.158 71.633 162.296 71.619C162.435 71.6033 162.537 71.5772 162.6 71.5408C162.665 71.5044 162.698 71.4413 162.698 71.3509V71.3321C162.698 71.0986 162.634 70.9166 162.505 70.7874C162.378 70.6576 162.186 70.5927 161.927 70.5927C161.66 70.5927 161.45 70.6516 161.298 70.768C161.145 70.8851 161.038 71.0101 160.977 71.1429L160.444 70.953C160.539 70.7323 160.666 70.56 160.825 70.4369C160.985 70.3119 161.159 70.2252 161.347 70.176C161.538 70.1257 161.725 70.1002 161.908 70.1002C162.026 70.1002 162.16 70.1142 162.312 70.1427C162.466 70.1694 162.614 70.2258 162.757 70.3113C162.901 70.3962 163.021 70.5248 163.116 70.6971C163.211 70.8693 163.259 71.0998 163.259 71.3892V73.7869H162.698V73.2937H162.669C162.631 73.3732 162.567 73.4575 162.479 73.5473C162.39 73.6377 162.272 73.7141 162.125 73.7772C161.977 73.8409 161.798 73.8724 161.585 73.8724ZM161.671 73.3696C161.893 73.3696 162.079 73.3265 162.232 73.2398C162.385 73.1524 162.501 73.0408 162.579 72.9031C162.658 72.7654 162.698 72.6211 162.698 72.4694V71.9575C162.674 71.986 162.622 72.0121 162.541 72.0357C162.462 72.0582 162.37 72.0776 162.265 72.0952C162.162 72.111 162.061 72.1249 161.963 72.1376C161.866 72.1486 161.788 72.1583 161.728 72.1662C161.582 72.185 161.446 72.2159 161.319 72.2584C161.194 72.2996 161.092 72.3621 161.015 72.4458C160.939 72.5277 160.901 72.6399 160.901 72.7824C160.901 72.9765 160.973 73.1233 161.117 73.2228C161.263 73.321 161.447 73.3696 161.671 73.3696ZM164.877 71.5978V73.7869H164.316V70.1475H164.858V70.7159H164.905C164.991 70.5315 165.121 70.3829 165.295 70.2707C165.469 70.1572 165.694 70.1002 165.97 70.1002C166.218 70.1002 166.434 70.1506 166.619 70.2519C166.804 70.3513 166.948 70.503 167.052 70.7068C167.155 70.9088 167.206 71.1647 167.206 71.4747V73.7869H166.645V71.5123C166.645 71.2266 166.571 71.0034 166.422 70.8439C166.273 70.6831 166.069 70.6024 165.809 70.6024C165.629 70.6024 165.469 70.6413 165.329 70.7183C165.189 70.7959 165.079 70.9088 164.998 71.0574C164.917 71.206 164.877 71.3861 164.877 71.5978ZM169.748 73.8627C169.406 73.8627 169.111 73.782 168.863 73.6213C168.616 73.4599 168.427 73.2379 168.293 72.9553C168.16 72.6726 168.094 72.3493 168.094 71.986C168.094 71.6166 168.162 71.2903 168.298 71.0076C168.436 70.7232 168.627 70.5012 168.873 70.3416C169.12 70.1809 169.409 70.1002 169.738 70.1002C169.995 70.1002 170.226 70.1475 170.433 70.2422C170.638 70.3368 170.807 70.4696 170.939 70.6401C171.07 70.8111 171.152 71.0101 171.184 71.2375H170.623C170.58 71.0713 170.485 70.9245 170.337 70.7965C170.192 70.6673 169.995 70.6024 169.748 70.6024C169.529 70.6024 169.337 70.6595 169.173 70.7729C169.009 70.8851 168.882 71.044 168.79 71.249C168.7 71.4528 168.655 71.6924 168.655 71.9672C168.655 72.2486 168.699 72.4931 168.787 72.7017C168.878 72.9104 169.005 73.0724 169.168 73.1876C169.333 73.3028 169.526 73.3605 169.748 73.3605C169.894 73.3605 170.026 73.335 170.145 73.2846C170.264 73.2343 170.365 73.1615 170.447 73.0663C170.529 72.9717 170.588 72.8582 170.623 72.7254H171.184C171.152 72.9401 171.073 73.1336 170.948 73.3059C170.825 73.4763 170.661 73.6122 170.456 73.7135C170.253 73.813 170.017 73.8627 169.748 73.8627ZM172.598 71.5978V73.7869H172.037V68.9344H172.598V70.7159H172.646C172.731 70.5284 172.859 70.3792 173.03 70.2682C173.203 70.156 173.433 70.1002 173.72 70.1002C173.969 70.1002 174.186 70.15 174.373 70.2494C174.561 70.3471 174.705 70.4981 174.808 70.7019C174.913 70.9039 174.965 71.1617 174.965 71.4747V73.7869H174.404V71.5123C174.404 71.223 174.329 70.9997 174.178 70.842C174.029 70.6825 173.823 70.6024 173.558 70.6024C173.375 70.6024 173.21 70.6413 173.064 70.7183C172.92 70.7959 172.806 70.9088 172.722 71.0574C172.639 71.206 172.598 71.3861 172.598 71.5978Z",fill:"black"}),p.createElement("path",{d:"M102.008 82.8852C102.008 82.215 102.553 81.6721 103.225 81.6721H109.31C109.982 81.6721 110.527 82.215 110.527 82.8852V88.9508C110.527 89.6211 109.982 90.1639 109.31 90.1639H103.225C102.553 90.1639 102.008 89.6211 102.008 88.9508V82.8852Z",fill:"#2C2C2C"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.138 84.4057H103.225V83.791H104.138C104.979 83.791 105.662 84.4706 105.662 85.3115V85.918C105.662 86.4176 106.068 86.8238 106.572 86.8238H108.702V87.4385H106.572C105.731 87.4385 105.048 86.759 105.048 85.918V85.3115C105.048 84.8119 104.641 84.4057 104.138 84.4057Z",fill:"white"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.701 84.4057H106.876V83.791H108.701V84.4057Z",fill:"white"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.29 87.1312L107.255 85.971L107.714 85.5618L109.113 87.1312L107.714 88.7005L107.255 88.2913L108.29 87.1312Z",fill:"white"}),p.createElement("path",{d:"M120.491 83.4918V88.3443H119.921L117.268 84.5345H117.221V88.3443H116.631V83.4918H117.202L119.864 87.3113H119.912V83.4918H120.491ZM123.159 88.4201C122.807 88.4201 122.504 88.3424 122.249 88.1878C121.995 88.0313 121.8 87.8135 121.662 87.5339C121.525 87.2531 121.457 86.9255 121.457 86.5531C121.457 86.1801 121.525 85.8519 121.662 85.5674C121.8 85.2818 121.991 85.0585 122.237 84.899C122.484 84.7383 122.773 84.6576 123.102 84.6576C123.292 84.6576 123.48 84.6892 123.665 84.7522C123.851 84.8153 124.019 84.9184 124.172 85.0604C124.324 85.2011 124.445 85.3873 124.535 85.6196C124.625 85.8519 124.67 86.1376 124.67 86.4773V86.7138H121.856V86.231H124.1C124.1 86.0254 124.059 85.8422 123.977 85.6809C123.896 85.5201 123.78 85.3928 123.629 85.2993C123.481 85.2065 123.305 85.1598 123.102 85.1598C122.878 85.1598 122.685 85.215 122.522 85.3254C122.361 85.4346 122.236 85.5765 122.149 85.7524C122.062 85.9277 122.018 86.1158 122.018 86.3159V86.6386C122.018 86.9134 122.066 87.1463 122.16 87.3374C122.257 87.5266 122.391 87.6716 122.563 87.7711C122.734 87.8687 122.933 87.9179 123.159 87.9179C123.306 87.9179 123.44 87.8972 123.558 87.856C123.679 87.8135 123.783 87.7504 123.87 87.6667C123.957 87.5812 124.024 87.4757 124.072 87.3489L124.614 87.5005C124.557 87.6837 124.461 87.8451 124.326 87.984C124.192 88.1217 124.025 88.229 123.827 88.306C123.629 88.3825 123.406 88.4201 123.159 88.4201ZM126.385 88.3443L125.272 84.7049H125.862L126.651 87.4914H126.689L127.468 84.7049H128.068L128.837 87.4817H128.876L129.665 84.7049H130.254L129.142 88.3443H128.59L127.792 85.5486H127.735L126.936 88.3443H126.385ZM134.428 88.4201C134.086 88.4201 133.792 88.3394 133.544 88.1787C133.297 88.0173 133.107 87.7953 132.974 87.5127C132.841 87.23 132.774 86.9067 132.774 86.5434C132.774 86.174 132.842 85.8477 132.979 85.565C133.116 85.2805 133.308 85.0585 133.554 84.899C133.801 84.7383 134.089 84.6576 134.419 84.6576C134.676 84.6576 134.907 84.7049 135.113 84.7995C135.319 84.8942 135.487 85.027 135.619 85.1974C135.751 85.3685 135.832 85.5674 135.864 85.7949H135.303C135.26 85.6287 135.165 85.4819 135.018 85.3539C134.872 85.2247 134.676 85.1598 134.428 85.1598C134.21 85.1598 134.018 85.2169 133.853 85.3303C133.69 85.4425 133.562 85.6014 133.47 85.8064C133.38 86.0102 133.335 86.2498 133.335 86.5246C133.335 86.806 133.38 87.0505 133.468 87.2591C133.559 87.4678 133.685 87.6297 133.848 87.745C134.013 87.8602 134.207 87.9179 134.428 87.9179C134.574 87.9179 134.707 87.8924 134.825 87.842C134.944 87.7917 135.044 87.7189 135.127 87.6237C135.209 87.529 135.268 87.4156 135.303 87.2828H135.864C135.832 87.4975 135.754 87.691 135.629 87.8633C135.505 88.0337 135.341 88.1696 135.137 88.2709C134.934 88.3703 134.698 88.4201 134.428 88.4201ZM138.201 88.4201C137.871 88.4201 137.582 88.3418 137.333 88.1854C137.086 88.0289 136.892 87.8105 136.753 87.5291C136.616 87.2482 136.546 86.9195 136.546 86.5434C136.546 86.1643 136.616 85.8337 136.753 85.5511C136.892 85.2678 137.086 85.0482 137.333 84.8924C137.582 84.7359 137.871 84.6576 138.201 84.6576C138.53 84.6576 138.819 84.7359 139.066 84.8924C139.315 85.0482 139.508 85.2678 139.646 85.5511C139.785 85.8337 139.855 86.1643 139.855 86.5434C139.855 86.9195 139.785 87.2482 139.646 87.5291C139.508 87.8105 139.315 88.0289 139.066 88.1854C138.819 88.3418 138.53 88.4201 138.201 88.4201ZM138.201 87.9179C138.451 87.9179 138.657 87.8536 138.819 87.7256C138.98 87.5982 139.1 87.4296 139.177 87.2209C139.255 87.0129 139.294 86.7866 139.294 86.5434C139.294 86.3002 139.255 86.0739 139.177 85.8634C139.1 85.6536 138.98 85.4837 138.819 85.3539C138.657 85.2247 138.451 85.1598 138.201 85.1598C137.951 85.1598 137.744 85.2247 137.582 85.3539C137.421 85.4837 137.301 85.6536 137.224 85.8634C137.146 86.0739 137.107 86.3002 137.107 86.5434C137.107 86.7866 137.146 87.0129 137.224 87.2209C137.301 87.4296 137.421 87.5982 137.582 87.7256C137.744 87.8536 137.951 87.9179 138.201 87.9179ZM140.745 88.3443V84.7049H141.287V85.2733H141.334C141.41 85.0792 141.533 84.9281 141.702 84.8208C141.872 84.7122 142.075 84.6576 142.313 84.6576C142.554 84.6576 142.755 84.7122 142.915 84.8208C143.076 84.9281 143.202 85.0792 143.292 85.2733H143.331C143.424 85.0858 143.564 84.9366 143.751 84.8256C143.939 84.7134 144.163 84.6576 144.424 84.6576C144.75 84.6576 145.018 84.7595 145.225 84.9633C145.432 85.1653 145.537 85.4807 145.537 85.9083V88.3443H144.976V85.9083C144.976 85.6402 144.902 85.448 144.755 85.3327C144.607 85.2175 144.433 85.1598 144.234 85.1598C143.977 85.1598 143.779 85.2375 143.637 85.3921C143.496 85.545 143.426 85.7397 143.426 85.975V88.3443H142.856V85.8519C142.856 85.6445 142.788 85.4783 142.654 85.3515C142.518 85.2235 142.345 85.1598 142.133 85.1598C141.987 85.1598 141.851 85.1987 141.724 85.2757C141.599 85.3533 141.497 85.4607 141.42 85.5984C141.343 85.7343 141.306 85.8913 141.306 86.0697V88.3443H140.745ZM146.596 89.709V84.7049H147.137V85.283H147.204C147.245 85.2199 147.302 85.1392 147.375 85.0416C147.45 84.9421 147.556 84.8535 147.694 84.7759C147.833 84.697 148.022 84.6576 148.259 84.6576C148.567 84.6576 148.838 84.734 149.072 84.8875C149.307 85.0403 149.49 85.2575 149.621 85.5389C149.753 85.8204 149.818 86.1516 149.818 86.5343C149.818 86.9195 149.753 87.2537 149.621 87.5363C149.49 87.8178 149.308 88.0355 149.075 88.1902C148.842 88.3437 148.573 88.4201 148.269 88.4201C148.034 88.4201 147.847 88.3813 147.706 88.3042C147.565 88.2248 147.456 88.1356 147.38 88.0361C147.304 87.9354 147.245 87.8511 147.204 87.785H147.156V89.709H146.596ZM147.147 86.5246C147.147 86.7994 147.187 87.042 147.268 87.2519C147.349 87.4605 147.467 87.6237 147.622 87.7426C147.778 87.8596 147.968 87.9179 148.193 87.9179C148.427 87.9179 148.623 87.856 148.78 87.7329C148.939 87.6079 149.057 87.4405 149.136 87.2306C149.217 87.0189 149.258 86.7836 149.258 86.5246C149.258 86.2686 149.218 86.0381 149.139 85.8325C149.061 85.6257 148.943 85.4625 148.785 85.3424C148.628 85.2205 148.43 85.1598 148.193 85.1598C147.965 85.1598 147.773 85.2175 147.618 85.3327C147.462 85.4467 147.345 85.6063 147.266 85.8113C147.187 86.0151 147.147 86.2529 147.147 86.5246ZM152.191 88.4201C151.861 88.4201 151.572 88.3418 151.323 88.1854C151.076 88.0289 150.883 87.8105 150.743 87.5291C150.606 87.2482 150.536 86.9195 150.536 86.5434C150.536 86.1643 150.606 85.8337 150.743 85.5511C150.883 85.2678 151.076 85.0482 151.323 84.8924C151.572 84.7359 151.861 84.6576 152.191 84.6576C152.521 84.6576 152.809 84.7359 153.056 84.8924C153.305 85.0482 153.499 85.2678 153.636 85.5511C153.775 85.8337 153.845 86.1643 153.845 86.5434C153.845 86.9195 153.775 87.2482 153.636 87.5291C153.499 87.8105 153.305 88.0289 153.056 88.1854C152.809 88.3418 152.521 88.4201 152.191 88.4201ZM152.191 87.9179C152.442 87.9179 152.647 87.8536 152.809 87.7256C152.97 87.5982 153.09 87.4296 153.168 87.2209C153.245 87.0129 153.284 86.7866 153.284 86.5434C153.284 86.3002 153.245 86.0739 153.168 85.8634C153.09 85.6536 152.97 85.4837 152.809 85.3539C152.647 85.2247 152.442 85.1598 152.191 85.1598C151.941 85.1598 151.735 85.2247 151.573 85.3539C151.411 85.4837 151.292 85.6536 151.214 85.8634C151.136 86.0739 151.097 86.3002 151.097 86.5434C151.097 86.7866 151.136 87.0129 151.214 87.2209C151.292 87.4296 151.411 87.5982 151.573 87.7256C151.735 87.8536 151.941 87.9179 152.191 87.9179ZM155.296 86.1552V88.3443H154.735V84.7049H155.277V85.2733H155.325C155.41 85.0889 155.54 84.9403 155.715 84.8281C155.889 84.7146 156.114 84.6576 156.389 84.6576C156.636 84.6576 156.853 84.708 157.038 84.8092C157.224 84.9087 157.368 85.0604 157.471 85.2642C157.574 85.4661 157.625 85.7221 157.625 86.0321V88.3443H157.064V86.0697C157.064 85.784 156.99 85.5608 156.841 85.4012C156.692 85.2405 156.487 85.1598 156.228 85.1598C156.049 85.1598 155.889 85.1987 155.747 85.2757C155.608 85.3533 155.498 85.4662 155.417 85.6148C155.336 85.7634 155.296 85.9435 155.296 86.1552ZM160.214 88.4201C159.863 88.4201 159.56 88.3424 159.304 88.1878C159.051 88.0313 158.855 87.8135 158.717 87.5339C158.581 87.2531 158.512 86.9255 158.512 86.5531C158.512 86.1801 158.581 85.8519 158.717 85.5674C158.855 85.2818 159.047 85.0585 159.293 84.899C159.54 84.7383 159.828 84.6576 160.158 84.6576C160.348 84.6576 160.536 84.6892 160.721 84.7522C160.906 84.8153 161.075 84.9184 161.227 85.0604C161.379 85.2011 161.501 85.3873 161.591 85.6196C161.681 85.8519 161.726 86.1376 161.726 86.4773V86.7138H158.912V86.231H161.156C161.156 86.0254 161.114 85.8422 161.032 85.6809C160.951 85.5201 160.836 85.3928 160.685 85.2993C160.536 85.2065 160.36 85.1598 160.158 85.1598C159.934 85.1598 159.741 85.215 159.577 85.3254C159.416 85.4346 159.291 85.5765 159.204 85.7524C159.117 85.9277 159.073 86.1158 159.073 86.3159V86.6386C159.073 86.9134 159.121 87.1463 159.216 87.3374C159.313 87.5266 159.447 87.6716 159.618 87.7711C159.789 87.8687 159.988 87.9179 160.214 87.9179C160.362 87.9179 160.495 87.8972 160.614 87.856C160.734 87.8135 160.838 87.7504 160.925 87.6667C161.013 87.5812 161.08 87.4757 161.127 87.3489L161.669 87.5005C161.612 87.6837 161.516 87.8451 161.381 87.984C161.247 88.1217 161.081 88.229 160.882 88.306C160.684 88.3825 160.462 88.4201 160.214 88.4201ZM163.174 86.1552V88.3443H162.613V84.7049H163.155V85.2733H163.203C163.288 85.0889 163.418 84.9403 163.592 84.8281C163.767 84.7146 163.992 84.6576 164.267 84.6576C164.514 84.6576 164.731 84.708 164.916 84.8092C165.102 84.9087 165.246 85.0604 165.349 85.2642C165.452 85.4661 165.503 85.7221 165.503 86.0321V88.3443H164.942V86.0697C164.942 85.784 164.868 85.5608 164.719 85.4012C164.57 85.2405 164.365 85.1598 164.106 85.1598C163.927 85.1598 163.767 85.1987 163.626 85.2757C163.486 85.3533 163.376 85.4662 163.295 85.6148C163.214 85.7634 163.174 85.9435 163.174 86.1552ZM168.15 84.7049V85.1786H166.258V84.7049H168.15ZM166.809 83.8327H167.37V87.3016C167.37 87.4599 167.393 87.5782 167.439 87.657C167.486 87.7347 167.547 87.7868 167.62 87.8135C167.694 87.839 167.772 87.8511 167.855 87.8511C167.917 87.8511 167.968 87.8481 168.007 87.842C168.047 87.8341 168.078 87.8275 168.102 87.8232L168.216 88.3255C168.178 88.3394 168.125 88.354 168.057 88.3679C167.989 88.3837 167.903 88.3916 167.798 88.3916C167.639 88.3916 167.484 88.3576 167.332 88.2897C167.181 88.2217 167.056 88.1186 166.956 87.9791C166.858 87.8402 166.809 87.6649 166.809 87.4532V83.8327ZM171.547 85.5201L171.044 85.6621C171.012 85.5784 170.965 85.4971 170.904 85.4182C170.843 85.3376 170.761 85.2714 170.656 85.2193C170.552 85.1671 170.418 85.141 170.254 85.141C170.031 85.141 169.845 85.192 169.696 85.2951C169.548 85.3958 169.475 85.525 169.475 85.6809C169.475 85.8204 169.525 85.9302 169.627 86.0102C169.729 86.0909 169.887 86.1582 170.102 86.2116L170.644 86.3444C170.97 86.4233 171.214 86.5446 171.374 86.7072C171.534 86.8679 171.614 87.076 171.614 87.3301C171.614 87.5388 171.554 87.725 171.434 87.8893C171.314 88.0537 171.148 88.1829 170.934 88.2782C170.72 88.3728 170.472 88.4201 170.188 88.4201C169.816 88.4201 169.507 88.3394 169.263 88.1787C169.019 88.0173 168.865 87.782 168.8 87.472L169.332 87.3398C169.383 87.5357 169.479 87.6825 169.62 87.7802C169.763 87.8784 169.949 87.927 170.178 87.927C170.44 87.927 170.647 87.8718 170.801 87.7614C170.957 87.6492 171.034 87.5151 171.034 87.3586C171.034 87.2324 170.99 87.1263 170.901 87.0414C170.812 86.954 170.676 86.8897 170.492 86.8467L169.884 86.7047C169.549 86.6259 169.304 86.5034 169.147 86.3372C168.992 86.1698 168.914 85.9605 168.914 85.7094C168.914 85.5044 168.972 85.3224 169.087 85.1647C169.205 85.0064 169.364 84.8826 169.565 84.7929C169.768 84.7025 169.998 84.6576 170.254 84.6576C170.616 84.6576 170.899 84.7365 171.106 84.8942C171.313 85.0525 171.46 85.2611 171.547 85.5201Z",fill:"black"}),p.createElement("path",{d:"M102.008 97.4426C102.008 96.7724 102.553 96.2295 103.225 96.2295H109.31C109.982 96.2295 110.527 96.7724 110.527 97.4426V103.508C110.527 104.178 109.982 104.721 109.31 104.721H103.225C102.553 104.721 102.008 104.178 102.008 103.508V97.4426Z",fill:"#2C2C2C"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.138 98.9631H103.225V98.3484H104.138C104.979 98.3484 105.662 99.0279 105.662 99.8688V100.475C105.662 100.975 106.068 101.381 106.572 101.381H108.702V101.996H106.572C105.731 101.996 105.048 101.316 105.048 100.475V99.8688C105.048 99.3693 104.641 98.9631 104.138 98.9631Z",fill:"white"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.701 98.9631H106.876V98.3484H108.701V98.9631Z",fill:"white"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.29 101.689L107.255 100.528L107.714 100.119L109.113 101.689L107.714 103.258L107.255 102.849L108.29 101.689Z",fill:"white"}),p.createElement("path",{d:"M118.357 102.902H116.855V98.0492H118.424C118.896 98.0492 119.3 98.1462 119.636 98.3403C119.972 98.5332 120.229 98.8104 120.408 99.1725C120.587 99.5322 120.677 99.9635 120.677 100.466C120.677 100.972 120.586 101.406 120.405 101.772C120.225 102.135 119.962 102.415 119.617 102.611C119.271 102.805 118.851 102.902 118.357 102.902ZM117.444 102.381H118.319C118.721 102.381 119.055 102.303 119.319 102.148C119.584 101.994 119.781 101.773 119.911 101.487C120.041 101.201 120.106 100.861 120.106 100.466C120.106 100.074 120.042 99.7372 119.914 99.454C119.785 99.1701 119.594 98.9518 119.339 98.8001C119.083 98.6473 118.766 98.5702 118.385 98.5702H117.444V102.381ZM122.697 102.987C122.466 102.987 122.256 102.944 122.067 102.857C121.879 102.768 121.729 102.641 121.618 102.475C121.507 102.308 121.452 102.105 121.452 101.869C121.452 101.66 121.493 101.491 121.576 101.362C121.658 101.231 121.768 101.128 121.906 101.053C122.044 100.979 122.196 100.924 122.362 100.888C122.53 100.85 122.699 100.82 122.869 100.798C123.09 100.769 123.27 100.748 123.408 100.734C123.548 100.718 123.649 100.692 123.712 100.656C123.777 100.619 123.81 100.556 123.81 100.466V100.447C123.81 100.213 123.745 100.031 123.617 99.9022C123.49 99.7724 123.298 99.7075 123.04 99.7075C122.772 99.7075 122.562 99.7664 122.41 99.8828C122.258 99.9999 122.151 100.125 122.089 100.258L121.556 100.068C121.652 99.847 121.778 99.6748 121.936 99.5516C122.096 99.4267 122.271 99.3399 122.46 99.2908C122.65 99.2405 122.837 99.215 123.021 99.215C123.138 99.215 123.273 99.2289 123.425 99.2575C123.578 99.2841 123.727 99.3406 123.869 99.4261C124.013 99.511 124.133 99.6396 124.228 99.8119C124.323 99.9841 124.37 100.215 124.37 100.504V102.902H123.81V102.409H123.781C123.743 102.488 123.68 102.572 123.591 102.662C123.502 102.752 123.384 102.829 123.237 102.892C123.089 102.956 122.909 102.987 122.697 102.987ZM122.783 102.484C123.005 102.484 123.192 102.441 123.344 102.355C123.497 102.267 123.613 102.156 123.691 102.018C123.77 101.88 123.81 101.736 123.81 101.584V101.072C123.786 101.101 123.734 101.127 123.653 101.151C123.573 101.173 123.481 101.192 123.377 101.21C123.274 101.226 123.173 101.24 123.075 101.252C122.979 101.263 122.9 101.273 122.84 101.281C122.694 101.3 122.558 101.331 122.431 101.373C122.306 101.414 122.204 101.477 122.127 101.561C122.051 101.642 122.012 101.755 122.012 101.897C122.012 102.091 122.085 102.238 122.229 102.338C122.375 102.436 122.56 102.484 122.783 102.484ZM125.989 100.713V102.902H125.428V99.2623H125.97V99.8306H126.018C126.103 99.6463 126.233 99.4977 126.407 99.3854C126.582 99.272 126.807 99.215 127.082 99.215C127.329 99.215 127.545 99.2653 127.731 99.3666C127.917 99.4661 128.061 99.6177 128.164 99.8216C128.266 100.024 128.318 100.28 128.318 100.589V102.902H127.757V100.627C127.757 100.341 127.683 100.118 127.534 99.9586C127.385 99.7979 127.18 99.7172 126.92 99.7172C126.742 99.7172 126.582 99.756 126.44 99.8331C126.301 99.9107 126.191 100.024 126.11 100.172C126.029 100.321 125.989 100.501 125.989 100.713ZM129.377 102.902V99.2623H129.937V102.902H129.377ZM129.662 98.6557C129.553 98.6557 129.458 98.6187 129.379 98.5441C129.301 98.4701 129.263 98.381 129.263 98.2767C129.263 98.1723 129.301 98.0832 129.379 98.0092C129.458 97.9346 129.553 97.8976 129.662 97.8976C129.771 97.8976 129.865 97.9346 129.942 98.0092C130.021 98.0832 130.061 98.1723 130.061 98.2767C130.061 98.381 130.021 98.4701 129.942 98.5441C129.865 98.6187 129.771 98.6557 129.662 98.6557ZM132.529 102.977C132.177 102.977 131.874 102.9 131.619 102.745C131.365 102.589 131.17 102.371 131.032 102.091C130.896 101.81 130.828 101.483 130.828 101.11C130.828 100.737 130.896 100.409 131.032 100.125C131.17 99.8391 131.361 99.6159 131.607 99.4564C131.854 99.2957 132.142 99.215 132.472 99.215C132.662 99.215 132.85 99.2465 133.036 99.3096C133.221 99.3727 133.39 99.4758 133.542 99.6177C133.694 99.7585 133.815 99.9447 133.905 100.177C133.996 100.409 134.041 100.695 134.041 101.035V101.271H131.227V100.788H133.47C133.47 100.583 133.429 100.4 133.347 100.238C133.266 100.078 133.15 99.9501 133 99.8567C132.851 99.7639 132.675 99.7172 132.472 99.7172C132.249 99.7172 132.055 99.7724 131.892 99.8828C131.731 99.992 131.606 100.134 131.519 100.31C131.432 100.485 131.389 100.673 131.389 100.873V101.196C131.389 101.471 131.436 101.704 131.531 101.895C131.628 102.084 131.762 102.229 131.933 102.328C132.104 102.426 132.303 102.475 132.529 102.475C132.677 102.475 132.809 102.455 132.929 102.413C133.049 102.371 133.153 102.308 133.24 102.224C133.327 102.139 133.394 102.033 133.442 101.906L133.984 102.058C133.927 102.241 133.831 102.402 133.697 102.541C133.561 102.679 133.395 102.786 133.197 102.863C132.999 102.94 132.777 102.977 132.529 102.977ZM135.489 98.0492V102.902H134.928V98.0492H135.489ZM137.044 98.0492V98.4756C137.044 98.6054 137.02 98.7437 136.973 98.8905C136.926 99.0355 136.858 99.1768 136.768 99.3145C136.679 99.4503 136.572 99.5686 136.445 99.6699L136.141 99.4237C136.241 99.2811 136.327 99.1337 136.4 98.9803C136.474 98.8256 136.511 98.6606 136.511 98.4853V98.0492H137.044ZM139.888 100.078L139.384 100.219C139.352 100.136 139.306 100.054 139.244 99.9756C139.184 99.8949 139.101 99.8288 138.996 99.7767C138.892 99.7245 138.758 99.6984 138.595 99.6984C138.372 99.6984 138.185 99.7494 138.036 99.8525C137.889 99.9532 137.815 100.082 137.815 100.238C137.815 100.378 137.866 100.488 137.967 100.568C138.069 100.648 138.227 100.716 138.443 100.769L138.985 100.902C139.311 100.981 139.554 101.102 139.714 101.265C139.874 101.425 139.955 101.633 139.955 101.887C139.955 102.096 139.895 102.282 139.774 102.447C139.655 102.611 139.489 102.74 139.275 102.836C139.061 102.93 138.812 102.977 138.529 102.977C138.156 102.977 137.848 102.897 137.604 102.736C137.36 102.575 137.205 102.339 137.141 102.029L137.673 101.897C137.723 102.093 137.82 102.24 137.96 102.338C138.103 102.436 138.289 102.484 138.519 102.484C138.78 102.484 138.988 102.429 139.142 102.319C139.297 102.207 139.375 102.072 139.375 101.916C139.375 101.79 139.33 101.684 139.242 101.599C139.153 101.511 139.017 101.447 138.833 101.404L138.224 101.262C137.89 101.183 137.644 101.061 137.487 100.895C137.332 100.727 137.254 100.518 137.254 100.267C137.254 100.062 137.312 99.8798 137.428 99.7221C137.545 99.5638 137.705 99.44 137.905 99.3503C138.109 99.2599 138.338 99.215 138.595 99.215C138.956 99.215 139.24 99.2938 139.446 99.4516C139.654 99.6099 139.801 99.8185 139.888 100.078ZM144.232 102.977C143.889 102.977 143.595 102.897 143.347 102.736C143.1 102.575 142.91 102.353 142.777 102.07C142.644 101.787 142.577 101.464 142.577 101.101C142.577 100.731 142.646 100.405 142.782 100.122C142.919 99.8379 143.111 99.6159 143.357 99.4564C143.604 99.2957 143.892 99.215 144.222 99.215C144.479 99.215 144.71 99.2623 144.916 99.3569C145.122 99.4516 145.291 99.5844 145.423 99.7548C145.554 99.9259 145.636 100.125 145.667 100.352H145.106C145.064 100.186 144.969 100.039 144.821 99.9113C144.675 99.7821 144.479 99.7172 144.232 99.7172C144.013 99.7172 143.821 99.7742 143.656 99.8877C143.493 99.9999 143.365 100.159 143.273 100.364C143.183 100.568 143.138 100.807 143.138 101.082C143.138 101.363 143.183 101.608 143.271 101.817C143.362 102.025 143.488 102.187 143.651 102.302C143.816 102.418 144.01 102.475 144.232 102.475C144.377 102.475 144.51 102.45 144.629 102.399C144.747 102.349 144.848 102.276 144.93 102.181C145.012 102.086 145.072 101.973 145.106 101.84H145.667C145.636 102.055 145.557 102.248 145.432 102.421C145.308 102.591 145.145 102.727 144.94 102.828C144.737 102.928 144.501 102.977 144.232 102.977ZM147.081 100.713V102.902H146.521V98.0492H147.081V99.8306H147.129C147.215 99.6432 147.343 99.494 147.514 99.383C147.687 99.2708 147.917 99.215 148.203 99.215C148.452 99.215 148.67 99.2647 148.857 99.3642C149.044 99.4619 149.189 99.6129 149.292 99.8167C149.397 100.019 149.449 100.276 149.449 100.589V102.902H148.888V100.627C148.888 100.338 148.813 100.115 148.662 99.9568C148.513 99.7973 148.307 99.7172 148.042 99.7172C147.858 99.7172 147.693 99.756 147.547 99.8331C147.403 99.9107 147.289 100.024 147.205 100.172C147.123 100.321 147.081 100.501 147.081 100.713ZM151.583 102.987C151.352 102.987 151.142 102.944 150.953 102.857C150.764 102.768 150.615 102.641 150.504 102.475C150.393 102.308 150.337 102.105 150.337 101.869C150.337 101.66 150.379 101.491 150.461 101.362C150.544 101.231 150.654 101.128 150.791 101.053C150.929 100.979 151.082 100.924 151.248 100.888C151.416 100.85 151.585 100.82 151.754 100.798C151.976 100.769 152.156 100.748 152.294 100.734C152.433 100.718 152.535 100.692 152.598 100.656C152.663 100.619 152.695 100.556 152.695 100.466V100.447C152.695 100.213 152.631 100.031 152.503 99.9022C152.376 99.7724 152.183 99.7075 151.925 99.7075C151.658 99.7075 151.448 99.7664 151.296 99.8828C151.144 99.9999 151.036 100.125 150.974 100.258L150.442 100.068C150.538 99.847 150.664 99.6748 150.822 99.5516C150.982 99.4267 151.157 99.3399 151.346 99.2908C151.535 99.2405 151.722 99.215 151.907 99.215C152.023 99.215 152.159 99.2289 152.311 99.2575C152.464 99.2841 152.612 99.3406 152.755 99.4261C152.899 99.511 153.019 99.6396 153.114 99.8119C153.209 99.9841 153.256 100.215 153.256 100.504V102.902H152.695V102.409H152.667C152.629 102.488 152.566 102.572 152.477 102.662C152.388 102.752 152.27 102.829 152.123 102.892C151.975 102.956 151.795 102.987 151.583 102.987ZM151.669 102.484C151.89 102.484 152.078 102.441 152.23 102.355C152.383 102.267 152.499 102.156 152.577 102.018C152.656 101.88 152.695 101.736 152.695 101.584V101.072C152.671 101.101 152.619 101.127 152.539 101.151C152.459 101.173 152.367 101.192 152.263 101.21C152.16 101.226 152.059 101.24 151.961 101.252C151.865 101.263 151.786 101.273 151.726 101.281C151.58 101.3 151.444 101.331 151.317 101.373C151.192 101.414 151.09 101.477 151.013 101.561C150.937 101.642 150.898 101.755 150.898 101.897C150.898 102.091 150.971 102.238 151.115 102.338C151.26 102.436 151.445 102.484 151.669 102.484ZM154.875 100.713V102.902H154.314V99.2623H154.856V99.8306H154.903C154.989 99.6463 155.119 99.4977 155.293 99.3854C155.467 99.272 155.693 99.215 155.968 99.215C156.215 99.215 156.431 99.2653 156.617 99.3666C156.802 99.4661 156.947 99.6177 157.049 99.8216C157.152 100.024 157.204 100.28 157.204 100.589V102.902H156.643V100.627C156.643 100.341 156.569 100.118 156.42 99.9586C156.271 99.7979 156.066 99.7172 155.806 99.7172C155.627 99.7172 155.467 99.756 155.326 99.8331C155.187 99.9107 155.077 100.024 154.996 100.172C154.915 100.321 154.875 100.501 154.875 100.713ZM159.736 104.342C159.465 104.342 159.232 104.308 159.037 104.238C158.843 104.17 158.68 104.08 158.55 103.968C158.422 103.858 158.319 103.739 158.243 103.613L158.691 103.3C158.741 103.366 158.805 103.442 158.883 103.527C158.961 103.614 159.067 103.689 159.201 103.752C159.337 103.817 159.516 103.849 159.736 103.849C160.031 103.849 160.274 103.778 160.466 103.636C160.658 103.494 160.753 103.271 160.753 102.968V102.229H160.706C160.664 102.295 160.606 102.377 160.53 102.475C160.456 102.572 160.348 102.658 160.207 102.734C160.068 102.808 159.879 102.845 159.641 102.845C159.347 102.845 159.082 102.775 158.847 102.637C158.615 102.497 158.43 102.295 158.293 102.029C158.159 101.764 158.091 101.442 158.091 101.063C158.091 100.69 158.157 100.366 158.288 100.089C158.42 99.8112 158.603 99.5965 158.838 99.4449C159.072 99.2914 159.343 99.215 159.651 99.215C159.888 99.215 160.077 99.2544 160.216 99.3333C160.357 99.4109 160.465 99.4995 160.54 99.5989C160.616 99.6966 160.674 99.7773 160.716 99.8404H160.772V99.2623H161.314V103.006C161.314 103.319 161.243 103.573 161.101 103.769C160.96 103.966 160.769 104.111 160.53 104.203C160.292 104.296 160.027 104.342 159.736 104.342ZM159.717 102.342C159.942 102.342 160.132 102.291 160.288 102.188C160.443 102.086 160.561 101.938 160.642 101.746C160.722 101.553 160.763 101.322 160.763 101.053C160.763 100.791 160.724 100.56 160.644 100.36C160.565 100.159 160.448 100.002 160.292 99.8877C160.137 99.7742 159.945 99.7172 159.717 99.7172C159.479 99.7172 159.281 99.7773 159.123 99.8974C158.966 100.017 158.848 100.178 158.768 100.381C158.691 100.583 158.652 100.807 158.652 101.053C158.652 101.306 158.692 101.53 158.771 101.724C158.852 101.917 158.971 102.068 159.127 102.179C159.286 102.288 159.483 102.342 159.717 102.342ZM163.905 102.977C163.554 102.977 163.25 102.9 162.995 102.745C162.741 102.589 162.546 102.371 162.408 102.091C162.271 101.81 162.203 101.483 162.203 101.11C162.203 100.737 162.271 100.409 162.408 100.125C162.546 99.8391 162.738 99.6159 162.983 99.4564C163.23 99.2957 163.519 99.215 163.848 99.215C164.039 99.215 164.227 99.2465 164.412 99.3096C164.597 99.3727 164.766 99.4758 164.918 99.6177C165.07 99.7585 165.191 99.9447 165.282 100.177C165.372 100.409 165.417 100.695 165.417 101.035V101.271H162.603V100.788H164.847C164.847 100.583 164.805 100.4 164.723 100.238C164.642 100.078 164.527 99.9501 164.376 99.8567C164.227 99.7639 164.051 99.7172 163.848 99.7172C163.625 99.7172 163.432 99.7724 163.268 99.8828C163.107 99.992 162.982 100.134 162.895 100.31C162.808 100.485 162.764 100.673 162.764 100.873V101.196C162.764 101.471 162.812 101.704 162.907 101.895C163.004 102.084 163.137 102.229 163.309 102.328C163.48 102.426 163.679 102.475 163.905 102.475C164.053 102.475 164.186 102.455 164.304 102.413C164.425 102.371 164.529 102.308 164.616 102.224C164.703 102.139 164.771 102.033 164.818 101.906L165.36 102.058C165.303 102.241 165.207 102.402 165.072 102.541C164.938 102.679 164.771 102.786 164.573 102.863C164.375 102.94 164.152 102.977 163.905 102.977ZM168.89 100.078L168.386 100.219C168.354 100.136 168.308 100.054 168.246 99.9756C168.185 99.8949 168.103 99.8288 167.999 99.7767C167.894 99.7245 167.76 99.6984 167.597 99.6984C167.374 99.6984 167.187 99.7494 167.038 99.8525C166.891 99.9532 166.817 100.082 166.817 100.238C166.817 100.378 166.868 100.488 166.97 100.568C167.071 100.648 167.229 100.716 167.445 100.769L167.987 100.902C168.313 100.981 168.557 101.102 168.717 101.265C168.877 101.425 168.956 101.633 168.956 101.887C168.956 102.096 168.896 102.282 168.776 102.447C168.657 102.611 168.491 102.74 168.277 102.836C168.063 102.93 167.814 102.977 167.531 102.977C167.158 102.977 166.85 102.897 166.606 102.736C166.362 102.575 166.207 102.339 166.142 102.029L166.674 101.897C166.726 102.093 166.821 102.24 166.962 102.338C167.105 102.436 167.291 102.484 167.521 102.484C167.783 102.484 167.99 102.429 168.143 102.319C168.299 102.207 168.376 102.072 168.376 101.916C168.376 101.79 168.332 101.684 168.243 101.599C168.155 101.511 168.019 101.447 167.835 101.404L167.226 101.262C166.892 101.183 166.646 101.061 166.489 100.895C166.334 100.727 166.256 100.518 166.256 100.267C166.256 100.062 166.314 99.8798 166.43 99.7221C166.547 99.5638 166.706 99.44 166.908 99.3503C167.11 99.2599 167.34 99.215 167.597 99.215C167.958 99.215 168.242 99.2938 168.448 99.4516C168.655 99.6099 168.803 99.8185 168.89 100.078Z",fill:"black"}),p.createElement("defs",null,p.createElement("filter",{id:"filter0_ddd_5_7",x:"88.5318",y:"56.6557",width:"106.055",height:"64.5246",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},p.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),p.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),p.createElement("feOffset",{dy:"1"}),p.createElement("feGaussianBlur",{stdDeviation:"1.5"}),p.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),p.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_5_7"}),p.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),p.createElement("feOffset",{dy:"3"}),p.createElement("feGaussianBlur",{stdDeviation:"4"}),p.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),p.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),p.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_5_7",result:"effect2_dropShadow_5_7"}),p.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),p.createElement("feOffset",null),p.createElement("feGaussianBlur",{stdDeviation:"0.25"}),p.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),p.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.18 0"}),p.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_5_7",result:"effect3_dropShadow_5_7"}),p.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_5_7",result:"shape"})),p.createElement("clipPath",{id:"clip0_5_7"},p.createElement("rect",{width:"33",height:"9",fill:"white",transform:"translate(97 8)"}))))}var K=n(60601),j=n(72517);function Y({trackingName:e,upsellSource:r,titleText:n,primaryCtaText:i,onClickPrimaryCta:a,secondaryCtaText:o,onClickSecondaryCta:s,leftPane:l,rightPane:d,buttonsHelperComponent:c,hideSecondaryCta:u=!1}){return p.createElement(j.fu,{name:e,properties:{upsellSource:r}},p.createElement(L.Rw,{confirmationTitle:n,titleClass:"upsell_modal_template--title--q0HZ-",confirmText:i,cancelText:o,helperText:c,helperTextClass:U.cx.flexGrow1.$,onConfirm:a,onCancel:s,overrideOnHide:K.lQ,className:"upsell_modal_template--modal--soxP1",hideCancel:u,hideOnConfirm:!1,hideOnCancel:!1,autoFocusCta:!1,trackedConfirmationProperties:{upsellSource:r}},p.createElement("div",{className:U.cx.lh24.font13.pt24.pr0.pb32.pl0.$},p.createElement(B.Y,{spacing:24},p.createElement("div",null,l),p.createElement("div",null,d))),p.createElement("div",{className:U.cx.bt1.colorBorder.bSolid.$})))}var $=n(58617);let q="https://help.figma.com/hc/articles/360063144053-Guide-to-branching",Z=[{key:1,elem:p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.feature1"})},{key:2,elem:p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.feature2"})},{key:3,elem:p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.feature3"})}],X=(0,P.Ju)(function({currentTeam:e,canAdminCurrentTeam:r,trackingContextName:n}){let i=(0,h.wA)(),a=G.b.OSS_EXPOSURE_BRANCHING_UPSELL_MODAL,s=r?p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.body1"}):p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.nonadmin.body1",learnMoreLink:p.createElement(y.Us,{href:q,target:"_blank",trusted:!0,onClick:()=>o.Ce()},p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.nonadmin.body_link"}))}),l=r?void 0:p.createElement("div",{className:U.cx.flex.flexRow.gap8.mr36.$},p.createElement(F.B,{className:U.cx.colorIcon.$,svg:$.A}),p.createElement("div",{className:U.cx.maxW300.$},p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.nonadmin.text"})));return p.createElement(Y,{trackingName:n,upsellSource:a,titleText:p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.title"}),primaryCtaText:p.createElement(v.Tx,{id:r?"oss_exposure_branching_upsell_modal.primary_cta":"oss_exposure_branching_upsell_modal.nonadmin.cta"}),onClickPrimaryCta:r?()=>{let r=(0,H.w5)(e),n=r?W.RO:W.Q1;i((0,o.to)({type:V.V,data:{upsellSource:a,teamId:e.id,isProCurrent:r,overrideHighlightedPlan:H.Jm.ORG,overrideHighlightedBadgeText:W.zS.RECOMMENDED,featureList:(0,W.xp)(n,W.Xj.BRANCHING_AND_MERGING),openCheckoutInNewTab:!0}}))}:()=>{i(o.Ce())},secondaryCtaText:r?p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.secondary_cta"}):void 0,onClickSecondaryCta:r?()=>{x.Ay.unsafeRedirect(q,"_blank"),o.Ce()}:void 0,leftPane:p.createElement(B.Y,{direction:"vertical",spacing:"12px"},p.createElement("p",null,s),p.createElement(B.Y,{direction:"vertical",spacing:8},p.createElement("p",{className:U.cx.fontSemiBold.$},p.createElement(v.Tx,{id:"oss_exposure_branching_upsell_modal.body2"})),p.createElement(B.Y,{direction:"vertical",spacing:8},Z.map(e=>p.createElement(B.Y,{key:e.key,spacing:8,horizontalAlignItems:"start"},p.createElement("p",null,"\u2713"),p.createElement("p",null,e.elem)))))),rightPane:p.createElement(z,null),buttonsHelperComponent:l,hideSecondaryCta:!r,dispatch:i})},"OssExposureBranchingUpsellModal");var J=n(82484);let Q=(0,a.nF)((e,r,{liveStore:n})=>{let i=e.getState(),a=(0,u.ZT)(i),s=(0,c.canAdminTeam)(a,i),l=i.teams[a];l&&e.dispatch(o.to({type:X,data:{currentTeam:l,canAdminCurrentTeam:s,trackingContextName:r.trackingContextName}}))}),ee=(0,a.nF)(async(e,r,{liveStore:n})=>{let a;let s=e.getState();if(!(a=r.sourceFileKey?await n.fetchFile(r.sourceFileKey):(0,l.d1)(s)))return;let d=r.sourceFileKey||a.source_file_key||a.key;e.dispatch(o.to({type:k,data:{sourceFileKey:d}})),(0,i.sx)("Create Branch Clicked",{trackingContext:r.trackingContextName,fileKey:a.key,fileRepoId:a.file_repo_id})}),et=(0,a.nF)(async(e,r,{liveStore:n})=>{let a;let c=e.getState();if(!(a=r.sourceFileKey?await n.fetchFile(r.sourceFileKey):(0,l.d1)(c)))return;let u=c.currentUserOrgId,p=u&&c.user?c.orgUsersByOrgId.orgUsers[u][c.user.id]:null;e.dispatch(o.to({type:J.Y,data:{orgId:u,orgUser:p,entryPoint:s.PE.CreateBranch,licenseType:d.oM.DESIGN}})),(0,i.sx)("Upgrade Org Modal Shown",{trackingContext:r.trackingContextName,fileKey:a.key,fileRepoId:a.file_repo_id})})},27557:(e,r,n)=>{"use strict";let i,a;n.d(r,{s:()=>eh});var o=n(38329),s=n(84934),l=n(44780),d=n(66712),c=n(38580),u=n(74626),p=n(43282),h=n(38269),m=n(9831),g=n(52800),f=n(41860),_=n(39671),y=n(79145),E=n(79296),b=((i=b||{}).EXTENSION="extension",i.ACTION="action",i),v=n(33894),S=n(11855);n(91388),n(76621),n(4783),n(98527),n(53681),n(35682),n(16095),n(51281),n(99506);var I=n(2245),T=n(52898),w=n(9822);let C=e=>e.selectedView;(0,I.Mz)(C,e=>"workspace"===e.view&&e.subView===T.V0.DIRECTORY?e.workspaceId:void 0);let A=(0,I.Mz)(C,e=>"team"===e.view?e.teamId:void 0),N=(0,I.Mz)(C,e=>"folder"===e.view?e.folderId:void 0),O=(0,I.Mz)(C,e=>"org"===e.view?e.orgId:void 0),R=(0,I.Mz)(C,e=>e.currentTeamId,(e,r)=>"allProjects"===e.view?r:void 0),P=(0,I.Mz)(A,R,e=>e.teams,(e,r,n)=>e&&n[e]||r&&n[r]),L=(0,I.Mz)(N,e=>e.folders,(e,r)=>e&&r[e]);(0,I.Mz)(O,e=>e.orgById,(e,r)=>e&&r[e]);let D=(0,I.Mz)(L,w.D,(e,r)=>e&&e.id!==r?e:void 0);(0,I.Mz)(P,D,(e,r)=>e||r),n(32888),n(48515),(0,c.eU)({currentSearch:null}),n(17333),n(39863),n(94687);var M=n(98750);n(53234);var k=n(17068);n(44948);var x=n(60601),F=n(63706),U=n(22739);let B=S.createContext(null);function V(){return!G(document.activeElement)}function H(e){let r=document.activeElement;return!G(r)||!!e||(r instanceof HTMLDivElement?""===r.textContent:""===r.value)}function G(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)||e instanceof HTMLDivElement&&"true"===e.contentEditable}function W(e,r,n=!1){for(let i of r){let r=e.children[i];if(r){if("leaf"===r.type)throw Error("Expected a parent but got a leaf");e=r}else if(n){let r={type:"parent",children:[]};e.children[i]=r,e=r}else throw Error("Expected a parent but got nothing")}return e}function z(e,r,n=!1){let[i,a]=(0,k.Vs)(r),o=W(e,i,n),s=o.children[a];if(s){if("parent"!==s.type)return s;throw Error("Expected a parent but got a leaf")}if(n){let e={type:"leaf",items:[]};return o.children[a]=e,e}throw Error("Expected a leaf but got nothing")}function K(e,r,n){try{var i,a;let o=null==n?void 0:n(r);return o&&(i=o.path,a=o.column,z(e,i).items[a??0])}catch(e){}}function j(e){return e.code??e.key}S.forwardRef(function({onKeyDown:e,allowVim:r=!1,disabled:n,overrideDown:i,overrideUp:a,allowHorizontalNavigationWhileInputFocused:o=!1,...s},l){let d=S.useRef({type:"parent",children:[]}),c=S.useRef(new Map),u=S.useRef(null),p=S.useCallback(e=>{u.current===e&&(u.current=null)},[]),h=S.useCallback(e=>{u.current=e},[]),m=S.useRef(null),g=S.useRef(null),f=S.useRef(x.lQ),_=S.useCallback(e=>{e===m.current&&(m.current=null,f.current(),f.current=x.lQ)},[]),y=S.useCallback((e,r)=>{m.current&&_(m.current),m.current=e,f.current=r},[_]),E=S.useCallback(n=>{var s,l,c,p,h,f,_,y;let E=u.current,b=m.current,v=j(n),S=!(n.metaKey||n.ctrlKey||n.altKey||n.shiftKey)&&o;if(function(e,r){let n=j(e),i=(0,M.vN)(e,M.xH.CONTROL),a=F.Ay.mac&&i;return"ArrowUp"===n||"KeyK"===n&&r&&V()||a&&"KeyP"===n}(n,r)){if(b){n.preventDefault();let e=K(d.current,b,a);e?null==e||e.fauxFocus():null==(s=b.getItemAbove())||s.fauxFocus()}else if(E){n.preventDefault();let e=K(d.current,E,a);e?null==e||e.focus():null==(l=E.getItemAbove())||l.focus()}}else if(function(e,r){let n=j(e),i=(0,M.vN)(e,M.xH.CONTROL),a=F.Ay.mac&&i;return"ArrowDown"===n||"KeyJ"===n&&r&&V()||a&&"KeyN"===n}(n,r)){if(b){n.preventDefault();let e=K(d.current,b,i);e?null==e||e.fauxFocus():null==(c=b.getItemBelow())||c.fauxFocus()}else if(E){n.preventDefault();let e=K(d.current,E,i);e?null==e||e.focus():null==(p=E.getItemBelow())||p.focus()}else g.current&&g.current.fauxFocus()}else(function(e,r,n=!1){return"ArrowLeft"===e&&H(n)||"KeyH"===e&&r&&V()})(v,r,S)?b&&b.navigationOptions.supportHorizontalNavigation?(n.preventDefault(),null==(h=b.getItemToTheLeft())||h.fauxFocus()):E&&(n.preventDefault(),null==(f=E.getItemToTheLeft())||f.focus()):function(e,r,n=!1){return"ArrowRight"===e&&H(n)||"KeyL"===e&&r&&V()}(v,r,S)?b&&b.navigationOptions.supportHorizontalNavigation?(n.preventDefault(),null==(_=b.getItemToTheRight())||_.fauxFocus()):E&&(n.preventDefault(),null==(y=E.getItemToTheRight())||y.focus()):"Enter"===v?b&&(n.preventDefault(),b.navigationOptions.simulateClickOnEnter&&b.simulateClick()):"Escape"===v&&(E||b)&&(n.preventDefault(),E&&E.blur(),b&&b.fauxBlur());null==e||e(n)},[r,o,e,a,i]),b=S.useMemo(()=>({tree:d.current,lookupMap:c.current,onFocusItem:h,onBlurItem:p,onFauxFocusItem:y,onFauxBlurItem:_,fauxBlurItem:()=>{var e;return null==(e=m.current)?void 0:e.fauxBlur()},blurItem:()=>{var e;return null==(e=u.current)?void 0:e.blur()},setDefaultFauxFocusedItem:e=>{g.current||(g.current=e)},fauxFocusDefaultItem:()=>{var e;null==(e=g.current)||e.fauxFocus()}}),[h,p,y,_]);return S.createElement(B.Provider,{value:b},S.createElement(U.D8,{onKeyDown:n?e:E,forwardedRef:l,...s}))}),n(41563),n(58145),n(78931);var Y=n(30949);n(18812),n(71e3),n(83942),n(22358),S.createContext({registerKeyDownHandler:(e,r,n,i)=>{},removeKeyDownHandler:(e,r,n)=>{}}),n(20063);let $={register:()=>x.lQ,unregister:x.lQ,getRef:()=>null,getIndex:()=>-1,items:[],reset:x.lQ};S.createContext({tracker:$,renderId:0,setRenderId:x.lQ}),S.createContext({trackerRef:S.createRef(),layoutIndex:-1}),S.createContext({trackerRef:S.createRef(),layoutIndex:-1,columns:1}),S.createContext({});S.forwardRef((e,r)=>S.createElement("div",{ref:r,className:Y.cx.flex.if("space-between"===e.justify,Y.cx.justifyBetween).if("end"===e.justify,Y.cx.justifyEnd).if("center"===e.align,Y.cx.itemsCenter).if("end"===e.align,Y.cx.itemsEnd).if(e.fullWidth,Y.cx.wFull).$,style:{gap:e.gap??8}},e.children)),(0,S.createContext)({}),(0,c.eU)({});var q=((a=q||{}).ALL="all",a.PLUGINS="plugins",a.WIDGETS="widgets",a.FROM_ORG="from-org",a.DEVELOPMENT="development",a);let Z=(0,c.eU)(q.ALL);n(86450),n(91592),n(80771);let X=(0,c.eU)(null),J=(0,E.n)(e=>{let r=g.Ez5.uiState().isUI3.getCopy(),n=o.D.getState().selectedView,i=(0,m.JV)(n),a=i&&i===_.nT.Design;return!!((0,d.kc)().qa_v2&&a&&(r||e))});var Q=n(76158),ee=n(67249),et=n(82064),er=n(80820),en=n(56390),ei=n(20666),ea=n(88300),eo=n(31472),es=n(68702);(0,ee.N)("UNIVERSAL_INSERT_UPDATE_SOURCE_RECT"),(0,er.nF)((e,{id:r,isWidget:n})=>{let i=e.getState(),a=(0,ei.T)(),o={id:r,type:n?ea.R.WIDGETS:ea.R.PLUGINS},s={id:r,type:n?Q.s.WIDGET:Q.s.PLUGIN};i.universalInsertModal.showing?e.dispatch(eu({fdPreviewResource:"figma"===a||"dev"===a?s:void 0,previewResource:"figjam"===a?o:void 0})):(en.Y5.triggerAction("clear-tool",{source:"menu"}),e.dispatch(ep({initialX:0,initialY:0,fdPreviewResource:"figma"===a?s:void 0,previewResource:"figjam"===a?o:void 0})))}),(0,er.nF)((e,r)=>{r.pinned===eo.t.PINNED_AND_DOCKED_LEFT&&(0,es.W)("left",()=>{e.getState().universalInsertModal.pinned===eo.t.PINNED_AND_DOCKED_LEFT&&e.dispatch(ed())}),e.dispatch(el(r))});let el=(0,ee.N)("SET_UNIVERSAL_INSERT_MODAL_PIN"),ed=(0,er.nF)(e=>{e.getState().search.sessionId&&e.dispatch(et.N.endSession()),e.dispatch(ec())}),ec=(0,ee.N)("SET_UNIVERSAL_INSERT_MODAL_ClOSE"),eu=(0,ee.N)("SET_UNIVERSAL_INSERT_VIEW_RESOURCE_DETAILS");(0,ee.N)("SET_UNIVERSAL_INSERT_SCROLLED_DEVELOPMENT_SECTION_INTO_VIEW");let ep=(0,ee.N)("SET_UNIVERSAL_INSERT_MODAL_OPEN");function eh(e){if(J()){let r=function(e){switch(e){case Q.s.PLUGIN:return q.PLUGINS;case Q.s.WIDGET:return q.WIDGETS;default:return q.ALL}}(e.initialFdResourceTab);!function(e,r,n){let i=l.sn.start("open-quick-actions");if(u.zl.set(v.rE,null),function(e){let r=g.Ez5.uiState().isUI3.getCopy(),n=o.D.getState().selectedView,i=(0,m.JV)(n),a=i&&i!==_.nT.Whiteboard;return!!((0,d.kc)().qa_v2&&a&&(r||e))}(r)){if(u.zl.set(v.Bu,!0),u.zl.get(v.dd)||u.zl.set(v.dd,(0,p.g)()),u.zl.set(X,null),r){if(r.beforeModuleOpen){let e=function(){var e;let r=u.zl.get(v.dd);if(!r)throw Error("Session ID is missing when opening a module in Quick Actions V2.");return{sessionId:r,canvasSelection:null==(e=f.qo.instance.getCurrentPage())?void 0:e.directlySelectedNodes,searchQuery:u.zl.get(v.Q8)}}();r.beforeModuleOpen(e)}"tab"===r.type?(u.zl.set(v.Lk,r.module),r.filter&&u.zl.set(Z,r.filter)):u.zl.set(v.YH,e=>[r.module,...e])}g.qmM.setDefaultTool()}else{let r=(e,r)=>{(0,s.sx)("Quick Actions Search",{qaVersion:r,quickActionsSessionId:e,timeToShowModal:i.stop()},{forwardToDatadog:!0})};e(h.j7({type:y.jv,hasOwnEscKeyHandler:!0,data:{fireQuickActionsTrackingEvent:e=>r(e,"quick_actions_v1")}}))}}(o.D.dispatch,{type:"tab",module:v.Jc.EXTENSIONS,filter:r})}else o.D.dispatch(ep(e))}},22774:(e,r,n)=>{"use strict";n.d(r,{FU:()=>s});var i=n(67249),a=n(47506),o=n(80820);let s=(0,i.N)("SET_KEYBOARD_SHORTCUT_PANEL_TAB");(0,o.T8)("USED_KEYBOARD_SHORTCUT",(e,r)=>{"paste"===r.key&&(0,a.YQ)({id:"Used Keyboard Shortcut Paste"})})},95281:(e,r,n)=>{"use strict";n.d(r,{Ho:()=>u,I0:()=>s,Vk:()=>c,Y1:()=>l,dC:()=>a,t2:()=>o,xI:()=>d,yH:()=>h,yJ:()=>m,zK:()=>p});var i=n(67249);(0,i.N)("SET_WORKSPACE_LIBRARY_SUBSCRIPTIONS");let a=(0,i.N)("PUT_MOVE_LIBRARY_ITEM_KEY_MAPPINGS"),o=(0,i.N)("PUT_LIBRARIES");(0,i.N)("SET_LIBRARY_UPDATES_BANNER_DISMISSED"),(0,i.N)("DEL_LIBRARY_REMAPPING"),(0,i.N)("PUT_LIBRARY_REMAPPING_GUID_TO_EXCLUDE"),(0,i.N)("PUT_LIBRARY_REMAPPING"),(0,i.N)("SET_LOCAL_STYLE_SELECTION"),(0,i.N)("SET_IS_RENAMING_SELECTED_STYLE"),(0,i.N)("COMPONENT_REPLACE_OPEN_FILE_PUBLISHED_LIVEGRAPH"),(0,i.N)("REPLACE_USED_LIVEGRAPH_UNNATURAL_KEY_TO_NATURAL_KEY"),(0,i.N)("REPLACE_USED_LIVEGRAPH_DESTINATION_ASSET_KEY_TO_LEGACY_SOURCE_ASSET"),(0,i.N)("REPLACE_USED_LIVEGRAPH_SOURCE_ASSET_KEY_TO_FILE_NAME"),(0,i.N)("REPLACE_USED_LIVEGRAPH_LOCAL_NODE_ID_TO_DESTINATION_FILE_NAME"),(0,i.N)("REPLACE_USED_LIVEGRAPH_LOCAL_NODE_ID_TO_DESTINATION_KEY"),(0,i.N)("REPLACE_USED_LIVEGRAPH_SOURCE_ASSET_KEY_TO_DESTINATION_KEY"),(0,i.N)("REPLACE_USED_LIVEGRAPH_STYLES"),(0,i.N)("COMPONENT_UPDATE_SYMBOLS"),(0,i.N)("COMPONENT_APPLY_STYLE");let s=(0,i.N)("COMPONENT_REPLACE_LOCAL");(0,i.N)("COMPONENT_CLEAR_LOCAL"),(0,i.N)("SET_SHOULD_SEARCH_DEFAULT_LIBRARIES");let l=(0,i.N)("SET_ASSETS_SEARCH_RESULTS"),d=(0,i.N)("SET_ASSETS_SEARCH_NO_RESULTS");(0,i.N)("SET_ASSETS_SEARCH_OPTIONS"),(0,i.N)("SET_ASSETS_SEARCH_QUERY"),(0,i.N)("COMPONENT_SET_PUBLISHED_LIBRARIES");let c=(0,i.N)("DEFAULT_LIBRARY_INITIALIZE_FILE_KEYS"),u=(0,i.N)("DEFAULT_LIBRARY_INITIALIZE"),p=(0,i.N)("COMPONENT_INITIALIZE_SUBSCRIBED");(0,i.N)("COMPONENT_CLEAR_PUBLISHED_ITEMS"),(0,i.N)("COMPONENT_DELETE_FOR_FILE");let h=(0,i.N)("COMPONENT_DELETE");(0,i.N)("COMPONENT_BATCH_UPDATE");let m=(0,i.N)("COMPONENT_UPDATE")},29769:(e,r,n)=>{"use strict";n.d(r,{Yi:()=>eU,u7:()=>eX,zn:()=>e0,Ky:()=>e1,Nf:()=>ex});var i,a=n(11855);n(88507),n(89865),n(58271);var o=n(67249),s=n(84934),l=n(52800);(e=>{e.toString=function(e){return e},e.toStrings=function(e){return e},e.fromString=function(e){return e},e.fromStrings=function(e){return e},e.toGuid=function(e){return l.NfO.guidFromDeveloperFriendlyId(e,null)},e.fromGuid=function(e){return l.NfO.developerFriendlyIdFromGuid(e,null)},e.INVALID=""})(i||(i={}));var d=n(38329);n(58145);var c=n(66712),u=n(74626),p=n(9225);n(99737),n(52553);var h=n(76621),m=n(4783),g=n(72206),f=n(208),_=n(15009),y=n(47506),E=n(81388),b=n(87918),v=n(39863),S=n(75224),I=n(92592),T=n(34533);n(68389);var w=n(80820),C=n(44682),A=n(95281),N=n(62275),O=n(31828);let R=()=>!!(0,c.kc)().quick_start;n(98527);var P=n(88022),L=n(74105),D=n(78905);n(39135);var M=n(96673),k=n(44892),x=n(53681),F=n(75387),U=n(56390),B=n(62531),V=n(33739),H=n(67245),G=n(41860),W=n(57630),z=n(60286),K=n(16095),j=n(51281),Y=n(66068),$=n(79453),q=n(91205),Z=n(36599),X=n(86640);n(93017),n(9831),n(1505),n(51960),n(77975);var J=n(82947);n(73119),n(35682),n(9798),n(33629),n(58032),n(97065),n(30949),n(1114),n(26055),n(40280),n(64114),n(95610),n(63546),n(20063),n(31972),n(31913),n(49410),n(83909),n(96226),n(24266),n(93862),n(29680),n(78340),n(99506),n(43987),n(29815),n(94517),n(874),n(51363),n(44171),n(84129),n(55880),n(2609),n(40514),n(46806),(0,J.r1)("seen_presets_baseline_nudge"),(0,J.r1)("seen_presets_baseline_multistep"),(0,J.r1)("seen_presets_existing_users_popup");var Q=n(79296);function ee(e){let r=[e];for(;0!==r.length;){let e=r.shift();if(!1!==e.visible){if("TEXT"===e.type)return!0;r.push(...e.childrenNodes)}}return!1}(0,Q.D)(()=>{if(X.x4){let e=X.x4.getItem("last-used-left-panel-tab");if(e)return"ASSETS_TAB"===e?l.xae.ASSETS:l.xae.LAYERS}return null});var et=n(46778),er=n(20741);n(7465);var en=n(88094);n(84968);var ei=n(35757),ea=n(39671),eo=n(73454),es=n(9073);let el="prop component used",ed="text and prop component used";var ec=n(47807);let eu=new class{constructor(){this.SubscribedComponentsSchemaValidator=(0,ec.vh)(),this.PublishedComponentsStatsSchemaValidator=(0,ec.vh)(),this.LibraryStylesSchemaValidator=(0,ec.vh)(),this.CommunityLibrariesStatSchemaValidator=(0,ec.vh)()}getCommunityLibrarySubscribedComponents(e){return this.SubscribedComponentsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community_libraries/${e.key}/subscribed_components`))}getPublishedComponents(e){return this.PublishedComponentsStatsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community_libraries/${e.hubFileId}/published_components`))}getLibraryStyles(e){return this.LibraryStylesSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community_libraries/${e.hubFileId}/styles`))}getCommunityLibraries(){return this.CommunityLibrariesStatSchemaValidator.validate(async({xr:e})=>await e.get("/api/community_libraries"))}createCommunityLibraryFileSubscription(e){let{fileKey:r,libraryHubFileId:n,isSubscribed:i}=e;return f.Ay.post(`/api/community_library_file_subscriptions/${r}/${n}`,{is_subscribed:i})}createCommunityLibraryTeamSubscription(e){let{libraryHubFileId:r,teamId:n,subscriptions:i}=e;return f.Ay.post(`/api/community_library_team_subscriptions/${r}`,{subscriptions:i,team_id:n})}};var ep=n(56012);let eh=new class{constructor(){this.LibraryWeeklyInsertionsSchemaValidator=(0,ec.vh)(),this.LibraryTeamUsageSchemaValidator=(0,ec.vh)(),this.LibraryPublishedComponentsUsagesSchemaValidator=(0,ec.vh)(),this.LibraryPublishedComponentsActionsSchemaValidator=(0,ec.vh)(),this.LibraryOverviewSchemaValidator=(0,ec.vh)(),this.LibrariesSchemaValidator=(0,ec.vh)(),this.NumTeamsSchemaValidator=(0,ec.vh)(),this.StateGroupComponentsSchemaValidator=(0,ec.vh)(),this.ComponentFileUsageSchemaValidator=(0,ec.vh)(),this.ComponentSchemaValidator=(0,ec.vh)(),this.StateGroupSchemaValidator=(0,ec.vh)(),this.OrgMigrationStatusSchemaValidator=(0,ec.vh)()}getLibraryWeeklyInsertions(e){return this.LibraryWeeklyInsertionsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/library/${e.fileKey}/weekly_insertions`,ec.td.toAPIParameters(e)))}getLibraryTeamUsage(e){return this.LibraryTeamUsageSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/library/${e.fileKey}/team_usage`,ec.td.toAPIParameters(e)))}getLibraryPublishedComponentsUsages(e){return this.LibraryPublishedComponentsUsagesSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/library/${e.libraryFileKey}/published_components_usages`,ec.td.toAPIParameters({start_ts:e.startTs,end_ts:e.endTs,org_id:e.orgIdForLogging,entrypoint:e.entrypointForLogging})))}getLibraryPublishedComponentsActions(e){return this.LibraryPublishedComponentsActionsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/library/${e.libraryFileKey}/published_components_actions`,ec.td.toAPIParameters({start_ts:e.startTs,end_ts:e.endTs,org_id:e.orgIdForLogging,entrypoint:e.entrypointForLogging})))}getLibraryOverview(e){return this.LibraryOverviewSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/library_overview/${e.libraryFileKey}`))}getLibraries(e){return this.LibrariesSchemaValidator.validate(async({xr:r})=>await r.get("/api/dsa/libraries",ec.td.toAPIParameters(e)))}getNumTeams(e){return this.NumTeamsSchemaValidator.validate(async({xr:r})=>await r.get("/api/dsa/num_teams",ec.td.toAPIParameters(e)))}getStateGroupComponents(e){return this.StateGroupComponentsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/state_group/${e.stateGroupKey}/components`,ec.td.toAPIParameters({start_ts:e.startTs,end_ts:e.endTs,fv:e.fv})))}getComponentFileUsage(e){return this.ComponentFileUsageSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/component/${e.componentKey}/file_usage`,ec.td.toAPIParameters({org_id:e.orgId,fv:e.fv})))}getComponent(e){return this.ComponentSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/component/${e.componentKey}`,ec.td.toAPIParameters({fv:e.fv})))}getStateGroup(e){return this.StateGroupSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/state_group/${e.stateGroupKey}`,ec.td.toAPIParameters({fv:e.fv})))}getOrgMigrationStatus(e){return this.OrgMigrationStatusSchemaValidator.validate(async({xr:r})=>await r.get(`/api/dsa/migration_status/${e.orgId}`))}};var em=n(46689),eg=n(37870),ef=n(88578),e_=n(21112);let ey="no-shared-instance-in-master-file-if-deleted";(0,eg.qK)(ey,e=>a.createElement(eE,{...e}));class eE extends a.PureComponent{constructor(){super(...arguments),this.closeModal=()=>{this.props.dispatch(N.Ce())}}render(){return a.createElement(ef.aF,{title:(0,v.t)("design_systems.instance_panel.oops"),size:"small"},a.createElement(v.Tx,{id:"design_systems.instance_panel.deleted_source_component_message"}),a.createElement("div",{className:e_.v0},a.createElement(em.$$,{onClick:this.closeModal},a.createElement(v.Tx,{id:"design_systems.instance_panel.ok"}))))}}eE.displayName="NoSharedInstanceInMasterFile",n(72841),n(44948),n(91388),n(23746);var eb=n(17068),ev=n(38580),eS=n(84107),eI=n(37304);(0,u.Iz)(e=>(0,eS.x8)({fileKey:e})),(0,u.Iz)(e=>(0,ev.eU)(r=>{let n={};for(let i of e)n[i]=r((0,$.u6n)({fileKey:i}));return n}),eb.lu),(0,u.Iz)(e=>(0,ev.eU)(r=>{let n={};for(let i of e)n[i]=r((0,$.zkh)({libraryKey:i}));return n}),eI._f);var eT=n(5129),ew=n(82976);let eC=(0,o.N)("QUICK_START_SET_TEXT_NODE_ID");var eA=n(65482);function eN(e,r,n,i){(0,s.sx)("ComponentLike Add instance",{editingFileKey:e,componentLikeFileKey:(0,S.hH)(r),componentLikeLibraryKey:r.library_key,componentLikeGUID:r.node_id,success:n},{forwardToDatadog:!0}),i&&(0,eA.S3)(i.metricName,i.duration)}var eO=n(82818);async function eR(e,r=l.ZiZ.ACTIVE_SCENE){let n;if(!e.canvas_url&&r===l.ZiZ.PLAYGROUND_SCENE)return{newSymbolOrStateGroupGuid:l.BXd.upsertLocalProductComponentToPlaygroundScene(e.node_id)};let i=await k.Eo.getCanvas(e);if(e.type===eo.PW.COMPONENT){let a=B.l7.system("upsert-shared-symbol",()=>l.BXd.upsertSharedSymbol(e.component_key??_.ii.INVALID,e.content_hash??_.F7.INVALID,e.file_key,l.zol.NO,i,r));if(a.fileUpdateRequired)return;if(!a.localGUID)throw Error("Swap to Shared Component Error, no local GUID");n=a.localGUID}else if(e.type===eo.PW.STATE_GROUP){let a=B.l7.system("upsert-shared-state-group",()=>l.BXd.upsertSharedStateGroup(e.key,e.version,e.file_key,l.zol.NO,i,r));if(a.fileUpdateRequired)return;if(!a.localGUID)throw Error("Swap to Shared Component Error, no local GUID");if(a.C2)throw Error(a.C2);n=a.localGUID}else throw Error(`Unexpected type for dragging library item: ${e.type}`);return{newSymbolOrStateGroupGuid:n,buffer:i}}(0,w.nF)((e,r)=>{let{item:n,callback:i,bufferCallback:a,errorCallback:o,alwaysFetch:s,targetUpsertScene:d=l.ZiZ.ACTIVE_SCENE}=r,c=(0,L.d1)(e.getState());if(c){if(!(0,D.N2)(n,c)||s){let r=async()=>{try{let e=await eR(n,d);e&&(null==i||i(e.newSymbolOrStateGroupGuid),e.buffer&&(null==a||a(e.buffer)))}catch(r){e.dispatch(E.s.error("An error occurred while retrieving the component or state group.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r),null==o||o()}};e.dispatch((0,eO.vQ)({assetResourceId:n.file_key,onInsertAsset:r}))}else null==i||i(n.node_id)}}),(0,w.T8)("SWAP_TO_SHARED_COMPONENT_OR_STATE_GROUP",(e,r)=>{let{item:n,instanceGUIDs:i,usedSwapInstanceKeyboardShortcut:a,storeInRecentsKey:o}=r,s=(0,eT.Ml)(n,i);e.dispatch(ew.Cx({key:s}));let d=e.getState(),c=(0,z.s)(d);e.dispatch(e8({storeInRecentsKey:o,item:n,userId:c}));let u=(0,L.d1)(d);if(!u){e.dispatch(ew.of({key:s}));return}let p=async()=>{try{let r=await eR(n);if(r){let o=n.type===eo.PW.STATE_GROUP?l.glU.getSimilarStates(i,r.newSymbolOrStateGroupGuid,n.default_state_key):{[r.newSymbolOrStateGroupGuid]:i};B.l7.user("replace-symbol-backing-instances",()=>{l.glU.replaceSymbolBackingInstances(o,a)}),e.dispatch(ew.x2({key:s})),eN(u.key,n,!0)}}catch(r){e.dispatch(ew.of({key:s})),e.dispatch(E.s.error("An error occurred while adding an instance of this component.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r),eN(u.key,n,!1)}(0,P.ds)("Instance Swapped To Shared Component",u.key,e.getState(),{componentFileKey:(0,S.hH)(n),componentLibraryKey:n.library_key,componentId:n.id,source:r.sourceForTracking})};e.dispatch((0,eO.vQ)({assetResourceId:n.file_key,onInsertAsset:p}))});let eP="<!--(figcomponent)";(0,w.T8)("TRY_HANDLING_DROP_EVENTS_AS_COMPONENT_DROP",(e,r)=>{var n;let i=null==(n=r.dataTransfer)?void 0:n.getData("text/html");if(i){let n=i.indexOf(eP)+eP.length,a=i.indexOf("(/figcomponent)-->");if(n>=0&&a>=0&&n<a){let o=i.substring(n,a).trim();try{let n=JSON.parse(o);if("object"==typeof n){let i=n.fileKey,a=n.nodeId;if(i&&a){let n=U.Y5.getViewportInfo(),o=new g.Mi(n.x,n.y),s=new g.Mi(r.clientX,r.clientY).subtract(o),l=(0,W.$$)(n,s);e.dispatch(eL({fileKey:i,nodeId:a,canvasX:l.x,canvasY:l.y}))}}}catch(e){}}}});let eL=(0,w.nF)(async(e,r)=>{let{fileKey:n,nodeId:i,canvasX:a,canvasY:o}=r,s=e.getState(),l=(0,L.d1)(s),d=null;if(l&&l.key===n)d=s.library.local.components[i];else{s.fileByKey[n]||(await e5(e,n),s=e.getState());let r=s.fileByKey[n];!r||(d=(0,K.j7)(s.library.published.components,r)[i])||(await e5(e,n),s=e.getState(),d=(0,K.j7)(s.library.published.components,r)[i])}d?e.dispatch(eM({item:d,canvasPosition:new g.Mi(a,o),percentageOffset:new g.Mi(.5,.5),insertAsChildOfCanvas:!1})):e.dispatch(I.F.enqueue({type:"insert_component_error",message:(0,v.t)("design_systems.subscriptions.this_component_is_not_available"),error:!0}))});function eD(e){return e(I.F.enqueue({type:"insert_instance",message:(0,v.t)("design_systems.subscriptions.inserting_instance"),icon:T.zX.SPINNER,delay:1e3})),function(){e(I.F.dequeue({matchType:"insert_instance"}))}}let eM=(0,w.T8)("INSERT_SHARED_COMPONENT",(e,r)=>{let{item:n}=r,{canvasPosition:i,percentageOffset:a,insertAsChildOfCanvas:o,isFromDoubleClick:s,useSmartPositioning:d,storeInRecentsKey:u,fromPlayground:p,insertLogArgsOverride:g,insertedItemsCallback:f}=r,v=e.getState(),I=(0,M.wJ)(n.file_key)&&!!(0,c.kc)().presets_baseline,T=async()=>{let r=(0,z.s)(v);e.dispatch(e8({storeInRecentsKey:u,item:n,userId:r}));let T=(0,L.d1)(v);if(!T)return;let w=(r,n)=>{let s=B.l7.user("insert-component",()=>p?l.glU.insertPlaygroundInstance({x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y},I):l.glU.insertInstance(r,{x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y},n,o,d??!1,I));if(f&&f([s]),(R()||(0,c.kc)().presets_baseline)&&s!==b.AD){let n=ee(G.qo.instance.get(r)),i=v.mirror.sceneGraph.get(s),a=Object.keys(i&&"INSTANCE"===i.type&&i.componentProperties()||{}).length>0;n&&a?(e.dispatch(eC({nodeId:s})),(0,y.YQ)({id:ed})):n?(e.dispatch(eC({nodeId:s})),(0,y.YQ)({id:"text component used"})):a?(0,y.YQ)({id:el}):(0,y.YQ)({id:"non text or prop component used"})}U.Y5.triggerAction("commit"),U.Y5.triggerAction("set-tool-default")};if((0,D.N2)(n,T)){let r=v.library.local.components[n.node_id];if(!r||!v.mirror.sceneGraph.get(r.node_id)){e.dispatch(N.to({type:ey}));return}try{w(r.node_id,g),(0,P.ds)("Component Local Symbol Inserted",T.key,e.getState(),{componentFileKey:(0,S.hH)(n),componentLibraryKey:n.library_key,componentId:n.id,ComponentCanvasPositionX:i.x,ComponentCanvasPositionY:i.y}),eN(T.key,r,!0),e.dispatch(tn())}catch(n){e.dispatch(E.s.error("An error occurred while adding an instance of this component.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,n),eN(T.key,r,!1)}}else{let r=performance.now();if(eq&&eq===n.component_key&&eZ){let e=(await eZ).component;e&&e.updated_at>n.updated_at&&(n=e)}let a=eD(e.dispatch);k.Eo.getCanvas(n).then(e=>{let r=B.l7.system("upsert-shared-symbol",()=>l.BXd.upsertSharedSymbol(n.component_key??_.ii.INVALID,n.content_hash??_.F7.INVALID,n.file_key,l.zol.NO,e,l.ZiZ.ACTIVE_SCENE));if(r.fileUpdateRequired||!r.localGUID)throw Error("An error occurred while adding an instance of this component.");w(r.localGUID,g)},e=>{let r=l.glU.getSymbolNodeId(n.component_key,n.content_hash);if(!r){if((null==e?void 0:e.status)===403)throw Error("A 403 error occurred while adding an instance of this component.");throw Error("An error occurred while adding an instance of this component.")}w(r,g)}).then(()=>{let a=performance.now()-r;(0,P.ds)("Component Shared Symbol Inserted",T.key,e.getState(),{elapsedMs:a,componentFileKey:(0,S.hH)(n),componentLibraryKey:n.library_key,componentId:n.id,componentName:n.name,ComponentCanvasPositionX:i.x,ComponentCanvasPositionY:i.y,isFromDefaultLibrary:(0,K.td)(v.library,n.file_key),isFromDoubleClick:!!s,useSmartPositioning:!!d}),eN(T.key,n,!0,{metricName:"design_systems.subscribed_component.insert_time",duration:a}),e.dispatch(tn())}).catch(i=>{e.dispatch(E.s.error(i.message)),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,i),eN(T.key,n,!1,{metricName:"design_systems.subscribed_component.insert_time",duration:performance.now()-r})}).finally(()=>{a()})}};e.dispatch((0,eO.vQ)({assetResourceId:n.file_key,onInsertAsset:T}))});(0,w.T8)("INSERT_SHARED_STATE_GROUP",async(e,r)=>{let{item:n}=r,{canvasPosition:i,percentageOffset:a,insertAsChildOfCanvas:o,isFromDoubleClick:s,useSmartPositioning:d,storeInRecentsKey:u,fromPlayground:p,insertLogArgsOverride:g,insertedItemsCallback:f}=r,v=e.getState(),I=(0,M.wJ)(n.file_key)&&!!(0,c.kc)().presets_baseline,T=async()=>{let r=(0,z.s)(v);e.dispatch(e8({storeInRecentsKey:u,item:n,userId:r}));let T=(0,L.d1)(v);if(!T)return;let w=(e,r,n)=>{let s=B.l7.user("insert-state-group",()=>p?l.glU.insertPlaygroundInstance({x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y},I):l.glU.insertStateGroup(e,{x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y},n,o,d??!1,r,I));return f&&f([s]),U.Y5.triggerAction("commit"),U.Y5.triggerAction("set-tool-default"),s};if((0,D.N2)(n,T)){let r=v.library.local.stateGroups[n.node_id];if(!r||!v.mirror.sceneGraph.get(r.node_id)){e.dispatch(N.to({type:ey}));return}w(r.node_id,"",g),(0,P.ds)("State Group Local Symbol Inserted",T.key,e.getState(),{stateGroupFileKey:(0,S.hH)(n),stateGroupLibraryKey:n.library_key,stateGroupId:n.id,StateGroupCanvasPositionX:i.x,StateGroupCanvasPositionY:i.y}),e.dispatch(tn())}else{let r=performance.now();if(eJ&&eJ===n.key&&eQ){let e=await eQ;e&&e.updated_at>n.updated_at&&(n=e)}let a=eD(e.dispatch);k.Eo.getCanvas(n).then(r=>{var i;let a=B.l7.system("upsert-shared-state-group",()=>l.BXd.upsertSharedStateGroup(n.key??_.q.INVALID,n.version,n.file_key,l.zol.NO,r,l.ZiZ.ACTIVE_SCENE));if(a.fileUpdateRequired||!a.localGUID)throw Error("An error occurred while adding an instance of this component.");let o=w(a.localGUID,n.default_state_key,g);if(R()||(0,c.kc)().presets_baseline){let r=null==(i=v.mirror.sceneGraph.get(a.localGUID))?void 0:i.childrenNodes[0];r&&(ee(r)&&o!==b.AD?(e.dispatch(eC({nodeId:o})),(0,y.YQ)({id:ed})):(0,y.YQ)({id:el}))}},e=>{let r=l.glU.getStateGroupNodeId(n.key,n.version);if(!r)throw Error("An error occurred while adding an instance of this component.");w(r,"",g)}).then(()=>{(0,P.ds)("State Group Shared Symbol Inserted",T.key,e.getState(),{stateGroupFileKey:(0,S.hH)(n),stateGroupLibraryKey:n.library_key,stateGroupId:n.id,stateGroupName:n.name,StateGroupCanvasPositionX:i.x,StateGroupCanvasPositionY:i.y,isFromDefaultLibrary:(0,K.td)(v.library,n.file_key),isFromDoubleClick:!!s}),eN(T.key,n,!0,{metricName:"design_systems.subscribed_state_group.insert_time",duration:performance.now()-r}),e.dispatch(tn())}).catch(i=>{e.dispatch(E.s.error(i.message)),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,i),eN(T.key,n,!1,{metricName:"design_systems.subscribed_state_group.insert_time",duration:performance.now()-r})}).finally(()=>{a()})}};await e.dispatch((0,eO.vQ)({assetResourceId:n.file_key,onInsertAsset:T}))}),(0,w.nF)(async(e,r)=>{if(!(0,c.kc)().dse_module_publish)return;let{item:n}=r;if(!function(e){if(!(0,c.kc)().dse_module_publish)return!1;switch(e.moduleSource){case l.QjO.EDITOR_TEMPLATE:return!!(0,c.kc)().dse_editor_templates_v1;case l.QjO.SLIDES_TEMPLATE:return!!(0,c.kc)().piper;case l.QjO.SITES_TEMPLATE:return!!(0,c.kc)().sites}}(n))return;let{canvasPosition:i,percentageOffset:a,insertAsChildOfCanvas:o,useSmartPositioning:s,insertLogArgsOverride:d,storeInRecentsKey:u,insertedItemsCallback:p,fromPlayground:g,selectAfterInsert:f,isClick:y}=r,b=e.getState(),S=(0,z.s)(b);e.dispatch(e8({storeInRecentsKey:u,item:n,userId:S}));let w=(e,r)=>{let n=B.l7.user("insert-module",()=>g?l.glU.insertPlaygroundModuleUsage({x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y}):l.glU.insertModule(e,{x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y},r,o,s??!1,f??!0));return p&&p(n,i,y),U.Y5.triggerAction("commit"),U.Y5.triggerAction("set-tool-default"),n},C=(0,L.d1)(b);if((0,D.N2)(n,C))w(n.node_id,d),e.dispatch(tn());else{let r=function(e){return e(I.F.enqueue({type:"insert_template",message:(0,v.t)("design_systems.subscriptions.inserting_template"),icon:T.zX.SPINNER,delay:1e3})),function(){e(I.F.dequeue({matchType:"insert_template"}))}}(e.dispatch);try{let e=await k.Eo.getCanvas(n),r=B.l7.system("upsert-shared-module",()=>l.BXd.upsertSharedModule(n.key??_.mW.INVALID,n.version??_.Pg.INVALID,n.file_key,l.zol.NO,e,l.ZiZ.ACTIVE_SCENE));if(r.fileUpdateRequired||!r.localGUID)throw Error("An error occurred while inserting this template.");w(r.localGUID,d)}catch(r){e.dispatch(E.s.error(r.message)),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)}r()}}),(0,w.nF)(async(e,r)=>{let{stateGroups:n,usedItemsByKey:a,instanceIdsToUpdate:o,updateStartTime:s}=r,d=e.getState(),c=d.openFile;if(c)try{let r=await Promise.all(n.map(e=>k.Eo.getCanvas(e))),u=new Set;for(let e=0;e<n.length;e++){let p=n[e],h=r[e];if(B.l7.user("update-shared-state-group",()=>{l.BXd.updateSharedStateGroup(p.key,p.file_key,p.newStateKeyToOutdatedItems,o.map(i.toString),h,s)}),Object.keys(p.newStateKeyToOutdatedItems).length)for(let e of Object.values(p.newStateKeyToOutdatedItems)){let{localIdsToUpdate:r,oldSubscribedKeysToUpdate:n}=e;if((0,K.GA)(d.library,c,r,n,a)){u.add(p.file_key);break}}}U.Y5.triggerAction("commit");let p=n.map(e=>e.id);(0,P.ds)("Components Updated",c.key,e.getState(),{stateGroups:p,isSgShimFFEnabled:!0}),u.size&&te(e,u)}catch(r){e.dispatch(E.s.error("An error occurred while updating the instances of this component.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)}}),(0,w.nF)(async(e,r)=>{let{components:n,usedItemsByKey:a,instanceIdsToUpdate:o,updateStartTime:s}=r,d=e.getState(),c=d.openFile;if(c)try{let r=await Promise.all(n.map(e=>k.Eo.getCanvas(e))),u=new Set;for(let e=0;e<n.length;e++){let p=n[e],h=r[e];B.l7.user("update-shared-symbol",()=>{l.BXd.updateSharedSymbol(p.component_key??_.ii.INVALID,p.file_key,p.oldSubscribedKeysToUpdate,p.localIdsToUpdate,o.map(i.toString),h,s)}),(p.localIdsToUpdate.length||p.oldSubscribedKeysToUpdate.length)&&(0,K.GA)(d.library,c,p.localIdsToUpdate,p.oldSubscribedKeysToUpdate,a)&&u.add(p.file_key)}U.Y5.triggerAction("commit");let p=n.map(e=>e.id);(0,P.ds)("Components Updated",c.key,e.getState(),{components:p,isShimFFEnabled:!0}),u.size&&te(e,u)}catch(r){e.dispatch(E.s.error("An error occurred while updating the instances of this component.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)}}),(0,w.nF)((e,r)=>{let{style:n,inheritStyleKeyField:i,fromSearch:a}=r,o=e.getState(),d=(0,L.d1)(o),c=d&&!(0,D.N2)(n,d),p=o.openFile,{resourceId:h,libraryKey:m}=function(e,r){return e?{resourceId:"SUBSCRIBED"===e.subscriptionStatus?e.file_key:null==r?void 0:r.key,libraryKey:"SUBSCRIBED"===e.subscriptionStatus?e.library_key:null==r?void 0:r.libraryKey}:{resourceId:void 0,libraryKey:void 0}}(function(e,r){return r?{subscriptionStatus:"SUBSCRIBED",file_key:e.file_key,library_key:e.library_key}:{subscriptionStatus:"LOCAL"}}(n,c??!1),p),g=function(e){var r;if(null!=e&&(0,M.wJ)(e))return(null==(r=u.zl.get(F.Fq)[e])?void 0:r.partner_type)??void 0}(h);e.dispatch(ek({style:n,callback:r=>{B.l7.user("apply-style-to-selection",()=>l.glU.applyStyleToSelection(i,r,!0)),(0,s.sx)("Style Applied",{styleType:n.style_type,isShared:!!c,viewMode:e.getState().stylePickerListLayout?"LIST":"GRID",fromSearch:!!a,nonInteraction:0,styleKey:n.key,consumedVariableIds:l.CWU.getConsumedVariableIDs(n.node_id),styleLibraryKey:m,consumingFileKey:null==p?void 0:p.key,fileTeamId:null==p?void 0:p.teamId,fileParentOrgId:null==p?void 0:p.parentOrgId,partnerType:g})}}))});let ek=(0,w.nF)((e,r)=>{var n,i;let a=e.getState(),{style:o}=r,s=(0,L.d1)(a);if(!s)return;let d=!(0,D.N2)(o,s),c="GRID"===o.style_type&&!l.Ez5.editorPreferences().showFrameGrids.getCopy();if(d){let n=async()=>{var n,i;try{let a=await k.Eo.getCanvas(o);null==(n=r.bufferCallback)||n.call(r,a);let s=B.l7.system("ensure-style-is-loaded",()=>l.BXd.getOrCreateSubscribedStyleNodeId(o.key,o.content_hash??_.IA.INVALID,o.file_key,a));if(null==s?void 0:s.fileUpdateRequired)return;if(r.omitFullscreenCommit||U.Y5.triggerAction("commit"),c&&((0,H.c6)(),l.Ez5.editorPreferences().showFrameGrids.set(!0)),"TEXT"===o.style_type&&s&&s.localGUID){let r=e.getState().mirror.sceneGraph.get(s.localGUID),n=r&&r.fontName;n&&await (0,V.VC)(n.family,n.style).catch(()=>console.error(`Text style font did not load: ${n.family} ${n.style}`))}null==(i=r.callback)||i.call(r,s.localGUID)}catch(r){e.dispatch(E.s.error("An error occurred while applying the style to the selection.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)}};e.dispatch((0,eO.vQ)({assetResourceId:o.file_key,onInsertAsset:n}))}else c&&((0,H.c6)(),l.Ez5.editorPreferences().showFrameGrids.set(!0)),null==(n=r.callback)||n.call(r,o.node_id),null==(i=r.bufferCallback)||i.call(r,void 0)});(0,w.nF)(async(e,r)=>{var n;let{styles:i,updateStartTime:a}=r,o=e.getState().openFile;if(o)try{let r=await Promise.all(i.map(e=>k.Eo.getCanvas(e))),s=new Set,d=e.getState();for(let e=0;e<i.length;e++){let n=i[e],c=r[e];B.l7.user("update-shared-style",()=>{l.BXd.updateSharedStyle(n.key,n.file_key,n.content_hash??_.IA.INVALID,n.oldSubscribedKeysToUpdate,n.localIdsToUpdate,c,a)}),(0,K.GA)(d.library,o,n.localIdsToUpdate,n.oldSubscribedKeysToUpdate,d.library.used__LIVEGRAPH.styles)&&s.add(n.file_key)}U.Y5.triggerAction("commit");let c=i.map(e=>e.id);(0,P.ds)("Styles Updated",null==(n=d.openFile)?void 0:n.key,e.getState(),{styles:c}),s.size&&te(e,s)}catch(r){e.dispatch(E.s.error("An error occurred while updating this style.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)}}),(0,w.nF)((e,r)=>{let n=l.BXd.getTimestampForLibraryUpdateStart(),{styleUpdateInfo:i,oldStyleGUID:a,consumerGUIDsToUpdate:o}=r,{updateAsset:s,inheritStyleKeyFields__DEPRECATED:d}=i;k.Eo.getCanvas(s).then(r=>{var i;let c=e.getState(),{content_hash:u}=s;if(!a)throw Error("guid to update can not be empty");if(!u)throw Error("content_hash not specified on style");let p=B.l7.user("update-selected-shared-style-consumers",()=>l.BXd.updateSelectedSharedStyleConsumers(s.key,s.file_key,u,s.oldSubscribedKeysToUpdate,s.localIdsToUpdate,d||[],o,a,r,n));if(U.Y5.triggerAction("commit"),!p)throw Error("unable to update");(0,P.ds)("Styles Updated",null==(i=c.openFile)?void 0:i.key,e.getState(),{styles:[s.id]})}).catch(r=>{e.dispatch(E.s.error("An error occurred while updating this style.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)})});let ex=(0,w.nF)(e=>{(0,K.KQ)(e)});async function eF(e){let r=await k.Eo.getCanvas(e);if(!B.l7.system("upsert-shared-variable",()=>l.BXd.upsertSharedVariable(e.node_id,l.zol.NO,r)).fileUpdateRequired)return{buffer:r}}(0,w.nF)((e,r)=>{let{variableSets:n,updateStartTime:i}=r;e.getState().openFile&&Promise.all(n.map(e=>k.Eo.getCanvas(e))).then(e=>{for(let r=0;r<n.length;r++){let a=n[r],o=e[r];B.l7.user("update-shared-variable-set",()=>{l.BXd.updateSharedVariableSet(a.node_id,(0,eo.GI)(a)?[]:a.libraryVariableIdsForUpdate,o,i)})}U.Y5.triggerAction("commit")}).catch(r=>{e.dispatch(E.s.error("An error occurred while updating this variable collection")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r)})});let eU=(0,w.nF)((e,r)=>{let{item:n,callback:i,bufferCallback:a,errorCallback:o}=r;if(!(0,L.d1)(e.getState())){null==o||o(Error("editing file not found"));return}if("LIBRARY"===n.subscriptionStatus){let r=async()=>{try{let e=await eF(n);e&&(null==i||i(n.node_id),null==a||a(e.buffer))}catch(r){e.dispatch(E.s.error("An error occurred while retrieving the variable.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r),null==o||o(r)}};e.dispatch((0,eO.vQ)({assetResourceId:n.file_key,onInsertAsset:r}))}else null==i||i(n.node_id)});async function eB(e){let r=await k.Eo.getCanvas(e);if(!B.l7.system("upsert-shared-variable-set",()=>l.BXd.upsertSharedVariableSet(e.node_id,l.zol.NO,r)).fileUpdateRequired)return{buffer:r}}(0,w.nF)((e,r)=>new Promise((n,i)=>{e.dispatch(eU({item:r,callback:n,errorCallback:i}))})),(0,w.nF)((e,r)=>{let{item:n,callback:i,bufferCallback:a,errorCallback:o}=r;if((0,L.d1)(e.getState())){if("LIBRARY"===n.subscriptionStatus){let r=async()=>{try{let e=await eB(n);e&&(null==i||i(n.node_id),null==a||a(e.buffer))}catch(r){e.dispatch(E.s.error("An error occurred while retrieving the variable collection.")),(0,h.$D)(m.e.DESIGN_SYSTEMS_EDITOR,r),null==o||o()}};e.dispatch((0,eO.vQ)({assetResourceId:n.file_key,onInsertAsset:r}))}else null==i||i(n.node_id)}});let eV=(e,r,n)=>{let i={[eo.Yu]:{}};r.forEach(e=>{e=(0,Y.aV)(e),i[eo.Yu][e.file_key]=i[eo.Yu][e.file_key]||{},i[eo.Yu][e.file_key][e.node_id]=e}),e.dispatch(A.Ho({publishedItemsByTeamId:i,type:n}))},eH=(e,r)=>`GET_DEFAULT_LIBRARIES_FOR_${e}_FV${r}`;async function eG(e){let r=e.getState().openFile,n=e.getState().fileVersion;if(!r||!n)return;let i=eH(r.key,n),a=e.getState().loadingState;if(!((0,Z.D2)(a,i)||(0,Z.VP)(a,i))){e.dispatch(ew.Cx({key:i}));try{let r;let n=e.getState(),a="fullscreen"===n.selectedView.view&&n.selectedView.editorType===ea.nT.Whiteboard;r=(0,c.kc)().figjam_ngima_stickers&&a?await ez():await eW(),eV(e,r.data.meta.components,eo.PW.COMPONENT),eV(e,r.data.meta.state_groups,eo.PW.STATE_GROUP),r.data.meta.files.forEach(r=>{r.team_id=eo.Yu,e.dispatch(C.yJ({file:r}))});let o=r.data.meta.files.map(e=>e.key);e.dispatch(A.Vk({fileKeys:o})),e.dispatch(A.t2({libraries:r.data.meta.libraries})),(0,K.kG)(),e.dispatch(ew.x2({key:i}))}catch(r){(0,K.kG)(),e.dispatch(ew.of({key:i})),j.YG.queryDidChange(e)}}}async function eW(){return await ep.Z.getDefaultLibraries()}async function ez(){let e;async function r(){try{return await ep.Z.getLibraryPublishedComponents({fileKey:e})}catch{return null}}e=window.location.origin.includes("staging.figma.com")?"3oeQNbicdVK70ytqmfZJhR":"Lm2ooVlwRmnYh0BpyxwZSZ";let[n,i]=await Promise.all([eW(),r()]);return i&&(n.data.meta.components.push(...i.data.meta.components),n.data.meta.state_groups.push(...i.data.meta.state_groups),n.data.meta.files.push(i.data.meta.file),n.data.meta.libraries.push(i.data.meta.library),n.data.meta.thumbnails.push(i.data.meta.library.thumbnail_url)),n}(0,w.nF)((e,r)=>{let n=e.getState().fileVersion||52;e.dispatch(ew.yH({key:(0,eT.yD)(r.openFileKey)})),e.dispatch(ew.yH({key:eH(r.openFileKey,n)}))});let eK=new Set,ej=new Set,eY=(0,w.nF)(async e=>{let r=e.getState();r.user&&(await et.gi,e$((0,en.OQ)(r),(0,en.LL)(r),e))}),e$=async(e,r,n,i)=>{var a,o;if(0===e.length&&0===r.length)return;let s=n.getState().openFile,l=n.getState().fileVersion;if(!s||!l)return;let d=(i=i??(0,K.lG)(n)).loadingKey;(0,Z.VP)(n.getState().loadingState,d)&&await i.promise,n.dispatch(ew.Cx({key:d})),"whiteboard"===s.editorType&&await K.kw;let c=n.getState(),p=[];if(e.length>0){let r=new Set((0,K.kD)(c.library.published.components).map(e=>e.component_key).concat((0,K.kD)(c.library.defaultPublished.components).map(e=>e.component_key)));p=e.filter(e=>!r.has(e)&&!eK.has(e))}let h=[];if(r.length>0){let e=new Set((0,K.kD)(c.library.published.stateGroups).map(e=>e.key).concat((0,K.kD)(c.library.defaultPublished.stateGroups).map(e=>e.key)));h=r.filter(r=>!e.has(r)&&!ej.has(r))}try{if(p.length>0||h.length>0){let e=await f.Ay.post("/api/design_systems/components_state_groups",{component_keys:p,state_group_keys:h,org_id:s.parentOrgId,fv:l});p.forEach(e=>{eK.add(e)}),h.forEach(e=>{ej.add(e)});let r=e.data.meta.components,i=e.data.meta.state_groups,a=e.data.meta.files;n.dispatch(C.uo({files:a,subscribeToRealtime:!0})),n.dispatch(A.dC({subscribedOldKeyToNewKey:e.data.meta.move_remappings,localOldGuidToNewKey:{}}));let o=n.getState().fileByKey,d=u.zl.get(x.qp);(0,K.VF)(r,eo.PW.COMPONENT,o,d,n.dispatch),(0,K.VF)(i,eo.PW.STATE_GROUP,o,d,n.dispatch)}null==(a=i.callbackForComponent)||a.call(i,!0)}catch(e){null==(o=i.callbackForComponent)||o.call(i,!1)}i.resetPromise(),n.dispatch(ew.yH({key:d})),i.callback()},eq=null,eZ=null;async function eX(e,r,n){var i,a,o,s;try{let l=e.getState().fileVersion||0,d=await ep.Z.getLibraryComponentV2({componentKey:r,source:n,fv:l}),p=d.data.meta.file;p&&e.dispatch(C.yJ({file:p}));let h=d.data.meta.component||null,m=d.data.meta.component_set||null,g=e.getState().fileByKey,f=u.zl.get(x.qp);if(h&&(h.team_id=(0,c.kc)().ds_use_lib_keys?null==(i=f[h.library_key])?void 0:i.team_id:null==(a=g[(0,S.hH)(h)])?void 0:a.team_id),m&&(m.team_id=(0,c.kc)().ds_use_lib_keys?null==(o=f[m.library_key])?void 0:o.team_id:null==(s=g[(0,S.hH)(m)])?void 0:s.team_id),p){let r={};r[h.node_id]=h,d.data.meta.state_components.forEach(e=>{r[e.node_id]=e}),e.dispatch(A.yJ({itemsById:r,fileKey:p.key,libraryKey:(0,S.lt)(p.library_key),teamId:p.team_id,type:eo.PW.COMPONENT})),d.data.meta.component_set&&e.dispatch(A.yJ({itemsById:{[d.data.meta.component_set.key]:d.data.meta.component_set},fileKey:p.key,libraryKey:(0,S.lt)(p.library_key),teamId:p.team_id,type:eo.PW.STATE_GROUP})),h&&k.Eo.getCanvas(h)}return{component:h,parentStateGroup:d.data.meta.component_set||null}}catch(e){return(null==e?void 0:e.status)===403&&console.error(Error("Permissions error for /api/design_systems/library/component_v2/key")),{component:null,parentStateGroup:null}}}(0,w.nF)((e,r)=>{eq=r.componentKey,eZ=eX(e,r.componentKey,r.callsite)});let eJ=null,eQ=null;async function e0(e,r){try{let n=e.getState().fileVersion||0,i=(await ep.Z.getLibraryStateGroupFv({stateGroupKey:r,fileVersion:n})).data.meta,a={[i.node_id]:i},o=u.zl.get(x.qp),s=(0,c.kc)().ds_use_lib_keys?o[i.library_key]:e.getState().fileByKey[(0,S.hH)(i)];if(!s)return i;return i.team_id=s.team_id,e.dispatch(A.yJ({itemsById:a,fileKey:s.key,libraryKey:(0,S.lt)(s.library_key),teamId:s.team_id,type:eo.PW.STATE_GROUP})),k.Eo.getCanvas(i),i}catch(e){return(null==e?void 0:e.status)===403&&console.error(Error("Permissions error for /api/design_systems/library/state_group/key")),null}}async function e1(e,r){try{let{style:n,file:i}=(await ep.Z.getLibraryStyleByKey({styleKey:r})).data.meta;return i&&e.dispatch(C.yJ({file:i})),k.Eo.getCanvas(n),n}catch(e){return(null==e?void 0:e.status)===403&&console.error(Error("Permissions error for /api/design_systems/library/styles/key")),null}}async function e2(e,r){var n,i,a,o,s;let l;let d="FETCH_RECENTLY_USED_LIBRARY_ITEMS";if((0,Z.VP)(e.getState().loadingState,d))return;e.dispatch(ew.Cx({key:d})),await K.NW;let c=e.getState();if("fullscreen"!==c.selectedView.view){e.dispatch(ew.x2({key:d}));return}let p=new Set,h=new Set;for(let e of c.recentlyUsed.libraryItems[r])e.type!==eo.PW.COMPONENT||!e.key||(null==(i=null==(n=c.library.published.components[e.team_id])?void 0:n[e.file_key])?void 0:i[e.node_id])?e.type!==eo.PW.STATE_GROUP||!e.key||(null==(o=null==(a=c.library.published.stateGroups[e.team_id])?void 0:a[e.file_key])?void 0:o[e.node_id])||h.add(e.key):p.add(e.key);if(0===p.size&&0===h.size){e.dispatch(ew.x2({key:d}));return}try{l=await f.Ay.post("/api/design_systems/components_state_groups",{component_keys:Array.from(p),state_group_keys:Array.from(h),org_id:null==(s=c.openFile)?void 0:s.parentOrgId,fv:c.fileVersion})}catch(r){e.dispatch(ew.of({key:d}));return}e.dispatch(ew.x2({key:d})),e.dispatch(C.uo({files:l.data.meta.files,subscribeToRealtime:!1})),e.dispatch(A.dC({subscribedOldKeyToNewKey:l.data.meta.move_remappings,localOldGuidToNewKey:{}}));let m=e.getState().fileByKey,g=u.zl.get(x.qp);(0,K.VF)(l.data.meta.components,eo.PW.COMPONENT,m,g,e.dispatch),(0,K.VF)(l.data.meta.state_groups,eo.PW.STATE_GROUP,m,g,e.dispatch)}async function e3(e){let{loadingState:r}=e.getState(),n=e.getState().openFile,i=e.getState().fileVersion;if(null==n||null===i)return;let a=(0,K.Mb)(n.key,i);if(!(0,Z.Sc)(r,a))return;let o=ep.Z.getLibraryPublishedAndMovedComponentsFv({openFileKey:n.key,fileVersion:i});(0,er.N)(o,{dispatch:e.dispatch},a),K.Ys.add(a);try{let r=await o;e.dispatch(C.uo({files:r.data.meta.files,subscribeToRealtime:!0})),(0,K.WY)(n.key);let i=e.getState().fileByKey,a=u.zl.get(x.qp);(0,K.VF)(r.data.meta.state_groups,eo.PW.STATE_GROUP,i,a,e.dispatch),(0,K.VF)(r.data.meta.components,eo.PW.COMPONENT,i,a,e.dispatch),e.dispatch(A.dC({subscribedOldKeyToNewKey:{},localOldGuidToNewKey:r.data.meta.move_remappings}))}catch(e){console.warn("Failed to get published and moved components for editing file")}(0,K._B)()}function e5(e,r,n=!1){let{loadingState:i}=e.getState();return n?(0,K.Fz)(r,i,e.getState().fileVersion,e.dispatch):(0,K.AA)(r,i,e.getState().fileVersion,e.dispatch)}(0,w.nF)((e,r)=>{eJ=r.stateGroupKey,eQ=e0(e,r.stateGroupKey)}),q.M4.Query({fetch:async e=>(await eh.getOrgMigrationStatus({orgId:e})).data.meta,enabled:e=>!!e}),q.M4.Query({fetch:async e=>await e4(d.D.dispatch,e),key:"libraryStats"});let e4=async(e,r)=>{let n=eh.getLibraries({orgId:r,fv:52}),i=function(e){return`LIBRARY${e?"_"+e:""}'_STATS'`}(r);(0,er.N)(n,{dispatch:e},i);try{let r=await n,i=r&&r.data&&r.data.meta||[],a=0,o=0,s=0,l=0,d=0,c=0,u=0,p=[],h=[],m=[],g=new Set;for(let e of i)(0!==e.num_components||0!==e.num_styles||0!==e.num_variable_collections||0!==e.num_variables||0!==e.num_module_assets)&&(e.team_id&&!g.has(e.team_id)&&(g.add(e.team_id),c++),p.push(e),h.push(e.file),e.thumbnail_url&&m.push({file_key:e.library_file_key,thumbnail_url:e.thumbnail_url}),a+=e.num_components,s+=e.num_styles,l+=e.num_variable_collections,e.num_state_groups=0,o+=e.num_state_groups,d+=e.num_module_assets,u++);return h.length>0&&e(C.uo({files:h,subscribeToRealtime:!1})),m.length>0&&e(A.t2({libraries:m})),{totalComponents:a,totalStateGroups:o,totalStyles:s,totalVariableCollections:l,totalModuleAssets:d,teamsWithLibraries:c,totalLibraries:u,files:p}}catch(e){return eo.wg}},e6=(q.M4.Query({fetch:e=>e6(e),key:"libraryInfo"}),(0,Q.D)(async({currentOrgId:e,excludeDrafts:r,subscriptionFileKey:n,includeThumbnails:i})=>{let a=ep.Z.getLibraries({orgId:e,fv:52,subscriptionFileKey:n||void 0,includeThumbnails:i});try{let e=await a,n=e&&e.data&&e.data.meta||[],o=0,s=0,l=0,d=0,c=0,u=0,p=0,h=[],m=[],g=[],f=new Set;for(let e of n)e.num_state_groups=0,(0!==e.num_components||0!==e.num_styles||0!==e.num_variable_collections||0!==e.num_variables||0!==e.num_module_assets)&&(!r||e.team_id)&&(e.team_id&&!f.has(e.team_id)&&(f.add(e.team_id),u++),h.push(i?{...e,thumbnail_url:e.file.thumbnail_url}:e),m.push(e.file),e.thumbnail_url&&g.push({file_key:e.library_file_key,thumbnail_url:e.thumbnail_url}),o+=e.num_components,l+=e.num_styles,d+=e.num_variable_collections,s+=e.num_state_groups,c+=e.num_module_assets,p++);return{totalComponents:o,totalStateGroups:s,totalStyles:l,totalVariableCollections:d,totalModuleAssets:c,teamsWithLibraries:u,totalLibraries:p,files:h,libraries:g}}catch(e){return{...eo.wg,libraries:[]}}}));(0,w.nF)(async e=>{if(await ei.kb.promise,!e.getState().user)return;let r=Promise.resolve(null),n=Promise.resolve(null),i=Promise.resolve(null);try{await Promise.all([r,i,n])}catch(e){}}),(0,w.nF)(e=>{var r;let n=e.getState(),i=!!n.user;if(!(null==(r=n.openFile)?void 0:r.key))return;let a=e.getState().selectedView;a&&"fullscreen"===a.view&&(a.editorType===ea.nT.Whiteboard?eG(e):(0,K.kG)(),i&&e2(e,a.editorType===ea.nT.Whiteboard?es.$A.FigJam:es.$A.Design)),i&&(e.dispatch(eY()),e3(e))}),(0,o.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_TEAM"),(0,o.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_FILE"),(0,o.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_USER"),(0,o.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_ORG"),(0,o.N)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_PRESET");let e8=(0,o.N)("ADD_ASSET_TO_RECENTS"),e7=(0,Q.D)((e,r,n,i=!1)=>{if(!n||(0,K.td)(e.getState().library,r))return;let a=(0,L.d1)(e.getState());if(a){let o=a.editor_type??"design";(!0===n||"design"===o&&n.design||"whiteboard"===o&&n.figjam)&&(e.getState().leftPanel.activeTab===l.xae.ASSETS||e.getState().universalInsertModal.showing?e5(e,r,i):e.dispatch(ew.yH({key:(0,eT.yD)(a.key)})))}});(0,w.MM)("LIBRARY_SUBSCRIPTION_POST_ORG",(e,r,{optimistId:n})=>{var i,a;let{libraryOrgSubscription:o,libraryTeamId:l,userInitiated:d}=r,{isCommunityLibrary:c,orgId:u,resourceId:p,subscriptions:h}=o;if(e7(e,p,h,c),d){if(r.currentSubscription){let e=o.subscriptions.design;!((null==(i=r.currentSubscription)?void 0:i.design)||(null==(a=r.currentSubscription)?void 0:a.figjam))&&e?(0,s.sx)("Team Library File Enabled",{orgId:u,fileKey:p,fileTeamId:l}):(0,s.sx)("Org Library File Disabled",{orgId:u,fileKey:p,fileTeamId:l})}f.Ay.post(`/api/library_org_subscriptions/${p}`,{subscriptions:h,is_community_library:c,org_id:u}).then(()=>{e.dispatch(w.hp.commit(n)),e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.settings_updated_for",{libraryName:r.libraryName,orgOrWorkspaceName:r.orgName})}))}).catch(()=>{e.dispatch(w.hp.revert(n)),e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}}),(0,w.MM)("LIBRARY_SUBSCRIPTION_POST_WORKSPACE",async(e,r,{optimistId:n})=>{let{libraryWorkspaceSubscription:i,libraryName:a,workspaceName:o}=r,{isCommunityLibrary:s,resourceId:l,subscriptions:d,workspaceId:c}=i,u=f.Ay.post(`/api/library_workspace_subscriptions/${l}`,{subscriptions:d,workspace_id:c,is_community_library:s});i.id?(0,p.WB)().optimisticallyUpdate({LibraryWorkspaceSubscription:{[i.id]:{isSubscribed:d.design,figJamSubscribed:d.figjam}}},u):(0,p.WB)().optimisticallyCreate({LibraryWorkspaceSubscription:{[`library-workspace-sub-${performance.now()}`]:{fileKey:l,workspaceId:c,isSubscribed:d.design,figJamSubscribed:d.figjam,slidesSubscribed:null,canRead:!0,hubFileId:s?l:null}}},u);try{await u,e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.settings_updated_for",{libraryName:a,orgOrWorkspaceName:o})}))}catch(r){e.dispatch(I.F.enqueue({message:(null==r?void 0:r.message)??(0,v.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))}}),(0,w.MM)("LIBRARY_SUBSCRIPTION_DEL_WORKSPACE",async(e,r,{optimistId:n})=>{let{libraryWorkspaceSubscription:i,libraryName:a,workspaceName:o}=r,{isCommunityLibrary:s,resourceId:l,workspaceId:d}=i,c=f.Ay.del(`/api/library_workspace_subscriptions/${l}`,{workspace_id:d,is_community_library:s});i.id&&(0,p.WB)().optimisticallyDelete({LibraryWorkspaceSubscription:{[i.id]:null}},c);try{await c,e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.settings_updated_for",{libraryName:a,orgOrWorkspaceName:o})}))}catch(r){e.dispatch(I.F.enqueue({message:(null==r?void 0:r.message)??(0,v.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))}}),(0,w.MM)("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,r,{optimistId:n})=>{let{libraryTeamSubscription:i,userInitiated:a,isCommunityLibrary:o}=r,{file_key:s,subscriptions:l,team_id:d}=i;e7(e,s,l,o),a&&(o?eu.createCommunityLibraryTeamSubscription({libraryHubFileId:s,subscriptions:l,teamId:d}):f.Ay.post(`/api/library_team_subscriptions/${s}`,{subscriptions:l,team_id:d})).then(()=>{e.dispatch(w.hp.commit(n))}).catch(()=>{e.dispatch(w.hp.revert(n)),e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}),(0,w.MM)("LIBRARY_SUBSCRIPTION_POST_USER",(e,r,{optimistId:n})=>{let{libraryUserSubscription:i,isCommunityLibrary:a,userInitiated:o}=r,{file_key:s,subscriptions:l}=i;e7(e,s,l),o&&f.Ay.post(`/api/library_user_subscriptions/${s}`,{subscriptions:l,is_community_library:a}).then(()=>{e.dispatch(w.hp.commit(n))}).catch(()=>{e.dispatch(w.hp.revert(n)),e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})});let e9=(0,w.MM)("LIBRARY_SUBSCRIPTION_POST_FILE",(e,r,{optimistId:n})=>{var i;let{libraryFileSubscription:a,userInitiated:o,isCommunityLibrary:s}=r,{file_key:l,library_file_key:d,is_subscribed:c}=a;((null==(i=e.getState().openFile)?void 0:i.key)||null)===l&&e7(e,d,c,s);let u=e.getState().library.subscriptions.byFile[l];u&&d in u&&u[d]===c||!o||(s?eu.createCommunityLibraryFileSubscription({fileKey:l,libraryHubFileId:d,isSubscribed:c}):f.Ay.post(`/api/library_file_subscriptions/${l}/${d}`,{is_subscribed:c})).then(()=>{e.dispatch(w.hp.commit(n))}).catch(()=>{e.dispatch(w.hp.revert(n)),e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}),te=(e,r)=>{var n;let i=(null==(n=e.getState().openFile)?void 0:n.key)||null;i&&r.forEach(r=>{r!==i&&e.dispatch(e9({libraryFileSubscription:{file_key:i,library_file_key:r,is_subscribed:!0},userInitiated:!0}))})},tt="LIBRARY_REMAPPING_PROGRESS_VISUAL_BELL",tr=null;(0,w.nF)((e,r)=>{tr={done:0,total:r.total},e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.remap_connecting_fraction",{current:0,total:r.total}),type:tt,icon:T.zX.SPINNER,timeoutOverride:1/0}))}),(0,w.nF)((e,r)=>{tr&&(tr.done+=r.done,e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.remap_connecting_fraction",{current:tr.done,total:tr.total}),type:tt,icon:T.zX.SPINNER,timeoutOverride:1/0})))}),(0,w.nF)(e=>{tr=null,e.dispatch(I.F.dequeue({matchType:tt})),e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.remap_connected"),type:tt,icon:T.zX.CHECK}))}),(0,w.nF)(e=>{tr=null,e.dispatch(I.F.enqueue({message:(0,v.t)("design_systems.subscriptions.remap_connection_failed"),type:tt,error:!0}))});let tn=(0,w.nF)(e=>{e.getState().userFlags.has_inserted_component||e.dispatch(O.b({has_inserted_component:!0}))});(0,w.nF)(e=>{e.getState().userFlags.has_opened_libraries_modal||e.dispatch(O.b({has_opened_libraries_modal:!0}))})},94693:(e,r,n)=>{"use strict";let i,a;n.d(r,{jO:()=>C,uE:()=>M,tZ:()=>L,UN:()=>R,cc:()=>N});var o=n(98977),s=n(66712),l=n(74626),d=n(76621),c=n(39863),u=n(92592),p=n(34533),h=n(62275),m=n(99506),g=n(54703),f=n(208),_=n(44682),y=n(97551);async function E({fileKey:e,name:r,description:n,publishScope:i,customThumbnail:a,onErrorsChanged:o,onSuccess:s,onFailure:l,dispatch:d}){var u;if(!e){l("Missing `fileKey`");return}let p={name:r,description:n,publish_scope:i},h=function(e){let r={},n=(0,y.Yp)(e.name||null).length;return 0===n?r.name=(0,c.t)("community.publishing.name_must_not_be_empty"):n>100&&(r.name=(0,c.t)("community.publishing.name_must_be_at_most_100_characters_long")),(0,y.Yp)(e.description||null).length>1e4&&(r.description=(0,c.t)("community.publishing.description_must_be_at_most_10000_characters_long")),r}(p);if(o(h),!(Object.keys(h).length>0)){try{let r=null;if(a&&(null==(u=a.buffer)?void 0:u.length)){let{data:{status:n,meta:i}}=await f.Ay.post(`/api/templates/file/${e}/upload`);if(200!==n){l((0,c.t)("templates.actions.error_connecting_to_server_to_upload_file_thumbnail"));return}let{cover_image_upload_url:o,fields:s={}}=i;r=i.signature;let d=new FormData;Object.entries(s).forEach(([e,r])=>d.append(e,r)),d.set("content-type",(0,g.i)(a.buffer)??"image/png"),d.append("file",new Blob([a.buffer]));try{await fetch(o,{method:"POST",body:d})}catch(e){l((0,c.Jv)(e,(0,c.t)("templates.actions.error_connecting_to_server_to_upload_file_thumbnail")));return}}let n={};(a||r)&&(n.cover_image_uploaded="true"),r&&(n.signature=r),await f.Ay.post(`/api/templates/file/${e}`,p,{params:n})}catch(e){l(e.message);return}d(_.yJ({file:{key:e,is_team_template:!0}})),s()}}var b=n(73454);function v(e,r){return h.to({type:{type:"PublishingModal"},data:{initiallyCheckedItemIDs:e,timedOut:r}})}n(11855);var S=((i=S||{}).ASSET_PANEL_LIBRARY_CONTEXT_MENU="asset_panel_library_context_menu",i.COMPONENT_PUBLISH_ERROR_NOTIFICATION="component_publish_error_notification",i.FILENAME_VIEW_DROPDOWN="filename_view_dropdown",i.FULLSCREEN_MOVE_COMPONENTS_PROMPT="fullscreen_move_components_prompt",i.FULLSCREEN_OTHER="fullscreen_other",i.LIBRARY_PREFERENCES_MODAL="library_preferences_modal",i.PROPERTIES_PANEL="properties_panel",i.PUBLISH_UPSELL_MODAL="publish_upsell_modal",i.UNPUBLISHED_PREFERRED_VALUES_WARNING="unpublished_preferred_values_warning",i.TEST="test",i),I=n(15408),T=n(53381),w=n(67528),C=((a=C||{}).Offline="Offline",a.NonS3PresignedPost="NonS3PresignedPost",a.GenericError="GenericError",a.PartialPublish="PartialPublish",a.Timeout="Timeout",a.ErrorCode="ErrorCode",a.ErrorReason="ErrorReason",a.NoItemsToPublish="NoItemsToPublish",a);function A(e){e(u.F.dequeue({matchType:"library-publish"})),e(v())}function N(e){let{publishType:r,dispatch:n}=e;n(u.F.enqueue({type:"library-publish",message:r===b.M$.UNPUBLISH?(0,c.t)("design_systems.publish_actions.unpublish_success"):(0,c.t)("design_systems.publish_actions.publish_success"),icon:p.zX.CHECK}))}function O(e){let{dispatch:r}=e,n=l.zl.get(w._g),i=l.zl.get(w.cZ);switch(n){case w.F4.PUBLISH_HUB_FILE_INITIATED:l.zl.set(w.UM,{state:w.F4.PUBLISH_HUB_FILE_COMPLETED}),r(u.F.dequeue({matchType:"slides-template-publish"}));break;case w.F4.PUBLISH_TEMPLATE_INITIATED:if(!i)throw Error("Invalid state for slide template publish flow.");let{isPublishedTemplate:a}=i;E({...i,dispatch:r,onSuccess:()=>{l.zl.set(w.UM,{state:w.F4.PUBLISH_TEMPLATE_COMPLETED}),r(u.F.enqueue({type:"slides-template-publish",message:a?(0,c.t)("slides.templates.publish_actions.toast.update_success"):(0,c.t)("slides.templates.publish_actions.toast.publish_success"),icon:p.zX.CHECK})),r(h.Ce())},onFailure:e=>{(0,d.x1)("Slides Template Publish Error","Template publish failed for org templates.",{error:e},{reportAsSentryError:!0}),l.zl.set(w.UM,{state:w.F4.PUBLISH_TEMPLATE_ERRORED}),r(u.F.enqueue({type:"slides-template-publish",message:(0,c.t)("slides.templates.publish_actions.toast.publish_error"),error:!0}))}});break;case w.F4.UNPUBLISH_INITIATED:l.zl.set(w.UM,{state:w.F4.UNPUBLISH_COMPLETED}),r(u.F.enqueue({type:"slides-template-publish",message:(0,c.t)("slides.templates.publish_actions.toast.unpublish_success"),icon:p.zX.CHECK}))}}function R(e){let{publishType:r,dispatch:n}=e;n(u.F.enqueue({type:"library-publish",message:r===b.M$.UNPUBLISH?(0,c.t)("design_systems.publish_actions.unpublishing_library"):(0,c.t)("design_systems.publish_actions.publishing_library"),icon:e.icon,progressKey:e.progressKey}))}function P(e){let{publishType:r,dispatch:n}=e;l.zl.get(w._g)!==w.F4.CLEARED&&n(u.F.enqueue({type:"slides-template-publish",message:r===b.M$.UNPUBLISH?(0,c.t)("slides.templates.publish_actions.unpublishing"):(0,c.t)("slides.templates.publish_actions.publishing"),icon:e.icon,progressKey:e.progressKey}))}function L(e){let{error:r}=e;if("NoItemsToPublish"===r)return;let{publishType:n,dispatch:i}=e,a=n===b.M$.UNPUBLISH;switch(r){case"Offline":i(u.F.enqueue({type:"library-publish",icon:p.zX.EXCLAMATION,error:!0,message:a?(0,c.t)("design_systems.publish_actions.cant_unpublish"):(0,c.t)("design_systems.publish_actions.cant_publish"),button:{text:(0,c.t)("design_systems.publish_actions.retry"),action:()=>A(i)}}));break;case"NonS3PresignedPost":(0,I.MZ)(i,(0,c.t)("check_network_compatibility.error_bell.library_publish.message"));break;case"GenericError":u.F.enqueue({type:"library-publish",icon:p.zX.EXCLAMATION,error:!0,message:(0,c.t)("design_systems.publish_error.generic"),button:{text:(0,c.t)("design_systems.publish_actions.retry"),action:()=>A(i)}});break;case"PartialPublish":{let r="";r=a?(0,c.t)("design_systems.publish_actions.unpublish_error",{numSkipped:e.numPublishSkippedDueToError}):(0,c.t)("design_systems.publish_actions.publish_error",{numSkipped:e.numPublishSkippedDueToError}),i(u.F.enqueue({type:"library-publish",icon:p.zX.EXCLAMATION,error:!0,message:r,button:{text:(0,c.t)("design_systems.publish_actions.retry"),action:()=>A(i)}}));break}case"Timeout":i(v(e.itemsToPublish,!0)),i(u.F.dequeue({matchType:"library-publish"}));break;case"ErrorCode":{if(424===e.errorCode){i(u.F.enqueue({message:(0,c.t)("design_systems.publish_actions.validations_failed"),type:"library-publish",error:!0,button:{text:(0,c.t)("design_systems.publish_actions.validations_contact"),action:()=>{o.Ay.unsafeRedirect(`mailto:${(0,s.W4)()}`,"_blank")}}}));break}let r="";413===e.errorCode?r=(0,c.t)("design_systems.publish_actions.payload_too_large"):(e.errorCode,r=(0,c.t)("design_systems.publish_actions.reload"));let n=a?(0,c.t)("design_systems.publish_actions.unpublish_failed",{reason:r}):(0,c.t)("design_systems.publish_actions.publish_failed",{reason:r});i(u.F.enqueue({type:"library-publish",error:!0,message:n}));break}case"ErrorReason":i(u.F.enqueue({type:"library-publish",error:!0,message:a?(0,c.t)("design_systems.publish_actions.unpublish_failed",{reason:e.errorReason}):(0,c.t)("design_systems.publish_actions.publish_failed",{reason:e.errorReason})}))}}function D(e){let{error:r,dispatch:n}=e,i=l.zl.get(w._g);switch((0,d.x1)("Slides Template Publish Error","Error during module publish flow",{publishState:i,error:r},{reportAsSentryError:!0}),i){case w.F4.PUBLISH_HUB_FILE_INITIATED:l.zl.set(w.UM,{state:w.F4.PUBLISH_HUB_FILE_ERRORED});break;case w.F4.PUBLISH_TEMPLATE_INITIATED:l.zl.set(w.UM,{state:w.F4.PUBLISH_TEMPLATE_ERRORED});break;case w.F4.UNPUBLISH_INITIATED:l.zl.set(w.UM,{state:w.F4.UNPUBLISH_ERRORED});return}switch(r){case"Offline":n(u.F.enqueue({type:"slides-template-publish",icon:p.zX.EXCLAMATION,error:!0,message:(0,c.t)("slides.templates.publish_actions.toast.offline_error")}));break;case"NonS3PresignedPost":(0,I.MZ)(n,(0,c.t)("check_network_compatibility.error_bell.library_publish.message"));break;case"NoItemsToPublish":n(u.F.enqueue({type:"slides-template-publish",icon:p.zX.EXCLAMATION,error:!0,message:(0,c.t)("slides.templates.publish_actions.toast.no_items_error")}));break;case"ErrorCode":n(413===e.errorCode?u.F.enqueue({type:"slides-template-publish",error:!0,message:(0,c.t)("slides.templates.publish_actions.toast.long_name_error")}):u.F.enqueue({type:"slides-template-publish",error:!0,message:(0,c.t)("slides.templates.publish_actions.toasts.publish_error.generic")}));break;default:n(u.F.enqueue({type:"slides-template-publish",error:!0,message:(0,c.t)("slides.templates.publish_actions.toasts.publish_error.generic")}))}}function M(e){return e===m._Y.SLIDES&&(0,T.i)()?{onPublishSuccess:O,onPublishProgress:P,onPublishError:D}:{onPublishSuccess:N,onPublishProgress:R,onPublishError:L}}},82818:(e,r,n)=>{"use strict";n.d(r,{vQ:()=>M,e9:()=>k});var i=n(66712),a=n(74626),o=n(84107),s=n(62275),l=n(96673),d=n(44892),c=n(99881),u=n(99506),p=n(79453),h=n(11855),m=n(88507),g=n(60601),f=n(99569),_=n(46689),y=n(39863),E=n(31828),b=n(37870),v=n(88578),S=n(30949);let I=e=>{let r=e.split(". ");if(r.length<3)return e;let n=h.createElement("span",{className:S.cx.underline.$},r[1]);return h.createElement(h.Fragment,null,r[0]+". ",n,". "+r.slice(2).join(". "))};function T(){return h.createElement("div",{style:{whiteSpace:"pre-line",fontWeight:500}},`APPLE INC.
        LICENSE AGREEMENT FOR APPLE DESIGN RESOURCES
        For macOS, iOS, watchOS, tvOS, and/or visionOS Application Uses

        PLEASE READ THIS LICENSE AGREEMENT (\u201CLICENSE\u201D) CAREFULLY BEFORE USING THE APPLE DESIGN RESOURCES (DEFINED BELOW). BY USING THE APPLE DESIGN RESOURCES, YOU ARE AGREEING TO BE BOUND BY THE TERMS OF THIS LICENSE. IF YOU ARE ACCESSING THE APPLE DESIGN RESOURCES ELECTRONICALLY, SIGNIFY YOUR AGREEMENT TO BE BOUND BY THE TERMS OF THIS LICENSE BY CLICKING THE \u201CAGREE\u201D BUTTON. IF YOU DO NOT AGREE TO THE TERMS OF THIS LICENSE, DO NOT USE THE APPLE DESIGN RESOURCES AND CLICK \u201CDISAGREE\u201D.

        IMPORTANT NOTES:

        `,h.createElement("ul",null,h.createElement("li",{className:S.cx.ml12.$,style:{listStyleType:"disc"},key:"header-bullet-one"},`THE APPLE DESIGN RESOURCES LICENSED HEREUNDER ARE TO BE USED SOLELY FOR CREATING MOCK-UPS OF USER INTERFACES DESIGNED FOR USE IN SOFTWARE PRODUCTS THAT RUN ONLY ON APPLE\u2019S macOS, iOS, watchOS, tvOS, AND/OR visionOS OPERATING SYSTEM SOFTWARE.

          `),h.createElement("li",{className:S.cx.ml12.$,style:{listStyleType:"disc"},key:"header-bullet-two"},`If you are entering into this License on behalf of your company or organization, \u201Cyou\u201D or
          \u201Cyour\u201D refers to such entity as well, and you represent that you have legal authority to
          bind your company or organization to the terms of this License.

          `)),`1. General.
        A. The Apple software, interfaces, content, templates, data, and other materials accompanying this License, whether on disk, print or electronic documentation, in read only memory, or any other media or in any other form (collectively the \u201CApple Design Resources\u201D) are licensed, not sold, to you by Apple Inc. (\u201CApple\u201D) for use only under the terms of this License. Apple and/or Apple\u2019s licensors retain ownership of the Apple Design Resources and reserve all rights not expressly granted to you. The terms of this License will govern any software upgrades provided to you by Apple that replace and/or supplement the original Apple Design Resources, unless such upgrade is accompanied by a separate license in which case the terms of that license will govern.

        B. The Apple San Francisco font is subject to a separate license agreement. If you want to install and use the Apple San Francisco font, you must first accept the separate license agreement that accompanies the font.

        C. Title and intellectual property rights in and to any content displayed by or accessed through the Apple Design Resources belongs to the respective content owner. Such content may be protected by copyright or other intellectual property laws and treaties, and may be subject to terms of use of the third party providing such content. This License does not grant you any rights to use such content nor does it guarantee that such content will continue to be available to you.

        2. Permitted License Uses and Restrictions.
        `,I(`A. Limited License. Subject to the terms of this License and your compliance with Apple\u2019s Human Interface Guidelines, you are granted a limited, non-transferable, non-exclusive license to use the Apple Design Resources solely for creating mock-ups of user interfaces designed for use in software products that run only on Apple\u2019s macOS, iOS, watchOS, tvOS, and/or visionOS operating system software (\u201CMock-Ups\u201D). The foregoing right includes the right to show the Apple Design Resources in screen shots, images or other depictions of such Mock-Ups.

You may use the Apple Design Resources only for the purposes described in this License or as otherwise expressly permitted by Apple in writing.

`),I(`B. Other Use Restrictions. The grants set forth in this License do not permit you to, and you agree not to, install, use or run the Apple Design Resources for the purpose of creating mock-ups of user interfaces to be used in software products running on any non-Apple operating system software. You may not embed the Apple Design Resources in any software programs or other products. Except as expressly provided for herein, you may not use the Apple Design Resources to create, develop, display or otherwise distribute any documentation, artwork, website content or any other work product.

Except as otherwise expressly permitted by the terms of this License or as otherwise licensed by Apple, you may not make the Apple Design Resources available over a network where they could be run or used by multiple computers at the same time. You may not rent, lease, lend, trade, transfer, sell, sublicense or otherwise redistribute the Apple Design Resources in any unauthorized way, or enable others to do so.

`),I(`C. Template Content. The Apple Design Resources licensed hereunder contain content such as interfaces, graphics, artwork, images, and similar content (individually and collectively, the \u201CTemplate Content\u201D), for use in creating your Mock-Ups in accordance with this License. To the extent that you provide Mock-Ups you create using the Template Content to any other party, you agree to ensure that each such recipient is aware of the restrictions set forth in this License including, without limitation, the restriction on extraction of Template Content and the requirement that the Template Content be used only for Mock-Ups of user interfaces for software products that would run only on Apple\u2019s macOS, iOS, watchOS, tvOS, and/or visionOS operating system software. The Template Content may not otherwise be used, extracted, copied, modified, distributed, or repackaged as content, clip art, stock animation, or similar assets, or in any other manner.

        `),I(`D. No Reverse Engineering; Limitations. You may not, and you agree not to or to enable others to, copy (except as expressly permitted by this License), decompile, reverse engineer, disassemble, attempt to derive the source code of, decrypt, modify, create derivative works of the Apple Design Resources or any part thereof (except as and only to the extent any foregoing restriction is prohibited by applicable law).

        `),I(`E. Compliance with Laws. You agree to use the Apple Design Resources in compliance with all applicable laws, including local laws of the country or region in which you reside or in which you download or use the Apple Design Resources.

        `),`3. No Transfer or Assignment. Except as otherwise set forth herein, you may not transfer the Apple Design Resources without Apple\u2019s express prior written approval. All components of the Apple Design Resources are provided as part of a bundle and may not be separated from the bundle and distributed on a standalone basis. This License may not be assigned by you, nor may the rights granted hereunder be transferred by you, in whole or in part, through acquisition, merger or otherwise, without the prior written consent of a duly authorized representative of Apple. Any attempted assignment in contravention of this section shall be void.

        4. Termination. This License shall commence upon your installation or use of the Apple Design Resources. Your rights under this License will terminate automatically or cease to be effective without notice from Apple (a) if you fail to comply with any term(s) of this License or (b) if Apple releases a version of the Apple Design Resources which is incompatible with this version of the Apple Design Resources. Upon the termination of this License, you shall cease all use of the Apple Design Resources and destroy all copies, full or partial, of the Apple Design Resources. Section 2B, 2D, and 5 through 10 of this License shall survive any termination.

        5. Disclaimer of Warranties.
        A. YOU EXPRESSLY ACKNOWLEDGE AND AGREE THAT, TO THE EXTENT PERMITTED BY APPLICABLE LAW, USE OF THE APPLE DESIGN RESOURCES IS AT YOUR SOLE RISK AND THAT THE ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE, ACCURACY AND EFFORT IS WITH YOU.

        B. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE APPLE DESIGN RESOURCES IS PROVIDED \u201CAS IS\u201D AND \u201CAS AVAILABLE\u201D, WITH ALL FAULTS AND WITHOUT WARRANTY OF ANY KIND, AND APPLE AND APPLE\u2019S LICENSORS (COLLECTIVELY REFERRED TO AS \u201CAPPLE\u201D FOR THE PURPOSES OF SECTIONS 5 AND 6) HEREBY DISCLAIM ALL WARRANTIES AND CONDITIONS WITH RESPECT TO THE APPLE DESIGN RESOURCES, EITHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES AND/OR CONDITIONS OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, ACCURACY, QUIET ENJOYMENT, AND NON-INFRINGEMENT OF THIRD PARTY RIGHTS.

        C. APPLE DOES NOT WARRANT AGAINST INTERFERENCE WITH YOUR ENJOYMENT OF THE APPLE DESIGN RESOURCES, THAT THE FUNCTIONS CONTAINED IN THE APPLE DESIGN RESOURCES WILL MEET YOUR REQUIREMENTS, THAT THE OPERATION OF THE APPLE DESIGN RESOURCES WILL BE UNINTERRUPTED OR ERROR-FREE, THAT THE APPLE DESIGN RESOURCES WILL BE COMPATIBLE OR WORK WITH ANY THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, OR THAT DEFECTS IN THE APPLE DESIGN RESOURCES WILL BE CORRECTED. INSTALLATION OF THIS APPLE DESIGN RESOURCES MAY AFFECT THE AVAILABILITY AND USABILITY OF THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, AS WELL AS APPLE PRODUCTS AND SERVICES.

        D. YOU FURTHER ACKNOWLEDGE THAT THE APPLE DESIGN RESOURCES IS NOT INTENDED OR SUITABLE FOR USE IN SITUATIONS OR ENVIRONMENTS WHERE THE FAILURE OR TIME DELAYS OF, OR ERRORS OR INACCURACIES IN THE CONTENT, DATA OR INFORMATION PROVIDED BY, THE APPLE DESIGN RESOURCES COULD LEAD TO DEATH, PERSONAL INJURY, OR SEVERE PHYSICAL OR ENVIRONMENTAL DAMAGE, INCLUDING WITHOUT LIMITATION THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, LIFE SUPPORT OR WEAPONS SYSTEMS.

        E. NO ORAL OR WRITTEN INFORMATION OR ADVICE GIVEN BY APPLE OR AN APPLE AUTHORIZED REPRESENTATIVE SHALL CREATE A WARRANTY. SHOULD THE APPLE DESIGN RESOURCES PROVE DEFECTIVE, YOU ASSUME THE ENTIRE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

        6. Limitation of Liability. TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT SHALL APPLE BE LIABLE FOR PERSONAL INJURY, OR ANY INCIDENTAL, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF PROFITS, CORRUPTION OR LOSS OF DATA, FAILURE TO TRANSMIT OR RECEIVE ANY DATA OR INFORMATION, BUSINESS INTERRUPTION OR ANY OTHER COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY TO USE THE APPLE DESIGN RESOURCES OR ANY THIRD PARTY SOFTWARE, APPLICATIONS, OR SERVICES IN CONJUNCTION WITH THE APPLE DESIGN RESOURCES, HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT OR OTHERWISE) AND EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR PERSONAL INJURY, OR OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THIS LIMITATION MAY NOT APPLY TO YOU. In no event shall Apple\u2019s total liability to you for all damages (other than as may be required by applicable law in cases involving personal injury) exceed the amount of fifty dollars ($50.00). The foregoing limitations will apply even if the above stated remedy fails of its essential purpose.

        7. Export Control. You may not use or otherwise export or re-export the Apple Design Resources except as authorized by United States law and the laws of the jurisdiction(s) in which the Apple Design Resources was obtained. In particular, but without limitation, the Apple Design Resources may not be exported or re-exported (a) into any U.S. embargoed countries or (b) to anyone on the U.S. Treasury Department\u2019s list of Specially Designated Nationals or the U.S. Department of Commerce Denied Person\u2019s List or Entity List or any other restricted party lists. By using the Apple Design Resources, you represent and warrant that you are not located in any such country or on any such list. You also agree that you will not use the Apple Design Resources for any purposes prohibited by United States law, including, without limitation, the development, design, manufacture or production of missiles, nuclear, chemical or biological weapons.

        8. Government End Users. The Apple Design Resources and related documentation are \u201CCommercial Items\u201D, as that term is defined at 48 C.F.R. \xa72.101, consisting of \u201CCommercial Computer Software\u201D and \u201CCommercial Computer Software Documentation\u201D, as such terms are used in 48 C.F.R. \xa712.212 or 48 C.F.R. \xa7227.7202, as applicable. Consistent with 48 C.F.R. \xa712.212 or 48 C.F.R. \xa7227.7202-1 through 227.7202-4, as applicable, the Commercial Computer Software and Commercial Computer Software Documentation are being licensed to U.S. Government end users (a) only as Commercial Items and (b) with only those rights as are granted to all other end users pursuant to the terms and conditions herein. Unpublished-rights reserved under the copyright laws of the United States.

        9. Controlling Law and Severability. This License will be governed by and construed in accordance with the laws of the State of California, excluding its conflict of law principles. This License shall not be governed by the United Nations Convention on Contracts for the International Sale of Goods, the application of which is expressly excluded. If for any reason a court of competent jurisdiction finds any provision, or portion thereof, to be unenforceable, the remainder of this License shall continue in full force and effect.

        10. Complete Agreement; Governing Language. This License constitutes the entire agreement between you and Apple relating to the use of the Apple Design Resources licensed hereunder and supersedes all prior or contemporaneous understandings regarding such subject matter. No amendment to or modification of this License will be binding unless in writing and signed by Apple. The parties hereto confirm that they have requested that this License and all related documents be drafted in English. Les parties ont exig\xe9 que le pr\xe9sent contrat et tous les documents connexes soient r\xe9dig\xe9s en anglais.

        LYL142
        06/21/2023`)}let w="apple_eula_modals--container--JGgT-",C="apple_eula_modals--header--V9qgR",A="apple_eula_modals--bodyContainer--Wc5fU",N="apple_eula_modals--body--WSsjO",O="apple_eula_modals--footer--ufmz5",R="apple_eula_modals--cta---wPn5",P=(0,b.Ju)(function({onAgree:e}){let r=(0,m.wA)();return h.createElement(v.Nb,{hide:g.lQ,disableClickOutsideToHide:!0,className:w},h.createElement("div",{className:C},h.createElement(y.Tx,{id:"community.eula.license_agreement"}),h.createElement(f.s_,{dispatch:r,customStyle:{right:"4px",top:"4px"}})),h.createElement("div",{className:A},h.createElement("div",{className:N},h.createElement(T,null))),h.createElement("div",{className:O},h.createElement(_.tM,{onClick:()=>{r(s.Lo())},className:R},h.createElement(y.Tx,{id:"community.eula.disagree"})),h.createElement(_.vd,{onClick:()=>{e(),r(E.b({apple_eula_accepted:!0}))},className:R},h.createElement(y.Tx,{id:"community.eula.agree"}))))},"APPLE_EULA_MODAL_TYPE",b.ZU.YES),L=(0,b.Ju)(function({resolve:e,reject:r}){let n=(0,m.wA)();return h.createElement(v.Nb,{hide:r,disableClickOutsideToHide:!0,className:w},h.createElement("div",{className:C},h.createElement(y.Tx,{id:"community.eula.license_agreement"}),h.createElement(f.s_,{dispatch:n,customStyle:{right:"4px",top:"4px"},onClose:r})),h.createElement("div",{className:A},h.createElement("div",{className:N},h.createElement(T,null))),h.createElement("div",{className:O},h.createElement(_.tM,{onClick:()=>{n(s.Lo()),r()},className:R},h.createElement(y.Tx,{id:"community.eula.disagree"})),h.createElement(_.vd,{onClick:()=>{n(E.b({apple_eula_accepted:!0})),n(s.ES({type:"ASYNC_APPLE_EULA_MODAL_TYPE"})),e(!0)},className:R},h.createElement(y.Tx,{id:"community.eula.agree"}))))},"ASYNC_APPLE_EULA_MODAL_TYPE",b.ZU.YES);var D=n(79296);let M=(0,n(80820).nF)(async(e,{assetResourceId:r,onInsertAsset:n})=>{let i=e.getState();await x(r,i.hubFiles,!!i.userFlags.apple_eula_accepted)?e.dispatch(s.to({type:P,data:{onAgree:async()=>{await n(),e.dispatch(s.ES({type:P.type}))}}})):await n()});async function k(e,r,n,a,o){if(!(0,i.kc)().dse_preset_libraries||!await x(n,a,o))return d.Eo.getCanvas(r);try{if(await new Promise((r,n)=>{e((0,s.to)({type:L,data:{resolve:r,reject:n}}))}))return d.Eo.getCanvas(r);throw Error("Apple EULA not accepted")}catch{throw Error("Apple EULA not accepted")}}async function x(e,r,n){return!!((0,i.kc)().dse_preset_libraries&&(0,l.wJ)(e))&&!n&&await F(e,r)&&!n}(0,D.D)((e,r)=>{let n=r[e];return!!n&&U(n.publisher.profile_handle)});let F=(0,D.D)(async(e,r)=>{var n,s,d,h,m,g;if(!(0,l.wJ)(e))return!1;if((0,i.kc)().dse_read_from_presets_table){let r=(0,p.fy7)({group:(0,c.M)()}),i=await (0,o.QO)(r,(e,n)=>{let i=a.zl.get(r);"loaded"===i.status?e(i):"errors"===i.status&&n("Error loading presetLibraryAtom")}),l=null==(s=null==(n=null==i?void 0:i.data)?void 0:n.libraryPresetSubscriptionsV2)?void 0:s.find(r=>r.hubFileId===e);return(null==l?void 0:l.partner_type)===u.Pn.APPLE}let f=r[e];if(f)return U(null==(d=f.publisher)?void 0:d.profile_handle);try{let r=(0,p.Mnd)({hubFileId:e}),n=await (0,o.QO)(r,(e,n)=>{let i=a.zl.get(r);"loaded"===i.status?e(i):"errors"===i.status&&n("Error loading hubFileAtom")});return U(null==(g=null==(m=null==(h=null==n?void 0:n.data)?void 0:h.hubFile)?void 0:m.profile)?void 0:g.profileHandle)}catch(e){return!1}});function U(e){return null!=e&&"apple"===e.toLowerCase()}},52246:(e,r,n)=>{"use strict";n.d(r,{T1:()=>C,xp:()=>w});var i=n(67249),a=n(84934),o=n(35283),s=n(72174),l=n(10727),d=n(76621),c=n(4783),u=n(77432),p=n(15009),h=n(75224),m=n(80820),g=n(95281),f=n(44892),_=n(52800),y=n(15859),E=n(66068),b=n(73454),v=n(35321);(0,m.nF)((e,r)=>{let{variableSet:n,variableId:i,variableType:o,modeContext:s,callback:l}=r,d=v.sH(n.node_id);if(!d){console.error(`Invalid variableId in loading thumbnails: ${n.id}`);return}S(n).then(e=>{let r=function(e,r,n,i,o){let s=r[e];if(!s||!s.variableThumbnails)return null;let l=s.variableThumbnails[n]??null;for(;(null==l?void 0:l.type)===_.Z_n.ALIAS;){let e=o[l.variableCollectionKey];if(e&&l.values&&l.values[e]){l=l.values[e];continue}e&&"MIXED"!==e&&(0,a.sx)("Fallback to default variable thumbnail",{variableId:n,variableType:i,mode:e});let r=l.defaultMode;if(!r||!l.values||!l.values[r])return null;l=l.values[r]}return l}(v.dI(d),e.thumbnails,i,o,s);null==l||l(r)}).catch(e=>{console.error(`Variable thumbnail did not load: ${i}`),console.error(e)})});let S=async e=>{var r,n;return{thumbnails:await f.Eo.getVariableSetThumbnails((r=e.key,n=e.checkpoint_id,`/variable_set/${r}/thumbnails?ver=${n}`))}};function I(e,r){let n=e.style_type,i=e.meta?e.meta.style_thumbnail:null;if((0,E.Kb)(n)&&(!r||r.content_hash!==e.content_hash||!i))try{i=(0,f.oU)(e.style_type,e.node_id)}catch(r){(0,d.x1)("thumbnails","error generating local style css thumbnail",{name:e.name,type:e.style_type,libraryKey:e.library_key,file_key:(0,h.hH)(e),key:e.key}),(0,d.$D)(c.e.DESIGN_SYSTEMS_EDITOR,r)}if(i&&((0,E.lP)(e.style_type)||(0,f.UE)(i)))return{contentHash:e.content_hash,nodeId:e.node_id,styleThumbnail:i,type:b.PW.STYLE,url:void 0};if(!r||r.content_hash!==e.content_hash||!r.url||r.url===f.u0||r.url===f.r8){let r=A.acquire(e.node_id,e.content_hash);return r?("FILL"!==e.style_type?Promise.resolve():(0,u.i$)((0,y.Jr)().loadAllImagesUnder([e.node_id],_.MoD.NON_ANIMATED_ONLY,"style-thumbnail"),()=>{(0,d.x1)("thumbnails","image manager failed to load",{name:e.name,key:e.key,libraryKey:e.library_key,fileKey:(0,h.hH)(e)})},1e4)).then(()=>scheduler.postTask(()=>(0,f.aV)(e.node_id,e.style_type),r).catch(r=>("AbortError"!==r.name&&((0,d.x1)("thumbnails","error generating local style url thumbnail",{name:e.name,type:e.style_type,libraryKey:e.library_key,file_key:(0,h.hH)(e),key:e.key}),(0,d.$D)(c.e.DESIGN_SYSTEMS_EDITOR,r)),f.r8)).then(r=>({contentHash:e.content_hash,nodeId:e.node_id,styleThumbnail:i,type:b.PW.STYLE,url:r}))):null}return null}let T=(0,i.N)("LIBRARY_ADD_THUMBNAIL_FOR_DANGLING_STYLE"),w=(0,i.N)("LIBRARY_THUMBNAIL_REPLACE_LOCAL_THUMBNAILS"),C=(0,m.nF)((e,r)=>{let n=e.getState(),i=n.library.local.thumbnails,a=n.library.local.components,s=n.library.local.stateGroups,l=n.library.local.styles,d=n.library.local.modules,c=null,u=null;for(let{nodeId:e,url:n,contentHash:p,styleThumbnail:h,type:m}of r.thumbnails){let g;if(m===b.PW.COMPONENT)g=a;else if(m===b.PW.STATE_GROUP)g=s;else if(m===b.PW.STYLE)g=l;else{if(m===b.PW.VARIABLE||m===b.PW.VARIABLE_SET||m===b.PW.VARIABLE_OVERRIDE)continue;m===b.PW.MODULE?g=d:(0,o.xb)(m)}if(r.source===b.$1.LOCAL&&!(e in g))continue;let _=i[e]&&i[e].url;_&&n&&(0,f.qv)(_);let y=r.source===b.$1.LOCAL?g[e]:r.item,E=(()=>{if(null!=p)return p;switch(y.type){case b.PW.COMPONENT:case b.PW.STYLE:return y.content_hash;case b.PW.STATE_GROUP:case b.PW.VARIABLE:case b.PW.VARIABLE_SET:case b.PW.MODULE:return y.version;default:(0,o.xb)(y,"Unhandled item type")}})(),v=(c||i)[e];if(v&&v.url===n&&v.content_hash===E||(c||(c={...i}),c[e]={kind:r.source===b.$1.LOCAL?b.AT.LOCAL:b.AT.LIBRARY,url:n,content_hash:E}),m===b.PW.STYLE&&r.source===b.$1.LOCAL){let r=(u||l)[e];r&&(!r.meta||r.meta.style_thumbnail!==h)&&(u||(u={...l}),u[e]={...r,meta:{...r.meta,style_thumbnail:h}})}}c&&e.dispatch(w({thumbnails:c})),u&&r.source===b.$1.LOCAL&&e.dispatch(g.I0({local:u,type:b.PW.STYLE}))});(0,m.nF)(async(e,r)=>{if(r.styleKind===b.AT.LOCAL){let n=e.getState().library.local.styles[r.styleNodeId],i=e.getState().library.local.thumbnails[r.styleNodeId];if(n){let r;let a=I(n,i);a instanceof Promise?(r=await a,A.release(r.nodeId,r.contentHash)):a&&(r=a),r&&e.dispatch(C({thumbnails:[r],source:b.$1.LOCAL}))}}else if(r.styleKind===b.AT.DANGLING){if(e.getState().library.local.thumbnails[r.styleNodeId])return;let n=(0,f.aV)(r.styleNodeId,"FILL");e.dispatch(T({styleID:r.styleNodeId,url:n}))}}),(0,m.nF)(async(e,r)=>{let n=e.getState().library.local.styles,i=e.getState().library.local.thumbnails,a=r.styleType,o=[],d=[];for(let e in n){let r=n[e];if(r.style_type!==a)continue;let s=I(r,i[e]);s instanceof Promise?d.push(s):null!=s&&o.push(s)}if(o.length>0&&e.dispatch(C({thumbnails:o,source:b.$1.LOCAL})),d.length>0)for(let r=0;r<d.length;r+=50){let n=(await (0,l._7)(d.slice(r,r+50))).map(e=>e.resolve).filter(s.Vq);for(let e of n)A.release(e.nodeId,e.contentHash);e.dispatch(C({thumbnails:n,source:b.$1.LOCAL}))}});let A=(()=>{let e=new Map;return{acquire(r,n=p.IA.INVALID){let i=e.get(r);if((null==i?void 0:i.contentHash)===n)return null;i&&i.controller.abort();let a=new TaskController({priority:"user-visible"});return e.set(r,{controller:a,contentHash:n}),a.signal},release(r,n=p.IA.INVALID){let i=e.get(r);(null==i?void 0:i.contentHash)===n&&e.delete(r)}}})()},91575:(e,r,n)=>{"use strict";let i,a;n.d(r,{ZS:()=>eN});var o=n(36149),s=n.n(o),l=n(67249),d=n(84934),c=n(35283),u=n(66712),p=n(65482),h=n(72174),m=n(17037),g=n(76621),f=n(4783),_=n(208),y=n(15009),E=n(39863),b=n(75224),v=n(34533),S=n(80820),I=n(95281),T=n(29769),w=n(62275),C=n(31828),A=n(74105),N=n(52800),O=n(73454),R=n(47807),P=((i=P||{}).LOCAL_GENERATION="LOCAL_GENERATION",i.LIBRARY_PUBLISH="LIBRARY_PUBLISH",i);let L=new class{constructor(){this.FirstDraftPublishStatusSchemaValidator=(0,R.vh)(),this.FirstDraftAllKitsSchemaValidator=(0,R.vh)(),this.FirstDraftMatchGroupSchemaValidator=(0,R.vh)(),this.FirstDraftPublishLocalKitSchemaValidator=(0,R.vh)(),this.FirstDraftGenerateThemeV5SchemaValidator=(0,R.vh)(),this.FirstDraftAllEvalSetsSchemaValidator=(0,R.vh)(),this.FirstDraftRunEvalsSchemaValidator=(0,R.vh)(),this.FirstDraftEvalStatusSchemaValidator=(0,R.vh)()}postFirstDraftPublishStatus({productComponentKeyToVersion:e,groupedComponentKeyToVersion:r,exampleKeyToVersion:n,variableSetKeyToVersion:i,publishType:a,kitKey:o}){return this.FirstDraftPublishStatusSchemaValidator.validate(async({xr:s})=>await s.post("/api/first_draft/kit_status",{product_components:e,grouped_components:r,examples:n,variable_sets:i,is_local:a===P.LOCAL_GENERATION,kit_key:o,type_info_version:1,theme_info_version:1}))}getFirstDraftAllKits(){return this.FirstDraftAllKitsSchemaValidator.validate(async({xr:e})=>await e.get("/api/first_draft/all_kits"))}getFirstDraftMatchGroup(e){return this.FirstDraftMatchGroupSchemaValidator.validate(async({xr:r})=>await r.get("/api/first_draft/match_group",R.td.toAPIParameters(e)))}postFirstDraftPublishLocalKit({fileKey:e,publishMetadata:r}){return this.FirstDraftPublishLocalKitSchemaValidator.validate(async({xr:n})=>await n.post(`/api/first_draft/publish_local_kit/${e}`,{publish_metadata:r}))}postFirstDraftGenerateThemeV5({userPrompt:e,isLocal:r,kitKey:n}){return this.FirstDraftGenerateThemeV5SchemaValidator.validate(async({xr:i})=>await i.post("/api/first_draft/generate_theme",{user_prompt:e,is_local:r,kit_key:n}))}getFirstDraftAllEvalSets(){return this.FirstDraftAllEvalSetsSchemaValidator.validate(async({xr:e})=>await e.get("/api/first_draft/all_eval_sets"))}postFirstDraftRunEvals({model:e="gpt-4-turbo-2024-04-09",selectedEval:r,isLocal:n,kitKey:i,evalPrompts:a}){let o={is_local:n,kit_key:i};return e&&(o.model=e),a?o.eval_prompts=a:o.eval_set_id=r,this.FirstDraftRunEvalsSchemaValidator.validate(async({xr:e})=>await e.post("/api/first_draft/run_evals",o))}getFirstDraftsEvalStatus({s3Key:e}){return this.FirstDraftEvalStatusSchemaValidator.validate(async({xr:r})=>await r.post("/api/first_draft/eval_status",{s3_key:e}))}};var D=n(30654);let M=new class{constructor(){this.UploadThumbnailsSchemaValidator=(0,R.YV)("UploadThumbnailsSchemaValidator",D.object({presigned_posts:D.array(D.object({url:D.string(),fields:D.record(D.string())}))}),null,!0)}getThumbnailsBufferPresignedPostUrl(e){return this.UploadThumbnailsSchemaValidator.validate(async({xr:r})=>await r.post("/api/asset_thumbnail/upload_buffer",{num_chunks:e}))}getUploadThumbnailsPresignedPostUrls(e){return this.UploadThumbnailsSchemaValidator.validate(async({xr:r})=>await r.post("/api/asset_thumbnail/upload_thumbnails",{num_thumbnails:e}))}};var k=n(47368),x=n(2655),F=n(53069),U=n(47202);function B(e,r){if(!r)return{publishAssets:[],unpublishAssets:[]};let n=new Set(r.added.concat(r.modified)),i=[],a=r.removed;return e.forEach(e=>{n.has(e.key)&&i.push(e)}),{publishAssets:i,unpublishAssets:a}}function V(e){return e&&e!==O.E8.DELETED&&e!==O.E8.NOT_STAGED}async function H(e,r,n,i){var a;let o=N.XJn.getKitKey(e);if(!o)return;let s=function(e){let{info:r}=(0,k.oq)({rootNodes:{dsKitKey:{type:"LOCAL",pageId:e},pageChildrenName:x.vh},options:{}});return r.filter(e=>(0,x.Se)(e.componentGroupPath,x.vh))}(e);if(0===s.length)return;let l=n.publishType,d=l===P.LOCAL_GENERATION,c=s.reduce((e,r)=>{var i;return(l!==P.LIBRARY_PUBLISH||V(null==(i=n.localComponents[r.componentId]||n.localStateGroups[r.componentId])?void 0:i.status))&&r.version&&(e[r.key]=r.version),e},{}),p=function(e){let{info:r}=(0,k.oq)({rootNodes:{dsKitKey:{type:"LOCAL",pageId:e},pageChildrenName:F.C},options:{}});return r.filter(e=>(0,x.Se)(e.componentGroupPath,F.C))}(e),h=p.reduce((e,r)=>{var i;return(l!==P.LIBRARY_PUBLISH||V(null==(i=n.localComponents[r.componentId])?void 0:i.status))&&r.version&&(e[r.key]=r.version),e},{}),m=d?[]:N.XJn.getLocalExamples(e,s),f=m.reduce((e,r)=>(e[r.key]=r.version,e),{}),_=function(){let e=N.CWU.getLocalVariableSetsInfo().filter(e=>!e.isSoftDeleted&&(0,U.n6)(e.name,x.i2));if(1!==e.length)return;let r=e[0];return{key:r.keyForPublish,name:r.name,version:r.userFacingVersion,nodeId:r.id,defaultModeId:r.defaultModeID}}(),y={};_&&(l===P.LIBRARY_PUBLISH&&V(null==(a=n.localVariableSets[_.nodeId])?void 0:a.status),y[_.key]=_.version);let E=await L.postFirstDraftPublishStatus({productComponentKeyToVersion:c,groupedComponentKeyToVersion:h,exampleKeyToVersion:f,variableSetKeyToVersion:y,publishType:l,kitKey:o}),{publishAssets:b,unpublishAssets:v}=B(s,E.data.meta.product_component_status),{publishAssets:S,unpublishAssets:I}=B(p,E.data.meta.grouped_component_status),{publishAssets:T,unpublishAssets:w}=B(m,E.data.meta.example_status),C=await G(T),{publishSets:A,unpublishSets:O}=function(e,r){if(!r)return{publishSets:[],unpublishSets:[]};let n=r.removed;return{publishSets:e.filter(e=>!n.includes(e.key)),unpublishSets:n}}(_?[_]:[],E.data.meta.variable_set_status);if((0,u.kc)().first_draft_theme_v5&&A.length>0&&!i){(0,g.x1)("First draft publish","Skipping kit publish because no theme variables were supplied");return}return{kit:{name:r,key:o,is_local:d},publish_product_components:b.map(e=>({name:e.name,jsx_name:e.jsxName,key:e.key,version:e.version,description:e.description,type_info:{jsx_name:e.jsxName,type_str:e.typeStr,prefix_types:e.prefixTypes,description:e.description,type_info_version:1}})),unpublish_product_components:v,publish_grouped_components:S.map(e=>({name:e.name,key:e.key,version:e.version,description:e.description,group_name:e.groupName})),unpublish_grouped_components:I,publish_examples:T.map(e=>({key:e.key,version:e.version,example_info:{componentKeys:e.componentKeys,componentJsxNames:e.componentJsxNames},thumbnail_url:C[e.key]})),unpublish_examples:w,publish_variable_sets:i?A.map(e=>({key:e.key,name:e.name,version:e.version,theme_info:{theme_info_version:1,customizable_variables:i}})):[],unpublish_variable_sets:O}}async function G(e){let r={};if(0===e.length)return r;let n={};for(let r of e){let[e,i]=N.Vzr.generateThumbnailForNode(r.nodeId,768,768,1,{});n[r.key]=i}let i=(await M.getUploadThumbnailsPresignedPostUrls(Object.keys(n).length)).data.meta.presigned_posts;return i.length<Object.keys(n).length?(0,g.$D)(f.e.FEEDBACK,Error("Mismatch between number of thumbnails and presigned URLs")):await Promise.allSettled(Object.entries(n).map(async([e,n],a)=>{let{url:o,fields:s}=i[a];try{let i=await (0,m.E)(f.e.FEEDBACK,"uploadThumbnails",o,s,n,"application/octet-stream");r[e]=i}catch(e){(0,g.$D)(f.e.FEEDBACK,Error("Unable to upload example thumbnail to S3"))}})),r}var W=n(62531),z=n(16095),K=n(43987);function j(e,r){return void 0===r||r.has(e.node_id)}class Y{constructor(e){this.addItem=(e,r,n)=>{if(r[e.type]&&r[e.type][n])return r[e.type][n].push(e),this.shouldReturnEarlyOnUpdate;(0,c.wc)("Unexpected library item type: "+e.type)},this.publishItem=(e,r)=>this.addItem(e,r,O.M$.PUBLISH),this.unpublishItem=(e,r)=>this.addItem(e,r,O.M$.UNPUBLISH),this.getPendingLibraryUpdates=(e,r,n,i,a,o,l,d,c)=>{var p,h,m,g;let f={[O.PW.STATE_GROUP]:{[O.M$.PUBLISH]:[],[O.M$.UNPUBLISH]:[]},[O.PW.COMPONENT]:{[O.M$.PUBLISH]:[],[O.M$.UNPUBLISH]:[]},[O.PW.STYLE]:{[O.M$.PUBLISH]:[],[O.M$.UNPUBLISH]:[]},[O.PW.VARIABLE]:{[O.M$.PUBLISH]:[],[O.M$.UNPUBLISH]:[]},[O.PW.VARIABLE_SET]:{[O.M$.PUBLISH]:[],[O.M$.UNPUBLISH]:[]},[O.PW.MODULE]:{[O.M$.PUBLISH]:[],[O.M$.UNPUBLISH]:[]}};if(!l)return f;let _=e=>Object.values(e).filter(e=>j(e,null==c?void 0:c.itemsToPublish)),y=(null==c?void 0:c.overridePublishPermissions)||(0,K.w5)(l.team_id?d[l.team_id]:null),E=_(y?r:{}),b=_(y?e:{}),v=_(n),S=_(a),I=(0,u.kc)().dse_module_publish?_(o):[];if(null==c?void 0:c.unpublishAll){let e=[...E,...b,...v,...S];for(let r of((0,u.kc)().dse_editor_templates_v1&&e.push(...I),e))r.status===O.E8.NOT_STAGED||r.status===O.E8.NEW||r.type===O.PW.COMPONENT&&null!=(h=null==(p=r.containing_frame)?void 0:p.containingStateGroup)&&h.nodeId||this.unpublishItem(r,f);return f}let T=new Set(Object.keys((null==c?void 0:c.moveRemappings)||{}));for(let e of v){if(q(e,T,null==c?void 0:c.forcePublish))continue;let r=e.status;if(r===O.E8.DELETED){if(this.unpublishItem(e,f))return f}else if((0,z.lg)(r)&&this.publishItem(e,f))return f}let w=function(e){var r,n;let i=new Map;for(let a of e){if(a.deletedFromSceneGraph)continue;let e=null==(n=null==(r=a.containing_frame)?void 0:r.containingStateGroup)?void 0:n.nodeId;if(!e)continue;let o=i.get(e);o||(o=[],i.set(e,o)),o.push(a)}return i}(Object.values(r)),C=s()(Object.values(i),e=>e.variableSetId);for(let e of b){if(q(e,T,null==c?void 0:c.forcePublish))continue;let r=e.status,n=e.node_id,i=w.get(n)??[];if(!(0,z.Hb)(r)){if(r===O.E8.DELETED&&this.unpublishItem(e,f))return f;for(let e of i){let r=e.status!==O.E8.NOT_STAGED&&e.status!==O.E8.NEW;if(e.component_key&&r&&this.unpublishItem(e,f))return f}continue}if((0,z.zE)(e))continue;let a=new Set(i.map(e=>e.node_id));for(let e of i)if(!q(e,T,null==c?void 0:c.forcePublish)&&a.has(e.node_id)&&this.publishItem(e,f))return f;if(this.publishItem(e,f))return f}for(let e of E)if(!(e.status===O.E8.NOT_STAGED||q(e,T,null==c?void 0:c.forcePublish))&&(null==(g=null==(m=e.containing_frame)?void 0:m.containingStateGroup)||!g.nodeId)){if(e.component_key&&e.status===O.E8.DELETED){if(this.unpublishItem(e,f))return f;continue}if(this.publishItem(e,f))return f}let A=new Set((0,z.X7)(f[O.PW.COMPONENT][O.M$.PUBLISH]).filter(e=>!!e)),N=new Set((0,z.X7)(f[O.PW.COMPONENT][O.M$.UNPUBLISH]).filter(e=>!!e));for(let e of[])if(!A.has(e.component_key)&&!N.has(e.component_key)&&this.unpublishItem(r[e.node_id],f))return f;for(let e of S)if(e.status!==O.E8.NOT_STAGED){if(e.key&&e.status===O.E8.DELETED){if(this.unpublishItem(e,f))return f;continue}for(let r of C[e.node_id]??[])if(r.status!==O.E8.NOT_STAGED&&r.status!==O.E8.CURRENT){if(r.key&&r.status===O.E8.DELETED){if(this.unpublishItem(r,f))return f;continue}if(this.publishItem(r,f))return f}if(this.publishItem(e,f))return f}for(let e of I){if(e.key&&e.status===O.E8.DELETED){if(this.unpublishItem(e,f))return f;continue}if(this.publishItem(e,f))break}return f},this.shouldReturnEarlyOnUpdate=!!(null==e?void 0:e.shouldReturnEarlyOnUpdate)}}function $(e,r,n,i,a,o,s,l,d){return new Y().getPendingLibraryUpdates(e,r,n,i,a,o,s,l,d)}function q(e,r,n){return!n&&!(e.status!==O.E8.CURRENT||r.has(e.node_id))&&(N.glU.clearLibraryMoveInfo(e.node_id),!0)}var Z=n(73131),X=n(84321),J=n(56012),Q=n(38329),ee=n(87918),et=n(44892),er=n(66068),en=n(79702),ei=n(78655),ea=n(35321);function eo(e){var r;return ee.dI(null==(r=ei.sH(e))?void 0:r.guid)}function es(e){var r;return ee.dI(null==(r=ea.sH(e))?void 0:r.guid)}function el(e){switch(e.type){case O.PW.COMPONENT:case O.PW.STATE_GROUP:case O.PW.STYLE:case O.PW.MODULE:return e.node_id;case O.PW.VARIABLE:return eo(e.node_id);case O.PW.VARIABLE_SET:return es(e.node_id);default:(0,c.xb)(e)}}function ed(e,r){let n=e.type===O.PW.STYLE&&(0,er.lP)(e.style_type),i=(0,z.Ht)(e,r,n);if(!i||!(0,et.OM)(i)){reportError("ThumbnailGenerationError");return}return(0,et.Vu)(i)}function ec(e,r){let n=e.meta||{},i=r[e.node_id];if((0,er.Kb)(e.style_type)&&(i.content_hash!==e.content_hash||(0,er.bi)(e))){let r=(0,et.oU)(e.style_type,e.node_id);"INVALID"!==r.type&&(n.style_thumbnail=r)}return n}class eu{constructor(e,r,n,i){this.fileKey=e,this.fileVersion=r,this.fileCheckpointId=n,this.localThumbnails=i,this.publishFormData={formDatas:[],numSkippedDueToError:0,trackingParams:{numComponentBuffers:0,numStateGroupBuffers:0,numStyleBuffers:0,numVariableSetBuffers:0,numTemplateBuffers:0}},this.resetManifest()}size(){var e,r,n,i,a,o;return this.json.unpublish_components.length+this.json.unpublish_state_groups.length+this.json.unpublish_styles.length+((null==(e=this.json.unpublish_variables)?void 0:e.length)??0)+((null==(r=this.json.unpublish_variable_sets)?void 0:r.length)??0)+this.json.publish_components.length+this.json.publish_state_groups.length+this.json.publish_styles.length+((null==(n=this.json.publish_variables)?void 0:n.length)??0)+((null==(i=this.json.publish_variable_sets)?void 0:i.length)??0)+(0,u.u4)("dse_module_publish",((null==(a=this.json.publish_modules)?void 0:a.length)??0)+((null==(o=this.json.unpublish_modules)?void 0:o.length)??0),0)}resetManifest(){var e;this.currentFormParts=[];let r=(0,u.u4)("dse_module_publish",{unpublish_modules:[],publish_modules:[]},{});this.json={client_version:null==(e=window.mpGlobal)?void 0:e.version,file_key:this.fileKey,file_version:this.fileVersion,file_checkpoint_id:this.fileCheckpointId,unpublish_components:[],publish_components:[],unpublish_state_groups:[],publish_state_groups:[],unpublish_styles:[],publish_styles:[],unpublish_variables:[],publish_variables:[],unpublish_variable_sets:[],publish_variable_sets:[],parts:[],move_remappings:{},run_validations:!!(0,u.kc)().ds_run_publish_validations||void 0,release_commit:(0,u.Ay)().release_manifest_git_commit,...r}}flush(){var e,r;if(0===this.size())return;let n=new FormData;n.append("manifest",JSON.stringify(this.json)),this.currentFormParts.forEach(e=>n.append(e.id,e.data)),this.publishFormData.formDatas.push(n),this.publishFormData.trackingParams.numComponentBuffers+=this.json.publish_components.length,this.publishFormData.trackingParams.numStateGroupBuffers+=this.json.publish_state_groups.length,this.publishFormData.trackingParams.numStyleBuffers+=this.json.publish_styles.length,this.publishFormData.trackingParams.numVariableSetBuffers+=(null==(e=this.json.publish_variable_sets)?void 0:e.length)??0,this.publishFormData.trackingParams.numTemplateBuffers+=(0,u.u4)("dse_module_publish",(null==(r=this.json.publish_modules)?void 0:r.length)??0,0),this.resetManifest()}logVersionMismatch(e,r){let n=Q.D.getState().multiplayer.sessionID.toString();(0,g.x1)("asset publish","buffer and db version mismatch",{item_key:e.type===O.PW.COMPONENT?e.component_key:e.key,node_id:e.node_id,file_key:(0,b.hH)(e),library_key:e.library_key,buffer_version:r,db_version:e.type===O.PW.COMPONENT?e.content_hash:e.version,current_session_id:n}),r&&(null==r?void 0:r.split("")[0])===n?(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("This client bumped the scenegraph version, which no longer matches the version metadata")):(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("Publish buffer version does not match metadata version."))}addPartsToUpload(e){var r,n;let i;let a=r=>{let n=Error(`publish_actions error for ${e.type}: ${r}`);throw(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,n),n};e.type===O.PW.COMPONENT&&(null===e.width||null===e.height)&&(0,c.xb)(a("ComponentMinSizeError"));let o=ed(e,this.localThumbnails);o||(0,c.xb)(a("ThumbnailGenerationError"));let s=e.type===O.PW.COMPONENT&&(null==(n=null==(r=e.containing_frame)?void 0:r.containingStateGroup)?void 0:n.nodeId),l=e.type===O.PW.VARIABLE,d=e.type===O.PW.VARIABLE_SET,u=el(e);if(!s&&!l){let r=performance.now(),n=d?(0,et.Am)(e.node_id):(0,et.O7)(e.node_id);(0,p.S3)("publish.generate_asset_canvas",performance.now()-r,{asset_type:e.type});let o=n.buffer;i=n.version,0===o.length&&(0,c.xb)(a("PublishBufferGenerationError"));let s="application/x-figma",l=`canvas:${u}`;this.currentFormParts.push({id:l,data:new Blob([o],{type:s})}),this.json.parts.push({name:l,mime:s,length:o.length})}let h=`thumbnail:${u}`;return l||d||(this.currentFormParts.push({id:h,data:new Blob([o],{type:"image/png"})}),this.json.parts.push({name:h,mime:"image/png"})),{publishBufferVersion:i}}unpublish(e,r){var n;let i;if(e===O.PW.STATE_GROUP)i=this.json.unpublish_state_groups;else if(e===O.PW.COMPONENT)i=this.json.unpublish_components;else if(e===O.PW.STYLE)i=this.json.unpublish_styles;else if(e===O.PW.VARIABLE)i=this.json.unpublish_variables;else if(e===O.PW.VARIABLE_SET)i=this.json.unpublish_variable_sets;else if(e===O.PW.VARIABLE_OVERRIDE){(0,g.x1)("asset publish","attempted to unpublish an individual variable override",{itemsToUnpublish:r});return}else e===O.PW.MODULE?i=(0,u.u4)("dse_module_publish",(null==(n=this.json)?void 0:n.unpublish_modules)??[],[]):(0,c.xb)(e,"Invalid LibraryItemType");i.push(...r)}publish(e,r){var n,i,a,o,s;let l;try{l=this.addPartsToUpload(r).publishBufferVersion}catch(e){this.publishFormData.numSkippedDueToError++;return}let d=r.node_id;if(e[d]&&(this.json.move_remappings[d]=e[d]),r.type===O.PW.STYLE){this.json.publish_styles.push({node_id:d,style_type:r.style_type,name:r.name,key:r.key,content_hash:r.content_hash,user_facing_version:r.userFacingVersion,description:r.description,description_rt:r.description_rt,sort_position:r.sort_position,meta:JSON.stringify(ec(r,this.localThumbnails))});return}r.type===O.PW.COMPONENT?((null==(i=null==(n=r.containing_frame)?void 0:n.containingStateGroup)?void 0:i.nodeId)||l===r.content_hash||this.logVersionMismatch(r,l),this.json.publish_components.push({node_id:d,name:r.name,content_hash:r.content_hash,user_facing_version:r.userFacingVersion,containing_frame:JSON.stringify(r.containing_frame)||null,description:r.description,description_rt:r.description_rt,min_node_width:r.width,min_node_height:r.height})):r.type===O.PW.STATE_GROUP?(l!==r.version&&this.logVersionMismatch(r,l),this.json.publish_state_groups.push({node_id:d,name:r.name,version:r.version,user_facing_version:r.userFacingVersion,description:r.description,description_rt:r.description_rt,containing_frame:JSON.stringify(r.containing_frame)||null,min_node_width:r.width,min_node_height:r.height,fill_color:r.fill_color,default_state_key:r.default_state_key})):r.type===O.PW.VARIABLE?null==(a=this.json.publish_variables)||a.push({node_id:eo(d),name:r.name,version:r.version,user_facing_version:r.userFacingVersion,description:r.description,sort_position:r.sortPosition,variable_set:es(r.variableSetId),variable_type:(0,en.Lv)(r.resolvedType),scopes:(0,en.Ae)(r.scopes)}):r.type===O.PW.VARIABLE_SET?null==(o=this.json.publish_variable_sets)||o.push({node_id:es(d),name:r.name,version:r.version,user_facing_version:r.userFacingVersion,description:r.description,modes:r.modes,root_variable_set_key:(0,O.GI)(r)?r.rootVariableSetKey:void 0,is_extendable:r.isExtendable}):r.type===O.PW.MODULE?(0,u.kc)().dse_module_publish&&(null==(s=this.json.publish_modules)||s.push({node_id:d,name:r.name,version:r.version,user_facing_version:r.userFacingVersion,description:r.description,description_rt:r.description_rt,containing_frame:JSON.stringify(r.containing_frame)||null,module_source:function(e){switch(e){case N.QjO.EDITOR_TEMPLATE:return"EDITOR_TEMPLATE";case N.QjO.SLIDES_TEMPLATE:return"SLIDES_TEMPLATE";case N.QjO.SITES_TEMPLATE:return"SITES_TEMPLATE"}}(r.moduleSource),width:r.width??0,height:r.height??0})):(0,c.xb)(r)}}var ep=n(94693);let eh=(0,l.N)("START_PUBLISH"),em=(0,l.N)("PUBLISH_PROGRESS"),eg=(0,l.N)("PUBLISH_REQUEST_FINISHED"),ef=(0,l.N)("SAVE_PUBLISH_DESCRIPTION"),e_="library publish "+((0,u.kc)().ds_server_side_publishing?"SSP":"CSP"),ey=(0,u.kc)().ds_server_side_publishing?"":".client_side_publish";var eE=((a=eE||{}).PublishStart="publish_start",a.CreateSavepoint="create_savepoint",a.GetPresignedPost="get_presigned_post",a.UploadThumbnails="upload_thumbnails",a.UploadParams="upload_params",a.AssetValidation="asset_validation",a.NonS3Error="non_s3_error",a.GenericError="generic_error",a);async function eb(){let e,r;try{let n=(await J.Z.postUploadPublishParams()).data.meta;e=n.url,r=n.fields}catch(e){(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("Error getting publish params presigned URL"));return}let n=!1,i=!1;try{let i=new TextEncoder;await (0,m.E)(f.e.DESIGN_SYSTEMS_EDITOR,"publishChanges.params",e,r,i.encode(JSON.stringify({testField:"testValue"})),"application/json"),n=!0}catch(e){n=!1,(0,g.x1)(e_,"test presigned post encountered an error",{error:e}),(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("Test presigned post failed")),i=e instanceof m.q}(0,d.sx)("test_presigned_post_result",{success:n,nonS3error:i,orgId:(0,u.Ay)().org_id})}async function ev(e,r,n,i){let a=performance.now();if(!e.length)return{s3Paths:[],failedThumbnailNodeIds:[],styleMetaByNodeId:{},uploadDurationMs:0,encounteredNonS3PresignedPostError:!1};let o=e.length,s=0,l=()=>{eP(i,(s+=1)/o,r?O.M$.UNPUBLISH:O.M$.PUBLISH)},c=Object.create(null),u=[],h=[];if(await Promise.all(e.map(async e=>{var r,i;try{let r=await scheduler.postTask(()=>ed(e,n),{priority:"user-blocking"});if(!r||0===r.length)throw Error("Unable to generate thumbnail");let[i,a]=e.node_id.split(":").map(e=>Number(e));if(isNaN(i))throw Error("Unable to parse sessionId");if(isNaN(a))throw Error("Unable to parse localId");h.push({sessionId:i,localId:a,thumbnail:r}),e.type===O.PW.STYLE&&(c[e.node_id]=JSON.stringify(ec(e,n)))}catch(n){(0,g.x1)("publish","Failed to upload thumbnail for asset",{guid:e.node_id},{reportAsSentryError:!0}),u.push(e.type===O.PW.COMPONENT&&(null==(i=null==(r=e.containing_frame)?void 0:r.containingStateGroup)?void 0:i.nodeId)||e.node_id)}finally{l()}})),0===h.length)return{s3Paths:[],failedThumbnailNodeIds:u,styleMetaByNodeId:{},uploadDurationMs:0,encounteredNonS3PresignedPostError:!1};let _=[];for(;h.length;)_.push(h.splice(0,O.v$));let y=M.getThumbnailsBufferPresignedPostUrl(_.length),E=_.map(e=>e.reduce(({buffer:e,offset:r,guids:n},{sessionId:i,localId:a,thumbnail:o})=>(e.set([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a,(4278190080&o.byteLength)>>24,(16711680&o.byteLength)>>16,(65280&o.byteLength)>>8,255&o.byteLength],r),r+=12,e.set(o,r),r+=o.byteLength,n.push(`${i}:${a}`),{buffer:e,offset:r,guids:n}),{buffer:new Uint8Array(e.reduce((e,{thumbnail:r})=>e+r.byteLength+12,0)),offset:0,guids:[]})),b=[],v=(await y).data.meta.presigned_posts,S=!1;await Promise.allSettled(v.map(async({url:e,fields:r})=>{let n=E.shift();if(!n){(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("Popped a concatenated buffer that does not exist"));return}try{b.push(await (0,m.E)(f.e.DESIGN_SYSTEMS_EDITOR,"uploadThumbnails",e,r,n.buffer,"application/octet-stream")),(0,p.S3)("publish.thumbnails_buffer.bytes",n.buffer.byteLength)}catch(e){e instanceof m.q&&(S=!0),u.push(...n.guids)}})),S&&(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("uploadThumbnails: encountered non-S3 presigned POST error"));let I=performance.now()-a;return(0,d.sx)("Library generate and upload thumbnails",{duration:I}),{s3Paths:b,styleMetaByNodeId:c,failedThumbnailNodeIds:u,uploadDurationMs:I,encounteredNonS3PresignedPostError:S}}async function eS(e,r,n,i,a,o,s,l,p){var m;let g=performance.now(),{formDatas:f,numSkippedDueToError:E,trackingParams:v}=await function(e,r,n,i,a,o,s,l,d,u){let p=r.getState(),m=$((0,X.dM)(p),(0,X.MH)(p),(0,X.cM)(p),(0,X.tK)(p),(0,X.bh)(p),(0,X.x6)(p),e,p.teams,{overridePublishPermissions:o,moveRemappings:i,itemsToPublish:l,forcePublish:d,unpublishAll:u}),g={[O.PW.STATE_GROUP]:[],[O.PW.COMPONENT]:[],[O.PW.STYLE]:[],[O.PW.VARIABLE]:[],[O.PW.VARIABLE_SET]:[],[O.PW.MODULE]:[]};for(let e of O.Ht)g[e]=(0,z.X7)(m[e][O.M$.UNPUBLISH]).filter(h.Vq);let{orderedUpdates:f}=eR(m,n),_=f.flatMap(e=>e.assets.map(r=>({publishType:e.publishType,asset:r}))),y=_.length,E=y<O.v$,b=new eu(e.key,p.fileVersion,s,p.library.local.thumbnails);return new Promise((e,n)=>{function o(){let s=Date.now(),l=1e3/60;for(;E||Date.now()-s<l;){let e=O.v$-b.size();if(e<=0)break;let r=_.shift();if(!r)break;let{asset:n,publishType:a}=r;if(a===O.M$.PUBLISH){if(b.publish(i,n),n.type===O.PW.VARIABLE_SET){let e=0;for(;_[0]&&_[0].asset.type===O.PW.VARIABLE&&_[0].asset.variableSetId===n.node_id&&_[0].publishType===O.M$.PUBLISH;){if(e===O.tD){_.unshift(r);break}let n=_.shift().asset;b.publish(i,n),e++}if(e===O.tD)break}}else if(a===O.M$.UNPUBLISH){let i=Math.min(_.findIndex(({asset:e,publishType:r})=>r!==a||e.type!==n.type),e);b.unpublish(n.type,[r,..._.splice(0,i)].map(({asset:e})=>(0,z.cP)(e)))}else(0,c.xb)(a)}let d=_.length;if(!E){if(r.getState().library.publishProgress.state===O.Qx.NONE){n();return}eP(r,(y-d)/y,a)}0===d?(b.flush(),e(b.publishFormData)):(b.size()>=O.v$&&b.flush(),requestAnimationFrame(o))}E?o():(eP(r,0,a),requestAnimationFrame(o))})}(e,r,n,(null==(m=i.moveInformation)?void 0:m.moveRemappings)||{},a?O.M$.UNPUBLISH:O.M$.PUBLISH,(0,u.kc)().cmty_lib_admin_publish&&void 0!==i.hubFileId,s.checkpoint_id,o,i.forcePublish,i.unpublishAll),S=performance.now()-g;a||(0,d.sx)("Library publish serialize buffers",{duration:S,...v}),eC(r,a,null,s,0,S,l,p);let T=performance.now();for(let n of f){let a,o=0,s={..._.Ay.defaults.headers};for(delete s["Content-Type"];;){o++;try{a=(await _.Ay.post(`/api/upnode/library_checkpoints?tries=${o}`,n,{headers:s,raw:!0})).data;break}catch(e){if(o>=3)throw e;await new Promise(e=>setTimeout(e,5e3))}}let l=JSON.parse(a),d=Object.create(null),c=Object.create(null),u=Object.create(null);l.meta&&(l.meta.components&&(d=l.meta.components),l.meta.components_v2&&(d=l.meta.components_v2),l.meta.state_groups&&(c=l.meta.state_groups),l.meta.styles&&(u=l.meta.styles));let p=(n,i)=>{let a=[],o=Object.create(null);for(let e in n){let r=n[e];r.unpublished_at?a.push(r.node_id):o[r.node_id]=r}r.dispatch(I.yJ({itemsById:o,fileKey:e.key,libraryKey:(0,b.lt)(e.library_key),teamId:e.team_id,type:i})),r.dispatch(I.yH({nodeIds:a,file:e,type:i}))};if(p(d,O.PW.COMPONENT),p(c,O.PW.STATE_GROUP),void 0!==i.hubFileId&&await eI(i.hubFileId,d,c,u),N.glU){let e=new Set;for(let r of[l.meta.moved_components_by_src_file||{},l.meta.moved_state_groups_by_src_file||{},l.meta.moved_styles_by_src_file||{}])for(let n of Object.values(r))for(let r of Object.values(n))r.type!==O.PW.VARIABLE&&r.type!==O.PW.VARIABLE_SET&&r.type!==O.PW.MODULE&&r.destination_key&&e.add(r.destination_key);W.l7.system("publish-cleanup",()=>{var r,n;for(let a of Object.values({...d,...c,...u})){let o=(0,z.Av)(a);a.unpublished_at?(0,z.eA)(a)&&N.glU.removePublishedVersion(a.node_id):((0,z.eA)(a)&&N.glU.markSharedComponentPublished(a.node_id,(0,z.Dg)(a)??y.o5.INVALID),(e.has(o)||(null==(n=null==(r=i.moveInformation)?void 0:r.movableItemsToPublishAsNew)?void 0:n.has(a.node_id)))&&N.glU.clearLibraryMoveInfo(a.node_id))}})}}return a||(0,d.sx)("Library publish upload",{duration:performance.now()-T,fileKey:e.key,...v}),{trackingParams:v,numSkippedDueToError:E}}async function eI(e,r,n,i){let a=Object.values(r).map(e=>e.id),o=Object.values(n).map(e=>e.id),s=Object.values(i).map(e=>e.id);await _.Ay.post(`/api/community_libraries/${e}/override_assets`,{component_ids:a,state_group_ids:o,style_ids:s})}function eT(e){return e.state===O.Qx.NONE?((0,g.x1)(e_,"Attempted to update progress while not assembling components",e),null):e.publishStartMs}function ew(e,r,n,i){let a=eT(e);if(a){let e=performance.now()-a;(0,d.sx)(r,{duration:e}),(0,p.S3)(n,e,{error:i})}else(0,g.x1)(e_,"Publish start time was null")}function eC(e,r,n,i,a,o,s,l){let d=performance.now(),c=r?O.M$.UNPUBLISH:O.M$.PUBLISH;e.dispatch(em({state:O.Qx.UPLOADING,publishType:c,progress:0,libraryPublishId:n,savepoint:i,numSkippedPriorToPublish:a,publishStartMs:eT(e.getState().library.publishProgress),commitUpdatesDurationMs:d,clientPreWorkDurationMs:o,createSavePointDurationMs:s})),l({publishType:c,dispatch:e.dispatch,icon:v.zX.SPINNER})}function eA(e,r,n,i,a,o,s,l){0===r?function(e,r,n,i){if(r.state===O.Qx.UPLOADING){let e=eT(r);if(e){let i=performance.now(),a=i-e,o=n?{totalDurationMs:a}:{totalDurationMs:a,uploadBuffersDurationMs:i-r.commitUpdatesDurationMs,clientPreWorkDurationMs:r.clientPreWorkDurationMs,createSavePointDurationMs:r.createSavePointDurationMs};for(let[e,n]of((0,d.sx)(`Client perceived ${r.publishType} duration ${ey.slice(1)}`,o),Object.entries(o))){let i=`${r.publishType}.success.${e}${ey}`;(0,p.S3)(i,n)}}else(0,g.x1)(e_,"Publish start time was null")}i({publishProgress:r,publishType:n?O.M$.UNPUBLISH:O.M$.PUBLISH,dispatch:e}),e(ef(""))}(i,e,n,a):function(e,r,n,i,a,o,s){let l=i?O.M$.UNPUBLISH:O.M$.PUBLISH;if(o&&e(ef(o)),s){a({error:ep.jO.NonS3PresignedPost,publishType:l,dispatch:e});return}"number"!=typeof n?a({error:ep.jO.GenericError,publishType:l,dispatch:e}):(ew(r,"Partial publish failure "+ey.slice(1),`${l}.error.duration${ey}`,"asset_validation"),a({error:ep.jO.PartialPublish,publishType:l,dispatch:e,numPublishSkippedDueToError:n}))}(i,e,r,n,o,s,l)}(0,S.nF)(e=>{let r=e.getState(),n=e=>{for(let r in e={...e})(0,z.HF)(e[r].status)?e[r].status=O.E8.DELETED:e[r].status===O.E8.NEW&&(e[r].status=O.E8.NOT_STAGED);return e},i=(0,u.kc)().ds_remove_redux_library_status;if(!i){let i=n(r.library.local.components),a=n(r.library.local.stateGroups),o=n(r.library.local.styles);e.dispatch(I.I0({local:i,type:O.PW.COMPONENT})),e.dispatch(I.I0({local:a,type:O.PW.STATE_GROUP})),e.dispatch(I.I0({local:o,type:O.PW.STYLE}))}e.dispatch(em({state:O.Qx.NONE})),e.dispatch(eN({unpublishAll:i}))});let eN=(0,S.T8)("PUBLISH_CHANGES",async(e,r={})=>{var n,i;let a;let o=e.getState(),l=r.onPublishSuccess??ep.cc,c=r.onPublishProgress??ep.UN,_=r.onPublishError??ep.tZ;if(o.library.publishProgress.state!==O.Qx.NONE){e.dispatch(eg());return}let y=(0,A.d1)(o);if(!y){console.error("library publishChanges: file is null"),e.dispatch(eg());return}let b=r.itemsToPublish;if(void 0!==b&&0===b.size){console.error("No items selected to publish"),_({error:ep.jO.NoItemsToPublish,dispatch:e.dispatch}),e.dispatch(eg());return}let v=r.unpublishAll||eO(Object.values((0,X.MH)(o)),b)&&eO(Object.values((0,X.dM)(o)),b)&&eO(Object.values((0,X.cM)(o)),b)&&eO(Object.values((0,X.bh)(o)),b)&&(!(0,u.kc)().dse_module_publish||eO(Object.values((0,X.x6)(o)),b));if(!navigator.onLine){_({error:ep.jO.Offline,publishType:v?O.M$.UNPUBLISH:O.M$.PUBLISH,dispatch:e.dispatch}),e.dispatch(eg());return}(0,p.Rh)(`${v?O.M$.UNPUBLISH:O.M$.PUBLISH}.start${ey}`),e.dispatch(eh({unpublishAll:!!v})),e.dispatch(C.b({has_published_library_items:!0}));let S=(n,i,a,o)=>{e.dispatch(T.Nf());let s=(null==o?void 0:o.encounteredNonS3PresignedPostError)?"non_s3_error":i;ew(e.getState().library.publishProgress,n+" "+ey.slice(1),`${v?O.M$.UNPUBLISH:O.M$.PUBLISH}.error.duration${ey}`,s);let c=null==o?void 0:o.error;(0,g.x1)(e_,n,{...r,name:null==c?void 0:c.name,message:null==c?void 0:c.message,stack:null==c?void 0:c.stack},{logToConsole:N.NUh.ALWAYS,reportAsSentryError:!0,forwardToDatadog:!0}),null!==a&&(0,d.sx)("Publish ended",{serverSidePublishing:(0,u.kc)().ds_server_side_publishing,savepointId:a,hadException:!0}),(null==o?void 0:o.stifleVisualBellForClientSidePublish)||eA(e.getState().library.publishProgress,(null==o?void 0:o.numSkippedDueToError)??{__tag:"UNKNOWN"},v,e.dispatch,l,_,r.savepointDescription,null==o?void 0:o.encounteredNonS3PresignedPostError),e.dispatch(eg()),e.dispatch(w.Ce())},I=performance.now();try{a=await (0,Z.m)(y.key,v?(0,E.t)("design_systems.publish_actions.savepoint_for_unpublish"):(0,E.t)("design_systems.publish_actions.savepoint_for_publish"),r.savepointDescription,e.dispatch,!0)}catch(e){S("Unable to create savepoint during library publish","create_savepoint",null,{error:e});return}if(!a){S("Created savepoint is null","create_savepoint",null);return}let R=performance.now()-I;(0,d.sx)("Publish start: savepoint successfully created",{savepointId:a.id,serverSidePublishing:(0,u.kc)().ds_server_side_publishing});let L=s()(Object.values(o.library.local.components).filter(e=>e.isLocal),e=>(0,z.E2)(e)||O.Nv);if((0,u.kc)().ds_server_side_publishing){let s,l,p,_,E,I;let{orderedUpdates:T}=eR($((0,X.dM)(o),(0,X.MH)(o),(0,X.cM)(o),(0,X.tK)(o),(0,X.bh)(o),(0,X.x6)(o),y,o.teams,{overridePublishPermissions:!!r.hubFileId,moveRemappings:(null==(n=r.moveInformation)?void 0:n.moveRemappings)??{},itemsToPublish:b,forcePublish:r.forcePublish,unpublishAll:r.unpublishAll}),L),w=T.reduce((e,{publishType:r,assetType:n,assets:i})=>{let a="";switch(n){case O.PW.COMPONENT:a="numComponentBuffers";break;case O.PW.STATE_GROUP:a="numStateGroupBuffers";break;case O.PW.STYLE:a="numStyleBuffers";break;case O.PW.VARIABLE_SET:a="numComponentBuffers";break;case O.PW.MODULE:a="numTemplateBuffers";case O.PW.VARIABLE:}r===O.M$.UNPUBLISH&&(a=`${a}Unpublished`);let o=a;return o in e&&(e[o]=i.length),e},{numComponentBuffers:0,numStateGroupBuffers:0,numStyleBuffers:0,numVariableSetBuffers:0,numTemplateBuffers:0,numComponentBuffersUnpublished:0,numStateGroupBuffersUnpublished:0,numStyleBuffersUnpublished:0,numVariableSetBuffersUnpublished:0,numTemplateBuffersUnpublished:0});(0,d.sx)("Library publish upload",{fileKey:y.key,...w});let C=T.flatMap(e=>e.publishType===O.M$.PUBLISH?e.assets:[]).reduce((e,r)=>r.type===O.PW.VARIABLE||r.type===O.PW.VARIABLE_SET?e:r.type===O.PW.MODULE&&(0,u.kc)().dse_module_publish?e.concat(r):e.concat(r).concat(L[r.node_id]||[]),[]);try{s=await ev(C,v,o.library.local.thumbnails,e)}catch(e){S("Unable to upload thumbnails during library publish","upload_thumbnails",a.id,{error:e});return}let{failedThumbnailNodeIds:A,s3Paths:D,styleMetaByNodeId:M,uploadDurationMs:k,encounteredNonS3PresignedPostError:x}=s,F=T.flatMap(e=>e.assets).length;if(A.length===F){S("All thumbnails failed to upload"+(x?" (non-s3 error)":""),"upload_thumbnails",a.id,{numSkippedDueToError:F,encounteredNonS3PresignedPostError:x});return}let U=T.map(({publishType:e,assetType:r,assets:n})=>{let i=n.filter(e=>!A.includes(e.node_id));return i.length>0?{publishType:e,assetType:r,assets:i}:null}).filter(h.Vq);if((0,u.kc)().first_draft_publish_ux){let e=N.XJn.getLocalDesignSystemKits();e.length>1?(0,g.xi)("first_draft","Attempting to publish a file with multiple kits",{kitNames:e.map(e=>e.name)}):1===e.length&&(I=await H(e[0].pageId,e[0].name,{publishType:P.LIBRARY_PUBLISH,localComponents:(0,X.MH)(o),localStateGroups:(0,X.dM)(o),localVariableSets:(0,X.bh)(o)},r.firstDraftVariablesForTheme))}let B={updates:U.map(e=>({publishType:e.publishType,assetType:e.assetType,guids:e.assets.map(e=>{let r=el(e);return r||(console.warn("Asset with null nodeId:",e),(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error("Asset with null node ID found during publish"))),r}).filter(h.Vq)})),moveRemappings:(null==(i=r.moveInformation)?void 0:i.moveRemappings)??{},s3ThumbnailBufferPaths:D,styleMetaByNodeId:M,clientProtocolVersion:window.mpGlobal.version,themeMetaData:r.themePublishData??{},...I?{kitMetaData:I}:{}};try{let e=(await J.Z.postUploadPublishParams()).data.meta;l=e.url,p=e.fields}catch(e){S("Unable to get presigned post url for params","get_presigned_post",a.id,{error:e});return}try{let e=new TextEncoder;_=await (0,m.E)(f.e.DESIGN_SYSTEMS_EDITOR,"publishChanges.params",l,p,e.encode(JSON.stringify(B)),"application/json")}catch(r){let e=r instanceof m.q;S("Unable to upload publishing params"+(e?" (non-s3 error)":""),"upload_params",a.id,{error:r,encounteredNonS3PresignedPostError:e});return}try{E=(await J.Z.postLibraryPublish({fileKey:y.key,checkpointKey:a.checkpoint_key,paramsPath:_,publishToCommunity:!!r.hubFileId})).data.meta.library_publish_id}catch(e){S("Unable to publish","generic_error",a.id,{error:e});return}try{eC(e,v,E,a,A.length,k,R,c)}catch(e){S("Unable to notify publish start","generic_error",a.id,{error:e})}return}let D=null;try{let{trackingParams:n,numSkippedDueToError:i}=await eS(y,e,L,r,v,b,a,R,c);if(D=n,!function(e,r,n,i,a,o,s,l){(0,d.sx)("Publish ended",{serverSidePublishing:(0,u.kc)().ds_server_side_publishing,savepointId:a.id,hadException:o}),eA(e,r,n,i,s,l,a.description),i(eg())}(e.getState().library.publishProgress,i,v,e.dispatch,a,!1,l,_),(0,u.kc)().ds_test_presigned_post)try{eb()}catch(e){(0,g.x1)(e_,"Hit an error testing presigned post after client-side publish",{error:e})}}catch(r){if(S((null==r?void 0:r.message)??"Publish ended with error","generic_error",a.id,{stifleVisualBellForClientSidePublish:!0}),(null==r?void 0:r.status)===0||(null==r?void 0:r.status)===504){let n=(null==r?void 0:r.status)===504?"Publish failed due to sinatra timeout for publish":"Publish failed due to no response from publish";(0,g.x1)(e_,n,{items_to_publish:b,tracking_params:D,fileKey:y.key}),(0,g.$D)(f.e.DESIGN_SYSTEMS_EDITOR,Error(n)),_({error:ep.jO.Timeout,publishType:v?O.M$.UNPUBLISH:O.M$.PUBLISH,dispatch:e.dispatch,itemsToPublish:b??new Set})}else _({error:ep.jO.ErrorCode,publishType:v?O.M$.UNPUBLISH:O.M$.PUBLISH,dispatch:e.dispatch,errorCode:null==r?void 0:r.status})}});function eO(e,r){return Object.values(e).filter(e=>j(e,r)).every(e=>!(0,z.Hb)(e.status))}function eR(e,r){let n=!(0,u.kc)().ds_server_side_publishing,i=[],a=e=>{e.assets.length&&i.push(e)},o=e[O.PW.VARIABLE_SET][O.M$.PUBLISH],l=s()(e[O.PW.VARIABLE][O.M$.PUBLISH],e=>e.variableSetId);if(n)for(let e of o)a({publishType:O.M$.PUBLISH,assetType:O.PW.VARIABLE_SET,assets:[e,...(null==l?void 0:l[e.node_id])??[]]});else a({publishType:O.M$.PUBLISH,assetType:O.PW.VARIABLE_SET,assets:o});a({publishType:O.M$.UNPUBLISH,assetType:O.PW.VARIABLE_SET,assets:e[O.PW.VARIABLE_SET][O.M$.UNPUBLISH]}),a({publishType:O.M$.UNPUBLISH,assetType:O.PW.VARIABLE,assets:e[O.PW.VARIABLE][O.M$.UNPUBLISH]});let d=e[O.PW.STATE_GROUP][O.M$.PUBLISH],c=e[O.PW.COMPONENT][O.M$.UNPUBLISH].filter(e=>null===(0,z.E2)(e));if(n)for(let e of d){let n=r[e.node_id];n?a({publishType:O.M$.PUBLISH,assetType:O.PW.STATE_GROUP,assets:[e,...n]}):((0,g.Lo)("getOrderedLibraryUpdates","publishing metadata",{stateGroup:JSON.stringify(e),stateGroupsToPublish:JSON.stringify(d),componentsToPublishByStateGroupId:JSON.stringify(r)}),(0,g.x1)("publish","Expected states to be published with state group"))}else a({publishType:O.M$.PUBLISH,assetType:O.PW.STATE_GROUP,assets:d});return a({publishType:O.M$.UNPUBLISH,assetType:O.PW.STATE_GROUP,assets:e[O.PW.STATE_GROUP][O.M$.UNPUBLISH]}),a({publishType:O.M$.PUBLISH,assetType:O.PW.COMPONENT,assets:e[O.PW.COMPONENT][O.M$.PUBLISH].filter(e=>!(0,z.E2)(e))}),a({publishType:O.M$.UNPUBLISH,assetType:O.PW.COMPONENT,assets:n?e[O.PW.COMPONENT][O.M$.UNPUBLISH]:c}),a({publishType:O.M$.PUBLISH,assetType:O.PW.STYLE,assets:e[O.PW.STYLE][O.M$.PUBLISH]}),a({publishType:O.M$.UNPUBLISH,assetType:O.PW.STYLE,assets:e[O.PW.STYLE][O.M$.UNPUBLISH]}),(0,u.kc)().dse_module_publish&&(a({publishType:O.M$.PUBLISH,assetType:O.PW.MODULE,assets:e[O.PW.MODULE][O.M$.PUBLISH]}),a({publishType:O.M$.UNPUBLISH,assetType:O.PW.MODULE,assets:e[O.PW.MODULE][O.M$.UNPUBLISH]})),{orderedUpdates:i}}function eP(e,r,n){e.dispatch(em({state:O.Qx.ASSEMBLING_COMPONENTS,progress:r,publishType:n,publishStartMs:eT(e.getState().library.publishProgress)}))}},78585:(e,r,n)=>{"use strict";n.d(r,{Jt:()=>m});var i=n(67249),a=n(39863),o=n(92592),s=n(98812),l=n(36599),d=n(28467),c=n(48170),u=n(80820),p=n(82976);(0,i.N)("LICENSE_GROUP_DELETE"),(0,i.N)("LICENSE_GROUP_UPDATE");let h=(0,i.N)("LICENSE_GROUP_SET");(0,u.T8)("LICENSE_GROUP_GET_FOR_ORG",async(e,r)=>{let n=r.orgId;n&&await g(e,r,n)});let m=(0,u.T8)("LICENSE_GROUP_GET",async(e,r)=>{let{currentUserOrgId:n}=e.getState();n&&await g(e,r,n)}),g=async(e,r,n)=>{var i;let u=e.getState(),{orgById:m,loadingState:g}=u;if(!n)return;let f=m[n],_=(0,s.EO)(f.id);if(f&&f.bigma_enabled&&(0,d.canMemberOrg)(n,u)&&(r.forceRefetch||(0,l.Sc)(g,_))&&!(0,l.VP)(g,_)){e.dispatch(p.Cx({key:(0,s.EO)(n)}));try{let r=(await c.Eh.getLicenseGroups({currentOrgId:n})).data.meta;e.dispatch(h(r)),e.dispatch(p.x2({key:(0,s.EO)(n)}))}catch(r){e.dispatch(o.F.enqueue({type:"get-license-groups",message:(null==(i=r.data)?void 0:i.message)||(0,a.t)("license_group.an_error_occurred_while_fetching_workspaces"),error:!0})),e.dispatch(p.of({key:(0,s.EO)(n)}))}}}},82976:(e,r,n)=>{"use strict";n.d(r,{Cx:()=>d,SI:()=>o,of:()=>s,x2:()=>l,yH:()=>a});var i=n(67249);let a=(0,i.N)("LOADING_STATE_DEL"),o=(0,i.N)("LOADING_STATE_PUT_FAILURE_REASON"),s=(0,i.N)("LOADING_STATE_PUT_FAILURE"),l=(0,i.N)("LOADING_STATE_PUT_SUCCESS"),d=(0,i.N)("LOADING_STATE_PUT_LOADING")},62275:(e,r,n)=>{"use strict";n.d(r,{$O:()=>c,AS:()=>d,Ce:()=>u,ES:()=>p,Lo:()=>m,aZ:()=>g,hm:()=>h,to:()=>l});var i=n(67249),a=n(37870),o=n(80820);let s=(0,o.nF)(async(e,[r,n])=>(await n,e.dispatch(c(r))));function l(e){let r={type:"string"==typeof e.type?e.type:e.type.type,data:e.data||{},optOutOfPrevModal:e.optOutOfPrevModal,...e.showModalsBeneath&&{showModalsBeneath:e.showModalsBeneath},...e.prevModal&&{prevModal:e.prevModal}},n=(0,a.xv)(r.type);return n?s([r,n]):c(r)}function d(){return u()}let c=(0,i.N)("SHOW_MODAL"),u=(0,i.N)("HIDE_MODAL"),p=((0,o.nF)((e,r)=>{var n;(null==(n=e.getState().modalShown)?void 0:n.type)===r.type?e.dispatch(u()):(e.getState().modalShown&&e.dispatch(u()),e.dispatch(c(r)))}),(0,i.N)("HIDE_SPECIFIC_MODAL")),h=(0,i.N)("UPDATE_MODAL"),m=(0,i.N)("POP_MODAL_STACK"),g=(0,i.N)("POP_PREV_MODAL")},45519:(e,r,n)=>{"use strict";n.d(r,{Ho:()=>c});var i=n(67249),a=n(88022),o=n(52800),s=n(85528),l=n(1922),d=n(80820);(0,i.N)("MULTIPLAYER_EMOJI_UPDATE_EMOJI_WHEEL_POSITION");let c=(0,d.T8)("MULTIPLAYER_EMOJI_CLEAR_STATE",()=>{o.glU.setIsInCursorChat(!1)});(0,d.T8)("MULTIPLAYER_EMOJI_START_CHATTING",(e,r)=>{let n=e.getState();0>[o.NLJ.HAND,o.NLJ.SELECT,o.NLJ.HAND_SELECT].indexOf(n.mirror.appModel.currentTool)&&o.glU.triggerAction("set-tool-default",null),(0,l.q)().then(e=>{var i;e||(o.glU.setIsInCursorChat(!0),(0,a.ds)("Started chatting",null==(i=n.openFile)?void 0:i.key,n,{source:r.source}))})}),(0,i.N)("MULTIPLAYER_EMOJI_STOP_REACTING"),(0,d.T8)("MULTIPLAYER_EMOJI_START_REACTING",()=>{s.R9.resetReactions()}),(0,d.T8)("MULTIPLAYER_EMOJI_TOGGLE_EMOJI_WHEEL",(e,r)=>{var n;let i=e.getState();(0,a.ds)("Toggled emoji wheel",null==(n=i.openFile)?void 0:n.key,i,{wheelType:r.wheelType,...r.source&&{source:r.source}})})},93360:(e,r,n)=>{"use strict";n.d(r,{$V:()=>E,Pg:()=>v,hZ:()=>_,lk:()=>S,uo:()=>b});var i=n(67249),a=n(66712),o=n(208),s=n(81388),l=n(39863),d=n(23026),c=n(92592),u=n(80820),p=n(50293),h=n(36599),m=n(20741),g=n(79791),f=n(48170);let _=d.hG,y=(0,u.MM)("ORG_USER_PUT",async(e,r,{optimistId:n})=>{var i;if(r.userInitiated)try{let i=await g.G.updateOrgUser({id:r.orgUser.id,changes:{description:r.orgUser.description}});e.dispatch(u.hp.commit(n)),e.dispatch(y({orgUser:i.data.meta,userInitiated:!1}))}catch(r){e.dispatch(u.hp.revert(n)),e.dispatch(s.s.error((null==(i=r.data)?void 0:i.message)||(0,l.t)("org_user_actions.an_error_occurred")))}});(0,u.MM)("ORG_USER_UPDATE_ONBOARDING",async(e,r,{optimistId:n})=>{var i;try{let i={...!1===r.showUserOnboarding&&{show_figjam_user_onboarding:!1},...r.shownPreLaunchAdminOnboarding&&{has_shown_figjam_admin_onboarding:!0},...r.shownPostLaunchAdminOnboarding&&{has_shown_figjam_admin_launch_onboarding:!0}},a=await g.G.updateOrgUser({id:r.orgUserId,changes:i});e.dispatch(u.hp.commit(n)),e.dispatch(y({orgUser:a.data.meta,userInitiated:!1}))}catch(r){e.dispatch(u.hp.revert(n)),e.dispatch(s.s.error((null==(i=r.data)?void 0:i.message)||(0,l.t)("org_user_actions.an_error_occurred_closing_onboarding")))}});let E=(0,u.MM)("ORG_USER_REQUEST_ACCOUNT_TYPE",async(e,r,{optimistId:n})=>{var i,d;try{(0,a.kc)().edit_action_vr?await g.G.requestOrgAccountTypeRequest({org_id:r.orgId,entry_point:r.entryPoint,message:r.message,admin_ids:r.adminIds,editor_type:r.licenseType,file_key:r.fileKey}):await o.Ay.put(`/api/org_account_type_request/${r.orgUserId}`,{entry_point:r.entryPoint,message:r.message,admin_ids:r.adminIds,editor_type:r.licenseType,file_key:r.fileKey}),e.dispatch(u.hp.commit(n));let i=r.entryPoint===p.PE.CreateFileProjectView?(0,l.t)("org_user_actions.user_upgrade_request_submitted"):(0,l.t)("org_user_actions.upgrade_request_sent");e.dispatch(c.F.enqueue({message:i,type:"upgrade-request-sent"}))}catch(a){console.error(a),e.dispatch(u.hp.revert(n)),e.dispatch(s.s.error((null==(i=a.data)?void 0:i.message)||(0,l.t)("org_user_actions.an_error_occurred_requesting_account_type"))),null==(d=r.onError)||d.call(r)}});(0,u.MM)("ORG_USER_LEAVE_ORG",async(e,r,{optimistId:n})=>{var i;try{await o.Ay.del(`/api/org_user/${r.orgId}`),e.dispatch(u.hp.commit(n)),e.dispatch(c.F.enqueue({type:"org_guest_leave",message:(0,l.t)("org_user_actions.you_successfully_left_organization",{orgName:r.orgName})}))}catch(a){console.error(a),e.dispatch(u.hp.revert(n)),e.dispatch(s.s.error((null==(i=a.data)?void 0:i.message)||(0,l.t)("org_user_actions.an_error_occurred_leaving_organization",{orgName:r.orgName})))}});let b=(0,u.MM)("ORG_USER_BATCH_UPDATE_ORG_USERS",async(e,r,{optimistId:n})=>{var i;let a,o;let d=e.getState();if(r.lastUpdateTimestampOverride)a=r.lastUpdateTimestampOverride,o=r.lastUpdateTimestampOverride;else{let e=Object.values(d.orgUsersByOrgId.orgUsers[r.orgId]).filter(e=>r.params.org_user_ids.includes(e.id));if(0===e.length)return;if(o=new Date(Math.max(...e.map(e=>+new Date(e.updated_at)))).toISOString(),void 0!==r.params.license_group_id){let r=e.map(e=>{var r;return null==(r=e.license_group_member)?void 0:r.updated_at}).filter(Boolean);a=r.length>0?new Date(Math.max(...r.map(e=>+new Date(e)))).toISOString():null}}try{let i=(await g.G.updateOrgUsers({orgId:r.orgId,...r.params,latest_ou_update:o,latest_lg_member_update:a,showing_billing_groups:!0})).data.meta;e.dispatch(u.hp.commit(n)),e.dispatch(_({orgUsers:i,orgId:r.orgId})),r.successCallback&&r.successCallback()}catch(r){console.error("Batch Update Failed",r),e.dispatch(u.hp.revert(n)),e.dispatch(s.s.error((null==(i=r.data)?void 0:i.message)||(0,l.t)("org_user_actions.an_error_occurred_updating_org_users")))}});(0,u.T8)("ORG_USER_BATCH_DELETE_ORG_USERS",async(e,r)=>{var n;if(r.userInitiated)try{await o.Ay.del(`/api/orgs/${r.orgId}/org_users`,r.params);let n=r.params.org_user_ids.length,i=(0,l.t)("org_user_actions.user_has_been_removed_from_organization",{deletedOrgUserCount:n});e.dispatch(s.s.flash(i))}catch(r){e.dispatch(s.s.error((null==(n=r.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred")));return}});let v=(0,u.T8)("ORG_USER_GET_ADMINS",async(e,{orgId:r},{loadingKey:n})=>{let i=e.getState();if(!h.Sc(i.loadingState,n))return;let a=f.Eh.getAdmins({includeLicenseAdmins:!0,orgId:r});(0,m.N)(a,e,n);try{let n=await a;e.dispatch(_({orgUsers:n.data.meta,orgId:r}))}catch(r){e.dispatch(s.s.error(r.message||(0,l.t)("org_user_actions.an_error_occurred_fetching_org_admins")))}},({orgId:e})=>`ORG_USER_GET_ADMINS_${e}`),S=(0,i.N)("LOAD_ORG_DRAFTS_OWNERS");(0,u.T8)("ORG_USER_GET_BY_USER_ID",async(e,r,{loadingKey:n})=>{let i=f.Eh.getUser({orgId:r.orgId,userId:r.userId});(0,m.N)(i,e,n);try{let n=[(await i).data.meta];return e.dispatch(_({orgUsers:n,orgId:r.orgId})),n.find(e=>e.user_id===r.userId)||null}catch(r){return console.error(r),e.dispatch(s.s.error(r.message||(0,l.t)("org_user_actions.an_error_occurred_fetching_org_users"))),null}},e=>`ORG_USER_GET_BY_USER_ID_${e.orgId}_${e.userId}`)},99403:(e,r,n)=>{"use strict";n.d(r,{F6:()=>o});var i=n(67249),a=n(23026);(0,i.N)("ORGS_BATCH_PUT"),(0,i.N)("ORGS_LOCK_ACCOUNT"),(0,i.N)("ORGS_UNLOCK_ORGS"),(0,i.N)("ORGS_LOCK_ORGS"),(0,i.N)("ORGS_SET_ORG_ID");let o=a.b1},95852:(e,r,n)=>{"use strict";n.d(r,{$h:()=>c,Az:()=>_,Bq:()=>b,Ef:()=>u,Je:()=>g,Lo:()=>E,M2:()=>f,Qg:()=>h,Vm:()=>s,WX:()=>v,Wc:()=>p,eK:()=>l,i:()=>d,js:()=>y,yy:()=>m});var i=n(67249),a=n(38269),o=n(22139);let s=(0,n(80820).nF)((e,{teamId:r,showBreadcrumbs:n,onCloseOrComplete:i})=>{e.dispatch(a.$T({view:"eduReview",teamId:r,showBreadcrumbs:n,onCloseOrComplete:i})),e.dispatch(E({billingPeriod:o.tY.STUDENT}))}),l=(0,i.N)("PAYMENT_RESTORE_SAVED_CART");(0,i.N)("PAYMENT_SET_CURRENCY"),(0,i.N)("PAYMENT_SET_TOKEN");let d=(0,i.N)("PAYMENT_SET_TAXES");(0,i.N)("PAYMENT_SET_PROMO"),(0,i.N)("PAYMENT_SET_SUBMIT_PUT_ANNUAL_QUANTITY_PENDING"),(0,i.N)("PAYMENT_PUT_ANNUAL_QUANTITY");let c=(0,i.N)("PAYMENT_SET_VAT_GST_ID"),u=(0,i.N)("PAYMENT_SET_REGIONAL_VAT_GST_ID");(0,i.N)("PAYMENT_MAKE_STUDENT_TEAM");let p=(0,i.N)("PAYMENT_DOWNGRADE"),h=(0,i.N)("PAYMENT_SHOW_ERROR");(0,i.N)("PAYMENT_SUBMIT_ADD_ANNUAL_CONFIRMATION");let m=(0,i.N)("PAYMENT_SET_COMPANY_DETAILS");(0,i.N)("PAYMENT_SET_SUBMIT_PENDING");let g=(0,i.N)("PAYMENT_SET_EDITOR_STATUS_CHANGES"),f=(0,i.N)("PAYMENT_SET_NUM_FIGMA_EMAIL_TEAM_USERS"),_=(0,i.N)("PAYMENT_SET_NUM_WHITEBOARD_EDITORS"),y=(0,i.N)("PAYMENT_SET_NUM_EDITORS"),E=(0,i.N)("PAYMENT_SET_BILLING_PERIOD");(0,i.N)("PAYMENT_INIT");let b=(0,i.N)("PAYMENT_START_ORG_UPGRADE_FLOW"),v=(0,i.N)("PAYMENT_START_PRO_UPGRADE_FLOW")},38908:(e,r,n)=>{"use strict";n.d(r,{sM:()=>c,xY:()=>u});var i=n(67249),a=n(90724),o=n(208),s=n(80820);(0,s.T8)("RECENT_PROTOTYPE_UNMARK_VIEWED",(e,r)=>{let n=o.Ay.del(`/api/files/${r.fileKey}/prototype/view`,{page_id:r.pageId});(0,a.Q)({requestPromise:n,fallbackError:"An error occurred while removing this prototype from Recently Viewed.",store:e,next:e.dispatch,action:l({fileKey:r.fileKey,pageId:r.pageId})})}),(0,s.T8)("RECENT_PROTOTYPE_MARK_VIEWED",(e,r)=>{o.Ay.post(`/api/files/${r.fileKey}/prototype/view`,{page_id:r.pageId}).then(({data:r})=>{e.dispatch(d({prototype:r.meta}))}).catch(e=>{})}),(0,i.N)("PROTOTYPE_RESET_RECENTS");let l=(0,i.N)("RECENT_PROTOTYPE_DELETE"),d=(0,i.N)("RECENT_PROTOTYPE_POST");(0,i.N)("PROTOTYPE_SET_IS_FOOTER_VISIBLE"),(0,i.N)("PROTOTYPE_SET_IS_RECONNECTING"),(0,i.N)("PROTOTYPE_SET_PROGRESS_BAR_MODE"),(0,i.N)("PROTOTYPE_SET_BACKGROUND_COLOR"),(0,i.N)("PROTOTYPE_SET_CURRENT_PAGE"),(0,i.N)("PROTOTYPE_SET_PAGES"),(0,i.N)("PROTOTYPE_SHOW_ONLY_MY_COMMENTS"),(0,i.N)("PROTOTYPE_SHOW_RESOLVED_COMMENTS"),(0,i.N)("PROTOTYPE_HIDE_COMMENTS"),(0,i.N)("PROTOTYPE_SHOW_COMMENTS"),(0,i.N)("PROTOTYPE_SET_DISABLE_DEFAULT_KEYBOARD_NAV"),(0,i.N)("PROTOTYPE_RESET");let c=(0,i.N)("DELETE_RECENT_PROTOTYPE"),u=(0,i.N)("RESTORE_RECENT_PROTOTYPE")},87620:(e,r,n)=>{"use strict";n.d(r,{gU:()=>R,Hx:()=>C,fR:()=>D,RH:()=>P});var i=n(67249),a=n(57663),o=n(208),s=n(39863),l=n(80820),d=n(60286);let c=(0,i.N)("ADD_TEMPLATE_TO_RECENTS_WITH_USER_ID"),u=(0,l.nF)((e,r)=>{let n=e.getState(),i=(0,d.s)(n);e.dispatch(c({...r,userId:i}))});(0,l.T8)("SET_RECENT_TEMPLATES",async(e,r)=>{});var p=n(41381);let h=(0,i.N)("PLUGIN_ADD_FIRST_RAN_AT");var m=n(97551),g=n(72274),f=n(20666),_=n(86640);n(9831);var y=n(99506),E=n(55328);n(39671);var b=n(9073);function v(e,r){if(!_.x4)return[];let n=[],i=function(e,r){if(e===b.$A.FigJam)switch(r){case E.bD.PLUGIN:return"recent-plugins-figjam";case E.bD.WIDGET:return"recent-widgets-figjam";case E.bD.HUB_FILE:return"recent-templates-figjam";case b.dB.FACE_STAMP:return"recent-face-stamps-figjam";case b.dB.WHITEBOARD_TOOL:return"recent-whiteboard-tools-figjam";default:return null}if(e===b.$A.Design)switch(r){case E.bD.PLUGIN:return"recent-plugins-figma-design";case E.bD.WIDGET:return"recent-widgets-figma-design";default:return null}return e===b.$A.Handoff?r===E.bD.PLUGIN?"recent-plugins-handoff":null:e===b.$A.Slides&&r===E.bD.HUB_FILE?"recent-templates-piper":null}(e,r),a=i&&_.x4.getItem(i);try{n=a&&JSON.parse(a)||[]}catch(e){}return n.map(e=>({...e,type:e.type||b.vt.CommunityResource}))}let S=(0,l.T8)("SET_RECENT_WHITEBOARD_TOOLS",(e,r)=>{});(0,l.T8)("SYNC_RECENT_WHITEBOARD_TOOLS",(e,r)=>{let n=v(r.storeInRecentsKey,b.dB.WHITEBOARD_TOOL);e.dispatch(S({storeInRecentsKey:r.storeInRecentsKey,recentWhiteboardTools:n}))}),(0,l.T8)("ADD_WHITEBOARD_TOOL_TO_RECENTS",(e,r)=>{});let I=(0,l.T8)("SET_RECENT_FACE_STAMPS",(e,r)=>{});(0,l.T8)("SYNC_RECENT_FACE_STAMPS",(e,r)=>{let n=v(r.storeInRecentsKey,b.dB.FACE_STAMP);e.dispatch(I({storeInRecentsKey:r.storeInRecentsKey,recentFaceStamps:n}))}),(0,l.T8)("ADD_FACE_STAMP_TO_RECENTS",(e,r)=>{}),(0,l.T8)("SYNC_RECENT_PLUGINS",(e,r)=>{let n=v(r.storeInRecentsKey,E.bD.PLUGIN);e.dispatch(T({storeInRecentsKey:r.storeInRecentsKey,recentResources:n}));let i=n.map(e=>e.id);e.dispatch(O({resourceType:E.bD.PLUGIN,resourceIds:i}))}),(0,l.T8)("SYNC_RECENT_WIDGETS",(e,r)=>{let n=v(r.storeInRecentsKey,E.bD.WIDGET);e.dispatch(w({storeInRecentsKey:r.storeInRecentsKey,recentResources:n}));let i=n.map(e=>e.id);e.dispatch(O({resourceType:E.bD.WIDGET,resourceIds:i}))});let T=(0,l.T8)("SET_RECENT_PLUGINS",async(e,r)=>{}),w=(0,l.T8)("SET_RECENT_WIDGETS",async(e,r)=>{}),C=u,A=(0,l.T8)("ADD_FETCHED_PLUGIN_VERSION",async(e,r)=>{}),N=(0,l.T8)("ADD_FETCHED_WIDGET_VERSION",async(e,r)=>{}),O=(0,l.nF)((e,r)=>{!function(e,r){let n={},i=({id:i,version:a,status:o})=>{let s=r.resourceType===E.bD.PLUGIN?A:N;return a&&(n[i]=a),e.dispatch(s({id:i,version:a,status:o}))},a=[];if(r.resourceIds.forEach(o=>{let s=r.resourceType===E.bD.PLUGIN?e.getState().installedPluginVersions.plugins[o]:void 0;if(s){i({id:o,version:s,status:b.Lx.FETCHED});return}let l=r.resourceType===E.bD.PLUGIN?e.getState().recentlyUsed.plugins.fetchedResources[o]:e.getState().recentlyUsed.widgets.fetchedResources[o];l&&l.status!==b.Lx.NOT_FETCHED&&l.version?l.version&&(n[o]=l.version):a.push(o)}),!a.length)return Promise.resolve(n);a.forEach(e=>{i({id:e,status:b.Lx.FETCHING})});let s={ids:a,org_id:e.getState().currentUserOrgId,include_pending:!0};o.Ay.post(`/api/${(0,m.n)(r.resourceType)}/batch`,s).then(({data:r})=>(e.dispatch(p.Qi({publishedPlugins:r.meta,src:"fetchExtensionVersions",overrideInstallStatus:!0})),a.forEach(e=>{let n;let a=r.meta.find(r=>r.id===e);a&&(n=function(e){let r=(0,f.uF)(e),n=e.community_publishers.accepted.map(e=>({isPending:!1,profile:{id:e.id,profileHandle:e.profile_handle,user:null,team:null,org:null,[e.entity_type]:{name:e.name}},role:y.un.CREATOR}));return r.community_publishers=n,r}(a)),i({id:e,version:n,status:b.Lx.FETCHED})}),n)).catch(()=>(a.forEach(e=>{i({id:e,status:b.Lx.NOT_FETCHED})}),{}))}(e,r)}),R=(0,l.T8)("ADD_PLUGIN_TO_RECENTS",(e,r)=>{e.dispatch(O({resourceType:E.bD.PLUGIN,resourceIds:[r.id]})),r.skipPluginRun||L(r.id,r.currentUserId,e.getState().currentUserOrgId,e.getState().publishedPlugins[r.id],e.getState().recentlyUsed.plugins[r.storeInRecentsKey],!!r.isDevelopment,e.dispatch)}),P=(0,l.T8)("ADD_WIDGETS_TO_RECENTS",(e,r)=>{e.dispatch(O({resourceType:E.bD.WIDGET,resourceIds:[r.id]})),L(r.id,r.currentUserId,e.getState().currentUserOrgId,e.getState().publishedWidgets[r.id],e.getState().recentlyUsed.widgets[r.storeInRecentsKey],!!r.isDevelopment,e.dispatch)});(0,i.N)("REMOVE_RECENTLY_USED_PLUGIN"),(0,i.N)("REMOVE_RECENTLY_USED_WIDGET");let L=(e,r,n,i,l,d,c)=>{var u;if(i&&i.current_user_has_run||!r||(0,g.Vi)(e)||d)return;let p=l.find(r=>r.id===e);(null==(u=null==p?void 0:p.run_by_user_ids)?void 0:u.includes(r))||o.Ay.post(`/api/plugin_runs/${e}`,{org_id:n}).then(({data:r})=>{c(h({resourceId:e,userFirstRanAt:r.meta.created_at}))}).catch(e=>{a.k.error((0,s.Jv)(e))})},D=(e,r)=>n=>{var i;let a=(0,f.uF)(e),o=((null==(i=a.manifest)?void 0:i.editorType)??[]).map(e=>"figma"===e?b.$A.Design:b.$A.FigJam),s=(0,E.xQ)(e)?P:R;o.forEach(i=>n(s({storeInRecentsKey:i,id:e.id,version:a.id,currentUserId:r})))}},82656:(e,r,n)=>{"use strict";n.d(r,{NN:()=>p,bE:()=>g,nF:()=>f,nX:()=>m,yJ:()=>h});var i=n(67249),a=n(66712),o=n(9225),s=n(208),l=n(39863),d=n(92592),c=n(80820),u=n(23746);(0,i.N)("REPO_SET_SELECTED_BRANCH");let p=(0,c.nF)((e,{repo:r,name:n})=>{e.dispatch(h({repo:{id:r.id,name:n},userInitiated:!0}))});(0,c.nF)((e,{repo:r,onError:n,onSuccess:i,linkExpirationConfigId:c,currentUser:p})=>{let h=s.Ay.put(`/api/repo/${r.id}`,r).then(()=>{null==i||i()}).catch(r=>{if(null==n||n(),e.dispatch(d.F.enqueue({message:(0,l.t)("collaboration.branching.an_error_occurred_while_updating_this_file"),error:!0})),(0,a.b5)())throw r}),m={...(0,u.WW)(r),...(0,u.yT)(r,c,p)},g=(0,u.TP)(r,c,p);Object.keys(m).length>0&&(0,o.WB)().optimisticallyUpdate(m,h),g&&(0,o.WB)().optimisticallyCreate(g,h)}),(0,i.N)("REPO_PERMISSIONS_PUT");let h=(0,c.MM)("REPO_PUT",async(e,{repo:r,userInitiated:n},{optimistId:i})=>{n&&await s.Ay.put(`/api/repo/${r.id}`,r).then(r=>{e.dispatch(c.hp.commit(i))}).catch(r=>{var n;e.dispatch(c.hp.revert(i)),e.dispatch(d.F.enqueue({message:(0,l.Jv)(r,(null==(n=r.data)?void 0:n.message)||(0,l.t)("collaboration.branching.an_error_occurred_while_updating_this_file")),error:!0}))})});(0,i.N)("REPO_BATCH_PUT");let m=(0,i.N)("REPO_BATCH_PUT_IN_SAME_FOLDER"),g=(0,i.N)("REPO_POST");(0,i.N)("RECENT_BRANCH_POST"),(0,i.N)("RECENT_REPOS_DELETE"),(0,i.N)("RECENT_REPO_PUT");let f=(0,i.N)("RECENT_REPOS_INIT");(0,i.N)("RECENT_REPO_POST")},36500:(e,r,n)=>{"use strict";n.d(r,{bE:()=>l,uo:()=>o,yH:()=>a,yJ:()=>s});var i=n(67249);let a=(0,i.N)("ROLE_DELETE"),o=(0,i.N)("ROLE_BATCH_PUT"),s=(0,i.N)("ROLE_PUT"),l=(0,i.N)("ROLE_POST")},45092:(e,r,n)=>{"use strict";n.d(r,{Dy:()=>C,NR:()=>N,ky:()=>A,w2:()=>R});var i=n(67249),a=n(97666),o=n(31664),s=n(66712),l=n(38082),d=n(208),c=n(39863),u=n(82064);n(68389);var p=n(80820),h=n(88022),m=n(97551),g=n(20741);n(69500);var f=n(67409),_=n(15306),y=n(8567);n(56714),f.uH.FILES,y.$W.getFigFiles,f.uH.PROJECTS,y.$W.getFolders,f.uH.TEAMS,y.$W.getTeams,f.uH.USERS,y.$W.getUsers,f.uH.HUB_FILES,y.$W.getHubFiles,f.uH.PUBLIC_PLUGINS,y.$W.getPlugins,f.uH.PRIVATE_PLUGINS,y.$W.getPrivatePlugins,f.uH.PUBLIC_PROFILES,y.$W.getHubProfiles,f.uH.PUBLIC_WIDGETS,y.$W.getWidgets,f.uH.PRIVATE_WIDGETS,y.$W.getPrivateWidgets,(0,p.nF)(async(e,r)=>{var n;let{orgId:i,searchQuery:a,previousSearches:o}=r;if(!(null==(n=e.getState().user)?void 0:n.id))return;let s=o.filter(e=>e.query!==a);await d.Ay.put("/api/recent_search",{org_id:i,searches:s}).catch(e=>{console.error("Failed to add search history with error: "+e.data.message)})}),(0,p.nF)(async(e,r)=>{var n;let{searchQuery:i,previousSearches:a}=r,o=e.getState(),s=null==(n=o.user)?void 0:n.id,l=o.currentUserOrgId,c=(0,m.zU)(o.selectedView);if(!s||c)return;let u=a.filter(e=>e.query!==i),p={query:i,timestamp:new Date().getTime().toString()};u.push(p),u.sort((e,r)=>parseInt(r.timestamp)-parseInt(e.timestamp));let h={org_id:l,searches:u=u.slice(0,f.Or)};await d.Ay.put("/api/recent_search",h).catch(e=>{console.error("Failed to add search history with error: "+e.message)})});let E=(0,p.nF)((e,r)=>{let n=e.getState().search.parameters,i=r.searchTypeBehavior;delete r.searchTypeBehavior,e.dispatch(x({...r}));let a=e.getState(),s=a.search.parameters;s.query===n.query&&(s.searchModelType!==n.searchModelType||s.searchScope!==n.searchScope)&&_.vj.Session.trackModelOrScopeChange(r.searchModelType,r.searchScope),a.search.responses&&null!==a.search.responses[s.searchModelType]||(0,o.c2)(n,s)||e.dispatch(w({precacheInactiveTypes:!0,searchTypeBehavior:i}))});(0,p.nF)((e,r)=>{let n=e.getState();_.vj.Session.trackPlanFilterDropdownClick(n.search,r.clickType)}),(0,p.nF)((e,r)=>{let n=e.getState();_.vj.Session.trackLicenseGroupFilterDropdownClick(n.search,r.clickType)}),(0,p.nF)(e=>{null!==e.getState().search.parameters.planFilter&&e.dispatch(w({parameters:{planFilter:null,workspaceFilter:null},precacheInactiveTypes:!0}))}),(0,p.nF)((e,r)=>{e.getState().search.parameters.planFilter!==r.planFilter&&((0,h.FE)(r.planFilter,"search",void 0),e.dispatch(w({parameters:{...r,workspaceFilter:null},precacheInactiveTypes:!0})))}),(0,i.N)("SEARCH_RESET_FILE_TYPE_FILTER"),(0,p.nF)(e=>{let r=e.getState();null!==r.search.parameters.workspaceFilter&&(_.vj.Session.trackWorkspaceFilterChange(r.search,null),e.dispatch(w({parameters:{workspaceFilter:null},precacheInactiveTypes:!0})))}),(0,p.nF)((e,r)=>{let n=e.getState();n.search.parameters.workspaceFilter!==r.workspaceFilter&&(_.vj.Session.trackWorkspaceFilterChange(n.search,r.workspaceFilter),e.dispatch(w({parameters:{...r},precacheInactiveTypes:!0})))}),(0,p.nF)((e,r)=>{let n=e.getState(),i=n.search.parameters.sortState;if(i&&JSON.stringify(i)!==JSON.stringify(r.sortState)){if(v(i,r.sortState)){b(r.sortState,n),e.dispatch(x(r)),e.dispatch(k(r.sortState));return}e.dispatch(w({parameters:{...r},precacheInactiveTypes:!1}))}});let b=(e,r)=>{var n;let i=null==(n=r.search.responses.files)?void 0:n.results;i&&(i.sort((e,r)=>{var n,i;return(null==(i=e.model.owner)?void 0:i.handle.localeCompare((null==(n=r.model.owner)?void 0:n.handle)??""))??0}),e.files.sortDesc&&i.reverse())},v=(e,r)=>r.files.sortKey===f.Lk.OWNER&&(e.files.sortKey!==r.files.sortKey||e.files.sortDesc!==r.files.sortDesc);(0,p.nF)((e,r)=>{let n=e.getState(),i=()=>{let i=e=>e.trim().split(/\s+/),a=i(n.search.parameters.query),s=i(r.query),l=n.search.parameters.facetFilters,d=r.facetFilters??null,c=T(n.selectedView.view)||!!r.overrideIsFullResultsView,u=c||r.query.length<500;if((c||r.query.length<500)&&JSON.stringify(a)===JSON.stringify(s)&&!r.forceRefreshSearchResults&&(0,o.c2)(l,d)){e.dispatch(E({searchModelType:r.searchModelType,searchScope:r.searchScope,searchTypeBehavior:r.searchTypeBehavior}));return}if(!u){e.dispatch(x({...r}));return}e.getState().search.sessionId||(e.dispatch(C({entryPoint:"unattributed"})),console.error("No search session when changing query")),e.dispatch(w({parameters:{...r},precacheInactiveTypes:r.precacheInactiveTypes??!0,searchTypeBehavior:r.searchTypeBehavior,overrideIsFullResultsView:r.overrideIsFullResultsView}))};r.debounce?B(i):i()});let S=(e,r,n,i,a,o)=>{e||console.error("We shouldn't be searching without setting a sessionId");let u=new l.jk("search.timer.unified_search",{});u.start();let p=U(r,n.sortState);return new Promise((l,h)=>{var m;let g=(0,f.Lr)(n.facetFilters);(m={query:n.query,...p,...F(i,!0),queryId:o,sessionId:e||"",...g,searchModelType:r,withWorkspaceVisibility:n.withWorkspaceVisibility},(0,y.$W.getFullResults)(m)).then(e=>{var i;e.data||h((0,c.t)("search.invalid_search_endpoint_result"));let d=(null==(i=a.getState().search.parameters.facetFilters)?void 0:i.searchModelType)??f.uH.FILES;if(d===r&&(a.dispatch(D({parameters:{...n},response:{...e.data.meta,search_model_type:r,metrics:{roundTripTime:u.getElapsedTime()}},queryId:o})),_.vj.Session.trackTimeToLoad(a.getState().search),l(),(0,s.kc)().search_fb_comp_query_fragments&&d===f.uH.FILES)){let r={};e.data.meta.results.forEach(e=>{let n=e.model;r[n.name]=n.fragments}),console.log("[Search FB Fragments Debug] Fragments info",r)}},e=>{e instanceof d.Dr&&e.data&&e.data.i18n||console.error(e),h(e)}).finally(()=>{u.stop()})})},I=(e,r,n,i,a,o)=>{e||console.error("We shouldn't be searching without setting a sessionId");let s=new l.jk("search.timer.unified_search",{});return s.start(),new Promise((l,u)=>{var p;let h=(0,f.Lr)(r.facetFilters);(p={query:r.query,sort:f.j9.RELEVANCY,desc:!0,...F(i,!0),queryId:o,sessionId:e||"",...h,withWorkspaceVisibility:r.withWorkspaceVisibility},(0,y.$W.getPreviewResults)(p)).then(e=>{e.data||u((0,c.t)("search.invalid_search_endpoint_result")),a.dispatch(L({parameters:{...r},responses:e.data.meta,queryId:o,reset:n,roundTripTime:s.getElapsedTime()})),_.vj.Session.trackTimeToLoad(a.getState().search),l()},e=>{e instanceof d.Dr&&e.data&&e.data.i18n||console.error(e),u(e)}).finally(()=>{s.stop()})})},T=e=>"search"===e,w=(0,p.T8)("SEARCH",(e,r)=>{void 0!==r.parameters&&e.dispatch(x({...r.parameters})),e.dispatch(O({searchTypeBehavior:r.searchTypeBehavior??f.Rr.ONE_TYPE}));let n=e.getState(),i=n.search.parameters,{sessionId:a}=n.search,{query:o,searchScope:s,workspaceFilter:l=null,planFilter:d=null,facetFilters:u}=i,p=T(n.selectedView.view)||!!r.overrideIsFullResultsView,h={searchScope:s,currentOrgId:n.currentUserOrgId,workspaceId:l,planId:d};if((!o||""===o.trim())&&!u){e.dispatch(M({keepFocus:!0}));return}let m=(0,_.Ei)(),y=e=>{if(e.data&&e.data.i18n)return(0,c.Jv)(e)};if(p){let r=S(a,i.facetFilters&&i.facetFilters.searchModelType?i.facetFilters.searchModelType:f.uH.FILES,i,h,e,m),n=w.loadingKeyForPayload({parameters:i});(0,g.N)(r,e,n,y)}else{let r=I(a,i,!1,h,e,m),n=w.loadingKeyForPayload({parameters:i});(0,g.N)(r,e,n,y)}},({parameters:e})=>`SEARCH_${null==e?void 0:e.query}_${(null==e?void 0:e.facetFilters)?JSON.stringify(e.facetFilters):""}_${e?JSON.stringify(e.sortState):""}`);u.N.searchSelected;let C=u.N.startSearch,A=u.N.endSession,N=u.N.restoreSession;u.N.sessionSeeMoreClick,u.N.sessionEnteredSearchView,u.N.sessionEnteredSearchViewViaEnter,u.N.incrementQueryCount;let O=(0,i.N)("SEARCH_SET_SEARCH_TYPE_BEHAVIOR");(0,i.N)("SEARCH_SET_SCROLL_TOP"),(0,i.N)("SEARCH_SET_LAST_ACKED_QUERY_ID");let R=(0,i.N)("SEARCH_SET_LAST_LOADED_QUERY"),P=e=>{let r=(0,i.N)(e),n=e=>r(e);return n.matches=r.matches,n},L=(e=>{let r=(0,i.N)(e),n=e=>r(e);return n.matches=r.matches,n})("SEARCH_SET_RESPONSES"),D=P("SEARCH_SET_FULL_RESULTS_SEARCH_RESPONSE");P("SEARCH_SET_RESPONSE"),(0,i.N)("SEARCH_SET_FOCUS");let M=(0,i.N)("SEARCH_CLEAR_QUERY");(0,i.N)("SEARCH_CLEAR_RESPONSES");let k=(0,i.N)("SEARCH_SET_RESPONSE_SORT_STATE"),x=(0,i.N)("SEARCH_SET_PARAMETERS"),F=(e,r,n)=>e.searchScope!==f.Rx.ORG&&e.searchScope!==f.Rx.ORG_GUEST?{current_org_id:e.currentOrgId,is_global:r,plan_id:"NON_ORG_TEAMS"===e.planId?null:e.planId,plan_type:"NON_ORG_TEAMS"===e.planId?"team":"org"}:n&&n===f.uH.PRIVATE_WIDGETS?{org_search:!0,current_org_id:e.currentOrgId,is_global:r}:{workspace_id:e.workspaceId,org_id:e.currentOrgId,current_org_id:e.currentOrgId,plan_id:"NON_ORG_TEAMS"===e.planId?null:e.planId,plan_type:"NON_ORG_TEAMS"===e.planId?"team":"org",is_global:r},U=(e,r)=>{let n=r[e];if(!n)return{sort:void 0,desc:void 0};let i={sortKey:void 0,sortDesc:void 0,...n};return i.sortKey||i.sortDesc?{sort:i.sortKey,desc:i.sortDesc}:{sort:void 0,desc:void 0}},B=(0,a.s)(e=>{e()},400)},29403:(e,r,n)=>{"use strict";n.d(r,{Nu:()=>f,Xw:()=>y,yJ:()=>E});var i=n(67249),a=n(208),o=n(81388),s=n(39863),l=n(92592),d=n(80820),c=n(62275),u=n(36599),p=n(20741),h=n(36816),m=n(45213),g=n(1951);let f=(0,d.nF)((e,{adminIds:r,editorType:n,fileKey:i,message:d,teamId:c,entryPoint:u,onError:p})=>{a.Ay.post(`/api/teams/${c}/team_users/request_upgrade`,{admin_ids:r,editor_type:n,file_key:i,message:d,team_id:c,entry_point:u}).then(function(r){let n="create-file-project-view"===u?(0,s.t)("team_user.actions.team_members_request_to_upgrade_from_project_view_succeeded"):(0,s.t)("team_user.actions.team_members_request_to_upgrade_succeeded");e.dispatch(l.F.enqueue({message:n,type:"pro-upgrade-request-sent"}))}).catch(function(r){e.dispatch(o.s.error((0,s.t)("team_user.actions.team_members_request_to_upgrade_failed"))),null==p||p()})});(0,d.nF)((e,{members:r,team:n,teamUsers:i,usersWithNoTeamUserIds:a=[],paidStatusType:o,paidStatus:d,entryPoint:u})=>{e.dispatch((0,c.to)({type:g.jo,data:{onConfirm:()=>{let c;e.dispatch(_({teamId:n.id,teamUsers:i,usersWithNoTeamUserIds:a,paidStatus:d,paidStatusType:o,userInitiated:!0,entryPoint:u}));let p=r.length,m={productName:o===h.j4.WHITEBOARD?(0,s.t)("general.figjam"):(0,s.t)("general.figma_design"),nameOrEmail:r[0].name||r[0].email,numTeamMembers:p};switch(d){case h.Zf.FULL:c=(0,s.t)("team_user.actions.team_members_upgraded.seat_rename",m);break;case h.Zf.STARTER:c=(0,s.t)("team_user.actions.team_members_downgraded_to_viewer.seat_rename",m);break;case h.Zf.RESTRICTED:c=(0,s.t)("team_user.actions.team_members_downgraded_to_viewer_restricted.seat_rename",m)}e.dispatch(l.F.enqueue({type:"team-paid-status-updated",message:c}))},members:r,team:n,paidStatusType:o,paidStatus:d}}))});let _=(0,d.MM)("TEAM_USER_UPDATE_DESIGN_PAID_STATUS",async(e,{teamId:r,teamUsers:n,usersWithNoTeamUserIds:i,paidStatus:l,paidStatusType:c,userInitiated:u,entryPoint:p},{optimistId:m})=>{if(u){let u=n.map(e=>e.user_id).concat(i||[]);await a.Ay.put(`/api/teams/${r}/team_user_batch`,{team_user_deltas:u.map(e=>{let r={user_id:e};return c===h.j4.WHITEBOARD?r.whiteboard_paid_status=l:r.design_paid_status=l,r}),entry_point:p}).then(function({data:n}){e.dispatch(d.hp.commit(m)),e.dispatch(E({teamUsers:n.meta,teamId:r}))}).catch(function(r){e.dispatch(d.hp.revert(m));let n=(0,s.t)("team_user.actions.an_error_occurred_while_changing_a_team_member_s_billing_status");e.dispatch(o.s.error(n)),console.error(r)})}},e=>`$TEAM_USER_UPDATE_DESIGN_PAID_STATUS::teamId::${e.teamId}`),y=(0,d.T8)("TEAM_USER_INITIALIZED_FOR_TEAM",(e,{teamId:r},{loadingKey:n})=>{if(!r)return;let i=e.getState(),a="team"===i.selectedView.view&&("members"===i.selectedView.teamViewTab||"billing"===i.selectedView.teamViewTab)||"teamUpgrade"===i.selectedView.view||"eduReview"===i.selectedView.view;if(!(0,u.Sc)(i.loadingState,n)&&!a)return;let l=m.$.getTeamUsers({teamId:r});(0,p.N)(l,e,n),l.then(n=>{e.dispatch(b({teamUsers:n.data.meta,teamId:r}))},r=>{console.error(r),r&&403!==r.status&&e.dispatch(o.s.error((0,s.t)("team_user.actions.an_error_occurred_while_retrieving_fetching_the_list_of_users_on_this_team")))})},({teamId:e})=>`TEAM_USER_INITIALIZED_FOR_TEAM_${e}`),E=(0,i.N)("TEAM_USER_PUT"),b=(0,i.N)("TEAM_USER_INITIAL_SET")},1161:(e,r,n)=>{"use strict";n.d(r,{jD:()=>u,pP:()=>d});var i=n(67249),a=n(98606),o=n(96635),s=n(22296),l=n(80820);let d=(0,i.N)("TOOLTIP_SET_TARGET_REF"),c=(0,l.T8)("TOOLTIP_UPDATE",(e,r)=>{let n=e.getState();null!==n.tooltip.timeoutID&&n.tooltip.timeoutID!=r.tooltip.timeoutID&&clearTimeout(n.tooltip.timeoutID)});(0,l.nF)(e=>{let r=e.getState();e.dispatch(c({tooltip:{...r.tooltip,timeoutID:null}}))}),(0,l.nF)((e,r)=>{let n=e.getState();if(null===n.tooltip.timeoutID){let i=setTimeout(()=>{e.dispatch(u())},r.timeoutDelay);e.dispatch(c({tooltip:{...n.tooltip,timeoutID:i}}))}});let u=(0,l.nF)(e=>{h(!1),e.dispatch(c({tooltip:{state:a.zr.NONE,position:a.Zj.BELOW,target:null,targetRect:void 0,timeoutID:null,interactive:!1}}))}),p=(0,l.nF)((e,r)=>{h(!0),e.dispatch(c({tooltip:{state:a.zr.SHOWING,position:r.position,target:r.target,tipAlign:r.tipAlign,targetRect:r.targetRect,timeoutID:null,maxWidth:r.maxWidth,maxLines:r.maxLines,interactive:r.interactive,lightMode:r.lightMode,textAlign:r.textAlign,hideImmediately:r.hideImmediately,hideAfterDelay:r.hideAfterDelay}}))});function h(e){var r,n;null==(r=s.Y.instance[o.Wh.INSPECT])||r.updateState({stopPointerEvents:e}),null==(n=s.Y.instance[o.Wh.MODAL])||n.updateState({stopPointerEvents:e})}(0,l.nF)((e,r)=>{let n=setTimeout(()=>{e.dispatch(p({target:r.target,targetRect:r.targetRect,position:r.position,tipAlign:r.tipAlign,maxWidth:r.maxWidth,maxLines:r.maxLines,interactive:r.interactive,lightMode:r.lightMode,textAlign:r.textAlign,hideImmediately:r.hideImmediately,hideAfterDelay:r.hideAfterDelay}))},r.timeoutDelay);e.dispatch(c({tooltip:{state:a.zr.PENDING,position:r.position,tipAlign:r.tipAlign,target:r.target,targetRect:r.targetRect,timeoutID:n,maxWidth:r.maxWidth,maxLines:r.maxLines,interactive:r.interactive,lightMode:r.lightMode,textAlign:r.textAlign,hideImmediately:r.hideImmediately,hideAfterDelay:r.hideAfterDelay}}))})},31828:(e,r,n)=>{"use strict";n.d(r,{A:()=>a,b:()=>o});var i=n(67249);let a=(0,i.N)("USER_FLAG_SET_ALL"),o=(0,i.N)("USER_FLAG_POST")},31913:(e,r,n)=>{"use strict";n.d(r,{A9:()=>s,BC:()=>m,EB:()=>u,FB:()=>a,Fm:()=>d,SR:()=>p,TO:()=>o,ke:()=>l,ne:()=>h,p0:()=>c});var i=n(67249);let a=(0,i.N)("VERSION_HISTORY_SET_FILE_LAST_SEEN_AT"),o=(0,i.N)("VERSION_HISTORY_COMPARE_CHANGES"),s=(0,i.N)("VERSION_HISTORY_SET_DOC_HAS_CHANGED"),l=(0,i.N)("VERSION_HISTORY_SET_LINKED_VERSION"),d=(0,i.N)("VERSION_HISTORY_SET_ACTIVE"),c=(0,i.N)("VERSION_HISTORY_RESET_VERSIONS");(0,i.N)("VERSION_HISTORY_RESET");let u=(0,i.N)("UPDATE_FETCHED_PAGE_IDS"),p=(0,i.N)("VERSION_HISTORY_PAGE_LOADING"),h=(0,i.N)("VERSION_HISTORY_LOADING"),m=(0,i.N)("VERSION_HISTORY_APPEND")},25651:(e,r,n)=>{"use strict";n.d(r,{H1:()=>S});var i=n(38020),a=n(67249),o=n(84934),s=n(74626),l=n(9225),d=n(46746),c=n(208),u=n(81388),p=n(39863),h=n(92592),m=n(80820),g=n(52800),f=n(24266),_=n(73),y=n(82976);(0,a.N)("UNSET_HOVERED_IN_MODAL_VOTE_PIN"),(0,a.N)("SET_HOVERED_IN_MODAL_VOTE_PIN"),(0,a.N)("DESELECT_VOTE_PIN"),(0,a.N)("SELECT_VOTE_PIN");let E=(0,a.N)("INITIATED_VOTING_SESSION");(0,m.nF)(async(e,{uiSurface:r})=>{let n=e.getState(),{fileKey:i}=n.selectedView,a=n.mirror.appModel.votingSessionInfo.sessionId;if(!i||!a)return;let o=b(i),l="end-voting-session-failed",d=()=>{e.dispatch(y.of({key:o})),e.dispatch(h.F.enqueue({type:l,message:(0,p.t)("voting.visual_bell.end_voting_session_failed")}))};e.dispatch(y.Cx({key:o})),e.dispatch(h.F.dequeue({matchType:l})),await c.Ay.put(`/api/file/${i}/voting_sessions/${a}`,{in_progress:!1}).then(({status:n})=>{200===n?(e.dispatch(y.x2({key:o})),"MeetingsPanel"===r&&s.zl.set(_.Qs,{type:"SET_VIEW",payload:_.iN.PAST_VOTES})):d()}).catch(e=>{throw d(),e})});let b=e=>`end_voting_session_${e}`;(0,m.nF)((e,{source:r,usedCustomTitle:n,requestBody:i,uiSurface:a})=>{let{fileKey:l}=e.getState().selectedView;if(!l)return;let d=v(l),u=()=>{e.dispatch(y.of({key:d})),e.dispatch(h.F.enqueue({type:"start-voting-session-failed",message:(0,p.t)("voting.visual_bell.start_voting_session_failed")}))};e.dispatch(y.Cx({key:d})),e.dispatch(h.F.dequeue({matchType:"start-voting-session-failed"})),c.Ay.post(`/api/file/${l}/voting_sessions`,i).then(i=>{200===i.status?(e.dispatch(E({votingSessionId:i.data.meta.id})),"MeetingsPanel"===a&&s.zl.get(_.Qs).activeToolModal===_.sx.VOTING&&s.zl.set(_.Qs,{type:"SET_TOOL",payload:null}),e.dispatch(y.x2({key:d})),(0,o.sx)("start_voting_session",{source:r,usedCustomTitle:n,votingSessionId:i.data.meta.id,fileKey:l})):u()}).catch(e=>{throw u(),e})});let v=e=>`create_voting_session_${e}`;(0,m.nF)((e,{votingSessionId:r})=>{let n=e.getState().selectedView;if(!n.fileKey)return null;let i=c.Ay.del(`/api/file/${n.fileKey}/voting_sessions/${r}`);e.dispatch((0,u.Q)({promise:i,fallbackError:(0,p.t)("voting.modal.delete_voting_session_error")})),e.dispatch(h.F.enqueue({message:(0,p.t)("voting.modal.delete_voting_session_visual_bell")})),(0,d.f)(i,e.dispatch,T({votingSessionId:r})),(0,l.WB)().optimisticallyDelete({VotingSession:{[r]:null}},i)});let S=(0,m.nF)((e,r)=>{var n,a,o,s;let l;let d=r.votingStage,c=e.getState(),u=null==(a=null==(n=null==c?void 0:c.mirror)?void 0:n.appModel)?void 0:a.currentPage;if(d===g.W8Y.NO_SESSION){g.ofk.setVotingSessionInfo("",g.W8Y.NO_SESSION,0,u);return}let p=null==(o=null==c?void 0:c.openFile)?void 0:o.votingSessions;if(d===g.W8Y.ENDED){let e=r.sessionId;l=null==p?void 0:p.find(r=>r.id===e&&!r.inProgress)}else l=null==p?void 0:p.find(e=>e.inProgress);if(!l)return;let h=(0,i.oA)(l.pageNodeId);h&&(g.ofk.setVotingSessionInfo(l.id,d,l.userVoteLimit,h),d===g.W8Y.JOINED&&(e.dispatch(I()),(null==(s=c.mirror.selectionProperties.whiteboardNumSelectedByType)?void 0:s.STAMP)&&(0,f.wr)()))}),I=(0,a.N)("DISMISS_JOIN_CONFIRMATION");(0,a.N)("HIDE_JOIN_VOTING_SESSION_MODAL");let T=(0,a.N)("DELETE_VOTING_SESSION");(0,a.N)("SET_VOTES_PER_USER_LIMIT"),(0,a.N)("SET_TITLE"),(0,a.N)("CLEAR_STATE")},7877:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h,m,g,f;n.d(r,{E2:()=>k,M5:()=>E,M6:()=>O,Tb:()=>D,XG:()=>I,_O:()=>M,eg:()=>w});var _=n(30654);n(62194),n(99506);var y=((i=y||{}).USERS="users",i.TEAMS="teams",i.ORGS="orgs",i.PLUGINS="plugins",i.WIDGETS="widgets",i.HUB_FILES="hub_files",i.PROFILES="profiles",i.CATEGORIES="community_categories",i),E=((a=E||{}).HUB_FILE_DUPLICATED="Hub File Duplicated",a.PLUGIN_INSTALLED="Hub Plugin Installed",a.PLUGIN_UNINSTALLED="Hub Plugin Uninstalled",a.WIDGET_INSTALLED="Hub Widget Installed",a.WIDGET_UNINSTALLED="Hub Widget Uninstalled",a),b=((o=b||{}).PLUGIN_INSTALL="community_hub_plugin_install",o.PLUGIN_UNINSTALL="community_hub_plugin_uninstall",o.PROFILE_FOLLOW="community_hub_follow",o.PROFILE_UNFOLLOW="community_hub_unfollow",o.HUB_FILE_LIKE="community_hub_file_like",o.HUB_FILE_UNLIKE="community_hub_file_unlike",o.PLUGIN_LIKE="community_plugin_like",o.PLUGIN_UNLIKE="community_plugin_unlike",o.WIDGET_LIKE="community_widget_like",o.WIDGET_UNLIKE="community_widget_unlike",o.SHARE_TWITTER="community_hub_share_twitter",o.LANDING_PAGE_TO_CURATED_PAGE_BUTTON="landing_page_to_curated_page_button",o.SHARE_FACEBOOK="community_hub_share_facebook",o.SHARE_LINK="community_hub_share_link",o.CREATE_PROFILE="community_hub_create_profile",o.COMMUNITY_OPT_IN="community_hub_opt_in",o.UPDATE_PROFILE_HANDLE="community_hub_update_handle",o.PLUGIN_INSTALL_CONFIRMATION_MODAL_SHOWN="community_hub_plugin_install_warning_shown",o.PLUGIN_INSTALL_CONFIRMATION_MODAL_CANCEL="community_hub_plugin_install_warning_cancel",o.SEE_MORE_IN_COMMUNITY="see_more_in_community",o.FIND_MORE_PLUGINS="find_more_plugins",o),v=((s=v||{}).PROFILE_ADMIN_MENU_OPEN="Community browse menu opened",s),S=((l=S||{}).FIGJAM="figjam",l),I=((d=I||{}).PLUGINS="plugins",d.FILES="files",d.CREATORS="creators",d.FIGJAM_PLUGINS="figjam_plugins",d.FIGMA_DESIGN_PLUGINS="figma_design_plugins",d.WIDGETS="widgets",d.FIGJAM_WIDGETS="figjam_widgets",d.FIGMA_DESIGN_WIDGETS="figma_design_widgets",d),T=((c=T||{}).HAS_RESTORED="has_restored",c.RESTORE_SMOOTH="restore_smooth",c.RESTORE="restore",c),w=((u=w||{}).POPULAR="popular",u.CREATED_AT="created_at",u.FOLLOWING_FEED="feed",u.INSTALLS_DESC="installs",u.RUNS_DESC="runs",u.LAST_UPDATED_DESC="updated_at",u.INSTALLS_ASC="installs_asc",u.RUNS_ASC="runs_asc",u.LAST_UPDATED_ASC="updated_at_asc",u),C=((p=C||{}).CREATED_AT="created_at",p.FOLLOWING_FEED="feed",p),A=((h=A||{}).DESC="desc",h.ASC="asc",h),N=((m=N||{}).by_creator="by_creator",m.by_tags="by_tags",m);function O(e){return _.object({types:_.array(_.nativeEnum(N)),content:_.array(e)})}let R={resourceIds:{},unmergedResourceIds:[],loading:!1};({...R});var P=((g=P||{}).NAME="name",g.PUBLISHER="publisher",g.INSTALLS="installs",g.RUNS="runs",g.CREATED_AT="created_at",g.LAST_UPDATED="last_updated",g),L=((f=L||{}).FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",f.FREE_PLUGIN_LICENSE="https://www.figma.com/community-resource-license/",f.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",f.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",f);let D="checkout",M="freemium_preview",k="1"},63508:(e,r,n)=>{"use strict";let i;n.d(r,{hY:()=>v});var a=n(39863);let o={scaleFactor:2,imageSize:{x:3792,y:2304},offset:{x:192,y:28},deviceName:'MacBook Pro 14"',getI18nDeviceName:()=>(0,a.t)("presets.mac_book_pro_14"),framePresetSize:{x:1512,y:982}},s={scaleFactor:2,imageSize:{x:4220,y:2574},offset:{x:191,y:28},deviceName:'MacBook Pro 16"',getI18nDeviceName:()=>(0,a.t)("presets.mac_book_pro_16"),framePresetSize:{x:1728,y:1117}},l={scaleFactor:2,imageSize:{x:3208,y:1944},offset:{x:163,y:33},deviceName:"MacBook Air",getI18nDeviceName:()=>(0,a.t)("presets.mac_book_air_m2"),framePresetSize:{x:1280,y:832}},d=[{presetIdentifier:"APPLE_MACBOOK_AIR_M2_SILVER",url:"https://static.figma.com/uploads/354fac4a93039a59659f59101c0e219db8f931dd",thumbnailUrl:"https://static.figma.com/uploads/b98d49f9e763a176d6aa7eb5919abf609805c152",styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_air_silver"),...l},{presetIdentifier:"APPLE_MACBOOK_AIR_M2_SPACE_GREY",url:"https://static.figma.com/uploads/191fcdf7d3727da19ed591282edb2f7e41c660ff",thumbnailUrl:"https://static.figma.com/uploads/e02a222394c86013a0675102443a71f662209f6b",styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_air_space_grey"),...l},{presetIdentifier:"APPLE_MACBOOK_AIR_M2_STARLIGHT",url:"https://static.figma.com/uploads/1cb33a27629dbd656eada49095c5ae4ca43c4227",thumbnailUrl:"https://static.figma.com/uploads/6f492a8ea701f1ceaf3d426d14353006fe229e4e",styleName:"Starlight",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_air_starlight"),...l},{presetIdentifier:"APPLE_MACBOOK_AIR_M2_MIDNIGHT",url:"https://static.figma.com/uploads/29887044f61a2c3f7aa9b49785916134303f4857",thumbnailUrl:"https://static.figma.com/uploads/0308477cf8659fd2962b50778c2fc3f7d892cc7a",styleName:"Midnight",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_air_midnight"),...l},{presetIdentifier:"APPLE_MACBOOK_PRO_14IN_SILVER",url:"https://static.figma.com/uploads/d0ac51db2301a1df16ec8577cf699c038aab0104",thumbnailUrl:"https://static.figma.com/uploads/a324ff09fc229afb6de967a60f0d67128f47f288",styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_pro_silver"),...o},{presetIdentifier:"APPLE_MACBOOK_PRO_14IN_SPACE_GREY",url:"https://static.figma.com/uploads/97dfa32458f7a83d940ec8fbaa68d54aa8cf7ee8",thumbnailUrl:"https://static.figma.com/uploads/fd515d09a7013734aa2cb1a15073dd5c5f2679b5",styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_pro_space_grey"),...o},{presetIdentifier:"APPLE_MACBOOK_PRO_16IN_SILVER",url:"https://static.figma.com/uploads/1f2c9f4c15ca4d1804f34e5b251ac08627b9ec68",thumbnailUrl:"https://static.figma.com/uploads/c4c083cc23725fa7a40cf59a21dacd7d61b226cf",styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_pro_silver"),...s},{presetIdentifier:"APPLE_MACBOOK_PRO_16IN_SPACE_GREY",url:"https://static.figma.com/uploads/6775576c185793200af0c931b1131d8e4b8cbbc8",thumbnailUrl:"https://static.figma.com/uploads/a8ec13de98896c9931272c1d1930df3669e3a96c",styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.mac_book_pro_space_grey"),...s},{presetIdentifier:"APPLE_TV",url:"https://static.figma.com/uploads/6b498a79fda04bf5ed960b027abd702068610785",thumbnailUrl:"https://static.figma.com/uploads/0b1b83e3df9a3e0e15fe98d3cc8d42f328148ed4",styleName:"",getI18nStyleName:()=>"",scaleFactor:2,imageSize:{x:2608,y:1570},offset:{x:12,y:12},deviceName:"TV",getI18nDeviceName:()=>(0,a.t)("presets.tv"),framePresetSize:{x:1280,y:720}},{presetIdentifier:"APPLE_MACINTOSH_128K",url:"https://static.figma.com/uploads/3fadd217a75ad0333441f0da8eb2d1beea66d114",thumbnailUrl:"https://static.figma.com/uploads/3bd4c5ae80a538033c9d88b9d6db256a31b0ede7",styleName:"",getI18nStyleName:()=>"",scaleFactor:1,imageSize:{x:706,y:976},offset:{x:97,y:132},framePresetSize:{x:512,y:342},deviceName:"Macintosh 128k",getI18nDeviceName:()=>(0,a.t)("presets.mac_128k"),archived:!0,inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/97e7500f80fc8443679965e979c4e26fac482b7b"}}];var c=n(69468);let u={scaleFactor:2,imageSize:{x:3020,y:2176},offset:{x:35,y:64},deviceName:"Surface Pro 8",getI18nDeviceName:()=>(0,a.t)("presets.surface_pro_8"),framePresetSize:{x:1440,y:960},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/206c91d15ad504d727ec166f40a9160f8e4ad912"}},p={scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad mini",getI18nDeviceName:()=>(0,a.t)("presets.i_pad_mini"),framePresetSize:{x:768,y:1024},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/0dece8b484c0522bdee57c2596d8c1ee614ad814"}},h={scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_pro_10_5"),framePresetSize:{x:834,y:1112},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/777d80fe9ebe9382a7c0af8e57c6fb5e23d0335d"}},m={scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_9_7"),framePresetSize:{x:768,y:1024},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/93df3c3a17d16f3eb0c0cbed560a1109bee5f437"}},g=[{presetIdentifier:"APPLE_IPAD_MINI_83_SPACE_GREY",url:"https://static.figma.com/uploads/068d7ef1ff70fd76e2a330bdfc0966c52f7e370b",thumbnailUrl:"https://static.figma.com/uploads/69a9e0440f39e43c5b176ba88a15adaa3924f12c",scaleFactor:2,imageSize:{x:1720,y:2504},offset:{x:58,y:61},deviceName:"iPad mini 8.3",getI18nDeviceName:()=>(0,a.t)("presets.i_pad_mini_8_3"),styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_space_grey"),framePresetSize:{x:744,y:1133},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/9c7685c20ea1de4f1ffc984f7c5192a85c11ea91"}},{presetIdentifier:"MICROSOFT_SURFACE_PRO_8_PLATNUM",url:"https://static.figma.com/uploads/92d5ece8be81c95bb255298e69ee998bcff2389e",thumbnailUrl:"https://static.figma.com/uploads/5b0a4fed78b07af23ee81e5d150bb55bb0864b86",styleName:"Platinum",getI18nStyleName:()=>(0,a.t)("presets.styles.surface_platinum"),...u},{presetIdentifier:"MICROSOFT_SURFACE_PRO_8_GRAPHITE",url:"https://static.figma.com/uploads/eee19b625be7752f489eabb1dabb880c577dd4f2",thumbnailUrl:"https://static.figma.com/uploads/8fb12ac02e7c22ad0748b9d85ebf0a538b0edffc",styleName:"Graphite",getI18nStyleName:()=>(0,a.t)("presets.styles.surface_graphite"),...u},{presetIdentifier:"APPLE_IPAD_MINI_4_GOLD",url:"https://static.figma.com/uploads/328013fee3e9ae814eeb7bb38c1d9b4d42ae6bc9",thumbnailUrl:"https://static.figma.com/uploads/75bf4da29b271b65dc372f36608cbd2f94eaa84a",styleName:"Gold",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_gold"),archived:!0,...p},{presetIdentifier:"APPLE_IPAD_MINI_4_SILVER",url:"https://static.figma.com/uploads/e880c453cd086df5696ca242d7bbc0fcd4a7e6c7",thumbnailUrl:"https://static.figma.com/uploads/0befd84fa291160218098e1e11ef814593c3e8af",styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_silver"),archived:!0,...p},{presetIdentifier:"APPLE_IPAD_MINI_4_SPACE_GREY",url:"https://static.figma.com/uploads/8638fcab67fa732bc8a72acb6c40b79cf1261f21",thumbnailUrl:"https://static.figma.com/uploads/5a823145105ba98060af64c62bfec3b96e603bc7",styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_space_grey"),archived:!0,...p},{presetIdentifier:"APPLE_IPAD_PRO_11_SILVER",url:"https://static.figma.com/uploads/93f3bdf77fe5e69af9a645fce6497e5b33d7011f",thumbnailUrl:"https://static.figma.com/uploads/38c681887e85ee410a4635219665279e60b194b9",scaleFactor:2,imageSize:{x:1863,y:2583},offset:{x:47.5,y:50},deviceName:'iPad Pro 11"',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_pro_11"),styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_silver"),framePresetSize:{x:834,y:1194},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/a6509d93d3f8e6c2afa4a47aeabde3702f122835"}},{presetIdentifier:"APPLE_IPAD_PRO_129_SILVER",url:"https://static.figma.com/uploads/6d5c861ea44bd36c7b8dfe07cc167378938f71ef",thumbnailUrl:"https://static.figma.com/uploads/5f68be5104861293fc155a581a874e030874489b",scaleFactor:2,imageSize:{x:2245,y:2930},offset:{x:48,y:51},deviceName:'iPad Pro 12.9"',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_pro_12_9"),styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_silver"),framePresetSize:{x:1024,y:1366},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/2ce9c369b0e222915b11508a382ac1bd8121be41"}},{presetIdentifier:"MICROSOFT_SURFACE_PRO_4",url:"https://static.figma.com/uploads/4192a676e2992e9b08407571f59d57b2da414407",thumbnailUrl:"https://static.figma.com/uploads/5abae406fbb16edb28d09336521687e904195c7c",scaleFactor:2,imageSize:{x:3064,y:2115},offset:{x:82,y:74},deviceName:"Surface Pro 4",getI18nDeviceName:()=>(0,a.t)("presets.surface_pro_4"),styleName:"",getI18nStyleName:()=>"",framePresetSize:{x:1368,y:912},archived:!0,inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/0ff63a94a8b9430323c3b4ca1aa9d3b82a040f9b"}},{presetIdentifier:"APPLE_IPAD_GOLD",url:"https://static.figma.com/uploads/c0041089d121b6a9fab09a3e6e57ae662a63c056",thumbnailUrl:"https://static.figma.com/uploads/352b92962b1d63d4142d3b3f525f7a7145d6865b",styleName:"Gold",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_gold"),archived:!0,...m},{presetIdentifier:"APPLE_IPAD_SILVER",url:"https://static.figma.com/uploads/673fcf21209d5719d14ec969b226509b0386ff28",thumbnailUrl:"https://static.figma.com/uploads/e04b4c9943933ae8948bd6f9e98a59d2e2248b98",styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_silver"),archived:!0,...m},{presetIdentifier:"APPLE_IPAD_SPACE_GREY",url:"https://static.figma.com/uploads/dc4087534c677eb0bd8e01be81960f541df7abab",thumbnailUrl:"https://static.figma.com/uploads/7eaf93631ddf35d4d7773618c84c6811bd8f5023",styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_space_grey"),archived:!0,...m},{presetIdentifier:"APPLE_IPAD_PRO_105_GOLD",url:"https://static.figma.com/uploads/6604919217ccd2007dc242289b6eb46a67e906b0",thumbnailUrl:"https://static.figma.com/uploads/144614eca299bf21ef6a3220413deafe74d7db5f",styleName:"Gold",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_gold"),hideUnlessActive:!0,...h},{presetIdentifier:"APPLE_IPAD_PRO_105_ROSE_GOLD",url:"https://static.figma.com/uploads/628fb1414c2b238f444108bf359460981e4efd7b",thumbnailUrl:"https://static.figma.com/uploads/a7fc4718e83b481e5191cc352e4810a9bb828ee5",styleName:"Rose Gold",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_rose_gold"),hideUnlessActive:!0,...h},{presetIdentifier:"APPLE_IPAD_PRO_105_SILVER",url:"https://static.figma.com/uploads/fe6849f30d136173a21c308c8291b52b83feb15a",thumbnailUrl:"https://static.figma.com/uploads/d8af399f095f5964262ed4d96e3d7304ca5f8941",styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_silver"),hideUnlessActive:!0,...h},{presetIdentifier:"APPLE_IPAD_PRO_105_SPACE_GREY",url:"https://static.figma.com/uploads/555b2468733885cb2e3ade0de884e72bfc8bcaac",thumbnailUrl:"https://static.figma.com/uploads/c5466e02e01cba41c26234034e5e055147c993b1",styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_space_grey"),hideUnlessActive:!0,...h},{presetIdentifier:"APPLE_IPAD_PRO_GOLD",url:"https://static.figma.com/uploads/693d028b945399d6eb411e8b5691c83cfd3ec1e8",thumbnailUrl:"https://static.figma.com/uploads/08e04a3eeb2230962f7c11de04e05987d9f93b14",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_pro_12_9"),styleName:"Gold",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_gold"),framePresetSize:{x:1024,y:1366},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_SILVER",url:"https://static.figma.com/uploads/703a3beb0bb7eeefa5a8f00c328606f59d7bfad1",thumbnailUrl:"https://static.figma.com/uploads/0d3fc68051cb305703d02372bff6d8ec74c24111",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_pro_12_9"),styleName:"Silver",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_silver"),framePresetSize:{x:1024,y:1366},hideUnlessActive:!0},{presetIdentifier:"APPLE_IPAD_PRO_SPACE_GREY",url:"https://static.figma.com/uploads/0eebe7d84dc8cfdd9578d03fb8fd59de6a7c0578",thumbnailUrl:"https://static.figma.com/uploads/272fa6d8901005d8fca90e51d3b19f2cac448bba",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9" (old)',getI18nDeviceName:()=>(0,a.t)("presets.i_pad_pro_12_9"),styleName:"Space Grey",getI18nStyleName:()=>(0,a.t)("presets.styles.ipad_space_grey"),framePresetSize:{x:1024,y:1366},hideUnlessActive:!0}],f={scaleFactor:4,imageSize:{x:898,y:1532},offset:{x:19,y:84},framePresetSize:{x:176,y:215},deviceName:"Apple Watch 41mm",getI18nDeviceName:()=>(0,a.t)("presets.apple_watch_41_mm"),inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/88a982ad3d2bd0dcc365065d1c7179d0f094ac4b"}},_={scaleFactor:4,imageSize:{x:982,y:1696},offset:{x:18,y:91},framePresetSize:{x:198,y:242},deviceName:"Apple Watch 45mm",getI18nDeviceName:()=>(0,a.t)("presets.apple_watch_45_mm"),inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/2c129bdc0670fba2212737e0f187c643fdacca12"}},y={scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",getI18nDeviceName:()=>(0,a.t)("presets.apple_watch_42_mm"),framePresetSize:{x:156,y:195},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/59d115d10ac69ee43d6263ffc03c0c6555f118cf"}},E={scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",getI18nDeviceName:()=>(0,a.t)("presets.apple_watch_38_mm"),framePresetSize:{x:136,y:170},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/1e7ee2e1781f9fc738cee031d0574758d00b2fff"}},b=[{presetIdentifier:"APPLE_WATCH_45MM_BLUE",url:"https://static.figma.com/uploads/3da8505245eb54aacd54f686c8e5e6e5f9537c0e",thumbnailUrl:"https://static.figma.com/uploads/15c95fb7c871fb99268202b02e1f33270118ee34",styleName:"Blue",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_blue"),..._},{presetIdentifier:"APPLE_WATCH_45MM_MIDNIGHT",url:"https://static.figma.com/uploads/e4f3925c32de8f771d6666a496a1a9a11fbb0779",thumbnailUrl:"https://static.figma.com/uploads/29aa836e75d0e2c3e237826dcd0fdcafd9c3d2ce",styleName:"Midnight",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_midnight"),..._},{presetIdentifier:"APPLE_WATCH_45MM_STARLIGHT",url:"https://static.figma.com/uploads/a1a4326fc618f6d17c8ab853af9ba4014bc3ffd9",thumbnailUrl:"https://static.figma.com/uploads/a49d991dfbacce5e0e614df3787be8d28eb34ecc",styleName:"Starlight",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_starlight"),..._},{presetIdentifier:"APPLE_WATCH_45MM_GREEN",url:"https://static.figma.com/uploads/c0c4f4a20e2a5c6b09867caa05db9569f3d94986",thumbnailUrl:"https://static.figma.com/uploads/cdb631fb0fce508e4852bd4dac07a179b4f2f6e6",styleName:"Green",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_green"),..._},{presetIdentifier:"APPLE_WATCH_45MM_RED",url:"https://static.figma.com/uploads/14e6e9a64e658cb3029c6cf3c52c7c0c096ad54f",thumbnailUrl:"https://static.figma.com/uploads/6fcf218d6db7e406da45491700aff408adaceffd",styleName:"Red",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_red"),..._},{presetIdentifier:"APPLE_WATCH_41MM_BLUE",url:"https://static.figma.com/uploads/b0b764ea51b00d7d77e04a2e2c12a71509ce2cda",thumbnailUrl:"https://static.figma.com/uploads/145bf3e2448b15543418a2291c2cf7d97047c3b2",styleName:"Blue",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_blue"),...f},{presetIdentifier:"APPLE_WATCH_41MM_MIDNIGHT",url:"https://static.figma.com/uploads/a7394611af31aa23622a81318f90423f868bb304",thumbnailUrl:"https://static.figma.com/uploads/2c6dc3186811cb295f2cb32bd184bf7f014a46a4",styleName:"Midnight",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_midnight"),...f},{presetIdentifier:"APPLE_WATCH_41MM_STARLIGHT",url:"https://static.figma.com/uploads/4d620075d2ec62c521628a004a02eac74fce4866",thumbnailUrl:"https://static.figma.com/uploads/1d644538eef62555d8bba43680b0429ae13d3d11",styleName:"Starlight",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_starlight"),...f},{presetIdentifier:"APPLE_WATCH_41MM_GREEN",url:"https://static.figma.com/uploads/bf2831b049ec70dbd84e67e6c5ead6395568b3ee",thumbnailUrl:"https://static.figma.com/uploads/1310a4a5d76234531611bc91cc582b061fb44f04",styleName:"Green",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_green"),...f},{presetIdentifier:"APPLE_WATCH_41MM_RED",url:"https://static.figma.com/uploads/88110f2c3c906846a7c78d86085faf55cf1fa6b5",thumbnailUrl:"https://static.figma.com/uploads/ff1c5367046d8d81a923e8d4e3361e36bfcf6196",styleName:"Red",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_red"),...f},{presetIdentifier:"APPLE_WATCH_44MM_BLACK",url:"https://static.figma.com/uploads/cd96a0eeff474600c128809eb6c06c90033ceac2",thumbnailUrl:"https://static.figma.com/uploads/d92464253e796e69eaa79809e18c1a35a34d4c31",scaleFactor:2,imageSize:{x:501,y:860},offset:{x:28,y:103},deviceName:"Apple Watch 44mm",getI18nDeviceName:()=>(0,a.t)("presets.apple_watch_44_mm"),styleName:"Black",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_black"),framePresetSize:{x:184,y:224},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/41eeaa2b709b857bcd0fb9dd21251db454037190"}},{presetIdentifier:"APPLE_WATCH_42MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/3ae17e6e9d695fb6ba5d8e76f3aebf38436cb0c9",thumbnailUrl:"https://static.figma.com/uploads/798df987373ad0c548b2e5527b30cc5ab12ba1ee",styleName:"Silver / White",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_silver_and_white"),archived:!0,...y},{presetIdentifier:"APPLE_WATCH_42MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/97ddb2d8c7fa1bcd0e9175ab4870e920131fc868",thumbnailUrl:"https://static.figma.com/uploads/4c9f8d06241e328ba5cd604a3b13c81f27e9003e",styleName:"Space Grey / Black",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_space_grey_and_black"),archived:!0,...y},{presetIdentifier:"APPLE_WATCH_40MM_BLACK",url:"https://static.figma.com/uploads/e75f653f99f2864b9cb8f5aadaa1256fb07c44da",thumbnailUrl:"https://static.figma.com/uploads/1d1463212be3a0886ee5c42a37e1e00505249bf8",scaleFactor:2,imageSize:{x:458,y:796},offset:{x:28.5,y:100},deviceName:"Apple Watch 40mm",getI18nDeviceName:()=>(0,a.t)("presets.apple_watch_40_mm"),styleName:"Black",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_black"),framePresetSize:{x:162,y:197},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/5fc0b4c35007df6d949aa39dab17e8e1777296dd"}},{presetIdentifier:"APPLE_WATCH_38MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/6d4cfbe07e969780896d23752badaf4a01129c23",thumbnailUrl:"https://static.figma.com/uploads/bb82afa0b7de9277f1e961f3e64cb97445aa5d29",styleName:"Silver / White",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_silver_and_white"),archived:!0,...E},{presetIdentifier:"APPLE_WATCH_38MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/fb2ce9c66635652aedbfdf0b67eda809ce83e364",thumbnailUrl:"https://static.figma.com/uploads/b22cea10520c8e60711219fc191b49702ff4e305",styleName:"Space Grey / Black",getI18nStyleName:()=>(0,a.t)("presets.styles.apple_watch_space_grey_and_black"),archived:!0,...E}],v=Object.create(null);for(let e of[c.eo,g,b,d])for(let r of e)v[r.presetIdentifier]=r;function S(e,r){let n=new Set,i=[];for(let a of e)n.has(a.deviceName)||(n.add(a.deviceName),a.archived?r.push(a.deviceName):i.push(a.deviceName));return i}let I=[],T=(S(c.eo,I),S(g,I),S(b,I),S(d,I),Object.create(null));for(let e in v){let r=v[e],n=r.deviceName;n in T||(T[n]=[]),T[n].push(r)}var w=((i=w||{})[i.UNKNOWN=0]="UNKNOWN",i[i.PHONE=1]="PHONE",i[i.TABLET=2]="TABLET",i[i.WATCH=3]="WATCH",i[i.DESKTOP=4]="DESKTOP",i)},69468:(e,r,n)=>{"use strict";n.d(r,{eo:()=>O});var i=n(39863);let a={scaleFactor:3,imageSize:{x:1179,y:2490},offset:{x:15,y:15},deviceName:"Android Large",getI18nDeviceName:()=>(0,i.t)("presets.android_large"),framePresetSize:{x:360,y:800},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/fc33e480089c74d5aaababaa837ded625eddca24"}},o={scaleFactor:3,imageSize:{x:1179,y:2010},offset:{x:15,y:15},deviceName:"Android Small",getI18nDeviceName:()=>(0,i.t)("presets.android_small"),framePresetSize:{x:360,y:640},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/614abfb362138136caef92c8d31bbad2c18cbe22"}},s={scaleFactor:3,imageSize:{x:1312,y:2672},offset:{x:68/3,y:58/3},deviceName:"iPhone 15",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_15"),framePresetSize:{x:393,y:852},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/cce36126055b170570d727f5fc02969cb186c7bf"}},l={scaleFactor:3,imageSize:{x:1294,y:2656},offset:{x:19,y:50/3},deviceName:"iPhone 15 Pro",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_15_pro"),framePresetSize:{x:393,y:852},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/ad509e5839137cd5e722cac693333c6320cfe999"}},d={scaleFactor:3,imageSize:{x:1423,y:2912},offset:{x:68/3,y:58/3},deviceName:"iPhone 15 Plus",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_15_plus"),framePresetSize:{x:430,y:932},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/0f6f4cdd2e7162c42ccc8b628452ac6e74f03b0b"}},c={scaleFactor:3,imageSize:{x:1404,y:2896},offset:{x:58/3,y:50/3},deviceName:"iPhone 15 Pro Max",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_15_pro_max"),framePresetSize:{x:430,y:932},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/dccb8d464d657d1a19a7ad0f58f420b78f2628c9"}},u={scaleFactor:3,imageSize:{x:1314,y:2656},offset:{x:74/3,y:62/3},deviceName:"iPhone 14",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_14"),framePresetSize:{x:390,y:844},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/e146d5cb4e2eae59460cf7d3675b0ff78f90f486"}},p={scaleFactor:3,imageSize:{x:1312,y:2672},offset:{x:68/3,y:58/3},deviceName:"iPhone 14 Pro",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_14_pro"),framePresetSize:{x:393,y:852},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/1dab82e9896e90a4d46d44e78f36287a40fc59ca"}},h={scaleFactor:3,imageSize:{x:1427,y:2904},offset:{x:24,y:21},deviceName:"iPhone 14 Plus",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_14_plus"),framePresetSize:{x:428,y:926},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/6abc9feac69ed9aa67328fb9c82b152f152b0b39"}},m={scaleFactor:3,imageSize:{x:1421,y:2910},offset:{x:68/3,y:58/3},deviceName:"iPhone 14 Pro Max",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_14_pro_max"),framePresetSize:{x:430,y:932},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/5af720c619b0cb94bb9e71988abf38f9597020f3"}},g={scaleFactor:3,imageSize:{x:1438,y:2918},offset:{x:26,y:70/3},deviceName:"iPhone 13 Pro Max",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_13_pro_max"),framePresetSize:{x:428,y:926},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/d7b1995f2dcc3f184b37329f9bbe42f3febf1389"}},f={scaleFactor:3,imageSize:{x:1319,y:2665},offset:{x:74/3,y:67/3},deviceName:"iPhone 13 Pro",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_13_pro"),framePresetSize:{x:390,y:844},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/78d23842eb254dd3b33a81fc0fbe79b545690b88"}},_={scaleFactor:3,imageSize:{x:1319,y:2665},offset:{x:74/3,y:67/3},deviceName:"iPhone 13",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_13"),framePresetSize:{x:390,y:844},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/09fce4d60c912fa843601639cc33ce9746194f24"}},y={scaleFactor:2.881,imageSize:{x:1224,y:2474},offset:{x:73/2.881,y:67/2.881},deviceName:"iPhone 13 mini",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_13_mini"),framePresetSize:{x:375,y:812},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/6ef4be23aaf03b2562fcd12f807d79884bd2958b"}},E={scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_x"),framePresetSize:{x:375,y:812},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/3f754492f920b6f201325f903be8c54780cea301"}},b={scaleFactor:3,imageSize:{x:1413,y:2844},offset:{x:86/3,y:26},deviceName:"iPhone 11 Pro Max",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_11_pro_max"),framePresetSize:{x:414,y:896},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/cc2bc89a695daf30044142ff7c87aacda3a7d3cf"}},v={scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:85/3,y:77/3},deviceName:"iPhone 11 Pro",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_11_pro"),framePresetSize:{x:375,y:812},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/742640be4fbe66777fe30bb0faa010f3b8333de1"}},S={scaleFactor:2,imageSize:{x:979,y:1933},offset:{x:37.5,y:35.5},deviceName:"iPhone 11",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_11"),framePresetSize:{x:414,y:896},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/fa7cd1670f182ae61f337c6b0fe94b206ce7a682"}},I={scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_se"),framePresetSize:{x:320,y:568},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/d423c4b3844f19008bc7da50813abf912dadda5e"}},T={scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_8_plus"),framePresetSize:{x:414,y:736},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/3190f2fdcdbc73cff984b830ea9f26d17d1ceb4a"}},w={scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_8"),framePresetSize:{x:375,y:667},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/e89c7bfdae5797ff525ddc65a107a44e8e3290cb"}},C={scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2"),framePresetSize:{x:411,y:731},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/59aaf282cfc9a887bf6489f274684e249d36d976"}},A={scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2_xl"),framePresetSize:{x:411,y:823},inlinePreviewInfo:{hitTargetSvgUrl:"https://static.figma.com/uploads/1f0816185c8a55c7f281221f9e5ccf5334c112df"}},N={scaleFactor:3,imageSize:{x:1224,y:2474},offset:{x:73/3,y:67/3},deviceName:"iPhone 13 mini (wrong)",getI18nDeviceName:()=>(0,i.t)("presets.i_phone_13_mini"),framePresetSize:{x:360,y:780}},O=[{presetIdentifier:"APPLE_IPHONE_15_PRO_NATURALTITANIUM",url:"https://static.figma.com/uploads/bfaa5f1530928a791092b560d0183a2ee6db6a88",thumbnailUrl:"https://static.figma.com/uploads/ef13c1fd391e42afa9c991754a40a11d786d53e5",styleName:"Natural Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_natural_titanium"),...l},{presetIdentifier:"APPLE_IPHONE_15_PRO_BLUETITANIUM",url:"https://static.figma.com/uploads/5044f6160a1252a2a489965b5b87ca08a19c8905",thumbnailUrl:"https://static.figma.com/uploads/07746bdda584535375e006e6f90dfc4101781569",styleName:"Blue Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue_titanium"),...l},{presetIdentifier:"APPLE_IPHONE_15_PRO_WHITETITANIUM",url:"https://static.figma.com/uploads/1018a3c2d619084ec8b032887c848a3137a71e33",thumbnailUrl:"https://static.figma.com/uploads/35c1e1bfdb797d33d533aaa030bdda133f0e67c0",styleName:"White Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_white_titanium"),...l},{presetIdentifier:"APPLE_IPHONE_15_PRO_BLACKTITANIUM",url:"https://static.figma.com/uploads/885afc0a4610caecfb31250980ab653665695e57",thumbnailUrl:"https://static.figma.com/uploads/c5919abad44894b95f400c8413c5dfa3e4ff7be0",styleName:"Black Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_black_titanium"),...l},{presetIdentifier:"APPLE_IPHONE_15_BLACK",url:"https://static.figma.com/uploads/8e3b4e6033af64afdfac9de21b8d8d3ef3dc2c62",thumbnailUrl:"https://static.figma.com/uploads/4ecc396221ea7cd6b6f72f31fc0bc98ace618a93",styleName:"Black",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_black"),...s},{presetIdentifier:"APPLE_IPHONE_15_BLUE",url:"https://static.figma.com/uploads/beb0b340d4373ce512164adb323c147dd2ef3025",thumbnailUrl:"https://static.figma.com/uploads/dff5fc0b17660e81fa514b0b85f43a2523086c08",styleName:"Blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),...s},{presetIdentifier:"APPLE_IPHONE_15_GREEN",url:"https://static.figma.com/uploads/a1db6e79c321fe279f6924f125b2d118bf2fdca7",thumbnailUrl:"https://static.figma.com/uploads/7607f6060bce571a7993b4e8d9d46bc3f9a540d1",styleName:"Green",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_green"),...s},{presetIdentifier:"APPLE_IPHONE_15_PINK",url:"https://static.figma.com/uploads/a6afd3baf27be360820a9897525941be4b7c853a",thumbnailUrl:"https://static.figma.com/uploads/765f902bf8e22fee3ac6b39a197f4cca88354eeb",styleName:"Pink",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_pink"),...s},{presetIdentifier:"APPLE_IPHONE_15_YELLOW",url:"https://static.figma.com/uploads/0b81a7cd9287676bd29d051964ca33914e726a7e",thumbnailUrl:"https://static.figma.com/uploads/7a5e397a6b242eb5fb7c128eff545f987f837958",styleName:"Yellow",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_yellow"),...s},{presetIdentifier:"APPLE_IPHONE_15_PRO_MAX_NATURALTITANIUM",url:"https://static.figma.com/uploads/e1a1ca477551ef2700ebebe11c1d7b13f2ed5327",thumbnailUrl:"https://static.figma.com/uploads/a3c6b3d548bdc0f392951cd062d292807bf26552",styleName:"Natural Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_natural_titanium"),...c},{presetIdentifier:"APPLE_IPHONE_15_PRO_MAX_BLUETITANIUM",url:"https://static.figma.com/uploads/38376ea9acda66eb8da824e39cb1d4da8f85bec8",thumbnailUrl:"https://static.figma.com/uploads/d302c7233f7c304d7e7367c63860613145438d3c",styleName:"Blue Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue_titanium"),...c},{presetIdentifier:"APPLE_IPHONE_15_PRO_MAX_WHITETITANIUM",url:"https://static.figma.com/uploads/5a0f45d81c466d7316c793cf6ee4a80651102f39",thumbnailUrl:"https://static.figma.com/uploads/fcc2e383634720aaa1f823f22c17c0605b540cc7",styleName:"White Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_white_titanium"),...c},{presetIdentifier:"APPLE_IPHONE_15_PRO_MAX_BLACKTITANIUM",url:"https://static.figma.com/uploads/f6d0ff08ad7747cebd4cf5b9f449e2ef699af9fb",thumbnailUrl:"https://static.figma.com/uploads/e37617c115fa7a83dee378c549c7c8225d4cbbc3",styleName:"Black Titanium",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_black_titanium"),...c},{presetIdentifier:"APPLE_IPHONE_15_PLUS_BLACK",url:"https://static.figma.com/uploads/b2bafa09293a73b53946256bd45b0e614a9903c9",thumbnailUrl:"https://static.figma.com/uploads/34bbb3375a932f8d1bc5faf9615ece2840dd4122",styleName:"Black",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_black"),...d},{presetIdentifier:"APPLE_IPHONE_15_PLUS_BLUE",url:"https://static.figma.com/uploads/659226b4397ef8e67ba4f1b3610a53b192943a77",thumbnailUrl:"https://static.figma.com/uploads/d5f13cf6360b1970e5a787dfa02836642951e583",styleName:"Blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),...d},{presetIdentifier:"APPLE_IPHONE_15_PLUS_GREEN",url:"https://static.figma.com/uploads/311f0c687f063efdbabcf52dd11e0bb93975275c",thumbnailUrl:"https://static.figma.com/uploads/72c08c92cc6bfaa0634b9cbd795ae048912eba89",styleName:"Green",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_green"),...d},{presetIdentifier:"APPLE_IPHONE_15_PLUS_PINK",url:"https://static.figma.com/uploads/d7a9c6166c1c70403006959becf15d45d04837fa",thumbnailUrl:"https://static.figma.com/uploads/144a10063b2c4b2fb35af033aeffb4dc96318a18",styleName:"Pink",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_pink"),...d},{presetIdentifier:"APPLE_IPHONE_15_PLUS_YELLOW",url:"https://static.figma.com/uploads/49834976d7473a60a1d3ae278ad5ca3bf9e0d838",thumbnailUrl:"https://static.figma.com/uploads/20ee88a746dad1a3a428a33738be0c8213cbbdd1",styleName:"Yellow",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_yellow"),...d},{presetIdentifier:"APPLE_IPHONE_14_PLUS_MIDNIGHT",url:"https://static.figma.com/uploads/2da5aae5b846fea21e12815a7dd0eb3a6378a4e0",thumbnailUrl:"https://static.figma.com/uploads/2e0266c2ad96663b5a62e75fe5626c961a51bcdb",styleName:"Midnight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight"),...h},{presetIdentifier:"APPLE_IPHONE_14_PLUS_RED",url:"https://static.figma.com/uploads/54320726a245f43b0a6031cfce9b1cae6f937eb0",thumbnailUrl:"https://static.figma.com/uploads/06bfe4f22bd9a55062849597e5f7f2a97c1b6884",styleName:"red",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_red"),...h},{presetIdentifier:"APPLE_IPHONE_14_PLUS_BLUE",url:"https://static.figma.com/uploads/1c07f3829218eb0b200eff2d10febe638a72f057",thumbnailUrl:"https://static.figma.com/uploads/55a4d4e3627f66afea35a13718185e7bd971dcad",styleName:"blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),...h},{presetIdentifier:"APPLE_IPHONE_14_PLUS_STARLIGHT",url:"https://static.figma.com/uploads/5d60686720726f2273aca7fcf15762cb752b6958",thumbnailUrl:"https://static.figma.com/uploads/ea99670f29f6b123fa6a62bf9aa3d6c14c742c51",styleName:"Starlight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_starlight"),...h},{presetIdentifier:"APPLE_IPHONE_14_PLUS_PURPLE",url:"https://static.figma.com/uploads/e7ca21f9c9a3bc0f4bfe3aeeaa47669ddc75f5a2",thumbnailUrl:"https://static.figma.com/uploads/a4544f0ced9fb333f132d47b6cf28d03dbc1f8b6",styleName:"purple",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_purple"),...h},{presetIdentifier:"APPLE_IPHONE_14_PRO_MAX_SPACEBLACK",url:"https://static.figma.com/uploads/51823c1f50f60b5b1f9939e5918146cfcdb17308",thumbnailUrl:"https://static.figma.com/uploads/7c6f4b197406db23b83d72a8bd8f1dca9ef4a106",styleName:"Space Black",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_black"),...m},{presetIdentifier:"APPLE_IPHONE_14_PRO_MAX_DEEPPURPLE",url:"https://static.figma.com/uploads/143f111aab75a72fd43fc8775c95dd8e0c09cbfc",thumbnailUrl:"https://static.figma.com/uploads/cef0aad5e6017a68b56af04cca6546890b7c6ff0",styleName:"Deep Purple",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_deep_purple"),...m},{presetIdentifier:"APPLE_IPHONE_14_PRO_MAX_SILVER",url:"https://static.figma.com/uploads/9f82e0f6182bf1d755d4f35804124b4cb7529508",thumbnailUrl:"https://static.figma.com/uploads/3e5d7f0b77f790c31cda23f2ab6f79b9bf0b59e5",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...m},{presetIdentifier:"APPLE_IPHONE_14_PRO_MAX_GOLD",url:"https://static.figma.com/uploads/963cab9771e9fd7da0e2f8f256c65d11ba8064e6",thumbnailUrl:"https://static.figma.com/uploads/de992f8a9c828fc14bde5c8ed207e297b6c46a59",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...m},{presetIdentifier:"APPLE_IPHONE_14_PRO_SPACEBLACK",url:"https://static.figma.com/uploads/0c7a366d2a9776d40bd461fd243d6312c5c12016",thumbnailUrl:"https://static.figma.com/uploads/72cf973fe10bb04df3a872f5c28663744514ac26",styleName:"Space Black",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_black"),...p},{presetIdentifier:"APPLE_IPHONE_14_PRO_DEEPPURPLE",url:"https://static.figma.com/uploads/936a1fcc1da6f49227129913bb7badbc9a69c590",thumbnailUrl:"https://static.figma.com/uploads/044e95518cebae60cd22c1a515d65339ba0f216b",styleName:"Deep Purple",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_deep_purple"),...p},{presetIdentifier:"APPLE_IPHONE_14_PRO_SILVER",url:"https://static.figma.com/uploads/070ac97463f7f7140029d06a9e6560493387a0ee",thumbnailUrl:"https://static.figma.com/uploads/aabf9ce83f32e2adf80dd70aa4f32250e8d2f3e6",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...p},{presetIdentifier:"APPLE_IPHONE_14_PRO_GOLD",url:"https://static.figma.com/uploads/f88912dd563251c9d8f0c7638cbe9d05214fac1f",thumbnailUrl:"https://static.figma.com/uploads/6c394145087a6e8f0632fa7aab8d95ccffbdb716",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...p},{presetIdentifier:"APPLE_IPHONE_14_MIDNIGHT",url:"https://static.figma.com/uploads/087b2a5005fcc4f91f595062bc340c019aec1931",thumbnailUrl:"https://static.figma.com/uploads/43e134e101aabd8852dc953e85192363e635d960",styleName:"Midnight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight"),...u},{presetIdentifier:"APPLE_IPHONE_14_RED",url:"https://static.figma.com/uploads/097bfbfde619d6d39906a5bdc1e3a8c63473509c",thumbnailUrl:"https://static.figma.com/uploads/7ede8c9e183824ed835099cc44ad66058568addf",styleName:"red",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_red"),...u},{presetIdentifier:"APPLE_IPHONE_14_BLUE",url:"https://static.figma.com/uploads/c78f246bca66bfb25cff846d9b1281f8f4186096",thumbnailUrl:"https://static.figma.com/uploads/36d2e02cbc99cdb983104a0a06412b409f1a9db7",styleName:"blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),...u},{presetIdentifier:"APPLE_IPHONE_14_STARLIGHT",url:"https://static.figma.com/uploads/17c2afefb0a48f31fa55bab18fd22a46389610a5",thumbnailUrl:"https://static.figma.com/uploads/892af0296a00003f2a0c4e27ad1717186b77761a",styleName:"Starlight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_starlight"),...u},{presetIdentifier:"APPLE_IPHONE_14_PURPLE",url:"https://static.figma.com/uploads/f589b10db262227b4bb08c83fdea416f315a3738",thumbnailUrl:"https://static.figma.com/uploads/93fb03a392fc6b3191a1db5e5a442d5bce7bcc97",styleName:"purple",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_purple"),...u},{presetIdentifier:"APPLE_IPHONE_13_PRO_MAX_GRAPHITE",url:"https://static.figma.com/uploads/26872b789d922de0e14a9880b18e49a418ef9b8e",thumbnailUrl:"https://static.figma.com/uploads/a0c077cd9e4d55ba8aa92d767d687d064e2adf56",styleName:"Graphite",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_graphite"),...g,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_MAX_SIERRABLUE",url:"https://static.figma.com/uploads/4e988f9507bbbcd8f00d62f3d97b5d492f5c928f",thumbnailUrl:"https://static.figma.com/uploads/de47a8ddad641312b29bba000eb5cc93fc76713b",styleName:"Sierra Blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_sierra_blue"),...g,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_MAX_SILVER",url:"https://static.figma.com/uploads/52932550c5e3dd54238a0c5f690f619ac7266416",thumbnailUrl:"https://static.figma.com/uploads/05f6cc61abb93c7d0177ae7224d5efab0791d0a9",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...g,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_MAX_GOLD",url:"https://static.figma.com/uploads/13e0ad46c6635b4707f097ad6327f49e65b5de38",thumbnailUrl:"https://static.figma.com/uploads/026b34c4ca2042654eef164097fbf3355aa75046",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...g,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_GRAPHITE",url:"https://static.figma.com/uploads/bf52e95949d5667e32cfbdbe93bae573130b5d45",thumbnailUrl:"https://static.figma.com/uploads/6dbf74c53b83c7215cdb54ed03e1764d8879116f",styleName:"Graphite",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_graphite"),...f,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_SIERRABLUE",url:"https://static.figma.com/uploads/0a4335568089d593ff5c8030ff83e7db4e46329c",thumbnailUrl:"https://static.figma.com/uploads/49993d2feb67bd1d4af2a16d36c4845fabe1ed1a",styleName:"Sierra Blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_sierra_blue"),...f,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_SILVER",url:"https://static.figma.com/uploads/5a1f777bdef72ab88990e7f0940ae08970ef4ecb",thumbnailUrl:"https://static.figma.com/uploads/f43ff7e0e249475a22bdb87daaf3a21416b0977d",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...f,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PRO_GOLD",url:"https://static.figma.com/uploads/74197d15007862df60f8068d9a3cf15941e2b63f",thumbnailUrl:"https://static.figma.com/uploads/761cd18f7d65950fa2fadb0be8673205993da829",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...f,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_MIDNIGHT",url:"https://static.figma.com/uploads/1a1bd934edc2f8760e10bc524659aa4d5ed15623",thumbnailUrl:"https://static.figma.com/uploads/b688ab6bdf6bef50aef02ce72bf6952a5146be8e",styleName:"Midnight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight"),..._,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_PINK",url:"https://static.figma.com/uploads/5ed036689b478cb269055bbf4085c44e16d1c1ec",thumbnailUrl:"https://static.figma.com/uploads/624932aeb457039c17a3ea44233c2fcebb5a4712",styleName:"pink",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_pink"),..._,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_BLUE",url:"https://static.figma.com/uploads/08e54f2250f141f253909dcf78f29a94edfeb04f",thumbnailUrl:"https://static.figma.com/uploads/f202bd15ff834d5b85ef9184a03c2722cac2abae",styleName:"blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),..._,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_STARLIGHT",url:"https://static.figma.com/uploads/837024569c0ea543fbdf6a7fd0a12dc4a17fab08",thumbnailUrl:"https://static.figma.com/uploads/a47c92bd590793f5afbc5cdc9bd34aff73a2d36d",styleName:"Starlight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_starlight"),..._,archived:!0},{presetIdentifier:"APPLE_IPHONE_13_RED",url:"https://static.figma.com/uploads/126fa2145acf6dddb5e879e6507c62c943137bfc",thumbnailUrl:"https://static.figma.com/uploads/b7e3269f73ffe5a9e646e07307d10ff7793c6b4b",styleName:"Red",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_red"),..._,archived:!0},{presetIdentifier:"APPLE_IPHONE_X_SILVER",url:"https://static.figma.com/uploads/c3fa41c0ef744878d816aa4eea1a203aa0e9147f",thumbnailUrl:"https://static.figma.com/uploads/ff8bfebfd53eedec1ad69bf9511ea97af479d1e5",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),archived:!0,...E},{presetIdentifier:"APPLE_IPHONE_X_SPACE_GREY",url:"https://static.figma.com/uploads/f1f76a5a065846ebe2fa3201ff0372283a34664d",thumbnailUrl:"https://static.figma.com/uploads/9026efd5f31ecadf0b9c21a603182a9ac2bd73f2",styleName:"Space Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_grey"),archived:!0,...E},{presetIdentifier:"APPLE_IPHONE_13_MINI_MIDNIGHT_ADJUSTED_9_23",url:"https://static.figma.com/uploads/328a19fe4440bb0b5fcf66c739ccd127f03bb553",thumbnailUrl:"https://static.figma.com/uploads/b688ab6bdf6bef50aef02ce72bf6952a5146be8e",styleName:"Midnight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight"),...y},{presetIdentifier:"APPLE_IPHONE_13_MINI_PINK_ADJUSTED_9_23",url:"https://static.figma.com/uploads/a451c77dead565be202afa2e7ca1174b7513858b",thumbnailUrl:"https://static.figma.com/uploads/624932aeb457039c17a3ea44233c2fcebb5a4712",styleName:"pink",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_pink"),...y},{presetIdentifier:"APPLE_IPHONE_13_MINI_BLUE_ADJUSTED_9_23",url:"https://static.figma.com/uploads/d2bc7ea3c49d650254a7c3d81930b1dcc50c6c58",thumbnailUrl:"https://static.figma.com/uploads/f202bd15ff834d5b85ef9184a03c2722cac2abae",styleName:"blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),...y},{presetIdentifier:"APPLE_IPHONE_13_MINI_STARLIGHT_ADJUSTED_9_23",url:"https://static.figma.com/uploads/0294d6bf8f56fbf2baa5fef74b7996bd90692934",thumbnailUrl:"https://static.figma.com/uploads/a47c92bd590793f5afbc5cdc9bd34aff73a2d36d",styleName:"Starlight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_starlight"),...y},{presetIdentifier:"APPLE_IPHONE_13_MINI_RED_ADJUSTED_9_23",url:"https://static.figma.com/uploads/c7487cd141b0a2567a518a71eed55f5b1c039d58",thumbnailUrl:"https://static.figma.com/uploads/b7e3269f73ffe5a9e646e07307d10ff7793c6b4b",styleName:"Red",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_red"),...y},{presetIdentifier:"APPLE_IPHONE_13_MINI_MIDNIGHT",url:"https://static.figma.com/uploads/328a19fe4440bb0b5fcf66c739ccd127f03bb553",thumbnailUrl:"https://static.figma.com/uploads/b688ab6bdf6bef50aef02ce72bf6952a5146be8e",styleName:"Midnight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight"),...N,hideUnlessActive:!0},{presetIdentifier:"APPLE_IPHONE_13_MINI_PINK",url:"https://static.figma.com/uploads/a451c77dead565be202afa2e7ca1174b7513858b",thumbnailUrl:"https://static.figma.com/uploads/624932aeb457039c17a3ea44233c2fcebb5a4712",styleName:"pink",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_pink"),...N,hideUnlessActive:!0},{presetIdentifier:"APPLE_IPHONE_13_MINI_BLUE",url:"https://static.figma.com/uploads/d2bc7ea3c49d650254a7c3d81930b1dcc50c6c58",thumbnailUrl:"https://static.figma.com/uploads/f202bd15ff834d5b85ef9184a03c2722cac2abae",styleName:"blue",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_blue"),...N,hideUnlessActive:!0},{presetIdentifier:"APPLE_IPHONE_13_MINI_STARLIGHT",url:"https://static.figma.com/uploads/0294d6bf8f56fbf2baa5fef74b7996bd90692934",thumbnailUrl:"https://static.figma.com/uploads/a47c92bd590793f5afbc5cdc9bd34aff73a2d36d",styleName:"Starlight",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_starlight"),...N,hideUnlessActive:!0},{presetIdentifier:"APPLE_IPHONE_13_MINI_RED",url:"https://static.figma.com/uploads/c7487cd141b0a2567a518a71eed55f5b1c039d58",thumbnailUrl:"https://static.figma.com/uploads/b7e3269f73ffe5a9e646e07307d10ff7793c6b4b",styleName:"Red",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_red"),...N,hideUnlessActive:!0},{presetIdentifier:"APPLE_IPHONE_11PROMAX_GOLD",url:"https://static.figma.com/uploads/24309fe757b8e9a95552773031bef2ee76b7a2d6",thumbnailUrl:"https://static.figma.com/uploads/7fabafe31c73b4845a810f4ba87087a50ff4ae06",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),archived:!0,...b},{presetIdentifier:"APPLE_IPHONE_11PROMAX_MIDNIGHTGREEN",url:"https://static.figma.com/uploads/ed233896f50d899c9da3ef242a7bd59b2055960e",thumbnailUrl:"https://static.figma.com/uploads/2b126564c30d5c97441f83c05631e83dca37c9e5",styleName:"Midnight Green",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight_green"),archived:!0,...b},{presetIdentifier:"APPLE_IPHONE_11PROMAX_SILVER",url:"https://static.figma.com/uploads/e741fc6878521527afe1b43b6acfb4f32ca8ab74",thumbnailUrl:"https://static.figma.com/uploads/65133f57179145290e6cb2bf1701cc8d605ce607",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),archived:!0,...b},{presetIdentifier:"APPLE_IPHONE_11PROMAX_SPACEGREY",url:"https://static.figma.com/uploads/4a6ca449106d3860fda8d455d52c9a3f07187629",thumbnailUrl:"https://static.figma.com/uploads/fbd82023dc945b4472488697c718db106a6f1bb7",styleName:"Space Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_grey"),archived:!0,...b},{presetIdentifier:"APPLE_IPHONE_11PRO_GOLD",url:"https://static.figma.com/uploads/473492d3b4beb5572a50968cd7655554ece2bf41",thumbnailUrl:"https://static.figma.com/uploads/a3496627c4bd434e661e830fc36c216fddbeaaeb",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),archived:!0,...v},{presetIdentifier:"APPLE_IPHONE_11PRO_MIDNIGHTGREEN",url:"https://static.figma.com/uploads/360066b6ae030bf33bcb5e000254e0adc2b5a64f",thumbnailUrl:"https://static.figma.com/uploads/cf7834090b2e1e778c1323bc304bff894d3531f8",styleName:"Midnight Green",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_midnight_green"),archived:!0,...v},{presetIdentifier:"APPLE_IPHONE_11PRO_SILVER",url:"https://static.figma.com/uploads/52d57ab30b4407a494d2c817e2e41de15973e590",thumbnailUrl:"https://static.figma.com/uploads/dcdfbbcb73a82239ccd12b9fe698d59e42ca8e5e",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),archived:!0,...v},{presetIdentifier:"APPLE_IPHONE_11PRO_SPACEGREY",url:"https://static.figma.com/uploads/d4df2b9afbc2ff4a44217ac737ff046c1852599c",thumbnailUrl:"https://static.figma.com/uploads/2d9f4f71032e0ab92ba664992dcfa78232df5514",styleName:"Space Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_grey"),archived:!0,...v},{presetIdentifier:"APPLE_IPHONE_11_BLACK",url:"https://static.figma.com/uploads/9e306176a1792c1f907d3510984b3395ad5e4bb4",thumbnailUrl:"https://static.figma.com/uploads/f7968a18c062bcdeb7a885f955925a16ebef520e",styleName:"Black",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_black"),archived:!0,...S},{presetIdentifier:"APPLE_IPHONE_11_WHITE",url:"https://static.figma.com/uploads/f904c3e35e25ff1822eb15fdf3f3bff551da20d5",thumbnailUrl:"https://static.figma.com/uploads/8877045c779f6e0d0b81c3501b67661c6b6793c7",styleName:"White",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_white"),archived:!0,...S},{presetIdentifier:"APPLE_IPHONE_SE_GOLD",url:"https://static.figma.com/uploads/f090c716b2ed30ba68d1478f160f2f9847e766f3",thumbnailUrl:"https://static.figma.com/uploads/72d9e55b8b2d46d605b480f4e51e2942b502ca92",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...I},{presetIdentifier:"APPLE_IPHONE_SE_ROSE_GOLD",url:" https://static.figma.com/uploads/2658d90c9afd4162d33777c45c3f9e8dc7ece855",thumbnailUrl:"https://static.figma.com/uploads/b4c5b6e6ed63d2eae9016e033055b3ea1e8069e2",styleName:"Rose Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_rose_gold"),...I},{presetIdentifier:"APPLE_IPHONE_SE_SILVER",url:"https://static.figma.com/uploads/27e1069aae130d1e34b6f4e1835729864f05f7de",thumbnailUrl:"https://static.figma.com/uploads/46c5f84c1da73f0c7ce9409114d3c430af808cd3",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...I},{presetIdentifier:"APPLE_IPHONE_SE_SPACE_GREY",url:"https://static.figma.com/uploads/8a8146fcd850bd09919336def177fe6496ce41df",thumbnailUrl:"https://static.figma.com/uploads/8ddfc04b706e3759ec49d2501c01b96e977bd792",styleName:"Space Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_grey"),...I},{presetIdentifier:"APPLE_IPHONE_8_PLUS_GOLD",url:"https://static.figma.com/uploads/be4f91d500f8c0fc5fb59987e09b080238de2e07",thumbnailUrl:"https://static.figma.com/uploads/b2d642b47eca1383c439f844a76484a07a5a3162",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...T},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SILVER",url:"https://static.figma.com/uploads/8b04ac590c9c01ee09c63ee421e07286033fccbe",thumbnailUrl:"https://static.figma.com/uploads/6efeaba691f994da1874e39b4766aafaa198256b",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...T},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SPACE_GREY",url:"https://static.figma.com/uploads/c88332b425e7d47906f04e3dad5e421a54fad7b7",thumbnailUrl:"https://static.figma.com/uploads/31b9500e4e1cbbcb25c989c4347ad643b292fa22",styleName:"Space Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_grey"),...T},{presetIdentifier:"APPLE_IPHONE_8_GOLD",url:"https://static.figma.com/uploads/03937fa8ef475102d0f110e15534126f285662fc",thumbnailUrl:"https://static.figma.com/uploads/4bff10d3aaecf8f9b3a06cb8589bc8fb03c215a0",styleName:"Gold",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_gold"),...w},{presetIdentifier:"APPLE_IPHONE_8_SILVER",url:"https://static.figma.com/uploads/8f8fc00745d0e6fa186b477771aa66417e7e4718",thumbnailUrl:"https://static.figma.com/uploads/763a9210a544ea9888602c3ea78136abdfee3e38",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_silver"),...w},{presetIdentifier:"APPLE_IPHONE_8_SPACE_GREY",url:"https://static.figma.com/uploads/a63fadb7450e82ac1797fd14e6cd918d3d25c0c2",thumbnailUrl:"https://static.figma.com/uploads/f3a950db328dd1302690b6538d8e486a5218c6d8",styleName:"Space Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.iphone_space_grey"),...w},{presetIdentifier:"GOOGLE_ANDROID_S_SILVER",url:"https://static.figma.com/uploads/a4ef3d0959c407ac730f2680e645995f95ffd117",thumbnailUrl:"https://static.figma.com/uploads/f5a1f34933432e3ef5d91668205fe5985d3c77d4",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.android_silver"),...o},{presetIdentifier:"GOOGLE_ANDROID_S_GREY",url:"https://static.figma.com/uploads/88e4290443158a1dfae63bcbcfce5ebdc2335c29",thumbnailUrl:"https://static.figma.com/uploads/952aab1a0b22ceac3f09cfa7b3169024e64938bf",styleName:"Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.android_grey"),...o},{presetIdentifier:"GOOGLE_ANDROID_L_SILVER",url:"https://static.figma.com/uploads/0d00a1af86d66a6a34277c8b6645a0060f0a1890",thumbnailUrl:"https://static.figma.com/uploads/ae952dd28b55d6d9a5c3640205d2ac144505fef3",styleName:"Silver",getI18nStyleName:()=>(0,i.t)("presets.styles.android_silver"),...a},{presetIdentifier:"GOOGLE_ANDROID_L_GREY",url:"https://static.figma.com/uploads/41c563e3ff6804ac83e50a391860c1f22f37c775",thumbnailUrl:"https://static.figma.com/uploads/1801e14760c927c9407f7bbd1925341a829d0b4c",styleName:"Grey",getI18nStyleName:()=>(0,i.t)("presets.styles.android_grey"),...a},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",styleName:"Clearly White",getI18nStyleName:()=>(0,i.t)("presets.styles.android_clearly_white"),archived:!0,...C},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",styleName:"Just Black",getI18nStyleName:()=>(0,i.t)("presets.styles.android_just_black"),archived:!0,...C},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",styleName:"Kinda Blue",getI18nStyleName:()=>(0,i.t)("presets.styles.android_kinda_blue"),archived:!0,...C},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_FIXED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",styleName:"Black and White",getI18nStyleName:()=>(0,i.t)("presets.styles.android_black_and_white"),archived:!0,...A},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_FIXED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",styleName:"Just Black",getI18nStyleName:()=>(0,i.t)("presets.styles.android_just_black"),archived:!0,...A},{presetIdentifier:"GOOGLE_NEXUS_5X",url:"https://static.figma.com/uploads/c116dd83223811e5464f9b2cfb3a06cffe6d7811",thumbnailUrl:"https://static.figma.com/uploads/f0a3557ea40091cc6dacf47295a2376a57f6340c",scaleFactor:3,imageSize:{x:1195,y:2406},offset:{x:53/3,y:77},deviceName:"Google Nexus 5X",getI18nDeviceName:()=>(0,i.t)("presets.google_nexus_5x"),styleName:"",getI18nStyleName:()=>"",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2_xl"),styleName:"Black and White",getI18nStyleName:()=>(0,i.t)("presets.styles.android_black_and_white"),framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2_xl"),styleName:"Just Black",getI18nStyleName:()=>(0,i.t)("presets.styles.android_just_black"),framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE_CORRECTED",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2"),styleName:"Clearly White",getI18nStyleName:()=>(0,i.t)("presets.styles.android_clearly_white"),framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2"),styleName:"Just Black",getI18nStyleName:()=>(0,i.t)("presets.styles.android_just_black"),framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE_CORRECTED",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2"),styleName:"Kinda Blue",getI18nStyleName:()=>(0,i.t)("presets.styles.android_kinda_blue"),framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_CORRECTED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2_xl"),styleName:"Black and White",getI18nStyleName:()=>(0,i.t)("presets.styles.android_black_and_white"),framePresetSize:{x:360,y:720},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",getI18nDeviceName:()=>(0,i.t)("presets.google_pixel_2_xl"),styleName:"Just Black",getI18nStyleName:()=>(0,i.t)("presets.styles.android_just_black"),framePresetSize:{x:360,y:720},hideUnlessActive:!0}]},1505:(e,r,n)=>{"use strict";let i;n.d(r,{c:()=>a});var a=((i=a||{}).UPGRADE="upgrade",i.UPGRADE_FOR_FREE="upgrade_for_free",i.UPGRADE_NOW="upgrade_now",i.UPGRADE_TEAM="upgrade_team",i.UPGRADE_EXISTING_TEAM="upgrade_existing_team",i.UPGRADE_TEAM_NAME="upgrade_team_name",i.UPGRADE_TO_A_PAID_PLAN="upgrade_to_a_paid_plan",i.UPGRADE_TO_PROFESSIONAL="upgrade_to_professional",i.UPGRADE_TO_ORGANIZATION="upgrade_to_organization",i.UPGRADE_TO_EDUCATION="upgrade_to_education",i.CONTACT_SALES="contact_sales",i.UPGRADE_FROM_FILENAME_PRO_BADGE="upgrade_from_filename_pro_badge",i.UPGRADE_YOUR_TEAM="upgrade_your_team",i.CHOOSE_PROFESSIONAL="choose_professional",i.CHOOSE_ORGANIZATION="choose_organization",i.UPDATE_PAYMENT="update_payment",i.VERIFY_PAYMENT="verify_payment",i.CONFIRM_VERIFY_PAYMENT="confirm_verify_payment",i.UPDATE_LANGUAGE_SETTINGS="update_language_settings",i.PAYMENT_INFORMATION="payment_information",i.REVIEW="review",i.COMPLETE_PURCHASE="complete_purchase",i.COMPLETE_UPGRADE="complete_upgrade",i.START_PRO_PLAN_FOR_FREE="start_pro_plan_for_free",i.SET_EDITORS="set_editors",i.SELECT_TEAM="select_team",i.SUBMIT_FREE_FORM="submit_free_form",i.CLOSE_BUTTON="close_button",i.CONTINUE_MAGIC_LINK_AUTH="continue_magic_link_auth",i.INVITE_FROM_GOOGLE_CONTACTS="invite_from_google_contacts",i.OPEN_USER_SURVEY="open_user_survey",i.OPEN_GMAIL="open_gmail",i.OPEN_OUTLOOK="open_outlook",i.FILE_BROWSER_DESKTOP_APP_DOWNLOAD="file_browser_desktop_app_download",i.FILE_BROWSER_DESKTOP_APP_DISMISS="file_browser_desktop_app_dismiss",i.SKIP="skip",i.SKIP_THIS_STEP="skip_this_step",i.DO_THIS_LATER="do_this_later",i.SEND_INVITES="send_invites",i.COPY_LINK_TO_INVITE="copy_link_to_invite",i.DISCOVER_MORE_WIDGET="discover_more_widget",i.DESKTOP_APP_DOWNLOAD="desktop_app_download",i.PUBLISH_COMPONENTS_AFTER_TEAM_UPGRADE="publish_components_after_team_upgrade",i.CONTINUE_TO_FILE="continue_to_file",i.CANCEL="cancel",i.USE_IN_NEW_FILE="use_in_new_file",i.PUBLISH_CHANGES="publish_changes",i.PUBLISH="publish",i.UNPUBLISH="unpublish",i.TEMPLATE_MOVE_FROM_DRAFTS_STARTED="template_move_from_drafts_started",i.COOKIE_BANNER_IMPLICIT_CONSENT_OPT_OUT="cookie_banner_implicit_consent_opt_out",i.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS="cookie_banner_implicit_consent_dismiss",i.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_OUT="cookie_banner_explicit_consent_opt_out",i.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_IN="cookie_banner_explicit_consent_opt_in",i.COOKIE_BANNER_EXPLICIT_CONSENT_DISMISS="cookie_banner_explicit_consent_dismiss",i.ENTERPRISE_PLAN_BANNER_CONTACT_SALES="enterprise_plan_banner_contact_sales",i.LOGGED_OUT_NAV_LOGIN="logged_out_nav_login",i.LOGGED_OUT_NAV_SIGN_UP="logged_out_nav_sign_up",i.COMMENT_COMPOSE="comment_compose",i.FILE_IMPORT_X_BUTTON="file_import_x_button",i.MOBILE_APP_DOWNLOAD_PROTOTYPE_PROMPT_CLICKED="mobile_app_download_prototype_prompt_clicked",i.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED="mobile_app_download_comment_prompt_clicked",i.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED="mobile_web_mobile_app_download_prompt_clicked",i.MOBILE_WEB_LOG_IN_DESKTOP="mobile_web_log_in_desktop",i.OPEN_IN_COMMUNITY="open_in_community",i.BUY_THE_RESOURCE="buy_the_resource",i.EXPAND_FROM_THUMBNAIL="expand_from_thumbnail",i.PLAY_TUTORIAL="play_tutorial",i.STOP_TUTORIAL="stop_tutorial",i.REPLAY_TUTORIAL="replay_tutorial",i.GO_TO_NEXT_TUTORIAL="go_to_next_tutorial",i.GO_TO_PREVIOUS_TUTORIAL="go_to_previous_tutorial",i.CONTINUE="continue",i.CLOSE_VIDEO_ONBOARDING="close_video_onboarding",i.REPLAY_VIDEO_ONBOARDING="replay_video_onboarding",i.CONTINUE_VIDEO_ONBOARDING="continue_video_onboarding",i.PLAY_VIDEO_ONBOARDING="play_video_onboarding",i.STARTER_KIT_INSERTED="starter_kit_inserted",i.TEMPLATES_TOOLBAR_ITEM_CLICKED="templates_toolbar_item_clicked",i.FIRST_UP_NAVIGATION="first_up_navigation",i.START_A_NEW_FILE="start_a_new_file",i.PRACTICE_MORE_HERE="practice_more_here",i.SAVE_PROFILE_PICTURE="save_profile_picture",i.SHOW_ME="show_me",i.SHOW_ME_AGAIN="show_me_again",i.SHOW_ME_HOW="show_me_how",i.CLICK_HOLD_AND_DRAG="click_hold_and_drag",i.CHECK_OUT_YOUR_PROTOTYPE="check_out_your_prototype",i.REMOVE_CONNECTIONS="remove_connections",i.CREATING_A_CONNECTION="creating_a_connection",i.REMOVING_A_CONNECTION="removing_a_connection",i.RUNNING_YOUR_PROTOTYPE="running_your_prototype",i.NEXT="next",i.BACK="back",i.DONE="done",i.GOT_IT="got_it",i.LETS_GO="lets_go",i.AGREE="agree",i.CLOSE="close",i.FIGJAM_AI_TOOLBAR_ITEM="figjam_ai_toolbar_item",i.LEARN_MORE="learn_more",i.SEE_PLANS="see_plans",i.PROFESSIONAL_PLAN="professional_plan",i.SHOW_ME_AROUND="show_me_around",i.NO_THANKS="no_thanks",i.TRY_IT_OUT="try_it_out",i.GET_STARTED="get_started",i.CANCEL_LIBRARY_OVERRIDE="cancel_library_override",i.CONFIRM_LIBRARY_OVERRIDE="confirm_library_overide",i.ONBOARDING_CREATE_DESIGN_FILE="onboarding_create_design_file",i.ONBOARDING_CREATE_FIGJAM_FILE="onboarding_create_figjam_file",i.JOIN="join",i.DEV_MODE_CODE_CONNECT_FLYOUT="dev_mode_code_connect_flyout",i.DEV_MODE_DIRECT_LINK_HINT="dev_mode_direct_link_hint",i.DEV_MODE_BETA_ENDING_SWITCH_MODE="dev_mode_beta_ending_switch_mode",i.DEV_MODE_APPROVED_ACCESS_HINT_SWITCH_MODE="dev_mode_approved_access_hint_switch_mode",i.OPEN_DEV_MODE="open_dev_mode",i.SECTION_PRESET_PICKER_CLICKED="section_preset_picker_clicked",i.SIGN_UP="sign_up",i.LOGIN="login",i.CONTINUE_WITH_GOOGLE="continue_with_google",i.SECTION_PRESET_PICKER_SHOW_ME="section_preset_picker_show_me",i.FINISH="finish",i.ASK_TO_EDIT="ask_to_edit",i.EDIT_FILE="edit_file",i.VIEW_PLANS="view_plans",i.COMPARE_PLANS="compare_plans",i.KEEP_OLD_SHORTCUTS="keep_old_shortcuts",i.SPEAKER_NOTES_FONT_SIZE_INCREMENT="speaker_notes_font_size_increment",i.SPEAKER_NOTES_FONT_SIZE_DECREMENT="speaker_notes_font_size_decrement",i.NOT_NOW="not_now",i.FOLDER_UPSELL_CARD="folder_upsell_card",i.MULTI_EDIT_PLAYGROUND="multi_edit_launch_playground_cta",i.START_FROM_A_BLANK_FILE="start_from_a_blank_file",i.LEARN_THE_BASICS="learn_the_basics",i.IMPORT_A_WEBSITE="import_a_website",i.UPDATE_MY_RESOURCES="update_my_resources",i.CONFIRM_VIEWER_UPGRADE="confirm_viewer_upgrade",i.PRESETS_TRY_IT="presets_try_it",i.NUDGE_ACCOUNT_TYPE_REQUEST="nudge_account_type_request",i)},63659:(e,r,n)=>{"use strict";let i;n.d(r,{Sc:()=>N,WC:()=>I,eD:()=>T,ib:()=>v});var a=n(11855),o=n(84934),s=n(35283);n(33537);var l=n(38329),d=n(66712),c=n(63706),u=n(86640),p=n(74965),h=n(82488),m=n(88476),g=n(79296),f=n(43279),_=n(33792),y=n(20709);let E=(0,g.D)((e,r)=>e.type===r.type&&(e.type===f.L4.USER||r.type===f.L4.USER||e.id===r.id)),b=(e,r,n,i,a)=>{let o=l.D;(0,d.b5)()&&(o?Promise.resolve().then(()=>{o.dispatch(h.n({event:{experimentId:e,treatmentId:r,seed:n,isWinner:i,fromOverride:!1}}))}):console.error(`The experiment ${e} is being called before the store is initialized. This is likely the result of calling the experiment() function in a constant definition, and will result in overexposure.`))},v=new class{constructor(e){this.trackedSeedsByExperiment={},this.trackExperimentSeedForSession=(e,r,n)=>{let i=this.trackedSeedsByExperiment[e]||[];i.findIndex(e=>(function(e,r){return"object"==typeof e&&"object"==typeof r?E(e,r):"object"!=typeof e&&"object"!=typeof r&&e===r})(e,n))>-1||(this.reportingHandler(e,r,n),i.push(n),this.trackedSeedsByExperiment[e]=i)},this.resetTrackedSeedsForSession=()=>{this.trackedSeedsByExperiment={}},this.reportingHandler=e}}((e,r,n)=>{let i=(0,_.J_)(),a=i&&i[e],s=d.mV(e),l=!!(null==s?void 0:s.winner),c="set_experiment_treatment";if(a||l)(0,_.jV)(e,r),b(e,r,n,!1,!0);else{if("object"==typeof n){let i=d.tl().user_data;(0,o.sx)(c,{experimentId:e,treatmentId:r,seedResourceType:n.type,seedResourceId:n.type===f.L4.USER?null==i?void 0:i.id:n.id})}else(0,o.sx)(c,{experimentId:e,treatmentId:r,seed:n.toString()});b(e,r,n,l,!1)}});class S{constructor(e,r,n,i){this.treatmentToValue=new Map,this.trackingEnabled=!0,this.mobileEnabled=!1,this.requireSeedProp=!1,this.reportOnce=(e,r)=>{r&&null!=e&&this.trackingEnabled&&this.report(this.experimentId,r,e)},this.experimentId=e,this.defaultValue=r,this.report=n,this.seed=i}}class I{constructor(e,r,n,i){this.state=new S(e,r,n,i)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,r){return this.state.treatmentToValue.set(e,r),this}disableTracking(){return this.state.trackingEnabled=!1,this}requireSeedProp(){return this.state.requireSeedProp=!0,this}build(){let e=this.state.reportOnce,r=this.state.experimentId,n=this.state.defaultValue,i=this.state.seed,o=this.state.treatmentToValue,s=this.state.mobileEnabled,l=this.state.requireSeedProp;return class extends a.Component{experimentSeed(){if(l&&!this.props.experimentSeed)throw Error(`Experiment seed is a required prop for experiment builder with experimentId: ${r}`);return this.props.experimentSeed||i}treatment(){return w(r,this.experimentSeed(),s)}componentDidMount(){e(this.experimentSeed(),this.treatment())}render(){let e=n,r=this.treatment();if(r){let n=o.get(r);n&&(e=n)}return a.createElement(e,{...this.props})}}}}class T{constructor(e,r,n,i){this.state=new S(e,r,n,i)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,r){return this.state.treatmentToValue.set(e,r),this}disableTracking(){return this.state.trackingEnabled=!1,this}get(){let e=w(this.state.experimentId,this.state.seed,this.state.mobileEnabled);return e&&(this.state.reportOnce(this.state.seed,e),this.state.treatmentToValue.has(e))?this.state.treatmentToValue.get(e):this.state.defaultValue}}function w(e,r=N(),n=!1){let i=(0,_.J_)();if(i&&i[e])return i[e];if(!d.kc()[e]||!n&&(0,c.o4)())return;if(null==r)return N();let a=d.mV(e);if(a){if(a.winner)return a.winner;if("object"==typeof r)return function(e,r){var n,i,a,o;let d;let c=l.D;if(!c)return;let u=c.getState();switch(e.type){case f.L4.USER:d=null==(n=u.user)?void 0:n.experiment_assignments;break;case f.L4.TEAM:d=null==(i=u.teams[e.id])?void 0:i.experiment_assignments;break;case f.L4.ORG:d=null==(a=u.orgById[e.id])?void 0:a.experiment_assignments;break;default:(0,s.xb)(e)}return null==(o=null==d?void 0:d.find(e=>e.experiment_id===r))?void 0:o.treatment_id}(r,e);switch(a.randomization_method){case m.x.MD5:return C(a,(0,y.R)(e,r));case m.x.MD5_BAD:if(void 0===(r=A(r)))return;return C(a,(0,y.R)(e,r));case m.x.LCG:let n=A(r);if(void 0===n)return;return n>1e8&&(n=Math.floor(n/1e5)),C(a,(0,y.L)(e,n));default:return}}}let C=(e,r)=>{if(e.assignment_weights){let n=Object.values(e.assignment_weights).reduce((e,r)=>e+r,0),i=0,a=r%n;for(let r of e.treatment_names){let n=i+e.assignment_weights[r];if(a<n)return r;i=n}}return e.treatment_names[r%e.treatment_names.length]},A=e=>{let r="string"==typeof e?parseInt(e,10):e;if(!isNaN(r))return r};function N(){var e;let r=function(){let e=d.tl().user_data;if(e)return e.experiment_seed}();if(r)return r;let n=(0,u.UG)(),a=encodeURIComponent("experiment_seed"),o=(0,d.bg)()?(0,p.W)("functional"):!!n;if(o&&!i)try{let r=null==(e=n.get(a))?void 0:e.toString();if(r)return r}catch(e){console.error("Failed to read local experiment seed.",e);return}if(i||(i=Math.floor(1e6*Math.random()).toString()),o)try{n.set(a,i)}catch(e){console.error("Failed to write local experiment seed",e)}return i}window.localSeed=N},72517:(e,r,n)=>{"use strict";n.d(r,{$z:()=>y,L0:()=>v,T8:()=>f,fu:()=>g,h3:()=>E,j6:()=>S,jm:()=>b,tf:()=>_});var i=n(11855),a=n(88507),o=n(84934),s=n(76621),l=n(47506),d=n(39863),c=n(10648),u=n(88022);let p=null;function h(){p=null}let m=i.createContext({properties:{},trackEvent:()=>null});function g({name:e,properties:r={},trackingTargets:n=c.K.ALL,enabled:d=!0,ignoreParent:h=!1,children:g}){let{name:f,properties:_}=(0,i.useContext)(m),y=(0,i.useRef)({}),E=(0,i.useRef)(null);y.current&&(0,a.bN)(y.current,r)||(y.current=r),r=y.current;let b=(0,i.useMemo)(()=>{let n=f&&!h?`${f} > ${e}`:e,i={..._,...r};return{name:n,properties:i,trackEvent:(e,r)=>(0,o.sx)(e,{trackingContext:n,...i,...r})}},[e,r,f,_,h]);return(0,i.useEffect)(()=>{if(!d||n===c.K.NONE)return;let e=b.name,r=b.properties;if(E.current&&E.current.name===e&&(0,a.bN)(E.current.properties,r))return;if(n===c.K.RCS){let n={};for(let e of Object.keys(r))null!==r[e]&&void 0!==r[e]&&(n[e]=r[e]);(0,l.YQ)({id:e,properties:n});return}let i={name:e,...null!=p&&{ctaClickedReferrer:p},...r};(0,s.ED)("Context Viewed",e,i),(0,u.qD)(i),E.current=b},[n,b,d]),i.createElement(m.Provider,{value:b},g)}function f(e,r,n={},a=!0){return i.createElement(g,{name:r,properties:n,enabled:a},e)}function _(e,r){let n=i.forwardRef((n,a)=>i.createElement(m.Consumer,null,o=>{let s=e=>{var a;let s={...o.properties,...n.trackingProperties};o.name&&(s.trackingContext=o.name);let l=function(e,r){if(r)return r;if(e&&"string"==typeof e)return e;{let r=i.Children.map(e,e=>{if((null==e?void 0:e.type)!==d.Tx)return e;{let{id:r,...n}=e.props;return(0,d.t)(r,n)}});if(null==r?void 0:r.every(e=>"string"==typeof e))return r.join("")}}(n.children,n.innerText);l&&(s.text=l),(0,u.Cu)(s,n.trackingEventName,r),p=`${s.trackingContext} : ${s.text}`,null==(a=n.onClick)||a.call(n,e),setTimeout(h,150)},{trackingProperties:l,innerText:c,useMouseDown:m,trackingEventName:g,...f}=n;return n.children||n.innerText,i.createElement(e,{ref:a,...f,...n.useMouseDown?{onMouseDown:s}:{onClick:s}})}));return n.displayName=`Tracked(${e.displayName||e.name})`,n}let y=_(({dataTestId:e,...r})=>i.createElement("button",{...r,"data-testid":e}));function E(e){return class extends i.Component{render(){return i.createElement(m.Consumer,null,r=>{let{trackingProperties:n,trackingPopulationLevel:a,trackingFieldName:o,...s}=this.props;return i.createElement(e,{...s,onBlur:e=>{let n={...r.properties,...this.props.trackingProperties,fieldName:this.props.trackingFieldName,populationLevel:this.props.trackingPopulationLevel};r.name&&(n.trackingContext=r.name),(0,u.fy)(n),this.props.onBlur&&this.props.onBlur(e)}})})}}}_(e=>i.createElement("button",{...e}));let b=_(e=>i.createElement("div",{...e})),v=_(e=>i.createElement("a",{...e},e.children),!0);function S(){return(0,i.useContext)(m)}_(e=>i.createElement("input",{...e}))},10648:(e,r,n)=>{"use strict";let i;n.d(r,{K:()=>a});var a=((i=a||{})[i.ALL=0]="ALL",i[i.RCS=1]="RCS",i[i.NONE=2]="NONE",i)},75664:(e,r,n)=>{"use strict";n.d(r,{TI:()=>d,rC:()=>s,z5:()=>l});var i=n(27367),a=n(71326);class o extends a.A{constructor(e={}){super(),this.options=e}parse(e,r){let n=(null==r?void 0:r.a)??1,a=(0,i.H0)(e,this.options.parseAlpha?n:void 0);if(!a)throw Error("Could not parse hex");return this.options.parseAlpha?a:(0,i.X9)(a,n)}format(e){let r=this.floatToHex(e.r),n=this.floatToHex(e.g),i=this.floatToHex(e.b);return`#${r}${n}${i}`.toUpperCase()}formatForAndroid(e){if(1===e.a)return this.format(e);let r=this.floatToHex(e.a),n=this.floatToHex(e.r),i=this.floatToHex(e.g),a=this.floatToHex(e.b);return`#${r}${n}${i}${a}`.toUpperCase()}getIncrementTargets(e,r){let{start:n,end:i}=r,a=n===i,o={};return(n<=2||a&&3===n)&&(o.r=!0),(n<=4&&i>3||a&&5===n)&&(o.g=!0),(n<=6&&i>5||a&&7===n)&&(o.b=!0),o}getSelection(e,r){let n={start:1,end:1};return r.r?n.start=1:r.g?n.start=3:n.start=5,r.b?n.end=7:r.g?n.end=5:n.end=3,n}floatToHex(e){let r=this.normalize255(e).toString(16);return 1===r.length&&(r="0"+r),r}}class s extends o{constructor(e={}){super(e)}format(e,{withAlpha:r=!1,showDot:n=!1}={}){let i=this.floatToHex(e.r),a=this.floatToHex(e.g),o=this.floatToHex(e.b),s=this.floatToHex(e.a),l=(100*e.a).toLocaleString("en",{maximumFractionDigits:2})+"%";return r?n?`${i}${a}${o} \xb7 ${l}`.toUpperCase():`${i}${a}${o}${s}`.toUpperCase():`${i}${a}${o}`.toUpperCase()}getIncrementTargets(e,r){let{start:n,end:i}=r,a=n===i,o={};return(n<=1||a&&2===n)&&(o.r=!0),(n<=3&&i>2||a&&4===n)&&(o.g=!0),(n<=5&&i>4||a&&6===n)&&(o.b=!0),o}getSelection(e,r){let n={start:1,end:1};return r.r?n.start=1:r.g?n.start=3:n.start=5,r.b?n.end=7:r.g?n.end=5:n.end=3,n.start-=1,n.end-=1,n}}let l=new o,d=new s},87010:(e,r,n)=>{"use strict";n.d(r,{_L:()=>s,_q:()=>o,bA:()=>a,mb:()=>l,ql:()=>d});var i=n(55887);let a=1,o=10;function s(e,r){if(!e.getIncrementTargets)return null;let n=r.selectionStart||0,i=r.selectionEnd||0;return e.getIncrementTargets(r.value,{start:n,end:i})}function l(e,r,n){var i;return(null==(i=e.getNudgeAmount)?void 0:i.call(e,r,n))??(r?o:a)}function d(e,r,n,a={}){var o;if(!e.incrementBy)return r;let s=e.incrementBy(r,n,a.incrementTargets??null);if(a.snap){let n=a.snapResolution||l(e,a.coarse??!1,r);e.snap?s=e.snap(s,n):"number"==typeof s&&(s=(0,i.YE)(s,n))}return(null==(o=e.clamp)?void 0:o.call(e,s))??s}},73149:(e,r,n)=>{"use strict";let i;n.d(r,{KD:()=>u,LN:()=>h,LS:()=>c,cu:()=>g,o1:()=>f,t6:()=>m,wf:()=>y}),n(17068);var a=n(55887),o=n(27285),s=n(51158),l=n(76621);n(39863),n(48661);var d=n(87010);class c extends Error{constructor(e,r){super(`${e}: ${JSON.stringify(r)}`),this.errorInfo=r}}class u{constructor(e={}){this.options=e,this.allowedUnits=""}format(e){return`${e}`}parse(e,r){e=this.preProcessForExpressionEvaluation(e);let n=(0,o.O4)(e,r);if(null!==n.value&&isFinite(n.value))return n.value;throw(0,l.Lo)("NumberFormatter::parse","Could not parse input",{str:e,currentValue:r}),new c("Could not parse input",n.error)}onParseThrow(e,r){var n,i;if(e instanceof c&&e.errorInfo)return null==(i=(n=this.options).onEvaluateExpressionError)?void 0:i.call(n,e.errorInfo,r)}getNudgeAmount(e){return e?this.bigNudgeAmount():this.smallNudgeAmount()}incrementBy(e,r){return e+r}clamp(e){return(0,a.KY)(e,this.min(),this.max())}min(){return this.options.min??this.defaultMin}max(){return this.options.max??this.defaultMax}smallNudgeAmount(){return this.options.smallNudgeAmount??d.bA}bigNudgeAmount(){return this.options.bigNudgeAmount??d._q}preProcessForExpressionEvaluation(e){return e.replace(RegExp(this.allowedUnits,"g"),"").replace(/[\u0660-\u0669]/g,e=>"\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669".indexOf(e).toString()).replace(/[\u06F0-\u06F9]/g,e=>"\u06F0\u06F1\u06F2\u06F3\u06F4\u06F5\u06F6\u06F7\u06F8\u06F9".indexOf(e).toString()).replace(/\u066B/g,",").replace(/\u066C/g,",").replace(/\u060C/g,",")}}var p=((i=p||{})[i.SECONDS=0]="SECONDS",i[i.MILLISECONDS=1]="MILLISECONDS",i);class h extends u{constructor({decimals:e,hidePercentSign:r,...n}={}){super(n),this.allowedUnits="%|px",this.defaultMin=0,this.defaultMax=1,this.decimals=2,this.hidePercentSign=!1,null!=e&&(this.decimals=e),null!=r&&(this.hidePercentSign=r)}format(e){if(null==e)return"";let r=`${parseFloat((100*e).toFixed(this.decimals))}`;return this.hidePercentSign||(r+="%"),r}parse(e,r){return super.parse(e,null!=r?100*r:void 0)/100}getNudgeAmount(e){return e?.1:.01}}class m extends u{constructor(){super(...arguments),this.defaultMin=0,this.defaultMax=1}format(e){return null==e?"":`${parseFloat(e.toFixed(2))}`}}class g extends u{constructor(e={}){super((0,s.b$)({smallNudgeAmount:-1,bigNudgeAmount:-15},e)),this.allowedUnits="\xb0|px"}format(e){return null==e?"":(-180==(e=(e+180+360)%360-180)&&(e=180),`${parseFloat(e.toFixed(2))}\xb0`)}}class f extends u{constructor(e={}){super(e),this.normalizeFactor=e.normalizeFactor||1}parse(e,r){return super.parse(e,r)/this.normalizeFactor}format(e){let r=e*this.normalizeFactor;return`${Math.round(r)}`}getNudgeAmount(e){return e?10/this.normalizeFactor:1/this.normalizeFactor}}class _{constructor(e){this.min=e.min,this.max=e.max,this.bigPixelNudgeAmount=e.bigPixelNudgeAmount||d._q,this.smallPixelNudgeAmount=e.smallPixelNudgeAmount||d.bA,this.bigPercentageNudgeAmount=e.bigPercentageNudgeAmount||10,this.smallPercentageNudgeAmount=e.smallPercentageNudgeAmount||1}static parse(e){let r=-1!==e.indexOf("%")?"PERCENT":-1!==e.indexOf("px")?"PIXELS":void 0;e=(e=e.toLowerCase()).replace(RegExp("%|px","g"),"");let n=(0,o.O4)(e,NaN);if(null!==n.value&&isFinite(n.value))return[n.value,r]}parse(e,r){let n=_.parse(e);if(void 0===n)throw Error("Could not parse input");let[i,a]=n;return void 0===a&&(a=null==r?"PERCENT":r.units),{value:i,units:a}}format(e){if(null==e||e.value!=e.value)return"";let r=parseFloat(e.value.toFixed(2));return"PERCENT"===e.units?`${r}%`:`${r}px`}getNudgeAmount(e,r){return e?"PIXELS"===r.units?this.bigPixelNudgeAmount:this.bigPercentageNudgeAmount:"PIXELS"===r.units?this.smallPixelNudgeAmount:this.smallPercentageNudgeAmount}incrementBy(e,r){return{value:e.value+r,units:e.units}}clamp(e){return{value:(0,a.KY)(e.value,this.min,this.max),units:e.units}}snap(e,r){return{value:(0,a.YE)(e.value,r),units:e.units}}isEqual(e,r){return e.units===r.units&&e.value===r.value}}let y=new _({bigPixelNudgeAmount:d._q,smallPixelNudgeAmount:d.bA})},9831:(e,r,n)=>{"use strict";n.d(r,{AU:()=>l,E3:()=>p,HW:()=>d,JV:()=>m,lg:()=>c,my:()=>h,ow:()=>u,u8:()=>g});var i=n(88507),a=n(29928),o=n(99506),s=n(39671);function l(e){return"fullscreen"!==e.view?o._Y.DESIGN:(0,s.oD)(e.editorType)}function d(){return"prototype"===(0,i.d4)(e=>e.selectedView).view}function c(){return l((0,i.d4)(e=>e.selectedView))}function u(){return c()===o._Y.WHITEBOARD}function p(){let e=(0,i.d4)(e=>e.selectedView);return"fullscreen"!==e.view?s.nT.Design:e.editorType}function h(){return m((0,i.d4)(e=>e.selectedView))}function m(e){return"fullscreen"!==e.view?null:e.editorType}(0,a.bt)(e=>l(e.selectedView));let g=(0,a.bt)(e=>m(e.selectedView))},98371:(e,r,n)=>{"use strict";n.d(r,{$D:()=>u});var i=n(11855),a=n(88507),o=n(38580),s=n(99737),l=n(79453),d=n(79296);(0,o.eU)(null);let c=(0,d.D)((e,r=!1)=>{let n=(0,s.Rs)(l.JKh,{fileKey:e},{enabled:!!e});return(0,i.useMemo)(()=>"loaded"!==n.status?r?{enabled:!0,until:new Date,id:"fallback"}:{enabled:!1}:n.data.figFileWorkshopMode&&new Date<n.data.figFileWorkshopMode.expiresAt?{enabled:!0,until:n.data.figFileWorkshopMode.expiresAt,id:n.data.figFileWorkshopMode.id}:{enabled:!1},[n,r])});function u(e=!1){return function(e=!1){let r=(0,a.d4)(e=>e.openFile);return c((null==r?void 0:r.key)||"",e)}(e).enabled}},6949:(e,r,n)=>{"use strict";n.d(r,{LQ:()=>h,a9:()=>s,hC:()=>u}),n(11855);var i=n(88507);n(41563),n(84934),n(66159),n(57663),n(58145),n(33556),n(66712),n(9225),n(99737),n(86459),n(43282),n(81388),n(39863),n(81063),n(83162),n(93360),n(82410),n(20647);var a=n(94687);n(99506),n(79453),n(86030),n(12458);var o=n(96607);n(16525),n(65050),n(48170),n(75820);function s(){return(0,i.d4)(e=>(0,o.xw)(e))}class l extends null{}let d=async(e,r,n)=>{var i,a;let{cursor:o,searchQuery:s,sort:d,filter:c,firstPageSize:u,signal:p,minimalFields:h}=n,m=null===o?(u||25).toString():null;try{let e=Date.now();trackEvent("Org Admin Members V2 Fetch Initiated",{orgId:r,...n.extraLoggingData,isInitialLoad:null===o,minimalFields:h});let i=APIOrgs.getOrgUsersPaginatedV2({orgId:r,pageSize:m,after:o,searchQuery:s,sort:d?composeSortParamsForUrl(d):void 0,filter:c?composeFilterParamsForUrl(c):void 0,minimalFields:h}),a=await i;trackEvent("Org Admin Members V2 Fetch Succeeded",{orgId:r,durationMs:Date.now()-e,...n.extraLoggingData,isInitialLoad:null===o,minimalFields:h});let u=[...a.data.meta.users||[]],g=a.data.meta.cursor,f=LicenseTypesNext.withOverrides({[LicenseTypeNext.DEV_MODE]:"devMode",[LicenseTypeNext.FIGJAM]:"whiteboard"}).withSuffix("EditorCutoff").dict(e=>a.data.meta[e]),_=a.data.meta.totalUserCount;if(null==p?void 0:p.aborted)throw new l;return{users:u,newCursor:g,editorCutoffs:f,totalUserCount:_}}catch(r){if(!(r instanceof l)){let n=(null==(i=r.data)?void 0:i.status)===422?null==(a=r.data)?void 0:a.message:r.message;e(flashActions.error(n||t("org_user_actions.an_error_occurred_fetching_org_users")))}return r}},c=(e,r,n)=>{let i=[],a=[],o=[];n.forEach(e=>{switch(e.type){case OrgUserType.ORG_USER:if(!("org_id"in e))break;i.push(e);break;case OrgUserType.IDP_USER:a.push(e);break;case OrgUserType.ORG_INVITE:o.push(e)}}),r(orgUserActions.set({orgUsers:i,orgId:e})),a&&r(idpUserActions.batchPost({idpUsers:a})),o&&r(orgInviteActions.set(o))};function u(){let e=s();return p((0,a.sZ)(),e)}function p(e,r){return!!(e&&e.are_custom_templates_allowed&&r)}function h(e){let r=(0,o.xw)(e);return p(e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,r)}},99934:(e,r,n)=>{"use strict";n.d(r,{j8:()=>Y,S0:()=>j,_P:()=>G,$1:()=>U});var i,a=n(11855),o=n(88507),s=n(84934),l=n(17068);n(31664),n(94272);var d=n(66712),c=n(38580),u=n(99737);n(38082);var p=n(76621),h=n(4783),m=n(39863),g=n(67249);let f=(0,g.N)("PLUGIN_SET_ALLOWLISTED"),_=(0,g.N)("WIDGETS_SET_ALLOWLISTED");var y=n(92592);n(45941),n(71120);var E=n(208),b=n(80820),v=n(82976),S=n(76485),I=n(93623),T=n(92330),w=n(41381);(0,b.nF)((e,r)=>{var n;let i=r.orgId||e.getState().currentUserOrgId;if(!i)return;let a=(null==(n=e.getState().openFile)?void 0:n.key)??null,o=(0,S.Gb)(i,a);e.dispatch(v.Cx({key:o})),I.V.getOrgWhitelist({orgId:i,profileId:r.profileId,fileKey:a}).then(({data:r})=>{let n=r.meta;e.dispatch(w.Qi({publishedPlugins:n,src:"initializeAllowlistedPlugins"}));let i=n.reduce((e,r)=>(e[r.id]=!0,e),{});e.dispatch(f(i)),e.dispatch(v.x2({key:o}))}).catch(r=>{(0,p.xi)("plugin allowlist","Unable to fetch the plugin allowlist",{message:r.message}),e.dispatch(v.of({key:o}))})}),(0,b.nF)(async(e,r)=>{var n,i;let a=r.orgId||e.getState().currentUserOrgId;if(!a)return;let o=(null==(n=e.getState().openFile)?void 0:n.key)??null,s=(0,S.n_)(a,o);e.dispatch(v.Cx({key:s}));try{let n=await T.U.getOrgWhitelist({orgId:a,profileId:r.profileId,fileKey:o}),l=(null==(i=null==n?void 0:n.data)?void 0:i.meta)||[];e.dispatch(w.Qi({publishedPlugins:l,src:"initializeAllowlistedWidgets"}));let d=l.reduce((e,r)=>(e[r.id]=!0,e),{});e.dispatch(_(d)),e.dispatch(v.x2({key:s}))}catch(r){(0,p.xi)("widget allowlist","Unable to fetch the widget allowlist",{message:r.message}),e.dispatch(v.of({key:s}))}});let C=(0,g.N)("PUT_ALLOWLISTED_PLUGIN"),A=(0,g.N)("DEL_ALLOWLISTED_PLUGIN");(0,b.nF)((e,{orgId:r,pluginId:n,onSuccess:i})=>{r&&n&&E.Ay.post(`/api/plugins/org/${r}/whitelist/${n}`).then(({data:a})=>{e.dispatch(C({pluginId:n})),e.dispatch(w.Qi({publishedPlugins:[a.meta],src:"allowlistPlugin"})),i&&i(),(0,s.sx)("Hub Plugin Add to Whitelist",{pluginId:n,orgId:r})}).catch(r=>{let n=(0,m.t)("community.actions.unable_to_add_this_plugin_please_try_again_later");400===r.status&&(n=(0,m.t)("community.actions.unable_to_add_private_plugin")),e.dispatch(y.F.enqueue({error:!0,message:n}))})}),(0,b.nF)((e,{orgId:r,pluginId:n,onSuccess:i})=>{r&&n&&E.Ay.del(`/api/plugins/org/${r}/whitelist/${n}`).then(({data:a})=>{e.dispatch(A({pluginId:n})),e.dispatch(w.Qi({publishedPlugins:[a.meta],src:"unallowlistPlugin"})),i&&i(),(0,s.sx)("Hub Plugin Remove from Whitelist",{pluginId:n,orgId:r})}).catch(()=>{e.dispatch(y.F.enqueue({error:!0,message:(0,m.t)("community.actions.unable_to_remove_this_plugin_please_try_again_later")}))})});let N=(0,g.N)("PUT_ALLOWLISTED_WIDGET"),O=(0,g.N)("DEL_ALLOWLISTED_WIDGET");(0,b.nF)((e,{orgId:r,pluginId:n,onSuccess:i})=>{r&&n&&E.Ay.post(`/api/widgets/org/${r}/whitelist/${n}`).then(({data:a})=>{e.dispatch(N({pluginId:n})),e.dispatch(w.Qi({publishedPlugins:[a.meta],src:"allowlistWidget"})),i&&i(),(0,s.sx)("Hub Widget Add to Whitelist",{pluginId:n,orgId:r})}).catch(r=>{let n=(0,m.t)("community.actions.unable_to_add_this_widget_please_try_again_later");400===r.status&&(n=(0,m.t)("community.actions.unable_to_add_private_widget")),e.dispatch(y.F.enqueue({error:!0,message:n}))})}),(0,b.nF)((e,{orgId:r,pluginId:n,onSuccess:i})=>{r&&n&&E.Ay.del(`/api/widgets/org/${r}/whitelist/${n}`).then(({data:a})=>{e.dispatch(O({pluginId:n})),e.dispatch(w.Qi({publishedPlugins:[a.meta],src:"unallowlistWidget"})),i&&i(),(0,s.sx)("Hub Widget Remove from Whitelist",{pluginId:n,orgId:r})}).catch(()=>{e.dispatch(y.F.enqueue({error:!0,message:(0,m.t)("community.actions.unable_to_remove_this_widget_please_try_again_later")}))})});var R=n(9831);n(58237),n(35682);var P=n(79453);n(37499);var L=n(94687),D=n(60178),M=n(99506);n(36599),n(47206);var k=n(20666);n(8567);var x=n(7956);n(86538);var F=n(20289);function U(e){return function(e,r){let n=(0,R.my)();return(0,a.useMemo)(()=>(0,k.NW)(n,e,r),[n,r,e])}((0,o.d4)(e=>e.localPlugins),e)}function B(){let e=(0,o.d4)(e=>e.publishedPlugins),r=(0,R.my)();return(0,a.useMemo)(()=>(0,k.xC)(r,e),[e,r])}let V=null==(i=(0,d.Ay)())?void 0:i.onboarding_plugins,H=[];if(V){let{icons:e,images:r,quickstart:n}=V;H=(0,l.k4)([(0,l.QP)(e),(0,l.QP)(r),(0,l.QP)(n)])}function G(e,r){var n,i;let o=(null==(n=(0,L.sZ)())?void 0:n.id)??null,s=(0,D.TA)(),l=(0,u.Rs)(P.k_1,{orgId:o,pluginId:e},{enabled:r}),c=null==(i=l.data)?void 0:i.plugin,m=l.status;return a.useMemo(()=>"loaded"===m&&c?{loaded:!0,plugin:function(e,r,n,i){var a;if(!e||e.publishingStatus&&[M.KB.ORG_PRIVATE,M.KB.ORG_PRIVATE_PENDING_PUBLIC].includes(e.publishingStatus)&&(!e.orgId||e.orgId!==r)&&!(0,d.kc)().community_hub_admin)return;let o=e.currentPluginVersion;if(!o)return;if(!o.manifest){(0,p.$D)(h.e.EXTENSIBILITY,Error("manifest missing"),{extra:{plugin:e}});return}let s=e.isWidget?"widget":"plugin",l=function(e){try{let r="string"==typeof e?JSON.parse(e):e;r.documentAccess&&"dynamic-page"!==r.documentAccess&&delete r.documentAccess;let n=S.pL.safeParse(r);if(!n.success)return(0,p.$D)(h.e.EXTENSIBILITY,Error("manifest schema parse error"),{extra:{jsonParsedResult:JSON.stringify(r,null,2),rawManifest:JSON.stringify(e,null,2),errors:n.error.format()}}),r;return n.data}catch(r){(0,p.$D)(h.e.EXTENSIBILITY,Error("manifest JSON parse error"),{extra:{rawManifest:e}});return}}(o.manifest);if(!l)return;let c=`?resource_type=${s}&resource_id=${e.id}`;n&&(c+=`&fuid=${n}`);let u={id:o.id,plugin_id:e.id,name:o.name||"",current_plugin_version_id:(null==(a=o.plugin)?void 0:a.currentPluginVersionId)||void 0,version:o.version||"",release_notes:o.releaseNotes||"",is_private:!!e.orgId,description:o.description||"",creator_policy:o.creatorPolicy??"",manifest:l,installed_by:null,tagline:o.tagline||"",created_at:o.createdAt.toString(),redirect_icon_url:`/community/icon${c}`,redirect_cover_image_url:`/community/thumbnail${c}`,redirect_code_url:`/community/${s}/${e.id}/code`};return e.communityPublishers&&(u.community_publishers=e.communityPublishers),e.isWidget&&(u.redirect_snapshot_url=`/community/snapshot${c}`),e.orgId&&(u.org_id=e.orgId),u}(c,o,s,null)||null}:{loaded:!1,plugin:null},[m,c,o,s])}(0,c.eU)(H),(0,c.eU)(!1),(0,c.eU)([]);let W={loaded:!0,plugins:{}};function z(){let e=(0,o.d4)(e=>e.selectedView),r=(0,o.d4)(e=>e.installedPluginVersions);if("fullscreen"!==e.view)return W;let n=(0,k.GX)(e.editorType);if(!r.loaded)return r;let i={};for(let a of Object.values(r.plugins))(0,k.EK)(n,a.manifest.editorType)?i[a.plugin_id]=a:((0,x.$A)(e)&&(0,k.M5)(a)||"figma"===n&&(0,k.M5)(a))&&(i[a.plugin_id]=a);let a="fullscreen"===e.view?e.editorType:null;return{loaded:!0,plugins:(0,k.NW)(a,i)}}function K(){let e=(0,o.d4)(e=>e.recentlyUsed.plugins),r=function(e){let r=U(void 0);return(0,a.useMemo)(()=>{let e={};for(let n in r){let i=r[n];(0,S.k0)(i)||(e[n]=i)}return e},[r])}(),n=(0,F.o)();return function(e){let r=(0,R.my)();return(0,a.useMemo)(()=>(0,k.AG)(r,e),[r,e])}((0,a.useMemo)(()=>{let i=[];return n&&e[n].forEach(n=>{let a=e.fetchedResources[n.id];if(a&&a.version){i.push(a.version);return}if(r[n.id]){i.push(r[n.id]);return}}),i},[n,e,r]))}function j(e,{searchLocalPlugins:r,searchSavedPlugins:n,searchPublishedPlugins:i,searchRecentPlugins:o}){let s=U(),l=z(),d=B(),c=function(){let e=function(e){let r={};return e.filter(e=>!r[e.plugin_id]&&(r[e.plugin_id]=!0,!0))}(K());return a.useMemo(()=>{let r={};return e.forEach(e=>r[e.plugin_id]=e),r},[e])}();return a.useMemo(()=>(0,k.te)({idToSearch:e,savedPlugins:n?l:void 0,localPluginsByFileId:r?s:void 0,publishedPlugins:i?d:void 0,recentPlugins:o?c:void 0}),[e,l,s,d,c,n,r,i,o])}function Y(){let e=z(),r=function({includePendingPublishers:e=!0}={}){let r=(0,D.TA)(),n=B();return(0,a.useMemo)(()=>{if(!r)return[];let i=(0,k.i8)(Object.values(n));return(0,k.Q4)((0,k.ky)(i,r,e))},[n,r,e])}(),n=K(),i={};return Object.values(e.plugins).forEach(e=>{i[e.plugin_id]||(i[e.plugin_id]=e)}),Object.values(r).map(k.uF).forEach(e=>{i[e.plugin_id]||(0,S.ZQ)(e)||(i[e.plugin_id]=e)}),n.forEach(e=>{i[e.plugin_id]||(0,S.ZQ)(e)||(i[e.plugin_id]=e)}),i}},20289:(e,r,n)=>{"use strict";n.d(r,{B:()=>d,o:()=>l});var i=n(11855),a=n(88507),o=n(39671),s=n(9073);function l(){let e=(0,a.d4)(e=>e.selectedView.editorType);return"orgAdminSettings"===(0,a.d4)(e=>e.selectedView).view&&(e=o.nT.DevHandoff),i.useMemo(()=>d(e),[e])}function d(e){switch(e){case o.nT.Design:case o.nT.Sites:return s.$A.Design;case o.nT.Slides:return s.$A.Slides;case o.nT.DevHandoff:return s.$A.Handoff;case o.nT.Whiteboard:return s.$A.FigJam}}},29906:(e,r,n)=>{"use strict";let i;n.d(r,{hu:()=>p,s5:()=>h,yR:()=>u});var a=n(11855),o=n(88507),s=n(38329),l=n(37943),d=n(88022),c=n(7465);function u(){let e=(0,o.wA)(),r=(0,o.d4)(e=>e.screenreader.enabled),n=(0,o.d4)(e=>e.user||void 0);return[r,(0,a.useCallback)((r,i)=>{e((0,l.X7)({enabled:r,scope:i,user:n}))},[e,n])]}var p=((i=p||{}).TOGGLE_DOM_ON_MENU="toggle_dom_on_menu",i.TOGGLE_DOM_OFF_MENU="toggle_dom_off_menu",i.PROTOTYPE_BUTTON_CLICKED="prototype_button_clicked",i.SKIP_TO_CONTENT="skip_to_content",i.ENABLE_AND_SKIP_TO_CONTENT="enable_and_skip_to_content",i.FOCUS_CYCLE_NEXT_AREA="focus_cycle_next_area",i.FOCUS_CYCLE_PREVIOUS_AREA="focus_cycle_previous_area",i.DESIGN_INITIAL_TREE_LOAD="design_initial_tree_load",i.DESIGN_UPDATE_NODE="design_update_tree",i.FIGJAM_UPDATE_TREE="figjam_update_tree",i.FIGJAM_UPDATE_NODE="figjam_update_node",i.FIGJAM_INITIAL_TREE_LOAD="figjam_initial_tree_load",i.FIGJAM_INCREMENTAL_UPDATE_DISCREPANCY="figjam_incremental_update_discrepancy",i.TOGGLE_DEFAULT_APPLICATION_ON_MENU="toggle_default_application_on_menu",i.TOGGLE_DEFAULT_APPLICATION_OFF_MENU="toggle_default_application_off_menu",i);function h(){return(0,a.useCallback)((e,r)=>{let n=s.D.getState(),i=(0,c.U2)(n.selectedView);(0,d.ds)("accessibility_actions",i,n,{actionName:e,...r},{forwardToDatadog:!0})},[])}},26055:(e,r,n)=>{"use strict";n.d(r,{GS:()=>a}),n(11855);var i=n(43742);function a(){return"ui3"===(0,i.DP)().version}n(78227),n(98977),n(66712),n(59829),n(63706),n(9831),n(52800),n(49793),n(14716),n(69961),n(39671),n(72429),n(76710)},68039:(e,r,n)=>{"use strict";n.d(r,{DP:()=>s,yM:()=>l});var i=n(11855),a=n(88507),o=n(76615);function s(){return(0,a.d4)(e=>e.theme.visibleTheme)}function l(){return(0,i.useContext)(o.uW)}},51960:(e,r,n)=>{"use strict";n.d(r,{E:()=>d});var i=n(11855),a=n(44948),o=n(74626),s=n(47506),l=n(48088);function d(e,r,n){let d=(0,o.md)(s.az),c=(0,a.wm)(()=>"string"==typeof r?[r]:r,[r]),u=(0,i.useRef)(n);u.current=n;let p=(0,i.useCallback)(r=>{let n="properties"in r?r.properties:void 0;(0,l.R)({type:"triggered",name:"event_forwarded",properties:{overlayId:e,eventId:r.id,eventProperties:n}},"debug"),u.current(r)},[e]);(0,i.useEffect)(()=>{for(let r of c)(0,l.R)({type:"triggered",name:"event_listener_registered",properties:{overlayId:e,eventId:r}},"trace"),d.addEventListener(r,p);return()=>{for(let r of c)(0,l.R)({type:"triggered",name:"event_listener_deregistered",properties:{overlayId:e,eventId:r}},"trace"),d.removeEventListener(r,p)}},[e,c,d,p])}},98527:(e,r,n)=>{"use strict";n(11855),n(88507),n(66712),n(39135),n(96673),n(84968)},77975:(e,r,n)=>{"use strict";let i,a;n.d(r,{e:()=>eA});var o=n(38329),s=n(74626),l=n(47506),d=n(38580),c=n(88706);let u=(0,d.eU)(null),p=(0,c.um)([],(e,r)=>{switch(r.type){case"mount":return[...e,null==r?void 0:r.uniqueOverlayId];case"unmount":return e.filter(e=>e!==(null==r?void 0:r.uniqueOverlayId))}});var h=n(41457);let m=(0,c.t_)(()=>new h.Z3);var g=n(66712),f=n(11978),_=n(84934),y=n(65746),E=n(75738),b=n(81552);let v=new b.m("PreventModalCollisions","A rule that prevents overlays from being shown while a modal is displayed",(e,r)=>!e.uiState.modalShownType||(r.attributes.allowShowingIfModalPresent?((0,_.sx)("curator_collision",{blocked_overlay_id:(0,E.y)(r.id),blocking_modal_type:e.uiState.modalShownType,was_allowlisted:!0}),!0):((0,_.sx)("curator_collision",{blocked_overlay_id:(0,E.y)(r.id),blocking_modal_type:e.uiState.modalShownType}),!1))),S=new b.m("PreventNotificationCollisions","A rule that prevents overlays from being shown while a notification is displayed",(e,r)=>{if(null===e.uiState.currentNotificationType)return!0;let n=y._[e.uiState.currentNotificationType];return(0,_.sx)("curator_collision",{blocked_overlay_id:(0,E.y)(r.id),blocking_notif_type:n}),!1});var I=n(11855),T=n(88507),w=n(17068),C=n(99737),A=n(47899),N=n(39863),O=n(42916),R=n(50293),P=n(29403),L=n(49410),D=n(20647),M=n(75847),k=n(99506),x=n(79453),F=n(68860),U=n(37870),B=n(22261),V=n(79211);let H="RequestProUpgradeModal";(0,U.Ju)(function(e){var r,n,i,a,o;let s=(0,T.wA)(),{getConfig:l}=(0,A.I7)("edit_request_modal_no_checkbox"),d=(0,C.Rs)(x.sBg,{teamId:e.team.id}),c=(0,T.d4)(r=>r.teams[e.team.id]),u=null==(r=(0,T.d4)(e=>e.openFile))?void 0:r.project,p=(0,C.Rs)(x.HdA,{key:e.fileKey??""}),h=(0,T.d4)(e=>{var r;return null==(r=e.openFile)?void 0:r.currentTeamUser}),m=e.entryPoint.startsWith("dev_mode"),{isInDevModeProPlusExperiment:g,devModeExperimentTitle:f,devModeExperimentActionText:_,onClose:y,onSuccess:E,onError:b,trackingProperties:v={}}=(0,O.t)(m),S=(0,L.CS)();if("loaded"!==d.status)return null;let U=null==(i=null==(n=d.data)?void 0:n.team)?void 0:i.adminRoles,H=e.entryPoint===R.tc.DOWNGRADE_EMAIL?e.editorType===k._Y.WHITEBOARD?I.createElement(N.Tx,{id:"team_user.actions.upgrade.description_account_needs_to_be_upgraded_figjam"}):I.createElement(N.Tx,{id:"team_user.actions.upgrade.description_account_needs_to_be_upgraded_figma"}):m?_??((null==(o=null==(a=p.data)?void 0:a.file)?void 0:o.hasPermission)?I.createElement(N.Tx,{id:"team_user.actions.upgrade.description_dev_mode_grace_period",numDays:S()}):e.entryPoint===R.i$.DowngradeEmail?I.createElement(N.Tx,{id:"team_user.actions.upgrade.description_dev_mode_grace_period",numDays:S()}):I.createElement(N.Tx,{id:"team_user.actions.upgrade.description_dev_mode"})):(0,M.VA)(u)?I.createElement(N.Tx,{id:"team_user.actions.upgrade.draft_request_upgrade_to_share",boldedDrafts:I.createElement("span",{className:V.Vq},I.createElement(N.Tx,{id:"fullscreen.filename_view.drafts"}))}):e.entryPoint===R.Wc.CREATE_FILE_PROJECT_VIEW?e.editorType===k._Y.WHITEBOARD?I.createElement(N.Tx,{id:"org_upgrade.action_text.create_edit_import_figjam_boards",requestUpgradeInstructions:(0,N.t)("org_upgrade.action_text.request_upgrade_instructions_from_project_view")}):I.createElement(N.Tx,{id:"org_upgrade.action_text.create_edit_import_design_files",requestUpgradeInstructions:(0,N.t)("org_upgrade.action_text.request_upgrade_instructions_from_project_view")}):I.createElement(N.Tx,{id:"team_user.actions.upgrade.description_edit_this_file"}),G=e.entryPoint===R.tc.DOWNGRADE_EMAIL?(0,N.t)("team_user.actions.upgrade.request_upgrade_in_team_name",{teamName:c.name}):void 0;return I.createElement(B.R,{admins:U?(0,w.WI)(U.map(e=>{if(e.level>=F.e6.ADMIN&&!e.pending)return e.user})):[],dispatch:s,actionText:H,hasPendingRequest:(()=>{var r,n;switch(e.editorType){case k._Y.DESIGN:return(null==(r=null==h?void 0:h.designAccountTypeRequest)?void 0:r.status)==="pending";case k._Y.WHITEBOARD:return(null==(n=null==h?void 0:h.whiteboardAccountTypeRequest)?void 0:n.status)==="pending";default:return!1}})(),licenseType:(0,D.vc)(e.editorType),hideAdminSelection:(0,L.XP)(l)||g,onRequestUpgrade:(r,n)=>(null==E||E(),P.Nu({adminIds:n,message:r,teamId:e.team.id,editorType:e.editorType,fileKey:e.fileKey,entryPoint:e.entryPoint,onError:b})),onClose:y,trackingProperties:{...v,teamId:e.team.id,entryPoint:e.entryPoint},isDoneFetching:!0,customTitle:f??G,isDevMode:m,messagePrefix:m?"[Dev Mode] ":void 0,type:B.n.TEAM,transparentBackground:e.transparentBackground,closeOnEsc:g})},H);let G=new b.m("DenyForRequestModal","Don't show any overlays on the team page if the request to upgrade pro modal is open",e=>!(e.uiState.modalShownType===H&&"team"===e.uiState.selectedView.view));var W=n(33537);let z=new b.m("DenyForSyntheticTestUser","Don't show to synthetic test users (in E2E tests)",e=>{var r;return!(0,W.Ng)(null==(r=e.userData)?void 0:r.email)}),K=new b.m("DenyInInlinePreview","Hide all overlays inside the inline preview",e=>"prototype"!==e.uiState.selectedView.view||!e.uiState.selectedView.inlinePreview);var j=n(92630);let Y=(0,d.eU)(e=>({uiState:{selectedView:e(f.OC),modalShownType:e(f.yF),currentNotificationType:e(f.AN)},userData:(0,g.Ay)().user_data}));class ${constructor(){this.id=h.FQ.Overlay,this.currentExperience=void 0,this.queuedExperiences=[]}getContext(){return s.zl.get(Y)}getRules(){return[K,j.h,z,G,v,S]}}let q=(0,d.eU)(()=>new h.Oi({[h.FQ.Overlay]:new $}));var Z=n(92098);window.Curator={enableTraceLogging:()=>(0,Z.L)("trace"),enableDebugLogging:()=>(0,Z.L)("debug"),disableLogging:()=>(0,Z.L)("disabled"),getMountedOverlays:function(){return s.zl.get(p)},sendEvent:function(e){return(0,l.YQ)(e),!0},getExperienceSelectorChannels:function(){return s.zl.get(q).getImmutableChannels()},getLoadingOverlays:function(){return s.zl.get(m).getImmutableLoadingOverlays()},getOverlaysBlockedByDataDependencies:function(){return s.zl.get(m).getImmutableQueuedOverlays()},resetUserFlags:function(e){let r=e.reduce((e,r)=>({...e,[r]:!1}),{});o.D.dispatch({type:"USER_FLAG_POST",payload:r})}};var X=n(55032),J=n.n(X),Q=n(44780),ee=n(35283);let et=I.createContext(null);var er=n(44948),en=n(20063),ei=n(46240),ea=n(91388),eo=n(76621),es=n(4783),el=((i=el||{}).FigjamUniversalInsertsMenuOpen="figjam_universal_inserts_menu_open",i.FigjamDLTSubmenuOpen="figjam_DLT_submenu_open",i),ed=n(81912),ec=n(84111);let eu=ea.Qw.loaded({userFlag:null}),ep=(0,s.Iz)(e=>e?(0,ec.Z1)((0,x.sMZ)({name:e.userFlagName}),r=>({userFlag:r.currentUser.userFlagByName,lifecycleConfig:e})):(0,d.eU)(eu));var eh=n(48088);let em=/__[0-9A-Za-z\-]+$/;var eg=n(51960),ef=((a=ef||{}).Deactivated="deactivated",a.Unmounted="unmounted",a.GlobalRequestClose="global_request_close",a),e_=n(9225),ey=n(47807);let eE=new class{upsertUserFlagWithCount(e,r){return ey._5.validate(({xr:n})=>n.put(`/api/user/flag/${e}`,{count:r}))}resetUserFlag(e){return ey._5.validate(({xr:r})=>r.post("/api/user/flags",{flags:{[e]:!1}}))}};class eb{constructor(e){this.pendingIncrementCount=0,this.makeDebouncedUpsertRequest=ev(e=>eE.upsertUserFlagWithCount(this.userFlagName,e),1e3),this.makeDebouncedResetRequest=ev(()=>eE.resetUserFlag(this.userFlagName),1e3),this.increment=async()=>{var e,r;let n;let i=null==(e=(0,g.Ay)().user_data)?void 0:e.id;if(!i){(0,eo.$D)(es.e.GROWTH_PLATFORM,Error(`Attempted to increment user flag counter ${this.userFlagName} for anonymous user; this is a no-op.`));return}this.pendingIncrementCount+=1;try{n=await (0,e_.Ek)(x.sMZ,{name:this.userFlagName})}catch(e){throw this.pendingIncrementCount-=1,e}let a=null==(r=n.data)?void 0:r.currentUser.userFlagByName;if(0===this.pendingIncrementCount)return;let o=(a?a.count??1:0)+this.pendingIncrementCount;this.pendingIncrementCount=0;let s=this.makeDebouncedUpsertRequest(o),l=new Date;return a?(0,e_.WB)().optimisticallyUpdate({UserFlag:{[a.id]:{count:o,updatedAt:l}}},s):(0,e_.WB)().optimisticallyCreate({UserFlag:{[`optimistic-id-${this.userFlagName}`]:{userId:i,name:this.userFlagName,count:o,createdAt:l,updatedAt:l}}},s)},this.reset=async()=>{var e,r,n;if(!(null==(e=(0,g.Ay)().user_data)?void 0:e.id)){(0,eo.$D)(es.e.GROWTH_PLATFORM,Error(`Attempted to reset user flag counter ${this.userFlagName} for anonymous user; this is a no-op.`));return}let i=null==(n=null==(r=(await (0,e_.Ek)(x.sMZ,{name:this.userFlagName})).data)?void 0:r.currentUser)?void 0:n.userFlagByName;if(!i)return;let a=this.makeDebouncedResetRequest();return(0,e_.WB)().optimisticallyDelete({UserFlag:{[i.id]:null}},a)},this.userFlagName=e}}function ev(e,r=200){let n;let i=[];return function(...a){return clearTimeout(n),n=setTimeout(()=>{let r=e(...a);i.forEach(e=>e(r)),i=[]},r),new Promise(e=>i.push(e))}}let eS=(0,s.Iz)(e=>(0,d.eU)(()=>new eb(e)));function eI(e){return"hasData"===e.state?ea.Qw.loaded(e.data):"hasError"===e.state?ea.Qw.error(e.error):ea.Qw.loading()}function eT(e){return"loading"===e.status}let ew="curator_perf",eC="timed out";function eA({overlay:e,...r},n=[]){let i=e.id,[a]=(0,I.useState)(()=>(0,E.t)(i)),o=function(e,r){let n=(0,I.useContext)(et),i=(0,I.useRef)(!1);return(0,I.useMemo)(()=>{if(!n)return r;let a=n.priorityMap.get(e);return a?(0,g.kc)().curator_file_browser_ordering?a:r:(i.current||((0,eo.$D)(es.e.GROWTH_PLATFORM,Error("[Curator] Overlay not registered with gallery"),{tags:{overlayId:e,galleryName:n.name}}),i.current=!0),(0,g.kc)().curator_file_browser_ordering?0:r)},[e,n,r])}(i,r.priority),l=(0,ei.Xr)(u),d=(0,s.md)(m),c=(0,s.md)(q),f=(0,ei.Xr)(p),y=(0,s.md)(ep(e.lifecycle)),b=(0,I.useRef)(y);b.current=y;let[v,S]=(0,I.useState)(!1),T=(0,I.useRef)(v);T.current=v;let w=(0,I.useRef)(void 0),C=function(e,r,n){let i=(0,er.wm)(()=>[r,...e],[e,r]),a=(0,I.useMemo)(()=>(function(e){let r=e.map(e=>"state"in e?eI(e):e);return ea.Qw.all(r)})(i),[i]);!function(e,r){function n(e){return e.map(e=>"state"in e?eI(e):e)}let i=(0,I.useCallback)((r,n)=>{(0,g.b5)()&&console.error(n),(0,_.sx)("curator_dependency_error",{errorType:r,overlay:e},{forwardToDatadog:!0})},[e]),a=(0,I.useRef)(!1),o=(0,I.useRef)(!1),s=(0,I.useRef)(n(r??[]));(0,I.useEffect)(()=>{if(0===((null==r?void 0:r.length)??0)&&0===s.current.length)return;let l=n(r??[]);if(l.length!==s.current.length){a.current||(i("changed_dependency_count",`[Error] Number of dependencies changed between calls to useOverlay in overlay \`${e}\`.`),a.current=!0);return}let d=o.current;for(let[e,r]of J()(l,s.current))if(null==e||null==r||(d||(d="loaded"!==e.status&&"loaded"===r.status),d))break;d&&!o.current&&(i("unloaded_dependencies",`[useOverlay] One or more dependency statuses became unloaded between updates in overlay '${e}'.`),o.current=!0),s.current=l},[r,i,e])}(n,i);let[o,s]=(0,I.useState)(!1);return(0,I.useEffect)(()=>{let e=setTimeout(()=>{"loading"===a.status&&(s(!0),(0,_.sx)("curator_dependencies_timed_out",{overlay:n},{forwardToDatadog:!0}))},9e3);return()=>clearTimeout(e)},[a.status,n]),o?eN:a}(n,y,i),A=(0,I.useRef)(C);A.current=C;let[N,O]=(0,I.useState)(void 0),{experiment:R}=r,[P]=(0,I.useState)(()=>[()=>{if(null==R)return;let e=R.check();O(e);let r=R.predicate(e),n=!1;if("loaded"===A.current.status?n=R.postCheck(...eR(A.current.data)):(0,eo.$D)(es.e.GROWTH_PLATFORM,Error("[Curator] Experiment postCheck unexpectedly did not have loaded data dependencies"),{tags:{overlayId:i,dependencyStatus:A.current.status}}),r&&n){(0,eh.R)({type:"resumed",name:"experiment_check_passed",properties:{overlayId:a}},"debug");return}return(0,eh.R)({type:"failed",name:"experiment_check_failed",properties:{overlayId:a,predicateValue:r,postCheckValue:n}},"debug"),{reasonType:h.oE.ExperimentCheckFail}},()=>{if(null!=e.lifecycle){if("loaded"!==b.current.status){(0,eo.$D)(es.e.GROWTH_PLATFORM,Error("[Curator] Lifecycle postCheck unexpectedly did not have loaded data dependencies"),{tags:{overlayId:i,dependencyStatus:A.current.status}});return}return function({userFlag:e,lifecycleConfig:r}){return e&&r?r.maxTimes&&(e.count??1)>=r.maxTimes?{reasonType:h.oE.LifecycleCheckFail,cause:"MAX_TIMES"}:"cooldown"in r&&function(e,r){let n=function(e){switch(e){case"DAILY":return 1;case"WEEKLY":return 7;default:(0,ee.xb)(e)}}(e);return(0,ed.A)(r).isAfter((0,ed.A)().subtract(n,"day"))}(r.cooldown,e.updatedAt)?{reasonType:h.oE.LifecycleCheckFail,cause:"COOLDOWN"}:void 0:void 0}({...b.current.data,lifecycleConfig:e.lifecycle})}}]),L=function(e,r,n){let i=(0,I.useRef)(0);return(0,I.useLayoutEffect)(()=>(Q.sn.start(eO,{key:r}),()=>{Q.sn.delete(eO,r)}),[]),(0,I.useLayoutEffect)(()=>{"loaded"===n?i.current=Q.sn.tryStop(eO,r)??0:("errors"===n||"disabled"===n)&&Q.sn.delete(eO,r)},[n,e,r]),i}(i,a,C.status),D=(0,I.useRef)(0),M=(0,I.useRef)();(0,I.useEffect)(()=>{var e;null==(e=M.current)||e.call(M,C)},[C]);let k=(0,I.useCallback)((e,r)=>{if(T.current){if((0,eh.R)({type:"triggered",name:"overlay_complete_called",properties:{overlayId:a,completeReason:e,completeRequester:r}},"debug"),w.current){var n;let a=(performance.now()-w.current)/1e3;n=r??null,(0,_.sx)("curator_content_hidden",{overlay_id:i,timeShownSec:a,completeReason:e,completeRequester:n},{forwardToDatadog:!0}),w.current=void 0}S(!1),c.completeExperience(a),l(null)}},[w,a,i,c,l]);(0,eg.E)(a,"curator_global_request_close",({properties:{requester:e}})=>{k(ef.GlobalRequestClose,e)}),(0,I.useEffect)(()=>()=>{T.current?k(ef.Unmounted):c.dequeueExperience(a)},[k,c,a]),(0,I.useEffect)(()=>()=>{d.removeOverlay(a)},[d,a]),(0,en.h)(()=>((0,eh.R)({type:"triggered",name:"overlay_mounted",properties:{overlayId:a,priority:o}},"debug"),f({type:"mount",uniqueOverlayId:a}),()=>{(0,eh.R)({type:"triggered",name:"overlay_unmounted",properties:{overlayId:a}},"debug"),f({type:"unmount",uniqueOverlayId:a})}));let x=(0,I.useCallback)(r=>{let n={id:a,priority:o,channelID:h.FQ.Overlay,onShow:n=>{var o,d;S(!0),e.lifecycle&&(d=e.lifecycle.userFlagName,s.zl.get(eS(d)).increment()),null==(o=null==r?void 0:r.onShow)||o.call(r),(0,_.sx)("curator_content_shown",{shown:i,overlay_id:i},{forwardToDatadog:!0}),(0,eh.R)({type:"output",name:"overlay_showing",properties:{overlayId:a}},"debug"),w.current=performance.now(),l(i);let c=Q.sn.tryStop(ew,a);c&&((0,_.sx)(ew,{totalShowMs:c,dependenciesLoadingMs:L.current,queuedMs:D.current,overlayId:i},{forwardToDatadog:!0}),L.current=0)},onBlocked:n=>{var s;switch(n.reasonType){case h.oE.ExistingExperience:case h.oE.HigherPriExperience:let l={overlayId:a,blockingOverlayId:n.blocker.id};e.queueOnBlock?(0,eh.R)({type:"paused",name:"paused_on_current_overlay",properties:l},"debug"):(0,eh.R)({type:"failed",name:"failed_on_current_overlay",properties:l},"debug");let d=n.blocker.id.replace(em,"");null==(s=null==r?void 0:r.onBlocked)||s.call(r,d),(0,_.sx)("curator_content_blocked",{blocked:i,blocking:d,overlay_id:i,blocked_priority:o,blocking_priority:n.blocker.priority},{forwardToDatadog:!0}),Q.sn.delete(ew,a);break;case h.oE.ExperimentCheckFail:break;case h.oE.RuleFail:(0,eh.R)({type:"failed",name:"rule_check_failed",properties:{overlayId:a,name:n.rule.name,description:n.rule.description}},"debug");break;case h.oE.LifecycleCheckFail:(0,eh.R)({type:"failed",name:"lifecycle_check_failed",properties:{overlayId:a,description:function(e){switch(e){case"COOLDOWN":return"The overlay is in a cooldown period";case"MAX_TIMES":return"The overlay has been shown the maximum number of times";default:(0,ee.xb)(e)}}(n.cause)}},"debug");break;default:(0,ee.xb)(n)}},postChecks:P,queueOnBlock:e.queueOnBlock??!1,attributes:{allowShowingIfModalPresent:!!e.allowShowingIfModalPresent}};c.queueExperience(n)},[e.queueOnBlock,e.allowShowingIfModalPresent,e.lifecycle,L,c,o,P,i,l,a]),F=(0,I.useCallback)(e=>{if(T.current)return;Q.sn.start(ew,{key:a}),(0,eh.R)({type:"triggered",name:"overlay_show_called",properties:{overlayId:a}},"debug");let r={id:a,priority:o,queryResult:A.current};function n(n){var i;if("errors"===n.status){d.removeOverlay(r.id),null==(i=null==e?void 0:e.onLoadFailed)||i.call(e,n.errors);let o=n.errors.includes(eC);(0,eh.R)({type:"failed",name:"data_dependencies_load_error",properties:{overlayId:a,timedOut:o,errors:n.errors}},"debug"),Q.sn.delete(ew,a);return}if("disabled"===n.status){d.removeOverlay(r.id),(0,eh.R)({type:"failed",name:"data_dependencies_disabled",properties:{overlayId:a}},"debug"),Q.sn.delete(ew,a);return}if("loaded"===n.status){if((0,eh.R)({type:"resumed",name:"data_dependencies_loaded",properties:{overlayId:a,dataDependencies:n.data}},"trace"),(null==e?void 0:e.canShow)!=null&&!e.canShow(...eR(n.data))){d.removeOverlay(r.id),(0,eh.R)({type:"failed",name:"can_show_failed",properties:{overlayId:a,dataDependencies:n.data}},"debug"),Q.sn.delete(ew,a);return}d.showOverlay(r.id,r=>{D.current="didNotQueue"in r?0:r.queueDuration,x(e)})}}if(d.updateOverlay(r),!eT(A.current)){n(A.current);return}(0,eh.R)({type:"paused",name:"data_dependencies_loading",properties:{overlayId:a}},"trace"),M.current=e=>{d.updateOverlay({id:r.id,priority:o,queryResult:e}),eT(e)||(n(e),M.current=void 0)}},[a,o,d,x]),U=(0,I.useCallback)(()=>k(ef.Deactivated),[k]);return(0,I.useMemo)(()=>({show:F,complete:U,isShowing:v,experimentResult:N,uniqueId:a}),[F,U,v,N,a])}let eN=ea.Qw.error([eC]),eO="curator_deps_loaded";function eR(e){let[r,...n]=e;return n}},75738:(e,r,n)=>{"use strict";n.d(r,{t:()=>a,y:()=>s});var i=n(43282);function a(e){return`${e}__${(0,i.g)()}`}let o=/__[0-9A-Za-z\-]+$/;function s(e){return e.replace(o,"")}},59232:(e,r,n)=>{"use strict";function i(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PHBhdGggZmlsbD0iI0YxRjFGMSIgZD0iTSAwIDggSCAxNiBWIDAgSCA4IFYgMTYgSCAwIi8+PC9zdmc+"}n.d(r,{A:()=>i})},83909:(e,r,n)=>{"use strict";let i;n.d(r,{wt:()=>i}),n(66712),n(76621),n(208),n(52800),n(39671),n(79702),n(88022)},88022:(e,r,n)=>{"use strict";let i,a;n.d(r,{Cu:()=>G,Dc:()=>g,E9:()=>A,FE:()=>O,Fr:()=>x,GS:()=>C,Nb:()=>S,OH:()=>R,PB:()=>P,Pg:()=>I,WL:()=>Y,Yg:()=>j,_J:()=>k,_R:()=>W,ak:()=>D,ds:()=>T,f5:()=>w,fy:()=>z,k1:()=>N,pf:()=>L,pi:()=>f,qD:()=>K,uE:()=>F,v5:()=>_,xr:()=>M,ye:()=>V,ys:()=>b,z_:()=>B});var o=n(84934),s=n(66712),l=n(76621),d=n(52800),c=n(99506),u=n(39671),p=n(35938),h=n(79296),m=n(40047);function g(e){switch(e){case u.nT.Design:return"design";case u.nT.Whiteboard:return"figjam";case u.nT.DevHandoff:return"dev_handoff";case u.nT.Slides:return"slides";case u.nT.Sites:return"sites";default:return"unknown"}}function f(e){switch(e&&e.editorType){case c._Y.DESIGN:return"design";case c._Y.WHITEBOARD:return"figjam";case c._Y.SLIDES:return"slides";case c._Y.SITES:return"sites";default:return"unknown"}}function _(e,r){return(null==e?void 0:e.view)==="fullscreen"?g(e.editorType):r?f({editorType:r}):"unknown"}let y=(e,r)=>{var n,i;switch(null==(n=null==r?void 0:r.selectedView)?void 0:n.view){case"prototype":case"mobileViewer":if((null==(i=r.selectedView.file)?void 0:i.key)===e)return r.selectedView.file||null;return null;default:return e&&r.fileByKey[e]||null}},E=null;function b(e){E=e}let v=(e,r,n,i={})=>{var a,o,l,c;let u=_(null==n?void 0:n.selectedView,r&&r.editor_type),p={...i,...S(u,null==(a=null==n?void 0:n.selectedView)?void 0:a.view)};return p.productType=u,p.fileKey=e||"new",p.fileParentOrgId=r&&r.parent_org_id,p.fileTeamId=r&&r.team_id,r&&r.file_repo_id&&(p.fileRepoId=r.file_repo_id),p.fileTeamId=r&&r.team_id,p.containingFolderId=r&&r.folder_id,p.entrypoint=i.entrypoint,p.figmaBasicsExperiment=null==(o=null==r?void 0:r.track_tags)?void 0:o.figma_basics_experiment,E&&(p.loadID=E),p.fileIsIncremental=null!=(l=d.h3O)&&!!l.isIncrementalSession(),p.fileIsValidatingIncremental=null!=(c=d.h3O)&&!!c.isValidatingIncremental(),p.lazify_more_defaults=!!(0,s.kc)().lazify_more_defaults,p};function S(e,r){var n,i;return e===c._Y.SLIDES&&"fullscreen"===r?{slide_view:(null==(i=null==(n=d.Ez5)?void 0:n.singleSlideView())?void 0:i.isSingleSlideViewEnabled())?"ssv":"grid"}:{}}function I(){(0,o.Pg)()}let T=(0,h.n)((e,r,n,i={},a)=>{let s=y(r,n),l=v(r,s,n,i);(0,o.sx)(e,l,a)}),w=(0,h.n)((e,r,n,i={},a)=>{let s=v(r.key,r,n,i);(0,o.sx)(e,s,a)}),C=(0,h.n)((e,r,n,i)=>{let a=y(r,n),s=v(r,a,n,i);o.az.trackDefinedEvent(e,s)});function A(e,r,n={},i){n.productType=r&&f(r),n.fileKey=(null==r?void 0:r.key)||"new",n.fileParentOrgId=null==r?void 0:r.parentOrgId,n.fileTeamId=null==r?void 0:r.teamId,n.containingFolderId=null==r?void 0:r.folderId,r&&r.fileRepoId&&(n.fileRepoId=r.fileRepoId),(0,o.sx)(e,n,i)}function N(e,r,n){let i="File Browser File Clicked";if(r.state){var a,s;T(i,e,r.state,{selectedView:"recentsAndSharing"===(a=r.state).selectedView.view?a.selectedView.tab||p.G.RECENTLY_VIEWED:"folder"===a.selectedView.view&&a.selectedView.folderId===(null==(s=a.user)?void 0:s.drafts_folder_id)?"drafts":a.selectedView.view,entrypoint:r.entrypoint,planFilterId:r.planFilterId,planFilterType:r.planFilterType,sharedByFilter:r.sharedByFilter,viewMode:r.viewMode},n)}else r.selectedViewName?(0,o.sx)(i,{fileKey:e,selectedView:r.selectedViewName,entrypoint:r.entrypoint},n):(0,o.sx)(i,{fileKey:e,entrypoint:r.entrypoint},n)}function O(e,r,n){(0,o.sx)("file_browser_plan_filter_selected",{planId:e,entryPoint:r,planType:n})}function R(e,r,n={},i){n.fileKeys=r.map(e=>e.key),n.fileParentOrgIds=[],n.fileTeamIds=[],n.containingFolderIds=[],r.forEach(e=>{n.fileParentOrgIds.push(e.parent_org_id),n.fileTeamIds.push(e.team_id),n.containingFolderIds.push(e.folder_id)}),(0,o.sx)(e,n,i)}function P(e,r,n,i={},a){let s=r.map(e=>n.fileByKey[e]);i.fileKeys=r,i.fileParentOrgIds=[],i.fileTeamIds=[],i.containingFolderIds=[],s.forEach(e=>{i.fileParentOrgIds.push(e.parent_org_id),i.fileTeamIds.push(e.team_id),i.containingFolderIds.push(e.folder_id)}),(0,o.sx)(e,i,a)}function L(e,r,n={},i){n.fileKeys=[],n.fileParentOrgIds=[],n.fileTeamIds=[],n.containingFolderIds=[],r.forEach(e=>{n.fileKeys.push(e.key),n.fileParentOrgIds.push(e.parentOrgId),n.fileTeamIds.push(e.teamId),n.containingFolderIds.push(e.folderId)}),(0,o.sx)(e,n,i)}function D(e,r,n,i){let a=e.map(e=>e.key),o=[],s=[],l=[];a.forEach((e,n)=>{let i=r[n];o.push(i.key),s.push(i.folder_id),l.push(i.team_id)}),P("File Copied",a,n,{copiedFileKeys:o,copiedContainingFolderIds:s,copiedFileTeamIds:l},i)}function M(e,r,n,i,a={},s){let l=i.folders[r];a.folderId=(null==l?void 0:l.id)||r,a.folderTeamId=(null==l?void 0:l.team_id)||n,(0,o.sx)(e,a,s)}function k(e,r,n,i={},a){let s=(0,m._)(r,n);i.teamId=null==s?void 0:s.id,i.teamName=null==s?void 0:s.name,(0,o.sx)(e,i,a)}function x(e,r,n,i={},a){let s=n.orgById[r];i.orgId=s.id,i.orgName=s.name,(0,o.sx)(e,i,a)}function F(e,r,n={},i){let a=r.user;n.userId=a&&a.id,(0,o.sx)(e,n,i)}let U={[c.vt.FILE]:"fileKey",[c.vt.FILE_REPO]:"fileRepoId",[c.vt.FOLDER]:"folderId",[c.vt.TEAM]:"teamId"};function B(e,r,n={},i){let a=U[r.resource_type];n.roleId=r.id,n[a]=r.resource_id_or_key,r.user_id&&(n.roleUserId=r.user_id),(0,o.sx)(e,n,i)}function V(e,r){(0,o.sx)(e,r)}var H=((i=H||{}).DESIGN="DESIGN",i.WHITEBOARD="WHITEBOARD",i);function G(e,r,n){let i=r||"CTA Clicked";(0,l.Lo)(i,e.text||"",e,{logToConsole:l.NU.NEVER});let a={...e,nonInteraction:0};(0,o.sx)(i,a,{forwardToDatadog:!0,sendAsBeacon:n})}var W=((a=W||{}).NOT_POPULATED="not_populated",a.POPULATED_INCOMPLETE="populated_incomplete",a.POPULATED_COMPLETE="populated_complete",a);function z(e,r){let n={...e,nonInteraction:0};(0,o.sx)("Input Blurred",n,r)}function K(e,r={}){(0,o.sx)("Context Viewed",e,{forwardToDatadog:!0,...r})}let j="User Submits Reupgrade Request",Y=5e3},78905:(e,r,n)=>{"use strict";n.d(r,{N2:()=>s,TK:()=>l});var i=n(66712),a=n(72174),o=n(75224);function s(e,r){return!((0,a.uy)(e)||(0,a.uy)(r))&&((0,i.kc)().ds_use_lib_keys?e.library_key===r.library_key:(0,o.hH)(e)===r.key)}function l(e,r){return!((0,a.uy)(e)||(0,a.uy)(r))&&((0,i.kc)().ds_use_lib_keys?e.library_key===(0,o.$A)(r):(0,o.hH)(e)===r)}},86701:(e,r,n)=>{"use strict";n.d(r,{O:()=>i});class i{constructor(){this.jobs=[]}async enqueue(e){this.jobs.push(e),this.worker||(this.worker=this.start()),await this.worker,this.worker=void 0}isComplete(){return!this.worker}get length(){return this.jobs.length}waitForCompletion(){return this.worker?this.worker:Promise.resolve()}async start(){let e=this.jobs.shift();for(;e;)await e(),e=this.jobs.shift()}}},15467:(e,r,n)=>{"use strict";let i;n.d(r,{oE:()=>eA,bD:()=>q,mu:()=>eT,go:()=>eu,$3:()=>ec,yn:()=>ew,_S:()=>ed,vn:()=>es,QM:()=>el,ZG:()=>eI,GT:()=>eP,ZW:()=>et,z$:()=>ei,b_:()=>eN});var a,o=n(43407);n(94812);var s=n(84934),l=n(17068),d=n(38329),c=n(66712),u=n(74626),p=n(38580),h=n(72174),m=n(38082),g=n(63706),f=n(76621),_=n(4783),y=n(25871),E=n(47506),b=n(39863),v=n(65746),S=n(96808),I=n(44682),T=n(6757),w=n(52800),C=n(14809),A=n(60640),N=n(91205),O=n(28467),R=n(73131),P=n(65167),L=n(88022),D=n(62531),M=n(93862),k=n(86701),x=n(23699),F=n(63104);let U=(0,c.kc)().autosave_activity_log_debug?1e4:3e5,B=(0,c.kc)().autosave_activity_log_debug?5e3:6e4;async function V(e){await (0,x.DB)([x.h5],async r=>{r.objectStore(x.h5).add(e),await r.done},"readwrite")}class H{constructor(e,r,n){this.queue=new k.O,this.nextPromiseResolve=()=>{},this.nextFlushPromise=new Promise(e=>this.nextPromiseResolve=e),this.hasLoggedFlushError=!1,this.currentLog={fileKey:e,userID:r,startingSessionID:n,startTime:Date.now(),endTime:Date.now(),logs:[]}}addCommit(e){this.currentLog.endTime=Date.now(),this.currentLog.autosaveChanges&&e.commitPolicy===w.W2B.ADD_CHANGES&&e.reason===this.currentLog.autosaveChanges.commitReason?this.currentLog.autosaveChanges.commit=function(e,r){let n={};e.changedNodes.forEach(e=>n[e.nodeID]=e),e.clearedNodes.forEach(e=>n[e]=null),r.changedNodes.forEach(e=>n[e.nodeID]=e),r.clearedNodes.forEach(e=>n[e]=null);let i=Object.values(n).filter(e=>null!==e),a=(0,l.RP)(Object.entries(n),e=>null===e[1]?e[0]:null),o={};e.referencedNodes.forEach(({nodeID:e,changes:r})=>o[e]=r),r.referencedNodes.forEach(({nodeID:e,changes:r})=>o[e]=r);let s=Object.entries(o).map(e=>({nodeID:e[0],changes:e[1],snapshots:{}})),d=new Set;return e.imageHashes.forEach(e=>d.add(e)),r.imageHashes.forEach(e=>d.add(e)),{changedNodes:i,clearedNodes:a,referencedNodes:s,imageHashes:Array.from(d)}}(this.currentLog.autosaveChanges.commit,e.changes):(this.currentLog.autosaveChanges&&this.flushToDisk(),this.currentLog.autosaveChanges={commit:e.changes,commitPolicy:e.commitPolicy,commitReason:e.reason,fileVersion:e.fileVersion}),e.newSessionID&&(this.currentLog.newSessionID=e.newSessionID)}addLog(e){this.currentLog.endTime=Date.now(),this.currentLog.logs.push(e)}waitForNextFlushForTest(){return this.nextFlushPromise}logFlushError(e,r,n){this.hasLoggedFlushError||(this.hasLoggedFlushError=!0,r&&(0,F.W6)(`Activity log flush error: ${e}`,n),(0,s.sx)("activity log flush error",{message:e,...n}))}async flushToDisk(){if(!this.currentLog.autosaveChanges&&0===this.currentLog.logs.length){(0,f.Lo)("Autosave activity log","Nothing to write");return}let e=this.currentLog;this.currentLog={fileKey:e.fileKey,userID:e.userID,startingSessionID:e.newSessionID??e.startingSessionID,startTime:Date.now(),endTime:Date.now(),logs:[]};let{usageBytes:r}=await (0,F.U4)();if(void 0===r){this.logFlushError("Unable to get storage estimate",!0);return}if(r>10485760){this.logFlushError("Exceeded storage quota",!1,{usageBytes:r});return}await this.queue.enqueue(()=>V(e)).catch(e=>this.logFlushError("Failed to write to disk",!0,{wrappedErrorMessage:e.message})),this.nextPromiseResolve(),this.nextFlushPromise=new Promise(e=>this.nextPromiseResolve=e)}}let G=!1;async function W(){if(G)return;G=!0;let{usageBytes:e,quotaBytes:r}=await (0,F.U4)(),n=[];try{await (0,x.DB)([x.h5],async e=>{let r=e.objectStore(x.h5),i=await r.openCursor();for(;i;){let{fileKey:e,userID:r,startTime:a,endTime:o}=i.value;n.push({fileKey:e,userID:r,startTime:a,endTime:o}),i=await i.continue()}},"readonly")}catch(e){(0,f.xi)("Autosave","Failed to get activity log data for telemetry",{error:null==e?void 0:e.message})}if(n.length>0){let i=new Set(n.map(e=>e.fileKey)).size,a=new Set(n.map(e=>e.userID)).size,o=n.reduce((e,r)=>Math.min(e,r.startTime),1/0),l=Date.now()-o,d=n.reduce((e,r)=>Math.max(e,r.endTime),0),c=Date.now()-d;(0,s.sx)("activity log usage",{numRows:n.length,numFiles:i,numUsers:a,earliestStartTime:o,earliestStartTimeDelta:l,lastEndTime:d,lastEndTimeDelta:c,usageBytes:e,quotaBytes:r})}}class z{constructor(){this.state={type:"online"},W(),f.Zx.on("breadcrumb",e=>this.recordSentryBreadcrumb(e))}startFlushInterval(){return function(e,r){let n=setInterval(()=>{"done"===e()&&clearInterval(n)},r);return()=>clearInterval(n)}(()=>"offline"!==this.state.type?((0,F.W6)("We should only call flush if there is something to flush"),"done"):(this.state.activityTracker.flushToDisk(),"continue"),U)}flushToDisk(){return"offline"===this.state.type?this.state.activityTracker.flushToDisk():Promise.resolve()}waitForNextFlushForTest(){return"offline"===this.state.type?this.state.activityTracker.waitForNextFlushForTest():Promise.resolve()}recordAutosaveCommit(e,r,n,i){let a,o;if("online"===this.state.type)a=i.reason===w.uXP.OFFLINE||i.reason===w.uXP.LIMBOED_CHANGES?{type:"offline",activityTracker:new H(e,r,n),cancelFlushTimer:this.startFlushInterval(),startTime:Date.now()}:{type:"online"};else if(i.reason===w.uXP.SYNCED){let{activityTracker:e,cancelFlushTimer:r,startTime:n}=this.state;Date.now()-n>B&&(e.addCommit(i),o=e.flushToDisk()),r(),a={type:"online"}}else a=this.state;return this.state=a,"offline"===this.state.type&&this.state.activityTracker.addCommit(i),{newState:this.state.type,flushPromise:o}}recordSentryBreadcrumb(e){"online"!==this.state.type&&this.state.activityTracker.addLog({level:e.level?e.level:"log",type:"sentry",time:e.timestamp??Date.now(),log:JSON.stringify(e)})}}var K=n(54823),j=n(32367),Y=n(53297);function $(e,r){let n="unknown";e?"string"==typeof e?n=e:"message"in e&&(n=e.message):n="no error message",(0,f.x1)("Autosave",n,{message:r})}function q(){return 7776e6}async function Z(e,r,n,i){let a=i.objectStore(x.Sp),o=await a.index(x.SW).get([e,r,n]);return o&&o.id?{id:o.id,...o}:void 0}async function X(e,r,n,i){let a=await Z(e,r,n,i);return null==a?void 0:a.id}async function J(e,r,n){let i=e.objectStore(x.Sp),a=e.objectStore(x.jP),o=e.objectStore(x.DV),s=e.objectStore(x.w8),l=[];for(let e of n){let r=await i.index(x.SW).get([e.userID,e.fileKey,e.sessionID]);r&&r.id&&l.push(r)}if(0===l.length)return await e.done,{changesByNode:new Map,referencedNodeMap:new Map,fileVersion:-1};l.sort((e,r)=>r.fileVersion-e.fileVersion);let d=l[0],c=new Map,u=new Map;for(let e of(await a.getAll((0,x.iM)(d.id))))c.set(e.nodeID,[e.changes,e.snapshots]);for(let e of(await s.getAll((0,x.iM)(d.id))))u.set(e.nodeID,e.buffer);let p=d.lastUpdatedAt;for(let e of l.slice(1)){let r=e.fileVersion===d.fileVersion;if(r){for(let r of(await a.getAll((0,x.iM)(e.id)))){let e=c.get(r.nodeID),n=r.changes,i=r.snapshots;if(e){let[a,o]=e;n=w.i6g.mergeMultiplayerMessages(a,r.changes,d.fileVersion),i={...o,...r.snapshots}}c.set(r.nodeID,[n,i]),a.put({editorSessionID:d.id,nodeID:r.nodeID,changes:n,snapshots:i}).catch(e=>$(e,"mergeAndClaimChanges: updating session IDs"))}for(let r of(await s.getAll((0,x.iM)(e.id))))u.set(r.nodeID,r.buffer),s.put({editorSessionID:d.id,nodeID:r.nodeID,buffer:r.buffer}).catch(e=>$(e,"mergeAndClaimChanges: merge referenced nodes"));p=Math.max(p,e.lastUpdatedAt)}a.delete((0,x.iM)(e.id)).catch(e=>$(e,"mergeAndClaimChanges: node changes for session")),s.delete((0,x.iM)(e.id)).catch(e=>$(e,"mergeAndClaimChanges: referenced nodes for session"));let n=await o.openCursor((0,x.iM)(e.id));for(;n;)r&&o.put({...n.value,editorSessionID:d.id}).catch(e=>$(e,"mergeAndClaimChanges: merge images")),n.delete().catch(e=>$(e,"mergeAndClaimChanges: remove old image")),n=await n.continue();i.delete(e.id).catch(e=>$(e,"mergeAndClaimChanges: delete old session id"))}return await i.put({...d,sessionID:r,lastUpdatedAt:p}),(0,x.dU)(e),await e.done,(0,f.Lo)("Autosave",`Found claimed autosave changes from ${l.length} sessions`,void 0,{logToConsole:w.NUh.ALWAYS}),{changesByNode:c,referencedNodeMap:u,fileVersion:d.fileVersion}}async function Q(e,r){let n=(0,x.Zt)(e,r),i=[];return await A.xK.timeAsync("checkForAutosave",async()=>{let e=await (0,x.Z4)();if(!e)return;let r=e.transaction(x.Sp),a=r.objectStore(x.Sp),o=await a.index(x.SW).openCursor(n);for(;o;)i.push(o.value),o=await o.continue();await r.done}),i.length>0&&(0,f.ED)("Autosave","Found auto-saved data for this file",void 0,{logToConsole:w.NUh.ALWAYS}),i}async function ee(e){return await A.xK.timeAsync("filterAutosaveSessions",async()=>{let r=await Promise.all(e.map(e=>(0,Y.mc)(e))),n=Date.now()-q(),i=e.filter((e,i)=>!r[i]&&e.lastUpdatedAt>n);return 0===i.length&&(0,f.Lo)("Autosave","Changes not available or already claimed by another tab",void 0,{logToConsole:w.NUh.ALWAYS}),i})}async function et(e){let r={};for(let n of e){let e=await er(n);(e.unsyncedFiles.length>0||e.newFiles.length>0)&&(r[n]=e)}return r}async function er(e){let r=await (0,x.Z4)();if(!r)return{unsyncedFiles:[],newFiles:[],nextGarbageCollectionTimestamp:-1};let{editorSessionRowsWithChanges:n,newFilesByKey:i,newFilesWithChanges:a}=await en(r,e),s=new Set,l=new Map,d=-1,c=[];for(let r of n)s.has(r.fileKey)||c.push((0,Y.mc)({userID:e,fileKey:r.fileKey,sessionID:r.sessionID}).then(e=>{if(!e){s.add(r.fileKey);let e=Math.max(l.get(r.fileKey)||0,r.lastUpdatedAt);l.set(r.fileKey,e),d=-1===d?r.lastUpdatedAt:Math.min(d,r.lastUpdatedAt)}}));return await Promise.all(c),{unsyncedFiles:Array.from(s).filter(e=>!(0,o.T)(e)).map(e=>({type:"autosave-file",fileKey:e,lastUpdatedAt:l.get(e)})),newFiles:Array.from(s).filter(e=>(0,o.T)(e)&&i.has(e)).map(e=>{let r=i.get(e);return eo(r,l,a.has(r.fileKey))}).filter(({hasChanges:e})=>e),nextGarbageCollectionTimestamp:d}}async function en(e,r){let n=e.transaction([x.Sp,x.jP,x.JR]),i=Error("original async stack");n.done.catch(e=>{e.cause=i,(0,f.$D)(_.e.UNOWNED,e)});let a=n.objectStore(x.Sp),o=await a.index(x.SW).getAll((0,x.cu)(r)),s=[],l=n.objectStore(x.jP);for(let e of o)if(await l.count((0,x.iM)(e.id))>0){for(let r of(await l.getAll((0,x.iM)(e.id))))if(!((0,c.kc)().suppress_unsaved_changes_ui&&(0,c.kc)().incremental_loading_validation)||w.i6g&&!w.i6g.changesAreOnlyNewFileSystemChanges(r.changes,e.fileVersion)){s.push(e);break}}let d=new Map,u=n.objectStore(x.JR),p=new Set;for(let e of(await u.getAll((0,x.cu)(r)))){d.set(e.fileKey,e);let r=o.find(r=>r.fileKey===e.fileKey);if(r){let n=await l.getAll((0,x.iM)(r.id));(ef(e.fileKey,n)||e.hasChangedMetadata)&&p.add(e.fileKey)}}return{editorSessionRowsWithChanges:s,newFilesByKey:d,newFilesWithChanges:p}}async function ei(e){let r=await er(e);return r.unsyncedFiles.length>0||r.newFiles.length>0}async function ea(e){var r,n;let i=await (0,x.Z4)();if(!i)return[];let{editorSessionRowsWithChanges:a,newFilesByKey:o,newFilesWithChanges:s}=await en(i,e),l=new Set,d=new Map;for(let e of a)l.add(e.fileKey),d.set(e.fileKey,Math.max(d.get(e.fileKey)||0,e.lastUpdatedAt));let c=Array.from(l).map(e=>{let r=o.get(e);return r?eo(r,d,s.has(r.fileKey)):null}).filter(h.Vq);return null==(n=null==(r=eS)?void 0:r.fileCreationManager)||n.updateNewFileInfoFromFiles(c),c}function eo(e,r,n){return{type:"new-autosave-file",fileKey:e.fileKey,editorType:e.editorType,name:e.name,creatorId:e.userID,createdAt:e.createdAt,lastUpdatedAt:r.get(e.fileKey),orgId:e.orgID??null,hasChanges:n,hasChangedMetadata:e.hasChangedMetadata??!1}}function es(e,r){return(0,l.WI)(e.map(e=>{let n=r[e.fileKey];return n&&!n.trashed_at?e:null}))}function el(e,r){return e.filter(e=>(0,O.canEditFileMemoized)(e.fileKey,r))}function ed(e,r){return(0,l.WI)(e.map(e=>{let n=r[e.fileKey];if(n)return{type:"autosave-file",fileKey:e.fileKey,lastUpdatedAt:e.lastUpdatedAt,file:n}}))}async function ec(e,r){if((0,F.rQ)())return;let n=async(e,n)=>{let i=n.objectStore(x.jP);return ef(r,await i.getAll((0,x.iM)(e.id)))};await eu((0,x.Zt)(e,r),n)}async function eu(e,r){let n=await (0,x.Z4)();if(!n)return[];let i=n.transaction([x.Sp,x.jP,x.DV,x.w8,x.JR],"readwrite"),a=Error("original async stack");i.done.catch(e=>{e.cause=a,(0,f.$D)(_.e.UNOWNED,e)});let s=i.objectStore(x.Sp),l=i.objectStore(x.jP),d=i.objectStore(x.DV),c=i.objectStore(x.w8),u=i.objectStore(x.JR),p=!1,h=await s.index(x.SW).getAll(e),m=[],g=[];for(let e of h)if(!(r&&await r(e,i))){let[r,n,i]=await Promise.all([l.count((0,x.iM)(e.id)),d.count((0,x.iM)(e.id)),c.count((0,x.iM)(e.id))]);g.push({userID:e.userID,fileKey:e.fileKey,sessionID:e.sessionID,isLocalFile:(0,o.T)(e.fileKey),nodeCount:r,imageCount:n,referencedNodeCount:i,lastUpdatedAt:e.lastUpdatedAt}),s.delete(e.id).catch(e=>$(e,"deleteAutosaveDataForSessions: delete editor session")),l.delete((0,x.iM)(e.id)).catch(e=>$(e,"deleteAutosaveDataForSessions: delete node changes")),d.delete((0,x.iM)(e.id)).catch(e=>$(e,"deleteAutosaveDataForSessions: delete images")),c.delete((0,x.iM)(e.id)).catch(e=>$(e,"deleteAutosaveDataForSessions: delete referenced nodes")),p=!0,(0,o.T)(e.fileKey)&&m.push({localFileKey:e.fileKey,userID:e.userID})}for(let{localFileKey:e,userID:r}of m)0===await s.index(x.SW).count((0,x.Zt)(r,e))?await u.delete((0,x.Zt)(r,e)):(0,F.W6)("Local file has remaining sessions");return await s.count()===0&&(await l.count()>0&&((0,F.W6)("Found leftover node changes in IDB"),l.delete((0,x.BE)()).catch(e=>$(e,"deleteAutosaveDataForSessions: delete leftover node changes"))),await d.count()>0&&((0,F.W6)("Found leftover images in IDB"),d.delete((0,x.IE)()).catch(e=>$(e,"deleteAutosaveDataForSessions: delete leftover images"))),await c.count()>0&&((0,F.W6)("Found leftover referenced node buffers in IDB"),c.delete((0,x.Ab)()).catch(e=>$(e,"deleteAutosaveDataForSessions: delete leftover referenced nodes")))),(0,x.dU)(i),await i.done,p&&(0,j.HZ)(),g}async function ep(e,r){await r.objectStore(x.jP).count((0,x.iM)(e))===0&&await r.objectStore(x.DV).count((0,x.iM)(e))===0&&await r.objectStore(x.w8).count((0,x.iM)(e))===0&&r.objectStore(x.Sp).delete(e).catch(e=>$(e,"deleteEditorSessionRowIfUnused: delete editor session"))}async function eh(e,r){let n=await (0,x.Z4)();if(!n)throw Error("Could not open autosave data");let i=n.transaction([x.Sp,x.jP,x.DV,x.w8]),a=i.objectStore(x.Sp),o=i.objectStore(x.jP),s={};for(let e of(await a.getAll()))s[e.id]=e,s[e.id].changes={},s[e.id].snapshots={};for(let n of(s.unknown={changes:{},snapshots:{}},(await o.getAll()).slice(0,e)))n.editorSessionID in s?(s[n.editorSessionID].changes[n.nodeID]=JSON.parse(w.i6g.encodeChangesAsJson(n.changes,s[n.editorSessionID].fileVersion,!!r)),s[n.editorSessionID].snapshots[n.nodeID]=n.snapshots):(s.unknown.changes[n.nodeID]=JSON.parse(w.i6g.encodeChangesAsJson(n.changes,1,!!r)),s.unknown.snapshots[n.nodeID]=n.snapshots);return await i.done,s}async function em(e){let{transaction:r,commitPolicy:n,userID:i,fileKey:a,fileVersion:s,sessionID:l,oldSessionID:d,pendingChanges:u,pendingImages:p,pendingReferencedNodes:h,reason:m,isFirstCommitOfAutosaveSession:g}=e,f=r.objectStore(x.Sp),_=r.objectStore(x.jP),E=r.objectStore(x.DV),b=r.objectStore(x.w8),v=await Z(i,a,d,r),S=0;v&&(S=(v.offlineEditingTime||0)+(g?0:Date.now()-v.lastUpdatedAt));let I=null==v?void 0:v.id,T={userID:i,fileKey:a,sessionID:l,lastUpdatedAt:Date.now(),releaseTag:(0,c.Ay)().release_git_tag||"",fileVersion:s,lastCommitReason:m,offlineEditingTime:S,originalTrackingSessionId:(0,y.fF)()};for(let e of(null==I?I=await f.add(T):(n===w.W2B.REPLACE_CHANGES&&(_.delete((0,x.iM)(I)).catch(e=>$(e,"commitChanges: replace node changes")),b.delete((0,x.iM)(I)).catch(e=>$(e,"commitChanges: replace referenced nodes"))),f.put({id:I,...T}).catch(e=>$(e,"commitChanges: update session"))),u))e.changes?_.put({editorSessionID:I,nodeID:e.nodeID,changes:e.changes,snapshots:e.snapshots||void 0}).catch(e=>$(e,"commitChanges: put node changes")):_.delete([I,e.nodeID]).catch(e=>$(e,"commitChanges: clear node changes"));for(let e of p)if(await E.count([I,e])===0){let r=w.Bko.getCompressedImage(e);r&&E.add({editorSessionID:I,hash:e,blob:r}).catch(e=>$(e,"commitChanges: add images"))}for(let e of h)b.add({editorSessionID:I,nodeID:e.nodeID,buffer:e.buffer}).catch(e=>$(e,"commitChanges: add referenced nodes"));let C=await _.count((0,x.iM)(I));return 0===C&&(await E.delete((0,x.iM)(I)),await b.delete((0,x.iM)(I))),await ep(I,r),(0,x.dU)(r),await r.done,(0,o.T)(a)&&(0,j.HZ)(),C}async function eg(e,r,n){(0,f.Lo)("Autosave","assigning file key for new file",{localFileKey:r,newFileKey:n}),await (0,x.DB)([x.Sp,x.JR],async i=>{let a=i.objectStore(x.Sp);(await a.index(x.SW).getAll((0,x.Zt)(e,r))).map(e=>{e.fileKey=n,a.put(e)}),i.objectStore(x.JR).delete((0,x.Zt)(e,r))},"readwrite"),(0,j.HZ)()}function ef(e,r){if(!(0,o.T)(e))return r.length>0;if(r.length>2)return!0;for(let{nodeID:e}of r)if(!["0:0","0:1"].includes(e))return!0;return!1}class e_{constructor(){this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}onCommitEvent(){this.nextEventPromiseResolve(),this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}waitForNextCommit(){return this.nextEventPromise}}class ey{constructor(e,r){this.userID=e,this._state={type:"connecting"},this._fileKey="",this.fileCreationManager=null,this.fileKey=r,(0,F.rQ)()?(this._sessionsToRestore=Promise.resolve([]),this._state={type:"terminated"}):(0,o.T)(r)?this._sessionsToRestore=Q(e,r):this._sessionsToRestore=Q(e,r).then(e=>ee(e))}get fileKey(){return this._fileKey}get managerState(){return this._state.type}session(){return"connected"===this._state.type?this._state.session:null}set fileKey(e){this._fileKey=e;let r=(0,o.T)(e)?e:null;u.zl.set(K.h,r)}async assignFileKeyForLocalFile(e){if("connected"!==this._state.type){"connecting"===this._state.type&&(0,F.W6)("Still connecting");return}try{await this._state.session.enqueueAssignFileKeyForLocalFile(e,()=>{this.fileKey=e,this.fileCreationManager=null})}catch(e){this.terminateDueToError("unable to update file key",!0)}}async terminateAndWaitForCleanup(){let e="connected"===this._state.type?this._state.session:null;this._state={type:"terminated"},u.zl.set(K.h,null),await (null==e?void 0:e.destroy().catch(()=>(0,F.W6)("Failed to destroy autosave session")))}terminateDueToError(e,r){(0,f.xi)("Autosave","autosave disabled",{message:e}),r&&(0,F.W6)(e);let n="connected"===this._state.type;(0,s.sx)("autosave_disabled",{message:e,hasSessionInProgress:n},{forwardToDatadog:!0}),this.terminateAndWaitForCleanup().catch(r=>(0,F.W6)("Failed to terminate autosave",{message:e,error:r.message}))}async onConnect(e){if("connecting"!==this._state.type)return;try{await (0,x.Fy)()}catch(e){(0,f.Lo)("Autosave","IDB is not available in the current browser session.",void 0,{logToConsole:w.NUh.ALWAYS}),(0,s.sx)("autosave_db_failure",{message:e.message}),this.terminateDueToError("unable to open DB",!1);return}let r=new m.M4;r.start();let n=await this._sessionsToRestore;(0,o.T)(this.fileKey)&&(n.length>1?((0,F.W6)("Local file has multiple sessions",{sessionCount:n.length,sessionIds:n.map(e=>e.sessionID).slice(0,5).join(", ")}),this.terminateDueToError("Local file has multiple sessions",!1)):1===n.length&&0!==n[0].sessionID&&((0,F.W6)("Local file with changes from non-zero session",{existingSessionId:n[0].sessionID}),this.terminateDueToError("Local file with changes from non-zero session",!1)));let i=await (0,Y.A2)({userID:this.userID,fileKey:this.fileKey,sessionID:e});if(!i){this.terminateDueToError("unable to acquire lock",!0);return}this._state={type:"connected",session:new ev(e,this,r,n,i)}}async onConnectNewFile(e){let r=this.fileKey;if((0,o.T)(r))try{await (0,x.DB)([x.JR],async n=>{let i=n.objectStore(x.JR);if(await i.get((0,x.Zt)(this.userID,r)))return;let a={fileKey:r,userID:this.userID,editorType:e.editorType,name:e.fileName??(0,b.t)("fullscreen.fullscreen_view_selector.untitled"),createdAt:Date.now(),orgID:e.org_id};await i.put(a)},"readwrite"),this.fileCreationManager&&(0,F.W6)("File creation manager already exists",{fileKey:r}),this.fileCreationManager=new eb(r,e)}catch(e){this.terminateDueToError("unable to set new file info",!0);return}await this.onConnect(0)}}async function eE(e,r,n){if((0,o.T)(r)&&e)try{await (0,x.DB)([x.JR],async i=>{let a=i.objectStore(x.JR),o=await a.get((0,x.Zt)(e,r));o&&await a.put({...o,name:n,hasChangedMetadata:!0})},"readwrite"),(0,j.HZ)()}catch(e){(0,f.$D)(_.e.SCENEGRAPH_AND_SYNC,Error("unable to update new file info"))}}class eb{constructor(e,r){this._pendingRealFileKey=null,this.fileKey=e,this._newFileInfo=r}get newFileInfo(){return this._newFileInfo}updateNewFileInfo(e){this._newFileInfo={...this._newFileInfo,...e}}updateNewFileInfoFromFiles(e){let r=e.find(e=>e.fileKey===this.fileKey);if(r){let e=(0,P.B)(r,this.newFileInfo.openNewFileIn);this.updateNewFileInfo(e)}}get pendingRealFileKey(){return this._pendingRealFileKey}assignPendingRealFileKey(e){this._pendingRealFileKey=e,j.hp.sendToAllTabs(j.m6,{localFileKey:this.fileKey,realFileKey:e})}}class ev{constructor(e,r,n,i,o){this.sessionID=e,this.manager=r,this.restoreTimer=n,this.changesToRestore=i,this.webLock=o,this.transactionQueue=new k.O,this.commitEventListener=new e_,this.restoring=!1,this.consecutiveCommitsAddingChanges=0,this.activityLogger=(null==(a=navigator.storage)?void 0:a.estimate)?new z:null,this.restoreAnalytics={hadChangesToRestore:!1,fileKey:"",time:0,timeToStartSession:0,timeToApply:0,timeToSync:0,sessionsCheckTime:0,numberOfBytes:0,numberOfNodes:0,numberOfReferencedNodes:0,numberOfRestoredReferencedNodes:0,numberOfSessions:0,numberOfImages:0,neededToMigrate:!1,persistentStorage:!1,changesAreAllDerivedData:!1,nodeFields:[],stagingDump:void 0,lastUpdatedAt:void 0,releaseTag:void 0,isLocalFile:!1,offlineEditingTime:void 0,lastCommitReason:void 0,originalTrackingSessionId:void 0,storageUsageBytes:void 0,storageQuotaBytes:void 0,isIncremental:!1},this.reportedFullQueue=!1,this.reportedStorageError=!1,this.hasCommitted=!1,this.restoreAnalytics.timeToStartSession=this.restoreTimer.getElapsedTime()}getActivityLogger(){return this.activityLogger}async destroy(){await this.webLock.release().catch(e=>$(e,"AutosaveSession.destroy: releasing session lock"))}sessionTransaction(e,r,n,i){let a=(0,x.DB)(r,n,i);return a.catch(r=>{(0,s.sx)("autosave_transaction_failure",{transactionName:e,message:r.message}),this.manager.terminateDueToError(`${e} transaction failed`,!1)}),a}readyToAcceptChanges(){let e=this.transactionQueue.length>=10;return e&&!this.reportedFullQueue&&(this.reportedFullQueue=!0,(0,F.W6)("Autosave transaction queue is backed up.")),!this.restoring&&!e}hasOngoingCommitTask(){return!this.transactionQueue.isComplete()}async tryToFlushAutosave(){this.readyToAcceptChanges()&&(w.i6g.flushAutosave(),await this.transactionQueue.waitForCompletion())}async enqueueAutosaveCommit(e){await this.transactionQueue.enqueue(()=>this.commitAutosave(e))}async commitAutosave(e){var r;let{changes:n,commitPolicy:i,fileVersion:a,fileKey:o,newSessionID:s,numberOfUncleanRegisters:l,reason:c}=e;if(!this.readyToAcceptChanges()){this.manager.terminateDueToError("Committing, but not ready to accept changes",!0);return}if(s<0){this.manager.terminateDueToError("Unexpected sessionID < 0",!0);return}if(o&&o!==this.manager.fileKey){(0,F.W6)("Web file key out of sync with fullscreen file key",{"web file key":this.manager.fileKey,"fullscreen file key":o}),this.manager.terminateDueToError("Web file key out of sync with fullscreen file key",!1);return}null==(r=this.activityLogger)||r.recordAutosaveCommit(this.manager.fileKey,this.manager.userID,this.sessionID,e);let u=this.sessionID,p=null;if(s!==this.sessionID){p=this.webLock,this.sessionID=s;let e=await (0,Y.A2)({userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID});if(!e){this.manager.terminateDueToError("unable to acquire lock",!0);return}this.webLock=e}if(!(0,Y.LX)(this.webLock,{userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID})){this.manager.terminateDueToError("lock is not for the current session",!1);return}let h=n.changedNodes.length,m=n.changedNodes.map(e=>({nodeID:e.nodeID,changes:e.changes,snapshots:e.snapshots})).concat(n.clearedNodes.map(e=>({nodeID:e,changes:null,snapshots:null}))),g=[];for(let e of n.referencedNodes)g.push({nodeID:e.nodeID,buffer:e.changes});let _=new Set;for(let e of n.imageHashes)_.add(e);let y=await this.sessionTransaction("commit",[x.Sp,x.jP,x.DV,x.w8],async e=>await em({transaction:e,commitPolicy:i,userID:this.manager.userID,fileKey:this.manager.fileKey,fileVersion:a,oldSessionID:u,sessionID:this.sessionID,pendingChanges:m,pendingImages:_,pendingReferencedNodes:g,reason:c,isFirstCommitOfAutosaveSession:!this.hasCommitted}),"readwrite");this.hasCommitted=!0;let b={stored_node_changes:y,unclean_registers:l,changed_nodes:h,cleared_nodes:n.clearedNodes.length,referenced_nodes:g.length,pending_images:_.size,commit_policy:w.W2B[i],session_id:this.sessionID,new_session_id:s,commit_reason:void 0!==c?w.uXP[c]:void 0,file_key:o,manager_file_key:this.manager.fileKey};if((0,f.Lo)("Autosave","commit completed",b),(0,L.ds)("autosave_commit_completed",o,d.D.getState(),b),!this.reportedStorageError&&void 0!==l&&l!==y){if(y>0&&0===l){let e=e=>{if(!(e.length>5))return e;{let r=e.slice(0,5);return r.push("..."),r}},r=await eh(5,!0);(0,f.x1)("Autosave","Dumping autosave since we expect IDB to be empty",{debug:r,changedNodes:e(n.changedNodes.map(e=>e.nodeID)),clearedNodes:e(n.clearedNodes),referencedNodes:e(n.referencedNodes.map(e=>e.nodeID)),imageHashes:e(n.imageHashes),currentSessionID:w.h3O.currentSessionID(),commitQueueLength:this.transactionQueue.length}),this.manager.terminateDueToError("Expected IDB to be empty after synchronizing with multiplayer",!0)}else y>l?this.manager.terminateDueToError("Expected IDB to have at many node changes as registers (currently has more)",!0):y<l&&this.manager.terminateDueToError("Expected IDB to have at many node changes as registers (currently has less)",!0);this.reportedStorageError=!0}null!=p&&p.release().catch(e=>$(e,"commitAutosave: release lock")),this.commitEventListener.onCommitEvent(),i===w.W2B.ADD_CHANGES?(this.consecutiveCommitsAddingChanges++,this.consecutiveCommitsAddingChanges>=4&&(0,E.YQ)({id:j.Cr})):this.consecutiveCommitsAddingChanges=0}async restoreAutosaveIfNeeded(){if(w.i6g.fileIsReadOnly())return;this.restoreAnalytics.fileKey=this.manager.fileKey,this.restoreAnalytics.isLocalFile=(0,o.T)(this.manager.fileKey),this.restoring=!0;let e=function(){var e;if(!g.Ay.chrome||!(null==(e=navigator.storage)?void 0:e.persist))return Promise.resolve(!1);let r=new Promise(e=>setTimeout(()=>e(!1),200));return Promise.race([navigator.storage.persist(),r])}(),r=(0,F.U4)(),n=this.changesToRestore;if(this.changesToRestore=[],this.restoreAnalytics.sessionsCheckTime=this.restoreTimer.getElapsedTime(),this.restoreAnalytics.numberOfSessions=n.length,n.length>0){let e=n[0];this.restoreAnalytics.lastUpdatedAt=e.lastUpdatedAt,this.restoreAnalytics.offlineEditingTime=e.offlineEditingTime,this.restoreAnalytics.originalTrackingSessionId=e.originalTrackingSessionId,this.restoreAnalytics.lastCommitReason=e.lastCommitReason?w.uXP[e.lastCommitReason]:void 0,this.restoreAnalytics.releaseTag=e.releaseTag,await this.restoreChangesForSessionRows(n)}this.restoreAnalytics.persistentStorage=await e;let{usageBytes:i,quotaBytes:a}=await r;this.restoreAnalytics.storageUsageBytes=i,this.restoreAnalytics.storageQuotaBytes=a,this.restoreAnalytics.isIncremental=w.h3O.isIncrementalSession(),this.restoreTimer.stop(),this.restoreAnalytics.time=this.restoreTimer.getElapsedTime(),(0,L.ds)("autosave_restore_on_load",this.restoreAnalytics.fileKey,d.D.getState(),this.restoreAnalytics,{forwardToDatadog:!0}),this.restoring=!1}async restoreChangesForSessionRows(e){if(!(0,Y.LX)(this.webLock,{userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID})){this.manager.terminateDueToError("lock is not for the current session",!1);return}let{changesByNode:r,referencedNodeMap:n,fileVersion:i}=await this.sessionTransaction("restore",[x.Sp,x.jP,x.DV,x.w8],async r=>await J(r,this.sessionID,e),"readwrite"),a=r.size>0;for(let e of(a?((0,o.T)(this.manager.fileKey)||await (0,R.m)(this.manager.fileKey,"Offline sync","Before syncing changes",d.D.dispatch).catch(e=>{var r;return(0,F.W6)("Failed to create before savepoint",{status:e.status,message:null==(r=e.data)?void 0:r.message})}),(0,f.Lo)("Autosave","Restoring auto-saved data",void 0,{logToConsole:w.NUh.ALWAYS}),await this.restoreChanges(r,n,i)):(0,f.Lo)("Autosave","Changes are empty!",void 0,{logToConsole:w.NUh.ALWAYS}),this.commitEventListener.waitForNextCommit().then(()=>{j.hp.sendToOtherTabs(j.a)}).catch(e=>$(e,"restoreChangesForSessionRows: waitForNextCommit")),this.restoreAnalytics.hadChangesToRestore=a,this.restoreAnalytics.numberOfBytes=0,this.restoreAnalytics.numberOfNodes=r.size,this.restoreAnalytics.numberOfReferencedNodes=n.size,r.values()))this.restoreAnalytics.numberOfBytes+=e.length}async restoreChanges(e,r,n){let i=Array.from(e.entries()).sort(([e,r],[n,i])=>e<n?-1:1),a=(0,c.kc)().suppress_unsaved_changes_ui&&(0,c.kc)().incremental_loading_validation&&i.every(([e,[r]])=>w.i6g.changesAreOnlyNewFileSystemChanges(r,n));for(let[e,[r,a]]of i)w.i6g.loadAutosavedNodeChanges(e,r,a,n);if(this.restoreAnalytics.changesAreAllDerivedData=w.i6g.changesAreAllDerivedData(),this.restoreAnalytics.nodeFields=w.i6g.restoredNodeFieldNames(),this.restoreAnalytics.neededToMigrate=w.i6g.currentFileVersion()>n,(0,M.Ff)()){(0,L.ds)("autosave_load_containing_pages_start",this.manager.fileKey,d.D.getState(),{node_count:e.size,fileKey:this.manager.fileKey});let r=performance.now(),n=new Set(e.keys());for(let e of w.i6g.getParentIndexChanges())n.add(e);await (0,M.Xl)(n),(0,L.ds)("autosave_load_containing_pages_end",this.manager.fileKey,d.D.getState(),{node_count:e.size,timeElapsed:performance.now()-r,fileKey:this.manager.fileKey})}let s=w.i6g.getImagesUsedInAutosavedChanges().split(" ");this.restoreAnalytics.numberOfImages=await this.restoreImagesIfAvailable(s);let l=this.restoreAvailableReferencedNodes(r);w.i6g.migrateAndSetAutosaveChanges(l,n),D.l7.autosave("autosave",()=>w.i6g.applyAutosavedChanges()),this.restoreAnalytics.timeToApply=this.restoreTimer.getElapsedTime(),(0,f.Lo)("Autosave","Successfully applied auto-saved changes",void 0,{logToConsole:w.NUh.ALWAYS});let u=()=>{d.D.dispatch(S.Q.enqueueFront({notification:{type:v._.AUTOSAVE_CHANGES_RESTORED,message:"Your offline changes were synced"}})),(0,f.Lo)("Autosave","Successfully synced auto-saved changes",void 0,{logToConsole:w.NUh.ALWAYS})};(0,o.T)(this.manager.fileKey)?(0,C.l)().then(()=>{var e;this.manager.fileKey!==(null==(e=d.D.getState().openFile)?void 0:e.key)||a||u()}):(await (0,C.l)(),this.restoreAnalytics.timeToSync=this.restoreTimer.getElapsedTime(),await (0,R.m)(this.manager.fileKey,"Offline sync","After syncing changes",d.D.dispatch).catch(e=>{var r,n;(0,L.ds)("autosave_skip_after_checkpoint",this.manager.fileKey,d.D.getState(),{error:null==(r=e.data)?void 0:r.message}),(0,F.W6)("Failed to create after savepoint",{status:e.status,message:null==(n=e.data)?void 0:n.message})}),a||u())}async restoreImagesIfAvailable(e){let r=0;return await this.sessionTransaction("restore images",[x.Sp,x.DV],async n=>{let i=await this.currentEditorSessionID(n);if(!i)return;let a=n.objectStore(x.DV);for(let n of e){let e=await a.get([i,n]);e&&(w.i6g.restoreImageBytes(n,e.blob),r++)}await n.done}),r}restoreAvailableReferencedNodes(e){let r=[];for(let[n,i]of e)w.i6g.restoreReferencedNodeFile(n,i),r.push(n);return r}currentEditorSessionID(e){return X(this.manager.userID,this.manager.fileKey,this.sessionID,e)}async getNodeChangesForSession(){let e=await (0,x.Z4)();if(!e)throw Error("Unable to get DB");let r=e.transaction([x.Sp,x.jP],"readonly"),n=r.objectStore(x.jP),i=await this.currentEditorSessionID(r);return i?await n.getAll((0,x.iM)(i)):[]}async getNodeChangeCount(){return(await this.getNodeChangesForSession()).length}async hasPersistedUserChanges(){let e=await this.getNodeChangesForSession();return ef(this.manager.fileKey,e)}async enqueueAssignFileKeyForLocalFile(e,r){let n=this.manager.fileKey;if(!(0,o.T)(n)){(0,F.W6)("Only local file keys can be reassigned");return}if((0,o.T)(e)){(0,F.W6)("Cannot reassign file key to a local file key");return}await this.transactionQueue.enqueue(async()=>{let i=this.webLock,a=await (0,Y.A2)({userID:this.manager.userID,fileKey:e,sessionID:this.sessionID});if(!a){this.manager.terminateDueToError("unable to acquire lock",!0);return}this.webLock=a,await eg(this.manager.userID,n,e),r(),await (null==i?void 0:i.release())})}}let eS=null;function eI(){return eS}function eT(e,r){if(eS){if(eS.fileKey===e)return(0,f.Lo)("Autosave","Autosave manager already exists"),eS;(0,F.W6)("Manager already exists. Updating file key",{"current fileKey":eS.fileKey,"new fileKey":e}),eS.terminateAndWaitForCleanup(),eS=null}return(0,f.ED)("Autosave","Create autosave manager",{fileKey:e}),eS=new ey(r,e)}async function ew(){if((0,f.ED)("Autosave","Destroy autosave manager"),!eS){(0,f.Lo)("Autosave","No manager to destroy");return}let e=eS;eS=null,await e.terminateAndWaitForCleanup()}let eC=N.M4.Query({async fetch({userId:e}){if(!e)return{};let r=await ea(e),n={};for(let e of r)n[e.fileKey]=e;return n}});var eA=((i=eA||{}).OFFLINE_FILE_TILE="OFFLINE_FILE_TILE",i.EDITOR="EDITOR",i);let eN=N.M4.Mutation(({fileKey:e,name:r,source:n},{atomStore:i,query:a,reduxStore:o})=>{var l,c;if(i.set(eL,null),!r)return;let u=(null==(l=o.getState().user)?void 0:l.id)??null;a.mutate(eC({userId:u}),n=>{let i=n[e];i&&(i.name=r)});let p=null==(c=eS)?void 0:c.fileCreationManager;return p&&(p.fileKey===e?(p.updateNewFileInfo({fileName:r}),p.pendingRealFileKey&&d.D.dispatch(I.yJ({file:{key:p.pendingRealFileKey,name:r},userInitiated:!0}))):(0,F.W6)("File key in rename mutation does not match current FileCreationManager file key",{mutationFileKey:e,fileCreationManagerFileKey:p.fileKey})),(0,s.sx)("Rename New Autosave File",{source:n,isOffline:!navigator.onLine}),eE(u,e,r)}),eO=(0,p.eU)(e=>{let r=e(T.kS),n={};if(r){let i=e(eC({userId:r}));for(let[e,r]of Object.entries((null==i?void 0:i.data)??{}))r.hasChanges&&(n[e]=r)}return n}),eR=(0,p.eU)(e=>{let r=e(K.h),n=e(T.kS);if(r&&n){let i=e(eC({userId:n})),a=(null==i?void 0:i.data)??{};if(r in a)return a[r]}return null});function eP(){return u.zl.get(eR)}let eL=(0,p.eU)(null),eD=(0,p.eU)({});(0,p.eU)(e=>{let r={...e(eO)},n=e(eL),i=e(eD),a={};for(let e in r)e in i||(a[e]=r[e]);if(n&&n in a){let e=a[n];a[n]={...e,isRenaming:!0}}return a})},23699:(e,r,n)=>{"use strict";n.d(r,{Ab:()=>O,BE:()=>A,DB:()=>I,DV:()=>p,Fy:()=>v,IE:()=>N,JR:()=>g,SW:()=>_,Sp:()=>m,Z4:()=>S,Zt:()=>w,cu:()=>T,dU:()=>R,h5:()=>f,iM:()=>C,jP:()=>u,w8:()=>h});var i=n(94812),a=n(84934),o=n(76621),s=n(4783),l=n(30637),d=n(52800),c=n(63104);let u="node-changes",p="saved-images",h="referenced-nodes",m="editor-sessions",g="new-files",f="activity-log",_="session-index",y=4,E=null;function b(){let e;if(E)return E;if(y>100)return E=Promise.reject("Trying to open autosave with unsupported DB version");let r=new Promise((e,r)=>{setTimeout(()=>{(0,o.Lo)("Autosave","Timeout when opening IDB"),r(Error("[Autosave] Timeout when opening IDB."))},6e3)}),n=e=>{},s=new Promise((e,r)=>{n=r});try{e=(0,i.P2)("figma-autosave-v3",y,{upgrade(e,r,n,i){(0,o.Lo)("Autosave","Upgrading autosave DB",{oldVersion:r,newVersion:n}),r>=1&&(0,a.sx)("autosave db upgrade",{oldVersion:r,newVersion:n}),r<1&&n&&n>=1&&(e.createObjectStore(m,{keyPath:"id",autoIncrement:!0}).createIndex(_,["userID","fileKey","sessionID"],{unique:!0}),e.createObjectStore(u,{keyPath:["editorSessionID","nodeID"]}),e.createObjectStore(p,{keyPath:["editorSessionID","hash"]}),e.createObjectStore(h,{keyPath:["editorSessionID","nodeID"]})),r<3&&n&&n>=3&&e.createObjectStore(g,{keyPath:["userID","fileKey"]}),r<4&&n&&n>=4&&e.createObjectStore(f,{keyPath:"id",autoIncrement:!0})},terminated(){(0,o.xi)("Autosave","DB closed unexpectedly"),E=null},blocked(){n(Error("[Autosave] IDB blocked from opening by existing tab."))}}).then(e=>(e.addEventListener("versionchange",r=>{r.oldVersion!==y&&r.newVersion!==y&&(0,c.W6)("Unexpected oldVersion when upgrading DB"),(0,o.Lo)("Autosave",`DB version change requested from ${r.oldVersion} to ${r.newVersion} for tab with DB version ${y}`,void 0,{logToConsole:d.NUh.ALWAYS}),(0,a.sx)("autosave db version change",{oldVersion:r.oldVersion,newVersion:r.newVersion,currentVersion:y}),r.newVersion&&(y=r.newVersion),e.close(),E=null}),e))}catch(n){let r=Error("Call to openDB failed");r.cause=n,e=Promise.reject(r)}return(E=Promise.race([e,r,s])).catch(()=>{(0,o.Lo)("Autosave","Unable to open IDB. Resetting dbPromise."),E=null}),E}async function v(){let e=0,r=null;for(;e<5;){e++;try{return await b()}catch(n){(0,o.xi)("Autosave","Failed to open autosave DB",{attempt:e,error:n.message}),r=n}}throw r}function S(){return v().catch(e=>(!function(e){let{name:r,message:n}=e;return!!(/A mutation operation was attempted on a database that did not allow mutations/.test(n)||/QuotaExceededError/.test(n)||/Encountered full disk while opening backing store for indexedDB.open/.test(n)||/Failed to openDatabase in database because not enough space for domain/.test(n)||/Timeout when opening IDB/.test(n)||/Internal error opening backing store for indexedDB.open/.test(n)||/DataError/.test(n)||/Internal error retrieving bucket data directory/.test(n))||"UnknownError"===r&&"Internal error."===n}(e)&&(0,o.$D)(s.e.SCENEGRAPH_AND_SYNC,e),null))}async function I(e,r,n){let i=0,a=null;for(;i<5;){i++;try{let i=(await b()).transaction(e,n),a=await r(i);return await i.done,a}catch(e){a=e}}throw a}function T(e){return IDBKeyRange.bound([e,""],[e,"~"])}function w(e,r){return IDBKeyRange.bound([e,r],[e,r,1/0])}function C(e){return IDBKeyRange.bound([e,""],[e+1,""])}function A(){return IDBKeyRange.bound([0],[1/0])}function N(){return IDBKeyRange.bound([0],[1/0])}function O(){return IDBKeyRange.bound([0],[1/0])}function R(e){"commit"in e&&e.commit()}(0,l.Lg)()||b().catch(()=>{})},63104:(e,r,n)=>{"use strict";n.d(r,{U4:()=>l,W6:()=>a,rQ:()=>s,y8:()=>o});var i=n(76621);function a(e,r){(0,i.x1)("Autosave",e,r,{reportAsSentryError:!0})}function o(e){return"autosave-file"===e.type}function s(){return!1}async function l(){var e;try{if(!(null==(e=navigator.storage)?void 0:e.estimate))return Promise.resolve({usageBytes:void 0,quotaBytes:void 0});let{usage:r,quota:n}=await navigator.storage.estimate();return{usageBytes:r,quotaBytes:n}}catch(e){return(0,i.xi)("Autosave","Failed to get storage usage",{message:null==e?void 0:e.message}),Promise.resolve({usageBytes:void 0,quotaBytes:void 0})}}n(30637)},32367:(e,r,n)=>{"use strict";n.d(r,{Cr:()=>c,HZ:()=>p,a:()=>d,hp:()=>l,m6:()=>u});var i=n(88823),a=n.n(i),o=n(10004),s=n(63104);let l=new o.P,d="restored-autosave",c="Autosave Commit Changes",u="autosave-new-file-sync-start",p=a()(()=>{try{l.sendToAllTabs("autosave-new-files-update")}catch(e){(0,s.W6)("Failed to notify all tabs of new files update",{error:e.message})}},1e3)},53297:(e,r,n)=>{"use strict";n.d(r,{A2:()=>g,LX:()=>p,M:()=>m,mc:()=>h});var i=n(84934),a=n(38082),o=n(86640),s=n(76621);let l="ping-request:",d="ping-response:";var c=n(64887);function u({userID:e,fileKey:r,sessionID:n}){return`autosave-${e}-${r}-${n}`}function p(e,r){return e.name===u(r)}async function h(e){let r=u(e);return c.yp?!await (0,c.Ph)(r):function(e,r,n){let i=o.x4;if(!i)return Promise.reject("Local storage not available");let c=l+e,u=d+e,p=new a.M4,h=!1,m=e=>{},g=new Promise(e=>{m=e}),f=()=>{i.removeItem(c),i.removeItem(u),window.removeEventListener("storage",_)},_=e=>{e.storageArea===i&&null!==e.newValue&&e.key===u&&(p.stop(),f(),h?(0,s.x1)("storage","ping: responded after timeout interval"):m(!0))};i.removeItem(c),i.removeItem(u),window.addEventListener("storage",_);let y=Date.now();return i.setItem(c,y.toString()),p.start(),setTimeout(()=>{setTimeout(f,1e4),h=!0,m(!1)},200),window.addEventListener("unload",f),g}(r,0,0)}async function m(e,r){return await h({userID:e,fileKey:r.fileKey,sessionID:0})}async function g(e){let r=u(e),n=null;if(c.yp)n=await (0,c.ly)(r);else{let e=function(e){let r=o.x4;if(!r)throw Error("Local storage not available");let n=l+e,i=d+e;r.removeItem(i);let a=e=>{if(e.storageArea===r&&null!==e.newValue&&e.key===n){let e=Date.now();r.setItem(i,e.toString()),setTimeout(()=>{r.removeItem(n),r.removeItem(i)},1e3)}};return window.addEventListener("storage",a,!1),{unregister:()=>window.removeEventListener("storage",a,!1)}}(r);n={name:r,release:()=>(e.unregister(),Promise.resolve())}}return n||(0,i.sx)("autosave_acquiring_lock_failed",{lockName:r,sessionID:e.sessionID,webLocksAvailable:c.yp}),n}},82410:(e,r,n)=>{"use strict";n.d(r,{kH:()=>o});var i=n(45697),a=n(20647);new i.X([a.lM.DESIGN,a.lM.FIGJAM]),new i.X([a.lM.DESIGN,a.Mg]);let o=new i.X([a.lM.DESIGN,a.lM.FIGJAM,a.lM.DEV_MODE]);new i.X([a.lM.DESIGN,a.Mg,a.lM.DEV_MODE])},20647:(e,r,n)=>{"use strict";let i;n.d(r,{Mg:()=>l,lM:()=>c,oM:()=>u,vc:()=>p});var a=n(35283),o=n(99506),s=((i=s||{}).DESIGN="design",i.FIGJAM="figjam",i.WHITEBOARD="whiteboard",i.DEV_MODE="dev_mode",i.SLIDES="slides",i.SITES="sites",i);let l="whiteboard",d={DESIGN:"design",WHITEBOARD:"whiteboard"},c={DESIGN:"design",FIGJAM:"figjam",DEV_MODE:"dev_mode"},u={DESIGN:"design",WHITEBOARD:"whiteboard",DEV_MODE:"dev_mode"};function p(e){switch(e){case o._Y.DESIGN:case o._Y.SLIDES:case o._Y.SITES:return d.DESIGN;case o._Y.WHITEBOARD:return d.WHITEBOARD;default:(0,a.xb)(e)}}},57766:(e,r,n)=>{"use strict";n.d(r,{At:()=>g,By:()=>T,C2:()=>N,CE:()=>I,HJ:()=>O,Kz:()=>c,L8:()=>_,LH:()=>C,Ns:()=>p,SA:()=>u,Xm:()=>d,ci:()=>h,gG:()=>A,gN:()=>E,mr:()=>w,oj:()=>f,up:()=>y,yR:()=>m});var i=n(66712),a=n(76621),o=n(96328),s=n(4783);n(39863);var l=n(99506);function d(e){return!!(e.file_repo_id&&e.source_file_key)}function c(e){return!!(e.fileRepoId&&e.sourceFileKey)}function u(e,r){return e.key===r.default_file_key}function p(e,r){return e.key===r.defaultFileKey}function h(e){return c(e)&&!!e.trashedAt}function m(e){return!!(null==e?void 0:e.has_file_link_password)||!!(null==e?void 0:e.has_proto_link_password)}function g(e,r){return u(e,r)?r.name||"Untitled":e.name||"Untitled"}function f(e,r){return((null==e?void 0:e.name)??(null==r?void 0:r.name))||"Untitled"}function _(e,r){if(!e)return null;let n=e.file_repo_id;return n&&r[n]||null}function y(e,r){if(!e)return null;let n=e.fileRepoId;return n&&r[n]||null}function E(e,r,n){let i=`/${n}`;i+=d(e)&&(null==r?void 0:r.default_file_key)?`/${r.default_file_key}/branch/${e.key}`:`/${e.key}`;let a=(0,o.sy)(f(r,e));return a&&(i+=`/${a}`),i}n(68860);let b=(e,r,n)=>{let i=`/${n}`;i+=c(e)&&(null==r?void 0:r.defaultFileKey)?`/${r.defaultFileKey}/branch/${e.key}`:`/${e.key}`;let a=(0,o.sy)(function(e,r){return((null==e?void 0:e.name)??(null==r?void 0:r.name))||"Untitled"}(r,e));return a&&(i+=`/${a}`),i};function v(e,r){if(!(0,i.kc)().dt_url_improvements)return e;let n=r.editor_type||r.editorType;return"proto"===e?e:n===l._Y.DESIGN?"design":e}function S(e){try{let r=e.pathname.split("/")[1];"file"===r?e.searchParams.append("type",l._Y.DESIGN):"design"===r&&e.searchParams.append("m","auto")}catch{}return e}function I(e,r,n){let i=v(n,e);return S(new URL(E(e,r,i),document.baseURI)).href}function T(e,r,n){let i=v(n,e);return S(new URL(b(e,r,i),document.baseURI))}function w(e,r,n){let i=n[e.id]||"";return C(e,r,i)}function C(e,r,n){if(n){let e=r.find(e=>e.key===n);if(e)return e}return r.find(r=>u(r,e))||r.reduce((e,r)=>e.touched_at>r.touched_at?e:r,r[0])}function A(e){let r={};for(let[n,i]of Object.entries(e))r[n]=i.repo;return r}function N(){return(0,i.kc)().branching_granular_basis?5:4}function O(e,r,n,i){let o={"bm.branchingFailureType":r,"bm.diffVersion":`${N()}`,"bm.mergeDirection":n};(0,a.x1)("branching",e.message,i),(0,a.$D)(s.e.SCENEGRAPH_AND_SYNC,e,{tags:o})}},58652:(e,r,n)=>{"use strict";n.d(r,{gW:()=>S,$n:()=>T,ac:()=>A});var i=n(11855),a=n(88507),o=n(99737),s=n(91388),l=n(57766),d=n(9511),c=n(78340),u=n(35682),p=n(99506),h=n(79453),m=n(28467),g=n(39671),f=n(65050);n(33537);var _=n(47899),y=n(60601);n(43067);var E=n(197),b=n(47206),v=n(84968);function S(e,r,n,i,a,o,s,u){return{createBranch:w(e,r,s,u,n,i),openBranchSource:e&&(0,l.Kz)(e)?{status:"enabled"}:{status:"hidden"},viewBranches:e&&e.fileRepoId?s?{status:"hidden",reason:"Recovery mode"}:{status:"enabled"}:{status:"hidden"},viewBranchDiff:function(e,r,n,i,a){if(!e)return{status:"hidden"};if(!(0,l.Kz)(e))return{status:"hidden",reason:"Not a branch"};let o=(0,m.canViewFile)(e.key,r,!1),s=e.sourceFileKey,u=s&&(0,m.canViewFile)(s,r,!1);return o?u?a?{status:"hidden",reason:"Recovery mode"}:i!==d.lyf.BRANCHING&&n!==c.Wy.SAFE?{status:"disabled",reason:"Low memory"}:{status:"enabled"}:{status:"hidden",reason:"Can't view source"}:{status:"hidden",reason:"Can't view branch"}}(e,r,i,a,s),mergeBranch:function(e,r,n,i,a,o){if(!e)return{status:"hidden"};if(!(0,l.Kz)(e))return{status:"hidden",reason:"Not a branch"};let s=(0,m.canManageFile)(e.key,r,!1),u=e.sourceFileKey,p=u&&(0,m.canManageFile)(u,r,!1);if(!s)return{status:"hidden",reason:"Can't edit branch"};if(!p)return{status:"hidden",reason:"Can't edit source"};if(e.trashedAt)return{status:"hidden",reason:"Branch is archived"};if(o)return{status:"hidden",reason:"Recovery mode"};if(i!==d.lyf.BRANCHING){if(n!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if(a!==d.kul.JOINED)return{status:"disabled",reason:"Offline"}}return{status:"enabled"}}(e,r,i,a,o,s),viewSourceDiff:function(e,r,n,i,a,o){if(!e)return{status:"hidden"};if(!(0,l.Kz)(e))return{status:"hidden",reason:"Not a branch"};if(!(0,m.canViewFile)(e.key,r,!1))return{status:"disabled",reason:"Can't view branch"};let s=e.sourceFileKey;if(!(s&&(0,m.canViewFile)(s,r,!1)))return{status:"disabled",reason:"Can't view source"};if(e.trashedAt)return{status:"hidden",reason:"Branch is archived"};if(o)return{status:"hidden",reason:"Recovery mode"};let u=e.sourceFileKey&&r.fileByKey[e.sourceFileKey],p=r.fileByKey[e.key];if(!u||!C(p,u))return{status:"disabled",reason:"No changes"};if(i!==d.lyf.BRANCHING){if(n!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if(a!==d.kul.JOINED)return{status:"disabled",reason:"Offline"}}return{status:"enabled"}}(e,r,i,a,o,s),updateBranch:function(e,r,n,i,a,o){if(!e||!(0,l.Kz)(e))return{status:"hidden"};if(!(0,m.canManageFile)(e.key,r,!0))return{status:"hidden",reason:"Can't edit branch"};let s=e.sourceFileKey;if(!(s&&(0,m.canViewFile)(s,r,!1)))return{status:"hidden",reason:"Can't view source"};if(e.trashedAt)return{status:"hidden",reason:"Branch is archived"};if(o)return{status:"hidden",reason:"Recovery mode"};let u=e.sourceFileKey&&r.fileByKey[e.sourceFileKey],p=r.fileByKey[e.key];if(!u||!C(p,u))return{status:"disabled",reason:"No changes"};if(i!==d.lyf.BRANCHING){if(n!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if(a!==d.kul.JOINED)return{status:"disabled",reason:"Offline"}}return{status:"enabled"}}(e,r,i,a,o,s)}}function I(){var e;return(0,E.ut)(null==(e=d.Ez5)?void 0:e.uiState().isRecovery,!1)}function T(){let e=(0,m.useMemoizedPermissionsState)(),r=(0,u.q5)(),n=(0,a.d4)(e=>e.selectedView.editorType),o=I(),{warningLevel:s}=(0,c.Mk)(),l=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,a.d4)(e=>e.mirror.appModel.multiplayerSessionState),p=(null==r?void 0:r.teamId)??null;return(0,i.useMemo)(()=>S(r,e,n,s,l,d,o,p),[r,e,n,s,l,d,o,p])}function w(e,r,n,i,a,o){if(!e)return{status:"hidden",reason:"No file"};if(n)return{status:"hidden",reason:"Recovery"};if(a!==g.nT.Design)return{status:"hidden",reason:"Invalid editor type"};if(void 0!==o&&o!==c.Wy.SAFE)return{status:"disabled",reason:"Low memory"};if((0,b.Pe)(e))return{status:"disabled",reason:"File is copy/export restricted"};if((0,m.isOrgUserExternallyRestrictedFromState)(r))return{status:"hidden",reason:"Your organization doesn't allow you to create branches in external spaces."};if(function({currentTeamId:e,hasCurrentOrg:r}){return!!e&&!r&&((0,_.hW)("exp_aa_test_teamid_branching_upsell").catch(y.lQ),!0)}({currentTeamId:i,hasCurrentOrg:!!r.currentUserOrgId}))return{status:"upsell-org",reason:"Not in org but can upsell into it"};if(!e.parentOrgId)return{status:"hidden",reason:"File is not in org"};if(!r.currentUserOrgId)return{status:"hidden",reason:"Not in org"};let s=(0,l.up)(e,r.repos);if(s&&!(0,l.SA)(e,s))return{status:"hidden",reason:"Not the main file"};let d=r.user&&r.currentUserOrgId&&r.orgUsersByOrgId.orgUsers[r.currentUserOrgId]&&r.orgUsersByOrgId.orgUsers[r.currentUserOrgId][r.user.id]?r.orgUsersByOrgId.orgUsers[r.currentUserOrgId][r.user.id]:null,u=d&&d.design_paid_status;if(null===u)return{status:"hidden",reason:"Unknown account type"};switch(u){case p.El.RESTRICTED:if(d&&(0,b.Ay)(d.permission)===f.jh.GUEST)return{status:"hidden",reason:"Guests cannot see upsell"};return{status:"upsell-org-seat"};case p.El.STARTER:return{status:"hidden",reason:"Invalid account type"};case p.El.FULL:return{status:"enabled"}}}function C(e,r){return r.checkpoint_id&&e.source_checkpoint_id&&e.source_checkpoint_id!==r.checkpoint_id}function A(e){let r=(0,v.cD)(),n=null==e?void 0:e.key,a=(0,o.Rs)(h.XRI,{fileKey:n},{enabled:!!n}),l=(0,m.usePermissionsState)(),d=I();return(0,i.useMemo)(()=>e?s.Qw.from(a).transform(n=>w(n.file&&e?{key:e.key,parentOrgId:e.parent_org_id||null,fileRepoId:e.file_repo_id,canEdit:n.file.canEdit,viewerExportRestricted:n.file.viewerExportRestricted}:null,l,!!d,r,(0,g.RB)(e.editor_type))):s.Qw.loaded({status:"hidden",reason:"No file"}),[r,d,l,e,a])}},29318:(e,r,n)=>{"use strict";n.d(r,{QL:()=>a});let i={};function a(e){return i[e]}},58237:(e,r,n)=>{"use strict";function i(e,r){var n,i;return!!e&&!!(null==(i=null==(n=e.plugin_publishers)?void 0:n.accepted)?void 0:i.some(e=>e.id===r))}function a(e,r){var n,a;return!!e&&!!(null==(a=null==(n=e.plugin_publishers)?void 0:n.pending)?void 0:a.some(e=>e.id===r))||i(e,r)}n.d(r,{Ro:()=>i,jY:()=>a}),n(208),n(97551)},82501:(e,r,n)=>{"use strict";let i;n.d(r,{Dd:()=>y,En:()=>E,Ii:()=>A,Kg:()=>R,Rd:()=>P,Wl:()=>O,ck:()=>N,n1:()=>w,xw:()=>L});var a=n(88507),o=n(54703);n(66712);var s=n(76621),l=n(81396),d=n(4783),c=n(39863);n(37324),n(45941);var u=n(97551);n(11916);var p=n(28467);n(55328);var h=n(13408),m=n(28588);n(76485),n(4279);var g=n(96607),f=n(37502),_=((i=_||{})[i.NONE=0]="NONE",i[i.PENDING=1]="PENDING",i[i.DISPLAY_ONLY=2]="DISPLAY_ONLY",i[i.ADMIN_IN_DIFFERENT_WORKSPACE=3]="ADMIN_IN_DIFFERENT_WORKSPACE",i[i.ADMIN=4]="ADMIN",i[i.NONE_WITH_INHERITED_ADMIN=5]="NONE_WITH_INHERITED_ADMIN",i[i.PENDING_WITH_INHERITED_ADMIN=6]="PENDING_WITH_INHERITED_ADMIN",i[i.DISPLAY_ONLY_WITH_INHERITED_ADMIN=7]="DISPLAY_ONLY_WITH_INHERITED_ADMIN",i[i.EXPLICIT_ADMIN=8]="EXPLICIT_ADMIN",i);function y(e,r){return e.creator.id===r}function E(e,r){var n;if(e){let n=C(r,e);if(n)return n}let i=function(e,r,n=!0){let i=[],a=n&&r?C(e,r):null;return e.currentUserOrgId&&(0,p.canAdminOrg)(e.currentUserOrgId,e)&&i.push({org_id:e.currentUserOrgId}),Object.keys(e.teams).forEach(r=>{let n=e.teams[r];n&&"secret"!==n.org_access&&(0,p.hasAdminRoleAccessOnTeam)(r,e)&&i.push({team_id:r})}),i.push({user_id:e.user.id}),a&&!i.some(e=>v(e,a))&&i.unshift(a),i}(r,e);if(0===i.length)throw Error("Called getDefaultPluginPublishingMetadataAuthor when no valid author exists");return b(e,i,r.authedProfilesById,null==(n=r.user)?void 0:n.id)}let b=(e,r,n,i,o)=>{if(0===r.length)throw Error("Called getDefaultPublishingMetadataAuthor when no valid author exists");let s=(null==e?void 0:e.id)&&Object.keys(e.versions).length>0?function(e,r,n){var i;if(((null==(i=e.community_publishers)?void 0:i.accepted)||[]).length>0){let i=(0,u.cV)(e),a=i&&r[i.id];return(null==a?void 0:a.team_id)?{team_id:a.team_id}:(null==a?void 0:a.org_id)?{org_id:a.org_id}:{user_id:n||e.creator.id}}let a=r[e.publisher.id];return a.org_id?{org_id:a.org_id}:a.team_id?{team_id:a.team_id}:{user_id:a.primary_user_id}}(e,n,i):null;if(s&&r.some(e=>v(e,s)))return s;if(o&&r.find(e=>(0,a.bN)(e,o)))return o;let l=r.find(T);if(l)return l;let d=r.find(S);return d?d:r.find(I)||r[0]};function v(e,r){return"team_id"in e?"team_id"in r&&e.team_id===r.team_id:"org_id"in e?"org_id"in r&&e.org_id===r.org_id:"user_id"in e&&"user_id"in r&&e.user_id===r.user_id}let S=e=>"org_id"in e,I=e=>"team_id"in e,T=e=>"user_id"in e;function w(e,r,n){var i,a;let o;let s=e.has_file_link_password||e.hasFileLinkPassword;o="parent_org_id"in e?e.parent_org_id:"parentOrgId"in e?e.parentOrgId:null;let l=function(e,r,n,i){var a;let o=[];if(((null==(a=null==n?void 0:n.community_publishers)?void 0:a.accepted)||[]).length>0){if(!e&&!i)return[{user_id:r.user.id}];let a=n&&(0,u.cV)(n),o=a?r.authedProfilesById[a.id]:null;if(null==o?void 0:o.team_id)return(0,p.hasAdminRoleAccessOnTeam)(null==o?void 0:o.team_id,r)?[{team_id:o.team_id}]:[];if(null==o?void 0:o.org_id)return(0,p.canAdminOrg)(null==o?void 0:o.org_id,r)?[{org_id:o.org_id}]:[]}if(r.currentUserOrgId){let n=r.orgById[r.currentUserOrgId];if(!n)return[];if((0,p.canAdminOrg)(r.currentUserOrgId,r)&&(o.push({org_id:r.currentUserOrgId}),n.cmty_publish_as_user_enabled&&o.push({user_id:r.user.id})),e&&r.teams[e]){if("secret"===r.teams[e].org_access)return[];((0,f.Bg)(n.shared_org_license_group_settings)?(0,p.canAdminOrg)(r.currentUserOrgId,r):(0,p.hasAdminRoleAccessOnTeam)(e,r))&&o.push({team_id:e})}return o}return e?((0,p.hasAdminRoleAccessOnTeam)(e,r)&&o.push({team_id:e}),o.push({user_id:r.user.id}),o):[{user_id:r.user.id}]}("team_id"in e?e.team_id:e.teamId,r,n,o||null),d=!!r.figFileDuplicatedFromHubFile[e.key],c=!n;return(0,p.canEditFile)(e.key,r)&&!("is_template"in e&&e.is_template||null!=(i=e.trackTags)&&i.isTemplate||"is_new_user_playground_library"in e&&e.is_new_user_playground_library||(null==(a=e.track_tags)?void 0:a.source)==="default")&&!s&&l.length>0&&!(d&&c)}function C(e,r){if(r.publisher.id&&e.user)switch(r.publisher.entity_type){case h.o1.ORG:{let n=Object.values(e.orgById).find(e=>e.community_profile_id===r.publisher.id);return{org_id:(null==n?void 0:n.id)??e.currentUserOrgId??""}}case h.o1.TEAM:{let n=Object.values(e.teams).find(e=>e.community_profile_id===r.publisher.id);return{team_id:(null==n?void 0:n.id)||""}}default:return{user_id:r.creator.id}}return null}function A(e,r){if(!e)return!1;let{team_id:n,org_id:i}=e;if("user_id"in r){let n=e.associated_users;return!!r.user_id&&r.user_id===e.primary_user_id||(null==n?void 0:n.some(e=>e.user_id===r.user_id))}return"team_id"in r&&n===r.team_id||"org_id"in r&&i===r.org_id}function N(e){return new Promise((r,n)=>{if(!e){n(Error("Failed to load image bytes without file object"));return}let i=new FileReader;function a(e){if("load"!==e.type||"string"==typeof i.result||!i.result){n(Error(`Failed to load image bytes: event=${e.type}`));return}r(i.result)}i.addEventListener("load",a),i.addEventListener("abort",a),i.addEventListener("error",a),i.readAsArrayBuffer(e)})}function O(e,r="Image",n=m.xp){if(!e)throw Error((0,c.t)("community.publishing.error_thumbnail_image_not_found",{filename:r}));if(0>n.indexOf(e.type))throw Error((0,c.t)("community.publishing.error_thumbnail_image_wrong_format",{filename:r}));if(e.size>u.Uc)throw Error((0,c.t)("community.publishing.error_thumbnail_image_too_large",{filename:r,max_size:Math.floor(u.Uc/1e6)}));return e.size}function R(e){let r=[],n=[],i=[];if(!e)return{uploadImages:r,uploadVideos:n,allMedia:i};for(let a=0;a<e.length;a++){let o=e[a];if(o.buffer&&o.buffer.length){if("video"===o.type){if(!o.thumbnail_buffer)throw Error((0,c.t)("community.publishing.error_video_thumbnail_not_found"));let e={carousel_position:a,sha1:(0,l.Et)(o.buffer),bytes:o.buffer,video_thumbnail_buffer:o.thumbnail_buffer,video_thumbnail_sha1:(0,l.Et)(o.thumbnail_buffer)};n.push(e)}else{let e={carousel_position:a,sha1:(0,l.Et)(o.buffer)};r.push(e),i.push(e)}}else if(o.sha1){let e="video"===o.type?{carousel_position:a,sha1:o.sha1,video_file_uuid:o.video_file_uuid,video_thumbnail_sha1:o.thumbnail_sha1}:{carousel_position:a,sha1:o.sha1};i.push(e)}}return{uploadImages:r,uploadVideos:n,allMedia:i}}function P(e,r){return r&&(null==r?void 0:r.length)&&(null==e?void 0:e.length)?e.map(({url:e,fields:n,carousel_position:i})=>{let a=r[i];if(!a||!a.buffer)return Promise.resolve(!1);let l=new FormData;return Object.entries(n).forEach(([e,r])=>l.append(e,r)),l.set("content-type",(0,o.i)(a.buffer)??"image/png"),l.append("file",new Blob([a.buffer])),fetch(e,{method:"POST",body:l}).then(()=>!0).catch(e=>{var r;throw(0,s.$D)(d.e.COMMUNITY,e),Error((0,c.t)("community.actions.error_uploading_carousel_image_error",{error:(0,c.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))})}):[]}function L(e){if(!e.currentUserOrgId)return!1;let r=(0,g.xw)(e);return!(r&&r.agreed_to_community_tos_at)}},39135:(e,r,n)=>{"use strict";n.d(r,{DX:()=>A,e:()=>T,q3:()=>b}),n(11855),n(88507);var i=n(28975),a=n(81912),o=n(38329),s=n(66712),l=n(74626),d=n(38580),c=n(84107),u=n(72174),p=n(47899),h=n(31828),m=n(23239),g=n(82947),f=n(6757),_=n(35682);n(60178),n(9798);var y=n(84968);let E=(0,s.b5)()?"2030-06-30T23:00:00.000Z":"2024-03-11T23:00:00.000Z",b="presets_baseline_enabled",v=(0,i.A)(()=>(0,p.hW)("exp_presets_baseline_new",void 0,!0));function S(e,r,n,i,o){return!(null===i||o||!(0,s.kc)().presets_baseline||(0,u.uy)(e)||!n&&!i||(0,a.A)(e)<(0,a.A)(E)||(0,u.Vq)(r)&&!r.starter_team&&!(r.pro_team&&n))&&(null==r||!r.org_id)}function I(e,r,n,i){if(r)return!0;let a=!1;return(a="assets"===i?"treatment_assets_default"===e.getValue("treatment",""):"layers"===i?"treatment_layers_default"===e.getValue("treatment",""):String(e.getValue("treatment","")).startsWith("treatment"))&&!r&&n(h.b({[b]:!0})),a}async function T(e,r,n,i,a,o){if((0,s.kc)().dse_preset_libraries)return!1;try{let s=await (0,c.QO)(m.t,(e,r)=>{let n=l.zl.get(m.t);"loaded"===n.status?e(n):r(n)});if(!S(e,r,n,null==s?void 0:s.data,a))return!1;let d=await v();return I(d,n,i,o)}catch(e){return console.error(e),!1}}(0,i.A)(()=>(0,p.hW)("exp_presets_baseline_existing",void 0,!0));let w=(0,p.S$)({experimentName:"exp_presets_baseline_new"}),C=(0,p.S$)({experimentName:"exp_presets_baseline_existing"}),A=(0,d.eU)(async e=>{var r;let n=e(f.p9),i=e(y.Me),a=(null==(r=e(_.yV))?void 0:r.parentOrgId)||null,l=e((0,g.Fu)(b)),d=e(m.t),c=await e(w),u=await e(C);return()=>(function({currentUserCreatedAt:e,currentTeam:r,overrideFlag:n,dispatch:i,treatment:a,getConfig:o,isFreeUser:l,openFileParentOrgId:d}){return!(0,s.kc)().dse_preset_libraries&&!!S(e,r,n,l,d)&&I(o(),n,i,a)})({currentUserCreatedAt:(null==n?void 0:n.created_at)??null,currentTeam:i,overrideFlag:l.data??void 0,dispatch:o.D.dispatch,treatment:void 0,getConfig:c,isFreeUser:d.data,openFileParentOrgId:a})||function(e,r,n,i){return!n&&(!e||!e.org_team)&&!r&&"has_presets"===i().getValue("treatment","")}(i,a,l.data??void 0,u)})},96673:(e,r,n)=>{"use strict";n.d(r,{JB:()=>m,Pd:()=>f,ce:()=>g,wJ:()=>p}),n(11855),n(88507);var i=n(66712),a=n(38580);n(37324),n(73454);var o=n(79296),s=n(39135),l=n(78260),d=n(35682),c=n(94687),u=n(84968);let p=(0,o.D)(e=>22!==e.length&&!e.match(/\D/));function h(e,r){return!!((0,i.kc)().dse_preset_libraries&&!((null==e?void 0:e.figma_provided_libraries_disabled)||(null==r?void 0:r.figma_provided_libraries_disabled)))}let m=(0,a.eU)(e=>{let r=e(u.Me),n=e(c.h0),i=e(d.yV),a=i?i.parentOrgId:n,o=e(l.mQ);return h(a?o[a]:null,r)}),g=(0,a.eU)(async e=>{let r=await e(s.DX),n=e(m);return()=>!!(r()||n)});async function f(e,r){var n,i;let a=await (0,s.e)((null==(n=e.user)?void 0:n.created_at)??null,(0,u.H7)(e),e.userFlags[s.q3],r,(null==(i=e.openFile)?void 0:i.parentOrgId)||null),o=function(e){let r=e.openFile?e.openFile.parentOrgId:e.currentUserOrgId;return h(r?e.orgById[r]:null,(0,u.H7)(e))}(e);return!!(a||o)}},44892:(e,r,n)=>{"use strict";let i;n.d(r,{Am:()=>P,Eo:()=>F,Jl:()=>D,MJ:()=>T,O7:()=>R,OM:()=>b,Po:()=>L,UE:()=>I,Vu:()=>C,aV:()=>v,jh:()=>O,oU:()=>S,qv:()=>A,r2:()=>_,r8:()=>y,u0:()=>E}),n(84934),n(17068),n(27367);var a=n(38329),o=n(18549),s=n(86653),l=n(5984),d=n(208),c=n(52800),u=n(66068),p=n(73454);n(78655);var h=n(35321),m=n(79296);n(62531);let g=e=>{let r=c.glU.getDefaultStateForLocalStateGroup(e)||e,[n,i]=c.Vzr.generateThumbnailForNode(r,768,768,2,{});return i},f=Object.create(null);function _(e){return w(g(e))}let y="FAILED_THUMBNAIL",E="LOADING_THUMBNAIL";function b(e){return!(!e||e===y||e===E||e.startsWith("blob:")&&!f[e])}function v(e,r){let[n,i]=c.Vzr.generateThumbnailFromStyleMaster(e,r,18,18,2);return n&&n.status===E?E:w(i)||(console.error(`failed to generate thumbnail for node ${e}`),y)}function S(e,r,n){if(!(0,u.Kb)(e))return{type:"INVALID"};let i=c.Vzr.generateSerializableThumbnailForStyle(r||"",e,n||""),a=i.length>0?l.w.decodeMessage(i):null,o=a&&a.nodeChanges&&a.nodeChanges[0]||null;return o?(0,u.No)(o,e):(console.error(`failed to generate serializable thumbnail for node ${r}`),{type:"INVALID"})}function I(e){return!!T(e)}function T(e){if("FILL"!==e.type)return null;let r=e.fillPaints;if(!r||1!==r.length)return null;let n=r[0];return"SOLID"!==n.type||null==n.color||null==n.opacity?null:{...n.color,a:n.opacity}}function w(e){if(e.length>0){let r=URL.createObjectURL(new Blob([e]));return f[r]=e,r}return null}function C(e){let r=f[e];if(!r)throw Error(`No buffer in cache for thumbnail url ${e}`);return r}function A(e){f[e]&&(URL.revokeObjectURL(e),delete f[e])}let N=null;(()=>{if(!document)return;let e=document.createElement("canvas");e.width=1,e.height=1,e.toBlob&&e.toBlob(e=>{let r=new FileReader;r.onload=()=>{N=w(new Uint8Array(r.result))},r.readAsArrayBuffer(e)},"image/png")})();let O=()=>N;function R(e){let[r,n]=c.BXd.generatePublishableBufferForStyleOrSymbol(e);return{buffer:n,version:null==r?void 0:r.version}}function P(e){let[r,n]=c.BXd.generatePublishableBufferForVariableSet(e);return{buffer:n,version:null==r?void 0:r.version}}(0,m.n)(e=>e===p.E8.CURRENT||e===p.E8.CHANGED||e===p.E8.DELETED);let L=(0,s.xx)(e=>{let r={};return Object.keys(e).forEach(n=>{r[n]={},Object.keys(e[n]).forEach(i=>{r[n][i]=D(e[n][i])})}),r});function D(e){var r;let n={};for(let i in e){let a=e[i];(null==(r=a.containing_frame)?void 0:r.containingStateGroup)==null&&(n[i]={...a})}return n}(0,s.xx)(e=>{let r=D(e.local.components);for(let n in e.local.stateGroups)r[n]=e.local.stateGroups[n];return r});function M(e){let r=e&&e.status;return Number.isInteger(r)&&r>=0?r:-1}var k=((i=k||{}).PERMANENT_ERROR="permanent-error",i.TRANSIENT_ERROR="transient-error",i.UPSERT_SHARED_SYMBOL_ERROR="shared-symbol-error",i.UPSERT_SHARED_STATE_GROUP_ERROR="shared-state-group-error",i.UPSERT_SHARED_VARIABLE_SET_ERROR="shared-variable-set-error",i.UPSERT_SHARED_VARIABLE_ERROR="shared-variable-error",i.UPSERT_SHARED_MODULE_ERROR="shared-module-error",i.UNCAUGHT_ERROR="uncaught-error",i.SUCCESS="success",i);let x=class{constructor(){this.canvasCache=Object.create(null),this.canvasRequestsInFlight=Object.create(null),this.thumbnailCache=new o.q(x.MAX_VARIABLE_SET_THUMBNAILS),this.thumbnailRequestsInFlight=Object.create(null),this.getCanvas=({canvas_url:e})=>{if(!e)return Promise.reject(Error("No canvas URL"));let r=x.augmentUrlWithFileVersion(e);if(r in this.canvasCache)return Promise.resolve(this.canvasCache[r]);if(r in this.canvasRequestsInFlight)return this.canvasRequestsInFlight[r];{let e=(0,d.GD)(r,null,{responseType:"arraybuffer"}).then(({data:e})=>(this.canvasCache[r]=e,e)).catch(e=>{throw console.warn("Team library cache error on get() with status",M(e),"with error",e),e}).finally(()=>{delete this.canvasRequestsInFlight[r]});return this.canvasRequestsInFlight[r]=e,e}},this.getVariableSetThumbnails=e=>{if(!e)return Promise.reject(Error("No canvas URL"));if(this.thumbnailCache.has(e))return Promise.resolve(this.thumbnailCache.get(e));if(e in this.thumbnailRequestsInFlight)return this.thumbnailRequestsInFlight[e];{let r=(0,d.GD)(e,null,{responseType:"arraybuffer"}).then(({data:r})=>{let n=function(e){let r={};for(let n of Object.keys(e)){let i=h.sH(n);i?r[h.dI(i)]=e[n]:console.error(`Received invalid collection ID in thumbnails response: ${n}`)}return r}(JSON.parse(new TextDecoder("utf-8").decode(r)));return this.thumbnailCache.set(e,n),n}).catch(e=>{throw console.warn("Team library cache error on get() with status",M(e),"with error",e),e}).finally(()=>{delete this.thumbnailRequestsInFlight[e]});return this.thumbnailRequestsInFlight[e]=r,r}},this.putCanvas=(e,r)=>{this.canvasCache[e]=r},this.hasKeyInCache=e=>e in this.canvasCache||this.thumbnailCache.has(e),this.clearCache=()=>{this.canvasCache=Object.create(null),this.thumbnailCache.reset(),this.canvasRequestsInFlight=Object.create(null),this.thumbnailRequestsInFlight=Object.create(null)},this.getCacheValueOrNull=e=>this.thumbnailCache.get(e)??null,this.clearCache()}};x.MAX_VARIABLE_SET_THUMBNAILS=20,x.augmentUrlWithFileVersion=e=>{var r;let n=new URL(e,location.origin),i=(null==(r=a.D)?void 0:r.getState().fileVersion)||0;return n.searchParams.set("fv",i.toString()),n.toString()};let F=new x},96226:(e,r,n)=>{"use strict";n.d(r,{F:()=>i});var i,a=n(11855),o=n(88507),s=n(35283),l=n(17333),d=n(66712),c=n(76621),u=n(46689),p=n(39863),h=n(69987),m=n(62275),g=n(95852),f=n(1505),_=n(99506),y=n(43987),E=n(874),b=n(51363),v=n(6193);(e=>{e.useModalControls=function(e){let r=(0,o.wA)(),n=()=>{r(m.Lo())},i=()=>{r(m.Ce())};return{cancel:n,dispatch:r,startProUpgradeFlow:a=>{e?(i(),r(g.WX({teamId:e,openInNewTab:!l.eD,selectedView:{view:"team",teamId:e},...a?{onBillingCompleteRedirectInfo:a}:{}}))):(n(),r((0,m.to)({type:h.dR,data:{plan:h.In.PRO,upsellSource:v.b.UNSET,...a?{onBillingCompleteRedirectInfo:a}:{}}})))},startOrgUpgradeFlow:({upsellSource:e})=>{i(),r(g.Bq({openInNewTab:!0,upsellSource:e}))},startEnterpriseUpgradeFlow:e=>{i(),r((0,m.to)({type:h.lk,data:{source:e}}))}}};let r=(e,r)=>{switch(e){case E.vL.FILE:return y.WW;case E.vL.FOLDER:return y.Wf;case E.vL.PAGE:return(0,d.kc)().figjam_pages_in_figjam&&r?y.LF[r]:y.LF[_._Y.DESIGN]}};function n(r,n){switch(r){case E.vL.FOLDER:return(0,p.t)("consumption_paywalls.free_project_limit",{project_limit:(0,e.getResourceLimit)(E.vL.FOLDER,n)});case E.vL.FILE:return(0,p.t)("consumption_paywalls.both_file_limits",{file_limit:(0,e.getResourceLimit)(E.vL.FILE,n)});case E.vL.PAGE:if(n===_._Y.WHITEBOARD&&(0,d.kc)().figjam_pages_in_figjam)return(0,p.t)("consumption_paywalls.free_page_limit_figjam",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,n)});return(0,p.t)("consumption_paywalls.free_page_limit",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,_._Y.DESIGN)});case E.Bi.AUDIO:return(0,p.t)("consumption_paywalls.text_comments");case E.Bi.OPEN_SESSION:return(0,p.t)("consumption_paywalls.open_session.no_open_session");case E.Bi.PROJECT_TRANSFER:return(0,p.t)("consumption_paywalls.project_transfer.no_project_transfers");case E.Bi.PROTOTYPE_SHARING:return(0,p.t)("consumption_paywalls.prototype_sharing.no_sharing_prototypes_separately");case E.Bi.PASSWORD_PROTECTION:return(0,p.t)("consumption_paywalls.password_protection.no_password_protection");case E.Bi.VERSION_HISTORY:return(0,p.t)("consumption_paywalls.version_history.no_version_history_past_30_days");case E.Bi.VIDEOS_IN_PROTOTYPES:return(0,p.t)("consumption_paywalls.videos_in_prototypes.image_fills_only");case E.Bi.VOTING:return(0,p.t)("consumption_paywalls.text_comments");case E.Bi.TEAM_LIBRARY:return(0,p.t)("consumption_paywalls.shared_styles");case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:return(0,p.t)("consumption_paywalls.no_control_over_project_permissions");case E.Bi.PUBLISH_STYLES:case E.Pj.TEAM_CREATION_SPEED_BUMP:return"";case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:case E.Bi.PROTOTYPING_VARIABLES:case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:return(0,p.t)("consumption_paywalls.interactive_prototypes");case E.Bi.VARIABLES_MODES:return(0,p.t)("consumption_paywalls.variables.1_mode");case E.Bi.PLUGIN_ANALYTICS:case E.Bi.WIDGET_ANALYTICS:return"";case E.Bi.SHARED_FONTS:return i(r,n);case E.Bi.DEV_MODE:case E.Bi.DEV_MODE_ADMIN_SETTINGS:return"";default:(0,s.xb)(r)}}(e=>{e[e.STARTER=0]="STARTER",e[e.PRO=1]="PRO",e[e.ORG=2]="ORG",e[e.ENTERPRISE=3]="ENTERPRISE"})(e.Plan||(e.Plan={})),e.getResourceLimit=(e,n)=>r(e,n),e.getStarterPlanFeatureText=n;let i=(e,r)=>{switch(e){case E.vL.FOLDER:return(0,p.t)("consumption_paywalls.unlimited_projects");case E.vL.FILE:return(0,p.t)("consumption_paywalls.unlimited_files");case E.vL.PAGE:if(r===_._Y.WHITEBOARD&&(0,d.kc)().figjam_pages_in_figjam)return(0,p.t)("consumption_paywalls.unlimited_pages_in_figjam_files");return(0,p.t)("consumption_paywalls.unlimited_pages_in_design_files");case E.Bi.VOTING:return(0,p.t)("consumption_paywalls.voting");case E.Bi.AUDIO:return(0,p.t)("consumption_paywalls.audio_conversations");case E.Bi.OPEN_SESSION:return(0,p.t)("consumption_paywalls.open_session.host_open_sessions");case E.Bi.PROJECT_TRANSFER:if((0,d.kc)().enable_starter_team_transfers)return(0,p.t)("consumption_paywalls.project_transfer.transfer_projects");return(0,p.t)("consumption_paywalls.project_transfer.transfer_projects_and_teams");case E.Bi.PROTOTYPE_SHARING:return(0,p.t)("consumption_paywalls.prototype_sharing.share_prototypes_separately");case E.Bi.PASSWORD_PROTECTION:return(0,p.t)("consumption_paywalls.password_protection.password_protection");case E.Bi.VERSION_HISTORY:return(0,p.t)("consumption_paywalls.version_history.unlimited_version_history");case E.Bi.VIDEOS_IN_PROTOTYPES:return(0,p.t)("consumption_paywalls.videos_in_prototypes.video_and_image_fills");case E.Bi.TEAM_LIBRARY:return(0,p.t)("consumption_paywalls.shared_team_libraries");case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:return(0,p.t)("consumption_paywalls.full_control_over_project_permissions");case E.Bi.VARIABLES_MODES:return(0,p.t)("consumption_paywalls.variables.4_modes");case E.Bi.PUBLISH_STYLES:case E.Pj.TEAM_CREATION_SPEED_BUMP:return"";case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:return(0,p.t)("consumption_paywalls.multiple_action_prototypes");case E.Bi.PROTOTYPING_VARIABLES:return(0,p.t)("consumption_paywalls.variables_in_prototypes");case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:return(0,p.t)("consumption_paywalls.conditional_prototypes");case E.Bi.PLUGIN_ANALYTICS:case E.Bi.WIDGET_ANALYTICS:return"";case E.Bi.SHARED_FONTS:return(0,p.t)("consumption_paywalls.shared_fonts.locally_installed_fonts");case E.Bi.DEV_MODE:return(0,p.t)("consumption_paywalls.dev_mode");case E.Bi.DEV_MODE_ADMIN_SETTINGS:return(0,p.t)("consumption_paywalls.dev_mode_admin_settings");default:(0,s.xb)(e)}},S=(e,r)=>{switch(e){case E.Bi.VARIABLES_MODES:return(0,p.t)("consumption_paywalls.variables.4_modes");case E.vL.FOLDER:case E.vL.FILE:case E.vL.PAGE:case E.Bi.VOTING:case E.Bi.AUDIO:case E.Bi.OPEN_SESSION:case E.Bi.PROJECT_TRANSFER:case E.Bi.PROTOTYPE_SHARING:case E.Bi.PASSWORD_PROTECTION:case E.Bi.VERSION_HISTORY:case E.Bi.VIDEOS_IN_PROTOTYPES:case E.Bi.TEAM_LIBRARY:case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:case E.Bi.PUBLISH_STYLES:case E.Pj.TEAM_CREATION_SPEED_BUMP:case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:case E.Bi.PROTOTYPING_VARIABLES:case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:case E.Bi.PLUGIN_ANALYTICS:case E.Bi.WIDGET_ANALYTICS:case E.Bi.DEV_MODE:case E.Bi.DEV_MODE_ADMIN_SETTINGS:return i(e,r);case E.Bi.SHARED_FONTS:return(0,p.t)("consumption_paywalls.shared_fonts.shared_fonts_and_libraries");default:(0,s.xb)(e)}},I=(e,r)=>{switch(e){case E.Bi.VARIABLES_MODES:return(0,p.t)("consumption_paywalls.variables.40_modes");case E.vL.FOLDER:case E.vL.FILE:case E.vL.PAGE:case E.Bi.VOTING:case E.Bi.AUDIO:case E.Bi.OPEN_SESSION:case E.Bi.PROJECT_TRANSFER:case E.Bi.PROTOTYPE_SHARING:case E.Bi.PASSWORD_PROTECTION:case E.Bi.VERSION_HISTORY:case E.Bi.VIDEOS_IN_PROTOTYPES:case E.Bi.TEAM_LIBRARY:case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:case E.Bi.PUBLISH_STYLES:case E.Pj.TEAM_CREATION_SPEED_BUMP:case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:case E.Bi.PROTOTYPING_VARIABLES:case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:case E.Bi.PLUGIN_ANALYTICS:case E.Bi.SHARED_FONTS:case E.Bi.WIDGET_ANALYTICS:case E.Bi.DEV_MODE:case E.Bi.DEV_MODE_ADMIN_SETTINGS:return S(e,r);default:(0,s.xb)(e)}},T=(e,r)=>2===r?e===E.Bi.PLUGIN_ANALYTICS?[{text:(0,p.t)("consumption_paywalls.manage_plugin_access")}]:[{text:(0,p.t)("consumption_paywalls.manage_widget_access")}]:3===r?e===E.Bi.PLUGIN_ANALYTICS?[{text:(0,p.t)("consumption_paywalls.manage_plugin_access_by_workspace")},{text:(0,p.t)("consumption_paywalls.plugin_usage_analytics")}]:[{text:(0,p.t)("consumption_paywalls.manage_widget_access_by_workspace")},{text:(0,p.t)("consumption_paywalls.widget_usage_analytics")}]:[],w=e=>2===e?[{text:(0,p.t)("consumption_paywalls.manage_plugin_access")}]:3===e?[{text:(0,p.t)("consumption_paywalls.manage_plugin_access_by_workspace")},{text:(0,p.t)("consumption_paywalls.plugin_usage_analytics")},{text:(0,p.t)("consumption_paywalls.dev_mode_customize_experience")}]:[];e.getPaywallFeatureList=function(e,r,n,i){if(Object.values(E.vL).includes(e))return O(e,r,i);if(e===E.Bi.VARIABLES_MODES)return A(r,n);if(e===E.Bi.PLUGIN_ANALYTICS||e===E.Bi.WIDGET_ANALYTICS)return T(e,r);if(e===E.Bi.DEV_MODE_ADMIN_SETTINGS)return w(r);if(e===E.Bi.SHARED_FONTS)return C(e,r);if(Object.values(E.Bi).includes(e))return P(e,r,i);if(e===E.Pj.TEAM_CREATION_SPEED_BUMP)return N(r,i);return[]};let C=(e,r)=>0===r?[{text:n(e,_._Y.DESIGN)}]:1===r?[{text:i(e,_._Y.DESIGN)}]:2===r?[{text:S(e,_._Y.DESIGN)},{text:(0,p.t)("consumption_paywalls.branching.feature_text")},{text:(0,p.t)("consumption_paywalls.design_system_analytics.feature_text")}]:[],A=(e,r)=>0===e?[{text:n(E.vL.FILE,_._Y.DESIGN),disabled:L(n(E.vL.FILE,_._Y.DESIGN))},{text:n(E.Bi.VARIABLES_MODES,_._Y.DESIGN)}]:1===e?e===r?[{text:i(E.Bi.VARIABLES_MODES,_._Y.DESIGN)},{text:(0,p.t)("consumption_paywalls.shared_team_libraries")}]:[{text:i(E.vL.FILE,_._Y.DESIGN)},{text:i(E.Bi.VARIABLES_MODES,_._Y.DESIGN)},{text:(0,p.t)("consumption_paywalls.shared_team_libraries")}]:2===e?[{text:S(E.Bi.VARIABLES_MODES,_._Y.DESIGN)},{text:(0,p.t)("consumption_paywalls.shared_team_libraries")}]:3===e?[{text:I(E.Bi.VARIABLES_MODES,_._Y.DESIGN)},{text:(0,p.t)("consumption_paywalls.variables.rest_api"),hoverText:a.createElement(p.Tx,{id:"consumption_paywalls.variables.rest_api_hover_text",learnMore:a.createElement(u.Us,{trusted:!0,href:"https://www.figma.com/developers/api#variables",target:"_blank"},a.createElement(p.Tx,{id:"consumption_paywalls.learn_more"}))})},{text:(0,p.t)("consumption_paywalls.workspaces")}]:void(0,s.xb)(e),N=(r,n)=>0===r?[{text:(0,p.t)("consumption_paywalls.free_project_limit",{project_limit:(0,e.getResourceLimit)(E.vL.FOLDER,n)})},{text:(0,p.t)("consumption_paywalls.both_file_limits",{file_limit:(0,e.getResourceLimit)(E.vL.FILE,n)})},{text:(0,p.t)("consumption_paywalls.free_page_limit",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,n)})}]:[{text:(0,p.t)("consumption_paywalls.unlimited_projects")},{text:(0,p.t)("consumption_paywalls.unlimited_files")},{text:(0,p.t)("consumption_paywalls.unlimited_pages_in_design_files")}],O=(e,r,a)=>{let o=Object.values(E.vL).filter(r=>r!==e);switch(r){case 0:return R(e,o,n,a).map(e=>({text:e,disabled:L(e)}));case 1:return R(e,o,i,a).map(e=>({text:e}));case 2:return R(e,o,S,a).map(e=>({text:e}));case 3:return R(e,o,I,a).map(e=>({text:e}))}},R=(e,r,n,i)=>[n(e,i)].concat(r.map(e=>n(e,i))),P=(r,a,o)=>(0===a?r===E.Bi.VOTING||r===E.Bi.PUBLISH_STYLES?[(0,p.t)("consumption_paywalls.free_design_files_and_project_limit"),(0,p.t)("consumption_paywalls.free_page_limit",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,o)})]:r===E.Bi.TEAM_LIBRARY?[(0,p.t)("consumption_paywalls.free_design_files_and_project_limit"),(0,p.t)("consumption_paywalls.free_page_limit",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,o)})]:r===E.Bi.PROTOTYPING_MULTIPLE_ACTIONS||r===E.Bi.PROTOTYPING_VARIABLES||r===E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS?[n(r,o)]:r===E.Bi.DEV_MODE?[(0,p.t)("consumption_paywalls.free_design_files_and_project_limit"),(0,p.t)("consumption_paywalls.free_page_limit",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,o)})]:[n(r,o),(0,p.t)("consumption_paywalls.free_design_files_and_project_limit"),(0,p.t)("consumption_paywalls.free_page_limit",{page_limit:(0,e.getResourceLimit)(E.vL.PAGE,o)})]:r===E.Bi.PUBLISH_STYLES?[(0,p.t)("consumption_paywalls.unlimited_files_and_projects"),(0,p.t)("consumption_paywalls.unlimited_pages_in_design_files"),(0,p.t)("consumption_paywalls.shared_team_libraries")]:r===E.Bi.PROTOTYPING_MULTIPLE_ACTIONS||r===E.Bi.PROTOTYPING_VARIABLES||r===E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS?[(0,p.t)("consumption_paywalls.multiple_action_prototypes"),(0,p.t)("consumption_paywalls.variables_in_prototypes"),(0,p.t)("consumption_paywalls.conditional_prototypes")]:[i(r,o),(0,p.t)("consumption_paywalls.unlimited_files_and_projects"),(0,p.t)("consumption_paywalls.unlimited_pages_in_design_files")]).map(e=>({text:e,disabled:L(e)}));function L(e){switch(e){case(0,p.t)("consumption_paywalls.password_protection.no_password_protection"):case(0,p.t)("consumption_paywalls.open_session.no_open_session"):case(0,p.t)("consumption_paywalls.project_transfer.no_project_transfers"):case(0,p.t)("consumption_paywalls.prototype_sharing.no_sharing_prototypes_separately"):case(0,p.t)("consumption_paywalls.version_history.no_version_history_past_30_days"):return!0;default:return!1}}e.getModalTitle=function(e,r,n){switch(e){case E.vL.FILE:if(r===b.ZN.MOVE_FILES)return n?(0,p.t)("consumption_paywalls.want_to_add_these_files_to_your_team"):(0,p.t)("consumption_paywalls_want_to_add_this_file_to_your_team");if(r===b.ZN.RESTORE_FILES)return n?(0,p.t)("consumption_paywalls.want_to_restore_these_files"):(0,p.t)("consumption_paywalls.want_to_restore_this_file");if(r===b.ZN.DUPLICATE_FILES)return n?(0,p.t)("consumption_paywalls.want_to_duplicate_these_files"):(0,p.t)("consumption_paywalls.want_to_duplicate_this_file");if(r===b.ZN.IMPORT_FILES)return n?(0,p.t)("consumption_paywalls.want_to_import_these_files"):(0,p.t)("consumption_paywalls.want_to_import_this_file");return(0,p.t)("consumption_paywalls.need_more_files");case E.vL.FOLDER:if(r===b.ZN.MOVE_FOLDER)return(0,p.t)("consumption_paywalls.want_to_move_this_project");return(0,p.t)("consumption_paywalls.need_more_projects");case E.vL.PAGE:return(0,p.t)("consumption_paywalls.need_more_pages");case E.Bi.AUDIO:return(0,p.t)("consumption_paywalls.talk_it_through_with_audio");case E.Bi.OPEN_SESSION:return(0,p.t)("consumption_paywalls.open_session.title");case E.Bi.PROJECT_TRANSFER:return(0,p.t)("consumption_paywalls.project_transfer.title");case E.Bi.PROTOTYPE_SHARING:return(0,p.t)("consumption_paywalls.prototype_sharing.title");case E.Bi.PASSWORD_PROTECTION:return(0,p.t)("consumption_paywalls.password_protection.title");case E.Bi.VERSION_HISTORY:return(0,p.t)("consumption_paywalls.version_history.title");case E.Bi.VIDEOS_IN_PROTOTYPES:return(0,p.t)("consumption_paywalls.videos_in_prototypes.title");case E.Bi.VOTING:return(0,p.t)("consumption_paywalls.voting_title");case E.Bi.TEAM_LIBRARY:return(0,p.t)("consumption_paywalls.ready_to_build_a_team_library");case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:return(0,p.t)("consumption_paywalls.need_more_privacy_for_this_project");case E.Pj.TEAM_CREATION_SPEED_BUMP:return(0,p.t)("consumption_paywalls.looking_for_unlimited_projects");case E.Bi.PUBLISH_STYLES:return(0,p.t)("consumption_paywalls.need_to_publish_styles");case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:case E.Bi.PROTOTYPING_VARIABLES:case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:return(0,p.t)("consumption_paywalls.need_to_access_prototyping_features");case E.Bi.VARIABLES_MODES:return r===b.ZN.PUBLISH_MORE_VARIABLE_MODES?(0,p.t)("consumption_paywalls.variables_modes.need_to_publish_variables_for_your_team"):(0,p.t)("consumption_paywalls.variables_modes.need_more_modes");case E.Bi.PLUGIN_ANALYTICS:return(0,p.t)("consumption_paywalls.whos_using_plugin");case E.Bi.WIDGET_ANALYTICS:return(0,p.t)("consumption_paywalls.whos_using_widget");case E.Bi.SHARED_FONTS:return(0,p.t)("consumption_paywalls.shared_fonts.modal_title");case E.Bi.DEV_MODE:return(0,p.t)("consumption_paywalls.dev_mode_modal_title");case E.Bi.DEV_MODE_ADMIN_SETTINGS:return(0,p.t)("consumption_paywalls.dev_mode_admin_settings_modal_title");default:(0,s.xb)(e)}},e.getModalSubtitle=function(r,n,i,a,o){let l=(0,d.kc)().generalize_consumption_paywall_modal_subtitle;switch(r){case E.vL.FILE:return l?(0,p.t)("consumption_paywalls.the_starter_plan_only_comes_with_file_limit_files",{file_limit:(0,e.getResourceLimit)(r,o)}):(0,p.t)("consumption_paywalls.team_name_only_comes_with_file_limit_files",{teamName:i,file_limit:(0,e.getResourceLimit)(r,o)});case E.vL.FOLDER:return l?(0,p.t)("consumption_paywalls.the_starter_plan_only_comes_with_project_limit_projects",{project_limit:(0,e.getResourceLimit)(r,o)}):(0,p.t)("consumption_paywalls.team_name_only_comes_with_project_limit_projects",{teamName:i,project_limit:(0,e.getResourceLimit)(r,o)});case E.vL.PAGE:if(o===_._Y.WHITEBOARD&&(0,d.kc)().figjam_pages_in_figjam)return(0,p.t)("consumption_paywalls.upgrade_your_plan_to_get_unlimited_pages_in_all_your_figjam_files");return l?(0,p.t)("consumption_paywalls.the_starter_plan_only_comes_with_page_limit_pages",{page_limit:(0,e.getResourceLimit)(r,o)}):(0,p.t)("consumption_paywalls.team_name_only_comes_with_page_limit_pages",{teamName:i,page_limit:(0,e.getResourceLimit)(r,o)});case E.Bi.VOTING:return(0,p.t)("consumption_paywalls.upgrade_to_use_voting_description");case E.Bi.AUDIO:return(0,p.t)("consumption_paywalls.upgrade_to_have_quick_easy_conversations_right_from_your_file");case E.Bi.OPEN_SESSION:return(0,p.t)("consumption_paywalls.open_session.subtitle");case E.Bi.PROJECT_TRANSFER:return(0,p.t)("consumption_paywalls.project_transfer.subtitle");case E.Bi.PROTOTYPE_SHARING:return(0,p.t)("consumption_paywalls.prototype_sharing.subtitle");case E.Bi.PASSWORD_PROTECTION:return(0,p.t)("consumption_paywalls.password_protection.subtitle");case E.Bi.VERSION_HISTORY:return(0,p.t)("consumption_paywalls.version_history.subtitle");case E.Bi.VIDEOS_IN_PROTOTYPES:return(0,p.t)("consumption_paywalls.videos_in_prototypes.subtitle");case E.Bi.TEAM_LIBRARY:return(0,p.t)("consumption_paywalls.plan_does_not_support_team_libraries");case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:return(0,p.t)("consumption_paywalls.on_your_plan_projects_are_public_to_the_whole_team_professional_lets_you_choose_who_sees_what");case E.Pj.TEAM_CREATION_SPEED_BUMP:return(0,p.t)("consumption_paywalls.your_plan_only_comes_with_project_limit_projects",{project_limit:(0,e.getResourceLimit)(E.vL.FOLDER,o)});case E.Bi.PUBLISH_STYLES:return(0,p.t)("consumption_paywalls.your_plan_does_not_support_publishing_library_assets");case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:return(0,p.t)("consumption_paywalls.you_cannot_create_multiple_actions_with_your_current_plan");case E.Bi.PROTOTYPING_VARIABLES:return(0,p.t)("consumption_paywalls.you_cannot_use_variables_in_prototyping_with_your_current_plan");case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:return(0,p.t)("consumption_paywalls.you_cannot_use_conditional_prototyping_with_your_current_plan");case E.Bi.VARIABLES_MODES:if(n===b.ZN.PUBLISH_MORE_VARIABLE_MODES)return(0,p.t)("consumption_paywalls.variables_modes.subtitle_publishing");if(0===a)return(0,p.t)("consumption_paywalls.variables_modes.subtitle_starter");if(1===a)return(0,p.t)("consumption_paywalls.variables_modes.subtitle_pro");if(2===a)return(0,p.t)("consumption_paywalls.variables_modes.subtitle_org");return(0,c.x1)("designSystems","Attempted to show upsell modal when current plan is enterprise"),"";case E.Bi.PLUGIN_ANALYTICS:return(0,p.t)("consumption_paywalls.upgrade_plugin_analytics");case E.Bi.WIDGET_ANALYTICS:return(0,p.t)("consumption_paywalls.upgrade_widget_analytics");case E.Bi.SHARED_FONTS:return(0,p.t)("consumption_paywalls.shared_fonts.modal_description");case E.Bi.DEV_MODE:return(0,p.t)("consumption_paywalls.plan_does_not_support_dev_mode");case E.Bi.DEV_MODE_ADMIN_SETTINGS:return(0,p.t)("consumption_paywalls.dev_mode_admin_settings_modal_subtitle");default:(0,s.xb)(r)}},e.getModalTrackingName=function(e,r){let n=Object.values(E.Pj).includes(e),i=Object.values(E.Bi).includes(e),a=Object.values(E.vL).includes(e);if(n)return e===E.Pj.TEAM_CREATION_SPEED_BUMP?"Team creation speed bump upsell modal":(0,s.xb)(e);if(i)switch(e){case E.Bi.TEAM_LIBRARY:return"Team Library Paywall Modal";case E.Bi.AUDIO:return"Audio Paywall Modal";case E.Bi.VIEW_ONLY_PROJECT:case E.Bi.INVITE_ONLY_PROJECT:return"Project Permissions Paywall Modal";case E.Bi.VOTING:return"Voting Paywall Modal";case E.Bi.OPEN_SESSION:return"Open Session Paywall Modal";case E.Bi.PROJECT_TRANSFER:return"Project Transfer Paywall Modal";case E.Bi.PROTOTYPE_SHARING:return"Prototype Sharing Paywall Modal";case E.Bi.PASSWORD_PROTECTION:return"Password Protection Paywall Modal";case E.Bi.VERSION_HISTORY:return"Version History Paywall Modal";case E.Bi.VIDEOS_IN_PROTOTYPES:return"Videos in Prototypes Paywall Modal";case E.Bi.PUBLISH_STYLES:return"Style Publishing Paywall Modal";case E.Bi.PROTOTYPING_MULTIPLE_ACTIONS:case E.Bi.PROTOTYPING_VARIABLES:case E.Bi.PROTOTYPING_CONDITIONAL_ACTIONS:return"Advanced Prototyping Paywall Modal";case E.Bi.VARIABLES_MODES:return"Variables Modes Paywall Modal";case E.Bi.PLUGIN_ANALYTICS:return"Plugin Analytics Paywall Modal";case E.Bi.WIDGET_ANALYTICS:return"Widget Analytics Paywall Modal";case E.Bi.SHARED_FONTS:return"Shared Fonts Paywall Modal";case E.Bi.DEV_MODE:return"Dev Mode Paywall Modal";case E.Bi.DEV_MODE_ADMIN_SETTINGS:return"Dev Mode Admin Settings Paywall Modal";default:return(0,s.xb)(e)}else if(a&&r)switch(r){case b.ZN.CREATE_FILE:case b.ZN.CREATE_FOLDER:case b.ZN.CREATE_PAGE:case b.ZN.MOVE_FILES:case b.ZN.DUPLICATE_PAGE:return"Consumption Paywall Modal: Plans Pricing";case b.ZN.RESTORE_FILES:case b.ZN.DUPLICATE_FILES:case b.ZN.IMPORT_FILES:case b.ZN.MOVE_FOLDER:return"Consumption Paywall Modal: Pricing Clarity V2";case b.ZN.CREATE_FILE_FROM_DROPDOWN:return"Consumption Paywall Modal: Hit File Limit From Dropdown"}return`${e} ${r} Paywall Modal`},e.getModalTrackingProductType=function(e){if(e)return"design"===e?"design":"figjam"},e.isNegativeText=L,e.getCtaTrackingDescriptor=function({plan:e}){return 3===e?f.c.CONTACT_SALES:2===e?f.c.UPGRADE_TO_ORGANIZATION:1===e?f.c.UPGRADE_TO_PROFESSIONAL:null}})(i||(i={}))},41717:(e,r,n)=>{"use strict";let i;n.d(r,{I2:()=>m,TD:()=>g,Ty:()=>u,o7:()=>c,pP:()=>p,vn:()=>h,yO:()=>f});var a=n(84934),o=n(82064),s=n(99506),l=n(66712),d=((i=d||{}).org_member="org_member",i.org_guest="org_guest",i.team_user="team_user",i.personal_user="personal_user",i);function c(e,r,n){if(n&&e===n.id)return n.email;if(r){let n=Object.keys(r.usersByEmail).find(n=>e===r.usersByEmail[n].id);if(n)return n}}function u(e,r,n){if(e&&r){let i=n.orgUsers[e],a=i&&i[r.id];return a&&a.permission===s._D.GUEST}return!1}function p(e,r,n){return e?n?"org_guest":"org_member":r?"team_user":"personal_user"}function h(e,r,n,i){return!!i&&!!(0,l.kc)().api_contacts_v2_at_mentions}let m="comments",g="share_modal";class f{constructor(e,r,n,i,a){this.entrypoint=e,this.openFileKey=r,this.state={sessionId:null,queryCount:0,resultsCount:0},this.userContext=n,this.currentOrgId=i,this.openFileTeamId=a}resetState(){this.state={sessionId:null,queryCount:0,resultsCount:0},this.prevQuery=void 0}startSession(){this.state={sessionId:(0,o.M)(),queryCount:0,resultsCount:0},(0,a.sx)("contacts_session_start",{session_id:this.state.sessionId,entrypoint:this.entrypoint,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId})}trackQueryResult(e,r){null===this.state.sessionId&&this.startSession(),this.prevQuery!==e&&(this.state.queryCount+=1,this.state.resultsCount+=r,(0,a.sx)("contacts_query_result",{session_id:this.state.sessionId,entrypoint:this.entrypoint,query:e,characters_entered:e.length,num_results:r,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId}),this.prevQuery=e)}trackResultClicked(e,r,n,i){(0,a.sx)("contacts_result_clicked",{session_id:this.state.sessionId,entrypoint:this.entrypoint,query:e,characters_entered:e.length,position:r+1,num_results:n,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId,isInvite:!!i}),this.endSession("result_selected",!0)}endSession(e,r){null!==this.state.sessionId&&((0,a.sx)("contacts_session_end",{session_id:this.state.sessionId,num_queries_to_backend:this.state.queryCount,total_contacts_suggested:this.state.resultsCount,entrypoint:this.entrypoint,exitpoint:e,result_selected:r??!1,user_context:this.userContext,file_key:this.openFileKey,org_id:this.currentOrgId,team_id:this.openFileTeamId}),this.resetState())}}},74724:(e,r,n)=>{"use strict";let i;n.d(r,{Ay:()=>s});var a=n(2589),o=((i=o||{})[i.STARTING=0]="STARTING",i[i.FRONTMATTER=1]="FRONTMATTER",i[i.BODY=2]="BODY",i[i.FOOTER=3]="FOOTER",i);let s=a.Ay;Symbol.asyncIterator},2665:(e,r,n)=>{"use strict";n.d(r,{N:()=>a});var i=n(79453);let a=(0,n(84111).Z1)((0,i.Tej)({}),e=>e.currentUser.id)},84111:(e,r,n)=>{"use strict";n.d(r,{J9:()=>s,Z1:()=>o});var i=n(38580),a=n(91388);function o(e,r){return(0,i.eU)(n=>n(e).transform(e=>r(e,n)))}function s(e,r){return o((0,i.eU)(r=>{let n=e.map(e=>r(e));return a.Qw.all(n)}),r)}},92098:(e,r,n)=>{"use strict";n.d(r,{L:()=>s,r:()=>l});var i=n(35283),a=n(86640);let o="curatorLoggingEnabled";function s(e){let r=(0,a.DN)();switch(e){case"debug":r.set(o,"debug");break;case"trace":r.set(o,"trace");break;case"disabled":r.delete(o);break;default:(0,i.xb)(e)}return`Curator logging set to ${e}`}function l(){switch((0,a.DN)().get(o)){case"debug":return"debug";case"trace":return"trace";default:return"disabled"}}},48088:(e,r,n)=>{"use strict";n.d(r,{R:()=>d});var i=n(35283),a=n(57663),o=n(75738),s=n(92098);let l=e=>{let r=(0,s.r)();switch(e){case"debug":return"debug"===r||"trace"===r;case"trace":return"trace"===r;case"disabled":return!1;default:(0,i.xb)(e)}};function d(e,r){let n={...e,timestamp:new Date().toISOString()};if(window.postMessage({event:n,source:"figma-devtools-bridge"},"*"),l(r)){let r={...n,description:function(e){switch(e.name){case"overlay_show_called":return`The overlay.show() function was called on overlay ${(0,o.y)(e.properties.overlayId)}`;case"overlay_complete_called":return`The overlay.complete() function was called on overlay ${(0,o.y)(e.properties.overlayId)} because it was ${e.properties.completeReason}`;case"paused_on_current_overlay":return`The ExperienceSelector paused/queued this overlay with id ${e.properties.overlayId} because an overlay (${e.properties.blockingOverlayId}) is currently showing`;case"failed_on_current_overlay":return`The ExperienceSelector failed to show this overlay with id ${e.properties.overlayId} because an overlay (${e.properties.blockingOverlayId}) is currently showing`;case"remove_blocked_experiences":return`The ExperienceSelector is running through all the queued experiences for channel ${e.properties.channelId} to either pause or fail them.`;case"get_experience_for_channel":return`The ExperienceSelector is getting an experience for channel ${e.properties.channelId}`;case"complete_experience":return`The ExperienceSelector was notified that experience ${e.properties.experienceId} finished showing`;case"queue_experience":return`The experience ${e.properties.experienceId} was sent to the ExperienceSelector`;case"run_experiences_for_channel":return`The ExperienceSelector is about to run through the list of queued experiences for channel ${e.properties.channelId} to either show or block them`;case"overlay_mounted":return`The overlay ${(0,o.y)(e.properties.overlayId)} was mounted`;case"overlay_unmounted":return`The overlay ${(0,o.y)(e.properties.overlayId)} was unmounted`;case"overlay_showing":return`The overlay ${(0,o.y)(e.properties.overlayId)} is showing`;case"data_dependencies_loading":return`The data dependencies for overlay ${(0,o.y)(e.properties.overlayId)} are loading`;case"data_dependencies_loaded":return`The data dependencies for overlay ${(0,o.y)(e.properties.overlayId)} have loaded`;case"data_dependencies_load_error":return`The data dependencies for overlay ${(0,o.y)(e.properties.overlayId)} failed to load${e.properties.timedOut?" (timed out)":""}`;case"data_dependencies_disabled":return`One or more data dependencies for overlay ${(0,o.y)(e.properties.overlayId)} is disabled`;case"can_show_failed":return`The overlay ${(0,o.y)(e.properties.overlayId)} failed the canShow() check`;case"higher_priority_overlay_loading":return`The overlay ${(0,o.y)(e.properties.overlayId)} is paused because a higher priority overlay ${(0,o.y)(e.properties.higherPriorityOverlayId)} is loading`;case"higher_priority_overlay_loaded":return`The overlay ${(0,o.y)(e.properties.overlayId)} is resumed because a higher priority overlay has loaded (took ${e.properties.queueDurationMs}ms)`;case"event_forwarded":return`The overlay ${(0,o.y)(e.properties.overlayId)} received the event ${e.properties.eventId} from the Event Bus`;case"event_listener_registered":return`The overlay ${(0,o.y)(e.properties.overlayId)} is listening to ${e.properties.eventId} on the Event Bus`;case"event_listener_deregistered":return`The overlay ${(0,o.y)(e.properties.overlayId)} is no longer listening to ${e.properties.eventId} on the Event Bus`;case"dequeue_experience":return`The ExperienceSelector dequeued the experience with id: ${e.properties.experienceId}`;case"rule_check_failed":return`The overlay ${(0,o.y)(e.properties.overlayId)} failed the rule: ${e.properties.name} (${e.properties.description})`;case"experiment_check_passed":return`The overlay ${(0,o.y)(e.properties.overlayId)} passed its experiment check`;case"experiment_check_failed":return`The overlay ${(0,o.y)(e.properties.overlayId)} failed its experiment check`;case"lifecycle_check_failed":return`The overlay ${(0,o.y)(e.properties.overlayId)} failed the lifecycle check: ${e.properties.description}`;default:(0,i.xb)(e)}}(e)};a.k.log("Curator",JSON.stringify(r,null,2))}}},81552:(e,r,n)=>{"use strict";n.d(r,{m:()=>a});var i=n(41457);class a extends i.jO{}},53681:(e,r,n)=>{"use strict";n.d(r,{qp:()=>p});var i=n(89865),a=n.n(i),o=n(38580),s=n(75224),l=n(29928),d=n(32888);let c=(0,l.bt)(e=>e.library.published.components),u=(0,l.bt)(e=>e.library.published.stateGroups);(0,o.eU)(e=>{var r,n,i;let a={},o=e(c);for(let[s,l]of Object.entries(e(u)))if(s&&l)for(let e of(a[s]={},Object.keys(l))){if(!e)continue;let l={};for(let a of Object.values((null==(r=null==o?void 0:o[s])?void 0:r[e])??{})){let e=null==(i=null==(n=null==a?void 0:a.containing_frame)?void 0:n.containingStateGroup)?void 0:i.nodeId;e&&(l[e]=(l[e]??0)+1)}a[s][e]=l}return a});let p=(0,o.eU)(e=>a()(e(d.k1),e=>(0,s.lt)(e.library_key)));(0,o.eU)(e=>{let r=e(p),n={};for(let e of Object.keys(r)){let i=(0,s.lt)(e),a=r[i];a&&(n[i]=a.name)}return n})},99881:(e,r,n)=>{"use strict";n.d(r,{M:()=>o});var i=n(66712),a=n(99506);function o(){return(0,i.kc)().dse_preset_libraries?(0,i.kc)().dse_preset_group_apple?a.wl.APPLE_ALPHA:(0,i.kc)().dse_preset_group_google?a.wl.GOOGLE_ALPHA:(0,i.kc)().dse_read_from_presets_table?a.wl.DEFAULT:null:null}},50225:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Ci:()=>d,WJ:()=>s,vO:()=>c,yc:()=>l}),n(39683);var s=((i=s||{}).PASTE="PASTE",i.MODAL="MODAL",i.PLUGIN="PLUGIN",i),l=((a=l||{}).ATTEMPT="figjam_link_metadata_attempt",a.ERROR="figjam_link_metadata_error",a.SUCCESS="figjam_link_metadata_success",a.EMBED_CLICK="figjam_link_embed_click",a.CONVERT_TO_TEXT="figjam_link_metadata_convert_to_text",a.OPEN_PREVIEW="figjam_link_preview_open",a.EMBED_EXPAND="figjam_link_embed_expand",a.COPY_LINK="figjam_link_metadata_copy_url",a.SWITCH_ORIENTATION_VERTICAL="figjam_link_preview_orientation_vertical",a.SWITCH_ORIENTATION_HORIZONTAL="figjam_link_preview_orientation_horizontal",a.EMBED_DEACTIVATE="figjam_embed_deactivate",a),d=((o=d||{}).EMBED="embed",o.LINK_PREVIEW="preview",o);function c(e){try{return new URL(e).hostname}catch(e){return"Could not parse"}}},1432:(e,r,n)=>{"use strict";n.d(r,{T:()=>h});var i=n(44780),a=n(66712),o=n(56390),s=n(63060),l=n(51963),d=n(98822),c=n(93393);let u=!1,p=!1;function h(){(0,l.R)(m)}function m(){var e;!u&&(u=!0,requestAnimationFrame(g),p||null==(e=s.ye)||e.updateLastKnownFrameMs(performance.now()))}function g(){var e,r,n,l,h;null==(e=s.ye)||e.onFrameStart(),u=!1,p=!0,i.rH.start("frame");try{c.q.onFrame()}catch(e){}null==(r=o.Y5)||r.onFrame(),(null==(n=(0,a.kc)())?void 0:n.comments_react)||null==(l=d.i)||l.onFrame(),i.rH.stop("frame"),p=!1,s.fl(),null==(h=s.ye)||h.onFrame()}},20037:(e,r,n)=>{"use strict";function i(e,r){let n="transparent";if(e)try{let i=JSON.parse(e).background_color,a=i.a;if(0!=a){let e=i.r,o=i.g,s=i.b;n=`rgba(${255*e|0}, ${255*o|0}, ${255*s|0}, ${r||a})`}}catch(e){}return n}n.d(r,{C:()=>i})},11916:(e,r,n)=>{"use strict";n.d(r,{vp:()=>o});var i=n(66712),a=n(86653);function o(e,r,n){if(!e)return null;let a={userId:e.id,orgId:r};return(0,i.kc)().ps_benchmark&&(a.teamId=n||null),a}n(76621),n(39863),n(73624),n(28467),n(97551),(0,a.xx)(o)},27703:(e,r,n)=>{"use strict";n.d(r,{Cn:()=>h.C,Oi:()=>m,Sf:()=>b,Uj:()=>_,dj:()=>E,i4:()=>f,sk:()=>g,ud:()=>y});var i=n(11855),a=n(88507),o=n(81912),s=n(66712),l=n(99506),d=n(28467);n(7465);var c=n(2026);n(7956),n(68860),n(57766),n(75847);var u=n(94901);n(32135),n(23746),n(49774),n(89643);var p=n(84968),h=n(20037);function m(e,r,n){if(!e)return!r;if((0,s.kc)().ps_benchmark){if((0,p.PS)(e))return!0;if(n)return!1}return!0}function g(e,r,n,i){return r?!e&&r.invite_whitelist_guest_invite_setting!==c.Gv.BANNED:m(e,n,i)}function f(e){var r;return!!e.has_file_link_password&&((r=e.link_access)===l.PQ.VIEW||r===l.PQ.EDIT)}function _(e){return!!e.has_proto_link_password&&e.proto_link_access===l.Pu.VIEW}function y(){return(0,a.d4)(e=>e.fileByKey)}Date.parse("2021-04-21T15:00:00+0000");let E=4;function b({file:e,canView:r}){let{url:n,fullWidth:a,isLocked:c}=function(e,r,n){let i=(0,s.kc)().password_thumbnail_use_lg?n:(0,d.canViewResource)(l.vt.FILE,e.key,r);return!f(e)||(0,s.kc)().password_file_show_thumbnail&&i?e.thumbnail_guid?{url:e.thumbnail_url,fullWidth:!0,isLocked:!1}:e.thumbnail_url_override?{url:e.thumbnail_url_override,fullWidth:!0,isLocked:!1}:{url:e.thumbnail_url,fullWidth:!1,isLocked:!1}:{url:null,fullWidth:!0,isLocked:!0}}(e,(0,u.FC)(),r),p=e.touched_at??e.updated_at,[h,m]=(0,i.useState)(null),[g,_]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{m(null),_(!0)},[e.key]),(0,i.useEffect)(()=>{let e=()=>{m(n),_(a)};if(!n||!p){e();return}let r=(0,o.A)().subtract(E,"seconds"),i=(0,o.A)(p);if(i.isBefore(r)){e();return}let s=setTimeout(e,i.diff(r));return()=>clearTimeout(s)},[p,n,a]),{url:h,fullWidth:g,isLocked:c}}},47368:(e,r,n)=>{"use strict";n.d(r,{Z1:()=>v,oq:()=>S});var i=n(35283),a=n(76621),o=n(4783),s=n(52800),l=n(2655),d=n(53069),c=n(1886),u=n(47202);let p="CustomImage",h="CustomImageTransparent",m=`type ${p} = {
// This image description must be in clear visual language so that it can be passed to an AI image generation model. Follow these rules:
// - Describe the main subject, describe what that subject is doing, describe visual features of that subject, describe the background, and choose an artistic style that best matches the context of the app.
// - Use visual descriptors like the angle and composition of the image as well as the colors and the tone of the image.
// - Use generic descriptions instead of proper names, trademarked brands, or copyrighted material.
description: string;}`,g=`type ${h} = {
// This image description must be in clear visual language so that it can be passed to an AI image generation model. Follow these rules:
// - Describe the main subject, describe what that subject is doing, describe visual features of that subject, and choose an artistic style that best matches the context of the app.
// - Choose a solid color background that is high-contrast with the main subject and include this in the description.
// - The composition should have the subject in the center of the frame.
// - Use generic descriptions instead of proper names, trademarked brands, or copyrighted material.
description: string;}`;function f(e){let r=new Set,n=[];for(let a of e){let e=a.isOptional?"?":"",o=a.devFriendlyProp;if(!("DERIVED_BOOLEAN"===o.type||r.has(o.key)))switch(o.type){case"SIMPLE":case"SIMPLE_CHOICE":case"ARRAY":case"IMAGE":case"GROUPED_INSTANCE_SWAP":n.push(`${o.key}${e}: ${a.typeStr}`),r.add(o.key);break;default:(0,i.xb)(o)}}return`{${n.join("; ")}}`}function _({component:e,rawProp:r}){let n=E(e),{omit:i,pick:a}=(0,l.rB)(r);return i||a?f(n.parsedDefs.filter(e=>{let r=(0,l.aX)(e.rawProp);return!(i&&i.includes(r))&&(!a||!!a.includes(r))})):1===n.parsedDefs.length?n.parsedDefs[0].typeStr:n.propTypesStr}let y={};function E(e){try{return y[(e=e.isState?e.parentNode:e).guid]||(y[e.guid]=b(e)),y[e.guid]}catch(e){throw e}}function b(e){var r;let n={},o=function(e){let r=function(e){let r=e.componentPropertyDefinitions(),n=Object.keys(r);n.reverse();let i=[];for(let e of n){let n=r[e];if("INSTANCE_SWAP"===n.type){let r=(0,u.Ny)(n.defaultValue);if(r&&"SYMBOL"===r.type){if("Slot"===r.name){i.push({rawProp:e,def:{type:"SLOT"}});continue}if(s.Egt.nodeIsSubscribedSymbolOrStateGroup(r.guid)&&!r.isState){i.push({rawProp:e,def:{type:"GROUPED_INSTANCE_SWAP",defaultValue:r.guid,groupName:d.$x}});continue}{let n=E(r),a=(0,d.vR)(n);if(a){i.push({rawProp:e,def:{type:"GROUPED_INSTANCE_SWAP",defaultValue:r.guid,groupName:a}});continue}}}}i.push({rawProp:e,def:n})}let o=(0,l._j)(e);for(let[e,r]of Object.entries((0,l._e)(o,"IMAGE"))){let n={};for(let e of r)n[e.parentComponentId]=e.node.guid;i.push({rawProp:e,def:{type:"IMAGE",guidByParentComponentId:n,transparent:r.some(({node:e})=>l.xp.test(e.name))}})}let c=(0,u.g5)(e.guid).filter(e=>{var r;return!e.isInstanceSublayer&&!!e.isBubbled&&(null==(r=e.componentPropertyReferences())||!r.mainComponent||((0,a.xi)("getComponentInfo","Nested is both exposed as NESTED and as INSTANCE_SWAP",{instanceId:e.guid}),!1))});for(let[e,r]of Object.entries((0,l._e)(c,"NESTED_INSTANCE"))){let n={};for(let e of r)n[e.parentComponentId]=e.node.guid;let a=(0,u.yu)(r[0].node);a&&i.push({rawProp:e,def:{type:"NESTED_INSTANCE",componentId:a,guidByParentComponentId:n}})}let p={};for(let e of i){if(p[e.rawProp]){console.error("Unexpected repeated rawProp value",{rawProp:e.rawProp});continue}p[e.rawProp]=e}return p}(e);for(let e of(0,l.go)(r))for(let r=0;r<e.length;r++){let n=e[r];n.usagePropOverride=(0,l.fy)({index:r,rawProp:n.rawProp})}let n={},o={},c={},m={},g=new Set;for(let[a,s]of Object.entries(r)){let r=(0,l.aX)(s.usagePropOverride??a);g.has(r)&&(r=(0,l.R0)({usageProp:r,usedUsageProps:g}));let f=s.def,y=function({component:e,rawProp:r,definition:n}){switch(n.type){case"TEXT":return"string";case"VARIANT":return(0,l.Vv)({component:e,rawProp:r});case"INSTANCE_SWAP":{let e=(0,u.Ny)(n.defaultValue);if(e&&"SYMBOL"===e.type)return _({component:e,rawProp:r});break}case"BOOLEAN":return"boolean";case"SLOT":return"React.ReactNode";case"GROUPED_INSTANCE_SWAP":{let e=(0,u.Ny)(n.defaultValue);if(e&&"SYMBOL"===e.type)return(0,d.VV)(n.groupName);break}case"NESTED_INSTANCE":{let e=n.componentId,i=(0,u.Ny)(e);if(i&&("SYMBOL"===i.type||i.isStateGroup))return _({component:i,rawProp:r});break}case"IMAGE":return n.transparent?h:p;default:(0,i.xb)(n)}return null}({component:e,rawProp:a,definition:f});if(y){g.add(r),m[y]=m[y]||[],m[y].push(r),c[a]=r;let e={def:f,devFriendlyProp:function({usageProp:e,definition:r}){if("VARIANT"===r.type)return{type:"SIMPLE_CHOICE",key:e,validOptions:r.variantOptions??[],valueType:"STRING"};if("INSTANCE_SWAP"===r.type||"NESTED_INSTANCE"===r.type){let n=(0,l.O7)(r);if(n){let r=(0,u.Ny)(n);if((null==r?void 0:r.type)==="SYMBOL"||(null==r?void 0:r.isStateGroup)){let n=E(r);if(1===n.parsedDefs.length&&n.parsedDefs[0].devFriendlyProp&&"SIMPLE_CHOICE"===n.parsedDefs[0].devFriendlyProp.type)return{type:"SIMPLE_CHOICE",key:e,validOptions:n.parsedDefs[0].devFriendlyProp.validOptions??[],valueType:"STRING"}}}return{type:"SIMPLE",key:e,valueType:"OBJECT"}}if("BOOLEAN"===r.type)return{type:"SIMPLE",key:e,valueType:"BOOLEAN"};if("TEXT"===r.type)return{type:"SIMPLE",key:e,valueType:"STRING"};if("IMAGE"===r.type)return{type:"IMAGE",key:e,valueType:"OBJECT"};if("GROUPED_INSTANCE_SWAP"===r.type){let n=(0,u.Ny)(r.defaultValue);return n&&"SYMBOL"===n.type?{type:"GROUPED_INSTANCE_SWAP",key:e,groupName:r.groupName,commonOptions:(0,d.jJ)(r.groupName,n),valueType:"OBJECT"}:{type:"SIMPLE",key:e,valueType:"UNKNOWN"}}return{type:"SIMPLE",key:e,valueType:"UNKNOWN"}}({usageProp:r,definition:f}),componentId:(0,l.O7)(f),isOptional:(0,l.QJ)(a),rawProp:a,typeStr:y};o[a]=e,n[r]=e}}for(let[e,r]of Object.entries(m))for(let i of Object.values((0,l.is)(r))){let r=[...i];r.sort();let a=(0,l.rt)(r);if(a){if(!(0,l.xb)(r.map(e=>n[e])))continue;for(let i=0;i<r.length;i++){let o=r[i],s=n[o].devFriendlyProp;n[o].devFriendlyProp={type:"ARRAY",key:a,index:i,rawKey:"key"in s?s.key:"",valueType:s.valueType},n[o].typeStr=`(${e})[]`}}}let f=Object.keys(n),y=[],b={};for(let e of f){let r=n[e].devFriendlyProp;if("DERIVED_BOOLEAN"!==r.type)switch(r.type){case"SIMPLE":case"SIMPLE_CHOICE":case"IMAGE":case"GROUPED_INSTANCE_SWAP":b[e]=r;break;case"ARRAY":b[e]=r,b[r.key]={type:"SIMPLE",key:r.key,valueType:r.valueType};break;default:(0,i.xb)(r)}}for(let e of f){let r=n[e];if("SIMPLE"===r.devFriendlyProp.type){let n="Visible";if(e.endsWith(n)){let i=e.slice(0,-n.length);i&&b[i]&&(r.devFriendlyProp={type:"DERIVED_BOOLEAN",valueType:"BOOLEAN",devFriendlyProp:b[i]})}}y.push(r)}return y}(e),y=f(o);for(let i of o)if("DERIVED_BOOLEAN"!==i.devFriendlyProp.type){if("VARIANT"===i.def.type&&"SIMPLE_CHOICE"===i.devFriendlyProp.type&&(n[i.devFriendlyProp.key]=`type ${(0,l.Vv)({component:e,rawProp:i.rawProp})} = ${(null==(r=i.def.variantOptions)?void 0:r.map(e=>`"${e}"`).join(" | "))??null};`),"GROUPED_INSTANCE_SWAP"===i.def.type){let e=(0,u.Ny)(i.def.defaultValue);if(e&&"SYMBOL"===e.type){let r=(0,d.al)(i.def.groupName,e);r&&(n[i.devFriendlyProp.key+"ENUM"]=r),n[i.devFriendlyProp.key]=(0,d.b0)(i.def.groupName,e)}}if("IMAGE"===i.def.type&&(n[i.devFriendlyProp.key]=i.def.transparent?g:m),i.componentId){let e=(0,u.Ny)(i.componentId);if(e&&("SYMBOL"===e.type||e.isStateGroup))for(let[r,a]of Object.entries(E(e).prefixTypes))n[`${i.devFriendlyProp.key}${r}`]=a}}let b=(0,l.WG)(e.name),v=`type ${b} = React.FC<${y}>`,S=(0,l.yu)(e.guid),I=(0,l.Se)(S,l.vh),T=(0,d.iR)(S),w=I?c.I5.BUILDING_BLOCK:T?c.I5.GROUPED_COMPONENT:c.I5.NONE,C=I?l.vh:T??void 0,A=(0,u.Uk)(e);return{componentId:e.guid,name:e.name,defaultNodeId:"SYMBOL"===e.type?e.guid:(0,u.l8)(e).guid,jsxName:b,componentGroupPath:S,groupName:C,componentType:w,defs:e.componentPropertyDefinitions(),parsedDefs:o,prefixTypes:n,propTypesStr:y,typeStr:v,description:e.description,key:s.Egt.getAssetKeyForPublish(e.guid),version:A,typeInfoVersion:c.Od}}function v(e){let r=(0,u.cl)(e);return r?r.isState?b(r.parentNode):b(r):null}function S(e){return{info:function(e){var r,n;let i=(0,l.__)(e);return r=(0,l.tJ)([...i],{followInstances:!1}),(null==(n=e.options)?void 0:n.reuseCache)||(y={}),r.map(e=>{try{return E(e)}catch(r){(0,a.$D)(o.e.FEEDBACK,r,{extra:{options:n,nodeId:e.guid}})}}).filter(Boolean)}(e)}}},24433:(e,r,n)=>{"use strict";var i=n(38580),a=n(25871);(0,i.eU)((0,a.MZ)())},16398:(e,r,n)=>{"use strict";n.d(r,{FT:()=>s,fB:()=>l,hx:()=>d}),n(11855),n(88507),n(38329);var i=n(98750),a=n(63706);n(38269),n(22774),n(29906),n(39671),n(13029),n(11978);let o={canvas:null,inline_menu:null,comment_thread:null,main_toolbar:null,delightful_toolbar:null,help_widget:null};function s(){let e=o.canvas;return null==e||e.focus(),e}function l(e){return function(e){let r=a.Ay.mac&&(0,i.vN)(e,i.xH.CONTROL|i.xH.META);return"F6"===e.key&&(0,i.vN)(e,i.xH.CONTROL)||a.Ay.mac&&"F6"===e.key&&0===(0,i.sN)(e)||r&&"ArrowRight"===e.key}(e)||function(e){let r=a.Ay.mac&&(0,i.vN)(e,i.xH.CONTROL|i.xH.META);return"F6"===e.key&&(0,i.vN)(e,i.xH.SHIFT|i.xH.CONTROL)||a.Ay.mac&&"F6"===e.key&&(0,i.vN)(e,i.xH.SHIFT)||r&&"ArrowLeft"===e.key}(e)}function d(e){let{e:r,onClickHandler:n,onEscapeHandler:a}=e;n&&r.keyCode===i.Uz.ENTER&&n(r),a&&r.keyCode===i.Uz.ESCAPE&&a(r)}},75847:(e,r,n)=>{"use strict";n.d(r,{B_:()=>u,CI:()=>m,Gi:()=>l,N5:()=>g,SS:()=>_,T9:()=>s,VA:()=>c,d:()=>d,gj:()=>p,jd:()=>E,oq:()=>f,sp:()=>h,ye:()=>y});var i=n(66712);n(99737),n(91388),n(99506),n(79453),n(43987),n(28467),n(51e3),n(45020);var a=n(73454),o=n(68860);function s(e){let r=!!e&&""===e.path;return(0,i.kc)().ps_benchmark?r:r&&!e.teamId}function l(e){let r=!!e&&""===e.path;return(0,i.kc)().ps_benchmark?r:r&&!e.team_id}function d(){return`temp-${+new Date}`}function c(e){return(0,i.kc)().ps_benchmark?(null==e?void 0:e.path)==="":(null==e?void 0:e.path)===""&&!(null==e?void 0:e.teamId)}function u(e){return(null==e?void 0:e.path)===""&&!!(null==e?void 0:e.teamId)}function p(e,r,n,i){if(!e)return null;if(i)return r[i.drafts_folder_id]||null;for(let i in r){let a=r[i],s=n[i]?n[i][e]:null;if(!a.teamId&&""===a.path&&null==a.orgId&&s&&s.level===o.e6.OWNER)return a}return null}function h(e){return e&&!e.team_id&&""!==e.path&&!!e.org_id}function m(e){return(null==e?void 0:e.path)===""?(0,a.Tb)():null==e?void 0:e.path}function g(e,r){return null!=r&&r in e}function f(e,r){let n=r.folders[e];if(n&&n.org_id)return n.org_id;if(n&&n.team_id){let e=r.teams[n.team_id];if(e&&e.org_id)return e.org_id}}function _(e){return e.length<=0?"Please provide a name":e.length>255?"Sorry, name must be at max 255 characters.":e.match(/[\/\\:?*"|]/)?'The following characters are not allowed:  / : ? * " |':void 0}function y(e){return!!e&&!!e.team_id&&!e.path}function E(e){return!!e&&!!e.teamId&&!e.path}n(71653)},28325:(e,r,n)=>{"use strict";n.d(r,{VU:()=>d});var i=n(18549),a=n(47506),o=n(31828),s=n(56390),l=n(62531);let d=new class{constructor(e,r){this._permanentCache=new i.q(e),this._temporaryCache=new i.q(r)}get(e,r,n){let i=`${e} ${r}`;if(n){let e=Object.keys(n);for(let r of(e.sort(),e))i+=` ${r}:${n[r]}`}let d=n?this._temporaryCache:this._permanentCache;return d.get(i)||d.set(i,d=>{"toggle-menu"===e&&(null==d||d.stopPropagation()),"component-insert"===e&&(s.Y5.dispatch(o.b({seen_widget_insert_onboarding_modal:!0,seen_component_onboarding_modal:!0,seen_published_plugin_onboarding_modal:!0,seen_development_plugin_onboarding_modal:!0,seen_universal_inserts_onboarding_modal:!0})),(0,a.YQ)({id:"components_proceed_to_close_modal"}),(0,a.YQ)({id:"widget_insert_proceed_to_close_modal"}),(0,a.YQ)({id:"development_plugin_proceed_to_close_modal"}),(0,a.YQ)({id:"published_plugin_proceed_to_close_modal"}),(0,a.YQ)({id:"universal_inserts_proceed_to_close_modal"}),(0,a.YQ)({id:"saved_and_recent_close_modal"})),l.l7.user(i,()=>{s.Y5.triggerAction(e,{source:r,args:n})})}),d.get(i)}}(1e4,500)},6757:(e,r,n)=>{"use strict";n.d(r,{kS:()=>s,p9:()=>o});var i=n(38580),a=n(29928);let o=(0,a.bt)(e=>e.user),s=(0,i.eU)(e=>{var r;return null==(r=e(o))?void 0:r.id});(0,i.eU)(e=>{var r;return null==(r=e(o))?void 0:r.created_at}),(0,a.bt)(e=>e.userStateLoaded),(0,a.bt)(e=>e.isStarterUser)},20341:(e,r,n)=>{"use strict";let i;n.d(r,{G2:()=>I,WF:()=>S,cP:()=>v,kH:()=>E});var a=n(63142),o=n(31664),s=n(63668),l=n(66712),d=n(72174),c=n(5984),u=n(15009),p=n(87918),h=n(75224),m=n(52800),g=n(84892),f=n(77383),_=n(12666),y=n(9511),E=((i=E||{})[i.DESIGN=0]="DESIGN",i[i.DOM=1]="DOM",i);let b=null;function v(e){b=e}class S{constructor(e,r,n,i,a){this.scene=e,this.guid=r,this.sessionID=n,this.localID=i,this.context=a}setGlobalNodeID(){m.UNF.setGlobalUnstableNodeByID(this.scene,this.sessionID,this.localID,this.context)}isAlive(){return this.setGlobalNodeID(),m.CUU.exists(this.context)}get type(){return this.setGlobalNodeID(),c.w.NodeType[m.Fk7.getType(this.context)]||"NONE"}set type(e){throw Error("type should not be changed after construction")}get tracking(){return this.setGlobalNodeID(),m.UNF.getTracking(this.context)}get name(){return this.setGlobalNodeID(),m.UNF.getName(this.context)}set name(e){this.setGlobalNodeID();let r=m.UNF.setName(e,this.context);if(r)throw Error(r)}isSlideOrSlidelikeFrame(){return this.setGlobalNodeID(),m.CUU.isSlideOrSlidelikeFrame(this.context)}addVariableCollectionMode(e){this.setGlobalNodeID();let{newModeId:r,errorMsg:n}=m.UNF.addVariableCollectionMode(e,this.context);if(n)throw Error(n);return r}removeVariableCollectionMode(e){this.setGlobalNodeID();let{errorMsg:r}=m.UNF.removeVariableCollectionMode(e,this.context);if(r)throw Error(r)}renameVariableCollectionMode(e,r,n){this.setGlobalNodeID();let{errorMsg:i}=m.UNF.renameVariableCollectionMode(e,r,n,this.context);if(i)throw Error(i)}setDefaultModeForVariableCollection(e){this.setGlobalNodeID();let{errorMsg:r}=m.UNF.setVariableCollectionModeAsDefault(e,this.context);if(r)throw Error(r)}setVariableOverrideForMode(e,r,n){this.setGlobalNodeID(),m.UNF.setVariableOverrideForMode(e,r,n,this.context)}deleteOverridesForVariable(e){this.setGlobalNodeID(),m.UNF.deleteOverridesForVariable(e,this.context)}get locked(){return this.setGlobalNodeID(),m.UNF.getLocked(this.context)}set locked(e){this.setGlobalNodeID();let r=m.UNF.setLocked(e,this.context);if(r)throw Error(r)}get isPageDivider(){return this.setGlobalNodeID(),m.UNF.getIsPageDivider(this.context)}set isPageDivider(e){this.setGlobalNodeID();let r=m.UNF.setIsPageDivider(e,this.context);if(r)throw Error(r)}get nodeMemoryUsage(){return m.Ez5.getMemoryUsage(this.guid)}get rootMemoryUsage(){return m.Ez5.getRootMemoryUsage()}get mask(){return this.setGlobalNodeID(),m.Fk7.getIsMask(this.context)}set mask(e){this.setGlobalNodeID();let r=m.Fk7.setIsMask(e,this.context);if(r)throw Error(r)}get maskType(){return this.setGlobalNodeID(),c.w.MaskType[m.Fk7.getMaskType(this.context)]||null}set maskType(e){let r=c.w.MaskType[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setMaskType(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for maskType")}get visible(){return this.setGlobalNodeID(),m.Fk7.getVisible(this.context)}set visible(e){this.setGlobalNodeID();let r=m.Fk7.setVisible(e,this.context);if(r)throw Error(r)}get proportionsConstrained(){return this.setGlobalNodeID(),m.UNF.getProportionsConstrained(this.context)}set proportionsConstrained(e){this.setGlobalNodeID();let r=m.UNF.setProportionsConstrained(e,this.context);if(r)throw Error(r)}get instanceScaleFactor(){return this.setGlobalNodeID(),m.CUU.getInstanceScaleFactor(this.context)}set instanceScaleFactor(e){this.setGlobalNodeID();let r=m.CUU.setInstanceScaleFactor(e,this.context);if(r)throw Error(r)}get resizeToFit(){return this.setGlobalNodeID(),m.Fk7.getResizeToFit(this.context)}set resizeToFit(e){this.setGlobalNodeID();let r=m.Fk7.setResizeToFit(e,this.context);if(r)throw Error(r)}get size(){return this.setGlobalNodeID(),m.UNF.getSize(this.context)}set size(e){this.setGlobalNodeID();let r=m.UNF.setSize(e.x,e.y,this.context);if(r)throw Error(r)}get absoluteTransform(){return this.setGlobalNodeID(),m.UNF.getAbsoluteTransform(this.context)}get connectorStart(){return this.setGlobalNodeID(),m.UNF.getConnectorStart(this.context)}set connectorStart(e){this.setGlobalNodeID();let r=m.UNF.setConnectorStart(e,this.context);if(r)throw Error(r)}get connectorEnd(){return this.setGlobalNodeID(),m.UNF.getConnectorEnd(this.context)}set connectorEnd(e){this.setGlobalNodeID();let r=m.UNF.setConnectorEnd(e,this.context);if(r)throw Error(r)}get connectorLineStyle(){return this.setGlobalNodeID(),m.UNF.getConnectorLineStyle(this.context)}set connectorLineStyle(e){this.setGlobalNodeID();let r=m.UNF.setConnectorLineStyle(e,this.context);if(r)throw Error(r)}get hasPaintedFill(){return this.setGlobalNodeID(),m.UNF.getHasPaintedFill(this.context)}get absoluteRenderBounds(){return this.setGlobalNodeID(),m.UNF.getAbsoluteRenderBounds(this.context)}get absoluteBoundingBox(){this.setGlobalNodeID();let e=m.UNF.getAbsoluteBoundingBox(this.context);return{h:e.size.y,w:e.size.x,x:e.origin.x,y:e.origin.y}}get stackMode(){return this.setGlobalNodeID(),c.w.StackMode[m.UNF.getStackMode(this.context)]||"NONE"}set stackMode(e){let r=c.w.StackMode[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.UNF.setStackMode(r,this.context);else throw Error("Invalid value for stackMode")}get stackWrap(){return this.setGlobalNodeID(),c.w.StackWrap[m.Fk7.getStackWrap(this.context)]||"NO_WRAP"}set stackWrap(e){let r=c.w.StackWrap[e];if("number"==typeof r)this.setGlobalNodeID(),m.Fk7.setStackWrap(r,this.context);else throw Error("Invalid value for stackWrap")}get stackCounterAlignContent(){return this.setGlobalNodeID(),c.w.StackCounterAlignContent[m.Fk7.getStackCounterAlignContent(this.context)]||null}set stackCounterAlignContent(e){let r=c.w.StackCounterAlignContent[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.Fk7.setStackCounterAlignContent(r,this.context);else throw Error("Invalid value for stackCounterAlignContent")}get stackTopPadding(){return this.setGlobalNodeID(),m.UNF.getStackTopPadding(this.context)}set stackTopPadding(e){this.setGlobalNodeID();let r=m.UNF.setStackTopPadding(e,this.context);if(r)throw Error(r)}get stackRightPadding(){return this.setGlobalNodeID(),m.UNF.getStackRightPadding(this.context)}set stackRightPadding(e){this.setGlobalNodeID();let r=m.UNF.setStackRightPadding(e,this.context);if(r)throw Error(r)}get stackBottomPadding(){return this.setGlobalNodeID(),m.UNF.getStackBottomPadding(this.context)}set stackBottomPadding(e){this.setGlobalNodeID();let r=m.UNF.setStackBottomPadding(e,this.context);if(r)throw Error(r)}get stackLeftPadding(){return this.setGlobalNodeID(),m.UNF.getStackLeftPadding(this.context)}set stackLeftPadding(e){this.setGlobalNodeID();let r=m.UNF.setStackLeftPadding(e,this.context);if(r)throw Error(r)}get stackPrimarySizing(){return this.setGlobalNodeID(),c.w.StackSize[m.Fk7.getStackPrimarySizing(this.context)]||null}set stackPrimarySizing(e){let r=c.w.StackSize[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.Fk7.setStackPrimarySizing(r,this.context);else throw Error("Invalid value for stackPrimarySizing")}get stackCounterSizing(){return this.setGlobalNodeID(),c.w.StackSize[m.Fk7.getStackCounterSizing(this.context)]||null}set stackCounterSizing(e){let r=c.w.StackSize[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.Fk7.setStackCounterSizing(r,this.context);else throw Error("Invalid value for stackCounterSizing")}get stackChildPrimaryGrow(){return this.setGlobalNodeID(),m.Fk7.getStackChildPrimaryGrow(this.context)}set stackChildPrimaryGrow(e){this.setGlobalNodeID();let r=m.Fk7.setStackChildPrimaryGrow(e,this.context);if(r)throw Error(r)}get stackChildAlignSelf(){return this.setGlobalNodeID(),c.w.StackCounterAlign[m.Fk7.getStackChildAlignSelf(this.context)]||null}set stackChildAlignSelf(e){let r=c.w.StackCounterAlign[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.Fk7.setStackChildAlignSelf(r,this.context);else throw Error("Invalid value for stackChildAlignSelf")}get stackPrimaryAlignItems(){return this.setGlobalNodeID(),c.w.StackJustify[m.UNF.getStackPrimaryAlignItems(this.context)]||null}set stackPrimaryAlignItems(e){let r=c.w.StackJustify[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.UNF.setStackPrimaryAlignItems(r,this.context);else throw Error("Invalid value for stackPrimaryAlignItems")}get stackCounterAlignItems(){return this.setGlobalNodeID(),c.w.StackAlign[m.Fk7.getStackCounterAlignItems(this.context)]||null}set stackCounterAlignItems(e){let r=c.w.StackAlign[e];if("number"==typeof r&&void 0!==r)this.setGlobalNodeID(),m.Fk7.setStackCounterAlignItems(r,this.context);else throw Error("Invalid value for stackCounterAlignItems")}get stackSpacing(){return this.setGlobalNodeID(),m.Fk7.getStackSpacing(this.context)}set stackSpacing(e){this.setGlobalNodeID();let r=m.Fk7.setStackSpacing(e,this.context);if(r)throw Error(r)}get stackCounterSpacing(){return this.setGlobalNodeID(),m.Fk7.getStackCounterSpacing(this.context)}set stackCounterSpacing(e){this.setGlobalNodeID();let r=null==e?m.UNF.syncStackCounterSpacing(this.context):m.Fk7.setStackCounterSpacing(e,this.context);if(r)throw Error(r)}get stackPositioning(){return this.setGlobalNodeID(),c.w.StackPositioning[m.Fk7.getStackPositioning(this.context)]||"AUTO"}set stackPositioning(e){let r=c.w.StackPositioning[e];if("number"==typeof r)this.setGlobalNodeID(),m.Fk7.setStackPositioning(r,this.context);else throw Error("Invalid value for stackPositioning")}get stackReverseZIndex(){return this.setGlobalNodeID(),m.UNF.getStackReverseZIndex(this.context)||!1}set stackReverseZIndex(e){this.setGlobalNodeID();let r=m.UNF.setStackReverseZIndex(e,this.context);if(r)throw Error(r)}get stackHorizontalLayoutSize(){return this.setGlobalNodeID(),m.UNF.getStackHorizontalLayoutSize(this.context)}set stackHorizontalLayoutSize(e){this.setGlobalNodeID();let r=m.UNF.setStackHorizontalLayoutSize(e,this.context);if(r)throw Error(r)}get stackVerticalLayoutSize(){return this.setGlobalNodeID(),m.UNF.getStackVerticalLayoutSize(this.context)}set stackVerticalLayoutSize(e){this.setGlobalNodeID();let r=m.UNF.setStackVerticalLayoutSize(e,this.context);if(r)throw Error(r)}get minWidth(){return this.setGlobalNodeID(),m.UNF.getMinWidth(this.context)}set minWidth(e){this.setGlobalNodeID();let r=m.UNF.setMinWidth(e,this.context);if(r)throw Error(r)}get minHeight(){return this.setGlobalNodeID(),m.UNF.getMinHeight(this.context)}set minHeight(e){this.setGlobalNodeID();let r=m.UNF.setMinHeight(e,this.context);if(r)throw Error(r)}get maxWidth(){return this.setGlobalNodeID(),m.UNF.getMaxWidth(this.context)}set maxWidth(e){this.setGlobalNodeID();let r=m.UNF.setMaxWidth(e,this.context);if(r)throw Error(r)}get maxHeight(){return this.setGlobalNodeID(),m.UNF.getMaxHeight(this.context)}set maxHeight(e){this.setGlobalNodeID();let r=m.UNF.setMaxHeight(e,this.context);if(r)throw Error(r)}get textTruncation(){return this.setGlobalNodeID(),c.w.TextTruncation[m.Fk7.getTextTruncation(this.context)]}set textTruncation(e){let r=c.w.TextTruncation[e];if("number"!=typeof r)throw Error("Invalid value for textTruncation");this.setGlobalNodeID();let n=m.Fk7.setTextTruncation(r,this.context);if(n)throw Error(n)}get bordersTakeSpace(){return this.setGlobalNodeID(),m.Fk7.getBordersTakeSpace(this.context)||!1}set bordersTakeSpace(e){this.setGlobalNodeID();let r=m.Fk7.setBordersTakeSpace(e,this.context);if(r)throw Error(r)}get borderTopWeight(){return this.setGlobalNodeID(),m.Fk7.getBorderTopWeight(this.context)}set borderTopWeight(e){this.setGlobalNodeID();let r=m.Fk7.setBorderTopWeight(e,this.context);if(r)throw Error(r)}get borderBottomWeight(){return this.setGlobalNodeID(),m.Fk7.getBorderBottomWeight(this.context)}set borderBottomWeight(e){this.setGlobalNodeID();let r=m.Fk7.setBorderBottomWeight(e,this.context);if(r)throw Error(r)}get borderLeftWeight(){return this.setGlobalNodeID(),m.Fk7.getBorderLeftWeight(this.context)}set borderLeftWeight(e){this.setGlobalNodeID();let r=m.Fk7.setBorderLeftWeight(e,this.context);if(r)throw Error(r)}get borderRightWeight(){return this.setGlobalNodeID(),m.Fk7.getBorderRightWeight(this.context)}set borderRightWeight(e){this.setGlobalNodeID();let r=m.Fk7.setBorderRightWeight(e,this.context);if(r)throw Error(r)}get borderStrokeWeightsIndependent(){return this.setGlobalNodeID(),m.Fk7.getBorderStrokeWeightsIndependent(this.context)}set borderStrokeWeightsIndependent(e){this.setGlobalNodeID();let r=m.Fk7.setBorderStrokeWeightsIndependent(e,this.context);if(r)throw Error(r)}get frameMaskDisabled(){return this.setGlobalNodeID(),m.Fk7.getIsFrameClippingDisabled(this.context)}set frameMaskDisabled(e){this.setGlobalNodeID();let r=m.Fk7.setIsFrameClippingDisabled(e,this.context);if(r)throw Error(r)}get isSymbolPublishable(){return this.setGlobalNodeID(),m.UNF.getIsSymbolPublishable(this.context)}set isSymbolPublishable(e){this.setGlobalNodeID();let r=m.UNF.setIsSymbolPublishable(e,this.context);if(r)throw Error(r)}set isPublishable(e){this.setGlobalNodeID();let r=m.UNF.setIsPublishable(e,this.context);if(r)throw Error(r)}get stateGroupPropertyValueOrder(){return this.setGlobalNodeID(),m.UNF.getStateGroupPropertyValueOrder(this.context)}get statePropertyValues(){return this.setGlobalNodeID(),m.UNF.getStatePropertyValues(this.context)}get richMediaInfo(){return this.setGlobalNodeID(),m.UNF.getRichMediaInfo(this.context)}get stampData(){return this.setGlobalNodeID(),m.UNF.getStampData(this.context)}get isFaceStamp(){return this.setGlobalNodeID(),m.UNF.isFaceStamp(this.context)}isTopLevelFrame(){return this.setGlobalNodeID(),m.UNF.isTopLevelFrame(this.context)}get childrenAreAllGhosts(){return this.setGlobalNodeID(),m.UNF.childrenAreAllGhosts(this.context)}get tableNumRows(){return this.setGlobalNodeID(),m.UNF.tableNumRows(this.context)}get tableNumColumns(){return this.setGlobalNodeID(),m.UNF.tableNumColumns(this.context)}get tableCellRowIndex(){return this.setGlobalNodeID(),m.UNF.tableCellRowIndex(this.context)}get tableCellColumnIndex(){return this.setGlobalNodeID(),m.UNF.tableCellColumnIndex(this.context)}get isUnderHiddenSection(){return this.setGlobalNodeID(),m.UNF.isUnderHiddenSection(this.context)}get whiteboardColor(){return this.setGlobalNodeID(),m.DV9.getWhiteboardColor(this.context)}get containingStateGroupId(){return this.setGlobalNodeID(),m.UNF.getContainingStateGroupId(this.context)}get topmostBackingStateId(){return this.setGlobalNodeID(),m.CUU.getTopmostBackingStateId(this.context)}get containingSymbolId(){return this.setGlobalNodeID(),m.UNF.getContainingSymbolId(this.context)}get containingModuleId(){return this.setGlobalNodeID(),m.UNF.getContainingModuleId(this.context)}get symbolId(){this.setGlobalNodeID();let e=m.UNF.getSymbolId(this.context);return e!==p.AD?e:null}get description(){return this.setGlobalNodeID(),m.UNF.getDescription(this.context)}set description(e){this.setGlobalNodeID();let r=m.UNF.setDescription(e,this.context);if(r)throw Error(r)}get symbolLinks(){return this.setGlobalNodeID(),m.UNF.getSymbolLinks(this.context)}set symbolLinks(e){this.setGlobalNodeID();let r=m.UNF.setSymbolLinks(e,this.context);if(r)throw Error(r)}get cornerRadius(){return this.setGlobalNodeID(),m.Fk7.getCornerRadius(this.context)}set cornerRadius(e){this.setGlobalNodeID();let r=m.Fk7.setCornerRadius(e,this.context);if(r)throw Error(r)}get cornerRadiusOrMixed(){return this.setGlobalNodeID(),m.UNF.getCornerRadiusOrMixed(this.context)}set cornerRadiusOrMixed(e){if(this.setGlobalNodeID(),"mixed"===e)throw Error("can't set value 'mixed'");let r=m.CUU.setCornerRadiusOrMixed(e,this.context);if(r)throw Error(r)}get objectsPanelThumbnailId(){return this.setGlobalNodeID(),m.CUU.getObjectsPanelThumbnailId()}get pageType(){return this.setGlobalNodeID(),c.w.EditorType[m.Fk7.getPageType(this.context)]}get isExpandable(){return this.setGlobalNodeID(),m.UNF.getIsExpandable(this.context)}get isExpanded(){return this.setGlobalNodeID(),m.UNF.getIsExpanded(this.context)}set isExpanded(e){this.setGlobalNodeID();let r=m.UNF.setIsExpanded(e,this.context);if(r)throw Error(r)}get isTemporarilyExpanded(){return this.setGlobalNodeID(),m.UNF.getIsTemporarilyExpanded(this.context)}set isTemporarilyExpanded(e){this.setGlobalNodeID(),m.UNF.setIsTemporarilyExpanded(e,this.context)}get styleType(){return this.setGlobalNodeID(),c.w.StyleType[m.Fk7.getStyleType(this.context)]||"NONE"}set styleType(e){let r=c.w.StyleType[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setStyleType(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for styleType")}get styleDescription(){var e;return(this.setGlobalNodeID(),!(0,l.kc)().check_type_for_style_desc||(e=this.context,c.w.StyleType[m.Fk7.getStyleType(e)]))?m.UNF.getStyleDescription(this.context)||"":null}set styleDescription(e){this.setGlobalNodeID();let r=m.UNF.setStyleDescription(e,this.context);if(r)throw Error(r)}setDescriptionRich(e){this.setGlobalNodeID();let r=(0,s.A)(e),n=m.UNF.setDescriptionRich(e,r,this.context);if(n)throw Error(n)}get componentKey(){this.setGlobalNodeID();let e=m.UNF.getComponentKey(this.context);return e===u.sg.INVALID?null:e}get stateGroupKey(){this.setGlobalNodeID();let e=m.UNF.getStateGroupKey(this.context);return e===u.sg.INVALID?null:e}get styleKey(){this.setGlobalNodeID();let e=m.UNF.getStyleKey(this.context);return e===u.sg.INVALID?null:e}get variableKey(){this.setGlobalNodeID();let e=m.UNF.getVariableKey(this.context);return e===u.ey.INVALID?null:e}get variableCollectionKey(){this.setGlobalNodeID();let e=m.UNF.getVariableCollectionKey(this.context);return e===u.yG.INVALID?null:e}get styleVersionHash(){this.setGlobalNodeID();let e=m.UNF.getStyleVersionHash(this.context);return e===u.IA.INVALID?null:e}get userFacingVersion(){return this.setGlobalNodeID(),m.UNF.getUserFacingAssetVersion(this.context)}get isLocalStyle(){return this.setGlobalNodeID(),m.UNF.getIsLocalStyle(this.context)}get publishFile(){this.setGlobalNodeID();let e=m.UNF.getPublishFile(this.context);return""===e?null:e}get sourceLibraryKey(){return this.setGlobalNodeID(),(0,h.lt)(m.UNF.getSourceLibraryKey(this.context))}get sharedSymbolVersion(){this.setGlobalNodeID();let e=m.UNF.getSharedSymbolVersion(this.context);return e===u.F7.INVALID?null:e}get sharedStateGroupVersion(){this.setGlobalNodeID();let e=m.UNF.getSharedStateGroupVersion(this.context);return e===u.Rf.INVALID?null:e}get publishID(){return this.setGlobalNodeID(),m.UNF.getPublishID(this.context)}get textContent(){return this.setGlobalNodeID(),m.UNF.getTextContent(this.context)}get accessibleLabel(){return this.setGlobalNodeID(),m.UNF.getAccessibleLabel(this.context)}set accessibleLabel(e){this.setGlobalNodeID();let r=m.UNF.setAccessibleLabel(e,this.context);if(r)throw Error(r)}get accessibleHTMLTag(){return this.setGlobalNodeID(),c.w.HTMLTag[m.Fk7.getAccessibleHtmlTag(this.context)]}set accessibleHTMLTag(e){this.setGlobalNodeID();let r=m.Fk7.setAccessibleHtmlTag(c.w.HTMLTag[e],this.context);if(r)throw Error(r)}get textSublayer(){return this.setGlobalNodeID(),this.mapOneGuidToNode(m.CUU.getTextSublayer(this.context))}get immutableFrameShape(){return this.setGlobalNodeID(),this.mapOneGuidToNode(m.CUU.getImmutableFrameShape(this.context))}get immutableFrameLabel(){return this.setGlobalNodeID(),this.mapOneGuidToNode(m.CUU.getImmutableFrameLabel(this.context))}get fontName(){return this.setGlobalNodeID(),m.UNF.getFontName(this.context)}get hasMissingFont(){return this.setGlobalNodeID(),m.CUU.hasMissingFont(this.context)}set fontName(e){this.setGlobalNodeID();let r=m.CUU.setRangeFontName(0,-1,e.family,e.style,e.postscript,this.context);if(r)throw Error(r)}get exportSettings(){this.setGlobalNodeID();let e=m.UNF.getExportSettings(this.context);return""===e?[]:c.w.decodeNodeChange((0,a.D4)(e)).exportSettings||[]}set exportSettings(e){let r=c.w.encodeNodeChange({exportSettings:e}),n=c.w.decodeNodeChange(r).exportSettings;if(!(0,o.Mm)(e,n))throw Error("Invalid format for export settings");this.setGlobalNodeID(),m.UNF.setExportSettings((0,a.lF)(r),this.context)}get parentGuid(){return this.setGlobalNodeID(),m.UNF.getParent(this.context)}get parentNode(){return this.setGlobalNodeID(),this.mapOneGuidToNode(m.UNF.getParent(this.context))}mapGuidsToNodes(e){return e.map(e=>{let r=I(e,0),n=I(e,e.indexOf(":")+1);return new S(this.scene,e,r,n,this.context)})}mapOneGuidToNode(e){if(!e)return null;let r=I(e,0),n=I(e,e.indexOf(":")+1);return new S(this.scene,e,r,n,this.context)}get childrenGuids(){return this.setGlobalNodeID(),m.UNF.getChildren(this.context)}get childrenNodes(){return this.setGlobalNodeID(),this.mapGuidsToNodes(m.UNF.getChildren(this.context))}get reversedChildrenGuids(){return this.setGlobalNodeID(),m.CUU.getReversedChildren(this.context)}get reversedChildrenNodes(){return this.setGlobalNodeID(),this.mapGuidsToNodes(m.CUU.getReversedChildren(this.context))}get sortedTableCells(){return this.setGlobalNodeID(),m.CUU.getSortedTableCells(this.context)}get devToolsOrderedVisibleChildren(){let e="NONE"===this.stackMode&&this.inferredAutoLayoutResult;this.setGlobalNodeID();let r=e?m.CUU.getInferredSortedChildren(this.context):m.UNF.getVisibleChildren(this.context);return 0===this.childrenDisplayOrder&&r.reverse(),r}get visibleChildren(){return this.setGlobalNodeID(),m.UNF.getVisibleChildren(this.context)}get uiOrderedChildren(){this.setGlobalNodeID();let e=0===this.childrenDisplayOrder;return!this.simplifyInstancePanels||this.containingSymbolId||this.containingStateGroupId?e?m.CUU.getReversedChildren(this.context):m.UNF.getChildren(this.context):m.CUU.getSimplifiedChildrenIfNotExpanded(this.context,e)}get containingCanvas(){return this.setGlobalNodeID(),m.UNF.findContainingCanvas(this.context)||null}get scrollDirection(){return this.setGlobalNodeID(),c.w.ScrollDirection[m.Fk7.getOverflowDirection(this.context)]||"NONE"}set scrollDirection(e){let r=c.w.ScrollDirection[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setOverflowDirection(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for scrollDirection")}get scrollBehavior(){return this.setGlobalNodeID(),c.w.ScrollBehavior[m.Fk7.getScrollBehavior(this.context)]}get fixedChildrenCount(){return this.setGlobalNodeID(),m.CUU.getFixedChildrenCount(this.context)}set fixedChildrenCount(e){this.setGlobalNodeID();let r=m.CUU.setFixedChildrenCount(e,this.context);if(r)throw Error(r)}setSelectionToSingleNode(e){this.setGlobalNodeID(),m.UNF.setSelectionToSingleNode(e,this.context)}get selection(){return this.setGlobalNodeID(),m.UNF.getSelection(this.context)}get booleanOperation(){return this.setGlobalNodeID(),c.w.BooleanOperation[m.UNF.getBooleanOperation(this.context)]||null}set booleanOperation(e){let r=null!=e?c.w.BooleanOperation[e]:null;if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setBooleanOperation(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for booleanOperation")}get isGroup(){return this.setGlobalNodeID(),m.UNF.getIsGroup(this.context)}get isSection(){return this.setGlobalNodeID(),m.UNF.getIsSection(this.context)}get hasBeenEditedSinceLastStatusChange(){return this.setGlobalNodeID(),m.UNF.hasBeenEditedSinceLastStatusChange(this.context)}get canHaveStatus(){return this.setGlobalNodeID(),m.UNF.canHaveStatus(this.context)}get hasReadyStatus(){return this.setGlobalNodeID(),m.UNF.getStatusInfo(this.context).status===m.zIx.BUILD}get hasCompletedStatus(){return this.setGlobalNodeID(),m.UNF.getStatusInfo(this.context).status===m.zIx.COMPLETED}getStatusInfo(){return this.setGlobalNodeID(),m.UNF.getStatusInfo(this.context)}setStatus(e,r,n){this.setGlobalNodeID();let i=m.UNF.setStatus({status:e,userId:r,description:n},this.context);if(i)throw Error(i)}get horizontalConstraint(){return this.setGlobalNodeID(),c.w.ConstraintType[m.Fk7.getHorizontalConstraint(this.context)]||null}set horizontalConstraint(e){let r=null!=e?c.w.ConstraintType[e]:null;if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setHorizontalConstraint(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for horizontalConstraint")}get verticalConstraint(){return this.setGlobalNodeID(),c.w.ConstraintType[m.Fk7.getVerticalConstraint(this.context)]||null}set verticalConstraint(e){let r=null!=e?c.w.ConstraintType[e]:null;if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setVerticalConstraint(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for verticalConstraint")}get hasEnabledStaticImagePaint(){return this.setGlobalNodeID(),m.CUU.getHasEnabledStaticImagePaint(this.context)}get hasEnabledAnimatedPaint(){return this.setGlobalNodeID(),m.CUU.getHasEnabledAnimatedPaint(this.context)}get hasEnabledVideoPaint(){return this.setGlobalNodeID(),m.CUU.getHasEnabledVideoPaint(this.context)}get isPrimaryInstance(){return this.setGlobalNodeID(),m.UNF.getIsPrimaryInstance(this.context)}get isSwappedNestedInstance(){return this.setGlobalNodeID(),m.UNF.getIsSwappedNestedInstance(this.context)}get isInstanceSublayer(){return this.setGlobalNodeID(),m.UNF.getIsInstanceSublayer(this.context)}get isSymbolSublayer(){return this.setGlobalNodeID(),m.UNF.getIsSymbolSublayer(this.context)}get isLooseComponent(){return this.setGlobalNodeID(),m.UNF.getIsLooseComponent(this.context)}get isStateGroup(){return this.setGlobalNodeID(),m.Fk7.getIsStateGroup(this.context)}set isStateGroup(e){this.setGlobalNodeID();let r=m.Fk7.setIsStateGroup(e,this.context);if(r)throw Error(r)}get isTemplate(){return this.setGlobalNodeID(),m.UNF.getIsTemplate(this.context)}get isState(){return this.setGlobalNodeID(),m.UNF.getIsState(this.context)}get isModule(){return this.setGlobalNodeID(),m.UNF.getIsModule(this.context)}get stateAbbreviatedName(){return this.setGlobalNodeID(),m.UNF.getStateAbbreviatedName(this.context)}get isLiveObject(){return this.setGlobalNodeID(),m.UNF.getIsLiveObject(this.context)}get hasPrototypeStartingPoint(){return this.setGlobalNodeID(),m.UNF.getHasPrototypeStartingPoint(this.context)}get editInfo(){return this.setGlobalNodeID(),m.UNF.getEditInfo(this.context)}get detachedInfo(){return this.setGlobalNodeID(),m.UNF.getDetachedInfo(this.context)}get isInWidget(){return this.setGlobalNodeID(),m.UNF.getIsInWidget(this.context)}get widgetId(){return this.setGlobalNodeID(),m.UNF.getWidgetId()||null}get widgetVersionId(){return this.setGlobalNodeID(),m.UNF.getWidgetVersionId()}set widgetVersionId(e){this.setGlobalNodeID(),m.UNF.setWidgetVersionId(e)}get widgetInputTextNodeType(){return this.setGlobalNodeID(),c.w.WidgetInputTextNodeType[m.UNF.getWidgetInputTextNodeType()]||null}set widgetInputTextNodeType(e){let r=null!=e?c.w.WidgetInputTextNodeType[e]:null;if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setWidgetInputTextNodeType(r);if(e)throw Error(e)}else throw Error("Invalid value for widgetInputTextNodeType")}get hasHiddenChildrenWhenSimplified(){return this.setGlobalNodeID(),m.UNF.getHasHiddenChildrenWhenSimplified(this.context)}get simplifyInstancePanels(){return this.setGlobalNodeID(),m.UNF.getSimplifyInstancePanels(this.context)}get isBubbled(){return this.setGlobalNodeID(),m.UNF.getIsBubbled(this.context)}get propRefs(){return this.setGlobalNodeID(),m.UNF.getPropRefs(this.context)}get sectionContentsHidden(){return this.setGlobalNodeID(),m.UNF.getSectionContentsHidden(this.context)}set sectionContentsHidden(e){this.setGlobalNodeID(),m.UNF.setSectionContentsHidden(e,this.context)}get fills(){return this.setGlobalNodeID(),m.UNF.getJsFillPaints(this.context)}set fills(e){this.setGlobalNodeID();let r=m.UNF.setFillPaints((0,g.nc)(e),this.context);if(r)throw Error(r)}setImageInFillPaint(e,r,n,i,a){this.setGlobalNodeID();let o=m.UNF.setImageInFillPaint(this.context,e,r,n,i,a||0);if(o)throw Error(o)}get backgroundColor(){this.setGlobalNodeID();let e=m.UNF.getBackgroundColor(this.context);return{r:e.red,g:e.green,b:e.blue,a:e.alpha}}get chunkChangeStatus(){return this.setGlobalNodeID(),m.AWq.getChunkChangeStatus()}get nodeChangeStatus(){return this.setGlobalNodeID(),m.AWq.getNodeChangeStatus()}get canvasSearchHighlightsCount(){return this.setGlobalNodeID(),m.UNF.getCanvasSearchHighlightsCount()}applyTextStylingAction(e){return this.setGlobalNodeID(),m.CUU.applyTextStylingAction(e,this.context)}getPlaceholderFontStyle(){return this.setGlobalNodeID(),m.CUU.getPlaceholderFontStyle(this.context)}getPlaceholderText(){return this.setGlobalNodeID(),m.CUU.getPlaceholderText(this.context)}get textData(){this.setGlobalNodeID();let e=m.UNF.getTextData(this.context);return -1===e?null:m.YMM.getOrCreateJsCopy(e)}get hyperlink(){return this.setGlobalNodeID(),m.CUU.getRangeHyperlink(0,-1,this.context)}get isEmbed(){return this.setGlobalNodeID(),m.UNF.getIsEmbed(this.context)}get isLinkPreview(){return this.setGlobalNodeID(),m.UNF.getIsLinkPreview(this.context)}get isInternalOnlyNode(){return this.setGlobalNodeID(),m.Fk7.getIsInternalOnly(this.context)}get relativeTransform(){return this.setGlobalNodeID(),m.UNF.getRelativeTransform(this.context)}set relativeTransform(e){this.setGlobalNodeID();let r=m.UNF.setRelativeTransform(e.m00,e.m01,e.m02,e.m10,e.m11,e.m12,this.context);if(r)throw Error(r)}get x(){return this.setGlobalNodeID(),m.UNF.getRelativeTransform(this.context).m02}set x(e){this.setGlobalNodeID();let r=m.UNF.getRelativeTransform(this.context),n=m.UNF.setRelativeTransform(r.m00,r.m01,e,r.m10,r.m11,r.m12,this.context);if(n)throw Error(n)}get y(){return this.setGlobalNodeID(),m.UNF.getRelativeTransform(this.context).m12}set y(e){this.setGlobalNodeID();let r=m.UNF.getRelativeTransform(this.context),n=m.UNF.setRelativeTransform(r.m00,r.m01,r.m02,r.m10,r.m11,e,this.context);if(n)throw Error(n)}setRelativeTransformWithAnimation(e,r){return this.setGlobalNodeID(),parseInt(m.zuo.setRelativeTransform(this.context,{...e},r))}get overlayTransform(){return this.setGlobalNodeID(),m.UNF.getOverlayTransform(this.context)}set overlayTransform(e){this.setGlobalNodeID();let r=m.UNF.setOverlayTransform(e.m00,e.m01,e.m02,e.m10,e.m11,e.m12,this.context);if(r)throw Error(r)}setOpacityWithAnimation(e,r){return this.setGlobalNodeID(),parseInt(m.zuo.setOpacity(this.context,e,r))}get effectivePrototypeStartNodeId(){return this.setGlobalNodeID(),m.CUU.getEffectivePrototypeStartNodeId(this.context)}get flowStartingPoints(){return this.setGlobalNodeID(),m.CUU.getFlowStartingPoints(this.context)}set flowStartingPoints(e){this.setGlobalNodeID();let r=m.CUU.setFlowStartingPoints(e,this.context);if(r)throw Error(r)}get opacity(){return this.setGlobalNodeID(),m.Fk7.getOpacity(this.context)}set opacity(e){this.setGlobalNodeID();let r=m.Fk7.setOpacity(e,this.context);if(r)throw Error(r)}get cornerSmoothing(){return this.setGlobalNodeID(),m.Fk7.getCornerSmoothing(this.context)}set cornerSmoothing(e){this.setGlobalNodeID();let r=m.Fk7.setCornerSmoothing(e,this.context);if(r)throw Error(r)}get strokeWeight(){return this.setGlobalNodeID(),m.Fk7.getStrokeWeight(this.context)}set strokeWeight(e){this.setGlobalNodeID();let r=m.Fk7.setStrokeWeight(e,this.context);if(r)throw Error(r)}get variableDataValues(){return this.setGlobalNodeID(),m.UNF.getVariableDataValues(this.context)}get variableSetID(){return this.setGlobalNodeID(),m.UNF.getVariableSetID(this.context)}get variableSetModesSorted(){return this.setGlobalNodeID(),m.UNF.getVariableSetModesSorted(this.context)}get variableIdsInCollection(){return this.setGlobalNodeID(),m.mSn.getVariableIdsInCollection()}get variableResolvedType(){return this.setGlobalNodeID(),m.UNF.getVariableResolvedType(this.context)}get variableModeValues(){this.setGlobalNodeID();let{errorMsg:e,values:r}=m.UNF.getVariableDataValues(this.context);if(e)throw Error(e);return r}setVariableValueForMode(e,r,n){this.setGlobalNodeID();let{errorMsg:i}=m.UNF.setVariableDataForMode(e,r,n,this.context);if(i)throw Error(i)}get hasSharedStyleReference(){return this.setGlobalNodeID(),m.UNF.getHasSharedStyleReference(this.context)}get variableCollectionDefaultModeID(){return this.setGlobalNodeID(),m.UNF.getVariableCollectionDefaultModeID(this.context)}get isSubscribedVariable(){return this.setGlobalNodeID(),m.UNF.getIsSubscribedVariable(this.context)}get isSubscribedVariableCollection(){return this.setGlobalNodeID(),m.UNF.getIsSubscribedVariableCollection(this.context)}get characters(){return this.setGlobalNodeID(),m.CUU.getCharacters(this.context)}get rectangleTopLeftCornerRadius(){return this.setGlobalNodeID(),m.Fk7.getRectangleTopLeftCornerRadius(this.context)}set rectangleTopLeftCornerRadius(e){this.setGlobalNodeID();let r=m.Fk7.setRectangleTopLeftCornerRadius(e,this.context);if(r)throw Error(r)}get rectangleTopRightCornerRadius(){return this.setGlobalNodeID(),m.Fk7.getRectangleTopRightCornerRadius(this.context)}set rectangleTopRightCornerRadius(e){this.setGlobalNodeID();let r=m.Fk7.setRectangleTopRightCornerRadius(e,this.context);if(r)throw Error(r)}get rectangleBottomLeftCornerRadius(){return this.setGlobalNodeID(),m.Fk7.getRectangleBottomLeftCornerRadius(this.context)}set rectangleBottomLeftCornerRadius(e){this.setGlobalNodeID();let r=m.Fk7.setRectangleBottomLeftCornerRadius(e,this.context);if(r)throw Error(r)}get rectangleBottomRightCornerRadius(){return this.setGlobalNodeID(),m.Fk7.getRectangleBottomRightCornerRadius(this.context)}set rectangleBottomRightCornerRadius(e){this.setGlobalNodeID();let r=m.Fk7.setRectangleBottomRightCornerRadius(e,this.context);if(r)throw Error(r)}get rectangleCornerRadiiIndependent(){return this.setGlobalNodeID(),m.Fk7.getRectangleCornerRadiiIndependent(this.context)}set rectangleCornerRadiiIndependent(e){this.setGlobalNodeID();let r=m.Fk7.setRectangleCornerRadiiIndependent(e,this.context);if(r)throw Error(r)}get starInnerScale(){return this.setGlobalNodeID(),m.UNF.getStarInnerScale(this.context)}set starInnerScale(e){this.setGlobalNodeID();let r=m.UNF.setStarInnerScale(e,this.context);if(r)throw Error(r)}get count(){return this.setGlobalNodeID(),m.Fk7.getCount(this.context)}set count(e){this.setGlobalNodeID();let r=m.Fk7.setCount(e,this.context);if(r)throw Error(r)}get shapeWithTextType(){return this.setGlobalNodeID(),c.w.ShapeWithTextType[m.Fk7.getShapeWithTextType(this.context)]||null}set shapeWithTextType(e){let r=c.w.ShapeWithTextType[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setShapeWithTextType(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for ShapeWithTextType")}get authorName(){return this.setGlobalNodeID(),m.CUU.getAuthorName(this.context)}get authorVisible(){return this.setGlobalNodeID(),m.CUU.getAuthorVisible(this.context)}set authorVisible(e){this.setGlobalNodeID();let r=m.CUU.setAuthorVisible(e,this.context);if(r)throw Error(r)}get isWideWidth(){return this.setGlobalNodeID(),m.CUU.getIsWideWidth(this.context)}set isWideWidth(e){this.setGlobalNodeID();let r=m.CUU.setIsWideWidth(e,this.context);if(r)throw Error(r)}get consumers(){return this.setGlobalNodeID(),m.CUU.getStyleConsumers(this.context)}get autoRename(){return this.setGlobalNodeID(),m.UNF.getAutoRename(this.context)}set autoRename(e){this.setGlobalNodeID();let r=m.UNF.setAutoRename(e,this.context);if(r)throw Error(r)}get codeBlockLanguage(){return this.setGlobalNodeID(),m.UNF.getCodeBlockLanguage(this.context)}set codeBlockLanguage(e){this.setGlobalNodeID();let r=m.UNF.setCodeBlockLanguage(e,this.context);if(r)throw Error(r)}get widgetHoverStyle(){this.setGlobalNodeID();let e=m.UNF.getWidgetHoverStyle(),r={};return e.hasOwnProperty("fill")&&(r.fill=(0,f.dG)("fillPaints",e.fill)),e.hasOwnProperty("stroke")&&(r.stroke=(0,f.dG)("strokePaints",e.stroke)),e.hasOwnProperty("opacity")&&(r.opacity=e.opacity),r}set widgetHoverStyle(e){let r={};e.hasOwnProperty("fill")&&(r.fill=(0,f.C_)("fillPaints",e.fill)),e.hasOwnProperty("stroke")&&(r.stroke=(0,f.C_)("strokePaints",e.stroke)),e.hasOwnProperty("opacity")&&(r.opacity=e.opacity),m.UNF.setWidgetHoverStyle(r)}get fillPaints(){this.setGlobalNodeID();let e=m.UNF.getJsFillPaints(this.context);return{data:(0,d.sR)(e,"Got empty fillPaints from C++"),blobs:[]}}set fillPaints(e){this.setGlobalNodeID();let r=m.CUU.setRangeFillPaints(0,-1,(0,f.C_)("fillPaints",e),this.context);if(r)throw Error(r)}get fillPaintsOrMixed(){this.setGlobalNodeID();let e=m.CUU.getRangeFillPaints(0,-1,this.context);return"mixed"===e?e:this.fillPaints}get strokePaints(){this.setGlobalNodeID();let e=m.UNF.getJsStrokePaints(this.context);return{data:(0,d.sR)(e,"Got empty strokePaints from C++"),blobs:[]}}set strokePaints(e){this.setGlobalNodeID();let r=m.UNF.setStrokePaints((0,f.C_)("strokePaints",e),this.context);if(r)throw Error(r)}get backgroundPaints(){this.setGlobalNodeID();let e=m.UNF.getBackgroundPaints(this.context);return 0===e.length?{data:[],blobs:[]}:(0,d.sR)((0,f.dG)("backgroundPaints",e),"Figma Internal Error: backgroundPaints not found")}set backgroundPaints(e){this.setGlobalNodeID();let r=m.UNF.setBackgroundPaints((0,f.C_)("backgroundPaints",e),this.context);if(r)throw Error(r)}get prototypeDevice(){return this.setGlobalNodeID(),m.UNF.getPrototypeDevice(this.context)}set prototypeDevice(e){this.setGlobalNodeID();let r=m.UNF.setPrototypeDevice(e,this.context);if(r)throw Error(r)}get prototypeBackgroundColor(){this.setGlobalNodeID();let e=m.UNF.getPrototypeBackgroundColor(this.context);return{r:e.red,g:e.green,b:e.blue,a:e.alpha}}set prototypeBackgroundColor(e){this.setGlobalNodeID();let r=m.UNF.setPrototypeBackgroundColor({red:e.r,green:e.g,blue:e.b,alpha:e.a},this.context);if(r)throw Error(r)}get directlySelectedNodes(){return this.setGlobalNodeID(),this.mapGuidsToNodes(m.CUU.getDirectlySelectedNodes(this.context))}set directlySelectedNodes(e){this.setGlobalNodeID();let r=m.CUU.setDirectlySelectedNodes(e.map(e=>e.guid),this.context);if(r)throw Error(r)}get layoutGrids(){this.setGlobalNodeID();let e=m.UNF.getLayoutGrids(this.context);return""===e?[]:c.w.decodeNodeChange((0,a.D4)(e)).layoutGrids||[]}set layoutGrids(e){let r=c.w.encodeNodeChange({layoutGrids:e}),n=c.w.decodeNodeChange(r).layoutGrids;if(!(0,o.Mm)(e,n))throw Error("Invalid format for layoutGrids");this.setGlobalNodeID();let i=m.UNF.setLayoutGrids((0,a.lF)(r),this.context);if(i)throw Error(i)}get guides(){this.setGlobalNodeID();let e=m.UNF.getGuides(this.context);return""===e?[]:c.w.decodeNodeChange((0,a.D4)(e)).guides||[]}set guides(e){let r=c.w.encodeNodeChange({guides:e}),n=c.w.decodeNodeChange(r).guides;if(!(0,o.Mm)(e,n))throw Error("Invalid format for guides");this.setGlobalNodeID();let i=m.UNF.setGuides((0,a.lF)(r),this.context);if(i)throw Error(i)}get effects(){return this.setGlobalNodeID(),m.UNF.getJsEffects(this.context)}set effects(e){let r=c.w.encodeNodeChange({effects:e}),n=c.w.decodeNodeChange(r).effects;if(!(0,o.Mm)(e,n))throw Error("Invalid format for effects");this.setGlobalNodeID();let i=m.UNF.setEffects((0,a.lF)(r),this.context);if(i)throw Error(i)}set prototypeInteractions(e){let r=c.w.encodeNodeChange({prototypeInteractions:e}),n=c.w.decodeNodeChange(r).prototypeInteractions;if(!(0,o.Mm)(e,n))throw Error("Invalid format for prototypeInteractions");this.setGlobalNodeID();let i=m.UNF.setPrototypeInteractions(r,this.context);if(i)throw Error(i)}get prototypeInteractions(){this.setGlobalNodeID();let e=m.UNF.getPrototypeInteractions(this.context);return y.SKs.getOrCreateJsCopy(e)}set videoPlayback(e){if(this.setGlobalNodeID(),void 0===e.autoplay||void 0===e.mediaLoop||void 0===e.muted)throw Error("Missing playback setting");let r=m.UNF.setVideoPlayback({autoplay:e.autoplay,mediaLoop:e.mediaLoop,muted:e.muted},this.context);if(r)throw Error(r)}get videoPlayback(){this.setGlobalNodeID();let e=m.UNF.getVideoPlayback(this.context);return{autoplay:e.autoplay,mediaLoop:e.mediaLoop,muted:e.muted}}get overlayPositionType(){return this.setGlobalNodeID(),c.w.OverlayPositionType[m.Fk7.getOverlayPositionType(this.context)]||null}get overlayBackground(){this.setGlobalNodeID();let e=m.UNF.getOverlayBackgroundAppearance(this.context);return null==e||"NONE"===c.w.OverlayBackgroundType[e.backgroundType]?{type:"NONE"}:{type:"SOLID_COLOR",color:{r:e.backgroundColor.red,g:e.backgroundColor.green,b:e.backgroundColor.blue,a:e.backgroundColor.alpha}}}get overlayBackgroundInteraction(){return this.setGlobalNodeID(),c.w.OverlayBackgroundInteraction[m.Fk7.getOverlayBackgroundInteraction(this.context)]||null}get dashPattern(){this.setGlobalNodeID();let e=m.UNF.getDashPattern(this.context);return""===e?[]:c.w.decodeNodeChange((0,a.D4)(e)).dashPattern||[]}set dashPattern(e){let r=c.w.encodeNodeChange({dashPattern:e}),n=c.w.decodeNodeChange(r).dashPattern;if(!(0,o.Mm)(e,n))throw Error("Invalid format for dashPattern");this.setGlobalNodeID();let i=m.UNF.setDashPattern((0,a.lF)(r),this.context);if(i)throw Error(i)}get fontSize(){return this.setGlobalNodeID(),m.Fk7.getFontSize(this.context)}set fontSize(e){this.setGlobalNodeID();let r=m.CUU.setRangeFontSize(0,-1,e,this.context);if(r)throw Error(r)}get fontSizeOrMixed(){return this.setGlobalNodeID(),m.CUU.getRangeFontSize(0,-1,this.context)}get hangingPunctuation(){return this.setGlobalNodeID(),m.UNF.getHangingPunctuation(this.context)}set hangingPunctuation(e){this.setGlobalNodeID();let r=m.UNF.setHangingPunctuation(e,this.context);if(r)throw Error(r)}get hangingList(){return this.setGlobalNodeID(),m.UNF.getHangingList(this.context)}set hangingList(e){this.setGlobalNodeID();let r=m.UNF.setHangingList(e,this.context);if(r)throw Error(r)}get maxLines(){return this.setGlobalNodeID(),m.UNF.getMaxLines(this.context)}set maxLines(e){this.setGlobalNodeID();let r=m.UNF.setMaxLines(e,this.context);if(r)throw Error(r)}get paragraphIndent(){return this.setGlobalNodeID(),m.UNF.getParagraphIndent(this.context)}set paragraphIndent(e){this.setGlobalNodeID();let r=m.UNF.setParagraphIndent(e,this.context);if(r)throw Error(r)}get paragraphSpacing(){return this.setGlobalNodeID(),m.UNF.getParagraphSpacing(this.context)}set paragraphSpacing(e){this.setGlobalNodeID();let r=m.UNF.setParagraphSpacing(e,this.context);if(r)throw Error(r)}get listSpacing(){return this.setGlobalNodeID(),m.UNF.getListSpacing(this.context)}set listSpacing(e){this.setGlobalNodeID();let r=m.UNF.setListSpacing(e,this.context);if(r)throw Error(r)}get strokeAlign(){return this.setGlobalNodeID(),c.w.StrokeAlign[m.Fk7.getStrokeAlign(this.context)]||null}set strokeAlign(e){let r=c.w.StrokeAlign[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setStrokeAlign(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for strokeAlign")}get fillGeometry(){return this.setGlobalNodeID(),m.UNF.getFillGeometry(this.context)}get strokeGeometry(){return this.setGlobalNodeID(),m.UNF.getStrokeGeometry(this.context)}get strokeCap(){return this.setGlobalNodeID(),c.w.StrokeCap[m.UNF.getStrokeCap(this.context)]||null}set strokeCap(e){let r=c.w.StrokeCap[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setStrokeCap(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for strokeCap")}get strokeCapOrMixed(){this.setGlobalNodeID();let e=m.UNF.getStrokeCapOrMixed(this.context);return"mixed"===e?e:c.w.StrokeCap[e]||null}get strokeJoin(){return this.setGlobalNodeID(),c.w.StrokeJoin[m.UNF.getStrokeJoin(this.context)]||null}set strokeJoin(e){let r=c.w.StrokeJoin[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setStrokeJoin(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for strokeJoin")}get strokeJoinOrMixed(){this.setGlobalNodeID();let e=m.UNF.getStrokeJoinOrMixed(this.context);return"mixed"===e?e:c.w.StrokeJoin[e]||null}get handleMirroring(){return this.setGlobalNodeID(),c.w.VectorMirror[m.UNF.getHandleMirroring(this.context)]||null}set handleMirroring(e){let r=c.w.VectorMirror[e];if("number"==typeof r&&void 0!==r){this.setGlobalNodeID();let e=m.CUU.setHandleMirroring(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for handleMirroring")}get strokeMiterLimit(){return this.setGlobalNodeID(),m.UNF.getStrokeMiterLimit(this.context)}set strokeMiterLimit(e){this.setGlobalNodeID();let r=m.UNF.setStrokeMiterLimit(e,this.context);if(r)throw Error(r)}get handleMirroringOrMixed(){this.setGlobalNodeID();let e=m.UNF.getHandleMirroringOrMixed(this.context);return"mixed"===e?e:c.w.VectorMirror[e]||null}get blendMode(){return this.setGlobalNodeID(),c.w.BlendMode[m.Fk7.getBlendMode(this.context)]||null}set blendMode(e){let r=c.w.BlendMode[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setBlendMode(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for blendMode")}get textAlignHorizontal(){return this.setGlobalNodeID(),c.w.TextAlignHorizontal[m.Fk7.getTextAlignHorizontal(this.context)]||null}set textAlignHorizontal(e){let r=c.w.TextAlignHorizontal[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setTextAlignHorizontal(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for textAlignHorizontal")}get textAlignVertical(){return this.setGlobalNodeID(),c.w.TextAlignVertical[m.Fk7.getTextAlignVertical(this.context)]||null}set textAlignVertical(e){let r=c.w.TextAlignVertical[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setTextAlignVertical(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for textAlignVertical")}get textCase(){return this.setGlobalNodeID(),c.w.TextCase[m.UNF.getTextCase(this.context)]||null}set textCase(e){let r=c.w.TextCase[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.CUU.setRangeTextCase(0,-1,r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for textCase")}get textCaseOrMixed(){this.setGlobalNodeID();let e=m.CUU.getRangeTextCase(0,-1,this.context);return"mixed"===e?e:c.w.TextCase[e]||null}get textDecoration(){return this.setGlobalNodeID(),c.w.TextDecoration[m.Fk7.getTextDecoration(this.context)]||null}set textDecoration(e){let r=c.w.TextDecoration[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.CUU.setRangeTextDecoration(0,-1,r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for textDecoration")}get textDecorationOrMixed(){this.setGlobalNodeID();let e=m.CUU.getRangeTextDecoration(0,-1,this.context);return"mixed"===e?e:c.w.TextDecoration[e]||null}get textAutoResize(){return this.setGlobalNodeID(),c.w.TextAutoResize[m.Fk7.getTextAutoResize(this.context)]||null}set textAutoResize(e){let r=c.w.TextAutoResize[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.Fk7.setTextAutoResize(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for textAutoResize")}get letterSpacing(){this.setGlobalNodeID();let e=m.UNF.getLetterSpacing(this.context);return{value:e.value,units:c.w.NumberUnits[e.units]}}set letterSpacing(e){let r=c.w.NumberUnits[e.units];if("number"==typeof r){this.setGlobalNodeID();let n=m.CUU.setRangeLetterSpacing(0,-1,e.value,r,this.context);if(n)throw Error(n)}else throw Error("Invalid format for letterSpacing")}get letterSpacingOrMixed(){this.setGlobalNodeID();let e=m.CUU.getRangeLetterSpacing(0,-1,this.context);return"mixed"===e?e:{value:e.value,units:c.w.NumberUnits[e.units]}}get lineHeight(){throw Error("Figma Internal Error: direct call to lineHeight getter not supported")}set lineHeight(e){let r=c.w.NumberUnits[e.units];if("number"==typeof r){this.setGlobalNodeID();let n=m.CUU.setRangeLineHeight(0,-1,e.value,r,this.context);if(n)throw Error(n)}else throw Error("Invalid format for lineHeight")}get lineHeightOrMixed(){this.setGlobalNodeID();let e=m.CUU.getRangeLineHeight(0,-1,this.context);return"mixed"===e?e:{value:e.value,units:c.w.NumberUnits[e.units]}}get leadingTrim(){this.setGlobalNodeID();let e=m.UNF.getLeadingTrim(this.context);return c.w.LeadingTrim[e]}set leadingTrim(e){let r=c.w.LeadingTrim[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setLeadingTrim(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for leadingTrim")}get hyperlinkOrMixed(){return this.setGlobalNodeID(),m.CUU.getRangeHyperlink(0,-1,this.context)}get fontNameOrMixed(){return this.setGlobalNodeID(),m.CUU.getRangeFontName(0,-1,this.context)}get fontWeightOrMixed(){return this.setGlobalNodeID(),m.CUU.getRangeFontWeight(0,-1,this.context)}get fontVariantNumericFigure(){this.setGlobalNodeID();let e=m.CUU.getRangeFontVariantNumericFigure(0,-1,this.context);return"mixed"===e?e:c.w.FontVariantNumericFigure[e]||null}get fontVariantNumericSpacing(){this.setGlobalNodeID();let e=m.CUU.getRangeFontVariantNumericSpacing(0,-1,this.context);return"mixed"===e?e:c.w.FontVariantNumericSpacing[e]||null}get fontVariantNumericFraction(){this.setGlobalNodeID();let e=m.CUU.getRangeFontVariantNumericFraction(0,-1,this.context);return"mixed"===e?e:c.w.FontVariantNumericFraction[e]||null}get fontVariantPosition(){this.setGlobalNodeID();let e=m.CUU.getRangeFontVariantPosition(0,-1,this.context);return"mixed"===e?e:c.w.FontVariantPosition[e]||null}get toggledOnOpenTypeFeatures(){this.setGlobalNodeID();let e=m.CUU.getRangeToggledOnOTFeatures(0,-1,this.context);return"mixed"===e?e:e.map(e=>c.w.OpenTypeFeature[e]||null)}get toggledOffOpenTypeFeatures(){this.setGlobalNodeID();let e=m.CUU.getRangeToggledOffOTFeatures(0,-1,this.context);return"mixed"===e?e:e.map(e=>c.w.OpenTypeFeature[e]||null)}get fontVariantCapsOrMixed(){this.setGlobalNodeID();let e=m.CUU.getRangeFontVariantCaps(0,-1,this.context);return"mixed"===e?e:c.w.FontVariantCaps[e]||null}set fontVariantCaps(e){let r=c.w.FontVariantCaps[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.CUU.setRangeFontVariantCaps(0,-1,r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for fontVariantCaps")}get textBidiVersion(){return this.setGlobalNodeID(),m.UNF.getTextBidiVersion()}set textBidiVersion(e){this.setGlobalNodeID();let r=m.UNF.setTextBidiVersion(e);if(r)throw Error(r)}get arcData(){this.setGlobalNodeID();let e=m.UNF.getArcData(this.context);if(null==e||null==e.startingAngle||null==e.endingAngle||null==e.innerRadius)throw Error("Figma Internal Error: arcData missing properties");return e}set arcData(e){this.setGlobalNodeID();let r=m.UNF.setArcData(e.startingAngle,e.endingAngle,e.innerRadius,this.context);if(r)throw Error(r)}get vectorDataInfo(){this.setGlobalNodeID();let e=m.UNF.getVectorData(this.context),r=y.BLp.getOrCreateJsCopy(e);return(0,d.sR)(r,"Figma Internal Error: vectorData not found")}set vectorDataInfo(e){let r=e.data.vectorNetworkBlob;if(null==r||r<0||r>=e.blobs.length)throw Error("Invalid input for vectorData");this.setGlobalNodeID();let n=m.UNF.setVectorData((0,f.xg)("vectorData",e),this.context);if(n)throw Error(n)}get areSlidesManuallyIndented(){return this.setGlobalNodeID(),m.Fk7.getAreSlidesManuallyIndented(this.context)}get overriddenInheritedFillStyles(){var e;this.setGlobalNodeID();let r=m.CUU.getOverriddenInheritedFillStyles(this.context);for(let n in r)(null==(e=r[n])?void 0:e.fills)&&(r[n].fills=(0,d.sR)((0,f.dG)("fillPaints",r[n].fills),"Figma Internal Error: fillPaints not found"));return r}get styleId(){return this.setGlobalNodeID(),m.UNF.styleId(this.context)}get inheritedFillStyle(){return this.getInheritedStyleKey("inheritFillStyleKey")}set inheritedFillStyle(e){this.setInheritedStyleKey("inheritFillStyleKey",e)}get inheritedFillStyleOrMixed(){return this.getInheritedStyleKeyOrMixed("inheritFillStyleKey")}get inheritedFillStyleForStroke(){return this.getInheritedStyleKey("inheritFillStyleKeyForStroke")}set inheritedFillStyleForStroke(e){this.setInheritedStyleKey("inheritFillStyleKeyForStroke",e)}get inheritedEffectStyle(){return this.getInheritedStyleKey("inheritEffectStyleKey")}set inheritedEffectStyle(e){this.setInheritedStyleKey("inheritEffectStyleKey",e)}get inheritedTextStyle(){return this.getInheritedStyleKey("inheritTextStyleKey")}set inheritedTextStyle(e){this.setInheritedStyleKey("inheritTextStyleKey",e)}get inheritedTextStyleOrMixed(){return this.getInheritedStyleKeyOrMixed("inheritTextStyleKey")}get inheritedGridStyle(){return this.getInheritedStyleKey("inheritGridStyleKey")}set inheritedGridStyle(e){this.setInheritedStyleKey("inheritGridStyleKey",e)}get connectorLineType(){return this.setGlobalNodeID(),c.w.ConnectorLineStyle[m.UNF.getConnectorLineType(this.context)]||null}set connectorLineType(e){let r=c.w.ConnectorLineStyle[e];if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setConnectorLineType(r,this.context);if(e)throw Error(e)}else throw Error("Invalid value for connectorLineStyle")}get connectorStartCanvasPosition(){return this.setGlobalNodeID(),m.UNF.connectorStartCanvasPosition(this.context)}get connectorEndCanvasPosition(){return this.setGlobalNodeID(),m.UNF.connectorEndCanvasPosition(this.context)}get widgetEvents(){return this.setGlobalNodeID(),m.UNF.getWidgetEvents()}set widgetEvents(e){this.setGlobalNodeID(),m.UNF.setWidgetEvents(e)}get widgetInputBehavior(){return this.setGlobalNodeID(),c.w.WidgetInputBehavior[m.UNF.getWidgetInputBehavior()]||null}set widgetInputBehavior(e){let r=null!=e?c.w.WidgetInputBehavior[e]:null;if("number"==typeof r){this.setGlobalNodeID();let e=m.UNF.setWidgetInputBehavior(r);if(e)throw Error(e)}else throw Error("Invalid value for widgetInputBehavior")}get widgetTooltip(){return this.setGlobalNodeID(),m.UNF.getWidgetTooltip()}set widgetTooltip(e){this.setGlobalNodeID(),m.UNF.setWidgetTooltip(e)}get isRichTextInputInWidget(){return this.setGlobalNodeID(),m.UNF.getIsRichTextInputInWidget()}get isForcedStickable(){return this.setGlobalNodeID(),m.UNF.getIsForcedStickable()}set isForcedStickable(e){this.setGlobalNodeID(),m.UNF.setIsForcedStickable(e)}get shouldHideCursorsOnWidgetHover(){return this.setGlobalNodeID(),m.UNF.getShouldHideCursorsOnWidgetHover()}set shouldHideCursorsOnWidgetHover(e){this.setGlobalNodeID(),m.UNF.setShouldHideCursorsOnWidgetHover(e)}get widgetName(){return this.setGlobalNodeID(),m.UNF.getWidgetName()}set widgetName(e){this.setGlobalNodeID(),m.UNF.setWidgetName(e)}set shouldPreventWidgetAutoUpdate(e){this.setGlobalNodeID(),this.setPluginData("WIDGET_INTERNAL","shouldPreventWidgetAutoUpdate",""+e)}get shouldPreventWidgetAutoUpdate(){return this.setGlobalNodeID(),"true"===this.getPluginData("WIDGET_INTERNAL","shouldPreventWidgetAutoUpdate")}setWidgetPropertyMenuItems(e){this.setGlobalNodeID(),m.UNF.setWidgetPropertyMenuItems(e)}setWidgetSyncedState(e,r){this.setGlobalNodeID(),m.UNF.setWidgetSyncedState(e,r)}setInitialWidgetSyncedState(e,r){this.setGlobalNodeID(),m.UNF.setInitialWidgetSyncedState(e,r)}deleteWidgetSyncedState(e){this.setGlobalNodeID(),m.UNF.deleteWidgetSyncedState(e)}clearWidgetSyncedState(){this.setGlobalNodeID(),m.UNF.clearWidgetSyncedState()}getWidgetSyncedState(){return this.setGlobalNodeID(),m.UNF.getWidgetSyncedState()}get widgetSyncedState(){return this.getWidgetSyncedState()}get widgetCachedAncestor(){return this.setGlobalNodeID(),m.UNF.getWidgetCachedAncestor()||""}set widgetCachedAncestor(e){this.setGlobalNodeID(),m.UNF.setWidgetCachedAncestor(e)}get renderedSyncedState(){return this.setGlobalNodeID(),m.UNF.getRenderedSyncedState()}set renderedSyncedState(e){this.setGlobalNodeID(),m.UNF.setRenderedSyncedState(e)}get stuckNodes(){return this.setGlobalNodeID(),m.mSn.getStuckNodes()}get attachedConnectorIDs(){return this.setGlobalNodeID(),m.mSn.getAttachedConnectorIDs()}get stickableHost(){this.setGlobalNodeID();let e=m.mSn.getStickableHost();return"-1:-1"===e?null:e}get linkPreviewData(){this.setGlobalNodeID();let e=m.UNF.getLinkPreviewData(this.context);for(let r of Object.keys(e))"string"==typeof e[r]&&(e[r]=decodeURIComponent(e[r]));return e}get embedData(){this.setGlobalNodeID();let e=m.UNF.getEmbedData(this.context);for(let r of Object.keys(e))"string"==typeof e[r]&&(e[r]=decodeURIComponent(e[r]));return e}get mediaData(){this.setGlobalNodeID();let e=m.UNF.getMediaData(this.context);for(let r of Object.keys(e))"string"==typeof e[r]&&(e[r]=decodeURIComponent(e[r]));return e}get connectorStartCap(){return this.setGlobalNodeID(),m.UNF.getConnectorStartCap(this.context)}set connectorStartCap(e){this.setGlobalNodeID();let r=m.UNF.setConnectorStartCap(e,this.context);if(r)throw Error(r)}get connectorEndCap(){return this.setGlobalNodeID(),m.UNF.getConnectorEndCap(this.context)}set connectorEndCap(e){this.setGlobalNodeID();let r=m.UNF.setConnectorEndCap(e,this.context);if(r)throw Error(r)}get isTemporaryFrame(){return this.setGlobalNodeID(),m.UNF.getIsTemporaryFrame(this.context)}set isTemporaryFrame(e){this.setGlobalNodeID(),m.UNF.setIsTemporaryFrame(e,this.context)}get sectionPresetShelfId(){return this.setGlobalNodeID(),m.UNF.getSectionPresetShelfId(this.context)}get sectionPresetTemplateId(){return this.setGlobalNodeID(),m.UNF.getSectionPresetTemplateId(this.context)}get canvasSpaceSectionTopLeft(){return this.setGlobalNodeID(),m.T4N.calculateSectionTopLeft(this.context)}get sectionPresetPickerCalloutPosition(){return this.setGlobalNodeID(),m.T4N.calculateCalloutPosition(this.context)}get slideSpeakerNotes(){return this.setGlobalNodeID(),m.UNF.getSlideSpeakerNotes(this.context)}set slideSpeakerNotes(e){this.setGlobalNodeID();let r=m.UNF.setSlideSpeakerNotes(this.context,e);if(r)throw Error(r)}get slideThumbnailHash(){return this.setGlobalNodeID(),m.UNF.getSlideThumbnailHash(this.context)}set slideThumbnailHash(e){this.setGlobalNodeID();let r=m.UNF.setSlideThumbnailHash(this.context,e);if(r)throw Error(r)}get slideTemplateFileKey(){return this.setGlobalNodeID(),m.UNF.getSlideTemplateFileKey(this.context)}set slideTemplateFileKey(e){this.setGlobalNodeID();let r=m.UNF.setSlideTemplateFileKey(this.context,e);if(r)throw Error(r)}get slideThemeId(){return this.setGlobalNodeID(),m.UNF.getSlideThemeId(this.context)}get hasSectionPresetWithEdits(){return this.setGlobalNodeID(),m.UNF.getHasSectionPresetWithEdits(this.context)}get interactiveSlideConfigData(){return this.setGlobalNodeID(),m.UNF.getInteractiveSlideConfigData(this.context)}setInteractiveSlideConfigData(e,r){this.setGlobalNodeID(),m.UNF.setInteractiveSlideConfigData(e,r,this.context)}get interactiveSlideParticipantData(){return this.setGlobalNodeID(),m.UNF.getInteractiveSlideParticipantData(this.context)}deleteInteractiveSlideConfigData(e){this.setGlobalNodeID(),m.UNF.deleteInteractiveSlideConfigData(e,this.context)}setInteractiveSlideParticipantData(e,r){this.setGlobalNodeID(),m.UNF.setInteractiveSlideParticipantData(e,r,this.context)}resetInteractiveSlideParticipantData(){this.setGlobalNodeID(),m.UNF.resetInteractiveSlideParticipantData(this.context)}clone(){this.setGlobalNodeID();let e=m.CUU.cloneNode(this.context);if(!e)throw Error("Failed to clone node");return e}clearPasteSource(){return this.setGlobalNodeID(),m.UNF.clearPasteSource(this.context)}createInstance(){if("SYMBOL"!==this.type)throw Error("Can only create instances of components");return this.setGlobalNodeID(),m.CUU.createInstance(this.context)}getConnectorStart(){return this.setGlobalNodeID(),m.UNF.getConnectorStart(this.context)}getConnectorEnd(){return this.setGlobalNodeID(),m.UNF.getConnectorEnd(this.context)}isConnectorUnattached(){return this.setGlobalNodeID(),m.UNF.isConnectorUnattached(this.context)}swapComponent(e){if("INSTANCE"!==this.type)throw Error("Can only perform swaps on instances");return this.setGlobalNodeID(),m.CUU.swapComponent(e.guid,this.context)}updateIfIsNestedInstance(){if("INSTANCE"===this.type)return this.setGlobalNodeID(),m.CUU.updateIfIsNestedInstance(this.context)}detachInstance(){if("INSTANCE"!==this.type)throw Error("Can only detach instances");return this.setGlobalNodeID(),m.CUU.detachInstance(this.context)}removeSelfAndChildren(){if(this.setGlobalNodeID(),!m.CUU.removeSelfAndChildren(this.context))throw Error("Removing this node is not allowed")}removeVariable(){this.setGlobalNodeID();let{errorMsg:e}=m.UNF.removeVariable(this.context);if(e)throw Error(e)}removeVariableCollection(){this.setGlobalNodeID();let{errorMsg:e}=m.UNF.removeVariableCollection(this.context);if(e)throw Error(e)}removeWidgetWithoutSafetyChecks(){if("WIDGET"!==this.type)throw Error("Can only remove widgets");this.setGlobalNodeID(),m.UNF.removeSelfAndChildren(this.context)}appendChild(e,r={}){this.setGlobalNodeID();let n=m.UNF.getChildCount(this.context);this.setGlobalNodeID(),m.CUU.insertChild(n,e.guid,this.context,!!r.skipValidation)}insertChild(e,r,n={}){this.setGlobalNodeID(),m.CUU.insertChild(r,e.guid,this.context,!!n.skipValidation)}resizeWithConstraints(e,r){this.setGlobalNodeID(),m.CUU.resizeWithConstraints(e,r,this.context)}resizeWithoutConstraints(e,r){this.setGlobalNodeID(),m.UNF.setSize(e,r,this.context)}rescale(e){this.setGlobalNodeID(),m.CUU.rescale(e,this.context)}outlineStroke(){return this.setGlobalNodeID(),m.CUU.outlineStroke(this.context)}export(e){if(this.setGlobalNodeID(),!e)return m.CUU.exportAsImage("",this.context);{let r=(0,a.lF)(c.w.encodeNodeChange({exportSettings:e}));return m.CUU.exportAsImage(r,this.context)}}async loadImagesAndExport(e){return await (null==b?void 0:b(this,e||[])),this.export(e)}getSelectedTextRange(){return this.setGlobalNodeID(),m.CUU.getSelectedTextRange(this.context)}setSelectedTextRange(e,r,n){this.setGlobalNodeID();let i=m.CUU.setSelectedTextRange(e,r,n,this.context);if(i)throw Error(i)}getStyledTextSegments(e,r=-1,n=-1){this.setGlobalNodeID();let i=m.CUU.getStyledTextSegments(e,r,n,this.context).map(e=>(void 0!==e.fills&&(e.fills=(0,d.sR)((0,f.dG)("fillPaints",e.fills),"Figma Internal Error: fillPaints not found")),e));if(-1!==r&&-1!==n&&i.length>0){let e=i[0],a=i[i.length-1];(e.start<r||a.end>n)&&(e===a?e.characters=e.characters.substring(r-e.start,e.characters.length-(a.end-n)):(e.characters=e.characters.substring(r-e.start),a.characters=a.characters.substring(0,a.characters.length-(a.end-n))),e.start=r,a.end=n)}return i}getRangeFontSize(e,r){return this.setGlobalNodeID(),m.CUU.getRangeFontSize(e,r,this.context)}setRangeFontSize(e,r,n){this.setGlobalNodeID();let i=m.CUU.setRangeFontSize(e,r,n,this.context);if(i)throw Error(i)}getRangeFontName(e,r){return this.setGlobalNodeID(),m.CUU.getRangeFontName(e,r,this.context)}setRangeFontName(e,r,n){this.setGlobalNodeID();let i=m.CUU.setRangeFontName(e,r,n.family,n.style,n.postscript,this.context);if(i)throw Error(i)}getRangeAllFontNames(e,r){return this.setGlobalNodeID(),m.CUU.getRangeAllFontNames(e,r,this.context)}getRangeAllFontOpenTypeFeatures(e,r){return this.setGlobalNodeID(),m.CUU.getRangeAllFontOpenTypeFeatures(e,r,this.context)}getRangeFontWeight(e,r){return this.setGlobalNodeID(),m.CUU.getRangeFontWeight(e,r,this.context)}getRangeFontVariantCaps(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeFontVariantCaps(e,r,this.context);return"mixed"===n?n:c.w.FontVariantCaps[n]||null}getRangeFontVariantNumericFigure(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeFontVariantNumericFigure(e,r,this.context);return"mixed"===n?n:c.w.FontVariantNumericFigure[n]||null}getRangeFontVariantNumericSpacing(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeFontVariantNumericSpacing(e,r,this.context);return"mixed"===n?n:c.w.FontVariantNumericSpacing[n]||null}getRangeFontVariantNumericFraction(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeFontVariantNumericFraction(e,r,this.context);return"mixed"===n?n:c.w.FontVariantNumericFraction[n]||null}getRangeFontVariantPosition(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeFontVariantPosition(e,r,this.context);return"mixed"===n?n:c.w.FontVariantPosition[n]||null}getRangeToggledOnOpenTypeFeatures(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeToggledOnOTFeatures(e,r,this.context);return"mixed"===n?n:n.map(e=>c.w.OpenTypeFeature[e]||null)}getRangeToggledOffOpenTypeFeatures(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeToggledOffOTFeatures(e,r,this.context);return"mixed"===n?n:n.map(e=>c.w.OpenTypeFeature[e]||null)}getRangeTextCase(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeTextCase(e,r,this.context);return"mixed"===n?n:c.w.TextCase[n]||null}setRangeTextCase(e,r,n){let i=c.w.TextCase[n];if("number"==typeof i){this.setGlobalNodeID();let n=m.CUU.setRangeTextCase(e,r,i,this.context);if(n)throw Error(n)}else throw Error("Invalid value for setRangeTextCase")}setRangeFontVariantCaps(e,r,n){let i=c.w.FontVariantCaps[n];if("number"==typeof i){this.setGlobalNodeID();let n=m.CUU.setRangeFontVariantCaps(e,r,i,this.context);if(n)throw Error(n)}else throw Error("Invalid value for setRangeFontVariantCaps")}getRangeTextDecoration(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeTextDecoration(e,r,this.context);return"mixed"===n?n:c.w.TextDecoration[n]||null}setRangeTextDecoration(e,r,n){let i=c.w.TextDecoration[n];if("number"==typeof i){this.setGlobalNodeID();let n=m.CUU.setRangeTextDecoration(e,r,i,this.context);if(n)throw Error(n)}else throw Error("Invalid value for setRangeTextDecoration")}getRangeLetterSpacing(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeLetterSpacing(e,r,this.context);return"mixed"===n?n:{value:n.value,units:c.w.NumberUnits[n.units]}}setRangeLetterSpacing(e,r,n){let i=c.w.NumberUnits[n.units];if("number"==typeof i){this.setGlobalNodeID();let a=m.CUU.setRangeLetterSpacing(e,r,n.value,i,this.context);if(a)throw Error(a)}else throw Error("Invalid format for setRangeLetterSpacing")}getRangeLineHeight(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeLineHeight(e,r,this.context);return"mixed"===n?n:{value:n.value,units:c.w.NumberUnits[n.units]}}setRangeLineHeight(e,r,n){let i=c.w.NumberUnits[n.units];if("number"==typeof i){this.setGlobalNodeID();let a=m.CUU.setRangeLineHeight(e,r,n.value,i,this.context);if(a)throw Error(a)}else throw Error("Invalid format for setRangeLineHeight")}getRangeBoundVariable(e,r,n){return this.setGlobalNodeID(),m.CUU.getRangeBoundVariable(e,r,n,this.context)}setRangeBoundVariable(e,r,n,i){this.setGlobalNodeID();let{errorMsg:a}=m.CUU.setRangeBoundVariable(e,r,n,i,this.context);if(a)throw Error(a)}getRangeFillPaints(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeFillPaints(e,r,this.context);return"mixed"===n?n:(0,d.sR)((0,f.dG)("fillPaints",n),"Figma Internal Error: fillPaints not found")}setRangeFillPaints(e,r,n){this.setGlobalNodeID();let i=m.CUU.setRangeFillPaints(e,r,(0,f.C_)("fillPaints",n),this.context);if(i)throw Error(i)}getRangeInheritedFillStyle(e,r){return this.getRangeInheritedStyleKey(e,r,"inheritFillStyleKey")}setRangeInheritedFillStyle(e,r,n){this.setRangeInheritedStyleKey(e,r,"inheritFillStyleKey",n)}getRangeInheritedTextStyle(e,r){return this.getRangeInheritedStyleKey(e,r,"inheritTextStyleKey")}setRangeInheritedTextStyle(e,r,n){this.setRangeInheritedStyleKey(e,r,"inheritTextStyleKey",n)}getRangeLineType(e,r){return this.setGlobalNodeID(),m.CUU.getRangeLineType(e,r,this.context)}setRangeLineType(e,r,n){this.setGlobalNodeID();let i=0,a=c.w.LineType[n];"number"==typeof a&&(i=a);let o=m.CUU.setRangeLineType(e,r,i,this.context);if(o)throw Error(o)}getRangeLineIndentation(e,r){this.setGlobalNodeID();let n=m.CUU.getRangeIndentation(e,r,this.context);return -1===n?"mixed":n}setRangeLineIndentation(e,r,n){this.setGlobalNodeID();let i=m.CUU.setRangeIndentation(e,r,n,this.context);if(i)throw Error(i)}getRangeHyperlink(e,r){return this.setGlobalNodeID(),m.CUU.getRangeHyperlink(e,r,this.context)}setRangeHyperlink(e,r,n){this.setGlobalNodeID();let i=m.CUU.setRangeHyperlink(e,r,n&&"URL"===n.type?n.value:"",n&&"NODE"===n.type?n.value:null,this.context);if(i)throw Error(i)}getPluginData(e,r){return this.setGlobalNodeID(),m.UNF.getPluginData(e,r)}setPluginData(e,r,n){this.setGlobalNodeID();let i=m.UNF.setPluginData(e,r,n);if(i)throw Error(i)}getPluginDataKeys(e){return this.setGlobalNodeID(),m.UNF.getPluginDataKeys(e)}getSharedPluginData(e,r){return this.setGlobalNodeID(),m.UNF.getSharedPluginData(e,r)}setSharedPluginData(e,r,n){this.setGlobalNodeID();let i=m.UNF.setSharedPluginData(e,r,n);if(i)throw Error(i)}getSharedPluginDataKeys(e){return this.setGlobalNodeID(),m.UNF.getSharedPluginDataKeys(e)}getRelaunchData(e){return this.setGlobalNodeID(),m.UNF.getPluginRelaunchData(e)}setRelaunchData(e,r){this.setGlobalNodeID();let n=m.UNF.setPluginRelaunchData(e,r);if(n)throw Error(n)}get isInImmutableFrame(){return this.setGlobalNodeID(),m.UNF.getIsInImmutableFrame(this.context)}spliceCharacters(e,r,n,i){this.setGlobalNodeID();let a=m.CUU.spliceCharacters(e,r,n,i,this.context);if(a)throw Error(a)}getSharedSymbolVersion(){return this.setGlobalNodeID(),m.UNF.getSharedSymbolVersion(this.context)}getSharedStateGroupVersion(){return this.setGlobalNodeID(),m.UNF.getSharedStateGroupVersion(this.context)}getStyleVersion(){return this.setGlobalNodeID(),m.UNF.getStyleVersion(this.context)}setProperties(e){this.setGlobalNodeID(),m.CUU.setProperties(e,this.context)}findAllWithCriteria(e){return this.setGlobalNodeID(),m.CUU.findAllWithCriteria(e,this.context)}findAllWithType(e){return this.setGlobalNodeID(),m.CUU.findAllWithType(e,this.context)}clearExplicitVariableConsumerModeForCollection(e){this.setGlobalNodeID();let r=m.UNF.clearExplicitVariableConsumerModeForCollection(e,this.context);if(r)throw Error(r)}setExplicitVariableModeForCollection(e,r){this.setGlobalNodeID();let n=m.UNF.setExplicitVariableModeForCollection(e,r,this.context);if(n)throw Error(n)}getVariableConsumptionMap(){return this.setGlobalNodeID(),m.UNF.getVariableConsumptionMap(this.context)}updateVariableConsumption(e,r){return this.setGlobalNodeID(),m.UNF.updateVariableConsumption(e,r,this.context)}get boundVariables(){return this.setGlobalNodeID(),m.UNF.getBoundVariables(this.context)}get inferredVariables(){return this.setGlobalNodeID(),m.UNF.getInferredVariables(this.context)}setBoundVariable(e,r){this.setGlobalNodeID();let{errorMsg:n}=m.UNF.setBoundVariable(e,r,this.context);if(n)throw Error(n)}get boundVariablesForStyle(){return this.setGlobalNodeID(),m.UNF.getBoundVariablesForStyle(this.context)}resolvedVariableModes(){return this.setGlobalNodeID(),m.UNF.getResolvedVariableModes(this.context)}explicitVariableModes(){return this.setGlobalNodeID(),m.UNF.getExplicitVariableModes(this.context)}resolveVariable(e){return this.setGlobalNodeID(),m.CUU.resolveVariable(e)}set variableScopes(e){this.setGlobalNodeID(),m.UNF.setVariableScopes(e,this.context)}get variableScopes(){return this.setGlobalNodeID(),m.UNF.getVariableScopes(this.context)}setVariableCodeSyntax(e,r){this.setGlobalNodeID(),m.UNF.setVariableCodeSyntax(e,r,this.context)}removeVariableCodeSyntax(e){this.setGlobalNodeID(),m.UNF.removeVariableCodeSyntax(e,this.context)}get variableCodeSyntax(){return this.setGlobalNodeID(),m.UNF.getVariableCodeSyntax(this.context)}set hiddenFromPublishing(e){this.setGlobalNodeID(),m.UNF.setIsPublishable(!e,this.context)}get hiddenFromPublishing(){return this.setGlobalNodeID(),!m.UNF.getIsPublishable(this.context)}variantGroupProperties(){if(!this.isStateGroup)throw Error("Can only get variant properties of a state group");return this.setGlobalNodeID(),m.CUU.variantGroupProperties()}variantProperties(){if("INSTANCE"!==this.type&&!this.isState)throw Error("Can only get variant properties of a variant or variant instance");return this.setGlobalNodeID(),m.CUU.variantProperties()}componentPropertyDefinitions(){if(!this.isLooseComponent&&!this.isStateGroup)throw Error("Can only get component property definitions of a component set or non-variant component");return this.setGlobalNodeID(),m.CUU.componentPropertyDefinitions()}componentPropertyReferences(){return this.setGlobalNodeID(),m.CUU.componentPropertyReferences()}setComponentPropertyReferences(e){return this.setGlobalNodeID(),m.CUU.setComponentPropertyReferences(e,this.context)}componentProperties(){if("INSTANCE"!==this.type)throw Error("Can only get component properties of an instance");return this.setGlobalNodeID(),m.CUU.componentProperties()}setPropsAreBubbled(e){return this.isPrimaryInstance?(this.setGlobalNodeID(),m.CUU.setPropsAreBubbled(e,this.context)):"Can only expose primary instances."}get exposedInstances(){if("INSTANCE"!==this.type)throw Error("Can only get exposed instances of an instance");return this.setGlobalNodeID(),m.CUU.exposedInstances(this.context)}get overrides(){return this.setGlobalNodeID(),m.CUU.overrides(this.context)}resetOverrides(){this.setGlobalNodeID();let e=m.CUU.resetOverrides();if(e)throw Error(e)}get overrideKey(){return this.setGlobalNodeID(),m.CUU.getOverrideKey()}getSublayerIdForInstanceOfSymbol(e){return this.setGlobalNodeID(),m.CUU.getSublayerIdForInstanceOfSymbol(e)}get instances(){return this.setGlobalNodeID(),m.CUU.getInstances(this.context)}cellAt(e,r){this.setGlobalNodeID();let n=m.CUU.cellAt(e,r);return n!==p.AD?n:null}insertRow(e){this.setGlobalNodeID();let r=m.CUU.insertRow(e,this.context);if(r)throw Error(r)}insertColumn(e){this.setGlobalNodeID();let r=m.CUU.insertColumn(e,this.context);if(r)throw Error(r)}removeRow(e){this.setGlobalNodeID();let r=m.CUU.removeRow(e,this.context);if(r)throw Error(r)}removeColumn(e){this.setGlobalNodeID();let r=m.CUU.removeColumn(e,this.context);if(r)throw Error(r)}moveRow(e,r){this.setGlobalNodeID();let n=m.CUU.moveRow(e,r,this.context);if(n)throw Error(n)}moveColumn(e,r){this.setGlobalNodeID();let n=m.CUU.moveColumn(e,r,this.context);if(n)throw Error(n)}resizeRow(e,r){this.setGlobalNodeID();let n=m.CUU.resizeRow(e,r,this.context);if(n)throw Error(n)}resizeColumn(e,r){this.setGlobalNodeID();let n=m.CUU.resizeColumn(e,r,this.context);if(n)throw Error(n)}addVariantComponentPropertyDefinition(e,r){if(!this.isStateGroup)throw Error("Can only add variant property to a component set");return this.setGlobalNodeID(),m.CUU.addVariantComponentPropertyDefinition(e,r)}addComponentPropertyDefinition(e,r,n,i){if(!this.isLooseComponent&&!this.isStateGroup)throw Error("Can only set component property definitions on a product component");let a=c.w.ComponentPropType[r];if("number"==typeof a)return this.setGlobalNodeID(),m.CUU.addComponentPropertyDefinition(e,a,n,i??null,this.context);throw Error("Invalid value for propertyType")}editComponentPropertyDefinition(e,r="",n,i){if(!this.isLooseComponent&&!this.isStateGroup)throw Error("Can only edit component property definitions on a product component");return this.setGlobalNodeID(),m.CUU.editComponentPropertyDefinition(e,r,n,i??null,this.context)}deleteComponentPropertyDefinition(e){if(!this.isLooseComponent&&!this.isStateGroup)throw Error("Can only delete component property definitions on a product component");this.setGlobalNodeID(),m.CUU.deleteComponentPropertyDefinition(e,this.context)}getRestfulJSON(){return this.setGlobalNodeID(),m.CUU.getRestfulJSON()}filterSubtreeNodes(e){return this.setGlobalNodeID(),m.CUU.filterSubtreeNodes(e)}get childrenDisplayOrder(){var e;return("FRAME"===(e=this.type)||"SYMBOL"===e||"INSTANCE"===e||"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CODE_BLOCK"===e||"WIDGET"===e||"SECTION"===e||"TABLE"===e||"TABLE_CELL"===e||"SLIDE"===e||"MODULE"===e||"SLIDE_GRID"===e||"SLIDE_ROW"===e)&&"NONE"!==this.stackMode?1:0}get inferredAutoLayoutResult(){return this.setGlobalNodeID(),m.CUU.getInferredAutoLayoutResult(this.context)}get documentColorProfile(){let e=void 0!==m.H4l&&null!=m.H4l.documentColorProfile().getCopy()?m.H4l.documentColorProfile().getCopy():m.ywP.LEGACY;return m.ywP[e]}isSlide(){return this.setGlobalNodeID(),m.UNF.isSlide(this.context)}isInSlide(){return this.setGlobalNodeID(),m.UNF.isInSlide(this.context)}isOrInSlide(){return this.setGlobalNodeID(),m.UNF.isOrInSlide(this.context)}isSlideOrTemplate(){return this.setGlobalNodeID(),m.UNF.isSlideOrTemplate(this.context)}findContainingSlideOrSelf(){return this.setGlobalNodeID(),m.UNF.findContainingSlideOrSelf(this.context)}get annotations(){return this.setGlobalNodeID(),m.UNF.getAnnotations(this.context)||[]}get canHaveAnnotation(){return this.setGlobalNodeID(),m.UNF.getCanHaveAnnotation(this.context)}get isFirstDraft(){return this.setGlobalNodeID(),m.UNF.getIsFirstDraft(this.context)}get isFirstDraftBuildingBlock(){return this.setGlobalNodeID(),m.UNF.getIsFirstDraftBuildingBlock(this.context)}setAnnotation(e){return(this.setGlobalNodeID(),e&&(e.label||e.properties&&0!==e.properties.length))?m.UNF.setAnnotations([e],this.context):m.UNF.setAnnotations([],this.context)}updateAnnotation(e,r){this.setGlobalNodeID();let n={...this.annotations[e],...r},i=[...this.annotations];return i[e]=n,m.UNF.setAnnotations(i,this.context)}get measurements(){return this.setGlobalNodeID(),m.UNF.getMeasurements(this.context)||[]}addMeasurement(e,r,n,i,a){return this.setGlobalNodeID(),m.UNF.addMeasurement(e,r,n,i,a,this.context)}removeMeasurement(e){this.setGlobalNodeID(),m.UNF.removeMeasurement(e,this.context)}updateMeasurementOffset(e,r,n){return this.setGlobalNodeID(),m.UNF.updateMeasurementOffset(e,r,n,this.context)}get isDiagramNode(){return this.setGlobalNodeID(),m.UNF.getIsDiagramNode(this.context)}get isDiagramRoot(){return this.setGlobalNodeID(),m.UNF.getIsDiagramRoot(this.context)}get isDiagramLayoutPaused(){return this.setGlobalNodeID(),m.UNF.getIsDiagramLayoutPaused(this.context)}get hasDiagramRule(){return this.setGlobalNodeID(),m.UNF.getHasDiagramRule(this.context)}get diagramParentId(){return this.setGlobalNodeID(),m.UNF.getDiagramParentId(this.context)}get diagramChildIds(){return this.setGlobalNodeID(),m.UNF.getDiagramChildIds(this.context)}get diagramDirection(){return this.setGlobalNodeID(),m.UNF.getDiagramDirection(this.context)}get diagramPosition(){return this.setGlobalNodeID(),m.UNF.getDiagramPosition(this.context)}getSitesJSON(e=0){return this.setGlobalNodeID(),m.CUU.getSitesJSON(e)}getFirstDraftJSON(){return this.setGlobalNodeID(),m.CUU.getFirstDraftJSON()}get isResponsiveSet(){return this.setGlobalNodeID(),m.UNF.getIsResponsiveSet(this.context)}setIsResponsiveSet(e){return m.UNF.setIsResponsiveSet(e,this.context)}get isResponsiveNode(){return this.setGlobalNodeID(),m.UNF.getIsResponsiveNode(this.context)}get isPrimaryResponsiveNode(){return this.setGlobalNodeID(),m.UNF.getIsPrimaryResponsiveNode(this.context)}get responsiveNodeRange(){return this.setGlobalNodeID(),m.UNF.getResponsiveNodeRange(this.context)}get defaultResponsiveSetId(){return this.setGlobalNodeID(),m.UNF.getDefaultResponsiveSetId(this.context)}setDefaultResponsiveSetId(e){return m.UNF.setDefaultResponsiveSetId(e,this.context)}get containingResponsiveNode(){this.setGlobalNodeID();let e=m.UNF.findContainingResponsiveNode(this.context);return this.mapOneGuidToNode(e)}get isHTMLWidget(){return this.setGlobalNodeID(),m.UNF.getIsHTMLWidget(this.context)}get behaviors(){return this.setGlobalNodeID(),m.UNF.getBehaviors(this.context)}set behaviors(e){this.setGlobalNodeID();let r=m.UNF.setBehaviors(e,this.context);if(r)throw Error(r)}getInheritedStyleKey(e){this.setGlobalNodeID();let r=m.CUU.getInheritedStyle(e,this.context);return(0,_.$P)(r)?r:null}getInheritedStyleKeyOrMixed(e){this.setGlobalNodeID();let r=m.CUU.getRangeInheritedStyle(0,-1,e,this.context);return"mixed"===r?"mixed":(0,_.$P)(r)?r:null}setInheritedStyleKey(e,r){if(r&&!(0,_.$P)(r))throw Error(`Invalid style key ${r.key} and version ${r.version}`);let n=r??{key:u.n3.INVALID,version:u.IA.INVALID};this.setGlobalNodeID();let i=m.CUU.setRangeInheritedStyle(0,-1,e,n.key,n.version,this.context);if(i)throw Error(`Cannot set style successfully: ${i}`)}getRangeInheritedStyleKey(e,r,n){this.setGlobalNodeID();let i=m.CUU.getRangeInheritedStyle(e,r,n,this.context);return"mixed"===i?i:(0,_.$P)(i)?i:null}setRangeInheritedStyleKey(e,r,n,i){if(i&&!(0,_.$P)(i))throw Error(`Invalid style key ${i.key} and version ${i.version}`);let a=i??{key:u.n3.INVALID,version:u.IA.INVALID};this.setGlobalNodeID();let o=m.CUU.setRangeInheritedStyle(e,r,n,a.key,a.version,this.context);if(o)throw Error(`Cannot set style successfully: ${o}`)}}function I(e,r){let n=0,i=!1;for(45===e.charCodeAt(r)&&(i=!0,r++);r<e.length;){let i=e.charCodeAt(r++);if(i<48||i>57)break;n=10*n+i-48}return i?-n:n}},56390:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{$q:()=>d,BI:()=>a,Y5:()=>i,lQ:()=>s,r1:()=>c,s$:()=>l}),n(42456);let s=new Promise(e=>{o=e});function l(e){i=e,window._fullscreen_=i,o()}function d(e){c=e}let c=null},66313:(e,r,n)=>{"use strict";n.d(r,{d:()=>a}),n(39863),n(9007),n(56390);var i=n(52800);function a(){return i.Ez5.canvasViewState()}n(52051)},74191:(e,r,n)=>{"use strict";function i(e){let r=e.r,n=e.g,i=e.b,a=Math.min(Math.min(r,n),i),o=Math.max(Math.max(r,n),i),s=o-a,l=0;o===a?l=0:r===o?l=(n-i)/s:n===o?l=2+(i-r)/s:i===o&&(l=4+(r-n)/s),(l=Math.min(60*l,360))<0&&(l+=360);let d=(a+o)/2;return{h:l/=360,s:o===a?0:d<=.5?s/(o+a):s/(2-o-a),l:d,a:e.a}}function a(e){let r=(e.h-Math.floor(e.h))*6,n=e.v*e.s,i=n*(1-Math.abs(r%2-1)),a=e.s<=0?0:r<1?n:r<2?i:r<3?0:r<4?0:r<5?i:n,o=e.s<=0?0:r<1?i:r<2?n:r<3?n:r<4?i:0,s=e.s<=0?0:r<1?0:r<2?0:r<3?i:r<4?n:r<5?n:i,l=e.v-n;return{r:a+l,g:o+l,b:s+l,a:e.a}}function o(e){let r=Math.max(Math.max(e.r,e.g),e.b),n=r-Math.min(Math.min(e.r,e.g),e.b);return{h:(0===n?0:r===e.r?((e.g-e.b)/n+6)%6:r===e.g?(e.b-e.r)/n+2:(e.r-e.g)/n+4)/6,s:0===r?0:n/r,v:r,a:e.a}}function s(e){return"l"in e?function(e){if(0===e.s)return{r:e.l,g:e.l,b:e.l,a:e.a};let r=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,n=2*e.l-r,i=[0,0,0];for(let a=0;a<3;a++){let o=e.h+-(1/3*(a-1));o<0&&o++,o>1&&o--,6*o<1?i[a]=n+(r-n)*6*o:2*o<1?i[a]=r:3*o<2?i[a]=n+(r-n)*(2/3-o)*6:i[a]=n}return{r:i[0],g:i[1],b:i[2],a:e.a}}(e):a(e)}function l(e){return"l"in e?{...e,s:1,l:.5,a:1}:{...e,s:1,v:1,a:1}}function d(e){return{r:e.red,g:e.green,b:e.blue,a:e.alpha}}function c(e,r){let n=[];for(let i=0;i<3;i++)n.push(e[i][0]*r[0]+e[i][1]*r[1]+e[i][2]*r[2]);return n}function u(e){return p({l:e.l,ax:e.c*Math.cos(360*e.h*Math.PI/180),bx:e.c*Math.sin(360*e.h*Math.PI/180),a:e.a})}function p(e){let r=c([[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],[e.l,e.ax,e.bx]),n=c([[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],r.map(e=>e**3)),i=c([[12831/3959,-329/214,-1974/3959],[-851781/878810,1648619/878810,36519/878810],[705/12673,-2585/12673,705/667]],n).map(function(e){let r=Math.abs(e);return r>.0031308?(e<0?-1:1)*(1.055*Math.pow(r,1/2.4)-.055):12.92*e});return{r:i[0],g:i[1],b:i[2],a:e.a}}n.d(r,{I0:()=>u,Ih:()=>l,aH:()=>d,kE:()=>a,oB:()=>i,oq:()=>p,qN:()=>o,w_:()=>s})},1978:(e,r,n)=>{"use strict";let i;n.d(r,{Eh:()=>u,dM:()=>h,dX:()=>m});var a,o=n(66712),s=n(76621),l=n(60187),d=((i=d||{})[i.Unknown=0]="Unknown",i[i.No=1]="No",i[i.Yes=2]="Yes",i);let c=0;function u(e,r){if("srgb"===r)return e.getContext("2d");{let n=(0,l.p3)();return e.getContext("2d",{colorSpace:n?"srgb":r})}}let p=null==(a=document.createElement("canvas").getContext("2d",{colorSpace:"srgb",willReadFrequently:!0}))?void 0:a.canvas;function h({canvas:e,canvasWidth:r,canvasHeight:n,renderCanvas:i,value:a,colorSpace:u,initializeCanvasColorSpace:h=!1}){if(h&&e.getContext("2d",{colorSpace:u}),((0,o.kc)().ee_color_management_force_canvas||(0,l.p3)())&&1!==c){if(p){p.width=r,p.height=n,i(p,a);let u=p.getContext("2d"),h=e.getContext("2d");if(u&&h)try{!function(e,r){if(e.canvas.width!==r.canvas.width||e.canvas.height!==r.canvas.height)throw Error("source ctx and target ctx dimensions don't match");if("getContextAttributes"in e&&"srgb"!==e.getContextAttributes().colorSpace)throw Error("source ctx is not srgb");if("getContextAttributes"in r&&"display-p3"!==r.getContextAttributes().colorSpace&&!((0,o.kc)().ee_color_management_force_canvas&&"srgb"===r.getContextAttributes().colorSpace))throw Error("target ctx is not display-p3");let[n,i]=[r.canvas.width,r.canvas.height],a=e.getImageData(0,0,n,i),s=new ImageData(a.data,a.width,a.height,{colorSpace:"getContextAttributes"in e?r.getContextAttributes().colorSpace:"srgb"});r.clearRect(0,0,n,i),r.putImageData(s,0,0)}(u,h),0===c&&(c=2)}catch{(0,s.Lo)("color management","polyfill failed",{ee_color_management_force_canvas:(0,o.kc)().ee_color_management_force_canvas,shouldUseCssColorLevel4Polyfill:(0,l.p3)(),is2dCanvasPolyfillSupportedByBrowser:d[c]}),i(e,a),c=1}}}else i(e,a)}function m(e){switch(e){case"fullscreen":case"mobile-viewer":return document.querySelector("#fullscreen-root canvas");case"prototype":return document.querySelector("#viewerContainer canvas");case"mirror":return document.querySelector("#mobileAppView canvas")}}},21123:(e,r,n)=>{"use strict";n.d(r,{Qf:()=>y,dy:()=>f,rl:()=>h});var i=n(27367),a=n(52800);let o=e=>{let r,n=-1,i=0,a=[],o=0;for(;o<256;o++){r=o;for(let e=0;e<8;e++)r=1&r?3988292384^r>>>1:r>>>1;a[o]=r}for(;i<e.length;i++)n=n>>>8^a[255&(n^e.charCodeAt(i))];return(-1^n)>>>0},s=e=>e.replace(/[^A-F0-9]/gi,""),l=e=>{let r="";for(let n=0;n<e.length;n+=2)r+=String.fromCharCode(parseInt(e.substr(n,2),16));return r},d=e=>o(l(s(e))).toString(16).toUpperCase().padStart(8,"0"),c=e=>Math.round(255*e).toString(16).toUpperCase().padStart(2,"0"),u=(e,r)=>{let n=`504C5445 ${e}`,i=d(n);return r===a.RYP.DISPLAY_P3?`
    89504E47 0D0A1A0A 0000000D 49484452 00000001 00000001 08030000 0028CB34
    BB000001 62694343 50696363 00002891 7590BD4B C35014C5 4FAB52D0 3A880E1D
    1C328943 D4D20A76 71682B14 45305405 AB539A7E 096D7C24 29527113 5729F81F
    58C15970 B0885470 71701044 0711DD9C 3A29B868 78DE9754 DA22DEC7 E5FD389C
    73B95CC0 1B50192B F60228E9 96914CC4 A4B5D4BA E47B8387 9E53AA66 B2A8A22C
    0AFEFDBB EBF3D1F5 DE4F8859 4DBB7610 D94F5C97 CE2E9776 9E02537F FD5DD59F
    C99A1AFD DFD4418D 1916E091 89956D8B 09DE251E 316829E2 AAE0BCCB C782D32E
    9F3B9E95 649CF896 58D20A6A 86B8492C A73BF47C 07978A65 ADB583D8 DE9FD557
    97C51CEA 51CC6113 26188A50 51810405 E17FFCD3 8E3F8E2D 72576050 2E8F022C
    CA444911 13B2C4F3 D0A16112 32710841 EA90B873 EB7E0FAD FBC96D6D EF15986D
    70CE2FDA DA420338 9DA193D5 DBDA7804 181A006E EA4C3554 47EAA1F6 E672C0FB
    09309802 86EF28B3 61E6C221 777B7F0C E87BE1FC 630CF01D 027695F3 AF23CEED
    1A859F81 2BFD0717 296ABCEC 1BF56300 000003 ${n} ${i} 0000 00077449
    4D4507E7 010C0637 2418AA2F C5000000 0D494441 54081D01 0200FDFF 00000002
    0001CDE3 D12B0000 00004945 4E44AE42 6082
    `:`
    89504E47 0D0A1A0A 0000000D 49484452 00000001 00000001 08030000 0028CB34
    BB000000 20634852 4D00007A 26000080 840000FA 00000080 E8000075 300000EA
    6000003A 98000017 709CBA51 3C000000 03 ${n} ${i} 00000007 74494D45
    07E7010C 06210D46 80027E00 00000D49 44415408 1D010200 FDFF0000 00020001
    CDE3D12B 00000000 49454E44 AE426082
    `},p=(e,r)=>{let n=u(e,r).replace(/[^A-F0-9]/gi,"");return`data:image/png;base64,${btoa(l(n))}`},h=(e,r)=>p(`${c(e.r)}${c(e.g)}${c(e.b)}`,r),m=e=>{if("#"===e[0])return{r:parseInt(e.substring(1,3),16)/255,g:parseInt(e.substring(3,5),16)/255,b:parseInt(e.substring(5,7),16)/255,a:1}},g=e=>{let r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(r){let e=parseInt(r[1],10);return{r:e/255,g:parseInt(r[2],10)/255,b:parseInt(r[3],10)/255,a:r[4]?parseFloat(r[4]):1}}};function f(e){let r;try{if((r=m(e))||(r=g(e))||i.$q[e]&&(r=m(i.$q[e])))return r}catch(e){}return{r:0,g:0,b:0,a:0}}function _(e){return+e.toFixed(4)}function y(e,r=1){let{r:n,g:i,b:a,a:o=1}=e,s=o*r;return 1===s?`color(display-p3 ${_(n)} ${_(i)} ${_(a)})`:`color(display-p3 ${_(n)} ${_(i)} ${_(a)} / ${s.toFixed(2)})`}},88536:(e,r,n)=>{"use strict";n.d(r,{Ep:()=>E,jO:()=>T});var i=n(11855),a=n(74626),o=n(15220),s=n(94910),l=n(56390),d=n(52800),c=n(88983),u=n(197),p=n(1978),h=n(36576),m=n(62620),g=n(93393),f=n(10332),_=n(65723);let y=i.createContext({canvasColorProfile:d.RYP.SRGB,documentColorProfile:d.ywP.LEGACY,documentExportColorProfile:d.RYP.SRGB});function E(){return i.useContext(y).canvasColorProfile}function b(e){let{children:r,colorManagementStateJs:n}=e,a=(0,u.ut)(null==n?void 0:n.documentColorProfile(),d.ywP.LEGACY),o=(0,h.H)(a),{colorProfilePreference:s}=(0,_.jK)(),l=i.useMemo(()=>({documentColorProfile:a,documentExportColorProfile:(0,m.j)(a,s),canvasColorProfile:o}),[s,a,o]);return i.createElement(y.Provider,{value:l},r)}function v(e){return(0,_.jK)(),i.createElement(b,{colorManagementStateJs:d.H4l},e.children)}function S({target:e,viewer:r}){let[n,a]=i.useState(null),s=i.useCallback(()=>{if(n)return!0;let r=(0,p.dX)(e);if(r){let n=null;switch(e){case"fullscreen":case"mobile-viewer":n=(0,o.ap)()?r.getContext("webgl2"):r.getContext("webgl");break;case"prototype":case"mirror":n=(0,o.WQ)()?r.getContext("webgl2"):r.getContext("webgl")}return a(n),!0}return!1},[e,n]);i.useEffect(()=>{if(!s())switch(e){case"fullscreen":case"mobile-viewer":l.Y5.onReady().then(()=>{s()});break;case"prototype":case"mirror":r&&r.on("documentIsLoaded",()=>{s()})}},[s,e,r]);let d=E();return i.useEffect(()=>{n&&g.q.queueSwitchWebglColorSpace(n,d,e)},[d,e,n]),null}function I({viewer:e,target:r}){return i.createElement(s.tH,{boundaryKey:"color-management",fallback:s.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:c.y4},i.createElement(a.An,null,i.createElement(f.C,null,i.createElement(v,null,i.createElement(S,{target:r,viewer:e})))))}function T(){return i.createElement(I,{target:"mobile-viewer"})}y.Consumer},60187:(e,r,n)=>{"use strict";n.d(r,{Av:()=>S,Pv:()=>m,VG:()=>d,p3:()=>f,tK:()=>y});var i=n(11855),a=n(17333),o=n(66712),s=n(52800),l=n(79296);function d(e){switch(e){case s.RYP.SRGB:return"srgb";case s.RYP.DISPLAY_P3:return"display-p3";default:throw Error(`unrecognized color profile: ${e}`)}}let c=e=>{try{if(e===s.RYP.SRGB)return!0;let r=document.createElement("canvas").getContext("webgl");if(!r)throw Error("failed to create webgl canvas context to determine support");if(!("drawingBufferColorSpace"in r))throw Error("webgl context does not contain drawingBufferColorSpace attribute");let n=d(e);if(r.drawingBufferColorSpace=n,r.drawingBufferColorSpace!==n)throw Error(`webgl context does not support color space: ${n}`);return!0}catch(e){return!1}},u=new Map,p=(0,l.n)(e=>{if(u.has(e)&&(0,o.kc)().gsod_fix)return u.get(e);let r=c(e);return u.set(e,r),r}),h=(0,l.n)(e=>{try{if(e===s.RYP.SRGB)return!0;let r=document.createElement("canvas"),n=d(e),i=r.getContext("2d",{colorSpace:n});if(i){if("getContextAttributes"in i){if(i.getContextAttributes().colorSpace!==n)throw Error("2d canvas context does not match the desired color space")}else throw Error("2d canvas context does not support getContextAttributes")}else throw Error("failed to create 2d canvas context to determine support");if(f()){let e=new ImageData(new Uint8ClampedArray([0,0,0,0]),1,1,{colorSpace:n});if(!("colorSpace"in e)||e.colorSpace!==n)throw Error(`image does not support color space: ${n}`)}return!0}catch(e){return!1}}),m=()=>"undefined"!=typeof CSS&&"function"==typeof CSS.supports&&CSS.supports("color","color(display-p3 1 1 1)"),g=()=>window.matchMedia("(color-gamut: p3)").matches,f=()=>!m();async function _(){if(!a.eD)return;let e=await a.eD.getActiveNSScreens();if(e){for(let r of e)if(!r.isCurrentWindow&&r.canRepresentDisplayGamutP3)return r.localizedName}}function y(e){switch(e.status){case"SupportedNatively":case"SupportedWithPolyfill":return!0;case"MonitorNotSupported":case"ClientNotSupported":return!1}}let E=()=>{let[e,r]=i.useState();return i.useEffect(()=>{_().then(r)},[]),e},b=()=>{let[e,r]=i.useState(g());return i.useEffect(()=>{let e=setInterval(()=>{r(g())},5e3);return()=>{clearInterval(e)}},[]),e},v=()=>a.eD&&"unmanaged"===a.eD.getColorSpace();function S(){let e=i.useMemo(()=>p(s.RYP.DISPLAY_P3),[]),r=i.useMemo(()=>h(s.RYP.DISPLAY_P3),[]),n=i.useMemo(()=>m(),[]),o=v(),l=E(),d=b();return e&&r?o?{status:"ClientNotSupported",diagnostics:{client:"desktop-app",shouldRestartDesktopAppInManagedColorSpace:!0}}:d?n?{status:"SupportedNatively",diagnostics:null}:{status:"SupportedWithPolyfill",diagnostics:null}:{status:"MonitorNotSupported",diagnostics:{alternativeMonitorName:l}}:{status:"ClientNotSupported",diagnostics:{client:a.eD?"desktop-app":"browser"}}}},52800:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h,m,g,f,_,y,E,b,v,S,I,T,w,C,A,N,O,R,P,L,D,M,k,x,F,U,B,V,H,G,W,z,K,j,Y,$,q,Z,X,J,Q,ee,et,er,en,ei,ea,eo,es,el,ed,ec,eu,ep,eh,em,eg,ef,e_,ey,eE,eb,ev,eS,eI,eT,ew,eC,eA,eN,eO,eR,eP,eL,eD,eM,ek,ex,eF,eU,eB,eV,eH,eG,eW,ez,eK,ej,eY,e$,eq,eZ,eX,eJ,eQ,e0,e1,e2,e3,e5,e4,e6,e8,e7,e9,te,tt,tr,tn,ti,ta,to,ts,tl,td,tc,tu,tp,th,tm,tg,tf,t_,ty,tE,tb,tv,tS,tI,tT,tw,tC,tA,tN,tO,tR,tP,tL,tD,tM,tk,tx,tF,tU,tB,tV,tH,tG,tW,tz,tK,tj,tY,t$,tq,tZ,tX,tJ,tQ,t0,t1,t2,t3,t5,t4,t6,t8,t7,t9,re,rt,rr,rn,ri,ra,ro,rs,rl,rd,rc,ru,rp,rh,rm,rg,rf,r_,ry,rE,rb,rv,rS,rI,rT,rw,rC,rA,rN,rO,rR,rP,rL,rD,rM,rk,rx,rF,rU,rB,rV,rH,rG,rW,rz,rK,rj,rY,r$,rq,rZ,rX,rJ,rQ,r0,r1,r2,r3,r5,r4,r6,r8,r7,r9,ne,nt,nr,nn,ni,na,no,ns,nl,nd,nc,nu,np,nh,nm,ng,nf,n_,ny,nE,nb,nv,nS,nI,nT,nw,nC,nA,nN,nO,nR,nP,nL,nD,nM,nk,nx,nF,nU,nB,nV,nH,nG,nW,nz,nK,nj,nY,n$,nq,nZ,nX,nJ,nQ,n0,n1,n2,n3,n5,n4,n6,n8,n7,n9,ie,it,ir,ii,ia,io,is,il,id,ic,iu,ip,ih,im,ig,i_,iy,iE,ib,iv,iS,iI,iT,iw,iC,iA,iN,iO,iR,iP,iL,iD,iM,ik,ix,iF,iU,iB,iV,iH,iG,iW,iz,iK,ij,iY,i$,iq,iZ;n.d(r,{$mk:()=>X,AWq:()=>C,AiE:()=>ea,AlE:()=>eA,Ats:()=>dX,BLp:()=>eb,BXd:()=>D,Bko:()=>ep,BtE:()=>ld,Bx4:()=>uh,CUU:()=>z,CWU:()=>$,CeL:()=>S,D1Y:()=>s2,DPQ:()=>dJ,DV9:()=>J,Dje:()=>lo,EMA:()=>sQ,Egt:()=>W,ElO:()=>cJ,Ez5:()=>a,F84:()=>lW,FAf:()=>dn,Fk7:()=>eC,H$z:()=>le,H4l:()=>ed,HG$:()=>ur,Hdj:()=>cf,HzA:()=>ck,Ifi:()=>s1,J0O:()=>lJ,J5D:()=>cs,JA:()=>lw,JTp:()=>uo,KjJ:()=>ce,L5V:()=>cU,LQj:()=>ug,MoD:()=>cL,NFK:()=>d8,NLJ:()=>lY,NUh:()=>cv,NVY:()=>s9,NfO:()=>x,Oin:()=>dE,Osy:()=>K,P2e:()=>v,PHu:()=>lI,Pls:()=>cg,QCv:()=>cG,QOV:()=>lG,QOd:()=>cm,QjO:()=>dq,RYP:()=>cC,SKs:()=>em,Sie:()=>cM,SpR:()=>cF,T4N:()=>en,UNF:()=>eh,Ubo:()=>m,UcW:()=>d3,Une:()=>es,VIy:()=>cc,Vzr:()=>j,W2B:()=>ci,W8Y:()=>dT,X3B:()=>B,XJn:()=>b,XQq:()=>c$,XpX:()=>cI,Xts:()=>lr,Xxv:()=>ec,Y8A:()=>eg,YCw:()=>lg,YEY:()=>d,YIO:()=>dg,YMM:()=>e_,YyC:()=>el,Z6A:()=>d1,ZHy:()=>cB,Z_n:()=>ua,ZiZ:()=>ly,_YF:()=>d_,_em:()=>dQ,aTl:()=>dm,aTn:()=>df,bOM:()=>d9,bk:()=>d4,bwI:()=>l2,cQy:()=>cX,ccR:()=>co,cgc:()=>I,d8m:()=>cD,dNx:()=>s8,dPJ:()=>d0,dTb:()=>dZ,daH:()=>lE,ed1:()=>lu,egF:()=>f,eii:()=>un,fHP:()=>d6,fsn:()=>um,glU:()=>T,h3O:()=>k,hMR:()=>ei,i0e:()=>ln,i6g:()=>o,iCO:()=>l1,iIc:()=>d5,j0r:()=>cj,jXp:()=>cP,jkn:()=>lh,kul:()=>dt,kz3:()=>ll,lyf:()=>lH,m1T:()=>lV,mKm:()=>l5,mSn:()=>ef,mgy:()=>sX,miP:()=>ch,mov:()=>eo,msz:()=>eN,nzw:()=>l8,ofk:()=>Q,pWM:()=>dO,phr:()=>u,qmM:()=>P,rCR:()=>cE,rXF:()=>ui,rau:()=>cS,rrT:()=>lK,sFD:()=>cu,sYL:()=>la,tHB:()=>q,tKW:()=>dM,tzO:()=>da,uCV:()=>c9,uXP:()=>s0,uXg:()=>lQ,vRS:()=>lz,vXe:()=>eu,vlL:()=>Z,vwB:()=>cp,w3z:()=>w,xLh:()=>sJ,xOL:()=>cZ,xSx:()=>ls,xae:()=>lb,xal:()=>dl,y0x:()=>cY,ywP:()=>cA,zIx:()=>cx,zkO:()=>cR,zol:()=>l_,zuo:()=>i});class iX{constructor(e){this.handle=e}get someBool(){return s.__getProperty_someBool(this.handle)}}class iJ extends iX{constructor(e){super(e),this.handle=e}set someBool(e){s.__setProperty_someBool(this.handle,e)}get someBool(){return super.someBool}}class iQ{constructor(e){this.handle=e}get someNumber(){return l.__getProperty_someNumber(this.handle)}get nested(){return l.__getProperty_nested(this.handle)}}class i0 extends iQ{constructor(e){super(e),this.handle=e}set someNumber(e){l.__setProperty_someNumber(this.handle,e)}get someNumber(){return super.someNumber}}class i1{constructor(e){this.handle=e}}class i2 extends i1{constructor(e){super(e),this.handle=e}}class i3{constructor(e){this.handle=e}get showOutlines(){return c.__getProperty_showOutlines(this.handle)}get showOutlineObjectBounds(){return c.__getProperty_showOutlineObjectBounds(this.handle)}get showOutlineHiddenLayers(){return c.__getProperty_showOutlineHiddenLayers(this.handle)}get activeCanvasCurrentZoom(){return c.__getProperty_activeCanvasCurrentZoom(this.handle)}get activeCanvasRetinaMode(){return c.__getProperty_activeCanvasRetinaMode(this.handle)}get showFrameGridsViewOnly(){return c.__getProperty_showFrameGridsViewOnly(this.handle)}get overlayUiRendering(){return c.__getProperty_overlayUiRendering(this.handle)}get lockMouseMoves(){return c.__getProperty_lockMouseMoves(this.handle)}get allowTimeSlicedEditRenderingOptimization(){return c.__getProperty_allowTimeSlicedEditRenderingOptimization(this.handle)}get syncCursorRenderingToSceneGraph(){return c.__getProperty_syncCursorRenderingToSceneGraph(this.handle)}get showTimeSlicingEditRenderingDot(){return c.__getProperty_showTimeSlicingEditRenderingDot(this.handle)}get editFrameExtraSeconds(){return c.__getProperty_editFrameExtraSeconds(this.handle)}get editFrameExtraFramebufferSwitches(){return c.__getProperty_editFrameExtraFramebufferSwitches(this.handle)}get maxEditTimeSeconds(){return c.__getProperty_maxEditTimeSeconds(this.handle)}get selectionBoundingRect(){return c.__getProperty_selectionBoundingRect(this.handle)}get devHandoffEntryPointBoundingRect(){return c.__getProperty_devHandoffEntryPointBoundingRect(this.handle)}get inlineMenuTarget(){return c.__getProperty_inlineMenuTarget(this.handle)}get focusedStackRegion(){return c.__getProperty_focusedStackRegion(this.handle)}get scaleToolLastCanvasAnchorPoint(){return c.__getProperty_scaleToolLastCanvasAnchorPoint(this.handle)}get temporarilyHoveredNodes(){return c.__getProperty_temporarilyHoveredNodes(this.handle)}get thumbnailNodeId(){return c.__getProperty_thumbnailNodeId(this.handle)}get wandHoverHighlight(){return c.__getProperty_wandHoverHighlight(this.handle)}}class i5 extends i3{constructor(e){super(e),this.handle=e}}class i4{constructor(e){this.handle=e}get requestedPageChange(){return p.__getProperty_requestedPageChange(this.handle)}}class i6 extends i4{constructor(e){super(e),this.handle=e}}class i8{constructor(e){this.handle=e}get pageToContainsNodeStatuses(){return h.__getProperty_pageToContainsNodeStatuses(this.handle)}}class i7 extends i8{constructor(e){super(e),this.handle=e}}class i9{constructor(e){this.handle=e}get focusAnimationIsRunning(){return g.__getProperty_focusAnimationIsRunning(this.handle)}get currentNodeId(){return g.__getProperty_currentNodeId(this.handle)}get nodeIds(){return g.__getProperty_nodeIds(this.handle)}get readySectionItems(){return g.__getProperty_readySectionItems(this.handle)}get automaticIconDetection(){return g.__getProperty_automaticIconDetection(this.handle)}get focusNodeId(){return g.__getProperty_focusNodeId(this.handle)}get focusMode(){return g.__getProperty_focusMode(this.handle)}get selectedMeasurementId(){return g.__getProperty_selectedMeasurementId(this.handle)}}class ae extends i9{constructor(e){super(e),this.handle=e}}class at{constructor(e){this.handle=e}get selectionEmpty(){return _.__getProperty_selectionEmpty(this.handle)}get selectionIsHyperlink(){return _.__getProperty_selectionIsHyperlink(this.handle)}get selectionIsMask(){return _.__getProperty_selectionIsMask(this.handle)}get shouldBlockUserEvents(){return _.__getProperty_shouldBlockUserEvents(this.handle)}get figmaScopeHighlightedNode(){return _.__getProperty_figmaScopeHighlightedNode(this.handle)}get keyboardLayoutPreference(){return _.__getProperty_keyboardLayoutPreference(this.handle)}get inPlaygroundMode(){return _.__getProperty_inPlaygroundMode(this.handle)}get shiftStraightLine(){return _.__getProperty_shiftStraightLine(this.handle)}get pencilStraightLine(){return _.__getProperty_pencilStraightLine(this.handle)}get handToolTemporarilyEnabled(){return _.__getProperty_handToolTemporarilyEnabled(this.handle)}get useNumbersForOpacity(){return _.__getProperty_useNumbersForOpacity(this.handle)}get nodesWithStatusForFile(){return _.__getProperty_nodesWithStatusForFile(this.handle)}get activeCommentAnchorData(){return _.__getProperty_activeCommentAnchorData(this.handle)}}class ar extends at{constructor(e){super(e),this.handle=e}}class an{constructor(e){this.handle=e}get activeEmbedData(){return y.__getProperty_activeEmbedData(this.handle)}}class ai extends an{constructor(e){super(e),this.handle=e}}class aa{constructor(e){this.handle=e}get activeCanvasPixelPreview(){return E.__getProperty_activeCanvasPixelPreview(this.handle)}get renderRulers(){return E.__getProperty_renderRulers(this.handle)}get stackInsertionDebugMode(){return E.__getProperty_stackInsertionDebugMode(this.handle)}get renderStackShadows(){return E.__getProperty_renderStackShadows(this.handle)}get renderDynamicInsertionPoints(){return E.__getProperty_renderDynamicInsertionPoints(this.handle)}get shouldSetFullWidthChildToFill(){return E.__getProperty_shouldSetFullWidthChildToFill(this.handle)}get shouldAutoSegmentSelection(){return E.__getProperty_shouldAutoSegmentSelection(this.handle)}get renderALUVisualIndicators(){return E.__getProperty_renderALUVisualIndicators(this.handle)}get renderALUHints(){return E.__getProperty_renderALUHints(this.handle)}get renderGrid(){return E.__getProperty_renderGrid(this.handle)}get showDotGrid(){return E.__getProperty_showDotGrid(this.handle)}get snapToPixelGrid(){return E.__getProperty_snapToPixelGrid(this.handle)}get snapToDotGrid(){return E.__getProperty_snapToDotGrid(this.handle)}get snapToDotGridStagingReset(){return E.__getProperty_snapToDotGridStagingReset(this.handle)}get showPropertyLabels(){return E.__getProperty_showPropertyLabels(this.handle)}get showFrameGrids(){return E.__getProperty_showFrameGrids(this.handle)}get showMasks(){return E.__getProperty_showMasks(this.handle)}get showArtboardOutlines(){return E.__getProperty_showArtboardOutlines(this.handle)}get showSlices(){return E.__getProperty_showSlices(this.handle)}get hideHelpWidget(){return E.__getProperty_hideHelpWidget(this.handle)}get flipDuringResize(){return E.__getProperty_flipDuringResize(this.handle)}get renderAnnotations(){return E.__getProperty_renderAnnotations(this.handle)}get renderRedlines(){return E.__getProperty_renderRedlines(this.handle)}get layerHover(){return E.__getProperty_layerHover(this.handle)}get showSidebar(){return E.__getProperty_showSidebar(this.handle)}get keyboardZoomToSelection(){return E.__getProperty_keyboardZoomToSelection(this.handle)}get penToolAvoidSingleHandles(){return E.__getProperty_penToolAvoidSingleHandles(this.handle)}get snapToGeometry(){return E.__getProperty_snapToGeometry(this.handle)}get snapToObjects(){return E.__getProperty_snapToObjects(this.handle)}get stickyTools(){return E.__getProperty_stickyTools(this.handle)}get disablePinchZoomFix(){return E.__getProperty_disablePinchZoomFix(this.handle)}get copyRenaming(){return E.__getProperty_copyRenaming(this.handle)}get smartQuotes(){return E.__getProperty_smartQuotes(this.handle)}get temporarilyHideViewportOverlay(){return E.__getProperty_temporarilyHideViewportOverlay(this.handle)}get rightClickPan(){return E.__getProperty_rightClickPan(this.handle)}get scrollWheelZoom(){return E.__getProperty_scrollWheelZoom(this.handle)}get expandedFramePresetType(){return E.__getProperty_expandedFramePresetType(this.handle)}get sidebarSplitPosition(){return E.__getProperty_sidebarSplitPosition(this.handle)}get devHandoffInspectSplitPosition(){return E.__getProperty_devHandoffInspectSplitPosition(this.handle)}get propertiesPanelSplitPosition(){return E.__getProperty_propertiesPanelSplitPosition(this.handle)}get pagesPanelHeight(){return E.__getProperty_pagesPanelHeight(this.handle)}get pagesPanelIsOpen(){return E.__getProperty_pagesPanelIsOpen(this.handle)}get colorFormat(){return E.__getProperty_colorFormat(this.handle)}get invertZoom(){return E.__getProperty_invertZoom(this.handle)}get cursorHighFiveWiggle(){return E.__getProperty_cursorHighFiveWiggle(this.handle)}get lowPower(){return E.__getProperty_lowPower(this.handle)}get showGuids(){return E.__getProperty_showGuids(this.handle)}get showFigmaScope(){return E.__getProperty_showFigmaScope(this.handle)}get canvasSearchDebug(){return E.__getProperty_canvasSearchDebug(this.handle)}get accessibilityDomDebug(){return E.__getProperty_accessibilityDomDebug(this.handle)}get fplDebug(){return E.__getProperty_fplDebug(this.handle)}get showQuickCommandRankDebug(){return E.__getProperty_showQuickCommandRankDebug(this.handle)}get showImmutableFrameSublayers(){return E.__getProperty_showImmutableFrameSublayers(this.handle)}get smallNudgeAmount(){return E.__getProperty_smallNudgeAmount(this.handle)}get bigNudgeAmount(){return E.__getProperty_bigNudgeAmount(this.handle)}get spellCheckPreference(){return E.__getProperty_spellCheckPreference(this.handle)}get enablePrototypingTabMerge(){return E.__getProperty_enablePrototypingTabMerge(this.handle)}get defaultEmojiSkinTone(){return E.__getProperty_defaultEmojiSkinTone(this.handle)}get handoffOutputFormat(){return E.__getProperty_handoffOutputFormat(this.handle)}get handoffPlatformTarget(){return E.__getProperty_handoffPlatformTarget(this.handle)}get ctrlClickContextMenu(){return E.__getProperty_ctrlClickContextMenu(this.handle)}get customCursor(){return E.__getProperty_customCursor(this.handle)}get similarIncludesMatching(){return E.__getProperty_similarIncludesMatching(this.handle)}get toggleSimilarHighlights(){return E.__getProperty_toggleSimilarHighlights(this.handle)}get exportSelectionSettings(){return E.__getProperty_exportSelectionSettings(this.handle)}get toggleNoodlesWithoutDragging(){return E.__getProperty_toggleNoodlesWithoutDragging(this.handle)}get toggleDebugShowMagicLinkClustering(){return E.__getProperty_toggleDebugShowMagicLinkClustering(this.handle)}get useOldOutlineShortcuts(){return E.__getProperty_useOldOutlineShortcuts(this.handle)}get toggleDisplayDirtyRects(){return E.__getProperty_toggleDisplayDirtyRects(this.handle)}get toggleDisplayDirtyTiles(){return E.__getProperty_toggleDisplayDirtyTiles(this.handle)}get toggleDisplayGpuMetrics(){return E.__getProperty_toggleDisplayGpuMetrics(this.handle)}get slidesLayersPanelHeight(){return E.__getProperty_slidesLayersPanelHeight(this.handle)}get slidesLayersPanelExpanded(){return E.__getProperty_slidesLayersPanelExpanded(this.handle)}get disableWhiteboardPdfImportNodeReplacement(){return E.__getProperty_disableWhiteboardPdfImportNodeReplacement(this.handle)}}class ao extends aa{constructor(e){super(e),this.handle=e}}class as{constructor(e){this.handle=e}}class al extends as{constructor(e){super(e),this.handle=e}}class ad{constructor(e){this.handle=e}}class ac extends ad{constructor(e){super(e),this.handle=e}}class au{constructor(e){this.handle=e}showBigSectionNamePills(){return A.showBigSectionNamePills(this.handle)}sectionNestedZoomLevel(){return A.sectionNestedZoomLevel(this.handle)}showTidyUpButtonsOnCanvas(){return A.showTidyUpButtonsOnCanvas(this.handle)}}class ap extends au{constructor(e){super(e),this.handle=e}}class ah{constructor(e){this.handle=e}viewportSpaceSelectionBounds(){return N.viewportSpaceSelectionBounds(this.handle)}currentDragBehaviorIsNullOr(e){return N.currentDragBehaviorIsNullOr(this.handle,e)}currentDragBehaviorIs(e){return N.currentDragBehaviorIs(this.handle,e)}canvasSpaceViewportRect(){return N.canvasSpaceViewportRect(this.handle)}canvasScale(){return N.canvasScale(this.handle)}isMouseOverCanvas(){return N.isMouseOverCanvas(this.handle)}canvasSpaceToViewportSpace(e){return N.canvasSpaceToViewportSpace(this.handle,e)}viewportSpaceToCanvasSpace(e){return N.viewportSpaceToCanvasSpace(this.handle,e)}}class am extends ah{constructor(e){super(e),this.handle=e}invalidate(){N.invalidate(this.handle)}}class ag{constructor(e){this.handle=e}canvasSpaceMouse(){return O.canvasSpaceMouse(this.handle)}viewportSpaceMouse(){return O.viewportSpaceMouse(this.handle)}invalidateViewport(){O.invalidateViewport(this.handle)}viewport(){return O.viewport(this.handle)}canvasGUID(){return O.canvasGUID(this.handle)}selectionNodeGUIDs(){return O.selectionNodeGUIDs(this.handle)}isMetaPressed(){return O.isMetaPressed(this.handle)}isOverSelection(){return O.isOverSelection(this.handle)}isStandardShortcutKeyPressed(){return O.isStandardShortcutKeyPressed(this.handle)}canvasSpaceMouseThreshold(){return O.canvasSpaceMouseThreshold(this.handle)}canvasSpaceSnappingThreshold(){return O.canvasSpaceSnappingThreshold(this.handle)}isShiftPressed(){return O.isShiftPressed(this.handle)}wasCanceled(){return O.wasCanceled(this.handle)}clickCount(){return O.clickCount(this.handle)}}class af extends ag{constructor(e){super(e),this.handle=e}accept(){O.accept(this.handle)}findHoveredNodeId(){return O.findHoveredNodeId(this.handle)}canvasScene(){return O.canvasScene(this.handle)}setOwnedBySelection(e){O.setOwnedBySelection(this.handle,e)}}class a_{constructor(e){this.handle=e}}class ay extends a_{constructor(e){super(e),this.handle=e}fillRoundedRect(e,r,n){R.fillRoundedRect(this.handle,e,r,n)}fillRect(e,r){R.fillRect(this.handle,e,r)}fillCircle(e,r,n){R.fillCircle(this.handle,e,r,n)}strokeCircle(e,r,n,i){R.strokeCircle(this.handle,e,r,n,i)}fillAndStrokeCircle(e,r,n,i,a,o){R.fillAndStrokeCircle(this.handle,e,r,n,i,a,o)}fillText(e,r,n,i,a,o){R.fillText(this.handle,e,r,n,i,a,o)}renderFillAndStrokeRoundedRect(e,r,n,i,a,o,s){R.renderFillAndStrokeRoundedRect(this.handle,e,r,n,i,a,o,s)}renderContentFillIcon(e){R.renderContentFillIcon(this.handle,e)}renderDashedLines(e,r,n,i,a){R.renderDashedLines(this.handle,e,r,n,i,a)}}class aE{constructor(e){this.handle=e}}class ab extends aE{constructor(e){super(e),this.handle=e}clearCache(){L.clearCache(this.handle)}clearSnappingVisualizations(){L.clearSnappingVisualizations(this.handle)}addPostSnappingVisualizations(){L.addPostSnappingVisualizations(this.handle)}}class av{constructor(e){this.handle=e}get publishableSymbols(){return M.__getProperty_publishableSymbols(this.handle)}get subscribedSymbols(){return M.__getProperty_subscribedSymbols(this.handle)}get localSymbolsThatHaveUsages(){return M.__getProperty_localSymbolsThatHaveUsages(this.handle)}get publishableStateGroups(){return M.__getProperty_publishableStateGroups(this.handle)}get subscribedStateGroups(){return M.__getProperty_subscribedStateGroups(this.handle)}get publishableStyles(){return M.__getProperty_publishableStyles(this.handle)}get directlySubscribedStyles(){return M.__getProperty_directlySubscribedStyles(this.handle)}get indirectlySubscribedStyles(){return M.__getProperty_indirectlySubscribedStyles(this.handle)}get localStylesThatHaveUsages(){return M.__getProperty_localStylesThatHaveUsages(this.handle)}get publishableModules(){return M.__getProperty_publishableModules(this.handle)}get subscribedSymbolsOnCurrentPage(){return M.__getProperty_subscribedSymbolsOnCurrentPage(this.handle)}get subscribedStateGroupsOnCurrentPage(){return M.__getProperty_subscribedStateGroupsOnCurrentPage(this.handle)}get directlySubscribedStylesOnCurrentPage(){return M.__getProperty_directlySubscribedStylesOnCurrentPage(this.handle)}get localSymbolsThatHaveUsagesOnCurrentPage(){return M.__getProperty_localSymbolsThatHaveUsagesOnCurrentPage(this.handle)}get localStylesThatHaveUsagesOnCurrentPage(){return M.__getProperty_localStylesThatHaveUsagesOnCurrentPage(this.handle)}get fileLevelVariableSetsSubscribed(){return M.__getProperty_fileLevelVariableSetsSubscribed(this.handle)}get fileLevelVariablesSubscribed(){return M.__getProperty_fileLevelVariablesSubscribed(this.handle)}get fileLevelVariableSetsLocal(){return M.__getProperty_fileLevelVariableSetsLocal(this.handle)}get fileLevelVariablesLocal(){return M.__getProperty_fileLevelVariablesLocal(this.handle)}}class aS extends av{constructor(e){super(e),this.handle=e}}class aI{constructor(e){this.handle=e}get propertiesPanelTab(){return F.__getProperty_propertiesPanelTab(this.handle)}get typeDetailsPanelOpen(){return F.__getProperty_typeDetailsPanelOpen(this.handle)}get shownPropertiesPanels(){return F.__getProperty_shownPropertiesPanels(this.handle)}get isVertexSelectionAndHasEndpoints(){return F.__getProperty_isVertexSelectionAndHasEndpoints(this.handle)}get shownTransformControls(){return F.__getProperty_shownTransformControls(this.handle)}get enabledTransformControls(){return F.__getProperty_enabledTransformControls(this.handle)}get enabledTypePanelControls(){return F.__getProperty_enabledTypePanelControls(this.handle)}get strokePanelMode(){return F.__getProperty_strokePanelMode(this.handle)}get strokePanelTerminalPointCount(){return F.__getProperty_strokePanelTerminalPointCount(this.handle)}}class aT extends aI{constructor(e){super(e),this.handle=e}}class aw{constructor(e){this.handle=e}get activePrototypeDevice(){return U.__getProperty_activePrototypeDevice(this.handle)}get prototypeViewMode(){return U.__getProperty_prototypeViewMode(this.handle)}get nodeWithPlusBubble(){return U.__getProperty_nodeWithPlusBubble(this.handle)}get colorPickerEyedropperVarData(){return U.__getProperty_colorPickerEyedropperVarData(this.handle)}}class aC extends aw{constructor(e){super(e),this.handle=e}}class aA{constructor(e){this.handle=e}get scale(){return V.__getProperty_scale(this.handle)}get width(){return V.__getProperty_width(this.handle)}get height(){return V.__getProperty_height(this.handle)}get anchorPoint(){return V.__getProperty_anchorPoint(this.handle)}}class aN extends aA{constructor(e){super(e),this.handle=e}}class aO{constructor(e){this.handle=e}}class aR extends aO{constructor(e){super(e),this.handle=e}invalidateConnectorForReparenting(e){H.invalidateConnectorForReparenting(this.handle,e)}updateImmutableFrameInternal(){H.updateImmutableFrameInternal(this.handle)}}class aP{constructor(e){this.handle=e}immutableFrameObserverReference(){return G.immutableFrameObserverReference(this.handle)}getIncidentConnectorIDsArray(e){return G.getIncidentConnectorIDsArray(this.handle,e)}sitesPreviewObserverReference(){return G.sitesPreviewObserverReference(this.handle)}}class aL extends aP{constructor(e){super(e),this.handle=e}}class aD{constructor(e){this.handle=e}get showMissingFontsButton(){return Y.__getProperty_showMissingFontsButton(this.handle)}get showMemoryUsage(){return Y.__getProperty_showMemoryUsage(this.handle)}get showPropertiesPanel(){return Y.__getProperty_showPropertiesPanel(this.handle)}get leftPanelCollapsedUI3(){return Y.__getProperty_leftPanelCollapsedUI3(this.handle)}get renderResourceUse(){return Y.__getProperty_renderResourceUse(this.handle)}get showCanvasXYAxis(){return Y.__getProperty_showCanvasXYAxis(this.handle)}get showMousePosition(){return Y.__getProperty_showMousePosition(this.handle)}get showInFileMemoryPercentage(){return Y.__getProperty_showInFileMemoryPercentage(this.handle)}get showCanvasSearch(){return Y.__getProperty_showCanvasSearch(this.handle)}get showOutOfDateWall(){return Y.__getProperty_showOutOfDateWall(this.handle)}get backgroundPickerOpen(){return Y.__getProperty_backgroundPickerOpen(this.handle)}get gradientPaintPickerOpen(){return Y.__getProperty_gradientPaintPickerOpen(this.handle)}get minMaxModalShown(){return Y.__getProperty_minMaxModalShown(this.handle)}get isRecovery(){return Y.__getProperty_isRecovery(this.handle)}get hoveredComponentPropDef(){return Y.__getProperty_hoveredComponentPropDef(this.handle)}get isOffline(){return Y.__getProperty_isOffline(this.handle)}get isUI3(){return Y.__getProperty_isUI3(this.handle)}get showAnnotations(){return Y.__getProperty_showAnnotations(this.handle)}get focusModeState(){return Y.__getProperty_focusModeState(this.handle)}get shouldShowAutoLayoutHintsIfExist(){return Y.__getProperty_shouldShowAutoLayoutHintsIfExist(this.handle)}get autoLayoutShortcutHints(){return Y.__getProperty_autoLayoutShortcutHints(this.handle)}}class aM extends aD{constructor(e){super(e),this.handle=e}}class ak{constructor(e){this.handle=e}get nodeIds(){return ee.__getProperty_nodeIds(this.handle)}}class ax extends ak{constructor(e){super(e),this.handle=e}}class aF{constructor(e){this.handle=e}get isInSingleSlideView(){return et.__getProperty_isInSingleSlideView(this.handle)}get focusedSlideId(){return et.__getProperty_focusedSlideId(this.handle)}get isCarouselFocused(){return et.__getProperty_isCarouselFocused(this.handle)}get speakerNotesInputHeightInViewport(){return et.__getProperty_speakerNotesInputHeightInViewport(this.handle)}get dragHandleInHeightViewport(){return et.__getProperty_dragHandleInHeightViewport(this.handle)}isSingleSlideViewEnabled(){return et.isSingleSlideViewEnabled(this.handle)}isSingleSlideViewFocused(){return et.isSingleSlideViewFocused(this.handle)}defaultPaddingInViewport(){return et.defaultPaddingInViewport(this.handle)}bottomToolbeltHeightInViewport(){return et.bottomToolbeltHeightInViewport(this.handle)}singleSlideThumbnailHeight(){return et.singleSlideThumbnailHeight(this.handle)}singleSlideThumbnailWidth(){return et.singleSlideThumbnailWidth(this.handle)}singleSlideThumbnailNumberWidth(){return et.singleSlideThumbnailNumberWidth(this.handle)}singleSlideThumbnailNumberMargin(){return et.singleSlideThumbnailNumberMargin(this.handle)}singleSlideThumbnailPadding(){return et.singleSlideThumbnailPadding(this.handle)}}class aU extends aF{constructor(e){super(e),this.handle=e}enterSingleSlideView(e,r){et.enterSingleSlideView(this.handle,e,r)}exitSingleSlideView(){et.exitSingleSlideView(this.handle)}recenterSlide(){et.recenterSlide(this.handle)}isSlideCurrentlyCentered(){return et.isSlideCurrentlyCentered(this.handle)}animateToSlide(e,r,n){et.animateToSlide(this.handle,e,r,n)}animateToGrid(e){et.animateToGrid(this.handle,e)}}class aB{constructor(e){this.handle=e}}class aV extends aB{constructor(e){super(e),this.handle=e}generateTextPreview(e,r,n,i,a){return er.generateTextPreview(this.handle,e,r,n,i,a)}}class aH{constructor(e){this.handle=e}}class aG extends aH{constructor(e){super(e),this.handle=e}}class aW{constructor(e){this.handle=e}getOrCreateJsCopy(){return em.getOrCreateJsCopy(this.handle)}getOrCreateSkewCopy(){return em.getOrCreateSkewCopy(this.handle)}}class az extends aW{constructor(e){super(e),this.handle=e}}class aK{constructor(e){this.handle=e}getOrCreateSkewCopy(){return e_.getOrCreateSkewCopy(this.handle)}getOrCreateJsCopy(){return e_.getOrCreateJsCopy(this.handle)}}class aj extends aK{constructor(e){super(e),this.handle=e}}class aY{constructor(e){this.handle=e}getOrCreateSkewCopy(){return ey.getOrCreateSkewCopy(this.handle)}}class a$ extends aY{constructor(e){super(e),this.handle=e}}class aq{constructor(e){this.handle=e}bounds(){return eE.bounds(this.handle)}getHash(){return eE.getHash(this.handle)}isRect(){return eE.isRect(this.handle)}loopBlinnCompile(){return eE.loopBlinnCompile(this.handle)}}class aZ extends aq{constructor(e){super(e),this.handle=e}}class aX{constructor(e){this.handle=e}getOrCreateSkewCopy(){return eb.getOrCreateSkewCopy(this.handle)}getOrCreateJsCopy(){return eb.getOrCreateJsCopy(this.handle)}}class aJ extends aX{constructor(e){super(e),this.handle=e}}class aQ{constructor(e){this.handle=e}}class a0 extends aQ{constructor(e){super(e),this.handle=e}}class a1{constructor(e){this.handle=e}get slideGrid(){return ev.__getProperty_slideGrid(this.handle)}get isDraggingSlides(){return ev.__getProperty_isDraggingSlides(this.handle)}slideWidth(){return ev.slideWidth(this.handle)}slideHeight(){return ev.slideHeight(this.handle)}gridRowSpacing(){return ev.gridRowSpacing(this.handle)}gridSlideSpacing(){return ev.gridSlideSpacing(this.handle)}gridPadding(){return ev.gridPadding(this.handle)}gridWidth(){return ev.gridWidth(this.handle)}gridHeight(){return ev.gridHeight(this.handle)}maxColsPerRow(){return ev.maxColsPerRow(this.handle)}getLastSlideCoord(){return ev.getLastSlideCoord(this.handle)}slidesWrappedInModule__TEST_ONLY__(){return ev.slidesWrappedInModule__TEST_ONLY__(this.handle)}}class a2 extends a1{constructor(e){super(e),this.handle=e}coordForSlide(e){return ev.coordForSlide(this.handle,e)}gridGUID(){return ev.gridGUID(this.handle)}setAreSlidesManuallyIndented(e){ev.setAreSlidesManuallyIndented(this.handle,e)}getClosestGridCoord(e){return ev.getClosestGridCoord(this.handle,e)}getTopRightSelectedSlideId(){return ev.getTopRightSelectedSlideId(this.handle)}duplicateAsBlankSlide(e,r,n,i){return ev.duplicateAsBlankSlide(this.handle,e,r,n,i)}addBlankSlideAtCoord(e,r,n){return ev.addBlankSlideAtCoord(this.handle,e,r,n)}insertSlideAtCoord(e,r,n,i){ev.insertSlideAtCoord(this.handle,e,r,n,i)}moveRow(e,r){ev.moveRow(this.handle,e,r)}moveSlidesToCoord(e,r){ev.moveSlidesToCoord(this.handle,e,r)}selectRow(e){ev.selectRow(this.handle,e)}addOrRemoveRowFromSelection(e){ev.addOrRemoveRowFromSelection(this.handle,e)}setGridOrder(e){ev.setGridOrder(this.handle,e)}rectForCoord(e,r){return ev.rectForCoord(this.handle,e,r)}rowBoundsInCanvas(e,r){return ev.rowBoundsInCanvas(this.handle,e,r)}createRow(e){return ev.createRow(this.handle,e)}setSlidesWrappedInModule__TEST_ONLY__(e){ev.setSlidesWrappedInModule__TEST_ONLY__(this.handle,e)}}class a3{constructor(e){this.handle=e}getThemeName(e){return eS.getThemeName(this.handle,e)}getBlackColorVariableId(e){return eS.getBlackColorVariableId(this.handle,e)}getWhiteColorVariableId(e){return eS.getWhiteColorVariableId(this.handle,e)}}class a5 extends a3{constructor(e){super(e),this.handle=e}addTextStyleToLocalTheme(e,r){eS.addTextStyleToLocalTheme(this.handle,e,r)}setThemeColorVariableFromSubscribedVariableColorValue(e,r,n){return eS.setThemeColorVariableFromSubscribedVariableColorValue(this.handle,e,r,n)}setActiveTheme(e){eS.setActiveTheme(this.handle,e)}insertDefaultLocalTheme(e){eS.insertDefaultLocalTheme(this.handle,e)}upsertLocalThemeFromModule(e){return eS.upsertLocalThemeFromModule(this.handle,e)}remapSlideToLocalTheme(e){return eS.remapSlideToLocalTheme(this.handle,e)}swapSelectedSlidesToNewTheme(e){eS.swapSelectedSlidesToNewTheme(this.handle,e)}setDocumentTemplateLibraryKey(e){eS.setDocumentTemplateLibraryKey(this.handle,e)}}class a4{constructor(e){this.handle=e}getSlideTransition(e){return eI.getSlideTransition(this.handle,e)}}class a6 extends a4{constructor(e){super(e),this.handle=e}setSlideTransition(e,r){eI.setSlideTransition(this.handle,e,r)}setSlideTransitionForAll(e){eI.setSlideTransitionForAll(this.handle,e)}}class a8{constructor(e){this.handle=e}}class a7 extends a8{constructor(e){super(e),this.handle=e}setPreviewedNodeID(e){eT.setPreviewedNodeID(this.handle,e)}}class a9{constructor(e){this.handle=e}get annotationInfoByTlf(){return ew.__getProperty_annotationInfoByTlf(this.handle)}}class oe extends a9{constructor(e){super(e),this.handle=e}}class ot{constructor(e){this.handle=e}}class or extends ot{constructor(e){super(e),this.handle=e}getCopy(){return eR.getCopy(this.handle)}subscribeFromJs(e){return eR.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eR.unsubscribeFromJs(this.handle,e)}}class on{constructor(e){this.handle=e}}class oi extends on{constructor(e){super(e),this.handle=e}getCopy(){return eP.getCopy(this.handle)}set(e){eP.set(this.handle,e)}subscribeFromJs(e){return eP.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eP.unsubscribeFromJs(this.handle,e)}}class oa{constructor(e){this.handle=e}}class oo extends oa{constructor(e){super(e),this.handle=e}getCopy(){return eL.getCopy(this.handle)}subscribeFromJs(e){return eL.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eL.unsubscribeFromJs(this.handle,e)}}class os{constructor(e){this.handle=e}}class ol extends os{constructor(e){super(e),this.handle=e}getCopy(){return eD.getCopy(this.handle)}subscribeFromJs(e){return eD.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eD.unsubscribeFromJs(this.handle,e)}}class od{constructor(e){this.handle=e}}class oc extends od{constructor(e){super(e),this.handle=e}getCopy(){return eM.getCopy(this.handle)}subscribeFromJs(e){return eM.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eM.unsubscribeFromJs(this.handle,e)}}class ou{constructor(e){this.handle=e}}class op extends ou{constructor(e){super(e),this.handle=e}getCopy(){return ek.getCopy(this.handle)}subscribeFromJs(e){return ek.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ek.unsubscribeFromJs(this.handle,e)}}class oh{constructor(e){this.handle=e}}class om extends oh{constructor(e){super(e),this.handle=e}getCopy(){return ex.getCopy(this.handle)}subscribeFromJs(e){return ex.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ex.unsubscribeFromJs(this.handle,e)}}class og{constructor(e){this.handle=e}}class of extends og{constructor(e){super(e),this.handle=e}getCopy(){return eF.getCopy(this.handle)}set(e){eF.set(this.handle,e)}subscribeFromJs(e){return eF.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eF.unsubscribeFromJs(this.handle,e)}}class o_{constructor(e){this.handle=e}}class oy extends o_{constructor(e){super(e),this.handle=e}getCopy(){return eU.getCopy(this.handle)}set(e){eU.set(this.handle,e)}subscribeFromJs(e){return eU.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eU.unsubscribeFromJs(this.handle,e)}}class oE{constructor(e){this.handle=e}}class ob extends oE{constructor(e){super(e),this.handle=e}getCopy(){return eB.getCopy(this.handle)}set(e){eB.set(this.handle,e)}subscribeFromJs(e){return eB.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eB.unsubscribeFromJs(this.handle,e)}}class ov{constructor(e){this.handle=e}}class oS extends ov{constructor(e){super(e),this.handle=e}getCopy(){return eV.getCopy(this.handle)}subscribeFromJs(e){return eV.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eV.unsubscribeFromJs(this.handle,e)}}class oI{constructor(e){this.handle=e}}class oT extends oI{constructor(e){super(e),this.handle=e}getCopy(){return eH.getCopy(this.handle)}set(e){eH.set(this.handle,e)}subscribeFromJs(e){return eH.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eH.unsubscribeFromJs(this.handle,e)}}class ow{constructor(e){this.handle=e}}class oC extends ow{constructor(e){super(e),this.handle=e}getCopy(){return eG.getCopy(this.handle)}subscribeFromJs(e){return eG.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eG.unsubscribeFromJs(this.handle,e)}}class oA{constructor(e){this.handle=e}}class oN extends oA{constructor(e){super(e),this.handle=e}getCopy(){return eW.getCopy(this.handle)}set(e){eW.set(this.handle,e)}subscribeFromJs(e){return eW.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eW.unsubscribeFromJs(this.handle,e)}}class oO{constructor(e){this.handle=e}}class oR extends oO{constructor(e){super(e),this.handle=e}getCopy(){return ez.getCopy(this.handle)}set(e){ez.set(this.handle,e)}subscribeFromJs(e){return ez.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ez.unsubscribeFromJs(this.handle,e)}}class oP{constructor(e){this.handle=e}}class oL extends oP{constructor(e){super(e),this.handle=e}getCopy(){return eK.getCopy(this.handle)}set(e){eK.set(this.handle,e)}subscribeFromJs(e){return eK.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eK.unsubscribeFromJs(this.handle,e)}}class oD{constructor(e){this.handle=e}}class oM extends oD{constructor(e){super(e),this.handle=e}getCopy(){return ej.getCopy(this.handle)}set(e){ej.set(this.handle,e)}subscribeFromJs(e){return ej.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ej.unsubscribeFromJs(this.handle,e)}}class ok{constructor(e){this.handle=e}}class ox extends ok{constructor(e){super(e),this.handle=e}getCopy(){return eY.getCopy(this.handle)}subscribeFromJs(e){return eY.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eY.unsubscribeFromJs(this.handle,e)}}class oF{constructor(e){this.handle=e}}class oU extends oF{constructor(e){super(e),this.handle=e}getCopy(){return e$.getCopy(this.handle)}subscribeFromJs(e){return e$.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e$.unsubscribeFromJs(this.handle,e)}}class oB{constructor(e){this.handle=e}}class oV extends oB{constructor(e){super(e),this.handle=e}getCopy(){return eq.getCopy(this.handle)}subscribeFromJs(e){return eq.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eq.unsubscribeFromJs(this.handle,e)}}class oH{constructor(e){this.handle=e}}class oG extends oH{constructor(e){super(e),this.handle=e}getCopy(){return eZ.getCopy(this.handle)}subscribeFromJs(e){return eZ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eZ.unsubscribeFromJs(this.handle,e)}}class oW{constructor(e){this.handle=e}}class oz extends oW{constructor(e){super(e),this.handle=e}getCopy(){return eX.getCopy(this.handle)}subscribeFromJs(e){return eX.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eX.unsubscribeFromJs(this.handle,e)}}class oK{constructor(e){this.handle=e}}class oj extends oK{constructor(e){super(e),this.handle=e}getCopy(){return eJ.getCopy(this.handle)}subscribeFromJs(e){return eJ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eJ.unsubscribeFromJs(this.handle,e)}}class oY{constructor(e){this.handle=e}}class o$ extends oY{constructor(e){super(e),this.handle=e}getCopy(){return eQ.getCopy(this.handle)}set(e){eQ.set(this.handle,e)}subscribeFromJs(e){return eQ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){eQ.unsubscribeFromJs(this.handle,e)}}class oq{constructor(e){this.handle=e}}class oZ extends oq{constructor(e){super(e),this.handle=e}getCopy(){return e0.getCopy(this.handle)}set(e){e0.set(this.handle,e)}subscribeFromJs(e){return e0.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e0.unsubscribeFromJs(this.handle,e)}}class oX{constructor(e){this.handle=e}}class oJ extends oX{constructor(e){super(e),this.handle=e}getCopy(){return e1.getCopy(this.handle)}subscribeFromJs(e){return e1.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e1.unsubscribeFromJs(this.handle,e)}}class oQ{constructor(e){this.handle=e}}class o0 extends oQ{constructor(e){super(e),this.handle=e}getCopy(){return e2.getCopy(this.handle)}subscribeFromJs(e){return e2.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e2.unsubscribeFromJs(this.handle,e)}}class o1{constructor(e){this.handle=e}}class o2 extends o1{constructor(e){super(e),this.handle=e}getCopy(){return e3.getCopy(this.handle)}set(e){e3.set(this.handle,e)}subscribeFromJs(e){return e3.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e3.unsubscribeFromJs(this.handle,e)}}class o3{constructor(e){this.handle=e}}class o5 extends o3{constructor(e){super(e),this.handle=e}getCopy(){return e5.getCopy(this.handle)}set(e){e5.set(this.handle,e)}subscribeFromJs(e){return e5.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e5.unsubscribeFromJs(this.handle,e)}}class o4{constructor(e){this.handle=e}}class o6 extends o4{constructor(e){super(e),this.handle=e}getCopy(){return e4.getCopy(this.handle)}set(e){e4.set(this.handle,e)}subscribeFromJs(e){return e4.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e4.unsubscribeFromJs(this.handle,e)}}class o8{constructor(e){this.handle=e}}class o7 extends o8{constructor(e){super(e),this.handle=e}getCopy(){return e6.getCopy(this.handle)}set(e){e6.set(this.handle,e)}subscribeFromJs(e){return e6.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e6.unsubscribeFromJs(this.handle,e)}}class o9{constructor(e){this.handle=e}}class se extends o9{constructor(e){super(e),this.handle=e}getCopy(){return e8.getCopy(this.handle)}set(e){e8.set(this.handle,e)}subscribeFromJs(e){return e8.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e8.unsubscribeFromJs(this.handle,e)}}class st{constructor(e){this.handle=e}}class sr extends st{constructor(e){super(e),this.handle=e}getCopy(){return e7.getCopy(this.handle)}set(e){e7.set(this.handle,e)}subscribeFromJs(e){return e7.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e7.unsubscribeFromJs(this.handle,e)}}class sn{constructor(e){this.handle=e}}class si extends sn{constructor(e){super(e),this.handle=e}getCopy(){return e9.getCopy(this.handle)}set(e){e9.set(this.handle,e)}subscribeFromJs(e){return e9.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){e9.unsubscribeFromJs(this.handle,e)}}class sa{constructor(e){this.handle=e}}class so extends sa{constructor(e){super(e),this.handle=e}getCopy(){return te.getCopy(this.handle)}subscribeFromJs(e){return te.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){te.unsubscribeFromJs(this.handle,e)}}class ss{constructor(e){this.handle=e}}class sl extends ss{constructor(e){super(e),this.handle=e}getCopy(){return tt.getCopy(this.handle)}subscribeFromJs(e){return tt.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tt.unsubscribeFromJs(this.handle,e)}}class sd{constructor(e){this.handle=e}}class sc extends sd{constructor(e){super(e),this.handle=e}getCopy(){return tr.getCopy(this.handle)}subscribeFromJs(e){return tr.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tr.unsubscribeFromJs(this.handle,e)}}class su{constructor(e){this.handle=e}}class sp extends su{constructor(e){super(e),this.handle=e}getCopy(){return tn.getCopy(this.handle)}subscribeFromJs(e){return tn.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tn.unsubscribeFromJs(this.handle,e)}}class sh{constructor(e){this.handle=e}}class sm extends sh{constructor(e){super(e),this.handle=e}getCopy(){return ti.getCopy(this.handle)}subscribeFromJs(e){return ti.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ti.unsubscribeFromJs(this.handle,e)}}class sg{constructor(e){this.handle=e}}class sf extends sg{constructor(e){super(e),this.handle=e}getCopy(){return ta.getCopy(this.handle)}subscribeFromJs(e){return ta.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ta.unsubscribeFromJs(this.handle,e)}}class s_{constructor(e){this.handle=e}}class sy extends s_{constructor(e){super(e),this.handle=e}getCopy(){return to.getCopy(this.handle)}subscribeFromJs(e){return to.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){to.unsubscribeFromJs(this.handle,e)}}class sE{constructor(e){this.handle=e}}class sb extends sE{constructor(e){super(e),this.handle=e}getCopy(){return ts.getCopy(this.handle)}subscribeFromJs(e){return ts.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ts.unsubscribeFromJs(this.handle,e)}}class sv{constructor(e){this.handle=e}}class sS extends sv{constructor(e){super(e),this.handle=e}getCopy(){return tl.getCopy(this.handle)}subscribeFromJs(e){return tl.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tl.unsubscribeFromJs(this.handle,e)}}class sI{constructor(e){this.handle=e}}class sT extends sI{constructor(e){super(e),this.handle=e}getCopy(){return td.getCopy(this.handle)}subscribeFromJs(e){return td.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){td.unsubscribeFromJs(this.handle,e)}}class sw{constructor(e){this.handle=e}}class sC extends sw{constructor(e){super(e),this.handle=e}getCopy(){return tc.getCopy(this.handle)}subscribeFromJs(e){return tc.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tc.unsubscribeFromJs(this.handle,e)}}class sA{constructor(e){this.handle=e}}class sN extends sA{constructor(e){super(e),this.handle=e}getCopy(){return tu.getCopy(this.handle)}set(e){tu.set(this.handle,e)}subscribeFromJs(e){return tu.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tu.unsubscribeFromJs(this.handle,e)}}class sO{constructor(e){this.handle=e}}class sR extends sO{constructor(e){super(e),this.handle=e}getCopy(){return tp.getCopy(this.handle)}subscribeFromJs(e){return tp.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tp.unsubscribeFromJs(this.handle,e)}}class sP{constructor(e){this.handle=e}}class sL extends sP{constructor(e){super(e),this.handle=e}getCopy(){return th.getCopy(this.handle)}subscribeFromJs(e){return th.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){th.unsubscribeFromJs(this.handle,e)}}class sD{constructor(e){this.handle=e}}class sM extends sD{constructor(e){super(e),this.handle=e}getCopy(){return tm.getCopy(this.handle)}subscribeFromJs(e){return tm.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tm.unsubscribeFromJs(this.handle,e)}}class sk{constructor(e){this.handle=e}}class sx extends sk{constructor(e){super(e),this.handle=e}getCopy(){return tg.getCopy(this.handle)}set(e){tg.set(this.handle,e)}subscribeFromJs(e){return tg.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tg.unsubscribeFromJs(this.handle,e)}}class sF{constructor(e){this.handle=e}}class sU extends sF{constructor(e){super(e),this.handle=e}getCopy(){return tf.getCopy(this.handle)}subscribeFromJs(e){return tf.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tf.unsubscribeFromJs(this.handle,e)}}class sB{constructor(e){this.handle=e}}class sV extends sB{constructor(e){super(e),this.handle=e}getCopy(){return t_.getCopy(this.handle)}subscribeFromJs(e){return t_.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t_.unsubscribeFromJs(this.handle,e)}}class sH{constructor(e){this.handle=e}}class sG extends sH{constructor(e){super(e),this.handle=e}getCopy(){return ty.getCopy(this.handle)}set(e){ty.set(this.handle,e)}subscribeFromJs(e){return ty.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ty.unsubscribeFromJs(this.handle,e)}}class sW{constructor(e){this.handle=e}}class sz extends sW{constructor(e){super(e),this.handle=e}getCopy(){return tE.getCopy(this.handle)}subscribeFromJs(e){return tE.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tE.unsubscribeFromJs(this.handle,e)}}class sK{constructor(e){this.handle=e}}class sj extends sK{constructor(e){super(e),this.handle=e}getCopy(){return tb.getCopy(this.handle)}subscribeFromJs(e){return tb.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tb.unsubscribeFromJs(this.handle,e)}}class sY{constructor(e){this.handle=e}}class s$ extends sY{constructor(e){super(e),this.handle=e}getCopy(){return tv.getCopy(this.handle)}subscribeFromJs(e){return tv.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tv.unsubscribeFromJs(this.handle,e)}}class sq{constructor(e){this.handle=e}}class sZ extends sq{constructor(e){super(e),this.handle=e}getCopy(){return tS.getCopy(this.handle)}subscribeFromJs(e){return tS.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tS.unsubscribeFromJs(this.handle,e)}}var sX=((tI=sX||{})[tI.IN_CUBIC=0]="IN_CUBIC",tI[tI.OUT_CUBIC=1]="OUT_CUBIC",tI[tI.INOUT_CUBIC=2]="INOUT_CUBIC",tI),sJ=((tT=sJ||{})[tT.LINEAR=0]="LINEAR",tT[tT.BEZIER=1]="BEZIER",tT[tT.OSCILLATION=2]="OSCILLATION",tT[tT.SPRING=3]="SPRING",tT),sQ=((tw=sQ||{})[tw.SLIDES=0]="SLIDES",tw[tw.DESIGN=1]="DESIGN",tw),s0=((tC=s0||{})[tC.SYNCED=0]="SYNCED",tC[tC.OFFLINE=1]="OFFLINE",tC[tC.SESSION_START=2]="SESSION_START",tC[tC.FORCED=3]="FORCED",tC[tC.LIMBOED_CHANGES=4]="LIMBOED_CHANGES",tC),s1=((tA=s1||{})[tA.TEXT_MATCH=0]="TEXT_MATCH",tA[tA.LAYER_MATCH=1]="LAYER_MATCH",tA[tA.PAGE_MATCH=2]="PAGE_MATCH",tA),s2=((tN=s2||{})[tN.TEXT=0]="TEXT",tN[tN.FRAME_OR_GROUP=1]="FRAME_OR_GROUP",tN[tN.COMPONENT=2]="COMPONENT",tN[tN.INSTANCE=3]="INSTANCE",tN[tN.IMAGE=4]="IMAGE",tN[tN.SHAPE=5]="SHAPE",tN[tN.OTHER=6]="OTHER",tN),s3=((tO=s3||{})[tO.FIND=0]="FIND",tO[tO.REPLACE=1]="REPLACE",tO),s5=((tR=s5||{})[tR.ACTIVE_PAGE=0]="ACTIVE_PAGE",tR[tR.ALL_PAGES=1]="ALL_PAGES",tR),s4=((tP=s4||{})[tP.ONLY_ACTIVE=0]="ONLY_ACTIVE",tP[tP.ALL=1]="ALL",tP),s6=((tL=s6||{})[tL.NONE=0]="NONE",tL[tL.UPPER_FIRST=1]="UPPER_FIRST",tL[tL.UPPER_ALL=2]="UPPER_ALL",tL),s8=((tD=s8||{})[tD.NONE=0]="NONE",tD[tD.SELECT_ACTIVE=1]="SELECT_ACTIVE",tD),s7=((tM=s7||{})[tM.ABOVE=0]="ABOVE",tM[tM.BELOW=1]="BELOW",tM[tM.LEFT=2]="LEFT",tM[tM.RIGHT=3]="RIGHT",tM),s9=((tk=s9||{})[tk.HEX=0]="HEX",tk[tk.RGB=1]="RGB",tk[tk.CSS=2]="CSS",tk[tk.HSB=3]="HSB",tk[tk.HSL=4]="HSL",tk[tk.UIColor=5]="UIColor",tk),le=((tx=le||{})[tx.SUCCESS=0]="SUCCESS",tx[tx.MERGE_IN_PROGRESS=1]="MERGE_IN_PROGRESS",tx[tx.PARSE_ERROR=2]="PARSE_ERROR",tx[tx.VERSION_MISMATCH=3]="VERSION_MISMATCH",tx[tx.INTERNAL_ERROR=4]="INTERNAL_ERROR",tx),lt=((tF=lt||{})[tF.SUCCESS=0]="SUCCESS",tF[tF.PARSE_ERROR=1]="PARSE_ERROR",tF[tF.VERSION_MISMATCH=2]="VERSION_MISMATCH",tF[tF.INTERNAL_ERROR=3]="INTERNAL_ERROR",tF),lr=((tU=lr||{})[tU.SUCCESS=0]="SUCCESS",tU[tU.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",tU[tU.INTERNAL_ERROR=2]="INTERNAL_ERROR",tU[tU.MISSING_BACKING_SYMBOL=3]="MISSING_BACKING_SYMBOL",tU),ln=((tB=ln||{})[tB.SUCCESS=0]="SUCCESS",tB[tB.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",tB[tB.INVALID_INDEX=2]="INVALID_INDEX",tB[tB.INTERNAL_ERROR=3]="INTERNAL_ERROR",tB[tB.INVALID_STATE_TRANSITION=4]="INVALID_STATE_TRANSITION",tB),li=((tV=li||{})[tV.SUCCESS=0]="SUCCESS",tV[tV.FAILURE=1]="FAILURE",tV),la=((tH=la||{})[tH.SOURCE=0]="SOURCE",tH[tH.BRANCH=1]="BRANCH",tH[tH.COMPARE=2]="COMPARE",tH),lo=((tG=lo||{})[tG.UPDATED_LIBRARY=0]="UPDATED_LIBRARY",tG[tG.CREATED=1]="CREATED",tG[tG.REMOVED=2]="REMOVED",tG[tG.UPDATED=3]="UPDATED",tG[tG.UNMODIFIED=4]="UNMODIFIED",tG),ls=((tW=ls||{})[tW.SUCCESS=0]="SUCCESS",tW[tW.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",tW[tW.UNABLE_TO_UNDO_CHANGES=2]="UNABLE_TO_UNDO_CHANGES",tW[tW.INTERNAL_ERROR=3]="INTERNAL_ERROR",tW),ll=((tz=ll||{})[tz.BASIS_PARENT=0]="BASIS_PARENT",tz[tz.PARENT=1]="PARENT",tz),ld=((tK=ld||{})[tK.PREVIEW=0]="PREVIEW",tK[tK.STAGE=1]="STAGE",tK),lc=((tj=lc||{})[tj.FRAME_WITH_BACKGROUND_IMAGE=0]="FRAME_WITH_BACKGROUND_IMAGE",tj[tj.IMAGE=1]="IMAGE",tj[tj.STICKER=2]="STICKER",tj),lu=((tY=lu||{})[tY.APPLE=0]="APPLE",tY[tY.NOTO=1]="NOTO",tY),lp=((t$=lp||{})[t$.PNG=0]="PNG",t$[t$.SVG=1]="SVG",t$[t$.RASTERIZE=2]="RASTERIZE",t$),lh=((tq=lh||{})[tq.CURRENT_TAB=0]="CURRENT_TAB",tq[tq.NEW_TAB=1]="NEW_TAB",tq),lm=((tZ=lm||{})[tZ.SEARCH=0]="SEARCH",tZ[tZ.PREFERENCES=1]="PREFERENCES",tZ[tZ.HIDE_UI=2]="HIDE_UI",tZ),lg=((tX=lg||{})[tX.COPY_PASTE=0]="COPY_PASTE",tX[tX.COMPONENT_IMPORT=1]="COMPONENT_IMPORT",tX[tX.STATE_GROUP_IMPORT=2]="STATE_GROUP_IMPORT",tX[tX.STYLE_IMPORT=3]="STYLE_IMPORT",tX[tX.BRANCH_MERGE=4]="BRANCH_MERGE",tX[tX.TEMPLATE_INSERTION=5]="TEMPLATE_INSERTION",tX[tX.VARIABLE_IMPORT=6]="VARIABLE_IMPORT",tX[tX.VARIABLE_SET_IMPORT=7]="VARIABLE_SET_IMPORT",tX[tX.PLAYGROUND_INSERT=8]="PLAYGROUND_INSERT",tX[tX.MODULE_IMPORT=9]="MODULE_IMPORT",tX),lf=((tJ=lf||{})[tJ.SOLID=0]="SOLID",tJ[tJ.DASHED=1]="DASHED",tJ[tJ.NONE=2]="NONE",tJ),l_=((tQ=l_||{})[tQ.NO=0]="NO",tQ[tQ.YES=1]="YES",tQ),ly=((t0=ly||{})[t0.ACTIVE_SCENE=0]="ACTIVE_SCENE",t0[t0.PLAYGROUND_SCENE=1]="PLAYGROUND_SCENE",t0),lE=((t1=lE||{})[t1.NONE=0]="NONE",t1[t1.BLACK=1]="BLACK",t1[t1.GRAY_DARK=2]="GRAY_DARK",t1[t1.GRAY=3]="GRAY",t1[t1.GRAY_LIGHT=4]="GRAY_LIGHT",t1[t1.RED=5]="RED",t1[t1.RED_LIGHT=6]="RED_LIGHT",t1[t1.ORANGE=7]="ORANGE",t1[t1.ORANGE_LIGHT=8]="ORANGE_LIGHT",t1[t1.YELLOW=9]="YELLOW",t1[t1.YELLOW_LIGHT=10]="YELLOW_LIGHT",t1[t1.GREEN=11]="GREEN",t1[t1.GREEN_LIGHT=12]="GREEN_LIGHT",t1[t1.BLUE=13]="BLUE",t1[t1.BLUE_LIGHT=14]="BLUE_LIGHT",t1[t1.VIOLET=15]="VIOLET",t1[t1.VIOLET_LIGHT=16]="VIOLET_LIGHT",t1[t1.WHITE=17]="WHITE",t1[t1.PINK=18]="PINK",t1[t1.PINK_LIGHT=19]="PINK_LIGHT",t1[t1.INDIGO=20]="INDIGO",t1[t1.INDIGO_LIGHT=21]="INDIGO_LIGHT",t1[t1.COBALT=22]="COBALT",t1[t1.COBALT_LIGHT=23]="COBALT_LIGHT",t1[t1.TEAL=24]="TEAL",t1[t1.TEAL_LIGHT=25]="TEAL_LIGHT",t1[t1.OLIVE=26]="OLIVE",t1[t1.OLIVE_LIGHT=27]="OLIVE_LIGHT",t1[t1.STICKY_GRAY=28]="STICKY_GRAY",t1[t1.STICKY_RED=29]="STICKY_RED",t1[t1.STICKY_ORANGE=30]="STICKY_ORANGE",t1[t1.STICKY_YELLOW=31]="STICKY_YELLOW",t1[t1.STICKY_GREEN=32]="STICKY_GREEN",t1[t1.STICKY_BLUE=33]="STICKY_BLUE",t1[t1.STICKY_VIOLET=34]="STICKY_VIOLET",t1[t1.STICKY_PINK=35]="STICKY_PINK",t1[t1.STICKY_GRAY_LIGHT=36]="STICKY_GRAY_LIGHT",t1[t1.STICKY_INDIGO=37]="STICKY_INDIGO",t1[t1.STICKY_COBALT=38]="STICKY_COBALT",t1[t1.STICKY_TEAL=39]="STICKY_TEAL",t1[t1.STICKY_OLIVE=40]="STICKY_OLIVE",t1[t1.HIGHLIGHT_GRAY=41]="HIGHLIGHT_GRAY",t1[t1.HIGHLIGHT_RED=42]="HIGHLIGHT_RED",t1[t1.HIGHLIGHT_YELLOW=43]="HIGHLIGHT_YELLOW",t1[t1.HIGHLIGHT_GREEN=44]="HIGHLIGHT_GREEN",t1[t1.HIGHLIGHT_BLUE=45]="HIGHLIGHT_BLUE",t1[t1.HIGHLIGHT_VIOLET=46]="HIGHLIGHT_VIOLET",t1[t1.HIGHLIGHT_ORANGE=47]="HIGHLIGHT_ORANGE",t1[t1.HIGHLIGHT_WHITE=48]="HIGHLIGHT_WHITE",t1[t1.CUSTOM=49]="CUSTOM",t1),lb=((t2=lb||{})[t2.LAYERS=0]="LAYERS",t2[t2.ASSETS=1]="ASSETS",t2[t2.KITS_SITES=2]="KITS_SITES",t2),lv=((t3=lv||{})[t3.NEXT=0]="NEXT",t3[t3.PREVIOUS=1]="PREVIOUS",t3[t3.COMMIT=2]="COMMIT",t3[t3.CANCEL=3]="CANCEL",t3[t3.CLEAR=4]="CLEAR",t3),lS=((t5=lS||{})[t5.VISIBLE=0]="VISIBLE",t5[t5.TRANSPARENT=1]="TRANSPARENT",t5[t5.TRANSPARENT_CUSTOM=2]="TRANSPARENT_CUSTOM",t5[t5.HIDDEN=3]="HIDDEN",t5),lI=((t4=lI||{})[t4.COPY_TO_CLIPBOARD=0]="COPY_TO_CLIPBOARD",t4[t4.COMPOSE_EMAIL=1]="COMPOSE_EMAIL",t4),lT=((t6=lT||{})[t6.RULER=0]="RULER",t6[t6.GUIDE=1]="GUIDE",t6[t6.BOTH=2]="BOTH",t6),lw=((t8=lw||{})[t8.GENERIC=0]="GENERIC",t8[t8.SNAP=1]="SNAP",t8[t8.LEVEL=2]="LEVEL",t8),lC=((t7=lC||{})[t7.YES=0]="YES",t7[t7.NO=1]="NO",t7),lA=((t9=lA||{})[t9.FIGMA=0]="FIGMA",t9[t9.SITE=1]="SITE",t9),lN=((re=lN||{})[re.EMPTY=0]="EMPTY",re[re.RESIZING_WIDTH_AND_HEIGHT=1]="RESIZING_WIDTH_AND_HEIGHT",re[re.RESIZING_HEIGHT=2]="RESIZING_HEIGHT",re[re.RESIZING_NONE=3]="RESIZING_NONE",re[re.TRUNCATION_DISABLED=4]="TRUNCATION_DISABLED",re[re.TRUNCATION_ENABLED=5]="TRUNCATION_ENABLED",re[re.ALIGNMENT_LEFT=6]="ALIGNMENT_LEFT",re[re.ALIGNMENT_CENTER=7]="ALIGNMENT_CENTER",re[re.ALIGNMENT_RIGHT=8]="ALIGNMENT_RIGHT",re[re.ALIGNMENT_JUSTIFIED=9]="ALIGNMENT_JUSTIFIED",re[re.DECORATION_NONE=10]="DECORATION_NONE",re[re.DECORATION_UNDERLINE=11]="DECORATION_UNDERLINE",re[re.DECORATION_STRIKETHROUGH=12]="DECORATION_STRIKETHROUGH",re[re.LIST_STYLE_PLAIN=13]="LIST_STYLE_PLAIN",re[re.LIST_STYLE_UNORDERED=14]="LIST_STYLE_UNORDERED",re[re.LIST_STYLE_ORDERED=15]="LIST_STYLE_ORDERED",re[re.TEXT_CASE_ORIGINAL=16]="TEXT_CASE_ORIGINAL",re[re.TEXT_CASE_UPPER=17]="TEXT_CASE_UPPER",re[re.TEXT_CASE_LOWER=18]="TEXT_CASE_LOWER",re[re.TEXT_CASE_TITLE=19]="TEXT_CASE_TITLE",re[re.TEXT_CASE_SMALL_CAPS=20]="TEXT_CASE_SMALL_CAPS",re[re.TEXT_CASE_SMALL_CAPS_FORCED=21]="TEXT_CASE_SMALL_CAPS_FORCED",re[re.FRACTIONS_ON=22]="FRACTIONS_ON",re[re.FRACTIONS_OFF=23]="FRACTIONS_OFF",re[re.DISCRETIONARY_LIGATURES_ON=24]="DISCRETIONARY_LIGATURES_ON",re[re.DISCRETIONARY_LIGATURES_OFF=25]="DISCRETIONARY_LIGATURES_OFF",re[re.HISTORICAL_LIGATURES_ON=26]="HISTORICAL_LIGATURES_ON",re[re.HISTORICAL_LIGATURES_OFF=27]="HISTORICAL_LIGATURES_OFF",re[re.NUMERIC_STYLE_ORIGINAL=28]="NUMERIC_STYLE_ORIGINAL",re[re.NUMERIC_STYLE_UPPER_PROPORTIONAL=29]="NUMERIC_STYLE_UPPER_PROPORTIONAL",re[re.NUMERIC_STYLE_UPPER_MONOSPACE=30]="NUMERIC_STYLE_UPPER_MONOSPACE",re[re.NUMERIC_STYLE_LOWER_PROPORTIONAL=31]="NUMERIC_STYLE_LOWER_PROPORTIONAL",re[re.NUMERIC_STYLE_LOWER_MONOSPACE=32]="NUMERIC_STYLE_LOWER_MONOSPACE",re[re.NUMERIC_POSITION_SUB=33]="NUMERIC_POSITION_SUB",re[re.NUMERIC_POSITION_SUPER=34]="NUMERIC_POSITION_SUPER",re[re.NUMERIC_POSITION_NORMAL=35]="NUMERIC_POSITION_NORMAL",re[re.OPENTYPE_FEATURE_ON=36]="OPENTYPE_FEATURE_ON",re[re.OPENTYPE_FEATURE_OFF=37]="OPENTYPE_FEATURE_OFF",re[re.FONT_VARIATIONS=38]="FONT_VARIATIONS",re[re.LEADING_TRIM_CAP_HEIGHT=39]="LEADING_TRIM_CAP_HEIGHT",re[re.LEADING_TRIM_NONE=40]="LEADING_TRIM_NONE",re[re.HANGING_PUNCTUATION_ON=41]="HANGING_PUNCTUATION_ON",re[re.HANGING_PUNCTUATION_OFF=42]="HANGING_PUNCTUATION_OFF",re[re.HANGING_LISTS_ON=43]="HANGING_LISTS_ON",re[re.HANGING_LISTS_OFF=44]="HANGING_LISTS_OFF",re),lO=((rt=lO||{})[rt.CURRENT_PAGE=0]="CURRENT_PAGE",rt[rt.ALL_PAGES=1]="ALL_PAGES",rt),lR=((rr=lR||{})[rr.AUTOMATIC=0]="AUTOMATIC",rr[rr.WHEN_REQUESTED=1]="WHEN_REQUESTED",rr),lP=((rn=lP||{})[rn.NONE=0]="NONE",rn[rn.HORIZONTAL=1]="HORIZONTAL",rn[rn.VERTICAL=2]="VERTICAL",rn),lL=((ri=lL||{})[ri.MIN=0]="MIN",ri[ri.CENTER=1]="CENTER",ri[ri.MAX=2]="MAX",ri[ri.SPACE_EVENLY=3]="SPACE_EVENLY",ri[ri.SPACE_BETWEEN=4]="SPACE_BETWEEN",ri),lD=((ra=lD||{})[ra.MIN=0]="MIN",ra[ra.CENTER=1]="CENTER",ra[ra.MAX=2]="MAX",ra[ra.BASELINE=3]="BASELINE",ra),lM=((ro=lM||{})[ro.MIN=0]="MIN",ro[ro.CENTER=1]="CENTER",ro[ro.MAX=2]="MAX",ro[ro.STRETCH=3]="STRETCH",ro[ro.AUTO=4]="AUTO",ro[ro.BASELINE=5]="BASELINE",ro),lk=((rs=lk||{})[rs.AUTO=0]="AUTO",rs[rs.ABSOLUTE=1]="ABSOLUTE",rs),lx=((rl=lx||{})[rl.FIXED=0]="FIXED",rl[rl.RESIZE_TO_FIT=1]="RESIZE_TO_FIT",rl[rl.RESIZE_TO_FIT_WITH_IMPLICIT_SIZE=2]="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",rl),lF=((rd=lF||{})[rd.PACKED=0]="PACKED",rd[rd.SPACE_BETWEEN=1]="SPACE_BETWEEN",rd),lU=((rc=lU||{})[rc.PADDING_TOP=0]="PADDING_TOP",rc[rc.PADDING_RIGHT=1]="PADDING_RIGHT",rc[rc.PADDING_BOTTOM=2]="PADDING_BOTTOM",rc[rc.PADDING_LEFT=3]="PADDING_LEFT",rc[rc.PADDING_HORIZONTAL=4]="PADDING_HORIZONTAL",rc[rc.PADDING_VERTICAL=5]="PADDING_VERTICAL",rc[rc.PADDING_ALL=6]="PADDING_ALL",rc[rc.SPACING=7]="SPACING",rc[rc.COUNTER_SPACING=8]="COUNTER_SPACING",rc),lB=((ru=lB||{})[ru.TOP=0]="TOP",ru[ru.RIGHT=1]="RIGHT",ru[ru.BOTTOM=2]="BOTTOM",ru[ru.LEFT=3]="LEFT",ru),lV=((rp=lV||{})[rp.DESIGN_LAYOUT=0]="DESIGN_LAYOUT",rp[rp.WHITEBOARD_LAYOUT=1]="WHITEBOARD_LAYOUT",rp[rp.VECTOR=2]="VECTOR",rp[rp.TEXT=3]="TEXT",rp[rp.RASTER=4]="RASTER",rp[rp.GRADIENT=5]="GRADIENT",rp[rp.PLACE_IMAGE=6]="PLACE_IMAGE",rp[rp.HISTORY=7]="HISTORY",rp[rp.PREVIEW=8]="PREVIEW",rp[rp.COMMENTS=9]="COMMENTS",rp[rp.BRANCHING=10]="BRANCHING",rp[rp.DEV_HANDOFF=11]="DEV_HANDOFF",rp[rp.COMPARE_CHANGES=12]="COMPARE_CHANGES",rp[rp.LIBRARY=13]="LIBRARY",rp[rp.DEV_HANDOFF_HISTORY=14]="DEV_HANDOFF_HISTORY",rp[rp.SLIDE_LAYOUT=15]="SLIDE_LAYOUT",rp[rp.MAGIC_LINK=16]="MAGIC_LINK",rp),lH=((rh=lH||{})[rh.LAYOUT=0]="LAYOUT",rh[rh.HISTORY=1]="HISTORY",rh[rh.PREVIEW=2]="PREVIEW",rh[rh.BRANCHING=3]="BRANCHING",rh[rh.DEV_HANDOFF=4]="DEV_HANDOFF",rh[rh.LIBRARY=5]="LIBRARY",rh),lG=((rm=lG||{})[rm.DEFAULT=0]="DEFAULT",rm[rm.DRAGGING=1]="DRAGGING",rm[rm.RESIZING=2]="RESIZING",rm[rm.ROTATING=3]="ROTATING",rm[rm.SELECTING_TEXT=4]="SELECTING_TEXT",rm[rm.CLICKING_TO_CHANGE_SELECTION=5]="CLICKING_TO_CHANGE_SELECTION",rm),lW=((rg=lW||{})[rg.OFF=0]="OFF",rg[rg.ON=1]="ON",rg[rg.MIXED=2]="MIXED",rg),lz=((rf=lz||{})[rf.NONE=0]="NONE",rf[rf.COLOR=1]="COLOR",rf),lK=((r_=lK||{})[r_.NONE=0]="NONE",r_[r_.FILL=1]="FILL",r_[r_.STROKE=2]="STROKE",r_[r_.STROKE_PRESET=3]="STROKE_PRESET",r_[r_.EFFECT=4]="EFFECT",r_[r_.EXPORT=5]="EXPORT",r_[r_.LAYOUT_GRID=6]="LAYOUT_GRID",r_[r_.PLUGIN=7]="PLUGIN",r_[r_.PROTOTYPE_INTERACTION=8]="PROTOTYPE_INTERACTION",r_[r_.PROTOTYPE_INHERITED_INTERNAL_INTERACTION=9]="PROTOTYPE_INHERITED_INTERNAL_INTERACTION",r_[r_.PROTOTOTYPE_STARTING_POINT=10]="PROTOTOTYPE_STARTING_POINT",r_[r_.BEHAVIOR=11]="BEHAVIOR",r_),lj=((ry=lj||{})[ry.NONE=0]="NONE",ry[ry.PHONE=1]="PHONE",ry[ry.TABLET=2]="TABLET",ry[ry.DESKTOP=3]="DESKTOP",ry[ry.WATCH=4]="WATCH",ry[ry.PAPER=5]="PAPER",ry[ry.SOCIALMEDIA=6]="SOCIALMEDIA",ry[ry.FIGMA=7]="FIGMA",ry[ry.PRESENTATION=8]="PRESENTATION",ry[ry.ARCHIVE=9]="ARCHIVE",ry),lY=((rE=lY||{})[rE.NONE=0]="NONE",rE[rE.SELECT=1]="SELECT",rE[rE.HAND=2]="HAND",rE[rE.COMMENTS=3]="COMMENTS",rE[rE.DROPPER_COLOR=4]="DROPPER_COLOR",rE[rE.FRAME=5]="FRAME",rE[rE.SLICE=6]="SLICE",rE[rE.STACK=7]="STACK",rE[rE.SHAPE_STAR=8]="SHAPE_STAR",rE[rE.SHAPE_LINE=9]="SHAPE_LINE",rE[rE.SHAPE_ARROW=10]="SHAPE_ARROW",rE[rE.SHAPE_ELLIPSE=11]="SHAPE_ELLIPSE",rE[rE.SHAPE_RECTANGLE=12]="SHAPE_RECTANGLE",rE[rE.SHAPE_REGULAR_POLYGON=13]="SHAPE_REGULAR_POLYGON",rE[rE.VECTOR_PEN=14]="VECTOR_PEN",rE[rE.VECTOR_PENCIL=15]="VECTOR_PENCIL",rE[rE.VECTOR_BEND=16]="VECTOR_BEND",rE[rE.VECTOR_PAINT_BUCKET=17]="VECTOR_PAINT_BUCKET",rE[rE.TYPE=18]="TYPE",rE[rE.SCALE=19]="SCALE",rE[rE.STICKY=20]="STICKY",rE[rE.STAMP=21]="STAMP",rE[rE.SHAPE_WHITEBOARD_SQUARE=22]="SHAPE_WHITEBOARD_SQUARE",rE[rE.SHAPE_WHITEBOARD_ELLIPSE=23]="SHAPE_WHITEBOARD_ELLIPSE",rE[rE.SHAPE_WHITEBOARD_DIAMOND=24]="SHAPE_WHITEBOARD_DIAMOND",rE[rE.SHAPE_WHITEBOARD_TRIANGLE_UP=25]="SHAPE_WHITEBOARD_TRIANGLE_UP",rE[rE.SHAPE_WHITEBOARD_TRIANGLE_DOWN=26]="SHAPE_WHITEBOARD_TRIANGLE_DOWN",rE[rE.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE=27]="SHAPE_WHITEBOARD_ROUNDED_RECTANGLE",rE[rE.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT=28]="SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT",rE[rE.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT=29]="SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT",rE[rE.CONNECTOR_ELBOWED=30]="CONNECTOR_ELBOWED",rE[rE.CONNECTOR_STRAIGHT=31]="CONNECTOR_STRAIGHT",rE[rE.CODE_BLOCK=32]="CODE_BLOCK",rE[rE.SHAPE_WHITEBOARD_ENG_DATABASE=33]="SHAPE_WHITEBOARD_ENG_DATABASE",rE[rE.SHAPE_WHITEBOARD_ENG_QUEUE=34]="SHAPE_WHITEBOARD_ENG_QUEUE",rE[rE.SHAPE_WHITEBOARD_ENG_FILE=35]="SHAPE_WHITEBOARD_ENG_FILE",rE[rE.SHAPE_WHITEBOARD_ENG_FOLDER=36]="SHAPE_WHITEBOARD_ENG_FOLDER",rE[rE.ERASER=37]="ERASER",rE[rE.HIGHLIGHTER=38]="HIGHLIGHTER",rE[rE.SECTION=39]="SECTION",rE[rE.WASHI_TAPE=40]="WASHI_TAPE",rE[rE.TABLE=41]="TABLE",rE[rE.SHAPE_WHITEBOARD_TRAPEZOID=42]="SHAPE_WHITEBOARD_TRAPEZOID",rE[rE.SHAPE_WHITEBOARD_STAR=43]="SHAPE_WHITEBOARD_STAR",rE[rE.SHAPE_WHITEBOARD_SHIELD=44]="SHAPE_WHITEBOARD_SHIELD",rE[rE.SHAPE_WHITEBOARD_HEXAGON=45]="SHAPE_WHITEBOARD_HEXAGON",rE[rE.SHAPE_WHITEBOARD_PENTAGON=46]="SHAPE_WHITEBOARD_PENTAGON",rE[rE.SHAPE_WHITEBOARD_OCTAGON=47]="SHAPE_WHITEBOARD_OCTAGON",rE[rE.SHAPE_WHITEBOARD_PLUS=48]="SHAPE_WHITEBOARD_PLUS",rE[rE.SHAPE_WHITEBOARD_PREDEFINED_PROCESS=49]="SHAPE_WHITEBOARD_PREDEFINED_PROCESS",rE[rE.SHAPE_WHITEBOARD_MANUAL_INPUT=50]="SHAPE_WHITEBOARD_MANUAL_INPUT",rE[rE.SHAPE_WHITEBOARD_CHEVRON=51]="SHAPE_WHITEBOARD_CHEVRON",rE[rE.SHAPE_WHITEBOARD_DOCUMENT_SINGLE=52]="SHAPE_WHITEBOARD_DOCUMENT_SINGLE",rE[rE.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE=53]="SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE",rE[rE.SHAPE_WHITEBOARD_ARROW_LEFT=54]="SHAPE_WHITEBOARD_ARROW_LEFT",rE[rE.SHAPE_WHITEBOARD_ARROW_RIGHT=55]="SHAPE_WHITEBOARD_ARROW_RIGHT",rE[rE.SHAPE_WHITEBOARD_SUMMING_JUNCTION=56]="SHAPE_WHITEBOARD_SUMMING_JUNCTION",rE[rE.SHAPE_WHITEBOARD_OR=57]="SHAPE_WHITEBOARD_OR",rE[rE.SHAPE_WHITEBOARD_SPEECH_BUBBLE=58]="SHAPE_WHITEBOARD_SPEECH_BUBBLE",rE[rE.SHAPE_WHITEBOARD_INTERNAL_STORAGE=59]="SHAPE_WHITEBOARD_INTERNAL_STORAGE",rE[rE.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS=60]="SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS",rE[rE.ANNOTATE=61]="ANNOTATE",rE[rE.IMAGE_OR_VIDEO=62]="IMAGE_OR_VIDEO",rE[rE.MEASURE=63]="MEASURE",rE[rE.SLIDES_POLL=64]="SLIDES_POLL",rE[rE.SLIDES_EMBED=65]="SLIDES_EMBED",rE[rE.HAND_SELECT=66]="HAND_SELECT",rE[rE.MULTISELECT=67]="MULTISELECT",rE[rE.WAND=68]="WAND",rE[rE.LASSO=69]="LASSO",rE[rE.SITES_LAYOUT_SET=70]="SITES_LAYOUT_SET",rE),l$=((rb=l$||{})[rb.MISSING=0]="MISSING",rb[rb.PRESENT=1]="PRESENT",rb[rb.MIXED=2]="MIXED",rb[rb.MIXED_VALUES_FIRST=3]="MIXED_VALUES_FIRST",rb[rb.MIXED_VALUES_NEXT=4]="MIXED_VALUES_NEXT",rb),lq=((rv=lq||{})[rv.FRAME_PRESETS=0]="FRAME_PRESETS",rv[rv.PENCIL_TOOL=1]="PENCIL_TOOL",rv[rv.CANVAS_ITEM=2]="CANVAS_ITEM",rv[rv.TRANSFORM_ITEM=3]="TRANSFORM_ITEM",rv[rv.TEMPLATE_ITEM=4]="TEMPLATE_ITEM",rv[rv.COMPONENT_ITEM=5]="COMPONENT_ITEM",rv[rv.INSTANCE_ITEM=6]="INSTANCE_ITEM",rv[rv.STATE_GROUP_ITEM=7]="STATE_GROUP_ITEM",rv[rv.CONSTRAINTS_ITEM=8]="CONSTRAINTS_ITEM",rv[rv.VECTOR_ITEM=9]="VECTOR_ITEM",rv[rv.GRIDS_ITEM=10]="GRIDS_ITEM",rv[rv.MASK_ITEM=11]="MASK_ITEM",rv[rv.LAYER_ITEM=12]="LAYER_ITEM",rv[rv.TYPE_ITEM=13]="TYPE_ITEM",rv[rv.FILL_ITEM=14]="FILL_ITEM",rv[rv.STROKE_ITEM=15]="STROKE_ITEM",rv[rv.EFFECTS_ITEM=16]="EFFECTS_ITEM",rv[rv.EXPORT_ITEM=17]="EXPORT_ITEM",rv[rv.STACK_ITEM=18]="STACK_ITEM",rv[rv.SCALE_ITEM=19]="SCALE_ITEM",rv[rv.REMOVE_GROUP_BACKGROUND_ITEM=20]="REMOVE_GROUP_BACKGROUND_ITEM",rv[rv.OVERFLOW_ITEM=21]="OVERFLOW_ITEM",rv[rv.SELECTION_COLORS=22]="SELECTION_COLORS",rv[rv.VARIABLE_MODE_ITEM=23]="VARIABLE_MODE_ITEM",rv[rv.VARIABLE_PAGE_LEVEL_MODE_ITEM=24]="VARIABLE_PAGE_LEVEL_MODE_ITEM",rv[rv.SLIDES_ANIMATION=25]="SLIDES_ANIMATION",rv[rv.SLIDES_SPEAKER_NOTES=26]="SLIDES_SPEAKER_NOTES",rv[rv.IMAGE_ITEM=27]="IMAGE_ITEM",rv[rv.SITES_POSITION_ITEM=28]="SITES_POSITION_ITEM",rv[rv.SITES_LINK_ITEM=29]="SITES_LINK_ITEM",rv[rv.SITES_PAGE_METADATA_ITEM=30]="SITES_PAGE_METADATA_ITEM",rv[rv.SITES_ACCESSIBILITY_ITEM=31]="SITES_ACCESSIBILITY_ITEM",rv[rv.SITES_HTML_WIDGET_ITEM=32]="SITES_HTML_WIDGET_ITEM",rv[rv.SITES_INTERACTIONS_ITEM=33]="SITES_INTERACTIONS_ITEM",rv[rv.NUM_VALUES=34]="NUM_VALUES",rv),lZ=((rS=lZ||{})[rS.FRAME_PRESETS_ITEM=0]="FRAME_PRESETS_ITEM",rS[rS.CORNER_RADIUS=1]="CORNER_RADIUS",rS[rS.FRAME_OPTIONS=2]="FRAME_OPTIONS",rS[rS.COUNT=3]="COUNT",rS[rS.STAR_INNER_SCALE=4]="STAR_INNER_SCALE",rS[rS.RECTANGLE_CORNER_RADII=5]="RECTANGLE_CORNER_RADII",rS[rS.FIXED_FRAME_OPTIONS=6]="FIXED_FRAME_OPTIONS",rS[rS.ARC_DATA=7]="ARC_DATA",rS[rS.TRANSFORM=8]="TRANSFORM",rS[rS.SIZE=9]="SIZE",rS[rS.ANGLE=10]="ANGLE",rS[rS.SECTION_ITEM=11]="SECTION_ITEM",rS[rS.NUM_VALUES=12]="NUM_VALUES",rS),lX=((rI=lX||{})[rI.TEXT_ALIGN_HORIZONTAL=0]="TEXT_ALIGN_HORIZONTAL",rI[rI.TEXT_ALIGN_VERTICAL=1]="TEXT_ALIGN_VERTICAL",rI[rI.TEXT_AUTO_RESIZE=2]="TEXT_AUTO_RESIZE",rI[rI.TEXT_STYLE=3]="TEXT_STYLE",rI[rI.NUM_VALUES=4]="NUM_VALUES",rI),lJ=((rT=lJ||{})[rT.NONE=0]="NONE",rT[rT.BOOL=1]="BOOL",rT[rT.TEXT=2]="TEXT",rT[rT.INSTANCE_SWAP=3]="INSTANCE_SWAP",rT[rT.VARIANT=4]="VARIANT",rT),lQ=((rw=lQ||{})[rw.NONE=0]="NONE",rw[rw.UNUSED_DEF_ERROR=1]="UNUSED_DEF_ERROR",rw[rw.CONFLICTING_NAMES_ERROR=2]="CONFLICTING_NAMES_ERROR",rw[rw.CONFLICTING_NAMES_WITH_VARIANT_ERROR=3]="CONFLICTING_NAMES_WITH_VARIANT_ERROR",rw),l0=((rC=l0||{})[rC.NOT_APPLICABLE=0]="NOT_APPLICABLE",rC[rC.YES=1]="YES",rC[rC.NO=2]="NO",rC),l1=((rA=l1||{})[rA.STATE_GROUP=0]="STATE_GROUP",rA[rA.STATE=1]="STATE",rA[rA.STATE_INSTANCE=2]="STATE_INSTANCE",rA[rA.STATE_OR_STATE_INSTANCE_SUBLAYER=3]="STATE_OR_STATE_INSTANCE_SUBLAYER",rA[rA.NON_STATE_COMPONENTS=4]="NON_STATE_COMPONENTS",rA[rA.NONE=5]="NONE",rA),l2=((rN=l2||{})[rN.NONE=0]="NONE",rN[rN.TOO_MANY_STATES_ERROR=1]="TOO_MANY_STATES_ERROR",rN[rN.MISSING_PROPERTIES_ERROR=2]="MISSING_PROPERTIES_ERROR",rN[rN.DUPLICATE_STATE_ERROR=3]="DUPLICATE_STATE_ERROR",rN[rN.PARSE_ERROR=4]="PARSE_ERROR",rN),l3=((rO=l3||{})[rO.NONE=0]="NONE",rO[rO.SINGLE_NODE=1]="SINGLE_NODE",rO[rO.MULTI_NODE=2]="MULTI_NODE",rO),l5=((rR=l5||{})[rR.FIXED=0]="FIXED",rR[rR.HUG_CONTENT=1]="HUG_CONTENT",rR[rR.FILL_CONTAINER=2]="FILL_CONTAINER",rR),l4=((rP=l4||{})[rP.CANVAS=0]="CANVAS",rP[rP.PROPERTIES_PANEL=1]="PROPERTIES_PANEL",rP[rP.DRAG_TO_CREATE=2]="DRAG_TO_CREATE",rP),l6=((rL=l6||{})[rL.NONE=0]="NONE",rL[rL.CONNECTOR=1]="CONNECTOR",rL[rL.LINE=2]="LINE",rL[rL.VECTOR=3]="VECTOR",rL[rL.VERTEX=4]="VERTEX",rL[rL.ENDPOINT=5]="ENDPOINT",rL[rL.PENCIL=6]="PENCIL",rL[rL.WASHI_TAPE=7]="WASHI_TAPE",rL[rL.SECTION=8]="SECTION",rL),l8=((rD=l8||{})[rD.NONE=0]="NONE",rD[rD.FRAME_NAME=1]="FRAME_NAME",rD[rD.FLOW_STARTING_POINT_NAME=2]="FLOW_STARTING_POINT_NAME",rD[rD.SECTION_NAME=3]="SECTION_NAME",rD),l7=((rM=l7||{})[rM.NONE=0]="NONE",rM[rM.INT=1]="INT",rM[rM.BOOL=2]="BOOL",rM[rM.FLOAT=3]="FLOAT",rM[rM.STRING=4]="STRING",rM[rM.JSON=5]="JSON",rM[rM.GRADIENT_STOP_SELECTION=7]="GRADIENT_STOP_SELECTION",rM[rM.SELECTED_PROPERTY=8]="SELECTED_PROPERTY",rM[rM.BOOL_ARRAY=9]="BOOL_ARRAY",rM[rM.GUID=10]="GUID",rM[rM.ON_CANVAS_NAME_EDITOR_INFO=11]="ON_CANVAS_NAME_EDITOR_INFO",rM[rM.EXPORT_SELECTION_SETTINGS=12]="EXPORT_SELECTION_SETTINGS",rM[rM.ACTIVE_EMBED_DATA=13]="ACTIVE_EMBED_DATA",rM[rM.VOTING_SESSION_INFO=14]="VOTING_SESSION_INFO",rM[rM.HOVERED_COMPONENT_PROP_DEF=15]="HOVERED_COMPONENT_PROP_DEF",rM[rM.TEXT_REVIEW_PLUGIN_INFO=16]="TEXT_REVIEW_PLUGIN_INFO",rM[rM.DEV_HANDOFF_CODE_LANGUAGE=17]="DEV_HANDOFF_CODE_LANGUAGE",rM[rM.DEV_HANDOFF_PREFERENCES=18]="DEV_HANDOFF_PREFERENCES",rM),l9=((rk=l9||{})[rk.OVERRIDES_FOR_LAYER_AND_SUBLAYERS=0]="OVERRIDES_FOR_LAYER_AND_SUBLAYERS",rk[rk.EXPORTS=1]="EXPORTS",rk[rk.EFFECTS=2]="EFFECTS",rk[rk.LAYER=3]="LAYER",rk[rk.VISIBLE=4]="VISIBLE",rk[rk.NAME=5]="NAME",rk[rk.FILL=6]="FILL",rk[rk.STROKE=7]="STROKE",rk[rk.TEXT=8]="TEXT",rk[rk.TEXT_STYLE=9]="TEXT_STYLE",rk[rk.SIZE=10]="SIZE",rk[rk.OVERRIDDEN_SYMBOL=11]="OVERRIDDEN_SYMBOL",rk[rk.PROTOTYPE_INTERACTIONS=12]="PROTOTYPE_INTERACTIONS",rk[rk.OVERLAY=13]="OVERLAY",rk[rk.NUM_VALUES=14]="NUM_VALUES",rk),de=((rx=de||{})[rx.ALWAYS=0]="ALWAYS",rx[rx.ONLY_WHEN_NOT_EMPTY=1]="ONLY_WHEN_NOT_EMPTY",rx[rx.ONLY_WHEN_NOT_DISABLED=2]="ONLY_WHEN_NOT_DISABLED",rx),dt=((rF=dt||{})[rF.UNJOINED=0]="UNJOINED",rF[rF.UNJOINED_FROM_ERROR=1]="UNJOINED_FROM_ERROR",rF[rF.UNJOINED_FROM_VALIDATION_FAILURE=2]="UNJOINED_FROM_VALIDATION_FAILURE",rF[rF.GOT_SCHEMA=3]="GOT_SCHEMA",rF[rF.JOINING_INITIAL_LOAD=4]="JOINING_INITIAL_LOAD",rF[rF.JOINING_RECONNECT=5]="JOINING_RECONNECT",rF[rF.JOINING_RECONNECT_AWAITING_QUERY_REPLY=6]="JOINING_RECONNECT_AWAITING_QUERY_REPLY",rF[rF.JOINED=7]="JOINED",rF[rF.SHOULD_UPGRADE=8]="SHOULD_UPGRADE",rF[rF.UPGRADING=9]="UPGRADING",rF[rF.WAITING_FOR_RELOAD=10]="WAITING_FOR_RELOAD",rF[rF.DETACHED=11]="DETACHED",rF),dr=((rU=dr||{})[rU.COMMENT=0]="COMMENT",rU[rU.EMPTY_LINE=1]="EMPTY_LINE",rU[rU.DECLARATION=2]="DECLARATION",rU[rU.BLOCK_COMMENT=3]="BLOCK_COMMENT",rU),dn=((rB=dn||{})[rB.DESIGN=0]="DESIGN",rB[rB.PROTOTYPE=1]="PROTOTYPE",rB[rB.INSPECT=2]="INSPECT",rB[rB.COMMENT=3]="COMMENT",rB[rB.EXPORT=4]="EXPORT",rB[rB.SLIDE=5]="SLIDE",rB[rB.SLIDE_ANIMATION=6]="SLIDE_ANIMATION",rB[rB.SITE=7]="SITE",rB),di=((rV=di||{})[rV.PAN=0]="PAN",rV[rV.ZOOM=1]="ZOOM",rV),da=((rH=da||{})[rH.CSS=0]="CSS",rH[rH.IOS=1]="IOS",rH[rH.ANDROID=2]="ANDROID",rH),ds=((rG=ds||{})[rG.TABULAR=0]="TABULAR",rG[rG.CODE=1]="CODE",rG),dl=((rW=dl||{})[rW.NOT_LOADED=0]="NOT_LOADED",rW[rW.REQUESTED=1]="REQUESTED",rW[rW.LOADED=2]="LOADED",rW),dd=((rz=dd||{})[rz.NONE=0]="NONE",rz[rz.DIVIDER=1]="DIVIDER",rz[rz.WHITEBOARD_COLOR=2]="WHITEBOARD_COLOR",rz[rz.STICKY_COLOR=3]="STICKY_COLOR",rz[rz.HIGHLIGHT_COLOR=4]="HIGHLIGHT_COLOR",rz[rz.PENCIL_COLOR=5]="PENCIL_COLOR",rz[rz.WHITEBOARD_STROKE=6]="WHITEBOARD_STROKE",rz[rz.WHITEBOARD_SHAPE=7]="WHITEBOARD_SHAPE",rz[rz.TEXT_DECORATION=8]="TEXT_DECORATION",rz[rz.HYPERLINK=9]="HYPERLINK",rz[rz.BULLETED_LIST=10]="BULLETED_LIST",rz[rz.WHITEBOARD_TEXT_STYLE=11]="WHITEBOARD_TEXT_STYLE",rz[rz.TEXT_ALIGN=12]="TEXT_ALIGN",rz[rz.FONT_FAMILY=13]="FONT_FAMILY",rz[rz.CONNECTOR_LINE_STYLE=14]="CONNECTOR_LINE_STYLE",rz[rz.CONNECTOR_START_CAP=15]="CONNECTOR_START_CAP",rz[rz.CONNECTOR_END_CAP=16]="CONNECTOR_END_CAP",rz[rz.AUTHOR_VISIBILITY=17]="AUTHOR_VISIBILITY",rz[rz.ADD_TEXT=18]="ADD_TEXT",rz[rz.CODE_BLOCK_LANGUAGE=19]="CODE_BLOCK_LANGUAGE",rz[rz.IMAGE=20]="IMAGE",rz[rz.BORDER=21]="BORDER",rz[rz.DESCRIPTION=22]="DESCRIPTION",rz[rz.EMBED_OPEN_EXTERNAL=23]="EMBED_OPEN_EXTERNAL",rz[rz.EMBED_MAXIMIZE=24]="EMBED_MAXIMIZE",rz[rz.EMBED_CONVERT_TO_TEXT=25]="EMBED_CONVERT_TO_TEXT",rz[rz.SECTION_SHOW_HIDE=26]="SECTION_SHOW_HIDE",rz[rz.SECTION_RENAME=27]="SECTION_RENAME",rz[rz.RESIZE_TO_FIT=28]="RESIZE_TO_FIT",rz[rz.WASHI_TAPE_PATTERN=29]="WASHI_TAPE_PATTERN",rz[rz.FACE_STAMP=30]="FACE_STAMP",rz[rz.START_MIND_MAP=31]="START_MIND_MAP",rz[rz.WIDGET=32]="WIDGET",rz),dc=((rK=dc||{})[rK.PNG=0]="PNG",rK[rK.JPEG=1]="JPEG",rK[rK.PDF=2]="PDF",rK[rK.CSV=3]="CSV",rK),du=((rj=du||{})[rj.STICKY=0]="STICKY",rj[rj.TABLE=1]="TABLE",rj),dp=((rY=dp||{})[rY.TRANSPARENT=0]="TRANSPARENT",rY[rY.WHITE=1]="WHITE",rY[rY.CHECKERBOARD=2]="CHECKERBOARD",rY[rY.HALF_CHECKERBOARD=3]="HALF_CHECKERBOARD",rY[rY.HALF_WHITE=4]="HALF_WHITE",rY[rY.CUSTOM_COLOR=5]="CUSTOM_COLOR",rY),dh=((r$=dh||{})[r$.SOLID=0]="SOLID",r$[r$.TRANSPARENT=1]="TRANSPARENT",r$[r$.GRID=2]="GRID",r$),dm=((rq=dm||{})[rq.ATTACHED_FILE_TIP=0]="ATTACHED_FILE_TIP",rq[rq.DETACHED_FILE_TIP=1]="DETACHED_FILE_TIP",rq[rq.DETACHED_BRANCH_TIP=2]="DETACHED_BRANCH_TIP",rq[rq.BRANCH_POINT=3]="BRANCH_POINT",rq[rq.PREVIEW_BRANCH_TIP=4]="PREVIEW_BRANCH_TIP",rq[rq.STAGED_BRANCH_TIP=5]="STAGED_BRANCH_TIP",rq[rq.STAGED_FILE_TIP=6]="STAGED_FILE_TIP",rq),dg=((rZ=dg||{})[rZ.NONE=0]="NONE",rZ[rZ.BEGIN_PREVIEW=1]="BEGIN_PREVIEW",rZ[rZ.RECREATE_BRANCH_POINT=2]="RECREATE_BRANCH_POINT",rZ[rZ.PREVIEW_CHANGES=3]="PREVIEW_CHANGES",rZ[rZ.STAGE_CHANGES=4]="STAGE_CHANGES",rZ[rZ.RESET_TO_BRANCH_POINT=5]="RESET_TO_BRANCH_POINT",rZ[rZ.COMMIT=6]="COMMIT",rZ[rZ.ABANDON=7]="ABANDON",rZ[rZ.STAGE_CHANGES_WHILE_ATTACHED=8]="STAGE_CHANGES_WHILE_ATTACHED",rZ[rZ.BEGIN_MERGE=9]="BEGIN_MERGE",rZ),df=((rX=df||{})[rX.UNKNOWN=0]="UNKNOWN",rX[rX.US_QWERTY=1]="US_QWERTY",rX[rX.DVORAK=2]="DVORAK",rX[rX.GERMAN=3]="GERMAN",rX[rX.FRENCH_AZERTY=4]="FRENCH_AZERTY",rX[rX.HIRAGANA_KANA=5]="HIRAGANA_KANA",rX[rX.UK_MAC=6]="UK_MAC",rX[rX.UK_PC=7]="UK_PC",rX[rX.SWEDISH=8]="SWEDISH",rX[rX.FINNISH=9]="FINNISH",rX[rX.DANISH=10]="DANISH",rX[rX.NORWEGIAN=11]="NORWEGIAN",rX[rX.ITALIAN=12]="ITALIAN",rX[rX.SPANISH=13]="SPANISH",rX[rX.SPANISH_LATAM=14]="SPANISH_LATAM",rX[rX.CHINESE=15]="CHINESE",rX[rX.PORTUGUESE=16]="PORTUGUESE",rX[rX.KOREAN=17]="KOREAN",rX),d_=((rJ=d_||{})[rJ.DESIGN=0]="DESIGN",rJ[rJ.WHITEBOARD=1]="WHITEBOARD",rJ[rJ.SLIDES=2]="SLIDES",rJ[rJ.DEV_HANDOFF=3]="DEV_HANDOFF",rJ[rJ.SITES=4]="SITES",rJ),dy=((rQ=dy||{})[rQ.RIGHT=0]="RIGHT",rQ[rQ.ABOVE=1]="ABOVE",rQ[rQ.CUSTOM_POSITION=2]="CUSTOM_POSITION",rQ[rQ.BELOW=3]="BELOW",rQ),dE=((r0=dE||{})[r0.OFF=0]="OFF",r0[r0.ON_AND_LOCKED=1]="ON_AND_LOCKED",r0[r0.KEEP_UI=2]="KEEP_UI",r0[r0.HIDE_UI=3]="HIDE_UI",r0),db=((r1=db||{})[r1.NONE=0]="NONE",r1[r1.FRAME=1]="FRAME",r1[r1.GROUP=2]="GROUP",r1[r1.STACK=3]="STACK",r1[r1.SECTION=4]="SECTION",r1[r1.RESPONSIVE_SET=5]="RESPONSIVE_SET",r1),dv=((r2=dv||{})[r2.SELECTION=0]="SELECTION",r2[r2.SNAPPING=1]="SNAPPING",r2),dS=((r3=dS||{})[r3.MISSING=0]="MISSING",r3[r3.CORNER_RADIUS=1]="CORNER_RADIUS",r3[r3.PARAGRAPH_SPACING=2]="PARAGRAPH_SPACING",r3[r3.PARAGRAPH_INDENT=3]="PARAGRAPH_INDENT",r3[r3.STROKE_WEIGHT=4]="STROKE_WEIGHT",r3[r3.STACK_SPACING=5]="STACK_SPACING",r3[r3.STACK_PADDING_LEFT=6]="STACK_PADDING_LEFT",r3[r3.STACK_PADDING_TOP=7]="STACK_PADDING_TOP",r3[r3.STACK_PADDING_RIGHT=8]="STACK_PADDING_RIGHT",r3[r3.STACK_PADDING_BOTTOM=9]="STACK_PADDING_BOTTOM",r3[r3.VISIBLE=10]="VISIBLE",r3[r3.TEXT_DATA=11]="TEXT_DATA",r3[r3.WIDTH=12]="WIDTH",r3[r3.HEIGHT=13]="HEIGHT",r3[r3.RECTANGLE_TOP_LEFT_CORNER_RADIUS=14]="RECTANGLE_TOP_LEFT_CORNER_RADIUS",r3[r3.RECTANGLE_TOP_RIGHT_CORNER_RADIUS=15]="RECTANGLE_TOP_RIGHT_CORNER_RADIUS",r3[r3.RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS=16]="RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",r3[r3.RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS=17]="RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",r3[r3.BORDER_TOP_WEIGHT=18]="BORDER_TOP_WEIGHT",r3[r3.BORDER_BOTTOM_WEIGHT=19]="BORDER_BOTTOM_WEIGHT",r3[r3.BORDER_LEFT_WEIGHT=20]="BORDER_LEFT_WEIGHT",r3[r3.BORDER_RIGHT_WEIGHT=21]="BORDER_RIGHT_WEIGHT",r3[r3.VARIANT_PROPERTIES=22]="VARIANT_PROPERTIES",r3[r3.STACK_COUNTER_SPACING=23]="STACK_COUNTER_SPACING",r3[r3.MIN_WIDTH=24]="MIN_WIDTH",r3[r3.MAX_WIDTH=25]="MAX_WIDTH",r3[r3.MIN_HEIGHT=26]="MIN_HEIGHT",r3[r3.MAX_HEIGHT=27]="MAX_HEIGHT",r3),dI=((r5=dI||{})[r5.DONT_MERGE=0]="DONT_MERGE",r5[r5.TEXT_EDIT=1]="TEXT_EDIT",r5[r5.TEXT_LINE_HEIGHT=2]="TEXT_LINE_HEIGHT",r5[r5.TEXT_FONT_SIZE=3]="TEXT_FONT_SIZE",r5[r5.TEXT_LETTER_SPACING=4]="TEXT_LETTER_SPACING",r5[r5.LAYER_OPACITY=5]="LAYER_OPACITY",r5[r5.NUDGE=6]="NUDGE",r5[r5.SELECTION_PROPERTY=7]="SELECTION_PROPERTY",r5[r5.STYLE_SELECTION_PROPERTY=8]="STYLE_SELECTION_PROPERTY",r5[r5.CONTENT_FILL_INSERT_AND_GENERATE=9]="CONTENT_FILL_INSERT_AND_GENERATE",r5),dT=((r4=dT||{})[r4.NO_SESSION=0]="NO_SESSION",r4[r4.JOINED=1]="JOINED",r4[r4.NOT_JOINED=2]="NOT_JOINED",r4[r4.ENDED=3]="ENDED",r4),dw=((r6=dw||{})[r6.NONE=0]="NONE",r6[r6.FILL=1]="FILL",r6[r6.TEXT=2]="TEXT",r6[r6.EFFECT=3]="EFFECT",r6[r6.GRID=4]="GRID",r6),dC=((r8=dC||{})[r8.TOP_LEFT=0]="TOP_LEFT",r8[r8.TOP_CENTER=1]="TOP_CENTER",r8[r8.TOP_RIGHT=2]="TOP_RIGHT",r8[r8.MIDDLE_LEFT=3]="MIDDLE_LEFT",r8[r8.MIDDLE_CENTER=4]="MIDDLE_CENTER",r8[r8.MIDDLE_RIGHT=5]="MIDDLE_RIGHT",r8[r8.BOTTOM_LEFT=6]="BOTTOM_LEFT",r8[r8.BOTTOM_CENTER=7]="BOTTOM_CENTER",r8[r8.BOTTOM_RIGHT=8]="BOTTOM_RIGHT",r8),dA=((r7=dA||{})[r7.PRESENT=0]="PRESENT",r7[r7.PREVIEW=1]="PREVIEW",r7[r7.HTML_PREVIEW=2]="HTML_PREVIEW",r7),dN=((r9=dN||{})[r9.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",r9),dO=((ne=dO||{})[ne.DEFINITELY_COVERED_ONLY=0]="DEFINITELY_COVERED_ONLY",ne[ne.DEFINITELY_COVERED_AND_OUTDATED=1]="DEFINITELY_COVERED_AND_OUTDATED",ne),dR=((nt=dR||{})[nt.SUCCESS=0]="SUCCESS",nt[nt.ERROR_TEXT_SIZE=1]="ERROR_TEXT_SIZE",nt[nt.ERROR_OTHER=2]="ERROR_OTHER",nt),dP=((nr=dP||{})[nr.MIRO=0]="MIRO",nr[nr.MURAL=1]="MURAL",nr[nr.LUCID=2]="LUCID",nr[nr.UNKNOWN=3]="UNKNOWN",nr),dL=((nn=dL||{})[nn.UNKNOWN=0]="UNKNOWN",nn[nn.YOUTUBE=1]="YOUTUBE",nn[nn.GOOGLE_MAP=2]="GOOGLE_MAP",nn[nn.MAILCHIMP=3]="MAILCHIMP",nn),dD=((ni=dD||{})[ni.CURRENT_PAGE=0]="CURRENT_PAGE",ni[ni.ALL_PAGES=1]="ALL_PAGES",ni),dM=((na=dM||{})[na.PIXEL=0]="PIXEL",na[na.SCALED=1]="SCALED",na),dk=((no=dk||{})[no.DEFAULT=0]="DEFAULT",no[no.UNDO_REDO=1]="UNDO_REDO",no[no.ANNOTATIONS=2]="ANNOTATIONS",no[no.NODE_STATUS=3]="NODE_STATUS",no),dx=((ns=dx||{})[ns.FIT_TO_SCREEN=0]="FIT_TO_SCREEN",ns[ns.FIT_TO_WIDTH=1]="FIT_TO_WIDTH",ns[ns.FILL_SCREEN=2]="FILL_SCREEN",ns),dF=((nl=dF||{})[nl.X=0]="X",nl[nl.Y=1]="Y",nl),dU=((nd=dU||{})[nd.LEFT=0]="LEFT",nd[nd.CENTER=1]="CENTER",nd[nd.RIGHT=2]="RIGHT",nd[nd.JUSTIFIED=3]="JUSTIFIED",nd),dB=((nc=dB||{})[nc.TOP=0]="TOP",nc[nc.CENTER=1]="CENTER",nc[nc.BOTTOM=2]="BOTTOM",nc),dV=((nu=dV||{})[nu.CLICK=0]="CLICK",nu[nu.DRAG=1]="DRAG",nu),dH=((np=dH||{})[np.TOP=0]="TOP",np[np.RIGHT=1]="RIGHT",np[np.BOTTOM=2]="BOTTOM",np[np.LEFT=3]="LEFT",np),dG=((nh=dG||{})[nh.YES=0]="YES",nh[nh.NO=1]="NO",nh),dW=((nm=dW||{})[nm.ROW=0]="ROW",nm[nm.COLUMN=1]="COLUMN",nm),dz=((ng=dz||{})[ng.FORWARD=0]="FORWARD",ng[ng.BACKWARD=1]="BACKWARD",ng),dK=((nf=dK||{})[nf.HIDE=0]="HIDE",nf[nf.REORDER_AND_APPEND_ONLY=1]="REORDER_AND_APPEND_ONLY",nf[nf.FULL=2]="FULL",nf),dj=((n_=dj||{})[n_.AXIS=0]="AXIS",n_[n_.POINT=1]="POINT",n_),dY=((ny=dY||{})[ny.UNSELECTED_NODES=0]="UNSELECTED_NODES",ny[ny.UNSELECTED_NODES_AND_SELECTED_FRAME_CONTENT=1]="UNSELECTED_NODES_AND_SELECTED_FRAME_CONTENT",ny),d$=((nE=d$||{})[nE.NONE=0]="NONE",nE[nE.PIXEL_GRID=1]="PIXEL_GRID",nE[nE.DOT_GRID=16]="DOT_GRID",nE),dq=((nb=dq||{})[nb.EDITOR_TEMPLATE=0]="EDITOR_TEMPLATE",nb[nb.SLIDES_TEMPLATE=1]="SLIDES_TEMPLATE",nb[nb.SITES_TEMPLATE=2]="SITES_TEMPLATE",nb),dZ=((nv=dZ||{})[nv.SUCCESS=0]="SUCCESS",nv[nv.TRIGGERED_DETACH=1]="TRIGGERED_DETACH",nv[nv.INTERNAL_ERROR=2]="INTERNAL_ERROR",nv),dX=((nS=dX||{})[nS.SUCCESS=0]="SUCCESS",nS[nS.NOT_DETACHED_ERROR=1]="NOT_DETACHED_ERROR",nS[nS.INTERNAL_ERROR=2]="INTERNAL_ERROR",nS),dJ=((nI=dJ||{})[nI.DEFAULT=0]="DEFAULT",nI[nI.CONTAINING_PAGE=1]="CONTAINING_PAGE",nI[nI.PLUGIN=2]="PLUGIN",nI),dQ=((nT=dQ||{})[nT.LEGACY_PLUGIN=0]="LEGACY_PLUGIN",nT[nT.PLUGIN_VALIDATION=1]="PLUGIN_VALIDATION",nT[nT.DYNAMIC_PLUGIN_LOAD_ALL=2]="DYNAMIC_PLUGIN_LOAD_ALL",nT[nT.SAVE_LOCAL_COPY=3]="SAVE_LOCAL_COPY",nT[nT.LEGACY_IMAGES_CODE=4]="LEGACY_IMAGES_CODE",nT[nT.FIND_AND_REPLACE=5]="FIND_AND_REPLACE",nT[nT.REPLACE_LIBRARIES=6]="REPLACE_LIBRARIES",nT[nT.LIBRARY_UPDATES=7]="LIBRARY_UPDATES",nT[nT.MISSING_FONTS=8]="MISSING_FONTS",nT[nT.BRANCHING_MODAL_OPEN=9]="BRANCHING_MODAL_OPEN",nT[nT.BRANCHING_MERGE_TO_MAIN=10]="BRANCHING_MERGE_TO_MAIN",nT[nT.DEBUG_TOOL=11]="DEBUG_TOOL",nT),d0=((nw=d0||{})[nw.ASSET_UPDATE=0]="ASSET_UPDATE",nw[nw.AUTOSAVE=1]="AUTOSAVE",nw[nw.DEV_HANDOFF_STATUS=2]="DEV_HANDOFF_STATUS",nw[nw.HYPERLINK_PRELOAD=3]="HYPERLINK_PRELOAD",nw[nw.PAGE_INITIAL_LOAD=4]="PAGE_INITIAL_LOAD",nw[nw.PAGE_CHANGE=5]="PAGE_CHANGE",nw[nw.PAGE_DELETE=6]="PAGE_DELETE",nw[nw.PAGE_DIVIDER_CHECK=7]="PAGE_DIVIDER_CHECK",nw[nw.PAGE_DUPLICATE=8]="PAGE_DUPLICATE",nw[nw.PAGE_MOVE_TO=9]="PAGE_MOVE_TO",nw[nw.PLUGIN=10]="PLUGIN",nw),d1=((nC=d1||{})[nC.NONE=0]="NONE",nC[nC.DOCUMENT=1]="DOCUMENT",nC[nC.CANVAS=2]="CANVAS",nC[nC.GROUP_DEPRECATED=3]="GROUP_DEPRECATED",nC[nC.FRAME=4]="FRAME",nC[nC.SYMBOL=5]="SYMBOL",nC[nC.INSTANCE=6]="INSTANCE",nC[nC.STICKY=7]="STICKY",nC[nC.SHAPE_WITH_TEXT=8]="SHAPE_WITH_TEXT",nC[nC.CONNECTOR=9]="CONNECTOR",nC[nC.CODE_BLOCK=10]="CODE_BLOCK",nC[nC.WIDGET=11]="WIDGET",nC[nC.STAMP=12]="STAMP",nC[nC.MEDIA=13]="MEDIA",nC[nC.SECTION=14]="SECTION",nC[nC.SECTION_OVERLAY=15]="SECTION_OVERLAY",nC[nC.TABLE=16]="TABLE",nC[nC.TABLE_CELL=17]="TABLE_CELL",nC[nC.SLIDE=18]="SLIDE",nC[nC.SLIDE_GRID=19]="SLIDE_GRID",nC[nC.SLIDE_ROW=20]="SLIDE_ROW",nC[nC.MODULE=21]="MODULE",nC[nC.VECTOR_OPERATION=22]="VECTOR_OPERATION",nC[nC.VECTOR=23]="VECTOR",nC[nC.HIGHLIGHT=24]="HIGHLIGHT",nC[nC.STAR=25]="STAR",nC[nC.LINE=26]="LINE",nC[nC.ELLIPSE=27]="ELLIPSE",nC[nC.RECTANGLE=28]="RECTANGLE",nC[nC.REGULAR_POLYGON=29]="REGULAR_POLYGON",nC[nC.ROUNDED_RECTANGLE=30]="ROUNDED_RECTANGLE",nC[nC.TEXT=31]="TEXT",nC[nC.SLICE=32]="SLICE",nC[nC.WASHI_TAPE=33]="WASHI_TAPE",nC[nC.VARIABLE=34]="VARIABLE",nC[nC.VARIABLE_SET=35]="VARIABLE_SET",nC[nC.ASSISTED_LAYOUT_DEPRECATED=36]="ASSISTED_LAYOUT_DEPRECATED",nC[nC.INTERACTIVE_SLIDE_ELEMENT=37]="INTERACTIVE_SLIDE_ELEMENT",nC[nC.VARIABLE_OVERRIDE=38]="VARIABLE_OVERRIDE",nC),d2=((nA=d2||{})[nA.EMBED=0]="EMBED",nA[nA.LINK_PREVIEW=1]="LINK_PREVIEW",nA[nA.WIDGET=2]="WIDGET",nA),d3=((nN=d3||{})[nN.LOCAL=0]="LOCAL",nN[nN.REMOTE=1]="REMOTE",nN),d5=((nO=d5||{})[nO.CREATE=0]="CREATE",nO[nO.DELETE=1]="DELETE",nO[nO.PROPERTY_CHANGE=2]="PROPERTY_CHANGE",nO[nO.STYLE_PROPERTY_CHANGE=3]="STYLE_PROPERTY_CHANGE",nO[nO.STYLE_CREATE=4]="STYLE_CREATE",nO[nO.STYLE_DELETE=5]="STYLE_DELETE",nO),d4=((nR=d4||{})[nR.LOADED=0]="LOADED",nR[nR.LOADING=1]="LOADING",nR[nR.FAILED=2]="FAILED",nR),d6=((nP=d6||{})[nP.GROUP=0]="GROUP",nP[nP.UNION=1]="UNION",nP[nP.SUBTRACT=2]="SUBTRACT",nP[nP.INTERSECT=3]="INTERSECT",nP[nP.XOR=4]="XOR",nP[nP.STATE_GROUP=5]="STATE_GROUP",nP),d8=((nL=d8||{})[nL.UNLOADED=0]="UNLOADED",nL[nL.NOT_ANIMATED=1]="NOT_ANIMATED",nL[nL.ANIMATED=2]="ANIMATED",nL),d7=((nD=d7||{})[nD.NONE=0]="NONE",nD[nD.PRESET=1]="PRESET",nD[nD.CUSTOM=2]="CUSTOM",nD[nD.PRESENTATION=3]="PRESENTATION",nD),d9=((nM=d9||{})[nM.VALID=0]="VALID",nM[nM.NO_FRAMES=1]="NO_FRAMES",nM[nM.INVALID_START_NODE=2]="INVALID_START_NODE",nM),ce=((nk=ce||{})[nk.SCROLLS=0]="SCROLLS",nk[nk.FIXED=1]="FIXED",nk[nk.STICKY_SCROLLS=2]="STICKY_SCROLLS",nk),ct=((nx=ct||{})[nx.INACTIVE=0]="INACTIVE",nx[nx.ALL_FRAMES=1]="ALL_FRAMES",nx[nx.COMPONENT_SET=2]="COMPONENT_SET",nx[nx.RESPONSIVE_SET=3]="RESPONSIVE_SET",nx),cr=((nF=cr||{})[nF.VARIABLES_MODAL=0]="VARIABLES_MODAL",nF[nF.VARIABLE_PICKER=1]="VARIABLE_PICKER",nF[nF.SLIDES_THEME=2]="SLIDES_THEME",nF),cn=((nU=cn||{})[nU.AUTOMATIC_FIRST_COLLECTION=0]="AUTOMATIC_FIRST_COLLECTION",nU[nU.VARIABLES_MODAL=1]="VARIABLES_MODAL",nU),ci=((nB=ci||{})[nB.ADD_CHANGES=0]="ADD_CHANGES",nB[nB.REPLACE_CHANGES=1]="REPLACE_CHANGES",nB),ca=((nV=ca||{})[nV.NONE=0]="NONE",nV[nV.DISCONNECTED_AUTOSAVE_DISABLED=1]="DISCONNECTED_AUTOSAVE_DISABLED",nV[nV.DISCONNECTED_SERVER_ISSUES=2]="DISCONNECTED_SERVER_ISSUES",nV[nV.DISCONNECTED_OTHER=3]="DISCONNECTED_OTHER",nV[nV.SYNCING_AUTOSAVE_DISABLED=4]="SYNCING_AUTOSAVE_DISABLED",nV[nV.SYNCING_SERVER_ISSUES=5]="SYNCING_SERVER_ISSUES",nV[nV.SYNCING_OTHER=6]="SYNCING_OTHER",nV[nV.SUPPRESS_UNSAVED_CHANGES_UI=7]="SUPPRESS_UNSAVED_CHANGES_UI",nV),co=((nH=co||{})[nH.NONE=0]="NONE",nH[nH.SCENEGRAPH_VALIDATION_ERROR=1]="SCENEGRAPH_VALIDATION_ERROR",nH[nH.NON_ATOMIC_SYNC_ERROR=2]="NON_ATOMIC_SYNC_ERROR",nH),cs=((nG=cs||{})[nG.NEW_FILE=0]="NEW_FILE",nG[nG.INITIAL_LOAD=1]="INITIAL_LOAD",nG[nG.RECONNECT=2]="RECONNECT",nG),cl=((nW=cl||{})[nW.DEFAULT=0]="DEFAULT",nW[nW.CROSSHAIR=1]="CROSSHAIR",nW[nW.EYEDROPPER=2]="EYEDROPPER",nW[nW.HAND=3]="HAND",nW[nW.PAINT_BUCKET=4]="PAINT_BUCKET",nW[nW.PEN=5]="PEN",nW[nW.PENCIL=6]="PENCIL",nW[nW.MARKER=7]="MARKER",nW[nW.ERASER=8]="ERASER",nW[nW.HIGHLIGHTER=9]="HIGHLIGHTER",nW[nW.HIGH_FIVE=10]="HIGH_FIVE",nW),cd=((nz=cd||{})[nz.NONE=0]="NONE",nz[nz.STICKY=1]="STICKY",nz[nz.SHAPE_WITH_TEXT=2]="SHAPE_WITH_TEXT",nz[nz.SECTION=3]="SECTION",nz[nz.BUG_BASH=4]="BUG_BASH",nz[nz.STANDUP=5]="STANDUP",nz[nz.DESIGN_CRIT=6]="DESIGN_CRIT",nz[nz.USER_JOURNEY=7]="USER_JOURNEY",nz[nz.MAKE_SOMETHING_BRAINSTORM=8]="MAKE_SOMETHING_BRAINSTORM",nz[nz.MAKE_SOMETHING_TEAM_CHART=9]="MAKE_SOMETHING_TEAM_CHART",nz[nz.MAKE_SOMETHING_TEAM_UPDATES=10]="MAKE_SOMETHING_TEAM_UPDATES",nz[nz.MAKE_SOMETHING_PLANNING=11]="MAKE_SOMETHING_PLANNING",nz[nz.RETRO=12]="RETRO",nz),cc=((nK=cc||{})[nK.BASIC=0]="BASIC",nK[nK.EXPANDED=1]="EXPANDED",nK),cu=((nj=cu||{})[nj.DEFAULT=0]="DEFAULT",nj[nj.BLUE=1]="BLUE",nj[nj.GREEN=2]="GREEN",nj[nj.PURPLE=3]="PURPLE",nj[nj.RED=4]="RED",nj[nj.YELLOW=5]="YELLOW",nj),cp=((nY=cp||{})[nY.DIAGRAM=0]="DIAGRAM",nY[nY.ORG_CHART=1]="ORG_CHART",nY),ch=((n$=ch||{})[n$.HORIZONTAL=0]="HORIZONTAL",n$[n$.VERTICAL=1]="VERTICAL",n$),cm=((nq=cm||{})[nq.DEFAULT=0]="DEFAULT",nq[nq.PURPLE=1]="PURPLE",nq[nq.BLUE=2]="BLUE",nq[nq.GREEN=3]="GREEN",nq),cg=((nZ=cg||{})[nZ.DEFAULT=0]="DEFAULT",nZ[nZ.BLUE=1]="BLUE",nZ[nZ.GREEN=2]="GREEN",nZ[nZ.PURPLE=3]="PURPLE",nZ[nZ.RED=4]="RED",nZ[nZ.YELLOW=5]="YELLOW",nZ),cf=((nX=cf||{})[nX.V100=0]="V100",nX[nX.V200=1]="V200",nX[nX.V300=2]="V300",nX[nX.V400=3]="V400",nX[nX.V500=4]="V500",nX[nX.V600=5]="V600",nX[nX.V700=6]="V700",nX[nX.V800=7]="V800",nX[nX.V900=8]="V900",nX[nX.V1000=9]="V1000",nX),c_=((nJ=c_||{})[nJ.SELECTION=0]="SELECTION",nJ[nJ.PENCIL_TOOL=1]="PENCIL_TOOL",nJ[nJ.SHAPE_TOOL=2]="SHAPE_TOOL",nJ[nJ.EDIT_PALETTE_MODAL=3]="EDIT_PALETTE_MODAL",nJ),cy=((nQ=cy||{})[nQ.ALL=0]="ALL",nQ[nQ.SECTION_STATUS_LABEL=1]="SECTION_STATUS_LABEL",nQ[nQ.SECTION_PRESET_PICKER=2]="SECTION_PRESET_PICKER",nQ[nQ.LAYOUT_SET_PLAY_BUTTON=3]="LAYOUT_SET_PLAY_BUTTON",nQ[nQ.LAYOUT_SET_PLUS_BUTTON=4]="LAYOUT_SET_PLUS_BUTTON",nQ),cE=((n0=cE||{})[n0.LEGACY=0]="LEGACY",n0[n0.DEFAULT=1]="DEFAULT",n0[n0.MERGE_MODAL=2]="MERGE_MODAL",n0[n0.RECOVERY=3]="RECOVERY",n0[n0.MAXIMUM=4]="MAXIMUM",n0),cb=((n1=cb||{})[n1.GL_VERTEX_BUFFER=0]="GL_VERTEX_BUFFER",n1),cv=((n2=cv||{})[n2.DEFAULT=0]="DEFAULT",n2[n2.ALWAYS=1]="ALWAYS",n2[n2.NEVER=2]="NEVER",n2),cS=((n3=cS||{})[n3.AFTER_INITIAL_JOIN_END=0]="AFTER_INITIAL_JOIN_END",n3[n3.AFTER_FIRST_RENDER=1]="AFTER_FIRST_RENDER",n3[n3.DOCUMENT_STARTED_SAVING=2]="DOCUMENT_STARTED_SAVING",n3[n3.DOCUMENT_FINISHED_SAVING=3]="DOCUMENT_FINISHED_SAVING",n3),cI=((n5=cI||{})[n5.FULLSCREEN=0]="FULLSCREEN",n5[n5.NON_FULLSCREEN=1]="NON_FULLSCREEN",n5),cT=((n4=cT||{})[n4.IGNORE_AUTOLAYOUT=0]="IGNORE_AUTOLAYOUT",n4[n4.FORCE_INSERTION=1]="FORCE_INSERTION",n4[n4.PREVENT_NESTING=2]="PREVENT_NESTING",n4),cw=((n6=cw||{})[n6.NONE=0]="NONE",n6[n6.FAST=1]="FAST",n6[n6.DEFAULT=6]="DEFAULT",n6[n6.BEST=9]="BEST",n6),cC=((n8=cC||{})[n8.SRGB=0]="SRGB",n8[n8.DISPLAY_P3=1]="DISPLAY_P3",n8),cA=((n7=cA||{})[n7.LEGACY=0]="LEGACY",n7[n7.SRGB=1]="SRGB",n7[n7.DISPLAY_P3=2]="DISPLAY_P3",n7),cN=((n9=cN||{})[n9.DOCUMENT=0]="DOCUMENT",n9[n9.SRGB=1]="SRGB",n9[n9.DISPLAY_P3_V4=2]="DISPLAY_P3_V4",n9),cO=((ie=cO||{})[ie.NO_CONVERSION=0]="NO_CONVERSION",ie[ie.SRGB_TO_DISPLAY_P3=1]="SRGB_TO_DISPLAY_P3",ie[ie.DISPLAY_P3_TO_SRGB=2]="DISPLAY_P3_TO_SRGB",ie),cR=((it=cR||{})[it.INVALID=0]="INVALID",it[it.TEST_SETUP=1]="TEST_SETUP",it[it.USER=2]="USER",it[it.PLUGIN=3]="PLUGIN",it[it.SYSTEM=4]="SYSTEM",it[it.REST_API=5]="REST_API",it[it.ONBOARDING=6]="ONBOARDING",it[it.AUTOSAVE=7]="AUTOSAVE",it[it.AI=8]="AI",it),cP=((ir=cP||{})[ir.LOCAL=0]="LOCAL",ir[ir.GOOGLE=1]="GOOGLE",ir[ir.SHARED=2]="SHARED",ir),cL=((ii=cL||{})[ii.NON_ANIMATED_ONLY=0]="NON_ANIMATED_ONLY",ii[ii.LOW_RES_ONLY=1]="LOW_RES_ONLY",ii[ii.ALL=2]="ALL",ii),cD=((ia=cD||{})[ia.SUCCESS=0]="SUCCESS",ia[ia.UNSUPPORTED_MEDIA=1]="UNSUPPORTED_MEDIA",ia[ia.OTHER_FAILURE=2]="OTHER_FAILURE",ia),cM=((io=cM||{})[io.REDUX=0]="REDUX",io[io.PLUGIN=1]="PLUGIN",io[io.PROTOTYPE_LIB=2]="PROTOTYPE_LIB",io),ck=((is=ck||{})[is.IGNORE=0]="IGNORE",is[is.TRACK=1]="TRACK",is),cx=((il=cx||{})[il.NONE=0]="NONE",il[il.BUILD=1]="BUILD",il[il.COMPLETED=2]="COMPLETED",il),cF=((id=cF||{})[id.NONE=0]="NONE",id[id.AUTO=1]="AUTO",id[id.TOP=2]="TOP",id[id.LEFT=3]="LEFT",id[id.BOTTOM=4]="BOTTOM",id[id.RIGHT=5]="RIGHT",id[id.CENTER=6]="CENTER",id),cU=((ic=cU||{})[ic.FILL=0]="FILL",ic[ic.STROKE=1]="STROKE",ic[ic.WIDTH=2]="WIDTH",ic[ic.HEIGHT=3]="HEIGHT",ic[ic.MIN_WIDTH=4]="MIN_WIDTH",ic[ic.MIN_HEIGHT=5]="MIN_HEIGHT",ic[ic.MAX_WIDTH=6]="MAX_WIDTH",ic[ic.MAX_HEIGHT=7]="MAX_HEIGHT",ic[ic.STROKE_WIDTH=8]="STROKE_WIDTH",ic[ic.CORNER_RADIUS=9]="CORNER_RADIUS",ic[ic.EFFECT=10]="EFFECT",ic[ic.TEXT_STYLE=11]="TEXT_STYLE",ic[ic.TEXT_ALIGN_HORIZONTAL=12]="TEXT_ALIGN_HORIZONTAL",ic[ic.FONT_FAMILY=13]="FONT_FAMILY",ic[ic.FONT_SIZE=14]="FONT_SIZE",ic[ic.FONT_WEIGHT=15]="FONT_WEIGHT",ic[ic.LINE_HEIGHT=16]="LINE_HEIGHT",ic[ic.LETTER_SPACING=17]="LETTER_SPACING",ic[ic.STACK_SPACING=18]="STACK_SPACING",ic[ic.STACK_PADDING=19]="STACK_PADDING",ic[ic.STACK_MODE=20]="STACK_MODE",ic[ic.STACK_ALIGNMENT=21]="STACK_ALIGNMENT",ic[ic.OPACITY=22]="OPACITY",ic[ic.COMPONENT=23]="COMPONENT",ic[ic.FONT_STYLE=24]="FONT_STYLE",ic),cB=((iu=cB||{})[iu.TOP=0]="TOP",iu[iu.BOTTOM=1]="BOTTOM",iu[iu.LEFT=2]="LEFT",iu[iu.RIGHT=3]="RIGHT",iu),cV=((ip=cV||{})[ip.COMPONENT=0]="COMPONENT",ip[ip.STATE_GROUP=1]="STATE_GROUP",ip),cH=((ih=cH||{})[ih.NONE=0]="NONE",ih[ih.CAP_HEIGHT=1]="CAP_HEIGHT",ih),cG=((im=cG||{})[im.FILL=0]="FILL",im[im.STROKE=1]="STROKE",im[im.BACKGROUND__NO_LONGER_USED=2]="BACKGROUND__NO_LONGER_USED",im[im.TEXT=3]="TEXT",im[im.EFFECT=4]="EFFECT",im[im.GRID=5]="GRID",im[im.DEPRECATED_STROKE=6]="DEPRECATED_STROKE",im[im.NOT_SUPPORTED=7]="NOT_SUPPORTED",im),cW=((ig=cW||{})[ig.TOGGLE_BOLD=0]="TOGGLE_BOLD",ig[ig.INCREASE_BOLD=1]="INCREASE_BOLD",ig[ig.DECREASE_BOLD=2]="DECREASE_BOLD",ig[ig.TOGGLE_ITALIC=3]="TOGGLE_ITALIC",ig[ig.TOGGLE_UNDERLINE=4]="TOGGLE_UNDERLINE",ig[ig.TOGGLE_STRIKETHROUGH=5]="TOGGLE_STRIKETHROUGH",ig[ig.REMOVE_DECORATION=6]="REMOVE_DECORATION",ig[ig.SET_ORIGINAL_CASE=7]="SET_ORIGINAL_CASE",ig[ig.SET_UPPER_CASE=8]="SET_UPPER_CASE",ig[ig.SET_LOWER_CASE=9]="SET_LOWER_CASE",ig[ig.SET_TITLE_CASE=10]="SET_TITLE_CASE",ig[ig.INCREASE_LETTER_SPACING=11]="INCREASE_LETTER_SPACING",ig[ig.DECREASE_LETTER_SPACING=12]="DECREASE_LETTER_SPACING",ig[ig.INCREASE_LINE_HEIGHT=13]="INCREASE_LINE_HEIGHT",ig[ig.DECREASE_LINE_HEIGHT=14]="DECREASE_LINE_HEIGHT",ig),cz=((i_=cz||{})[i_.SET_BOLD=0]="SET_BOLD",i_[i_.SET_UNBOLD=1]="SET_UNBOLD",i_[i_.INCREASE_BOLD=2]="INCREASE_BOLD",i_[i_.DECREASE_BOLD=3]="DECREASE_BOLD",i_[i_.SET_ITALIC=4]="SET_ITALIC",i_[i_.SET_UNITALIC=5]="SET_UNITALIC",i_[i_.SET_UNDERLINE=6]="SET_UNDERLINE",i_[i_.SET_STRIKETHROUGH=7]="SET_STRIKETHROUGH",i_[i_.REMOVE_DECORATION=8]="REMOVE_DECORATION",i_[i_.SET_ORIGINAL_CASE=9]="SET_ORIGINAL_CASE",i_[i_.SET_UPPER_CASE=10]="SET_UPPER_CASE",i_[i_.SET_LOWER_CASE=11]="SET_LOWER_CASE",i_[i_.SET_TITLE_CASE=12]="SET_TITLE_CASE",i_[i_.INCREASE_LETTER_SPACING=13]="INCREASE_LETTER_SPACING",i_[i_.DECREASE_LETTER_SPACING=14]="DECREASE_LETTER_SPACING",i_[i_.INCREASE_LINE_HEIGHT=15]="INCREASE_LINE_HEIGHT",i_[i_.DECREASE_LINE_HEIGHT=16]="DECREASE_LINE_HEIGHT",i_),cK=((iy=cK||{})[iy.NONE=0]="NONE",iy[iy.CREATED=1]="CREATED",iy[iy.EDITED=2]="EDITED",iy[iy.REMOVED=3]="REMOVED",iy[iy.INDIRECTLY_EDITED=4]="INDIRECTLY_EDITED",iy[iy.AFFECTED=5]="AFFECTED",iy[iy.LIBRARY_UPDATES=6]="LIBRARY_UPDATES",iy),cj=((iE=cj||{})[iE.ALL_SCOPES=0]="ALL_SCOPES",iE[iE.TEXT_CONTENT=1]="TEXT_CONTENT",iE[iE.CORNER_RADIUS=2]="CORNER_RADIUS",iE[iE.WIDTH_HEIGHT=3]="WIDTH_HEIGHT",iE[iE.GAP=4]="GAP",iE[iE.ALL_FILLS=5]="ALL_FILLS",iE[iE.FRAME_FILL=6]="FRAME_FILL",iE[iE.SHAPE_FILL=7]="SHAPE_FILL",iE[iE.TEXT_FILL=8]="TEXT_FILL",iE[iE.STROKE=9]="STROKE",iE[iE.STROKE_FLOAT=10]="STROKE_FLOAT",iE[iE.EFFECT_FLOAT=11]="EFFECT_FLOAT",iE[iE.EFFECT_COLOR=12]="EFFECT_COLOR",iE[iE.OPACITY=13]="OPACITY",iE),cY=((ib=cY||{})[ib.WEB=0]="WEB",ib[ib.ANDROID=1]="ANDROID",ib[ib.iOS=2]="iOS",ib),c$=((iv=c$||{})[iv.NONE=0]="NONE",iv[iv.PRESET=1]="PRESET",iv[iv.CUSTOM=2]="CUSTOM",iv[iv.PRESENTATION=3]="PRESENTATION",iv),cq=((iS=cq||{})[iS.ALL=0]="ALL",iS[iS.BASE_SCREENS=1]="BASE_SCREENS",iS[iS.SCROLL_TO=2]="SCROLL_TO",iS[iS.STATES=3]="STATES",iS),cZ=((iI=cZ||{})[iI.NONE=0]="NONE",iI[iI.CCW_90=1]="CCW_90",iI),cX=((iT=cX||{})[iT.PLAIN=0]="PLAIN",iT[iT.ORDERED_LIST=1]="ORDERED_LIST",iT[iT.UNORDERED_LIST=2]="UNORDERED_LIST",iT[iT.BLOCKQUOTE=3]="BLOCKQUOTE",iT[iT.HEADER=4]="HEADER",iT),cJ=((iw=cJ||{})[iw.LTR=0]="LTR",iw[iw.RTL=1]="RTL",iw),cQ=((iC=cQ||{})[iC.NONE=0]="NONE",iC[iC.SEMANTIC_WEIGHT=1]="SEMANTIC_WEIGHT",iC[iC.SEMANTIC_ITALIC=2]="SEMANTIC_ITALIC",iC),c0=((iA=c0||{})[iA.CENTER=0]="CENTER",iA[iA.INSIDE=1]="INSIDE",iA[iA.OUTSIDE=2]="OUTSIDE",iA),c1=((iN=c1||{})[iN.NODE_CREATED=0]="NODE_CREATED",iN[iN.NODE_DELETED=1]="NODE_DELETED",iN[iN.NODE_MOVED=2]="NODE_MOVED",iN[iN.NODE_RESIZED=3]="NODE_RESIZED",iN[iN.TEXT_SELECTION=4]="TEXT_SELECTION",iN[iN.TOOL=5]="TOOL",iN[iN.TABLE_CELL_TEXT_SELECTION=6]="TABLE_CELL_TEXT_SELECTION",iN),c2=((iO=c2||{})[iO.NONE=0]="NONE",iO[iO.FIGJAM=1]="FIGJAM",iO[iO.VIEWER=2]="VIEWER",iO),c3=((iR=c3||{})[iR.READ=0]="READ",iR[iR.ELIDE=1]="ELIDE",iR[iR.SKIP=2]="SKIP",iR),c5=((iP=c5||{})[iP.ELBOWED=0]="ELBOWED",iP[iP.STRAIGHT=1]="STRAIGHT",iP),c4=((iL=c4||{})[iL.SWT_CREATED=0]="SWT_CREATED",iL[iL.SWT_DELETED=1]="SWT_DELETED",iL[iL.SWT_EDITED=2]="SWT_EDITED",iL[iL.SWT_RESIZED=3]="SWT_RESIZED",iL[iL.STICKY_DELETED=4]="STICKY_DELETED",iL[iL.STICKY_EDITED=5]="STICKY_EDITED",iL[iL.STICKY_RESIZED=6]="STICKY_RESIZED",iL),c6=((iD=c6||{})[iD.UP=0]="UP",iD[iD.DOWN=1]="DOWN",iD[iD.LEFT=2]="LEFT",iD[iD.RIGHT=3]="RIGHT",iD),c8=((iM=c8||{})[iM.LIGHT=0]="LIGHT",iM[iM.DARK=1]="DARK",iM),c7=((ik=c7||{})[ik.NONE=0]="NONE",ik[ik.DISSOLVE=1]="DISSOLVE",ik[ik.SLIDE_FROM_LEFT=2]="SLIDE_FROM_LEFT",ik[ik.SLIDE_FROM_RIGHT=3]="SLIDE_FROM_RIGHT",ik[ik.SLIDE_FROM_TOP=4]="SLIDE_FROM_TOP",ik[ik.SLIDE_FROM_BOTTOM=5]="SLIDE_FROM_BOTTOM",ik[ik.PUSH_FROM_LEFT=6]="PUSH_FROM_LEFT",ik[ik.PUSH_FROM_RIGHT=7]="PUSH_FROM_RIGHT",ik[ik.PUSH_FROM_TOP=8]="PUSH_FROM_TOP",ik[ik.PUSH_FROM_BOTTOM=9]="PUSH_FROM_BOTTOM",ik[ik.MOVE_FROM_LEFT=10]="MOVE_FROM_LEFT",ik[ik.MOVE_FROM_RIGHT=11]="MOVE_FROM_RIGHT",ik[ik.MOVE_FROM_TOP=12]="MOVE_FROM_TOP",ik[ik.MOVE_FROM_BOTTOM=13]="MOVE_FROM_BOTTOM",ik[ik.SLIDE_OUT_TO_LEFT=14]="SLIDE_OUT_TO_LEFT",ik[ik.SLIDE_OUT_TO_RIGHT=15]="SLIDE_OUT_TO_RIGHT",ik[ik.SLIDE_OUT_TO_TOP=16]="SLIDE_OUT_TO_TOP",ik[ik.SLIDE_OUT_TO_BOTTOM=17]="SLIDE_OUT_TO_BOTTOM",ik[ik.MOVE_OUT_TO_LEFT=18]="MOVE_OUT_TO_LEFT",ik[ik.MOVE_OUT_TO_RIGHT=19]="MOVE_OUT_TO_RIGHT",ik[ik.MOVE_OUT_TO_TOP=20]="MOVE_OUT_TO_TOP",ik[ik.MOVE_OUT_TO_BOTTOM=21]="MOVE_OUT_TO_BOTTOM",ik[ik.SMART_ANIMATE=22]="SMART_ANIMATE",ik),c9=((ix=c9||{})[ix.FullscreenApp=0]="FullscreenApp",ix[ix.PrototypeLib=1]="PrototypeLib",ix[ix.InteractionTest=2]="InteractionTest",ix),ue=((iF=ue||{})[iF.FROM=0]="FROM",iF[iF.TO=1]="TO",iF),ut=((iU=ut||{})[iU.INVALID=0]="INVALID",iU[iU.PRIMARY_INSTANCE_BACKED_BY_SYMBOL=1]="PRIMARY_INSTANCE_BACKED_BY_SYMBOL",iU[iU.PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL=2]="PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL",iU[iU.PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL=3]="PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL",iU[iU.PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL=4]="PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL",iU[iU.PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL=5]="PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL",iU[iU.STATE_WITH_PROP_DEF_TO_SYMBOL=6]="STATE_WITH_PROP_DEF_TO_SYMBOL",iU[iU.SYMBOL_CONTAINING_PRIMARY_INSTANCE=7]="SYMBOL_CONTAINING_PRIMARY_INSTANCE",iU),ur=((iB=ur||{})[iB.NONE=0]="NONE",iB[iB.TOO_MANY_VARIABLES_ERROR=1]="TOO_MANY_VARIABLES_ERROR",iB[iB.TOO_MANY_MODES_ERROR=2]="TOO_MANY_MODES_ERROR",iB),un=((iV=un||{})[iV.NONE=0]="NONE",iV[iV.LESS_THAN_MIN_WIDTH=1]="LESS_THAN_MIN_WIDTH",iV[iV.LESS_THAN_MIN_HEIGHT=2]="LESS_THAN_MIN_HEIGHT",iV[iV.GREATER_THAN_MAX_WIDTH=3]="GREATER_THAN_MAX_WIDTH",iV[iV.GREATER_THAN_MAX_HEIGHT=4]="GREATER_THAN_MAX_HEIGHT",iV),ui=((iH=ui||{})[iH.BOOLEAN=0]="BOOLEAN",iH[iH.FLOAT=1]="FLOAT",iH[iH.STRING=2]="STRING",iH[iH.COLOR=3]="COLOR",iH[iH.MAP=4]="MAP",iH[iH.SYMBOL_ID=5]="SYMBOL_ID",iH[iH.FONT_STYLE=6]="FONT_STYLE",iH[iH.TEXT_DATA=7]="TEXT_DATA",iH),ua=((iG=ua||{})[iG.BOOLEAN=0]="BOOLEAN",iG[iG.FLOAT=1]="FLOAT",iG[iG.STRING=2]="STRING",iG[iG.ALIAS=3]="ALIAS",iG[iG.COLOR=4]="COLOR",iG[iG.EXPRESSION=5]="EXPRESSION",iG[iG.MAP=6]="MAP",iG[iG.SYMBOL_ID=7]="SYMBOL_ID",iG[iG.FONT_STYLE=8]="FONT_STYLE",iG[iG.TEXT_DATA=9]="TEXT_DATA",iG[iG.INVALID=10]="INVALID",iG[iG.NODE_FIELD_ALIAS=11]="NODE_FIELD_ALIAS",iG),uo=((iW=uo||{})[iW.ADDITION=0]="ADDITION",iW[iW.SUBTRACTION=1]="SUBTRACTION",iW[iW.RESOLVE_VARIANT=2]="RESOLVE_VARIANT",iW[iW.MULTIPLY=3]="MULTIPLY",iW[iW.DIVIDE=4]="DIVIDE",iW[iW.EQUALS=5]="EQUALS",iW[iW.NOT_EQUAL=6]="NOT_EQUAL",iW[iW.LESS_THAN=7]="LESS_THAN",iW[iW.LESS_THAN_OR_EQUAL=8]="LESS_THAN_OR_EQUAL",iW[iW.GREATER_THAN=9]="GREATER_THAN",iW[iW.GREATER_THAN_OR_EQUAL=10]="GREATER_THAN_OR_EQUAL",iW[iW.AND=11]="AND",iW[iW.OR=12]="OR",iW[iW.NOT=13]="NOT",iW[iW.STRINGIFY=14]="STRINGIFY",iW[iW.TERNARY=15]="TERNARY",iW[iW.VAR_MODE_LOOKUP=16]="VAR_MODE_LOOKUP",iW[iW.NEGATE=17]="NEGATE",iW[iW.IS_TRUTHY=18]="IS_TRUTHY",iW),us=((iz=us||{})[iz.INTERACTION_TEST=0]="INTERACTION_TEST",iz[iz.VIEWER_TEST=1]="VIEWER_TEST",iz),ul=((iK=ul||{})[iK.ALLOWED=0]="ALLOWED",iK[iK.DISALLOWED_CYCLE=1]="DISALLOWED_CYCLE",iK[iK.DISALLOWED_OTHER=2]="DISALLOWED_OTHER",iK),ud=((ij=ud||{})[ij.MATERIALIZE_SWAPPED_OUT_TREE=0]="MATERIALIZE_SWAPPED_OUT_TREE",ij[ij.SKIP_MATERIALIZATION=1]="SKIP_MATERIALIZATION",ij),uc=((iY=uc||{})[iY.PENDING_INITIAL_LOAD=0]="PENDING_INITIAL_LOAD",iY[iY.PENDING_LOAD_AFTER_RECONNECT=1]="PENDING_LOAD_AFTER_RECONNECT",iY[iY.LOADED=2]="LOADED",iY),uu=((i$=uu||{})[i$.NONE=0]="NONE",i$[i$.CONTAIN=1]="CONTAIN",i$[i$.SCALE_DOWN=2]="SCALE_DOWN",i$[i$.MIN_ZOOM=3]="MIN_ZOOM",i$[i$.FREE=4]="FREE",i$[i$.SCALE_DOWN_TO_FIT_WIDTH=5]="SCALE_DOWN_TO_FIT_WIDTH",i$[i$.FIT_WIDTH=6]="FIT_WIDTH",i$[i$.RESPONSIVE=7]="RESPONSIVE",i$),up=((iq=up||{})[iq.MISSING_FONTS_ONLY=0]="MISSING_FONTS_ONLY",iq[iq.MISSING_OR_LOCAL_FONTS=1]="MISSING_OR_LOCAL_FONTS",iq),uh=((iZ=uh||{})[iZ.TEXT=0]="TEXT",iZ[iZ.KEY_PRESS=1]="KEY_PRESS",iZ[iZ.KEY_RELEASE=2]="KEY_RELEASE",iZ[iZ.MOUSE_MOVE=3]="MOUSE_MOVE",iZ[iZ.MOUSE_ENTER=4]="MOUSE_ENTER",iZ[iZ.MOUSE_LEAVE=5]="MOUSE_LEAVE",iZ[iZ.MOUSE_PRESS=6]="MOUSE_PRESS",iZ[iZ.MOUSE_DRAG=7]="MOUSE_DRAG",iZ[iZ.MOUSE_RELEASE=8]="MOUSE_RELEASE",iZ[iZ.MOUSE_WHEEL=9]="MOUSE_WHEEL",iZ[iZ.MOUSE_DROP=10]="MOUSE_DROP",iZ[iZ.MOUSE_ROTATE=11]="MOUSE_ROTATE",iZ[iZ.MOUSE_SCALE=12]="MOUSE_SCALE",iZ[iZ.MOUSE_SCALE_END=13]="MOUSE_SCALE_END",iZ[iZ.FOCUS_GAINED=14]="FOCUS_GAINED",iZ[iZ.FOCUS_LOST=15]="FOCUS_LOST",iZ[iZ.CLIPBOARD=16]="CLIPBOARD",iZ[iZ.MOUSE_MOVE_COALESCED=17]="MOUSE_MOVE_COALESCED",iZ[iZ.MOUSE_DRAG_COALESCED=18]="MOUSE_DRAG_COALESCED",iZ[iZ.CONTEXT_MENU_OPEN=19]="CONTEXT_MENU_OPEN",iZ[iZ.MOUSE_CANCEL=20]="MOUSE_CANCEL",iZ);function um(e,r){switch(e){case"Actions":case"BindingsPerfBench":case"CppBindingsTestHelpers":case"BranchingHelpers":case"ComponentPropsAiCPPBindings":case"CustomFocusHelpers":case"JamboardImporterCppBindings":case"EmojiCppBindings":case"FontHelpers":case"FullscreenInteractionTestHelpers":case"StackBindingsCpp":case"MentionsCppBindings":case"MindmapCppBindings":case"ScaleToolTsApi":case"GradientToolApi":case"SelectionStylesHelpers":case"StateManagementCPPBindings":case"SharedStyle":case"StickyClusteringCppBindings":case"TestFullscreenMultiplayerDocument":case"TextStyleOverridesBindings":case"UserPreferencesTestHelpers":case"WhiteboardAgendaCppBindings":case"WhiteboardStarterKitCppBindings":case"WhiteboardTemplatePreviewCppBindings":case"WhiteboardThumbnailGeneratorCppBindings":case"HitTestBindings":case"SlidesAiBindings":case"StylesBindings":case"FeatureFlagsCppApi":case"UniquePathHelpers":case"AccessibilityHelpers":case"Bindings":case"FigmaScopeBindings":case"VariablesMirrorManager":case"SharedDebuggingHelpers":break;case"AnimationBindings":i=r;break;case"AppStateTsApi":a=r;break;case"AutosaveHelpers":o=r;break;case"NestedCppObject_Internal":s=r,window.NestedCppObject=iX,window.MutableNestedCppObject=iJ;break;case"TestCppObject_Internal":l=r,window.TestCppObject=iQ,window.MutableTestCppObject=i0;break;case"BranchingState_Internal":window.BranchingState=i1,window.MutableBranchingState=i2;break;case"CanvasSearchHelpers":d=r;break;case"CanvasViewState_Internal":c=r,window.CanvasViewState=i3,window.MutableCanvasViewState=i5;break;case"CSSExportHelpers":u=r;break;case"CurrentPageState_Internal":p=r,window.CurrentPageState=i4,window.MutableCurrentPageState=i6;break;case"CurrentSceneState_Internal":h=r,window.CurrentSceneState=i8,window.MutableCurrentSceneState=i7;break;case"DebuggingHelpers":m=r;break;case"DevHandoffState_Internal":g=r,window.DevHandoffState=i9,window.MutableDevHandoffState=ae;break;case"DiffImpl":f=r;break;case"EditorState_Internal":_=r,window.EditorState=at,window.MutableEditorState=ar;break;case"EmbedUiState_Internal":y=r,window.EmbedUiState=an,window.MutableEmbedUiState=ai;break;case"EditorPreferences_Internal":E=r,window.EditorPreferences=aa,window.MutableEditorPreferences=ao;break;case"FigjamState_Internal":window.FigjamState=as,window.MutableFigjamState=al;break;case"FirstDraftHelpers":b=r;break;case"FullscreenPerfInfo":v=r,window.FullscreenPerfInfo=v;break;case"FullscreenPerfMetrics":S=r;break;case"FullscreenWebSocketTsApi":I=r;break;case"Fullscreen":T=r;break;case"HandoffBindingsCpp":w=r;break;case"HistoryChangesBindings":C=r;break;case"HoverState_Internal":window.HoverState=ad,window.MutableHoverState=ac;break;case"EditorTypeConfig_Internal":A=r,window.EditorTypeConfig=au,window.MutableEditorTypeConfig=ap;break;case"Viewport_Internal":N=r,window.Viewport=ah,window.MutableViewport=am;break;case"MouseBehaviorEvent_Internal":O=r,window.MouseBehaviorEvent=ag,window.MutableMouseBehaviorEvent=af;break;case"CanvasContext_Internal":R=r,window.CanvasContext=a_,window.MutableCanvasContext=ay;break;case"InteractionCpp":P=r;break;case"CanvasSnapper_Internal":L=r,window.CanvasSnapper=aE,window.MutableCanvasSnapper=ab;break;case"LibraryPubSub":D=r;break;case"LibraryAssets_Internal":M=r,window.LibraryAssets=av,window.MutableLibraryAssets=aS;break;case"Multiplayer":k=r;break;case"PluginHelpers":x=r;break;case"PropertiesPanelState_Internal":F=r,window.PropertiesPanelState=aI,window.MutablePropertiesPanelState=aT;break;case"PrototypingEditorState_Internal":U=r,window.PrototypingEditorState=aw,window.MutablePrototypingEditorState=aC;break;case"PrototypingTsApi":B=r;break;case"ScaleToolState_Internal":V=r,window.ScaleToolState=aA,window.MutableScaleToolState=aN;break;case"ImmutableFrameObserver_Internal":H=r,window.ImmutableFrameObserver=aO,window.MutableImmutableFrameObserver=aR;break;case"SceneGraph_Internal":G=r,window.SceneGraph=aP,window.MutableSceneGraph=aL;break;case"SceneGraphHelpers":W=r;break;case"SceneNodeCpp":z=r;break;case"SelectionPaintHelpers":K=r;break;case"Thumbnail":j=r;break;case"UiState_Internal":Y=r,window.UiState=aD,window.MutableUiState=aM;break;case"VariablesBindings":$=r;break;case"VideoCppBindings":q=r;break;case"WhiteboardAiTemplatePreviewCppBindings":Z=r;break;case"WhiteboardAiVisualCppBindings":X=r;break;case"WhiteboardTsApi":J=r;break;case"WhiteboardVotingCppBindings":Q=r;break;case"FlappData_Internal":ee=r,window.FlappData=ak,window.MutableFlappData=ax;break;case"SingleSlideView_Internal":et=r,window.SingleSlideView=aF,window.MutableSingleSlideView=aU;break;case"SlideThemeStylePreview_Internal":er=r,window.SlideThemeStylePreview=aB,window.MutableSlideThemeStylePreview=aV;break;case"WhiteboardSectionPresetPickerCppBindings":en=r;break;case"CorePerfInfo":ei=r,window.CorePerfInfo=ei;break;case"FullscreenOptimizationExposureLoggingBinding":ea=r;break;case"WeakHandleHelpers":eo=r;break;case"WebAsyncCallback":es=r;break;case"PerformanceEventCounters":el=r;break;case"ColorManagementStateJs":ed=r;break;case"EditScopeBindings":ec=r;break;case"Fonts":eu=r;break;case"ImageCppBindings":ep=r;break;case"BindingsNode_Internal":window.BindingsNode=aH,window.MutableBindingsNode=aG;break;case"NodeTsApi":eh=r;break;case"PrototypeInteractions_Internal":em=r,window.PrototypeInteractions=aW,window.MutablePrototypeInteractions=az;break;case"RevisionNumberAccessor":eg=r;break;case"SceneGraphTsApi":ef=r;break;case"TextData_Internal":e_=r,window.TextData=aK,window.MutableTextData=aj;break;case"DerivedTextData_Internal":ey=r,window.DerivedTextData=aY,window.MutableDerivedTextData=a$;break;case"UniquePath_Internal":eE=r,window.UniquePath=aq,window.MutableUniquePath=aZ;break;case"CompiledVectorData_Internal":eb=r,window.CompiledVectorData=aX,window.MutableCompiledVectorData=aJ;break;case"CanvasSelection_Internal":window.CanvasSelection=aQ,window.MutableCanvasSelection=a0;break;case"SlideDeck_Internal":ev=r,window.SlideDeck=a1,window.MutableSlideDeck=a2;break;case"SlideThemeLibBindings_Internal":eS=r,window.SlideThemeLibBindings=a3,window.MutableSlideThemeLibBindings=a5;break;case"SlideAnimationBindings_Internal":eI=r,window.SlideAnimationBindings=a4,window.MutableSlideAnimationBindings=a6;break;case"SitesPreviewObserver_Internal":eT=r,window.SitesPreviewObserver=a8,window.MutableSitesPreviewObserver=a7;break;case"AnnotationObserver_Internal":ew=r,window.AnnotationObserver=a9,window.MutableAnnotationObserver=oe;break;case"NodeTsApiGenerated":eC=r;break;case"DocumentStateTsApi":eA=r;break;case"InteractionTestHelpers":eN=r;break;case"Prototype":eO=r,window.Prototype=eO;break;case"ObservableValue_Map_GUID_Int_Internal":eR=r,window.ObservableValue_Map_GUID_Int=ot,window.MutableObservableValue_Map_GUID_Int=or;break;case"WritableObservableValue_SlidesToolMode__Internal":eP=r,window.WritableObservableValue_SlidesToolMode_=on,window.MutableWritableObservableValue_SlidesToolMode_=oi;break;case"ObservableValue_TestCounter__Internal":eL=r,window.ObservableValue_TestCounter_=oa,window.MutableObservableValue_TestCounter_=oo;break;case"ObservableValue_Array_TestCounter__Internal":eD=r,window.ObservableValue_Array_TestCounter_=os,window.MutableObservableValue_Array_TestCounter_=ol;break;case"ObservableValue_Array_Bool_Internal":eM=r,window.ObservableValue_Array_Bool=od,window.MutableObservableValue_Array_Bool=oc;break;case"ObservableValue_Bool_Internal":ek=r,window.ObservableValue_Bool=ou,window.MutableObservableValue_Bool=op;break;case"ObservableValue_Float_Internal":ex=r,window.ObservableValue_Float=oh,window.MutableObservableValue_Float=om;break;case"WritableObservableValue_Bool_Internal":eF=r,window.WritableObservableValue_Bool=og,window.MutableWritableObservableValue_Bool=of;break;case"WritableObservableValue_Double_Internal":eU=r,window.WritableObservableValue_Double=o_,window.MutableWritableObservableValue_Double=oy;break;case"WritableObservableValue_Int_Internal":eB=r,window.WritableObservableValue_Int=oE,window.MutableWritableObservableValue_Int=ob;break;case"ObservableValue_BoundingRect__Internal":eV=r,window.ObservableValue_BoundingRect_=ov,window.MutableObservableValue_BoundingRect_=oS;break;case"WritableObservableValue_Optional_InlineMenuTarget__Internal":eH=r,window.WritableObservableValue_Optional_InlineMenuTarget_=oI,window.MutableWritableObservableValue_Optional_InlineMenuTarget_=oT;break;case"ObservableValue_Optional_FocusedStackRegion__Internal":eG=r,window.ObservableValue_Optional_FocusedStackRegion_=ow,window.MutableObservableValue_Optional_FocusedStackRegion_=oC;break;case"WritableObservableValue_AnchorPoint__Internal":eW=r,window.WritableObservableValue_AnchorPoint_=oA,window.MutableWritableObservableValue_AnchorPoint_=oN;break;case"WritableObservableValue_Array_GUID_Internal":ez=r,window.WritableObservableValue_Array_GUID=oO,window.MutableWritableObservableValue_Array_GUID=oR;break;case"WritableObservableValue_Optional_GUID_Internal":eK=r,window.WritableObservableValue_Optional_GUID=oP,window.MutableWritableObservableValue_Optional_GUID=oL;break;case"WritableObservableValue_Optional_BoundingRect__Internal":ej=r,window.WritableObservableValue_Optional_BoundingRect_=oD,window.MutableWritableObservableValue_Optional_BoundingRect_=oM;break;case"ObservableValue_String_Internal":eY=r,window.ObservableValue_String=ok,window.MutableObservableValue_String=ox;break;case"ObservableValue_Map_String_Array_NodeStatus__Internal":e$=r,window.ObservableValue_Map_String_Array_NodeStatus_=oF,window.MutableObservableValue_Map_String_Array_NodeStatus_=oU;break;case"ObservableValue_GUID_Internal":eq=r,window.ObservableValue_GUID=oB,window.MutableObservableValue_GUID=oV;break;case"ObservableValue_Array_GUID_Internal":eZ=r,window.ObservableValue_Array_GUID=oH,window.MutableObservableValue_Array_GUID=oG;break;case"ObservableValue_Json_Internal":eX=r,window.ObservableValue_Json=oW,window.MutableObservableValue_Json=oz;break;case"ObservableValue_PropertyState__Internal":eJ=r,window.ObservableValue_PropertyState_=oK,window.MutableObservableValue_PropertyState_=oj;break;case"WritableObservableValue_GUID_Internal":eQ=r,window.WritableObservableValue_GUID=oY,window.MutableWritableObservableValue_GUID=o$;break;case"WritableObservableValue_KeyboardLayout__Internal":e0=r,window.WritableObservableValue_KeyboardLayout_=oq,window.MutableWritableObservableValue_KeyboardLayout_=oZ;break;case"ObservableValue_Array_DevHandoffOverviewNode__Internal":e1=r,window.ObservableValue_Array_DevHandoffOverviewNode_=oX,window.MutableObservableValue_Array_DevHandoffOverviewNode_=oJ;break;case"ObservableValue_CommentAnchorData__Internal":e2=r,window.ObservableValue_CommentAnchorData_=oQ,window.MutableObservableValue_CommentAnchorData_=o0;break;case"WritableObservableValue_ActiveEmbedData__Internal":e3=r,window.WritableObservableValue_ActiveEmbedData_=o1,window.MutableWritableObservableValue_ActiveEmbedData_=o2;break;case"WritableObservableValue_PresetType__Internal":e5=r,window.WritableObservableValue_PresetType_=o3,window.MutableWritableObservableValue_PresetType_=o5;break;case"WritableObservableValue_ColorFormat__Internal":e4=r,window.WritableObservableValue_ColorFormat_=o4,window.MutableWritableObservableValue_ColorFormat_=o6;break;case"WritableObservableValue_Float_Internal":e6=r,window.WritableObservableValue_Float=o8,window.MutableWritableObservableValue_Float=o7;break;case"WritableObservableValue_HandoffOutputFormat__Internal":e8=r,window.WritableObservableValue_HandoffOutputFormat_=o9,window.MutableWritableObservableValue_HandoffOutputFormat_=se;break;case"WritableObservableValue_HandoffPlatformTarget__Internal":e7=r,window.WritableObservableValue_HandoffPlatformTarget_=st,window.MutableWritableObservableValue_HandoffPlatformTarget_=sr;break;case"WritableObservableValue_ExportSelectionSettings__Internal":e9=r,window.WritableObservableValue_ExportSelectionSettings_=sn,window.MutableWritableObservableValue_ExportSelectionSettings_=si;break;case"ObservableValue_Array_PublishableSymbolForWeb__Internal":te=r,window.ObservableValue_Array_PublishableSymbolForWeb_=sa,window.MutableObservableValue_Array_PublishableSymbolForWeb_=so;break;case"ObservableValue_Array_SubscribedSymbolForWeb__Internal":tt=r,window.ObservableValue_Array_SubscribedSymbolForWeb_=ss,window.MutableObservableValue_Array_SubscribedSymbolForWeb_=sl;break;case"ObservableValue_Array_PublishableStateGroupForWeb__Internal":tr=r,window.ObservableValue_Array_PublishableStateGroupForWeb_=sd,window.MutableObservableValue_Array_PublishableStateGroupForWeb_=sc;break;case"ObservableValue_Array_SubscribedStateGroupForWeb__Internal":tn=r,window.ObservableValue_Array_SubscribedStateGroupForWeb_=su,window.MutableObservableValue_Array_SubscribedStateGroupForWeb_=sp;break;case"ObservableValue_Array_PublishableStyleForWeb__Internal":ti=r,window.ObservableValue_Array_PublishableStyleForWeb_=sh,window.MutableObservableValue_Array_PublishableStyleForWeb_=sm;break;case"ObservableValue_Array_SubscribedStyleForWeb__Internal":ta=r,window.ObservableValue_Array_SubscribedStyleForWeb_=sg,window.MutableObservableValue_Array_SubscribedStyleForWeb_=sf;break;case"ObservableValue_Array_PublishableModuleForWeb__Internal":to=r,window.ObservableValue_Array_PublishableModuleForWeb_=s_,window.MutableObservableValue_Array_PublishableModuleForWeb_=sy;break;case"ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal":ts=r,window.ObservableValue_Array_IDLSubscribedVariableSetInfo_=sE,window.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=sb;break;case"ObservableValue_Array_IDLSubscribedVariableInfo__Internal":tl=r,window.ObservableValue_Array_IDLSubscribedVariableInfo_=sv,window.MutableObservableValue_Array_IDLSubscribedVariableInfo_=sS;break;case"ObservableValue_Array_IDLLocalVariableSetInfo__Internal":td=r,window.ObservableValue_Array_IDLLocalVariableSetInfo_=sI,window.MutableObservableValue_Array_IDLLocalVariableSetInfo_=sT;break;case"ObservableValue_Array_IDLLocalVariableInfo__Internal":tc=r,window.ObservableValue_Array_IDLLocalVariableInfo_=sw,window.MutableObservableValue_Array_IDLLocalVariableInfo_=sC;break;case"WritableObservableValue_PropertiesPanelTab__Internal":tu=r,window.WritableObservableValue_PropertiesPanelTab_=sA,window.MutableWritableObservableValue_PropertiesPanelTab_=sN;break;case"ObservableValue_Int_Internal":tp=r,window.ObservableValue_Int=sO,window.MutableObservableValue_Int=sR;break;case"ObservableValue_StrokePanelMode__Internal":th=r,window.ObservableValue_StrokePanelMode_=sP,window.MutableObservableValue_StrokePanelMode_=sL;break;case"ObservableValue_PrototypeDevice__Internal":tm=r,window.ObservableValue_PrototypeDevice_=sD,window.MutableObservableValue_PrototypeDevice_=sM;break;case"WritableObservableValue_PrototypeViewMode__Internal":tg=r,window.WritableObservableValue_PrototypeViewMode_=sk,window.MutableWritableObservableValue_PrototypeViewMode_=sx;break;case"ObservableValue_Double_Internal":tf=r,window.ObservableValue_Double=sF,window.MutableObservableValue_Double=sU;break;case"ObservableValue_AnchorPoint__Internal":t_=r,window.ObservableValue_AnchorPoint_=sB,window.MutableObservableValue_AnchorPoint_=sV;break;case"WritableObservableValue_HoveredComponentPropDef__Internal":ty=r,window.WritableObservableValue_HoveredComponentPropDef_=sH,window.MutableWritableObservableValue_HoveredComponentPropDef_=sG;break;case"ObservableValue_FocusModeState__Internal":tE=r,window.ObservableValue_FocusModeState_=sW,window.MutableObservableValue_FocusModeState_=sz;break;case"ObservableValue_Map_Int_AutoLayoutShortcutHint__Internal":tb=r,window.ObservableValue_Map_Int_AutoLayoutShortcutHint_=sK,window.MutableObservableValue_Map_Int_AutoLayoutShortcutHint_=sj;break;case"ObservableValue_DocumentColorProfile__Internal":tv=r,window.ObservableValue_DocumentColorProfile_=sY,window.MutableObservableValue_DocumentColorProfile_=s$;break;case"ObservableValue_Array_Array_GUID_Internal":tS=r,window.ObservableValue_Array_Array_GUID=sq,window.MutableObservableValue_Array_Array_GUID=sZ}}function ug(e){e.Actions,i=e.AnimationBindings,a=e.AppStateTsApi,o=e.AutosaveHelpers,e.BindingsPerfBench,s=e.NestedCppObject_Internal,window.NestedCppObject=iX,window.MutableNestedCppObject=iJ,l=e.TestCppObject_Internal,window.TestCppObject=iQ,window.MutableTestCppObject=i0,e.CppBindingsTestHelpers,e.BranchingHelpers,e.BranchingState_Internal,window.BranchingState=i1,window.MutableBranchingState=i2,d=e.CanvasSearchHelpers,c=e.CanvasViewState_Internal,window.CanvasViewState=i3,window.MutableCanvasViewState=i5,e.ComponentPropsAiCPPBindings,u=e.CSSExportHelpers,p=e.CurrentPageState_Internal,window.CurrentPageState=i4,window.MutableCurrentPageState=i6,h=e.CurrentSceneState_Internal,window.CurrentSceneState=i8,window.MutableCurrentSceneState=i7,e.CustomFocusHelpers,m=e.DebuggingHelpers,g=e.DevHandoffState_Internal,window.DevHandoffState=i9,window.MutableDevHandoffState=ae,f=e.DiffImpl,_=e.EditorState_Internal,window.EditorState=at,window.MutableEditorState=ar,y=e.EmbedUiState_Internal,window.EmbedUiState=an,window.MutableEmbedUiState=ai,E=e.EditorPreferences_Internal,window.EditorPreferences=aa,window.MutableEditorPreferences=ao,e.JamboardImporterCppBindings,e.EmojiCppBindings,e.FigjamState_Internal,window.FigjamState=as,window.MutableFigjamState=al,b=e.FirstDraftHelpers,e.FontHelpers,e.FullscreenInteractionTestHelpers,v=e.FullscreenPerfInfo,window.FullscreenPerfInfo=v,S=e.FullscreenPerfMetrics,I=e.FullscreenWebSocketTsApi,e.StackBindingsCpp,T=e.Fullscreen,w=e.HandoffBindingsCpp,C=e.HistoryChangesBindings,e.HoverState_Internal,window.HoverState=ad,window.MutableHoverState=ac,A=e.EditorTypeConfig_Internal,window.EditorTypeConfig=au,window.MutableEditorTypeConfig=ap,N=e.Viewport_Internal,window.Viewport=ah,window.MutableViewport=am,O=e.MouseBehaviorEvent_Internal,window.MouseBehaviorEvent=ag,window.MutableMouseBehaviorEvent=af,R=e.CanvasContext_Internal,window.CanvasContext=a_,window.MutableCanvasContext=ay,P=e.InteractionCpp,L=e.CanvasSnapper_Internal,window.CanvasSnapper=aE,window.MutableCanvasSnapper=ab,D=e.LibraryPubSub,M=e.LibraryAssets_Internal,window.LibraryAssets=av,window.MutableLibraryAssets=aS,e.MentionsCppBindings,e.MindmapCppBindings,k=e.Multiplayer,x=e.PluginHelpers,F=e.PropertiesPanelState_Internal,window.PropertiesPanelState=aI,window.MutablePropertiesPanelState=aT,U=e.PrototypingEditorState_Internal,window.PrototypingEditorState=aw,window.MutablePrototypingEditorState=aC,B=e.PrototypingTsApi,V=e.ScaleToolState_Internal,window.ScaleToolState=aA,window.MutableScaleToolState=aN,e.ScaleToolTsApi,e.GradientToolApi,H=e.ImmutableFrameObserver_Internal,window.ImmutableFrameObserver=aO,window.MutableImmutableFrameObserver=aR,G=e.SceneGraph_Internal,window.SceneGraph=aP,window.MutableSceneGraph=aL,W=e.SceneGraphHelpers,z=e.SceneNodeCpp,K=e.SelectionPaintHelpers,e.SelectionStylesHelpers,e.StateManagementCPPBindings,e.SharedStyle,e.StickyClusteringCppBindings,e.TestFullscreenMultiplayerDocument,e.TextStyleOverridesBindings,j=e.Thumbnail,Y=e.UiState_Internal,window.UiState=aD,window.MutableUiState=aM,e.UserPreferencesTestHelpers,$=e.VariablesBindings,q=e.VideoCppBindings,e.WhiteboardAgendaCppBindings,e.WhiteboardStarterKitCppBindings,Z=e.WhiteboardAiTemplatePreviewCppBindings,X=e.WhiteboardAiVisualCppBindings,e.WhiteboardTemplatePreviewCppBindings,e.WhiteboardThumbnailGeneratorCppBindings,J=e.WhiteboardTsApi,Q=e.WhiteboardVotingCppBindings,e.HitTestBindings,ee=e.FlappData_Internal,window.FlappData=ak,window.MutableFlappData=ax,et=e.SingleSlideView_Internal,window.SingleSlideView=aF,window.MutableSingleSlideView=aU,e.SlidesAiBindings,er=e.SlideThemeStylePreview_Internal,window.SlideThemeStylePreview=aB,window.MutableSlideThemeStylePreview=aV,en=e.WhiteboardSectionPresetPickerCppBindings,e.StylesBindings,ei=e.CorePerfInfo,window.CorePerfInfo=ei,e.FeatureFlagsCppApi,ea=e.FullscreenOptimizationExposureLoggingBinding,eo=e.WeakHandleHelpers,es=e.WebAsyncCallback,el=e.PerformanceEventCounters,ed=e.ColorManagementStateJs,ec=e.EditScopeBindings,eu=e.Fonts,ep=e.ImageCppBindings,e.BindingsNode_Internal,window.BindingsNode=aH,window.MutableBindingsNode=aG,eh=e.NodeTsApi,em=e.PrototypeInteractions_Internal,window.PrototypeInteractions=aW,window.MutablePrototypeInteractions=az,eg=e.RevisionNumberAccessor,ef=e.SceneGraphTsApi,e_=e.TextData_Internal,window.TextData=aK,window.MutableTextData=aj,ey=e.DerivedTextData_Internal,window.DerivedTextData=aY,window.MutableDerivedTextData=a$,eE=e.UniquePath_Internal,window.UniquePath=aq,window.MutableUniquePath=aZ,e.UniquePathHelpers,eb=e.CompiledVectorData_Internal,window.CompiledVectorData=aX,window.MutableCompiledVectorData=aJ,e.AccessibilityHelpers,e.CanvasSelection_Internal,window.CanvasSelection=aQ,window.MutableCanvasSelection=a0,ev=e.SlideDeck_Internal,window.SlideDeck=a1,window.MutableSlideDeck=a2,eS=e.SlideThemeLibBindings_Internal,window.SlideThemeLibBindings=a3,window.MutableSlideThemeLibBindings=a5,eI=e.SlideAnimationBindings_Internal,window.SlideAnimationBindings=a4,window.MutableSlideAnimationBindings=a6,eT=e.SitesPreviewObserver_Internal,window.SitesPreviewObserver=a8,window.MutableSitesPreviewObserver=a7,ew=e.AnnotationObserver_Internal,window.AnnotationObserver=a9,window.MutableAnnotationObserver=oe,eC=e.NodeTsApiGenerated,e.Bindings,eA=e.DocumentStateTsApi,e.FigmaScopeBindings,e.VariablesMirrorManager,e.SharedDebuggingHelpers,eN=e.InteractionTestHelpers,eO=e.Prototype,window.Prototype=eO,eR=e.ObservableValue_Map_GUID_Int_Internal,window.ObservableValue_Map_GUID_Int=ot,window.MutableObservableValue_Map_GUID_Int=or,eP=e.WritableObservableValue_SlidesToolMode__Internal,window.WritableObservableValue_SlidesToolMode_=on,window.MutableWritableObservableValue_SlidesToolMode_=oi,eL=e.ObservableValue_TestCounter__Internal,window.ObservableValue_TestCounter_=oa,window.MutableObservableValue_TestCounter_=oo,eD=e.ObservableValue_Array_TestCounter__Internal,window.ObservableValue_Array_TestCounter_=os,window.MutableObservableValue_Array_TestCounter_=ol,eM=e.ObservableValue_Array_Bool_Internal,window.ObservableValue_Array_Bool=od,window.MutableObservableValue_Array_Bool=oc,ek=e.ObservableValue_Bool_Internal,window.ObservableValue_Bool=ou,window.MutableObservableValue_Bool=op,ex=e.ObservableValue_Float_Internal,window.ObservableValue_Float=oh,window.MutableObservableValue_Float=om,eF=e.WritableObservableValue_Bool_Internal,window.WritableObservableValue_Bool=og,window.MutableWritableObservableValue_Bool=of,eU=e.WritableObservableValue_Double_Internal,window.WritableObservableValue_Double=o_,window.MutableWritableObservableValue_Double=oy,eB=e.WritableObservableValue_Int_Internal,window.WritableObservableValue_Int=oE,window.MutableWritableObservableValue_Int=ob,eV=e.ObservableValue_BoundingRect__Internal,window.ObservableValue_BoundingRect_=ov,window.MutableObservableValue_BoundingRect_=oS,eH=e.WritableObservableValue_Optional_InlineMenuTarget__Internal,window.WritableObservableValue_Optional_InlineMenuTarget_=oI,window.MutableWritableObservableValue_Optional_InlineMenuTarget_=oT,eG=e.ObservableValue_Optional_FocusedStackRegion__Internal,window.ObservableValue_Optional_FocusedStackRegion_=ow,window.MutableObservableValue_Optional_FocusedStackRegion_=oC,eW=e.WritableObservableValue_AnchorPoint__Internal,window.WritableObservableValue_AnchorPoint_=oA,window.MutableWritableObservableValue_AnchorPoint_=oN,ez=e.WritableObservableValue_Array_GUID_Internal,window.WritableObservableValue_Array_GUID=oO,window.MutableWritableObservableValue_Array_GUID=oR,eK=e.WritableObservableValue_Optional_GUID_Internal,window.WritableObservableValue_Optional_GUID=oP,window.MutableWritableObservableValue_Optional_GUID=oL,ej=e.WritableObservableValue_Optional_BoundingRect__Internal,window.WritableObservableValue_Optional_BoundingRect_=oD,window.MutableWritableObservableValue_Optional_BoundingRect_=oM,eY=e.ObservableValue_String_Internal,window.ObservableValue_String=ok,window.MutableObservableValue_String=ox,e$=e.ObservableValue_Map_String_Array_NodeStatus__Internal,window.ObservableValue_Map_String_Array_NodeStatus_=oF,window.MutableObservableValue_Map_String_Array_NodeStatus_=oU,eq=e.ObservableValue_GUID_Internal,window.ObservableValue_GUID=oB,window.MutableObservableValue_GUID=oV,eZ=e.ObservableValue_Array_GUID_Internal,window.ObservableValue_Array_GUID=oH,window.MutableObservableValue_Array_GUID=oG,eX=e.ObservableValue_Json_Internal,window.ObservableValue_Json=oW,window.MutableObservableValue_Json=oz,eJ=e.ObservableValue_PropertyState__Internal,window.ObservableValue_PropertyState_=oK,window.MutableObservableValue_PropertyState_=oj,eQ=e.WritableObservableValue_GUID_Internal,window.WritableObservableValue_GUID=oY,window.MutableWritableObservableValue_GUID=o$,e0=e.WritableObservableValue_KeyboardLayout__Internal,window.WritableObservableValue_KeyboardLayout_=oq,window.MutableWritableObservableValue_KeyboardLayout_=oZ,e1=e.ObservableValue_Array_DevHandoffOverviewNode__Internal,window.ObservableValue_Array_DevHandoffOverviewNode_=oX,window.MutableObservableValue_Array_DevHandoffOverviewNode_=oJ,e2=e.ObservableValue_CommentAnchorData__Internal,window.ObservableValue_CommentAnchorData_=oQ,window.MutableObservableValue_CommentAnchorData_=o0,e3=e.WritableObservableValue_ActiveEmbedData__Internal,window.WritableObservableValue_ActiveEmbedData_=o1,window.MutableWritableObservableValue_ActiveEmbedData_=o2,e5=e.WritableObservableValue_PresetType__Internal,window.WritableObservableValue_PresetType_=o3,window.MutableWritableObservableValue_PresetType_=o5,e4=e.WritableObservableValue_ColorFormat__Internal,window.WritableObservableValue_ColorFormat_=o4,window.MutableWritableObservableValue_ColorFormat_=o6,e6=e.WritableObservableValue_Float_Internal,window.WritableObservableValue_Float=o8,window.MutableWritableObservableValue_Float=o7,e8=e.WritableObservableValue_HandoffOutputFormat__Internal,window.WritableObservableValue_HandoffOutputFormat_=o9,window.MutableWritableObservableValue_HandoffOutputFormat_=se,e7=e.WritableObservableValue_HandoffPlatformTarget__Internal,window.WritableObservableValue_HandoffPlatformTarget_=st,window.MutableWritableObservableValue_HandoffPlatformTarget_=sr,e9=e.WritableObservableValue_ExportSelectionSettings__Internal,window.WritableObservableValue_ExportSelectionSettings_=sn,window.MutableWritableObservableValue_ExportSelectionSettings_=si,te=e.ObservableValue_Array_PublishableSymbolForWeb__Internal,window.ObservableValue_Array_PublishableSymbolForWeb_=sa,window.MutableObservableValue_Array_PublishableSymbolForWeb_=so,tt=e.ObservableValue_Array_SubscribedSymbolForWeb__Internal,window.ObservableValue_Array_SubscribedSymbolForWeb_=ss,window.MutableObservableValue_Array_SubscribedSymbolForWeb_=sl,tr=e.ObservableValue_Array_PublishableStateGroupForWeb__Internal,window.ObservableValue_Array_PublishableStateGroupForWeb_=sd,window.MutableObservableValue_Array_PublishableStateGroupForWeb_=sc,tn=e.ObservableValue_Array_SubscribedStateGroupForWeb__Internal,window.ObservableValue_Array_SubscribedStateGroupForWeb_=su,window.MutableObservableValue_Array_SubscribedStateGroupForWeb_=sp,ti=e.ObservableValue_Array_PublishableStyleForWeb__Internal,window.ObservableValue_Array_PublishableStyleForWeb_=sh,window.MutableObservableValue_Array_PublishableStyleForWeb_=sm,ta=e.ObservableValue_Array_SubscribedStyleForWeb__Internal,window.ObservableValue_Array_SubscribedStyleForWeb_=sg,window.MutableObservableValue_Array_SubscribedStyleForWeb_=sf,to=e.ObservableValue_Array_PublishableModuleForWeb__Internal,window.ObservableValue_Array_PublishableModuleForWeb_=s_,window.MutableObservableValue_Array_PublishableModuleForWeb_=sy,ts=e.ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal,window.ObservableValue_Array_IDLSubscribedVariableSetInfo_=sE,window.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=sb,tl=e.ObservableValue_Array_IDLSubscribedVariableInfo__Internal,window.ObservableValue_Array_IDLSubscribedVariableInfo_=sv,window.MutableObservableValue_Array_IDLSubscribedVariableInfo_=sS,td=e.ObservableValue_Array_IDLLocalVariableSetInfo__Internal,window.ObservableValue_Array_IDLLocalVariableSetInfo_=sI,window.MutableObservableValue_Array_IDLLocalVariableSetInfo_=sT,tc=e.ObservableValue_Array_IDLLocalVariableInfo__Internal,window.ObservableValue_Array_IDLLocalVariableInfo_=sw,window.MutableObservableValue_Array_IDLLocalVariableInfo_=sC,tu=e.WritableObservableValue_PropertiesPanelTab__Internal,window.WritableObservableValue_PropertiesPanelTab_=sA,window.MutableWritableObservableValue_PropertiesPanelTab_=sN,tp=e.ObservableValue_Int_Internal,window.ObservableValue_Int=sO,window.MutableObservableValue_Int=sR,th=e.ObservableValue_StrokePanelMode__Internal,window.ObservableValue_StrokePanelMode_=sP,window.MutableObservableValue_StrokePanelMode_=sL,tm=e.ObservableValue_PrototypeDevice__Internal,window.ObservableValue_PrototypeDevice_=sD,window.MutableObservableValue_PrototypeDevice_=sM,tg=e.WritableObservableValue_PrototypeViewMode__Internal,window.WritableObservableValue_PrototypeViewMode_=sk,window.MutableWritableObservableValue_PrototypeViewMode_=sx,tf=e.ObservableValue_Double_Internal,window.ObservableValue_Double=sF,window.MutableObservableValue_Double=sU,t_=e.ObservableValue_AnchorPoint__Internal,window.ObservableValue_AnchorPoint_=sB,window.MutableObservableValue_AnchorPoint_=sV,ty=e.WritableObservableValue_HoveredComponentPropDef__Internal,window.WritableObservableValue_HoveredComponentPropDef_=sH,window.MutableWritableObservableValue_HoveredComponentPropDef_=sG,tE=e.ObservableValue_FocusModeState__Internal,window.ObservableValue_FocusModeState_=sW,window.MutableObservableValue_FocusModeState_=sz,tb=e.ObservableValue_Map_Int_AutoLayoutShortcutHint__Internal,window.ObservableValue_Map_Int_AutoLayoutShortcutHint_=sK,window.MutableObservableValue_Map_Int_AutoLayoutShortcutHint_=sj,tv=e.ObservableValue_DocumentColorProfile__Internal,window.ObservableValue_DocumentColorProfile_=sY,window.MutableObservableValue_DocumentColorProfile_=s$,tS=e.ObservableValue_Array_Array_GUID_Internal,window.ObservableValue_Array_Array_GUID=sq,window.MutableObservableValue_Array_Array_GUID=sZ}},62531:(e,r,n)=>{"use strict";n.d(r,{l7:()=>a,nc:()=>o,zk:()=>i.zkO}),n(30637),n(92592);var i=n(52800);let a=Object.assign(function(e,r,n){var a,o;let s=null==(a=i.Xxv)?void 0:a.openEditScope(e,r);try{return n()}finally{null!=s&&(null==(o=i.Xxv)||o.closeEditScope(s))}},{system:function(e,r){return a(i.zkO.SYSTEM,e,r)},user:function(e,r){return a(i.zkO.USER,e,r)},plugin:function(e,r){return a(i.zkO.PLUGIN,e,r)},onboarding:function(e,r){return a(i.zkO.ONBOARDING,e,r)},autosave:function(e,r){return a(i.zkO.AUTOSAVE,e,r)},ai:function(e,r){return a(i.zkO.AI,e,r)},testSetup:function(e,r){return r()}}),o=Object.assign(function(e,r,n){return(...i)=>a(e,r,()=>n(...i))},{user:function(e,r){return(...n)=>a.user(e,()=>r(...n))},system:function(e,r){return(...n)=>a.system(e,()=>r(...n))},plugin:function(e,r){return(...n)=>a.plugin(e,()=>r(...n))},onboarding:function(e,r){return(...n)=>a.onboarding(e,()=>r(...n))},testSetup:function(e,r){return(...n)=>a.testSetup(e,()=>r(...n))}})},83942:(e,r,n)=>{"use strict";let i,a;n.d(r,{W0:()=>h,f7:()=>f,jr:()=>g});var o=n(98750),s=n(88169),l=n(63706),d=n(46689),c=n(51608);n(1161);var u=n(56390),p=n(52800),h=((i=h||{})[i.YES=0]="YES",i[i.NO=1]="NO",i),m=((a=m||{})[a.YES=0]="YES",a[a.NO=1]="NO",a);function g(e,r=0,n=1){return!!function(e,r=0,n=1){if(!u.Y5||!u.Y5.isRootElementVisible())return!1;let i=e.keyCode,a=(0,o.Fo)(e);if(i===o.Uz.TAB&&(0,o.sC)(e,o.xH.SHIFT));else if(l.Ay.mac&&e.ctrlKey&&(i===o.Uz.A||i===o.Uz.B||i===o.Uz.D||i===o.Uz.E||i===o.Uz.F||i===o.Uz.H||i===o.Uz.K||i===o.Uz.L||i===o.Uz.N||i===o.Uz.O||i===o.Uz.P||i===o.Uz.T||i===o.Uz.V));else if(i===o.Uz.DELETE||i===o.Uz.BACKSPACE||i===o.Uz.NUMPAD_DELETE||i===o.Uz.SPACE||i===o.Uz.ENTER||i===o.Uz.HOME||i===o.Uz.END||i===o.Uz.PAGE_UP||i===o.Uz.PAGE_DOWN||i===o.Uz.A&&1===n);else if(a&&i===o.Uz.Z&&1===r);else if(a||e.ctrlKey)return!0;return!1}(e,r,n)&&f(e,!0)}function f(e,r=!1){var n;let i;if("keydown"===e.type)i=p.Bx4.KEY_PRESS;else{if("keyup"!==e.type)return console.error("Invalid event passed to forwardKeyboardEvent"),!1;i=p.Bx4.KEY_RELEASE}let a=(0,s.v7)(),l=u.Y5.DEPRECATED_sendMessage(r?"handleKeyboardShortcut":"handleKeyboardEvent",{type:i,which:e.which,modifierKeys:(0,o.sN)(e),isRepeat:e.repeat,code:e.code??(null==(n=e.nativeEvent)?void 0:n.code),shouldUseLayoutAndCode:a!==p.aTn.UNKNOWN,layout:a}),d=null==l?void 0:l.args.accepted;return d&&e.preventDefault(),d}(0,d.ny)(g),(0,c.n)(g)},33739:(e,r,n)=>{"use strict";let i;n.d(r,{F8:()=>f,M1:()=>y,Ri:()=>v,VC:()=>I,co:()=>E,eM:()=>T,no:()=>g,yV:()=>S});var a=n(84934);n(57663),n(1888);var o=n(17333),s=n(32284),l=n(66712);n(63706),n(76621);var d=n(86640);n(5984);var c=n(208);n(39863);var u=n(52800),p=n(38981),h=n(79296);let m=(0,l.kc)().font_index_use_local?"http://localhost:8003/font":"https://static.figma.com/font";(0,l.kc)().font_index_use_kiwi&&(i="index_1055da8ef8b4080991c6b9b0d7771824.kiwi.json");function g(){return i?`${m}/${i}`:`${m}/index_1055da8ef8b4080991c6b9b0d7771824.json`}function f(e){for(let r of e)if("Artifakt Element"===r.family&&"Thin"===r.style?r.weight=100:"Artifakt Element"===r.family&&"Extra Light"===r.style&&(r.weight=200),"Avenir"===r.family&&r.source===u.jXp.LOCAL)switch(r.style){case"Book":case"Book Oblique":r.weight=350;break;case"Heavy":case"Heavy Oblique":r.weight=800;break;case"Black":case"Black Oblique":r.weight=900}for(let r of e)!r.italic&&function(e){let r=e.toLowerCase();for(let e of["italic","oblique"])if(r.includes(e))return!0;return!1}(r.style)&&(r.italic=!0);return e}let _=new Map;async function y(e){if(!e.id)throw Error("Invalid font id");if(e.source===u.jXp.LOCAL&&o.eD&&!(0,l.kc)().desktop_use_agent)return o.eD.getFontFile(e.id,e.postscriptName);let r=null,n=!1;switch(e.source){case u.jXp.LOCAL:break;case u.jXp.GOOGLE:n=!0,r=`${m}/${e.id}`;break;case u.jXp.SHARED:e.fileKey?r=`/api/fonts/${e.id}/file/${e.fileKey}`:e.teamId?r=`/api/fonts/${e.id}/team/${e.teamId}`:e.orgId&&(r=`/api/fonts/${e.id}/org/${e.orgId}`)}if(!r){if(o.eD&&(0,l.kc)().desktop_use_agent)return(0,a.sx)("Desktop Use Agent Failed",{font:!0}),o.eD.getFontFile(e.id,e.postscriptName);throw Error("Invalid font source")}if(n){if(_.has(e.id))return _.get(e.id);let{data:n}=await c.Ay.crossOriginGet(r,null,{responseType:"arraybuffer",headers:{Accept:"text/plain"}});return n}{let{data:e}=await (0,c.GD)(r,null,{responseType:"arraybuffer",headers:{...c.Ay.requiredHeaders,Accept:"text/plain"}});return e}}function E(e,r,n,i,a){return p.R.getFile({fileKey:i,fileHasParentOrg:a,family:e,style:r,version:n}).then(({data:e})=>{if(!e||!e.meta)return Promise.reject();let{meta:r}=e;if(!r.url||!r.font_info)return Promise.reject();let n=r.font_info&&r.font_info.variation_instances,i=f(n&&n.length>0?n.map(e=>(0,s.RG)(r.font_info,e))??[]:[(0,s.RG)(r.font_info)]);return 0===i.length?Promise.reject():c.Ay.crossOriginGet(r.url,null,{responseType:"arraybuffer",headers:{...c.Ay.requiredHeaders,Accept:"text/plain"}}).then(({data:e})=>(u.vXe.addToFontList({list:i,localizedToUnlocalized:[],renames:{family:{},style:{}}}),e))})}let b=new Map;function v(e,r,n){let i=b.get(e);void 0===i&&(i=new Map,b.set(e,i));let a=i.get(r);void 0===a&&(a=[],i.set(r,a)),a.push(n)}function S(e,r,n){let i=b.get(e);if(void 0!==i){let e=i.get(r);if(void 0!==e){let r=e.indexOf(n);-1!==r&&e.splice(r,1)}}}function I(e,r){return new Promise((n,i)=>{u.vXe.fontIsLoaded(e,r)&&n();let a=o=>{o===u.bk.LOADED?(S(e,r,a),n()):o===u.bk.FAILED&&(S(e,r,a),i())};v(e,r,a)})}let T={list:[],localizedToUnlocalized:[],renames:{family:{},style:{}},emojis:{revision:5,sizes:[0],sequences:[]}};(0,h.D)(()=>{var e;let r=null==(e=d.x4)?void 0:e.getItem("desktop_local_fonts_modified_timestamp");return"string"!=typeof r||isNaN(parseInt(r))?null:parseInt(r)})},8405:(e,r,n)=>{"use strict";n.d(r,{T:()=>a});var i=n(9511);function a(e){return e===i.Oin.HIDE_UI||e===i.Oin.ON_AND_LOCKED}},67245:(e,r,n)=>{"use strict";n.d(r,{Gk:()=>s,c6:()=>a,jH:()=>o});let i=!1;function a(){i=!0}function o(){return i}function s(){i=!1}},22983:(e,r,n)=>{"use strict";n.d(r,{ck:()=>l.ck,ds:()=>c,xp:()=>u}),n(17333);var i=n(66712);n(81388),n(38269);var a=n(28467),o=n(84968),s=n(75847),l=n(69870);let d=Math.random().toString(36).slice(2);function c(){return d}function u(e,r){var n;let l=e&&e.teamId&&r.teams[e.teamId],d=e&&e.folderId,c=d&&e&&(0,a.canCreateFile)(d,r,e.editorType),u=e&&"whiteboard"===e.editorType;if(l&&!(0,o.rR)(l,{type:u?o.sK.ADD_FIGJAM_FILE:o.sK.ADD_DESIGN_FILE,isDestinationTeamDrafts:(0,i.kc)().ps_benchmark&&(0,s.jd)(null==(n=r.openFile)?void 0:n.project)})&&c)return l}},73119:(e,r,n)=>{"use strict";n.d(r,{q:()=>l});var i=n(11855),a=n(88706),o=n(38580),s=n(56390);function l(){let[e,r]=(0,i.useState)(void 0!==s.Y5&&s.Y5.isReady());return(0,i.useEffect)(()=>{void 0===s.Y5||s.Y5.isReady()||s.Y5.onReady().then(()=>{r(s.Y5.isReady())})},[]),e}(()=>{let e=(0,a.t_)(()=>void 0!==s.Y5&&s.Y5.isReady());return e.onMount=e=>{void 0===s.Y5||s.Y5.isReady()||s.Y5.onReady().then(()=>{e(s.Y5.isReady())})},(0,o.eU)(r=>r(e))})()},90297:(e,r,n)=>{"use strict";n.d(r,{s:()=>s});class i{constructor(e=0,r=0){this.x=e,this.y=r}static fromFigVector(e){return new i(e.x,e.y)}static toVectorD(e){return{x:e.x,y:e.y}}static fromVectorD(e){return new i(e.x,e.y)}isInvalid(){return this.hasNaN()}clone(){return new i(this.x,this.y)}hasNaN(){return Number.isNaN(this.x)||Number.isNaN(this.y)}equals(e){return e&&this.x===e.x&&this.y===e.y}toString(){return`(${this.x}, ${this.y})`}plus(e){return new i(this.x+e.x,this.y+e.y)}incrementBy(e){this.x=this.x+e.x,this.y=this.y+e.y}minus(e){return new i(this.x-e.x,this.y-e.y)}distanceTo(e){let r=e.x-this.x,n=e.y-this.y;return Math.sqrt(r*r+n*n)}component(e){return 0===e?this.x:this.y}multiplyBy(e){return new i(this.x*e,this.y*e)}divideBy(e){return new i(this.x/e,this.y/e)}transpose(){return new i(this.y,this.x)}rounded(){return new i(Math.round(this.x),Math.round(this.y))}static max(e,r){return new i(Math.max(e.x,r.x),Math.max(e.y,r.y))}static min(e,r){return new i(Math.min(e.x,r.x),Math.min(e.y,r.y))}static infinity(){return new i(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}static invalid(){return new i(Number.NaN,Number.NaN)}}class a{constructor(e=new i,r=new i){this.origin=e,this.size=r}static fromRectD(e){return new a(i.fromVectorD(e.origin),i.fromVectorD(e.size))}clone(){return new a(this.origin.clone(),this.size.clone())}equals(e){return this.origin.equals(e.origin)&&this.size.equals(e.size)}left(){return this.origin.x}top(){return this.origin.y}right(){return this.size.x===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:this.origin.x+this.width()}bottom(){return this.size.y===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:this.origin.y+this.height()}bottomRight(){return new i(this.right(),this.bottom())}bottomLeft(){return new i(this.left(),this.bottom())}topLeft(){return new i(this.left(),this.top())}topRight(){return new i(this.right(),this.top())}topCenter(){return new i(this.center().x,this.top())}bottomCenter(){return new i(this.center().x,this.bottom())}centerLeft(){return new i(this.left(),this.center().y)}centerRight(){return new i(this.right(),this.center().y)}center(){return new i(this.origin.x+this.size.x/2,this.origin.y+this.size.y/2)}width(){return this.size.x}height(){return this.size.y}transpose(){return new a(this.origin.transpose(),this.size.transpose())}offsetBy(e){return new a(this.origin.plus(e),this.size)}scaledBy(e){return new a(this.origin.multiplyBy(e),this.size.multiplyBy(e))}isInvalid(){return this.size.x<0||this.size.y<0||this.origin.hasNaN()||this.size.hasNaN()}isValid(){return!this.isInvalid()}isEmpty(){return!!this.isInvalid()||this.size.x<=0||this.size.y<=0}unionWith(e){let r=i.min(this.origin,e.origin),n=i.max(this.bottomRight(),e.bottomRight());return r.equals(n)?this:new a(r,n.minus(r))}containsIncludingBoundary(e){return!this.isEmpty()&&!e.isInvalid()&&this.left()<=e.left()&&this.right()>=e.right()&&this.top()<=e.top()&&this.bottom()>=e.bottom()}containsPointIncludingBoundary(e){return!this.isEmpty()&&this.left()<=e.x&&e.x<=this.right()&&this.top()<=e.y&&e.y<=this.bottom()}intersectWith(e){if(this.isInvalid()||e.isInvalid())return a.invalidRect();let r=i.max(this.origin,e.origin),n=new a(r,i.min(this.bottomRight(),e.bottomRight()).minus(r));if(n.origin.hasNaN()||n.size.hasNaN())throw Error("Rect.intersectWith produced a result with NaN");return n.isInvalid()&&(n=a.invalidRect()),n}hasIntersectionWith(e){return!this.intersectWith(e).isEmpty()}expand(e){return this.isInvalid()?a.invalidRect():"number"==typeof e?a.fromOriginAndSize(this.origin.x-e,this.origin.y-e,this.size.x+2*e,this.size.y+2*e):new a(this.origin.minus(e),this.size.plus(e.multiplyBy(2)))}static invalidRect(){return new a(new i(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),new i(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY))}static infinite(){return new a(i.infinity().multiplyBy(-1),i.infinity())}static fromOriginAndSize(e,r,n,o){return new a(new i(e,r),new i(n,o))}static fromCenterSize(e,r){let n=r.divideBy(2);return new a(e.minus(n),r)}static fromFigRect(e){return new a(new i(e.x,e.y),new i(e.w,e.h))}static computeBounds(e,r){let n=i.min(e,r);return new a(n,i.max(e,r).minus(n))}static computeBoundsFromPointArray(e){let r=i.infinity(),n=i.infinity().multiplyBy(-1);for(let a of e)r=i.min(r,a),n=i.max(n,a);return new a(r,n.minus(r))}}let o=class{constructor(){this.m00=this.m01=this.m02=this.m10=this.m11=this.m12=0}static identity(){return this.fromNumbers(1,0,0,0,1,0)}static fromNumbers(e,r,n,i,a,s){let l=new o;return l.m00=e,l.m01=r,l.m02=n,l.m10=i,l.m11=a,l.m12=s,l}static fromVectors(e,r,n){let i=new o;return i.m00=r.x,i.m01=n.x,i.m02=e.x,i.m10=r.y,i.m11=n.y,i.m12=e.y,i}static fromFigMatrix(e){let r=new o;return r.m00=e.m00,r.m01=e.m01,r.m02=e.m02,r.m10=e.m10,r.m11=e.m11,r.m12=e.m12,r}toFigMatrix(){return{m00:this.m00,m01:this.m01,m02:this.m02,m10:this.m10,m11:this.m11,m12:this.m12}}axisX(){return new i(this.m00,this.m10)}axisY(){return new i(this.m01,this.m11)}offset(){return new i(this.m02,this.m12)}toRadians(){return Math.atan2(this.m10,this.m00)}toDegrees(){return 180*Math.atan2(this.m10,this.m00)/Math.PI}toScale(){let{m00:e,m01:r,m10:n,m11:a}=this;return new i(Math.sqrt(e*e+n*n),Math.sqrt(r*r+a*a))}hasNaN(){return this.m00!=this.m00&&this.m01!=this.m01&&this.m02!=this.m02&&this.m10!=this.m10&&this.m11!=this.m11&&this.m12!=this.m12}translate(e,r){this.m02=e*this.m00+r*this.m01+this.m02,this.m12=e*this.m10+r*this.m11+this.m12}rotate(e){if(0===e)return;let r=Math.sin(e),n=Math.cos(e),i=n*this.m00+r*this.m01,a=n*this.m01-r*this.m00,o=n*this.m10+r*this.m11,s=n*this.m11-r*this.m10;this.m00=i,this.m01=a,this.m10=o,this.m11=s}scale(e,r){this.m00*=e,this.m01*=r,this.m10*=e,this.m11*=r}multiply(e){let r=this.m00*e.m00+this.m01*e.m10,n=this.m00*e.m01+this.m01*e.m11,i=this.m00*e.m02+this.m01*e.m12+this.m02,a=this.m10*e.m00+this.m11*e.m10,o=this.m10*e.m01+this.m11*e.m11,s=this.m10*e.m02+this.m11*e.m12+this.m12;this.m00=r,this.m01=n,this.m02=i,this.m10=a,this.m11=o,this.m12=s}determinant(){return this.m00*this.m11-this.m01*this.m10}invert(){let e=1/this.determinant();if(!isFinite(e))return!1;let r=o.fromNumbers(this.m11*e,-this.m01*e,(this.m01*this.m12-this.m11*this.m02)*e,-this.m10*e,this.m00*e,(this.m10*this.m02-this.m00*this.m12)*e);return!r.hasNaN()&&(this.m00=r.m00,this.m01=r.m01,this.m02=r.m02,this.m10=r.m10,this.m11=r.m11,this.m12=r.m12,!0)}transformRect(e){if(e.isInvalid())return e;if(0===this.axisX().y&&0===this.axisY().x)return a.computeBounds(this.transformPoint(e.topLeft()),this.transformPoint(e.bottomRight()));let r=[this.transformPoint(e.topLeft()),this.transformPoint(e.topRight()),this.transformPoint(e.bottomLeft()),this.transformPoint(e.bottomRight())];return a.computeBoundsFromPointArray(r)}transformPoint(e){return new i(this.m00*e.x+this.m01*e.y+this.m02,this.m10*e.x+this.m11*e.y+this.m12)}transformDirection(e){return new i(this.m00*e.x+this.m01*e.y,this.m10*e.x+this.m11*e.y)}inverseTransformPoint(e){let r=1/this.determinant();if(!isFinite(r))return i.invalid();let n=new i((this.m11*e.x-this.m01*e.y+this.m01*this.m12-this.m11*this.m02)*r,(this.m00*e.y-this.m10*e.x+this.m10*this.m02-this.m00*this.m12)*r);return n.hasNaN()?i.invalid():n}},s=o;s.kEpsilon=1e-6,s.kEpsilonSqr=o.kEpsilon*o.kEpsilon},4978:(e,r,n)=>{"use strict";n.d(r,{B0:()=>D,EC:()=>P});var i=n(84934),a=n(63142),o=n(23591),s=n(63706);n(208);var l=n(55992),d=n(94429),c=n(52800),u=n(19867);let p=document.createElement("canvas"),h=p.getContext("2d"),m=document.createElement("canvas"),g=function(){try{return m.getContext("2d",{colorSpace:"display-p3"})}catch{return null}}(),f=new Set;function _(e){null===e||e===o.a.ROTATE_0||f.has(e)||(f.add(e),(0,i.sx)("Rotated Image Loaded",{orientation:e}))}async function y(e,r,n,i){let a=c.RYP.SRGB;if("image/png"===r){let r=(0,d.Ll)(e);if(e=r.withoutColorSpace,r.iccProfileRawData)try{a=(0,l.Y)(r.iccProfileRawData)}catch(e){}}let s=null;if("image/jpeg"===r){try{let r=(0,d.yy)(e);r&&(a=(0,l.Y)(r)??c.RYP.SRGB)}catch(e){}_(s=o.f.getOrientation(e)),A&&(s=null)}let u=!1;"image/gif"===r&&(u=(0,d.fB)(e));let p=URL.createObjectURL(new Blob([e],{type:r}));try{let e=await L({url:p,height:null,width:null});return{...E(e,n,i,s,u),colorProfile:a}}finally{URL.revokeObjectURL(p)}}function E(e,r,n,i,a){let{width:s,height:l,originalWidth:d,originalHeight:c,isRotated:u}=function(e,r,n,i,a){let s=o.f.angleFromOrientation(a),l=o.f.orientationIsFlipped(a),d=e,c=r,u=e,m=r;if(90===s||270===s){let n=r;r=e,e=n,n=m,m=u,u=n}return n>0&&i>0&&(e>n&&(r=Math.round(r*n/e),e=n),r>i&&(e=Math.round(e*i/r),r=i),e=Math.max(1,e),r=Math.max(1,r)),p.width=e,p.height=r,h.translate(e/2,r/2),h.scale(e/u,r/m),l&&h.scale(-1,1),h.rotate(Math.PI/180*s),h.translate(-d/2,-c/2),{originalHeight:m,originalWidth:u,width:e,height:r,isRotated:0!==s}}(e.width,e.height,r,n,i);return h.drawImage(e,0,0),{width:s,height:l,originalWidth:d,originalHeight:c,isMultiFrameGIF:a,isRotated:u,bitmap:null,rgba:new Uint8Array(h.getImageData(0,0,s,l).data.buffer)}}function b(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}async function v(){let e="/9j/4AAQSkZJRgABAgEASABIAAD/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAMAAAITAAMAAAABAAEAAAAAAAAAAAAcAAAAAQAAABwAAAAB/9sAhAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAQAAgDAREAAhEBAxEB/8QASwABAQAAAAAAAAAAAAAAAAAAAAsQAQAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAAAAAAAAAAAAAAARAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AJ/4AP/Z";if(!C.works)return 16==(await L({url:`data:image/jpeg;base64,${e}`,height:null,width:null})).width;{let r=new Blob([b(e)],{type:"image/jpeg"});return 16==(await createImageBitmap(r)).width}}async function S(){if(!C.works)return!1;let e=document.createElement("canvas");e.width=16,e.height=8;let r=e.getContext("2d"),n=new Blob([Uint8Array.from(atob("/9j/4AAQSkZJRgABAgEASABIAAD/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAMAAAITAAMAAAABAAEAAAAAAAAAAAAcAAAAAQAAABwAAAAB/9sAhAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAQAAgDAREAAhEBAxEB/8QASwABAQAAAAAAAAAAAAAAAAAAAAsQAQAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAAAAAAAAAAAAAAARAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AJ/4AP/Z"),e=>e.charCodeAt(0))],{type:"image/jpeg"});r.drawImage(await createImageBitmap(n),0,0);let i=r.getImageData(0,0,16,8);r.clearRect(0,0,e.width,e.height);let a=URL.createObjectURL(n),o=new Image;await new Promise(e=>{o.onload=e,o.src=a}),r.drawImage(await createImageBitmap(o),0,0);let s=r.getImageData(0,0,16,8);if(i.data.length!==s.data.length)return!1;for(var l=0;l<i.data.length;++l)if(i.data[l]!==s.data[l])return!1;return!0}async function I(e,r){if(!e)return!1;try{let i=await createImageBitmap(r),a=i.width,o=i.height,s=!1,l=e.getParameter(e.ACTIVE_TEXTURE);e.activeTexture(e.TEXTURE0);let d=e.getParameter(e.FRAMEBUFFER_BINDING),c=e.getParameter(e.TEXTURE_BINDING_2D),u=null,p=null;try{if(p=e.createTexture(),e.bindTexture(e.TEXTURE_2D,p),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.bindTexture(e.TEXTURE_2D,null),u=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,u),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,p,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,null),e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE){var n=new Uint8Array(4*a*o);e.readPixels(0,0,a,o,e.RGBA,e.UNSIGNED_BYTE,n),255===n[0]&&(s=!0)}}catch{}return e.bindFramebuffer(e.FRAMEBUFFER,d),e.bindTexture(e.TEXTURE_2D,c),e.deleteTexture(p),e.deleteFramebuffer(u),e.activeTexture(l),s}catch{return!1}}async function T(e){C=await w(e),A=await v(),N=!s.Ay.webkit||await S()}async function w(e){let r=new Blob([(0,a.D4)("iVBORw0KGgoAAAANSUhEUgAAAAEAAAAQBAMAAAAlsQiEAAAALVBMVEX///////////////////////////////////////////////////////8AAACgbBYXAAAAD3RSTlPx5NXDsJ2Ic19LOCgYDQAksqQSAAAAJklEQVQI12MAAQEGBQYDBgeGAIYEhgKGBoYJDAsYNjAcYHjAcAEAP7AGkQT7krEAAAAASUVORK5CYII=")],{type:"image/png"});try{try{return await createImageBitmap(r,{premultiplyAlpha:"none"}),{works:!0,allowsOptions:!0}}catch(n){return{works:await I(e,r),allowsOptions:!1}}}catch{return{works:!1,allowsOptions:!1}}}let C={works:!1,allowsOptions:!1},A=!1,N=!0,O=null,R=null,P={init(e){R=T(e)},reset(){null!==O&&O.forgetCallbacks()},terminateWorker(){null!==O&&(O.terminate(),O=null)},encode(e,r,n,i,o,s,l=c.RYP.SRGB,d=!1){let u,f=p,_=h;l===c.RYP.DISPLAY_P3&&m&&g&&(f=m,_=g);let y=e*r*4,E=_.createImageData(e,r);s&&(n=function(e,r){let n=new Uint8Array(r);for(let i=0;i<r;i+=4){let r=e[i+3|0],a=255.999/r;n[i]=e[i]*a,n[i+1|0]=e[i+1|0]*a,n[i+2|0]=e[i+2|0]*a,n[i+3|0]=r}return n}(n,y)),d&&(n=function(e,r){let n=new Uint8Array(r);return e.forEach((r,i)=>{i%4==3?n[i]=255:n[i]=e[i]}),n}(n,y)),new Uint8Array(E.data.buffer).set(n),f.width=e,f.height=r,_.putImageData(E,0,0),u=i?f.toDataURL("image/jpeg",o):f.toDataURL();let b=";base64,";return(0,a.D4)(u.slice(u.indexOf(b)+b.length))},async decodeAsync(e,r,i,a,l){if(await R,!C.works)return await y(e,r,i,a);if(null===O&&(O=new u.o),"image/heic"===r){let i;i=await n.e(160).then(n.t.bind(n,60160,23));let a=await i.default({blob:new Blob([e],{type:r}),toType:"image/png"});r="image/png";let o=Array.isArray(a)?a[0]:a;e=new Uint8Array(await o.arrayBuffer())}let d=null;if("image/jpeg"===r&&_(d=o.f.getOrientation(e)),null!=d&&s.Ay.webkit&&!N)return await y(e,r,i,a);let{bitmap:c,isMultiFrameGIF:p,colorProfile:h}=await O.sendMessage({type:r,array:e,supportsCreateBitmapOptions:C.allowsOptions});if(!c)return console.warn("Something wrong in createImageBitmap thread.  Bitmap is null ... falling back to decode using image"),await y(e,r,i,a);let m=!1;"image/jpeg"===r&&(m=d!==o.a.ROTATE_0,null!==d&&d!==o.a.ROTATE_0&&A&&s.Ay.chrome&&0>s.Ay.compareVersions([s.Ay.version.toString(),"86"])&&(l=!1),A&&(d=null));let g=c.width,f=c.height;return l&&(null===d||d===o.a.ROTATE_0)&&(0===i||g<=i)&&(0===a||f<=a)?{width:g,height:f,originalWidth:g,originalHeight:f,isMultiFrameGIF:p,isRotated:m,bitmap:c,rgba:null,colorProfile:h}:{...E(c,i,a,d,p),colorProfile:h}},scaleImageBitmap(e,r,n,i){p.width=r,p.height=n,h.translate(0,0),h.scale(1,1),h.rotate(0),h.drawImage(e,0,0,r,n);let a=p.toDataURL(i),o=a.indexOf(",");return b(a.slice(o+1))}};function L(e){return new Promise((r,n)=>{let i=new Image;e.height&&(i.height=e.height),e.width&&(i.width=e.width),i.crossOrigin="";let a=Error();i.onerror=()=>{let e=Error("loading (decoding) image failed");e.cause=a,n(e)},i.onload=()=>r(i),i.src=e.url})}function D(e){return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}},15859:(e,r,n)=>{"use strict";let i;n.d(r,{Jr:()=>w,j5:()=>T,xY:()=>I});var a=n(97666),o=n(77909),s=n(66712),l=n(94190),d=n(76621),c=n(4783),u=n(208);n(4978);var p=n(20341),h=n(56390),m=n(52800),g=n(93862);async function f(e,r,n){let i="figFile"===r.type?`/file/${r.fileKey}/image/batch`:`/community/file/${r.hubFileId}/image/batch`;try{let r=await u.Ay.post(i,{sha1s:e,max_size:n},{retryCount:1/0});if(200!==r.status||r.data.error)throw Error("api error while resolving images");return r.data.meta.s3_urls}catch(r){throw console.warn(`Couldn't download image(s) with hashes ${e}`),r}}class _ extends Error{constructor(e="IMAGE_MISSING"){super(e),Object.setPrototypeOf(this,_.prototype)}}class y extends Error{constructor(e="FILE_KEY_MISSING"){super(e),Object.setPrototypeOf(this,y.prototype)}}class E extends Error{constructor(e="IMAGE_EXPIRED"){super(e),Object.setPrototypeOf(this,E.prototype)}}var b=((i=b||{})[i.AWAITING_SINATRA_LOOKUP=0]="AWAITING_SINATRA_LOOKUP",i[i.LOOKUP=1]="LOOKUP",i[i.UPLOADING=2]="UPLOADING",i[i.READY=3]="READY",i[i.MISSING=4]="MISSING",i[i.FAILED=5]="FAILED",i[i.PRESENT=6]="PRESENT",i);let v=class{constructor(e,r){this.hash=e,this._priority=r,this.retries=0,this.state=0,this._downloadPromise=null,this._imageIsReady=()=>{},this._readyPromise=new Promise(e=>{this._imageIsReady=e})}set priority(e){this._priority!==v.MAX_PRIORITY&&(this._priority=e)}get priority(){return this._priority}imageIsReady(){this._imageIsReady()}readyPromise(){return this._readyPromise}isExpired(){let e=null;try{if(!(e=new URL(this.s3Path).searchParams.get("Expires")))return!1;e=parseInt(e,10)}catch{return!1}return e<Date.now()/1e3}downloadFromS3(){if(null==this.s3Path)throw Error("Called downloadFromS3 without s3Path");return u.Ay.crossOriginGetAny(this.s3Path,null,{responseType:"arraybuffer"}).then(e=>e.data).catch(e=>{if(this.isExpired())throw new E;throw 0!==e.status&&e.status<500&&((0,d.x1)("image","Image is missing from S3!",{hash:this.hash,status:e.status}),(0,d.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("Image missing from S3"))),e})}download(e){if(!this._downloadPromise){let e=this.downloadFromS3();e.finally(()=>{this._downloadPromise=null}).catch(e=>{}),this._downloadPromise=e}return this._downloadPromise}};v.MAX_PRIORITY=Number.MAX_SAFE_INTEGER;class S{constructor(){this.queue=[],this.byHash=new Map,this.needsSort=!1}get length(){return this.queue.length}ensureSorted(){this.needsSort&&(this.queue.sort((e,r)=>r.priority-e.priority),this.needsSort=!1)}numEligible(e){this.ensureSorted();let r=this.queue.findIndex(r=>r.priority<e);return r<0?this.queue.length:r}push(...e){for(let r of(this.queue.push(...e),e))this.byHash.set(r.hash,r);this.needsSort=!0}updatePriority(e,r){let n=this.byHash.get(e);return null!=n&&(n.priority=r,this.needsSort=!0,!0)}pop(e){if(this.ensureSorted(),0===this.queue.length||this.queue[0].priority<e)return null;let r=Date.now(),n=1/0;for(let e=0;e<this.queue.length;e++){let i=this.queue[e].retryTime;if(null==i||r>=i){let[r]=this.queue.splice(e,1);return this.byHash.delete(r.hash),{found:!0,image:r}}n=i<n?i:n}return{found:!1,retryDelay:n-r}}find(e){return this.byHash.get(e)??null}erase(e){let r=this.byHash.get(e);if(r){this.byHash.delete(e);let n=this.queue.findIndex(e=>e===r);n>=0&&this.queue.splice(n,1)}}debugString(){return this.queue.map(e=>`${e.hash}(${e.priority})`).join(",")}}class I{constructor(){this.pendingPasteRequests={},this.pendingImagesToRecord={},this.pendingRecordImagesTasks={},this.imagesNeedingDirectUpload=new Set,this.MAX_REQUESTS=3,this.SINATRA_BATCH_SIZE=100,this.verbose=(0,s.kc)().image_verbose,this.incomingImages=new Map,this.pendingLookupCallback=null,this.downloadQueue=new S,this.minPriority=0,this.downloadsPaused=!1,this.allImages=new Map,this.imageReadyDeferredMap=new Map,this.pendingDecodes=new Set,this.pendingDownloads=new Set,this.cancelDownloads=new Set,this.alreadyDownloaded=new Set,this.pendingUploads=new Set,this.uploadedImagesNeedingUrl=new Set,this.pendingImagesCallback=null,this.imageQueueEmpty=null,this.incomingImagesLookedUp=null,this.allImagesUploaded=null,this.progressCallbacks=[],this.imageMaxSize=void 0,this.flushPendingRecordImages=(0,a.s)(async()=>{let e=this.pendingImagesToRecord,r=this.pendingRecordImagesTasks,n=Object.keys(e);this.pendingImagesToRecord={},this.pendingRecordImagesTasks={};let i=await this.getEditingFileKey();n.forEach(async n=>{if(i===n){r[n].resolve();return}if(!n){r[n].reject("Invalid originFileKey");return}let a=1,o=e[n];for(;;){try{let e=await u.Ay.put(`/api/files/${i}`,{image_sha1s:o,image_origin_file_key:n}),{success:a,failed:s}=I.parseFileUpdateResponseForImages(o,e);for(let e of(m.Bko.imagePermissionsCopied(a),s))this.markImageMissing(e);for(let e of o)delete this.pendingPasteRequests[e];r[n].resolve();return}catch(e){if(e.status>=400&&e.status<500){for(let e of((0,l.Jj)(),o))this.markImageMissing(e),delete this.pendingPasteRequests[e];r[n].reject(`4xx error when pasting images ${e}`);return}}let e=1e3*a*Math.random();await new Promise(r=>setTimeout(r,e)),a=Math.min(2*a,64)}})},100)}getEditingFileKey(){return h.Y5.openFileKeyPromise()}recordImages(e,r){if(0===r.length)return Promise.resolve();if(!e)throw Error("No originFileKey specified");if(this.pendingImagesToRecord[e]=this.pendingImagesToRecord[e]||[],this.pendingImagesToRecord[e].push(...r),!this.pendingRecordImagesTasks[e]){let r,n;let i=new Promise((e,i)=>{r=e,n=i});this.pendingRecordImagesTasks[e]={promise:i,resolve:r,reject:n}}for(let n of r)this.pendingPasteRequests[n]=this.pendingRecordImagesTasks[e].promise;let n=this.pendingRecordImagesTasks[e].promise;return this.flushPendingRecordImages(),n}static parseFileUpdateResponseForImages(e,r){var n,i;try{if(null==(i=null==(n=null==r?void 0:r.data)?void 0:n.meta)?void 0:i.missing_shas){let n=new Set(r.data.meta.missing_shas);return{success:e.filter(e=>!n.has(e)),failed:Array.from(n)}}}catch{}return{success:e,failed:[]}}async resolveImageUrls(e){let r=await h.Y5.openFilePromise(),n=await f(e,r,this.imageMaxSize),i=e.filter(e=>!(e in n));if(i.length>0){let e=await h.Y5.sourceFileKeyPromise();if(e){let r=await f(i,{type:"figFile",fileKey:e});return{...n,...r}}}return n}queueImageForLookup(e){let r=e.hash;this.verbose&&(0,d.Lo)("image","incoming",{hash:r}),e.state=0,this.incomingImages.set(r,e),null==this.pendingLookupCallback&&(this.pendingLookupCallback=setTimeout(()=>{this.pendingLookupCallback=null,this.lookupImages().catch(e=>(0,d.$D)(c.e.SCENEGRAPH_AND_SYNC,e))},0))}setExternalSource(e,r){let n=new v(e,v.MAX_PRIORITY);n.s3Path=r,this.setImageResource(e,n),this.downloadQueue.push(n),this.imagesNeedingDirectUpload.add(e),this.maybeDownloadMoreImages()}setImageDownloadPriority(e,r){if(!e){(0,d.xi)("setImageDownloadPriority","invalid hash");return}let n=this.allImages.get(e);if(null==n){n=new v(e,r),this.setImageResource(e,n),this.queueImageForLookup(n);return}2===n.state&&(0,d.x1)("image","Got download request for currently uploading image",{hash:e},{reportAsSentryError:!0}),n.priority=r,this.downloadQueue.updatePriority(e,r)&&this.maybeDownloadMoreImages()}setMinimumImagePriority(e){this.minPriority=e,this.maybeDownloadMoreImages()}pauseImageDownloads(){this.downloadsPaused=!0}resumeImageDownloads(){this.downloadsPaused=!1,this.maybeDownloadMoreImages()}maybeDownloadMoreImages(){for(var e;this.pendingDownloads.size<this.MAX_REQUESTS&&this.downloadQueue.length>0&&!this.downloadsPaused;){let e=this.downloadQueue.pop(this.minPriority);if(null==e)break;if(!e.found){let r=e.retryDelay;!Number.isFinite(r)||r<=0?(0,d.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("Logic error in download queue, cannot compute next retry")):setTimeout(()=>this.maybeDownloadMoreImages(),r);break}let r=e.image;r.hash&&(this.verbose&&(0,d.Lo)("image","download start",{hash:r.hash,ok:!this.pendingDownloads.has(r.hash)}),this.pendingDownloads.add(r.hash)),r.download(this.imageMaxSize).then(e=>{!this.cancelDownloads.delete(r.hash)&&(this.verbose&&(0,d.Lo)("image","download done",{hash:r.hash,ok:!this.alreadyDownloaded.has(r.hash)}),this.alreadyDownloaded.add(r.hash),this.imagesNeedingDirectUpload.has(r.hash)?(m.Bko.imageDownloadedForPaste(r.hash,e),this.imagesNeedingDirectUpload.delete(r.hash)):m.Bko.imageDownloaded(r.hash,e),this.pendingDecodes.has(r.hash)||((0,d.xi)("ImageManager","missing pending decode after download",{hash:r.hash}),(0,d.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("missing pending decode after image marked as downloaded")),r.imageIsReady()))},e=>{if(this.pendingDecodes.delete(r.hash)&&this.maybeResolveImageQueueEmptyAndPendingImages(),!this.cancelDownloads.delete(r.hash)){if(e instanceof _)this.markImageMissing(r.hash);else if(e instanceof y)(0,d.$D)(c.e.SCENEGRAPH_AND_SYNC,e),this.markImageFailed(r.hash);else if(e instanceof E)this.queueImageForLookup(r);else{if(e instanceof u.Dr&&403===e.status){this.markImageFailed(r.hash);return}let n=5e3*(1<<Math.min(r.retries,4));n+=n*Math.random(),r.retries+=1,(429===e.status||503===e.status)&&(n*=4),r.retryTime=Date.now()+n,this.downloadQueue.push(r)}}}).finally(()=>{this.pendingDownloads.delete(r.hash),this.maybeDownloadMoreImages()})}null==(e=this.pendingImagesCallback)||e.call(this,this.pendingImages),this.maybeResolveImageQueueEmptyAndPendingImages()}forceDownloadImage(e){this.setImageDownloadPriority(e,v.MAX_PRIORITY)}setImageDecodePending(e){this.verbose&&(0,d.Lo)("image","decode start",{hash:e,ok:!this.pendingDecodes.has(e)}),this.pendingDecodes.add(e)}getSignedUrls(e){let r=new Map;for(let n of e){let e=this.allImages.get(n);e&&e.s3Path&&r.set(n,e.s3Path)}return r}clearImageDecodePending(e,r){this.verbose&&(0,d.Lo)("image","decode done",{hash:e,ok:this.pendingDecodes.has(e)}),this.pendingDecodes.delete(e)&&this.maybeResolveImageQueueEmptyAndPendingImages(),r?this.markImageReady(e):this.markImageFailed(e)}markImagePresent(e){let r=this.allImages.get(e);r&&(r.state=6,m.Bko.imageIsPresent(e))}markImageMissing(e){let r=this.allImages.get(e);r&&(r.state=4,m.Bko.imageIsMissing(e),r.imageIsReady())}markImageFailed(e){let r=this.allImages.get(e);r&&(r.state=5,r.imageIsReady())}markImageReady(e){let r=this.allImages.get(e);r&&(r.state=3,r.imageIsReady())}async lookupImages(){let e=[];for(let r of this.incomingImages.values())0===r.state&&(e.push(r),r.state=1,this.verbose&&(0,d.Lo)("image","lookup",{hash:r.hash}));try{for(;e.length>0;){let r=e.splice(0,this.SINATRA_BATCH_SIZE);for(let e of r){let r=this.pendingPasteRequests[e.hash];if(r)try{await r}catch(r){(0,d.x1)("lookupImages","pastePromise failed",{hash:e.hash})}}let n=await this.resolveImageUrls(r.map(e=>e.hash));for(let e of r){let r=n[e.hash];r?(e.s3Path=r,this.markImagePresent(e.hash),this.downloadQueue.push(e),this.verbose&&(0,d.Lo)("image","enqueued-batch",{hash:e.hash})):(this.markImageMissing(e.hash),this.verbose&&(0,d.Lo)("image","missing",{hash:e.hash})),this.incomingImages.delete(e.hash)}}}finally{for(let r of e)this.incomingImages.delete(r.hash)&&(0,d.xi)("image","incoming fallback delete",{hash:r.hash});null!=this.incomingImagesLookedUp&&this.incomingImagesLookedUp.resolve()}this.maybeDownloadMoreImages()}forgetImage(e){if(this.imagesNeedingDirectUpload.has(e))return;this.verbose&&(0,d.Lo)("image","forget",{hash:e}),this.incomingImages.delete(e),this.downloadQueue.erase(e),this.pendingDownloads.has(e)&&this.cancelDownloads.add(e),this.alreadyDownloaded.delete(e),this.pendingDecodes.delete(e),this.maybeResolveImageQueueEmptyAndPendingImages(),this.maybeResolveImagesLookedUp();let r=this.allImages.get(e);r&&(this.allImages.delete(e),3!==r.state&&r.imageIsReady())}getNumEligibleForDownload(){return this.downloadQueue.numEligible(this.minPriority)}get pendingImages(){let e=this.getNumEligibleForDownload();return this.verbose&&(0,d.Lo)("image","pendingImages",{incoming:this.incomingImages.size,eligible:e,downloads:this.pendingDownloads.size,decode:this.pendingDecodes.size}),this.incomingImages.size+e+this.pendingDownloads.size+this.pendingDecodes.size}setPendingImagesCallback(e){this.pendingImagesCallback=e}imageQueueEmptyPromise(){if(!this.imageQueueEmpty){let e=performance.now();this.imageQueueEmpty=(0,o.v)(),this.verbose&&(0,d.Lo)("image","queue empty defer installed",{start:e}),this.imageQueueEmpty.promise.finally(()=>{this.imageQueueEmpty=null;let r=performance.now()-e;this.verbose?(0,d.Lo)("image","queue empty defer cleared",{start:e,elapsed:r}):r>1e4&&(0,d.xi)("image","queue empty finished after a long time",{start:e,elapsed:r})}),this.emptyQueueCheck(this.imageQueueEmpty,e,3e4)}let e=this.imageQueueEmpty.promise;return this.maybeResolveImageQueueEmptyAndPendingImages(),e}imageLookupPromise(){this.incomingImagesLookedUp||(this.incomingImagesLookedUp=(0,o.v)(),this.incomingImagesLookedUp.promise.finally(()=>{this.incomingImagesLookedUp=null}));let e=this.incomingImagesLookedUp.promise;return this.maybeResolveImagesLookedUp(),e}emptyQueueCheck(e,r,n){setTimeout(()=>{if(e===this.imageQueueEmpty){let i=Math.round(.001*(performance.now()-r));(0,d.xi)("image","queue empty is taking a long time",{elapsedSec:i,pending:this.pendingImages,downloads:this.pendingDownloads.size,decodes:this.pendingDecodes.size}),this.verbose&&(0,d.Lo)("image","slow",{downloads:this.pendingDownloads,decodes:this.pendingDecodes}),this.emptyQueueCheck(e,r,Math.min(2*n,9e5))}},n)}maybeResolveImageQueueEmptyAndPendingImages(){let e=this.pendingImages;for(let r of this.progressCallbacks)r(e);this.imageQueueEmpty&&0===e&&(this.verbose&&(0,d.Lo)("image","resolve queue empty!"),this.imageQueueEmpty.resolve(),this.progressCallbacks=[]),this.maybeResolveImagesLookedUp()}maybeResolveImagesLookedUp(){var e;0===this.incomingImages.size&&(null==(e=this.incomingImagesLookedUp)||e.resolve())}loadAllImagesUnder(e,r,n,i=null,a){return this.loadAllImages(e,r,n,i,!0,a)}waitForImagesUnder(e,r,n,i=null,a){return this.loadAllImages(e,r,n,i,!1,a)}async loadAllImages(e,r,n,i=null,a,o){let s=performance.now();if(this.verbose&&(0,d.Lo)("image","loadAllImagesUnder",{reason:n,guids:e,start:s}),e.includes("0:0")&&"playground.initialLoad"!==n){(0,d.x1)("image","loadAllImagesUnder called with full document",{reason:n}),this.verbose&&(0,d.Lo)("image","waitForAllPages start");let e=(0,g.qd)(m._em.LEGACY_IMAGES_CODE);await e,e.catch(()=>{(0,d.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("image_manager: waitForAllPagesPromise rejected"))}),this.verbose&&(0,d.Lo)("image","waitForAllPages done")}let l=0,u=new Promise(n=>{let s=o??m.AlE.getMutableActiveDocument(),d=m.Bko.findImagesUnder(s,e,r).map(e=>this.allImages.get(e)).filter(e=>void 0!==e&&3!==e.state&&2!==e.state);if(0===(l=d.length))n({totalImages:l});else{var c;let e=l;for(let r of(c=e,i&&i(c,l),d))a&&this.setImageDownloadPriority(r.hash,v.MAX_PRIORITY),r.readyPromise().finally(()=>{var r;r=--e,i&&i(r,l),0===e&&n({totalImages:l})})}});return await u}async loadImageByHash(e){this.verbose&&(0,d.Lo)("image","loadImageByHash",{hash:e}),this.setImageDownloadPriority(e,v.MAX_PRIORITY),await this.imageQueueEmptyPromise()}setImageMaxSize(e){this.imageMaxSize=e}markImageUploading(e){this.pendingUploads.add(e)}markImageUploaded(e){this.pendingUploads.has(e)||(0,d.xi)("image","markImageUploaded called for unknown image",{imageHash:e}),this.pendingUploads.delete(e),this.uploadedImagesNeedingUrl.add(e),this.maybeResolveImagesUploaded()}startUploadingImage(e,r,n,i){if(this.pendingUploads.has(i))return;this.pendingUploads.add(i);let a=new v(i,0);a.state=2,this.setImageResource(i,a);let o=`/api/upnode/image?purpose=canvas&sha1=${i}&fileKey=${e}`,s=0;u.Ay.post(o,r,{retryCount:1/0,headers:{...u.Ay.defaults.headers,"Content-Type":n},rawBody:!0,uploadEvents:{loadstart:()=>{a.retries=s,s+=1}}}).then(e=>{if(200!==e.status){(0,d.x1)("image","unexpected status code from image upload",{hash:i,status:e.status},{reportAsSentryError:!0});return}(0,d.Lo)("image","uploaded new image",{hash:i}),this.pendingUploads.delete(i),m.Bko.imageUploadFinished(i,m.d8m.SUCCESS),a.state=3,this.uploadedImagesNeedingUrl.add(i),this.maybeResolveImagesUploaded()},e=>{let r;415===e.status?((0,d.x1)("image","image upload failed, removing invalid image",{hash:i}),r=m.d8m.UNSUPPORTED_MEDIA):r=m.d8m.OTHER_FAILURE,this.pendingUploads.delete(i),m.Bko.imageUploadFinished(i,r),this.maybeResolveImagesUploaded()})}pendingUploadStats(){let e=new Set;for(let r of this.pendingUploads){let n=this.allImages.get(r);n&&n.retries>0&&e.add(r)}return[this.pendingUploads,e]}async maybeResolveImagesUploaded(){var e;if(0===this.pendingUploads.size){let r=Array.from(this.uploadedImagesNeedingUrl);this.uploadedImagesNeedingUrl.clear();for(let e=0;e<r.length;e+=this.SINATRA_BATCH_SIZE){let n=r.slice(e,e+this.SINATRA_BATCH_SIZE),i=await this.resolveImageUrls(n);for(let e of n){let r=i[e];if(r){let n=this.allImages.get(e);if(n)n.s3Path=r;else{let n=new v(e,0);n.s3Path=r,n.state=3,this.setImageResource(e,n)}}}}null==(e=this.allImagesUploaded)||e.resolve()}}imageUploadPromise(){this.allImagesUploaded||(this.allImagesUploaded=(0,o.v)(),this.allImagesUploaded.promise.finally(()=>{this.allImagesUploaded=null}));let e=this.allImagesUploaded.promise;return this.maybeResolveImagesUploaded(),e}logDebugInfo(e){for(let r of e){let e=this.allImages.get(r),n=new Set;for(let e of Object.values(this.pendingImagesToRecord))for(let r of e)n.add(r);(0,d.Lo)("ImageManager","Blocking image info",{hash:r,state:e?e.state:"NO IMAGE",inIncoming:r in this.incomingImages,inQueue:null!=this.downloadQueue.find(r),inPending:r in this.pendingDownloads,inFinished:r in this.alreadyDownloaded,inPendingRecord:r in n})}let[r,n]=this.pendingUploadStats(),i=Array.from(this.incomingImages.values()).map(e=>e.hash).join(","),a=Array.from(this.pendingDownloads).join(","),o=Array.from(this.alreadyDownloaded).join(","),s=this.downloadQueue.debugString(),l=Array.from(r).join(","),c=Array.from(n).join(",");(0,d.Lo)("ImageManager","ImageManager debug info",{incomingImages:i,downloadQueue:s,pendingDownloads:a,alreadyDownloaded:o,pendingUploads:l,uploadBackoffs:c,pendingImagesToRecord:this.pendingImagesToRecord})}getDebugState(){let e=m.Bko.getImageResourceDebugInfo(),r=new Map;return e.forEach(e=>{var n;r.set(e.hash,{...e,tsState:null==(n=this.allImages.get(e.hash))?void 0:n.state})}),this.allImages.forEach((e,n)=>{r.has(n)||r.set(n,{hash:n,tsState:e.state})}),r}static includeOutsideContents(e){return e.some(e=>!1===e.contentsOnly)}setImageResource(e,r){if(this.allImages.set(e,r),this.imageReadyDeferredMap.has(e)){let n=this.imageReadyDeferredMap.get(e);n&&(this.imageReadyDeferredMap.delete(e),r.readyPromise().then(()=>n.resolve(3===r.state)))}}async isImageReady(e){if(this.allImages.has(e)){let r=this.allImages.get(e);return r?(await r.readyPromise(),3===r.state):Promise.resolve(!1)}if(this.imageReadyDeferredMap.has(e)){let r=this.imageReadyDeferredMap.get(e);return r?r.promise:Promise.resolve(!1)}let r=(0,o.v)();return this.imageReadyDeferredMap.set(e,r),r.promise}}let T=new class{constructor(){this.imageManager=new I}copyImagePermissions(e,r){return this.imageManager.recordImages(e,r)}setImageDownloadPriority(e,r){this.imageManager.setImageDownloadPriority(e,r)}forceDownloadImage(e){this.imageManager.forceDownloadImage(e)}setMinimumImagePriority(e){this.imageManager.setMinimumImagePriority(e)}forgetImage(e){this.imageManager.forgetImage(e)}setImageDecodePending(e){this.imageManager.setImageDecodePending(e)}clearImageDecodePending(e,r){this.imageManager.clearImageDecodePending(e,r)}async downloadEmoji(e){return(await u.Ay.crossOriginGetAny(e,null,{responseType:"arraybuffer"})).data}markImageUploading(e){this.imageManager.markImageUploading(e)}markImageUploaded(e){this.imageManager.markImageUploaded(e)}startUploadingImage(e,r,n,i){this.imageManager.startUploadingImage(e,r,n,i)}pendingUploadStats(){return this.imageManager.pendingUploadStats()}logDebugInfo(e){this.imageManager.logDebugInfo(e)}pauseImageDownloads(){this.imageManager.pauseImageDownloads()}resumeImageDownloads(){this.imageManager.resumeImageDownloads()}getSignedUrls(e){return this.imageManager.getSignedUrls(e)}getImageHostDomain(){return window.location.hostname}setExternalSource(e,r){this.imageManager.setExternalSource(e,r)}};function w(){return T.imageManager}async function C(e,r){let n=!!I.includeOutsideContents(r);await w().loadAllImagesUnder([n?e.containingCanvas||"-1:-1":e.guid],m.MoD.NON_ANIMATED_ONLY,"plugins.loadImagesAndExport")}(0,p.cP)(C)},60707:(e,r,n)=>{"use strict";n.d(r,{F4:()=>g,LH:()=>E,Yc:()=>S,aW:()=>v,cF:()=>c,le:()=>b});var i=n(98977),a=n(66712),o=n(63706),s=n(76621),l=n(56390),d=n(52800);let c=1073741824,u=!o.Xb,p=(0,a.kc)().wasm_4gb&&i.Ay.location&&"1"===new URLSearchParams(i.Ay.location.search).get("wasm-4gb"),h=i.Ay.location&&"true"===new URLSearchParams(i.Ay.location.search).get("recovery"),m=o.Ay.isWasm4gbSupported&&(u||p||h);function g(e){let r=d.hMR.setHeapMemoryMode(e);return(0,s.Lo)("memory",`setHeapMemoryMode(${e}) ${r?"success":"failed"}`),r}m&&(console.log("Fullscreen: Using 4GB WASM heap"),(0,s.Lo)("memory","enabled 4GB WASM heap")),m&&p?d.rCR.MAXIMUM:m&&h?d.rCR.RECOVERY:d.rCR.DEFAULT;let f=(m?4*c-65536:2*c)/65536,_=null,y=null;function E(e,r){r=r||0;let n="prototype-lib"===e?y:_;return(!n||b(e)<r)&&(n=new WebAssembly.Memory({initial:r?r/65536:256,maximum:f}),"fullscreen-app"===e?_=n:y=n,n.maximumBytes=65536*f),n}function b(e){if("fullscreen-app"===e)return(null==_?void 0:_.buffer.byteLength)||0;if("prototype-lib"===e)return(null==y?void 0:y.buffer.byteLength)||0;{let e=_||y;return(null==e?void 0:e.buffer.byteLength)||0}}function v(){if(window.performance){let e=window.performance.memory;if(e)return e.usedJSHeapSize}return 0}function S(){var e;return((null==(e=d.hMR)?void 0:e.getTotalUsedHeapMemory())||0)+l.Y5.memorySpikeOnFileLoadBytes()}(0,a.kc)().memory_profiling_local&&(0,a.b5)()&&(window.startMemoryProfile=async()=>{let e=await window.showSaveFilePicker(),r=await e.createWritable({keepExistingData:!0});window.memoryProfileOperationsWritable=r}),(0,a.b5)()&&(window.getTopMemoryFunctions=()=>{let e=d.YyC.getAll(),r=new Map,n=new Map,i=new Map;for(let a of e)a.includes("allocCallCount")?r.set(a,d.YyC.getCount(a)):a.includes("allocMaxDelta")?n.set(a,d.YyC.getCount(a)):a.includes("allocTotalDelta")&&i.set(a,d.YyC.getCount(a));console.log("call count events",Array.from(r).sort((e,r)=>r[1]-e[1]).slice(0,10)),console.log("max delta events",Array.from(n).sort((e,r)=>r[1]-e[1]).slice(0,10)),console.log("total delta events",Array.from(i).sort((e,r)=>r[1]-e[1]).slice(0,10))},window.resetPerformanceEventCounters=()=>{d.YyC.resetAll()})},24266:(e,r,n)=>{"use strict";let i;n.d(r,{HN:()=>A,Dh:()=>g,wr:()=>y,XP:()=>R,n_:()=>O,Hr:()=>m,D$:()=>f,tJ:()=>_,GL:()=>E,bw:()=>S,aB:()=>I,Uc:()=>v,NT:()=>T,Br:()=>w});var a=n(84934);n(44780);var o=n(35283),s=n(97666),l=n(17333);n(197);let d={};n(38329);var c=n(5984),u=n(87918),p=n(56390),h=n(52800);n(48661),n(79702),n(83909);let m=u.dI(u.Hr);function g(e){h.Egt.addToSelection(e)}function f(e){h.Egt.removeFromSelection(e)}function _(e,r=!0){h.Egt.replaceSelection(e,r)}function y(){h.Egt.clearSelection()}function E(e,r){h.Egt.selectNodesInRange(e,r)}function b(e){var r;null==(r=h.glU)||r.updateAppModel(e)}function v(e){b({hoveredNode:e})}function S(e){b({devHandoffCodeLanguage:e})}function I(e){b({devHandoffPreferences:e})}function T(e){var r,n,i;return null==(r=null==(i=null==(n=h.Ez5)?void 0:n.propertiesPanelState())?void 0:i.propertiesPanelTab)?void 0:r.set(e)}function w(e){b({activeTextReviewPlugin:e})}(0,s.s)(e=>{(0,a.sx)("Style Edited",{styleType:e})},500);let C=Object.create(null);var A=((i=A||{})[i.SceneGraph=0]="SceneGraph",i[i.AppModel=1]="AppModel",i[i.Selection=2]="Selection",i[i.SelectionProperties=3]="SelectionProperties",i);let N=new Set([0,1,2,3]);function O(e=N){e.has(0)&&p.Y5.fromFullscreen.on("sceneGraphMirrorUpdate",P),e.has(2)&&(p.Y5.fromFullscreen.on("selection:addSelectors",D),p.Y5.fromFullscreen.on("selection:removeSelectors",M),p.Y5.fromFullscreen.on("selection:replaceSelectors",k)),e.has(1)&&p.Y5.fromFullscreen.on("updateAppModel",x),e.has(3)&&p.Y5.fromFullscreen.on("selectionPropertiesUpdate",F)}function R(){let e=C;return C=Object.create(null),e}function P(e){(0,o.KF)(!C.invalidateSceneGraph,"We should get at most one sceneGraphMirrorUpdate per frame. We got two."),C.invalidateSceneGraph={rebuildRows:!e||e.rebuildRows}}function L(e,r){return e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24}function D(e){var r,n,i;(0,o.KF)(!(null==(r=C.selection)?void 0:r.replace),"addSelectors and replaceSelectors called on the same frame"),C.selection||(C.selection=Object.create(null)),(n=C.selection).add||(n.add=Object.create(null)),(i=C.selection).userTriggered||(i.userTriggered=e.userTriggered);let a=e.buffer;if(a)for(let e=0;e<a.length;e+=8){let r=L(a,e),n=L(a,e+4),i=u.dI({sessionID:r,localID:n});C.selection.add[i]=!0}}function M(e){var r,n,i;(0,o.KF)(!(null==(r=C.selection)?void 0:r.replace),"removeSelectors and replaceSelectors called on the same frame"),C.selection||(C.selection=Object.create(null)),(n=C.selection).remove||(n.remove=Object.create(null)),(i=C.selection).userTriggered||(i.userTriggered=e.userTriggered);let a=e.buffer;if(a)for(let e=0;e<a.length;e+=8){let r=L(a,e),n=L(a,e+4),i=u.dI({sessionID:r,localID:n});C.selection.remove[i]=!0}}function k(e){var r,n,i,a;(0,o.KF)(!(null==(r=C.selection)?void 0:r.add),"addSelectors and replaceSelectors called on the same frame"),(0,o.KF)(!(null==(n=C.selection)?void 0:n.remove),"removeSelectors and replaceSelectors called on the same frame"),C.selection||(C.selection=Object.create(null)),(i=C.selection).replace||(i.replace=Object.create(null)),(a=C.selection).userTriggered||(a.userTriggered=e.userTriggered);let s=e.buffer;if(s)for(let e=0;e<s.length;e+=8){let r=L(s,e),n=L(s,e+4),i=u.dI({sessionID:r,localID:n});C.selection.replace[i]=!0}}function x({changes:e,shouldIgnoreUserPrefs:r}){if(l.eD){let r={},n={},i="actionEnabled__";for(let a of Object.keys(e))if(a.startsWith(i))r[a.substr(i.length)]=e[a].value;else{let r=d[a];if(void 0!==r){let i=e[a].value;for(let{name:e,propertyValue:a}of r.actions)n[e]=i===a}}let a=Object.keys(r).length>0,o=Object.keys(n).length>0;(a||o)&&l.eD.updateFullscreenMenuState({actionEnabledState:a?r:void 0,actionCheckedState:o?n:void 0})}let n=Object.create(null),i=Object.create(null);for(let a in e)n[a]=e[a].value,i[a]=null==r?void 0:r[a];C.appModelChanges={...C.appModelChanges,...n},C.appModelChangesShouldIgnoreUserPrefs={...C.appModelChangesShouldIgnoreUserPrefs,...i}}function F(e){let r=e.buffer&&e.buffer.length>0?c.w.decodeMessage(e.buffer):null;delete e.buffer,(0,o.KF)(!C.selectionProperties,"Updating selectionProperties multiple times on a frame"),C.selectionProperties={message:r,derivedProperties:e}}},61060:(e,r,n)=>{"use strict";n.d(r,{DI:()=>c,e8:()=>u});var i=n(38329),a=n(88022),o=n(52800);let s=!1,l=!1,d=!1;function c(){l=!0,function(){var e;if(s&&l&&!d){let r=i.D.getState(),n=new Set(Object.values(r.fonts).map(e=>Object.values(e)).flat().map(e=>e.source)),s=null==(e=r.openFile)?void 0:e.key,l=r.figFileDuplicatedFromHubFile,c=!1;void 0!==s&&void 0!==l&&(c=null!=l[s]),(0,a.ds)("has_missing_font",s,r,{has_google_fonts:n.has(o.jXp.GOOGLE),has_local_fonts:n.has(o.jXp.LOCAL),has_shared_fonts:n.has(o.jXp.SHARED),is_community_duplicated_file:c}),d=!0}}()}function u(){s=!1,l=!1,d=!1}},48661:(e,r,n)=>{"use strict";n.d(r,{E7:()=>d,SX:()=>s,_W:()=>c,gl:()=>o,hS:()=>l,oV:()=>i});let i={__mixed__:!0},a={};function o(e){return!l(e)}function s(e){return e===a}function l(e){return e!==i&&!(Array.isArray(e)&&e.__mixed_values__)}function d(e){return e===i||null==e?null:e}function c(e,r){return e===i||null==e||e===a?r:e}},93862:(e,r,n)=>{"use strict";n.d(r,{AW:()=>h,Ak:()=>y,Ff:()=>g,IL:()=>S,PV:()=>b,Xk:()=>v,Xl:()=>I,qd:()=>m}),n(66712);var i=n(74626),a=n(76621),o=n(30637),s=n(56390),l=n(52800),d=n(54294),c=n(79296),u=n(30956);n(41860);let p=!1;function h(){p||(p=!0,setInterval(()=>s.Y5.isReady()&&l.h3O.updateConnectionStateIfNeeded(!1),250),window.addEventListener("online",()=>{navigator.onLine&&s.Y5.isReady()&&l.h3O.updateConnectionStateIfNeeded(!0)}),window.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&s.Y5.isReady()&&l.h3O.updateConnectionStateIfNeeded(!0)}))}function m(e){let r=y(),n=E(r);return l.h3O.startLoadingAllPages(r,e),n.then(()=>{i.zl.set(d.nc,!1)}),n}let g=(0,c.n)(()=>l.h3O.isIncrementalSession()||l.h3O.isValidatingIncremental()),f=1,_=new Map,y=()=>f++;function E(e){return new Promise((r,n)=>{_.set(e,[r,n])})}function b(e){let r=_.get(e);if(r){let[n,i]=r;n(),_.delete(e)}}function v(){_.forEach((e,r)=>{let[n,i]=e;i()}),_.clear()}function S(e,r,n=l.DPQ.CONTAINING_PAGE){(0,o.nl)();let i=y(),a=E(i),s=n===l.DPQ.PLUGIN;return l.h3O.subscribeToContainingPage__DO_NOT_USE_DIRECTLY(e,i,r,s),a}function I(e){let r=()=>{let n=y();return new Promise(async(r,i)=>{e.delete("0:0"),(0,a.Lo)("Autosave",`Requesting dependencies for ${e.size} nodes while loading incrementally`,void 0,{logToConsole:l.NUh.ALWAYS}),await (0,u.oJ)(l.kul.JOINED),_.set(n,[r,i]),l.h3O.autosaveSubscribeToContainingPages(e,n)}).catch(()=>r())};return r()}},14809:(e,r,n)=>{"use strict";n.d(r,{l:()=>o}),n(52800);let i=[],a=[];function o(){return new Promise((e,r)=>{i.push(e),a.push(r)})}},30956:(e,r,n)=>{"use strict";n.d(r,{De:()=>_,IZ:()=>h,K7:()=>u,dh:()=>p,eN:()=>c,lt:()=>f,mN:()=>g,oJ:()=>d,w:()=>m});var i=n(52800),a=n(14809),o=n(9511),s=n(79296);let l=new Map,d=(0,s.n)(e=>null===e?Promise.resolve():new Promise(r=>{let n=l.get(e);n?n.push(r):l.set(e,[r])})),c=(0,s.n)(()=>null===o.kul.JOINED);async function u(){let e=i.h3O.detach();switch(e){case i.dTb.SUCCESS:break;case i.dTb.TRIGGERED_DETACH:await d(o.kul.DETACHED);break;default:throw Error(`Failed to detach multiplayer: ${i.dTb[e]}`)}}async function p(){let e=i.h3O.reattachAndSync();if(e===i.Ats.INTERNAL_ERROR)throw Error(`Failed to reattach and sync multiplayer: ${i.Ats[e]}`);await d(o.kul.JOINED),await (0,a.l)()}async function h(){let e=i.h3O.abandonAndReattach();if(e===i.Ats.INTERNAL_ERROR)throw Error(`Failed to abandon changes and reattach multiplayer: ${i.Ats[e]}`);await d(o.kul.JOINED)}async function m(e,r){let n=i.egF.enterPreviewDetachedState(e,r);switch(n){case i.dTb.SUCCESS:break;case i.dTb.TRIGGERED_DETACH:await d(o.kul.DETACHED),i.egF.enterPreviewDetachedState(e,r);break;default:throw Error(`Failed to detach multiplayer: ${i.dTb[n]}`)}}async function g(){let e=i.egF.enterMergeDetachedState();switch(e){case i.dTb.SUCCESS:break;case i.dTb.TRIGGERED_DETACH:await d(o.kul.DETACHED),i.egF.enterMergeDetachedState();break;default:throw Error(`Failed to detach multiplayer: ${i.dTb[e]}`)}}async function f({fileMergeId:e,userId:r,allowEmptyMerge:n}){let s=i.egF.commitBranchingStagedChanges(e,r,n);if(s===i.Ats.INTERNAL_ERROR)throw Error(`Failed to reattach and sync multiplayer: ${i.Ats[s]}`);await d(o.kul.JOINED),await (0,a.l)()}async function _(e=!0){let r=i.egF.abandonBranchingChanges(e);if(r===i.Ats.INTERNAL_ERROR)throw Error(`Failed to abandon changes and reattach multiplayer: ${i.Ats[r]}`);await d(o.kul.JOINED)}},74505:(e,r,n)=>{"use strict";n.d(r,{EE:()=>o,lB:()=>s});var i=n(52800);let a={};function o(e,r,n){return a[e]=n,i.glU.addNodePositionSubscription(e,r)}function s(e){delete a[e],i.glU.removeNodePositionSubscription(e)}},63060:(e,r,n)=>{"use strict";n.d(r,{ye:()=>G,w4:()=>ed,E7:()=>ec,Ts:()=>ev,JA:()=>eo,PY:()=>eh,iW:()=>et,o3:()=>em,Dd:()=>X,vK:()=>er,fl:()=>eE,p7:()=>ei,se:()=>en,Dg:()=>Q,Ug:()=>J,LH:()=>ea,Ad:()=>ee,sl:()=>eu,Zp:()=>ep,Cd:()=>es,P2:()=>el});var i=n(84934),a=n(44780),o=n(13654),s=n(56390),l=n(52800),d=n(85528);class c{constructor(){this._zoomScale=0,this._zoomScale=this.getZoomScale()}getZoomScale(){return s.Y5.getViewportInfo().zoomScale}didEventOccur(){let e=this.getZoomScale();return e!==this._zoomScale&&(this._zoomScale=e,!0)}}class u{constructor(){this._offsetX=0,this._offsetY=0,this._zoomTracker=new c,this._offsetX=this.getOffsetX(),this._offsetY=this.getOffsetY()}getOffsetX(){return s.Y5.getViewportInfo().offsetX}getOffsetY(){return s.Y5.getViewportInfo().offsetY}didEventOccur(){let e=this.getOffsetX(),r=this.getOffsetY();return(e!==this._offsetX||r!==this._offsetY)&&(this._offsetX=e,this._offsetY=r,!this._zoomTracker.didEventOccur())}}class p{constructor(){this._didMouseMove=!1,this._panTracker=new u,document.addEventListener("mousemove",e=>{this._didMouseMove=!0})}didEventOccur(){let e=this._didMouseMove&&!this._panTracker.didEventOccur();return this._didMouseMove=!1,e}}class h{constructor(){}didEventOccur(){var e;return((null==(e=l.CeL)?void 0:e.getRenderTreeStaleTimeMs())??0)>0}}class m{constructor(){this._isCurrentUserChatting=!1,this._isOtherUserChatting=!1,this._otherUserChattingSessionIds=new Set}setIsCurrentUserChatting(e){this._isCurrentUserChatting=e}setOtherUserChattingState(e,r){r?this._otherUserChattingSessionIds.add(e):this._otherUserChattingSessionIds.delete(e),this._isOtherUserChatting=this._otherUserChattingSessionIds.size>0}didEventOccur(){return this._isCurrentUserChatting||this._isOtherUserChatting}}class g{constructor(){var e;this._cursorReactionIsActive=!1,this.updateIsCursorReactionActive(),null==(e=d.R9)||e.setOnReactionsUpdatedCallback(this.updateIsCursorReactionActive.bind(this))}updateIsCursorReactionActive(){this._cursorReactionIsActive=this.getIsCursorReactionActive()}getIsCursorReactionActive(){if(!d.R9)return!1;let e=d.R9.reactionsBySessionId();return Object.keys(e).some(r=>Object.keys(e[r]).length>0)}didEventOccur(){return this._cursorReactionIsActive}}class f{constructor(e){this._mode=l.pWM.DEFINITELY_COVERED_ONLY,this._mode=e}getViewportCoverage(){return l.glU.estimatedViewportRenderCoverage(this._mode)}didEventOccur(){return .9>this.getViewportCoverage()}}class _{constructor(e){this._thresholdMs=0,this._thresholdMs=e}getStalenessMs(){return l.CeL.getRenderTreeStaleTimeMs()}didEventOccur(){return this.getStalenessMs()>this._thresholdMs}}class y{constructor(e,r){this._threshold=0,this._getMultiplayerUserCount=()=>0,this._threshold=e,this._getMultiplayerUserCount=r}didEventOccur(){return this._getMultiplayerUserCount()>this._threshold}}class E{constructor(e,r){this._threshold=0,this._panTracker=new u,this._zoomTracker=new c,this._getMultiplayerUserCount=()=>0,this._threshold=e,this._getMultiplayerUserCount=r}didEventOccur(){return this._getMultiplayerUserCount()>this._threshold&&this._panTracker.didEventOccur()&&this._zoomTracker.didEventOccur()}}class b{constructor(e){this._sharpnessThreshold=0,this._zoomEventTracker=new c,this._panEventTracker=new u,this._sharpnessThreshold=e}didEventOccur(){let e=this._panEventTracker.didEventOccur(),r=this._zoomEventTracker.didEventOccur();return!(e||r)&&l.glU.minViewportSharpness()<this._sharpnessThreshold}}class v{constructor(e){this._sharpnessThreshold=0,this._zoomEventTracker=new c,this._panEventTracker=new u,this._sharpnessThreshold=e}didEventOccur(){let e=this._panEventTracker.didEventOccur(),r=this._zoomEventTracker.didEventOccur();return!(e||r)&&l.glU.avgViewportSharpness()<this._sharpnessThreshold}}class S{constructor(){this._isShowingAnnotations=!1}setIsShowingAnnotations(e){this._isShowingAnnotations=e}didEventOccur(){return this._isShowingAnnotations}}class I{constructor(){this._isActive=!1}setIsActive(){this._isActive=!0}didEventOccur(){let e=this._isActive;return this._isActive=!1,e}}var T=n(66712),w=n(51158),C=n(74705),A=n(84917),N=n(38082);let O=[1e3,2e3];class R{constructor(){this._benchmarkOnlyMetrics={editFrames:[],editFramesWhileNotPanningOrZooming:[],allFramesViewportCoverage:[],allFramesMinSharpness:[],allFramesAvgSharpness:[]},this._collectBenchmarkOnlyMetrics=!1,this._editFrameDistribution=new N.UP,this._editFrameDistributionWhileNotPanningOrZooming=new N.UP,this._remoteFrameDistribution=new N.UP,this._remoteFrameDistributionWhileNotPanningOrZooming=new N.UP,this._staleTimeAccumulators=[],this._panEventTracker=new u,this._zoomEventTracker=new c,this._lastFrameTime=0,this._lastEditFrameTime=0,this._lastFrameStaleness=0,this._lastDisplayedRenderChangeCounter=null,this._renderTreeSwapStartTime=null,this.resetLogState()}onFrame(){var e,r,n,i,a;let o=this._panEventTracker.didEventOccur(),s=this._zoomEventTracker.didEventOccur(),d=o||s,c=(null==(e=l.glU)?void 0:e.displayedRenderChangeCounterIndex())??0,u=(null==(r=l.glU)?void 0:r.latestRenderChangeCounterIndex())??0,p=this._lastDisplayedRenderChangeCounter!==c;if(p&&null!==this._renderTreeSwapStartTime){let e=performance.now()-this._renderTreeSwapStartTime,r=!(null==(n=l.glU)?void 0:n.lastChangeToDisplayedRenderTreeIncludesLocalEdit());this._editFrameDistribution.add(e),r&&this._remoteFrameDistribution.add(e),!d&&(this._editFrameDistributionWhileNotPanningOrZooming.add(e),r&&this._remoteFrameDistributionWhileNotPanningOrZooming.add(e)),this._collectBenchmarkOnlyMetrics&&(this._benchmarkOnlyMetrics.editFrames.push(e),d||this._benchmarkOnlyMetrics.editFramesWhileNotPanningOrZooming.push(e)),this._lastEditFrameTime=e}else this._lastEditFrameTime=0;(p||c===u)&&(this._renderTreeSwapStartTime=performance.now()),this._lastDisplayedRenderChangeCounter=c;let h=(null==(i=l.CeL)?void 0:i.getRenderTreeStaleTimeMs())??0;if(this._lastFrameStaleness=h,0!==this._lastFrameTime){let e=performance.now()-this._lastFrameTime;for(let r of this._staleTimeAccumulators){let n=h>r.thresholdMs?e:0;r.msAboveThreshold+=n,d||(r.msAboveThresholdWhileNotPanningOrZooming+=n)}this._collectBenchmarkOnlyMetrics&&(this._benchmarkOnlyMetrics.allFramesViewportCoverage.push({value:(null==(a=l.glU)?void 0:a.estimatedViewportRenderCoverage(l.pWM.DEFINITELY_COVERED_ONLY))??0,duration:e}),this._benchmarkOnlyMetrics.allFramesMinSharpness.push({value:l.glU.minViewportSharpness(),duration:e}),this._benchmarkOnlyMetrics.allFramesAvgSharpness.push({value:l.glU.avgViewportSharpness(),duration:e}))}this._lastFrameTime=performance.now()}lastFrameStaleness(){return this._lastFrameStaleness}lastEditFrameTime(){return this._lastEditFrameTime}setCollectBenchmarkOnlyMetrics(e){this._collectBenchmarkOnlyMetrics=e}allEditFrames(){return this._benchmarkOnlyMetrics.editFrames}allEditFramesWhileNotPanningOrZooming(){return this._benchmarkOnlyMetrics.editFramesWhileNotPanningOrZooming}allFramesViewportCoverage(){return this._benchmarkOnlyMetrics.allFramesViewportCoverage}allFramesMinSharpness(){return this._benchmarkOnlyMetrics.allFramesMinSharpness}allFramesAvgSharpness(){return this._benchmarkOnlyMetrics.allFramesAvgSharpness}toPOJO(){return{editFrameTime:this._editFrameDistribution.toPOJO(),editFrameTimeWhileNotPanningOrZooming:this._editFrameDistributionWhileNotPanningOrZooming.toPOJO(),remoteFrameTime:this._remoteFrameDistribution.toPOJO(),remoteFrameTimeWhileNotPanningOrZooming:this._remoteFrameDistributionWhileNotPanningOrZooming.toPOJO(),staleTimeAccumulators:this._staleTimeAccumulators}}editFrameDistribution(){return this._editFrameDistribution}editFrameDistributionWhileNotPanningOrZooming(){return this._editFrameDistributionWhileNotPanningOrZooming}remoteFrameDistribution(){return this._remoteFrameDistribution}remoteFrameDistributionWhileNotPanningOrZooming(){return this._remoteFrameDistributionWhileNotPanningOrZooming}resetLogState(){this._benchmarkOnlyMetrics={editFrames:[],editFramesWhileNotPanningOrZooming:[],allFramesViewportCoverage:[],allFramesMinSharpness:[],allFramesAvgSharpness:[]},this._editFrameDistribution=new N.UP,this._editFrameDistributionWhileNotPanningOrZooming=new N.UP,this._remoteFrameDistribution=new N.UP,this._remoteFrameDistributionWhileNotPanningOrZooming=new N.UP,this._lastFrameTime=0,this._staleTimeAccumulators=O.map(e=>({thresholdMs:e,msAboveThreshold:0,msAboveThresholdWhileNotPanningOrZooming:0}))}}var P=n(88022),L=n(22983),D=n(15859);let M={"frame.react-render":.1,"frame.scene-render":.2,"frame.scene-render.render-tree-generation":.2},k=["react","frame","frame.react-render","frame.scene-render","frame.scene-render.render-tree-generation","frame.style-updater","frame.symbol-updater","frame.trigger-action","fullscreen-handle-event","fullscreen-handle-event.trigger-action","frame.comments-render"],x=null,F=0,U=null,B=0,V=-1/0,H=0,G=null,W=null,z=null,K=null,j=new I,Y=new I,$=new class{didEventOccur(){return l.Ez5.isUserTyping()}},q={},Z=!1;function X(e,r){G&&(G.setFileInfo(e,(0,P.Dc)(r)),G.startRecording(!0),(0,D.Jr)().setPendingImagesCallback(G.pendingImagesChanged)),x=e,U=performance.now(),F++;let n=(0,T.tl)().editing_file;1===F&&n&&(0,i.sx)("Cold Boot Document Load",{fileKey:x,fileVersion:l.i6g.currentFileVersion(),loadedTime:U,fileNodeCount:l.CeL.getFileNodeCount(),fileTeamId:n.team_id,fileParentOrgId:(0,T.tl)().org_id})}function J(){null==G||G.stopRecordingAndLog("about-to-rebuild-scene")}function Q(){null==G||G.startRecording(!1)}function ee(){null==G||G.recordSingleFrameNamedEvent("tileRenderingActive")}function et(){null==G||G.recordSingleFrameNamedEvent("createTableActive")}function er(){null==G||G.recordSingleFrameNamedEvent("editTableTextActive")}function en(){null==G||G.onNodeDragStart()}function ei(){null==G||G.onNodeDragEnd()}function ea(e){null==G||G.onTileRendererChanged(e)}function eo(){null==G||G.onContextRestored()}function es(e){null==G||G.updateMaxRenderLayerCount(e)}function el(e){null==G||G.updateMaxRenderedTileBytesUsed(e)}function ed(){null==G||G.incrementNumAnimationsFromCpp()}function ec(){null==G||G.incrementNumAnimationsFromTs()}function eu(){j.setIsActive()}function ep(){Y.setIsActive()}function eh(){null==G||G.recordSingleFrameNamedEvent("createStickyActive")}function em(){null==G||G.recordSingleFrameNamedEvent("differentSectionClicked")}let eg=["ALT","META","SHIFT","CONTROL","RIGHT_ALT"];function ef(e){let{fileKey:r,fileNodeCount:n,multiplayerUserCount:i,ongoingSpotlight:a,recentInteractions:o,secondsSinceLoaded:s,version:l,randomID:d}=e,c={fileKey:r,fileNodeCount:n,multiplayerUserCount:i,ongoingSpotlight:a,secondsSinceLoaded:s,version:l,randomID:d,reportCount:B};for(let e=0;e<o.length;e++)c[`recentInteractions.${e}`]=JSON.stringify(o[e]);return(0,C.U)(e.deviceInfo,c),(0,w.Dy)(e.nodeTypeHistogram,c,"nodeTypeHistogram"),c}function e_(e){(0,i.sx)("Slow Editor Interaction",e),V=performance.now(),H=e.duration}function ey(...e){}function eE(){var e;if(!(null==(e=s.Y5)?void 0:e.isReady()))return;let r={},n=a.rH.report(),i=0;for(let e of n)!function e(n,i=""){let a=i.length>0?`${i}.${n.name}`:n.name,o=q[a]||n.hitCount,s=n.hitCount-o;s>n.elapsedTimes.length&&(Z||(console.warn(`Too many elapsed hits of ${a} since last report`),Z=!0),s=n.elapsedTimes.length);let l=0,d=n.elapsedTimes.length;for(let e=d-s;e<d;e++)l+=n.elapsedTimes[e];for(let i of(r[a]=l,q[a]=n.hitCount,n.children))e(i,a)}(e),i+=r[e.name];!function(){var e;if(i/1e3<.2)return;let[n,a]=null===x||null===U?[null,[]]:[{deviceInfo:(0,C.N)(),fileKey:x,fileNodeCount:l.CeL.getFileNodeCount(),multiplayerUserCount:1,ongoingSpotlight:!1,nodeTypeHistogram:l.CeL.getNodeTypeHistogram(),recentInteractions:l.CeL.getRecentInteractions(),secondsSinceLoaded:(performance.now()-U)/1e3,version:1,randomID:(0,L.ds)(),reportCount:B},l.CeL.getSlowInteractions()];if(null==n)return;let o={};for(let e in r)-1!==k.indexOf(e)&&(o[e]=r[e]/1e3);let s=a.map(e=>{let r=e.interaction,i={kind:"interaction",type:r.type,subtype:r.subtype,frame:e.frame,collapsed:!1,duration:e.duration,...ef(n)};if(eg.forEach(e=>i["modifier."+e]=null),"MOUSE"===r.type)for(let e of(i.collapsed=r.collapsed,eg))i["modifier."+e]=-1!==r.modifiers.indexOf(e);return(0,w.Dy)(o,i,"timer"),i});for(let e in r){let i=r[e]/1e3,a=M[e];if("number"==typeof a&&i>=a){let r={kind:"timer",type:e,subtype:null,frame:null,collapsed:!1,duration:i,...ef(n)};(0,w.Dy)(o,r,"timer"),eg.forEach(e=>r["modifier."+e]=null),s.push(r)}}if(0===s.length)return;let d=[],c=s,u=60-(performance.now()-V)/1e3;if(0===(c=c.filter(e=>u<=0||e.duration>=2*H)).length&&d.push(`we're in the report cooldown period (${u}s to go) and no reports were long enough to override it (the last report duration was ${H}s)`),u>0&&c.length,null===U)return;let p=60-(performance.now()-U)/1e3;p>0&&d.push(`we're in the document loading cooldown period (${p}s to go)`),d.length>0?1===(e=d).length?e[0]:2===e.length?(e[0],e[1]):(e.slice(0,e.length-1).join(", "),e[2]):((c=c.sort((e,r)=>e.duration-r.duration)).forEach(e_),B++)}(),l.CeL.clearNodeTypeHistogram(),l.CeL.clearSlowInteractions()}function eb(e){let r=0,n=0,i=[];for(let a of e)1===a.path.length&&"frame"===a.path[0]?(n=a.elapsedTime,i.push(a)):a.path.length>1&&"frame"===a.path[0]?(r+=a.elapsedTime,i.push(a)):1===a.path.length&&i.push(a);if(r>0){let e=n-r;i.push({path:["frame","unaccounted-time"],elapsedTime:e})}return i}function ev(){if(!G&&(0,T.kc)().frame_distribution_tracker_edit){let e=e=>{if((0,T.kc)().optimization_exposure_logging_fs){let r=l.AiE.getAndClearHistogramBatchFields(),n=new Map;r.forEach((e,r)=>{n.set(r,e>0)}),e.optimizationExposures=JSON.stringify(Object.fromEntries(n))}};(G=new o.AH("editor_frame_distributions",eb,2,!0,new R,r=>{e(r)},!1,e=>{let r=l.AiE.getAndClearSlowFrameTrackerFields(),n=new Map;r.forEach((e,r)=>{n.set(r,e>0)}),e[A.N.optimizationExposuresKey]=JSON.stringify(n)},()=>{l.AiE.clearSlowFrameTrackerFields()})).addEventTracker("zoomActive",new c),G.addEventTracker("panActive",new u),G.addEventTracker("viewportHasGaps",new f(l.pWM.DEFINITELY_COVERED_ONLY)),G.addEventTracker("viewportIncludingOutdatedHasGaps",new f(l.pWM.DEFINITELY_COVERED_AND_OUTDATED)),G.addEventTracker("multipleMultiplayerUsersInFile",new y(2,()=>1)),G.addEventTracker("multipleMultiplayerUsersInFileAndPanningOrZooming",new E(2,()=>1)),G.addEventTracker("viewportHasBlurryRegions",new b(1)),G.addEventTracker("viewportHasVeryBlurryRegions",new b(.5)),G.addEventTracker("viewportIsBlurry",new v(1)),G.addEventTracker("viewportIsVeryBlurry",new v(.5)),G.addEventTracker("timeSlicedEditRenderingActive",new h),G.addEventTracker("stalenessIsHigh",new _(1e3)),G.addEventTracker("stalenessIsVeryHigh",new _(2e3)),G.addEventTracker("moveCursorActive",new p),W=new m,G.addEventTracker("cursorChatActive",W),z=new g,G.addEventTracker("cursorReactionActive",z),G.trackOtherUserCursorMoved(),K=new S,G.addEventTracker("devModeAnnotationsVisible",K),G.addEventTracker("independentLayerAnimationActive",j),G.addEventTracker("nonIndependentLayerAnimationActive",Y),G.addEventTracker("isTypingTextActive",$)}}},39319:(e,r,n)=>{"use strict";n.d(r,{N:()=>i});var i,a=n(28527);class o{constructor(){this.reporter=null}logOpenFileAction(e){this.reporter=new a.k("Fullscreen Page Query"),this.reporter.setFileKey(e)}logEvent(e,r){if(this.reporter)switch(e){case"receiveNodeChanges":this.reporter.logEvent({type:e,size:r});break;case"sendSceneGraphQuery":case"receiveSceneGraphReply":this.reporter.logEvent({type:e,queries:r.split(",")});break;case"finishIncrementalLoading":this.reporter.logEvent({type:e,fileKey:r})}}}(e=>{e.isStringEvent=function(e){return"sendSceneGraphQuery"===e||"receiveSceneGraphReply"===e||"finishIncrementalLoading"===e},e.isNumberEvent=function(e){return"receiveNodeChanges"===e},e.loadTimer=new o})(i||(i={}))},60640:(e,r,n)=>{"use strict";n.d(r,{Qw:()=>g,xK:()=>_});var i=n(84934),a=n(78227),o=n(17333),s=n(66712),l=n(74705),d=n(72715),c=n(88022),u=n(52800),p=n(22983),h=n(75521);class m{constructor(e){this.maxHits=e,this.numHits={}}getKeyWithIndex(e){let r=this.numHits[e]||0;return 0===r?e:r<this.maxHits?`${e}.${r}`:null}clear(){this.numHits={}}increment(e){this.numHits[e]=(this.numHits[e]||0)+1}}let g=new Set(["initialize-gpu","render-tree-generation","mp-receive-schema","mp-receive-decompress-buffer","mp-receive-decode-buffer-node-change","mp-receive-decode-buffer-other","handle-changes-from-server","handle-joining-changes-from-server","playback-joining-messages","synthesize-missing-geometry-cache-changes","update-symbol-instances","enforce-structural-invariants","after-initial-join","handle-join-end","first-document-render","mp-ws-onmessage","mp-ws-onopen","receiveSceneGraphReply"]),f=new Set(["initialize-gpu.start","initialize-gpu.end","AFTER_FIRST_RENDER","createStoreStart","initAndHydrateActionNoUserStateStart","initAndHydrateActionNoUserStateEnd","hydrateActionWithUserStateStart","hydrateActionWithUserStateEnd","initialReactRenderStart","initialReactRenderEnd","loadingBinaryStart","loadingCodeStart","instantiateStreamingStart","instantiateStreamingEnd","awaitInstantiateStreamingStart","awaitInstantiateStreamingEnd","instantiateStart","instantiateEnd","awaitInstantiateStart","awaitInstantiateEnd","callMainStart","callMainEnd","editorPreloaded","loadAndStartFullscreen","fullscreenIsReady","appEntryStart","appEntryEnd","fileMetadataRequestStart","fileMetadataRequestEnd"]),_=new class{constructor(){this._loadID=null,this.timeEvents={},this.wsEventTimes={},this.wsMsgSizes={},this.wsMaxMsgInfo={size:void 0,timestamp:void 0},this.wsTotalMsgSize=0,this.wsTotalNodeChangeSize=0,this.fileKey=null,this.fsHitsManager=new m(10),this.wsHitsManager=new m(10),this.wsMsgSizeHitsManager=new m(10),this.numTimesLoaded=0,this.fileOpenIndex=0,this.reportedLoad=!1,this.reportedAbandon=!1,this.reportedFocusLost=!1,this.reportedFocusGained=!1,this.wsUrl=null,this.chunkingEnabled=!1,this.chunkSize=0,this.reportAbandon=()=>{if(this.reportedAbandon||o.eD&&o.eD.tabWasOpenedAsPartOfInitialStartup())return;let e=Math.round(performance.now())-(this.isColdBoot?0:this.timeEvents.openFileActionStart);(0,i.sx)("Fullscreen File Abandon",{fileKey:this.fileKey,randomID:(0,p.ds)(),fileOpenIndex:this.fileOpenIndex,abandonTime:e,fullLoadTime:this.timeEvents.fullLoadTime,coldBoot:this.isColdBoot},{forwardToDatadog:!0,sendAsBeacon:!0}),this.reportedAbandon=!0},this.reportFocusLost=()=>{if(this.reportedFocusLost)return;let e=Math.round(performance.now())-(this.isColdBoot?0:this.timeEvents.openFileActionStart);(0,i.sx)("Fullscreen Loading Lost Focus",{fileKey:this.fileKey,randomID:(0,p.ds)(),fileOpenIndex:this.fileOpenIndex,focusLostTime:e,fullLoadTime:this.timeEvents.fullLoadTime,coldBoot:this.isColdBoot}),this.mark("lostFocus"),this.reportedFocusLost=!0},this.reportFocusGained=()=>{if(this.reportedFocusGained)return;let e=Math.round(performance.now())-(this.isColdBoot?0:this.timeEvents.openFileActionStart);(0,i.sx)("Fullscreen Loading Gained Focus",{fileKey:this.fileKey,randomID:(0,p.ds)(),fileOpenIndex:this.fileOpenIndex,focusedTime:e,fullLoadTime:this.timeEvents.fullLoadTime,coldBoot:this.isColdBoot}),this.mark("gainedFocus"),this.reportedFocusGained=!0}}loadID(){return this._loadID}newLoadID(){return Date.now().toString(36)}mark(e){this.timeEvents[e]=Math.round(performance.now())}startFs(e){let r=this.fsHitsManager.getKeyWithIndex(e);null!==r&&((0,d.Lk)(r),this.mark(`${r}.start`))}stopFs(e){let r=this.fsHitsManager.getKeyWithIndex(e);null!==r&&(this.mark(`${r}.end`),(0,d.Dz)(r)),this.fsHitsManager.increment(e)}setWsUrl(e){this.wsUrl=e;let r=new URL(e);this.chunkingEnabled=r.searchParams.has(mpGlobal.REQUEST_CHUNKED_FILE_LOAD_PARAM),this.chunkSize=parseInt(r.searchParams.get("chunk-size")??"0")}logWsMsg(e,r,n){n=void 0===n?performance.now():n,"mp-ws-onopen"===e&&(this.wsEventTimes={},this.wsMsgSizes={},this.wsHitsManager.clear(),this.wsMsgSizeHitsManager.clear(),this.wsMaxMsgInfo={size:void 0,timestamp:void 0},this.wsTotalMsgSize=0,this.wsTotalNodeChangeSize=0);let i="mp-init",a=Object.keys(this.wsEventTimes).length;0===a?(0,d.Lk)(i,n):1===a&&(0,d.Dz)(i,n);let o=this.wsHitsManager.getKeyWithIndex(e);null!==o&&(this.wsEventTimes[o]=n),this.wsHitsManager.increment(e);let s=`${e}-size`,l=this.wsMsgSizeHitsManager.getKeyWithIndex(s);null!==l&&r&&(this.wsMsgSizes[l]=r),this.wsMsgSizeHitsManager.increment(s),void 0!==r&&(this.wsMaxMsgInfo={size:Math.max(this.wsMaxMsgInfo.size||0,r),timestamp:r>(this.wsMaxMsgInfo.size||0)?n:this.wsMaxMsgInfo.timestamp},this.wsTotalMsgSize+=r)}logNodeChangeMsg(e){this.wsTotalNodeChangeSize+=e}documentIsLoaded(){this.start("documentIsLoaded"),this.timeEvents.fullLoadTime=this.timeEvents.documentIsLoaded-(this.isColdBoot?0:this.timeEvents.openFileActionStart)}reactFullscreenViewIsRendered(){this.start("reactFullscreenViewIsRendered"),this.timeEvents.reactFullscreenViewIsRenderedDuration=this.timeEvents.reactFullscreenViewIsRendered-(this.isColdBoot?0:this.timeEvents.openFileActionStart)}logOpenFileAction(e){for(let r in this.fileKey=e,this._loadID=this.newLoadID(),(0,c.ys)(this._loadID),this.numTimesLoaded++,this.fileOpenIndex=this.numTimesLoaded,this.timeEvents)f.has(r)||delete this.timeEvents[r];return this.fsHitsManager.clear(),this.mark("openFileActionStart"),this.installListeners(),this.reportedLoad=!1,this.reportedAbandon=!1,this.reportedFocusLost=!1,this.reportedFocusGained=!1,{fileOpenIndex:this.fileOpenIndex,isColdBoot:this.isColdBoot}}updateAppEntryTimeEvents(e,r){this.timeEvents.appEntryStart=e,this.timeEvents.appEntryEnd=r}start(e){this.mark(e)}installListeners(){window.addEventListener("pagehide",this.reportAbandon),window.addEventListener("blur",this.reportFocusLost),window.addEventListener("focus",this.reportFocusGained)}uninstallListeners(){window.removeEventListener("pagehide",this.reportAbandon),window.removeEventListener("blur",this.reportFocusLost),window.removeEventListener("focus",this.reportFocusGained)}time(e,r){(0,d.Lk)(e),this.mark(e+"Start");try{return r()}finally{this.mark(e+"End"),(0,d.Dz)(e)}}async timeAsync(e,r){(0,d.Lk)(e),this.mark(e+"Start");try{return await r()}finally{this.mark(e+"End"),(0,d.Dz)(e)}}get isColdBoot(){return!this.timeEvents.editorPreloaded&&!this.timeEvents.androidProtoEditorPreloaded&&1===this.numTimesLoaded&&!!(0,s.tl)().editing_file}getFilePerfMetadata(){var e,r,n,i,a,s,l,d;let c=null==(e=u.CeL)?void 0:e.getFileNodeCount(),p=null==(r=u.CeL)?void 0:r.getUserPageCount(),h=null==(n=u.CeL)?void 0:n.getMpMsgNodeChangesCount(),m=null==(i=u.CeL)?void 0:i.getMpMsgUserChangesCount(),g=(null==(a=u.CeL)?void 0:a.getServerSideLoadTimeMetadata())||{},f=null==(s=u.i6g)?void 0:s.fileIsReadOnly(),_=null==(l=u.i6g)?void 0:l.currentFileVersion(),y=null==(d=o.eD)?void 0:d.getConcurrentLoadingTabsCount();return{coldBoot:this.isColdBoot,readOnly:f,fileNodeCount:c,userPageCount:p,mpMsgNodeChangesCount:h,mpMsgUserChangesCount:m,mpWsMsgsMaxSize:this.wsMaxMsgInfo.size,mpWsMsgsMaxSizeTs:this.wsMaxMsgInfo.timestamp,mpWsMsgsTotalSize:this.wsTotalMsgSize,mpWsNodeChangeMsgsTotalSize:this.wsTotalNodeChangeSize,fileVersion:_,concurrentLoadingTabsCount:y,...g}}getEventsToReport(e){let r=function(e,r,n,i,a,o){let s={times:e,wsMsgSizes:r,meta:a||{}};if(n){if(s.times.appJsLoadStart=n.startTime,s.times.appJsLoadEnd=n.endTime,o&&"toJSON"in n.rawRootEvent){let e=n.rawRootEvent.toJSON();for(let r in e){let n=`appJs.${r}`;s.meta[n]=e[r]}}s.meta["appJs.transferSize"]=n.transferSize}for(let e in i){let r=i[e];if(!r)continue;let n=null;if("startTime"in r){let i=`${e}LoadStart`;s.times[i]=n=r.startTime}if("duration"in r&&null!==n){let i=`${e}LoadEnd`;s.times[i]=n+r.duration}if(o&&"toJSON"in r){let n=r.toJSON();for(let r in n){let i=`${e}.${r}`;s.meta[i]=n[r]}}}return s}({...this.timeEvents,...this.wsEventTimes},this.wsMsgSizes,function(){let e=[],r=null;{let n=new Set(Array.from(document.querySelectorAll('link[rel="preload"]')).filter(e=>e.href.includes("webpack")&&(e.href.endsWith(".js")||e.href.endsWith(".js.gz")||e.href.endsWith(".js.br"))).map(e=>e.href)),i=performance.getEntriesByType("resource").filter(e=>n.has(e.name)),a=/\/(figma_app)/,o=i.findIndex(e=>a.test(e.name)&&!e.name.includes("runtime"));r=i[o],i.splice(o,1),e.push(...i)}if(!r)return null;let n=[r,...e];return{startTime:Math.min(...n.map(e=>e.startTime)),endTime:Math.max(...n.map(e=>e.startTime+e.duration)),transferSize:n.reduce((e,r)=>e+r.transferSize,0),rawRootEvent:r}}(),function(){if(!performance.getEntriesByType)return{};let e={};for(let r of performance.getEntriesByType("resource"))y.test(r.name)?e.appCss=r:r.name===Fig.fullscreenURLs["compiled_wasm.wasm"]?e.wasm=r:r.name===Fig.fullscreenURLs["compiled_wasm.js"]&&(e.wasmJs=r);let r=performance.getEntriesByType("navigation");return 1===r.length&&(e.pageNavigation=r[0]),e}(),this.getFilePerfMetadata(),e),n=(0,l.N)();return{...r.times,...r.wsMsgSizes,...r.meta,...n?Object.fromEntries(Object.entries(n).map(([e,r])=>[`device-info-${e}`,r])):{}}}report(e,r){this.reportedLoad||e!==this.fileKey?this.fileKey:(this.reportedLoad=!0,setTimeout(()=>{var n,o;this.uninstallListeners();let l=this.getEventsToReport(!0),d=(0,h.dd)(),c=(0,h.PH)();if((0,i.sx)("Fullscreen Load Time",{loadID:this.loadID(),version:8,fileKey:e,productType:r,randomID:(0,p.ds)(),fileOpenIndex:this.fileOpenIndex,wsUrl:this.wsUrl,chunkingEnabled:this.chunkingEnabled,chunkSize:this.chunkSize,multiplayerPreload:(null==(o=null==(n=window.EARLY_ARGS)?void 0:n.multiplayer_preconnect_options)?void 0:o.multiplayerPreload)||!1,lazify_more_defaults:!!(0,s.kc)().lazify_more_defaults,...l,...d,...c},{forwardToDatadog:!0}),"number"==typeof l.documentIsLoaded){let e=-1,r="Figma Desktop"===(0,a.X)().browser_name;this.isColdBoot?r&&l.editorPreloaded?"number"==typeof l.editorPreloaded&&(e=l.documentIsLoaded-l.editorPreloaded):e=l.documentIsLoaded:"number"==typeof l.openFileActionStart&&(e=l.documentIsLoaded-l.openFileActionStart),console.log(`[Fullscreen] loadtime=${(e/1e3).toFixed(2)}s ${u.hMR?`maxmem=${u.hMR.getMaxUsedHeapMemory()}`:""}`)}}))}},y=/\/figma_app.*\.css(\.br)?$/},87623:(e,r,n)=>{"use strict";n.d(r,{Z_:()=>s,yQ:()=>o}),n(84934),n(17333),n(38329),n(66712),n(63706),n(30637),n(88022);var i=n(52800),a=n(60707);function o(e,r){return Object.keys(e).reduce((n,i)=>{let a=r[i],o=e[i];return null!=a&&null!=o&&(n[i]=a-o),n},{})}function s(){let e=i.P2e.getHeapMemoryBreakdown(),r={};for(let n of Object.keys(e))r[`heap_breakdown_${n}`]=e[n];let n=function(){let e=(0,a.aW)()??0,r=i.hMR.getTotalUsedHeapMemory();return{process_memory:e,cpp_memory:r,js_memory:e>r?e-r:void 0,cpp_max_memory:i.hMR.getMaxUsedHeapMemory(),alloc_total:i.hMR.getAllocTotal(),alloc_call_count:i.hMR.getAllocCallCount(),emscripten_reserved_memory:(0,a.le)(),indirect_buffer_memory:i.hMR.getJsBufferMemory()}}(),o=i.P2e.getImageMemory()||{};return{...n,renderer_gpu_memory:i.P2e.getRendererGpuMemory(),image_memory:i.P2e.getTotalImageMemory(),compressed_images:o.compressedImages,uncompressed_images_arraybuffer:o.uncompressedArrayBuffer,uncompressed_images_imagebitmap:o.uncompressedImageBitmap,...r}}n(93862)},93789:(e,r,n)=>{"use strict";n.d(r,{z:()=>p});var i=n(5984),a=n(52800),o=n(78655),s=n(35321),l=n(20341),d=n(62531),c=n(41860);let u=class{constructor(e){this.get=e=>{var r;return h(e,null==(r=this.sceneGraph)?void 0:r.scene,!0)||void 0},this.getVariable=e=>{var r;let n=null==(r=this.sceneGraph)?void 0:r.scene;return h(a.UNF.getGUIDFromVariableID(n,o.dI(e)),n,!0)||void 0},this.getVariableCollection=e=>{var r;let n=null==(r=this.sceneGraph)?void 0:r.scene;return h(a.UNF.getGUIDFromVariableCollectionID(n,s.dI(e)),n,!0)||void 0},this.getRoot=()=>{var e;return h("0:0",null==(e=this.sceneGraph)?void 0:e.scene,!1)},this.getCurrentPage=()=>{var e;let r=a.CUU.getCurrentPage(a.Sie.PLUGIN);return r?h(r,null==(e=this.sceneGraph)?void 0:e.scene,!1):null},this.setCurrentPage=e=>{let r=a.CUU.setCurrentPageAsync(e,a.Sie.PLUGIN);if(r)throw Error(r)},this.createNode=(e,r={tracking:a.HzA.TRACK})=>{let n=d.l7.plugin("plugin-create-node",()=>a.CUU.createNode(i.w.NodeType[e],r,a.Sie.PLUGIN));if(!n)throw Error(`Cannot create node with type ${e}`);return h(n,this.sceneGraph.scene,!1)},this.createComponentFromNode=e=>{let r=d.l7.plugin("plugin-create-component",()=>a.CUU.createSymbolFromNode(e,a.Sie.PLUGIN));if(!r)throw Error(`Cannot create component from node ${e}`);return h(r,this.sceneGraph.scene,!1)},this.getTSSceneGraph=()=>this.sceneGraph,this.getWeakHandle=()=>{var e;return null==(e=this.sceneGraph)?void 0:e.scene},this.sceneGraph=e??new c.qo}guidFromDeveloperFriendlyId(e){return this.sceneGraph.guidFromDeveloperFriendlyId(e)}developerFriendlyIdFromGuid(e){return this.sceneGraph.developerFriendlyIdFromGuid(e)}},p=u;function h(e,r,n){let i=(0,l.G2)(e,0),o=(0,l.G2)(e,e.indexOf(":")+1);return n&&(a.UNF.setGlobalUnstableNodeByID(r,i,o,a.Sie.PLUGIN),!a.CUU.exists(a.Sie.PLUGIN))?null:new l.WF(r,e,i,o,a.Sie.PLUGIN)}p.instance=new u},97306:(e,r,n)=>{"use strict";n.d(r,{F0:()=>a,GI:()=>l,MT:()=>s,UP:()=>d,oY:()=>o}),n(20341);var i=n(41860);function a(e,r){let n=0,i=e.get(r)||null;for(;i&&"CANVAS"!==i.type&&"DOCUMENT"!==i.type;)n++,i=function(e,r){var n;return(null==(n=e.get(r))?void 0:n.parentNode)||null}(e,i.guid);return n}function o(e){return"VECTOR"===e||"STAR"===e||"LINE"===e||"ELLIPSE"===e||"RECTANGLE"===e||"REGULAR_POLYGON"===e||"ROUNDED_RECTANGLE"===e}function s(e){return"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CONNECTOR"===e||"CODE_BLOCK"===e||"MEDIA"===e||"SECTION_OVERLAY"===e||"TABLE"===e}function l(e){return"STAMP"===e.type||"ROUNDED_RECTANGLE"===e.type&&e.name.includes("FigJam Stamp Icon")}function d(){let e=i.qo.instance,r=[];return function e(r,n,i){if("stop"===i(n))return"stop";for(let a of n.childrenGuids)if("stop"===e(r,r.get(a),i))return"stop"}(e,e.getRoot(),e=>{r.push(e.guid)}),r}},12666:(e,r,n)=>{"use strict";let i;n.d(r,{$P:()=>s,M7:()=>l,eX:()=>c,nM:()=>d});var a=n(15009),o=((i=o||{}).NONE="NONE",i.FILL="FILL",i.STROKE="STROKE",i.TEXT="TEXT",i.EFFECT="EFFECT",i.GRID="GRID",i);function s(e){return!!(null==e?void 0:e.key)}function l(e){return e.startsWith("S:")}function d(e){return e&&s(e)?`S:${e.key},${e.version||""}`:""}function c(e){if(!e||!l(e))return null;let r=e.substring(2).split(",");if(!r||2!==r.length)return null;let n=(0,a.n3)(r[0]),i=(0,a.IA)(r[1]);return n===a.n3.INVALID?null:{key:n,version:i}}},31770:(e,r,n)=>{"use strict";n.d(r,{NO:()=>c,Pv:()=>h,Q1:()=>u,jS:()=>d,oI:()=>p});var i=n(96328),a=n(5984),o=n(52800),s=n(56390),l=n(60187);function d(e,r,n){let i=function(e,r){let n={guid:{sessionID:0,localID:0}};switch(void 0){case o.rrT.STROKE:case o.rrT.STROKE_PRESET:n.strokePaints=[e];break;case o.rrT.FILL:default:n.fillPaints=[e]}return a.w.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[n]})}(e),l={size:{x:r.x,y:r.y}};n&&(l.backgroundColor=n);let d=s.Y5.DEPRECATED_sendMessage("requestPaintIcon",l,i);if(!(null==d?void 0:d.args))return null;let{pixelSize:c,displaySize:u}=d.args;return d.buffer&&c&&u?{pixels:d.buffer,pixelSize:c,displaySize:u}:null}function c(e){let r=s.Y5.DEPRECATED_sendMessage("requestObjectsPanelIcon",{nodeId:e});return r&&r.buffer?i.CE(r.buffer):""}function u(e,r,n){let i=document.createElement("canvas"),a=n?i.getContext("2d",{colorSpace:(0,l.VG)(n)}):i.getContext("2d");i.width=r.x,i.height=r.y;let o=a.createImageData(r.x,r.y);return o.data.set(e),a.putImageData(o,0,0),i}function p(e){let r=document.createElement("canvas");return r.width=e.naturalWidth,r.height=e.naturalHeight,r.getContext("2d").drawImage(e,0,0),r}function h(e,r,n){return u(e,r,n).toDataURL()}},9511:(e,r,n)=>{"use strict";n.d(r,{BLp:()=>i.BLp,BtE:()=>i.BtE,D1Y:()=>i.D1Y,Ez5:()=>i.Ez5,NLJ:()=>i.NLJ,Oin:()=>i.Oin,QOV:()=>i.QOV,SKs:()=>i.SKs,W8Y:()=>i.W8Y,YCw:()=>i.YCw,YIO:()=>i.YIO,aTl:()=>i.aTl,glU:()=>i.glU,j0r:()=>i.j0r,kul:()=>i.kul,lyf:()=>i.lyf,m1T:()=>i.m1T,nzw:()=>i.nzw,rXF:()=>i.rXF,rrT:()=>i.rrT,uCV:()=>i.uCV,vRS:()=>i.vRS,xal:()=>i.xal});var i=n(52800)},89704:(e,r,n)=>{"use strict";n.d(r,{c:()=>o,k:()=>s});var i=n(99737),a=n(23746);function o(e,r){var n,o;let s=(e,n)=>{let i=[];return null==n||n.forEach(n=>{var o;null==(o=n.variables)||o.forEach(n=>{i.push((0,a.GA)(n,e,r))})}),i};if("team"===e.type&&(null==(n=e.value)?void 0:n.status)==="loaded"){let r=e.value.data.file;if(r)return s({type:"team",file:r},null==r?void 0:r.variableCollections)}if("community"===e.type&&(null==(o=e.value)?void 0:o.status)==="loaded"){let r=(0,i.oA)(e.value.data.communityLibraryByHubFileId);if(r)return s({type:"hubFile",file:{id:r.hubFileId}},null==r?void 0:r.variableCollections)}return[]}function s(e,r){var n,o;if("team"===e.type&&(null==(n=e.value)?void 0:n.status)==="loaded"){let n=e.value.data.file;if(n&&n.variableCollections)return n.variableCollections.map(e=>(0,a.cE)(e,{type:"team",file:n},r))}if("community"===e.type&&(null==(o=e.value)?void 0:o.status)==="loaded"){let n=(0,i.oA)(e.value.data.communityLibraryByHubFileId);if(n&&n.variableCollections)return n.variableCollections.map(e=>(0,a.cE)(e,{type:"hubFile",file:{id:n.hubFileId}},r))}return[]}},6573:(e,r,n)=>{"use strict";n.d(r,{tZ:()=>y});var i=n(11855);n(77469),n(44948),n(66712);var a=n(38580),o=n(74626);n(91388),n(15009),n(87918),n(75224);var s=n(73454);n(33573);var l=n(24897),d=n(39863),c=n(52800),u=n(95869),p=n(66139),h=n(60185),m=n(80377),g=n(58502),f=n(2997);c.rXF.FLOAT,c.rXF.COLOR,c.rrT.FILL,c.rrT.STROKE,c.rrT.EFFECT,c.j0r.FRAME_FILL,c.j0r.SHAPE_FILL,c.j0r.TEXT_FILL,c.j0r.ALL_SCOPES,d.Tx,c.j0r.CORNER_RADIUS,d.Tx,l.B,u.A,c.j0r.WIDTH_HEIGHT,d.Tx,l.B,m.A,c.j0r.GAP,d.Tx,l.B,h.A,d.Tx,c.j0r.TEXT_CONTENT,d.Tx,l.B,f.A,c.j0r.STROKE_FLOAT,d.Tx,l.B,g.A,c.j0r.OPACITY,d.Tx,c.j0r.EFFECT_FLOAT,d.Tx,l.B,p.A,c.j0r.ALL_SCOPES,d.Tx,c.j0r.ALL_FILLS,d.Tx,c.j0r.FRAME_FILL,d.Tx,c.j0r.SHAPE_FILL,d.Tx,c.j0r.TEXT_FILL,d.Tx,c.j0r.STROKE,d.Tx,c.j0r.EFFECT_COLOR,d.Tx,c.j0r.CORNER_RADIUS,c.j0r.GAP,c.j0r.GAP,c.j0r.GAP,c.j0r.GAP,c.j0r.GAP,c.j0r.TEXT_CONTENT,c.j0r.WIDTH_HEIGHT,c.j0r.WIDTH_HEIGHT,c.j0r.CORNER_RADIUS,c.j0r.CORNER_RADIUS,c.j0r.CORNER_RADIUS,c.j0r.CORNER_RADIUS,c.j0r.GAP,c.j0r.WIDTH_HEIGHT,c.j0r.WIDTH_HEIGHT,c.j0r.WIDTH_HEIGHT,c.j0r.WIDTH_HEIGHT,c.j0r.STROKE_FLOAT,c.j0r.STROKE_FLOAT,c.j0r.STROKE_FLOAT,c.j0r.STROKE_FLOAT,c.j0r.STROKE_FLOAT,c.j0r.OPACITY,Object.keys(c.Z6A).filter(e=>isNaN(Number(e))),c.j0r.FRAME_FILL,c.j0r.FRAME_FILL,c.j0r.FRAME_FILL,c.j0r.SHAPE_FILL,c.j0r.SHAPE_FILL,c.j0r.SHAPE_FILL,c.j0r.SHAPE_FILL,c.j0r.SHAPE_FILL,c.j0r.SHAPE_FILL,c.j0r.SHAPE_FILL,c.j0r.TEXT_FILL,c.j0r.SHAPE_FILL;var _=n(91215);function y(e){var r;return(null==(r=function(e){let r=(0,i.useMemo)(()=>e?(0,_.Ev)(e):(0,a.eU)(null),[e]),n=(0,o.md)(r);if(n)return n;if(!e)return null;let l=c.CWU.getSubscribedVariableInfo(e);return l?(0,s.ZI)(l):null}(e))?void 0:r.name)||(e?c.CWU.getVariableNameInStyleSelection(e)??void 0:void 0)}n(96673),n(35682),n(58032),n(89704)},12151:(e,r,n)=>{"use strict";n.d(r,{t:()=>i});let i=new class{constructor(){this.videos={},this.nextVideoID=0}createVideo(){var e=this.nextVideoID++,r=document.createElement("video");return r.preload="auto",this.videos[e]=r,e}deleteVideo(e){var r=this.videos[e];r.remove(),URL.revokeObjectURL(r.src),delete this.videos[e]}getWidth(e){return this.videos[e]?this.videos[e].videoWidth:0}getHeight(e){return this.videos[e]?this.videos[e].videoHeight:0}getCoverImage(e){if(!this.videos[e])return new Uint8Array;var r=this.videos[e],n=document.createElement("canvas").getContext("2d");if(null==n)return new Uint8Array;var i=n.canvas;return i.width=this.getWidth(e),i.height=this.getHeight(e),n.drawImage(r,0,0,i.width,i.height),new Uint8Array(n.getImageData(0,0,i.width,i.height).data.buffer)}loadVideo(e,r,n){return new Promise((i,a)=>{var o=this.videos[r],s=n?new Blob([e],{type:n}):new Blob([e]);let l={error:e=>{a(e.message),d()},loadeddata:e=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{0===o.videoWidth||0===o.videoHeight?a("Video load failed during thumbnail generation: video has no dimensions"):i(o.videoHeight),d()})})}},d=()=>{Object.keys(l).forEach(e=>{o.removeEventListener(e,l[e])})};Object.keys(l).forEach(e=>{o.addEventListener(e,l[e])}),o.src=URL.createObjectURL(s),o.currentTime=0,o.load(),setTimeout(()=>{a("Video load timeout during thumbnail generation")},1e4)})}}},85528:(e,r,n)=>{"use strict";let i;n.d(r,{R9:()=>i}),n(84934),n(44780),n(31664),n(38329),n(11855),n(9388),n(66712),n(45519),n(52800)},72274:(e,r,n)=>{"use strict";n.d(r,{Vi:()=>c});var i=n(39863),a=n(83006),o=n(16395),s=n(13353),l=n(66851),d=n(48639);function c(e){return!!d.k[e]}d.k.EMBED_WIDGET,s.g,d.k.LINK_PREVIEW_WIDGET,l.Nd,d.k.AI_SUMMARY_WIDGET,o.V,d.k.HTML_WIDGET,a.u,d.k.EMBED_WIDGET,s.w.OPEN,s.w.CONVERT_TO_TEXT,d.k.LINK_PREVIEW_WIDGET,l.HP.OPEN,l.HP.VERTICAL,l.HP.HORIZONTAL,l.HP.CONVERT_TO_TEXT,d.k.AI_SUMMARY_WIDGET,d.k.HTML_WIDGET},20550:(e,r,n)=>{"use strict";n.d(r,{z:()=>o});var i=n(84934),a=n(20666);let o=new class{constructor(){this._interactionStartedAtMs=-1,this._pluginID=null,this._interactionType=null,this._numRenders=0,this._totalRenderMs=0,this._totalUnwrappingRenderResultMs=0,this._numReconciliations=0,this._totalReconciliationMs=0,this._durationBeforeVmStart=0,this._reconciliationIsScheduled=!1}startInteraction(e,r){this.clearState(),this._interactionStartedAtMs=window.performance.now(),this._interactionType=r,this._pluginID=e}didEvalJSVM(){this._interactionStartedAtMs&&(this._reconciliationIsScheduled||this.logInteractionAndClearState())}renderWasScheduled(){this._reconciliationIsScheduled=!0}didRender(e,r){this._numRenders++,this._totalRenderMs+=e,this._totalUnwrappingRenderResultMs+=r}didVmStart(e){this._durationBeforeVmStart=e-this._interactionStartedAtMs}didReconciliation(e){this._numReconciliations++,this._totalReconciliationMs+=e,this._reconciliationIsScheduled&&this.logInteractionAndClearState()}logInteractionAndClearState(){if(this._interactionStartedAtMs<0||null==this._pluginID||null==this._interactionType){this.clearState();return}let e=window.performance.now()-this._interactionStartedAtMs,r={eventType:this._interactionType,pluginID:this._pluginID,totalDurationMs:e,durationBeforeVmStart:this._durationBeforeVmStart,activeWorkDurationMs:this._totalRenderMs+this._totalReconciliationMs,numRenders:this._numRenders,totalRenderMs:this._totalRenderMs,totalUnwrappingRenderResultMs:this._totalUnwrappingRenderResultMs,numReconciliations:this._numReconciliations,totalReconciliationMs:this._totalReconciliationMs,editorType:(0,a.T)()};(0,i.sx)("Widget Interaction Performance",r,{forwardToDatadog:!0}),this.clearState()}clearState(){this._interactionStartedAtMs=-1,this._interactionType=null,this._pluginID=null,this._reconciliationIsScheduled=!1,this._numRenders=0,this._totalRenderMs=0,this._totalUnwrappingRenderResultMs=0,this._numReconciliations=0,this._totalReconciliationMs=0}}},10225:(e,r,n)=>{"use strict";n.d(r,{ZY:()=>a});let i=new Map;function a(e){return i.has(e)}},71952:(e,r,n)=>{"use strict";n.d(r,{N:()=>l});var i=n(86759),a=n(66712);let o=null;function s(e){e&&console.error("Could not load gapi",e),o=null}function l(){return o||(o=new Promise(async(e,r)=>{try{await (0,i.k0)("https://apis.google.com/js/api.js",{cors:!1,waitForCondition:()=>"gapi"in window}),window.gapi.load("client",async()=>{try{await window.gapi.client.init({apiKey:(0,a.Ay)().google_contacts_api_key,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/people/v1/rest"]}),e(window.gapi)}catch(e){s(e),r("Could not load gapi")}})}catch(e){s(e),r("Could not load gapi")}}))}},18812:(e,r,n)=>{"use strict";n.d(r,{B:()=>l,U:()=>s});var i=n(11855),a=n(88507),o=n(38269);function s(){return(0,a.d4)(e=>e.dropdownShown)}function l(e){let r=(0,a.wA)(),n=s();return(0,i.useMemo)(()=>{let{type:i,...a}=n||{},s=i===e;function l(){r(o.oB())}function d(n={}){r(o.j7({...n,type:e}))}return{...a,showing:s,hide:l,show:d,toggle:function(e={}){s?l():d(e)}}},[r,n,e])}},60289:(e,r,n)=>{"use strict";n.d(r,{XM:()=>s});var i=n(88507),a=n(52800);function o(e){return e.mirror.appModel.votingSessionInfo.votingStage===a.W8Y.JOINED}function s(){return(0,i.d4)(o)}},29680:(e,r,n)=>{"use strict";n.d(r,{KH:()=>d,aV:()=>c,eY:()=>l});var i=n(11855),a=n(88507),o=n(8405);n(41860);let s=e=>{var r;return null==(r=null==e?void 0:e.mirror)?void 0:r.sceneGraph};function l(){return(0,a.d4)(s)}let d=()=>(0,a.d4)(e=>e.mirror.sceneGraphSelection);function c(){return(0,a.d4)(e=>{var r;return(0,o.T)(null==(r=null==e?void 0:e.progressBarState)?void 0:r.mode)})}(0,i.createContext)(null)},78340:(e,r,n)=>{"use strict";let i;n.d(r,{Mk:()=>_,Wy:()=>p,pr:()=>y,rq:()=>h});var a=n(11855),o=n(88507),s=n(38580),l=n(74626),d=n(52800),c=n(60707),u=n(47402),p=((i=p||{})[i.SAFE=0]="SAFE",i[i.WARNING=1]="WARNING",i[i.ERROR=2]="ERROR",i[i.OOM=3]="OOM",i);function h(e){}let m=(0,s.eU)(0),g=(0,s.eU)(0),f=(0,s.eU)(!1);function _(){let e=(0,o.d4)(e=>{var r;return(null==(r=e.modalShown)?void 0:r.type)===u.Lu}),[r,n]=(0,l.fp)(m),[i,s]=(0,a.useState)(!1),{memoryUsedPercent:p,usingTestMemory:h}=((0,o.d4)(e=>e.mirror),{memoryUsedPercent:Math.round(100*Math.max(0,Math.min(100,(0,c.Yc)()/d.hMR.getHeapMemoryLimit()*100))+Number.EPSILON)/100,usingTestMemory:!1}),[_,y]=(0,l.fp)(g),[E,b]=(0,l.fp)(f);return(0,a.useEffect)(()=>{let i;let a=e?3:(i=r,0===r?p>=75?i=2:p>=60&&(i=1):1===r?p>=75?i=2:p<60&&(i=0):2===r&&p<75&&(i=p<60?0:1),i);r!==a&&(y(r),n(a),b(!1),a>0&&d.Ez5.uiState().showInFileMemoryPercentage.set(!0)),_&&_>0&&(0===a&&d.Ez5.uiState().showInFileMemoryPercentage.set(!1),s(!0))},[r,p,e,_,b,n,y]),{warningLevel:r,memoryUsedPercent:p,usingTestMemory:h,previousWarningLevelUnsafe:i,previousWarningLevel:_,warningTracked:E,setWarningTracked:b}}function y(e,r,n){let i=(0,c.Yc)()/r*e*100/d.hMR.getHeapMemoryLimit();return n?i>=.1?`${i.toFixed(1)}%`:"--":i>=10?`${i.toFixed(1)}%`:`${i.toFixed(2)}%`}},79118:(e,r,n)=>{"use strict";n.d(r,{VI:()=>_,lH:()=>f,v9:()=>g});var i=n(11855);n(88507);var a=n(38580),o=n(74626),s=n(28654);n(68039);var l=n(48661),d=n(9511),c=n(54294),u=n(41860),p=n(197),h=n(76615);let m=(0,a.eU)(!1);function g({selectedView:e,isLoadingVersionHistory:r,theme:n}){var a;let g=(null==e?void 0:e.view)==="prototype",f=g?null:u.qo.instance.getCurrentPage(),_=i.useMemo(()=>null==f?void 0:f.backgroundColor,[f]),y=!!(0,p.J2)(null==(a=d.Ez5)?void 0:a.currentPageState().requestedPageChange),E=(0,o.md)(c.s6),b=(0,o.md)(c.rp),v=(0,o.md)(m),S=(0,o.md)(c.nc);return i.useMemo(()=>{let e;if(g)return{isLoading:!1};let i=(0,l.E7)(_);return(e=null!==i?s.F.format(i):n&&"dark"===(0,h.i_)(n)?"rgba(30, 30, 30, 1)":"rgba(229, 229, 229, 1)",null!=i?(i.a=.7,e=s.F.format(i)):e="rgba(229, 229, 229, 0.1)",E)?{background:e,isLoading:!1}:{background:e,isLoading:!!r||y||S||b||v,isLoadingMissingFonts:v}},[g,_,n,E,r,y,S,b,v])}function f(e){return e.some(e=>e.status!==d.xal.LOADED)}function _(e){return e.every(e=>e.status===d.xal.LOADED)}},94687:(e,r,n)=>{"use strict";n.d(r,{h0:()=>s,sZ:()=>o,td:()=>a});var i=n(88507);function a(e,r){if(!e)return;let n=r[e];if(n)return n}function o(){return(0,i.d4)(({currentUserOrgId:e,orgById:r})=>a(e,r))}let s=(0,n(29928).bt)(({currentUserOrgId:e})=>e)},94901:(e,r,n)=>{"use strict";n.d(r,{FC:()=>o});var i=n(88507),a=n(28467);function o(){return(0,i.d4)(a.getPermissionsState,i.bN)}n(47206)},78933:(e,r,n)=>{"use strict";let i;n.d(r,{N:()=>l,T:()=>d});var a=n(11855),o=n(88507),s=n(88022),l=((i=l||{}).START="start",i.STOP="stop",i.IGNORE="ignore",i);function d(){let e=(0,o.Pj)();return(0,a.useCallback)(r=>{var n;let i=e.getState(),a=null==(n=i.openFile)?void 0:n.key,o=i.multiplayer,l=o.allUsers.find(e=>e.sessionID===o.sessionID),d=o.allUsers.length,c=null==l?void 0:l.userID;(0,s.ds)("Spotlight CTA Clicked",a,i,{userId:c,numFileUsers:d,eventType:r})},[e])}},20662:(e,r,n)=>{"use strict";n.d(r,{TN:()=>s});var i=n(88507),a=n(28467),o=n(46869);function s(e){let r=!!function({teamId:e,flag:r}){return(0,i.d4)(n=>{var i;return null==(i=n.userTeamFlags[e])?void 0:i[r]})}({teamId:e,flag:o.uU}),n=(0,i.d4)(r=>r.teams[e]),s=(0,i.d4)(e=>(0,a.getPermissionsStateMemoized)(e));return o.ng.getProTrial(n,r,s)}},11978:(e,r,n)=>{"use strict";n.d(r,{AN:()=>h,OC:()=>c,_6:()=>d,yF:()=>p,z3:()=>m});var i=n(88507),a=n(38580),o=n(29928);n(7465);let s=e=>e.selectedView,l=e=>e.selectedView.view;function d(){return(0,i.d4)(s)}let c=(0,o.bt)(s),u=(0,o.bt)(e=>e.modalShown),p=(0,a.eU)(e=>{var r;return(null==(r=e(u))?void 0:r.type)||null}),h=(0,o.bt)(e=>{var r,n;return(null==(n=null==(r=e.notifications)?void 0:r[0])?void 0:n.type)??null});function m(){return(0,i.d4)(l)}},60178:(e,r,n)=>{"use strict";n.d(r,{Pc:()=>o,TA:()=>a,iZ:()=>s});var i=n(88507);function a(){var e;return(null==(e=s())?void 0:e.id)||null}function o(){return(0,i.d4)(e=>e.user)}function s(){return(0,i.d4)(e=>e.user)}},9798:(e,r,n)=>{"use strict";n.d(r,{f:()=>a});var i=n(88507);function a(e){return(0,i.d4)(r=>r.userFlags[e])}n(94272)},93212:(e,r,n)=>{"use strict";n.d(r,{U3:()=>s,aq:()=>o});var i=n(11855),a=n(31664);function o(){let e=i.useRef(!1);return i.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),i.useCallback(()=>e.current,[])}function s(e,r,n){let o=function(e,r){let n=i.useRef(null),a=r(e,n.current);return i.useEffect(()=>{a||(n.current=e)}),a?n.current:e}(n,a.c2);i.useEffect(()=>(window.addEventListener(e,r,o),()=>{window.removeEventListener(e,r,o)}),[e,r,o])}},32135:(e,r,n)=>{"use strict";n.d(r,{jN:()=>h,r1:()=>p,rl:()=>c,to:()=>u});var i=n(66712),a=n(51158),o=n(79940),s=n(96328),l=n(99506),d=n(21487);function c(e){return(0,i.kc)().dt_url_improvements?h({file:e,excludeMode:!0}):e.edit_url.includes("?type")?e.edit_url:e.edit_url+"?type="+(e.editor_type||"design")}function u(e){return(0,i.kc)().dt_url_improvements?h({file:e,excludeMode:!0}):e.url.includes("?type")?e.url:e.url+"?type="+(e.editor_type||"design")}function p(e,r){if((0,i.kc)().dt_url_improvements)return h({file:e,excludeMode:!r});{let n=u(e);return r?function(e,r){if("design"!==r)return e;let n=new URL(e);return n.searchParams.set("mode","design"),n.toString().replace("/?","?")}(n,e.editor_type):n}}function h(e){return function(e){let r=(0,i.kc)().dt_url_improvements,n={},c=e.file.editorType||e.file.editor_type||(e.isFigJam?l._Y.WHITEBOARD:l._Y.DESIGN),u=r&&"file"===e.base?function(e){switch(e){case l._Y.WHITEBOARD:return"board";case l._Y.DESIGN:break;case l._Y.SLIDES:return"slides"}return"design"}(c):e.base,p="";if("file"===u&&(n.type=c),e.nodeId&&(n["node-id"]=(0,d.E)(e.nodeId)),e.excludeMode)"design"===u&&(n.m="auto");else{let r;e.isDevHandoff?r="dev":e.isFigJam||(r="design"),"design"===u&&"dev"===r?n.m="dev":"file"===u&&r&&(n.mode=r)}("file"===e.base||"proto"===e.base)&&e.attributionContext&&(n.t=e.attributionContext),("file"===e.base||"proto"===e.base)&&e.commentId&&(p=`#${e.commentId}`),e.compareLatest&&(n["compare-latest"]=1);let h=(0,a.Im)(n)?"":`?${(0,o.lF)(n)}`,m=(0,s.sy)(e.file.name||"");return`${location.origin}/${u}/${e.file.key}${m.length>0?`/${m}`:""}${h}${p}`}({file:e.file,nodeId:e.nodeId,base:e.base||"file",attributionContext:e.attributionContext,isDevHandoff:e.isDevHandoff,isReadOnly:e.isReadOnly,isFigJam:e.isFigJam,excludeMode:e.excludeMode,commentId:e.commentId,compareLatest:e.compareLatest})}},21487:(e,r,n)=>{"use strict";function i(e){return/figma\.(com|(engineering:(8080|8443)))$/.test(e)}function a(e){return e.replace(":","-")}n.d(r,{E:()=>a,F:()=>i})},40596:(e,r,n)=>{"use strict";n.d(r,{Wh:()=>d});var i=n(38329),a=n(74626),o=n(38580),s=n(35682);let l={preserveValue:!1};function d(e,r=l){let n=(0,a.Iz)(e);return(0,o.eU)(e=>{let a=i.D?e(s.ze):"FILE_KEY";return r.preserveValue||n.setShouldRemove((e,r)=>r!==a),e(n(a))},(e,r,...i)=>r(n(e(s.ze)),...i))}},74011:(e,r,n)=>{"use strict";let i;n.d(r,{SG:()=>u,hR:()=>h,hW:()=>p,x6:()=>m});var a=n(41563),o=n.n(a),s=n(74626),l=n(38580);n(73119);var d=n(40596),c=n(197);function u(e){let r="function"==typeof e?e:()=>e;return(0,d.Wh)(()=>(0,s.S_)({get:()=>r().getCopy(),subscribe:e=>(0,c.lu)(r(),{onChangeDeferred:e})}))}var p=((i=p||{})[i.RESET_VALUE_ON_FILE_CHANGE=0]="RESET_VALUE_ON_FILE_CHANGE",i[i.KEEP_SEPARATE_VALUE_FOR_EACH_FILE=1]="KEEP_SEPARATE_VALUE_FOR_EACH_FILE",i[i.SHARE_SAME_VALUE_FOR_ALL_FILES=2]="SHARE_SAME_VALUE_FOR_ALL_FILES",i);function h(e,r){let n=g(e,r);return Object.assign((0,l.eU)(e=>e(n)),f(n))}function m(e,r,n){let i=g(e,n);return Object.assign((0,l.eU)(e=>e(i),(e,n,a)=>{r("function"==typeof a?a(e(i)):a)}),f(i))}function g(e,{changeFileBehavior:r,equalityFn:n=o()}){let i=()=>{let r="function"==typeof e?e():e;return(0,s.M2)((0,l.eU)(r),n)};switch(r){case 2:return i();case 1:return(0,d.Wh)(i,{preserveValue:!0});case 0:return(0,d.Wh)(i,{preserveValue:!1})}}function f(e){let r=r=>s.zl.set(e,r);return{syncFromFullscreen:r,observable:{get:()=>s.zl.get(e),set:r}}}},69961:(e,r,n)=>{"use strict";let i;n.d(r,{eR:()=>v,gw:()=>b,nt:()=>S,o3:()=>E});var a=n(88507),o=n(56013),s=n(38329),l=n(66712),d=n(74626),c=n(76621),u=n(39863),p=n(92592),h=n(31828),m=n(70499),g=n(88022),f=n(29928);function _(){return s.D||((0,c.ED)("Labs","No global redux store set, so creating a mock store with empty userFlags"),(0,o.y$)(()=>({userFlags:{}})))}class y{constructor({getName:e,canOverrideFeatureFlag:r,defaultValueFeatureFlag:n,getVisualBellMessage:i}){this.getName=e,this.getVisualBellMessage=i||this.getDefaultVisualBellMessage,this.canOverrideFeatureFlag=r,this.defaultValueFeatureFlag=n,this.trueOverrideUserFlag=`${r}_override_true`,this.falseOverrideUserFlag=`${r}_override_false`,this.atom=(0,f.bt)(e=>this.getEffectiveValue(e.userFlags),_)}getEffectiveValue(e){return(0,m.Y)({trueOverrideUserFlag:this.isUserOverriddenToTrue(e),falseOverrideUserFlag:this.isUserOverriddenToFalse(e),canOverride:this.canOverride(),defaultValue:this.defaultValue()})}isUserOverriddenToTrue(e){return!!e[this.trueOverrideUserFlag]}isUserOverriddenToFalse(e){return!!e[this.falseOverrideUserFlag]}canOverride(){return!!(0,l.kc)()[this.canOverrideFeatureFlag]}defaultValue(){return!!(0,l.kc)()[this.defaultValueFeatureFlag]}isOverridden(e){return this.isUserOverriddenToTrue(e)||this.isUserOverriddenToFalse(e)}toggleValue(e,r,n){if(!this.canOverride())return;let i=this.getEffectiveValue(e.userFlags),a=!i,o={[this.trueOverrideUserFlag]:!1,[this.falseOverrideUserFlag]:!1};o[a?this.trueOverrideUserFlag:this.falseOverrideUserFlag]=!0,r(h.b(o)),r(p.F.enqueue({message:this.getVisualBellMessage(a)})),this.trackChange(e.user,i,!i,n)}getDefaultVisualBellMessage(e){return e?(0,u.t)("lab.enabled",{labName:this.getName()}):(0,u.t)("lab.disabled",{labName:this.getName()})}resetToDefault(e,r){let n=this.getEffectiveValue(e.userFlags);r(h.b({[this.trueOverrideUserFlag]:!1,[this.falseOverrideUserFlag]:!1})),this.trackChange(e.user,n,this.defaultValue(),"reset")}trackChange(e,r,n,i){(0,g.uE)("labs",{user:e},{canToggleFF:this.canOverrideFeatureFlag,defaultValueFF:this.defaultValueFeatureFlag,previousValue:r,newValue:n,defaultValue:this.defaultValue(),source:i})}}function E(e){return(0,d.md)(e.atom)}var b=((i=b||{})[i.DEFAULT=0]="DEFAULT",i[i.OVERRIDDEN=1]="OVERRIDDEN",i);function v(e){return[(0,d.md)(e.atom),(0,a.d4)(r=>e.isOverridden(r.userFlags))?1:0]}let S=Object.freeze({customKeyboardShortcuts:new y({getName:()=>(0,u.t)("keyboard_settings.custom_keyboard_shortcuts"),canOverrideFeatureFlag:"ce_custom_keyboard_shortcuts",defaultValueFeatureFlag:"ce_custom_keyboard_default"}),ui3:new y({getName:()=>(0,u.t)("lab.ui3"),getVisualBellMessage:e=>e?(0,u.t)("lab.ui3_enabled_message"):(0,u.t)("lab.ui3_disabled_message"),canOverrideFeatureFlag:"unified_index_v3_endpoint",defaultValueFeatureFlag:"unified_index_v3_default"}),ui3ExpNonDesign:new y({getName:()=>(0,u.t)("lab.ui3.experimental_non_design"),canOverrideFeatureFlag:"unified_index_v3_exp",defaultValueFeatureFlag:"unified_index_v3_exp_default"}),ui3PrototypeAsATool:new y({getName:()=>(0,u.t)("lab.ui3.experimental_prototype_as_a_tool"),canOverrideFeatureFlag:"lab_prototype_as_a_tool_toggle",defaultValueFeatureFlag:"lab_prototype_as_a_tool_default"}),ui3AssetsPanelRedesign:new y({getName:()=>(0,u.t)("lab.ui3.assets_panel_redesign"),canOverrideFeatureFlag:"lab_asset_panel_redesign_toggle",defaultValueFeatureFlag:"lab_asset_panel_redesign_default"}),ui3AssetsPanelRedesignAlt:new y({getName:()=>(0,u.t)("lab.ui3.assets_panel_redesign_alt"),canOverrideFeatureFlag:"lab_asset_panel_alt_toggle",defaultValueFeatureFlag:"lab_asset_panel_alt_default"}),ui3CollapsedSidebarPillBackground:new y({getName:()=>(0,u.t)("lab.ui3.collapsed_sidebar_pill_background"),canOverrideFeatureFlag:"lab_collapsed_pill_color_toggle",defaultValueFeatureFlag:"lab_collapsed_pill_color_default"}),ui3CanvasColorThemeSync:new y({getName:()=>(0,u.t)("lab.ui3.canvas_color_theme_sync"),canOverrideFeatureFlag:"lab_canvas_theme_sync_toggle",defaultValueFeatureFlag:"lab_canvas_theme_sync_default"}),ui3Motion:new y({getName:()=>(0,u.t)("lab.ui3.motion"),canOverrideFeatureFlag:"lab_motion_toggle",defaultValueFeatureFlag:"lab_motion_default"}),fplComponents:new y({getName:()=>(0,u.t)("lab.fpl.components"),canOverrideFeatureFlag:"lab_fpl_components_toggle",defaultValueFeatureFlag:"lab_fpl_components_default"}),propertiesDevelopment:new y({getName:()=>(0,u.t)("lab.ui3.properties_dev"),canOverrideFeatureFlag:"ui3_properties_dev",defaultValueFeatureFlag:"ui3_properties_dev_default"}),trackableDebug:new y({getName:()=>(0,u.t)("lab.trackable_debug"),canOverrideFeatureFlag:"lab_trackable_debug_toggle",defaultValueFeatureFlag:"lab_trackable_debug_default"}),figjamUi3:new y({getName:()=>(0,u.t)("lab.figjam_ui3"),getVisualBellMessage:e=>e?(0,u.t)("lab.ui3_figjam_enabled_message"):(0,u.t)("lab.ui3_figjam_disabled_message"),canOverrideFeatureFlag:"unified_index_v3_figjam_endpoint",defaultValueFeatureFlag:"unified_index_v3_figjam_default"}),sitesResponsiveScaling:new y({getName:()=>(0,u.t)("lab.sites_responsive_scaling"),canOverrideFeatureFlag:"sites_responsive_scaling_toggle",defaultValueFeatureFlag:"sites_responsive_scaling_default"}),toolbeltSwitch:new y({getName:()=>(0,u.t)("lab.ui3.toolbelt_switch"),canOverrideFeatureFlag:"lab_toolbelt_switch_toggle",defaultValueFeatureFlag:"lab_toolbelt_switch_default"})})},16095:(e,r,n)=>{"use strict";let i;n.d(r,{A0:()=>Z,AA:()=>eN,Av:()=>G,CG:()=>e2,Dg:()=>z,E2:()=>e3,FS:()=>e8,Fz:()=>eO,GA:()=>el,Gg:()=>eR,Gj:()=>tr,HF:()=>B,Hb:()=>eJ,Ht:()=>eX,KQ:()=>ef,LB:()=>eb,LI:()=>e0,Lk:()=>eu,MA:()=>e6,Mb:()=>eT,NW:()=>eH,NY:()=>e4,QC:()=>eW,QT:()=>Q,RQ:()=>eV,VF:()=>ek,Vd:()=>$,WV:()=>eF,WY:()=>eA,X0:()=>q,X7:()=>W,Ys:()=>ew,_B:()=>eG,_Q:()=>eU,ad:()=>e5,ah:()=>tt,cP:()=>e1,cd:()=>eL,eA:()=>eQ,gA:()=>ep,i_:()=>eE,j7:()=>j,kD:()=>Y,kG:()=>eY,kw:()=>e$,lG:()=>ej,lg:()=>V,oH:()=>eq,ov:()=>eM,pq:()=>eD,rC:()=>eg,td:()=>ex,uD:()=>te,vu:()=>e9,w8:()=>ev,yW:()=>e7,yh:()=>K,zE:()=>eB});var a=n(11855);n(88507),n(58271);var o=n(84934);n(17068);var s=n(35283),l=n(38329);n(94272);var d=n(66712),c=n(86653),u=n(64898),p=n(76621),h=n(37304);n(96328);var m=n(4783),g=n(208),f=n(15009),_=n(47506),y=n(39863),E=n(75224),b=n(72900),v=n(65746),S=n(68389),I=n(44682),T=n(95281),w=n(52246);n(82976);var C=n(74105),A=n(44892),N=n(75847),O=n(52800);n(12666);var R=n(66068),P=n(36599),L=n(20741),D=n(73454),M=n(79145),k=n(56012);n(33370);var x=n(79296);n(35682),n(94687),n(88094);var F=n(94517),U=((i=U||{}).CURRENT="current",i.ALL="all",i);function B(e){return e===D.E8.CURRENT||e===D.E8.CHANGED||e===D.E8.DELETED}function V(e){return e===D.E8.NEW||e===D.E8.CHANGED||e===D.E8.DELETED}function H(e){switch(e.type){case D.PW.COMPONENT:return{type:e.type,key:e.component_key,version:e.content_hash};case D.PW.STATE_GROUP:return{type:e.type,key:e.key,version:e.version};case D.PW.STYLE:return{type:e.type,key:e.key,version:e.content_hash};case D.PW.VARIABLE_SET:case D.PW.VARIABLE:case D.PW.MODULE:return{type:e.type,key:e.key,version:e.version};default:(0,s.vA)(!1,`Unknown type ${null==e?void 0:e.type}`)}}function G(e){let{key:r}=H(e);return(0,s.KF)(void 0!==r,"Asset had no key",{asset:e}),r}function W(e){return e.map(G)}function z(e){return H(e).version}function K(e,r,n){for(let n of Object.values(r))if("loaded"===n.status&&n.data.key===e)return n.data;for(let r of Object.values(n))if(r.key===e)return r;return null}function j(e,r){let n=Object.create(null);if(!r)return n;let i=r.team_id||D.Yu,a=e[i]&&e[i][r.key]||Object.create(null);for(let e in a)null==a[e].unpublished_at&&(n[e]=a[e]);return n}function Y(e){let r=[];return $(e,(n,i,a)=>{r.push(e[n][i][a])}),r}function $(e,r){Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(i=>{Object.keys(e[n][i]).forEach(e=>{r(n,i,e)})})})}function q(e){return Object.keys(e).map(r=>e[r]).filter(e=>!e.deletedFromSceneGraph)}function Z(e,r,n,i){let a=[];for(let o in r)for(let s in r[o])if(es(e,n,{team_id:o,key:s},i))for(let e in r[o][s]){let n=r[o][s][e];a.push(n)}return a}a.createContext(null);let X=["TEXT","FILL","EFFECT","GRID"],J=(e,r)=>{let n=r?1:2;switch(e){case"TEXT":return(0,y.t)("design_systems.styles.text_style",{numStyles:n});case"FILL":return(0,y.t)("design_systems.styles.color_style",{numStyles:n});case"EFFECT":return(0,y.t)("design_systems.styles.effect_style",{numStyles:n});case"GRID":return(0,y.t)("design_systems.styles.grid_style",{numStyles:n});case"EXPORT":return(0,y.t)("design_systems.styles.export_style",{numStyles:n});case"STROKE":return(0,y.t)("design_systems.styles.stroke_style",{numStyles:n});default:return(0,o.sx)("Unknown style type",{styleType:e}),(0,y.t)("design_systems.styles.styles",{numStyles:n})}};function Q(e){return J(e,!1)}function ee(e,r){var n,i;return r in e?{design:!!(null==(n=e[r])?void 0:n.design),figjam:!!(null==(i=e[r])?void 0:i.figjam)}:{design:null,figjam:null}}let et=e=>null!==e.design&&null!==e.figjam;function er(e,r){var n;if(!r)return{design:!1,figjam:!1};let i=(n=e.subscriptions.forPresets,(0,d.kc)().dse_preset_libraries?r?ee(n,r.key):{design:!1,figjam:!1}:{design:null,figjam:null}),a=ee(e.subscriptions.forCurrentOrg,r.key);return et(a)?a:i}function en(e,r,n){if(!n)return{design:!1,figjam:!1};let i=function(e,r){if(!r)return{design:!1,figjam:!1};let n=er(e,r),i=ee(e.subscriptions.forCurrentWorkspace,r.key);return et(i)?i:n}(e,n),a=ee(e.subscriptions.byTeam[r]||{},n.key);return et(a)?a:i}let ei=(e,r)=>{if(!r)return{design:!1,figjam:!1};let n=er(e,r),i=ee(e.subscriptions.forCurrentUser,r.key);return et(i)?i:n};function ea(e,r){let n=ei(e,r);if(et(n))return n;for(let i in e.subscriptions.byTeam){let a=en(e,i,r);a.design&&(n.design=!0),a.figjam&&(n.figjam=!0)}return n}let eo=(e,r)=>e.key===r.key||e.source_file_key===r.key||e.key===r.source_file_key;function es(e,r,n,i){let a;if(!r||!n||eo(r,n))return!1;a=(0,d.kc)().ps_benchmark?r.team_id?i?function(e,r,n){let i=ei(e,n);return et(i)?i:en(e,r,n)}(e,r.team_id,n):en(e,r.team_id,n):ea(e,n):r.team_id?en(e,r.team_id,n):ea(e,n);let o="whiteboard"===r.editor_type?a.figjam:a.design,s=e.subscriptions.byFile;return r.key in s&&n.key in s[r.key]?s[r.key][n.key]:ex(e,n.key)?o||null===o:o}function el(e,r,n,i,a){if(n.length)return!0;for(let n of i){let i;let o=a[n];if(!o)continue;i="file_key"in o?o.file_key:"loaded"===o.status&&o.data.file_key;let s=(0,N.T9)(r.project);if(i&&es(e,{key:r.key,team_id:r.teamId,editor_type:r.editorType,source_file_key:r.sourceFileKey},{key:i},s))return!0}return!1}let ed=(e,r)=>e.style_type===r.style_type?0:X.indexOf(e.style_type)<X.indexOf(r.style_type)?-1:1,ec=(e,r)=>-(0,u.Ez)(e.sort_position||"",r.sort_position||"");function eu(e,r){let n=ed(e,r);return 0===n?ec(e,r):n}function ep(e,r){let n=e=>e&&e.toLowerCase?e.toLowerCase():"",i=e.containing_frame||{},a=r.containing_frame||{};return i.pageId!==a.pageId?n(i.pageName)<n(a.pageName)?-1:1:i.nodeId!==a.nodeId?n(i.name)<n(a.name)?-1:1:n(e.name)<n(r.name)?-1:1}let eh=!0;function em(e,r){if(!e||!r)return!0;for(let n in e){if(!(n in r))return!0;let i=e[n],a=r[n];for(let e in i)if(i[e]!==a[e])return!0;for(let e in a)if(!(e in i))return!0}for(let n in r)if(!(n in e))return!0;return!1}function eg(e,r,n,i,a,o,s,l,d,c){let u=Object.create(null),p=0;for(let h in r.forEach(r=>{let d=r.nodeId,h=i[d];o[d]=eI(a[d]),u[d]=e(h,n[d],r,s,l,c);let m=u[d];m.status===D.E8.NEW&&m.type===D.PW.COMPONENT&&(p+=1)}),i)if(!(h in u)){let e=a[h];e&&e.url&&(0,A.qv)(e.url);let r=i[h];if(r.type===D.PW.COMPONENT||r.type===D.PW.STATE_GROUP){let e=(r.type,D.PW.COMPONENT,r);e.old_key&&d.add(e.node_id)}}for(let r in n)r in u||(o[r]=eI(a[r]),u[r]=e(i[r],n[r],null,s,l,c));return{newLocal:u,numNewComponents:p}}function ef(e){var r;let n=e.getState();if(n.versionHistory.activeId&&n.versionHistory.activeId!==F.V_||!(null==(r=n.mirror)?void 0:r.sceneGraph))return;let i=(0,C.d1)(n),a=i?i.key:"",o=(null==i?void 0:i.library_key)?(0,E.lt)(i.library_key):(0,E.lt)(""),s=new Set,l={},{newLocal:c,numNewComponents:u}=eg(eE,n.library.publishableSymbols,n.library.openFilePublished__LIVEGRAPH.components,n.library.local.components,n.library.local.thumbnails,l,a,o,s,D.PW.COMPONENT),{newLocal:p}=eg(eb,n.library.publishableStateGroups,n.library.openFilePublished__LIVEGRAPH.stateGroups,n.library.local.stateGroups,n.library.local.thumbnails,l,a,o,s,D.PW.STATE_GROUP),{newLocal:m}=eg(ev,n.library.publishableStyles,n.library.openFilePublished__LIVEGRAPH.styles,n.library.local.styles,n.library.local.thumbnails,l,a,o,s,D.PW.STYLE),{newLocal:g}=eg(eS,n.library.publishableModules,n.library.openFilePublished__LIVEGRAPH.modules,n.library.local.modules,n.library.local.thumbnails,l,a,o,s,D.PW.MODULE);if(em(n.library.local.components,c)&&e.dispatch(T.I0({local:c,type:D.PW.COMPONENT})),em(n.library.local.stateGroups,p)&&e.dispatch(T.I0({local:p,type:D.PW.STATE_GROUP})),em(n.library.local.styles,m)&&e.dispatch(T.I0({local:m,type:D.PW.STYLE})),em(n.library.local.modules,g)&&(0,d.kc)().dse_module_publish&&e.dispatch(T.I0({local:g,type:D.PW.MODULE})),function(e,r){if(!e&&!r)return!1;if(!e||!r||Object.keys(e).length!==Object.keys(r).length)return!0;for(let n in e)if(!r[n]||e[n].url!==r[n].url||e[n].content_hash!==r[n].content_hash)return!0;return!1}(n.library.local.thumbnails,l)&&e.dispatch(w.xp({thumbnails:l})),u>0&&eh&&((0,_.YQ)({id:"Parsed first components"}),eh=!1),s.size>0){let r=n.notifications.filter(e=>e.type===v._.MOVE_COMPONENTS_PROMPT);if(r.length>0){let n=r[0].type===v._.MOVE_COMPONENTS_PROMPT&&r[0].movableItemIds;n&&(0,h.Bq)(n,s)&&e.dispatch(b.$.dequeue({type:v._.MOVE_COMPONENTS_PROMPT}))}}}let e_="Generating a local library item that is neither in the library nor in the scene graph. Why.",ey=(e,r,n,i,a,o)=>{var s;if(!n){if(r)return{...r,status:D.E8.DELETED,deletedFromSceneGraph:!0};throw Error(e_)}let l=r&&null==r.unpublished_at,d=!!n.isPublishable,c=D.E8.NOT_STAGED;l&&!d?c=D.E8.DELETED:!l&&d?c=D.E8.NEW:l||d||(c=D.E8.NOT_STAGED);let{description:u,description_rt:p}=(s=n.description,{description:n.descriptionPlain??"",description_rt:s??""});return{node_id:n.nodeId,name:n.name,description:u,description_rt:p,file_key:i,library_key:a,isPublishable:d,deletedFromSceneGraph:!1,meta:e?e.meta:void 0,isLocal:!0,status:c,type:o,thumbnail_url:r&&r.thumbnail_url||void 0}};function eE(e,r,n,i,a){let o={...ey(e,r,n,i,a,D.PW.COMPONENT),type:D.PW.COMPONENT,height:null==n?void 0:n.height,width:null==n?void 0:n.width,x:null==n?void 0:n.x,y:null==n?void 0:n.y,componentPropDefError:null==n?void 0:n.componentPropDefError,containing_frame:(null==n?void 0:n.containingFrame)||(null==r?void 0:r.containing_frame)||void 0,component_key:(null==r?void 0:r.component_key)||void 0,content_hash:(null==n?void 0:n.versionHash)||(null==r?void 0:r.content_hash)||void 0,userFacingVersion:(null==n?void 0:n.userFacingVersion)??f.F7.INVALID,old_key:(null==n?void 0:n.oldKey)||void 0};if(!r)return o;let s=null==r.unpublished_at,l=!!(null==n?void 0:n.isPublishable);return s&&l&&(r&&r.content_hash===o.content_hash&&!(0,M.Q_)(r.containing_frame,null==n?void 0:n.containingFrame)&&(0,M.pD)(r.name,null==n?void 0:n.name)&&(0,M.pD)(r.description,o.description)?o.status=D.E8.CURRENT:o.status=D.E8.CHANGED),o}function eb(e,r,n,i,a){let o=ey(e,r,n,i,a,D.PW.STATE_GROUP);if(!r){if(!n)throw Error(e_);return{...o,type:D.PW.STATE_GROUP,version:n.versionHash,userFacingVersion:n.userFacingVersion,containing_frame:n.containingFrame,width:n.width,height:n.height,stateGroupError:n.stateGroupError,componentPropDefError:n.componentPropDefError,fill_color:n.fill_color,default_state_key:n.default_state_key,old_key:n.oldKey||void 0}}let s={...o,type:D.PW.STATE_GROUP,version:(null==n?void 0:n.versionHash)||r.version,userFacingVersion:(null==n?void 0:n.userFacingVersion)||f.Rf.INVALID,containing_frame:(null==n?void 0:n.containingFrame)||r.containing_frame,width:(null==n?void 0:n.width)||r.min_node_width,height:(null==n?void 0:n.height)||r.min_node_height,key:r.key||void 0,stateGroupError:(null==n?void 0:n.stateGroupError)||O.bwI.NONE,componentPropDefError:(null==n?void 0:n.componentPropDefError)||O.uXg.NONE,fill_color:(null==n?void 0:n.fill_color)||(null==r?void 0:r.fill_color),default_state_key:(null==n?void 0:n.default_state_key)||(null==r?void 0:r.default_state_key),old_key:(null==n?void 0:n.oldKey)||void 0},l=null==r.unpublished_at,d=!!(null==n?void 0:n.isPublishable);return l&&d&&(r.version===s.version&&!(0,M.Q_)(r.containing_frame,null==n?void 0:n.containingFrame)&&(0,M.pD)(r.name,null==n?void 0:n.name)&&(0,M.pD)(r.description,s.description)?s.status=D.E8.CURRENT:s.status=D.E8.CHANGED),s}function ev(e,r,n,i,a){let o=ey(e,r,n,i,a,D.PW.STYLE),s=r&&null==r.unpublished_at,l=!!(null==n?void 0:n.isPublishable),d=!1;if(s&&l&&(r&&r.content_hash===(null==n?void 0:n.versionHash)&&(0,M.pD)(r.name,null==n?void 0:n.name)&&(0,M.pD)(r.description,o.description)?(0,M.pD)(r.sort_position,null==n?void 0:n.sortPosition)?o.status=D.E8.CURRENT:(o.status=D.E8.CHANGED,d=!0):o.status=D.E8.CHANGED),n)return{...o,type:D.PW.STYLE,key:n.styleKey,style_type:n.styleType,is_soft_deleted:n.isSoftDeleted,sort_position:n.sortPosition,content_hash:n.versionHash,userFacingVersion:n.userFacingVersion,hasOnlyBeenReordered:d,old_key:n.oldKey||void 0};if(r)return{...o,type:D.PW.STYLE,key:r.key,style_type:r.style_type,is_soft_deleted:!0,sort_position:r.sort_position,content_hash:r.content_hash,userFacingVersion:r.userFacingVersion,hasOnlyBeenReordered:d};throw Error(e_)}function eS(e,r,n,i,a){let o=ey(e,r,n,i,a,D.PW.MODULE);if(!r){if(!n)throw Error(e_);return{...o,type:D.PW.MODULE,moduleSource:n.moduleSource,height:n.height,width:n.width,x:n.x,y:n.y,containing_frame:n.containingFrame,version:n.versionHash,userFacingVersion:n.userFacingVersion,old_key:n.oldKey||void 0}}let s={...o,type:D.PW.MODULE,moduleSource:(null==n?void 0:n.moduleSource)||r.moduleSource,height:(null==n?void 0:n.height)||r.height,width:(null==n?void 0:n.width)||r.width,x:null==n?void 0:n.x,y:null==n?void 0:n.y,containing_frame:(null==n?void 0:n.containingFrame)||r.containing_frame||void 0,version:(null==n?void 0:n.versionHash)||r.version,userFacingVersion:(null==n?void 0:n.userFacingVersion)||f.Pg.INVALID,old_key:(null==n?void 0:n.oldKey)||void 0,key:r.key},l=r&&null==r.unpublished_at,d=!!(null==n?void 0:n.isPublishable);return l&&d&&(r.version===s.version&&!(0,M.Q_)(r.containing_frame,null==n?void 0:n.containingFrame)&&(0,M.pD)(r.name,null==n?void 0:n.name)&&(0,M.pD)(r.description,s.description)?s.status=D.E8.CURRENT:s.status=D.E8.CHANGED),s}function eI(e){return{kind:e&&e.kind||void 0,url:e&&e.url||void 0,content_hash:e&&e.content_hash||void 0}}let eT=(e,r)=>`GET_PUBLISHED_COMPONENTS_FOR_${e}_FV${r}`,ew=new Set,eC=new Set;function eA(e){eC.add(e)}async function eN(e,r,n,i,a={}){var o,s,l,d,c,u,p,h;if(null===n)return;let m=eT(e,n);if(!(0,P.Sc)(r,m))return;let g=k.Z.getLibraryPublishedComponentsFv({key:e,fileVersion:n,includeThumbnail:a.includeThumbnail,includeRealtime:a.subscribeToRealtime});(0,L.N)(g,{dispatch:i},m),ew.add(m);try{let e=await g,r=(null==(s=null==(o=null==e?void 0:e.data)?void 0:o.meta)?void 0:s.components)||[],n=(null==(d=null==(l=null==e?void 0:e.data)?void 0:l.meta)?void 0:d.state_groups)||[],m=null==(u=null==(c=null==e?void 0:e.data)?void 0:c.meta)?void 0:u.file,f=null==(h=null==(p=null==e?void 0:e.data)?void 0:p.meta)?void 0:h.library;if(i(I.uo({files:[m],subscribeToRealtime:a.subscribeToRealtime})),f&&i(T.t2({libraries:[f]})),r=r.map(e=>({...e,team_id:m.team_id})),n=n.map(e=>({...e,team_id:m.team_id})),0!==n.length){let e=n.reduce((e,r)=>(e[r.node_id]=r,e),{});i(T.yJ({itemsById:e,fileKey:m.key,libraryKey:(0,E.lt)(m.library_key),teamId:m.team_id,type:D.PW.STATE_GROUP}))}if(0!==r.length){let e=r.reduce((e,r)=>(e[r.node_id]=r,e),{});i(T.yJ({itemsById:e,fileKey:m.key,libraryKey:(0,E.lt)(m.library_key),teamId:m.team_id,type:D.PW.COMPONENT}))}eA(m.key)}catch(r){console.warn(`Failed to get published components from file ${e}`)}}async function eO(e,r,n,i){var a,o,s,l,d,c,u,p;if(null===n)return;let h=eT(e,n);if(!(0,P.Sc)(r,h))return;let m=k.Z.getCommunityLibraryPublishedComponents({hubFileId:e});(0,L.N)(m,{dispatch:i},h),ew.add(h);try{let r=await m,n=(null==(o=null==(a=null==r?void 0:r.data)?void 0:a.meta)?void 0:o.components)||[],h=(null==(l=null==(s=null==r?void 0:r.data)?void 0:s.meta)?void 0:l.state_groups)||[],g=null==(c=null==(d=null==r?void 0:r.data)?void 0:d.meta)?void 0:c.hub_file,f=null==(p=null==(u=null==r?void 0:r.data)?void 0:u.meta)?void 0:p.library;if(g&&i((0,S.D3)([g])),f&&i(T.t2({libraries:[f]})),0!==h.length){let e=h.reduce((e,r)=>(e[r.node_id]=r,e),{});i(T.yJ({itemsById:e,fileKey:g.id,libraryKey:(0,E.$A)(g.id),teamId:null,type:D.PW.STATE_GROUP}))}if(0!==n.length){let r=n.reduce((e,r)=>(e[r.node_id]=r,e),{});i(T.yJ({itemsById:r,fileKey:e,libraryKey:(0,E.$A)(e),teamId:null,type:D.PW.COMPONENT}))}eA(e)}catch(r){console.warn(`Failed to get published components from Community Library ${e}`)}}function eR(e,r){let n={};return r.forEach(e=>{var r,i,a,o;if(null==(i=null==(r=e.containing_frame)?void 0:r.containingStateGroup)?void 0:i.nodeId){let r=null==(o=null==(a=e.containing_frame)?void 0:a.containingStateGroup)?void 0:o.nodeId;n[r]||(n[r]=[]),n[r].push(e.name)}}),e.map(e=>({...e,stateNames:n[e.node_id]}))}let eP=new Set;async function eL(e,r){if(e.length>0){let i=[];async function n(e){try{let n=await g.Ay.post("/api/files/batch",{file_keys:e});n.data.meta||(0,p.x1)("designSystems","Unexpected empty API response",{data:JSON.stringify(n.data??null),numFiles:e.length,status:n.status}),r(I.uo({files:n.data.meta.files,subscribeToRealtime:!0}))}catch(e){(0,p.$D)(m.e.DESIGN_SYSTEMS_EDITOR,e)}}for(let r=0;r<e.length;r+=200){let a=e.slice(r,r+200);i.push(n(a))}await Promise.all(i)}}async function eD(e,r,n){if(0===r.length)return[];let{styles:i,files:a}=(await g.Ay.post("/api/styles",{style_keys:r,org_id:n})).data.meta;return e(I.uo({files:a,subscribeToRealtime:!0})),i}function eM(e,r=[],n=[],i,a,o,s,l=!1){var d,c,u,p;let h={},m=r.concat(n),g=[];for(let r of m){let n,s,m;let _=e.get(r);if(!_)continue;let y=e7(_)||void 0,E=_.publishID,b=_.isStateGroup;if(b?(_.sharedStateGroupVersion&&(n=_.sharedStateGroupVersion),_.stateGroupKey&&(s=_.stateGroupKey)):(_.sharedSymbolVersion&&(n=_.sharedSymbolVersion),_.componentKey&&(s=_.componentKey)),!E||!y)continue;let v=a[y];if(v){let e=v.team_id||D.Yu;if((null==(m=((b?i.stateGroups[e]||{}:i.components[e]||{})[y]||{})[E])?void 0:m.type)===D.PW.COMPONENT){let r=null==(c=null==(d=m.containing_frame)?void 0:d.containingStateGroup)?void 0:c.nodeId;r&&(m=null==(p=null==(u=i.stateGroups[e])?void 0:u[y])?void 0:p[r],b=!0)}}else eP.has(y)||(eP.add(y),g.push(y));if(m)h[G(m)]=m;else if(b){if(!s||h[s]||!_.reversedChildrenGuids.some(r=>{var n;let i=null==(n=e.get(r))?void 0:n.componentKey;return i&&!h[i]}))continue;h[s]={type:D.PW.STATE_GROUP,name:_.name,file_key:y,library_key:_.sourceLibraryKey,key:s,thumbnail_url:`/state_group/${s}/thumbnail?ver=${n}&fv=${o}`,canvas_url:`/state_group/${s}/canvas?ver=${n}&fv=${o}`,node_id:E||"",isLocal:!1,version:n||f.Rf.INVALID,userFacingVersion:(0,f.Rf)(_.userFacingVersion),containing_frame:{},min_node_width:0,min_node_height:0,default_state_key:""}}else{if(!s||h[s]||_.isState&&!l||null===o)continue;h[s]={type:D.PW.COMPONENT,name:_.name,file_key:y,library_key:_.sourceLibraryKey,component_key:s,thumbnail_url:`/component/${s}/thumbnail?ver=${n}&fv=${o}`,canvas_url:`/component/${s}/canvas?ver=${n}&fv=${o}`,node_id:E||"",content_hash:_.sharedSymbolVersion||void 0,userFacingVersion:(0,f.F7)(_.userFacingVersion),isLocal:!1}}}return eL(g,s),Object.values(h)}function ek(e,r,n,i,a){let o=(e=e.map(e=>({...e,team_id:(0,d.kc)().ds_use_lib_keys?i[e.library_key].team_id:n[(0,E.hH)(e)].team_id}))).reduce((e,r)=>((0,E.hH)(r) in e?e[(0,E.hH)(r)].push(r):e[(0,E.hH)(r)]=[r],e),{}),s=new Map;for(let r of e){let e=r.library_key;s.has(e)?s.get(e).push(r):s.set(e,[r])}if((0,d.kc)().ds_use_lib_keys)for(let[e,n]of s.entries())a(T.yJ({itemsById:n.reduce((e,r)=>(e[r.node_id]=r,e),{}),fileKey:(0,E.hH)(n[0]),libraryKey:e,teamId:i[e].team_id,type:r}));else for(let[e,i]of Object.entries(o))a(T.yJ({itemsById:i.reduce((e,r)=>(e[r.node_id]=r,e),{}),fileKey:e,libraryKey:i[0].library_key,teamId:n[e].team_id,type:r}))}function ex(e,r){return!!e.defaultPublished.fileKeys.includes(r)}function eF(e){var r;let n={};for(let i in e){let a=e[i];(null==(r=a.containing_frame)?void 0:r.containingStateGroup)&&(n[i]={...a})}return n}function eU(e,r,n){let i=e.team_id,a=e.key,o=i?n[i]:null;if(o){let e=o[a];if(e)return e[r]}return null}function eB(e){let r=e.type===D.PW.STATE_GROUP&&!!(e.stateGroupError&&e.stateGroupError!==O.bwI.TOO_MANY_STATES_ERROR);return!!(e.componentPropDefError&&(e.componentPropDefError===O.uXg.CONFLICTING_NAMES_ERROR||e.componentPropDefError===O.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR||e.componentPropDefError===O.uXg.UNUSED_DEF_ERROR)||r)}function eV(e){return e.variableSetError!==O.HG$.NONE}(0,c.xx)(e=>{let r={},n=e.local.styles;for(let e in n){let i=n[e];r[i.key]=i}return r}),(0,c.xx)(e=>{let r={};return Object.keys(e).forEach(n=>{r[n]={},Object.keys(e[n]).forEach(i=>{r[n][i]=eF(e[n][i])})}),r});let eH=new Promise(e=>{}),eG=()=>{};function eW(e){e.dispatch(T.zK({}))}new Promise(e=>{eG=e});let ez=()=>{},eK=new Promise(e=>{ez=e}),ej=e=>{var r;return{callback:ez,promise:eK,resetPromise:eZ,loadingKey:`GET_USED_COMPONENTS_STATE_GROUPS_FOR_${null==(r=e.getState().openFile)?void 0:r.key}`}},eY=()=>{},e$=new Promise(e=>{eY=e}),eq=new Promise(e=>{});function eZ(){ez(),eK=new Promise(e=>{ez=e})}function eX(e,r,n){let i;let a=e.node_id,o=r[a]||{},l=o.url||null;switch(e.type){case D.PW.COMPONENT:case D.PW.STYLE:i=e.content_hash;break;case D.PW.VARIABLE:case D.PW.VARIABLE_SET:case D.PW.STATE_GROUP:case D.PW.MODULE:i=e.version;break;default:(0,s.xb)(e)}return(n||o.content_hash!==i||!(0,A.OM)(l))&&(e.type===D.PW.COMPONENT||e.type===D.PW.STATE_GROUP||e.type===D.PW.MODULE?l=(0,A.r2)(a):e.type===D.PW.STYLE?l=(0,R.fP)(e)?(0,A.jh)():(0,A.aV)(a,e.style_type):(e.type===D.PW.VARIABLE||e.type===D.PW.VARIABLE_SET)&&(l=(0,A.jh)())),l}let eJ=e=>e!==D.E8.DELETED&&e!==D.E8.NOT_STAGED;function eQ(e){return e.type===D.PW.COMPONENT||e.type===D.PW.STATE_GROUP}function e0(e){return e.isStateGroup||"SYMBOL"===e.type&&!e.isState}function e1(e){switch(e.type){case D.PW.COMPONENT:return e.component_key;case D.PW.STATE_GROUP:case D.PW.STYLE:case D.PW.VARIABLE:case D.PW.VARIABLE_SET:case D.PW.MODULE:return e.key;default:(0,s.xb)(e)}}function e2(e){return e.isLocal?O.Egt.getAssetKeyForPublish(e.node_id):G(e)}function e3(e){var r,n;return(null==(n=null==(r=e.containing_frame)?void 0:r.containingStateGroup)?void 0:n.nodeId)??null}function e5(e){return!!e3(e)}function e4(e,r,n,i){let a;if(!e)return;let o=r.get(e);if(o&&o.containingStateGroupId&&(o=r.get(o.containingStateGroupId)),o){if(e7(o)){let e=o.componentKey??o.stateGroupKey;e&&(a=null==i?void 0:i[e])}else a=null==n?void 0:n[o.guid];return a}}function e6(e,r){function n(e){return e.toLowerCase()}let i=n(e.name),a=n(r.name);return i<a?-1:i>a?1:0}function e8(e){return!!((0,d.kc)().dse_module_publish&&"MODULE"===e.type)}function e7(e){var r,n,i,a,o,s;return(0,d.kc)().ds_publish_file_deprecation?e?e.isLooseComponent||e.isState?(r=e.componentKey)?(n||(n=tt(l.D.getState().library.published.components)),(null==(i=n[r])?void 0:i.file_key)??null):null:e.isStateGroup&&(a=e.stateGroupKey)?(o||(o=tt(l.D.getState().library.published.stateGroups)),(null==(s=o[a])?void 0:s.file_key)??null):null:null:(null==e?void 0:e.publishFile)??null}function e9(e,r,n){return n[e]?n[e].file_key??null:r[e]?r[e].file_key??null:null}function te(e){let r={};return $(e,(n,i,a)=>{r[i]=r[i]||{},r[i][a]=e[n][i][a]}),r}function tt(e){let r={};return $(e,(n,i,a)=>{let o=e[n][i][a];r[G(o)]=o}),r}function tr(e){return(0,d.kc)().ds_use_lib_keys?`${e.library_key}:${e.node_id}`:`${(0,E.hH)(e)}:${e.node_id}`}(0,x.D)((e,r)=>e?e.parentOrgId:r)},37929:(e,r,n)=>{"use strict";function i(e){return e.split("/").filter(e=>!!e).map(e=>e.trim())}function a(e){let r=i(e);return r.pop(),r.join("/")}function o(e){let r=i(e);return r.length?r[r.length-1]:""}n.d(r,{In:()=>a,kH:()=>o,ke:()=>i})},51281:(e,r,n)=>{"use strict";n.d(r,{YG:()=>Y});var i=n(88507),a=n(35645),o=n.n(a),s=n(84934),l=n(35283),d=n(38329),c=n(66712),u=n(74626),p=n(30637),h=n(82064),m=n(80820),g=n(95281),f=n(45092),_=n(9831),y=n(74105),E=n(44892),b=n(75847),v=n(16095),S=n(99506),I=n(63592),T=n(73454),w=n(48515),C=n(11855),A=n(36599),N=n(5129);function O({disabled:e=!1}={}){let r=(0,i.wA)(),n=(0,i.d4)(e=>e.openFile),a=(0,i.d4)(e=>e.fileVersion),o=(0,i.d4)(e=>e.loadingState),s=null!=n&&null!=a?(0,N.yD)(n.key):void 0;C.useEffect(()=>{!e&&null!=s&&(0,A.Sc)(o,s)&&r(g.zK({}))},[r,s,o,e])}var R=n(79296),P=n(78905),L=n(96673),D=n(53681),M=n(88094);function k(e,...r){let n={};r.forEach(e=>{e.forEach(e=>{n[(0,v.Av)(e)]=e})});let i=[];return e.forEach(e=>{let r=(0,v.Av)(e);r in n?(e.ai_score&&(n[r].ai_score=e.ai_score),e.lexical_score&&(n[r].lexical_score=e.lexical_score)):i.push(e)}),i}var x=n(97666);class F{constructor(){this.dirtySources=!1,this.subscribedLibraryFileKeys=new Set,this.queryDidChange=e=>{this.debouncedComputeResults(e)},this.searchOptionsDidChange=e=>{this.debouncedComputeResults(e)},this.subscriptionsDidChange=(e,r)=>{this.subscribedLibraryFileKeys=r,this.debouncedComputeResults(e)},this.runComputeResultWithSourceChange=e=>{let r=e.getState();this.initSources({...r,dispatch:e.dispatch}),this.dirtySources=!1,this.debouncedComputeResults(e)},this.debouncedComputeResults=(0,x.s)(e=>{let r=e.getState();this.dirtySources&&(this.initSources({...r,dispatch:e.dispatch}),this.dirtySources=!1),this.computeResultsRedux(e)},200),this.initSources=e=>{},this.computeResultsRedux=e=>{}}sourcesDidChange(){this.dirtySources=!0}}var U=n(75224),B=n(8567),V=n(57766);async function H(e,r,n,i,a,l,d,u){try{let s=(null==i?void 0:i.editorType)===S._Y.WHITEBOARD,p=[],h=[];if((0,c.kc)().dse_editor_templates_v1&&(0,c.kc)().dse_library_v5_read&&!s){let r=await B.$W.getCanvasAssets({query:e,orgId:n||void 0,subscribedLibraryFileKeys:(0,c.kc)().api_asset_search&&(0,c.kc)().api_asset_search_only_sub_files&&!(0,c.kc)().library_v6_only_query_ui2_ui3&&d.size<40?JSON.stringify(Array.from(d)):void 0,searchSessionId:u});p=r.data.meta.product_components,h=r.data.meta.templates}else p=(await B.$W.getComponents({query:e,fv:r||0,orgId:n||void 0,excludeAIResults:s,subscribedLibraryFileKeys:(0,c.kc)().api_asset_search&&(0,c.kc)().api_asset_search_only_sub_files&&!(0,c.kc)().library_v6_only_query_ui2_ui3&&d.size<40?JSON.stringify(Array.from(d)):void 0,searchSessionId:u})).data.meta;let m=i?i.key:"",g=i&&((0,V.Kz)(i)?i.sourceFileKey:""),f=[...p,...h].filter(e=>(0,c.u4)("ds_use_lib_keys",e.library_key in l,(0,U.hH)(e) in a)&&!(0,P.TK)(e,g)),_=new Set;for(let e of d)_.add((0,U.$A)(e));let[y,E]=o()(f,e=>(0,c.kc)().ds_use_lib_keys?_.has(e.library_key):d.has((0,U.hH)(e))||e.file_key===m);return{subscribedSearchResults:y,unsubscribedSearchResults:E}}catch(r){return s.az.trackDefinedEvent("assets_panel.server_search_for_all_components_failure",{query:e}),{subscribedSearchResults:[],unsubscribedSearchResults:[]}}}async function G(e,r,n,i){if(!i)return{communitySearchResults:null,unsubscribedCommunitySearchResults:null};try{if(await n()){let{results:n}=(await B.$W.getAssetsFromCommunityLibraries({query:e,assetTypes:(0,B.in)([T.PW.COMPONENT,T.PW.STATE_GROUP]).join(",")})).data.meta,[i,a]=o()(n,e=>r.has(e.file_key));return{communitySearchResults:i,unsubscribedCommunitySearchResults:a}}return{communitySearchResults:null,unsubscribedCommunitySearchResults:null}}catch(r){return s.az.trackDefinedEvent("assets_panel.search_for_components_from_community_libraries_error",{query:e}),{communitySearchResults:null,unsubscribedCommunitySearchResults:null}}}function W(e,r,n){return e===w.I.FILE?Promise.resolve([]):r.search(n).then(e=>e.map(e=>({...e.item,score:e.score})))}function z(e,r){let n=r.split(" ").filter(e=>e.length>2),i=e.name.toLowerCase().substring(e.name.lastIndexOf("/")+1);return n.length>0&&n.every(e=>i.includes(e.toLowerCase()))}async function K(e,r,n){try{if((0,c.kc)().dse_editor_templates_v1&&(0,c.kc)().dse_library_v5_read){let i=await B.$W.getCanvasAssetsFromFile({query:e,fileKey:r,searchSessionId:n}),a=i.data.meta.product_components,o=i.data.meta.templates;return{subscribedSearchResults:[...a,...o],unsubscribedSearchResults:[]}}return{subscribedSearchResults:(await B.$W.getComponentsFromFile({query:e,fileKey:r,searchSessionId:n})).data.meta,unsubscribedSearchResults:[]}}catch(n){return s.az.trackDefinedEvent("assets_panel.server_search_for_file_failure",{query:e,fileKey:r}),{subscribedSearchResults:[],unsubscribedSearchResults:[]}}}n(91205).M4.Query({fetch:async({query:e,assetTypes:r})=>{let{results:n}=(await B.$W.getAssetsFromCommunityLibraries({query:e,assetTypes:(0,B.in)(r).join(",")}).catch(()=>({data:{meta:{results:[]}}}))).data.meta;return n},enabled:({query:e})=>null!=e&&e.trim().length>0});let j=new I.KH({keys:[{name:"name",weight:.6},{name:"stateNames",weight:.4},{name:"containing_frame.name",weight:.1},{name:"containing_frame.pageName",weight:.1},{name:"description",weight:.05}],threshold:.3,tokenize:!0,shouldSort:!0}),Y=new class extends F{constructor(){super(...arguments),this.lastUpdatedQuery=(0,p.PN)()?0:Date.now(),this.initSources=e=>{let r=(0,y.d1)(e);if(!r)return;let n=e.folders,i=!!r.folder_id&&(0,b.Gi)(n[r.folder_id]);((n,a,o,s)=>{let l=[],d=new Set,u=e=>{for(let r of e){let e=function(e){return e.isLocal?(0,v.Gj)(e):(0,v.Av)(e)??(0,v.Gj)(e)}(r);e&&d.has(e)||(e&&d.add(e),l.push({...r}))}};u((0,v.X0)(a)),e.library.assetsPanelSearch.shouldSearchDefaultLibraries&&(u((0,v.A0)(e.library,(0,E.Po)(e.library.defaultPublished.components),r,i)),u((0,v.A0)(e.library,e.library.defaultPublished.stateGroups,r,i)));let p=Object.values((0,v.WV)(e.library.local.components)),h=Object.values(e.library.local.stateGroups);u((0,v.Gg)(h,p)),u(o),(0,c.kc)().dse_editor_templates_v1&&u(Object.values(s)),n.set(l)})(j,(0,E.Jl)(e.library.local.components),(0,v.ov)(e.mirror.sceneGraph,(0,M.C9)(e),(0,M.jf)(e),e.library.published,e.fileByKey,e.fileVersion,e.dispatch),e.library.local.modules)},this.useInitSearch=O,this.computeLocalResultsPromise=async(e,r)=>{let n=W(w.I.LOCAL,j,e);return{normalizedSearchResults:(await n).filter(e=>(0,P.TK)(e,r)),unsubscribedSearchResults:[]}},this.computeFileResultsPromise=async(e,r,n,i,a)=>{let o=W(w.I.FILE,j,e),s=K(e,r,a??""),l=G(e,this.subscribedLibraryFileKeys,i,n),[d,{subscribedSearchResults:c,unsubscribedSearchResults:u},{communitySearchResults:p,unsubscribedCommunitySearchResults:h}]=await Promise.all([o,s,l]),m=k(d,c),g=k((null==p?void 0:p.filter(e=>(0,P.TK)(e,r)))||[],c),f=k(u,m),_=k((null==h?void 0:h.filter(e=>(0,P.TK)(e,r)))||[],f);return{normalizedSearchResults:[...c,...g],unsubscribedSearchResults:[...f,..._]}},this.computeAllResultsPromise=async(e,r,n,i,a,s,l,d,u)=>{let p=W(w.I.ALL,j,e),h=H(e,n,i,a,s,l,this.subscribedLibraryFileKeys,u??""),m=G(e,this.subscribedLibraryFileKeys,d,r),[g,{subscribedSearchResults:f,unsubscribedSearchResults:_},{communitySearchResults:y,unsubscribedCommunitySearchResults:E}]=await Promise.all([p,h,m]),b=k(g,f,y||[]),v=function(e,r,n,i){if(0===r.length)return e;if(i===w.I.FILE)return r;let a=r;(0,c.kc)().api_asset_search&&(a=function(e,r){let n=e.filter(e=>e.lexical_score),[i,a]=o()(n,e=>z(e,r)),s=e.filter(e=>e.ai_score),l=Math.max(...n.map(e=>e.lexical_score)),d=Math.min(...n.map(e=>e.lexical_score)),u=Math.max(...i.map(e=>e.lexical_score)),p=Math.min(...i.map(e=>e.lexical_score)),h=Math.max(...a.map(e=>e.lexical_score)),m=Math.min(...a.map(e=>e.lexical_score)),g=Math.max(...s.map(e=>e.ai_score)),f=Math.min(...s.map(e=>e.ai_score));e=e.map(e=>{if(e.lexical_score){let n;return n=(0,c.kc)().asset_search_boost_name_matches?z(e,r)?u===p?1:.9+(e.lexical_score-p)/(u-p)*.09999999999999998:h===m?.89:.89*(e.lexical_score-m)/(h-m):l===d?1:(e.lexical_score-d)/(l-d),{...e,score:n}}return e});let _=(0,c.kc)().asset_search_boost_name_matches?.89:.8;return e=e.map(e=>{if(e.ai_score){let r=g===f?_:(e.ai_score-f)/(g-f)*_;return e.lexical_score&&(r=Math.max(r,e.score)),{...e,score:r}}return e})}(a,n));let s=Math.max(...a.map(e=>e.score));return[...e.map(e=>{let r=(1-e.score)*.95*s;return{...e,score:r}}),...a].sort((e,r)=>r.score-e.score)}(b,f,e,w.I.ALL),S=k(y||[],v),I=k(_,b),T=k(E||[],I);return{normalizedSearchResults:[...v,...S],unsubscribedSearchResults:[...I,...T]}},this.computeResultsReduxSearchTypeHelper=(e,r,n,i,a)=>{var o,s;let c=d.D.getState();switch(null==r?void 0:r.type){case w.I.LOCAL:return this.computeLocalResultsPromise(e,null==(o=c.openFile)?void 0:o.key);case w.I.FILE:return this.computeFileResultsPromise(e,r.fileKey,n,()=>(0,L.Pd)(c,a),c.search.sessionId);case w.I.RECENT:case void 0:case w.I.ALL:return this.computeAllResultsPromise(e,n,c.fileVersion,(null==(s=c.openFile)?void 0:s.parentOrgId)??null,c.openFile,c.fileByKey,i,()=>(0,L.Pd)(c,a),c.search.sessionId);default:return(0,l.xb)(r,"unknown search type")}},this.computeResultsRedux=async e=>{var r,n,i;let a=e.getState(),l=u.zl.get(D.qp),d=a.library.assetsPanelSearch.query,p=null==(r=a.openFile)?void 0:r.key,m=null==(n=a.openFile)?void 0:n.teamId,y=null==(i=a.openFile)?void 0:i.parentOrgId;if(!d||!p){e.dispatch(g.xI());return}let E=a.library.assetsPanelSearch.searchOptions;if(E&&!function(e){return e.type===w.I.ALL||e.type===w.I.LOCAL||e.type===w.I.FILE}(E)){e.dispatch(g.xI());return}let b=(0,_.AU)(a.selectedView)===S._Y.DESIGN;s.az.trackDefinedEvent("assets_panel.component_search",{query:d,inDesignEditor:b,searchSessionId:a.search.sessionId??"",assetsPanelVersion:a.library.assetsPanelSearch.versionForTracking,fileKey:p,fileTeamId:m??void 0,fileOrgId:y??void 0}),a.search.sessionId&&e.dispatch(h.N.incrementQueryCount());let v=Date.now();if(v<=this.lastUpdatedQuery)return;let I=await this.computeResultsReduxSearchTypeHelper(d,E,b,l,e.dispatch);if((null==E?void 0:E.type)===w.I.LOCAL){e.dispatch(g.Y1(I)),e.dispatch((0,f.w2)({sessionId:a.search.sessionId,query:d,queryId:a.search.queryId})),s.az.trackDefinedEvent("assets_panel.search_time",{elapsedTime:Date.now()-v,query:d,localSearchResultCount:I.normalizedSearchResults.length,searchType:E.type,searchSessionId:a.search.sessionId??"",assetsPanelVersion:a.library.assetsPanelSearch.versionForTracking,fileKey:p,fileTeamId:m??void 0,fileOrgId:y??void 0,aiResultsEnabled:(0,c.kc)().api_asset_search,entryPoint:a.library.assetsPanelSearch.entryPoint}),this.lastUpdatedQuery=v;return}if(d!==e.getState().library.assetsPanelSearch.query)return;e.dispatch(g.Y1(I)),e.dispatch((0,f.w2)({sessionId:a.search.sessionId,query:d,queryId:a.search.queryId}));let[T,C]=o()(I.normalizedSearchResults,e=>(0,P.TK)(e,p));s.az.trackDefinedEvent("assets_panel.search_time",{elapsedTime:Date.now()-v,query:d,localSearchResultCount:T.length,subscribedSearchResultCount:C.length,unsubscribedSearchResultsCount:I.unsubscribedSearchResults.length,searchType:(null==E?void 0:E.type)??w.I.ALL,searchSessionId:a.search.sessionId??"",assetsPanelVersion:a.library.assetsPanelSearch.versionForTracking,fileKey:p,fileTeamId:m??void 0,fileOrgId:y??void 0,aiResultsEnabled:(0,c.kc)().api_asset_search,entryPoint:a.library.assetsPanelSearch.entryPoint}),C.slice(0,20).forEach((e,r)=>{s.az.trackDefinedEvent("assets_panel.top_k_results",{query:d,searchType:(null==E?void 0:E.type)??w.I.ALL,searchSessionId:a.search.sessionId??"",fileKey:p,subscribedLibraryKeys:JSON.stringify(Array.from(this.subscribedLibraryFileKeys).slice(0,10)),scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,position:r,aiResultsEnabled:(0,c.kc)().api_asset_search})}),this.lastUpdatedQuery=v}}};(0,m.nF)((e,{ignoreLoadingState:r=!1}={})=>{$(e.getState(),{ignoreLoadingState:r})&&Y.runComputeResultWithSourceChange(e)});let $=(0,R.n)((e,{ignoreLoadingState:r=!1}={})=>r?!!(e.openFile&&e.fileVersion):!!(e.openFile&&e.fileVersion&&(0,A.D2)(e.loadingState,(0,N.yD)(e.openFile.key))))},66068:(e,r,n)=>{"use strict";function i(e){return!!l(e.style_type)&&!(e.meta&&e.meta.style_thumbnail)}function a(e){var r;let n=null==(r=e.meta)?void 0:r.style_thumbnail;return n&&"INVALID"!==n.type&&n||null}function o(e){return{...e,meta:s(e.meta)}}function s(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){return{}}return e}function l(e){return"TEXT"===e||"FILL"===e||"EFFECT"===e||"GRID"===e}function d(e){return"EFFECT"===e||"GRID"===e}function c(e,r){return"FILL"===r&&e.fillPaints?{type:r,fillPaints:e.fillPaints}:"EFFECT"===r&&e.effects?{type:r,effects:e.effects}:"GRID"===r&&e.layoutGrids?{type:r,layoutGrids:e.layoutGrids}:"TEXT"===r&&(e.fontSize||e.lineHeight)?{type:r,metrics:{fontSize:e.fontSize,lineHeight:e.lineHeight}}:{type:"INVALID"}}function u(e){if("FILL"!==e.style_type)return!1;let r=e.meta&&e.meta.style_thumbnail;if(!r||"FILL"!==r.type)return!1;for(let e of r.fillPaints)if(!e.opacity||e.opacity>0)return!1;return!0}n.d(r,{Kb:()=>l,No:()=>c,QH:()=>a,aV:()=>o,bi:()=>i,fP:()=>u,iX:()=>s,lP:()=>d})},98812:(e,r,n)=>{"use strict";n.d(r,{EO:()=>a,XY:()=>o}),n(11855);var i=n(88507);n(17068),n(81912),n(81388),n(39863),n(48170),n(94687),n(94901),n(27544),n(96607),n(28467);let a=e=>`LICENSE_GROUP_GET_${e}`;function o(e){return(0,i.d4)(r=>{var n;return!!e&&!!((null==(n=r.orgById[e])?void 0:n.bigma_enabled)&&(null==n?void 0:n.license_groups_count))})}},92542:(e,r,n)=>{"use strict";let i;n.d(r,{b:()=>o,d:()=>a});var a=((i=a||{})[i.BROWSER_ADDRESS_BAR=0]="BROWSER_ADDRESS_BAR",i[i.SHARE_MODAL=1]="SHARE_MODAL",i[i.SHARE_MODAL_HIERARCHY_SETTINGS_TAB=2]="SHARE_MODAL_HIERARCHY_SETTINGS_TAB",i[i.SIMPLE_SHARING_COPY_LINK_BUTTON=3]="SIMPLE_SHARING_COPY_LINK_BUTTON",i[i.FULLSCREEN_CONTEXT_MENU=4]="FULLSCREEN_CONTEXT_MENU",i[i.FULLSCREEN_BRANCH=5]="FULLSCREEN_BRANCH",i[i.FILE_TILE_CONTEXT_MENU=6]="FILE_TILE_CONTEXT_MENU",i[i.FAVORITED_FILE_CONTEXT_MENU=7]="FAVORITED_FILE_CONTEXT_MENU",i[i.PROTOTYPE_HIDE_UI_VISUAL_BELL=8]="PROTOTYPE_HIDE_UI_VISUAL_BELL",i[i.PROTOTYPE_FLOW_CONTEXT_MENU=9]="PROTOTYPE_FLOW_CONTEXT_MENU",i[i.WORKSHOP_VISUAL_BELL=10]="WORKSHOP_VISUAL_BELL",i[i.DESKTOP_KEYBOARD_SHORTCUT=11]="DESKTOP_KEYBOARD_SHORTCUT",i[i.DESKTOP_FILE_TAB_CONTEXT_MENU=12]="DESKTOP_FILE_TAB_CONTEXT_MENU",i[i.STATUS_DROPDOWN_MENU=13]="STATUS_DROPDOWN_MENU",i[i.AI_SUMMARY_COPY_LINK_BUTTON=14]="AI_SUMMARY_COPY_LINK_BUTTON",i[i.SHARE_MODAL_COPY_DEV_ROW=15]="SHARE_MODAL_COPY_DEV_ROW",i);function o(e,r){return e?`${e}-${r}`:null}},99506:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h,m,g,f,_,y,E,b,v,S,I,T,w,C,A,N,O,R,P,L,D,M,k,x,F,U,B,V,H,G,W,z,K,j,Y,$,q,Z,X,J,Q,ee;n.d(r,{A$:()=>eb,B0:()=>ef,BQ:()=>e0,D8:()=>eO,Dh:()=>ez,E9:()=>eZ,El:()=>ev,Fd:()=>eD,GP:()=>eW,G_:()=>eM,Gr:()=>e2,KB:()=>eB,Mr:()=>ej,P4:()=>eR,PQ:()=>er,Pn:()=>tn,Pu:()=>ec,Qh:()=>eN,Se:()=>eu,We:()=>em,_D:()=>eg,_F:()=>ey,_Y:()=>eL,a0:()=>en,bU:()=>eh,bk:()=>ex,bp:()=>e_,cA:()=>eS,eD:()=>ei,hM:()=>eK,ho:()=>eC,iU:()=>eP,kI:()=>el,o6:()=>tt,sC:()=>ea,tw:()=>eJ,un:()=>e$,vt:()=>eT,wl:()=>ti,xj:()=>eY,xy:()=>ed,y4:()=>eF,zI:()=>tr,zd:()=>eo});var et=n(63838),er=((i=er||{}).ORG_VIEW="org_view",i.ORG_EDIT="org_edit",i.WORKSPACE_EDIT="workspace_edit",i.WORKSPACE_VIEW="workspace_view",i.VIEW="view",i.EDIT="edit",i.INHERIT="inherit",i.INVITE_ONLY="invite_only",i);let en=(0,et.fc)(er);var ei=((a=ei||{}).TEAM_ACCESS_VIEW="team_view",a.TEAM_ACCESS_EDIT="team_edit",a.TEAM_ACCESS_DISABLED="team_access_disabled",a),ea=((o=ea||{}).VIEW="view",o.EDIT="edit",o);let eo=(0,et.fc)(ea);var es=((s=es||{}).STUDENT_TEAM_NULL="not_student_team",s.STUDENT_TEAM_CURRENT="current_student_team",s.STUDENT_TEAM_EXPIRED="expired_student_team",s),el=((l=el||{}).UNVERIFIED="unverified",l.VERIFIED="verified",l.PENDING="pending",l.UNAVAILABLE="unavailable",l);let ed=(0,et.fc)(el);var ec=((d=ec||{}).ORG_VIEW="org_view",d.VIEW="view",d.INHERIT="inherit",d);let eu=(0,et.fc)(ec);var ep=((c=ep||{}).MEMBERS="members",c.ALL_USERS="all_users",c),eh=((u=eh||{}).PUBLIC="public",u.PRIVATE="private",u.SECRET="secret",u);let em=(0,et.fc)(eh);var eg=((p=eg||{}).ADMIN="admin",p.MEMBER="member",p.GUEST="guest",p);let ef=(0,et.fc)(eg);var e_=((h=e_||{}).ADMIN="admin",h.MEMBER="member",h);let ey=(0,et.fc)(e_);var eE=((m=eE||{}).SELF_SELECTED="self",m.MOVED_BY_ADMIN="moved",m.AUTO_ASSIGNED="auto",m);let eb=(0,et.fc)(eE);var ev=((g=ev||{}).STARTER="starter",g.FULL="full",g.RESTRICTED="restricted",g);let eS=(0,et.fc)(ev);var eI=((f=eI||{}).STARTER="starter",f.FULL="full",f.RESTRICTED="restricted",f),eT=((_=eT||{}).FILE="file",_.FILE_REPO="file_repo",_.FOLDER="folder",_.TEAM="team",_),ew=((y=ew||{}).FILE="file",y.FILE_REPO="file_repo",y.FOLDER="folder",y.TEAM="team",y.ORG="org",y);let eC=(0,et.fc)(ew);var eA=((E=eA||{}).FILE="file",E.FILE_REPO="file_repo",E.FOLDER="folder",E.TEAM="team",E.PROTOTYPE="prototype",E),eN=((b=eN||{}).OK="ok",b.GRACE_PERIOD="grace_period",b.PAST_DUE="past_due",b.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED="no_monthly_sub_editor_count_exceeded",b.INCOMPLETE="incomplete",b);let eO=(0,et.fc)(eN);var eR=((v=eR||{}).LOCKED="locked",v.EDITORS_LIMITED="editors_limited",v.PROJECTS_LIMITED="projects_limited",v.FILES_LIMITED="files_limited",v.PROJECTS_LIMITED_LEGACY="projects_limited_legacy",v.FILES_LIMITED_LEGACY="files_limited_legacy",v.WHITEBOARD_FILES_LIMITED="whiteboard_files_limited",v.WHITEBOARD_FILES_LIMITED_BETA="whiteboard_files_limited_beta",v);let eP=(0,et.fc)(eR);var eL=((S=eL||{}).DESIGN="design",S.WHITEBOARD="whiteboard",S.SLIDES="slides",S.SITES="sites",S);let eD=(0,et.fc)(eL);var eM=((I=eM||{}).DESIGN="design",I.WHITEBOARD="whiteboard",I.DEV_MODE="dev_mode",I),ek=((T=ek||{}).DESIGN="design",T.WHITEBOARD="whiteboard",T.EXTERNAL="external",T),ex=((w=ex||{}).FILE="file",w.PROTOTYPE="prototype",w.FOLDER="folder",w.TEAM="team",w.WORKSPACE="workspace",w),eF=((C=eF||{}).CANVAS="canvas",C.PROTOTYPE="prototype",C.WHITEBOARD="whiteboard",C.LIBRARY="library",C.SLIDE_TEMPLATE="slide_template",C),eU=((A=eU||{}).VERIFIED="verified",A.UNVERIFIED="unverified",A.BLOCKED="blocked",A),eB=((N=eB||{}).BLOCKED="blocked",N.ORG_PRIVATE="org_private",N.PENDING_USER_VISUAL_COMPLIANCE="pending_user_visual_compliance",N.PENDING_PUBLIC="pending_public",N.ORG_PRIVATE_PENDING_PUBLIC="org_private_pending_public",N.DELISTED="delisted",N.DELISTED_CREATOR_STRIPE_DISABLED="delisted_creator_stripe_disabled",N.APPROVED_PUBLIC="approved_public",N),eV=((O=eV||{}).MIGRATION_NOT_NEEDED="migration_not_needed",O.MIGRATION_NEEDED="migration_needed",O.MIGRATED="migrated",O),eH=((R=eH||{}).DESKTOP="desktop",R.IPAD="ipad",R),eG=((P=eG||{}).ALLOW="ALLOW",P.DISABLE="DISABLE",P),eW=((L=eW||{}).PRO_TRIAL="pro_trial",L.DOWNGRADED_ORG_TEAM="downgraded_org_team",L.PROMO_CODE="promo_code",L.ADMIN_OVERRIDE="admin_override",L);let ez=(0,et.fc)(eW);var eK=((D=eK||{}).UNPINNED="unpinned",D.PINNED="pinned",D),ej=((M=ej||{}).FILE_SEEN="file_seen",M.DESIGN_FILE_SEEN="design_file_seen",M.WHITEBOARD_FILE_SEEN="whiteboard_file_seen",M.FILE_EDIT="file_edit",M.DESIGN_FILE_EDIT="design_file_edit",M.WHITEBOARD_FILE_EDIT="whiteboard_file_edit",M.DEV_MODE_FILE_SEEN="dev_mode_file_seen",M);let eY=(0,et.fc)(ej);var e$=((k=e$||{}).CREATOR="creator",k.PUBLISHER="publisher",k),eq=((x=eq||{}).PENDING="pending",x.APPROVED="approved",x.REJECTED="rejected",x),eZ=((F=eZ||{}).DEFAULT="default",F.SRGB="srgb",F.DISPLAY_P3="display_p3",F),eX=((U=eX||{}).COST_CENTER="costCenter",U.ORGANIZATION="organization",U.DIVISION="division",U.DEPARTMENT="department",U);let eJ=(0,et.fc)(eX);var eQ=((B=eQ||{}).ROLE_UPGRADE="role_upgrade",B.INVITE_REDEEM="invite_redeem",B.ORG_INVITE_REDEEM="org_invite_redeem",B.INVITE_AUTOUPGRADE="invite_autoupgrade",B.RESOURCE_MOVED_TO_ORG="resource_moved_to_org",B.DRAFTS_SHARE="drafts_share",B.ACCESS_EDIT_LINK="access_edit_link",B.CREATE_TEAM="create_team",B.JOIN_TEAM="join_team",B.JOIN_TEAM_REQUEST="join_team_request",B.ADMIN_UPGRADE="admin_upgrade",B.SCIM="scim",B.FIGMA_ADMIN="figma_admin",B.DEPART_TEAM="depart_team",B.CREATE_FILE="create_file",B.EDIT_REQUEST_APPROVAL="edit_request_approval",B.EDIT_REQUEST_AUTO_APPROVAL="edit_request_auto_approval",B.RUN_PLUGIN="run_plugin",B.RESOURCE_MOVED_FROM_ORG_DRAFTS="resource_moved_from_org_drafts",B.DEFAULT_PAID_STATUS="default_paid_status",B.FJ_GA_REUPGRADE="fj_ga_reupgrade",B.EDIT_BUTTON="edit_button",B.EDIT_ACTION="edit_action",B.ACTIVE_EDIT_ACTION="active_edit_action",B.ORG_MERGE="org_merge",B.DEV_MODE_PRE_COMMIT_BETA_USE="dev_mode_pre_commit_beta_use",B.UNKNOWN="unknown",B.UNKNOWN_POPULATED_THROUGH_BACKFILL="unknown_populated_through_backfill",B.SCIM_RECOVERY="scim_recovery",B.ROLE_FALLBACK="role_fallback",B.PAID_STATUS_ON_ORG_CREATION="paid_status_on_org_creation",B.TEAM_ADDED_TO_ORG_THROUGH_FIGMA_ADMIN="team_added_to_org_through_figma_admin",B);let e0=(0,et.fc)(eQ);var e1=((V=e1||{}).SELF_SELECTED="self",V.SELF_SELECTED_NOT_LISTED="not listed",V.SELF_SELECTED_DONT_KNOW="don't know",V.MOVED_BY_ADMIN="moved",V.AUTO_ASSIGNED="auto",V),e2=((H=e2||{}).ORG="org",H.WORKSPACE="workspace",H.TEAM="team",H.PROJECT="project",H),e3=((G=e3||{}).ORG="Org",G),e5=((W=e5||{}).ORGANIZATION="Organization",W.ENTERPRISE="Enterprise",W),e4=((z=e4||{}).INHERIT="INHERIT",z.NONE="NONE",z.OVERRIDE="OVERRIDE",z),e6=((K=e6||{}).INHERIT="INHERIT",K.OVERRIDE="OVERRIDE",K),e8=((j=e8||{}).PUBLISHED_PLUGIN="published-plugin",j.FIRST_PARTY="first-party",j),e7=((Y=e7||{}).PIXEL="PIXEL",Y.SCALED="SCALED",Y),e9=(($=e9||{}).HUB_FILE="hub_file",$.PLUGIN="plugin",$.PROFILE="profile",$.WIDGET="widget",$),te=((q=te||{}).NONE="NONE",q.ACCEPTED="ACCEPTED",q.STARTED_ONBOARDING="STARTED_ONBOARDING",q.ENABLED="ENABLED",q.DISABLED="DISABLED",q),tt=((Z=tt||{}).STATUS_CHANGE="status_change",Z),tr=((X=tr||{}).BUILD="build",X.COMPLETED="completed",X.NONE="none",X),tn=((J=tn||{}).FIGMA="figma",J.APPLE="apple",J.GOOGLE="google",J),ti=((Q=ti||{}).DEFAULT="default",Q.INTERNAL="internal",Q.CONFIG24="config24",Q.APPLE_ALPHA="apple_alpha",Q.GOOGLE_ALPHA="google_alpha",Q),ta=((ee=ta||{}).IP_ALLOWLIST="ip_allowlist",ee.NETWORK_ACCESS_RESTRICTION="network_access_restriction",ee)},23746:(e,r,n)=>{"use strict";n.d(r,{Bp:()=>L,GA:()=>R,KC:()=>N,Ns:()=>m,Qp:()=>C,SS:()=>A,TP:()=>_,U5:()=>S,Um:()=>b,WW:()=>f,ZW:()=>I,Zt:()=>M,aU:()=>v,cE:()=>P,ge:()=>E,vy:()=>D,yT:()=>y});var i=n(35283);n(66712),n(96328);var a=n(15009),o=n(87918),s=n(99506),l=n(73454),d=n(79702);n(65050);var c=n(78655),u=n(35321),p=n(52800),h=n(66068);function m(e,r){let n={};return(e.link_access&&(n.linkAccess=e.link_access),"proto_link_access"in e&&(n.protoLinkAccess=e.proto_link_access),"has_file_link_password"in e&&(n.hasFileLinkPassword=e.has_file_link_password),"has_proto_link_password"in e&&(n.hasProtoLinkPassword=e.has_proto_link_password),"org_audience"in e&&(n.orgAudience=e.org_audience),"org_browsable"in e&&(n.orgBrowsable=e.org_browsable),"viewer_export_restricted"in e&&(n.viewerExportRestrictedAt=e.viewer_export_restricted?new Date:null),e.name&&(n._name=e.name),n&&r)?{File:{[r]:n}}:null}let g=e=>{let r={};return(e.link_access&&(r.linkAccess=e.link_access),"proto_link_access"in e&&(r.protoLinkAccess=e.proto_link_access),"org_audience"in e&&(r.orgAudience=e.org_audience),"org_browsable"in e&&(r.orgBrowsable=e.org_browsable),e.name&&(r.name=e.name),r&&e.id)?{Repo:{[e.id]:r}}:null};function f(e){if(!e.id)return null;let r=g(e);return r?(e.default_file_key&&Object.assign(r,m(e,e.default_file_key)),r):null}function _(e,r,n){let i=void 0!==e.default_file_key?e.default_file_key:e.key;return i&&"optimistic"===r&&e.expires_at?{FigFileLinkExpirationConfig:{[`optimistic-id-${i}`]:{figFileKey:i,expiresAt:new Date(e.expires_at),accessReverted:!1,updatedAt:new Date,prevPrivateLinkAccess:s.PQ.ORG_VIEW,prevPrivateProtoLinkAccess:null,prevOrgBrowsable:null,setByUserId:(null==n?void 0:n.id)||null,setByUser:n}}}:null}function y(e,r,n){let i=e.link_access===s.PQ.VIEW||e.link_access===s.PQ.EDIT||e.proto_link_access===s.Pu.VIEW;return r&&"optimistic"!==r&&(!i||"expires_at"in e)?{FigFileLinkExpirationConfig:{[r]:{expiresAt:e.expires_at?new Date(e.expires_at):null,accessReverted:!e.expires_at,setByUserId:(null==n?void 0:n.id)||null,setByUser:n}}}:null}function E(e){return{key:e.key,name:e.name,file_repo_id:e.file_repo_id,source_file_key:e.source_file_key,editor_type:e.editor_type,folder_id:e.folder_id,team_id:e.team_id,parent_org_id:e.parent_org_id,has_proto_link_password:e.has_proto_link_password,proto_link_access:e.proto_link_access,created_at:e.created_at,trashed_at:e.trashed_at,prototype_url:e.prototype_url}}function b(e){return{id:e.id,handle:e.handle,img_url:e.imgUrl,email:e.email||void 0,name:e.name||void 0}}function v(e,r,n,i){let a={id:e.id,resource_type:e.resourceType,resource_id_or_key:e.resourceId,level:e.level,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),pending:e.pending,org_user:n?{design_paid_status:n.accountType,whiteboard_paid_status:n.whiteboardPaidStatus||s.El.STARTER,user_id:n.userId,permission:n.permission}:void 0,team_user:i?{design_paid_status:i.designPaidStatus,whiteboard_paid_status:i.whiteboardPaidStatus,user_id:i.userId,team_id:i.teamId}:void 0};return e.pending?{...a,pending:!0,user_id:null,user:{email:e.pendingEmail||""}}:{...a,pending:!1,user_id:r.id,user:r}}function S(e){let r={};return e.forEach(e=>r[e.id]=e),r}function I(e){switch(e){case s.vt.FILE:return"FileRole";case s.vt.FILE_REPO:return"RepoRole";case s.vt.FOLDER:return"ProjectRole";case s.vt.TEAM:return"TeamRole"}}function T(e){if(null!=e)return{backgroundColor:e.backgroundColor??void 0,containingStateGroup:"containingStateGroup"in e?function(e){if(null!=e)return{name:e.name??void 0,nodeId:e.nodeId??void 0}}(e.containingStateGroup):void 0,name:e.name??void 0,nodeId:e.nodeId??void 0,pageId:e.pageId??void 0,pageName:e.pageName??void 0}}function w(e,r){var n;return{description:e.description??void 0,description_rt:e.description_rt??void 0,library_key:l.Co,id:e.id,name:e.name,unpublished_at:(null==(n=e.unpublishedAt)?void 0:n.toISOString())??null,..."hubFile"===r.type?{file_key:r.file.id,team_id:null}:{file_key:r.file.key,team_id:r.file.teamId}}}function C(e,r){return{...w(e,r),type:l.PW.COMPONENT,node_id:e.nodeId,canvas_url:`/component/${e.componentKey}/canvas?ver=${e.contentHash}`,component_key:(0,a.ii)(e.componentKey),containing_frame:T(e.containingFrame),content_hash:(0,a.F7)(e.contentHash),userFacingVersion:a.F7.INVALID,min_node_height:e.minNodeHeight??0,min_node_width:e.minNodeWidth??0,thumbnail_url:`/component/${e.componentKey}/thumbnail?ver=${e.contentHash}`}}function A(e,r){return{...w(e,r),type:l.PW.STATE_GROUP,node_id:e.nodeId,canvas_url:`/state_group/${e.key}/canvas?ver=${e.version}`,containing_frame:T(e.containingFrame),default_state_key:e.defaultStateKey,key:(0,a.q)(e.key),min_node_height:e.minNodeHeight??0,min_node_width:e.minNodeWidth??0,version:(0,a.Rf)(e.version),userFacingVersion:a.Rf.INVALID,thumbnail_url:`/state_group/${e.key}/thumbnail?ver=${e.version}`}}function N(e,r){var n;return{...w(e,r),type:l.PW.STYLE,node_id:e.nodeId,canvas_url:`/style/${e.key}/canvas?ver=${e.checkpoint.key}`,checkpoint_id:null==(n=e.checkpoint)?void 0:n.key,content_hash:(0,a.IA)(e.contentHash),userFacingVersion:a.IA.INVALID,key:(0,a.n3)(e.key),meta:e.meta?(0,h.iX)(e.meta):void 0,sort_position:e.sortPosition??"",style_type:e.styleType,thumbnail_url:`/style/${e.key}/thumbnail?ver=${e.checkpoint.key}`}}function O(e,r){return`/variable_set/${e}/canvas?ver=${r}`}function R(e,r,n){let s="",h="";return n?(s=c.wL(o.sH(e.nodeId)??o.Hr),h=u.wL(o.sH(e.variableCollection.nodeId)??o.Hr)):(s=c.Hc((0,a.ey)(e.key),(0,a.nK)(e.version)),h=u.Hc((0,a.yG)(e.variableCollection.key),(0,a.Vt)(e.variableCollection.version))),{...w({...e,description_rt:null,thumbnailUrl:null},r),subscriptionStatus:"LIBRARY",type:l.PW.VARIABLE,node_id:s,variableSetId:h,variableCollectionKey:(0,a.yG)(e.variableCollection.key),resolvedType:function(e){switch(e){case"BOOLEAN":return p.rXF.BOOLEAN;case"COLOR":return p.rXF.COLOR;case"FLOAT":return p.rXF.FLOAT;case"MAP":return p.rXF.MAP;case"STRING":return p.rXF.STRING;case"SYMBOL_ID":return p.rXF.SYMBOL_ID;case"TEXT_DATA":return p.rXF.TEXT_DATA;default:(0,i.wc)(`Unhandled livegraph type: ${e}`)}}(e.variableType),version:(0,a.nK)(e.version),userFacingVersion:a.nK.INVALID,sortPosition:e.sortPosition,key:(0,a.ey)(e.key),scopes:(0,d.gK)(e.scopes),canvas_url:O(e.variableCollection.key,e.variableCollection.checkpoint.key)}}function P(e,r,n){var i;let s="";return s=n?u.wL(o.sH(e.nodeId)??o.Hr):u.Hc((0,a.yG)(e.key),(0,a.Vt)(e.version)),{...w({...e,description_rt:null,thumbnailUrl:null},r),subscriptionStatus:"LIBRARY",type:l.PW.VARIABLE_SET,node_id:s,version:(0,a.Vt)(e.version),userFacingVersion:a.Vt.INVALID,canvas_url:O(e.key,e.checkpoint.key),key:(0,a.yG)(e.key),checkpoint_id:null==(i=e.checkpoint)?void 0:i.key,variableThumbnailsUrl:e.variableThumbnailsUrl??void 0,modes:function(e){if(null==e)return;let r=[];for(let n of e)r.push({id:n.id,name:n.name});return r}(e.modes),isExtendable:("loaded"===e.isExtendable.status&&e.isExtendable.data)??!1}}function L(e){return{id:e.id,path:e.path,orgId:e.org_id??null,teamId:e.team_id,updatedAt:new Date(e.updated_at),createdAt:new Date(e.created_at),deletedAt:e.deleted_at?new Date(e.deleted_at):null,viewOnlyAt:e.is_view_only?new Date:null,inviteOnlyAt:e.is_invite_only?new Date:null,subscription:e.is_favorited?{id:"temp_is_favorited"}:null,description:e.description,ownerRole:null}}function D(e){let r={domains:[],isFetching:!1,fetchedAt:null};return e&&e.forEach(e=>{r.domains.push({id:e.id,created_at:e.createdAt?e.createdAt.toString():"",org_id:e.orgId,domain:e.domain,google_sso_only_at:e.googleSsoOnlyAt?e.googleSsoOnlyAt.toString():null,saml_sso_only_at:e.samlSsoOnlyAt?e.samlSsoOnlyAt.toString():null,verification_method:null,verified_at:null})}),r}function M(e,r){return r?{type:"hubFile",file:{id:r.id,name:r.name}}:e?{type:"team",file:e}:void 0}},91205:(e,r,n)=>{"use strict";n.d(r,{M4:()=>f});var i=n(38329),a=n(74626),o=n(49894),s=n(7285),l=n(98759),d=n(85901),c=n(56177),u=n(18828),p=n(1372),h=n(82974);n(52553);let m={File:(0,l.M)(()=>i.D,()=>p.V$),Repo:(0,c.T)(()=>i.D,()=>p.V$),Folder:(0,d.Y)(()=>i.D,()=>p.V$),Team:(0,u.p)(()=>i.D,()=>p.V$)},g=(0,s.a)(a.zl,{getRealtimeClient:()=>p.V$,getLivegraphClient:()=>o.ZJ.get(),getReduxStore:()=>i.D},m).extend((0,h.N)(m)),f=Object.assign(g,{useFile:e=>(0,h.y)(e,g)})},36599:(e,r,n)=>{"use strict";n.d(r,{D2:()=>l,GH:()=>d,Sc:()=>u,VP:()=>o,aF:()=>c,mC:()=>h,mn:()=>s,oh:()=>p});var i=n(88507),a=n(86459);let o=(0,n(79296).n)((e,r)=>e[r]===a.r.LOADING),s=(e,r)=>null!==e[r]&&void 0!==e[r],l=(e,r)=>null!==e[r]&&void 0!==e[r]&&!o(e,r),d=(e,r)=>e[r]===a.r.SUCCESS,c=(e,r)=>e[r]===a.r.FAILURE,u=(e,r)=>null===e[r]||void 0===e[r]||e[r]===a.r.FAILURE;function p(e){return o((0,i.d4)(e=>e.loadingState),e)}function h(e){return l((0,i.d4)(e=>e.loadingState),e)}},20113:(e,r,n)=>{"use strict";n.d(r,{B9:()=>f,LN:()=>g,_Z:()=>_,br:()=>y,vr:()=>m});var i=n(11855),a=n(66712),o=n(76621),s=n(2026),l=n(79296),d=n(82410),c=n(20647);let u=["jpy","usd","gbp","cad","eur"],p=(0,l.D)(()=>{if(navigator){let e=navigator.languages;if(e&&e[0])return e[0];let r=navigator.language;if(r)return r}return"en-US"}),h={jpy:{annualFigma:1800,monthlyFigma:2250,orgFigma:6750,orgDevMode:3750,orgFigjam:750,enterprise:11250,enterpriseDevMode:5250,enterpriseFigjam:750,annualFigjam:450,monthlyFigjam:750},usd:{annualFigma:1200,monthlyFigma:1500,orgFigma:4500,orgDevMode:2500,orgFigjam:500,enterprise:7500,enterpriseDevMode:3500,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},eur:{annualFigma:1200,monthlyFigma:1500,orgFigma:4500,orgDevMode:2500,orgFigjam:500,enterprise:7500,enterpriseDevMode:3500,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},gbp:{annualFigma:1100,monthlyFigma:1400,orgFigma:4e3,orgDevMode:2200,orgFigjam:500,enterprise:7e3,enterpriseDevMode:3200,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},cad:{annualFigma:1600,monthlyFigma:2e3,orgFigma:6e3,orgDevMode:3500,orgFigjam:700,enterprise:1e4,enterpriseDevMode:5e3,enterpriseFigjam:700,annualFigjam:400,monthlyFigjam:700}};class m{constructor(e){this.fullFormat={jpy:"JPY",usd:"USD",eur:"EUR",gbp:"GBP",cad:"CAD"},null===e&&(0,o.us)("Currency should not be null. Defaulted to usd."),this.currency=e??"usd",this.hasCents="jpy"!==this.currency,this.locale=p()}formatMoney(e,r){let n={currency:this.currency,style:"currency"};this.hasCents&&(null==r?void 0:r.showCents)||(n.maximumFractionDigits=0,n.minimumFractionDigits=0),this.hasCents&&(e*=.01);let i=e.toLocaleString(this.locale,n);return(i.startsWith("CA$")||i.startsWith("US$"))&&(i=i.slice(2)),(null==r?void 0:r.showFullFormat)?`${i} ${this.fullFormat[this.currency]}`:i}formatPrice(e){return this.formatMoney(this.getPrices()[e])}getPrices(){return h[this.currency]}getPricesForOrgPlan(e){let r,n,i;let a=this.getPrices();if(e===s.ju.ORGANIZATION)r=a.orgFigma,n=a.orgFigjam,i=a.orgDevMode;else if(e===s.ju.ENTERPRISE)r=a.enterprise,n=a.enterpriseFigjam,i=a.enterpriseDevMode;else throw Error(`Unknown billing plan: ${e}.`);return{[c.lM.DESIGN]:r,[c.lM.FIGJAM]:n,[c.lM.DEV_MODE]:i}}getPricesWithOverride(e,r){let n={},i=this.getPricesForOrgPlan(r);return d.kH.forEach(r=>{var a;let o=i[r];(null==e?void 0:e.license_type_configuration)&&(null==(a=e.license_type_configuration[r])?void 0:a.is_free_period)&&(o=0),n[r]=o}),n}}function g(){let e=(0,a.Ay)().user_currency_from_ip;return _()?e:"usd"}function f(){let e=new Set;return e.add("usd"),e.add(g()),Array.from(e)}function _(){let e=(0,a.Ay)().user_currency_from_ip;if(!e||!u.includes(e)||"usd"===e)return!1;let r=(0,a.Ay)().user_data;return!!r&&!!r.id}function y(e="usd"){return(0,i.useMemo)(()=>{let r=new m(e);return(...e)=>r.formatMoney(...e)},[e])}},4279:(e,r,n)=>{"use strict";n.d(r,{Fn:()=>c,KT:()=>d,bu:()=>p,rH:()=>u});var i=n(81396),a=n(1844),o=n(28588),s=n(4978),l=n(3454);function d(e,r,n,i,a,s=[]){if(e.length>n)return a({type:o.Wn.MAX_UPLOADS_EXCEEDED,params:{maxNum:n}}),[];let l=[],d=e.filter(e=>!s.some(r=>r&&r.name===e.name&&r.lastModified===e.lastModified)||(l.push(e.name),!1));if(r+d.length>n)return a({type:o.Wn.MAX_UPLOADS_EXCEEDED,params:{maxNum:n}}),[];let c=!1,u=!1,p=!1,h=d.filter(e=>i.includes(e.type)?o.VY.includes(e.type)?!(e.size>o.yi)||(c=!0,!1):o.xp.includes(e.type)?!(e.size>o.id)||(u=!0,!1):(p=!0,!1):(p=!0,!1));return l.length>0&&a({type:o.Wn.DUPLICATE_FILE_UPLOAD,params:{numFiles:l.length,fileNames:l.join(", ")}}),p&&a({type:o.Wn.INVALID_FILE_TYPE}),c&&a({type:o.Wn.MAX_VIDEO_SIZE_EXCEEDED,params:{maxFileSizeMB:o.Vx}}),u&&a({type:o.Wn.MAX_IMAGE_SIZE_EXCEEDED,params:{maxFileSizeMB:o.PD}}),h}function c(e){return{url:URL.createObjectURL(e),mediaType:e.type}}function u(e,r){return fetch(e.url).then(e=>e.arrayBuffer()).then(n=>{let i=new Uint8Array(n);return(0,a.Q)(r,i,e.mediaType)}).then(e=>({url:e.data.meta.url,mediaType:e.data.meta.mime}))}function p(e,r,n,d){var c;return Promise.all([(c=e.url,new Promise((e,r)=>{let n=document.createElement("video");n.preload="auto",n.addEventListener("error",e=>{r(e.message)}),n.addEventListener("loadeddata",()=>{setTimeout(()=>e(n),1e3)}),n.src=c,n.currentTime=0,n.load(),setTimeout(()=>{r("Video load timeout during thumbnail generation")},1e4)})).catch(()=>(function(){let e=document.createElement("canvas");e.width=1600,e.height=900;let r=e.getContext("2d");return r&&(r.fillStyle="black",r.fillRect(0,0,e.width,e.height)),Promise.resolve(e)})()).then(e=>{let r=document.createElement("canvas").getContext("2d");if(!r)return Promise.resolve(new Uint8Array);let n=r.canvas;n.width=e instanceof HTMLCanvasElement?e.width:e.videoWidth,n.height=e instanceof HTMLCanvasElement?e.height:e.videoHeight,r.drawImage(e,0,0,n.width,n.height);let i=new Uint8Array(r.getImageData(0,0,n.width,n.height).data.buffer);return s.EC.encode(n.width,n.height,i,!1,100,!1)}).then(e=>(0,a.Q)(d,e,"image/png")).then(({data:e})=>e.meta.url),fetch(e.url).then(e=>e.arrayBuffer()).then(a=>{let o=new Uint8Array(a),s=(0,i.Et)(o);return(0,l.gr)({sha1:s,bytes:o},r,n,e.mediaType)})]).then(e=>({mediaType:e[1].mediaType,path:e[1].path,sha:e[1].sha,videoFileUuid:e[1].videoFileUuid,coverImage:e[0],pending:e[1].mediaConvertTriggered&&o.cU.includes(e[1].mediaType)}))}},197:(e,r,n)=>{"use strict";n.d(r,{J2:()=>h,lu:()=>c,ut:()=>m});var i=n(11855),a=n(52800),o=n(73119),s=n(51963);function l(e){var r;return null==(r=a.mov)?void 0:r.isAlive(e.handle)}let d=new Set;function c(e,{onChangeImmediate:r,onChangeDeferred:n}){let i=e.subscribeFromJs(()=>{null==r||r(),n&&!d.has(n)&&(d.add(n),(0,s.H)())});return()=>{if(n&&d.delete(n),e instanceof Object)l(e)&&e.unsubscribeFromJs(i);else try{e.unsubscribeFromJs(i)}catch(e){}}}let u=0,p=Symbol("EMPTY_OBSERVABLE");function h(e){return m(e,p)}function m(e,r){(0,o.q)();let[n,a]=(0,i.useState)(0),s=(0,i.useCallback)(()=>{a(++u)},[]),d=(0,i.useRef)(p);return(0,i.useEffect)(()=>{if(!e||!l(e))return;let r=c(e,{onChangeImmediate:()=>{d.current=p},onChangeDeferred:s}),n=e.getCopy();return d.current!==n&&(d.current=n),r},[e,s]),d.current===p&&e&&l(e)&&(d.current=e.getCopy()),d.current===p?r:d.current}},51963:(e,r,n)=>{"use strict";n.d(r,{H:()=>s,R:()=>a});let i=null;function a(e){i=e,o&&(o=!1,e())}let o=!1;function s(){i?i():o=!0}},27544:(e,r,n)=>{"use strict";let i,a;n.d(r,{CA:()=>c}),n(956),n(81912),n(33537),n(39863),n(99506),n(2026),n(82410);var o=n(20647);n(20113);var s=n(43987);o.lM.DESIGN,s.d4,o.lM.FIGJAM,s.q8,o.lM.DEV_MODE,s.t9;var l=((i=l||{}).OVERDUE="overdue",i.UNPAID="unpaid",i.REVIEW="review",i.LOCKED="locked",i.DEFAULT="default",i),d=((a=d||{}).BILLING_STATUS="billing_status",a.TAX_ID_STATUS="tax_id_status",a.DEV_MODE_SUGGESTED_UPGRADES="dev_mode_suggested_upgrades",a);function c(e){return null!==e&&null===e.value}},24838:(e,r,n)=>{"use strict";let i,a;n.d(r,{Hw:()=>d});var o=n(33537);n(31828),n(43987),n(28467),n(96607);var s=((i=s||{})[i.NONE=0]="NONE",i[i.SINGLE_TEAM=1]="SINGLE_TEAM",i[i.MULTIPLE_TEAMS=2]="MULTIPLE_TEAMS",i),l=((a=l||{})[a.NEVER=0]="NEVER",a[a.ONCE=1]="ONCE",a[a.TWICE=2]="TWICE",a[a.PERMANENTLY=3]="PERMANENTLY",a);function d(e){return!!e&&!(0,o.qe)(e.email)}},96607:(e,r,n)=>{"use strict";n.d(r,{WT:()=>d,Xy:()=>l,xw:()=>s});var i=n(17068);n(38329),n(80921),n(39863),n(20647);var a=n(99506),o=n(29928);function s(e){return e.currentUserOrgId&&e.user&&e.orgUsersByOrgId.orgUsers[e.currentUserOrgId]?e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id]:null}function l(e){let r=Object.values(e).filter(e=>e.permission===a._D.ADMIN);return(0,i.KQ)(r,"created_at"),r}function d(e,r){let n=e.admin_users_metadata.map(e=>r[e.id]).filter(e=>!!e);return(0,i.KQ)(n,"created_at"),n}(0,o.bt)(s),(0,o.bt)(function(e){var r,n;let i=s(e);return null==(n=null==(r=null==i?void 0:i.workspace_users)?void 0:r.find(e=>e.is_main_workspace))?void 0:n.workspace_id})},88641:(e,r,n)=>{"use strict";n.d(r,{UA:()=>p,iV:()=>u,ih:()=>c});var i=n(84934),a=n(86759),o=n(87918),s=n(39863),l=n(92592),d=n(7465);function c(e,r){let n="",i="",a="",s=null;if(e){let l=null;try{l=new URL(e,location.href)}catch{}if(l&&l.origin===location.origin){let e=r.selectedView;if("fullscreen"===e.view&&e.fileKey){try{s=(0,d.vU)(r,l.pathname,l.search,l.hash)}catch(e){}s&&"fullscreen"===s.view&&e.fileKey===s.fileKey&&(o.fn(o.sH(s.nodeId))&&(n=s.nodeId),s.commentThreadId&&(i=s.commentThreadId),s.versionId&&(a=s.versionId))}}}return{url:e,nodeIdInThisFile:n,commentThreadId:i,nextView:s,versionId:a}}function u(e,r){e.startsWith("mailto:")?e=e.slice(7):e.startsWith("tel:")&&(e=e.slice(4)),(0,a.Dk)(e),(0,i.sx)("Copy Hyperlink",{source:r})}function p(e,r,n,i){u(r,n),e(l.F.enqueue({message:i??(0,s.t)("visual_bell.url_copied_to_your_clipboard",{url:r}),type:"hyperlink-copied"}))}},43987:(e,r,n)=>{"use strict";let i;n.d(r,{BR:()=>V,Ht:()=>g,Jm:()=>h,Kg:()=>N,Ky:()=>B,LF:()=>_,PS:()=>A,Rq:()=>U,Rx:()=>x,S$:()=>L,WW:()=>y,Wf:()=>f,XX:()=>C,ZZ:()=>P,b9:()=>R,cW:()=>E,d4:()=>b,dX:()=>k,f4:()=>O,fD:()=>F,n0:()=>T,q8:()=>v,t9:()=>S,w5:()=>w,zZ:()=>m}),n(81912);var a=n(33537);n(66712);var o=n(50322);n(81388),n(39863);var s=n(75847),l=n(99506),d=n(28467);n(2026);var c=n(22139),u=n(36816),p=n(79296),h=((i=h||{}).FREE="free",i.PRO="pro",i.ORG="org",i.ENT="ent",i.EDU="edu",i);let m="https://www.figma.com/pricing/#cid-20p4Q0lWSOxIWj30zTY6P2",g=2,f=1,_={[l._Y.DESIGN]:3,[l._Y.WHITEBOARD]:1,[l._Y.SLIDES]:3,[l._Y.SITES]:3},y=3,E=5,b=4500,v=500,S=2500;function I(e){return e>new Date}function T(e){return!!e&&null!=e.subscription&&e.subscription!==l.Qh.INCOMPLETE}function w(e){return!!e&&(T(e)||e.student_team||!!e.grace_period_end&&I(new Date(e.grace_period_end)))}function C(e){if(!e)return!1;let{subscription:r,studentTeamAt:n,gracePeriodEnd:i}=e;return!!r&&r!==l.Qh.INCOMPLETE||!!n||i&&I(i)}function A(e){return Object.values(e.teams).filter(r=>(0,d.canEditTeam)(r.id,e)&&(!w(r)||r.student_team))}function N(e){return Object.values(e.teams).filter(r=>(0,d.canEditTeam)(r.id,e)&&!w(r))}function O(e,r,n,i){if(r&&!i&&D(r,n))return!0;let a=e&&n.folders[e];return!!a&&P(a,n,i)}function R(e,r,n){return O(e.folder_id,e.team_id,r,n)}function P(e,r,n){var i,a,o;return i=e.team_id?r.teams[e.team_id]:null,a=r.user,o=r.userEduGracePeriods,(!!e.team_id||"org_edit"!==e.sharing_audience_control)&&!!(!e.team_id&&!(0,s.Gi)(e)||e.team_id&&(!n&&M(i,a,o)||!w(i)&&(e.is_invite_only||e.is_view_only)))}function L(e,r,n){return!(e.teamId||(0,s.VA)(e))||!!e.teamId&&(!!k(r,n)||(e.inviteOnlyAt||e.viewOnlyAt)&&!C(r))}function D(e,r){return M(r.teams[e],r.user,r.userEduGracePeriods)}function M(e,r,n){var i;return!!e&&!!r&&(e.student_team?!((0,o.cn)(r)||(0,o.SH)(n,e.id).isInValidGracePeriod):null==(i=e.restrictions_list)?void 0:i.includes(l.P4.LOCKED))}function k(e,r){var n,i;return!!e&&!!r&&(e.studentTeamAt?!((0,o.cn)(r)||(null==(n=e.eduGracePeriod)?void 0:n.isValid)):null==(i=e.restrictionsList)?void 0:i.includes(l.P4.LOCKED))}function x(e){return Object.values(e.teams).some(r=>D(r.id,e)&&(0,d.canEditTeam)(r.id,e))}function F(e,r){return e===c.tY.MONTHLY?0:r}function U(e,r){return e===c.tY.MONTHLY?r:0}function B(e,r={downgrade:{design:[],whiteboard:[],slides:[],sites:[]},upgrade:{design:[],whiteboard:[],slides:[],sites:[]}},n){let i="whiteboard"===n?"whiteboard_paid_status":"design_paid_status";return e.filter(e=>!(0,a.nD)(e.email)&&(e[i]===u.Zf.FULL&&!r.downgrade[n].includes(e.id)||r.upgrade[n].includes(e.id))).length}function V(e,r){let n=!1,i=null!==e?Object.values(e).reduce((e,i)=>{var a;if(!i.user)return e;let o={id:i.user.id,design_paid_status:i.design_paid_status,whiteboard_paid_status:i.whiteboard_paid_status,email:i.user.email||"",handle:i.user.handle||"",img_url:i.user.img_url||""};return(null==(a=i.user)?void 0:a.id)===(null==r?void 0:r.id)?(n=!0,e.unshift(o)):e.push(o),e},[]):[];return!n&&r&&i.unshift({id:r.id,design_paid_status:u.Zf.STARTER,whiteboard_paid_status:u.Zf.STARTER,email:r.email,handle:r.handle,img_url:r.img_url}),i}(0,p.D)(()=>{if(navigator){let e=navigator.languages;if(e&&e[0])return e[0];let r=navigator.language;if(r)return r}return"en-US"})},28527:(e,r,n)=>{"use strict";n.d(r,{k:()=>o});var i=n(84934),a=n(35283);class o{constructor(e){this.eventName=e,this.fileKey=null,this.nodeChangesSizes=[],this.queries=[],this.replies=[],this.queriesTs=[],this.nodeChangesTs=[],this.repliesTs=[],this.alreadySent=!1,this.logEvent=e=>{if(this.fileKey&&!this.alreadySent)switch(e.type){case"sendSceneGraphQuery":this.queries.push(s(e.queries)),this.queriesTs.push(this.now());break;case"receiveNodeChanges":this.nodeChangesSizes.push(e.size),this.nodeChangesTs.push(this.now());break;case"receiveSceneGraphReply":this.replies.push(s(e.queries)),this.repliesTs.push(this.now());break;case"finishIncrementalLoading":if(e.fileKey===this.fileKey){if(this.nodeChangesSizes.length>0){let r={version:1,fileKey:e.fileKey,nodeChangesSizes:this.nodeChangesSizes,queries:this.queries,replies:this.replies,maxNodeChangesSize:Math.max.apply(null,this.nodeChangesSizes),...l(this.queriesTs,"query",5),...l(this.nodeChangesTs,"node",5),...l(this.repliesTs,"reply",5)};(0,i.sx)(this.eventName,r),this.alreadySent=!0}}else console.error(`IncrementalLoadTimer: file key mismatch ${e.fileKey} != ${this.fileKey}`);this.reset();break;default:(0,a.xb)(e)}}}reset(){this.fileKey=null,this.nodeChangesSizes=[],this.queries=[],this.replies=[],this.queriesTs=[],this.nodeChangesTs=[],this.repliesTs=[],this.alreadySent=!1}now(){return Math.round(performance.now())}setFileKey(e){this.fileKey=e}}function s(e){return[...e].sort().join(",")}function l(e,r,n){let i={};return e.forEach((e,a)=>{a<n&&(i[`${r}.${a}`]=e)}),i}},47206:(e,r,n)=>{"use strict";n.d(r,{Ay:()=>m,C1:()=>E,GP:()=>p,Jd:()=>f,Pe:()=>h,R$:()=>g,XG:()=>y,qR:()=>_});var i=n(66712),a=n(39863),o=n(56975),s=n(69870),l=n(99506);n(6137);var d=n(68860),c=n(36816);n(51363);var u=n(7956);function p(e){return(0,u.$A)(e.selectedView)?(0,o.tn)(e)&&function({copyExportRestrictedArgs:e}){return!(e&&h(e))}({copyExportRestrictedArgs:e.openFile}):(!(0,s.MP)()||!!(0,i.kc)().integ_zoom_allow_extensions)&&!e.mirror.appModel.isReadOnly}function h(e){return!e.canEdit&&e.viewerExportRestricted}n(57766);let m=n(68178).A;function g(e,r){return!!(e&&e.external_restricted_org_id&&e.external_restricted_org_id!==r)}function f(e,r){return"whiteboard"===r?e&&e.whiteboard_paid_status===l.El.RESTRICTED:e&&e.design_paid_status===l.El.RESTRICTED}function _(e,r){return"whiteboard"===r?e&&e.whiteboard_paid_status===c.Zf.RESTRICTED:e&&e.design_paid_status===c.Zf.RESTRICTED}function y(e,r){return"whiteboard"===r?e&&e.whiteboardPaidStatus===c.Zf.RESTRICTED:e&&e.designPaidStatus===c.Zf.RESTRICTED}function E(e,r){switch(e){case d.e6.OWNER:return r?(0,a.t)("permissions.level_name.branch_owner"):(0,a.t)("permissions.level_name.owner");case d.e6.ADMIN:return(0,a.t)("permissions.level_name.admin");case d.e6.EDITOR:return(0,a.t)("permissions.level_name.can_edit");case d.e6.VIEWER:return(0,a.t)("permissions.level_name.can_view");case d.e6.VIEW_PROTOTYPES:return(0,a.t)("permissions.level_name.can_view_prototypes");default:return(0,a.t)("permissions.level_name.none")}}},28467:(e,r,n)=>{"use strict";n.d(r,{canAdminOrg:()=>ep,canAdminTeam:()=>et,canCreateFile:()=>ea,canCreateFileInFolder:()=>eo,canEditFile:()=>j,canEditFileMemoized:()=>Y,canEditRole:()=>el,canEditTeam:()=>ee,canManageFile:()=>Z,canManageRepo:()=>X,canMemberOrg:()=>eu,canOwnTeam:()=>er,canUploadAndEditVideo_REDUX_GLOBAL_DEPRECATED:()=>eg,canViewFile:()=>K,canViewFileMetadata:()=>z,canViewPrototypes:()=>$,canViewResource:()=>es,canViewTeam:()=>Q,getPermissionsState:()=>T,getPermissionsStateMemoized:()=>w,getResourceTeamId:()=>N,getRolesForResource:()=>k,hasAdminRoleAccessOnTeam:()=>ei,hasEditorRoleAccessOnTeam:()=>en,isOrgUserExternallyRestrictedFromState:()=>em,isResourceOwner:()=>O,useMemoizedPermissionsState:()=>C,usePermissionsState:()=>A});var i=n(11855),a=n(88507),o=n(86928),s=n(38329),l=n(94272),d=n(66712),c=n(86653),u=n(50322);n(39863);var p=n(40908),h=n(57766),m=n(75847),g=n(99506);n(96607);var f=n(43987),_=n(40047),y=n(65050),E=n(68860);n(36816);var b=n(47206),v=n(92830);function S(e,r,n,i,a,o,s,l,d,c,u,p,h,m,g,f){return{currentUserOrgId:e,user:r,fileByKey:n,repos:i,folders:a,teams:o,roles:s,orgById:l,orgDraftsOwners:d,orgUsersByOrgId:c,teamUserByTeamId:u,userEduGracePeriods:p,licenseGroups:h,orgTeams:m,openFile:g,currentTeamId:f}}let I=(0,c.xx)(S);function T(e){return S(e.currentUserOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId,e.teamUserByTeamId,e.userEduGracePeriods,e.licenseGroups,e.orgTeams,e.openFile,e.currentTeamId)}function w(e){return I(e.currentUserOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId,e.teamUserByTeamId,e.userEduGracePeriods,e.licenseGroups,e.orgTeams,e.openFile,e.currentTeamId)}function C(){let e=(0,a.d4)(e=>e.currentUserOrgId),r=(0,a.d4)(e=>e.user),n=(0,a.d4)(e=>e.fileByKey),o=(0,a.d4)(e=>e.repos),s=(0,a.d4)(e=>e.folders),l=(0,a.d4)(e=>e.teams),d=(0,a.d4)(e=>e.roles),c=(0,a.d4)(e=>e.orgById),u=(0,a.d4)(e=>e.orgDraftsOwners),p=(0,a.d4)(e=>e.orgUsersByOrgId),h=(0,a.d4)(e=>e.teamUserByTeamId),m=(0,a.d4)(e=>e.userEduGracePeriods),g=(0,a.d4)(e=>e.licenseGroups),f=(0,a.d4)(e=>e.orgTeams),_=(0,a.d4)(e=>e.openFile),y=(0,a.d4)(e=>e.currentTeamId);return i.useMemo(()=>T({currentUserOrgId:e,user:r,fileByKey:n,repos:o,folders:s,teams:l,roles:d,orgById:c,orgDraftsOwners:u,orgUsersByOrgId:p,teamUserByTeamId:h,userEduGracePeriods:m,licenseGroups:g,orgTeams:f,openFile:_,currentTeamId:y}),[e,n,s,g,_,c,u,f,p,o,d,h,l,r,m,y])}function A(){return(0,l.R)(e=>T(e))}function N(e,r){switch(e.resource_type){case g.vt.FILE:let n=r.fileByKey[e.resource_id_or_key];return n&&n.team_id;case g.vt.FILE_REPO:let i=r.repos[e.resource_id_or_key],a=r.folders[null==i?void 0:i.folder_id];return a&&a.team_id;case g.vt.FOLDER:let o=r.folders[e.resource_id_or_key];return o&&o.team_id;case g.vt.TEAM:return e.resource_id_or_key}}function O(e,r,n,i){let a=function(e,r){switch(r){case g.vt.FILE:return e.byFileKey;case g.vt.FILE_REPO:return e.byRepoId;case g.vt.FOLDER:return e.byFolderId;case g.vt.TEAM:return e.byTeamId}}(i,n)[r];return!!a&&e in a&&a[e].level===E.e6.OWNER}function R(e,r){for(let n of e)if(n.level>=r)return!0;return!1}function P(e,r){var n;let i=null==(n=r.user)?void 0:n.id,a=r.roles;return e in a.byTeamId&&i&&i in a.byTeamId[e]?[a.byTeamId[e][i]]:[]}function L(e,r){let n=r.user&&r.user.id,i=[],a=r.roles;e in a.byFolderId&&n&&n in a.byFolderId[e]&&i.push(a.byFolderId[e][n]);let o=r.folders[e];return o&&o.team_id&&!o.is_invite_only&&(i=i.concat(P(o.team_id,r))),i}function D(e,r){let n=r.user&&r.user.id,i=r.roles,a=[];e in i.byRepoId&&n&&n in i.byRepoId[e]&&a.push(i.byRepoId[e][n]);let o=r.repos[e];return o&&(a=[...a,...L(o.folder_id,r)]),a}function M(e,r){let n=[],i=function(e,r){let n=r.user&&r.user.id,i=r.roles;return e in i.byFileKey&&n&&n in i.byFileKey[e]?i.byFileKey[e][n]:null}(e,r);null!==i&&n.push(i);let a=r.fileByKey[e];return a&&a.folder_id&&(n=n.concat(L(a.folder_id,r))),a&&a.file_repo_id&&(n=[...n,...D(a.file_repo_id,r)]),n}function k(e,r,n){switch(e){case g.vt.FILE:return M(r,n);case g.vt.FILE_REPO:return D(r,n);case g.vt.FOLDER:return L(r,n);case g.vt.TEAM:return P(r,n)}}function x(e,r,n){var i;let a=(0,_._)(e,n);if(!a)return!1;let s=null==(i=n.user)?void 0:i.id,l=a.org_id,c=(0,v.D)(e,l),u=(0,d.kc)().sc_open_team_deprecation&&c,p=a.sharing_audience_control;if(l){let i=!u&&r<=E.e6.EDITOR&&eu(l,n)&&a.org_access===g.bU.PUBLIC&&a.default_permission===g.sC.EDIT,d=R(P(e,n),r),h=r<=E.e6.ADMIN&&(d||a.org_access!==g.bU.SECRET&&function(e,r,n){var i;if(!(n=n||(null==(i=r.user)?void 0:i.id))||!e||!r.currentUserOrgId)return!1;let a=r.currentUserOrgId&&r.user&&r.orgUsersByOrgId.orgUsers[r.currentUserOrgId]?r.orgUsersByOrgId.orgUsers[r.currentUserOrgId][n]:null;null===a&&(a=(0,o.J)(r,"org_user",r.currentUserOrgId));let s=(0,_._)(e,r);if(!s||!a||r.currentUserOrgId!==s.org_id)return!1;if(ei(e,r))return!0;let l=ep(r.currentUserOrgId,r,n);return s.org_access!==g.bU.SECRET&&(l||!!(s.workspace_id&&function(e,r,n){var i,a,o,s,l;n=n||(null==(i=r.user)?void 0:i.id);let d=r.currentUserOrgId;return!!(e&&n&&d&&(null==(l=null==(s=null==(o=null==(a=r.orgUsersByOrgId)?void 0:a.orgUsers)?void 0:o[d])?void 0:s[n].workspace_users)?void 0:l.find(r=>r.permission===g.bp.ADMIN&&r.workspace_id===e)))}(s.workspace_id,r,n)))}(a.id,n,s)),m=!u&&r<=E.e6.VIEWER&&eu(l,n)&&a.org_access===g.bU.PUBLIC,f=c&&eu(l,n)&&(r<=E.e6.VIEWER&&p===g.PQ.ORG_VIEW||r<=E.e6.EDITOR&&p===g.PQ.ORG_EDIT);return(h||m||d||i||f)&&ec(l,n)}return F(e,r,n)}function F(e,r,n){return R(P(e,n),r)&&!function(e,r,n){if(n.user&&!(0,u.cn)(n.user))return!1;let i=(0,_._)(e,n);if(!i)return!1;let a=!!n.user&&(0,u.GU)(n.userEduGracePeriods,(0,u.cn)(n.user),i.id,i.student_team).showAccessRestricted;return r>E.e6.VIEWER&&a}(e,r,n)}function U(e,r,n){let i;let a=n.user&&n.user.id,o=n.folders[e];if(!a||!o)return!1;let s=(0,m.oq)(o.id,n);if(s&&!ec(s,n))return!1;let l=o.team_id&&n.teams[o.team_id],c=(0,v.D)(o.team_id,s??null),u=(0,d.kc)().sc_open_team_deprecation&&c,p=o.sharing_audience_control;if(!u&&s&&eu(s,n)&&r<=E.e6.VIEWER&&l&&l.org_access===g.bU.PUBLIC&&!o.is_invite_only||!u&&s&&eu(s,n)&&r<=E.e6.EDITOR&&l&&l.org_access===g.bU.PUBLIC&&!o.is_invite_only&&!o.is_view_only&&l.default_permission===g.sC.EDIT||c&&s&&eu(s,n)&&(r<=E.e6.EDITOR&&p===g.PQ.ORG_EDIT||r<=E.e6.VIEWER&&p===g.PQ.ORG_VIEW))return!0;let h=L(e,n);return(h.forEach(e=>{e.resource_type===g.vt.FOLDER&&(i=e)}),!o.team_id||o.is_invite_only||o.is_view_only&&r>=E.e6.EDITOR)?!!i&&i.level>=r:R(h,r)}function B(e,r){return e.proto_link_access===g.Pu.VIEW&&r<=E.e6.VIEW_PROTOTYPES||(e.link_access===g.PQ.EDIT||e.link_access===g.PQ.VIEW)&&r<=E.e6.VIEWER}function V(e,r,n){return!!(e.link_access===g.PQ.EDIT&&r<=E.e6.EDITOR||e.parent_org_id&&(e.link_access===g.PQ.ORG_EDIT&&r<=E.e6.EDITOR||e.link_access===g.PQ.ORG_VIEW&&r<=E.e6.VIEWER||e.proto_link_access===g.Pu.ORG_VIEW&&r<=E.e6.VIEW_PROTOTYPES)&&eu(e.parent_org_id,n))}function H(e,r,n,i){var a,o,s;let l=n.user&&n.user.id,d=n.repos[e];if(!l&&r>E.e6.VIEWER||!d)return!1;if(!i&&(B(d,r)||V(d,r,n)))return!0;let c=d.parent_org_id;if(c&&!ec(c,n))return!1;if(!c&&d.team_id){let e=n.user&&(null==(o=null==(a=n.teamUserByTeamId)?void 0:a[d.team_id])?void 0:o[n.user.id]);if((0,b.qR)(e,g._Y.DESIGN))return!1}let u=c&&l&&(null==(s=n.orgUsersByOrgId.orgUsers[c])?void 0:s[l]);return(!(u&&(0,b.Jd)(u,g._Y.DESIGN))||!(r>E.e6.VIEWER))&&R(D(d.id,n),r)}function G(e,r,n,i,a){let s=n.fileByKey[e];return!(!s||!W(s,r,n,i,a)||W(s,E.e6.EDITOR,n)&&function(e,r){var n,i,a;let s=r.user;if(!s||!e)return!1;let l=e.file_repo_id?r.repos[e.file_repo_id]??(0,o.J)(r,"file_repo",e.file_repo_id):null,d=(e.team_id&&(r.teams[e.team_id]??(0,o.J)(r,"team",e.team_id)),e.team_id&&((null==(i=null==(n=r.teamUserByTeamId)?void 0:n[e.team_id])?void 0:i[s.id])??(0,o.J)(r,"team_user",e.team_id)),r.currentUserOrgId?r.orgById[r.currentUserOrgId]??(0,o.J)(r,"org",r.currentUserOrgId):null);return function(e,r,n,i,a,o){if(!e.parent_org_id&&!e.team_id)return!1;let s=a?a.folder_id:e.folder_id;if(e.parent_org_id){var l;return("whiteboard"!==(l=e.editor_type)||null==i||!i.figjam_disabled_at)&&!!s&&(!o||s!==o.drafts_folder_id)&&(!o||"whiteboard"===l||o.design_paid_status===g.El.STARTER)&&(!o||"whiteboard"!==l||o.whiteboard_paid_status===g.El.STARTER)&&(!i||!(0,p.LV)(i))}return!1}(e,0,0,d,l,r.currentUserOrgId?(null==(a=r.orgUsersByOrgId.orgUsers[r.currentUserOrgId])?void 0:a[s.id])??(0,o.J)(r,"org_user",r.currentUserOrgId):null)}(s,n)&&r>=E.e6.EDITOR)}function W(e,r,n,i,a){let o=n.user&&n.user.id;if(!e||function(e,r,n){var i,a,o;let s=r.currentUserOrgId,l=s&&r.user&&(null==(i=r.orgUsersByOrgId.orgUsers[s])?void 0:i[r.user.id]);if(n>E.e6.VIEWER&&em(r))return!0;if(!e.parent_org_id){if(!e.team_id)return!1;let i=r.user&&(null==(o=null==(a=r.teamUserByTeamId)?void 0:a[e.team_id])?void 0:o[r.user.id]);return n>E.e6.VIEWER&&(0,b.qR)(i,e.editor_type)}if(!l)return!1;let d=e.folder_id;return(!d||l.drafts_folder_id!==d)&&!!(d&&(0,b.Jd)(r.orgDraftsOwners[d],e.editor_type)&&(n>=E.e6.VIEWER||n===E.e6.VIEW_PROTOTYPES)||(0,b.Jd)(l,e.editor_type)&&n>E.e6.VIEWER)}(e,n,r)||e.deleted_at||(e.trashed_at&&r<E.e6.VIEW_METADATA&&(r=E.e6.VIEW_METADATA),!a&&e.trashed_at&&(0,h.Xm)(e)&&r>=E.e6.EDITOR))return!1;if(!i&&e.is_try_file&&!e.trashed_at&&r<=E.e6.VIEWER||!i&&B(e,r))return!0;if(!o&&r>E.e6.VIEWER)return!1;if(!i&&V(e,r,n))return!0;if(e.parent_org_id&&!ec(e.parent_org_id,n))return!1;if(!i){let i=(0,h.L8)(e,n.repos);if(i&&(B(i,r)||V(i,r,n)))return!0}if(e.folder_id&&e.team_id){let i=(0,_._)(e.team_id,n),a=n.folders[e.folder_id],o=(0,m.oq)(null==a?void 0:a.id,n);if(a&&i&&o&&eu(o,n)&&i.org_access===g.bU.PUBLIC&&!a.is_invite_only&&(r<=E.e6.VIEWER||r<=E.e6.EDITOR&&!a.is_view_only&&i.default_permission===g.sC.EDIT))return!0}let s=!!e.team_id&&!!o&&x(e.team_id,r,n),l=!1;if(M(e.key,n).forEach(e=>{switch(e.resource_type){case g.vt.FILE:case g.vt.FILE_REPO:case g.vt.FOLDER:e.level>=r&&(l=!0)}}),l)return!0;if(s){let i=e.folder_id;return!i||U(i,r,n)}return!1}function z(e,r,n){return G(e,E.e6.VIEW_METADATA,r,n)}function K(e,r,n){return G(e,E.e6.VIEWER,r,n)}function j(e,r,n,i,a){if(!e)return!1;let o=r.fileByKey[e];return!(!o||!n&&(0,f.b9)(o,r,a))&&G(e,E.e6.EDITOR,r,void 0,i)}(0,c.xx)((e,r)=>(function(e,r){return M(e.key,r).forEach(e=>{if(e.level<=E.e6.VIEW_PROTOTYPES)return!0}),e.link_access===g.PQ.INHERIT&&(e.proto_link_access===g.Pu.VIEW||e.proto_link_access===g.Pu.ORG_VIEW)})(e,r)),(0,c.xx)((e,r)=>K(e,r));let Y=(0,c.xx)((e,r)=>j(e,r));function $(e,r,n){return G(e,E.e6.VIEW_PROTOTYPES,r,n)}function q(e,r,n,i,a,o){var s,l;let d=!1,c=i.user&&i.user.id;if(!c||i.currentUserOrgId&&!ec(i.currentUserOrgId,i)||(0,b.R$)(i.user,i.currentUserOrgId))return!1;if(null===e)return!0;if(!a&&(0,f.f4)(e,r,i,o))return!1;let u=i.roles.byFolderId[e];return u&&c&&c in u&&(d=u[c].level>=E.e6.EDITOR),!!d||(r?!!en(r,i)&&J(e,i):!r&&!!n&&(null==(l=null==(s=i.orgDraftsOwners)?void 0:s[e])?void 0:l.design_paid_status)!=="restricted")}function Z(e,r,n,i){let a=r.user&&r.user.id,o=r.fileByKey[e];if(!a||!o)return!1;if((0,h.L8)(o,r.repos))return j(e,r,n,!0,i);let s=!1,l=r.roles.byFileKey[e];return l&&a&&a in l&&(s=l[a].level>=E.e6.OWNER),q(o.folder_id,o.team_id,s,r,n,i)}function X(e,r,n){let i=r.repos[e];return!!i&&!!r.folders[i.folder_id]&&q(i.folder_id,i.team_id,H(e,E.e6.OWNER,r),r,n)}function J(e,r){return U(e,E.e6.EDITOR,r)}function Q(e,r){return x(e,E.e6.VIEWER,r)}function ee(e,r){return x(e,E.e6.EDITOR,r)}function et(e,r){return x(e,E.e6.ADMIN,r)}function er(e,r){return x(e,E.e6.OWNER,r)}function en(e,r){return F(e,E.e6.EDITOR,r)}function ei(e,r){return F(e,E.e6.ADMIN,r)}function ea(e,r,n){var i,a,o;let s=e?(0,m.oq)(e,r):r.currentUserOrgId;return!("whiteboard"===n&&(i=s||null,a=r,i&&(null==(o=a.orgById[i])?void 0:o.figjam_disabled_at))||(0,b.R$)(r.user,s))&&(!e||eo(r.folders[e],r,n))}function eo(e,r,n,i){var a,o,s,l,c;let u=r.currentUserOrgId;if(!e)return!1;if(u){let o=r.user&&r.user.id,s=o?null==(a=r.orgUsersByOrgId.orgUsers[u])?void 0:a[o]:null;return(""!==e.name||(null==s?void 0:s.drafts_folder_id)===e.id)&&(l=e.id,c=n||g._Y.DESIGN,!!s&&(l===s.drafts_folder_id||!(0,b.Jd)(s,c)&&(void 0!==i?i:J(l,r))))}{let a=r.user&&r.user.id,l=(0,d.kc)().ps_benchmark&&(0,m.ye)(e),c=e.team_id&&a&&(null==(s=null==(o=null==r?void 0:r.teamUserByTeamId)?void 0:o[e.team_id])?void 0:s[a])||null;return(!(0,b.qR)(c,n)||!!l)&&(void 0!==i?i:J(e.id,r))}}function es(e,r,n){switch(e){case g.vt.FILE:return K(r,n,!1);case g.vt.FILE_REPO:return H(r,E.e6.VIEWER,n);case g.vt.FOLDER:return U(r,E.e6.VIEWER,n);case g.vt.TEAM:return Q(r,n)}}function el(e,r){var n,i;return e.level!==E.e6.OWNER&&(e.level===E.e6.ADMIN?(n=e.resource_type,i=e.resource_id_or_key,n===g.vt.TEAM&&et(i,r)):function(e,r,n){switch(e){case g.vt.FILE:return j(r,n,!1);case g.vt.FILE_REPO:return H(r,E.e6.EDITOR,n,void 0);case g.vt.FOLDER:return J(r,n);case g.vt.TEAM:return ee(r,n)}}(e.resource_type,e.resource_id_or_key,r))}function ed(e,r,n){var i;return n?(null==(i=e.orgUsersByOrgId.orgUsers[r])?void 0:i[n])??(0,o.J)(e,"org_user",r):null}function ec(e,r){let n=r.user;if(!e||!n)return!1;let i=r.orgById[e]??(0,o.J)(r,"org",e);return eh(ed(r,e,n.id),i,y.jh.GUEST)}function eu(e,r,n){var i;if(!e)return!1;n=n||(null==(i=r.user)?void 0:i.id);let a=r.orgById[e]??(0,o.J)(r,"org",e);return eh(ed(r,e,n),a,y.jh.MEMBER)}function ep(e,r,n){var i;if(!e)return!1;let a=r.orgById[e]??(0,o.J)(r,"org",e);return n=n||(null==(i=r.user)?void 0:i.id),eh(ed(r,e,n),a,y.jh.ADMIN)}function eh(e,r,n){return!!r&&!!e&&(0,b.Ay)(e.permission)>=n}function em(e){return(0,b.R$)(e.user,e.currentUserOrgId)}function eg(){var e;if(void 0===s.D)return!1;let r=s.D.getState(),n=T(r);return!!(e=r.openFile)&&!!e.canEdit&&(e.team?(0,f.w5)(e.teamId?n.teams[e.teamId]:void 0):!!e.parentOrgId)}},60628:(e,r,n)=>{"use strict";let i;n.d(r,{$y:()=>j,BT:()=>W,B_:()=>ep,G1:()=>J,H4:()=>eh,IM:()=>q,It:()=>ev,KB:()=>R,LL:()=>T,ME:()=>es,Mw:()=>B,OD:()=>er,Q4:()=>M,Ql:()=>x,Qx:()=>Z,Rp:()=>D,Sf:()=>N,Sx:()=>Y,Ty:()=>P,VM:()=>k,W5:()=>L,Xx:()=>C,b_:()=>V,cI:()=>A,d1:()=>i,dG:()=>eb,f$:()=>et,fS:()=>eE,fd:()=>G,hY:()=>eu,i1:()=>K,iP:()=>H,jG:()=>ey,jS:()=>F,n4:()=>eo,oZ:()=>X,po:()=>O,q$:()=>z,qC:()=>eS,sd:()=>$,wk:()=>w});var a=n(97666),o=n(76621),s=n(4783),l=n(52800),d=n(10620),c=n(12666),u=n(41860);let p=[],h=[],m=[],g=[],f=[],_=[],y=[],E=[],b=[],v=[],S=[],I=null;function T(e){p.push({normal:e,boxSelection:(0,a.s)(e,500)})}function w(e){p=p.filter(r=>r.normal!==e||(r.boxSelection.cancel(),!1))}function C(e){h.push(e)}function A(e){h=h.filter(r=>r!==e)}function N(e){m.push(e)}function O(e){m=m.filter(r=>r!==e)}function R(e){g.push(e)}function P(e){g=g.filter(r=>r!==e)}function L(e){b.push(e)}function D(e){b=b.filter(r=>r!==e)}function M(e){v.push(e)}function k(e){v=v.filter(r=>r!==e)}function x(e){S.push(e)}function F(e){S=S.filter(r=>r!==e)}function U(){f.length||_.length||y.length?l.NfO.setIsDocumentChangeCallbackRegistered(!0):l.NfO.setIsDocumentChangeCallbackRegistered(!1)}function B(e){f.push(e),U()}function V(e){f=f.filter(r=>r!==e),U()}function H(e){_.push(e),U()}function G(e){_=_.filter(r=>r!==e),U()}function W(e){y.push(e),U()}function z(e){y=y.filter(r=>r!==e),U()}function K(e){E.push(e)}function j(e){E=E.filter(r=>r!==e)}new class{constructor(){this.task=null,this.eventByGuid=new Map,this.styleEventByGuid=new Map,this.nodeEventByGuid=new Map,this.timeOutMs=100,this.flush=()=>{let e=[];for(let r of this.eventByGuid.values())if("NONE"!==r.nodeType)for(let n of r.events)e.push(this.injectTypeIntoEvent(r,n));for(let r of f)r(e);let r=[];for(let e of this.styleEventByGuid.values())if("NONE"!==e.nodeType)for(let n of e.events)r.push(n);for(let e of _)e(r);let n=[];for(let e of this.nodeEventByGuid.values())if("NONE"!==e.nodeType)for(let r of e.events)n.push({...r,nodeType:e.nodeType});for(let e of y)e(n);this.eventByGuid.clear(),this.styleEventByGuid.clear(),this.nodeEventByGuid.clear(),this.task=null}}onEventFired(e){null==this.task&&(this.task=scheduler.postTask(this.flush,{delay:this.timeOutMs,priority:"user-visible"}));let r=this.eventByGuid.get(e.id)??{nodeType:this.publicNodeTypeFromEvent(e),events:[]};if(!r)return;"NONE"===r.nodeType&&(r.nodeType=this.publicNodeTypeFromEvent(e));let n=r.events.find(r=>r.type===e.type&&r.origin===e.origin);if(n)for(let r of e.properties)n.properties.add(r);else{let n=u.qo.instance.get(e.id);n&&(e.type===l.iIc.STYLE_PROPERTY_CHANGE||e.type===l.iIc.STYLE_CREATE||e.type===l.iIc.STYLE_DELETE?n.styleKey&&r.events.push({id:e.id,origin:e.origin,type:e.type,properties:new Set(e.properties),styleKey:(0,c.nM)({key:n.styleKey,version:n.styleVersionHash})}):r.events.push({id:e.id,origin:e.origin,type:e.type,properties:new Set(e.properties),devFriendlyId:u.qo.instance.developerFriendlyIdFromGuid(e.id),oldContainingCanvas:e.oldContainingCanvas}))}this.eventByGuid.set(e.id,r);let i=u.qo.instance.get(e.id);if(i){if(i.styleKey){let n=r.events.filter(e=>e.type===l.iIc.STYLE_DELETE||e.type===l.iIc.STYLE_CREATE||e.type===l.iIc.STYLE_PROPERTY_CHANGE);this.styleEventByGuid.set(e.id,{nodeType:this.publicNodeTypeFromEvent(e),events:n})}else{let n=r.events.filter(e=>e.type===l.iIc.CREATE||e.type===l.iIc.PROPERTY_CHANGE||e.type===l.iIc.DELETE).map(e=>{var r;let n="";return e.type===l.iIc.CREATE||e.type===l.iIc.PROPERTY_CHANGE?n=i.containingCanvas||"":e.type===l.iIc.DELETE&&(n=(null==(r=e.oldContainingCanvas)?void 0:r.toString())||""),""===n&&(0,o.$D)(s.e.EXTENSIBILITY,Error("Containing canvas for nodechange event is empty")),{...e,containingCanvas:n}});this.nodeEventByGuid.set(e.id,{nodeType:this.publicNodeTypeFromEvent(e),events:n})}}}publicNodeTypeFromEvent(e){let r=u.qo.instance.get(e.id);return r&&(null==r?void 0:r.type)!=="NONE"?(0,d.w)(r):"NONE"}injectTypeIntoEvent(e,r){return r.type===l.iIc.CREATE||r.type===l.iIc.DELETE||r.type===l.iIc.PROPERTY_CHANGE?{...r,nodeType:e.nodeType}:r}};let{set:Y,remove:$,has:q,run:Z}=eI(),{set:X,remove:J,has:Q,run:ee,reset:et}=eI(),{set:er,remove:en,has:ei,run:ea,reset:eo}=eI(),{set:es,remove:el,has:ed,run:ec,reset:eu}=eI(),{set:ep,remove:eh,has:em,run:eg,reset:ef,runOrTimeout:e_}=eI();function ey(e){I=e}function eE(){return!!I}function eb(){I=null}async function ev(){return!I||await I()}function eS(e){return()=>null}function eI(){let e;let r=new Promise(r=>{e=r}),n=null,i=()=>{r=new Promise(r=>{e=r}),n=null};return{set:r=>{n=r,e(r)},remove:e=>{e===n&&i()},has:()=>!!n,run:async(...e)=>{let n=await r;return await n(...e)},runOrTimeout:async(e,...n)=>{let i=new Promise(r=>{setTimeout(()=>{r()},e)}),a=await Promise.race([r,i]);return void 0===a?{didRun:!1}:{didRun:!0,returnValue:await a(...n)}},reset:i}}},72794:(e,r,n)=>{"use strict";n.d(r,{F:()=>l});var i=n(38329),a=n(66712),o=n(208),s=n(24589);let l=new class{constructor(){this.forceRefresh=(e,r,n)=>{var l;if(!r.redirect_code_url)return Promise.reject(Error("Invalid code download url"));let d="",c=i.D.getState(),u={version_id:r.id,file_key:(null==(l=c.openFile)?void 0:l.key)||""};if(n&&(u.org_id=n),(0,a.kc)().plugins_remove_syntax_checking){let n=(0,o.GD)(r.redirect_code_url,u,{raw:!0}).then(({data:r})=>(delete this.requestsInFlight[e],this.cache[e]=r,r)).catch(r=>{throw delete this.requestsInFlight[e],r});return this.requestsInFlight[e]=n,n}let p=(0,o.GD)(r.redirect_code_url,u,{raw:!0}).then(({data:e})=>(d=e,(0,s.z)(d))).then(r=>{if(!r.success)throw Error("code is not valid javascript");return delete this.requestsInFlight[e],this.cache[e]=d,d}).catch(r=>{throw delete this.requestsInFlight[e],r});return this.requestsInFlight[e]=p,p},this.getAndCache=(e,r)=>{let n=this.getPluginVersionOrEmptyVersionHash(e);return n?n in this.cache?Promise.resolve(this.cache[n]):n in this.requestsInFlight?this.requestsInFlight[n]:this.forceRefresh(n,e,r):Promise.resolve(null)},this.clearCache=()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)},this.clearCache()}getPluginVersionOrEmptyVersionHash(e){return e&&e.id&&e.plugin_id?`${e.plugin_id}:${e.id}`:null}}},50335:(e,r,n)=>{"use strict";n.d(r,{Oq:()=>p,PJ:()=>u,pS:()=>a});var i=n(76485);let a="1.0.0";function o(e,r){let n=" ".repeat(r),i=e.split("\n");for(let e=1;e<i.length;e++)0!==i[e].length&&(i[e]=n+i[e]);return i.join("\n")}let s=`// This file holds the main code for plugins. Code in this file has access to
// the *figma document* via the figma global object.
// You can access browser APIs in the <script> tag inside "ui.html" which has a
// full browser environment (See https://www.figma.com/plugin-docs/how-plugins-run).`,l=`// Make sure to close the plugin when you're done. Otherwise the plugin will
// keep running, which shows the cancel button at the bottom of the screen.
figma.closePlugin();`,d={inspect:`// This plugin will open a tab that indicates that it will monitor the current
// selection on the page. It cannot change the document itself.

${s}

// This shows the HTML page in "ui.html".
figma.showUI(__html__);

// This monitors the selection changes and posts the selection to the UI
figma.on('selectionchange', () => {
  figma.ui.postMessage(figma.currentPage.selection)
});
`,codegen:`// This plugin will generate a sample codegen plugin
// that appears in the Element tab of the Inspect panel.

${s}

// This provides the callback to generate the code.
figma.codegen.on('generate', (event) => {
  const code = \`{
    name: "\${event.node.name}"
  }\`;
  return [
    {
      language: "PLAINTEXT",
      code: code,
      title: "Codegen Plugin",
    },
  ];
});
`},c=(i.HK.FIGMA,i.HK.FIGJAM,i.HK.UNIVERSAL,o(l,2),o(l,2),i.HK.FIGMA,o(l,2),i.HK.FIGJAM,o(l,2),i.HK.UNIVERSAL,o(l,4),o(l,4),i.HK.INSPECT,d.inspect,i.HK.FIGMA_AND_INSPECT,d.inspect,{inspect:`
  <h2>Selection Change Observer</h2>
  <p>Observe the contents of figma.selection change as you change the selection in the file.</p>
  <p>ID of selection is: </p>
  <p id=selection></p>

  <script>

  onmessage = (event) => {
    document.getElementById('selection').innerHTML = event.data.pluginMessage[0] ? event.data.pluginMessage[0].id : 'No selection';
  }

  </script>
  `,codegen:""}),u=(i.HK.FIGMA,i.HK.FIGJAM,i.HK.UNIVERSAL,i.HK.INSPECT,c.inspect,i.HK.FIGMA_AND_INSPECT,c.inspect,1920),p=960},20666:(e,r,n)=>{"use strict";n.d(r,{qH:()=>X,VQ:()=>ek,WC:()=>eI,NW:()=>eN,AG:()=>eO,xC:()=>eR,ky:()=>ep,te:()=>eL,GX:()=>z,T:()=>K,mI:()=>e_,Q4:()=>eh,MB:()=>et,c2:()=>H,Gc:()=>eE,uF:()=>el,i8:()=>ey,my:()=>ec,Rd:()=>eu,L8:()=>ev,$u:()=>eD,CA:()=>Z,EK:()=>j,pk:()=>eC,M5:()=>eT,W4:()=>eP,UH:()=>ew,JT:()=>eb,Ru:()=>eA,Ms:()=>Q,fR:()=>eS,ZT:()=>em,oD:()=>ef,wf:()=>eg}),n(61743),n(88507);var i=n(17068);n(57663),n(33537);var a=n(38329),o=n(66712);n(63706),n(63042);var s=n(76621),l=n(96328),d=n(4783),c=n(30637);n(208);var u=n(39863),p=n(92592),h=n(37324),m=n(66636);n(62194),n(45941);var g=n(90796),f=n(82501),_=n(56390);n(48661);var y=n(38337);n(99506);var E=n(85334),b=n(23001),v=n(39671),S=n(13408),I=n(28588);n(78787);var T=n(76485),w=n(91463),C=n(13517),A=n(22416),N=n(75827),O=n(1256),R=n(7956),P=n(97551),L=n(58237);n(4978);var D=n(41088);n(10225);var M=n(17333);class k{toggleDevTools(e){M.eD||this.throwNoDesktopAppError(),this.isDevToolsOpened().then(r=>{r?this.closeDevTools():this.openDevTools(e||"bottom")})}getLocalFileExtensionSource(e){return M.eD||this.throwNoDesktopAppError(),M.eD.getLocalFileExtensionSource(e)}getLocalFileExtensionManifest(e){return M.eD||this.throwNoDesktopAppError(),M.eD.getLocalFileExtensionManifest(e)}openExtensionDirectory(e){return M.eD||this.throwNoDesktopAppError(),M.eD.openExtensionDirectory(e)}openExtensionManifest(e){return M.eD||this.throwNoDesktopAppError(),M.eD.openExtensionManifest(e)}openDevTools(e){return M.eD||this.throwNoDesktopAppError(),M.eD.openDevTools(e)}closeDevTools(){return M.eD||this.throwNoDesktopAppError(),M.eD.closeDevTools()}isDevToolsOpened(){return M.eD||this.throwNoDesktopAppError(),M.eD.isDevToolsOpened()}isCompatibleWith({desktopVersion:e}){return M.eD||this.throwNoDesktopAppError(),M.eD.getVersion()>=e}getLocalManifestFileExtensionIdsToCachedMetadataMap(){return M.eD||this.throwNoDesktopAppError(),M.eD.getLocalManifestFileExtensionIdsToCachedMetadataMap()}getLocalManifestFileExtensionIdsToCachedContainsWidgetMap(){return M.eD||this.throwNoDesktopAppError(),M.eD.getLocalManifestFileExtensionIdsToCachedContainsWidgetMap()}getAllLocalFileExtensionIds(){return M.eD||this.throwNoDesktopAppError(),M.eD.getAllLocalFileExtensionIds()}registerManifestChangeObserver(e){return M.eD||this.throwNoDesktopAppError(),M.eD.registerManifestChangeObserver(e)}registerCodeChangeObserver(e){return M.eD||this.throwNoDesktopAppError(),M.eD.registerCodeChangeObserver(e)}registerUiChangeObserver(e){return M.eD||this.throwNoDesktopAppError(),M.eD.registerUiChangeObserver(e)}createMultipleNewLocalFileExtensions(e,r){return M.eD||this.throwNoDesktopAppError(),M.eD.createMultipleNewLocalFileExtensions(e,r)}removeLocalFileExtension(e){return M.eD||this.throwNoDesktopAppError(),M.eD.removeLocalFileExtension(e)}writeNewExtensionDirectoryToDisk(e){return M.eD||this.throwNoDesktopAppError(),M.eD.writeNewExtensionDirectoryToDisk(e)}writeNewExtensionToDisk(e,r){return M.eD||this.throwNoDesktopAppError(),M.eD.writeNewExtensionToDisk(e,r)}updateCachedContainsWidget(e){return M.eD||this.throwNoDesktopAppError(),M.eD.updateCachedContainsWidget(e)}throwNoDesktopAppError(){throw Error("[DesktopLocalPluginMananger] Desktop app not available")}}var x=n(49719);class F{toggleDevTools(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendToggleDevToolsMessage()}getLocalFileExtensionSource(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendGetLocalFileExtensionSourceMessage(e)}getLocalFileExtensionManifest(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendGetLocalFileExtensionManifest(e)}openExtensionDirectory(e){(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendOpenExtensionDirectoryMessage(e)}openExtensionManifest(e){(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendOpenExtensionManifestMessage(e)}openDevTools(e){throw(0,D.T)()||this.throwNoVsCodeErrorMessage(),Error("openDevTools: Method not implemented")}closeDevTools(){throw(0,D.T)()||this.throwNoVsCodeErrorMessage(),Error("closeDevTools: Method not implemented.")}isDevToolsOpened(){throw(0,D.T)()||this.throwNoVsCodeErrorMessage(),Error("isDevToolsOpened: Method not implemented.")}isCompatibleWith(e){return!0}getLocalManifestFileExtensionIdsToCachedMetadataMap(){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendGetLocalManifestFileExtensionIdsToCachedMetadataMap()}getLocalManifestFileExtensionIdsToCachedContainsWidgetMap(){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendGetLocalManifestFileExtensionIdsToCachedContainsWidgetMapMessage()}getAllLocalFileExtensionIds(){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendGetAllLocalFileExtensionIdsMessage()}registerManifestChangeObserver(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendRegisterManifestChangeObserverMessage(e)}registerCodeChangeObserver(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendRegisterCodeChangeObserverMessage(e)}registerUiChangeObserver(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendRegisterUIChangeObserverMessage(e)}createMultipleNewLocalFileExtensions(e,r){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendCreateMultipleNewLocalFileExtensions(e,r)}removeLocalFileExtension(e){(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendRemoveFileExtensionMessage(e)}writeNewExtensionDirectoryToDisk(e){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendWriteNewExtensionDirectoryToDiskMessage(e)}writeNewExtensionToDisk(e,r){return(0,D.T)()||this.throwNoVsCodeErrorMessage(),this.writeNewExtensionDirectoryToDisk({name:e,files:r,dirs:[]})}updateCachedContainsWidget(e){(0,D.T)()||this.throwNoVsCodeErrorMessage(),x.bf.sendUpdateCachedContainsWidget(e)}throwNoVsCodeErrorMessage(){throw Error("[VsCodeLocalPluginMananger] VS Code extension not available")}}let U=null;function B(){return U||(M.eD&&(U=new k),(0,D.T)()&&(U=new F)),U}var V=n(47206);async function H(e,{ignoreMissingEditorType:r,resourceType:n,isPublishing:i}){var a;let o=await ee(e,{resourceType:n});if(r&&(null==(a=o.error)?void 0:a.text)===$)return o.manifest;if(o.error)throw Error((0,T.am)(o.error));return o.manifest}function G({parameters:e,parameterOnly:r},n){if(e&&function(e,r){if(!e.length)throw Error(`Expected "${r}.parameters" to have non-empty parameter list.`);let n=new Set;e.forEach(e=>{if(n.has(e.key))throw Error(`Expected "${r}.parameters" to have unique keys, but got more than one parameter with key: "${e.key}"`);n.add(e.key)});let i=!1;for(let{key:r,optional:n}of e){if(i&&!n)throw Error(`Optional parameters must be listed last in the parameter list. ${r} not marked as optional.`);n&&(i=!0)}}(e,n),r&&!e)throw Error(`Expected parameters to be defined for "${n}" marked as parameterOnly.`)}n(50335);let W={[v.nT.Design]:T.FW.FIGMA,[v.nT.DevHandoff]:T.FW.DEV,[v.nT.Whiteboard]:T.FW.FIGJAM,[v.nT.Slides]:T.FW.FIGMA,[v.nT.Sites]:T.FW.SITES};function z(e){return W[e]}function K(){let e=a.D.getState().selectedView;if("fullscreen"===e.view)return W[e.editorType]}function j(e,r){return Array.isArray(r)?r.includes(e):e===T.FW.FIGMA}class Y extends Error{constructor(e,r){super(e),this.message=e,this.manifest=r}}let $='Missing editorType in manifest.  Specify a combination of ["figma", "figjam", "dev"]';function q(e,r){let n=new Set(T.UX);return e.filter(e=>!n.has(e)||(null==r?void 0:r.has(e)))}function Z(e){return T.Kd.some(r=>e.includes(r))}class X{constructor(e,r){this.permissions=e,this.trustedPluginOrigin=r}static none(){return new X([],void 0)}static forTest(e){return new X(e||T.XS,void 0)}static forConsoleGlobal(){return new X(T.pR,void 0)}static forFirstPartyPlugin(){return new X(T.XS,void 0)}static forLocalPlugin(e){let r=e.manifest.permissions||[];if((0,s.Lo)("ValidatedPluginPermissions","Validating permissions for local plugin",{pluginID:e.manifest.id,requestedPermissions:r}),(0,o.kc)().plugins_internal_apis)return new X(r,"*");let n=q(r);return n.length<r.length&&(0,s.$D)(d.e.EXTENSIBILITY,Error("Untrusted local plugin denied internal api permissions")),new X(n,void 0)}static forInstalledPlugin(e){let r=e.manifest.permissions||[];if((0,s.Lo)("ValidatedPluginPermissions","Validating permissions for installed plugin",{pluginID:e.plugin_id,requestedPermissions:r}),(0,E.eZ)(e.plugin_id))return new X(q(r,(0,E.xp)(e.plugin_id)),(0,E.HB)(e.plugin_id));let n=q(r);return n.length<r.length&&(0,s.$D)(d.e.UNOWNED,Error("Untrusted installed plugin denied internal api permissions")),new X(n,void 0)}}function J(e){try{return new URLPattern(e)}catch(e){return null}}function Q(e,r){let n=[],i=0;for(let[a,o]of r)n.push(e.substring(i,a)),i=o;return n.push(e.substring(i,e.length)),n.join("")}async function ee(e,r){let n=B();try{if(!n)throw Error("desktopApp not available");let i=await n.getLocalFileExtensionManifest(e);return function(e,r,n){var i,a,o;let s,l,d,c,u;let p="widget"===n.resourceType||!!r.cachedContainsWidget;if("error"in r)l={type:T.ho.LOAD,text:r.error};else try{d=JSON.parse(r.manifest)}catch(e){l={type:T.ho.PARSE,text:e.message}}if("unknown"===n.resourceType){if(d)p=d.containsWidget;else if("manifest"in r)try{p=!!/containsWidget/.test(r.manifest)}catch{}}if(d){try{(0,A.MG)(d.editorType,w.ib,"manifest.editorType"),c=d.editorType}catch{}try{(0,A.MG)(d.capabilities,w.hb,"manifest.capabilities"),u=d.capabilities}catch{}}let h=B();if("manifest"in r&&(null==h||h.updateCachedContainsWidget({id:e,cachedContainsWidget:p})),!l)try{s=function(e,r){try{(0,A.MG)(e,"widget"===r.resourceType?w.Vf:w._O,"manifest")}catch(e){if(e instanceof Error)throw Error(function(e){let r="but got additional property",n=e.lastIndexOf(r);if(-1!==n){let i=e.substring(n+r.length).replace(/"/g,"").trim();return`Manifest has unexpected extra property: ${i}`}return e}(e.message));throw e}if("plugin"===r.resourceType){if(e.relaunchButtons){let r=new Set;e.relaunchButtons.forEach(n=>{if(r.has(n.command))throw new Y(`Expected "manifest.relaunchButtons" to have unique commands, but got more than one button with command: "${n.command}"`,e);r.add(n.command)})}!function(e){if(G(e,"manifest"),e.menu){if(e.parameters)throw Error("manifest.parameters should not be specified when menu items are defined");!function e(r){for(let n of r)(0,T.Av)(n)?G(n,n.name):(0,T.xg)(n)&&e(n.menu)}(e.menu)}}(e)}if(!function(e){if(!("editorType"in e))throw new Y($,e);if(e.editorType.some(e=>!T.Ye.includes(e))||e.editorType.length<1||e.editorType.length>T.Ye.length)throw Error('Invalid editorType in manifest.  Specify a combination of ["figma", "figjam", "dev"]')}(e),!function(e){if(e.permissions){let r=e.permissions.find(e=>!T.XS.includes(e));if(void 0!==r)throw new Y(`Invalid permission specified: ${r}`,e)}}(e),!function(e){if(e.capabilities)for(let r of e.capabilities){if(T.Dk.includes(r)||function(e,r){throw new Y(`Invalid capability specified: ${r}`,e)}(e,r),"panel"===r||"inspect"===r||"codegen"===r||"linkpreview"===r||"vscode"===r){if(!eM(e.editorType))throw new Y(`Capability "${r}" requires "editorType" to include "dev"`,e);if(e.containsWidget)throw new Y(`Capability "${r}" is not supported for widgets`,e)}if((0,D.T)()&&!e.capabilities.includes("vscode"))throw new Y('Manifest must include "vscode" capability to run in Figma for VS Code Extension',e)}}(e),!function(e){var r,n;if(!(null==(r=e.capabilities)?void 0:r.includes("codegen"))){if(e.codegenLanguages)throw new Y("codegenLanguages only supported for codegen plugins",e);if(e.codegenPreferences)throw new Y("codegenPreferences only supported for codegen plugins",e);return}if(!e.codegenLanguages||0===e.codegenLanguages.length)throw new Y("codegen plugins must define at least one language in codegenLanguages",e);if(!e.codegenPreferences)return;let i=(null==(n=e.codegenLanguages)?void 0:n.map(e=>e.value))??[],a=[],o=new Set;for(let r=0;r<e.codegenPreferences.length;r++){let n=e.codegenPreferences[r];for(let a of n.includedLanguages??[])if(!i.includes(a))throw new Y(`Unknown language "${a}" in codegenPreferences[${r}].includedLanguages`,e);if((0,T.MP)(n)&&a.push(n),(0,T.Wt)(n)){if(o.has(n.propertyName))throw new Y('codegenPreferences "action" itemType settings must have unique propertyName values',e);o.add(n.propertyName)}if((0,T.ZV)(n)){let r=0;if(n.options)for(let e of n.options)e.isDefault&&(r+=1);if(1!==r)throw new Y('codegenPreferences itemType: "select" should have exactly one default option',e)}}if(a.length>1)throw new Y('codegenPreferences should have at most one itemType: "unit"',e)}(e),"widget"===r.resourceType&&e.containsWidget&&"1.0.0"!==e.widgetApi)throw new Y("Widgets must specify the 'widgetApi' manifest field. The latest version is '1.0.0'",e);if(e.networkAccess){let r=(0,C.pI)(e.networkAccess);if(!r.isValid)throw new Y(r.validationErr,e)}if(e.relatedLinkDomains){if(!eM(e.editorType))throw new Y("'relatedLinkDomains' is only supported for plugins with 'editorType' containing 'dev'",e);for(let r of e.relatedLinkDomains){if(!r.startsWith("https://")||r.startsWith("http://"))throw new Y(`Invalid domain '${r}' in 'relatedLinkDomains'. Domains must start with 'https:// or 'http://'`,e);if(!J(r))throw new Y(`Invalid domain '${r}' in 'relatedLinkDomains'.`,e)}}if(e.devResourceDomains){if(!eM(e.editorType))throw new Y("'devResourceDomains' is only supported for plugins with 'editorType' containing 'dev'",e);for(let r of e.devResourceDomains){if(!r.startsWith("https://")||r.startsWith("http://"))throw new Y(`Invalid domain '${r}' in 'devResourceDomains'. Domains must start with 'https:// or 'http://'`,e);if(!J(r))throw new Y(`Invalid domain '${r}' in 'devResourceDomains'.`,e)}}return e}(d,{resourceType:p?"widget":"plugin"})}catch(e){l={type:T.ho.VALIDATE,text:e.message},e.manifest&&(s=e.manifest)}let m=p?(i=c,{...en,editorType:i||void 0}):(a=c,o=u,{...er,editorType:a||void 0,capabilities:o||void 0});return{plugin_id:s&&s.id||"",name:function(e,r){if(e)return e.name;if(r.lastKnownName)return r.lastKnownName;if(!r.path)return"Error";{let e=r.path.split(/\/|\\/);return e.length>=2?e[e.length-2]:r.path}}(s,r),manifest:s??m,localFileId:e,localFilePath:r.path,error:l}}(e,i,r)}catch(n){return{plugin_id:"",name:"Error",manifest:"widget"===r.resourceType?en:er,localFileId:e,localFilePath:"",error:{type:T.ho.LOAD,text:n.message}}}}async function et(e){let r;let n=B();try{if(!n)throw Error("desktopApp not available");r=await n.getLocalFileExtensionSource(e)}catch(e){throw Error(`Unable to load code: ${e}`)}if(r.buildErrCode)throw Error("Build error: "+r.stderr+"\nPath was: "+r.path);let i=r.source;return r.html&&(i=function(e,r){let n=e=>JSON.stringify(e).split(/(<!--|-->|\bimport)/g).map((e,r)=>1&r?e.slice(0,2)+'"+"'+e.slice(2):e).join("");if("string"==typeof r)return`const __html__ = ${n(r)};${e}`;let i=Object.entries(r).map(([e,r])=>`[${n(e)}]:${n(r)}`).join(",");return`const __uiFiles__ = {${i}};${e}`}(i,r.html)),i}let er={id:"",name:"",api:"",main:""},en={id:"",name:"",api:"",main:"",containsWidget:!0,widgetApi:""},ei={id:"",plugin_id:"",manifest:{...er},name:"",version:"",release_notes:"",installed_by:"user",description:"",tagline:"",creator_policy:"",created_at:"",redirect_icon_url:"",redirect_cover_image_url:"",redirect_code_url:"",is_private:!1,playground_fig_file_key:null},ea={id:"",publisher:{is_restricted_by_current_user:!1,id:"",name:"",img_url:"",img_urls:{},profile_handle:"",primary_user_id:null,current_user_is_following:!1,current_user_is_followed:!1,location:null,follower_count:0,following_count:0,entity_type:S.o1.USER,badges:[]},creator:{id:"",handle:"",img_url:""},category_id:null,versions:{},install_count:0,unique_run_count:0,view_count:0,like_count:0,comment_count:0,unpublished_at:null,current_plugin_version_id:"",roles:{},realtime_token:"",support_contact:"",created_at:"",org_id:null,redirect_thumbnail_url:null,thumbnail_url:null,tags:[],community_publishers:{accepted:[],pending:[]},comments_setting:y.Ni.ENABLED,is_widget:!1,editor_type:"design_and_whiteboard",publishing_status:null,badges:[]},eo={...ea,is_widget:!0},es={name:"",currentVersionReleaseNotes:"",newVersionReleaseNotes:"",description:"",tagline:"",creatorPolicy:"",categoryId:"",tags:(0,O.Rs)(),iconSrc:"",coverImageSrc:"",widgetSnapshotImageSrc:"",widgetSnapshotImageError:null,supportContact:"",iconImageError:null,coverImageError:null,author:{user_id:""},twoFactorAuthDisabledError:null,emailNotVerifiedError:null,accountDetailsChangedError:null,freemiumRequiredForMigrating:null,commentsSetting:y.Ni.ENABLED,creators:[],publishers:{inputValue:"",tokens:[],errorMessage:""},blockPublishingOnToS:!1,playgroundFigFile:null,playgroundFilePublishType:g.J.Actions.NOOP};function el(e){let r=function(e){if(!e||!e.versions)return null;let r=e.current_plugin_version_id;return r&&e.versions[r]||null}(e);return null===r?ei:r}let ed=e=>(null==e?void 0:e.containsWidget)?eo:ea;function ec(e,r){return(0,P.Hc)(e,r,ea)}function eu(e,r){return(0,P.Hc)(e,r,eo)}function ep(e,r,n=!0){let i={};return Object.keys(e).forEach(a=>{let o=e[a],s=n?L.jY:L.Ro;((0,f.Dd)(o,r)||s(o,r))&&(i[a]=e[a])}),i}function eh(e){return(0,i.LN)(Object.keys(e).map(r=>el(e[r]))).map(r=>e[r.plugin_id])}function em(e){if(!e)throw Error("Code string cannot be empty");let r=(0,l.YH)(e).length;if(r>P.yO)throw Error(`plugin code exceeds max size of ${Math.floor(P.yO/1e6)}MB`);return r}function eg(e){return(0,f.Wl)(e,"Icon image")}function ef(e){return(0,f.Wl)(e,"Artwork image",[...I.xp,"image/svg+xml"])}function e_(e,r,n,i,a){var o,s,l,d,c;let u;let p=void 0!==r?e.localPlugins[r]:void 0,_=p&&p.manifest,y=function(e,r,n,i){var a,o,s,l,d;if(null==(a=null==n?void 0:n.manifest)?void 0:a.id){if(e&&e[null==(o=null==n?void 0:n.manifest)?void 0:o.id])return e[null==(s=null==n?void 0:n.manifest)?void 0:s.id];if(r&&r[null==(l=null==n?void 0:n.manifest)?void 0:l.id])return r[null==(d=null==n?void 0:n.manifest)?void 0:d.id]}if(i){if(e&&e[i])return e[i];if(r&&r[i])return r[i]}return ed(null==n?void 0:n.manifest)}(e.publishedPlugins,e.publishedWidgets,p,n),E=el(y),v={...(0,O.Rs)(),tokens:(y.tags||[]).map(e=>({content:e,state:b.d.OK}))},I=null==(o=null==_?void 0:_.permissions)?void 0:o.includes("payments");try{u=(0,f.En)(y,e)}catch(e){throw Error("Unable to get Plugin Data. You might be trying to act on a personal plugin in an Org space.")}let{accepted:T,pending:w}=y.community_publishers,C={...(0,O.Rs)(),tokens:(y.community_publishers?[...T.map(e=>({...e,isPending:!1})),...(null==w?void 0:w.map(e=>({...e,isPending:!0})))||[]]:[]).reduce((r,n)=>(0,f.Ii)(e.authedProfilesById[n.id],u)?r:r.concat([{state:b.d.OK,content:n}]),[])};return{name:E.name||_&&_.name||es.name,currentVersionReleaseNotes:E.release_notes||es.newVersionReleaseNotes,newVersionReleaseNotes:es.newVersionReleaseNotes,tags:v,supportContact:y.support_contact||(null==(s=e.user)?void 0:s.email)||es.supportContact,description:E.description||es.description,tagline:E.tagline||es.tagline,creatorPolicy:E.creator_policy??es.creatorPolicy,iconSrc:E.redirect_icon_url||es.iconSrc,widgetSnapshotImageSrc:i||E.redirect_snapshot_url||es.widgetSnapshotImageSrc,widgetSnapshotImageBlob:a||es.widgetSnapshotImageBlob,coverImageSrc:E.redirect_cover_image_url||es.coverImageSrc,iconImageError:es.iconImageError,coverImageError:es.coverImageError,widgetSnapshotImageError:es.widgetSnapshotImageError,twoFactorAuthDisabledError:es.twoFactorAuthDisabledError,emailNotVerifiedError:es.emailNotVerifiedError,accountDetailsChangedError:es.accountDetailsChangedError,freemiumRequiredForMigrating:es.freemiumRequiredForMigrating,author:u,publishers:C,creators:T.map(e=>({...e,isPending:!1})).concat((w??[]).map(e=>({...e,isPending:!0}))).filter(r=>!(0,f.Ii)(e.authedProfilesById[r.id],u)&&r.entity_type===S.o1.USER),commentsSetting:y.comments_setting||es.commentsSetting,categoryId:y.category_id||es.categoryId,blockPublishingOnToS:(0,f.xw)(e),playgroundFigFile:E.playground_fig_file,playgroundFilePublishType:g.J.Actions.NOOP,isPaid:!!y.monetized_resource_metadata||I,price:(0,m.vf)(y.monetized_resource_metadata),isSubscription:null==(l=y.monetized_resource_metadata)?void 0:l.is_subscription,hasPaymentsApi:I,annualDiscount:null==(d=y.monetized_resource_metadata)?void 0:d.annual_discount_percentage,isAnnualDiscountActive:!!(null==(c=y.monetized_resource_metadata)?void 0:c.annual_discount_active_at),carouselMedia:(0,h.N6)(y)}}function ey(e){if(!e)return{};let r={};return e.forEach(e=>{el(e).id&&!e.unpublished_at&&(r[e.id]=e)}),r}function eE(e){var r;let n;let{localPlugins:i,publishedCanvasWidgetVersions:o,publishedWidgets:l}=a.D.getState(),p=!e.widgetVersionId,h=e.widgetId;if(h){if(p){let e=Object.values(i).filter(e=>e.plugin_id===h);e.length>1&&eS((0,u.t)("community.publishing.found_multiple_local_widgets_with_the_same_manifest_id")),1===e.length&&(n=e[0])}else{if(!(n=(null==(r=o[h])?void 0:r[e.widgetVersionId])||l[h]&&el(l[h])))return;n.id===e.widgetVersionId||(0,c.nl)()||(0,c.Lg)()||(0,s.$D)(d.e.UNOWNED,Error(`plugin versionId=${null==n?void 0:n.id} doesn't match node.widgetVersionId=${e.widgetVersionId}`))}return n}}function eb(e){let r=e.canRunPluginState?e.canRunPluginState:a.D.getState();if(!(0,V.GP)(r))return{canRun:!1,message:"Cannot run plugin because canRunPlugins returned false"};if(!function(e,r){if(!e.currentUserOrgId)return!0;let n=e.orgById[e.currentUserOrgId];if(!n||(0,T.ZQ)(r)||(0,T.bH)(r))return!0;if(!n.public_plugins_allowed)return!1;let i=(0,T.k0)(r);return(i?!n.widgets_whitelist_enforced:!n.plugins_whitelist_enforced)||!!(i?e.whitelistedWidgets:e.whitelistedPlugins)[r.plugin_id]}(r,e.plugin))return{canRun:!1,message:"Cannot run plugin within org"};let{plugin:n,editorType:i}=e;if((0,T.ZQ)(n))return(0,T.k0)(n)?{canRun:!1,message:"Cannot run local widget"}:{canRun:!0};if(i){if(!j(W[i],n.manifest.editorType))return{canRun:!1,message:"Cannot run plugin with invalid editor type"};if(i===v.nT.DevHandoff&&!eT(n))return{canRun:!1,message:"Cannot run non-devmode plugin in dev mode"}}return{canRun:!0}}function ev(e){return e.roles.is_public?{role:"public"}:e.roles.org?{role:"org",roleOrgId:e.roles.org.id}:{role:"private"}}function eS(e){(0,N.pN)({shouldShowVisualBell:!0});let r=B();_.Y5.dispatch(p.F.enqueue({type:"plugins-runtime-error",message:e,button:r?{text:"Show/Hide console",action:()=>{r.toggleDevTools("bottom")}}:void 0,error:!0}))}function eI(){_.Y5.dispatch(p.F.dequeue({matchType:"plugins-runtime-error"}))}function eT(e,r){var n;return(!!(!(0,D.T)()||(null==(n=e.manifest.capabilities)?void 0:n.includes("vscode")))||null!=r&&!!r.allowNonVsCodePluginsInVsCode)&&eM(e.manifest.editorType)&&!(0,T.k0)(e)}function ew(e){return eT(e)&&eD(e.manifest.capabilities)}function eC(e){var r,n;return eT(e)&&(null==(n=null==(r=e.manifest)?void 0:r.capabilities)?void 0:n.includes("codegen"))}function eA(e){var r,n;return null==(n=null==(r=e.manifest)?void 0:r.capabilities)?void 0:n.includes("textreview")}function eN(e,r,n){if(!e)return r;switch(e){case v.nT.Whiteboard:case v.nT.Design:return Object.fromEntries(Object.entries(r).filter(([r,n])=>j(W[e],n.manifest.editorType)));case v.nT.DevHandoff:return Object.fromEntries(Object.entries(r).filter(([e,r])=>eT(r,n)));default:return{}}}function eO(e,r){if(!e)return r;switch(e){case v.nT.Whiteboard:case v.nT.Design:return r.filter(r=>j(W[e],r.manifest.editorType));case v.nT.DevHandoff:return r.filter(e=>eT(e));default:return[]}}function eR(e,r){if(!e)return r;switch(e){case v.nT.Whiteboard:case v.nT.Design:return Object.fromEntries(Object.entries(r).filter(([r,n])=>j(W[e],el(n).manifest.editorType)));case v.nT.DevHandoff:return Object.fromEntries(Object.entries(r).filter(([e,r])=>eT(el(r))));default:return{}}}function eP(e){if(!("related-link-preview"!==e&&"codegen"!==e))return!1;let r=a.D.getState().selectedView;return(0,R.$A)(r)}function eL({idToSearch:e,localPluginsByFileId:r,publishedPlugins:n,savedPlugins:i,recentPlugins:a}){let o=r&&r[e];if(o)return o;let s=(null==i?void 0:i.loaded)&&i.plugins[e];if(s)return s;let l=null==n?void 0:n[e];if(l){let e=el(l);return""!==e.id?e:null}return a&&a[e]||null}function eD(e){return!!((null==e?void 0:e.includes("inspect"))||(null==e?void 0:e.includes("panel")))}function eM(e){return!!((null==e?void 0:e.includes(T.FW.DEV))||(null==e?void 0:e.includes(T.FW.INSPECT)))}function ek(e){var r,n;let i=K(),a=e&&(null==e?void 0:e.plugin)&&(null==(n=null==(r=null==e?void 0:e.plugin)?void 0:r.manifest.editorType)?void 0:n.length)===1&&eM(r.manifest.editorType)&&function(e){let r=function(e){let r=["vscode"];return e.filter(e=>!r.includes(e))}(e.manifest.capabilities??[]);return 1===r.length&&"codegen"===r[0]}(r);return e&&i&&j(i,e.plugin.manifest.editorType)&&("dev"!==i||eT(e.plugin))&&!a}},29531:(e,r,n)=>{"use strict";let i;n.d(r,{Nq:()=>o,Tj:()=>d,Yd:()=>c,hM:()=>s,p1:()=>l});let a=1;function o(){return i}function s(){return void 0!==i}function l(){return a}function d(e){i=e}function c(){a+=1}},47087:(e,r,n)=>{"use strict";let i;n.d(r,{E:()=>w,y:()=>C});var a=n(84934),o=n(38329),s=n(66712),l=n(74626),d=n(39863),c=n(92592),u=n(34533),p=n(52800),h=n(76485),m=n(54294),g=n(67712),f=n(7956),_=n(79296),y=n(56390),E=n(93862),b=n(20666),v=n(61004);function S(){return i=new Set}async function I(){if(i)return i;try{let e="staging"===(0,s.Ay)().cluster_name?new URL("https://static.figma.com/uploads/d22f7cdebb6824859628228028af4125310c5497"):"prod"===(0,s.Ay)().cluster_name?new URL("https://static.figma.com/uploads/59b96eebae268ef59559b1850b43a3bf625b9bfa"):void 0;if(!e)return S();let r=await fetch(e);if(!r.ok)return console.error("Error fetching incremental loading list"),S();let n=await r.json();return i=new Set(n)}catch{return console.error("Error fetching incremental loading list"),S()}}async function T(e,r){if(!p.h3O.isIncrementalSession())return p.h3O.isValidatingIncremental()&&await (0,E.qd)(p._em.PLUGIN_VALIDATION),!1;let n=(null==e?void 0:e.plugin_id)||null,i=(null==e?void 0:e.manifest.documentAccess)||null;return!(!n||e&&(0,b.Ru)(e)||(0,f.$A)(o.D.getState().selectedView))&&!r&&(!!(0,s.kc)().plugins_force_load_all_pages||(i?"dynamic-page"!==i:!(await I()).has(n)))}let w=(0,_.n)(async(e,r,n)=>{let i=o.D.getState().mirror.appModel.pagesList.filter(e=>e.status===p.xal.NOT_LOADED).length;if(0===i)return{isCancelled:!1};l.zl.set(m.s6,!0);let s=e&&(0,h.k0)(e)?(0,d.t)("plugins.loading_pages_for_widget",{numUnloadedPages:i}):(0,d.t)("plugins.loading_pages_for_plugin",{numUnloadedPages:i}),f=()=>{y.Y5.dispatch(c.F.dequeue({matchType:"loading-pages-for-plugin"}))},_=!1,b=()=>{},S=new Promise(e=>{l.zl.set(m.nc,!0),b=e});e&&(0,h.k0)(e)&&(null==r?void 0:r.widgetAction)==="insert"&&y.Y5.dispatch(c.F.dequeue({matchType:"plugins-status"})),y.Y5.dispatch(c.F.enqueue({message:s,icon:u.zX.IMAGE_BACKED_SPINNER,type:"loading-pages-for-plugin",delay:1e3,timeoutOverride:1/0,button:{text:(0,d.t)("plugins.cancel_loading_pages"),action:()=>{b(),f(),_||function(e){let r=(null==e?void 0:e.plugin)??(0,v.hw)()??null,n=v.iu.stats;(0,a.sx)("Plugin Start Cancelled",{pluginRunID:(0,v.fD)(),trigger:null==e?void 0:e.triggeredFrom,runMode:null==e?void 0:e.runMode,isWidget:null==e?void 0:e.isWidget,command:null==e?void 0:e.command,fileKey:null==e?void 0:e.openFileKey,pluginID:null==r?void 0:r.plugin_id,...n?n.getTimingMarks():{},...r?(0,h.ZQ)(r)?{pluginVersionID:"",source:"development",name:"<local plugin>"}:{pluginVersionID:r.id,source:"imported",name:r.name}:{}})}(r),_=!0}}}));let I=(0,E.qd)(n);return(0,g.Jp)()?p.h3O.resolveSceneGraphQueryForTest("0:0",p.DPQ.DEFAULT):(await Promise.race([I,S]),f(),l.zl.set(m.s6,!1)),{isCancelled:_}});async function C(e){let r=(null==e?void 0:e.plugin)??(0,v.hw)(),n=(null==e?void 0:e.queryMode)??!1;return await T(r,n)?v.iu.stats?await v.iu.stats.markDuration("waitForAllPagesForPluginMs",async()=>await w(r,e,p._em.LEGACY_PLUGIN)):await w(r,e,p._em.LEGACY_PLUGIN):{isCancelled:!1}}},61004:(e,r,n)=>{"use strict";n.d(r,{Kd:()=>b,Mt:()=>I,XF:()=>T,fD:()=>f,hw:()=>_,iu:()=>g,lM:()=>y,mv:()=>v,nT:()=>C,qR:()=>E,wY:()=>w});var i=n(17333),a=n(38329),o=n(74626),s=n(76621),l=n(4783),d=n(30637),c=n(54294),u=n(7033),p=n(79296),h=n(29531);let m=null,g={currentPluginRunID:null,stats:null,currentWidget:void 0,setMediaEnabled:!1,allowedPluginOrigin:void 0,resetGlobalPluginAPI:null};function f(){return g.currentPluginRunID}function _(){return o.zl.get(c.GR)}function y(e){(0,s.kF)("pluginId",null==e?void 0:e.plugin_id),o.zl.set(c.GR,e)}function E(e){(0,s.kF)("pluginTriggeredFrom",e),o.zl.set(c.vT,e??null)}function b(e){o.zl.set(c.$f,e)}function v(){return Math.random().toString(36).slice(2)}function S(e){(0,d.nl)(),(0,s.$D)(l.e.EXTENSIBILITY,e)}function I(e,r){(null==m?void 0:m.type)==="plugin"&&(null==r?void 0:r.ignorePreviousCloseFunc)!==m.closePluginFunc&&S(Error(`Did not close the previous plugin: type=${m.type}`)),(null==m?void 0:m.type)==="global"&&S(Error(`Did not close the previous plugin: type=${m.type}`)),m=e?{type:"plugin",closePluginFunc:e}:null}async function T(e){if(m){let{closePluginFunc:r,type:n}=m;m=null,"global"===n?await r():await r(e)}}let w=(0,p.n)(async e=>{await T(e?{message:e+"",isError:!0}:{}),C()});function C(){var e;if((0,h.Tj)(void 0),g.currentWidget=void 0,y(null),E(null),b(null),g.currentPluginRunID=null,g.stats=null,o.zl.set(c.d4,null),o.zl.set(c.GR,null),i.eD&&g.setMediaEnabled&&(g.setMediaEnabled=!1),i.eD&&g.allowedPluginOrigin&&(i.eD.removeAllowedPluginOrigin(g.allowedPluginOrigin),g.allowedPluginOrigin=void 0),a.D){let r=(0,u.o8)(),n=(0,u.YR)();r&&n&&(null==(e=g.resetGlobalPluginAPI)||e.call(g,{userID:r,openFileKey:n}))}}},24589:(e,r,n)=>{"use strict";let i,a;n.d(r,{z:()=>c});var o=n(208);let s=new Map,l=0,d=RegExp("^[#|@] sourceMappingURL=(.*)");async function c(e){let r=await (a||(a=(i||(i=o.Ay.crossOriginGetAny("https://static.figma.com/scripts/esprima-4.0.1.min.js",null,{raw:!0}).then(e=>e.response+"")).catch(()=>i=void 0),i).then(e=>{let r=`
        function getRelativeSourceMapUrlRanges(comments) {
          const ranges = [];
          for (const comment of comments) {
            if (comment.type !== 'Line') {
              continue;
            }

            const match = comment.value.match(${d});
            if (match) {
              try {
                const sourceMapUrl = new URL(match[1]);
              } catch (e) {
                // Not a valid url for source maps
                ranges.push(comment.range);
              }
            }
          }
          return ranges;
        };

        onmessage = function(e) {
          const id = e.data[0];
          try {
            const parsed = esprima.parse(e.data[1], { comment: true, range: true });
            const rangesToRemove = getRelativeSourceMapUrlRanges(parsed.comments);
            postMessage([id, { success: true, rangesToRemove }]);
          } catch (e) {
            e = {
              index: e.index,
              description: e.description,
              column: e.column, // Annoyingly, this is non-enumerable
              lineNumber: e.lineNumber
            };
            postMessage([id, { success: false, error: e }]);
          }
        };
      `,n=URL.createObjectURL(new Blob([e,r])),i=new Worker(n);return i.onmessage=e=>{let[r,i]=e.data,a=s.get(r);void 0!==a&&(s.delete(r),a(i)),URL.revokeObjectURL(n)},i})).catch(()=>a=void 0),a);return new Promise(n=>{let i=l++;return s.set(i,n),r.postMessage([i,e]),{success:!0}})}},85334:(e,r,n)=>{"use strict";n.d(r,{HB:()=>k,Ph:()=>h,T0:()=>v,Up:()=>F,eZ:()=>M,sA:()=>U,xp:()=>x,yb:()=>B});var i=n(66712),a=n(30637),o=n(76485);let s="1039957324840667051",l="1042072203439057981",d="1017757619521383731",c="1037692671113105119",u="1030479012894344777",p="1100947233945489758",h="1274481464484630971",m="1220512233196109878",g="1220802563996996107",f="1221187540287746170",_="1029476790898052743",y="1270487405418367065",E="1028089855820989707",b="1100944790471783866",v="1268676638869538880",S="1217135789855512677",I="1217657098906612843",T={[s]:o.Kd,[l]:o.Kd,[d]:o.Kd,[c]:o.Kd,"1096460041736534298":["analytics"],[m]:["analytics","openexternal"],[g]:["analytics","filekey","openexternal"],"1098405969270214551":["analytics","filekey","openexternal"],"1151936790942917527":["analytics","openexternal"],"1101944648482192724":["analytics","openexternal"],"1094001923188252679":["analytics","filekey","openexternal"],[u]:o.Kd,[p]:o.Kd,"1030848035996871692":["hidecursors"],"1030845409121640454":["hidecursors"],[h]:["cortex","analytics"],[f]:["filekey"],"857346721138427857":["filekey"],"745330164019088593":["filekey"],"1340067847030742527":["cortex","analytics","filekey","firstdraft"]},w={[s]:"https://recordwidget.vimeocdn.com",[l]:"https://recordwidget.vimeocdn.com",[d]:"https://recordwidget.vimeocdn.com",[c]:"https://recordwidget.vimeocdn.com",[u]:"https://www.figma.com",[p]:"https://www.figma.com"},C={"1034777534804649640":["analytics"],"1301665612022689456":["analytics","cortex"],[S]:["analytics","openexternal"],[I]:["analytics","filekey","openexternal"],"1271502283792345209":["cortex"],"1326353654536428586":["cortex"],"1094384373580076374":["analytics","filekey","openexternal"],"1149460326641202255":["analytics","openexternal"],"1101526018404272582":["analytics","openexternal"],"1131307276886895456":["analytics","filekey","openexternal"],[_]:o.Kd,[y]:o.Kd,[E]:o.Kd,[b]:o.Kd,"1256428543638612749":["cortex"],[v]:["cortex","analytics"],"1277056884710848803":["cortex","analytics"],"1265815812125155376":["hidecursors"],"1029480467793180296":["hidecursors"],"1276624117086983457":["cortex"],"1313947182028153675":["cortex","analytics","filekey","firstdraft"],"1308848962842011451":["cortex","analytics","filekey","firstdraft"],"1338915561589337295":["cortex","analytics","filekey","firstdraft"],"1342184095219254574":["cortex","analytics","filekey","firstdraft"],"1248327534194310871":["openexternal"],"1247608093818933926":["openexternal"],"1098668453462136230":["analytics"],"1098643145465550199":["analytics","filekey","openexternal"],"1159008294965494982":["analytics","openexternal"],"1105998388939381214":["analytics","openexternal"],"1098069144593389942":["analytics","filekey","openexternal"],"1065825789137646656":o.Kd,"1105998344712102365":o.Kd,"1065825795062708289":["hidecursors"],"1065825813933952067":["hidecursors"]},A={[S]:"https://static.figma.com/uploads/83e16c32f7fbe88022ff9fcff130cdd6c6423861"},N={[m]:"https://static.figma.com/uploads/83e16c32f7fbe88022ff9fcff130cdd6c6423861"},O={[_]:"https://staging.figma.com",[y]:"https://staging.figma.com",[E]:"https://staging.figma.com",[b]:"https://staging.figma.com"},R=new Set([S,I]),P=new Set([m,g,f,"1220851659530313303"]),L={},D={};function M(e){return"prod"===(0,i.tl)().cluster_name?e in w||e in T:"staging"===(0,i.tl)().cluster_name?e in O||e in C:(0,a.nl)()||(0,a.Lg)()?e in L:!!(0,i.IX)()}function k(e){return"prod"===(0,i.tl)().cluster_name?e in w?w[e]:void 0:"staging"===(0,i.tl)().cluster_name?e in O?O[e]:void 0:(0,a.nl)()||(0,a.Lg)()?e in L?L[e]:void 0:(0,i.IX)()?"*":void 0}function x(e){if(!M(e))throw Error("Untrusted pluginID");return"prod"===(0,i.tl)().cluster_name?new Set(T[e]??[]):"staging"===(0,i.tl)().cluster_name?new Set(C[e]??[]):(0,a.nl)()||(0,a.Lg)()?new Set(D[e]??[]):(0,i.IX)()?new Set(o.UX):new Set}function F(){return"prod"===(0,i.tl)().cluster_name?P:"staging"===(0,i.tl)().cluster_name?R:((0,a.nl)()||(0,a.Lg)()||(0,i.IX)(),new Set)}function U(e){return"prod"===(0,i.tl)().cluster_name?N[e]:"staging"===(0,i.tl)().cluster_name?A[e]:void 0}function B(e){return"prod"===(0,i.tl)().cluster_name?"1286792998372727741"===e:"staging"===(0,i.tl)().cluster_name?"1286790870036328880"===e:!!((0,a.nl)()||(0,a.Lg)())||!!(0,i.IX)()}},46869:(e,r,n)=>{"use strict";n.d(r,{ng:()=>i,uU:()=>f});var i,a=n(17068),o=n(81912),s=n(66712),l=n(40908),d=n(99506),c=n(43987),u=n(28467),p=n(86060),h=n(7465);let m="pro_trials_v3",g=d.GP.PRO_TRIAL,f="exp_pro_trials_v3_start_trial";(e=>{e.uxEnabled=()=>!!(0,s.kc)().pro_trials_v3_ux,e.entryEnabled=()=>(0,e.uxEnabled)()&&!!(0,s.kc)().exp_pro_trials_v3,e.expiryEnabled=()=>(0,e.uxEnabled)()&&!!(0,s.kc)().pro_trials_v3_expiry,e.isUserInVariant=l.wN,e.getTrackingProperties=function(e){return e?{productArea:m,text:e}:{productArea:m}},e.getProTrial=function(e,i,a){if(!e)return null;let o=n(e);if(!o)return null;let s=new Date(e.grace_period_end),l=r(s),d=e.id;return{status:o,isOwner:i,userCanEditTeam:(0,u.canEditTeam)(d,a),trialExpiresAt:s,daysLeft:l,teamId:d}},e.getUpgradableProTrials=function(r,n){let i=Object.values(n.teams),s=(0,a.WI)(i.map(i=>{var a;return e.getProTrial(i,!!(null==(a=r[i.id])?void 0:a[f]),n)})),l=s.filter(e=>e.status===p.a.TRIAL_EXPIRED&&e.userCanEditTeam);l.sort((e,r)=>(0,o.A)(e.trialExpiresAt).diff(r.trialExpiresAt));let d=s.filter(e=>e.status===p.a.IN_TRIAL&&e.userCanEditTeam);return d.sort((e,r)=>(0,o.A)(e.trialExpiresAt).diff(r.trialExpiresAt)),{ongoingTrials:d,expiredTrials:l}},e.getEligibleProTrialTeams=function(r,n,i,a){let o=(0,c.Rx)(i),s=Object.values(i.teams).filter(s=>e.canStartProTrial(r,n,o,s,i,a));return s.sort((e,r)=>r.editors-e.editors),s},e.canStartProTrial=function(r,n,i,a,s,l){return!(!r||!e.entryEnabled()||(0,c.w5)(a)||a.stripe_customer_id||!n||i||!(0,u.canEditTeam)(a.id,s)||30>(0,o.A)().utc().diff((0,o.A)(r.created_at).utc(),"days",!0)||(0,o.A)().utc().diff((0,o.A)(r.created_at).utc(),"days",!0)>90||e.getProTrialStatus(a)||Object.keys(l).some(e=>!!l[e][f]))&&!!e.isUserInVariant(r.id)};let r=e=>Math.max(Math.ceil((0,o.A)(e).diff((0,o.A)(),"days",!0)),0);function n(r){return(0,e.uxEnabled)()&&r.grace_period_end&&r.grace_period_type&&g===r.grace_period_type?new Date(r.grace_period_end)<new Date?p.a.TRIAL_EXPIRED:p.a.IN_TRIAL:null}function i(e){return!!e&&e.status===p.a.IN_TRIAL&&e.userCanEditTeam}e.getProTrialStatus=n,e.isEligibleTrialEntryView=function(e){return"folder"===e.view||"team"===e.view||(0,h.K)(e)},e.canSeeProTrialUx=i,e.canSeeProTrialUxInFile=function(e,r){return i(e)&&(null==r?void 0:r.editorType)&&(null==r?void 0:r.canEdit)},e.canSeeProTrialExpiryUx=function(r){if(!(0,e.expiryEnabled)()||!r||r.status!==p.a.TRIAL_EXPIRED)return!1;let n=(0,o.A)().utc().diff((0,o.A)(r.trialExpiresAt).utc(),"days",!0);return!(n<0)&&n<7},e.canSeeExpiredProTrialBanner=function(r,n,i){var a;if(!n)return!1;let o=!!(null==(a=r[n.id])?void 0:a[f]),s=e.getProTrial(n,o,i);return e.canSeeProTrialExpiryUx(s)}})(i||(i={}))},94500:(e,r,n)=>{"use strict";n.d(r,{UG:()=>h,Zd:()=>g});var i=n(35283),a=n(66712);n(98750),n(63706);var o=n(76621),s=n(4783),l=n(80820),d=n(38269);n(63508);var c=n(88022);n(56390);var u=n(52800);n(48661),n(99506);var p=n(7465);let h=.2;(0,l.nF)((e,r)=>{if(r.userInitiated){let n={scalingMode:r.scalingMode};e.dispatch(m({name:"Prototype Scale Changed",params:n}))}let n=e.getState().selectedView;if("prototype"===n.view){let i={...n,scalingMode:r.scalingMode};e.dispatch(d.$T(i))}}),(0,l.nF)((e,{showHotspots:r})=>{let n=e.getState().selectedView;if(n&&"prototype"===n.view){let i={...n,showHotspots:r};e.dispatch(d.$T(i))}}),(0,l.nF)((e,{showDeviceFrame:r})=>{let n=e.getState().selectedView;(0,i.B1)(n,"selectedView must be defined to set device frame"),(0,i.vA)("prototype"===n.view,"must be in the view to set device frame");let a={...n,showDeviceFrame:r};e.dispatch(d.$T(a))});let m=(0,l.nF)((e,r)=>{let n=e.getState(),i=r.params||{},a=(0,p.U2)(n.selectedView);c.ds(r.name,a,n,i)});function g(){if(!u.Ez5)return!!(0,a.kc)().prototype_modality;let e=u.Ez5.editorPreferences().enablePrototypingTabMerge.getCopy();return!!(0,a.kc)().prototype_modality&&e}(()=>{let e=(0,l.nF)((e,r)=>{let n=e.getState(),i=r.params||{},a=(0,p.U2)(n.selectedView);if(!a){(0,o.$D)(s.e.PROTOTYPING,Error("No file key for prototype event"));return}c.GS(r.name,a,n,i)});return({name:r,params:n})=>e({name:r,params:n})})()},49774:(e,r,n)=>{"use strict";n.d(r,{LT:()=>h,ZK:()=>m,lD:()=>p});var i=n(98977),a=n(66712),o=n(51158),s=n(79940),l=n(87918),d=n(52800),c=n(53381),u=n(21487);function p(e,r,n,o,p,h){var m;let g={},f=(0,s.qg)(i.Ay.location.search);for(let e in f)""!==e&&(g[e]=f[e]);return e.scalingMode&&(g.scaling=e.scalingMode),e.pageId&&l.fn(l.sH(e.pageId))&&(g["page-id"]=e.pageId),e.nodeId&&l.fn(l.sH(e.nodeId))&&(g["node-id"]=(0,u.E)(e.nodeId)),e.startingPointNodeId&&l.fn(l.sH(e.startingPointNodeId))&&(g["starting-point-node-id"]=e.startingPointNodeId),(0,a.kc)().ps_benchmark?r&&n&&(g["prev-plan-id"]=r,g["prev-plan-type"]=n):r&&(g["prev-org-id"]=r),e.prevSelectedView&&(g["prev-selected-view"]=e.prevSelectedView.view,"recentsAndSharing"===e.prevSelectedView.view?g["prev-tab"]=e.prevSelectedView.tab:"folder"===e.prevSelectedView.view&&(g["folder-id"]=e.prevSelectedView.folderId)),e.disableDefaultKeyboardNav?g["disable-default-keyboard-nav"]="1":delete g["disable-default-keyboard-nav"],e.hideUI?g["hide-ui"]="1":delete g["hide-ui"],e.showProtoSidebar||void 0===e.showProtoSidebar&&(null==(m=d.X3B)?void 0:m.isViewerSidebarShownByDefault())?g["show-proto-sidebar"]="1":delete g["show-proto-sidebar"],null==e.showHotspots||e.showHotspots?delete g["hotspot-hints"]:g["hotspot-hints"]="0",null==e.showDeviceFrame||e.showDeviceFrame?delete g["device-frame"]:g["device-frame"]="0",e.inlinePreview?g["inline-viewer"]="1":delete g["inline-viewer"],e.versionId&&(g["version-id"]=e.versionId),delete g.mode,delete g.fuid,o&&(g.t=o),(0,c.i)()&&h&&(g.presenter="true"),g}function h(e,r,n){var i;let l=p(e,r,n),d=[];return(0,a.kc)().ps_benchmark?(r||n)&&(d.push("prev-plan-id"),d.push("prev-plan-type")):r&&d.push("prev-org-id"),e.prevSelectedView&&(d.push("prev-selected-view"),"recentsAndSharing"===e.prevSelectedView.view?d.push("prev-tab"):"folder"===e.prevSelectedView.view&&d.push("folder-id")),i=l,d.forEach(e=>{delete i[e]}),l=i,(0,o.Im)(l)?"":`?${(0,s.lF)(l)}`}function m(e){return e?`#${encodeURIComponent(e)}`:""}},16081:(e,r,n)=>{"use strict";n.d(r,{H4:()=>u,Ud:()=>c,XY:()=>h,cZ:()=>m});var i=n(11855),a=n(88507),o=n(29019),s=n.n(o),l=n(35283),d=n(22358);let c=Symbol("NotVisibleRunAnyway");class u{constructor(e){this._callback=e,this._previousValue=null}render({isVisible:e,className:r,displayAs:n,valueArgs:a=[]}){let o=!0===e||e===c?this._previousValue=this._callback(...a):this._previousValue,s=!0===e;return o instanceof Array?o.map((e,a)=>e&&i.createElement(p,{key:e.key??a,isVisible:s,className:r,displayAs:n},e)):o&&i.createElement(p,{key:o.key??void 0,isVisible:s,className:r,displayAs:n},o)}}class p extends i.Component{constructor(){super(...arguments),this.ref=e=>{this.el=e}}componentDidUpdate(e){this.el&&(!e.isVisible&&this.props.isVisible&&d.F2.focusSubtreeIfNecessary(this.el),e.isVisible&&!this.props.isVisible&&d.F2.blurSubtreeIfNecessary(this.el))}getClassNameForDisplayAs(){let{displayAs:e}=this.props;switch(e){case"block":return"";case"contents":return"displayContents";default:(0,l.xb)(e)}}render(){let{isVisible:e}=this.props,r=s()(this.props.className?this.props.className:"cachedSubtree",this.getClassNameForDisplayAs());return i.createElement("div",{ref:this.ref,className:r,style:{display:e?"":"none"}},this.props.children)}}p.defaultProps={displayAs:"contents"},p.displayName="CachedSubtreeComponent";let h=(0,a.Ng)(void 0,e=>({dispatch:e}));function m(e,r){"function"==typeof e?e(r):e&&(e.current=r)}},46778:(e,r,n)=>{"use strict";n.d(r,{gi:()=>i});let i=new Promise(e=>{})},20741:(e,r,n)=>{"use strict";n.d(r,{N:()=>a});var i=n(82976);function a(e,r,n,a){r.dispatch(i.Cx({key:n})),e.then(()=>{r.dispatch(i.x2({key:n}))}).catch(e=>{a&&r.dispatch(i.SI({key:n,reason:a(e)||null})),r.dispatch(i.of({key:n}))})}},29815:(e,r,n)=>{"use strict";n.d(r,{Hz:()=>T,FZ:()=>w});var i=n(84934),a=n(44780),o=n(20188),s=n(85052),l=n(38329),d=n(66712),c=n(94190),u=n(65482),p=n(97395),h=n(76621),m=n(4783),g=n(52800),f=n(63060),_=n(39319),y=n(60640),E=n(97666);let b=new class{constructor(){this.roundTripTimes=[],this.report=(0,E.s)(()=>{let e=0;this.roundTripTimes.forEach(r=>e+=r);let r=Math.round(1e3*e/this.roundTripTimes.length);this.roundTripTimes=[],(0,u.aD)("performance.multiplayer.round_trip_time",r)},6e4)}reportMultiplayerRoundTripTime(e){this.roundTripTimes.push(e),this.report()}};var v=n(876),S=n(88022),I=n(37499);class T{constructor(){this.events=new s.b("fullscreen"),(0,h.Z8)(this.trackFromFullscreen.bind(this))}trackFromFullscreen(e,r,n,a,o){(0,i.NP)(e,A(r),{forwardToDatadog:n,batchRequest:o??void 0})}trackDefinedEventFromFullscreen(e,r){i.az.trackDefinedFullscreenEvent(e,A(r))}resetDefinedAnalyticsForDocument(){i.az.resetDefinedAnalyticsForDocument()}slogFromFullscreen(e,r,n,i,a,o,s){return(0,h.fj)(e,r,n,i,a,o,s)}reportContextLost(){(0,c.ai)()}reportContextRestored(){(0,c.kJ)(),f.JA()}reportRenderLayerCount(e){f.Cd(e)}reportIndependentLayerAnimationActive(){f.sl()}reportNonIndependentLayerAnimationActive(){f.Zp()}reportRenderedTileBytesUsed(e){f.P2(e)}reportAnimationFromCpp(){f.w4()}reportAnimationFromTs(){f.E7()}reportDirtyAfterLoad(e){let r=(0,d.b5)();(0,i.sx)("dirty_after_load",{registersDump:g.h3O.pendingRegistersDump(r).substring(0,1e4),sessionID:e}),(0,c.f1)()}reportConsecutiveFlushes(){(0,c.$G)()}reportConsecutiveImageChangeSkips(){(0,c.S)()}reportPerfEvent(e){switch(e){case g.rau.AFTER_FIRST_RENDER:(0,c.s$)("AFTER_FIRST_RENDER"),y.xK.start("AFTER_FIRST_RENDER");break;case g.rau.DOCUMENT_STARTED_SAVING:(0,c.s$)("DOCUMENT_STARTED_SAVING");break;case g.rau.DOCUMENT_FINISHED_SAVING:(0,c.s$)("DOCUMENT_FINISHED_SAVING")}}reportContextRestore(){this.events.trigger("context-restore")}reportMultiplayerRoundTripTime(e){b.reportMultiplayerRoundTripTime(e)}reportBranchingLoadTime(e,r,n,a,o,s){let l={branchFileKey:a,sourceFileKey:n,durationMs:1e3*e,loadType:v.ap.GRANULAR,functionName:r,profileStep:v.NQ.CPP_ONLY,branchModalTrackingId:s};o&&(l={diffType:o,...l}),(0,i.sx)("Branch Modal Load Time",l)}reportQuantizedColorEqualsUse(e,r,n,a,s,l,d,c){let u={...(0,o.I)(Error().stack),color1:JSON.stringify({r:e,g:r,b:n,a:a}),color2:JSON.stringify({r:s,g:l,b:d,a:c})};(0,i.sx)("quantized_color_equal_use",u)}tryReportError(e){(0,h.$D)(m.e.SCENEGRAPH_AND_SYNC,Error(e))}startPerfTimer(e){a.Q4.has(e)&&a.rH.start(e),y.Qw.has(e)&&y.xK.startFs(e)}stopPerfTimer(e){a.Q4.has(e)&&a.rH.stop(e),y.Qw.has(e)&&y.xK.stopFs(e)}startOpsTimer(e,r){a.sn.start(e,{key:null===r?void 0:r})}stopOpsTimer(e,r){return a.sn.stop(e,null===r?void 0:r)}createDistribution(e,r){a.Vq.create(e,r)}addToDistribution(e,r){a.Vq.add(e,r)}resetDistribution(e){a.Vq.reset(e)}getDistributionAnalyticsProperties(e){return a.Vq.analyticsProperties(e)}removeDistribution(e){a.Vq.remove(e)}tryStopOpsTimer(e,r){return a.sn.tryStop(e,null===r?void 0:r)}pauseOpsTimer(e,r){return a.sn.pause(e,null===r?void 0:r)}resumeOpsTimer(e,r){return a.sn.resume(e,null===r?void 0:r)}trySetAttributeOpsTimer(e,r,n,i){return a.sn.trySetAttribute(e,null===r?void 0:r,n,i)}tryGetAttributesOpsTimer(e,r){return a.sn.tryGetAttribute(e,null===r?void 0:r)}getOpsTimer(e,r){var n;return(null==(n=a.sn.report().get(e))?void 0:n.get(null===r?void 0:r))||null}logNumericMetric(e,r){for(let n of c.Ad)if(e.startsWith(n)){(0,u.S3)(e,r);break}_.N.isNumberEvent(e)&&_.N.loadTimer.logEvent(e,r),"receiveNodeChanges"===e&&y.xK.logNodeChangeMsg(r)}logStringMetric(e,r){_.N.isStringEvent(e)&&_.N.loadTimer.logEvent(e,r),y.Qw.has(e)&&y.xK.startFs(e)}handleAllocationFailureWithNative(e){let r=(0,I.Rf)();return null!=r&&!!r.handleAllocationFailure&&(r.handleAllocationFailure(e),r.handleAllocationFailure=void 0,!0)}}let w=new T,C=(0,p.P8)([({openFile:e,fileByKey:r,selectedView:n})=>{let i=null==e?void 0:e.key,a=i&&r&&r[i]||null;return{key:i,teamId:null==a?void 0:a.team_id,creatorId:null==a?void 0:a.creator_id,productType:(0,S.v5)(n,a&&a.editor_type)}}],({key:e,teamId:r,creatorId:n,productType:i})=>({file_key:e||"new",file_team_id:r||null,file_owner_user_id:n||null,productType:e&&i}));function A(e){var r,n,i;e??(e={});let a=l.D.getState();return Object.assign(e,C(a)),Object.assign(e,(0,S.Nb)(e.productType,null==(r=a.selectedView)?void 0:r.view)),y.xK.loadID()&&(e.loadID=y.xK.loadID()),e.fileIsIncremental=null!=(n=g.h3O)&&!!n.isIncrementalSession(),e.fileIsValidatingIncremental=null!=(i=g.h3O)&&!!i.isValidatingIncremental(),e.lazify_more_defaults=!!(0,d.kc)().lazify_more_defaults,e}},89643:(e,r,n)=>{"use strict";n.d(r,{Uj:()=>h,Wj:()=>m,Zm:()=>g,bp:()=>p,xN:()=>u});var i=n(36500);n(29403);var a=n(99506),o=n(63592);n(68860);var s=n(44950);n(17068);var l=n(41717),d=n(31827);let c={};async function u(e,r){let n=`team-${e}`;if(!c[n]){let o=await s.G.getRoles({resourceType:a.vt.TEAM,resourceId:e});o.data.meta&&(r.dispatch(i.uo({roles:o.data.meta})),c[n]=!0)}}function p(e,r,n){let i={};for(let r in e)i[e[r].id]=r;let a=new Set;for(let e of(a.add(r.email),n)){let r=e.user.email??(e.user.id&&i[e.user.id]);r&&a.add(r)}return a}function h(e,r,n,i,a,s=!1){let l={};if(a)for(let e of a)l[e.email]=e;let d={...r,...l},c=p(r,n,i);for(let r of e.tokens)c.add("string"==typeof r.content?r.content.trim():r.content.email);let u=new o.Ef([],{keys:["handle","email"],threshold:0,tokenize:!0,matchAllTokens:!0}),h=Object.keys(d).map(e=>{let r=d[e];return{...r,email:r.email.trim(),handle:r.handle.trim()}});return""===e.inputValue&&s?h.filter(e=>!c.has(e.email)):(u.set(h),u.search(e.inputValue).filter(({email:e})=>!c.has(e)))}async function m(e,r,n,i,a,o,s,l,c){let u=p(r,n,i);for(let r of e.tokens)u.add("string"==typeof r.content?r.content.trim():r.content.email);let h=(0,d.mp)({currentOrgId:a,teamId:o,isOrgGuest:l,users:[],fileKey:s,maxResultsCount:10,isShareModal:!0}),m=(await h.library.search(e.inputValue)).map(e=>e).filter(({email:e})=>!!e&&!u.has(e));return c?m.slice(0,c):m}function g(e,r,n){var i;return(null==(i=e.user)?void 0:i.email)?e.user.email:e.user_id?(0,l.o7)(e.user_id,r,n):void 0}},73131:(e,r,n)=>{"use strict";n.d(r,{J:()=>d,m:()=>c});var i=n(83297),a=n(208),o=n(88276),s=n(31913),l=n(14809);async function d(e,r="",n="",d,c=!1){c&&await (0,l.l)();let{data:{meta:u}}=await a.Ay.post(`/api/multiplayer/${e}/create_savepoint`);return d(s.BC({history:{versions:[u]},direction:i.mL})),d(s.A9({status:!1})),d(o.D({fileKey:e,savepointID:u.id,label:r,description:n})),u}async function c(e,r="",n="",i,a=!1){return null!=e?await d(e,r,n,i,a):null}},55880:(e,r,n)=>{"use strict";n.d(r,{Fk:()=>_,hr:()=>y,x3:()=>E});var i=n(11855),a=n(75515),o=n(41860),s=n(79296),l=n(41563),d=n.n(l),c=n(31664),u=n(66712),p=n(52800);function h(e,r){return null===r?null===e||0===e.length:d()(e,r)}function m(e){if((0,u.kc)().scenegraph_hooks_incr_rev_num)return"function"==typeof e.getRevisionNumber?e.getRevisionNumber():p.Y8A.getRevisionNumber();if("function"==typeof e.getRevisionNumber)return e.getRevisionNumber();if("number"==typeof e.revisionNumber__DEPRECATED)return e.revisionNumber__DEPRECATED;throw Error("Scene does not have revision number")}class g{constructor(e,r,n=!1){this.lastArgs=null,this.lastValue=null,this.lastSceneInstance=null,this.lastRevision=null,this.lastSceneInstance=e,this.scene=e,this.computeValue=r,this.deepEqual=n}checkForUpdates(e){let r=this.scene!==this.lastSceneInstance,n=m(this.scene);if(null===this.lastRevision||this.lastRevision!==n||!h(e,this.lastArgs||null)||r){this.lastSceneInstance=this.scene,this.lastArgs=e;let r=this.computeValue(this.scene,...e);this.deepEqual&&(0,c.c2)(r,this.lastValue)||(this.lastValue=r),this.lastRevision=n}}readValue(...e){return this.checkForUpdates(e),this.lastValue}subscribe(e){return this.scene.onChange(e)}}class f{constructor(e,r){this.lastArgs=null,this.lastValue=null,this.lastSceneInstance=null,this.lastRevision=null,this.lastSceneInstance=e,this.scene=e,this.computeValue=r}checkForUpdates(e){let r=this.scene!==this.lastSceneInstance,n=m(this.scene);(null===this.lastRevision||this.lastRevision!==n||!h(e,this.lastArgs||null)||r)&&(this.lastSceneInstance=this.scene,this.lastArgs=e,this.lastValue=this.computeValue(this.scene,...e))}readValue(...e){return this.checkForUpdates(e),this.lastValue}subscribe(e){return this.scene.onChange(e)}}function _(e,...r){return function(e,r,...n){let a=(0,i.useRef)(new g(o.qo.instance,r,e)),s=(0,i.useCallback)(()=>a.current.readValue(...n),[a,...n]);return(0,i.useSyncExternalStore)(e=>a.current.subscribe(e),s)}(!1,e,...r)}let y=(0,s.D)((e,...r)=>{let n=(0,i.useRef)(new f(o.qo.instance,e)),a=(0,i.useCallback)(()=>n.current.readValue(...r),[n,...r]);return(0,i.useSyncExternalStore)(e=>n.current.subscribe(e),a)});function E(e,...r){let n=(0,a.hk)(),o=(0,i.useRef)(n?new g(n,e):null),s=(0,i.useCallback)(()=>o.current?o.current.readValue(...r):null,[o,...r]);return(0,i.useSyncExternalStore)(e=>o.current?o.current.subscribe(e):()=>{},s)}},63592:(e,r,n)=>{"use strict";let i;n.d(r,{CN:()=>p,Ef:()=>c,KH:()=>u});var a=n(74283),o=n.n(a),s=n(32001),l=n(30637);let d=0;class c{constructor(e,r={}){this.options={...r,includeScore:!1},this.sourceList=e,this.fuse=new(o())(e,this.options)}set(e){this.fuse=new(o())(e,this.options),this.sourceList=e}list(){return[...this.sourceList]}search(e){return this.fuse.search(e.trim())}}class u{constructor(e={}){this.fuse=null,this.libraryId=d++,this.options={...e,includeScore:!0},this.sourceList=[]}set(e){let r=h();if(r){let n={type:"INIT",list:e,libraryId:this.libraryId,options:this.options};r.postMessage(n)}else this.fuse=new(o())(e,this.options);this.sourceList=e}list(){return[...this.sourceList]}search(e){let r=h();return(e=e.trim(),r)?new Promise(n=>{let i=f(n),a={type:"SEARCH",libraryId:this.libraryId,pattern:e,messageId:i};r.postMessage(a)}):this.fuse?Promise.resolve(this.fuse.search(e)):Promise.resolve([])}}class p{constructor({exactMatch:e,...r}={}){this.fuse=null,this.libraryId=d++,this.exactMatch=e??!1,this.options={...r,useExtendedSearch:this.exactMatch}}set(e){let r=h();if(r){let n={type:"INIT",list:e,libraryId:this.libraryId,options:this.options,newFuse:!0};r.postMessage(n)}else this.fuse=new s.A(e,this.options)}search(e){let r=h();return("string"==typeof e&&(e=this.exactMatch?`'"${e.trim()}"`:e.trim()),r)?new Promise(n=>{let i=f(n),a={type:"SEARCH",libraryId:this.libraryId,pattern:e,messageId:i,newFuse:!0};r.postMessage(a)}):this.fuse?Promise.resolve(this.fuse.search(e)):Promise.resolve([])}add(e){var r;let n=h();if(n){let r={type:"ADD",doc:e,libraryId:this.libraryId};n.postMessage(r)}else null==(r=this.fuse)||r.add(e)}remove(e,r){var n;let i=h();if(i){let n=r[e],a={type:"REMOVE",key:e,id:n,libraryId:this.libraryId};i.postMessage(a)}else null==(n=this.fuse)||n.remove(n=>n[e]===r[e])}updateEntries(e,r,n){var i,a;let o=h();if(o){let i={type:"UPDATE",removeKey:e,removeList:r,addList:n,libraryId:this.libraryId};o.postMessage(i)}else{for(let n of r)null==(i=this.fuse)||i.remove(r=>r[e]===n);for(let e of n)null==(a=this.fuse)||a.add(e)}}logIndex(){let e=h();if(e){let r={type:"LOG",libraryId:this.libraryId};e.postMessage(r)}}}function h(){if(!(0,l.Lg)())return i||((i=new Worker(Fig.librarySearchWorkerURL)).onmessage=e=>{if("SEARCH_RESULTS"===e.data.type){let r=e.data.messageId,n=g[r];n&&(n(e.data.results),delete g[r])}}),i}let m=0,g={};function f(e){let r=m++;return g[r]=e,r}},7465:(e,r,n)=>{"use strict";n.d(r,{Iu:()=>D,K:()=>x,Np:()=>w,U2:()=>k,YP:()=>P,vU:()=>L,xS:()=>T,zg:()=>M});var i=n(58204),a=n(66712),o=n(79940),s=n(87729),l=n(39671);n(8902);var d=n(35938),c=n(24780),u=n(38880),p=n(7956),h=n(90806),m=n(30845),g=n(46456),f=n(79408),_=n(1842),y=n(92208),E=n(97982),b=n(91387),v=n(26658),S=n(35757);let I=new s.k([new _.$T,new f.f,new p.YY,new g.a,new y.m,new c.Bc,new E.G,new b._,new m.N,new h.u,new u.i,new v.v]);function T(e,r){return new URL(w(e,r),document.baseURI).href}function w(e,r){return I.selectedViewToPath(r,e)}let C=["drafts","fonts","libraries","search","settings","plugins","widgets","user"].concat(_.nw),A=RegExp(`^/files/([0-9]+)/(?:${C.join("|")})(.*)$`),N=RegExp(`^/files/team/([0-9]+)/(?:${C.join("|")})(.*)$`),O=(e,r,n)=>{let i=e.split("/");return!i[1]||"files"!==i[1]||(0,a.kc)().ps_benchmark&&6===i.length&&"files"===i[1]&&"team"===i[2]&&"restore"===i[5]||(e.match(A)?i.splice(2,1):e.match(N)?i.splice(2,2):(i.length>=3&&r&&i[2]===r&&i.splice(2,1),i.length>=3&&n&&i[3]===n&&i.splice(2,2))),i},R=(e,r)=>{let n=e.split("/");return n[1]&&"files"===n[1]&&(e.match(A)?n.splice(2,1):n.length>=3&&r&&n[2]===r&&n.splice(2,1)),n};function P(e){let r=R(e,(0,S.pk)());return""===r[r.length-1]&&r.splice(r.length-1,1),r}function L(e,r,n,i){let s=[],l=(0,a.kc)().dev_mode_suggested_upgrades&&n&&!!(0,o.qg)(n).devModeSuggestions,d=n&&!!(0,o.qg)(n).dashDeepLink;return(0,a.kc)().ps_benchmark?s=O(r,e.currentUserOrgId,e.currentTeamId):l||d?(s=O(r,e.currentUserOrgId,e.currentTeamId),r.match(N)&&(s[3]=R(r,e.currentUserOrgId)[3])):s=R(r,e.currentUserOrgId),""===s[s.length-1]&&s.splice(s.length-1,1),I.pathToSelectedView(e,s,n,i)||{view:"recentFiles"}}function D(e,r){return I.selectedViewName(r,e)}function M(e){return"fullscreen"===e.view&&e.workshopModeInfoLoaded&&e.workshopModeInfo&&e.editorType===l.nT.Whiteboard&&new Date<e.workshopModeInfo.until||!1}function k(e){var r;switch(e.view){case"fullscreen":return e.fileKey||null;case"mobileViewer":return(null==(r=e.file)?void 0:r.key)||null;case"prototype":return null==e.file&&i.ZQ({data:{selectedView:e}}),e.file.key;default:return null}}function x(e){return"recentFiles"===e.view||"recentsAndSharing"===e.view&&e.tab===d.G.RECENTLY_VIEWED}},32888:(e,r,n)=>{"use strict";n.d(r,{k1:()=>a});var i=n(2245);let a=(0,n(29928).bt)(e=>e.fileByKey);(0,i.Mz)([e=>e.fileByKey],e=>{let r={};for(let n of Object.keys(e)){let i=e[n];i&&(r[n]=i.name)}return r})},9822:(e,r,n)=>{"use strict";function i(e){var r;return null==(r=e.user)?void 0:r.drafts_folder_id}n.d(r,{D:()=>i})},84321:(e,r,n)=>{"use strict";n.d(r,{AC:()=>eX,FZ:()=>er,LD:()=>eu,MH:()=>$,bh:()=>J,cM:()=>W,dM:()=>q,tK:()=>Z,x6:()=>et});var i=n(36149),a=n.n(i),o=n(89865),s=n.n(o),l=n(95977),d=n.n(l),c=n(35645),u=n.n(c),p=n(2691),h=n.n(p),m=n(2245),g=n(17068),f=n(66712),_=n(51158),y=n(97395),E=n(75224),b=n(35682),v=n(49116),S=n(73454),I=n(79145),T=n(75847),w=n(52800),C=n(16095),A=n(43987),N=n(34945),O=n(93223);let R=e=>e.library.libraryPublishingMode,P=e=>{var r,n;return(null==(n=null==(r=e.openFile)?void 0:r.publishedHubFile)?void 0:n.id)??null},L=e=>e.library.openHubFilePublished__LIVEGRAPH.components,D=e=>e.library.openHubFilePublished__LIVEGRAPH.stateGroups,M=e=>e.library.openHubFilePublished__LIVEGRAPH.styles,k=(0,m.Mz)([b.sS,v.V2],(e,r)=>e&&r[e]||{}),x=(0,m.Mz)([b.sS,v.Wg],(e,r)=>e&&r[e]||{}),F=e=>e.library.local.thumbnails,U=e=>e.library.openFilePublished__LIVEGRAPH.styles,B=e=>e.library.openFilePublished__LIVEGRAPH.variableSets,V=(0,m.Mz)([k,U,B],(e,r,n)=>!(0,_.Im)(r)||!(0,_.Im)(e)||!(0,_.Im)(n)),H=(0,m.Mz)([e=>e.library.local.styles,b.sS,R,e=>e.library.publishableStyles,M,P,F],(e,r,n,i,a,o,s)=>{if(n===S.o.HUBFILE&&o){let n=(0,E.lt)(o),{newLocal:l}=(0,C.rC)(C.w8,i,a,e,s,{},r||"",n,new Set,S.PW.STYLE);return l}return e}),G=(0,m.Mz)([U,M,R],(e,r,n)=>n===S.o.HUBFILE?r:e),W=(0,m.Mz)([H,G],(e,r)=>{if(!(0,f.kc)().ds_remove_redux_library_status)return e;let n={};for(let i of Object.values(e)){let e=eg(i,r[i.node_id],e_);n[i.node_id]={...i,status:e}}return n}),z=(0,m.Mz)([e=>e.library.local.components,b.sS,R,L,P,e=>e.library.publishableSymbols,F],(e,r,n,i,a,o,s)=>{if(n===S.o.HUBFILE&&a){let n=(0,E.lt)(a),{newLocal:l}=(0,C.rC)(C.i_,o,i,e,s,{},r||"",n,new Set,S.PW.COMPONENT);return l}return e}),K=(0,m.Mz)([k,L,R],(e,r,n)=>n===S.o.HUBFILE?r:e),j=(0,m.Mz)([function(e){return e.library.local.stateGroups},b.sS,R,D,P,e=>e.library.publishableStateGroups,F],(e,r,n,i,a,o,s)=>{if(n===S.o.HUBFILE&&a){let n=(0,E.lt)(a),{newLocal:l}=(0,C.rC)(C.LB,o,i,e,s,{},r||"",n,new Set,S.PW.STATE_GROUP);return l}return e}),Y=(0,m.Mz)([x,D,R],(e,r,n)=>n===S.o.HUBFILE?r:e),$=(0,m.Mz)([z,K,j,Y],(e,r,n,i)=>{if(!(0,f.kc)().ds_remove_redux_library_status)return e;let a={},o=(e,r)=>{if((null==r?void 0:r.content_hash)!==e.content_hash||!(0,I.pD)(r.name,null==e?void 0:e.name)||!(0,I.pD)(r.description,e.description)||(0,I.Q_)(r.containing_frame,null==e?void 0:e.containing_frame))return!0;let a=(0,C.E2)(e),o=a&&n[a]||null,s=(0,C.E2)(r),l=s&&i[s]||null;return o?!l||ey(o,l):null!=l};for(let n of Object.values(e)){let e=eg(n,r[n.node_id],o);a[n.node_id]={...n,status:e}}return a}),q=(0,m.Mz)([j,Y],(e,r)=>{if(!(0,f.kc)().ds_remove_redux_library_status)return e;let n={};for(let i of Object.values(e)){let e=eg(i,r[i.node_id],ey);n[i.node_id]={...i,status:e}}return n}),Z=(0,y.P8)([e=>{let r={};return Object.entries(e.library.localVariablesById).forEach(([e,n])=>{n.isSoftDeleted||(r[e]=n)}),r},e=>e.library.openFilePublished__LIVEGRAPH.variables,b.tB,R,P,e=>e.library.openHubFilePublished__LIVEGRAPH.variables],(e,r,n,i,a,o)=>{let s={},l=i===S.o.HUBFILE&&a?o:r,d=(null==n?void 0:n.key)??"",c=i===S.o.HUBFILE&&a?(0,E.lt)(a):S.Co;for(let[r,n]of Object.entries(l))e.hasOwnProperty(r)||(s[r]={...n,subscriptionStatus:"LOCAL",isPublishable:!1,modeValues:{},keyForPublish:n.key,status:S.E8.DELETED,deletedFromSceneGraph:!0,isSoftDeleted:!0,file_key:d,library_key:c,hasOnlyBeenReordered:!1});for(let r of Object.values(e)){let e=l[r.node_id],n=eg(r,e,eE);s[r.node_id]={...r,status:n,file_key:d,library_key:c,key:null==e?void 0:e.key,hasOnlyBeenReordered:r&&e&&r.version===e.version&&r.sortPosition!==e.sortPosition}}return s}),X=(0,m.Mz)([Z],e=>a()(Object.values(e),e=>e.variableSetId)),J=(0,y.P8)([e=>{let r={};return Object.entries(e.library.localVariableSetsById).forEach(([e,n])=>{n.isSoftDeleted||(r[e]=n)}),r},B,X,b.tB,R,P,e=>e.library.openHubFilePublished__LIVEGRAPH.variableSets],(e,r,n,i,a,o,s)=>{let l=a===S.o.HUBFILE&&o?s:r,d=(null==i?void 0:i.key)??"",c=a===S.o.HUBFILE&&o?(0,E.lt)(o):S.Co,u={};for(let[r,n]of Object.entries(l))e.hasOwnProperty(r)||(u[r]={...n,subscriptionStatus:"LOCAL",modes:[],defaultModeID:"",isPublishable:!1,keyForPublish:n.key,status:S.E8.DELETED,deletedFromSceneGraph:!0,isSoftDeleted:!0,file_key:d,library_key:c,variableSetError:w.HG$.NONE});for(let r of Object.values(e)){let e=l[r.node_id],i=function(e,r,n){let i=eg(e,r,eb);if(i!==S.E8.CURRENT)return i;for(let e of n)if(e.status!==S.E8.CURRENT&&e.status!==S.E8.NOT_STAGED)return S.E8.CHANGED;return S.E8.CURRENT}(r,e,n[r.node_id]??[]);u[r.node_id]={...r,status:i,file_key:d,library_key:c,key:null==e?void 0:e.key}}return u});(0,m.Mz)([$],e=>{let r={};for(let n of Object.values(e)){let e=(0,C.E2)(n);null!=e&&(r[e]=r[e]??[],r[e].push(n))}return r});let Q=(0,m.Mz)([$],e=>h()(e,e=>!(0,C.ad)(e)));function ee(e,r){return!!r&&!(r.version===e.version&&(0,I.pD)(r.name,null==e?void 0:e.name)&&(0,I.pD)(r.description,e.description))}(0,y.P8)([W],e=>Object.values(e).map(e=>e.key)),(0,y.P8)([W],e=>s()(Object.values(e),"key"));let et=(0,m.Mz)([e=>e.library.local.modules,e=>e.library.openFilePublished__LIVEGRAPH.modules],(e,r)=>{if(!(0,f.kc)().dse_module_publish)return{};let n={};for(let i of Object.values(e)){let e=eg(i,r[i.node_id],ee);n[i.node_id]={...i,status:e}}return n});(0,m.Mz)([et],e=>(0,f.kc)().dse_editor_templates_v1?Object.fromEntries(Object.entries(e).filter(([,e])=>e.moduleSource===w.QjO.EDITOR_TEMPLATE)):{});let er=(0,m.Mz)([Q,q],(e,r)=>({...e,...r}));(0,m.Mz)([er],e=>Object.values(e).filter(e=>(0,C.HF)(e.status)));let en=(0,m.Mz)([er],e=>d()(e,e=>(0,C.CG)(e))),ei=(0,m.Mz)([er],e=>Object.values(e).some(e=>(0,C.HF)(e.status))),ea=(0,m.Mz)([et],e=>Object.values(e).some(e=>(0,C.HF)(e.status)));(0,m.Mz)([ei,ea],(e,r)=>e||r);let eo=(0,m.Mz)([er,N.Xt],(e,r)=>Object.keys(r).reduce((r,n)=>(e[n]&&(r[n]=e[n]),r),Object.create(null))),es=(0,m.Mz)([et,N.Xt],(e,r)=>Object.keys(r).reduce((r,n)=>(e[n]&&(r[n]=e[n]),r),Object.create(null))),el=(0,m.Mz)([W,er,J,et],(e,r,n,i)=>Object.keys(e).length>0||Object.keys(r).length>0||Object.keys(n).length>0||Object.keys(i).length>0),ed=(e,r)=>null!=e.status&&(!!(0,C.lg)(e.status)||!!(0,C.Hb)(e.status)&&(r?r.has(e.node_id):!!e.old_key)),ec=(e,r)=>ed(e,r)&&(0,C.HF)(e.status),eu=(0,m.Mz)([e=>e.userStateLoaded,e=>e.openFile,V,el],(e,r,n,i)=>!e||!(null==r?void 0:r.canEdit)||!n&&!i),ep=(0,m.Mz)([$,q,W,(e,r)=>r],em),eh=(0,m.Mz)([$,q,W],(e,r,n)=>em(e,r,n,void 0));function em(e,r,n,i){let a={...e,...r,...n},o=new Set(i?Object.keys(i).filter(e=>"FORCED_COPY"!==i[e].publishType):Object.values(a).filter(e=>!!e.old_key).map(e=>e.node_id));return Array.from(o).map(r=>e[r]&&(0,C.E2)(e[r])).filter(e=>!!e).forEach(e=>{o.add(e)}),o}let eg=(e,r,n)=>{let i=r&&null==r.unpublished_at,a="isSoftDeleted"in e&&e.isSoftDeleted,o=!!e.isPublishable&&!a;return i&&!o?S.E8.DELETED:!i&&o?S.E8.NEW:i||o?n(e,r)?S.E8.CHANGED:S.E8.CURRENT:S.E8.NOT_STAGED},ef=(e,r)=>!(r&&r.content_hash===(null==e?void 0:e.content_hash)&&(0,I.pD)(r.name,e.name)&&(0,I.pD)(r.description,e.description)),e_=(e,r)=>ef(e,r)||!(0,I.pD)(r.sort_position,e.sort_position),ey=(e,r)=>!(r&&r.version===e.version&&!(0,I.Q_)(r.containing_frame,null==e?void 0:e.containing_frame)&&(0,I.pD)(r.name,null==e?void 0:e.name)&&(0,I.pD)(r.description,e.description)),eE=(e,r)=>!e||!r||r.version!==e.version||r.sortPosition!==e.sortPosition,eb=(e,r)=>!(r&&r.version===(null==e?void 0:e.version));(0,y.P8)([W,U],(e,r)=>{let n=new Set;for(let i of Object.values(e)){let e=r[i.node_id],a=e&&null==e.unpublished_at,o=!!i.isPublishable;a&&o&&!ef(i,e)&&!(0,I.pD)(e.sort_position,i.sort_position)&&n.add(i.node_id)}return n});let ev=(e,r,n,i)=>{let[a,o]=u()(r,r=>ed(r,e)),[s,l]=u()(a,n),[d,c]=u()(o,e=>(0,C.HF)(e.status));return{modified:{erroneous:(0,g.Ul)(s,...i),wellFormed:(0,g.Ul)(l,...i)},unmodified:{published:(0,g.Ul)(d,...i),unpublished:(0,g.Ul)(c,...i)}}};function eS(e,r){return null==r?eT(e):eI(e,r)}let eI=(0,m.Mz)([W,$,q,er,J,Z,et,ep,(e,r)=>r],ew),eT=(0,m.Mz)([W,$,q,er,J,Z,et,eh],(e,r,n,i,a,o,s,l)=>ew(e,r,n,i,a,o,s,l,void 0));function ew(e,r,n,i,a,o,s,l,d){let c=(e,r)=>{if(!d)return 0;let n=d[e.node_id],i=d[r.node_id];return n&&i?"FORCED_COPY"===n.publishType&&"FORCED_COPY"!==i.publishType?1:"FORCED_COPY"!==n.publishType&&"FORCED_COPY"===i.publishType?-1:0:0},u=[...new Set(Object.values(o).filter(e=>!e.isPublishable).map(e=>e.variableSetId))].map(e=>a[e]).filter(e=>!!e);return{styles:ev(l,Object.values(e),()=>!1,[C.Lk,c]),components:ev(l,Object.values(r),C.zE,[C.gA,c]),stateGroups:ev(l,Object.values(n),C.zE,[C.gA,c]),productComponents:ev(l,Object.values(i),C.zE,[C.gA,c]),variableSets:ev(l,(0,f.kc)().ds_variables_extended_sets?Object.values(a):Object.values(a).filter(e=>!(0,S.GI)(e)),C.RQ,[C.MA]),variableSetsWithHiddenVariables:ev(l,u,()=>!1,[C.MA]),variables:ev(l,Object.values(o),()=>!1,[C.MA]),modules:ev(l,(0,f.kc)().dse_module_publish?Object.values(s):[],()=>!1,[C.gA])}}(0,y.P8)([X],e=>Object.fromEntries(Object.entries(e).map(([e,r])=>[e,ev(new Set,r,()=>!1,[C.MA])])));let eC=(0,m.Mz)([eS],e=>e.styles.modified.wellFormed),eA=(0,m.Mz)([W],e=>Object.values(e).filter(e=>ec(e))),eN=(0,m.Mz)([eS],e=>e.components.modified.wellFormed),eO=(0,m.Mz)([eS],e=>e.stateGroups.modified.wellFormed),eR=(0,m.Mz)([eS],e=>e.productComponents.modified.wellFormed),eP=(0,m.Mz)([eR],e=>e.filter(e=>(0,C.HF)(e.status))),eL=(0,m.Mz)([eS],e=>e.variableSets.modified.wellFormed),eD=(0,m.Mz)([eL],e=>e.filter(e=>(0,C.HF)(e.status))),eM=(0,m.Mz)([eS],e=>(0,f.kc)().dse_module_publish?e.modules.modified.wellFormed:[]),ek=(0,m.Mz)([eM],e=>e.filter(e=>(0,C.HF)(e.status))),ex=(0,m.Mz)([b.tB,O.P],(e,r)=>!!(0,f.kc)().cmty_lib_admin_publish&&null!=e&&!!e.publishedHubFile||!((0,f.kc)().ps_benchmark&&(0,T.jd)(null==e?void 0:e.project))&&!!(e&&(0,A.w5)(e.teamId?r[e.teamId]:null))),eF=(0,m.Mz)([eC],e=>e.length>0),eU=(0,m.Mz)([eA],e=>e.length>0);(0,m.Mz)([eN,ex],(e,r)=>r?e:[]),(0,m.Mz)([eO,ex],(e,r)=>r?e:[]);let eB=(0,m.Mz)([eR,ex],(e,r)=>r?e:[]),eV=(0,m.Mz)([eB],e=>e.length>0),eH=(0,m.Mz)([eP,ex],(e,r)=>r?e:[]),eG=(0,m.Mz)([eH],e=>e.length>0),eW=(0,m.Mz)([eL],e=>e),ez=(0,m.Mz)([eW],e=>e.length>0),eK=(0,m.Mz)([eD],e=>e),ej=(0,m.Mz)([eK],e=>e.length>0),eY=(0,m.Mz)([eM,ex],(e,r)=>r?e:[]),e$=(0,m.Mz)([eY],e=>e.length>0),eq=(0,m.Mz)([ek],e=>e.length>0),eZ=(0,m.Mz)([eC,eB,eW,eY],(e,r,n,i)=>[...e,...r,...n,...i]);(0,m.Mz)([eZ],e=>e.map(e=>e.node_id)),(0,m.Mz)([eF,eV,ez,e$],(e,r,n,i)=>e||r||n||i),(0,m.Mz)([eU,eG,ej,eq],(e,r,n,i)=>e||r||n||i),(0,m.Mz)([eo,eB],(e,r)=>r.some(r=>e[r.node_id])),(0,m.Mz)([es,eY],(e,r)=>r.some(r=>e[r.node_id])),(0,m.Mz)([en,v.c5],(e,r)=>({...r,...e}));let eX=(0,m.Mz)([eY],e=>e.map(e=>e.node_id))},49116:(e,r,n)=>{"use strict";n.d(r,{V2:()=>c,Wg:()=>u,c5:()=>g,m3:()=>h}),n(38020);var i=n(2691),a=n.n(i),o=n(2245),s=n(16095);n(23746);let l=e=>e.library.published.components,d=e=>e.library.published.stateGroups,c=(0,o.Mz)([l],s.uD),u=(0,o.Mz)([d],s.uD),p=(0,o.Mz)([l],s.ah),h=(0,o.Mz)([d],s.ah);(0,o.Mz)([l],s.kD),(0,o.Mz)([d],s.kD);let m=(0,o.Mz)([p],e=>a()(e,e=>!(0,s.ad)(e))),g=(0,o.Mz)([h,m],(e,r)=>({...e,...r}))},34945:(e,r,n)=>{"use strict";n.d(r,{F4:()=>c,Xt:()=>s,dK:()=>l,qd:()=>d});var i=n(2245),a=n(97395),o=n(29928);let s=e=>e.mirror.sceneGraphSelection,l=e=>e.mirror.sceneGraph,d=(0,a.Zm)(e=>Object.keys(s(e)));(0,i.Mz)([l,function(e){let r=Object.keys(s(e));return 1===r.length?r[0]:null}],(e,r)=>r?e.get(r):null),(0,a.P8)([d,l],function(e,r){let n=[];return e.forEach(e=>{let i=r.get(e);((null==i?void 0:i.type)==="INSTANCE"||(null==i?void 0:i.isInstanceSublayer))&&n.push(e)}),n});let c=(0,i.Mz)([l,d],(e,r)=>{let n=[];return r.forEach(r=>{let i=e.get(r);i&&n.push(i)}),n});(0,a.Zm)(e=>e.library.publishableStyles.map(e=>e.nodeId));let u=(0,a.Zm)(e=>e.library.localStylesThatHaveUsagesOnLoadedPages);(0,a.Zm)(e=>new Set(e.library.localStylesThatHaveUsagesOnCurrentPage)),(0,o.bt)(u),(0,a.Zm)(e=>e.library.localSymbolsThatHaveUsagesOnLoadedPages),(0,a.Zm)(e=>new Set(e.library.localSymbolsThatHaveUsagesOnCurrentPage))},88094:(e,r,n)=>{"use strict";n.d(r,{C9:()=>S,LL:()=>w,OQ:()=>T,jf:()=>I});var i=n(89865),a=n.n(i),o=n(84058),s=n.n(o),l=n(2245),d=n(97395),c=n(29928);function u(e){return(0,d.Vh)(e=>e.library,e)}let p=u(e=>e.subscribedSymbolsFromLoadedPages),h=u(e=>e.subscribedSymbolsOnCurrentPage);(0,d.P8)([e=>e.library.subscribedVariablesByIdFromLoadedPages],e=>Object.values(e)),(0,l.Mz)([p],e=>a()(e,e=>e.key));let m=u(e=>e.subscribedStateGroupsFromLoadedPages),g=u(e=>e.subscribedStateGroupsOnCurrentPage),f=u(e=>e.directlySubscribedStylesFromLoadedPages),_=u(e=>e.directlySubscribedStylesOnCurrentPage),y=u(e=>e.indirectlySubscribedStylesFromLoadedPages);(0,l.Mz)([y],e=>e.length>0);let E=(0,l.Mz)([f,y],(e,r)=>[...e,...r]);function b(e){return e.map(e=>e.nodeId)}function v(e){return s()(e.map(e=>e.key))}let S=(0,l.Mz)([p],b);(0,l.Mz)([h],b);let I=(0,l.Mz)([m],b);(0,l.Mz)([g],b),(0,l.Mz)([f],b),(0,l.Mz)([_],b),(0,l.Mz)([E],b);let T=(0,l.Mz)([p],v);(0,l.Mz)([h],e=>new Set(e.map(e=>e.key)));let w=(0,l.Mz)([m],v),C=(0,l.Mz)([f],v);(0,l.Mz)([_],e=>new Set(e.map(e=>e.key))),(0,c.bt)(C),(0,l.Mz)([E],v)},93223:(e,r,n)=>{"use strict";n.d(r,{P:()=>a,m:()=>o});var i=n(29928);let a=e=>e.teams,o=(0,i.bt)(a)},37502:(e,r,n)=>{"use strict";n.d(r,{Bg:()=>o,Cy:()=>l,Q3:()=>s}),n(39863);var i=n(39961);function a(e){switch(e){case null:case void 0:return i.w_.ALLOWED;default:return e}}function o(e){return a(null==e?void 0:e.public_link_controls_setting)===i.w_.BANNED}function s(e){return[i.w_.EXPIRATION_REQUIRED,i.w_.EXP_AND_PWD_REQUIRED].includes(a(null==e?void 0:e.public_link_controls_setting))}function l(e){return[i.w_.PASSWORD_REQUIRED,i.w_.EXP_AND_PWD_REQUIRED].includes(a(null==e?void 0:e.public_link_controls_setting))}n(94901),n(43067),n(28467)},92830:(e,r,n)=>{"use strict";n.d(r,{D:()=>o});var i=n(66712),a=n(65482);function o(e,r){if((0,i.kc)().sc_team_experience)return!0;if(!e&&!r)return(0,a.Rh)("sc_team_experience_null_team_and_org"),!1;if(!(0,i.kc)().sc_team_experience_enabled)return!1;let n=0;if((0,i.kc)().sc_team_experience_orgs_10&&(n=10),(0,i.kc)().sc_team_experience_orgs_50&&(n=50),(0,i.kc)().sc_team_experience_orgs_55&&(n=55),(0,i.kc)().sc_team_experience_orgs_100&&(n=100),!r){let r=0;return(0,i.kc)().sc_team_experience_teams_1&&(r=1),(0,i.kc)().sc_team_experience_teams_5&&(r=5),(0,i.kc)().sc_team_experience_teams_10&&(r=10),(0,i.kc)().sc_team_experience_teams_50&&(r=50),(0,i.kc)().sc_team_experience_teams_55&&(r=55),(0,i.kc)().sc_team_experience_teams_100&&(r=100),Number(e?BigInt(e)%BigInt(100):0)>=100-r}return Number(r?BigInt(r)%BigInt(100):0)>=100-n}},58032:(e,r,n)=>{"use strict";let i;n.d(r,{gM:()=>g});var a=n(11855);n(88507);var o=n(35645),s=n.n(o),l=n(58271),d=n.n(l),c=n(17068);n(44948);var u=n(66712);n(9225);var p=n(99737),h=n(72174);n(30637),n(63067),n(98527),n(35682),n(79453),n(39135),n(99881);var m=((i=m||{}).COMMUNITY="community",i.ORGANIZATION="organization",i.WORKSPACE="workspace",i.TEAM="team",i.FILE="file",i.USER="user",i);function g(e,r,n,i,a){var o,l,m;if("loading"===e.status||"errors"===e.status||"disabled"===e.status)return e;let g=e.data.file;if(null==g)return(0,p.gB)([]);let b=e.data.libraryPresetSubscriptionsV2,v=n(),S=v||i,I=((0,u.kc)().dse_read_from_presets_table?(0,p.oA)(b):(0,p.oA)(g.libraryPresetSubscriptions))??[],T=g.libraryOrgSubscriptions,w=null==(l=null==(o=g.team)?void 0:o.workspace)?void 0:l.librarySubscriptions,C=g.libraryTeamSubscriptions,A=g.libraryUserSubscriptions,N=g.libraryFileSubscriptions,O=g.communityQuickstartLibraries,R=g.communityLibraryFileSubscriptions,P=[...T.filter(e=>S||!(0,p.oA)(e.communityLibrary)).filter(e=>r?null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride):null==(e.libraryFileSubscriptionOverride||e.libraryWorkspaceSubscriptionOverride||e.libraryTeamSubscriptionOverride)).map(e=>f(e,"organization")),...N.filter(e=>S||!(0,p.oA)(e.communityLibrary)).map(e=>f(e,"file"))];if(i&&!a){let e=I.filter(e=>r?null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride):null==(e.libraryOrgSubscriptionOverride||e.libraryWorkspaceSubscriptionOverride||e.libraryTeamSubscriptionOverride||e.libraryFileSubscriptionOverride)).map(e=>_(e,"community"));P.push(...e)}else if(v){let[e,r]=s()(R,e=>e.isSubscribed),n=e.map(e=>_(e,"file")).filter(h.Vq),i=new Set(r.map(e=>{var r;return null==(r=e.communityLibrary)?void 0:r.hubFileId}).filter(h.Vq)),a=(O??[]).filter(e=>e.communityLibrary&&!i.has(e.communityLibrary.hubFileId)).map(e=>_(e,"file")).filter(h.Vq);P.push(...n),P.push(...a)}if(r){let e=A.filter(e=>S||!(0,p.oA)(e.communityLibrary)).filter(e=>{var r;return null==e.libraryFileSubscriptionOverride&&(null==(r=e.library)?void 0:r.file.parentOrgId)===a}).map(e=>f(e,"user")),r=(null==(m=function(e){var r,n,i,a;let o=(0,u.kc)().ps_benchmark,s=null==e?void 0:e.teamId;return o&&s?null==(n=null==(r=null==e?void 0:e.currentUser)?void 0:r.orgAwareTeamRoles)?void 0:n.filter(e=>{var r;return(null==(r=e.team)?void 0:r.id)===s}).map(e=>{var r;return null==(r=e.team)?void 0:r.libraryTeamSubscriptions}).filter(h.Vq):null==(a=null==(i=null==e?void 0:e.currentUser)?void 0:i.orgAwareTeamRoles)?void 0:a.map(e=>{var r;return null==(r=e.team)?void 0:r.libraryTeamSubscriptions}).filter(h.Vq)}(g))?void 0:m.map(e=>e.filter(e=>S||!(0,p.oA)(e.communityLibrary)).filter(E).map(e=>f(e,"team"))))??[];P.push(...e),P.push(...(0,c.Bq)(r))}else{let e=C.filter(e=>S||!(0,p.oA)(e.communityLibrary)).filter(y).map(e=>f(e,"team")),r=(w||[]).filter(e=>S||!(0,p.oA)(e.communityLibrary)).filter(e=>null==(e.libraryFileSubscriptionOverride||e.libraryTeamSubscriptionOverride)).filter(e=>e.isSubscribed).map(e=>f(e,"workspace"));P.push(...e),P.push(...r)}let L=d()(P.filter(h.Vq),e=>e.fileKey);return(0,c.KQ)(L,"name"),(0,p.gB)(L)}function f(e,r){let n=e.communityLibrary&&(0,p.oA)(e.communityLibrary);return n?_({communityLibrary:n},r):e.library&&e.library?{fileKey:e.library.file.key,name:e.library.file.name,numComponents:e.library.numComponents??0,numStateGroups:e.library.numStateGroups??0,numStyles:e.library.numStyles??0,numStylesFill:e.library.numStylesFill??0,numStylesText:e.library.numStylesText??0,numStylesEffect:e.library.numStylesEffect??0,numStylesGrid:e.library.numStylesGrid??0,numVariables:e.library.numVariables??0,numVariablesBoolean:e.library.numVariablesBoolean??0,numVariablesFloat:e.library.numVariablesFloat??0,numVariablesColor:e.library.numVariablesColor??0,numVariablesString:e.library.numVariablesString??0,...(0,u.kc)().dse_module_publish?{numModuleAssets:(0,p.oA)(e.library.numModuleAssets)??0}:null,parentOrgId:e.library.file.parentOrgId,subscriptionType:r,thumbnailUrl:e.library.file.thumbnailUrl,thumbnailUrlOverride:e.library.file.thumbnailUrlOverride,thumbnailGuid:e.library.file.thumbnailGuid}:null}function _(e,r){return(null==e?void 0:e.communityLibrary)?{fileKey:e.communityLibrary.hubFileId,name:e.communityLibrary.name,numComponents:e.communityLibrary.numComponents??0,numStateGroups:e.communityLibrary.numStateGroups??0,numStyles:e.communityLibrary.numStyles??0,numStylesFill:e.communityLibrary.numStylesFill??0,numStylesText:e.communityLibrary.numStylesText??0,numStylesEffect:e.communityLibrary.numStylesEffect??0,numStylesGrid:e.communityLibrary.numStylesGrid??0,numVariables:e.communityLibrary.numVariables??0,numVariablesBoolean:e.communityLibrary.numVariablesBoolean??0,numVariablesFloat:e.communityLibrary.numVariablesFloat??0,numVariablesColor:e.communityLibrary.numVariablesColor??0,numVariablesString:e.communityLibrary.numVariablesString??0,...(0,u.kc)().dse_module_publish?{numModuleAssets:(0,p.oA)(e.communityLibrary.numModuleAssets)??0}:null,parentOrgId:null,subscriptionType:r,thumbnailUrl:e.communityLibrary.hubFile.thumbnailUrl,thumbnailUrlOverride:null,thumbnailGuid:null}:null}function y(e){return null==e.libraryFileSubscriptionOverride}function E(e){return null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride)}a.createContext(null)},45173:(e,r,n)=>{"use strict";n.d(r,{Ex:()=>o,TP:()=>s,qW:()=>l});var i=n(38329),a=n(85334);function o(e){let r;let n=e["try-plugin-id"];if(n&&"string"==typeof n&&l(n)){try{let n=e["try-plugin-params"],i=decodeURI(n);(!(r=JSON.parse(i??"{}"))||"object"!=typeof r||Array.isArray(r))&&(r=void 0)}catch{}return r}}function s(e){if(!l(e))return;let r=i.D.getState();if(!r||"fullscreen"!==r.selectedView.view)return;let{tryPluginParams:n,tryPluginId:a}=r.selectedView;if(a===e)return n}function l(e){return(0,a.yb)(e)}},6193:(e,r,n)=>{"use strict";let i;n.d(r,{b:()=>a});var a=((i=a||{}).UNSET="",i.TILES_VIEW_UPSELL="Tiles View Upsell",i.STARTER_TEAM_BADGE="Starter Team Badge",i.STARTER_TEAM_FILE_BADGE="Starter Team File Badge",i.LIBRARY_UPSELL_BADGE="Library Upsell Badge",i.LIBRARY_MODAL_UPSELL="Library Modal Upsell",i.PAGE_TRACKER_UPSELL="Page Tracker Upsell",i.FILE_TRACKER_MODAL="File Tracker Modal",i.BILLING_SETTINGS="Billing Settings",i.UPGRADE_SECTION="Upgrade Section",i.TEAM_SETTINGS_MODAL="Team Settings Modal",i.BANNER="Banner",i.SINGLE_TEAM_EVERGREEN_ORG_UPGRADE_SECTION="Single-Team Evergreen Org Upgrade Section",i.MULTI_TEAM_EVERGREEN_ORG_UPGRADE_SECTION="Multi-Team Evergreen Org Upgrade Section",i.AUDIO_PAYWALL="Audio Paywall",i.UNIVERSAL_UPGRADE_SECTION="Universal Upgrade Section",i.EDU_UPGRADE_SECTION="Edu Upgrade Section",i.UNIVERSAL_UPGRADE_SEQUENCE_MACHINE="Universal Upgrade Sequence Machine",i.SETTINGS_VIEW="Settings View",i.UPGRADE_NEW_TEAM="Upgrade New Team",i.UPGRADE_NEW_TEAM_V2="Upgrade New Team V2",i.PRO_TRIAL_UPSELL_MODAL="Pro Trial V3",i.TEAM_WELCOME="Team Welcome",i.HISTORY_UPSELL="History Upsell",i.ORG_UPGRADE_SECTION="Org Upgrade Section",i.BILLING_OVERVIEW="Billing Overview",i.STARTER_TEAM_FOOTER="Starter Team Footer",i.STARTER_TEAM_PROJECT_FOOTER="Starter Team Project Footer",i.LOCKED_TEAM_BADGE="Locked Team Badge",i.LOCKED_TEAM_FILE_BADGE="Locked Team File Badge",i.LIBRARY_DUPLICATE_OSS_SALES_UPSELL="Library Duplicate OSS Sales Upsell",i.CREATE_NEW_PAID_TEAM="Create New Paid Team",i.UPGRADE_EXISTING_FROM_TEAM_CREATION="Upgrade Existing From Team Creation",i.OSS_EXPOSURE_BRANCHING_UPSELL_MODAL="OSS Exposure Branching Upsell Modal",i.FONT_PICKER_UPSELL="Font Picker Upsell",i.MISSING_FONTS_UPSELL="Missing Fonts Upsell",i.COLLECTIVE_UPSELLS_MODAL="Collective Upsells Modal",i.JAMBOARD_OFFER_UPGRADE_SECTION="Jamboard Offer Upgrade Section",i.ADVANCED_PROTOTYPING_UPSELL="Advanced Prototyping Upsell",i.DEV_MODE_UPSELL="Dev Mode Upsell",i.FOLDER_UPSELL_CARD="Folder Upsell Card",i.STARTER_LIMIT_OVERVIEW="Starter Limit Overview",i.DEEPLINK="Deeplink",i.FIGJAM_UPSELL_MODAL="FigJam Upsell Modal",i.FIGJAM_COMPARISON_MODAL="Figjam Comparison Modal",i.DRAFT_FILE_BADGE="Draft File Badge",i.DESIGN_DRAFT_FILE_BADGE="Design Draft File Badge",i)},35757:(e,r,n)=>{"use strict";n.d(r,{Il:()=>P,Y9:()=>L,_X:()=>C,kb:()=>y,pk:()=>A});var i,a=n(89136),o=n.n(a),s=n(41563),l=n.n(s),d=n(81912),c=n(77909),u=n(17333),p=n(66712),h=n(34688),m=n(65482),g=n(86640),f=n(8902);n(52571);var _=n(16056);let y=(0,c.v)();(0,c.v)(),null==(i=window.EARLY_ARGS)||i.file_minimal_user_state;let E=null,b=null,v={REQUESTED:"web.api_user_state.requested"},S=new class{constructor(){this.batchedCustomEvents=[],this.onVisibilityChange=async()=>{"hidden"===document.visibilityState&&await this.sendBatchedEvents()},this._currentlySendingBatchedEvents=!1,this.sendBatchedEvents=async()=>{if(this._currentlySendingBatchedEvents)return;this._currentlySendingBatchedEvents=!0;let e=this.batchedCustomEvents;this.batchedCustomEvents=[];try{await (0,m.BO)(e)}catch(e){}this._currentlySendingBatchedEvents=!1},document.addEventListener("visibilitychange",this.onVisibilityChange),window.addEventListener("pagehide",this.sendBatchedEvents),this.sendBatchedEventsInterval=setInterval(this.sendBatchedEvents,5e3)}async cleanup(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("pagehide",this.sendBatchedEvents),clearInterval(this.sendBatchedEventsInterval),await (0,h.g)()}reportUserStateCall(e){this.batchedCustomEvents.push({metric:v.REQUESTED,tags:{source:e,client_visibility:document.visibilityState}})}},I=null,T=null,w=null;function C(e,r){let n=A(),i=(b||(b=(0,p.tl)().team_id||null),b);return I&&n===T&&i===w||(S.reportUserStateCall(e),I=_.k.getState({orgId:n||void 0,teamId:i||void 0},r),T=n,T=i,I.then(()=>{I=null,T=null,w=null}).catch(()=>{I=null,T=null,w=null})),I}function A(){return E?"personal"===E?null:E:E=(0,p.tl)().org_id||null}let N="recent_user_data",O=e=>btoa(JSON.stringify(e)),R=e=>JSON.parse(atob(e));function P(e){let r=D(),n=o()(r),i=(0,g.UG)();if(n.communityProfileId=e,!l()(r,n))try{i.set(N,O(n))}catch(e){console.error("Failed to set community profile",e)}}function L(e,r,n,i,a,s){if(u.S8)return;let c=D(),h=o()(c),m=(0,g.UG)();if(r?h.communityUserId=e:h.fileBrowserUserId=e,void 0!==n&&(h.userIdToOrgId||(h.userIdToOrgId={}),h.userIdToOrgId[e]=n),(0,p.kc)().ps_benchmark&&(void 0!==n||void 0!==a)&&(h.userIdToPlan||(h.userIdToPlan={}),n?h.userIdToPlan[e]=[f.O.ORG,n]:a&&(h.userIdToPlan[e]=[f.O.TEAM,a])),i&&(h.communityProfileId=i),s&&(h.seenRecurringBannerIds||(h.seenRecurringBannerIds={}),h.seenRecurringBannerIds[s]=d.A.utc().toISOString()),!l()(c,h))try{m.set(N,O(h))}catch(e){console.error("Failed to set recent workspace",e)}}function D(){let e={communityUserId:null,communityProfileId:null,fileBrowserUserId:null,userIdToOrgId:{},seenRecurringBannerIds:{}},r=(0,g.UG)();try{let n=r.get(N);n&&(e=R(n))}catch(e){console.error("Failed to get recent workspace",e)}return e}},94517:(e,r,n)=>{"use strict";n.d(r,{Eg:()=>$,Nb:()=>q,Ul:()=>H,V_:()=>D,_b:()=>Y,_h:()=>K,vF:()=>Z});var i=n(84934),a=n(81912);n(38329);var o=n(66712),s=n(38580),l=n(74626),d=n(18549),c=n(83297),u=n(76621),p=n(4783),h=n(43282),m=n(208),g=n(81388),f=n(65746),_=n(96808),y=n(92592),E=n(80820),b=n(38269),v=n(93017),S=n(31913),I=n(24266),T=n(39671),w=n(79086),C=n(54168),A=n(97642),N=n(56390),O=n(52800),R=n(67232),P=n(91205),L=n(7465);let D="current_version",M=(new d.q(40),(0,s.eU)(""));function k(e,r,n){var i;let a=null,s=new XMLHttpRequest;s.open("GET",e);let l=null==(i=(0,o.Ay)().user_data)?void 0:i.id;return l&&s.setRequestHeader("X-Figma-User-ID",l),s.onload=()=>{200===s.status&&(a=new Uint8Array(s.response))},s.onloadend=()=>{null!=a?r(a):null==n||n("Failed to fetch bytes")},s.responseType="arraybuffer",s.send(),s}P.M4.Query({fetch:async e=>{var r,n;let a=e.fileKey;if(!a)return null;let o=performance.now(),s=await A.W.getPaginatedVersions({...e,fileKey:a,versionIds:null==(r=e.versionIds)?void 0:r.join(",")}),l=performance.now()-o;return(0,i.sx)("version_diffing_performance_metrics",{name:"Lego versions fetched",durationMs:l}),(null==(n=s.data.meta)?void 0:n.versions)||[]},key:"fileVersionsPaginated"});let x=async(e,r,n,i)=>{let a=new URLSearchParams;a.set("diff_version","2"),a.set("from_file_version_id",r),a.set("migration_version",`${n}`),i&&i.length>0&&a.set("nodes_to_diff",i.join(","));let{data:{meta:{checkpoint_diff:o}}}=await m.Ay.post(`/api/file_diff/v2/checkpoint_diff/${e}?${a.toString()}`);return o},F=async e=>{let r=new Date().getTime(),{data:n}=await m.Ay.crossOriginGetAny(e,null,{responseType:"arraybuffer"}),a=new Date().getTime();return(0,i.sx)("versioning_performance_metrics",{name:"download_diff",durationMs:a-r},{forwardToDatadog:!0}),n};async function U(e,r,n){var a;let o=await x(r.getState().openFile.key,e,r.getState().fileVersion,n);if(!o.signed_url)return"Error viewing what's changed between file versions.";let s=!!(null==(a=r.getState().openFile)?void 0:a.canEdit),l=new Date().getTime(),[d]=await Promise.all([F(o.signed_url)]),c=new Date().getTime();return((0,i.sx)("versioning_performance_metrics",{name:"download_diff_and_load_pages",durationMs:c-l,isEditor:s},{forwardToDatadog:!0}),O.glU.loadHistoryChangesState(d))?"":"Error loading HistoryChangesState into memory."}function B(e,r){if(e)return r.versions.find(r=>r.id===e)}async function V(e,r){let n=Date.now(),i=B(e,r.getState().versionHistory);if(!i)return{elapsedTime:Date.now()-n,numPagesWithChanges:0};let a=await U(i.id,r),o=Date.now()-n;if(a)throw(0,u.x1)("version diffing","error checking for visible changes",{error:a}),Error("Error checking for visible changes");return{elapsedTime:o,numPagesWithChanges:O.glU.getPagesWithChanges().length}}(0,E.nF)(async(e,r)=>{var n;let i,s;let l=e.getState(),d=()=>{e.dispatch(b.$T({...l.selectedView,compareLatest:void 0}))},c=()=>{e.dispatch(v.Y6({mode:O.Oin.OFF})),d()},u=l.user;if(!(0,o.kc)().version_diffing||!(0,o.kc)().xr_debounce_threshold||!u||"fullscreen"!==l.selectedView.view||l.selectedView.editorType===T.nT.Whiteboard||l.mirror.appModel.topLevelMode===O.lyf.HISTORY||l.mirror.appModel.activeCanvasEditModeType===O.m1T.COMPARE_CHANGES)return c();let{openFileKey:p}=r;try{let e=await C.S.getLastInteraction({openFileKey:p});i=e.data.meta.last_view_at,s=e.data.meta.last_edit_at}catch{c()}let h=(0,a.A)(i),m=(0,a.A)(s),g=h>m?h:m;if(!g.isValid()||g<(0,a.A)().subtract(7,"days"))return c();let f=A.W.getPaginatedVersions({fileKey:p,createdAtOrBefore:g.toISOString()}),_=A.W.getPaginatedVersions({fileKey:p}),[y,E]=await Promise.all([f,_]),S=y.data.meta.versions,I=E.data.meta.versions;if(!(S.length>0&&I.length>0))return c();let w=S[0],N=I[0];if(!((0,a.A)(N.created_at)>(0,a.A)(w.created_at))||N.user_id===u.id||(null==(n=N.participating_users_array)?void 0:n.includes(u.handle)))return c();e.dispatch(Y()),e.dispatch(Z({fromVersionId:w.id}))});let H=(0,E.nF)(async(e,r)=>{var n;let s=e.getState(),l=s.user;if(!(0,o.kc)().version_diffing||!l||"fullscreen"!==s.selectedView.view||s.selectedView.editorType===T.nT.Whiteboard||s.mirror.appModel.topLevelMode===O.lyf.HISTORY||s.mirror.appModel.activeCanvasEditModeType===O.m1T.COMPARE_CHANGES)return;let{openFileKey:d}=r,c=(0,a.A)(r.versionHistory.lastEdited),u=(0,a.A)(r.versionHistory.lastViewed),p=u>c?u:c;if(!p.isValid()||p<(0,a.A)().subtract(7,"days"))return;let m=Date.now(),g=A.W.getPaginatedVersions({fileKey:d,pageSize:1,createdAtOrBefore:p.toISOString()}),f=A.W.getPaginatedVersions({fileKey:d,pageSize:1}),[_,y]=await Promise.all([g,f]),E=_.data.meta.versions,b=y.data.meta.versions;if(E.length>0&&b.length>0){let r=E[0],o=b[0];if((0,a.A)(o.created_at)>(0,a.A)(r.created_at)&&o.user_id!==l.id&&!(null==(n=o.participating_users_array)?void 0:n.includes(l.handle))){let n={fileKey:d,eventId:(0,h.g)(),lastEdited:c.toISOString(),lastViewed:u.toISOString(),lastSeenVersion:r.id,lastSeenCreatedAt:r.created_at,latestVersion:o.id,latestCreatedAt:o.created_at};(0,i.sx)("Version Diffing Changed Since Last View",{...n,durationMs:Date.now()-m},{forwardToDatadog:!0}),e.dispatch(z({lastSeenVersionId:r.id,trackingProps:n}))}}}),G=null;function W(e,r,n,i,a,o){if(!e.canvas_url)return"Couldn't get this version from version history.";{let s=n.size>0,d=a??i,c=!1,u=e.canvas_url,p=r.getState().mirror.appModel.currentPage;if("LOAD_NEW_VERSION"===o&&p&&!a&&(d=p),c=!n.has(d))u+=`&nodes_to_extract=${d}`;else{r.dispatch(S.SR({isLoadingPage:!1}));return}if(u){let e=r.getState().selectedView;R.C.markVersionHistoryLoadStart(e.fileKey,e.nodeId,o);let a=k(u,o=>{if(a===G){var u;G=null;let a=r.getState().selectedView.editorType;if((u=r.getState().mirror.appModel.topLevelMode)===O.lyf.HISTORY||u===O.lyf.DEV_HANDOFF){let u;if(s)O.glU.applyFileToCurrentScene(o);else if(l.zl.set(M,""),!O.glU.loadFigFileForPreview(o))return"Error loading this version into memory.";R.C.markVersionHistoryLoadEnd();let p=r.getState().selectedView.fileKey;u=a===T.nT.Whiteboard?"figjam":a===T.nT.Design||a===T.nT.Slides?(0,T.CO)(a):"unknown",R.C.report(p,u),c&&(n.add(d),r.dispatch(S.EB({fetchedPageIds:n})),r.dispatch(S.SR({isLoadingPage:!1}))),e.nodeId&&e.nodeId!==i&&I.tJ([e.nodeId]),r.dispatch(v.Y6({mode:O.Oin.OFF}))}}});G=a}}return""}let z=(0,E.nF)(async(e,r)=>{let n,a;let{lastSeenVersionId:o,trackingProps:s}=r;try{let r=await V(o,e);n=r.elapsedTime,a=r.numPagesWithChanges}catch(e){return}if(0===a){(0,i.sx)("Version Diffing Notification Skipped",{...r.trackingProps,pagesWithChanges:0,durationMs:n},{forwardToDatadog:!0});return}(0,i.sx)("Version Diffing Notification Shown",{...r.trackingProps,pagesWithChanges:a,durationMs:n},{forwardToDatadog:!0}),e.dispatch(_.Q.enqueueFront({notification:{type:f._.SEE_WHATS_CHANGED,message:"See what's changed since the last time you viewed this file",acceptCallback:()=>{(0,i.sx)("Version Diffing Notification Opened",s),e.dispatch(Y()),e.dispatch(Z({fromVersionId:o}))},dismissCallback:()=>{(0,i.sx)("Version Diffing Notification Dismissed",s)}}}))}),K=(0,E.nF)((e,{direction:r})=>{let n=e.getState(),i=(0,L.U2)(n.selectedView);i&&!n.versionHistory.loading&&(e.dispatch(S.ne({loading:!0})),(0,c.En)(`/api/versions/${i}`,30,n.versionHistory,r).then(n=>{i===(0,L.U2)(e.getState().selectedView)&&e.dispatch(S.BC({history:n,direction:r}))}))}),j=(0,E.nF)(e=>{e.dispatch(S.p0()),e.dispatch(K({direction:c.mL}))}),Y=(0,E.nF)((e,r)=>{var n;N.Y5.triggerAction("enter-history-mode"),N.Y5.triggerAction("deselect-all"),e.dispatch(j()),null==(n=O.Ez5)||n.uiState().showPropertiesPanel.set(!0),(0,i.sx)("Toggle Version History",{source:(null==r?void 0:r.source)||null})}),$=(0,E.nF)(e=>{var r;e.dispatch(q({id:D})),e.dispatch(Z({fromVersionId:void 0})),e.dispatch(y.F.dequeue({matchType:"versions"})),e.dispatch(y.F.dequeue({matchType:"view_changes"})),e.dispatch(v.Y6({mode:O.Oin.OFF})),O.glU.exitVersionHistoryMode((null==(r=e.getState().openFile)?void 0:r.canEdit)??!1)}),q=(0,E.nF)((e,r)=>{if(r.id===D){l.zl.set(M,""),O.glU.loadFigFileForPreview(new Uint8Array);let n=e.getState();e.dispatch(b.$T({...n.selectedView,versionId:void 0,compareVersionId:void 0})),e.dispatch(S.Fm({id:r.id}));return}e.dispatch(S.Fm({id:r.id}));let n=e.getState(),i=r.versions?r.versions.find(e=>e.id===r.id):function(e){for(let r of e.versions)if(r.id===e.activeId)return r;if(e.linkedVersion&&e.activeId===e.linkedVersion.id)return e.linkedVersion}(n.versionHistory);if(!i)return;e.dispatch(b.$T({...n.selectedView,compareVersionId:void 0}));let a=e.getState().mirror.appModel.currentPage,o=r.eventType,s=W(i,e,new Set,a,r.nodeId,o);if(s){e.dispatch(g.s.error(s));return}});(0,E.nF)((e,r)=>{let n=r.version,i=r.currentPageNodeId,a=r.fetchedPageIds,o=r.eventType,s=W(n,e,a,i,void 0,o);if(s){let r=`[${o}] Failed load fig file for preview: ${s}`;(0,u.$D)(p.e.SCENEGRAPH_AND_SYNC,Error(`[VERSION_HISTORY_INCREMENTAL_LOAD] ${r}`)),e.dispatch(g.s.error(s));return}e.dispatch(S.ke({version:r.version}))});let Z=(0,E.nF)(async(e,r)=>{if(!(0,o.kc)().version_diffing){e.dispatch(S.TO(r));return}let n=r.fromVersionId;if(!n)return;let a=B(n,e.getState().versionHistory);if(!a)return;let s=new Date().getTime(),l=await U(a.id,e);if(l){e.dispatch(g.s.error(l));return}let d=new Date().getTime(),c=e.getState().selectedView.editorType,u=w.l[w.l.COMPARE_CHANGES];if((0,i.sx)("versioning_performance_metrics",{name:"load_diff",durationMs:d-s,fromCheckpointKey:a.checkpoint_key,nodesToDiff:"all",editorType:c,source:u},{forwardToDatadog:!0}),a.canvas_url){let e=O.glU.getChangesToCompareFromHistoryChangesState();if(e.size>0){let r=Array.from(e).join(",");k(`${a.canvas_url}&nodes_to_extract=${r}`,e=>{O.glU.loadPartialHistoryScene(e)})}}let p=O.glU.startComparingChanges()?"":"Error starting history compare";if(p){e.dispatch(g.s.error(p));return}let h=e.getState();e.dispatch(b.$T({...h.selectedView,compareVersionId:n,compareLatest:void 0})),(0,i.sx)("Version History Compare Start",{fromVersionId:n}),e.dispatch(S.TO(r))})},3454:(e,r,n)=>{"use strict";n.d(r,{Gf:()=>_,Cb:()=>g,gr:()=>f});var i=n(63142),a=n(17037),o=n(76621),s=n(81396),l=n(4783),d=n(208),c=n(39863),u=n(47807);let p=new class{constructor(){this.AdminVideosUploadSchemaValidator=(0,u.vh)(),this.getAdminVideosUpload=e=>this.AdminVideosUploadSchemaValidator.validate(async({xr:r})=>await r.get(`/api/admin/${e.resourceType}/${e.id}/videos/${e.sha1}/upload`)),this.VideosUploadSchemaValidator=(0,u.vh)(),this.getVideoUploadUrl=e=>this.VideosUploadSchemaValidator.validate(async({xr:r})=>await r.post(`/api/${e.resourceType}/${e.id}/videos/upload`,{sha1:e.sha1,thumbnail_sha1:e.thumbnail_sha1})),this.getAdminVideosUpnode=e=>{let r={sha1:e.sha1,upload_path:e.uploadPath,carousel_position:e.carouselPosition,thumbnail_url:e.thumbnailUrl};return d.Ay.post(`/api/admin/${e.resourceType}/${e.id}/videos/upnode`,r)}}},h=new class{constructor(){this.VideosUploadSchemaValidator=(0,u.vh)()}getVideosUpload(e){return this.VideosUploadSchemaValidator.validate(async({xr:r})=>await r.get(`/api/feed_post/${e.orgId}/videos/${e.sha1}/upload`))}};var m=n(54168);async function g(e,r,n){var i;for(let a of e)try{let e=await m.S.getVideosUpload({fileKey:r,sha1:a.sha1});if(null==n?void 0:n.hasCanceled())throw Error("Import canceled.");let i=await y(e.data.meta.url,e.data.meta.fields,a,"video/mp4");await E(a.sha1,r,i)}catch(e){if(409===e.status)await E(a.sha1,r,"");else if(null==(i=e.data)?void 0:i.message)throw Error(e.data.message);else throw e}}async function f(e,r,n,i){try{let a=await h.getVideosUpload({orgId:n,sha1:e.sha1}),o=await y(a.data.meta.url,a.data.meta.fields,e,i);return b(e.sha1,r,n,o)}catch(i){if(409===i.status)return b(e.sha1,r,n,"");throw i}}async function _(e,r,n,i,a){let s=await p.getVideoUploadUrl({resourceType:e,id:r,sha1:n.sha1,thumbnail_sha1:a}),d=s.data.meta.video?y(s.data.meta.video.url,s.data.meta.video.fields,n,"video/mp4"):null,u=function(e,r,n){let i=new FormData;return Object.entries(r).forEach(([e,r])=>i.append(e,r)),i.set("content-type","image/png"),i.append("file",new Blob([n])),fetch(e,{method:"POST",body:i}).catch(e=>{var r;throw(0,o.$D)(l.e.COMMUNITY,e),Error((0,c.t)("community.actions.error_uploading_plugin_video_thumbnail_error",{error:(0,c.Jv)(e,(null==(r=e.data)?void 0:r.message)||"unknown error")}))})}(s.data.meta.video_thumbnail.url,s.data.meta.video_thumbnail.fields,i),[h]=await Promise.all([d,u]);return await v(n.sha1,r,e,h??"",a)}async function y(e,r,n,o){let d=s.aD(n.sha1),c=(0,i.lF)(d);return r["x-amz-checksum-sha1"]=c,await (0,a.E)(l.e.ACTIVITY,"uploadVideoToPresignedPost",e,r,n.bytes,o)}async function E(e,r,n){await d.Ay.post(`/api/upnode/video?purpose=canvas&sha1=${e}&uploadPath=${n}&fileKey=${r}`)}function b(e,r,n,i){return d.Ay.post(`/api/upnode/video?sha1=${e}&uploadPath=${i}&feedPostUuid=${r}&orgId=${n}`).then(r=>({path:r.data.meta.path,mediaType:r.data.meta.mime,videoFileUuid:r.data.meta.video_file_uuid,sha:e,mediaConvertTriggered:r.data.meta.media_convert_triggered}))}async function v(e,r,n,i,a){return await d.Ay.post(`/api/upnode/video?sha1=${e}&uploadPath=${i}&resourceId=${r}&resourceType=${n}`).then(r=>({videoFileUuid:r.data.meta.video_file_uuid,sha1:e,videoThumbnailSha1:a}))}},23001:(e,r,n)=>{"use strict";let i;n.d(r,{d:()=>a});let a={OK:"ok",WARN:"warn",ERROR:"error"};var o=((i=o||{}).Generic="generic",i.Contact="contact",i)},65167:(e,r,n)=>{"use strict";let i;function a(e,r){return{folder_id:null,org_id:e.orgId,openNewFileIn:r,trackingInfo:null,editorType:e.editorType,fileName:e.name,localFileKey:e.fileKey}}n.d(r,{B:()=>a,U:()=>o});var o=((i=o||{}).OFFLINE_FILE_TILE="OFFLINE_FILE_TILE",i.AUTOSAVE_NOTIFICATION="AUTOSAVE_NOTIFICATION",i.AUTOSAVE_MODAL="AUTOSAVE_MODAL",i)},88300:(e,r,n)=>{"use strict";let i;n.d(r,{R:()=>a}),n(67795);var a=((i=a||{}).ALL="All",i.STICKERS_AND_COMPONENTS="Stickers",i.TEMPLATES="Templates",i.TEAM_TEMPLATES="TeamTemplates",i.WIDGETS="Widgets",i.PLUGINS="Plugins",i.MORE="More",i.ORG_FACE_STAMPS="OrgFaceStamps",i.COLOR_PALETTES="ColorPalettes",i)},55328:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h,m,g,f,_;n.d(r,{I0:()=>L,KS:()=>C,Qv:()=>N,U:()=>D,Ug:()=>w,bD:()=>b,cS:()=>O,m3:()=>M,vt:()=>T,xQ:()=>P});var y=n(30654),E=n(40535);n(78787);var b=((i=b||{}).HUB_FILE="hub_file",i.PLUGIN="plugin",i.WIDGET="widget",i.COMMENT="comment",i),v=((a=v||{}).SUBSCRIPTION="subscription",a.ONE_TIME="one_time",a),S=((o=S||{}).DETAIL="detail",o.INSERTS="inserts",o.QUICK_ACTIONS="quick_actions",o.PLUGIN_ROW="plugin_row",o.REDESIGNED_PLUGIN_ROW="redesigned_plugin_row",o.SEARCH="search",o),I=((s=I||{})[s.NO_USER=0]="NO_USER",s[s.NO_PROFILE=1]="NO_PROFILE",s),T=((l=T||{}).HUB_FILE="hub_file",l.PLUGIN="plugin",l.WIDGET="widget",l),w=((d=w||{}).HUB_FILE="hub_file",d.PLUGIN="plugin",d.WIDGET="widget",d.PROFILE="profile",d);let C=E.iG.extend({author:y.ignore(),parent_id:y.string().nullable(),reply_count:y.number(),last_replied_at:y.string().nullable(),resource_version_id:y.string(),message_meta:y.array(y.ignore()),rating_value:y.number().optional()});y.object({plugin:y.ignore().nullish(),plugin_install:y.ignore().nullish(),whitelisted_plugin:y.ignore().nullish(),hub_file:y.ignore().nullish(),profile:y.ignore().nullish(),community_comment:y.ignore().nullish(),widget:y.ignore().nullish(),community_resource_payment:y.ignore().nullish()});var A=((c=A||{})[c.SHOW_404=0]="SHOW_404",c[c.REDIRECT_TO_INTERNAL_PROFILE=1]="REDIRECT_TO_INTERNAL_PROFILE",c),N=((u=N||{}).ALL="ALL",u.ME="ME",u.RATINGS_REVIEWS="RATINGS_REVIEWS",u.COMMENTS="COMMENTS",u),O=((p=O||{}).COMMUNITY_LANDING="community_landing",p.FILE_BROWSER_RECOMMENDED_TEMPLATES="file_browser_recommended_templates",p.FIGJAM_TEMPLATES_PICKER="figjam_templates_picker",p.BROWSE_PLUGINS_MODAL="browse_plugins_modal",p.BROWSE_WIDGETS_MODAL="browse_widgets_modal",p.CURATED_PAGE="curated_page",p.NA="na",p.CONFIG_VOTE="config_vote",p.COMMUNITY_WIDGETS_PAGE="community_widgets_page",p.FIGJAM_SIMPLE_TEMPLATES_PICKER="figjam_simple_templates_picker",p.FIGMA_INSERTS_NUX="figma_inserts_nux",p.FILE_BROWSER_TEMPLATES_BAR="file_browser_templates_bar",p.COMMUNITY_LIBRARIES_QUICKSTART="community_libraries_quickstart",p.FIGJAM_SECTION_PRESET_PICKER="figjam_section_preset_picker",p.CATEGORY_PAGE="category_page",p.PIPER_TEMPLATE_MODAL="piper_template_modal",p),R=((h=R||{}).PM="PM",h.DES="DES",h.ENG="ENG",h.MKT="MKT",h.UR="UR",h.OTH="OTH",h.ALL="ALL",h.STARTER="STARTER",h);function P(e){return"is_widget"in e&&e.is_widget}function L(e){return"current_plugin_version_id"in e&&!e.is_widget}function D(e){return"client_meta"in e}function M(e){return!!(null==e?void 0:e.monetized_resource_metadata)}var k=((m=k||{}).POST_COMPOSER="POST_COMPOSER",m.NAVBAR="NAVBAR",m.RECENT_FILES_DIRECT_LINK="RECENT_FILES_DIRECT_LINK",m.IFRAME="IFRAME",m),x=((g=x||{}).ACTIVE="active",g.INACTIVE="inactive",g),F=((f=F||{}).PASTE="paste",f.DROP="drop",f.FILE_INPUT="file_input",f),U=((_=U||{})[_.TRY_IT_OUT=0]="TRY_IT_OUT",_[_.OPEN=1]="OPEN",_);y.object({id:y.string().nullish(),hubFileId:y.string().nullish(),pluginId:y.string().nullish(),widgetId:y.string().nullish(),oneStars:y.number(),twoStars:y.number(),threeStars:y.number(),fourStars:y.number(),fiveStars:y.number(),totalRatings:y.number(),avgRating:y.number().nullish(),createdAt:y.date().nullish(),updatedAt:y.date().nullish()})},83327:(e,r,n)=>{"use strict";n.d(r,{Y:()=>o});var i=n(30654),a=n(78787);let o=i.object({monetized_resource_metadata:a.ii.optional()})},1730:(e,r,n)=>{"use strict";let i;n.d(r,{G3:()=>o,fe:()=>s});var a=n(30654),o=((i=o||{}).SUCCEEDED="succeeded",i.PENDING="pending",i.CANCELED="canceled",i.REFUNDED="refunded",i.TRIALING="trialing",i.SUBSCRIPTION_PAYMENT_FAILED="subscription_payment_failed",i.INVOICE_FINALIZATION_FAILED="invoice_finalization_failed",i.DISPUTED="disputed",i);let s=a.object({status:a.nativeEnum(o),purchased_at:a.string().nullable(),subscription_expires_at:a.string().nullable(),subscription_canceled_at:a.string().nullable(),refund_reason:a.string().nullable(),monetized_resource_metadata_id:a.string(),subscription_interval:a.string().nullable()})},35691:(e,r,n)=>{"use strict";let i,a;n.d(r,{u:()=>s});var o=((i=o||{}).VISIBLE="visible",i.TEXT="text-data",i.OVERRIDDEN_SYMBOL_ID="overridden-symbol-id",i),s=((a=s||{}).TYPED="typed",a.VARIANT="variant",a)},874:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Bi:()=>l,Pj:()=>d,vL:()=>s});var s=((i=s||{}).FILE="file",i.FOLDER="folder",i.PAGE="page",i),l=((a=l||{}).TEAM_LIBRARY="team_library",a.AUDIO="audio",a.VIEW_ONLY_PROJECT="view_only_project",a.INVITE_ONLY_PROJECT="invite_only_project",a.VOTING="voting",a.PUBLISH_STYLES="publish_styles",a.PROTOTYPING_MULTIPLE_ACTIONS="prototyping_multiple_actions",a.PROTOTYPING_VARIABLES="prototyping_variables",a.PROTOTYPING_CONDITIONAL_ACTIONS="prototyping_conditional_actions",a.VARIABLES_MODES="variables_modes",a.OPEN_SESSION="open_session",a.PROJECT_TRANSFER="project_transfer",a.PROTOTYPE_SHARING="prototype_sharing",a.PASSWORD_PROTECTION="password_protection",a.VERSION_HISTORY="version_history",a.VIDEOS_IN_PROTOTYPES="videos_in_prototypes",a.PLUGIN_ANALYTICS="plugin_analytics",a.WIDGET_ANALYTICS="widget_analytics",a.SHARED_FONTS="shared_fonts",a.DEV_MODE="dev_mode",a.DEV_MODE_ADMIN_SETTINGS="dev_mode_admin_settings",a),d=((o=d||{}).TEAM_CREATION_SPEED_BUMP="team_creation_speed_bump",o)},876:(e,r,n)=>{"use strict";let i,a,o,s,l,d;n.d(r,{Kn:()=>c,NQ:()=>h,PW:()=>u,Wo:()=>g,ap:()=>p,mg:()=>m});var c=((i=c||{}).TO_SOURCE="to_source",i.FROM_SOURCE="from_source",i),u=((a=u||{}).ON_MERGE="on_merge",a.ON_IMAGE_GENERATION="on_image_generation",a.ON_MODAL_OPEN="on_modal_open",a.ON_MODAL_CLOSE="on_modal_close",a.UNHANDLED="unhandled",a),p=((o=p||{}).TOTAL="total",o.GRANULAR="granular",o),h=((s=h||{}).CPP_ONLY="cpp_only",s.JAVACRIPT_ONLY="js_only",s),m=((l=m||{}).SUMMARY="summary",l.DETAIL="detail",l.COMPARE_THUMBNAIL="compare_thumbnail",l),g=((d=g||{}).MAIN="main",d.BRANCH="branch",d)},54351:(e,r,n)=>{"use strict";let i,a;n.d(r,{A:()=>o,b:()=>s});var o=((i=o||{}).FILE="file",i.REPO="repo",i.FILE_IMPORT="file_import",i),s=((a=s||{})[a.FOLDER_ROW=0]="FOLDER_ROW",a[a.NEW_FOLDER_TEAM=1]="NEW_FOLDER_TEAM",a)},51e3:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Ah:()=>h,EE:()=>p,H1:()=>d,lH:()=>u});var s=n(72933),l=n(30654),d=((i=d||{}).EDIT="EDIT",i.VIEW="VIEW",i.DISABLE="DISABLE",i);let c=l.object({team_name:l.string(),incoming_webhook:l.object({channel:l.string()})}),u=l.normalize("Folder",l.object({id:l.primaryKey(),name:l.string(),description:l.string().nullable(),path:l.string(),team_id:l.string().nullable(),org_id:l.string().optional().nullable(),is_subscribed:l.boolean(),is_favorited:l.boolean().optional(),updated_at:l.string(),touched_at:l.string().optional(),created_at:l.string(),is_invite_only:l.boolean(),is_view_only:l.boolean(),settings:l.object({webhooks:l.record(c).optional(),legacy_team_root_folder:l.boolean().optional()}).nullable(),deleted_at:l.string().nullable(),appData:l.object({temp:l.boolean().optional()}).optional(),shared_at:l.string().optional().nullable(),shared_by:l.string().optional().nullable(),shared_by_text:l.string().optional().nullable(),org_or_team_id:l.string().optional().nullable(),parent_org_id:l.string().optional().nullable(),shared_by_user:l.object({id:l.string(),name:l.string().nullable()}).optional().nullable(),parent_org:l.object({id:l.string(),imgUrl:l.union([l.string(),l.undefined()]),name:l.string()}).optional().nullable(),parent_team:l.object({id:l.string(),imgUrl:l.union([l.string(),l.undefined()]),name:l.string()}).optional().nullable(),folderPerms:s.CL.optional(),sharing_audience_control:l.string().optional().nullable(),team_access:l.string().optional().nullable()}));function p(e,r){return`${location.origin}/files/${r?r+"/":""}project/${e}`}var h=((a=h||{}).FolderListView="folder-list-view",a),m=((o=m||{}).NAME="name",o.TEAM="team",o.OWNER="owner",o.LAST_MODIFIED="lastModified",o.CREATED_AT="createdAt",o.SHARED_AT="sharedAt",o)},45020:(e,r,n)=>{"use strict";let i,a,o,s,l;n.d(r,{UE:()=>h,Ws:()=>p,ai:()=>c,f6:()=>d,lF:()=>m});var d=((i=d||{}).FILE_BROWSER_SIDEBAR_RECENTS="file_browser_sidebar_recents",i.FILE_BROWSER_SIDEBAR_DRAFTS="file_browser_sidebar_drafts",i.FILE_BROWSER_SIDEBAR_FOLDER="file_browser_sidebar_folder",i.FILE_BROWSER_TOOLBAR_RECENTS="file_browser_toolbar_recents",i.FILE_BROWSER_TOOLBAR_FOLDER="file_browser_toolbar_folder",i.FILE_BROWSER_TOOLBAR_DRAFTS="file_browser_toolbar_drafts",i.FILE_BROWSER_TOPBAR_DELETED="file_browser_topbar_deleted",i.FILE_BROWSER_TOPBAR_RECENTS="file_browser_topbar_recents",i.FILE_BROWSER_TOPBAR_FOLDER="file_browser_topbar_folder",i.FILE_BROWSER_TOPBAR_DRAFTS="file_browser_topbar_drafts",i.FILE_BROWSER_TOPBAR_OFFLINE="file_browser_topbar_offline",i.FILE_BROWSER_EMPTY_FOLDER="file_browser_empty_folder",i.FILE_BROWSER_FEED="file_browser_feed",i.FILE_BROWSER_FOLDER_CONTEXT_MENU="file_browser_folder_context_menu",i.FILE_BROWSER_FOLDER_EMPTY_TILE="file_browser_folder_empty_tile",i.FILE_BROWSER_STARTER_TEAM_OVERVIEW="file_browser_starter_team_overview",i.FILE_BROWSER_TEAM_FILE_LIMIT_PAYWALL="file_browser_team_file_limit_paywall",i.FILE_BROWSER_TEAM_FOLDER_BUTTONS="file_browser_team_folder_buttons",i.FILE_BROWSER_NUX="file_browser_nux",i.FILE_BROWSER_ONBOARDING="file_browser_onboarding",i.FILE_BROWSER_TEMPLATES_BAR="file_browser_templates_bar",i.CURSOR_BOT_END_MODAL="cursor_bot_end_modal",i.DESIGN_TOOLTIPS_PLUS_OUTRO_MODAL="design_tooltips_plus_outro_modal",i.DESIGN_VIDEO_OUTRO_MODAL="design_video_outro_modal",i.FIGJAM_NUDGE_MODAL="figjam_nudge_modal",i.DESKTOP_NEW_TAB_BUTTON="desktop_new_tab_button",i.FIGJAM_WHATS_NEW_MODAL="figjam_whats_new_modal",i.FIGJAM_AI_ONBOARDING_MODAL="figjam_ai_onboarding_announcement",i.FIGJAM_EDITOR_FILE_CREATE_BUTTON="figjam_editor_file_create_button",i.OFFLINE_NOTIFICATION="offline_notification",i.FIGJAM_MINI_HOME="figjam_mini_home",i.COMMUNITY_COLLECTIONS_PAGE="community_collections_page",i.FIGJAM_MAKE_SOMETHING_POPUP="figjam_make_something_popup",i),c=((a=c||{}).NEW_TAB="new_tab",a.SAME_TAB="same_tab",a),u=((o=u||{})[o.NONE=0]="NONE",o[o.FOR_OPEN=1]="FOR_OPEN",o[o.FOR_MENU=2]="FOR_MENU",o);function p(e){return e?{id:e.id,name:e.name,org_id:e.orgId,img_url:e.imgUrl??void 0,subscription:e.subscription,restrictions_list:e.restrictionsList,student_team_at:e.studentTeamAt?e.studentTeamAt.toString():null,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toString():null,deleted_at:e.deletedAt?e.deletedAt.toString():null,created_at:e.createdAt.toString(),student_team:!!e.studentTeamAt}:null}function h(e,r){let n={key:e.key,teamId:e.team_id,folderId:e.folder_id,clientMeta:e.client_meta,parentOrgId:e.parent_org_id||null,fileRepoId:e.file_repo_id,sourceFileKey:e.source_file_key,linkAccess:e.link_access,hasFileLinkPassword:e.has_file_link_password,hasProtoLinkPassword:e.has_proto_link_password,updatedAt:new Date(e.updated_at||e.created_at),trashedAt:e.trashed_at?new Date(e.trashed_at):null,deletedAt:e.deleted_at?new Date(e.deleted_at):null,creatorId:e.creator_id,createdAt:new Date(e.created_at),name:e.name,_name:e.name,editorType:e.editor_type||"design",orgBrowsable:e.org_browsable||null,thumbnailGuid:e.thumbnail_guid||null,sourceCheckpointId:e.source_checkpoint_id||null,license:e.license,isTeamTemplate:!!e.is_team_template,figFileLinks:[],isFavorited:!!(null==e?void 0:e.is_favorited),isTryFile:e.is_try_file,votingSessions:null,template:null,canPublishTemplate:!1,viewerExportRestricted:!!e.viewer_export_restricted,publishedHubFile:null,ownerRole:null,trackTags:{isTemplate:e.is_template||null},libraryKey:e.library_key??""};if(!r)return n;let{team:i,folder:a,repo:o,sourceFile:s,can_delete:l,can_edit:d,can_edit_canvas:c,can_access_dev_mode_entry_point:u,can_access_full_dev_mode:p,can_manage:h,can_view:m,showEditButton:g,hasEduGracePeriod:f,org:_,orgUser:y,teamUser:E}=r;return{...n,team:function(e,r=!1){return e?{id:e.id,name:e.name,orgId:e.org_id,subscription:e.subscription,imgUrl:e.img_url||null,restrictionsList:e.restrictions_list||[],studentTeamAt:e.student_team_at?new Date(e.student_team_at):e.student_team?new Date:null,trialPeriodEnd:null,gracePeriodEnd:e.grace_period_end?new Date(e.grace_period_end):null,deletedAt:e.deleted_at?new Date(e.deleted_at):null,createdAt:new Date(e.created_at),eduGracePeriod:{id:"",isValid:r},licenseGroupId:e.license_group_id,licenseGroup:e.license_group,workspaceId:e.workspace_id,orgAccess:e.org_access}:null}(i,f),project:function(e,r=!0,n=!0){return e?{id:e.id,orgId:e.org_id||null,teamId:e.team_id,path:e.path,canEdit:r,canRename:n,inviteOnlyAt:e.is_invite_only?new Date:null,viewOnlyAt:e.is_view_only?new Date:null,subscription:e.is_subscribed?{}:null,description:e.description}:null}(a),repo:o?{id:o.id,name:o.name,folderId:o.folder_id,teamId:o.team_id,defaultFileKey:o.default_file_key}:null,sourceFile:s?{key:s.key,name:s.name,fileRepoId:s.file_repo_id}:null,showEditButton:g,canDelete:l,canEdit:d,canEditCanvas:c,canAccessDevModeEntryPoint:u,canAccessFullDevMode:p,canManage:h,canView:m,org:_?{figjamDisabledAt:_.figjam_disabled_at,inviteWhitelist:{guestInviteSetting:_.invite_whitelist_guest_invite_setting},name:_.name}:null,currentPartialOrgUser:y?{draftsFolderId:y.drafts_folder_id,whiteboardPaidStatus:y.whiteboard_paid_status,accountType:y.design_paid_status,designAccountTypeRequest:null,whiteboardAccountTypeRequest:null,devModeAccountTypeRequest:null}:null,currentTeamUser:E?{whiteboardPaidStatus:E.whiteboard_paid_status,designPaidStatus:E.design_paid_status,designAccountTypeRequest:null,whiteboardAccountTypeRequest:null}:null}}var m=((s=m||{})[s.BAR=0]="BAR",s[s.SPINNER=1]="SPINNER",s),g=((l=g||{})[l.CUT=0]="CUT",l[l.COPY=1]="COPY",l[l.PASTE=2]="PASTE",l)},13408:(e,r,n)=>{"use strict";let i,a,o,s;n.d(r,{I7:()=>b,aP:()=>p,kM:()=>v,o1:()=>m,xK:()=>y});var l=n(30654),d=n(82225),c=n(83894),u=((i=u||{}).RESOURCE_PAGE="resource_page",i.EDITOR="editor",i.UNIVERSAL_POSTING="universal_posting",i.ADMIN="admin",i),p=((a=p||{})[a.EDIT=0]="EDIT",a[a.PREVIEW=1]="PREVIEW",a[a.UPLOADING=2]="UPLOADING",a[a.SUCCESS=3]="SUCCESS",a[a.FAILURE=4]="FAILURE",a);let h=l.object({"500_500":l.string().optional(),"120_120":l.string().optional()});var m=((o=m||{}).USER="user",o.TEAM="team",o.ORG="org",o);let g=l.object({email:l.string().optional(),user_id:l.string(),is_primary_user:l.boolean(),can_sell_on_community:l.boolean().optional()}),f=d.n.and(l.object({id:l.string(),name:l.string(),profile_handle:l.string(),img_url:l.string().optional(),img_urls:h,current_user_is_following:l.boolean(),current_user_is_followed:l.boolean(),is_restricted_by_current_user:l.boolean(),entity_type:l.nativeEnum(m),primary_user_id:l.string().nullable(),location:l.string().nullable(),follower_count:l.number(),following_count:l.number(),isPending:l.boolean().optional(),associated_users:l.array(g).optional(),has_published:l.boolean().optional()})),_=l.object({accepted:l.array(f),pending:l.array(f).optional()}),y=l.object({creator:c.aw,publisher:f,community_publishers:_}),E=c.aw.pick({id:!0,email:!0}),b=l.object({accepted:l.array(c.aw),pending:l.array(E).optional()});var v=((s=v||{}).OWNER="owner",s.PUBLISHER="publisher",s.NONE="none",s)},73454:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h;n.d(r,{$1:()=>D,AT:()=>L,Co:()=>T,Dt:()=>V,E8:()=>P,GI:()=>A,Ht:()=>R,M$:()=>I,Nv:()=>b,PW:()=>N,Qx:()=>M,Rn:()=>H,Tb:()=>E,Vk:()=>F,Yu:()=>y,ZI:()=>B,kz:()=>U,o:()=>x,tD:()=>S,v$:()=>v,wg:()=>C});var m=n(86571),g=n(15009),f=n(39863),_=n(75224);let y="NO_TEAM",E=()=>(0,f.t)("sidebar.drafts"),b="NO_CONTAINING_STATE_GROUP_ID",v=200,S=1e3;var I=((i=I||{}).UNPUBLISH="unpublish",i.PUBLISH="publish",i);let T=(0,_.lt)("REPLACE_ME_PLACEHOLDER_LIBRARY_KEY");var w=((a=w||{})[a.THIRTY_DAYS=0]="THIRTY_DAYS",a[a.SIXTY_DAYS=1]="SIXTY_DAYS",a[a.NINETY_DAYS=2]="NINETY_DAYS",a[a.YEAR=3]="YEAR",a);let C={totalLibraries:0,totalComponents:0,totalStateGroups:0,totalStyles:0,totalVariableCollections:0,totalModuleAssets:0,teamsWithLibraries:0,files:[]};function A(e){return!!e.backingVariableSetId}var N=((o=N||{}).COMPONENT="component",o.STYLE="style",o.STATE_GROUP="state_group",o.VARIABLE="variable",o.VARIABLE_SET="variable_set",o.MODULE="module",o.VARIABLE_OVERRIDE="variable_override",o),O=((s=O||{}).STYLE="style",s.VARIABLE="variable",s);let R=["component","state_group","style","variable","variable_set","module"];var P=((l=P||{}).NEW="NEW",l.CURRENT="CURRENT",l.CHANGED="CHANGED",l.DELETED="DELETED",l.NOT_STAGED="NOT_STAGED",l),L=((d=L||{}).LOCAL="LOCAL",d.LIBRARY="LIBRARY",d.DANGLING="DANGLING",d),D=((c=D||{})[c.LOCAL=0]="LOCAL",c[c.PUBLISHED=1]="PUBLISHED",c),M=((u=M||{})[u.NONE=0]="NONE",u[u.ASSEMBLING_COMPONENTS=1]="ASSEMBLING_COMPONENTS",u[u.UPLOADING=2]="UPLOADING",u),k=((p=k||{})[p.LIBRARIES=0]="LIBRARIES",p[p.FONTS=1]="FONTS",p[p.UPDATES=2]="UPDATES",p),x=((h=x||{})[h.LIBRARY=0]="LIBRARY",h[h.HUBFILE=1]="HUBFILE",h);function F(e){var r;return{name:(r=e.commonInfo).name,codeSyntax:r.codeSyntax,node_id:r.id,version:r.version,userFacingVersion:r.userFacingVersion,variableSetId:r.variableSetId,rootVariableKey:r.rootVariableKey,overrideValues:r.overrideValues,type:"variable_override",subscriptionStatus:"LOCAL",isPublishable:!1}}function U(e){return{type:"variable",subscriptionStatus:"LOCAL",variableSetId:e.setID,node_id:e.id,sortPosition:e.sortPosition,resolvedType:e.resolvedType,version:(0,g.nK)(e.version),userFacingVersion:(0,g.nK)(e.userFacingVersion),modeValues:e.modeValues,description:e.descriptionPlain,name:e.name,isPublishable:e.isPublishable,isSoftDeleted:e.isSoftDeleted,scopes:e.scopes,codeSyntax:e.codeSyntax,keyForPublish:(0,g.ey)(e.keyForPublish)}}function B(e){return{type:"variable",subscriptionStatus:"SUBSCRIBED",variableSetId:e.setID,node_id:e.id,sortPosition:e.sortPosition,resolvedType:e.resolvedType,version:(0,g.nK)(e.version),userFacingVersion:(0,g.nK)(e.userFacingVersion),modeValues:e.modeValues,description:e.descriptionPlain,name:e.name,key:(0,g.ey)(e.key),file_key:e.fileKey,library_key:(0,_.lt)(e.libraryKey),scopes:e.scopes,codeSyntax:e.codeSyntax}}function V(e){let r={type:"variable_set",subscriptionStatus:"LOCAL",node_id:e.id,version:(0,g.Vt)(e.version),userFacingVersion:(0,g.Vt)(e.userFacingVersion),modes:e.modes,name:e.name,isPublishable:e.isPublishable,defaultModeID:e.defaultModeID,isSoftDeleted:e.isSoftDeleted,variableSetError:e.variableSetError,isExtendable:e.isExtendable,keyForPublish:e.keyForPublish};return e.backingVariableSetId?{...r,backingVariableSetId:e.backingVariableSetId,rootVariableSetKey:e.rootVariableSetKey??g.yG.INVALID,rootVariableSetId:e.rootVariableSetId??m.gr.INVALID}:{...r}}function H(e){let r={type:"variable_set",subscriptionStatus:"SUBSCRIBED",node_id:e.id,version:(0,g.Vt)(e.version),userFacingVersion:(0,g.Vt)(e.userFacingVersion),modes:e.modes,name:e.name,defaultModeID:e.defaultModeID,key:(0,g.yG)(e.key),file_key:e.fileKey,library_key:(0,_.lt)(e.libraryKey),pageIds:e.pageIds,isExtendable:e.isExtendable};return e.backingVariableSetId?{...r,backingVariableSetId:e.backingVariableSetId,rootVariableSetKey:e.rootVariableSetKey??g.yG.INVALID,rootVariableSetId:e.rootVariableSetId??m.gr.INVALID}:{...r}}},28588:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{CN:()=>_,PD:()=>d,VY:()=>m,Vx:()=>s,Wn:()=>f,cU:()=>g,id:()=>c,xp:()=>p,yi:()=>l});let s=100,l=1e8,d=30,c=3e7;var u=((i=u||{}).PNG="image/png",i.JPEG="image/jpeg",i.GIF="image/gif",i);let p=Object.values(u);var h=((a=h||{}).MP4="video/mp4",a.WEBM="video/webm",a.QUICKTIME="video/quicktime",a);let m=Object.values(h),g=["video/quicktime"];var f=((o=f||{})[o.INVALID_FILE_TYPE=0]="INVALID_FILE_TYPE",o[o.DUPLICATE_FILE_UPLOAD=1]="DUPLICATE_FILE_UPLOAD",o[o.MAX_VIDEO_SIZE_EXCEEDED=2]="MAX_VIDEO_SIZE_EXCEEDED",o[o.MAX_IMAGE_SIZE_EXCEEDED=3]="MAX_IMAGE_SIZE_EXCEEDED",o[o.MAX_UPLOADS_EXCEEDED=4]="MAX_UPLOADS_EXCEEDED",o[o.FAILED_TO_UPLOAD=5]="FAILED_TO_UPLOAD",o);let _={type:5,params:{numFiles:1}}},79702:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Ae:()=>h,Lv:()=>p,PW:()=>u,gK:()=>m,zk:()=>c});var s=n(35283);n(86571),n(87918);var l=n(9511);l.QOV.DEFAULT,l.NLJ.SELECT,l.m1T.DESIGN_LAYOUT,l.lyf.LAYOUT,l.vRS.NONE,l.rrT.NONE,l.kul.UNJOINED,l.nzw.NONE,l.W8Y.NO_SESSION,l.aTl.ATTACHED_FILE_TIP,l.YIO.NONE;var d=((i=d||{})[i.MIXED_OR_NO_SYMBOLS=0]="MIXED_OR_NO_SYMBOLS",i[i.SYMBOLS_ONLY=1]="SYMBOLS_ONLY",i),c=((a=c||{})[a.NO=0]="NO",a[a.YES=1]="YES",a[a.YES_WITHOUT_TRACKING_AS_EDIT=2]="YES_WITHOUT_TRACKING_AS_EDIT",a[a.YES_FORCE_TRACKING_AS_EDIT=3]="YES_FORCE_TRACKING_AS_EDIT",a[a.NO_BUT_TRACK_AS_EDIT=4]="NO_BUT_TRACK_AS_EDIT",a),u=((o=u||{})[o.NOT_ASSET=0]="NOT_ASSET",o[o.ASSET_ICON=1]="ASSET_ICON",o[o.ASSET_IMAGE=2]="ASSET_IMAGE",o[o.ASSET_GIF=4]="ASSET_GIF",o[o.ASSET_VIDEO=8]="ASSET_VIDEO",o[o.ASSET_COMPONENT=16]="ASSET_COMPONENT",o);function p(e){switch(e){case l.rXF.BOOLEAN:return"BOOLEAN";case l.rXF.COLOR:return"COLOR";case l.rXF.FLOAT:return"FLOAT";case l.rXF.STRING:return"STRING";case l.rXF.SYMBOL_ID:return"SYMBOL_ID";case l.rXF.MAP:return"MAP";case l.rXF.FONT_STYLE:return"FONT_STYLE";case l.rXF.TEXT_DATA:return"TEXT_DATA";default:(0,s.xb)(e)}}function h(e){return e.map(e=>l.j0r[e])}function m(e){return e?e.map(e=>l.j0r[e]):[l.j0r.ALL_SCOPES]}},78787:(e,r,n)=>{"use strict";let i,a,o,s;n.d(r,{PN:()=>h,UC:()=>p,Uv:()=>d,fN:()=>m,ii:()=>c});var l=n(30654);function d(e){return e.is_subscription}let c=l.object({id:l.string(),price:l.number(),is_subscription:l.boolean(),trial_length_in_days:l.number().optional(),has_freemium_code:l.boolean().optional(),can_increase_price:l.boolean().optional(),price_updated_at:l.string().optional(),annual_discount_percentage:l.number().optional(),annual_discount_active_at:l.date().optional(),annual_price:l.number().optional()});var u=((i=u||{}).DOESNT_MEET_NEEDS="doesnt_meet_needs",i.TECHNICAL_ISSUES="technical_issues",i.TOO_EXPENSIVE="too_expensive",i.FOUND_ALTERNATIVE="found_alternative",i.OTHER="other",i),p=((a=p||{}).FIGMA_FIRST_PARTY="figma_first_party",a.FIGMA_PARTNER="figma_partner",a.OFF_PLATFORM="off_platform",a.HAS_FREEMIUM_CODE="has_freemium_code",a),h=((o=h||{}).FLAGGED="flagged",o.MIGRATING="migrating",o),m=((s=m||{}).MONTHLY="monthly",s.ANNUALLY="annually",s)},2026:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c;n.d(r,{Gv:()=>S,X1:()=>C,ju:()=>A});var u=n(30654),p=n(99506),h=n(53609),m=n(43279),g=n(22233),f=n(22139),_=n(39961),y=((i=y||{}).ANY="any",i.GOOGLE="google",i.SAML="saml",i);let E=u.union([u.literal("AUTO"),u.literal("GOOD"),u.literal("DELINQUENT"),u.literal("SUSPENDED"),u.literal("DEACTIVATED")]);var b=((a=b||{}).MANUAL="manual",a.DISABLED="disabled",a.QUARTERLY="quarterly",a.CHARGE_IMMEDIATELY="quarterly_auto_charge",a);let v=u.nativeEnum(b);var S=((o=S||{}).REQUIRE_APPROVAL="require_approval",o.BANNED="banned",o);let I=u.nativeEnum(S);var T=((s=T||{}).US="US",s.EU="EU",s);let w=u.nativeEnum(T);u.object({name:u.string(),img_url:u.string().optional(),id:u.string()});var C=((l=C||{}).Initial="Initial",l.ChoosePlan="ChoosePlan",l.AddCollaborators="AddCollaborators",l.PseudoCreateTeam="PseudoCreateTeam",l.CreateTeam="CreateTeam",l.TeamSelect="TeamSelect",l.Details="Details",l.Payment="Payment",l.Review="Review",l.Confirmation="Confirmation",l),A=((d=A||{}).ENTERPRISE="enterprise",d.ORGANIZATION="organization",d);let N=u.nativeEnum(A);var O=((c=O||{}).DEPROVISION="deprovision",c);m.bV.extend({id:u.string(),name:u.string(),legal_name:u.string().optional(),domain_capture:u.boolean(),created_at:u.string().optional(),updated_at:u.string().optional(),deleted_at:u.string().optional(),img_url:u.string().optional(),handle:u.string().optional(),figjam_disabled_at:u.date().nullable(),realtime_token:u.string().optional(),standing:E,stripe_customer_id:u.string().optional(),invite_whitelist_enforced:u.boolean(),invite_whitelist_enforced_guests:u.boolean(),invite_whitelist_guest_invite_setting:I.nullable(),invite_whitelist_member_allowlist_enabled:u.boolean().nullable(),ip_ranges:u.array(u.string()),past_due_at:u.string().nullable(),plugins_whitelist_enforced:u.boolean(),widgets_whitelist_enforced:u.boolean(),plugin_requests_allowed:u.boolean(),widget_requests_allowed:u.boolean(),public_plugins_allowed:u.boolean(),voice_enabled:u.boolean().optional(),billing:v.nullable(),google_sso_only:u.boolean(),saml_sso_only:u.boolean(),locked_quantity_full_members:u.number().nullable(),locked_quantity_figjam_members:u.number().nullable(),featured_scim_metadata:p.tw.nullable(),community_profile_id:u.string().optional(),community_profile_handle:u.string().optional(),template_picker_disabled:u.boolean().optional(),experiment_seed:u.string().optional(),experiment_eligible:u.boolean().optional(),bigma_enabled:u.boolean().optional(),bigma_enabled_at:u.number().optional(),security_add_on_enabled_at:u.number().optional(),workshop_enabled:u.boolean().optional(),cursor_chat_disabled:u.boolean().optional(),plan:N.optional(),design_default_paid_status:p.cA.optional(),whiteboard_default_paid_status:p.cA.optional(),k12_google_org:u.boolean(),shared_org_license_group_settings:_.Vh.nullable(),vat_gst_id:u.string().optional().nullable(),tax_id_verification_status:p.xy.optional(),are_custom_templates_allowed:u.boolean(),should_auto_renew:u.boolean(),has_automatic_upcoming_invoice:u.boolean(),target_locality:w.optional(),org_domains:g.N.optional().nullable(),workspaces_count:u.number().optional(),cmty_publish_as_user_enabled:u.boolean().optional(),license_groups_count:u.number().optional(),workspaces_nux_active_at:u.string().optional(),ai_features_disabled:u.boolean().optional(),is_dev_mode_opt_in_accepted:u.boolean().optional(),has_invalid_upgrades:u.boolean().optional(),figma_provided_libraries_disabled:u.boolean().optional(),billing_api:h.z,stripe_memo:u.string().optional(),self_serve:u.boolean().optional(),invoice_currency:u.nativeEnum(f.Sj).optional()})},22139:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{$V:()=>m,CO:()=>u,EB:()=>h,R$:()=>d,Sj:()=>c,UW:()=>p,tY:()=>s,tn:()=>l});var s=((i=s||{})[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.ANNUAL=1]="ANNUAL",i[i.MONTHLY=2]="MONTHLY",i[i.STUDENT=3]="STUDENT",i);let l={UPGRADE_NEW_TEAM:"upgrade_new_team",PLAN_COMPARISON:"plan_comparison",CREATE_TEAM:"create_team",ADD_COLLABORATORS:"add_collaborators",CHOOSE_PLAN:"choose_plan",PAYMENT_AND_ADDRESS:"payment_and_address",CONFIRM_PAY:"confirm_pay"};var d=((a=d||{}).MONTHLY="monthly",a.ANNUAL="annual",a);let c={USD:"usd",CAD:"cad",EUR:"eur",GBP:"gbp",JPY:"jpy"};Object.values(c);let u="US",p="JP",h=e=>({line1:"",line2:"",country:e||u,city:"",region:"",postal_code:""});function m(e){return""===e.line1&&""===e.line2&&""===e.city&&""===e.region&&""===e.postal_code}var g=((o=g||{}).PRODUCT_PRO_DESIGN_ANNUAL="prod_BTrZbmnROhwnmX",o.PRODUCT_PRO_DESIGN_MONTHLY="prod_BUXN0CamqLCsuF",o.PRODUCT_PRO_FIGJAM_ANNUAL="figjam_annual_usd_36",o.PRODUCT_PRO_FIGJAM_MONTHLY="figjam_monthly_usd_5",o)},92079:(e,r,n)=>{"use strict";let i,a;n.d(r,{$$:()=>b,DA:()=>v,Lh:()=>O,Q1:()=>T,Qw:()=>E,RO:()=>w,SH:()=>A,SO:()=>y,UJ:()=>D,X9:()=>C,Xj:()=>S,Zy:()=>f,jL:()=>L,qT:()=>I,xp:()=>P,zS:()=>g});var o=n(66712),s=n(39863),l=n(1505),d=n(99506),c=n(20113),u=n(43987),p=n(6193),h=n(22139),m=n(98606),g=((i=g||{}).MOST_POPULAR="MOST_POPULAR",i.RECOMMENDED="RECOMMENDED",i.MOST_VALUED="MOST_VALUED",i);let f={MOST_POPULAR:()=>(0,s.t)("plan_comparison.plans.most_popular"),RECOMMENDED:()=>(0,s.t)("plan_comparison.plans.recommended"),MOST_VALUED:()=>(0,s.t)("plan_comparison.plans.most_valued")},_={name:()=>(0,s.t)("plan_details.professional"),description:()=>(0,s.t)("plan_comparison.plans.pro.description"),buttonText:()=>(0,s.t)("plan_comparison.plans.pro.choose_button"),hasPrice:!0,hasAnnualOnlyMessage:!1,highlightBadgeText:f.MOST_POPULAR,canContactSales:!1,trackingDescriptor:l.c.UPGRADE_TO_PROFESSIONAL},y={[u.Jm.FREE]:{name:()=>(0,s.t)("plan_details.starter"),description:()=>(0,s.t)("plan_comparison.plans.starter.description"),buttonText:()=>(0,s.t)("plan_comparison.plans.starter.choose_button"),hasPrice:!1,canContactSales:!1,hasAnnualOnlyMessage:!1,trackingDescriptor:void 0},[u.Jm.PRO]:{..._},[u.Jm.ORG]:{name:()=>(0,s.t)("plan_details.organization"),description:()=>(0,s.t)("plan_comparison.plans.org.description"),buttonText:()=>(0,s.t)("plan_comparison.plans.org.choose_button"),hasPrice:!0,highlightBadgeText:e=>f[e](),canContactSales:!0,hasAnnualOnlyMessage:!0,trackingDescriptor:l.c.UPGRADE_TO_ORGANIZATION},[u.Jm.ENT]:{name:()=>(0,s.t)("plan_details.enterprise"),description:()=>(0,s.t)("plan_comparison.plans.ent.description"),buttonText:()=>(0,s.t)("plan_comparison.plans.ent.choose_button"),hasPrice:!0,canContactSales:!1,hasAnnualOnlyMessage:!0,trackingDescriptor:l.c.CONTACT_SALES},[u.Jm.EDU]:{..._,additionalMessage:()=>(0,s.t)("plan_details.free_for_students_and_educators"),trackingDescriptor:l.c.UPGRADE_TO_EDUCATION}},E=[u.Jm.FREE,u.Jm.PRO,u.Jm.ORG],b=[u.Jm.FREE,u.Jm.EDU,u.Jm.ORG],v=[u.Jm.PRO,u.Jm.ORG,u.Jm.ENT];var S=((a=S||{}).USAGE_LIMITS="usage-limits",a.USAGE_LIMITS_V2="usage-limits-v2",a.VERSION_HISTORY="version-history",a.LIBRARIES="libraries",a.SHARED_LIBRARIES="shared-libraries",a.CUSTOM_PERMISSIONS="custom-permissions",a.AUDIO_CONVERSATIONS="audio-conversations",a.SECURITY="security",a.DESIGN_SYSTEM_ANALYTICS="design-system-analytics",a.CUSTOM_TEMPLATES="custom-templates",a.UNIFIED_ADMIN_AND_BILLING="unified-admin-and-billing",a.BRANCHING_AND_MERGING="branching-and-merging",a.SINGLE_SIGN_ON="single-sign-on",a.WORKSPACES="workspaces",a.GUEST_ACCESS_CONTROLS="guest-access-controls",a.ONBOARDING="onboarding",a.ADVANCED_PROTOTYPING="advanced-prototyping",a.ADVANCED_INSPECTION="advanced-inspection",a.CODEGEN_LANGUAGES="codegen-languages",a.ANNOTATIONS_AND_STATUS="annotations-and-status",a.COMPARE_CHANGES="compare-changes",a.PLUGINS_AND_EXTENSIONS="plugins-and-extensions",a.PRIVATE_PLUGINS="private-plugins",a.DEV_MODE="dev-mode",a.VIDEO_IN_PROTOTYPE="video-in-prototype",a.PROJECT_AND_TEAM_TRANSFER="project-and-team-transfer",a.PRIVATE_PROJECTS="private-projects",a.PROTOTYPE_SHARING_PERMISSIONS="prototype-sharing-permissions",a.DESIGN_SYSTEM_MODES="design-system-modes",a.PASSWORD_PROTECTION="password-protection",a.DEFAULT_ROLES="default-roles",a.OPEN_SESSIONS="open-sessions",a.VOTING="voting",a.CUSTOM_TEMPLATES_V2="custom-templates-v2",a.CUSTOM_COLOR_PALETTES="custom-color-palettes",a.SHARED_FONTS="shared-fonts",a.CENTRALIZED_ADMIN="centralized-admin",a.DOMAIN_CAPTURE="domain-capture",a.LINK_ACCESS_CONTROL="link-access-control",a.CENTRALIZED_CONTENT_MANAGEMENT="centralized-content-management",a.ACTIVITY_LOGS="activity-logs",a.PLUGIN_WIDGET_MANAGEMENT="plugin-widget-management",a.DEV_MODE_V2="dev-mode-v2",a.AUDIO_CONVERSATIONS_V2="audio-conversations-v2",a.DESIGN_SYSTEM_ANALYTICS_V2="design-system-analytics-v2",a.SINGLE_SIGN_ON_V2="single-sign-on-v2",a.PRIVATE_PLUGINS_V2="private-plugins-v2",a);let I={"usage-limits":{id:"Usage limits",name:()=>(0,s.t)("plan_comparison.chart.usage_limits.name"),details:()=>(0,s.t)("plan_comparison.chart.usage_limits.details")},"usage-limits-v2":{id:"Usage limits",name:()=>(0,s.t)("plan_comparison.chart.usage_limits.name"),details:()=>(0,s.t)("plan_comparison.chart.usage_limits.details")},"version-history":{id:"Version history",name:()=>(0,s.t)("plan_comparison.chart.version_history.name"),details:()=>(0,s.t)("plan_comparison.chart.version_history.details")},libraries:{id:"Libraries",name:()=>(0,s.t)("plan_comparison.chart.libraries.name"),details:()=>(0,s.t)("plan_comparison.chart.libraries.details")},"shared-libraries":{id:"Shared libraries",name:()=>(0,s.t)("plan_comparison.chart.shared_libraries.name"),details:()=>(0,s.t)("plan_comparison.chart.shared_libraries.details")},"custom-permissions":{id:"Custom file and user permissions",name:()=>(0,s.t)("plan_comparison.chart.custom_permissions.name"),details:()=>(0,s.t)("plan_comparison.chart.custom_permissions.details")},"audio-conversations":{id:"Audio conversations",name:()=>(0,s.t)("plan_comparison.chart.audio_conversations.name"),details:()=>(0,s.t)("plan_comparison.chart.audio_conversations.details")},security:{id:"SSO, advanced security",name:()=>(0,s.t)("plan_comparison.chart.security.name"),details:()=>(0,s.t)("plan_comparison.chart.security.details")},"design-system-analytics":{id:"Design system analytics",name:()=>(0,s.t)("plan_comparison.chart.design_system_analytics.name"),details:()=>(0,s.t)("plan_comparison.chart.design_system_analytics.details")},"custom-templates":{id:"Custom templates",name:()=>(0,s.t)("plan_comparison.chart.custom_templates.name"),details:()=>(0,s.t)("plan_comparison.chart.custom_templates.details")},"unified-admin-and-billing":{id:"Unified admin and billing",name:()=>(0,s.t)("plan_comparison.chart.unified_admin_and_billing.name"),details:()=>(0,s.t)("plan_comparison.chart.unified_admin_and_billing.details")},"branching-and-merging":{id:"Branching and merging",name:()=>(0,s.t)("plan_comparison.chart.branching_and_merging.name"),details:()=>(0,s.t)("plan_comparison.chart.branching_and_merging.details")},"single-sign-on":{id:"Single sign on",name:()=>(0,s.t)("plan_comparison.chart.single_sign_on.name"),details:()=>(0,s.t)("plan_comparison.chart.single_sign_on.details")},workspaces:{id:"Workspaces",name:()=>(0,s.t)("plan_comparison.chart.workspaces.name"),details:()=>(0,s.t)("plan_comparison.chart.workspaces.details")},"guest-access-controls":{id:"Guest access controls",name:()=>(0,s.t)("plan_comparison.chart.guest_access_controls.name"),details:()=>(0,s.t)("plan_comparison.chart.guest_access_controls.details")},onboarding:{id:"Onboarding and account support",name:()=>(0,s.t)("plan_comparison.chart.onboarding.name"),details:()=>(0,s.t)("plan_comparison.chart.onboarding.details")},"advanced-prototyping":{id:"Advanced prototyping",name:()=>(0,s.t)("plan_comparison.chart.advanced_prototyping.name"),details:()=>(0,s.t)("plan_comparison.chart.advanced_prototyping.details")},"advanced-inspection":{id:"Advanced inspection",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.advanced_inspection.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.advanced_inspection.details")},"codegen-languages":{id:"More codegen languages",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.codegen_languages.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.codegen_languages.details")},"annotations-and-status":{id:"Annotations and status",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.annotations_and_status.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.annotations_and_status.details")},"compare-changes":{id:"Compare changes",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.compare_changes.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.compare_changes.details")},"plugins-and-extensions":{id:"Plugins and extensions",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.plugins_and_extensions.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.plugins_and_extensions.details")},"private-plugins":{id:"Private plugins",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.private_plugins.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.private_plugins.details")},"dev-mode":{id:"Dev Mode",name:()=>(0,s.t)("plan_comparison.chart.dev_mode.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode.details")},"video-in-prototype":{id:"Video in Prototypes",name:()=>(0,s.t)("plan_comparison.chart.video_in_prototype.name"),details:()=>(0,s.t)("plan_comparison.chart.video_in_prototype.details")},"project-and-team-transfer":(0,o.kc)().enable_starter_team_transfers?{id:"Project transfer",name:()=>(0,s.t)("plan_comparison.chart.project_transfer.name"),details:()=>(0,s.t)("plan_comparison.chart.project_transfer.details")}:{id:"Project and team transfer",name:()=>(0,s.t)("plan_comparison.chart.project_and_team_transfer.name"),details:()=>(0,s.t)("plan_comparison.chart.project_and_team_transfer.details")},"private-projects":{id:"Private projects",name:()=>(0,s.t)("plan_comparison.chart.private_projects.name"),details:()=>(0,s.t)("plan_comparison.chart.private_projects.details")},"prototype-sharing-permissions":{id:"Prototype sharing permissions",name:()=>(0,s.t)("plan_comparison.chart.prototype_sharing_permissions.name"),details:()=>(0,s.t)("plan_comparison.chart.prototype_sharing_permissions.details")},"design-system-modes":{id:"Design system modes",name:()=>(0,s.t)("plan_comparison.chart.design_system_modes.name"),details:()=>(0,s.t)("plan_comparison.chart.design_system_modes.details")},"password-protection":{id:"Password protection",name:()=>(0,s.t)("plan_comparison.chart.password_protection.name"),details:()=>(0,s.t)("plan_comparison.chart.password_protection.details")},"default-roles":{id:"Default roles",name:()=>(0,s.t)("plan_comparison.chart.default_roles.name"),details:()=>(0,s.t)("plan_comparison.chart.default_roles.details")},"open-sessions":{id:"Open sessions",name:()=>(0,s.t)("plan_comparison.chart.open_sessions.name"),tooltipSpecialKey:m.MW.PLAN_COMPARISON_FEATURE_OPEN_SESSIONS},voting:{id:"Voting",name:()=>(0,s.t)("plan_comparison.chart.voting.name"),tooltipSpecialKey:m.MW.PLAN_COMPARISON_FEATURE_VOTING},"custom-templates-v2":{id:"Custom templates",name:()=>(0,s.t)("plan_comparison.chart.custom_templates_v2.name"),tooltipSpecialKey:m.MW.PLAN_COMPARISON_FEATURE_CUSTOM_TEMPLATES},"custom-color-palettes":{id:"Custom color palettes",name:()=>(0,s.t)("plan_comparison.chart.custom_color_palettes.name"),tooltipSpecialKey:m.MW.PLAN_COMPARISON_FEATURE_CUSTOM_COLOR_PALETTES},"shared-fonts":{id:"Shared fonts",name:()=>(0,s.t)("plan_comparison.chart.shared_fonts.name"),details:()=>(0,s.t)("plan_comparison.chart.shared_fonts.details")},"centralized-admin":{id:"Centralized admin",name:()=>(0,s.t)("plan_comparison.chart.centralized_admin.name"),details:()=>(0,s.t)("plan_comparison.chart.centralized_admin.details")},"domain-capture":{id:"Domain capture",name:()=>(0,s.t)("plan_comparison.chart.domain_capture.name"),details:()=>(0,s.t)("plan_comparison.chart.domain_capture.details")},"link-access-control":{id:"Link access control",name:()=>(0,s.t)("plan_comparison.chart.link_access_control.name"),details:()=>(0,s.t)("plan_comparison.chart.link_access_control.details")},"centralized-content-management":{id:"Centralized content management",name:()=>(0,s.t)("plan_comparison.chart.centralized_content_management.name"),details:()=>(0,s.t)("plan_comparison.chart.centralized_content_management.details")},"activity-logs":{id:"Activity logs",name:()=>(0,s.t)("plan_comparison.chart.activity_logs.name"),details:()=>(0,s.t)("plan_comparison.chart.activity_logs.details")},"plugin-widget-management":{id:"Plugin widget management",name:()=>(0,s.t)("plan_comparison.chart.plugin_widget_management.name"),details:()=>(0,s.t)("plan_comparison.chart.plugin_widget_management.details")},"dev-mode-v2":{id:"Dev Mode",name:()=>(0,s.t)("plan_comparison.chart.dev_mode_v2.name"),details:()=>(0,s.t)("plan_comparison.chart.dev_mode_v2.details")},"audio-conversations-v2":{id:"Audio conversations",name:()=>(0,s.t)("plan_comparison.chart.audio_conversations_v2.name"),details:()=>(0,s.t)("plan_comparison.chart.audio_conversations_v2.details")},"design-system-analytics-v2":{id:"Design system analytics",name:()=>(0,s.t)("plan_comparison.chart.design_system_analytics_v2.name"),details:()=>(0,s.t)("plan_comparison.chart.design_system_analytics_v2.details")},"single-sign-on-v2":{id:"Single sign on",name:()=>(0,s.t)("plan_comparison.chart.single_sign_on_v2.name"),details:()=>(0,s.t)("plan_comparison.chart.single_sign_on_v2.details")},"private-plugins-v2":{id:"Private plugins",name:()=>(0,s.t)("plan_comparison.chart.private_plugins_v2.name"),details:()=>(0,s.t)("plan_comparison.chart.private_plugins_v2.details")}},T=["usage-limits","version-history","libraries","custom-permissions","dev-mode","audio-conversations","security","design-system-analytics","custom-templates"],w=["usage-limits-v2","shared-libraries","dev-mode","unified-admin-and-billing","branching-and-merging","design-system-analytics","single-sign-on","workspaces","guest-access-controls","onboarding"],C=["usage-limits","advanced-inspection","codegen-languages","annotations-and-status","compare-changes","plugins-and-extensions","private-plugins"],A=["usage-limits","version-history","dev-mode-v2","libraries","video-in-prototype","advanced-prototyping","project-and-team-transfer","private-projects","prototype-sharing-permissions","audio-conversations-v2","design-system-modes","password-protection","default-roles","open-sessions","voting","custom-templates-v2","custom-color-palettes","branching-and-merging","shared-fonts","design-system-analytics-v2","centralized-admin","domain-capture","link-access-control","centralized-content-management","single-sign-on-v2","activity-logs","private-plugins-v2","plugin-widget-management"],N={"usage-limits":()=>(0,s.t)("plan_comparison.chart.usage_limits.unlimited"),"usage-limits-v2":()=>(0,s.t)("plan_comparison.chart.usage_limits_v2.unlimited"),"version-history":!0,libraries:()=>(0,s.t)("plan_comparison.chart.libraries.team_wide"),"shared-libraries":()=>(0,s.t)("plan_comparison.chart.libraries.team_wide"),"custom-permissions":!0,"audio-conversations":!0,security:!1,"design-system-analytics":!1,"custom-templates":!1,"unified-admin-and-billing":!1,"branching-and-merging":!1,"single-sign-on":!1,workspaces:!1,"guest-access-controls":!1,onboarding:!1,"advanced-prototyping":!0,"advanced-inspection":!0,"codegen-languages":!0,"annotations-and-status":!0,"compare-changes":!0,"plugins-and-extensions":!0,"private-plugins":!1,"dev-mode":!0,"video-in-prototype":!0,"project-and-team-transfer":!0,"private-projects":!0,"prototype-sharing-permissions":!0,"design-system-modes":!0,"password-protection":!0,"default-roles":!0,"open-sessions":!0,voting:!0,"custom-templates-v2":!1,"custom-color-palettes":!1,"shared-fonts":!1,"centralized-admin":!1,"domain-capture":!1,"link-access-control":!1,"centralized-content-management":!1,"activity-logs":!1,"plugin-widget-management":!1,"dev-mode-v2":!0,"audio-conversations-v2":!0,"design-system-analytics-v2":!1,"single-sign-on-v2":!1,"private-plugins-v2":!1},O={[u.Jm.FREE]:{"usage-limits":()=>(0,s.t)("plan_comparison.chart.usage_limits.starter",{maxFreeFiles:u.WW,maxFreePages:u.LF[d._Y.DESIGN],maxFreeProjects:u.Wf}),"usage-limits-v2":!1,"version-history":()=>(0,s.t)("plan_comparison.chart.version_history.starter"),libraries:!1,"shared-libraries":!1,"custom-permissions":!1,"audio-conversations":!1,security:!1,"design-system-analytics":!1,"custom-templates":!1,"unified-admin-and-billing":!1,"branching-and-merging":!1,"single-sign-on":!1,workspaces:!1,"guest-access-controls":!1,onboarding:!1,"advanced-prototyping":!1,"advanced-inspection":!1,"codegen-languages":!1,"annotations-and-status":!1,"compare-changes":!1,"plugins-and-extensions":!1,"private-plugins":!1,"dev-mode":!1,"video-in-prototype":!1,"project-and-team-transfer":!1,"private-projects":!1,"prototype-sharing-permissions":!1,"design-system-modes":!1,"password-protection":!1,"default-roles":!1,"open-sessions":!1,voting:!1,"custom-templates-v2":!1,"custom-color-palettes":!1,"shared-fonts":!1,"centralized-admin":!1,"domain-capture":!1,"link-access-control":!1,"centralized-content-management":!1,"activity-logs":!1,"plugin-widget-management":!1,"dev-mode-v2":!1,"audio-conversations-v2":!1,"design-system-analytics-v2":!1,"single-sign-on-v2":!1,"private-plugins-v2":!1},[u.Jm.PRO]:N,[u.Jm.EDU]:N,[u.Jm.ORG]:{"usage-limits":()=>(0,s.t)("plan_comparison.chart.usage_limits.unlimited"),"usage-limits-v2":()=>(0,s.t)("plan_comparison.chart.usage_limits_v2.unlimited_teams"),"version-history":!0,libraries:()=>(0,s.t)("plan_comparison.chart.libraries.org_wide"),"shared-libraries":()=>(0,s.t)("plan_comparison.chart.shared_libraries.organization_wide"),"custom-permissions":!0,"audio-conversations":!0,security:!0,"design-system-analytics":!0,"custom-templates":!0,"unified-admin-and-billing":!0,"branching-and-merging":!0,"single-sign-on":!0,workspaces:!1,"guest-access-controls":!1,onboarding:!1,"advanced-prototyping":!0,"advanced-inspection":!0,"codegen-languages":!0,"annotations-and-status":!0,"compare-changes":!0,"plugins-and-extensions":!0,"private-plugins":!0,"dev-mode":!0,"video-in-prototype":!0,"project-and-team-transfer":!0,"private-projects":!0,"prototype-sharing-permissions":!0,"design-system-modes":!0,"password-protection":!0,"default-roles":!0,"open-sessions":!0,voting:!0,"custom-templates-v2":!0,"custom-color-palettes":!0,"shared-fonts":!0,"centralized-admin":!0,"domain-capture":!0,"link-access-control":!0,"centralized-content-management":!0,"activity-logs":!0,"plugin-widget-management":!0,"dev-mode-v2":!0,"audio-conversations-v2":!0,"design-system-analytics-v2":!0,"single-sign-on-v2":!0,"private-plugins-v2":!0},[u.Jm.ENT]:{"usage-limits":()=>(0,s.t)("plan_comparison.chart.usage_limits.unlimited"),"usage-limits-v2":()=>(0,s.t)("plan_comparison.chart.usage_limits_v2.unlimited_teams"),"version-history":!0,libraries:()=>(0,s.t)("plan_comparison.chart.shared_libraries.company_wide"),"shared-libraries":()=>(0,s.t)("plan_comparison.chart.shared_libraries.company_wide"),"custom-permissions":!0,"audio-conversations":!0,security:!0,"design-system-analytics":!0,"custom-templates":!0,"unified-admin-and-billing":!0,"branching-and-merging":!0,"single-sign-on":!0,workspaces:!0,"guest-access-controls":!0,onboarding:!0,"advanced-prototyping":!0,"advanced-inspection":!0,"codegen-languages":!0,"annotations-and-status":!0,"compare-changes":!0,"plugins-and-extensions":!0,"private-plugins":!0,"dev-mode":!0,"video-in-prototype":!0,"project-and-team-transfer":!0,"private-projects":!0,"prototype-sharing-permissions":!0,"design-system-modes":!0,"password-protection":!0,"default-roles":!0,"open-sessions":!0,voting:!0,"custom-templates-v2":!0,"custom-color-palettes":!0,"shared-fonts":!0,"centralized-admin":!0,"domain-capture":!0,"link-access-control":!0,"centralized-content-management":!0,"activity-logs":!0,"plugin-widget-management":!0,"dev-mode-v2":!0,"audio-conversations-v2":!0,"design-system-analytics-v2":!0,"single-sign-on-v2":!0,"private-plugins-v2":!0}};function R(e){let r=null;return O[u.Jm.FREE][e]?r=u.Jm.FREE:O[u.Jm.EDU][e]?r=u.Jm.EDU:O[u.Jm.PRO][e]?r=u.Jm.PRO:O[u.Jm.ORG][e]?r=u.Jm.ORG:O[u.Jm.ENT][e]&&(r=u.Jm.ENT),r}function P(e,r){let n=e.filter(e=>e!==r),i=R(r);if(!i)return e;let a=n.findIndex(e=>R(e)===i);return -1!==a?(n.splice(a,0,r),n):e}function L({editorType:e,planMode:r,currency:n,currentSubscriptionPlan:i,showFullCurrencyFormat:a}){let o=new c.vr(n),s=o.getPrices(),l={[d.G_.DESIGN]:{[u.Jm.FREE]:{[h.R$.ANNUAL]:0,[h.R$.MONTHLY]:0},[u.Jm.PRO]:{[h.R$.ANNUAL]:s.annualFigma,[h.R$.MONTHLY]:s.monthlyFigma},[u.Jm.EDU]:{[h.R$.ANNUAL]:s.annualFigma,[h.R$.MONTHLY]:s.monthlyFigma},[u.Jm.ORG]:{[h.R$.ANNUAL]:s.orgFigma,[h.R$.MONTHLY]:0},[u.Jm.ENT]:{[h.R$.ANNUAL]:s.enterprise,[h.R$.MONTHLY]:0}},[d.G_.WHITEBOARD]:{[u.Jm.FREE]:{[h.R$.ANNUAL]:0,[h.R$.MONTHLY]:0},[u.Jm.PRO]:{[h.R$.ANNUAL]:s.annualFigjam,[h.R$.MONTHLY]:s.monthlyFigjam},[u.Jm.EDU]:{[h.R$.ANNUAL]:s.annualFigjam,[h.R$.MONTHLY]:s.monthlyFigjam},[u.Jm.ORG]:{[h.R$.ANNUAL]:s.orgFigjam,[h.R$.MONTHLY]:0},[u.Jm.ENT]:{[h.R$.ANNUAL]:s.enterpriseFigjam,[h.R$.MONTHLY]:0}},[d.G_.DEV_MODE]:{[u.Jm.FREE]:{[h.R$.ANNUAL]:0,[h.R$.MONTHLY]:0},[u.Jm.PRO]:{[h.R$.ANNUAL]:0,[h.R$.MONTHLY]:0},[u.Jm.EDU]:{[h.R$.ANNUAL]:0,[h.R$.MONTHLY]:0},[u.Jm.ORG]:{[h.R$.ANNUAL]:s.orgDevMode,[h.R$.MONTHLY]:0},[u.Jm.ENT]:{[h.R$.ANNUAL]:s.enterpriseDevMode,[h.R$.MONTHLY]:0}}};switch(r){case u.Jm.ORG:case u.Jm.ENT:return o.formatMoney(l[e][r][h.R$.ANNUAL],{showFullFormat:a});case u.Jm.PRO:case u.Jm.EDU:return o.formatMoney(l[e][r][i],{showFullFormat:a});default:return""}}function D({planMode:e,upsellSource:r,buttonText:n}){return(e===u.Jm.PRO||e===u.Jm.EDU)&&r===p.b.CREATE_NEW_PAID_TEAM?(0,s.t)("plan_comparison.plans.pro.choose_professional"):e===u.Jm.ORG&&r===p.b.CREATE_NEW_PAID_TEAM?(0,s.t)("plan_comparison.plans.org.choose_organization"):n()}},76485:(e,r,n)=>{"use strict";let i,a,o,s,l,d;n.d(r,{Av:()=>eo,Dk:()=>M,FW:()=>Z,Gb:()=>ec,HK:()=>I,Kd:()=>A,MP:()=>B,UX:()=>N,Wt:()=>F,XS:()=>D,Ye:()=>X,ZQ:()=>ee,ZV:()=>H,am:()=>el,bH:()=>et,ho:()=>T,k0:()=>er,n_:()=>eu,ow:()=>en,pL:()=>J,pR:()=>R,xg:()=>es});var c,u=n(30654),p=n(7877),h=n(38337),m=n(99506),g=n(13408),f=n(82225),_=n(79215),y=n(83327),E=n(1730),b=n(78787),v=n(60062),S=((i=S||{})[i.PUBLIC_PLUGINS_DISALLOWED=0]="PUBLIC_PLUGINS_DISALLOWED",i[i.PLUGIN_NOT_ORG_APPROVED=1]="PLUGIN_NOT_ORG_APPROVED",i[i.PLUGIN_INSTALLED_FOR_ORG=2]="PLUGIN_INSTALLED_FOR_ORG",i[i.PLUGIN_INSTALLED_FOR_USER=3]="PLUGIN_INSTALLED_FOR_USER",i[i.PLUGIN_INSTALLABLE=4]="PLUGIN_INSTALLABLE",i),I=((a=I||{}).FIGMA="design",a.FIGJAM="whiteboard",a.UNIVERSAL="design_and_whiteboard",a.INSPECT="inspect",a.FIGMA_AND_INSPECT="design_and_inspect",a),T=((o=T||{}).LOAD="LOAD",o.PARSE="PARSE",o.VALIDATE="VALIDATE",o),w=((s=w||{}).Plugin="plugin",s.Widget="widget",s);let C=u.object({type:u.nativeEnum(T),text:u.string()}),A=["camera","microphone","displaycapture"],N=["openexternal","analytics","cortex","firstdraft","filekey","hidecursors",...A],O=u.object({command:u.string(),name:u.string(),multipleSelection:u.boolean().optional()}),R=["currentuser","activeusers","teamlibrary","fileusers","payments","clipboardwrite"],P=u.object({name:u.string(),key:u.string(),description:u.string().optional(),optional:u.boolean().optional(),allowFreeform:u.boolean().optional()}),L=u.array(P),D=[...R,...N];[...D];let M=["textreview","panel","inspect","codegen","linkpreview","vscode"],k=u.object({label:u.string(),value:u.string(),isDefault:u.boolean().optional()}),x=u.object({itemType:u.literal("action"),propertyName:u.string(),includedLanguages:u.array(u.string()).optional(),label:u.string().optional()});function F(e){return x.safeParse(e).success}let U=u.object({itemType:u.literal("unit"),scaledUnit:u.string(),defaultScaleFactor:u.number().optional(),default:u.boolean().optional(),includedLanguages:u.array(u.string()).optional()});function B(e){return U.safeParse(e).success}let V=u.object({itemType:u.literal("select"),propertyName:u.string(),label:u.string().optional(),options:u.array(k),includedLanguages:u.array(u.string()).optional()});function H(e){return V.safeParse(e).success}let G=u.union([x,U,V]),W=u.array(G),z=u.object({label:u.string(),value:u.string()}),K=u.object({command:u.string(),name:u.string(),parameters:L.optional(),parameterOnly:u.boolean().optional()}),j=u.object({separator:u.literal(!0)}),Y=u.object({name:u.string()}).extend({menu:u.lazy(()=>u.array(u.union([K,j,Y])))}),$=u.object({allowedDomains:u.array(u.string()),reasoning:u.string().optional(),devAllowedDomains:u.array(u.string()).optional()}),q=u.union([Y,K,j]);var Z=((l=Z||{}).FIGMA="figma",l.FIGJAM="figjam",l.INSPECT="inspect",l.DEV="dev",l.SITES="sites",l);let X=Object.values(Z),J=u.object({id:u.string().optional(),name:u.string(),api:u.string(),main:u.string(),ui:u.union([u.string(),u.record(u.string(),u.string())]).optional(),build:u.string().optional(),enableProposedApi:u.boolean().optional(),enablePrivatePluginApi:u.boolean().optional(),menu:q.array().optional(),networkAccess:$.optional(),relaunchButtons:O.array().optional(),relatedLinkDomains:u.array(u.string()).optional(),devResourceDomains:u.array(u.string()).optional(),parameters:L.optional(),parameterOnly:u.boolean().optional(),editorType:u.filteredArray(u.nativeEnum(Z)).optional(),containsWidget:u.boolean().optional(),widgetApi:u.string().optional(),permissions:u.filteredArray(u.union([u.enum(R),u.enum(N)])).optional(),enableReadOnly:u.boolean().optional(),capabilities:u.filteredArray(u.enum(M)).optional(),codegenLanguages:u.array(z).optional(),codegenPreferences:W.optional(),documentAccess:u.enum(["dynamic-page"]).optional()});(e=>{e.PluginVersionSchema=u.object({id:u.string(),name:u.string().nullable(),version:u.string().nullable(),releaseNotes:u.string().nullable(),description:u.string().nullable(),tagline:u.string().nullable(),creatorPolicy:u.string().nullable(),manifest:u.string().nullable(),createdAt:u.date(),iconPath:u.string().nullable(),coverImagePath:u.string().nullable(),codePath:u.string().nullable(),plugin:u.object({currentPluginVersionId:u.string().nullable()})}),e.PluginInstallSchema=u.object({id:u.string(),pluginId:u.string(),pinnedStatus:u.nativeEnum(m.hM),createdAt:u.date(),plugin:u.object({id:u.string(),currentPluginVersionId:u.string().nullable(),publishingStatus:u.nativeEnum(m.KB).nullable(),isWidget:u.boolean().nullable(),viewableInEditor:u.boolean(),orgId:u.string().nullable(),approvedAt:u.date().nullable(),approvalStatus:u.number().nullable(),communityPublishers:u.lazy(()=>e.CommunityPublisherSchema).array().nullable(),currentPluginVersion:e.PluginVersionSchema.nullable()}).nullable()}),e.OrgSchema=u.object({id:u.string(),installedPlugins:u.array(e.PluginInstallSchema)}),e.CommunityTeamSchema=u.object({id:u.string(),name:u.string()}),e.OrgInfoSchema=u.object({id:u.string(),name:u.string()}),e.CommunityProfileSchema=u.object({id:u.string(),profileHandle:u.string(),user:u.object({id:u.string(),name:u.string().nullable()}).nullable(),team:e.CommunityTeamSchema.nullable(),org:e.OrgInfoSchema.nullable()}),e.CommunityPublisherSchema=u.object({role:u.nativeEnum(m.un),isPending:u.boolean(),profile:e.CommunityProfileSchema})})(c||(c={}));let Q=u.object({id:u.string(),plugin_id:u.string(),name:u.string(),version:u.string(),current_plugin_version_id:u.string().optional(),release_notes:u.string(),description:u.string(),tagline:u.string(),creator_policy:u.string(),is_private:u.boolean(),manifest:J,created_at:u.string(),org_id:u.string().optional(),redirect_icon_url:u.string(),redirect_cover_image_url:u.string(),redirect_code_url:u.string(),redirect_snapshot_url:u.string().nullish(),community_publishers:u.array(c.CommunityPublisherSchema).optional(),installed_by:u.union([u.literal("user"),u.literal("org")]).nullish(),playground_fig_file_key:u.string().nullish(),playground_fig_file:u.ignore().optional(),playground_file_version_id:u.string().nullish()});function ee(e){return void 0!==e.localFileId}function et(e){return!ee(e)&&!!e.is_private}function er(e){var r;return!!(null==(r=e.manifest)?void 0:r.containsWidget)}function en(e,r,n){return!!(!n||!e||et(e)||ee(e))||!!n.public_plugins_allowed&&((er(e)?!n.widgets_whitelist_enforced:!n.plugins_whitelist_enforced)||!!r[null==e?void 0:e.plugin_id])}u.object({plugin_id:u.string(),name:u.string(),manifest:J,localFileId:u.number(),localFilePath:u.string(),error:C.optional(),cachedContainsWidget:u.boolean().optional(),lastKnownPluginId:u.string().optional(),testCode:u.string().optional()});let ei=u.object({org:u.object({id:u.string(),name:u.string()}).optional(),is_public:u.boolean().optional()}),ea=u.object({id:u.string(),versions:u.record(Q),current_plugin_version_id:u.string().nullable(),is_widget:u.coerce.boolean()}).merge(u.object({install_count:u.number(),view_count:u.number(),like_count:u.number(),comment_count:u.number(),category_id:u.string().nullable(),roles:ei,org_id:u.string().nullable(),realtime_token:u.string(),created_at:u.string(),redirect_thumbnail_url:u.string().nullable(),thumbnail_url:u.string().nullable(),tags:u.array(u.string()).optional(),current_user_has_run:u.boolean().optional(),current_user_first_ran_at:u.string().optional(),unique_run_count:u.number(),editor_type:u.nativeEnum(I),unpublished_at:u.string().nullable(),support_contact:u.string().nullable(),comments_setting:u.nativeEnum(h.Ni).nullable(),related_content:(0,p.M6)(u.lazy(()=>ea)),hide_related_content_by_others:u.boolean().optional(),publishing_status:u.nativeEnum(m.KB).nullable(),score:u.number().nullable(),install_status:u.nativeEnum(S).optional(),profile_install_status:u.nativeEnum(S).optional(),commenting_is_restricted:u.boolean(),monetization_status:u.nativeEnum(b.UC).optional(),community_resource_payment:E.fe.optional(),third_party_m10n_status:u.nativeEnum(b.PN).optional(),creator_policy:u.string(),plugin_publishers:g.I7.optional(),carousel_media_urls:u.optional(v.mD),carousel_videos:u.optional(v.DV)})).and(g.xK).and(f.n).and(y.Y).and(_.q);function eo(e){return"command"in e&&"name"in e}function es(e){return"name"in e&&"menu"in e}function el({type:e,text:r}){switch(e){case"LOAD":return"Manifest load error: "+r;case"PARSE":return"Manifest not valid JSON: "+r;case"VALIDATE":return"Manifest error: "+r}}ea.and(u.object({is_widget:u.literal(!0)})),Symbol("relaunchMixedDescription");var ed=((d=ed||{}).ORG="ORG",d.PUBLIC="PUBLIC",d);function ec(e,r){return r?`GET_PLUGIN_ALLOW_LIST_${e}_${r}`:`GET_PLUGIN_ALLOW_LIST_${e}`}function eu(e,r){return r?`GET_WIDGET_ALLOW_LIST_${e}_${r}`:`GET_WIDGET_ALLOW_LIST_${e}`}},86060:(e,r,n)=>{"use strict";let i;n.d(r,{a:()=>a});var a=((i=a||{}).IN_TRIAL="in_trial",i.TRIAL_EXPIRED="trial_expired",i)},65361:(e,r,n)=>{"use strict";n.d(r,{E:()=>s});var i=n(35283),a=n(39863),o=n(20647);function s(e){switch(e){case o.lM.DESIGN:return(0,a.t)("general.figma_design");case o.oM.WHITEBOARD:case o.lM.FIGJAM:return(0,a.t)("general.figjam");case o.lM.DEV_MODE:return(0,a.t)("general.dev_mode");default:(0,i.xb)(e)}}},59403:(e,r,n)=>{"use strict";n.d(r,{o:()=>i});let i={r:0,g:0,b:0,a:255}},9073:(e,r,n)=>{"use strict";let i,a,o,s;n.d(r,{$A:()=>l,Lx:()=>d,dB:()=>u,vt:()=>c});var l=((i=l||{}).Design="design",i.FigJam="figjam",i.Handoff="handoff",i.Slides="slides",i),d=((a=d||{})[a.NOT_FETCHED=0]="NOT_FETCHED",a[a.FETCHED=1]="FETCHED",a[a.FETCHING=2]="FETCHING",a),c=((o=c||{}).CommunityResource="CommunityResource",o.TeamTemplate="TeamTemplate",o.FaceStamp="FaceStamp",o.WhiteboardTool="WhiteboardTool",o),u=((s=u||{}).FACE_STAMP="FACE_STAMP",s.WHITEBOARD_TOOL="WHITEBOARD_TOOL",s)},97065:(e,r,n)=>{"use strict";let i;n.d(r,{N:()=>a});var a=((i=a||{})[i.URGENT_ALERT=9999]="URGENT_ALERT",i[i.HIGH_PRIORITY_MODAL=20]="HIGH_PRIORITY_MODAL",i[i.OVERRIDING_MODAL=15]="OVERRIDING_MODAL",i[i.DEFAULT_MODAL=10]="DEFAULT_MODAL",i[i.SECONDARY_MODAL=5]="SECONDARY_MODAL",i[i.SURVEY=1]="SURVEY",i)},68860:(e,r,n)=>{"use strict";let i;n.d(r,{an:()=>m,e6:()=>c});var a=n(30654),o=n(99506),s=n(65050),l=n(36816),d=n(83894),c=((i=c||{})[i.NONE=-1]="NONE",i[i.VIEW_PROTOTYPES=30]="VIEW_PROTOTYPES",i[i.VIEW_METADATA=50]="VIEW_METADATA",i[i.VIEWER=100]="VIEWER",i[i.EDITOR=300]="EDITOR",i[i.ADMIN=900]="ADMIN",i[i.OWNER=999]="OWNER",i);let u=a.object({created_at:a.union([a.string(),a.number()]),id:a.string(),level:a.nativeEnum(c),resource_id_or_key:a.string(),resource_type:a.nativeEnum(o.vt),updated_at:a.string(),org_user:a.optional(s.WU.pick({design_paid_status:!0,whiteboard_paid_status:!0,user_id:!0,permission:!0})),team_user:a.optional(l.wF.pick({design_paid_status:!0,whiteboard_paid_status:!0,user_id:!0,team_id:!0})),realtime_token:a.string().optional()}),p=u.extend({pending:a.literal(!0),user_id:a.literal(null),user:a.object({id:a.string().nullable().optional(),email:a.string()})}),h=u.extend({pending:a.literal(!1),user_id:a.string(),user:d.aw}),m=a.union([p,h])},67409:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h,m,g,f,_,y,E,b,v,S,I,T,w,C;n.d(r,{$L:()=>D,L0:()=>X,Lk:()=>K,Lr:()=>B,Or:()=>Q,Rr:()=>k,Rx:()=>V,WY:()=>N,Xr:()=>x,Zr:()=>U,a7:()=>$,f9:()=>M,j9:()=>H,mp:()=>j,qm:()=>Y,qy:()=>R,uH:()=>A}),n(39863);var A=((i=A||{}).FILES="files",i.PROJECTS="projects",i.TEAMS="teams",i.USERS="users",i.HUB_FILES="hub_files",i.PUBLIC_PLUGINS="public_plugins",i.PRIVATE_PLUGINS="private_plugins",i.PUBLIC_PROFILES="public_profiles",i.PUBLIC_WIDGETS="public_widgets",i.PRIVATE_WIDGETS="private_widgets",i),N=((a=N||{}).RESOURCE="resource",a.CREATOR="creator",a.SPACE="space",a),O=((o=O||{}).USERS="users",o.PROJECTS="projects",o.TEAMS="teams",o.ORGS="orgs",o),R=((s=R||{}).FOLDER="folders",s.TEAM="teams",s.ORG="orgs",s),P=((l=P||{}).DROPDOWN="dropdown",l.AUTOCOMPLETE="autocomplete",l),L=((d=L||{}).PILL="pill",d.CLEAR_ALL="clear_all",d.ALL_TYPES="all_types",d.SELECTION="selection",d),D=((c=D||{}).ALL_FILES="FILES",c.DESIGN_FILES="DESIGN_FILES",c.FIGJAM_FILES="FIGJAM_FILES",c.SLIDES="SLIDES",c.USERS="USERS",c.PROJECTS="PROJECTS",c.TEAMS="TEAMS",c.PLUGINS="PLUGINS",c.WIDGETS="WIDGETS",c),M=((u=M||{}).NAME="name",u.FUZZY_NAME="fuzzy-name",u.NAME_WORD_DELIMITER_V2="name-word-delimiter-v2",u.DEEP_SEARCH_TEXT="deep-search-text",u.PAGE_NAME="page-name",u.FRAME_NAME="frame-name",u.FRAGMENT_RETRIEVAL="fragment-retrieval",u),k=((p=k||{}).ONE_TYPE="one_type",p.ALL_TYPES_BLOCKING="all_types_blocking",p.ALL_TYPES_STREAMING="all_types_streaming",p);function x(e){if(!e)return null;switch(e.value){case"FILES":case"DESIGN_FILES":case"FIGJAM_FILES":case"SLIDES":return"files";case"USERS":return"users";case"PROJECTS":return"projects";case"TEAMS":return"teams";case"PLUGINS":return"private_plugins";case"WIDGETS":return"private_widgets";default:return null}}var F=((h=F||{}).DESIGN="design",h.FIGJAM="whiteboard",h.SLIDES="slides",h);function U(e){if(e)switch(e.value){case"DESIGN_FILES":return"design";case"FIGJAM_FILES":return"whiteboard";case"SLIDES":return"slides";default:return}}function B(e){if(!e)return null;let r={};for(let[n,i]of Object.entries(e))i&&("creatorIds"===n?r["creator_ids[]"]=i:"folderIds"===n&&i.length>0?r["folder_ids[]"]=i:"teamIds"===n&&i.length>0?r["team_ids[]"]=i:"orgIds"===n&&i.length>0?r["org_ids[]"]=i:r[n]=i);return r}var V=((m=V||{}).ORG="internal",m.ORG_GUEST="internal_guest",m.PERSONAL="personal",m.COMMUNITY="community",m),H=((g=H||{}).POPULARITY="popularity",g.RECENCY="recency",g.RELEVANCY="relevancy",g.NAME="name",g.AUTHOR_NAME="author_name",g.INSTALL_COUNT="install_count",g.MEMBER_COUNT="member_count",g.UPDATED_AT="updated_at",g.TOUCHED_AT="touched_at",g.CREATED_AT="created_at",g.EMAIL="email",g),G=((f=G||{}).NAME="name",f.AUTHOR_NAME="author_name",f.UPDATED_AT="updated_at",f.INSTALL_COUNT="install_count",f.RELEVANCY="relevancy",f.RUN_COUNT="run_count",f),W=((_=W||{}).NAME="name",_.AUTHOR_NAME="author_name",_.UPDATED_AT="updated_at",_.INSTALL_COUNT="install_count",_.RELEVANCY="relevancy",_),z=((y=z||{}).POPULARITY="popularity",y.RECENCY="recency",y),K=((E=K||{}).RELEVANCY="relevancy",E.NAME="name",E.TOUCHED_AT="touched_at",E.CREATED_AT="created_at",E.OWNER="owner",E),j=((b=j||{}).RELEVANCY="relevancy",b.NAME="name",b.CREATED_AT="created_at",b),Y=((v=Y||{}).RELEVANCY="relevancy",v.NAME="name",v.FILES_LAST_TOUCHED_AT="files_last_touched_at",v.CREATED_AT="created_at",v.MEMBER_COUNT="member_count",v),$=((S=$||{}).RELEVANCY="relevancy",S.NAME="name",S.EMAIL="email",S),q=((I=q||{}).RELEVANCY="relevancy",I),Z=((T=Z||{}).RELEVANCY="relevancy",T),X=((w=X||{}).PREVIEW="preview",w.FULL_PAGE="full_page",w.OUTSIDE_FILE_BROWSER="outside_file_browser",w),J=((C=J||{}).OPEN="open",C.CLOSE="close",C);let Q=4},37590:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p;n.d(r,{A5:()=>m,Ft:()=>v,G4:()=>E,QB:()=>A,SC:()=>S,Sc:()=>I,U6:()=>b,bb:()=>g,ck:()=>w,g3:()=>y,jX:()=>T,ou:()=>f});var h=n(22139),m=((i=m||{})[i.INVITE=0]="INVITE",i[i.PUBLISH=1]="PUBLISH",i[i.PUBLISH_COMMUNITY=2]="PUBLISH_COMMUNITY",i[i.PUBLISH_TEMPLATE=3]="PUBLISH_TEMPLATE",i[i.POST_TO_FEED=4]="POST_TO_FEED",i[i.COLLABORATORS=5]="COLLABORATORS",i[i.EMBED_CODE=6]="EMBED_CODE",i[i.SHARE_DEV_MODE=7]="SHARE_DEV_MODE",i[i.SHARE_SETTINGS=8]="SHARE_SETTINGS",i[i.FOLDER_MEMBERS=9]="FOLDER_MEMBERS",i[i.SHARE_GOOGLE_DEVICE_DISCLAIMER=10]="SHARE_GOOGLE_DEVICE_DISCLAIMER",i),g=((a=g||{}).ACCOUNT="account",a.PLUGINS="plugins",a.COMMUNITY="community",a.NOTIFICATIONS="notifications",a);let f={UNIVERSAL_PUBLISHING:"publish",ACCOUNT_SETTINGS:"settings"};var _=((o=_||{}).IN_VIEW="in_view",o.DIRECT="direct",o),y=((s=y||{}).RESOURCES="resources",s.LIKES="likes",s.FOLLOWERS="followers",s.FOLLOWING="following",s.METRICS="metrics",s.SAVES="saves",s),E=((l=E||{})[l.DEFAULT=0]="DEFAULT",l.FULLSCREEN="fullscreen",l.FULLSCREEN_WITH_COMMENTS="fullscreen_comments",l),b=((d=b||{}).ONBOARDING="onboarding",d),v=((c=v||{})[c.PROJECT=0]="PROJECT",c[c.TEAM=1]="TEAM",c[c.WORKSPACE=2]="WORKSPACE",c[c.LICENSE_GROUP=3]="LICENSE_GROUP",c),S=((u=S||{}).UPGRADE_EXISTING_TEAM="upgrade_existing_team",u.CREATE_AND_UPGRADE="create_and_upgrade",u.CREATE="create",u),I=((p=I||{})[p.UNDETERMINED=0]="UNDETERMINED",p[p.STARTER=1]="STARTER",p[p.TEAM=2]="TEAM",p[p.ORG=3]="ORG",p);function T(e){return"upgrade_existing_team"===e}function w(e,r){return"create"===e&&(r===h.tn.CREATE_TEAM||r===h.tn.ADD_COLLABORATORS)||r===h.tn.PLAN_COMPARISON}let C=["recentFiles","deletedFiles","teamCreation","folder","addAnnualPlan","addCollaborators","team","teamUpgrade","orgAdminSettings","licenseGroup","workspace","billingGroupDashboard","search","user","promoReview","eduReview","teamFeed","resourceUnavailable","feed","sharedWithYou","teamAdminConsole","recentsAndSharing","draftsToMove","allProjects"];function A(e){return C.includes(e.view)}},84892:(e,r,n)=>{"use strict";n.d(r,{fZ:()=>a,nc:()=>o}),n(76621),n(4783);var i=n(77383);function a(e){return(0,i.C_)("fillPaints",{data:[e],blobs:[]})}function o(e){return(0,i.C_)("fillPaints",{data:e,blobs:[]})}},40351:(e,r,n)=>{"use strict";n.d(r,{J:()=>a,y:()=>i});let i="refresh-session-state",a={users:[],orgs:[],teams:[],team_admin_roles_for_authed_users:[],org_users:[],profiles:[]}},39961:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Sm:()=>c,Vh:()=>m,w_:()=>p});var s=n(30654),l=((i=l||{}).TEAM_CREATION_CONTROLS_ANYONE="team_creation_controls_anyone",i.TEAM_CREATION_CONTROLS_ADMIN_ONLY="team_creation_controls_admin_only",i);let d=s.nativeEnum(l);var c=((a=c||{}).MEMBERS="members",a.ALL_USERS="all_users",a.DISABLED="disabled",a);let u=s.nativeEnum(c);var p=((o=p||{}).ALLOWED="public_link_controls_setting_allowed",o.PASSWORD_REQUIRED="public_link_controls_setting_password_required",o.EXPIRATION_REQUIRED="public_link_controls_setting_expiration_required",o.EXP_AND_PWD_REQUIRED="public_link_controls_setting_password_and_expiration_required",o.BANNED="public_link_controls_setting_banned",o);let h=s.nativeEnum(p),m=s.object({team_creation_controls:d.optional().nullable(),external_collaboration_controls:s.boolean(),ip_account_restriction:s.boolean().optional(),ip_allowlist:s.boolean().optional(),idle_timeout_duration_in_secs:s.number().optional().nullable(),autogen_password_controls:s.boolean(),public_link_controls_setting:h.optional().nullable(),public_link_controls_max_expiration:s.number().optional().nullable(),configured_upgrade_request_setting:u.optional().nullable(),configured_upgrade_request_message:s.string().optional().nullable()})},36816:(e,r,n)=>{"use strict";let i,a;n.d(r,{Zf:()=>l,j4:()=>d,wF:()=>c});var o=n(30654),s=n(83894),l=((i=l||{}).FULL="full",i.RESTRICTED="restricted",i.STARTER="starter",i),d=((a=d||{}).DESIGN="design",a.WHITEBOARD="whiteboard",a);let c=o.object({id:o.string(),team_id:o.string(),user_id:o.string(),design_paid_status:o.nativeEnum(l),whiteboard_paid_status:o.nativeEnum(l),drafts_folder_id:o.string().nullable().optional(),created_at:o.string(),updated_at:o.string(),user:s.aw.optional(),show_figjam_user_onboarding:o.boolean().nullable()})},51363:(e,r,n)=>{"use strict";let i,a,o,s,l;n.d(r,{Fb:()=>f,ZN:()=>v,bL:()=>b,kE:()=>E,kU:()=>_,pE:()=>S,qg:()=>m});var d=n(66712),c=n(30654),u=n(99506),p=n(43279),h=n(83986);let m=118;var g=((i=g||{}).REQUIRES_SOURCE_ACTION="requires_source_action",i),f=((a=f||{}).ORG_BROWSABLE="org_browsable",a.HIDDEN="hidden",a),_=((o=_||{}).STUDENT_TEAM_NULL="not_student_team",o.STUDENT_TEAM_CURRENT="current_student_team",o.STUDENT_TEAM_EXPIRED="expired_student_team",o);let y=c.nativeEnum(_),E=c.normalize("Team",p.bV.extend({created_at:c.string(),id:c.primaryKey(),img_url:c.string().optional(),org_id:c.string().nullable(),name:c.string(),description:c.string(),projects:c.number(),editors:c.number(),realtime_token:c.string().optional(),restrictions_list:c.array(u.iU).nullable(),subscription:u.D8.nullable(),subscription_raw:u.D8.nullable(),org_access:u.We.nullable(),stripe_customer_id:c.string().nullable(),student_team_at:c.string().nullable(),student_team_state:y,student_autoverifying_team_at:c.string().nullable(),student_team:c.boolean(),pro_team:c.boolean(),org_team:c.boolean(),starter_team:c.boolean(),grace_period_end:c.string().nullable(),grace_period_type:u.Dh.nullable(),last_upgraded_at:c.string().nullable(),updated_at:c.string().nullable().optional(),deleted_at:c.string().nullable(),community_profile_id:c.string().optional(),community_profile_handle:c.string().optional(),experiment_seed:c.union([c.number(),c.string()]).nullable(),license_group_id:c.string().nullable(),license_group:h.W.nullable(),workspace_id:c.string().nullable(),default_permission:u.zd.optional().nullable(),is_favorited:c.boolean().optional(),vat_gst_id:c.string().optional(),tax_id_verification_status:u.xy.optional(),cmty_publish_as_user_enabled:c.boolean().optional(),ai_features_disabled:c.boolean().optional(),figma_provided_libraries_disabled:c.boolean().optional(),legal_name:c.string().nullable(),shared_by_text:c.string().optional(),org_or_team_name:c.string().optional().nullable(),sharing_audience_control:u.a0.optional(),org_browsable:c.boolean().optional(),hidden:c.boolean().optional()}));function b(e,r){let n=(0,d.kc)().ps_benchmark;return r?`${location.origin}/files/${r}/team/${e}`:`${location.origin}/files/team/${e}${n?"/all-projects":""}`}var v=((s=v||{}).MOVE_FILES="move_files",s.DUPLICATE_FILES="duplicate_files",s.RESTORE_FILES="restore_files",s.MOVE_FOLDER="move_folder",s.IMPORT_FILES="import_files",s.CREATE_FILE="create_file",s.CREATE_FOLDER="create_folder",s.CREATE_FILE_FROM_TEMPLATE="create_file_from_template",s.CREATE_PAGE="create_page",s.DUPLICATE_PAGE="duplicate_page",s.CREATE_MORE_VARIABLE_MODES="create_more_variable_modes",s.PUBLISH_MORE_VARIABLE_MODES="publish_more_variable_modes",s.CREATE_FILE_FROM_DROPDOWN="create_file_from_dropdown",s),S=((l=S||{}).PUBLISH_COMPONENTS="publish_components",l.USE_AUDIO="use_audio",l.VIEW_ONLY_PROJECT="view_only_project",l.INVITE_ONLY_PROJECT="invite_only_project",l)},70551:(e,r,n)=>{"use strict";n.d(r,{D:()=>i});let i="on-theme-update-ipc-key"},71653:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c;n.d(r,{C0:()=>u,XU:()=>g});var u=((i=u||{})[i.NAME=0]="NAME",i[i.CREATED_AT=1]="CREATED_AT",i[i.TOUCHED_AT=2]="TOUCHED_AT",i[i.TRASHED_AT=3]="TRASHED_AT",i[i.OWNER=4]="OWNER",i[i.SEARCH_RELEVANCE=5]="SEARCH_RELEVANCE",i[i.PROJECT_NAME=6]="PROJECT_NAME",i[i.ACCESSED_AT=7]="ACCESSED_AT",i[i.SHARED_AT=8]="SHARED_AT",i),p=((a=p||{})[a.ASC=0]="ASC",a[a.DESC=1]="DESC",a),h=((o=h||{})[o.ANY=0]="ANY",o[o.SELF=1]="SELF",o[o.OTHER=2]="OTHER",o),m=((s=m||{})[s.ANY=0]="ANY",s[s.DESIGN=1]="DESIGN",s[s.FIGJAM=2]="FIGJAM",s[s.PROTOTYPE=3]="PROTOTYPE",s[s.SLIDES=4]="SLIDES",s),g=((l=g||{})[l.LIST=0]="LIST",l[l.GRID=1]="GRID",l),f=((d=f||{}).ALL="",d.SHARED="shared",d.ORG_DELETED_DRAFTS="deleted_user_drafts",d),_=((c=_||{})[c.TIME=0]="TIME",c[c.ALPHABETICAL=1]="ALPHABETICAL",c[c.OTHER=2]="OTHER",c)},98606:(e,r,n)=>{"use strict";let i,a,o,s,l,d;n.d(r,{Ib:()=>m,MW:()=>g,Ui:()=>h,Zj:()=>u,qd:()=>p,zr:()=>c});var c=((i=c||{})[i.NONE=0]="NONE",i[i.PENDING=1]="PENDING",i[i.SHOWING=2]="SHOWING",i),u=((a=u||{})[a.BELOW=0]="BELOW",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a[a.ABOVE=3]="ABOVE",a),p=((o=p||{})[o.CENTER=0]="CENTER",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o),h=((s=h||{})[s.ELEMENT=0]="ELEMENT",s[s.KEY=1]="KEY",s[s.TEXT=2]="TEXT",s),m=((l=m||{}).TEXT="text",l.LOOKUP="lookup",l.SPECIAL="special",l),g=((d=g||{}).USER_INFO="tooltip-user-info",d.VIEW_USER_PROFILE="tooltip-view-user-profile",d.HUB_FILE_INFO="tooltip-hub-file-info",d.HUB_FILE_INFO_UNVERIFIED="tooltip-hub-file-unverified-info",d.HUB_FILE_IN_REVIEW="tooltip-hub-file-in-review",d.DUPLICATED_HUB_FILE_INFO="tooltip-duplicated-hub-file-info",d.STYLE_INFO="tooltip-style-info",d.COMPONENT_INFO="tooltip-component-info",d.PROTOTYPE_ORIGIN_INFO="tooltip-prototype-origin-info",d.PROTOTYPE_NO_ORIGIN_FRAME_INFO="tooltip-prototype-no-origin-frame-info",d.PROTOTYPE_ACTION_INFO="tooltip-prototype-destination-info",d.PROTOTYPE_INVALID_SWAP_STATE="tooltip-prototype-invalid-swap-state",d.PROTOTYPE_SCROLL_HORIZONTAL_INFO="tooltip-prototype-scroll-horizontal-info",d.PROTOTYPE_SCROLL_VERTICAL_INFO="tooltip-prototype-scroll-vertical-info",d.PROTOTYPE_MULTIPLE_INTERACTIONS_MOUSE_AND_HOVER="tooltip-prototype-multiple-interactions-mouse-and-hover",d.PROTOTYPE_CONFLICTING_STATE_INSTANCE_AND_BACKING_STATE_INTERACTION="tooltip-prototype-multiple-interactions-instance-and-state-group",d.ORG_COST_INFO="tooltip-org-cost-info",d.ORG_COST_INFO_LINE_ITEM="tooltip-org-cost-info-line-item",d.ORG_GUEST_INFO="tooltip-org-guest-info",d.ORG_UPGRADE_USER_INFO="tooltip-org-upgrade-user-info",d.ORG_UPGRADE_USER_INFO_EXTENDED="tooltip-org-upgrade-user-info-extended",d.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_SELF_FIGJAM_DISABLED="tooltip-permissions-modal-restricted-user-org-self-figjam-disabled",d.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_SELF="tooltip-permissions-modal-restricted-user-org-self",d.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_OTHER="tooltip-permissions-modal-restricted-user-org-other",d.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_SELF="tooltip-permissions-modal-restricted-user-pro-self",d.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_OTHER="tooltip-permissions-modal-restricted-user-pro-other",d.FIX_POSITION_INFO="tooltip-fix-position-info",d.TEAM_VIEWER_WITH_DESCENDED_ROLES="tooltip-team-viewer-with-descended-roles",d.AUTOLAYOUT_V3_MIGRATION_INFO="tooltip-autolayout-v3-migration-info",d.PUBLISH_AS_MOVE_INFO="tooltip-publish-as-move-info",d.PUBLISH_SOURCE_COMPONENT_AS_COPY_INFO="tooltip-publish-source-component-as-copy-info",d.PUBLISH_SOURCE_STYLE_AS_COPY_INFO="tooltip-publish-source-style-as-copy-info",d.PUBLISH_DESTINATION_AS_COPY_INFO="tooltip-publish-destination-as-copy-info",d.FIGJAM_PLUGIN_RELAUNCH_BUTTON_INFO="tooltip-figjam-plugin-relaunch-button-info",d.RESTRICTED_EDU_USER="tooltip-resticted-edu-user",d.FRONTEND_SHA_OVERRIDE_INDICATOR="frontend-sha-override-indicator",d.HYPERLINK_POPUP="tooltip-hyperlink-popup",d.PRO_TRIAL="tooltip-pro-trial",d.PRO_TRIAL_EXPIRED="tooltip-trial-expired",d.FIGMA_INSERTS_NUX_VARIANT_B="figma-inserts-nux-variant-b",d.COLOR_MANAGEMENT_BETA="tooltip-color-management-beta",d.PROTOTYPE_STATE_MANAGEMENT_INFO="tooltip-prototype-state-management-info",d.EMOJI_REACTION="tooltip-emoji-reaction",d.EXTENSION_SECURITY_FORM_REJECTED="extension-security-form-rejected",d.SHARE_BUTTON_DISABLED_PERSONAL_DRAFT="share-button-disabled-personal-draft",d.DEVMODE_TOGGLE_DISABLED_PERSONAL_DRAFT="devmode-toggle-disabled-personal-draft",d.DEVMODE_TOGGLE_DISABLED_TRACKED_TOOLTIP="devmode-toggle-disabled-tracked-tooltip",d.APPROVED_LIBRARY="approved-library",d.TEAM_ROOT_FOLDER_RENAME="team-root-folder-info",d.AI_FEATURES_DISABLED="ai-features-disabled",d.FEED_HASHTAG="tooltip-feed-hashtag",d.ZOOM_SLIDER="zoom-slider",d.FACE_PILE_OVERFLOW_TOOLTIP="face-pile-overflow-tooltip",d.OLD_OUTLINE_SHORTCUTS="old-outline-shortcuts",d.SUMMARY_ATTRIBUTION="summary-attribution",d.PLAN_COMPARISON_FEATURE_OPEN_SESSIONS="plan-comparison-feature-open-sessions",d.PLAN_COMPARISON_FEATURE_VOTING="plan-comparison-feature-voting",d.PLAN_COMPARISON_FEATURE_CUSTOM_TEMPLATES="plan-comparison-feature-custom-templates",d.PLAN_COMPARISON_FEATURE_CUSTOM_COLOR_PALETTES="plan-comparison-feature-custom-color-palettes",d.APPLE_UI_KIT="apple-ui-kit",d.GOOGLE_UI_KIT="google-ui-kit",d)},83894:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{P5:()=>l,aw:()=>u,pl:()=>p,z4:()=>c});var s=n(30654),l=((i=l||{}).NONE="none",i.ACCEPTED="accepted",i.STARTED_ONBOARDING="started_onboarding",i.DISABLED="disabled",i.ENABLED="enabled",i),d=((a=d||{}).NUM_CUSTOMERS="num_customers",a.PAYOUTS="payouts",a.GROSS="gross",a.LAST_UPDATED="last_updated_at",a.ALL_TIME_TOTAL_EARNED="all_time_total_earned",a.NUM_PURCHASES="num_purchases",a);function c(e){return e&&({none:0,accepted:1,started_onboarding:2,disabled:3,enabled:4})[e]||0}let u=s.object({id:s.string(),name:s.string().optional(),handle:s.string(),img_url:s.string(),email:s.string().optional(),description:s.string().nullish(),org_id:s.string().optional()});var p=((o=p||{}).EDITOR_ON_MAIN="Editor on main",o.EDITOR_ON_TEAM="Editor on team",o)},5228:(e,r,n)=>{"use strict";n.d(r,{WZ:()=>i,bW:()=>a});let i=["user_id","email_type","land_product","first_collab_on","first_design_at","first_figjam_at","last_figjam_at","shared_figjam","shared_design","used_figjam_wheel_or_chat","used_high_five","used_timer","last_active_on","signup_date","generation","paid_status","education_user","design_max_paid_role","figjam_max_paid_role","job_title","num_edit_days_30_day","num_edit_days_60_day","num_edit_days_90_day","num_edits_30_day","num_edits_60_day","num_edits_90_day","num_files_created","team_metrics","edited_figma_design","domain_editors","first_component_created_date","design_activation_date","last_comment_created_at","used_desktop_app","is_ipad_user","is_active_mobile_user","is_activated_design","work_location_no_answer","is_company","is_agency","is_freelancer","is_founder","is_school","is_bootcamp","expanded_usage_purpose_no_answer","is_work","is_new_job_or_project","is_fun","is_seeking_design_tool","is_sharing_with_team","is_used_before","is_not_sure","is_just_checking_out","is_other","how_collab_no_answer","is_teammates","is_clients","is_self","used_figma_before_no_answer","is_first_time","is_few_times","is_many_times"],a=["first_collab_on","first_design_at","first_figjam_at","last_figjam_at","last_active_on","signup_date","first_component_created_date","design_activation_date","last_comment_created_at"]},59530:(e,r,n)=>{"use strict";n.d(r,{V5:()=>i});let i=new Set(["seen_pro_cart_abandon_survey","seen_drafts_collaboration_survey","seen_first_use_survey","seen_type_of_work_survey","seen_org_admin_survey","seen_pro_admin_survey","seen_org_cart_abandon_survey","seen_remote_templates_opt_out_survey","seen_editor_new_user_survey","seen_editor_new_user_research_intake","seen_starter_team_loophole_survey","dismissed_starter_team_loophole_survey","completed_starter_team_loophole_survey"])},79086:(e,r,n)=>{"use strict";let i;function a(e){switch(e.view){case"branch_child_create":case"branch_child_merge":case"branch_child_update":case"branch_create":case"branch_merge":case"branch_update":case"branch_archive":case"branch_restore":return!0;default:return!1}}n.d(r,{l:()=>o,p:()=>a});var o=((i=o||{})[i.COMPARE_CHANGES=0]="COMPARE_CHANGES",i[i.COMPARE_MODAL=1]="COMPARE_MODAL",i)},54294:(e,r,n)=>{"use strict";n.d(r,{$f:()=>u,GR:()=>l,d4:()=>d,nc:()=>o,rp:()=>s,s6:()=>a,vT:()=>c});var i=n(38580);let a=(0,i.eU)(!1),o=(0,i.eU)(!1),s=(0,i.eU)(!1),l=(0,i.eU)(null),d=(0,i.eU)(null),c=(0,i.eU)(null),u=(0,i.eU)(null);(0,i.eU)(!1),(0,i.eU)(e=>e(d)?e(l):null)},38311:(e,r,n)=>{"use strict";function i(e){var r;let n=(null==(r=e.manifest)?void 0:r.codegenLanguages)??[];return n.length>0?n:[{value:"",label:""}]}function a(e,r){let n=i(e);return n.find(e=>e.value===r)??n[0]}n.d(r,{X:()=>a,m:()=>i})},56755:(e,r,n)=>{"use strict";n.d(r,{K:()=>a});let i=/^(.*)\bimport\s*(\(|\/\/|\/\*|<!--|-->)/m;function a(e){let r=i.exec(e);if(r){let e=r[1].split("\n").length;throw SyntaxError(`possible import expression rejected around line ${e}`)}}},7033:(e,r,n)=>{"use strict";n.d(r,{I:()=>d,YR:()=>l,o8:()=>s,r_:()=>c});var i=n(38329),a=n(76621),o=n(60286);function s(){let e=i.D.getState(),r=(0,o.s)(e);return r||e.selectedView||(0,a.xi)("plugins","selectedView is invalid"),r}function l(){var e;return null==(e=i.D.getState().openFile)?void 0:e.key}function d(){return i.D.getState().currentUserOrgId||void 0}function c(){return i.D.getState().mirror.appModel.useRealmsForPluginDev?"realms":"cppvm"}},96846:(e,r,n)=>{"use strict";n.d(r,{Xt:()=>_,wC:()=>y,tn:()=>w,$s:()=>I,wt:()=>T,e0:()=>C,yN:()=>v,q8:()=>A});var i,a=n(55970),o=n(70769),s=n(83452),l=n(78032);let d=["log","error","assert","info","warn","clear"],c={};for(let e of d)c[e]=console[e].bind(console);let u=Symbol("internal"),p=Symbol("wasDestroyed"),h=Function.prototype.apply;function m(e,r){if(e[p])throw Error(_);if("object"==typeof r&&null!==r&&u in r)throw Error("Wrapping a handle twice!");return{[u]:r}}function g(e,r){if(e[p])throw Error(_);if("object"!=typeof r||null===r||!(u in r))throw Error("The provided value is not a handle");return r[u]}class f{constructor(){this.vmType="realms",this.globalHandle=null,this.nullHandle=null,this.undefinedHandle=null,this[i]=!1,this.errorHandler=()=>{},this.executionDepth=0;let{realm:e,iframe:r}=(0,l.k)();this.realm=e,this.iframe=r;let{safeFunctionWrapper:n,objectCreate:a,arrayBufferCopy:o,uint8ArrayCopy:s,emptyObject:u,emptyArray:p,promiseCreate:h}=this.realm.evaluate(`
      ({
        safeFunctionWrapper: (outerRealmUnsafeFunction, functionName) => {
          // This function is safe because it is created here inside the realm.
          const innerRealmSafeFunction = function innerRealmSafeFunction(...innerRealmArgs) {
            try {
              return outerRealmUnsafeFunction(this, ...innerRealmArgs)
            } catch (outerRealmException) {
              let outerMessage = ''
              try {
                // This nested try-catch exists because it's theoretically possible for .message
                // to throw an error from the outer realm if it's a getter or an object whose
                // toString() throws an error.
                if (outerRealmException && outerRealmException.message) {
                  outerMessage =  ": " + outerRealmException.message
                }
              } catch(ignored) {
                throw new Error('API error trying to convert error message -- please contact support')
              }

              // We need to re-throw a new error object created in the inner realm
              // so that it's safe for the plugin to look at
              throw new Error('in ' + functionName + outerMessage)
            }
          }
          return innerRealmSafeFunction
        },
        objectCreate: (() => {
          // Wrap Object.create so it can't be modified and can't be accessed by the plugin
          let objCreate = Object.create
          return (prototype) => {
            return objCreate(prototype)
          }
        })(),
        arrayBufferCopy: (() => {
          // Wrap ArrayBuffer so it can't be modified by the plugin
          let arrayConstructor = ArrayBuffer
          return (outerRealmArray) => {
            return arrayConstructor.prototype.slice.call(outerRealmArray, 0)
          }
        })(),
        uint8ArrayCopy: (() => {
          // Wrap Uint8Array so it can't be modified by the plugin
          let arrayConstructor = Uint8Array
          return (outerRealmArray) => {
            return new arrayConstructor(outerRealmArray)
          }
        })(),
        emptyObject: () => {
          return {}
        },
        emptyArray: () => {
          return []
        },
        promiseCreate: (() => {
          const promiseCtor = Promise
          return () => {
            let resolve
            let reject
            const promise = new promiseCtor((innerResolve, innerReject) => {
              resolve = innerResolve
              reject = innerReject
            })
            return {
              promise,
              resolve,
              reject,
            }
          }
        })(),
      })
    `),f=(e,r,i)=>{let a=n((e,...n)=>{let a=m(this,e),o=i?n.map(e=>m(this,e)):n;if(i)for(;o.length<r.length;)o.push(m(this,void 0));let s=r.apply(a,o);return void 0===s?void 0:g(this,s)},e);return Object.defineProperty(a,"name",{value:e,writable:!1}),a};this.outerToInnerFunctionTransformer=(e,r)=>f(e,r,!0),this.objectFactory=a,this.arrayBufferFactory=o,this.uint8ArrayFactory=s,this.emptyObjectFactory=u,this.emptyArrayFactory=p,this.promiseFactory=h,this.globalHandle=m(this,this.realm.global),this.nullHandle=m(this,null),this.undefinedHandle=m(this,void 0);let _=this.newObject();for(let e of(this.setProp(this.global,"console",_),d))this.setProp(_,e,m(this,f(e,c[e],!1)))}get global(){if(this.globalHandle)return this.globalHandle;throw Error("no global handle")}get null(){if(this.nullHandle)return this.nullHandle;throw Error("no null handle")}get undefined(){if(this.undefinedHandle)return this.undefinedHandle;throw Error("no undefined handle")}typeof(e){return typeof g(this,e)}isNumber(e){return"number"==typeof g(this,e)}isBoolean(e){return"boolean"==typeof g(this,e)}isString(e){return"string"==typeof g(this,e)}isNull(e){return null===g(this,e)}isUndefined(e){return void 0===g(this,e)}isObject(e){let r=g(this,e);return"object"==typeof r&&null!==r}isArray(e){return Array.isArray(g(this,e))}isArrayBuffer(e){let r=g(this,e);return"[object ArrayBuffer]"===Object.prototype.toString.call(r)}isUint8Array(e){let r=g(this,e);return"[object Uint8Array]"===Object.prototype.toString.call(r)&&ArrayBuffer.isView(r)}isFunction(e){return"function"==typeof g(this,e)}shallowFreezeObject(e){Object.freeze(g(this,e))}getNumber(e){let r=g(this,e);if("number"!=typeof r)throw Error("Value is not a number");return+r}getBoolean(e){let r=g(this,e);if("boolean"!=typeof r)throw Error("Value is not a boolean");return!!r}getString(e){let r=g(this,e);if("string"!=typeof r)throw Error("Value is not a string");return""+r}getArrayBuffer(e){let r=g(this,e);if("[object ArrayBuffer]"!==Object.prototype.toString.call(r))throw Error("Value is not a ArrayBuffer");return ArrayBuffer.prototype.slice.call(r,0)}getUint8Array(e){if(!this.isUint8Array(e))throw Error("Value is not a Uint8Array");let r=g(this,e);try{let e=+r.byteOffset,n=+r.byteLength,i=ArrayBuffer.prototype.slice.call(r.buffer,e,e+n);return new Uint8Array(i)}catch(e){throw new y(this,m(this,e))}}toNumber(e){let r=g(this,e);try{return+r}catch(e){throw new y(this,m(this,e))}}toBoolean(e){let r=g(this,e);try{return!!r}catch(e){throw new y(this,m(this,e))}}toString(e){let r=g(this,e);try{return""+r}catch(e){throw new y(this,m(this,e))}}newNumber(e){if("number"!=typeof e)throw Error("Value is not a number");return m(this,e)}newBoolean(e){if("boolean"!=typeof e)throw Error("Value is not a boolean");return m(this,e)}newString(e){if("string"!=typeof e)throw Error("Value is not a string");return m(this,e)}newObject(e){let r;if(!e)return m(this,this.emptyObjectFactory());let n=g(this,e);try{r=this.objectFactory(n)}catch(e){throw new y(this,m(this,e))}return m(this,r)}newArray(){return m(this,this.emptyArrayFactory())}newArrayBuffer(e){if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return m(this,this.arrayBufferFactory(e));throw Error("Value is not an ArrayBuffer")}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return m(this,this.uint8ArrayFactory(e));throw Error("Value is not an Uint8Array")}newFunction(e,r){if("function"!=typeof r)throw Error("Value is not a function");return m(this,this.outerToInnerFunctionTransformer(e,r))}newPromise(){let{promise:e,resolve:r,reject:n}=this.promiseFactory();return{promise:m(this,e),resolve:e=>{this.callFunction(m(this,r),this.null,e)},reject:e=>{this.callFunction(m(this,n),this.null,e)}}}getKeys(e){let r=g(this,e);if("object"!=typeof r)throw Error("not an object");return Object.keys(r)}getProp(e,r){let n;let i=g(this,e);try{n=i[r]}catch(e){throw new y(this,m(this,e))}return m(this,n)}setProp(e,r,n){let i=g(this,e),a=g(this,n);try{i[r]=a}catch(e){throw new y(this,m(this,e))}}defineProp(e,r,n){let i={};"configurable"in n&&(i.configurable=!!n.configurable),"enumerable"in n&&(i.enumerable=!!n.enumerable),"writable"in n&&(i.writable=!!n.writable),"value"in n&&n.value&&(i.value=g(this,n.value)),"get"in n&&n.get&&(i.get=this.outerToInnerFunctionTransformer("get_"+r,n.get)),"set"in n&&n.set&&(i.set=this.outerToInnerFunctionTransformer("set_"+r,n.set)),Object.defineProperty(g(this,e),r,i)}isEqual(e,r){return g(this,e)===g(this,r)}callFunction(e,r,...n){let i=g(this,e),a=g(this,r),o=n.map(e=>g(this,e));try{this.executionDepth++;let e=h.call(i,a,o);return{type:"SUCCESS",handle:m(this,e)}}catch(r){c.error(r);let e=new y(this,m(this,r));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalCode(e){try{this.executionDepth++;let r=this.realm.evaluate(e);return{type:"SUCCESS",handle:m(this,r)}}catch(r){c.error(r);let e=new y(this,m(this,r));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalTopLevelCode(e){let r=this.evalCode(e);return"SUCCESS"===r.type&&(r.handle=this.undefined),r}evalTrustedCode(e){return this.evalCode(e)}evalTrustedTopLevelCode(e){return this.evalTopLevelCode(e)}setAbortHandler(e){}setErrorHandler(e){this.errorHandler=e}getStats(){return null}setStats(e){}destroy(){this[p]=!0,this.iframe.remove()}isDestroyed(){return this[p]}retainHandle(e){}releaseHandle(e){}}i=p;let _="Attempted access to object created in plugin, but the plugin has already been closed";class y extends Error{constructor(e,r){let n="The plugin threw an error that could not be converted to a string";try{n="string"==typeof e?e:e.toString(r).replace(/^Error: /,"")}catch(e){}super(n),this.handle=r,Object.setPrototypeOf(this,y.prototype)}}let E=Symbol("Function Handle");function b(e){return!!(e&&"object"==typeof e&&e.hasOwnProperty(E))}function v(e){return b(e)?e[E]:null}function S(e){let r=new e;return r.getBooleanProp=(e,n)=>r.toBoolean(r.getProp(e,n)),r.getNumberProp=(e,n)=>r.toNumber(r.getProp(e,n)),r.getStringProp=(e,n)=>r.toString(r.getProp(e,n)),r.setBooleanProp=(e,n,i)=>r.setProp(e,n,r.newBoolean(i)),r.setNumberProp=(e,n,i)=>r.setProp(e,n,r.newNumber(i)),r.setStringProp=(e,n,i)=>r.setProp(e,n,r.newString(i)),r.callMethod=(e,n,...i)=>r.callFunction(r.getProp(e,n),e,...i),r.deepWrap=e=>{switch(typeof e){case"undefined":return r.undefined;case"boolean":return r.newBoolean(e);case"number":return r.newNumber(e);case"string":return r.newString(e);case"object":if(null===e)return r.null;if(e instanceof Array){let n=r.newArray(),i=e.length;for(let a=0;a<i;a++)r.setProp(n,a.toString(),r.deepWrap(e[a]));return n}if(e instanceof ArrayBuffer)return r.newArrayBuffer(e);if(e instanceof Uint8Array)return r.newUint8Array(e);else if(b(e)){let r=v(e);if(!r)throw Error("Handle in function wrapper is not a function");return r}else{let n=r.newObject();for(let i in e)r.setProp(n,i,r.deepWrap(e[i]));return n}default:throw Error(`Cannot wrap ${typeof e}`)}},r.deepUnwrap=(e,n=!1)=>{let i=()=>Error(`Cannot unwrap ${r.typeof(e)}`);switch(r.typeof(e)){case"undefined":return;case"boolean":return r.toBoolean(e);case"number":return r.toNumber(e);case"string":return r.toString(e);case"object":if(r.isNull(e))return null;if(r.isArray(e)){let i=[],a=r.getNumberProp(e,"length");for(let o=0;o<a;o++)i.push(r.deepUnwrap(r.getProp(e,o.toString()),n));return i}{if(r.isArrayBuffer(e))return r.getArrayBuffer(e);if(r.isUint8Array(e))return r.getUint8Array(e);let i={};for(let a of r.getKeys(e))i[a]=r.deepUnwrap(r.getProp(e,a),n);return i}case"function":if(n)return{[E]:e};throw i();default:throw i()}},r.deepFreezeObject=e=>{if(r.isObject(e))for(let n of r.getKeys(e))r.deepFreezeObject(r.getProp(e,n));r.shallowFreezeObject(e)},r.defineFunction=(e,n,i,a)=>{let o=r.getStats();r.defineProp(e,n,{enumerable:!1,value:r.newFunction(n,o&&i?o.metricsWrapper(i,a):a)})},r.registerPromise=function(e){return new Promise((n,i)=>{e.then(e=>{r.isDestroyed()||n(e)},e=>{r.isDestroyed()||i(e)})})},r}function I(){return S(s.j)}function T(){return S(f)}function w(){return S(o.nQ)}function C(){let e=S(s.i),r=[()=>e.destroy()],n=()=>{let e;for(let n of r)try{n()}catch(r){e||(e=r),console.error(`runShutdownActions error: ${r}`)}if(r=[],e)throw e};return{addShutdownAction:e=>{r.includes(e)||r.push(e)},closePlugin:()=>(n(),Promise.resolve()),noOpVm:e}}function A(e,r){return(0,a.z)(()=>{let n=r();return e.retainHandle(n),n})}},70769:(e,r,n)=>{"use strict";let i;n.d(r,{nQ:()=>I,VA:()=>T});var a=n(63706);let o={},s=new Set(["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"]),l=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;class d{constructor(e,r,n){this.api=e,this.vmWasDestroyed=n,this.valuesToHandles=new Map,this.getOwnPropertyDescriptors=e.evalCode("Object.getOwnPropertyDescriptors"),this.hasOwnProperty=e.evalCode("Object.hasOwnProperty"),this.newMap=e.evalCode("(Map => () => new Map)(Map)"),this.mapGet=e.evalCode("Map.prototype.get"),this.mapSet=e.evalCode("Map.prototype.set"),e.retainHandle(this.getOwnPropertyDescriptors),e.retainHandle(this.hasOwnProperty),e.retainHandle(this.newMap),e.retainHandle(this.mapGet),e.retainHandle(this.mapSet);let i=e.newObject();for(let n in e.setPropStr(e.global,"console",i),r)e.setPropStr(i,n,e.newFunction(n,(...e)=>{try{r[n](...this.cloneArguments(e))}catch(e){throw r.error(e),e}}))}createHandleToValueMap(){let e=this.api,r=e.callFunction(this.newMap,e.null,[]),n=[];return{get:i=>{let a=e.callFunction(this.mapGet,r,[i]);return e.isNumber(a)?n[e.getNumber(a)]:o},set:(i,a)=>{let o=n.length;e.callFunction(this.mapSet,r,[i,e.newNumber(o)]),n.push(a)}}}cloneArguments(e){let r=this.createHandleToValueMap(),n=[];for(let i of e)n.push(this.cloneValue(r,i));return n}cloneValue(e,r){let n=e.get(r);if(n!==o)return n;let i=this.api;switch(i.typeof(r)){case"undefined":return;case"boolean":return i.getBoolean(r);case"number":return i.getNumber(r);case"string":return i.getString(r);default:if(i.isNull(r))return null;if(i.isUint8Array(r)){let n=i.getUint8Array(r);return e.set(r,n),n}if(i.isFunction(r)){var a;let n="";try{n=i.getString(i.getPropStr(r,"name"))}catch(e){}let o=(a=n,l.test(a)&&!s.has(a))?Function(`return function ${n}() {}`)():function(){};return e.set(r,o),o}if(i.isArray(r)){let n=i.getNumber(i.getPropStr(r,"length")),a=[];e.set(r,a);for(let o=0;o<n;o++)a.push(this.cloneValue(e,i.getPropStr(r,o.toString())));return a}return this.cloneObjectWithProperties(e,r)}}cloneObjectWithProperties(e,r){let n=this.api,i=n.callFunction(this.getOwnPropertyDescriptors,n.null,[r]),a={};e.set(r,a),n.retainHandle(r),this.valuesToHandles.set(a,r);let o=n.getProto(r);for(let s of(Object.setPrototypeOf(a,this.cloneValue(e,o)),n.getOwnKeys(i))){let o=n.getPropStr(i,s),l=n.getBoolean(n.getPropStr(o,"enumerable")),d=n.getPropStr(o,"get"),c=n.getPropStr(o,"set"),u=!n.isUndefined(d),p=!n.isUndefined(c);if(!u&&!p){Object.defineProperty(a,s,{value:this.cloneValue(e,n.getPropStr(r,s)),enumerable:l});continue}let h={enumerable:l};if(u){n.retainHandle(d);let e=this;h.get=function(){if(e.vmWasDestroyed())throw Error("(this plugin run has ended)");let i=e.valuesToHandles.get(this);void 0===i&&(i=r);let a=n.callFunction(d,i,[]),o=e.createHandleToValueMap();return e.cloneValue(o,a)}}p&&(h.set=()=>{}),Object.defineProperty(a,s,h)}return a}}var c=n(76621),u=n(4783),p=n(96846);let h=["unknown","undefined","boolean","number","string","symbol","function","object"];async function m(e){let r=new Map,n=new Map,i=e.string_to_ptr,a=e.ptr_to_string,o=1;function s(r){if(e._jsvm_didThrow()){let r=e._jsvm_lastThrow(),n=a(e._jsvm_toString(r));throw e._jsvm_didThrow()&&(n="Unknown error"),new p.wC(n,r)}return r}e.invokeCallback=(e,n,i)=>{let a=r.get(e);if(void 0===a)throw Error(`Attempted to invoke callback with invalid id ${e}`);for(;i.length<a.length;)i.push(m.undefined);let o=a.apply(n,i);return void 0===o?m.undefined:o},e.getRegisteredFunctionName=e=>n.get(e);let l=!1;function d(){l||(l=!0,Promise.resolve().then(()=>{l=!1,e._jsvm_runMicrotasksAndAutorelease()}))}let m={reset(){try{o=1,r.clear(),e._jsvm_reset()}catch(e){throw y(),(0,c.$D)(u.e.EXTENSIBILITY,e),e}},retainHandle(r){d(),s(e._jsvm_retainHandle(r))},releaseHandle(r){d(),s(e._jsvm_releaseHandle(r))},get onAbort(){return e.onAbort},set onAbort(val){e.onAbort=val},get null(){return d(),e._jsvm_nullHandle()},get undefined(){return d(),e._jsvm_undefinedHandle()},get global(){return d(),e._jsvm_globalHandle()},typeof:r=>(d(),h[e._jsvm_typeof(r)]),isNumber:r=>(d(),!!e._jsvm_isNumber(r)),isBoolean:r=>(d(),!!e._jsvm_isBoolean(r)),isString:r=>(d(),!!e._jsvm_isString(r)),isNull:r=>(d(),!!e._jsvm_isNull(r)),isUndefined:r=>(d(),!!e._jsvm_isUndefined(r)),isObject:r=>(d(),!!e._jsvm_isObject(r)),isArray:r=>(d(),!!e._jsvm_isArray(r)),isArrayBuffer:r=>(d(),!!e._jsvm_isArrayBuffer(r)),isUint8Array:r=>(d(),!!e._jsvm_isUint8Array(r)),isFunction:r=>(d(),!!e._jsvm_isFunction(r)),shallowFreezeObject:r=>(d(),e._jsvm_shallowFreezeObject(r)),getNumber:r=>(d(),s(e._jsvm_getNumber(r))),getBoolean:r=>(d(),!!s(e._jsvm_getBoolean(r))),getString:r=>(d(),s(a(e._jsvm_getString(r)))),getArrayBuffer:r=>(d(),s(e.ptr_to_arraybuffer(e._jsvm_getArrayBuffer(r)))),getUint8Array:r=>(d(),s(e.ptr_to_uint8array(e._jsvm_getUint8Array(r)))),toNumber:r=>(d(),s(e._jsvm_toNumber(r))),toBoolean:r=>(d(),!!s(e._jsvm_toBoolean(r))),toString:r=>(d(),s(a(e._jsvm_toString(r)))),newNumber:r=>(d(),e._jsvm_newNumber(r)),newBoolean:r=>(d(),e._jsvm_newBoolean(r)),newString:r=>(d(),e._jsvm_newString(i(r))),newObject:r=>(d(),r)?s(e._jsvm_newObjectWithProto(r)):e._jsvm_newObject(),newArray:()=>(d(),e._jsvm_newArray()),newArrayBuffer:r=>(d(),e._jsvm_newArrayBuffer(e.arraybuffer_to_ptr(r))),newUint8Array:r=>(d(),e._jsvm_newUint8Array(e.uint8array_to_ptr(r))),newFunction(a,s){d();let l=o++;return r.set(l,s),n.set(l,a),e._jsvm_newFunction(i(a),l)},getProto:r=>(d(),e._jsvm_getProto(r)),getOwnKeys(r){d();let n=[];for(let i of e.ptr_to_int_array(e._jsvm_getOwnKeys(r)))n.push(a(i));return n},getPropStr:(r,n)=>(d(),s(e._jsvm_getPropStr(r,i(n)))),setPropStr(r,n,a){d(),s(e._jsvm_setPropStr(r,i(n),a))},definePropStr(r,n,a){if(d(),("get"in a||"set"in a)&&!("value"in a||"writable"in a))s(e._jsvm_accessorDefinePropStr(r,i(n),void 0===a.get?m.undefined:m.newFunction("get_"+n,a.get),void 0===a.set?m.undefined:m.newFunction("set_"+n,a.set),!!a.configurable,!!a.enumerable));else{if("get"in a||"set"in a)throw Object.defineProperty({},n,a),TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");s(e._jsvm_dataDefinePropStr(r,i(n),void 0===a.value?m.undefined:a.value,!!a.writable,!!a.configurable,!!a.enumerable))}},isEqual:(r,n)=>(d(),!!e._jsvm_isEqual(r,n)),callFunction:(r,n,i)=>(d(),s(e._jsvm_callFunction(r,n,e.int_array_to_ptr(i)))),evalCode:r=>(d(),s(e._jsvm_evalCode(i(r))))};return m}let g=null,f=null;async function _(){g||(g=new Promise((e,r)=>{let n=document.createElement("script");n.onerror=()=>{document.head.removeChild(n),r(Error("Failed to load plugin sandbox"))},n.onload=()=>{let r={wasmBinaryFile:Fig.jsvmCppURLs["jsvm-cpp.wasm"],locateFile:e=>{if("jsvm-cpp.wasm"===e)return Fig.jsvmCppURLs["jsvm-cpp.wasm"];throw Error(`This override is only implemented to located jsvm-cpp.wasm, please handle ${e}`)},postRun(){setTimeout(()=>{e({Module:r})})}};CppVm(r),CppVm=()=>Promise.reject()},n.src=Fig.jsvmCppURLs["jsvm-cpp.js"],document.head.appendChild(n)}).catch(e=>{throw g=null,e}));let{Module:e}=await g;return f||(f=m(e)),f}function y(){g=null,f=null,CppVm=void 0}var E=n(56755);let b={};for(let e of["log","error","assert","info","warn","clear"])b[e]=console[e].bind(console);let v=null,S=["window","document","indexedDB","atob","btoa"];class I{constructor(){if(this.vmType="cppvm",this._isDestroyed=!1,this._abortHandler=()=>{},this._errorHandler=()=>{},this._stats=null,this._executionDepth=0,!i)throw Error("Must await CppVm.load() first");if(null!==v)throw Error("Cannot create two CppVm objects at the same time");try{i.reset()}catch(e){throw i=void 0,e}for(let e of(v=this,this._promiseFactory=i.evalCode(`(Promise => () => {
      let resolve, reject, promise = new Promise((res, rej) => {
        resolve = res, reject = rej;
      });
      return {resolve, reject, promise};
    })(Promise)`),i.retainHandle(this._promiseFactory),i.evalCode(`
      this.eval = (function() {
        let __figma_scope_factory__ = ((eval, objectCreate, objectDefineProp) => () => {
          let scope = objectCreate(null)
          objectDefineProp(scope, 'eval', {
            get: function() {
              delete this.eval
              return eval
            },
            configurable: true,
          })
          return scope
        })(eval, Object.create, Object.defineProperty)
        return function() {
          with(__figma_scope_factory__()) {
            let __figma_scope_factory__
            return (function() {
              "use strict"
              return eval(arguments[0])
            }).call(this, arguments[0])
          }
        }.bind(arguments[0])
      })(this)
    `),new d(i,b,()=>this._isDestroyed),S))i.definePropStr(i.global,e,{value:i.undefined,enumerable:!1,metricsKey:e});i.onAbort=()=>{this._abortHandler(Error().stack||"")}}get null(){return this._failIfDestroyed(),i.null}get undefined(){return this._failIfDestroyed(),i.undefined}get global(){return this._failIfDestroyed(),i.global}typeof(e){return this._failIfDestroyed(),i.typeof(e)}isNumber(e){return this._failIfDestroyed(),i.isNumber(e)}isBoolean(e){return this._failIfDestroyed(),i.isBoolean(e)}isString(e){return this._failIfDestroyed(),i.isString(e)}isNull(e){return this._failIfDestroyed(),i.isNull(e)}isUndefined(e){return this._failIfDestroyed(),i.isUndefined(e)}isObject(e){return this._failIfDestroyed(),i.isObject(e)}isArray(e){return this._failIfDestroyed(),i.isArray(e)}isArrayBuffer(e){return this._failIfDestroyed(),i.isArrayBuffer(e)}isUint8Array(e){return this._failIfDestroyed(),i.isUint8Array(e)}isFunction(e){return this._failIfDestroyed(),i.isFunction(e)}shallowFreezeObject(e){this._failIfDestroyed(),i.shallowFreezeObject(e)}getNumber(e){return this._failIfDestroyed(),i.getNumber(e)}getBoolean(e){return this._failIfDestroyed(),i.getBoolean(e)}getString(e){return this._failIfDestroyed(),i.getString(e)}getArrayBuffer(e){return this._failIfDestroyed(),i.getArrayBuffer(e)}getUint8Array(e){return this._failIfDestroyed(),i.getUint8Array(e)}toNumber(e){return this._failIfDestroyed(),i.toNumber(e)}toBoolean(e){return this._failIfDestroyed(),i.toBoolean(e)}toString(e){return this._failIfDestroyed(),i.toString(e)}newNumber(e){if(this._failIfDestroyed(),"number"!=typeof e)throw Error("Value is not a number");return i.newNumber(e)}newBoolean(e){if(this._failIfDestroyed(),"boolean"!=typeof e)throw Error("Value is not a boolean");return i.newBoolean(e)}newString(e){if(this._failIfDestroyed(),"string"!=typeof e)throw Error("Value is not a string");return i.newString(e)}newObject(e){return this._failIfDestroyed(),i.newObject(e)}newArray(){return this._failIfDestroyed(),i.newArray()}newArrayBuffer(e){if(this._failIfDestroyed(),"[object ArrayBuffer]"!==Object.prototype.toString.call(e))throw Error("Value is not an ArrayBuffer");return i.newArrayBuffer(e)}newUint8Array(e){if(this._failIfDestroyed(),"[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return i.newUint8Array(e);throw Error("Value is not an Uint8Array")}newFunction(e,r){if(this._failIfDestroyed(),"function"!=typeof r)throw Error("Value is not a function");return i.newFunction(e,r)}newPromise(){this._failIfDestroyed();let e=i.callFunction(this._promiseFactory,i.null,[]),r=i.getPropStr(e,"resolve"),n=i.getPropStr(e,"reject"),a=!1;function o(){a||(a=!0,i.releaseHandle(r),i.releaseHandle(n))}return i.retainHandle(r),i.retainHandle(n),{promise:i.getPropStr(e,"promise"),resolve:e=>{a||(i.callFunction(r,i.null,[e]),o())},reject:e=>{a||(i.callFunction(n,i.null,[e]),o())}}}getKeys(e){return this._failIfDestroyed(),i.getOwnKeys(e)}getProp(e,r){return this._failIfDestroyed(),i.getPropStr(e,r)}setProp(e,r,n){this._failIfDestroyed(),i.setPropStr(e,r,n)}defineProp(e,r,n){this._failIfDestroyed(),this._stats&&("get"in n||"set"in n)&&n.metricsKey&&(n.get&&(n.get=this._stats.metricsWrapper("get "+n.metricsKey,n.get)),n.set&&(n.set=this._stats.metricsWrapper("set "+n.metricsKey,n.set))),i.definePropStr(e,r,n)}isEqual(e,r){return this._failIfDestroyed(),i.isEqual(e,r)}callFunction(e,r,...n){this._failIfDestroyed();try{this._executionDepth++;let a=i.callFunction(e,r,n);return{type:"SUCCESS",handle:a}}catch(e){if(e instanceof p.wC){try{b.error(e.message+"\n"+i.toString(i.getPropStr(e.handle,"stack")))}catch(r){b.error(e)}return 1===this._executionDepth&&this._errorHandler(e),{type:"FAILURE",error:e}}throw e}finally{this._executionDepth--}}evalCodeInternal(e){this._failIfDestroyed();try{this._executionDepth++;let r=i.evalCode(e);return{type:"SUCCESS",handle:r}}catch(e){if(e instanceof p.wC){try{b.error(e.message+"\n"+i.toString(i.getPropStr(e.handle,"stack")))}catch(r){b.error(e)}return 1===this._executionDepth&&this._errorHandler(e),{type:"FAILURE",error:e}}throw e}finally{this._executionDepth--}}evalCode(e){return(0,E.K)(e),this.evalCodeInternal(`eval(${JSON.stringify(e)})`)}evalTopLevelCode(e){return(0,E.K)(e),this.evalCodeInternal(`(function() { "use strict"; ${e} }).call(this)`)}evalTrustedCode(e){return this.evalCode(e)}evalTrustedTopLevelCode(e){return this.evalTopLevelCode(e)}setAbortHandler(e){this._abortHandler=e}setErrorHandler(e){this._errorHandler=e}getStats(){return this._stats}setStats(e){this._stats=e}destroy(){this._isDestroyed||(v===this&&(v=null),i.reset(),(a.XN||a.Ay.safari)&&(i=void 0,y()),this._isDestroyed=!0)}isDestroyed(){return this._isDestroyed}_failIfDestroyed(){if(this._isDestroyed)throw Error("This VM has been destroyed")}retainHandle(e){i.retainHandle(e)}releaseHandle(e){i.releaseHandle(e)}}async function T(){i||(i=await _())}},67712:(e,r,n)=>{"use strict";n.d(r,{Jp:()=>b,Ux:()=>I,av:()=>y,fs:()=>v,u1:()=>f,vf:()=>E,xc:()=>_});var i=n(38329),a=n(76621),o=n(4783),s=n(52800),l=n(93862),d=n(30956),c=n(93789),u=n(41860),p=n(79296);let h=c.z.instance,m=(0,p.n)(()=>10),g={invalidIncremental:e=>`Cannot call with documentAccess: dynamic-page. Use ${e} instead.`,incrementalUnsafeMemberWarning:(e,r)=>`\`${e}\` is deprecated. Please use \`${r}\` to ensure consistent results.`,invalidPageIncremental:e=>`Cannot access ${e} on a page that has not been explicitly loaded. Remember to call \`await page.loadAsync()\` or \`await figma.loadAllPagesAsync()' first.`,invalidPageRelaxedWarning:e=>`You are accessing ${e} on a page that has not been explicitly loaded. This is not recommended and may lead to unexpected behavior. Remember to call \`await page.loadAsync()\` or \`await figma.loadAllPagesAsync()' first.`};class f{constructor(e){this.loadedPages=new Set,this.incrementalMode=e.incrementalMode,this.stats=e.stats,this.allowIncrementalUnsafeApiCalls=e.allowIncrementalUnsafeApiCalls}getIsIncrementalMode(){return this.incrementalMode}loadedAllPages(){this.incrementalMode=!1}getLoadedPages(){return Array.from(this.loadedPages)}addLoadedPageIds(e){e.forEach(e=>{this.loadedPages.has(e)||this.stats.incrementNumPagesLoaded(),this.loadedPages.add(e)})}hasLoadedPageId(e){return this.loadedPages.has(e)||!this.incrementalMode}checkAllowedPage(e,r){if("CANVAS"!==e.type||this.hasLoadedPageId(e.guid))return;let n="method"in r?`method \`${r.method}()\``:`property \`${r.property}\``;if(this.allowIncrementalUnsafeApiCalls){console.warn(g.invalidPageRelaxedWarning(n));return}throw Error(g.invalidPageIncremental(n))}checkAllowedMethodIncremental(e){if("DOCUMENT"===e.type&&this.getIsIncrementalMode()){if(this.allowIncrementalUnsafeApiCalls)console.warn("To ensure consistent behavior, call `await figma.loadAllPagesAsync()` first.");else throw Error("Cannot call with documentAccess: dynamic-page without calling figma.loadAllPagesAsync() first.")}}checkAllowedMethodDocumentOrPage(e,r){"DOCUMENT"===e.type?this.checkAllowedMethodIncremental(e):"CANVAS"===e.type&&this.checkAllowedPage(e,r)}}function _(e,r,n){if(e)console.warn(g.incrementalUnsafeMemberWarning(r,n));else throw Error(g.invalidIncremental(n))}function y(e,r){let n=h.get(e);if(n){let e=n.containingCanvas;if(e&&r.hasLoadedPageId(e))return}else(0,a.$D)(o.e.EXTENSIBILITY,Error("Cannot call markPageLoaded without having loaded the page first."));E(e,r)}async function E(e,r){var n;let a=h.get(e),o=null==a?void 0:a.containingCanvas;if(o){if(r.hasLoadedPageId(o))return;let e=i.D.getState().mirror.appModel.pagesList.find(e=>e.nodeId===o);if(e&&e.loadedForPlugins){r.addLoadedPageIds([o]);return}}if(!T()&&await Promise.race([(async()=>(await (0,d.oJ)(s.kul.JOINED),!1))(),(async()=>(await new Promise(e=>setTimeout(e,1e3*m())),!0))()]))throw Error(`Unable to establish connection to Figma after ${m()} seconds. Please check your internet connection.`);await r.stats.markAndAggregateDuration("totalLoadPagesDuration",async()=>{let r=(0,l.IL)(e,s.dPJ.PLUGIN,s.DPQ.PLUGIN);b()&&s.h3O.resolveSceneGraphQueryForTest(o??e,s.DPQ.PLUGIN),await r});let c=null==(n=h.get(e))?void 0:n.containingCanvas;c&&r.addLoadedPageIds([c])}let b=(0,p.n)(()=>!1);async function v(e,r){await Promise.all(e.map(e=>E(e,r)))}async function S(e){let r=u.qo.instance.getInternalCanvas();if(!r){(0,a.$D)(o.e.EXTENSIBILITY,Error("loadInternalCanvas: internalCanvas does not exist"));return}await E(r.guid,e)}let I=(0,p.n)(async e=>await S(e)),T=(0,p.n)(()=>s.h3O.getSessionState()===s.kul.JOINED)},88633:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p;n.d(r,{Pd:()=>ue,_T:()=>c0,fv:()=>ud,eR:()=>uu,$C:()=>us,$f:()=>ul});var h,m,g,f,_,y,E,b=n(84934),v=n(17068),S=n(35283),I=n(63142),T=n(57663),w=n(17333),C=n(23762),A=n(38329),N=n(98977),O=n(66712),R=n(74626),P=n(67837),L=n(76621),D=n(4783),M=n(30637),k=n(72206),x=n(208),F=n(30654),U=n(86571),B=n(15009),V=n(87918),H=n(45941),G=n(70934),W=n(44673),z=n(2067),K=n(44682),j=n(29769),Y=n(82818),$=n(62275),q=n(83909),Z=n(74105),X=n(78905),J=n(11855),Q=n(88507),ee=n(86640),et=n(61870);n(81388);var er=n(39863),en=n(99737),ei=n(66636),ea=n(79453),eo=n(55328),es=n(37324),el=n(92592),ed=n(80820),ec=n(20741),eu=n(47807);let ep=new class{constructor(){this.BuyerPortalSchemaValidator=(0,eu.vh)(),this.BuyerActivePaymentsSchemaValidator=(0,eu.vh)(),this.BuyerPaymentMethodsSchemaValidator=(0,eu.vh)(),this.BuyerTaxSchemaValidator=(0,eu.vh)(),this.TagsAutocompleteSchemaValidator=(0,eu.vh)(),this.BuyerPurchasesSchemaValidator=(0,eu.vh)(),this.BuyerAssociatedPurchasesSchemaValidator=(0,eu.vh)(),this.RecentFilesSchemaValidator=(0,eu.vh)(),this.getRecentFiles=e=>this.RecentFilesSchemaValidator.validate(async({xr:r})=>e.isWidget?await r.get(`/api/widgets/${e.extensionId}/recent_files`):await r.get(`/api/plugins/${e.extensionId}/recent_files`)),this.CommunityUserTaxInfoValidator=(0,eu.vh)(),this.getCommunityUserTaxInfo=e=>this.CommunityUserTaxInfoValidator.validate(async({xr:r})=>await r.get("/api/community/monetization/tax_info",{user_id:e.userId})),this.updateBillingDetails=e=>x.Ay.post("/api/community/monetization/update_user_tax_info",e),this.CmtyCreatorPayoutStatementsSchemaValidator=(0,eu.vh)(),this.getCmtyCreatorPayoutStatements=e=>this.CmtyCreatorPayoutStatementsSchemaValidator.validate(async({xr:r})=>await r.get("/api/community/seller/payout_statements",{user_id:e.userId}))}getBuyerPortal(e){return this.BuyerPortalSchemaValidator.validate(async({xr:r})=>await r.get("/api/community/buyer/portal",eu.td.toAPIParameters(e)))}getBuyerActivePayments(){return this.BuyerActivePaymentsSchemaValidator.validate(async({xr:e})=>await e.get("/api/community/buyer/active_payments"))}getBuyerPaymentMethods(e){return this.BuyerPaymentMethodsSchemaValidator.validate(async({xr:r})=>await r.get("/api/community/buyer/payment_methods",{user_id:e.userId}))}getBuyerTax(e){return this.BuyerTaxSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community/buyer/${e.resourceId}/tax`,eu.td.toAPIParameters(e)))}getTagsAutocomplete(e){return this.TagsAutocompleteSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community/tags/${e.tagPrefix}/autocomplete`,{existing_tags:e.existingTags}))}getBuyerPurchases(e){return this.BuyerPurchasesSchemaValidator.validate(async({xr:r})=>await r.getPaginated("/api/community/buyer/purchases",{purchase_type:e.purchaseType,page_size:e.pageSize,cursor:e.cursor}))}getBuyerAssociatedPurchases(e){return this.BuyerAssociatedPurchasesSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community/buyer/associated_purchases/${e.id}`))}};var eh=n(77664);(0,ed.T8)("M10N_STRIPE_MANAGE_SUBSCRIPTION",(e,r,{loadingKey:n})=>{let i=ep.getBuyerPortal({returnUrl:window.location.href});(0,ec.N)(i,e,n),i.then(({data:n})=>{var i;e.dispatch((0,eh.RK)({rawInput:n.meta})),null==(i=r.onSuccess)||i.call(r)}).catch(r=>{e.dispatch(el.F.enqueue({message:(0,er.t)("community.actions.an_error_occured_while_trying_to_purchase_please_contact_support"),error:!0}))})},e=>"M10N_STRIPE_MANAGE_SUBSCRIPTION");var em=n(87620);n(99934),n(1730);var eg=n(76485),ef=n(55258),e_=n(26049),ey=n(91408),eE=n(80921),eb=n(92766),ev=n(30949),eS=n(38269),eI=n(7877);n(44948),n(40222);var eT=n(86759),ew=n(78466);let eC=new class{constructor(){this.SetupIntentSecretSchemaValidator=(0,eu.vh)()}getSetupIntentSecret(e){return this.SetupIntentSecretSchemaValidator.validate(async({xr:r})=>await r.get("/api/subscriptions-2018-11-08/setup_intent_secret",{subtotal_estimate:e.subtotal_estimate.toString(),currency:e.currency}))}};var eA=n(79296);let eN=(0,O.tl)().stripe_api_public;var eO=((a=eO||{}).CARD="card",a.SEPA="sepa_debit",a.IDEAL="ideal",a.SOFORT="sofort",a);let eR=null;function eP(){return new Promise((e,r)=>{eR?e(eR):eN?(0,eT.k0)("https://js.stripe.com/v3/",{cors:!1}).then(()=>{e(eR=Stripe(eN,{locale:(0,ew.Gq)().getPrimaryLocale(!1)}))}).catch(r):r("No Stripe api key")})}let eL=(0,eA.D)(e=>new Promise((r,n)=>{eP().then(n=>{r(n.elements().create("card",e))}).catch(n)})),eD=(0,eA.D)((e,r)=>new Promise((n,i)=>{eP().then(a=>{a.createToken(e,r).then(e=>{n(e)}).catch(i)}).catch(i)})),eM=(0,eA.D)(async(e,r,n)=>{let i=await eP(),{data:{meta:{client_secret:a}}}=await eC.getSetupIntentSecret({subtotal_estimate:r,currency:n}),o=()=>document.querySelectorAll("[name*=privateStripeFrame]").length,s=o(),l=!1,d=setInterval(()=>{s!==o()&&((0,b.sx)("Stripe Authentication Modal"),clearInterval(d),l=!0)},1e3),c=await i.confirmCardSetup(a,{payment_method:{card:{token:e}}});if(clearInterval(d),c.error)throw(0,b.sx)("Payment Confirmation Error",{error_message:c.error.message}),c.error;return(0,b.sx)("Payment Confirmation Success"),c.setupIntent.is3DS=l,c.setupIntent});var ek=n(78787),ex=n(22139),eF=n(37870),eU=n(70588),eB=n(36894),eV=n(88578),eH=n(99506),eG=n(29019),eW=n.n(eG);let ez="checkout_modal--spacer--xbYK-",eK="checkout_modal--lineItemSubtext--zkB8p text--fontPos13--xW8hS text--_fontBase--QdLsd",ej="checkout_modal--verticalDivider--h0HkL",eY="checkout_modal--paymentIntervalRadioOption--LC-WS",e$="checkout_modal--paymentIntervalRadioLabel--ck3b6",eq="checkout_modal--formHeader--aQgy4 text--fontPos13--xW8hS text--_fontBase--QdLsd",eZ="checkout_modal--reusePaymentMethodRadioLabel--DGkeU",eX="checkout_modal--reusePaymentMethodRadioIcon--U35qb",eJ="checkout_modal--stickyHeaderContainerWithBottomBorder--tf0iI",eQ="checkout_modal--cardIcon--QwHIz";function e0({address:e,isSecondaryText:r=!1}){let n=e.line1+(e.line2?`, ${e.line2}`:""),i=e.city;for(let r of["region","postal_code"]){let n=e[r];n&&(i+=`, ${n}`)}let a=eW()("checkout_modal--addressLine--eBSIh ellipsis--ellipsis--Tjyfa",ev.cx.if(r,ev.cx.colorTextSecondary,ev.cx.colorText).$);return J.createElement("div",{className:ev.cx.flex.itemsStart.flexColumn.$},J.createElement("div",{className:a},n),J.createElement("div",{className:a},i),J.createElement("div",{className:a},e.country))}function e1({shippingAddress:e,vatGstId:r}){return J.createElement(J.Fragment,null,!(0,es.Cg)(e)&&J.createElement(e0,{address:e}),r&&J.createElement(er.Tx,{id:"community.community_account_settings.vat_gst_id",vatGstId:r}))}var e2=n(24897),e3=n(98606),e5=n(26815);function e4({hasTaxIdVerificationError:e}){return J.createElement("div",{className:eW()(ev.cx.flex.flexRow.itemsCenter.$,{[ev.cx.colorTextDanger.$]:e})},J.createElement(er.Tx,{id:"community.monetization.address"}),J.createElement(e2.B,{svg:e5.A,className:eW()("tax_address_header--icon--fjFou",{"tax_address_header--iconError--mYxTg":e}),"data-tooltip":e?(0,er.t)("community.monetization.tax_id_couldnt_be_verified"):(0,er.t)("community.monetization.your_address_is_used"),"data-tooltip-type":e3.Ib.TEXT,"data-tooltip-max-width":240,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}))}var e6=n(46689),e8=n(10954),e7=n(72517),e9=n(88022);let te=[["Afghanistan","AF"],["\xc5land Islands","AX"],["Albania","AL"],["Algeria","DZ"],["American Samoa","AS"],["Andorra","AD"],["Angola","AO"],["Anguilla","AI"],["Antarctica","AQ"],["Antigua and Barbuda","AG"],["Argentina","AR"],["Armenia","AM"],["Aruba","AW"],["Australia","AU"],["Austria","AT"],["Azerbaijan","AZ"],["Bahamas","BS"],["Bahrain","BH"],["Bangladesh","BD"],["Barbados","BB"],["Belarus","BY"],["Belgium","BE"],["Belize","BZ"],["Benin","BJ"],["Bermuda","BM"],["Bhutan","BT"],["Bolivia (Plurinational State of)","BO"],["Bonaire, Sint Eustatius and Saba","BQ"],["Bosnia and Herzegovina","BA"],["Botswana","BW"],["Bouvet Island","BV"],["Brazil","BR"],["British Indian Ocean Territory","IO"],["Brunei Darussalam","BN"],["Bulgaria","BG"],["Burkina Faso","BF"],["Burundi","BI"],["Cabo Verde","CV"],["Cambodia","KH"],["Cameroon","CM"],["Canada","CA"],["Cayman Islands","KY"],["Central African Republic","CF"],["Chad","TD"],["Chile","CL"],["China","CN"],["Christmas Island","CX"],["Cocos (Keeling) Islands","CC"],["Colombia","CO"],["Comoros","KM"],["Congo","CG"],["Congo (Democratic Republic of the)","CD"],["Cook Islands","CK"],["Costa Rica","CR"],["C\xf4te d'Ivoire","CI"],["Croatia","HR"],["Cuba","CU"],["Cura\xe7ao","CW"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Djibouti","DJ"],["Dominica","DM"],["Dominican Republic","DO"],["Ecuador","EC"],["Egypt","EG"],["El Salvador","SV"],["Equatorial Guinea","GQ"],["Eritrea","ER"],["Estonia","EE"],["Eswatini","SZ"],["Ethiopia","ET"],["Falkland Islands (Malvinas)","FK"],["Faroe Islands","FO"],["Fiji","FJ"],["Finland","FI"],["France","FR"],["French Guiana","GF"],["French Polynesia","PF"],["French Southern Territories","TF"],["Gabon","GA"],["Gambia","GM"],["Georgia","GE"],["Germany","DE"],["Ghana","GH"],["Gibraltar","GI"],["Greece","GR"],["Greenland","GL"],["Grenada","GD"],["Guadeloupe","GP"],["Guam","GU"],["Guatemala","GT"],["Guernsey","GG"],["Guinea","GN"],["Guinea-Bissau","GW"],["Guyana","GY"],["Haiti","HT"],["Heard Island and McDonald Islands","HM"],["Holy See","VA"],["Honduras","HN"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["India","IN"],["Indonesia","ID"],["Iran (Islamic Republic of)","IR"],["Iraq","IQ"],["Ireland","IE"],["Isle of Man","IM"],["Israel","IL"],["Italy","IT"],["Jamaica","JM"],["Japan","JP"],["Jersey","JE"],["Jordan","JO"],["Kazakhstan","KZ"],["Kenya","KE"],["Kiribati","KI"],["Korea (Democratic People's Republic of)","KP"],["Korea (Republic of)","KR"],["Kuwait","KW"],["Kyrgyzstan","KG"],["Lao People's Democratic Republic","LA"],["Latvia","LV"],["Lebanon","LB"],["Lesotho","LS"],["Liberia","LR"],["Libya","LY"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Macedonia (the former Yugoslav Republic of)","MK"],["Madagascar","MG"],["Malawi","MW"],["Malaysia","MY"],["Maldives","MV"],["Mali","ML"],["Malta","MT"],["Marshall Islands","MH"],["Martinique","MQ"],["Mauritania","MR"],["Mauritius","MU"],["Mayotte","YT"],["Mexico","MX"],["Micronesia (Federated States of)","FM"],["Moldova (Republic of)","MD"],["Monaco","MC"],["Mongolia","MN"],["Montenegro","ME"],["Montserrat","MS"],["Morocco","MA"],["Mozambique","MZ"],["Myanmar","MM"],["Namibia","NA"],["Nauru","NR"],["Nepal","NP"],["Netherlands","NL"],["New Caledonia","NC"],["New Zealand","NZ"],["Nicaragua","NI"],["Niger","NE"],["Nigeria","NG"],["Niue","NU"],["Norfolk Island","NF"],["Northern Mariana Islands","MP"],["Norway","NO"],["Oman","OM"],["Pakistan","PK"],["Palau","PW"],["Palestine, State of","PS"],["Panama","PA"],["Papua New Guinea","PG"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Pitcairn","PN"],["Poland","PL"],["Portugal","PT"],["Puerto Rico","PR"],["Qatar","QA"],["R\xe9union","RE"],["Romania","RO"],["Russian Federation","RU"],["Rwanda","RW"],["Saint Barth\xe9lemy","BL"],["Saint Helena, Ascension and Tristan da Cunha","SH"],["Saint Kitts and Nevis","KN"],["Saint Lucia","LC"],["Saint Martin (French part)","MF"],["Saint Pierre and Miquelon","PM"],["Saint Vincent and the Grenadines","VC"],["Samoa","WS"],["San Marino","SM"],["Sao Tome and Principe","ST"],["Saudi Arabia","SA"],["Senegal","SN"],["Serbia","RS"],["Seychelles","SC"],["Sierra Leone","SL"],["Singapore","SG"],["Sint Maarten (Dutch part)","SX"],["Slovakia","SK"],["Slovenia","SI"],["Solomon Islands","SB"],["Somalia","SO"],["South Africa","ZA"],["South Georgia and the South Sandwich Islands","GS"],["South Sudan","SS"],["Spain","ES"],["Sri Lanka","LK"],["Sudan","SD"],["Suriname","SR"],["Svalbard and Jan Mayen","SJ"],["Sweden","SE"],["Switzerland","CH"],["Syrian Arab Republic","SY"],["Taiwan","TW"],["Tajikistan","TJ"],["Tanzania, United Republic of","TZ"],["Thailand","TH"],["Timor-Leste","TL"],["Togo","TG"],["Tokelau","TK"],["Tonga","TO"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["Turkmenistan","TM"],["Turks and Caicos Islands","TC"],["Tuvalu","TV"],["Uganda","UG"],["Ukraine","UA"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["United States Minor Outlying Islands","UM"],["Uruguay","UY"],["Uzbekistan","UZ"],["Vanuatu","VU"],["Venezuela (Bolivarian Republic of)","VE"],["Viet Nam","VN"],["Virgin Islands (British)","VG"],["Virgin Islands (U.S.)","VI"],["Wallis and Futuna","WF"],["Western Sahara","EH"],["Yemen","YE"],["Zambia","ZM"],["Zimbabwe","ZW"]],tt=["AX","CU","GS","HM","IO","IR","KP","LB","LY","SD","SO","SY","TF","UM"],tr=[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"],["District of Columbia","DC"],["American Samoa","AS"],["Guam","GU"],["Northern Mariana Islands","MP"],["Puerto Rico","PR"],["United States Minor Outlying Islands","UM"],["Virgin Islands, U.S.","VI"],["Armed Forces (AA)","AA"],["Armed Forces (AE)","AE"],["Armed Forces (AP)","AP"]].sort((e,r)=>e[1].localeCompare(r[1])),tn=[["Alberta","AB"],["British Columbia","BC"],["Manitoba","MB"],["New Brunswick","NB"],["Newfoundland and Labrador","NL"],["Nova Scotia","NS"],["Nunavut","NU"],["Ontario","ON"],["Prince Edward Island","PE"],["Quebec","QC"],["Saskatchewan","SK"],["Northwest Territories","NT"],["Yukon","YT"]].sort((e,r)=>e[1].localeCompare(r[1])),ti=[["Andhra Pradesh","AP"],["Arunachal Pradesh","AR"],["Assam","AS"],["Bihar","BR"],["Chhattisgarh","CT"],["Goa","GA"],["Gujarat","GJ"],["Haryana","HR"],["Himachal Pradesh","HP"],["Jharkhand","JH"],["Karnataka","KA"],["Kerala","KL"],["Madhya Pradesh","MP"],["Maharashtra","MH"],["Manipur","MN"],["Meghalaya","ML"],["Mizoram","MZ"],["Nagaland","NL"],["Odisha","OR"],["Punjab","PB"],["Rajasthan","RJ"],["Sikkim","SK"],["Tamil Nadu","TN"],["Telangana","TG"],["Tripura","TR"],["Uttar Pradesh","UP"],["Uttarakhand","UT"],["West Bengal","WB"],["Andaman and Nicobar Islands","AN"],["Chandigarh","CH"],["Dadra and Nagar Haveli and Daman and Diu","DH"],["Delhi","DL"],["Jammu and Kashmir","JK"],["Ladakh","LA"],["Lakshadweep","LD"],["Puducherry","PY"]].sort((e,r)=>e[1].localeCompare(r[1]));["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"].concat(["GF","GP","MQ","ME","YT","RE","MF","GI","AX","IS","NO","AD","LI","MC","SM","VA","GB","GG","JE","PM","GL","BL","SX","AW","CW","WF","PF","NC","TF","AI","BM","IO","VG","KY","FK","MS","PN","SH","GS","TC"]);var ta=n(7584),to=n(83423);let ts=new Set(["IN"]),tl=(0,e7.h3)(e=>{let r={...e};return delete r.dataTestId,J.createElement("select",{...r,"data-testid":e.dataTestId},e.children)});function td({address:e,updateAddress:r,disabled:n,countryCodesOverride:i,dontSeeYourCountryLink:a,canSeeBillingAddressExp:o,isBillingAddress:s}){let l=(0,er.t)("pro_cart.payment.state"),{city:d,region:c,postalCode:u}=function(e){switch(e){case"US":return{city:{label:(0,er.t)("pro_cart.payment.city"),trackingFieldName:"US City"},region:{options:[[(0,er.t)("pro_cart.payment.state"),(0,er.t)("pro_cart.payment.state")],...tr],trackingFieldName:"US State"},postalCode:{label:(0,er.t)("pro_cart.payment.zip_code"),trackingFieldName:"US Postal Code",maxLength:5}};case"CA":return{city:{label:(0,er.t)("pro_cart.payment.city"),trackingFieldName:"Intl City"},region:{options:[[(0,er.t)("pro_cart.payment.province"),(0,er.t)("pro_cart.payment.province")],...tn],trackingFieldName:"Intl Region"},postalCode:{label:(0,er.t)("pro_cart.payment.postal_code"),trackingFieldName:"Intl City",maxLength:7}};case"IN":return{city:{label:(0,er.t)("pro_cart.payment.city"),trackingFieldName:"Intl City"},region:{options:[[(0,er.t)("pro_cart.payment.state"),(0,er.t)("pro_cart.payment.state")],...ti],trackingFieldName:"Intl Region"},postalCode:{label:(0,er.t)("pro_cart.payment.postal_code"),trackingFieldName:"Intl Postal Code",maxLength:6}};default:return{city:{label:(0,er.t)("pro_cart.payment.city_town_or_village"),trackingFieldName:"Intl City"},region:{label:(0,er.t)("pro_cart.payment.province_or_region"),trackingFieldName:"Intl Region"},postalCode:{label:(0,er.t)("pro_cart.payment.postal_code"),trackingFieldName:"Intl City",maxLength:11}}}}(e.country),p=n=>{let i=n.target.name,a=n.target.value;if(!i){n.preventDefault(),T.k.error("HTMLInputElement is missing name attribute:",n.target);return}"region"===i&&a===l&&(a=""),"country"===i&&(e.region=""),r({...e,[i]:a})},h=n=>{let i=n.target.name,a=n.target.value;if(!i){n.preventDefault(),T.k.error("HTMLInputElement is missing name attribute:",n.target);return}r({...e,[i]:a.trim()})},m=ts.has(e.country),g=(0,er.t)("pro_cart.payment.street_address");return o&&(g=s?(0,er.t)("pro_cart.payment.billing_address"):(0,er.t)("pro_cart.payment.optional_shipping_address")),J.createElement("div",{id:"address-form-container"},J.createElement(e6.Lf,{value:e.line1||"",htmlName:"line1",label:(0,er.t)("pro_cart.payment.street_address_label"),placeholder:g,onChange:p,onBlur:h,autoCompleteName:"shipping address-line1",trackingFieldName:"Address Line 1",dataTestId:"stripe-address-1"}),J.createElement(e6.Lf,{value:e.line2||"",htmlName:"line2",label:(0,er.t)("pro_cart.payment.street_address_line_2_label"),placeholder:(0,er.t)("pro_cart.payment.street_address_line_2"),onChange:p,onBlur:h,autoCompleteName:"shipping address-line2",trackingFieldName:"Address Line 2"}),J.createElement("div",{className:ta.Os},J.createElement("div",{className:ta._5},J.createElement(tl,{name:"country",value:e.country,autoComplete:"shipping country",onChange:p,trackingFieldName:"Country",trackingPopulationLevel:e.country?e9._R.POPULATED_COMPLETE:e9._R.NOT_POPULATED,dataTestId:"stripe-country",disabled:n},J.createElement("option",{value:"US"},(0,er.t)("payments.united_states")),(i??te).filter(e=>!("US"===e[1]||tt.includes(e[1]))).map(e=>J.createElement("option",{key:e[1],value:e[1]},e[0]))),J.createElement(e2.B,{className:ta.nO,svg:to.A}))),a&&J.createElement(e8.N,{className:ta.kh,href:a,target:"_blank",trusted:!0},J.createElement(er.Tx,{id:"pro_cart.payment.dont_see_your_country"})),J.createElement(tc,{onChangeAddressForm:p,address:e,disabled:n,inputOptions:d}),J.createElement("div",{className:ta.V$},J.createElement(tu,{onChangeAddressForm:p,address:e,disabled:n,inputOptions:c,showReadableName:m}),J.createElement(tp,{onChangeAddressForm:p,address:e,disabled:n,inputOptions:u})))}function tc({address:e,disabled:r,inputOptions:n,onChangeAddressForm:i}){return J.createElement(e6.Lf,{value:e.city,htmlName:"city",label:n.label,onChange:i,autoCompleteName:"shipping address-level2",trackingFieldName:n.trackingFieldName,dataTestId:"stripe-city",disabled:r})}function tu({address:e,disabled:r,inputOptions:n,onChangeAddressForm:i,showReadableName:a}){return n.options?J.createElement("div",{className:ta.Fy},J.createElement("div",{className:ta.Sj},J.createElement(tl,{className:eW()({[ta.ES]:""===e.region}),name:"region",value:e.region,autoComplete:"shipping address-level1",onChange:i,trackingFieldName:n.trackingFieldName,trackingPopulationLevel:e.region?e9._R.POPULATED_COMPLETE:e9._R.NOT_POPULATED,dataTestId:"stripe-region",disabled:r},n.options.map(e=>{let r=a?e[0]:e[1];return J.createElement("option",{key:r,value:e[1]},r)})),J.createElement(e2.B,{className:ta.nO,svg:to.A}))):J.createElement(e6.Lf,{className:ta.Fy,value:e.region,htmlName:"region",label:n.label,onChange:i,autoCompleteName:"shipping address-level1",trackingFieldName:n.trackingFieldName,maxLength:50,dataTestId:"stripe-region",disabled:r})}function tp({address:e,disabled:r,inputOptions:n,onChangeAddressForm:i}){return J.createElement(e6.Lf,{className:ta.Fy,value:e.postal_code,htmlName:"postal_code",label:n.label,onChange:i,autoCompleteName:"shipping postal-code",trackingFieldName:n.trackingFieldName,maxLength:n.maxLength,dataTestId:"stripe-postal-code",disabled:r})}var th=n(97666);function tm(e,r,n,i,a){return e&&r?(function(e,r,n){let i=null!==window.location.hostname.match(/admin\./)?"/api/admin/tax/validate_vat":"/api/tax/validate_vat";return x.Ay.post(i,{vat_gst_id:e,country_code:r,region:n})})(e,r,a).then(e=>e.data.meta.valid?(n(),!0):(i((0,er.t)(e.data.i18n.id)),!1)).catch(e=>(i(e.data&&e.data.message||(0,er.t)("tax.vat.vat_gst_validation_failed")),!1)):(n(),Promise.resolve(!0))}var tg=((o=tg||{}).AUSTRALIA="AU",o.JAPAN="JP",o.LIECHTENSTEIN="LI",o.MEXICO="MX",o.RUSSIA="RU",o.SWITZERLAND="CH",o.SOUTH_AFRICA="ZA",o.UNITED_KINGDOM="GB",o.INDIA="IN",o.CANADA="CA",o.SOUTH_KOREA="KR",o.NORWAY="NO",o.SINGAPORE="SG",o.EGYPT="EG",o.AUSTRIA="AT",o.BELGIUM="BE",o.BULGARIA="BG",o.CROATIA="HR",o.CYPRUS="CY",o.CZECHIA="CZ",o.DENMARK="DK",o.ESTONIA="EE",o.FINLAND="FI",o.FRANCE="FR",o.GERMANY="DE",o.GREECE="GR",o.HUNGARY="HU",o.IRELAND="IE",o.ITALY="IT",o.LATVIA="LV",o.LITHUANIA="LT",o.LUXEMBOURG="LU",o.MALTA="MT",o.NETHERLANDS="NL",o.POLAND="PL",o.PORTUGAL="PT",o.ROMANIA="RO",o.SLOVAKIA="SK",o.SLOVENIA="SI",o.SPAIN="ES",o.SWEDEN="SE",o.NULL="N/A",o),tf=((s=tf||{}).QUEBEC="QC",s);let t_={GB:{exampleFormat:"GB123456789"},AT:{exampleFormat:"ATU12345678"},BE:{exampleFormat:"BE1234567890"},BG:{exampleFormat:"BG123456789"},HR:{exampleFormat:"HR12345678901"},CY:{exampleFormat:"CY12345678L"},CZ:{exampleFormat:"CZ1234567890"},DK:{exampleFormat:"DK12345678"},EE:{exampleFormat:"EE123456789"},FI:{exampleFormat:"FI12345678"},FR:{exampleFormat:"FRAB123456789"},DE:{exampleFormat:"DE123456789"},GR:{exampleFormat:"EL123456789"},HU:{exampleFormat:"HU12345678"},IE:{exampleFormat:"IE1234567AB"},IT:{exampleFormat:"IT12345678901"},LV:{exampleFormat:"LV12345678901"},LT:{exampleFormat:"LT123456789012"},LU:{exampleFormat:"LU12345678"},MT:{exampleFormat:"MT12345678"},NL:{exampleFormat:"NL123456789B12"},PL:{exampleFormat:"PL1234567890"},PT:{exampleFormat:"PT123456789"},RO:{exampleFormat:"RO1234567890"},SK:{exampleFormat:"SK1234567890"},SI:{exampleFormat:"SI12345678"},ES:{exampleFormat:"ESA1234567Z"},SE:{exampleFormat:"SE123456789012"},CA:{exampleFormat:"123456789RT0001",name:"GST/HST",regions:["QC"],communityDisabled:!0},QC:{exampleFormat:"1234567890TQ0001",name:"QST"},KR:{exampleFormat:"123-45-67890"},NO:{exampleFormat:"123456789MVA"},SG:{exampleFormat:"M12345678A"},EG:{exampleFormat:"123456789"},AU:{exampleFormat:"12345678910"}};function ty(e,r){var n,i;if(Object.values(tg).includes(e)){if(!r)return e;if(null==(i=null==(n=t_[e])?void 0:n.regions)?void 0:i.includes(r))return r}return"N/A"}let tE=new Set(["JP","LI","MX","RU","CH","ZA","GB","IN","CA","KR",(0,O.u4)("vat_save_no","NO","N/A"),(0,O.u4)("vat_save_sg","SG","N/A"),(0,O.u4)("vat_save_eg","EG","N/A"),(0,O.u4)("vat_save_au","AU","N/A")].concat(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"]));function tb(e,r){var n;return(0,er.t)("tax.optional_vat_gst_id.input_label",{taxType:(null==(n=t_[ty(e,r)])?void 0:n.name)||"VAT/GST"})}function tv(e){var r,n,i,a,o;let[s,l]=(0,J.useState)(""),[d,c]=(0,J.useState)(""),{variant:u="default",onChange:p,setIsVatIdValid:h,country:m,region:g}=e,f=(0,J.useRef)(m),_=(0,J.useRef)(g||""),y=(0,J.useMemo)(()=>(0,th.s)(tm,500),[]),E=(0,J.useCallback)(()=>{l(""),h&&h(!0)},[h]),b=(0,J.useCallback)(e=>{l(e),h&&h(!1)},[h]),v=(0,J.useCallback)(()=>{p(""),E(),c("")},[p,E,c]);return(0,J.useEffect)(()=>{y(e.vatId,m,E,b,g)},[y,e.vatId,m,E,b,g]),(0,J.useEffect)(()=>{f.current!==m&&(v(),f.current=m)},[m,v]),(0,J.useEffect)(()=>{g&&_.current!==g&&(v(),_.current=g)},[g,v]),J.createElement(J.Fragment,null,(r=e.country,n=e.region,(!e.isCommunityCheckout||(!(0,O.kc)().cmty_disable_vat_for_india||r!==tg.INDIA)&&(null==(i=function(e){if(tE.has(e))return t_[e]}(r))||!i.communityDisabled))&&(void 0===n?tE.has(r):!!tE.has(r)&&!!(null==(o=null==(a=t_[r])?void 0:a.regions)?void 0:o.includes(n)))&&J.createElement(J.Fragment,null,J.createElement(e6.Lf,{value:e.vatId,htmlName:"regional"===u?"regionalVatId":"vatId",label:tb(e.country,e.region),placeholder:d,onChange:r=>{let n=r.target.value;e.onChange(n)},onFocus:e=>{var r;let n=null==(r=t_[ty(m,g)])?void 0:r.exampleFormat;n&&c((0,er.t)("tax.example_vat_format_placeholder",{exampleFormat:n}))},onBlur:r=>{c(tb(e.region??e.country))},trackingFieldName:"VAT/GST ID",dataTestId:"vat-gst-id-input",tooltip:(0,er.t)("tax.vat.input_tooltip"),className:eW()("vat_input--inputBox--o9iEf basic_form--labeledInputGroup--aeD6L",{"vat_input--error--PX8cc":e.hasTaxIdVerificationError}),hasError:e.hasTaxIdVerificationError||!!s}),!!s&&J.createElement("div",{className:"vat_input--errorMessageContainer--O8ez0","data-testid":"vat-gst-id-input-error"},J.createElement("span",{className:"vat_input--errorMessage--AE03w"},s)))))}function tS({shippingAddress:e,setShippingAddress:r,vatGstId:n,setVatGstId:i,setIsVatIdValid:a,taxIdVerificationStatus:o}){let[s,l]=J.useState((0,es.Cg)(e)),d=o===eH.kI.UNVERIFIED;return J.createElement("div",null,J.createElement("div",{className:eq},J.createElement(e4,{hasTaxIdVerificationError:d})),s&&J.createElement("div",{className:"checkout_modal--addressForm--82Txv stripe--stripeCardAndAddress--b42eG"},J.createElement(td,{address:e,updateAddress:r}),J.createElement(tv,{onChange:i,country:e.country,vatId:n,setIsVatIdValid:a,hasTaxIdVerificationError:d,isCommunityCheckout:!0})),!s&&J.createElement(J.Fragment,null,J.createElement("div",{className:ev.cx.pb8.$},J.createElement(e1,{shippingAddress:e,vatGstId:n})),J.createElement("button",{className:"checkout_modal--blueLink--A-K4r blue_link--blueLink--9rlnd",onClick:()=>l(!0)},J.createElement(er.Tx,{id:"general.edit"}))))}tv.defaultProps={onVatIdChange:e=>{},vatId:""};let tI="checkout_promo_code_input--promoCodeApplyButton--x6XvK",tT="checkout_promo_code_input--promoCodeCancelButton--atXkP";var tw=n(14270),tC=n(37466);function tA({resource:e,promo_code:r}){return r?(0,ek.Uv)(e.monetized_resource_metadata)?-1===r.duration?J.createElement(er.Tx,{id:"community.buyer.sub_percent_off__forever",percent_off:r.percent_off}):J.createElement(er.Tx,{id:"community.buyer.sub_percent_off",percent_off:r.percent_off,duration:r.duration}):J.createElement(er.Tx,{id:"community.buyer.otp_percent_off",percent_off:r.percent_off}):null}var tN=((l=tN||{}).POSSIBLY_VALID="possibly_valid",l.VALID="valid",l.INVALID="invalid",l.TOO_SHORT="too_short",l.LOADING="loading",l);function tO({resource:e,disabled:r,initialValue:n,onValidate:i}){n&&("string"!=typeof n||8===n.length)||(n="");let[a,o]=J.useState(8===n.length?"possibly_valid":"too_short"),[s,l]=J.useState(n),[d,c]=J.useState(null),u=e=>{o(e),c(null),i(null)};if(!e||!("third_party_m10n_status"in e)||e.third_party_m10n_status!==ek.PN.MIGRATING)return null;let p=(()=>{if("possibly_valid"===a||"too_short"===a)return J.createElement("button",{className:tI,disabled:"too_short"===a,onClick:()=>{o("loading"),x.Ay.post("/api/community/promo_codes/validate",{resource_type:(0,es.Vm)(e),resource_id:e.id,promo_code:s}).then(e=>{e.data.meta.valid?(o("valid"),c(e.data.meta),i({percent_off:e.data.meta.percent_off,duration:e.data.meta.duration,promo_code:e.data.meta.promo_code})):u("invalid")}).catch(e=>{u("invalid")})}},J.createElement(er.Tx,{id:"community.buyer.apply"}));let r=()=>{l(""),c(null),u("too_short")};return"valid"===a?J.createElement("button",{className:"checkout_promo_code_input--promoCodeApplyButton__validHover--KWTpH checkout_promo_code_input--promoCodeApplyButton--x6XvK",onClick:r},J.createElement(e2.B,{className:"checkout_promo_code_input--promoCodeCheckmark--ig7bR",svg:tw.A}),J.createElement("div",{className:tT},J.createElement(e2.B,{svg:tC.A}))):"invalid"===a?J.createElement("button",{className:tI,onClick:r},J.createElement("div",{className:tT},J.createElement(e2.B,{svg:tC.A}))):"loading"===a?J.createElement("button",{className:"checkout_promo_code_input--promoCodeApplyButton__loading--LAoMT checkout_promo_code_input--promoCodeApplyButton--x6XvK"},J.createElement(eb.kt,null)):void 0})();return J.createElement(J.Fragment,null,J.createElement("div",{className:eW()({"checkout_promo_code_input--promoCodeInputWrapper--V6shV text--fontPos13--xW8hS text--_fontBase--QdLsd":!0,"checkout_promo_code_input--promoCodeInputWrapper__valid--zZrWf":"valid"===a,"checkout_promo_code_input--promoCodeInputWrapper__invalid--GFMsR":"invalid"===a,"checkout_promo_code_input--promoCodeInputWrapper__too_short--CDECY":"too_short"===a||"possibly_valid"===a||"loading"===a})},J.createElement(e6.Lf,{value:s,htmlName:"promo_code",label:(0,er.t)("community.buyer.promo_code"),onKeyPress:e=>{/[A-Za-z0-9]/.test(String.fromCharCode(e.which))||e.preventDefault()},onChange:e=>{8===e.target.value.length?o("possibly_valid"):o("too_short"),l(e.target.value)},trackingFieldName:"Promo Code",className:"checkout_promo_code_input--promoCodeInput--aypdF basic_form--labeledInputGroup--aeD6L",maxLength:8,required:!0,disabled:r}),p,d&&J.createElement("div",{className:eW()({"checkout_promo_code_input--promoCodeTerms--Ym4iT text--fontPos11--2LvXf text--_fontBase--QdLsd":!0,"checkout_promo_code_input--promoCodeTerms__visible--0LI3v":null!==d})},J.createElement(tA,{resource:e,promo_code:d})),J.createElement("div",{className:eW()({"checkout_promo_code_input--promoCodeError--Mw--L text--fontPos11--2LvXf text--_fontBase--QdLsd":!0,"checkout_promo_code_input--promoCodeError__visible--HBI59":"invalid"===a})},J.createElement(er.Tx,{id:"community.buyer.enter_valid_promo_code"}))))}function tR(e){return J.createElement("div",{className:ev.cx.flex.flexColumn.alignCenter.gap12.$},J.createElement(e6.vv,{onClick:e.submit,disabled:e.disabled||e.isLoading,fullWidth:!0},e.isLoading?J.createElement(eb.qc,{shouldMatchTextColor:!0}):J.createElement(er.Tx,{id:"community.buyer.complete_purchase"})),J.createElement("span",null,J.createElement(er.Tx,{id:"community.buyer.by_purchasing_you_agree_to_the_terms_of_service",termsOfServiceLink:J.createElement(e6.CY,{href:"https://www.figma.com/tos/",target:"_blank",trusted:!0},J.createElement(er.Tx,{id:"general.terms_of_service"}))})))}function tP(e){let r,n,i;let{priceInCents:a,taxAmountInCents:o,taxAmountWithPromoCodeInCents:s,promoCode:l,hasCalculatedTax:d,countryCode:c,trialDays:u,isSubscription:p,subscriptionInterval:h}=e,m=void 0!==u&&u>0&&p,g=null;if(m){let e=new Date;e.setDate(e.getDate()+(u||0)),g=e.toLocaleDateString(navigator.language,{year:"numeric",month:"short",day:"numeric"})}let f=(a||0)+o,{newTotalAmount:_,promoCodeAmountString:y}=(a&&(n=l?a*(1-l.percent_off/100)+s:a+o,l&&(i=n-(a+o))),{newTotalAmount:n,promoCodeAmountString:i}),E=void 0!==a?(0,ei.up)(a,!0):J.createElement("div",{className:eK},(0,er.t)("community.buyer.tbd")),b=void 0!==_?(0,ei.up)(_,!0):J.createElement("div",{className:eK},(0,er.t)("community.buyer.tbd"));return p&&a&&(r=h===ek.fN.MONTHLY?J.createElement(er.Tx,{id:"community.buyer.price_x_month",priceString:(0,ei.up)(a)}):J.createElement(er.Tx,{id:"community.buyer.price_x_year",priceString:(0,ei.up)(a,!0)})),J.createElement("div",{className:ev.cx.flex.flexColumn.itemsStart.gap12.$},J.createElement(tL,{header:J.createElement(er.Tx,{id:"community.buyer.subtotal"}),subheader:r,price:E}),J.createElement(tL,{header:function(e){switch(e){case ex.CO:return J.createElement(er.Tx,{id:"community.buyer.sales_tax"});case ex.UW:return J.createElement(er.Tx,{id:"community.buyer.jct"});default:return J.createElement(er.Tx,{id:"community.buyer.vat_gst"})}}(c),price:d?(0,ei.up)(o,!0):J.createElement("span",{className:eK},J.createElement(er.Tx,{id:"community.buyer.to_be_calculated"}))}),y&&J.createElement(tL,{adtlClassName:"checkout_modal--promoCodeLineItem--ajk-F",header:J.createElement(er.Tx,{id:"community.buyer.promo_code"}),price:(0,ei.up)(y,!0)}),m&&J.createElement(tL,{header:J.createElement(er.Tx,{id:"community.buyer.to_be_charged_on_date",date:g}),price:l?b:(0,ei.up)(f,!0)}),J.createElement("div",{className:"checkout_modal--horizontalDivider--Ck6Or"}),J.createElement(tL,{header:J.createElement("strong",null,m?J.createElement(er.Tx,{id:"community.buyer.total_due_today"}):J.createElement(er.Tx,{id:"community.buyer.total"})),price:m?(0,ei.up)(0):b,showUSDLabel:!0}))}function tL(e){return J.createElement("div",{className:ev.cx.flex.wFull.$+(e.adtlClassName?` ${e.adtlClassName}`:"")},J.createElement("div",{className:ev.cx.flexColumn.$},J.createElement("div",{className:"checkout_modal--lineItemHeader--ZPZW7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.header),J.createElement("div",{className:"checkout_modal--lineItemSubheader--JgFxQ text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.subheader)),J.createElement("div",{className:ez}),J.createElement("div",{className:"checkout_modal--lineItemPrice--EABJT text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.price,e.showUSDLabel&&J.createElement(J.Fragment,null,"\xa0",J.createElement(er.Tx,{id:"community.seller.usd"}))))}var tD=n(73058),tM=n(87626),tk=n(68039);function tx({canSeeBillingAddressExp:e,shippingAddress:r,updateShippingAddress:n,legalCompanyName:i,updateLegalCompanyName:a}){return J.createElement(J.Fragment,null,!!a&&J.createElement(e6.Lf,{value:i||"",htmlName:"legal_company_name",label:(0,er.t)("pro_cart.payment.legal_company_name_label"),placeholder:(0,er.t)("pro_cart.payment.legal_company_name_optional"),onChange:e=>{a(e.target.value)},autoCompleteName:"legal company name",trackingFieldName:"Legal Company Name",dataTestId:"legal-company-name"}),!!n&&J.createElement(td,{address:r||(0,ex.EB)(),updateAddress:n,canSeeBillingAddressExp:e,isBillingAddress:!1}))}class tF extends J.PureComponent{constructor(){super(...arguments),this.card=null}componentDidMount(){eL({style:{base:{color:this.props.colorText,iconColor:this.props.colorIcon,fontFamily:"Inter, sans-serif",fontSize:14,"::placeholder":{color:this.props.colorTextSecondary}},invalid:{iconColor:this.props.colorIconDanger,color:this.props.colorTextDanger}},hidePostalCode:!0,disabled:this.props.disabled}).then(e=>{this.card=e,e.mount(`#${this.props.cardId}`),e.on("ready",()=>{this.props.onCardReady(e)}),e.on("change",e=>{var r,n;null==(n=(r=this.props).onCardChange)||n.call(r,e)})}).catch(e=>null)}componentWillUnmount(){this.card&&this.card.unmount()}render(){let e=this.props.setNameOnPaymentMethod;return J.createElement("div",{id:this.props.id,className:"stripe--stripeCardAndAddress--b42eG"},J.createElement("div",{id:this.props.cardId,className:"stripe--stripeCard--5to4r"}),!this.props.disabled&&J.createElement("style",{dangerouslySetInnerHTML:{__html:`
          .StripeElement--focus {
            box-shadow: 0 0 0 1px #0D99FF;
            border: 1px solid #0D99FF;
          }
        `}}),this.props.canSeeBillingAddressExp&&e&&J.createElement(e6.Lf,{value:this.props.nameOnPaymentMethod||"",htmlName:"name_on_card",label:(0,er.t)("org_self_serve.payment_step.name_on_payment_method_label"),placeholder:(0,er.t)("org_self_serve.payment_step.name_on_payment_method"),onChange:r=>{e(r.target.value)},autoCompleteName:"name on payment method",trackingFieldName:"Name On Payment Method"}),!!this.props.showAddressForm&&J.createElement(td,{address:this.props.billingAddress,updateAddress:this.props.onBillingAddressChange,canSeeBillingAddressExp:this.props.canSeeBillingAddressExp,isBillingAddress:!0}),!!this.props.onVatIdChange&&J.createElement(tv,{onChange:this.props.onVatIdChange,country:this.props.billingAddress.country,setIsVatIdValid:this.props.setIsVatIdValid,isCommunityCheckout:this.props.isCommunityCheckout,vatId:this.props.vatId||""}),!!this.props.onRegionalVatIdChange&&J.createElement(tv,{variant:"regional",onChange:this.props.onRegionalVatIdChange,country:this.props.billingAddress.country,region:this.props.billingAddress.region,setIsVatIdValid:this.props.setIsRegionalVatIdValid,isCommunityCheckout:this.props.isCommunityCheckout,vatId:this.props.regionalVatId||""}),this.props.isCheckoutFlow&&this.props.canSeeBillingAddressExp&&J.createElement(tB,{...this.props}))}}function tU(e,r,n){let i=n[e];return i&&!i.includes("color")?i:("dark"===r?{colorText:"rgba(255, 255, 255, 1)",colorIcon:"rgba(255, 255, 255, 1)",colorTextSecondary:"rgba(255, 255, 255, 0.7)",colorTextDanger:"#fca397",colorIconDanger:"#e03e1a"}:{colorText:"rgba(0, 0, 0, 0.9)",colorIcon:"rgba(0, 0, 0, 0.9)",colorTextSecondary:"rgba(0, 0, 0, 0.5)",colorTextDanger:"#dc3412",colorIconDanger:"#f24822"})[e]}function tB(e){let[r,n]=J.useState(!!e.shippingAddress&&!(0,ex.$V)(e.shippingAddress)),i=e=>{n(!r),r?e.onShippingAddressChange&&e.onShippingAddressChange((0,ex.EB)()):e.onShippingAddressChange&&e.onShippingAddressChange({...e.billingAddress})};return J.createElement(J.Fragment,null,J.createElement("div",{className:"stripe--paymentDetailsCheckbox--2HcCJ"},J.createElement(tM.S,{checked:r,onChange:()=>i(e)}),J.createElement("p",null," ",J.createElement(er.Tx,{id:"org_self_serve.payment_step.different_shipping_address"}))),r&&!!e.onShippingAddressChange&&J.createElement(tx,{canSeeBillingAddressExp:e.canSeeBillingAddressExp,shippingAddress:e.shippingAddress,updateShippingAddress:e.onShippingAddressChange}))}function tV(e){let r=(0,tk.yM)(),n=(0,tk.DP)(),i=tU("colorText",n,r),a=tU("colorIcon",n,r),o=tU("colorTextSecondary",n,r),s=tU("colorTextDanger",n,r),l=tU("colorIconDanger",n,r);return J.createElement(tF,{...e,colorText:i,colorIcon:a,colorTextSecondary:o,colorTextDanger:s,colorIconDanger:l})}tF.displayName="StripeCardAndAddress",tV.defaultProps={showAddressForm:!0};var tH=n(60168),tG=n(11826),tW=n(45431),tz=n(99371),tK=n(60144),tj=((d=tj||{}).AMEX="amex",d.MASTERCARD="mastercard",d.VISA="visa",d);function tY(e){switch(e.brand){case"amex":return J.createElement(e2.B,{svg:tG.A,className:eQ,useOriginalSrcFills_DEPRECATED:!0});case"mastercard":return J.createElement(e2.B,{svg:tW.A,className:eQ,useOriginalSrcFills_DEPRECATED:!0});case"visa":return J.createElement(e2.B,{svg:tK.A,className:eQ,useOriginalSrcFills_DEPRECATED:!0});default:return J.createElement(e2.B,{svg:tz.A,className:eQ,useOriginalSrcFills_DEPRECATED:!0})}}function t$(e){let r=J.createElement("div",null,J.createElement(er.Tx,{id:"community.buyer.ending_in",last4:J.createElement("strong",null,e.paymentMethod.last4)})),{disabled:n,onRemove:i,paymentMethod:a}=e,o=J.useCallback(()=>{n||i(a.payment_method_id)},[n,i,a]),s=J.createElement("div",{className:ev.cx.flex.gap12.alignCenter.$},J.createElement("div",{className:"checkout_modal--expiry--EWQd8"},J.createElement(er.Tx,{id:"community.buyer.exp",expMonth:e.paymentMethod.exp_month.toLocaleString("en",{minimumIntegerDigits:2}),expYear:e.paymentMethod.exp_year})),J.createElement("div",{className:ej}),J.createElement("div",{className:ev.cx.flex.itemsCenter.gap8.$},J.createElement(e6.CY,{onClick:o,trusted:!0,className:eW()("checkout_modal--remove--bs7dR",{"checkout_modal--removeLoading--jeFHT":e.isRemoveLoading,"checkout_modal--disabled--JRwpZ":e.disabled})},J.createElement(er.Tx,{id:"general.remove"})),J.createElement(eb.kt,{className:eW()("checkout_modal--removeLoadingSpinner--MQ8FJ",{"checkout_modal--showSpinner--aRTZ5":e.isRemoveLoading}),size:"small",shouldMatchTextColor:!0})));return J.createElement(J.Fragment,null,J.createElement(eU.z,{query:`(min-width: ${(0,ey.jz)(tH.tgj)}px)`},J.createElement("div",{className:ev.cx.flex.flexColumn.$},J.createElement("div",{className:ev.cx.flex.justifyBetween.$},J.createElement("div",{className:ev.cx.flex.gap8.itemsCenter.$},J.createElement(tY,{brand:e.paymentMethod.brand}),r),e.isSelected&&s))),J.createElement(eU.z,{query:`(max-width: ${(0,ey.jz)(tH.tgj)-1}px)`},J.createElement("div",{className:ev.cx.flex.flexColumn.gap8.$},J.createElement("div",{className:ev.cx.flex.gap8.itemsCenter.$},J.createElement(tY,{brand:e.paymentMethod.brand}),r),e.isSelected&&J.createElement(J.Fragment,null,s))))}function tq(e){let r=!e.paymentMethods.length||!e.selectedPaymentMethodId;return J.createElement("div",null,J.createElement("div",{className:eq},J.createElement(er.Tx,{id:"community.buyer.payment_details"})),!e.hideReusePaymentUi&&J.createElement(tD.z,{value:e.selectedPaymentMethodId,onChange:r=>{e.onSelectPaymentMethod(r)},className:ev.cx.mb8.$},e.paymentMethods.map((r,n)=>J.createElement(tD.Z,{key:r.payment_method_id,value:r.payment_method_id,labelClassName:eZ,iconClassName:eX,disabled:e.disabled},J.createElement(t$,{paymentMethod:r,index:n,onRemove:e.onRemoveCard,isSelected:e.selectedPaymentMethodId===r.payment_method_id,isRemoveLoading:e.isRemovingCard,disabled:e.disabled}))),J.createElement(tD.Z,{value:"",labelClassName:eZ,iconClassName:eX,disabled:e.disabled},J.createElement(er.Tx,{id:"community.buyer.add_new_card"}))),r&&J.createElement(J.Fragment,null,J.createElement(tV,{id:"community-checkout-form",cardId:"community-checkout-card",billingAddress:e.address,onCardReady:e.onCardReady,onCardChange:e.onCardChange,onBillingAddressChange:e.onAddressChange,disabled:e.disabled,onVatIdChange:e.setVatId,vatId:e.vatId,setIsVatIdValid:e.setIsVatIdValid,isCommunityCheckout:!0,showAddressForm:!1,canSeeBillingAddressExp:!1}),J.createElement(tM.S,{label:(0,er.t)("community.buyer.save_my_payment_info"),checked:e.savePaymentInfo,onChange:r=>{e.onSetSavePaymentInfo(r.currentTarget.checked)},disabled:e.disabled})))}function tZ({annualDiscountPercentage:e,subscriptionInterval:r,setSubscriptionInterval:n}){return J.createElement("div",null,J.createElement("div",{className:eq},J.createElement(er.Tx,{id:"community.buyer.billing"})),J.createElement("div",null,J.createElement(tD.z,{value:r,onChange:function(e){n(e)},className:"checkout_modal--paymentIntervalRadioGroup--5wOk1",isHorizontal:!0},J.createElement(tD.Z,{key:ek.fN.MONTHLY,value:ek.fN.MONTHLY,className:eY,labelClassName:e$,iconClassName:eX},J.createElement(er.Tx,{id:"community.buyer.monthly"})),J.createElement(tD.Z,{key:ek.fN.ANNUALLY,value:ek.fN.ANNUALLY,className:eY,labelClassName:e$,iconClassName:eX},J.createElement(er.Tx,{id:"community.buyer.yearly"}),J.createElement("div",{className:"checkout_modal--annualDiscountBadge--9-KZo"},J.createElement(er.Tx,{id:"community.buyer.save_percent",discountPercentage:e}))))))}var tX=n(61057),tJ=n(60178),tQ=n(20642),t0=n(20666);function t1(){return J.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("g",{clipPath:"url(#clip0_500_16449)"},J.createElement("rect",{width:"48",height:"48",rx:"12",fill:"var(--color-bg-hover, #F5F5F5)"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.2812 10.75C22.1823 10.75 20.8125 11.9708 20.8125 13.375C20.8125 14.0542 21.1076 14.7403 21.6377 15.2987C22.0278 15.7096 22.0059 16.2677 21.8973 16.6125C21.7923 16.9456 21.4574 17.5 20.7832 17.5H16C15.8619 17.5 15.75 17.6119 15.75 17.75V34.3125C15.75 34.4506 15.8619 34.5625 16 34.5625H32.5625C32.7006 34.5625 32.8125 34.4506 32.8125 34.3125V30.05C32.0689 30.6377 31.1561 31 30.1875 31C27.6307 31 26.0625 28.5922 26.0625 26.0312C26.0625 23.4703 27.6307 21.0625 30.1875 21.0625C31.1561 21.0625 32.0689 21.4248 32.8125 22.0125V17.75C32.8125 17.6119 32.7006 17.5 32.5625 17.5H27.7793C27.1051 17.5 26.7702 16.9456 26.6652 16.6125C26.5566 16.2677 26.5347 15.7096 26.9248 15.2987C27.4549 14.7403 27.75 14.0542 27.75 13.375C27.75 11.9708 26.3802 10.75 24.2812 10.75ZM19.3125 13.375C19.3125 10.8182 21.7203 9.25 24.2812 9.25C26.8422 9.25 29.25 10.8182 29.25 13.375C29.25 14.3436 28.8877 15.2564 28.3 16H32.5625C33.529 16 34.3125 16.7835 34.3125 17.75V22.5332C34.3125 23.2074 33.7581 23.5423 33.425 23.6473C33.0802 23.7559 32.5221 23.7778 32.1112 23.3877C31.5528 22.8576 30.8667 22.5625 30.1875 22.5625C28.7833 22.5625 27.5625 23.9323 27.5625 26.0312C27.5625 28.1302 28.7833 29.5 30.1875 29.5C30.8667 29.5 31.5528 29.2049 32.1112 28.6748C32.5221 28.2847 33.0802 28.3066 33.425 28.4152C33.7581 28.5202 34.3125 28.8551 34.3125 29.5293V34.3125C34.3125 35.279 33.529 36.0625 32.5625 36.0625H16C15.0335 36.0625 14.25 35.279 14.25 34.3125V17.75C14.25 16.7835 15.0335 16 16 16H20.2625C19.6748 15.2564 19.3125 14.3436 19.3125 13.375Z",fill:"var(--color-icon-secondary, rgba(0, 0, 0, 0.5))"})),J.createElement("defs",null,J.createElement("clipPath",{id:"clip0_500_16449"},J.createElement("rect",{width:"48",height:"48"}))))}function t2(e){let{resource:r,localResource:n,subscriptionInterval:i}=e;return r&&(0,H.Ul)(r)?J.createElement(t5,{resource:r,subscriptionInterval:i}):n?J.createElement(t3,{localResource:n}):null}function t3({localResource:e}){let r=(0,tJ.iZ)();return J.createElement(t4,{image:J.createElement(t1,null),resourceName:e.name,authorName:(null==r?void 0:r.name)||(0,er.t)("community.buyer.you"),subtitle:J.createElement(t6,null)})}function t5({resource:e,subscriptionInterval:r}){let n=(0,eo.U)(e)?(0,tQ.a6)(e):(0,t0.uF)(e),i=(0,tX.VH)(e),a=n.name,o=(0,eo.U)(e)?e.thumbnail_url:n.redirect_icon_url,s=J.createElement("img",{src:o,alt:"Resource thumbnail"}),l="";if((0,eo.m3)(e)){if(e.monetized_resource_metadata.is_subscription){let n=e.monetized_resource_metadata.trial_length_in_days||0,i=r===ek.fN.MONTHLY,a=i?(0,ei.up)(e.monetized_resource_metadata.price):(0,ei.up)(e.monetized_resource_metadata.annual_price||0,!0),o=(null==e?void 0:e.community_resource_payment)&&e.community_resource_payment.subscription_expires_at;l=n>0&&!o?J.createElement(er.Tx,{id:i?"community.buyer.free_trial_then_price_month":"community.buyer.free_trial_then_price_year",freeTrialDays:n,priceString:a}):J.createElement(er.Tx,{id:i?"community.buyer.price_per_month_subscription":"community.buyer.price_per_year_subscription",priceString:a})}else l=J.createElement(er.Tx,{id:"community.buyer.price_one_time_payment",priceString:(0,ei.bV)(e.monetized_resource_metadata)})}else l=J.createElement(t6,null);return J.createElement(t4,{image:s,resourceName:a,authorName:i,subtitle:l})}function t4(e){return J.createElement("div",null,J.createElement("div",{className:"checkout_modal--resourceImage--6I467"},e.image),J.createElement("div",{className:"checkout_modal--resourceTitle---tuk7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},J.createElement(er.Tx,{id:"community.publishing.resource_by_author",resourceName:e.resourceName,authorName:e.authorName})),J.createElement("div",{className:"checkout_modal--resourceSubtitle--jDcuq text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.subtitle))}function t6(){return J.createElement("span",{className:"checkout_modal--developmentResourceMetadataSubtitlePlaceholder--5eN1G text--fontPos13--xW8hS text--_fontBase--QdLsd"},J.createElement(er.Tx,{id:"community.buyer.price_and_payment_cadence_will_appear_here"}))}var t8=n(99569),t7=n(93212);function t9(e){let{resource:r,mobileScrollContainerRef:n}=e,i=(0,Q.wA)(),a=J.useRef(null),o=J.useCallback(()=>{var e;a.current&&((null==(e=null==n?void 0:n.current)?void 0:e.scrollTop)?a.current.classList.add(eJ):a.current.classList.remove(eJ))},[a,n]);return(0,t7.U3)("scroll",o,!0),J.createElement("header",{className:"checkout_modal--stickyHeaderContainer--PAH8Z",ref:a},J.createElement(t2,{resource:r,localResource:e.localResource}),J.createElement(t8.s_,{dispatch:i}))}let re=(0,eF.Ju)(function(e){let r;let{userId:n,resource:i,onSuccess:a,onCancel:o}=e,s=e.resource&&(0,O.kc)().community_hub_admin&&(0,H.AC)(e.resource),l=e.noInteractionMode&&!!(e.localResource||s),d=null==i?void 0:i.monetized_resource_metadata,c=null==d?void 0:d.id,u=(0,Q.wA)();(0,J.useEffect)(()=>{let e=document.body.style.overflow,r=document.body.style.position;return document.body.style.overflow="hidden",document.body.style.position="relative",()=>{document.body.style.overflowY=e,document.body.style.position=r}},[]);let[p,h]=J.useState(),[m,g]=J.useState(!1),[f,_]=J.useState((0,ex.EB)()),[y,E]=J.useState(""),[b,v]=J.useState(!0),[S,I]=J.useState(""),[T,w]=J.useState(0),[C,A]=J.useState(null),[R,P]=J.useState(!1),[D,M]=J.useState(!0),[k,F]=J.useState([]),[U,B]=J.useState(""),[V,G]=J.useState(!1),[W,z]=J.useState(!l),[K,j]=J.useState(!l),[Y,q]=J.useState(null),[Z,X]=J.useState(!1),[ee,et]=J.useState(ek.fN.MONTHLY);r=(null==d?void 0:d.is_subscription)&&(null==d?void 0:d.annual_discount_active_at)&&ee===ek.fN.ANNUALLY?(null==d?void 0:d.annual_price)||0:(null==d?void 0:d.price)||0;let en=J.useRef(null),ei=J.useCallback((e,r={})=>({message:e.message,statusCode:e.statusCode,monetized_resource_metadata_id:c,userId:n,...r}),[c,n]),ea=J.useCallback((e,r)=>{u(el.F.clearAll()),u(el.F.enqueue({type:e,message:r||(0,er.t)("community.buyer.sorry_there_was_an_error_processing_your_request_refresh_and_try_again"),error:!0}))},[u]);J.useEffect(()=>{l||(ep.getBuyerPaymentMethods({userId:n}).then(({data:e})=>{let r=e.meta.payment_methods;F(r),r.length&&B(r[0].payment_method_id),u(el.F.dequeue({matchType:"fetch-payment-methods-error"}))}).catch(e=>{(0,L.x1)("checkout","error fetching payment methods",ei(e),{reportAsSentryError:!0}),ea("fetch-payment-methods-error",(0,er.t)("community.buyer.couldnt_fetch_existing_payment_method"))}).finally(()=>{z(!1)}),ep.getCommunityUserTaxInfo({userId:n}).then(({data:e})=>{e.meta.vat_gst_id&&E(e.meta.vat_gst_id),e.meta.shipping_address&&_(e.meta.shipping_address),e.meta.tax_id_verification_status&&I(e.meta.tax_id_verification_status)}).catch(e=>{(0,L.x1)("checkout","error fetching user tax info",ei(e),{reportAsSentryError:!0})}).finally(()=>{j(!1)}))},[l,u,ea,ei,n]);let eo=(0,Q.d4)(e=>e.selectedView),ed=T/100*r,ec=(null==i?void 0:i.community_resource_payment)&&i.community_resource_payment.subscription_expires_at?void 0:null==d?void 0:d.trial_length_in_days,eu=null===C||null===Y?null:C/100*(r*(1-Y.percent_off/100)),eh=(0,e_.A)(J.useCallback(e=>{P(!1),ep.getBuyerTax({userId:n,address:JSON.stringify(e),promoCode:null==Y?void 0:Y.promo_code,resourceId:c,userInputtedVatId:y}).then(({data:e})=>{w(e.meta.tax_percent),void 0!==e.meta.tax_percent_with_promo_code&&A(e.meta.tax_percent_with_promo_code),u(el.F.dequeue({matchType:"tax-calcuation-error"}))}).catch(e=>{(0,L.x1)("checkout","error calculating taxes",ei(e,{promo_code:null==Y?void 0:Y.promo_code,vatId:y}),{reportAsSentryError:!0}),ea("tax-calcuation-error",(0,er.t)("community.buyer.couldnt_process_tax_information"))}).finally(()=>{P(!0)})},[u,c,n,Y,ea,ei,y]),500);J.useEffect(()=>{if(l)return;let{line1:e,city:r,country:n,region:i,postal_code:a}=f;if(e&&r&&n&&a){if("US"===n&&!i)return;eh(f)}else P(!1)},[f,y,eh,l]);let em=J.useCallback(async(e,r,i)=>{try{let r={payment_method:e,address:f,user_id:n,save_payment_info:D,promo_code:null==Y?void 0:Y.promo_code,subscription_interval:(null==d?void 0:d.is_subscription)?ee:null};void 0!==i&&(r.user_inputted_vat_id=i),await x.Ay.post(`/api/community/buyer/${c}/buy`,r),u(el.F.clearAll()),u($.Ce()),u(el.F.enqueue({message:(0,er.t)("community.buyer.purchase_complete"),error:!1})),null==a||a()}catch(e){null==o||o(),(0,L.x1)("checkout","error completing purchase",ei(e,{promo_code:null==Y?void 0:Y.promo_code}),{reportAsSentryError:!0}),e.message?ea("purchasing-error",e.message):ea("purchasing-error",(0,er.t)("community.buyer.couldnt_complete_purchase"))}finally{null==r||r()}},[u,c,f,n,D,a,o,ea,Y,ei,ee,null==d?void 0:d.is_subscription]),eg=J.useCallback(async()=>{var e,n,i;let s,d;if(l){u($.Ce()),null==a||a();return}if(u(el.F.clearAll()),u(el.F.enqueue({type:"loading-purchase",message:(0,er.t)("community.buyer.hold_tight_while_we_process_your_payment")})),X(!0),U){em(U,()=>X(!1),y);return}if(!p){X(!1);return}try{s=await eD(p)}catch(e){(0,L.x1)("checkout","stripe token fetch error",ei(e),{reportAsSentryError:!0}),ea("stripe-token-error",(0,er.t)("community.buyer.couldnt_process_payment_through_stripe")),X(!1);return}let c=null==(e=null==s?void 0:s.token)?void 0:e.id;if(void 0===c){(0,L.x1)("checkout","stripe token error",ei({message:(null==(n=null==s?void 0:s.error)?void 0:n.message)||"stripe token error"}),{reportAsSentryError:!0}),ea("stripe-token-error",(0,er.t)("community.buyer.error_stripe",{message:(null==(i=null==s?void 0:s.error)?void 0:i.message)||(0,er.t)("community.buyer.sorry_there_was_an_error_processing_your_request_refresh_and_try_again")})),X(!1);return}try{d=await eM(c,r+ed)}catch(e){null==o||o(),(0,L.x1)("checkout","error confirming payment",ei(e),{reportAsSentryError:!0}),ea("payment-processing-error",null==e?void 0:e.message),X(!1);return}let h=null==d?void 0:d.payment_method;if(void 0===h){(0,L.x1)("checkout","error processing payment",ei({message:"payment method is undefined"}),{reportAsSentryError:!0}),ea("payment-processing"),X(!1);return}em(h,()=>X(!1),y)},[u,p,r,ed,em,o,a,l,U,ea,ei,y]),ef=J.useCallback(()=>{Z?u(el.F.enqueue({type:"close-during-purchase",message:(0,er.t)("community.buyer.please_remain_on_the_page"),error:!0,timeoutOverride:2e3})):(u(el.F.clearAll()),u($.Ce()),null==o||o(),new URLSearchParams(N.Ay.location.search).has(eI.Tb)&&u(eS.$T({...eo,triggerCheckout:void 0})))},[u,o,eo,Z]),eT=!!k.length,ew=l||R&&(m||U)&&b,eC=!!(l||Z),eA=W?J.createElement(eb.nt,null):J.createElement(tq,{address:f,onAddressChange:_,onCardReady:h,onCardChange:e=>g(e.complete),savePaymentInfo:D,onSetSavePaymentInfo:M,disabled:eC,paymentMethods:k,hideReusePaymentUi:l||!eT,onRemoveCard:function(e){G(!0),x.Ay.del(`/api/community/buyer/payment_method/${e}`).then(()=>{var r;let n=k.filter(r=>r.payment_method_id!==e);F(n),B((null==(r=n[0])?void 0:r.payment_method_id)||""),u(el.F.dequeue({matchType:"remove-card-error"}))}).catch(e=>{(0,L.x1)("checkout","error removing card",ei(e),{reportAsSentryError:!0}),ea("remove-card-error",(0,er.t)("community.buyer.couldnt_remove_existing_payment_method"))}).finally(()=>{G(!1)})},onSelectPaymentMethod:B,selectedPaymentMethodId:U,isRemovingCard:V}),eN=(null==d?void 0:d.annual_discount_active_at)&&(null==d?void 0:d.annual_discount_percentage)?J.createElement(tZ,{annualDiscountPercentage:d.annual_discount_percentage,subscriptionInterval:ee,setSubscriptionInterval:et}):null,eO=J.createElement(tP,{priceInCents:r,taxAmountInCents:ed,taxAmountWithPromoCodeInCents:eu,promoCode:Y,hasCalculatedTax:R,trialDays:ec,isSubscription:!!(null==d?void 0:d.is_subscription),subscriptionInterval:ee,countryCode:f.country}),eR=J.createElement(tO,{initialValue:new URLSearchParams(N.Ay.location.search).get(eI.Tb),resource:i,disabled:eC||!!e.localResource,onValidate:q}),eP=J.createElement(tS,{vatGstId:y,setVatGstId:E,setIsVatIdValid:v,shippingAddress:f,setShippingAddress:_,taxIdVerificationStatus:S}),eL=J.createElement(tR,{submit:eg,isLoading:Z,disabled:!ew});return J.createElement(J.Fragment,null,J.createElement(eU.z,{query:`(min-width: ${(0,ey.jz)(tH.tgj)}px)`},J.createElement(eB.XV,{title:J.createElement("div",null,function(e,r){var n;let i=e?null==(n=(0,es.qD)(e))?void 0:n.name:r?r.manifest.name:void 0;return"undefined"!==i&&e&&d&&d.is_subscription?J.createElement(er.Tx,{id:"community.buyer.subscribe_to_resource_name",resourceName:i}):J.createElement(er.Tx,{id:"community.buyer.purchase_resource_name",resourceName:i})}(e.resource,e.localResource),(e.localResource||s)&&J.createElement(eE.Ex,{text:e.localResource?J.createElement(er.Tx,{id:"community.buyer.development"}):J.createElement(er.Tx,{id:"community.plugins.in_review"}),color:eE.zE.WARNING,className:"checkout_modal--developmentBadge--IM9-F"})),headerClassName:ev.cx.font13.mx8.$,headerSize:"large",onClose:ef,maxWidth:864,disableClickOutsideToHide:Z},J.createElement("div",{className:"checkout_modal--mainContent--SaQqx"},J.createElement("div",{className:"checkout_modal--leftColumn--Mr0DA"},!!(null==d?void 0:d.annual_discount_active_at)&&J.createElement("div",{className:"checkout_modal--paymentIntervalForm--lVRz0"},eN),J.createElement("div",{className:"checkout_modal--paymentForm--G-Rew"},eA),!K&&J.createElement("div",{className:"checkout_modal--addressSection--282hO"},eP)),J.createElement("div",{className:ej}),J.createElement("div",{className:"checkout_modal--metadata--oQdrp"},J.createElement(t2,{resource:e.resource,localResource:e.localResource,subscriptionInterval:ee}),J.createElement("div",{className:ev.cx.my24.$},eR),J.createElement("div",{className:ez}),J.createElement("div",{className:ev.cx.flex.flexColumn.gap32.$},eO,eL))))),J.createElement(eU.z,{query:`(max-width: ${(0,ey.jz)(tH.tgj)-1}px)`},J.createElement(eV.Nb,{hide:ef,className:"checkout_modal--mobileModal--z1ulk",useModalViewScroll:!1,disableClickOutsideToHide:Z},J.createElement(t9,{resource:i,localResource:e.localResource,mobileScrollContainerRef:en}),J.createElement("div",{ref:en,className:"checkout_modal--mobileContainer--QNI3w"},eN,eA,eR,!K&&eP,J.createElement("div",{className:ev.cx.flex.flexColumn.gap32.$},eO,eL)))))},"CommunityCheckoutModal");var rt=n(53234),rr=n(22739),rn=n(46806);function ri(){return"dark"===(0,tk.DP)()?J.createElement(ro,null):J.createElement(ra,null)}function ra(){return J.createElement("svg",{width:"320",height:"148",viewBox:"0 0 320 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M105.245 53.2609C109.179 54.3149 113.469 52.3948 117.046 48.5124C118.203 53.6633 120.959 57.4713 124.892 58.5253C128.826 59.5793 133.116 57.6591 136.693 53.7767C137.85 58.9276 140.605 62.7356 144.539 63.7896C151.667 65.6994 159.964 57.8448 163.072 46.2462C166.179 34.6476 162.921 23.6968 155.794 21.7869C151.86 20.7329 147.57 22.6531 143.993 26.5355C142.836 21.3846 140.08 17.5766 136.147 16.5226C132.213 15.4686 127.923 17.3887 124.346 21.2711C123.189 16.1202 120.434 12.3122 116.5 11.2582C109.372 9.34843 101.075 17.203 97.9674 28.8016C94.8596 40.4002 98.1179 51.3511 105.245 53.2609Z",fill:"#0FA958"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.414 15.6906C103.215 18.7189 100.447 23.4104 98.9332 29.0606C97.4192 34.7108 97.4702 40.1575 98.7265 44.3795C99.9882 48.6199 102.401 51.4638 105.504 52.2951C108.927 53.2124 112.858 51.5819 116.311 47.8349L117.604 46.4316L118.022 48.2934C119.138 53.2647 121.728 56.6422 125.151 57.5595C128.574 58.4768 132.505 56.8463 135.958 53.0992L137.251 51.696L137.669 53.5577C138.785 58.529 141.374 61.9065 144.798 62.8238C147.9 63.6552 151.412 62.3989 154.625 59.3575C157.824 56.3293 160.592 51.6378 162.105 45.9875C163.619 40.3373 163.568 34.8906 162.312 30.6686C161.05 26.4282 158.637 23.5843 155.535 22.753C152.111 21.8357 148.18 23.4662 144.728 27.2132L143.435 28.6165L143.017 26.7548C141.9 21.7834 139.311 18.4059 135.888 17.4887C132.464 16.5714 128.534 18.2019 125.081 21.9489L123.788 23.3522L123.37 21.4904C122.253 16.5191 119.664 13.1416 116.241 12.2243C113.138 11.393 109.627 12.6492 106.414 15.6906ZM105.039 14.2382C108.533 10.9301 112.734 9.21397 116.759 10.2925C120.714 11.3523 123.463 14.8264 124.864 19.3361C128.332 16.131 132.45 14.497 136.405 15.5568C140.361 16.6166 143.11 20.0908 144.511 24.6004C147.979 21.3954 152.097 19.7614 156.052 20.8212C160.077 21.8996 162.857 25.4861 164.229 30.0982C165.607 34.7288 165.631 40.5568 164.037 46.5052C162.443 52.4536 159.508 57.4887 156 60.8099C152.505 64.118 148.305 65.8342 144.28 64.7557C140.325 63.6959 137.575 60.2217 136.175 55.7121C132.707 58.9171 128.588 60.5511 124.633 59.4913C120.678 58.4315 117.929 54.9574 116.528 50.4477C113.06 53.6527 108.942 55.2868 104.986 54.227C100.961 53.1485 98.1818 49.562 96.8095 44.9499C95.4317 40.3193 95.4075 34.4913 97.0013 28.5429C98.5952 22.5946 101.53 17.5595 105.039 14.2382Z",fill:"black"}),J.createElement("path",{d:"M205.596 36.6217L200.026 46.2689C199.317 47.4968 197.738 47.9198 196.51 47.2109L162.936 27.8266L157.489 15.2789L171.079 13.7219L204.654 33.1062C205.884 33.8233 206.305 35.3938 205.596 36.6217Z",fill:"#699BF7"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.151 33.9709C204.151 33.9706 204.15 33.9703 204.15 33.97L170.865 14.7528L158.943 16.1186L163.721 27.1255L197.01 46.3447C197.76 46.7775 198.727 46.5183 199.159 45.7688L204.729 36.1215C205.161 35.3745 204.908 34.413 204.151 33.9709ZM205.157 32.2422C206.859 33.2345 207.448 35.4134 206.461 37.1215L200.891 46.7688C199.906 48.4749 197.716 49.0618 196.01 48.0768L162.15 28.5274L156.034 14.4388L171.293 12.6907L205.157 32.2422Z",fill:"black"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M198.43 29.5262L190.286 43.6308L188.554 42.6308L196.697 28.5262L198.43 29.5262Z",fill:"black"}),J.createElement("path",{d:"M197 109H116L89.5 39H223L197 109Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.0522 38H224.438L197.695 110H115.309L88.0522 38ZM90.9479 40L116.691 108H196.305L221.562 40H90.9479Z",fill:"black"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116 109H118V125H198V127H116V109Z",fill:"black"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.3269 24H64V22H83.6731L90.4265 38.6236L88.5735 39.3764L82.3269 24Z",fill:"black"}),J.createElement("path",{d:"M134.389 137.106C134.389 142.968 129.637 147.72 123.775 147.72C117.913 147.72 113.161 142.968 113.161 137.106C113.161 131.245 117.913 126.493 123.775 126.493C129.637 126.493 134.389 131.245 134.389 137.106Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.775 145.72C128.532 145.72 132.389 141.864 132.389 137.106C132.389 132.349 128.532 128.493 123.775 128.493C119.018 128.493 115.161 132.349 115.161 137.106C115.161 141.864 119.018 145.72 123.775 145.72ZM123.775 147.72C129.637 147.72 134.389 142.968 134.389 137.106C134.389 131.245 129.637 126.493 123.775 126.493C117.913 126.493 113.161 131.245 113.161 137.106C113.161 142.968 117.913 147.72 123.775 147.72Z",fill:"black"}),J.createElement("path",{d:"M129.081 137.107C129.081 140.038 126.706 142.414 123.775 142.414C120.844 142.414 118.468 140.038 118.468 137.107C118.468 134.176 120.844 131.8 123.775 131.8C126.706 131.8 129.081 134.176 129.081 137.107Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.775 140.414C125.601 140.414 127.081 138.933 127.081 137.107C127.081 135.28 125.601 133.8 123.775 133.8C121.948 133.8 120.468 135.28 120.468 137.107C120.468 138.933 121.948 140.414 123.775 140.414ZM123.775 142.414C126.706 142.414 129.081 140.038 129.081 137.107C129.081 134.176 126.706 131.8 123.775 131.8C120.844 131.8 118.468 134.176 118.468 137.107C118.468 140.038 120.844 142.414 123.775 142.414Z",fill:"black"}),J.createElement("path",{d:"M201.166 137.106C201.166 142.968 196.414 147.72 190.552 147.72C184.69 147.72 179.938 142.968 179.938 137.106C179.938 131.245 184.69 126.493 190.552 126.493C196.414 126.493 201.166 131.245 201.166 137.106Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.552 145.72C195.309 145.72 199.166 141.864 199.166 137.106C199.166 132.349 195.309 128.493 190.552 128.493C185.795 128.493 181.938 132.349 181.938 137.106C181.938 141.864 185.795 145.72 190.552 145.72ZM190.552 147.72C196.414 147.72 201.166 142.968 201.166 137.106C201.166 131.245 196.414 126.493 190.552 126.493C184.69 126.493 179.938 131.245 179.938 137.106C179.938 142.968 184.69 147.72 190.552 147.72Z",fill:"black"}),J.createElement("path",{d:"M196.081 137.107C196.081 140.038 193.705 142.414 190.774 142.414C187.843 142.414 185.467 140.038 185.467 137.107C185.467 134.176 187.843 131.8 190.774 131.8C193.705 131.8 196.081 134.176 196.081 137.107Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.774 140.414C192.6 140.414 194.081 138.933 194.081 137.107C194.081 135.28 192.6 133.8 190.774 133.8C188.947 133.8 187.467 135.28 187.467 137.107C187.467 138.933 188.947 140.414 190.774 140.414ZM190.774 142.414C193.705 142.414 196.081 140.038 196.081 137.107C196.081 134.176 193.705 131.8 190.774 131.8C187.843 131.8 185.467 134.176 185.467 137.107C185.467 140.038 187.843 142.414 190.774 142.414Z",fill:"black"}),J.createElement("path",{d:"M197.5 112C195.567 112 194 110.433 194 108.5C194 106.567 195.567 105 197.5 105C199.433 105 201 106.567 201 108.5C201 110.433 199.433 112 197.5 112Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M200 108.5C200 107.119 198.881 106 197.5 106C196.119 106 195 107.119 195 108.5C195 109.881 196.119 111 197.5 111C198.881 111 200 109.881 200 108.5ZM197.5 104C199.985 104 202 106.015 202 108.5C202 110.985 199.985 113 197.5 113C195.015 113 193 110.985 193 108.5C193 106.015 195.015 104 197.5 104Z",fill:"black"}),J.createElement("path",{d:"M197.5 129C195.567 129 194 127.433 194 125.5C194 123.567 195.567 122 197.5 122C199.433 122 201 123.567 201 125.5C201 127.433 199.433 129 197.5 129Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M200 125.5C200 124.119 198.881 123 197.5 123C196.119 123 195 124.119 195 125.5C195 126.881 196.119 128 197.5 128C198.881 128 200 126.881 200 125.5ZM197.5 121C199.985 121 202 123.015 202 125.5C202 127.985 199.985 130 197.5 130C195.015 130 193 127.985 193 125.5C193 123.015 195.015 121 197.5 121Z",fill:"black"}),J.createElement("path",{d:"M117 112C115.067 112 113.5 110.433 113.5 108.5C113.5 106.567 115.067 105 117 105C118.933 105 120.5 106.567 120.5 108.5C120.5 110.433 118.933 112 117 112Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M119.5 108.5C119.5 107.119 118.381 106 117 106C115.619 106 114.5 107.119 114.5 108.5C114.5 109.881 115.619 111 117 111C118.381 111 119.5 109.881 119.5 108.5ZM117 104C119.485 104 121.5 106.015 121.5 108.5C121.5 110.985 119.485 113 117 113C114.515 113 112.5 110.985 112.5 108.5C112.5 106.015 114.515 104 117 104Z",fill:"black"}),J.createElement("path",{d:"M63.6675 26.5C61.7345 26.5 60.1675 24.933 60.1675 23C60.1675 21.067 61.7345 19.5 63.6675 19.5C65.6005 19.5 67.1675 21.067 67.1675 23C67.1675 24.933 65.6005 26.5 63.6675 26.5Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.1675 23C66.1675 21.6193 65.0482 20.5 63.6675 20.5C62.2868 20.5 61.1675 21.6193 61.1675 23C61.1675 24.3807 62.2868 25.5 63.6675 25.5C65.0482 25.5 66.1675 24.3807 66.1675 23ZM63.6675 18.5C66.1528 18.5 68.1675 20.5147 68.1675 23C68.1675 25.4853 66.1528 27.5 63.6675 27.5C61.1822 27.5 59.1675 25.4853 59.1675 23C59.1675 20.5147 61.1822 18.5 63.6675 18.5Z",fill:"black"}),J.createElement("path",{d:"M83.167 26.5C81.234 26.5 79.667 24.933 79.667 23C79.667 21.067 81.234 19.5 83.167 19.5C85.1 19.5 86.667 21.067 86.667 23C86.667 24.933 85.1 26.5 83.167 26.5Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85.667 23C85.667 21.6193 84.5477 20.5 83.167 20.5C81.7863 20.5 80.667 21.6193 80.667 23C80.667 24.3807 81.7863 25.5 83.167 25.5C84.5477 25.5 85.667 24.3807 85.667 23ZM83.167 18.5C85.6523 18.5 87.667 20.5147 87.667 23C87.667 25.4853 85.6523 27.5 83.167 27.5C80.6817 27.5 78.667 25.4853 78.667 23C78.667 20.5147 80.6817 18.5 83.167 18.5Z",fill:"black"}),J.createElement("path",{d:"M117 129C115.067 129 113.5 127.433 113.5 125.5C113.5 123.567 115.067 122 117 122C118.933 122 120.5 123.567 120.5 125.5C120.5 127.433 118.933 129 117 129Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M119.5 125.5C119.5 124.119 118.381 123 117 123C115.619 123 114.5 124.119 114.5 125.5C114.5 126.881 115.619 128 117 128C118.381 128 119.5 126.881 119.5 125.5ZM117 121C119.485 121 121.5 123.015 121.5 125.5C121.5 127.985 119.485 130 117 130C114.515 130 112.5 127.985 112.5 125.5C112.5 123.015 114.515 121 117 121Z",fill:"black"}),J.createElement("path",{d:"M248.473 31.008L230.542 33.9824L239.835 19.1824L241.71 26.7429L248.473 31.008Z",fill:"#0FA958"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.485 36.6826L240.644 14.1334L243.457 25.4803L253.987 32.1206L226.485 36.6826ZM241.71 26.7427L239.835 19.1823L230.542 33.9823L248.473 31.0079L241.71 26.7427Z",fill:"black"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M254.785 72.699L189.286 5.69837L190.716 4.30027L256.215 71.3009L254.785 72.699Z",fill:"black"}),J.createElement("path",{d:"M223 42.5C221.067 42.5 219.5 40.933 219.5 39C219.5 37.067 221.067 35.5 223 35.5C224.933 35.5 226.5 37.067 226.5 39C226.5 40.933 224.933 42.5 223 42.5Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M225.5 39C225.5 37.6193 224.381 36.5 223 36.5C221.619 36.5 220.5 37.6193 220.5 39C220.5 40.3807 221.619 41.5 223 41.5C224.381 41.5 225.5 40.3807 225.5 39ZM223 34.5C225.485 34.5 227.5 36.5147 227.5 39C227.5 41.4853 225.485 43.5 223 43.5C220.515 43.5 218.5 41.4853 218.5 39C218.5 36.5147 220.515 34.5 223 34.5Z",fill:"black"}),J.createElement("path",{d:"M259 75.5L252 75.5L252 68.5L259 68.5L259 75.5Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M260 76.5L251 76.5L251 67.5L260 67.5L260 76.5ZM258 74.5L258 69.5L253 69.5L253 74.5L258 74.5Z",fill:"black"}),J.createElement("path",{d:"M193 8L186 8L186 0.999999L193 1L193 8Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M194 9L185 9L185 -2.36282e-07L194 5.36442e-07L194 9ZM192 7L192 2L187 2L187 7L192 7Z",fill:"black"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M218 52H94.5V50H218V52Z",fill:"black"}))}function ro(){return J.createElement("svg",{width:"320",height:"148",viewBox:"0 0 320 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M105.245 53.2609C109.179 54.3149 113.469 52.3948 117.046 48.5124C118.203 53.6633 120.959 57.4713 124.892 58.5253C128.826 59.5793 133.116 57.6591 136.693 53.7767C137.85 58.9276 140.605 62.7356 144.539 63.7896C151.667 65.6994 159.964 57.8448 163.072 46.2462C166.179 34.6476 162.921 23.6968 155.794 21.7869C151.86 20.7329 147.57 22.6531 143.993 26.5355C142.836 21.3846 140.08 17.5766 136.147 16.5226C132.213 15.4686 127.923 17.3887 124.346 21.2711C123.189 16.1202 120.434 12.3122 116.5 11.2582C109.372 9.34843 101.075 17.203 97.9674 28.8016C94.8596 40.4002 98.1179 51.3511 105.245 53.2609Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.414 15.6906C103.215 18.7189 100.447 23.4104 98.9332 29.0606C97.4192 34.7108 97.4702 40.1575 98.7265 44.3795C99.9882 48.6199 102.401 51.4638 105.504 52.2951C108.927 53.2124 112.858 51.5819 116.311 47.8349L117.604 46.4316L118.022 48.2934C119.138 53.2647 121.728 56.6422 125.151 57.5595C128.574 58.4768 132.505 56.8463 135.958 53.0992L137.251 51.696L137.669 53.5577C138.785 58.529 141.374 61.9065 144.798 62.8238C147.9 63.6552 151.412 62.3989 154.625 59.3575C157.824 56.3293 160.592 51.6378 162.105 45.9875C163.619 40.3373 163.568 34.8906 162.312 30.6686C161.05 26.4282 158.637 23.5843 155.535 22.753C152.111 21.8357 148.18 23.4662 144.728 27.2132L143.435 28.6165L143.017 26.7548C141.9 21.7834 139.311 18.4059 135.888 17.4887C132.464 16.5714 128.534 18.2019 125.081 21.9489L123.788 23.3522L123.37 21.4904C122.253 16.5191 119.664 13.1416 116.241 12.2243C113.138 11.393 109.627 12.6492 106.414 15.6906ZM105.039 14.2382C108.533 10.9301 112.734 9.21397 116.759 10.2925C120.714 11.3523 123.463 14.8264 124.864 19.3361C128.332 16.131 132.45 14.497 136.405 15.5568C140.361 16.6166 143.11 20.0908 144.511 24.6004C147.979 21.3954 152.097 19.7614 156.052 20.8212C160.077 21.8996 162.857 25.4861 164.229 30.0982C165.607 34.7288 165.631 40.5568 164.037 46.5052C162.443 52.4536 159.508 57.4887 156 60.8099C152.505 64.118 148.305 65.8342 144.28 64.7557C140.325 63.6959 137.575 60.2217 136.175 55.7121C132.707 58.9171 128.588 60.5511 124.633 59.4913C120.678 58.4315 117.929 54.9574 116.528 50.4477C113.06 53.6527 108.942 55.2868 104.986 54.227C100.961 53.1485 98.1818 49.562 96.8095 44.9499C95.4317 40.3193 95.4075 34.4913 97.0013 28.5429C98.5952 22.5946 101.53 17.5595 105.039 14.2382Z",fill:"#699BF7"}),J.createElement("path",{d:"M205.596 36.6217L200.026 46.2689C199.317 47.4968 197.738 47.9198 196.51 47.2109L162.936 27.8266L157.489 15.2789L171.079 13.7219L204.654 33.1062C205.884 33.8233 206.305 35.3938 205.596 36.6217Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.151 33.9709C204.151 33.9706 204.15 33.9703 204.15 33.97L170.865 14.7528L158.943 16.1186L163.721 27.1255L197.01 46.3447C197.76 46.7775 198.727 46.5183 199.159 45.7688L204.729 36.1215C205.161 35.3745 204.908 34.413 204.151 33.9709ZM205.157 32.2422C206.859 33.2345 207.448 35.4134 206.461 37.1215L200.891 46.7688C199.906 48.4749 197.716 49.0618 196.01 48.0768L162.15 28.5274L156.034 14.4388L171.293 12.6907L205.157 32.2422Z",fill:"#699BF7"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M198.43 29.5262L190.286 43.6308L188.554 42.6308L196.697 28.5262L198.43 29.5262Z",fill:"#699BF7"}),J.createElement("path",{d:"M197 109H116L89.5 39H223L197 109Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.0522 38H224.438L197.695 110H115.309L88.0522 38ZM90.9479 40L116.691 108H196.305L221.562 40H90.9479Z",fill:"#699BF7"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116 109H118V125H198V127H116V109Z",fill:"#699BF7"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.3269 24H64V22H83.6731L90.4265 38.6236L88.5735 39.3764L82.3269 24Z",fill:"#699BF7"}),J.createElement("path",{d:"M134.389 137.106C134.389 142.968 129.637 147.72 123.775 147.72C117.913 147.72 113.161 142.968 113.161 137.106C113.161 131.245 117.913 126.493 123.775 126.493C129.637 126.493 134.389 131.245 134.389 137.106Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.775 145.72C128.532 145.72 132.389 141.864 132.389 137.106C132.389 132.349 128.532 128.493 123.775 128.493C119.018 128.493 115.161 132.349 115.161 137.106C115.161 141.864 119.018 145.72 123.775 145.72ZM123.775 147.72C129.637 147.72 134.389 142.968 134.389 137.106C134.389 131.245 129.637 126.493 123.775 126.493C117.913 126.493 113.161 131.245 113.161 137.106C113.161 142.968 117.913 147.72 123.775 147.72Z",fill:"#699BF7"}),J.createElement("path",{d:"M129.081 137.107C129.081 140.038 126.706 142.414 123.775 142.414C120.844 142.414 118.468 140.038 118.468 137.107C118.468 134.176 120.844 131.8 123.775 131.8C126.706 131.8 129.081 134.176 129.081 137.107Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.775 140.414C125.601 140.414 127.081 138.933 127.081 137.107C127.081 135.28 125.601 133.8 123.775 133.8C121.948 133.8 120.468 135.28 120.468 137.107C120.468 138.933 121.948 140.414 123.775 140.414ZM123.775 142.414C126.706 142.414 129.081 140.038 129.081 137.107C129.081 134.176 126.706 131.8 123.775 131.8C120.844 131.8 118.468 134.176 118.468 137.107C118.468 140.038 120.844 142.414 123.775 142.414Z",fill:"#699BF7"}),J.createElement("path",{d:"M201.166 137.106C201.166 142.968 196.414 147.72 190.552 147.72C184.69 147.72 179.938 142.968 179.938 137.106C179.938 131.245 184.69 126.493 190.552 126.493C196.414 126.493 201.166 131.245 201.166 137.106Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.552 145.72C195.309 145.72 199.166 141.864 199.166 137.106C199.166 132.349 195.309 128.493 190.552 128.493C185.795 128.493 181.938 132.349 181.938 137.106C181.938 141.864 185.795 145.72 190.552 145.72ZM190.552 147.72C196.414 147.72 201.166 142.968 201.166 137.106C201.166 131.245 196.414 126.493 190.552 126.493C184.69 126.493 179.938 131.245 179.938 137.106C179.938 142.968 184.69 147.72 190.552 147.72Z",fill:"#699BF7"}),J.createElement("path",{d:"M196.081 137.107C196.081 140.038 193.705 142.414 190.774 142.414C187.843 142.414 185.467 140.038 185.467 137.107C185.467 134.176 187.843 131.8 190.774 131.8C193.705 131.8 196.081 134.176 196.081 137.107Z",fill:"white"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.774 140.414C192.6 140.414 194.081 138.933 194.081 137.107C194.081 135.28 192.6 133.8 190.774 133.8C188.947 133.8 187.467 135.28 187.467 137.107C187.467 138.933 188.947 140.414 190.774 140.414ZM190.774 142.414C193.705 142.414 196.081 140.038 196.081 137.107C196.081 134.176 193.705 131.8 190.774 131.8C187.843 131.8 185.467 134.176 185.467 137.107C185.467 140.038 187.843 142.414 190.774 142.414Z",fill:"#699BF7"}),J.createElement("path",{d:"M197.5 112C195.567 112 194 110.433 194 108.5C194 106.567 195.567 105 197.5 105C199.433 105 201 106.567 201 108.5C201 110.433 199.433 112 197.5 112Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M200 108.5C200 107.119 198.881 106 197.5 106C196.119 106 195 107.119 195 108.5C195 109.881 196.119 111 197.5 111C198.881 111 200 109.881 200 108.5ZM197.5 104C199.985 104 202 106.015 202 108.5C202 110.985 199.985 113 197.5 113C195.015 113 193 110.985 193 108.5C193 106.015 195.015 104 197.5 104Z",fill:"#699BF7"}),J.createElement("path",{d:"M197.5 129C195.567 129 194 127.433 194 125.5C194 123.567 195.567 122 197.5 122C199.433 122 201 123.567 201 125.5C201 127.433 199.433 129 197.5 129Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M200 125.5C200 124.119 198.881 123 197.5 123C196.119 123 195 124.119 195 125.5C195 126.881 196.119 128 197.5 128C198.881 128 200 126.881 200 125.5ZM197.5 121C199.985 121 202 123.015 202 125.5C202 127.985 199.985 130 197.5 130C195.015 130 193 127.985 193 125.5C193 123.015 195.015 121 197.5 121Z",fill:"#699BF7"}),J.createElement("path",{d:"M117 112C115.067 112 113.5 110.433 113.5 108.5C113.5 106.567 115.067 105 117 105C118.933 105 120.5 106.567 120.5 108.5C120.5 110.433 118.933 112 117 112Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M119.5 108.5C119.5 107.119 118.381 106 117 106C115.619 106 114.5 107.119 114.5 108.5C114.5 109.881 115.619 111 117 111C118.381 111 119.5 109.881 119.5 108.5ZM117 104C119.485 104 121.5 106.015 121.5 108.5C121.5 110.985 119.485 113 117 113C114.515 113 112.5 110.985 112.5 108.5C112.5 106.015 114.515 104 117 104Z",fill:"#699BF7"}),J.createElement("path",{d:"M63.6675 26.5C61.7345 26.5 60.1675 24.933 60.1675 23C60.1675 21.067 61.7345 19.5 63.6675 19.5C65.6005 19.5 67.1675 21.067 67.1675 23C67.1675 24.933 65.6005 26.5 63.6675 26.5Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.1675 23C66.1675 21.6193 65.0482 20.5 63.6675 20.5C62.2868 20.5 61.1675 21.6193 61.1675 23C61.1675 24.3807 62.2868 25.5 63.6675 25.5C65.0482 25.5 66.1675 24.3807 66.1675 23ZM63.6675 18.5C66.1528 18.5 68.1675 20.5147 68.1675 23C68.1675 25.4853 66.1528 27.5 63.6675 27.5C61.1822 27.5 59.1675 25.4853 59.1675 23C59.1675 20.5147 61.1822 18.5 63.6675 18.5Z",fill:"#699BF7"}),J.createElement("path",{d:"M83.167 26.5C81.234 26.5 79.667 24.933 79.667 23C79.667 21.067 81.234 19.5 83.167 19.5C85.1 19.5 86.667 21.067 86.667 23C86.667 24.933 85.1 26.5 83.167 26.5Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85.667 23C85.667 21.6193 84.5477 20.5 83.167 20.5C81.7863 20.5 80.667 21.6193 80.667 23C80.667 24.3807 81.7863 25.5 83.167 25.5C84.5477 25.5 85.667 24.3807 85.667 23ZM83.167 18.5C85.6523 18.5 87.667 20.5147 87.667 23C87.667 25.4853 85.6523 27.5 83.167 27.5C80.6817 27.5 78.667 25.4853 78.667 23C78.667 20.5147 80.6817 18.5 83.167 18.5Z",fill:"#699BF7"}),J.createElement("path",{d:"M117 129C115.067 129 113.5 127.433 113.5 125.5C113.5 123.567 115.067 122 117 122C118.933 122 120.5 123.567 120.5 125.5C120.5 127.433 118.933 129 117 129Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M119.5 125.5C119.5 124.119 118.381 123 117 123C115.619 123 114.5 124.119 114.5 125.5C114.5 126.881 115.619 128 117 128C118.381 128 119.5 126.881 119.5 125.5ZM117 121C119.485 121 121.5 123.015 121.5 125.5C121.5 127.985 119.485 130 117 130C114.515 130 112.5 127.985 112.5 125.5C112.5 123.015 114.515 121 117 121Z",fill:"#699BF7"}),J.createElement("path",{d:"M248.473 31.008L230.542 33.9824L239.835 19.1824L241.71 26.7429L248.473 31.008Z",fill:"#FFC700"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.485 36.6826L240.644 14.1334L243.457 25.4803L253.987 32.1206L226.485 36.6826ZM241.71 26.7427L239.835 19.1823L230.542 33.9823L248.473 31.0079L241.71 26.7427Z",fill:"#699BF7"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M254.785 72.699L189.286 5.69837L190.716 4.30027L256.215 71.3009L254.785 72.699Z",fill:"#699BF7"}),J.createElement("path",{d:"M223 42.5C221.067 42.5 219.5 40.933 219.5 39C219.5 37.067 221.067 35.5 223 35.5C224.933 35.5 226.5 37.067 226.5 39C226.5 40.933 224.933 42.5 223 42.5Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M225.5 39C225.5 37.6193 224.381 36.5 223 36.5C221.619 36.5 220.5 37.6193 220.5 39C220.5 40.3807 221.619 41.5 223 41.5C224.381 41.5 225.5 40.3807 225.5 39ZM223 34.5C225.485 34.5 227.5 36.5147 227.5 39C227.5 41.4853 225.485 43.5 223 43.5C220.515 43.5 218.5 41.4853 218.5 39C218.5 36.5147 220.515 34.5 223 34.5Z",fill:"#699BF7"}),J.createElement("path",{d:"M259 75.5L252 75.5L252 68.5L259 68.5L259 75.5Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M260 76.5L251 76.5L251 67.5L260 67.5L260 76.5ZM258 74.5L258 69.5L253 69.5L253 74.5L258 74.5Z",fill:"#699BF7"}),J.createElement("path",{d:"M193 8L186 8L186 0.999999L193 1L193 8Z",fill:"#2C2C2C"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M194 9L185 9L185 -2.36282e-07L194 5.36442e-07L194 9ZM192 7L192 2L187 2L187 7L192 7Z",fill:"#699BF7"}),J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M218 52H94.5V50H218V52Z",fill:"#699BF7"}))}var rs=n(23795),rl=n(61803),rd=((c=rd||{}).TRIAL_ENDED="TRIAL_ENDED",c.PAID_FEATURE="PAID_FEATURE",c.SKIP="SKIP",c.LOGGED_OUT="LOGGED_OUT",c);let rc=(0,eF.Ju)(function(e){let{onClose:r,onContinue:n}=e,i=(0,Q.wA)(),a=J.useCallback(()=>{null==r||r(),i($.Ce())},[i,r]);if("SKIP"===e.type)return null==n||n(),null;let o="LOGGED_OUT"===e.type,s="TRIAL_ENDED"===e.type,l=s?J.createElement(er.Tx,{id:"community.buyer.your_trial_has_ended"}):J.createElement(er.Tx,{id:"community.buyer.unlock_this_feature"}),d=o?J.createElement(er.Tx,{id:"community.buyer.log_in_to_get_everything",pluginName:e.plugin.name}):s?J.createElement(er.Tx,{id:"community.buyer.you_can_keep_using_plugin",pluginName:e.plugin.name}):J.createElement(er.Tx,{id:"community.buyer.purchase_this_feature_today",pluginName:e.plugin.name}),c=e.monetizedResourceMetadata?J.createElement("div",null,(0,ek.Uv)(e.monetizedResourceMetadata)?J.createElement(er.Tx,{id:"community.buyer.subscribe"}):J.createElement(er.Tx,{id:"community.buyer.buy"}),J.createElement("span",{className:"freemium_api_pre_checkout_modal--buttonPriceString--UHoHb"},(0,ei.bV)(e.monetizedResourceMetadata))):J.createElement(er.Tx,{id:"community.buyer.buy_now"}),u="redirect_icon_url"in e.plugin?e.plugin.redirect_icon_url:void 0,p=new k.Mi((window.innerWidth-450)/2,(window.innerHeight-442)/2);return J.createElement(rn.Wx,{titleIconURL:u,titleIconSvgSrc:u?void 0:rl.A,titleIconSvgClassName:rs.v,title:e.plugin.name,truncateTitleText:!0,initialPosition:p,dragHeaderOnly:!0,onClose:a,ignoreCloseShortcut:!0,alwaysEnsureHeaderModalOnScreen:!0,preventKeyboardFocus:!0,frameStyle:{overflow:"hidden"},clickOutsideToHide:!0},J.createElement("div",{className:"freemium_api_pre_checkout_modal--contentContainer--pgvJ8"},J.createElement(ri,null),J.createElement("div",{className:"freemium_api_pre_checkout_modal--headerText--j6MsJ interstitial_modal--headerText--1NkRH"},l),J.createElement("div",{className:"freemium_api_pre_checkout_modal--secondaryText---YTAf interstitial_modal--secondaryText--IC9Gu"},d),J.createElement(e6.vv,{onClick:n,className:"freemium_api_pre_checkout_modal--button--tb0R-"},c),J.createElement(rr.GG,{recordingKey:rt.Pt("freemiumApiPreCheckoutModal","cancel"),onClick:a,className:"freemium_api_pre_checkout_modal--link--SCOub text--fontPos13--xW8hS text--_fontBase--QdLsd"},J.createElement(er.Tx,{id:"community.buyer.maybe_later"}))))},"FreemiumApiPreCheckoutModal");var ru=n(20063),rp=n(60601),rh=n(22863),rm=n(14053);function rg({height:e="24",...r}){return J.createElement("div",{className:eW()({"base_badge--badge--cbfYy base_badge--backgroundLight--agxeS":!0,"base_badge--backgroundLight--agxeS":"light"===r.background,"base_badge--backgroundWarning--i7d2I":"warning"===r.background,"base_badge--backgroundWhite--ZqZgN":"white"===r.background,"base_badge--height24--PMSUp text--fontPos11--2LvXf text--_fontBase--QdLsd":"24"===e,"base_badge--heightSixteen--BEJT8 text--fontPos9--naThA text--_fontBase--QdLsd":"16"===e,"base_badge--borderStrong--makDy":"strong"===r.border})},r.children)}function rf({resource:e,showPrice:r=!1,height:n,isPaymentAnnualSubscription:i=!1,backgroundColor:a,border:o}){if(e&&(0,ek.Uv)(e.monetized_resource_metadata)){let s=i?(0,ei.bV)(e.monetized_resource_metadata,!0):(0,ei.bV)(e.monetized_resource_metadata);return J.createElement(rg,{height:n,background:a||"light",border:o},r?J.createElement(er.Tx,{id:"community.buyer.subscribed_with_price",priceString:s}):J.createElement(er.Tx,{id:"community.buyer.subscribed"}))}return J.createElement(rg,{height:n,background:a||"light",border:o},J.createElement(er.Tx,{id:"community.buyer.purchased"}))}n(97551),n(83327);var r_=((u=r_||{}).PURCHASED="purchased",u.OFF_PLATFORM="off_platform",u.FREEMUM="freemium",u.PRICE="price",u),ry=n(16679);function rE(e){return J.createElement(J.Fragment,null,J.createElement("div",{className:"generic_selector--modal__title--DgytK text--fontPos20--Bcz97 text--_fontBase--QdLsd"},e.title),J.createElement("div",{className:"generic_selector--modal__description--vy93K text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.description),J.createElement("div",{className:"generic_selector--modal__all_options_wrapper--f-bBJ"},e.options.map(e=>{let r=!!e.disabledText;return J.createElement("button",{className:"generic_selector--modal__option_wrapper--PyZZn",key:e.id,onClick:r=>{r.stopPropagation(),e.onClick()},disabled:r},J.createElement("div",{className:eW()({"generic_selector--modal__option_avatar_wrapper--bqTL8":!0,"generic_selector--modal__option_avatar_wrapper_disabled--MN858":r})},e.Avatar),J.createElement("div",{className:"generic_selector--modal__option_text_wrapper--fgUh-"},J.createElement("span",{className:"generic_selector--modal__option_text_title--CLwRC text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.title),J.createElement("span",{className:"generic_selector--modal__option_text_desc--zqDLH text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.description)),e.disabledText?J.createElement("div",{className:"generic_selector--modal__option_text__disabled--YyAvE text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L","data-tooltip":e.disabledText.tooltipText,"data-tooltip-type":e3.Ib.TEXT},e.disabledText.displayText):J.createElement(e2.B,{className:"generic_selector--modal__option_chevron--4qVPT",svg:ry.A}))})))}let rb="index--avatar--nIkKj";function rv({children:e,className:r,style:n,onClick:i,showInnerModal:a,onCloseModal:o}){let[s,l]=J.useState(null),[d,c]=J.useState(!1);J.useEffect(()=>{},[]);let u=!d&&!1!==a;return J.createElement("div",{ref:e=>l(e),className:r||"index--modalBackdrop--VqLCO",role:"button",tabIndex:0,style:n,onClick:e=>{null==i||i(),e.target.isSameNode(s)&&(null==o||o(),c(!0),setTimeout(()=>c(!1),400))}},J.createElement("div",{className:"index--modal--vmXNN",style:{opacity:u?1:0,transform:u?"scale(1)":"scale(0.95)"}},e))}function rS(e){let r=(0,Q.d4)(e=>e.authedActiveCommunityProfile),n=(0,Q.d4)(e=>e.authedUsers),[i,a]=J.useState({});(0,ru.h)(()=>{ep.getBuyerAssociatedPurchases({id:e.resource.monetized_resource_metadata.id}).then(e=>{a(e.data.meta)}).catch(()=>{})});let o=J.useMemo(()=>(function(e){let{authedActiveCommunityProfile:r,authedUsers:n}=e;if(!r)return[];let i=(r.associated_users||[]).map(e=>n.byId[e.user_id]).filter(Boolean).sort((e,n)=>e.id===r.primary_user_id?-1:Date.parse(e.created_at)-Date.parse(n.created_at));if(!i.length&&r.primary_user_id){let e=n.byId[r.primary_user_id];return e?[e]:[]}return i})({authedActiveCommunityProfile:r,authedUsers:n}),[r,n]),{usersCanPurchase:s,publishers:l}=J.useMemo(()=>(0,ei.V4)(o,e.resource),[o,e.resource]),d=s.map(n=>{let a=i[n.id]&&(0,ei.QQ)(i[n.id]);return{id:n.id,title:J.createElement("div",{className:"index--workspaceTitleWrapper--e9YT2"},n.name,!(0,rh.c)(r)&&a&&J.createElement("div",{"data-tooltip":(0,er.t)("community.buyer.this_account_has_already_purchased"),"data-tooltip-type":e3.Ib.TEXT},J.createElement(rf,{height:"16"}))),Avatar:J.createElement(rm.e,{entity:n,adtlClassName:rb}),description:n.email,onClick:()=>{a||e.onUserSelect(n)},disabledText:a?{displayText:""}:void 0}});return d=d.concat(l.map(e=>({id:e.id,title:e.name,Avatar:J.createElement(rm.e,{entity:e,adtlClassName:rb}),description:e.email,onClick:rp.lQ,disabledText:{displayText:(0,er.t)("community.try.not_allowed"),tooltipText:(0,er.t)("community.buyer.user_is_a_publisher")}}))),J.createElement(rE,{title:(0,er.t)("community.buyer.confirm_account"),description:(0,er.t)("community.buyer.this_resource_will_only_be_accesible"),options:d})}(0,eF.Ju)(function(e){let r=(0,Q.wA)(),n=J.useCallback(()=>{r($.Ce())},[r]),i=J.useMemo(()=>function(e){return(0,ru.h)(()=>{(0,b.sx)("Pre Purchase User Selector Modal - Opened",{resourceType:(0,es.Dl)(e.resource),resourceId:e.resource.id})}),J.createElement(rv,{className:"index--genericSelectorModal--3aSLC index--modalBackdrop--VqLCO text--fontPos13--xW8hS text--_fontBase--QdLsd",onCloseModal:n},J.createElement("div",{className:"index--genericSelectorInner--HBJH2"},J.createElement(rS,{onUserSelect:e.onUserSelect,resource:e.resource}),J.createElement("button",{className:"index--genericSelectorModalCancel--WOjxG",onClick:n},J.createElement(er.Tx,{id:"community.try.pick_workspace.cancel"}))))},[n]);return J.createElement(i,{onUserSelect:e.onUserSelect,resource:e.resource})},"PrePurchaseUserSelectorModal");let rI=(0,eA.n)((e,r,n,i,a,o)=>{let s=(0,O.kc)().community_hub_admin&&n&&(0,H.AC)(n);return new Promise(l=>{let d=()=>{if(r){if(i||s){var a;e((a=()=>{rC({type:"PAID"}),l()},e=>{e($.$O({type:re.type,data:{userId:r.id,resource:n,localResource:i,onSuccess:a,onCancel:l,noInteractionMode:!0}}))}));return}(0,eo.m3)(n)?e(function(e,r,n,i){return a=>{a($.$O({type:re.type,data:{userId:e.id,resource:r,onSuccess:()=>{a(n=>{((0,eo.I0)(r)||(0,eo.xQ)(r))&&n(em.fR(r,e.id))}),n&&n()},onCancel:i}}))}}(r,n,()=>l(),()=>l())):T.k.error("Can only initiate checkout for a monetized or local resource.")}else{e(e=>{e(et.I.init({origin:"freemium_checkout_modal_in_open_session",redirectUrl:N.Ay.location.pathname,signedUpFromOpenSession:!0})),e((0,$.to)({type:ef.x,data:{headerText:(0,er.t)("fullscreen.toolbar.log_in_to_do_more_with_figjam")}}))});return}};o===rd.SKIP?d():e($.$O({type:rc.type,data:{type:r?o||rd.PAID_FEATURE:rd.LOGGED_OUT,onContinue:d,onClose:l,plugin:n&&(0,t0.uF)(n)||i||a,monetizedResourceMetadata:null==n?void 0:n.monetized_resource_metadata}}))})}),rT="local-resource-payment";var rw=((p=rw||{}).PAID="PAID",p.UNPAID="UNPAID",p.NOT_SUPPORTED="NOT_SUPPORTED",p);function rC(e){(0,ee.DN)().set(rT,e)}var rA=n(74724),rN=n(50225),rO=n(47368),rR=n(56390),rP=n(52800),rL=n(62531),rD=n(17453),rM=n(54168);let rk=Object.create(null);class rx extends Error{}let rF=(0,eA.n)(e=>{let r=Math.random().toString(36).substring(2);return rP.h3O.forceCheckpoint(r),new Promise((n,i)=>{rk[r]=a=>{try{if(delete rk[r],!a)throw new rx("Couldn't save checkpoint, please try again later");rM.S.getFiles({fileKey:e}).then(({data:e})=>{let r=e.meta.checkpoint_token,a=e.meta.name;r&&a?n({token:r,fileName:a}):i(Error("Missing token or filename, can't export"))},e=>{i(e)})}catch(e){i(e)}},setTimeout(()=>{r in rk&&(delete rk[r],i(new rx("Timed out waiting for export, aborting")))},1e4)})});var rU=n(24266),rB=n(93789),rV=n(12666),rH=n(57630),rG=n(41088);let rW=new class{constructor(){this.errorsReported=[],this.numErrorsReported={validation:0,invalid_prop:0,applying_prop:0,locked_down_api_usage:0,scene_divergence:0,widget_update_error:0},this.scheduleFlushErrors=(0,th.s)(()=>{this.sendSegmentErrors("validation"),this.sendSegmentErrors("locked_down_api_usage"),this.errorsReported=[]},1e3)}trackErrorInner(e,r,n){this.numErrorsReported[e]>=5||(this.numErrorsReported[e]+=1,this.errorsReported.push({type:e,errors:r,isInPlaygroundFile:function(){if(!A.D||!A.D.getState())return!1;let e=A.D.getState().selectedView;return!!e&&"isPlaygroundFile"in e&&!!e.isPlaygroundFile}(),...n}),this.scheduleFlushErrors())}trackWidgetUpdateError(e,r){this.trackErrorInner("widget_update_error",[e],r)}trackValidationErrors(e,r){this.trackErrorInner("validation",e,r)}trackLockDownApiError(e,r){this.trackErrorInner("locked_down_api_usage",[e],r)}trackInvalidPropError(e,r){this.trackErrorInner("invalid_prop",[e],r)}trackPropApplicationError(e,r){this.trackErrorInner("applying_prop",e,r)}trackSceneDivergenceError(e,r){this.trackErrorInner("scene_divergence",[e],r)}sendSegmentErrors(e){let r={};this.errorsReported.filter(r=>r.type===e).forEach(e=>{e.widgetNodeID in r||(r[e.widgetNodeID]={...e,errors:[]}),r[e.widgetNodeID].errors.push(...e.errors)}),Object.keys(r).forEach(n=>{var i;let a=r[n],o={type:e,fileKey:(null==(i=A.D.getState().openFile)?void 0:i.key)??null,numErrors:a.errors.length,errors:a.errors.map(e=>e.toString().slice(0,50)).join("\n"),widgetNodeID:n,pluginID:a.pluginID,widgetName:a.widgetName,widgetVersionID:a.widgetVersionID};(0,b.sx)("Widget Error",o)})}};var rz=n(10225),rK=n(35682),rj=n(16095),rY=n(60628);let r$="client-quota",rq="client-storage";function rZ(e){let{userID:r,pluginID:n,name:i}=e;return[r,n,i]}function rX(e){return e[2]}function rJ(e){if(!e.userID)throw Error("Cannot access client storage without a user ID");if(!e.pluginID)throw Error("Cannot access client storage without a plugin ID")}let rQ=null;function r0(){return rQ||(rQ=new Promise((e,r)=>{let n=indexedDB.open((0,M.nl)()?"figma-plugin-testing":"figma-plugin",1);n.onupgradeneeded=()=>{let e=n.result;e.createObjectStore(r$),e.createObjectStore(rq)},n.onerror=()=>r(n.error),n.onsuccess=()=>{try{let r=n.result;r.onversionchange=()=>{r.close(),rQ=null},e(r)}catch(e){r(e)}}})),rQ}async function r1(e){rJ(e);let r=(await r0()).transaction(rq,"readonly");return new Promise((n,i)=>{let a=rZ(e),o=r.objectStore(rq);r.onabort=e=>i("Database error");let s=o.get(a);s.onsuccess=()=>{n(s.result?s.result.value:void 0)}})}async function r2(e){rJ(e);let r=(await r0()).transaction(rq,"readonly");return new Promise((n,i)=>{let a=function(e){let{userID:r,pluginID:n}=e;return IDBKeyRange.bound([r,n],[r,n,[]])}(e),o=r.objectStore(rq);r.onabort=e=>i("Database error");let s=o.getAllKeys(a);s.onsuccess=()=>{n(s.result.map(rX))}})}function r3(e){let r=e.value,n=0;return JSON.stringify(r,(e,r)=>"string"==typeof r?(n+=r.length,""):ArrayBuffer.isView(r)?(n+=r.buffer.byteLength,""):void 0===r?"":r).length+n}async function r5(e){rJ(e);let r=e.name,n=e.remove?void 0:{value:e.value},i=await r0();return new Promise((a,o)=>{let s=i.transaction([r$,rq],"readwrite");s.onabort=e=>o("Database error");let l=rZ(e),d=function(e){let{userID:r,pluginID:n}=e;return[r,n]}(e),c=s.objectStore(rq),u=s.objectStore(r$),p=c.get(l),h=u.get(d);h.onsuccess=()=>{let e=p.result,i=h.result,m=i?i.quota:0,g=e?r.length+r3(e):0,f={quota:m+(n?r.length+r3(n):0)-g};if(f.quota>1048576){o("Client storage quota exceeded for this plugin ID. Please use less client storage."),s.abort();return}n?c.put(n,l):c.delete(l),u.put(f,d),s.oncomplete=e=>a()}})}var r4=n(50335),r6=n(47087),r8=n(73131),r7=n(7465),r9=n(45173),ne=n(49719),nt=n(42617),nr=n(39671),nn=n(54294),ni=n(38580);let na=(0,ni.eU)(0);function no(){R.zl.set(na,e=>e+1)}var ns=n(38311),nl=n(27246);let nd={black:"#1E1E1E",gray:"#B3B3B3",red:"#F24822",orange:"#FFA629",yellow:"#FFCD29",green:"#14AE5C",blue:"#0D99FF",violet:"#9747FF",white:"#FFFFFF"},nc={darkGray:"#757575",lightGray:"#E6E6E6",lightRed:"#FFC7C2",lightOrange:"#FCD19C",lightYellow:"#FFE8A3",lightGreen:"#AFF4C6",lightBlue:"#BDE3FF",lightViolet:"#E4CCFF",white:"#FFFFFF"};var nu=n(22631),np=n(81396),nh=n(47908),nm=n(78655);function ng(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}function nf(e){return e?{m00:e[0][0],m01:e[0][1],m02:e[0][2],m10:e[1][0],m11:e[1][1],m12:e[1][2]}:{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}var n_=n(22416);function ny(e){return{type:"VARIABLE_ALIAS",id:nm.dI(e)}}function nE(e){return"PASS_THROUGH"===e?"NORMAL":e}function nb(e){var r,n,i,a;let o={type:e.type,visible:e.visible,opacity:e.opacity,blendMode:nE(e.blendMode)};switch(e.type){case"SOLID":o.color={...e.color},o.boundVariables={},(null==(n=null==(r=e.colorVar)?void 0:r.value)?void 0:n.alias)&&(o.boundVariables.color=ny(e.colorVar.value.alias)),delete o.color.a;break;case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":o.gradientStops=null==(i=e.stops)?void 0:i.map((r,n)=>{var i,a,o,s,l;return{color:r.color,position:r.position,boundVariables:(null==(i=e.stopsVar)?void 0:i.length)&&(null==(l=null==(s=null==(o=null==(a=e.stopsVar)?void 0:a[n])?void 0:o.colorVar)?void 0:s.value)?void 0:l.alias)?{color:ny(e.stopsVar[n].colorVar.value.alias)}:{}}}),o.gradientTransform=ng(e.transform);break;case"VIDEO":case"IMAGE":if(o.scaleMode="STRETCH"===e.imageScaleMode?"CROP":e.imageScaleMode,o.imageTransform=ng(e.transform),o.scalingFactor=e.scale,"STRETCH"!==e.imageScaleMode){let r=e.rotation?e.rotation%360:0;o.rotation=r}o.filters=(a=e.paintFilter,(0,n_.Kb)(a?{exposure:a.exposure,contrast:Math.min(Math.max((a.contrast||0)/.3,-1),1),saturation:a.vibrance,temperature:a.temperature,tint:a.tint,highlights:a.highlights,shadows:a.shadows}:{},{exposure:0,contrast:0,saturation:0,temperature:0,tint:0,highlights:0,shadows:0})),"VIDEO"===e.type?e.video&&e.video.hash?o.videoHash=(0,np.nj)(e.video.hash):o.videoHash=null:e.animatedImage&&e.animatedImage.hash?o.imageHash=(0,np.nj)(e.animatedImage.hash):e.image&&e.image.hash?o.imageHash=(0,np.nj)(e.image.hash):o.imageHash=null;break;default:T.k.warn(`Paint type ${e.type} is not yet supported`)}return o}function nv(e){return e?e.map(nb):[]}function nS(e,r,n,i){return n.map(n=>nI(e,r,n,i))}function nI(e,r,n,i){var a,o,s;let l=void 0===n.visible||n.visible,d=void 0===n.opacity?1:n.opacity,c=void 0===n.blendMode?"NORMAL":nE(n.blendMode);switch(n.type){case"SOLID":{let e={type:n.type,color:{...n.color,a:1},visible:l,opacity:d,blendMode:c};return(null==(o=null==(a=n.boundVariables)?void 0:a.color)?void 0:o.id)&&"VARIABLE_ALIAS"===n.boundVariables.color.type&&nm.fn(n.boundVariables.color.id)&&(e.colorVar={dataType:"ALIAS",resolvedDataType:"COLOR",value:{alias:nm.sH(n.boundVariables.color.id)}}),e}case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":return{type:n.type,transform:nf(n.gradientTransform),stopsVar:n.gradientStops.map(e=>{var r,n,i;return(null==(n=null==(r=e.boundVariables)?void 0:r.color)?void 0:n.id)&&(null==(i=e.boundVariables.color)?void 0:i.type)==="VARIABLE_ALIAS"&&nm.fn(e.boundVariables.color.id)?{color:e.color,position:e.position,colorVar:{dataType:"ALIAS",resolvedDataType:"COLOR",value:{alias:nm.sH(e.boundVariables.color.id)}}}:(0,nh.Ug)(e)}),stops:n.gradientStops.map(({color:e,position:r,boundVariables:n})=>({color:e,position:r})),visible:l,opacity:d,blendMode:c};case"VIDEO":case"IMAGE":{let a;if(null!=n.scalingFactor&&n.scalingFactor<=0)throw Error("Image scaleFactor must be greater than 0");if(null!=n.rotation&&n.rotation%90)throw Error("Image rotation must be a factor of 90 degrees");if(null!=n.rotation&&n.rotation>=360)throw Error("Image rotation must be less than 360 degrees");a="IMAGE"===n.type?n.imageHash:r.getThumbnailImageForVideo(n.videoHash);let o="IMAGE"===n.type?n.imageTransform:n.videoTransform,u="CROP"===n.scaleMode?"STRETCH":n.scaleMode,p={type:n.type,imageScaleMode:u,transform:nf(o),paintFilter:(s=n.filters,(0,n_.Kb)(s?{exposure:s.exposure,contrast:Math.min(Math.max(.3*(s.contrast||0),-.3),.3),vibrance:s.saturation,temperature:s.temperature,tint:s.tint,highlights:s.highlights,shadows:s.shadows}:{},{exposure:0,contrast:0,vibrance:0,temperature:0,tint:0,highlights:0,shadows:0})),scale:n.scalingFactor||1,visible:l,opacity:d,blendMode:c,image:{hash:(0,np.aD)(a)}};"VIDEO"===n.type&&(p.video={hash:(0,np.aD)(n.videoHash)}),"CROP"!==n.scaleMode&&(p.rotation=n.rotation||0);let h=rP.NfO.getAnimatedImageInfo(a);if(h.status===rP.NFK.UNLOADED)try{let r=e.getPrivateImageOrThrow(a);(0,S.B1)(r.bytes,"Missing bytes for image"),p.image.dataBlob=i.length,i.push({bytes:r.bytes}),r.coverBytes&&(p.animatedImage=p.image,p.image={hash:(0,np.aD)(r.animated.coverFrameHash),dataBlob:i.length},i.push({bytes:r.coverBytes}))}catch(e){}else h.status===rP.NFK.ANIMATED&&(p.animatedImage=p.image,p.image={hash:(0,np.aD)(h.coverFrameHash)});return p}default:throw Error(`Unsupported paint type: ${n.type}`)}}class nT extends Error{constructor(e){super("string"==typeof e?e:e.message),this.internalError=e}}class nw extends Error{constructor(e){super("string"==typeof e?e:e.message),this.internalError=e}}class nC extends Error{constructor(e){super("string"==typeof e?e:e.message),this.internalError=e}}class nA{constructor(e,r,n){this.pluginID=e,this.vm=r,this.ignoreEditActionsScope=n}getMultiplayerSelection(){let e=new Set;for(let{selection:r}of this.figma().activeUsers)for(let n of r)e.add(n);return e}figma(){return this.vm.scope.figma}logWarning(...e){((0,M.nl)()||this.pluginID.startsWith("TEST")||Object.values(A.D.getState().localPlugins).some(e=>e.plugin_id===this.pluginID))&&console.warn(...e)}createPluginNode(e,r,n,i=!1){let a;if(!e||"object"!=typeof e)throw Error("invalid node passed to createPluginNode");let o=e.type;switch(o){case"inputframe":case"autolayout":case"frame":a=rB.z.instance.createNode("FRAME",{tracking:n});break;case"input":case"text":a=rB.z.instance.createNode("TEXT",{tracking:n});break;case"svg":{let i=rP.NfO.createNodeFromSvgForPlugin(e.renderMetaData.src??"",n);!function e(r,n){for(let i of r.reversedChildrenGuids){let r=rB.z.instance.get(i);n(r),e(r,n)}}(a=rB.z.instance.get(i),e=>{e.widgetCachedAncestor=r});break}case"line":a=rB.z.instance.createNode("LINE",{tracking:n});break;case"ellipse":a=rB.z.instance.createNode("ELLIPSE",{tracking:n});break;case"rectangle":a=rB.z.instance.createNode("RECTANGLE",{tracking:n});break;case"fragment":case"span":if(i)throw new nT(`Unsupported root node type: ${o}`);throw Error(`Attempting to create a ${o} node`);case"instance":{let r=this.figma().getNodeById(e.props.componentId);if((null==r?void 0:r.type)!=="COMPONENT")throw Error(`Invalid component Id: ${e.props.componentId}`);let n=r.createInstance().id;a=rB.z.instance.get(n);break}default:(0,S.xb)(o)}return a.widgetCachedAncestor=r,this.figma().getNodeById(a.guid)}loadFontAsync(e){return this.figma().loadFontAsync(e)}createImage(e){return this.ignoreEditActionsScope(()=>this.figma().createImage(e))}getNodeById(e){return this.figma().getNodeById(e)}getSceneNodeAdapter(e,r=null){return new nN(e,r,this)}}class nN{constructor(e,r,n){this.id=e,this.pluginNode=r,this.runtime=n,this.shimNode=null}getId(){return this.id}get children(){var e;return[...(null==(e=this.readShim())?void 0:e.reversedChildrenGuids)??[]].reverse().map(e=>new nN(e,null,this.runtime))}insertChild(e,r){var n;null==(n=this.readShim())||n.insertChild(rB.z.instance.get(r),e,{skipValidation:!0})}remove(){var e;null==(e=this.readShim())||e.removeSelfAndChildren()}getPluginNodeSlow(){return this.pluginNode=this.pluginNode??this.runtime.getNodeById(this.id),this.pluginNode}readShim(){return this.shimNode=this.shimNode??rB.z.instance.get(this.id)??null,this.shimNode}applyComponentProps(e,r){if("INSTANCE"===e.type){if(r.componentId)try{let n=rB.z.instance.get(r.componentId);n&&(e.swapComponent(n),e.updateIfIsNestedInstance())}catch(e){this.runtime.logWarning(`Error setting componentId: ${e}`)}if(r.sharedPluginData&&this.writeSharedPluginData(this.runtime.getNodeById(e.guid),r.sharedPluginData),r.pluginData&&this.writePluginData(this.runtime.getNodeById(e.guid),r.pluginData),r.componentProps)try{e.setProperties(r.componentProps)}catch(e){this.runtime.logWarning(`Error setting component props: ${e}`)}if(r.componentPropsNested)for(let[n,i]of Object.entries(r.componentPropsNested)){if(!V.fn(V.sH(n)))continue;let r=rB.z.instance.get(n);if(!r)continue;let a=r.getSublayerIdForInstanceOfSymbol(e.guid);if(!a)continue;let o=rB.z.instance.get(a);o&&this.applyComponentProps(o,i)}}}writePluginData(e,r){if("object"==typeof r)for(let[n,i]of Object.entries(r)){if("string"!=typeof i){this.runtime.logWarning(`Attempting to set non-string pluginData: ${n}=${JSON.stringify(i)}`);continue}e.setPluginData(n,i)}}writeSharedPluginData(e,r){if("object"==typeof r)for(let[n,i]of Object.entries(r)){if("string"!=typeof i){this.runtime.logWarning(`Attempting to set non-string sharedPluginData: ${n}=${JSON.stringify(i)}`);continue}e.setSharedPluginData("jsx",n,i)}}writeProperty(e,r,n){if("widgetEvents"===e||"widgetInputBehavior"===e||"widgetTooltip"===e)this.readShim()[e]=r;else if(null==n?void 0:n.isForceReconcile)this.runtime.ignoreEditActionsScope(()=>{this.getPluginNodeSlow()[e]=r});else if("componentId"===e){let e=this.readShim();this.applyComponentProps(e,{componentId:r})}else if("componentProps"===e){let e=this.readShim();this.applyComponentProps(e,{componentProps:r})}else if("componentPropsNested"===e){let e=this.readShim();this.applyComponentProps(e,{componentPropsNested:r})}else"sharedPluginData"===e?this.writeSharedPluginData(this.getPluginNodeSlow(),r):"pluginData"===e?this.writePluginData(this.getPluginNodeSlow(),r):this.getPluginNodeSlow()[e]=r}writeTextRange(e,r,n,i,a){(null==a?void 0:a.isForceReconcile)?this.runtime.ignoreEditActionsScope(()=>{this.writeTextRangeInner(e,r,n,i)}):this.writeTextRangeInner(e,r,n,i)}writeTextRangeInner(e,r,n,i,a=!1){let o=this.getPluginNodeSlow();if(!o||"TEXT"!==o.type)throw Error("Can't write text range on non-text node");switch(e){case"fontName":o.setRangeFontName(n,i,r);break;case"fills":o.setRangeFills(n,i,r);break;case"fontSize":o.setRangeFontSize(n,i,r);break;case"hyperlink":o.setRangeHyperlink(n,i,r);break;case"textCase":o.setRangeTextCase(n,i,r);break;case"textDecoration":o.setRangeTextDecoration(n,i,r);break;case"letterSpacing":o.setRangeLetterSpacing(n,i,r);break;case"lineHeight":o.setRangeLineHeight(n,i,r);break;case"listOptions":o.setRangeListOptions(n,i,r);break;case"indentation":o.setRangeIndentation(n,i,r);break;default:(0,S.xb)(e)}}resize(e,r){let n=this.getPluginNodeSlow();null==n||n.resize(e,r)}getSize(){var e,r;return{width:(null==(e=this.getPluginNodeSlow())?void 0:e.width)??0,height:(null==(r=this.getPluginNodeSlow())?void 0:r.height)??0}}getFontName(){var e;return(null==(e=this.readShim())?void 0:e.fontName)||{family:"",style:""}}getType(){var e;return null==(e=this.readShim())?void 0:e.type}getID(){return this.readShim().guid}getImageFillHashOrNull(){var e;let r=(null==(e=this.readShim())?void 0:e.fills)??[];if(1!==r.length)return null;let n=nb(r[0]);return"IMAGE"!==n.type?null:n.imageHash??null}}var nO=n(5984),nR=n(75224),nP=n(37929),nL=n(33370);class nD{constructor(e){this.sceneGraph=e??rB.z.instance}localStyleToStyleKey(e){return{key:e.key,version:B.IA.INVALID}}fullscreenStyleDataToLocalStyle(e){return(0,rj.w8)(null,null,e,"",(0,nR.lt)(""))}get(e){let r=(0,rV.eX)(e);if(!r)return;let n=rP.glU.getStyleNodeId(r.key,r.version);if(n)return this.sceneGraph.get(n)}moveStyle(e,r,n){let i=nO.w.StyleType[e.styleType];if("number"!=typeof i)return"Unable to parse style type of target node";let a=rP.glU.getAllLocalStyles(i).map(this.fullscreenStyleDataToLocalStyle),o=(0,nL.lM)(a,n),s=(0,nL.l0)(o),l=(0,nP.In)(e.name),d=null,c=null,u=null,p=null,h=null,m=o;for(let n=0;n<s.length;n++){let i=s[n];"STYLE_FOLDER"===i.type?m=i:(i.node_id===e.guid&&(d=i,u=m),null!==r&&i.node_id===r.guid&&(c=i,h=n+1<s.length?s[n+1]:null))}if(u&&u.styles[0]&&(p=u.styles[0]),!d)return`No local target node found with style key: ${e.styleKey}`;let g=null,f=null;if(null===r)g=u,f=p;else{if(l!==(0,nP.In)(r.name))return"Target and reference node must live in the same folder.";if(!c)return`No local reference node found with style key: ${e.styleKey}`;g=c,f=h}return(0,nL.Md)(g,d,f,l)&&(0,nL.VB)([d],g,f,l,s,a,!1),""}moveFolder(e,r,n){let i,a,o;let s=nO.w.StyleType[n];if("number"!=typeof s)return`Unable to parse style type: ${n}`;let l=rP.glU.getAllLocalStyles(s).map(this.fullscreenStyleDataToLocalStyle),d=(0,nL.lM)(l,n),c=(0,nL.l0)(d),u=n=>{n.subfolders.forEach(s=>{s.name===e&&(i=s,o=n),s.name===r&&(a=s)}),n.subfolders.forEach(u)};if(u(d),!i||!o)return`The target folder named "${e}" could not be found`;if(null!==r&&!a)return`The reference folder named "${r}" could not be found`;if(a&&(0,nP.In)(a.name)!==(0,nP.In)(i.name))return"The target folder and the reference folder must live in the same parent folder";let p=(0,nL.l0)(o),h=null,m=o.styles.length?o.styles[o.styles.length-1]:o,g=o.subfolders[0],f=null;for(let e of p)if("STYLE_FOLDER"===e.type){if(f===a){h=e;break}f=e}let _=a?a.styles[a.styles.length-1]:m,y=a?h:g;return(0,nL.Md)(_,i,y,o.name)&&(0,nL.VB)([i],_,y,o.name,c,l,!0),""}createStyle(e){let r=nO.w.StyleType[e];if("number"!=typeof r)return null;let n=rP.glU.createStyle(r);return(0,rV.nM)(n)}softDeleteStyle(e){e.removeSelfAndChildren()}getAllLocalStyles(e){let r=nO.w.StyleType[e];if("number"!=typeof r)return[];let n=rP.glU.getAllLocalStyles(r).map(this.fullscreenStyleDataToLocalStyle),i=(0,nL.lM)(n,e),a=(0,nL.l0)(i),o=[];for(let e=0;e<a.length;e++){let r=a[e];if("STYLE_FOLDER"!==r.type){let e=this.localStyleToStyleKey(r);o.push(e)}}return o}}var nM=n(35321);n(63706),n(94687),n(94901);var nk=n(85334);function nx(e){var r;let n=e.openFile,i=n?n.teamId:null;return{teamId:i,orgId:e.currentUserOrgId,fileKey:n?n.key:null,userId:(null==(r=e.user)?void 0:r.id)||null}}n(84968),n(54905),nk.Ph,nk.T0,(0,eA.n)((e,r,n)=>(!!e||!!r)&&(!!(e?null==e?void 0:e.ai_features_disabled:null==r?void 0:r.ai_features_disabled)||n));var nF=n(28406),nU=n(7033),nB=n(96846),nV=n(58867);function nH(e){var r,n;if(!e)return null;if((0,nV.Pq)(e.toString())){let i=(null==(r=e.searchParams)?void 0:r.get("default"))||(null==(n=e.searchParams)?void 0:n.get("d"));i&&(e=new URL(i))}return e}var nG=n(27367);function nW(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){let r=[];return e.forEach(e=>{r.push(e)}),r.map(e=>nW(e))}if("object"==typeof e){let r={...e};return Object.keys(r).forEach(e=>{r[e]=nW(r[e])}),r}return e}var nz=n(91463);function nK(e){if("string"==typeof e){let r=function(e){e=e.trim();let r=(0,nG.di)(e);return r?r:(0,nG.mx)(e)||(e.match(/^#?[0-9a-f]{3,8}$/i)?(0,nG.tK)(e,!0,1):null)}(e);if(!r)throw Error(`failed to parse color: ${e}`);return r}return"a"in e?e:{r:e.r,g:e.g,b:e.b,a:1}}let nj=n_.By.oneOf([n_.By.string,nz.Q1,nz.h$]),nY=n_.By.exact({type:n_.By.oneOf(["SOLID"]).isOptional,color:nz.Q1.isOptional,opacity:n_.By.float.isOptional,visible:n_.By.bool.isOptional,blendMode:nz.Nx.isOptional,boundVariables:nz.Sr.isOptional}).isOptional,n$=/^(\d+:\d+)|(I(\d+:\d+;)*(\d+:\d+))|(T(\d+:\d+;+\d+:\d+;+\d+:\d+))$/,nq=[{nodeType:"RECTANGLE",createMethod:"createRectangle"},{nodeType:"CANVAS",createMethod:"createPage"},{nodeType:"SLICE",createMethod:"createSlice"},{nodeType:"FRAME",createMethod:"createFrame"},{nodeType:"SYMBOL",createMethod:"createComponent"},{nodeType:"BOOLEAN_OPERATION",createMethod:"createBooleanOperation"},{nodeType:"VECTOR",createMethod:"createVector"},{nodeType:"STAR",createMethod:"createStar"},{nodeType:"LINE",createMethod:"createLine"},{nodeType:"ELLIPSE",createMethod:"createEllipse"},{nodeType:"REGULAR_POLYGON",createMethod:"createPolygon"},{nodeType:"TEXT",createMethod:"createText"},{nodeType:"STICKY",createMethod:"createSticky"},{nodeType:"CONNECTOR",createMethod:"createConnector"},{nodeType:"SHAPE_WITH_TEXT",createMethod:"createShapeWithText"},{nodeType:"CODE_BLOCK",createMethod:"createCodeBlock"},{nodeType:"SECTION",createMethod:"createSection"},{nodeType:"TABLE",createMethod:"createTable"}],nZ=[{styleType:"FILL",createMethod:"createPaintStyle",getMethod:"getLocalPaintStyles",getMethodAsync:"getLocalPaintStylesAsync",moveMethod:"moveLocalPaintStyleAfter",moveFolderMethod:"moveLocalPaintFolderAfter"},{styleType:"TEXT",createMethod:"createTextStyle",getMethod:"getLocalTextStyles",getMethodAsync:"getLocalTextStylesAsync",moveMethod:"moveLocalTextStyleAfter",moveFolderMethod:"moveLocalTextFolderAfter"},{styleType:"GRID",createMethod:"createGridStyle",getMethod:"getLocalGridStyles",getMethodAsync:"getLocalGridStylesAsync",moveMethod:"moveLocalGridStyleAfter",moveFolderMethod:"moveLocalGridFolderAfter"},{styleType:"EFFECT",createMethod:"createEffectStyle",getMethod:"getLocalEffectStyles",getMethodAsync:"getLocalEffectStylesAsync",moveMethod:"moveLocalEffectStyleAfter",moveFolderMethod:"moveLocalEffectFolderAfter"}],nX="localWidgetCodeMD5";function nJ(){return["CANVAS","SYMBOL"]}function nQ(){return["CODE_BLOCK"]}var n0=n(67712);let n1=F.enum(["timerstart","timerstop","timerpause","timerresume","timerdone","timeradjust"]),n2=F.union([F.enum(["close","selectionchange","currentpagechange","drop","input","run","message","documentchange","stylechange","nodechange","textreview","codegen","generate","preferenceschange","linkpreview","auth","open"]),n1]);var n3=n(20441),n5=n(15859);class n4{numFrames(){return this._frames.length}loopCount(){return this.loop_count}frameInfo(e){if(e<0||e>=this._frames.length)throw Error("Frame index out of range.");return this._frames[e]}frameIsFullSized(e){return e.width===this.width&&e.height===this.height}blitFrame(e,r,n){let i;if(e===this.currentFrame)return r;if(this.frameNeedsBackfill(e)){if(!this.currentFrame||e<this.currentFrame)for(i=e-1;i>=0&&this.frameNeedsBackfill(i);)i--;else i=this.currentFrame}else i=e;let a=!1;if(0===i)a=!0;else{let e=this.frameInfo(i-1);2===e.disposal&&this.frameIsFullSized(e)&&(a=!0)}a&&(r.data.fill(0),n.putImageData(r,0,0));for(let a=i;a<=e;a++){if(a!==e){if(2===this.frameInfo(a).disposal){let e=this.frameInfo(a);n.clearRect(e.x,e.y,e.width,e.height),r=n.getImageData(0,0,this.width,this.height);continue}if(3===this.frameInfo(a).disposal){null===this._tmpBufForLastNonDisposedFrame&&((0,L.x1)("gif","Found null array for last non-disposed frame for GIF with disposal = 3"),this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),r.data.set(this._tmpBufForLastNonDisposedFrame),n.putImageData(r,0,0);continue}}this.decodeAndBlitFrameRGBA(a,r.data),n.putImageData(r,0,0),this._needsLastNonDisposedFrame&&(0===a||this.frameInfo(a).disposal<2)&&this._tmpIdxForNonDisposedFrame!==a&&(null===this._tmpBufForLastNonDisposedFrame&&((0,L.x1)("gif","Found null array for last non-disposed frame for GIF with disposal = 3"),this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),0===a&&this.frameInfo(a).disposal>=2?this._tmpBufForLastNonDisposedFrame.fill(0):this._tmpBufForLastNonDisposedFrame.set(r.data),this._tmpIdxForNonDisposedFrame=a)}return this.currentFrame=e,r}frameNeedsBackfill(e){if(0===e)return!1;let r=this.frameInfo(e);if(null===r.transparent_index&&this.frameIsFullSized(r))return!1;let n=this.frameInfo(e-1);return!this.frameIsFullSized(n)||2!==n.disposal}constructor(e){this.currentFrame=null,this.buf=e;var r=0;if(71!==e[r++]||73!==e[r++]||70!==e[r++]||56!==e[r++]||(e[r++]+1&253)!=56||97!==e[r++])throw Error("Invalid GIF 87a/89a header.");this.width=e[r++]|e[r++]<<8,this.height=e[r++]|e[r++]<<8;var n=e[r++],i=1<<(7&n)+1;r+=2;var a=null,o=null;n>>7&&(a=r,o=i,r+=3*i);var s=!0;this._frames=[],this._needsLastNonDisposedFrame=!1,this._tmpIdxForNonDisposedFrame=-1;for(var l=0,d=null,c=0;s&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(11!==e[r]||78===e[r+1]&&69===e[r+2]&&84===e[r+3]&&83===e[r+4]&&67===e[r+5]&&65===e[r+6]&&80===e[r+7]&&69===e[r+8]&&50===e[r+9]&&46===e[r+10]&&48===e[r+11]&&3===e[r+12]&&1===e[r+13]&&0===e[r+16])r+=14,this.loop_count=e[r++]|e[r++]<<8,r++;else for(r+=12;;){var u=e[r++];if(!(u>=0))throw Error("Invalid block size");if(0===u)break;r+=u}break;case 249:if(4!==e[r++]||0!==e[r+4])throw Error("Invalid graphics extension block.");var p=e[r++];l=e[r++]|e[r++]<<8,d=e[r++],(1&p)==0&&(d=null),c=p>>2&7,this._needsLastNonDisposedFrame||3!==c||(this._needsLastNonDisposedFrame=!0,this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),r++;break;case 254:case 1:for(;;){var h=e[r++];if(!(h>=0))throw Error("Invalid block size");if(0===h)break;r+=h}break;default:throw Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var m=e[r++]|e[r++]<<8,g=e[r++]|e[r++]<<8,f=e[r++]|e[r++]<<8,_=e[r++]|e[r++]<<8,y=e[r++],E=y>>7,b=y>>6&1,v=1<<(7&y)+1,S=a,I=o,T=!1;E&&(T=!0,S=r,I=v,r+=3*v);var w=r,C=!1;for(r++;;){var A=e[r++];if(void 0===A){C=!0;break}if(!(A>=0))throw Error("Invalid block size");if(0===A)break;r+=A}C||this._frames.push({x:m,y:g,width:f,height:_,has_local_palette:T,palette_offset:S,palette_size:I,data_offset:w,data_length:r-w,transparent_index:d,interlaced:!!b,delay:l,disposal:c});break;case 59:s=!1;break;default:throw Error("Unknown gif block: 0x"+e[r-1].toString(16))}}decodeAndBlitFrameRGBA(e,r){var n=this.frameInfo(e),i=n.width*n.height,a=new Uint8Array(i);this.GifReaderLZWOutputIndexStream(n.data_offset,a,i);var o=n.palette_offset,s=n.transparent_index;null===s&&(s=256);var l=n.width,d=this.width-l,c=l,u=(n.y*this.width+n.x)*4,p=((n.y+n.height)*this.width-(this.width-n.width-n.x))*4,h=u,m=4*d;!0===n.interlaced&&(m+=28*this.width);for(var g=8,f=0,_=a.length;f<_;++f){var y=a[f];if(0===c&&(h+=m,c=l,h>=p&&(m=4*d+4*this.width*(g-1),h=u+(l+d)*(g<<1),g>>=1)),y===s)h+=4;else{var E=this.buf[o+3*y],b=this.buf[o+3*y+1],v=this.buf[o+3*y+2];r[h++]=E,r[h++]=b,r[h++]=v,r[h++]=255}--c}}GifReaderLZWOutputIndexStream(e,r,n){for(var i=this.buf[e++],a=1<<i,o=a+1,s=o+1,l=i+1,d=(1<<l)-1,c=0,u=0,p=0,h=this.buf[e++],m=new Int32Array(4096),g=null;;){for(;c<16&&0!==h;)u|=this.buf[e++]<<c,c+=8,1===h?h=this.buf[e++]:--h;if(c<l)break;var f=u&d;if(u>>=l,c-=l,f===a){s=o+1,d=(1<<(l=i+1))-1,g=null;continue}if(f===o)break;for(var _=f<s?f:g,y=0,E=_;E>a;)E=m[E]>>8,++y;var b=E;if(p+y+(_!==f?1:0)>n){console.warn("Warning, gif stream longer than expected.");return}r[p++]=b;var v=p+=y;for(_!==f&&(r[p++]=b),E=_;y--;)E=m[E],r[--v]=255&E,E>>=8;null!==g&&s<4096&&(m[s++]=g<<8|b,s>=d+1&&l<12&&(++l,d=d<<1|1)),g=f}return p!==n&&console.warn("Warning, gif stream shorter than expected."),r}}var n6=n(94429);class n8{constructor(){this.hashToPrivateImage=new Map,this.tearDown=()=>{this.hashToPrivateImage=new Map}}internalBytesForImage(e){return this.getPrivateImageOrThrow(e).bytes}async bytesFromImage(e){let r=this.getPrivateImageOrThrow(e);if(null==r.bytes)try{r.bytes=rP.NfO.getImageBytes(e)}catch(n){await (0,n5.Jr)().loadImageByHash(e),r.bytes=rP.NfO.getImageBytes(e)}return new Uint8Array(r.bytes)}getPrivateImageOrThrow(e){let r=this.hashToPrivateImage.get(e);if(void 0===r)throw Error("SHA1 hash does not correspond to an existing image");return r}getOrCreatePrivateImage(e,r){let n=this.hashToPrivateImage.get(e);return void 0===n&&(n={sha1:e,animated:r,bytes:null,coverBytes:null,getBytesAsync:()=>this.bytesFromImage(e)}),this.hashToPrivateImage.set(e,n),n}getImageFromSHA1(e){let r=this.hashToPrivateImage.get(e);if(void 0!==r)return r;let n=rP.NfO.getAnimatedImageInfo(e);return n.status===rP.NFK.UNLOADED?null:this.getOrCreatePrivateImage(e,n)}createImage(e){let r=new Uint8Array(e);rP.NfO.isImageValid(r);let n=(0,np.Et)(r),i=this.getOrCreatePrivateImage(n,{status:rP.NFK.UNLOADED,coverFrameHash:""});if(i.bytes=r,(0,n6.fB)(r)){let e=function(e){let r=function(e){try{return new n4(e)}catch(e){return console.warn(`Failure in parsing GIF: ${e}`),null}}(e);if(r){let e=document.createElement("canvas");e.width=r.width,e.height=r.height;let n=e.getContext("2d");if(n){let i=new ImageData(r.width,r.height);r.blitFrame(0,i,n);let a=e.toDataURL().split(",");if("data:image/png;base64"===a[0])return(0,I.D4)(a[1])}}return null}(r);null!=e?(i.coverBytes=e,i.animated.status=rP.NFK.ANIMATED,i.animated.coverFrameHash=(0,np.Et)(e)):(0,L.$D)(D.e.EXTENSIBILITY,Error("Got unparseable animated gif"))}return i}}var n7=n(83452),n9=n(63668);let ie=e=>Promise.resolve({code:[],error:Error("Not implemented")});async function it(e){return await ie(e)}var ir=n(40783),ii=n(9225),ia=n(96328),io=n(43282),is=n(82698),il=n(73226);let id=F.object({id:F.string(),node_id:F.string(),file_key:F.string(),link_name:F.string(),link_url:F.string(),is_user_override:F.boolean(),link_preview_json:F.any()}),ic=F.object({meta:F.array(id)});async function iu({fileKey:e,nodeId:r,includeInheritedLinks:n}){let i=(await rM.S.getRelatedLinks({nodeId:r,fileKey:e})).data,a=ic.safeParse(i);if(!a.success)throw Error("Invalid response from server");let o=a.data.meta.map(e=>({id:e.id,nodeId:e.node_id,linkName:e.link_name,linkUrl:e.link_url,fileKey:e.file_key,isUserOverride:!!e.is_user_override,linkPreviewJson:e.link_preview_json}));if(!n)return o;let s=A.D.getState().mirror.sceneGraph,l=(0,il.k4)([r],s),d=(0,il.Yi)([r],s),c=await ip(e,l),u=await ip(e,d);return[...o,...c.map(e=>({...e,nodeId:r,mainComponentId:l})),...u.map(e=>({...e,nodeId:r,mainComponentId:d}))]}async function ip(e,r){let n=A.D.getState().mirror.sceneGraph;if(!r)return[];let i=n.get(r);if(!i)return[];let{publishID:a}=i,o=V.fn(V.sH(a));return await iu({fileKey:(0,rj.yW)(i)??e,nodeId:o?a??"":r,includeInheritedLinks:!1})}async function ih(e){var r;let n=new Set([e]),i=new Map,a=new Map,o=A.D.getState().mirror.sceneGraph,s=(r,s)=>{if(!s)return;let l=o.get(s);if(!l)return;let{publishID:d,guid:c}=l,u=(0,rj.yW)(l);if(!u||!d||!V.fn(V.sH(d))||u===e){i.set(c,r),a.set(c,s);return}i.set(d,r),a.set(d,s),n.add(u)},l=null==(r=o.get("0:0"))?void 0:r.findAllWithCriteria({types:["INSTANCE"]}).map(([e])=>e);l&&l.length>0&&l.forEach(e=>{let r=o.get(e);if(!r||"INSTANCE"!==r.type)return;s(e,r.symbolId);let n=(0,il.Yi)([e],o);s(e,n)});let d=await x.Ay.post("/api/files/related_links",{file_keys:Array.from(n.values())}),c=[];return d.data.meta.forEach(r=>{let n=e===r.file_key&&!!o.get(o.guidFromDeveloperFriendlyId(r.node_id)),s={id:r.id,linkName:r.link_name,linkUrl:r.link_url,fileKey:r.file_key,isUserOverride:!!r.is_user_override,linkPreviewJson:r.link_preview_json};n&&c.push({...s,nodeId:r.node_id,mainComponentId:void 0}),i.has(r.node_id)&&c.push({...s,nodeId:i.get(r.node_id),mainComponentId:a.get(r.node_id)})}),c}async function im({fileKey:e,nodeId:r,url:n,name:i,nodeType:a,pluginId:o,source:s}){if((await iu({fileKey:e??"",nodeId:r??""})).find(e=>e.linkUrl===n))throw Error(`Link already exists on node ${r} with url ${n}`);return i_({fileKey:e,nodeId:r,url:n,name:i,nodeType:a,pluginId:o,source:s})}async function ig(e){var r;let n;try{let i=await is.E.getLinkMetadata({text:e}),a=null==(r=null==i?void 0:i.data)?void 0:r.meta;(null==a?void 0:a.title)&&(n=decodeURIComponent(null==a?void 0:a.title))}catch(e){}finally{if(!n){let r=(0,ir.Gw)(e);n=r?(0,ia.Zr)(r):"N/A"}}return n}async function i_({url:e,nodeId:r,fileKey:n,name:i,onPost:a,nodeType:o,pluginId:s,source:l}){var d;let c="";if(i)c=i;else{let r=(0,ir.FB)(e);if((null==r?void 0:r.toLowerCase())==="github.com")c="Github";else if((null==r?void 0:r.toLowerCase())==="jira.com"||(null==r?void 0:r.toLowerCase())==="atlassian.net"){c="Jira";let r=function(e){for(let r of iI){let n=e.match(r);if(null==n?void 0:n[1])return n[1]}return null}(e);r&&(c=`Issue ${r}`)}else c=await ig(e)}let u={node_id:r??"",link_name:c,link_url:e},p=x.Ay.post(`/api/files/${n}/related_links`,u);return a&&a(),null==(d=(0,ii.WB)())||d.deprecatedOptimisticallyCreateByView(ea.jJU,{DeveloperRelatedLink:{[`optimistic-link-${(0,io.g)()}`]:{nodeId:r??"",fileKey:n??"",linkName:c,linkUrl:e,isUserOverride:!1,linkPreviewJson:null}}},p),p.then(e=>((0,e9.ds)("Dev Handoff Related Links Added New Link Success",n,A.D.getState(),{nodeId:r,nodeType:o,source:l,pluginId:s}),e))}async function iy({fileKey:e,nodeId:r,currentUrl:n,newValue:i,nodeType:a,pluginId:o,source:s}){let l=(await iu({fileKey:e,nodeId:r})).find(e=>e.linkUrl===n);return l||iS({nodeId:r,url:n}),function({fileKey:e,nodeId:r,linkId:n,name:i,url:a,isUserOverride:o,clearLinkPreview:s,nodeType:l,pluginId:d,source:c}){var u;let p={node_id:r,link_id:n,new_link_name:i,new_link_url:a};void 0!==o&&(p.is_user_override=o),s&&(p.link_preview_json=null);let h=x.Ay.put(`/api/files/${e}/related_links`,p);return null==(u=(0,ii.WB)())||u.deprecatedOptimisticallyUpdateByView(ea.jJU,{DeveloperRelatedLink:{[n]:{linkName:i,linkUrl:a,isUserOverride:o,linkPreviewJson:s?"":void 0}}},h),h.then(n=>((0,e9.ds)("Dev Handoff Related Links Edit Link Success",e,A.D.getState(),{nodeId:r,nodeType:l,source:c,pluginId:d}),n))}({fileKey:e,nodeId:r,linkId:l.id,name:i.name||l.linkName,url:i.url||l.linkUrl,isUserOverride:!1,clearLinkPreview:!0,nodeType:a,pluginId:o,source:s})}async function iE({fileKey:e,nodeId:r,url:n,nodeType:i,pluginId:a,source:o}){let s=(await iu({fileKey:e,nodeId:r})).find(e=>e.linkUrl===n);return s||iS({nodeId:r,url:n}),function({fileKey:e,nodeId:r,linkId:n,nodeType:i,pluginId:a,source:o}){var s;let l=x.Ay.del(`/api/files/${e}/related_links`,{node_id:r,link_id:n});return null==(s=(0,ii.WB)())||s.deprecatedOptimisticallyDeleteByView(ea.jJU,{DeveloperRelatedLink:{[n]:null}},l),l.then(n=>((0,e9.ds)("Dev Handoff Related Links Delete Link Success",e,A.D.getState(),{nodeId:r,nodeType:i,source:o,pluginId:a}),n))}({fileKey:e,nodeId:r,linkId:s.id,nodeType:i,pluginId:a,source:o})}async function ib({fileKey:e,nodeId:r,url:n,linkPreviewJson:i}){let a=(await iu({fileKey:e,nodeId:r})).find(e=>e.linkUrl===n);return a||iS({nodeId:r,url:n}),iv({link:a,linkPreviewJson:i})}async function iv({link:e,linkPreviewJson:r}){var n;try{let i=x.Ay.put(`/api/files/${e.fileKey}/related_links/link_preview`,{node_id:e.nodeId,link_id:e.id,link_preview_json:r});null==(n=(0,ii.WB)())||n.deprecatedOptimisticallyUpdateByView(ea.jJU,{DeveloperRelatedLink:{[e.id]:{linkPreviewJson:JSON.stringify(r)}}},i),await i}catch(n){(0,L.$D)(D.e.DEVELOPER_TOOLS,n,{extra:{link:e,linkPreviewJson:r}})}}function iS({nodeId:e,url:r}){throw Error(`url ${r} and nodeId ${e} not found`)}F.object({node_id:F.string(),link_name:F.string(),link_url:F.string()}),F.object({meta:id});let iI=[/\/browse\/([A-Z]+-\d+)/,/selectedIssue=([A-Z]+-\d+)/,/issues\/([A-Z]+-\d+)/];var iT=n(59927);n(94272),n(82976);var iw=n(67249);(0,iw.N)("PUBLIC_USER_PUT_MANY_EMPTY_IDS"),(0,iw.N)("PUBLIC_USER_PUT_MANY");let iC=(0,iw.N)("PUBLIC_USER_PUT");n(36599);var iA=n(16056);new class{constructor(){this.BatchedSchemaValidator=(0,eu.vh)()}getBatched(e){return this.BatchedSchemaValidator.validate(async({xr:r})=>await r.get("/api/users/batched",eu.td.toAPIParameters({userIds:e.userIds.join(",")})))}};let iN=e=>r=>e&&r.publicUsers.byId[e]||null,iO=e=>r=>{let n=r.multiplayer.allUsers.find(r=>r.userID===e);return n?iM(n):null},iR=e=>r=>{let n=r.user,i=iO(e)(r);return n&&n.id===e?n:i||null},iP=e=>r=>{let n=iR(e)(r),i=iN(e)(r);return n||i||null},iL=e=>iA.k.getUser({userId:e}).then(e=>e.data.meta).catch(e=>{throw(0,M.Lg)()||console.warn("Failed to get public user"),e}),iD=e=>e.startsWith("VISITOR-"),iM=e=>({id:e.userID,name:e.name,handle:e.name,img_url:e.imageURL});async function ik({state:e,dispatch:r,userId:n}){let i=iP(n)(e);if(i)return i;if(iD(n))return null;let a=e.user,o=iD(n);if(!(!i&&!o&&a))return null;let s=await iL(n);return r(iC({user:s})),s}var ix=n(49116),iF=n(41860);function iU(e,r){return{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y)}}function iB(e,r){return{x:e.x+r.x,y:e.y+r.y}}function iV(e,r){return{x:Math.max(e.x,r.x),y:Math.max(e.y,r.y)}}function iH(e,r){let n=iU(e,r),i=iV(e,r);return{x:n.x,y:n.y,width:i.x-n.x,height:i.y-n.y}}function iG(e,r){return r.x>=e.x&&r.x<=e.x+e.width&&r.y>=e.y&&r.y<=e.y+e.height}function iW(e){return e.width<0||e.height<0||!isFinite(e.x)||!isFinite(e.y)||!isFinite(e.width)||!isFinite(e.height)}function iz(e,r){if(iW(e))return r;if(iW(r))return e;let n=iU({x:e.x,y:e.y},{x:r.x,y:r.y}),i=iV({x:e.x+e.width,y:e.y+e.height},{x:r.x+r.width,y:r.y+r.height});return{x:n.x,y:n.y,width:i.x-n.x,height:i.y-n.y}}var iK=n(26698),ij=n(31664);let iY=new Map([["toString",rP.JTp.STRINGIFY]].map(e=>e.reverse())),i$=[];function iq(e,r,...n){i$.push({returnType:e,expressionFunction:r,argumentTypes:n})}iq(rP.rXF.BOOLEAN,rP.JTp.OR,rP.rXF.BOOLEAN,rP.rXF.BOOLEAN),iq(rP.rXF.BOOLEAN,rP.JTp.AND,rP.rXF.BOOLEAN,rP.rXF.BOOLEAN),iq(rP.rXF.BOOLEAN,rP.JTp.NOT,rP.rXF.BOOLEAN),iq(rP.rXF.BOOLEAN,rP.JTp.EQUALS,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.NOT_EQUAL,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.EQUALS,rP.rXF.BOOLEAN,rP.rXF.BOOLEAN),iq(rP.rXF.BOOLEAN,rP.JTp.NOT_EQUAL,rP.rXF.BOOLEAN,rP.rXF.BOOLEAN),iq(rP.rXF.BOOLEAN,rP.JTp.EQUALS,rP.rXF.STRING,rP.rXF.STRING),iq(rP.rXF.BOOLEAN,rP.JTp.EQUALS,rP.rXF.TEXT_DATA,rP.rXF.TEXT_DATA),iq(rP.rXF.BOOLEAN,rP.JTp.EQUALS,rP.rXF.STRING,rP.rXF.TEXT_DATA),iq(rP.rXF.BOOLEAN,rP.JTp.EQUALS,rP.rXF.TEXT_DATA,rP.rXF.STRING),iq(rP.rXF.BOOLEAN,rP.JTp.NOT_EQUAL,rP.rXF.STRING,rP.rXF.TEXT_DATA),iq(rP.rXF.BOOLEAN,rP.JTp.NOT_EQUAL,rP.rXF.TEXT_DATA,rP.rXF.STRING),iq(rP.rXF.BOOLEAN,rP.JTp.NOT_EQUAL,rP.rXF.STRING,rP.rXF.STRING),iq(rP.rXF.BOOLEAN,rP.JTp.LESS_THAN,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.LESS_THAN_OR_EQUAL,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.GREATER_THAN,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.GREATER_THAN_OR_EQUAL,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.STRING,rP.JTp.STRINGIFY,rP.rXF.FLOAT),iq(rP.rXF.FLOAT,rP.JTp.ADDITION,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.FLOAT,rP.JTp.SUBTRACTION,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.FLOAT,rP.JTp.MULTIPLY,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.FLOAT,rP.JTp.DIVIDE,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.FLOAT,rP.JTp.TERNARY,rP.rXF.BOOLEAN,rP.rXF.FLOAT,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.TERNARY,rP.rXF.BOOLEAN,rP.rXF.BOOLEAN,rP.rXF.BOOLEAN),iq(rP.rXF.STRING,rP.JTp.TERNARY,rP.rXF.BOOLEAN,rP.rXF.STRING,rP.rXF.STRING),iq(rP.rXF.COLOR,rP.JTp.TERNARY,rP.rXF.BOOLEAN,rP.rXF.COLOR,rP.rXF.COLOR),iq(rP.rXF.SYMBOL_ID,rP.JTp.RESOLVE_VARIANT,rP.rXF.MAP),iq(rP.rXF.STRING,rP.JTp.STRINGIFY,rP.rXF.BOOLEAN),iq(rP.rXF.STRING,rP.JTp.STRINGIFY,rP.rXF.STRING),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.STRING,rP.rXF.STRING),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.FLOAT,rP.rXF.STRING),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.STRING,rP.rXF.FLOAT),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.TEXT_DATA,rP.rXF.TEXT_DATA),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.TEXT_DATA,rP.rXF.STRING),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.STRING,rP.rXF.TEXT_DATA),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.BOOLEAN,rP.rXF.STRING),iq(rP.rXF.STRING,rP.JTp.ADDITION,rP.rXF.STRING,rP.rXF.BOOLEAN),iq(rP.rXF.FLOAT,rP.JTp.VAR_MODE_LOOKUP,rP.rXF.FLOAT,rP.rXF.STRING),iq(rP.rXF.BOOLEAN,rP.JTp.VAR_MODE_LOOKUP,rP.rXF.BOOLEAN,rP.rXF.STRING),iq(rP.rXF.STRING,rP.JTp.VAR_MODE_LOOKUP,rP.rXF.STRING,rP.rXF.STRING),iq(rP.rXF.FLOAT,rP.JTp.NEGATE,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.IS_TRUTHY,rP.rXF.FLOAT),iq(rP.rXF.BOOLEAN,rP.JTp.IS_TRUTHY,rP.rXF.BOOLEAN),iq(rP.rXF.BOOLEAN,rP.JTp.IS_TRUTHY,rP.rXF.STRING);let iZ=rB.z.instance;function iX(e){return null!=e}function iJ(e){var r=[];for(let i of e){var n={};if(i.actions){if(i.actions.length>1&&!(0,iK.s6)())throw Error("You cannot create multiple actions on Reactions with your current plan.");i.actions.length<1?n.actions=[{connectionType:"NONE"}]:n.actions=i.actions.map(function e(r){if(!r)return{connectionType:"NONE"};var n,i={};switch(r.type){case"BACK":case"CLOSE":return{connectionType:r.type};case"URL":return{connectionType:"URL",connectionURL:r.url||""};case"UPDATE_MEDIA_RUNTIME":{let e=V.sH(r.destinationId)??void 0,n=0,i=0;switch(r.mediaAction){case"SKIP_FORWARD":case"SKIP_BACKWARD":n=r.amountToSkip;break;case"SKIP_TO":i=r.newTimestamp}return{connectionType:"UPDATE_MEDIA_RUNTIME",transitionNodeID:e,mediaAction:r.mediaAction,mediaSkipByAmount:n,mediaSkipToTime:i}}case"SET_VARIABLE":if(!(0,iK.s6)())throw Error("You cannot use Set Variable actions in Reactions with your current plan.");var a=void 0,o=void 0;if(r.variableId){let e=nm.sH(r.variableId);if(null===e)throw Error(`variableId has an invalid format. Expected a format of VariableID:X:X but got ${r.variableId}`);a=null!==e?e:void 0;let n=rP.CWU.getLocalVariableInfo(r.variableId)??rP.CWU.getSubscribedVariableInfo(r.variableId);o=null==n?void 0:n.resolvedType}var s=void 0;void 0!==o&&(s=function(e){switch(e){case rP.rXF.BOOLEAN:return"BOOLEAN";case rP.rXF.FLOAT:return"FLOAT";case rP.rXF.STRING:return"STRING";case rP.rXF.COLOR:return"COLOR";case rP.rXF.MAP:return"MAP";case rP.rXF.SYMBOL_ID:return"SYMBOL_ID";default:throw Error(`Unsupported resolved data type: ${e}`)}}(o));var l={};if(r.variableValue&&s!==(l=i0(r.variableValue)).resolvedDataType)throw Error(`Variable resolved data type mismatch. Expected ${s} but got ${l.resolvedDataType}`);return{connectionType:"SET_VARIABLE",targetVariable:{id:a},targetVariableData:l};case"SET_VARIABLE_MODE":if(!(0,O.kc)().prototype_set_mode_action)throw Error("This action isn't supported.");if(!(0,iK.s6)())throw Error("You cannot use Set Variable Mode actions in Reactions with your current plan.");if(r.variableCollectionId&&!r.variableModeId||!r.variableCollectionId&&r.variableModeId)throw Error("You must provide both collection and mode IDs, or make an empty Set Variable Mode action.");var d=void 0;if(r.variableCollectionId){var c=U.gr.fromString(r.variableCollectionId);if(null===c)throw Error("variableCollectionId has an invalid format.");d=U.gr.toKiwi(c)}var u=void 0;if(r.variableModeId){var p=V.sH(r.variableModeId);if(null===p)throw Error("variableModeId has an invalid format.");u=p}if(r.variableCollectionId&&r.variableModeId&&!rP.CWU.isVariableSetIdAndModeIdValidForSetMode(r.variableCollectionId,r.variableModeId))throw Error("Your collection or mode is not valid.");return{connectionType:"SET_VARIABLE_MODE",targetVariableSetID:d,targetVariableModeID:u};case"CONDITIONAL":if(!(0,iK.s6)())throw Error("You cannot use Conditional actions in Reactions with your current plan.");var h=[];if(r.conditionalBlocks)for(let n=0;n<r.conditionalBlocks.length;n++){if(1===n)r.conditionalBlocks[n].condition=void 0;else if(n>1)break;let i=function(r){var n={};if(void 0!==r.condition&&null!==r.condition){if(n.condition=i0(r.condition),"BOOLEAN"!==n.condition.resolvedDataType)throw Error(`Invalid resolved data type provided for Conditional action. You must provide a boolean: ${JSON.stringify(r.condition.resolvedType)}`);if(void 0!==n.condition.value&&n.condition.value.expressionValue){let e=n.condition.value.expressionValue;if(e.expressionArguments&&function(e,r){let n=r.map(e=>e.resolvedType),i=i$.find(r=>r.expressionFunction===e&&(0,ij.c2)(r.argumentTypes,n));if(!i)throw Error("Invalid expression function or arguments provided - check the number and type of arguments in order to find a correct expression function signature. "+(iY.get(e)??"Unknown expression function"));return i.returnType}(i3(e.expressionFunction),function e(r){var n,i,a,o,s=[];for(let d of r){let{dataType:r,resolvedDataType:c,value:u}=d;if(r&&c)switch(r){case"STRING":if((null==u?void 0:u.textValue)!==void 0){var l={type:rP.Z_n.STRING,resolvedType:rP.rXF.STRING,value:null==u?void 0:u.textValue};s.push(l)}break;case"BOOLEAN":if((null==u?void 0:u.boolValue)!==void 0){var l={type:rP.Z_n.BOOLEAN,resolvedType:rP.rXF.BOOLEAN,value:null==u?void 0:u.boolValue};s.push(l)}break;case"FLOAT":if((null==u?void 0:u.floatValue)!==void 0){var l={type:rP.Z_n.FLOAT,resolvedType:rP.rXF.FLOAT,value:null==u?void 0:u.floatValue};s.push(l)}break;case"COLOR":if((null==u?void 0:u.colorValue)!==void 0){var l={type:rP.Z_n.COLOR,resolvedType:rP.rXF.COLOR,value:null==u?void 0:u.colorValue};s.push(l)}break;case"ALIAS":if((null==u?void 0:u.alias)!==void 0){var l={type:rP.Z_n.ALIAS,resolvedType:i2(c),value:nm.dI(null==u?void 0:u.alias)};s.push(l)}break;case"EXPRESSION":var l={type:rP.Z_n.EXPRESSION,resolvedType:i2(c),value:{expressionFunction:i3(null==(n=null==u?void 0:u.expressionValue)?void 0:n.expressionFunction),expressionArguments:e((null==(i=null==u?void 0:u.expressionValue)?void 0:i.expressionArguments)||[])}};s.push(l);break;case"MAP":let p={};null==(o=null==(a=null==u?void 0:u.mapValue)?void 0:a.values)||o.forEach(r=>{void 0!==r.value&&(p[r.key||""]=e([r.value])[0])});var l={type:rP.Z_n.MAP,resolvedType:rP.rXF.MAP,value:p};s.push(l);break;case"SYMBOL_ID":if((null==u?void 0:u.symbolIdValue)!==void 0){var l={type:rP.Z_n.SYMBOL_ID,resolvedType:rP.rXF.SYMBOL_ID,value:null==u?void 0:u.symbolIdValue.toString()};s.push(l)}break;default:throw Error(`We do not support this variable data type: ${r}`)}}return s}(e.expressionArguments))!==rP.rXF.BOOLEAN)throw Error("Invalid condition resolved type provided for Conditional action. You must provide a condition that evaluates to a boolean.")}}var i=[];if(void 0!==r.actions){for(let n of r.actions){let r=e(n);null!==r&&i.push(r)}n.actions=i}return n}(r.conditionalBlocks[n]);h.push(i)}return{connectionType:"CONDITIONAL",conditionalActions:h};case"NODE":if(i.connectionType="INTERNAL_NODE","NODE"===r.type){if(r.destinationId){let e=V.sH(r.destinationId);if(e)i.transitionNodeID=e;else throw Error("The provided action's destinationId was invalid")}let e=r.navigation;if(r.destinationId){if("OVERLAY"===e&&(null==(n=iZ.get(r.destinationId||""))?void 0:n.overlayPositionType)==="MANUAL")i.overlayRelativePosition=r.overlayRelativePosition;else if(r.overlayRelativePosition)throw Error('Actions only support overlayRelativePosition when navigation is "OVERLAY" and the destination is a frame with overlayPosition equal to "MANUAL"')}switch(e){case"NAVIGATE":case"SWAP":case"OVERLAY":case"SCROLL_TO":i.navigationType=e;break;case"CHANGE_TO":i.navigationType="SWAP_STATE"}r.transition?function(e,r){var n=!0;switch(e.type){case"DISSOLVE":case"SMART_ANIMATE":case"SCROLL_ANIMATE":r.transitionType=e.type;break;default:var i=null;switch(e.type){case"SLIDE_IN":i="SLIDE_FROM_";break;case"SLIDE_OUT":i="SLIDE_OUT_TO_";break;case"PUSH":i="PUSH_FROM_";break;case"MOVE_IN":i="MOVE_FROM_";break;case"MOVE_OUT":i="MOVE_OUT_TO_";break;default:n=!1}if(n&&i){let a=function(e){switch(e){case"RIGHT":return"LEFT";case"LEFT":return"RIGHT";case"BOTTOM":return"TOP";case"TOP":return"BOTTOM";default:return n=!1,null}}(e.direction||"");i=a?i+a:null,r.transitionType=i||void 0}if(r.transitionShouldSmartAnimate=e.matchLayers,!n)return T.k.warn("Reaction contains a Transition type that the plugin API does not support"),null}switch(e.easing.type){case"EASE_IN":r.easingType="IN_CUBIC";break;case"EASE_OUT":r.easingType="OUT_CUBIC";break;case"EASE_IN_AND_OUT":r.easingType="INOUT_CUBIC";break;case"LINEAR":r.easingType="LINEAR";break;case"EASE_IN_BACK":r.easingType="IN_BACK_CUBIC";break;case"EASE_OUT_BACK":r.easingType="OUT_BACK_CUBIC";break;case"EASE_IN_AND_OUT_BACK":r.easingType="INOUT_BACK_CUBIC";break;case"CUSTOM_CUBIC_BEZIER":r.easingType="CUSTOM_CUBIC";break;case"GENTLE":r.easingType="GENTLE_SPRING";break;case"QUICK":r.easingType="SPRING_PRESET_ONE";break;case"BOUNCY":r.easingType="SPRING_PRESET_TWO";break;case"SLOW":r.easingType="SPRING_PRESET_THREE";break;case"CUSTOM_SPRING":r.easingType="CUSTOM_SPRING"}let a=e.easing.easingFunctionCubicBezier,o=e.easing.easingFunctionSpring;if("CUSTOM_CUBIC_BEZIER"===e.easing.type&&a)r.easingFunction=[Math.min(Math.max(a.x1,0),1),a.y1,Math.min(Math.max(a.x2,0),1),a.y2];else if("CUSTOM_SPRING"===e.easing.type&&o)r.easingFunction=[Math.min(Math.max(o.mass,0),1e3),Math.min(Math.max(o.stiffness,0),1e4),Math.min(Math.max(o.damping,0),1e3)];else if(a)throw Error("Custom easing function only supported for CUSTOM_CUBIC_BEZIER easing type");else if(o)throw Error("Custom spring easing function only supported for CUSTOM_SPRING easing type");r.transitionDuration=e.duration}(r.transition,i):i.transitionType="INSTANT_TRANSITION",void 0!==r.resetVideoPosition&&(i.transitionResetVideoPosition=r.resetVideoPosition);let a=void 0!==r.preserveScrollPosition;void 0!==r.resetScrollPosition?i.transitionResetScrollPosition=r.resetScrollPosition:a&&(i.transitionResetScrollPosition=!r.preserveScrollPosition),void 0!==r.resetInteractiveComponents&&(i.transitionResetInteractiveComponents=r.resetInteractiveComponents)}}return i}).filter(iX)}else if(i.action)throw Error("Please update the `actions` field instead of the `action` field in order to prevent data loss.");else throw Error("Please provide actions for the Reaction.");n.event=function(e){var r={};if(null===e)return{interactionType:"NONE"};switch(e.type){case"ON_CLICK":case"ON_HOVER":case"ON_PRESS":case"ON_MEDIA_END":r.interactionType=e.type;break;case"ON_DRAG":r.interactionType="DRAG";break;case"AFTER_TIMEOUT":r.interactionType=e.type,r.transitionTimeout=e.timeout;break;case"MOUSE_ENTER":case"MOUSE_LEAVE":case"MOUSE_UP":case"MOUSE_DOWN":"MOUSE_ENTER"===e.type?r.interactionType="MOUSE_IN":"MOUSE_LEAVE"===e.type?r.interactionType="MOUSE_OUT":"MOUSE_UP"===e.type?r.interactionType="MOUSE_UP":"MOUSE_DOWN"===e.type&&(r.interactionType="MOUSE_DOWN"),r.interactionMaintained=0!==e.delay,r.interactionDuration=e.delay;break;case"ON_KEY_DOWN":r.interactionType=e.type,r.keyTrigger={triggerDevice:e.device,keyCodes:e.keyCodes};break;case"ON_MEDIA_HIT":r.interactionType=e.type,r.mediaHitTime=e.mediaHitTime}return r}(i.trigger),n.id=V.sH(rP.glU.generateUniqueID())||void 0,n.stateManagementVersion=1,r.push(n)}return r}function iQ(e){var r,n,i;switch(e.connectionType||"NONE"){case"NONE":return null;case"BACK":return{type:"BACK"};case"CLOSE":return{type:"CLOSE"};case"URL":return{type:"URL",url:e.connectionURL||""};case"SET_VARIABLE":{let n=null==(r=e.targetVariable)?void 0:r.id,i=null;return n&&(i=nm.dI(n)),{type:"SET_VARIABLE",variableId:i,variableValue:i1(e.targetVariableData)}}case"SET_VARIABLE_MODE":{if(!(0,O.kc)().prototype_set_mode_action)return null;let r=e.targetVariableSetID,n=null;return r&&(n=U.gr.fromKiwi(r)),{type:"SET_VARIABLE_MODE",variableCollectionId:n,variableModeId:V.dI(e.targetVariableModeID)}}case"CONDITIONAL":var a=[];if(e.conditionalActions)for(let r of e.conditionalActions){let e=function(e){var r={actions:[]};if(void 0===e)return r;void 0!==e.condition&&(r.condition=i1(e.condition));var n=[];if(void 0!==e.actions){for(let r of e.actions){let e=iQ(r);null!==e&&n.push(e)}r.actions=n}return r}(r);a.push(e)}return{type:"CONDITIONAL",conditionalBlocks:a};case"UPDATE_MEDIA_RUNTIME":if(void 0===e.mediaAction)return null;switch(e.mediaAction){case"PLAY":case"PAUSE":case"TOGGLE_PLAY_PAUSE":case"MUTE":case"UNMUTE":case"TOGGLE_MUTE_UNMUTE":{let r=V.dI(e.transitionNodeID),n=r?iZ.get(r):null;return{type:"UPDATE_MEDIA_RUNTIME",destinationId:n?iZ.guidFromDeveloperFriendlyId(n.guid):null,mediaAction:e.mediaAction}}case"SKIP_FORWARD":case"SKIP_BACKWARD":{let r=V.dI(e.transitionNodeID),n=r?iZ.get(r):null,i=n?iZ.guidFromDeveloperFriendlyId(n.guid):null,a=e.mediaSkipByAmount||5;return{type:"UPDATE_MEDIA_RUNTIME",destinationId:i,mediaAction:e.mediaAction,amountToSkip:a}}case"SKIP_TO":{let r=V.dI(e.transitionNodeID),n=r?iZ.get(r):null,i=n?iZ.guidFromDeveloperFriendlyId(n.guid):null,a=e.mediaSkipToTime||0;return{type:"UPDATE_MEDIA_RUNTIME",destinationId:i,mediaAction:e.mediaAction,newTimestamp:a}}default:return T.k.warn("Prototype action contains a Connection Type that the plugin API does not support"),null}case"INTERNAL_NODE":{var o={};o.type="NODE";let r=V.dI(e.transitionNodeID),a=r?iZ.get(r):null,s=e.navigationType||"NAVIGATE";switch(a?(o.destinationId=iZ.guidFromDeveloperFriendlyId(a.guid),"OVERLAY"===s&&"MANUAL"===a.overlayPositionType&&(o.overlayRelativePosition={x:(null==(n=e.overlayRelativePosition)?void 0:n.x)||0,y:(null==(i=e.overlayRelativePosition)?void 0:i.y)||0})):o.destinationId=null,s){case"NAVIGATE":case"SWAP":case"OVERLAY":case"SCROLL_TO":o.navigation=s;break;case"SWAP_STATE":o.navigation="CHANGE_TO";break;default:T.k.warn("Prototype action contains a Navigation Type that the plugin API does not support"),o.navigation=null}o.transition=function(e){var r={},n=!0;let i=e.transitionType||"INSTANT_TRANSITION";switch(i){case"INSTANT_TRANSITION":return null;case"DISSOLVE":case"SMART_ANIMATE":case"SCROLL_ANIMATE":r.type=i;break;default:switch(!0){case i.includes("SLIDE_FROM_"):r.type="SLIDE_IN";break;case i.includes("SLIDE_OUT_TO_"):r.type="SLIDE_OUT";break;case i.includes("PUSH_FROM_"):r.type="PUSH";break;case i.includes("MOVE_FROM_"):r.type="MOVE_IN";break;case i.includes("MOVE_OUT_TO_"):r.type="MOVE_OUT";break;default:n=!1}if(r.direction=function(e){switch(!0){case e.includes("_LEFT"):return"RIGHT";case e.includes("_RIGHT"):return"LEFT";case e.includes("_TOP"):return"BOTTOM";case e.includes("_BOTTOM"):return"TOP";default:return n=!1,null}}(i),r.matchLayers=!!e.transitionShouldSmartAnimate,!n)return T.k.warn("Node contains a Transition Type that the plugin API does not support"),null}var a={};switch(e.easingType||"OUT_CUBIC"){case"IN_CUBIC":a.type="EASE_IN";break;case"OUT_CUBIC":a.type="EASE_OUT";break;case"INOUT_CUBIC":a.type="EASE_IN_AND_OUT";break;case"LINEAR":a.type="LINEAR";break;case"IN_BACK_CUBIC":a.type="EASE_IN_BACK";break;case"OUT_BACK_CUBIC":a.type="EASE_OUT_BACK";break;case"INOUT_BACK_CUBIC":a.type="EASE_IN_AND_OUT_BACK";break;case"CUSTOM_CUBIC":a.type="CUSTOM_CUBIC_BEZIER";break;case"GENTLE_SPRING":a.type="GENTLE";break;case"SPRING_PRESET_ONE":a.type="QUICK";break;case"SPRING_PRESET_TWO":a.type="BOUNCY";break;case"SPRING_PRESET_THREE":a.type="SLOW";break;case"CUSTOM_SPRING":a.type="CUSTOM_SPRING"}let o=e.easingFunction||[];return"CUSTOM_CUBIC"===e.easingType&&4===o.length?a.easingFunctionCubicBezier={x1:o[0],y1:o[1],x2:o[2],y2:o[3]}:"CUSTOM_SPRING"===e.easingType&&o.length>=3&&(a.easingFunctionSpring={mass:o[0],stiffness:o[1],damping:o[2]}),r.easing=a,r.duration=e.transitionDuration||.3,r}(e),o.resetVideoPosition=!!e.transitionResetVideoPosition;let l=void 0!==e.transitionPreserveScroll;return void 0!==e.transitionResetScrollPosition?o.resetScrollPosition=e.transitionResetScrollPosition:l&&(o.preserveScrollPosition=e.transitionPreserveScroll),void 0!==e.transitionResetInteractiveComponents&&(o.resetInteractiveComponents=e.transitionResetInteractiveComponents),o}}}function i0(e){var r={};return void 0!==e.value&&(r.value=function(e){var r={};if("boolean"==typeof e)r.boolValue=e;else if("string"==typeof e)r.textValue=e;else if("number"==typeof e)r.floatValue=e;else if("r"in e&&"g"in e&&"b"in e&&"a"in e)r.colorValue=e;else if("r"in e&&"g"in e&&"b"in e)r.colorValue={r:e.r,g:e.g,b:e.b,a:1};else if("type"in e&&"id"in e&&"VARIABLE_ALIAS"===e.type){let n=nm.sH(e.id);r.alias=null!==n?n:nm.w1(V.Hr)}else if("expressionFunction"in e&&"expressionArguments"in e){var n=[];for(let r of e.expressionArguments||[]){let e=i0(r);n.push(e)}r.expressionValue={expressionFunction:function(e){switch(e){case"ADDITION":return"ADDITION";case"SUBTRACTION":return"SUBTRACTION";case"RESOLVE_VARIANT":return"RESOLVE_VARIANT";case"MULTIPLICATION":return"MULTIPLY";case"DIVISION":return"DIVIDE";case"EQUALS":return"EQUALS";case"NOT_EQUAL":return"NOT_EQUAL";case"LESS_THAN":return"LESS_THAN";case"LESS_THAN_OR_EQUAL":return"LESS_THAN_OR_EQUAL";case"GREATER_THAN":return"GREATER_THAN";case"GREATER_THAN_OR_EQUAL":return"GREATER_THAN_OR_EQUAL";case"AND":return"AND";case"OR":return"OR";case"NOT":return"NOT";case"STRINGIFY":return"STRINGIFY";case"TERNARY":return"TERNARY";case"VAR_MODE_LOOKUP":return"VAR_MODE_LOOKUP";case"NEGATE":return"NEGATE";case"IS_TRUTHY":return"IS_TRUTHY";default:throw Error(`We do not support this expression function: ${e}`)}}(e.expressionFunction),expressionArguments:n}}else throw Error(`Invalid variable value type provided: ${JSON.stringify(e)}`);return r}(e.value)),void 0!==e.type&&(r.dataType=function(e){switch(e){case"BOOLEAN":return"BOOLEAN";case"COLOR":return"COLOR";case"FLOAT":return"FLOAT";case"STRING":return"STRING";case"VARIABLE_ALIAS":return"ALIAS";case"EXPRESSION":return"EXPRESSION";case"SYMBOL_ID":return"SYMBOL_ID";case"MAP":return"MAP";default:throw Error(`We do not support this variable data type: ${e}`)}}(e.type)),void 0!==e.resolvedType&&(r.resolvedDataType=function(e){switch(e){case"BOOLEAN":return"BOOLEAN";case"COLOR":return"COLOR";case"FLOAT":return"FLOAT";case"STRING":return"STRING";default:throw Error(`We do not support this variable resolved data type: ${e}`)}}(e.resolvedType)),r}function i1(e){if(void 0!==e){var r={};return void 0!==e.value&&(r.value=function(e){if(void 0!==e.floatValue)return e.floatValue;if(void 0!==e.textValue)return e.textValue;if(void 0!==e.boolValue)return e.boolValue;if(void 0!==e.colorValue)return e.colorValue;if(void 0!==e.alias)return{type:"VARIABLE_ALIAS",id:nm.dI(e.alias)};if(void 0!==e.expressionValue&&void 0!==e.expressionValue.expressionFunction&&e.expressionValue.expressionArguments){var r=[];for(let n of e.expressionValue.expressionArguments||[]){let e=i1(n);e&&r.push(e)}return{expressionArguments:r,expressionFunction:function(e){switch(e){case"ADDITION":return"ADDITION";case"SUBTRACTION":return"SUBTRACTION";case"RESOLVE_VARIANT":return"RESOLVE_VARIANT";case"MULTIPLY":return"MULTIPLICATION";case"DIVIDE":return"DIVISION";case"EQUALS":return"EQUALS";case"NOT_EQUAL":return"NOT_EQUAL";case"LESS_THAN":return"LESS_THAN";case"LESS_THAN_OR_EQUAL":return"LESS_THAN_OR_EQUAL";case"GREATER_THAN":return"GREATER_THAN";case"GREATER_THAN_OR_EQUAL":return"GREATER_THAN_OR_EQUAL";case"AND":return"AND";case"OR":return"OR";case"NOT":return"NOT";case"STRINGIFY":return"STRINGIFY";case"TERNARY":return"TERNARY";case"VAR_MODE_LOOKUP":return"VAR_MODE_LOOKUP";case"NEGATE":return"NEGATE";case"IS_TRUTHY":return"IS_TRUTHY";default:throw Error(`We do not support this expression function: ${e}`)}}(e.expressionValue.expressionFunction)}}if(e.alias)return{type:"VARIABLE_ALIAS",id:nm.dI(e.alias)};else throw Error(`Invalid variable value type provided: ${JSON.stringify(e)}`)}(e.value)),void 0!==e.dataType&&(r.type=function(e){switch(e){case"BOOLEAN":return"BOOLEAN";case"COLOR":return"COLOR";case"FLOAT":return"FLOAT";case"STRING":return"STRING";case"ALIAS":return"VARIABLE_ALIAS";case"EXPRESSION":return"EXPRESSION";case"SYMBOL_ID":return"SYMBOL_ID";case"MAP":return"MAP";default:throw Error(`We do not support this variable data type: ${e}`)}}(e.dataType)),void 0!==e.resolvedDataType&&(r.resolvedType=function(e){switch(e){case"BOOLEAN":return"BOOLEAN";case"COLOR":return"COLOR";case"FLOAT":return"FLOAT";case"STRING":return"STRING";default:throw Error(`We do not support this variable resolved data type: ${e}`)}}(e.resolvedDataType)),r}}function i2(e){switch(e){case"BOOLEAN":return rP.rXF.BOOLEAN;case"FLOAT":return rP.rXF.FLOAT;case"STRING":return rP.rXF.STRING;case"COLOR":return rP.rXF.COLOR;case"MAP":return rP.rXF.MAP;case"SYMBOL_ID":return rP.rXF.SYMBOL_ID;default:throw Error(`Unsupported resolved data type: ${e}`)}}function i3(e){switch(e){case"ADDITION":return rP.JTp.ADDITION;case"SUBTRACTION":return rP.JTp.SUBTRACTION;case"RESOLVE_VARIANT":return rP.JTp.RESOLVE_VARIANT;case"MULTIPLY":return rP.JTp.MULTIPLY;case"DIVIDE":return rP.JTp.DIVIDE;case"EQUALS":return rP.JTp.EQUALS;case"NOT_EQUAL":return rP.JTp.NOT_EQUAL;case"LESS_THAN":return rP.JTp.LESS_THAN;case"LESS_THAN_OR_EQUAL":return rP.JTp.LESS_THAN_OR_EQUAL;case"GREATER_THAN":return rP.JTp.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return rP.JTp.GREATER_THAN_OR_EQUAL;case"AND":return rP.JTp.AND;case"OR":return rP.JTp.OR;case"NOT":return rP.JTp.NOT;case"STRINGIFY":return rP.JTp.STRINGIFY;case"TERNARY":return rP.JTp.TERNARY;case"VAR_MODE_LOOKUP":return rP.JTp.VAR_MODE_LOOKUP;case"NEGATE":return rP.JTp.NEGATE;case"IS_TRUTHY":return rP.JTp.IS_TRUTHY;default:throw Error(`Unsupported expression function: ${e}`)}}var i5=n(10620),i4=n(72174),i6=n(73454);let i8=["BOOLEAN","COLOR","FLOAT","STRING"],i7=["height","width","characters","itemSpacing","paddingLeft","paddingRight","paddingTop","paddingBottom","visible","cornerRadius","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","minWidth","maxWidth","minHeight","maxHeight","counterAxisSpacing"],i9=["height","width","characters","itemSpacing","paddingLeft","paddingRight","paddingTop","paddingBottom","visible","cornerRadius","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","strokeWeight","strokeTopWeight","strokeBottomWeight","strokeLeftWeight","strokeRightWeight","minWidth","maxWidth","minHeight","maxHeight","counterAxisSpacing","opacity"],ae=["fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paragraphSpacing","paragraphIndent"],at=["fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight"],ar=[...i9,...ae],an=["color"],ai=["color","radius","spread","offsetX","offsetY"],aa=["radius"],ao=["sectionSize"],as=["sectionSize","count","offset","gutterSize"],al=["sectionSize","count","gutterSize"],ad=["count","offset","gutterSize"],ac=["value"];function au(e){if((0,i4.uy)(e))return"UNPUBLISHED";switch(e){case i6.E8.CURRENT:return"CURRENT";case i6.E8.NEW:case i6.E8.NOT_STAGED:return"UNPUBLISHED";case i6.E8.CHANGED:case i6.E8.DELETED:return"CHANGED"}}let ap=Object.keys(rP.j0r).filter(e=>isNaN(Number(e))&&"STROKE"!==e).concat("STROKE_COLOR");function ah(e){switch(e){case"WEB":return rP.y0x.WEB;case"ANDROID":return rP.y0x.ANDROID;case"iOS":return rP.y0x.iOS}}let am=Object.keys(rP.y0x).filter(e=>isNaN(Number(e)));(e=>{e.PluginFunction=F.any().refine(e=>!!(0,nB.yN)(e)),e.FiniteNumber=F.number().finite(),e.Float=e.FiniteNumber,e.ZeroToOne=e.FiniteNumber.min(0).max(1),e.PositiveFloat=e.FiniteNumber.min(0),e.NonZeroPositiveFloat=e.FiniteNumber.min(.01),e.PositiveInteger=e.FiniteNumber.min(0).int(),e.FloatNegativeOneToOne=e.FiniteNumber.min(-1).max(1),e.ZeroOrOne=F.union([F.literal(0),F.literal(1)]),e.Integer=e.FiniteNumber.int(),e.Color=F.object({r:e.ZeroToOne,g:e.ZeroToOne,b:e.ZeroToOne}),e.ColorA=F.object({r:e.ZeroToOne,g:e.ZeroToOne,b:e.ZeroToOne,a:e.ZeroToOne}),e.VariableDataType=F.enum(["BOOLEAN","FLOAT","STRING","VARIABLE_ALIAS","COLOR","EXPRESSION","MAP","SYMBOL_ID"]),e.VariableResolvedDataType=F.enum(["BOOLEAN","COLOR","FLOAT","STRING"]),e.ExpressionFunction=F.enum(["ADDITION","SUBTRACTION","RESOLVE_VARIANT","MULTIPLICATION","DIVISION","EQUALS","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","AND","OR","NOT","STRINGIFY","TERNARY","VAR_MODE_LOOKUP","NEGATE","IS_TRUTHY"]),e.VariableAlias=F.object({type:F.literal("VARIABLE_ALIAS"),id:F.string()}),e.VariableData=F.object({type:e.VariableDataType.optional(),resolvedType:e.VariableResolvedDataType.optional(),value:F.union([e.FiniteNumber,F.boolean(),F.string(),e.ColorA,e.VariableAlias,F.lazy(()=>e.Expression)]).optional()}),e.Expression=F.object({expressionFunction:e.ExpressionFunction,expressionArguments:F.array(F.lazy(()=>e.VariableData))}),e.Navigation=F.enum(["NAVIGATE","SWAP","OVERLAY","SCROLL_TO","CHANGE_TO"]),e.Easing=F.object({type:F.enum(["EASE_IN","EASE_OUT","EASE_IN_AND_OUT","LINEAR","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_CUBIC_BEZIER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"]),easingFunctionCubicBezier:F.object({x1:e.FiniteNumber,y1:e.FiniteNumber,x2:e.FiniteNumber,y2:e.FiniteNumber}).optional(),easingFunctionSpring:F.object({mass:e.FiniteNumber,stiffness:e.FiniteNumber,damping:e.FiniteNumber}).optional()}),e.SimpleTransition=F.object({type:F.enum(["DISSOLVE","SMART_ANIMATE","SCROLL_ANIMATE"]),easing:e.Easing,duration:e.FiniteNumber}),e.DirectionalTransition=F.object({type:F.enum(["MOVE_IN","MOVE_OUT","PUSH","SLIDE_IN","SLIDE_OUT"]),direction:F.enum(["LEFT","RIGHT","TOP","BOTTOM"]),matchLayers:F.boolean(),easing:e.Easing,duration:e.FiniteNumber}),e.Transition=F.union([e.SimpleTransition,e.DirectionalTransition]),e.Vector=F.object({x:e.FiniteNumber,y:e.FiniteNumber}),e.ReactionActionNoConditional=F.union([F.object({type:F.enum(["BACK","CLOSE"])}),F.object({type:F.literal("URL"),url:F.string()}),F.object({type:F.literal("UPDATE_MEDIA_RUNTIME"),destinationId:F.union([F.string(),F.null()]),mediaAction:F.enum(["PLAY","PAUSE","TOGGLE_PLAY_PAUSE","MUTE","UNMUTE","TOGGLE_MUTE_UNMUTE"])}),F.object({type:F.literal("UPDATE_MEDIA_RUNTIME"),destinationId:F.union([F.string(),F.null()]),mediaAction:F.enum(["SKIP_FORWARD","SKIP_BACKWARD"]),amountToSkip:e.FiniteNumber}),F.object({type:F.literal("UPDATE_MEDIA_RUNTIME"),destinationId:F.union([F.string(),F.null()]),mediaAction:F.enum(["SKIP_TO"]),newTimestamp:e.FiniteNumber}),F.object({type:F.literal("NODE"),destinationId:F.union([F.string(),F.null()]),navigation:e.Navigation,transition:F.union([e.Transition,F.null()]),preserveScrollPosition:F.boolean().optional(),resetVideoPosition:F.boolean().optional(),overlayRelativePosition:e.Vector.optional(),resetScrollPosition:F.boolean().optional(),resetInteractiveComponents:F.boolean().optional()}),F.object({type:F.literal("SET_VARIABLE"),variableId:F.union([F.string(),F.null()]),variableValue:e.VariableData.optional()}),F.object({type:F.literal("SET_VARIABLE_MODE"),variableCollectionId:F.union([F.string(),F.null()]),variableModeId:F.union([F.string(),F.null()])})]),e.Trigger=F.union([F.object({type:F.enum(["ON_CLICK","ON_HOVER","ON_PRESS","ON_DRAG","ON_MEDIA_END"])}),F.object({type:F.literal("AFTER_TIMEOUT"),timeout:e.FiniteNumber}),F.object({type:F.enum(["MOUSE_ENTER","MOUSE_LEAVE","MOUSE_UP","MOUSE_DOWN"]),delay:e.FiniteNumber}),F.object({type:F.literal("ON_KEY_DOWN"),device:F.enum(["KEYBOARD","XBOX_ONE","PS4","SWITCH_PRO","UNKNOWN_CONTROLLER"]),keyCodes:F.array(e.FiniteNumber)}),F.object({type:F.literal("ON_MEDIA_HIT"),mediaHitTime:e.FiniteNumber})]),e.ConditionalBlock=F.object({condition:e.VariableData.optional(),actions:F.array(e.ReactionActionNoConditional)}),e.ReactionAction=F.union([F.object({type:F.literal("CONDITIONAL"),conditionalBlocks:F.array(e.ConditionalBlock)}),e.ReactionActionNoConditional]),e.Reaction=F.object({action:e.ReactionAction.optional().nullable(),actions:F.array(e.ReactionAction).optional(),trigger:F.union([e.Trigger,F.null()])}),e.Reactions=F.array(e.Reaction),e.MaskType=F.enum(["ALPHA","VECTOR","LUMINANCE"]),e.UInt8Array=F.instanceof(Uint8Array),e.ColorInput=F.union([F.string(),e.ColorA,e.Color]),e.BlendMode=F.enum(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),e.PaintBoundVariables=F.object({color:F.object({type:F.literal("VARIABLE_ALIAS"),id:F.string()}).optional()}),e.PartialSolidPaint=F.object({type:F.literal("SOLID"),color:e.Color,opacity:e.FiniteNumber,visible:F.boolean(),blendMode:e.BlendMode,boundVariables:e.PaintBoundVariables}).partial().optional(),e.FontName=F.object({family:F.string(),style:F.string()}),e.ShowVisualBellOptions=F.object({timeout:F.number().min(0).max(1/0),error:F.boolean(),onDequeue:e.PluginFunction,button:F.object({text:F.string(),action:F.any()})}).partial(),e.Size=F.object({width:e.FiniteNumber,height:e.FiniteNumber});let r=F.array(e.FiniteNumber).length(3).transform(e=>({0:e[0],1:e[1],2:e[2]}));e.Matrix=F.array(r).length(2).transform(e=>({0:e[0],1:e[1]}));let n=F.object({exposure:e.FloatNegativeOneToOne,contrast:e.FloatNegativeOneToOne,saturation:e.FloatNegativeOneToOne,temperature:e.FloatNegativeOneToOne,tint:e.FloatNegativeOneToOne,highlights:e.FloatNegativeOneToOne,shadows:e.FloatNegativeOneToOne}).partial(),i=F.object({position:e.ZeroToOne,color:e.ColorA,boundVariables:e.PaintBoundVariables.optional()});e.Paint=F.discriminatedUnion("type",[F.object({type:F.literal("SOLID"),color:e.Color,visible:F.boolean().optional(),opacity:e.ZeroToOne.optional(),blendMode:e.BlendMode.optional(),boundVariables:e.PaintBoundVariables.optional()}).strict(),F.object({type:F.enum(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:e.Matrix,gradientStops:F.array(i),visible:F.boolean().optional(),opacity:e.ZeroToOne.optional(),blendMode:e.BlendMode.optional()}).strict(),F.object({type:F.literal("IMAGE"),scaleMode:F.enum(["FILL","FIT","CROP","TILE"]),imageHash:F.string(),scalingFactor:e.PositiveFloat.optional(),rotation:e.PositiveInteger.optional(),imageTransform:e.Matrix.optional(),filters:n.optional(),visible:F.boolean().optional(),opacity:e.ZeroToOne.optional(),blendMode:e.BlendMode.optional()}).strict(),F.object({type:F.literal("VIDEO"),scaleMode:F.enum(["FILL","FIT","CROP","TILE"]),videoHash:F.string(),scalingFactor:e.PositiveFloat.optional(),rotation:e.PositiveInteger.optional(),videoTransform:e.Matrix.optional(),filters:n.optional(),visible:F.boolean().optional(),opacity:e.ZeroToOne.optional(),blendMode:e.BlendMode.optional()}).strict()]),e.Paints=F.array(e.Paint),e.ShadowEffectBoundVariables=F.object({color:e.VariableAlias.optional(),radius:e.VariableAlias.optional(),spread:e.VariableAlias.optional(),offsetX:e.VariableAlias.optional(),offsetY:e.VariableAlias.optional()}),e.BlurEffectBoundVariables=F.object({radius:e.VariableAlias.optional()});let a={offset:e.Vector,color:e.ColorA,blendMode:e.BlendMode,radius:e.Float.min(0),spread:e.Float.optional(),visible:F.boolean(),boundVariables:e.ShadowEffectBoundVariables.optional()},o=F.object({...a,type:F.literal("INNER_SHADOW")}),s=F.object({...a,type:F.literal("DROP_SHADOW"),showShadowBehindNode:F.boolean().optional()}),l=F.object({type:F.enum(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:e.Float.min(0),visible:F.boolean(),boundVariables:e.BlurEffectBoundVariables.optional()}).strict();e.Effect=F.union([o,s,l]),e.Effects=F.array(e.Effect);let d=F.object({pattern:F.enum(["COLUMNS","ROWS"]),alignment:F.enum(["MIN","MAX"]),gutterSize:e.Float,count:F.union([e.PositiveInteger,F.literal(1/0)]),sectionSize:e.PositiveFloat,offset:e.PositiveFloat,visible:F.boolean().optional(),color:e.ColorA.optional(),boundVariables:F.object({gutterSize:e.VariableAlias,count:e.VariableAlias,sectionSize:e.VariableAlias,offset:e.VariableAlias}).partial().optional()}).strict(),c=F.object({pattern:F.enum(["COLUMNS","ROWS"]),alignment:F.literal("STRETCH"),gutterSize:e.Float,count:F.number().finite().min(0),offset:e.PositiveFloat,visible:F.boolean().optional(),color:e.ColorA.optional(),boundVariables:F.object({gutterSize:e.VariableAlias,count:e.VariableAlias,offset:e.VariableAlias}).partial().optional()}).strict(),u=F.object({pattern:F.enum(["COLUMNS","ROWS"]),alignment:F.literal("CENTER"),gutterSize:e.Float,count:F.number().min(0).max(1/0),sectionSize:e.PositiveFloat,visible:F.boolean().optional(),color:e.ColorA.optional(),boundVariables:F.object({gutterSize:e.VariableAlias,count:e.VariableAlias,sectionSize:e.VariableAlias}).partial().optional()}).strict(),p=F.object({pattern:F.literal("GRID"),sectionSize:e.PositiveFloat,visible:F.boolean().optional(),color:e.ColorA.optional(),boundVariables:F.object({sectionSize:e.VariableAlias}).partial().optional()}).strict();e.LayoutGrid=F.union([d,c,u,p]),e.LayoutGrids=F.array(e.LayoutGrid),e.ParameterValues=F.array(F.union([F.object({name:F.string(),data:F.any().optional(),icon:F.union([F.string(),e.UInt8Array]).optional(),iconUrl:F.string().optional()}),F.string()])),e.TextReviewResultSchema=F.array(F.object({start:e.FiniteNumber.int(),end:e.FiniteNumber.int(),suggestions:F.array(F.string()),color:F.enum(["RED","BLUE","GREEN"]).optional()})),e.CodegenResultSchema=F.array(F.object({title:F.string(),code:F.string(),language:F.enum(["TYPESCRIPT","CPP","RUBY","CSS","JAVASCRIPT","HTML","JSON","GRAPHQL","PYTHON","GO","SQL","SWIFT","KOTLIN","RUST","BASH","PLAINTEXT","DART"])}));let h=F.object({type:F.literal("AUTH_REQUIRED")});e.PlainTextContent=F.object({type:F.literal("PLAIN_TEXT"),text:F.string()}),e.LinkPreviewResultSchema=F.union([h,e.PlainTextContent,F.null()]);let m=F.object({type:F.literal("AUTH_SUCCESS")});e.AuthResultSchema=F.union([m,F.null()]),e.ReadyForDev=F.object({type:F.literal("READY_FOR_DEV")});let g=F.enum(nl.N2);e.Annotations=F.array(F.object({label:F.string().optional(),properties:F.array(F.object({type:g})).optional()})).max(1),e.AnnotationMeasurementStartEnd=F.object({node:F.any(),side:F.enum(nl.SI)});let f=F.discriminatedUnion("type",[F.object({type:F.literal("INNER"),relative:F.number().max(1).min(-1)}),F.object({type:F.literal("OUTER"),fixed:F.number().finite().positive("Can't be 0").or(F.number().finite().negative())})]);function _(){return[F.object({format:F.enum(["PNG","JPG"]),contentsOnly:F.boolean().optional(),suffix:F.string().optional(),useAbsoluteBounds:F.boolean().optional(),constraint:F.union([F.object({type:F.enum(["SCALE"]),value:e.FiniteNumber}),F.object({type:F.enum(["WIDTH","HEIGHT"]),value:e.FiniteNumber})]).optional(),colorProfile:e.exportColorProfile}),F.object({format:F.literal("PDF"),contentsOnly:F.boolean().optional(),suffix:F.string().optional(),useAbsoluteBounds:F.boolean().optional(),colorProfile:e.exportColorProfile}),F.object({format:F.enum(["SVG","SVG_STRING"]),contentsOnly:F.boolean().optional(),suffix:F.string().optional(),svgOutlineText:F.boolean().optional(),svgIdAttribute:F.boolean().optional(),svgSimplifyStroke:F.boolean().optional(),useAbsoluteBounds:F.boolean().optional(),colorProfile:e.exportColorProfile})]}e.AnnotationMeasurementAddOptions=F.object({offset:f.optional()}).strict(),e.AnnotationMeasurementEditValue=F.object({offset:f}),e.StrokeAlign=F.enum(["CENTER","INSIDE","OUTSIDE"]),e.LetterSpacing=F.object({value:F.number().finite(),unit:F.enum(["PIXELS","PERCENT"])}).strict(),e.LineHeight=F.discriminatedUnion("unit",[F.object({value:F.number().finite(),unit:F.enum(["PIXELS","PERCENT"])}).strict(),F.object({unit:F.literal("AUTO")}).strict()]),e.LeadingTrim=F.enum(["CAP_HEIGHT","NONE"]),e.TextAlignHorizontal=F.enum(["LEFT","CENTER","RIGHT","JUSTIFIED"]),e.TextAlignVertical=F.enum(["TOP","CENTER","BOTTOM"]),e.TextCase=F.enum(["ORIGINAL","UPPER","LOWER","TITLE","SMALL_CAPS","SMALL_CAPS_FORCED"]),e.TextDecoration=F.enum(["NONE","UNDERLINE","STRIKETHROUGH"]),e.TextAutoResize=F.enum(["NONE","WIDTH_AND_HEIGHT","HEIGHT","TRUNCATE"]),e.TextListType=F.enum(["NONE","ORDERED","UNORDERED"]),e.TextListOptions=F.object({type:e.TextListType}),e.TextIndentation=F.number().finite().int().min(0).max(5),e.TextHyperlinkType=F.enum(["URL","NODE"]),e.TextHyperlinkOptions=F.union([F.object({type:e.TextHyperlinkType,value:F.string()}),F.null()]),e.FindCriteriaWithPluginDataSchema=F.object({types:F.array(F.enum(nl.$F)).optional(),sharedPluginData:F.object({namespace:F.string(),keys:F.array(F.string()).optional()}).optional(),pluginData:F.object({keys:F.array(F.string()).optional()}).optional()}),e.TextTruncation=F.enum(["DISABLED","ENDING"]),e.exportColorProfile=F.enum(["DOCUMENT","SRGB","DISPLAY_P3_V4"]).optional(),e.baseExportSettingOptions=_,e.getExportAsyncSetting=function(e=!1){return F.discriminatedUnion("format",[..._(),F.object({format:e?F.enum(["JSON_REST_V1","FIRST_DRAFT_JSON"]):F.enum(["JSON_REST_V1"])})])},e.ConstraintType=F.enum(["MIN","CENTER","MAX","STRETCH","SCALE"]),e.Constraints=F.object({horizontal:e.ConstraintType,vertical:e.ConstraintType}),e.OverflowDirection=F.enum(["NONE","HORIZONTAL","VERTICAL","BOTH"]),e.LayoutAlign=F.enum(["MIN","CENTER","MAX","STRETCH","INHERIT"]),e.LayoutMode=F.enum(["NONE","HORIZONTAL","VERTICAL"]),e.StackWrap=F.enum(["NO_WRAP","WRAP"]),e.StackCounterAlignContent=F.enum(["AUTO","SPACE_BETWEEN"]),e.StackJustify=F.enum(["MIN","MAX","CENTER","SPACE_BETWEEN"]),e.StackJustifyLegacy=F.enum(["MIN","MAX","CENTER","SPACE_BETWEEN","SPACE_BETWEEN_LEGACY"]),e.StackAlign=F.enum(["MIN","MAX","CENTER","BASELINE"]),e.SizingMode=F.enum(["FIXED","AUTO"]),e.SizingModeLegacy=F.enum(["FIXED","AUTO","LEGACY_AUTO"]),e.LayoutSizing=F.enum(["FIXED","HUG","FILL"]),e.LayoutPositioning=F.enum(["AUTO","ABSOLUTE"]),e.HandleMirroring=F.enum(["NONE","ANGLE","ANGLE_AND_LENGTH"]),e.StrokeJoin=F.enum(["MITER","BEVEL","ROUND"]),e.StrokeCap=F.enum(["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"]);let y=F.enum(["NONZERO","EVENODD"]),E=F.object({windingRule:F.union([y,F.literal("NONE")]),data:F.string()});e.VectorPaths=F.array(E);let b=F.object({x:e.FiniteNumber,y:e.FiniteNumber,strokeCap:e.StrokeCap.optional(),strokeJoin:e.StrokeJoin.optional(),cornerRadius:e.PositiveFloat.optional(),handleMirroring:e.HandleMirroring.optional()}),v=F.object({start:e.PositiveInteger,end:e.PositiveInteger,tangentStart:e.Vector.optional(),tangentEnd:e.Vector.optional()}).strict(),S=F.object({windingRule:y,loops:F.array(F.array(e.PositiveInteger)),fills:e.Paints.optional(),fillStyleId:F.string().optional()});e.VectorNetwork=F.object({vertices:F.array(b),segments:F.array(v),regions:F.array(S).optional()}).strict(),e.MaxLines=F.number().int().min(1).finite().nullable()})(h||(h={}));let ag=n_.By.oneOf([...ap]),af=n_.By.oneOf([...am]),a_=n_.By.oneOf([...i8]);n_.By.oneOf([...i7]);let ay=n_.By.oneOf([...i9]),aE=n_.By.oneOf([...ar]),ab=n_.By.oneOf([...ae]),av=n_.By.oneOf([...at]),aS=n_.By.oneOf([...an]),aI=n_.By.oneOf([...ai]),aT=n_.By.oneOf([...aa]);n_.By.oneOf([...aa,...ai]);let aw=n_.By.oneOf([...as]),aC=n_.By.oneOf([...ad]),aA=n_.By.oneOf([...al]),aN=n_.By.oneOf([...ao]);n_.By.oneOf([...as]),n_.By.oneOf([...ac]);let aO=n_.By.exact({id:n_.By.string,type:"VARIABLE_ALIAS"}),aR=n_.By.oneOf([aO]),aP=n_.By.oneOf([n_.By.bool,n_.By.float,n_.By.string,n_.By.oneOf([nz.h$,nz.Q1]),aR]);(e=>{e.PublicVariableScope=F.enum([...ap]),e.PublicVariableCodeSyntaxPlatformPropType=F.enum([...am]),e.PublicVariableResolvedType=F.enum([...i8]),e.VariableBindableNodeField=F.enum([...i7]),e.VariableBindableTextField=F.enum([...ae]),e.VariableBindableSubstringField=F.enum([...at]),e.VariableBindablePaintField=F.enum([...an]),e.VariableBindableEffectField=F.enum([...ai]),e.VariableBindableShadowEffectField=F.enum([...ai]),e.VariableBindableBlurEffectField=F.enum([...aa]),e.VariableBindableMinMaxLayoutField=F.enum([...as]),e.VariableBindableStretchLayoutField=F.enum([...ad]),e.VariableBindableCenterLayoutField=F.enum([...al]),e.VariableBindableGridLayoutField=F.enum([...ao]),e.VariableBindableLayoutField=F.enum([...as]),e.VariableBindableComponentPropertyField=F.enum([...ac]),e.VariableAlias=F.object({id:F.string(),type:F.literal("VARIABLE_ALIAS")}),e.VariableBinding=e.VariableAlias,e.VariableValue=F.union([F.boolean(),h.FiniteNumber,F.string(),F.union([h.ColorA,h.Color]),e.VariableBinding])})(m||(m={}));let aL={Z:0,M:2,L:2,Q:4,C:6};function aD(e,r){return{x:e.m00*r.x+e.m01*r.y+e.m02,y:e.m10*r.x+e.m11*r.y+e.m12}}function aM(e,r,n,i,a){let o=1-a;return o*(o*(o*e+3*a*r)+3*a*a*n)+a*a*a*i}function ak(e,r,n,i,a,o){let s=3*(3*r+i-(e+3*n)),l=6*(e+n-2*r),d=3*(r-e),c=o;if(1e-12>Math.abs(s)&&(s=0),1e-12>Math.abs(l)&&(l=0),0!==s){let e=l*l-4*d*s;if(e>=0){let r=-l/(2*s),n=Math.sqrt(e)/Math.abs(2*s),i=r-n,o=r+n;0<i&&i<1&&(a[c++]=i),e>0&&0<o&&o<1&&(a[c++]=o)}}else if(0!==l){let e=-d/l;0<e&&e<1&&(a[c++]=e)}return c-o}function ax(e){let r=[];return e&&e.forEach(e=>{r.push({windingRule:e.windingRule,loops:e.loops.map(e=>e.slice()),fills:nW(e.fills),fillStyleId:e.fillStyleId})}),r}function aF(e){return`${e.x} ${e.y}`}function aU(e){return 0===e.tangentStart.x&&0===e.tangentStart.y&&0===e.tangentEnd.x&&0===e.tangentEnd.y}function aB(e,r){if(r===e.start)return e.end;if(r===e.end)return e.start;throw Error(`Unknown vertex (${r}) for segment (${e.start},${e.end})`)}class aV{constructor(e){this.regions=[],this.segments=[],this.vertices=[],e&&(this.regions=e.regions,this.segments=e.segments,this.vertices=e.vertices)}isEmpty(){return 0===this.vertices.length}hasVertex(e,r){return e.start===r||e.end===r}startingVertex(e){if(1===e.length)return this.segments[e[0]].start;let r=this.segments[e[0]],n=this.segments[e[1]],i=this.hasVertex(n,r.end),a=this.hasVertex(n,r.start);if(i&&a&&e.length>2){let n=this.segments[e[2]];i=this.hasVertex(n,r.start)}if(i)return r.start;if(!a)throw Error("Network: invalid starting vertex");return r.end}getOrderedLoop(e){if(0===e.length)return[];let r=[],n=this.startingVertex(e);for(let i of e){let e=this.segments[i],a=e.start===n;if(!(e.start===n||e.end===n))throw Error("Network: invalid loop");a?(r.push({segmentIndex:i,segment:{start:e.start,end:e.end,tangentStart:e.tangentStart,tangentEnd:e.tangentEnd}}),n=e.end):(r.push({segmentIndex:i,segment:{start:e.end,end:e.start,tangentStart:e.tangentEnd,tangentEnd:e.tangentStart}}),n=e.start)}return r}getVertex(e){return this.vertices[e]}checkValid(){for(let[e,r]of this.segments.entries()){if(r.start>=this.vertices.length)throw Error(`vectorNetwork.segments[${e}].start does not refer to a valid vertex. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);if(r.end>=this.vertices.length)throw Error(`vectorNetwork.segments[${e}].end does not refer to a valid vertex. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`)}for(let[e,r]of this.regions.entries()){if(0===r.loops.length)throw Error(`vectorNetwork.regions[${e}].loops must have at least one loop. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);for(let[n,i]of r.loops.entries()){if(0===i.length)throw Error(`vectorNetwork.regions[${e}].loops[${n}] must have at least one segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);for(let[r,a]of i.entries())if(a>=this.segments.length)throw Error(`vectorNetwork.regions[${e}].loops[${n}][${r}] does not refer to a valid segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);let r=this.startingVertex(i);for(let[a,o]of i.entries()){let i=this.segments[o];if(r!=i.start&&r!=i.end)throw Error(`vectorNetwork.regions[${e}].loops[${n}][${a}] does not connect properly with previous segment. For more info see https://www.figma.com/plugin-docs/api/VectorNetwork/`);r=aB(i,r)}}}}}class aH{constructor(e){this.windingRule=e,this.commands=[],this.lastPosition=null}moveTo(e){this.commands.push("M",e.x,e.y),this.lastPosition=e}lineTo(e){this.commands.push("L",e.x,e.y),this.lastPosition=e}curveTo(e,r,n){this.commands.push("C",e.x,e.y,r.x,r.y,n.x,n.y),this.lastPosition=n}closePath(){this.commands.push("Z"),this.lastPosition=null}toVectorPath(){return{windingRule:this.windingRule,data:this.commands.join(" ")}}}let aG="syncedState",aW=`${aG}:`,az="syncedMap",aK=`${az}:`;function aj(e,r){let n="current"===e?null==r?void 0:r.getWidgetSyncedState():null==r?void 0:r.renderedSyncedState,i={};try{for(let e of Object.keys(n))if(e.startsWith(aW)){let r=JSON.parse(n[e]);i[e.substring(aW.length)]=r}return i}catch(e){(0,L.$D)(D.e.EXTENSIBILITY,Error(`Invalid syncedState for widgetID=${r.widgetId}: ${e}`))}return{}}function aY(e,r,n){if(r&&Object.keys(r).length>0){let n={...aj("current",e),...r};Object.keys(n).forEach(r=>{aq(e,r,n[r])})}n&&Object.keys(n).length>0&&Object.keys(n).forEach(r=>{Object.keys(aZ("current",e,r)).forEach(n=>{aJ(e,r,n)});let i=n[r];Object.keys(i).forEach(n=>{aX(e,r,n,i[n])})})}function a$(e,r,n){let i=JSON.stringify(n);if(void 0===i)throw Error(`Invalid syncedState value for widgetID=${null==e?void 0:e.widgetId} name=${r} value=${n}`);return i}function aq(e,r,n){rL.l7.plugin("set-widget-synced-state",()=>null==e?void 0:e.setWidgetSyncedState(`${aG}:${r}`,a$(e,r,n)))}function aZ(e,r,n){let i=("current"===e?null==r?void 0:r.getWidgetSyncedState():null==r?void 0:r.renderedSyncedState)||{},a=`${az}:${n}:`,o=a.length,s={};try{for(let e of Object.keys(i))if(e.startsWith(a)){let r=JSON.parse(i[e]);s[e.substring(o)]=r}return s}catch(e){(0,L.$D)(D.e.EXTENSIBILITY,Error(`Invalid syncedMap for widgetID=${null==r?void 0:r.widgetId}, name=${n}`))}return{}}function aX(e,r,n,i){if(void 0===(i=JSON.stringify(i)))throw Error(`Invalid syncedMap value for widgetID=${null==e?void 0:e.widgetId} name=${r} key=${n} value=${i}`);null==e||e.setWidgetSyncedState(`${az}:${r}:${n}`,i)}function aJ(e,r,n){null==e||e.deleteWidgetSyncedState(`${az}:${r}:${n}`)}var aQ=n(1469),a0=n(13517);function a1(e,r=null){let n=[];return e.forEach(e=>{e&&(Array.isArray(e)?(e.some(e=>e&&!Array.isArray(e)&&null==e.renderMetaData.key)&&(null==r||r.logWarning('Widget Warning: Each child in a list should have a unique "key" prop. Please check your widget code.')),n.push(...a1(e,r))):"fragment"===e.type?n.push(...a1(e.renderMetaData.children??[],r)):n.push(e))}),n}let a2=e=>"frame"===e.type||"inputframe"===e.type||"autolayout"===e.type;async function a3(e,r,n){let i={fonts:{},images:{}},a=new Map,o=null,s=e();for(let l=0;l<20&&(function(e,r){let n=e=>{if(!e)return;let{children:i,fillSrc:a,textStyle:o}=e.renderMetaData;if(o&&(a6(r,o.style),o.ranges.forEach(e=>a6(r,e.style))),a&&!r.images.hasOwnProperty(a)&&(r.images[a]={hasLoaded:!1}),i)for(let e of a1(i))n(e)};n(e)}(s.rootNode,i),(Object.values(i.fonts).some(({hasLoaded:e})=>!e)||Object.values(i.images).some(({hasLoaded:e})=>!e))&&await a8(i,a,r,n),o=s,s=e(),!(0,ij.c2)(null==o?void 0:o.syncedState,s.syncedState));l++)19===l&&(0,L.x1)("resources","Loading reconciliation resources reached max iterations");return{imgInfoMap:a,vRoot:s}}async function a5(e,r,n){try{let i=await a4(e,n),a=r.createImage(i).hash,{width:o,height:s}=(await Promise.all([a9(i)]))[0];return{hash:a,width:o,height:s}}catch(e){r.logWarning("Unable to load image. See the warning below for more info."),r.logWarning(e)}return null}let a4=(0,eA.n)(async(e,r)=>{if(function(e){try{let r=new URL(e);return"http:"===r.protocol||"https:"===r.protocol}catch(e){return!1}}(e)){if(!(0,a0.pT)(e,r))throw Error(`Image URL ${e} does not satisfy the allowedDomains specified in the manifest.json`);e=(0,aQ.p)(e)}let n=await fetch(e);if(!n.ok)throw Error(`Unable to fetch image. Response status: ${n.status}`);return new Uint8Array(await n.arrayBuffer())});function a6(e,r){let{fontName:n}=r;if(!n)return;let i=`${n.family} ${n.style}`;e.fonts.hasOwnProperty(i)||(e.fonts[i]={fontName:n,hasLoaded:!1})}async function a8(e,r,n,i){let a=async e=>{let a=await a5(e,n,i);a&&r.set(e,a)},o=Object.values(e.fonts).filter(({hasLoaded:e})=>!e).map(async e=>{await n.loadFontAsync(e.fontName),e.hasLoaded=!0}),s=Object.entries(e.images).filter(([,{hasLoaded:e}])=>!e).map(async([e,r])=>{await a(e),r.hasLoaded=!0});await Promise.all([...o,...s])}let a7=e=>{let r="";return[].slice.call(new Uint8Array(e)).forEach(e=>r+=String.fromCharCode(e)),window.btoa(r)};function a9(e){return new Promise(r=>{let n=new Image;n.onload=()=>{r({width:n.width,height:n.height})};let i=a7(e);n.src="data:image;base64,"+i})}class oe extends Error{constructor(e){super(e)}}function ot(e){if(!e.isInImmutableFrame)throw Error("Expected node to be an ImmutableFrame sublayer");let r=e;for(;r&&!(0,nl.MT)(r.type);)r=r.parentNode;if(!r||!(0,nl.MT)(r.type))throw Error("Failed to find containing Immutable frame");return r}function or(e,r){let n=r.get(e);if(void 0===n)throw new oe(`The node with id ${JSON.stringify(e)} does not exist`);return n}function on(e){return"FRAME"===e.type&&e.resizeToFit}function oi(e,r,n){return{syncedState:e.isUndefined(r)?void 0:(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.dictionaryOf(n_.By.oneOf([n_.By.any,null])).isOptional,zSchema:F.record(F.any()).optional(),property:"cloneWidget"}),syncedMap:e.isUndefined(n)?void 0:(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.dictionaryOf(n_.By.dictionaryOf(n_.By.oneOf([null,n_.By.any]))).isOptional,zSchema:F.record(F.record(F.any())).optional(),property:"cloneWidget"})}}function oa(e,r){return!!r.isInImmutableFrame&&"TABLE_CELL"!==r.type||r.isInWidget&&"scopednoopvm"!==e.vmType}function oo(e){if(e.length<3)throw Error("The namespace must be at least 3 characters");if(e.length>1e3)throw Error("The namespace can be at most 1000 characters");if(!e.match(/^[0-9a-zA-Z._]+$/))throw Error("The namespace can only consist of alphanumeric characters, _ or .")}function os({vm:e,defineVmProp:r,mixedSentinel:n,imageStore:i,videoStore:a,getNode:o},s,l){r({handle:s,key:l,options:{enumerable:!0,metricsKey:"node."+l,get:function(){let r=o(this).fillPaintsOrMixed;if("mixed"===r)return n;let i=e.deepWrap(nv(r.data));return e.deepFreezeObject(i),i},set:function(r){let n=o(this),s=[];return n.fillPaints={data:nS(i,a,(0,n_.u)({vm:e,handle:r,vmSchema:nz.s9,zSchema:h.Paints,property:l}),s),blobs:s},e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})}function ol(e,r){let n=e.newObject();return e.defineProp(n,"hash",{enumerable:!1,metricsKey:"node.hash",value:e.deepWrap(r.sha1)}),n}function od(e,r){let n=e.newObject();return e.defineProp(n,"hash",{enumerable:!1,metricsKey:"node.hash",value:e.deepWrap(r.sha1)}),e.defineFunction(n,"getBytesAsync","image.getBytesAsync",function(){let{promise:n,resolve:i,reject:a}=e.newPromise(),o=e.registerPromise(r.getBytesAsync());return o.then(r=>{i(e.deepWrap(r))}),o.catch(r=>{a(e.deepWrap(r))}),n}),e.defineFunction(n,"getSizeAsync","image.getSizeAsync",function(){let{promise:n,resolve:i,reject:a}=e.newPromise();return r.bytes?a9(r.bytes).then(r=>i(e.deepWrap(r))).catch(r=>{a(e.deepWrap(r))}):a(e.deepWrap("Image dimensions not available")),n}),n}function oc(e,r){return r.map(r=>(n,i)=>{(0,O.kc)()[e]&&r(n,i)})}function ou(e,r,...n){let i=e.vm.evalTrustedCode(`(function ${r}() {}).prototype`);if("SUCCESS"!==i.type)throw Error("Internal eval error");for(let r of n)r(e,i.handle);return e.vm.retainHandle(i.handle),i.handle}function op(e){var r,n,i,a,o,s,l,d,c,u;let p={type:"FOREGROUND_BLUR"===e.type?"LAYER_BLUR":e.type,radius:e.radius,visible:e.visible},h={};return((null==(n=null==(r=e.colorVar)?void 0:r.value)?void 0:n.alias)&&(h.color=ny(e.colorVar.value.alias)),(null==(a=null==(i=e.spreadVar)?void 0:i.value)?void 0:a.alias)&&(h.spread=ny(e.spreadVar.value.alias)),(null==(s=null==(o=e.radiusVar)?void 0:o.value)?void 0:s.alias)&&(h.radius=ny(e.radiusVar.value.alias)),(null==(d=null==(l=e.xVar)?void 0:l.value)?void 0:d.alias)&&(h.offsetX=ny(e.xVar.value.alias)),(null==(u=null==(c=e.yVar)?void 0:c.value)?void 0:u.alias)&&(h.offsetY=ny(e.yVar.value.alias)),p.boundVariables=h,"INNER_SHADOW"===e.type)?{...p,color:e.color,offset:e.offset,spread:e.spread,blendMode:nE(e.blendMode)}:"DROP_SHADOW"===e.type?{...p,color:e.color,offset:e.offset,spread:e.spread,blendMode:nE(e.blendMode),showShadowBehindNode:e.showShadowBehindNode}:p}function oh(e,r){var n,i,a,o,s,l,d,c,u,p;let h={...e};return("INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type)&&(void 0===e.spread?delete h.spread:0!==e.spread&&(!r||r&&"ROUNDED_RECTANGLE"!==r.type&&"RECTANGLE"!==r.type&&"ELLIPSE"!==r.type&&("FRAME"===r.type||"SYMBOL"===r.type||"INSTANCE"===r.type?((0===r.fillPaints.data.length||r.fillPaints.data.every(e=>!(e.visible&&e.opacity)))&&T.k.warn("The 'spread' parameter is not supported when frames or components have no visible fills"),r.frameMaskDisabled&&T.k.warn("The 'spread' parameter is not supported when frames or components have \"Clips content\" disabled."),0):(T.k.warn(`Spread is not supported for node type ${r.type}`),1)))&&(h.spread=0),h.blendMode=nE(e.blendMode),e.boundVariables&&((null==(i=null==(n=e.boundVariables)?void 0:n.spread)?void 0:i.id)&&(h.spreadVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.spread.id)}}),(null==(o=null==(a=e.boundVariables)?void 0:a.color)?void 0:o.id)&&(h.colorVar={dataType:"ALIAS",resolvedDataType:"COLOR",value:{alias:nm.sH(e.boundVariables.color.id)}}),(null==(l=null==(s=e.boundVariables)?void 0:s.offsetX)?void 0:l.id)&&(h.xVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.offsetX.id)}}),(null==(c=null==(d=e.boundVariables)?void 0:d.offsetY)?void 0:c.id)&&(h.yVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.offsetY.id)}}))),"DROP_SHADOW"===e.type&&void 0===e.showShadowBehindNode&&delete h.showShadowBehindNode,e.boundVariables&&(null==(p=null==(u=e.boundVariables)?void 0:u.radius)?void 0:p.id)&&(h.radiusVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.radius.id)}}),(h.boundVariables||void 0===e.boundVariables)&&delete h.boundVariables,{...h,type:"LAYER_BLUR"===e.type?"FOREGROUND_BLUR":e.type}}function om(e){let r={suffix:"",contentsOnly:!0,constraint:{type:"SCALE",value:1},useAbsoluteBounds:!1,svgOutlineText:!0,svgIdAttribute:!1,svgSimplifyStroke:!0,colorProfile:"DOCUMENT"};return e.map(e=>{let n=(0,n_.Kb)(e,r);return{imageType:"JPG"===n.format?"JPEG":n.format,suffix:n.suffix,contentsOnly:n.contentsOnly,constraint:{type:"CONTENT_"+n.constraint.type,value:n.constraint.value},useAbsoluteBounds:n.useAbsoluteBounds,svgOutlineText:n.svgOutlineText,svgForceStrokeMasks:!n.svgSimplifyStroke,svgIDMode:n.svgIdAttribute?"ALWAYS":"IF_NEEDED",colorProfile:n.colorProfile}})}function og(e){if("PERCENT"===e.units)return{unit:"AUTO"};if("RAW"===e.units)return{unit:"PERCENT",value:100*e.value};if("PIXELS"===e.units)return{unit:"PIXELS",value:e.value};throw Error("Unknown lineHeight unit")}function of(e){if("AUTO"===e.unit)return{units:"PERCENT",value:100};if("PERCENT"===e.unit)return{units:"RAW",value:e.value/100};if("PIXELS"===e.unit)return{units:"PIXELS",value:e.value};throw Error("Unknown lineHeight unit")}function o_(e){let r="NONE";if("ORDERED_LIST"===e)r="ORDERED";else if("UNORDERED_LIST"===e)r="UNORDERED";else if("PLAIN"===e)r="NONE";else throw Error("Unknown list option");return{type:r}}function oy(e,r,n,i){let a={strokeCap:i.strokeCap,strokeJoin:i.strokeJoin,cornerRadius:i.cornerRadius,handleMirroring:i.handleMirroring},o={fills:nv(i.fillPaints.data),fillStyleId:(0,rV.nM)(i.inheritedFillStyle)},s=i.overriddenInheritedFillStyles,l=new Map,d=new Map;for(let r of(l.set(0,a),d.set(0,o),e.styleOverrideTable||[])){(0,S.B1)(r.styleID,"Figma Internal Error: missing styleID when decoding vector network"),l.set(r.styleID,{strokeCap:"strokeCap"in r?r.strokeCap:a.strokeCap,strokeJoin:"strokeJoin"in r?r.strokeJoin:a.strokeJoin,cornerRadius:"cornerRadius"in r?r.cornerRadius:a.cornerRadius,handleMirroring:"handleMirroring"in r?r.handleMirroring:a.handleMirroring});let e={},n=s[r.styleID];n?e.fillStyleId=(0,rV.nM)(n):e.fillStyleId="fillPaints"in r?"":o.fillStyleId,(null==n?void 0:n.fills)?e.fills=nv(n.fills.data):n?e.fills=[]:e.fills="fillPaints"in r?nv(r.fillPaints):o.fills,d.set(r.styleID,e)}let c=function(e,r,n){let i=[],a=[],o=[];if(e.length<3)return{vertices:i,segments:a,regions:o};let s=new Int32Array(e.buffer),l=new Float32Array(s.buffer),d=0,c=s[d++],u=s[d++],p=s[d++];for(let e=0;e<c;e++){let e=s[d++],n=r.get(e)||r.get(0);i.push({x:l[d++],y:l[d++],...n})}for(let e=0;e<u;e++)d++,a.push({start:s[d++],tangentStart:{x:l[d++],y:l[d++]},end:s[d++],tangentEnd:{x:l[d++],y:l[d++]}});for(let e=0;e<p;e++){let e=s[d++],r=s[d++],i=e>>1,a={windingRule:1&e?"NONZERO":"EVENODD",loops:[],...n.get(i)||n.get(0)};for(let e=0;e<r;e++){let e=s[d++],r=[];for(let n=0;n<e;n++)r.push(s[d++]);a.loops.push(r)}o.push(a)}if(d!==s.length)throw Error("Failed to retrieve vector network, network data is invalid");return{vertices:i,segments:a,regions:o}}(n.bytes,l,d),u=e.normalizedSize||{x:1,y:1};return function(e,r){let n=e&&e.vertices||[],i=e&&e.segments||[],a=e&&e.regions||[],o={m00:r.x,m01:0,m02:0,m10:0,m11:r.y,m12:0};return{regions:ax(a),segments:i.map(e=>({start:e.start,end:e.end,tangentStart:aD(o,e.tangentStart),tangentEnd:aD(o,e.tangentEnd)})),vertices:n.map(e=>({...aD(o,e),strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring}))}}(c,{x:r.x/(u.x||1),y:r.y/(u.y||1)})}function oE(e,r,n,i){let a=function(e){let r=e&&e.vertices||[],n=e&&e.segments||[],i={x:1/0,y:1/0,width:-1/0,height:-1/0};for(let e of n)i=iz(i,iH(r[e.start],r[e.end]));for(let e of n){if(0===e.tangentStart.x&&0===e.tangentStart.y&&0===e.tangentEnd.x&&0===e.tangentEnd.y)continue;let n=r[e.start],a={x:n.x+e.tangentStart.x,y:n.y+e.tangentStart.y},o=r[e.end],s={x:o.x+e.tangentEnd.x,y:o.y+e.tangentEnd.y};iG(i,a)&&iG(i,s)||(i=iz(i,function(e,r,n,i){let a=iH(e,i);if(iG(a,r)&&iG(a,n))return a;let o=[0,0,0,0],s=[0,0,0,0],l=[0,0,0,0],d=[0,0,0,0],c=0,u=0;o[0]=0,s[0]=0,c=1+ak(e.x,r.x,n.x,i.x,o,1),u=1+ak(e.y,r.y,n.y,i.y,s,1),o[c++]=1,s[u++]=1,l[0]=e.x,d[0]=e.y;for(let a=1;a+1<c;a++)l[a]=aM(e.x,r.x,n.x,i.x,o[a]);for(let a=1;a+1<u;a++)d[a]=aM(e.y,r.y,n.y,i.y,s[a]);l[c-1]=i.x,d[u-1]=i.y;let p={x:e.x,y:e.y},h={x:e.x,y:e.y};for(let e=0;e<c;e++)p.x=Math.min(p.x,l[e]),h.x=Math.max(h.x,l[e]);for(let e=0;e<u;e++)p.y=Math.min(p.y,d[e]),h.y=Math.max(h.y,d[e]);return{x:p.x,y:p.y,width:h.x-p.x,height:h.y-p.y}}(n,a,s,o)))}return isFinite(i.x)&&isFinite(i.y)&&isFinite(i.width)&&isFinite(i.height)?i:{x:0,y:0,width:0,height:0}}(e),o=function(e,r){let n=e&&e.vertices||[],i=e&&e.segments||[],a=e&&e.regions||[],o={m00:1,m01:0,m02:r.x,m10:0,m11:1,m12:r.y};return{regions:ax(a),segments:function(e){let r=[];return e&&e.forEach(e=>{r.push({start:e.start,tangentStart:{...e.tangentStart},end:e.end,tangentEnd:{...e.tangentEnd}})}),r}(i),vertices:n.map(e=>({...aD(o,e),strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring}))}}(e,{x:-a.x,y:-a.y}),s={strokeCap:"NONE",strokeJoin:"MITER",cornerRadius:0,handleMirroring:"NONE"},l=[],d=new Map,c=o.vertices.map(e=>{let r=(0,n_.Kb)(e,s),n=r.strokeCap+"|"+r.strokeJoin+"|"+r.cornerRadius+"|"+r.handleMirroring,i=d.get(n);return void 0===i&&(i=l.length+1,l.push({styleID:i,strokeCap:r.strokeCap,strokeJoin:r.strokeJoin,cornerRadius:r.cornerRadius,handleMirroring:r.handleMirroring}),d.set(n,i)),i}),u=o.regions.map(e=>{let a=l.length+1;if(e.fillStyleId){let r=(0,rV.eX)(e.fillStyleId);if((0,S.B1)(r,`Invalid fillStyleId ${e.fillStyleId}`),!r)return 0;let n=rP.glU.getStyleNodeId(r.key,r.version),o=V.sH(n);if(!o)return 0;let s={styleID:a,inheritFillStyleID:o},d=i.get(n).styleId;if(d.guid)s.styleIdForFill={guid:o};else if(d.ref)s.styleIdForFill={assetRef:d.ref};else throw Error(`Invalid StyleId ${d}`);return l.push(s),a}return e.fills?(l.push({styleID:a,fillPaints:nS(r,n,e.fills,[])}),a):0});return{boundingBox:a,blob:{bytes:function(e,r,n){let i=e&&e.vertices||[],a=e&&e.segments||[],o=e&&e.regions||[],s=[i.length,a.length,o.length],l=new Float32Array(1),d=new Int32Array(l.buffer);function c(e){return l[0]=e,d[0]}for(let e=0;e<i.length;e++){let n=i[e];s.push(r[e],c(n.x),c(n.y))}for(let e=0;e<a.length;e++){let r=a[e];s.push(0,r.start,c(r.tangentStart.x),c(r.tangentStart.y),r.end,c(r.tangentEnd.x),c(r.tangentEnd.y))}for(let e=0;e<o.length;e++){let r=o[e],i=r.loops;if("NONZERO"!==r.windingRule&&"EVENODD"!==r.windingRule)throw Error("Invalid network has invalid winding rule "+JSON.stringify(r.windingRule));s.push(n[e]<<1|("NONZERO"===r.windingRule?1:0),i.length);for(let e=0;e<i.length;e++){let r=i[e];s.push(r.length);for(let e=0;e<r.length;e++)s.push(r[e])}}return new Uint8Array(new Int32Array(s).buffer)}(o,c,u)},styleOverrideTable:l}}function ob(e){var r,n,i,a,o,s,l,d;let c={pattern:"GRID"===e.pattern?"GRID":"X"===e.axis?"COLUMNS":"ROWS",visible:e.visible,color:e.color},u={};if((null==(n=null==(r=e.offsetVar)?void 0:r.value)?void 0:n.alias)&&(u.offset=ny(e.offsetVar.value.alias)),(null==(a=null==(i=e.sectionSizeVar)?void 0:i.value)?void 0:a.alias)&&(u.sectionSize=ny(e.sectionSizeVar.value.alias)),(null==(s=null==(o=e.numSectionsVar)?void 0:o.value)?void 0:s.alias)&&(u.count=ny(e.numSectionsVar.value.alias)),(null==(d=null==(l=e.gutterSizeVar)?void 0:l.value)?void 0:d.alias)&&(u.gutterSize=ny(e.gutterSizeVar.value.alias)),c.boundVariables=u,"STRIPES"===e.pattern)switch(c.gutterSize=e.gutterSize,c.alignment=e.type,e.type){case"MIN":case"MAX":c.count=e.numSections===iT.F?Number.POSITIVE_INFINITY:e.numSections,c.sectionSize=e.sectionSize,c.offset=e.offset;break;case"STRETCH":c.count=e.numSections===iT.F?1:e.numSections,c.offset=e.offset;break;case"CENTER":c.count=e.numSections===iT.F?Number.POSITIVE_INFINITY:e.numSections,c.sectionSize=e.sectionSize}else c.sectionSize=e.sectionSize;return c}function ov(e){var r,n,i,a,o,s,l,d;let c=(0,n_.Kb)(e,{alignment:"STRETCH",count:5,gutterSize:20,sectionSize:10,offset:0,visible:!0,color:{r:1,g:0,b:0,a:.1}}),u={pattern:"COLUMNS"===c.pattern||"ROWS"===c.pattern?"STRIPES":c.pattern,axis:"COLUMNS"===c.pattern?"X":"Y",numSections:Math.min(c.count,iT.F),type:c.alignment,gutterSize:c.gutterSize,sectionSize:c.sectionSize,offset:c.offset,visible:c.visible,color:c.color};return e.boundVariables&&((null==(n=null==(r=e.boundVariables)?void 0:r.count)?void 0:n.id)&&(u.numSectionsVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.count.id)}}),(null==(a=null==(i=e.boundVariables)?void 0:i.sectionSize)?void 0:a.id)&&(u.sectionSizeVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.sectionSize.id)}}),(null==(s=null==(o=e.boundVariables)?void 0:o.offset)?void 0:s.id)&&(u.offsetVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.offset.id)}}),(null==(d=null==(l=e.boundVariables)?void 0:l.gutterSize)?void 0:d.id)&&(u.gutterSizeVar={dataType:"ALIAS",resolvedDataType:"FLOAT",value:{alias:nm.sH(e.boundVariables.gutterSize.id)}})),u}function oS(e,r){let n=e.newObject();return e.setProp(n,"x",e.newNumber(r.x)),e.setProp(n,"y",e.newNumber(r.y)),e.setProp(n,"width",e.newNumber(r.w)),e.setProp(n,"height",e.newNumber(r.h)),n}function oI(e,r){return e.newString(oT(r))}function oT(e){switch(e){case"FIXED":return"FIXED";case"RESIZE_TO_FIT":case"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":return"AUTO"}}function ow(e){switch(e){case"MIN":case"CENTER":case"MAX":case"BASELINE":case"STRETCH":return e;case"AUTO":return"INHERIT"}}function oC(e){switch(e){case"MIN":return"MIN";case"MAX":return"MAX";case"CENTER":return"CENTER";case"SPACE_EVENLY":case"SPACE_BETWEEN":return"SPACE_BETWEEN"}}function oA(e){switch(e){case rP.mKm.FIXED:return"FIXED";case rP.mKm.HUG_CONTENT:return"HUG";case rP.mKm.FILL_CONTAINER:return"FILL"}}function oN(e){switch(e){case"FIXED":return rP.mKm.FIXED;case"HUG":return rP.mKm.HUG_CONTENT;case"FILL":return rP.mKm.FILL_CONTAINER}}function oO(e,r,n,i){if("mixed"===n)return r;let a=n||"ORIGINAL";if(void 0!==i&&"ORIGINAL"===a){if("mixed"===i)return r;"SMALL"===i?a="SMALL_CAPS":"ALL_SMALL"===i&&(a="SMALL_CAPS_FORCED")}return e.newString(a)}(e=>{function r(e,r){return function({vm:n,defineVmProp:i,getNode:a},o){i({handle:o,key:e,options:{enumerable:!0,metricsKey:`node.${e}`,get(){let r=a(this)[e];return null==r?n.null:n.newNumber(r)},set(i){let o=a(this),s=(0,n_.u)({vm:n,handle:i,vmSchema:n_.By.oneOf([nz.mk,null]),zSchema:h.PositiveFloat.nullable(),property:e});if(null!=s){let n=o.parentNode;if("NONE"===o.stackMode&&(!n||"NONE"===n.stackMode))throw Error(`Can only set ${e} on auto layout nodes and their children`);if("min"===r&&0===s)throw Error(`${e} cannot be set to 0, use null to unset`);if("max"===r&&s===1/0)throw Error(`${e} cannot be set to Infinity, use null to unset`)}return o[e]=s,n.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})}}e.toString=function({vm:e,defineVmFunction:r},n){r({handle:n,key:"toString",metricsKey:"node.toString",cb:function(){let r=e.toString(e.getProp(this,"id"));return e.newString(`[Node ${r}]`)},isAllowedInReadOnly:!0,hasEditScope:!1})},e.clone=function({getNodeFactory:e,editorType:r,defineVmFunction:n,getNode:i},a){n({handle:a,key:"clone",metricsKey:"node.clone",cb:function(){let n=i(this),a=n.type;if("DOCUMENT"===a||r===nr.nT.Design&&nQ().includes(a)||r===nr.nT.Whiteboard&&nJ().includes(a))throw Error(`Cloning ${a} nodes is not supported in the current editor`);let o=n.clone();return e().createNode(o,"node.clone")},isAllowedInReadOnly:!1,hasEditScope:!0})},e.cloneWidget=function({vm:e,pluginID:r,getNodeFactory:n,widgetManager:i,defineVmFunction:a,getNode:o,sceneGraph:s},l){a({handle:l,key:"cloneWidget",metricsKey:"node.cloneWidget",cb:function(a,l){if(!i)return e.undefined;let d=o(this);if(d.widgetId!==r)return e.undefined;let c=d.clone(),u=n().createNode(c,"node.cloneWidget"),p=o(u);p.reversedChildrenGuids.forEach(e=>{let r=s.get(e);null==r||r.removeSelfAndChildren()});let{syncedState:h,syncedMap:m}=oi(e,a,l);return aY(p,h,m),i.scheduleRender(c),u},isAllowedInReadOnly:!1,hasEditScope:!0})},e.setWidgetSyncedState=function({vm:e,pluginID:r,widgetManager:n,pluginVersionID:i,defineVmFunction:a,getNode:o},s){a({handle:s,key:"setWidgetSyncedState",metricsKey:"node.setWidgetSyncedState",cb:function(a,s){var l,d,c;if(!n)return T.k.warn("Attempting to set widget synced state from a plugin. This is not supported."),e.undefined;let u=o(this),p=u.widgetId,h=u.guid;if(p!==r)return e.undefined;if(u.widgetVersionId!==i){let r=!u.widgetVersionId,n=!i;if(n!==r)return n&&!r&&T.k.warn("Attempting to set widget synced state from a widget that is a local widget to a published widget."),!n&&r&&T.k.warn("Attempting to set widget synced state from a published widget to a local widget."),e.undefined;u.widgetVersionId=i}let{syncedState:m,syncedMap:g}=oi(e,a,s);return l=u,d=m,c=g,l&&(rL.l7.plugin("clear-widget-synced-state",()=>null==l?void 0:l.clearWidgetSyncedState()),aY(l,d,c)),n.scheduleRender(h),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.remove=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"remove",metricsKey:"node.remove",cb:function(){return n(this).removeSelfAndChildren(),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.exportNode=function({vm:e,defineVmFunction:r,getNode:n,validatedPermissions:i,documentAccessState:a},o){r({handle:o,key:"exportAsync",metricsKey:"node.exportAsync",cb:function(r){let o=n(this);a.checkAllowedPage(o,{method:"exportAsync"});let s=i.permissions.includes("cortex")||i.permissions.includes("firstdraft"),l=nz.R2(s),d=h.getExportAsyncSetting(s),c=(0,n_.u)({vm:e,handle:r,vmSchema:l.isOptional,zSchema:d.optional(),property:"settings"})||{format:"PNG"},u=!1;"SVG_STRING"===c.format&&(c.format="SVG",u=!0);let{promise:p,resolve:m,reject:g}=e.newPromise();return(function(e){let r=e;for(;r;){if(r.isInternalOnlyNode)return!0;r=r.parentNode}return!1}(o)&&"SVG"===c.format&&!1===c.contentsOnly&&g(e.newString("You must set contentsOnly to true when exporting a remote component as an SVG")),"JSON_REST_V1"===c.format)?m(e.deepWrap(o.getRestfulJSON())):"FIRST_DRAFT_JSON"===c.format?m(e.deepWrap(o.getFirstDraftJSON())):e.registerPromise(o.loadImagesAndExport(om([c]))).then(r=>{if(0===r.length&&g(e.newString("Failed to export node")),u){let n=new TextDecoder().decode(r);m(e.newString(n))}else m(e.newUint8Array(r))},()=>{g(e.newString("Failed to export node"))}),p},isAllowedInReadOnly:!0,hasEditScope:!1})},e.resolvedVariableModes=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"resolvedVariableModes",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"node.resolvedVariableModes",get:function(){return e.deepWrap(n(this).resolvedVariableModes())}}})},e.explicitVariableModes=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"explicitVariableModes",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"node.explicitVariableModes",get:function(){return e.deepWrap(n(this).explicitVariableModes())}}})},e.parent=function({vm:e,getNodeFactory:r,defineVmProp:n,getNode:i},a){n({handle:a,key:"parent",options:{enumerable:!0,metricsKey:"node.parent",get:function(){let n=i(this).parentGuid;if(null===n)return e.null;let a=r().createNode(n,"node.parent"),o=i(a);return"CANVAS"===o.type&&o.isInternalOnlyNode?e.null:a}},canWriteInReadOnly:!1,hasEditScope:!1})},e.name=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"name",options:{enumerable:!0,metricsKey:"node.name",get:function(){let r=n(this);return"DOCUMENT"===r.type?e.newString(rR.Y5.getCurrentFileName()):e.newString(r.name)},set:function(r){let i=n(this);if("TEXT"===i.type||(0,nl.MT)(i.type))i.autoRename=!1;else if("DOCUMENT"===i.type){if(e.isString(r))return T.k.warn("Setting the document name is currently not supported"),e.undefined;throw Error("Setting the document name is currently not supported")}return i.name=(0,n_.u)({vm:e,handle:r,zSchema:F.string(),vmSchema:n_.By.string,property:"name"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.visible=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"visible",options:{enumerable:!0,metricsKey:"node.visible",get:function(){return e.newBoolean(n(this).visible)},set:function(r){return n(this).visible=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"visible"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.locked=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"locked",options:{enumerable:!0,metricsKey:"node.locked",get:function(){return e.newBoolean(n(this).locked)},set:function(r){return n(this).locked=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"locked"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.expanded=function({vm:e,editorType:r,defineVmProp:n,getNode:i},a){n({handle:a,key:"expanded",options:{enumerable:!0,metricsKey:"node.expanded",get:function(){return e.newBoolean(i(this).isExpanded)},set:function(n){return r===nr.nT.DevHandoff||(i(this).isExpanded=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"expanded"})),e.undefined}},canWriteInReadOnly:!0,hasEditScope:!0})},e.removed=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"removed",options:{enumerable:!0,metricsKey:"node.removed",get:function(){try{return n(this),e.newBoolean(!1)}catch(r){if(r instanceof oe)return e.newBoolean(!0);throw r}}},canWriteInReadOnly:!1,hasEditScope:!0})},e.children=function({vm:e,getNodeFactory:r,defineVmProp:n,documentAccessState:i,getNode:a,sceneGraph:o},s){n({handle:s,key:"children",options:{enumerable:!0,metricsKey:"node.children",get:function(){let n=e.newArray(),s=a(this);if(i.checkAllowedPage(s,{property:"children"}),"TABLE"===s.type){let i=s.sortedTableCells;for(let a=0;a<i.length;a++)e.setProp(n,a.toString(),r().createNode(i[a],"node.children"))}else{let i=s.reversedChildrenGuids,a=i.length;if("0:0"!==e.getStringProp(this,"id"))for(let o=0;o<a;o++)e.setProp(n,o.toString(),r().createNode(i[a-o-1],"node.children"));else for(let s=0,l=0;s<a;s++){let d=i[a-s-1];!or(d,o).isInternalOnlyNode&&(e.setProp(n,l.toString(),r().createNode(d,"node.children")),l++)}}return e.deepFreezeObject(n),n}},canWriteInReadOnly:!1,hasEditScope:!1})},e.stuckNodes=function({vm:e,getNodeFactory:r,defineVmProp:n,getNode:i},a){n({handle:a,key:"stuckNodes",options:{enumerable:!0,metricsKey:"node.stuckNodes",get:function(){let n=e.newArray(),a=i(this).stuckNodes;for(let i=0;i<a.length;i++)e.setProp(n,String(i),r().createNode(a[i],"node.stuckNodes"));return e.deepFreezeObject(n),n}},canWriteInReadOnly:!1,hasEditScope:!1})},e.stuckTo=function({vm:e,getNodeFactory:r,defineVmProp:n,getNode:i},a){n({handle:a,key:"stuckTo",options:{enumerable:!0,metricsKey:"node.stuckTo",get:function(){let n=i(this);return null==n.stickableHost?e.null:r().createNode(n.stickableHost,"node.stuckTo")}},canWriteInReadOnly:!1,hasEditScope:!1})},e.findOne=function({vm:e,getNodeFactory:r,defineVmFunction:n,documentAccessState:i,getNode:a,sceneGraph:o},s){n({handle:s,key:"findOne",metricsKey:"node.findOne",cb:function(n){let s=(i,a)=>{let l="TABLE"===i.type?i.sortedTableCells.reverse():i.reversedChildrenGuids,d=l.length;for(let i=0;i<d;i++){let c=or(l[d-i-1],o);if(a&&c.isInternalOnlyNode||oa(e,c))continue;let u=r().createNode(c.guid,"node.findOne"),p=e.callFunction(n,e.null,u);if("FAILURE"===p.type)throw Error(`"findOne" callback crashed: ${p.error.message}`);if(e.toBoolean(p.handle))return u;let h=s(c,!1);if(void 0!==h)return h}},l=a(this);i.checkAllowedMethodDocumentOrPage(l,{method:"findOne"});let d=s(l,"0:0"===l.guid);return void 0!==d?d:e.null},isAllowedInReadOnly:!0,hasEditScope:!1})},e.findAll=function({vm:e,getNodeFactory:r,defineVmFunction:n,documentAccessState:i,getNode:a,sceneGraph:o},s){n({handle:s,key:"findAll",metricsKey:"node.findAll",cb:function(n){let s=e.toBoolean(n),l=e.newArray(),d=0,c=(i,a)=>{let u="TABLE"===i.type?i.sortedTableCells.reverse():i.reversedChildrenGuids,p=u.length;for(let i=0;i<p;i++){let h=or(u[p-i-1],o);if(a&&h.isInternalOnlyNode||oa(e,h))continue;let m=r().createNode(h.guid,"node.findAll");if(s){let r=e.callFunction(n,e.null,m);if("FAILURE"===r.type)throw Error(`"findAll" callback crashed: ${r.error.message}`);e.toBoolean(r.handle)&&(e.setProp(l,d+"",m),d++)}else e.setProp(l,d+"",m),d++;c(h,!1)}},u=a(this);return i.checkAllowedMethodDocumentOrPage(u,{method:"findAll"}),c(u,"0:0"===u.guid),l},isAllowedInReadOnly:!0,hasEditScope:!1})},e.findAllWithCriteria=function({vm:e,getNodeFactory:r,pluginID:n,defineVmFunction:i,documentAccessState:a,getNode:o},s){i({handle:s,key:"findAllWithCriteria",metricsKey:"node.findAllWithCriteria",cb:function(i){var s;let l;let d=(0,n_.u)({vm:e,handle:i,vmSchema:nz.pB,zSchema:h.FindCriteriaWithPluginDataSchema,property:"criteria"}),c=e.newArray(),u=0;if((null==(s=d.sharedPluginData)?void 0:s.namespace)&&oo(d.sharedPluginData.namespace),d.pluginData){if(n)l={...d.pluginData,pluginID:n};else throw Error("Cannot filter by pluginData outside of a plugin")}let p={...d,types:d.types,pluginData:l};if(Object.values(p).every(e=>!e))throw Error("Must specify at least one criteria with findAllWithCriteria");let m=o(this);for(let n of(a.checkAllowedMethodDocumentOrPage(m,{method:"findAllWithCriteria"}),m.findAllWithCriteria(p))){let[i,a]=n;e.setProp(c,u+"",r().createNodeWithDevFriendlyId(i,a.toUpperCase(),"node.findAllWithCriteria")),u++}return c},isAllowedInReadOnly:!0,hasEditScope:!1})},e.findChild=function({vm:e,getNodeFactory:r,defineVmFunction:n,getNode:i,sceneGraph:a,documentAccessState:o},s){n({handle:s,key:"findChild",metricsKey:"node.findChild",cb:function(n){let s=i(this);o.checkAllowedPage(s,{method:"findChild"});let l="0:0"===s.guid,d=s.reversedChildrenGuids,c=d.length;for(let i=0;i<c;i++){let o=or(d[c-i-1],a);if(l&&o.isInternalOnlyNode)continue;let s=r().createNode(o.guid,"node.findChild"),u=e.callFunction(n,e.null,s);if("FAILURE"===u.type)throw Error(`"findChild" callback crashed: ${u.error.message}`);if(e.toBoolean(u.handle))return s}return e.null},isAllowedInReadOnly:!0,hasEditScope:!1})},e.findChildren=function({vm:e,getNodeFactory:r,defineVmFunction:n,getNode:i,sceneGraph:a,documentAccessState:o},s){n({handle:s,key:"findChildren",metricsKey:"node.findChildren",cb:function(n){let s=i(this);o.checkAllowedPage(s,{method:"findChildren"});let l="0:0"===s.guid,d=e.newArray(),c=0,u="TABLE"===s.type?s.sortedTableCells.reverse():s.reversedChildrenGuids,p=u.length;for(let i=0;i<p;i++){let o=or(u[p-i-1],a);if(l&&o.isInternalOnlyNode||oa(e,o))continue;let s=r().createNode(o.guid,"node.findChildren"),h=e.callFunction(n,e.null,s);if("FAILURE"===h.type)throw Error(`"findChildren" callback crashed: ${h.error.message}`);e.toBoolean(h.handle)&&(e.setProp(d,c+"",s),c++)}return d},isAllowedInReadOnly:!0,hasEditScope:!1})},e.findWidgetNodesByWidgetId=function({vm:e,getNodeFactory:r,defineVmFunction:n,getNode:i,sceneGraph:a,documentAccessState:o},s){n({handle:s,key:"findWidgetNodesByWidgetId",metricsKey:"node.findWidgetNodesByWidgetId",cb:function(n){let s=e.newArray(),l=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"widgetId"});if(!l)return s;let d=i(this);o.checkAllowedMethodDocumentOrPage(d,{method:"findWidgetNodesByWidgetId"});let c=d.findAllWithCriteria({types:["WIDGET"]}),u=0;return c.forEach(([n,i])=>{let o=a.get(n);if((null==o?void 0:o.widgetId)!==l)return;let d=r().createNode(n,"node.findWidgetNodesByWidgetId");e.setProp(s,u.toString(),d),u++}),s},isAllowedInReadOnly:!0,hasEditScope:!1})},e.loadAsync=function({vm:e,defineVmFunction:r,documentAccessState:n,getNode:i},a){r({handle:a,key:"loadAsync",metricsKey:"node.loadAsync",cb:function(){let r=i(this);if("CANVAS"!==r.type)throw Error("Cannot call loadAsync on a non-page node.");let{promise:a,resolve:o,reject:s}=e.newPromise();return e.registerPromise((0,n0.vf)(r.guid,n)).then(()=>{o(e.null)}).catch(r=>{s(e.newString(r.message))}),a},isAllowedInReadOnly:!0,hasEditScope:!1})},e.appendChild=function({vm:e,defineVmFunction:r,getNode:n,sceneGraph:i,documentAccessState:a},o){r({handle:o,key:"appendChild",metricsKey:"node.appendChild",cb:function(r){let i=n(this);return a.checkAllowedPage(i,{method:"appendChild"}),i.appendChild(n(r)),e.null},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:o,key:"insertChild",metricsKey:"node.insertChild",cb:function(r,o){let s=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer,zSchema:h.Integer,property:"index"}),l=n(this);if(a.checkAllowedPage(l,{method:"insertChild"}),"0:0"===e.getStringProp(this,"id")){let e=l.reversedChildrenGuids,r=e.length;for(let n=0;n<r&&n<s;n++)or(e[r-n-1],i).isInternalOnlyNode&&s++}return l.insertChild(n(o),s),e.null},isAllowedInReadOnly:!1,hasEditScope:!0})},e.widgetId=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"widgetId",options:{enumerable:!0,metricsKey:"node.widgetId",get(){let r=n(this);return"WIDGET"!==r.type?(T.k.warn("Cannot call widgetId on non widget node"),e.undefined):e.newString(r.widgetId)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.widgetSyncedState=function({vm:e,pluginID:r,defineVmProp:n,getNode:i},a){n({handle:a,key:"widgetSyncedState",options:{enumerable:!0,metricsKey:"node.widgetSyncedState",get(){let n=i(this);return r!==n.widgetId?e.newObject():e.deepWrap(function(e,r){let n=aj(e,r),i=function(e,r){let n="current"===e?null==r?void 0:r.getWidgetSyncedState():null==r?void 0:r.renderedSyncedState,i={},a=new Set;try{for(let o of Object.keys(n))if(o.startsWith(aK)){let[,n]=o.split(":",3);a.has(n)||(a.add(n),i[n]=aZ(e,r,n))}return i}catch(e){(0,L.$D)(D.e.EXTENSIBILITY,Error(`Invalid syncedMap values for widgetID=${r.widgetId}: ${e}`))}return{}}(e,r);return{...n,...i}}("current",n))}},canWriteInReadOnly:!1,hasEditScope:!1})},e.constraints=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"constraints",options:{enumerable:!0,metricsKey:"node.constraints",get(){let r=i(this);if(on(r)||"BOOLEAN_OPERATION"===r.type)return e.undefined;let n=e.deepWrap({horizontal:r.horizontalConstraint,vertical:r.verticalConstraint});return e.deepFreezeObject(n),n},set(r){let a=i(this);if(on(a))throw Error("Groups do not have a constraint property. Please set the constraints on the node's children.");if("BOOLEAN_OPERATION"===a.type)throw Error("Boolean operations do not have a constraint property. Please set the constraints on the node's children.");let{vertical:o,horizontal:s}=(0,n_.u)({vm:e,handle:r,vmSchema:nz.vc,zSchema:h.Constraints,property:"constraints"});return a.verticalConstraint=o,a.horizontalConstraint=s,n.stackFieldSet(a.guid,"horizontal-constraint"),n.stackFieldSet(a.guid,"vertical-constraint"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutAlign=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"layoutAlign",options:{enumerable:!0,metricsKey:"node.layoutAlign",get(){var r;return r=i(this).stackChildAlignSelf,e.newString(ow(r))},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz._C,zSchema:h.LayoutAlign,property:"layoutAlign"});if(!(0,O.kc)().ce_legacy_al&&"INHERIT"!==a&&"STRETCH"!==a)return T.k.warn(`${a} is no longer a supported value for layoutAlign`),e.undefined;"INHERIT"===a&&(a="AUTO");let o=i(this);return o.stackChildAlignSelf=a,n.stackFieldSet(o.guid,"stack-child-align-self"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutMode=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"layoutMode",options:{enumerable:!0,metricsKey:"node.layoutMode",get(){return e.newString(i(this).stackMode)},set(r){let a=i(this),o=(0,n_.u)({vm:e,handle:r,vmSchema:nz.SI,zSchema:h.LayoutMode,property:"layoutMode"});return"WRAP"===a.stackWrap&&"HORIZONTAL"!==o&&(a.stackWrap="NO_WRAP"),a.stackMode=o,n.stackFieldSet(a.guid,"stack-mode"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutWrap=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"layoutWrap",options:{enumerable:!0,metricsKey:"node.layoutWrap",get(){return e.newString(i(this).stackWrap)},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.DK,zSchema:h.StackWrap,property:"layoutWrap"}),o=i(this);if("WRAP"===a&&"HORIZONTAL"!==o.stackMode)throw Error("Can only set layoutWrap = WRAP on nodes with layoutMode === HORIZONTAL");return o.stackWrap=a,n.stackFieldSet(o.guid,"stack-wrap"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.counterAxisAlignContent=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"counterAxisAlignContent",options:{enumerable:!0,metricsKey:"node.counterAxisAlignContent",get(){return e.newString(i(this).stackCounterAlignContent)},set(r){let a=i(this),o=(0,n_.u)({vm:e,handle:r,vmSchema:nz.$_,zSchema:h.StackCounterAlignContent,property:"counterAxisAlignContent"});return a.stackCounterAlignContent=o,n.stackFieldSet(a.guid,"stack-counter-align-content"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.counterAxisSizingMode=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"counterAxisSizingMode",options:{enumerable:!0,metricsKey:"node.counterAxisSizingMode",get(){return oI(e,i(this).stackCounterSizing)},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:(0,O.kc)().ce_legacy_al?nz.fq:nz.MZ,zSchema:(0,O.kc)().ce_legacy_al?h.SizingModeLegacy:h.SizingMode,property:"counterAxisSizingMode"}),o=i(this);switch(a){case"FIXED":o.stackCounterSizing="FIXED";break;case"AUTO":o.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"}return n.stackFieldSet(o.guid,"stack-counter-sizing"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.primaryAxisSizingMode=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"primaryAxisSizingMode",options:{enumerable:!0,metricsKey:"node.primaryAxisSizingMode",get(){return oI(e,i(this).stackPrimarySizing)},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:(0,O.kc)().ce_legacy_al?nz.fq:nz.MZ,zSchema:(0,O.kc)().ce_legacy_al?h.SizingModeLegacy:h.SizingMode,property:"primaryAxisSizingMode"}),o=i(this);switch(a){case"FIXED":o.stackPrimarySizing="FIXED";break;case"AUTO":o.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE";break;case"LEGACY_AUTO":o.stackPrimarySizing="RESIZE_TO_FIT"}return n.stackFieldSet(o.guid,"stack-primary-sizing"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.primaryAxisAlignItems=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"primaryAxisAlignItems",options:{enumerable:!0,metricsKey:"node.primaryAxisAlignItems",get(){var r;return r=n(this).stackPrimaryAlignItems,e.newString(oC(r))},set(r){switch((0,n_.u)({vm:e,handle:r,vmSchema:(0,O.kc)().ce_legacy_al?nz.EK:nz.b7,zSchema:(0,O.kc)().ce_legacy_al?h.StackJustifyLegacy:h.StackJustify,property:"primaryAxisAlignItems"})){case"MIN":n(this).stackPrimaryAlignItems="MIN";break;case"MAX":n(this).stackPrimaryAlignItems="MAX";break;case"CENTER":n(this).stackPrimaryAlignItems="CENTER";break;case"SPACE_BETWEEN":n(this).stackPrimaryAlignItems=(0,O.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY";break;case"SPACE_BETWEEN_LEGACY":n(this).stackPrimaryAlignItems="SPACE_EVENLY"}return e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.counterAxisAlignItems=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"counterAxisAlignItems",options:{enumerable:!0,metricsKey:"node.counterAxisAlignItems",get(){return e.newString(i(this).stackCounterAlignItems)},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Uv,zSchema:h.StackAlign,property:"counterAxisAlignItems"}),o=i(this);if("BASELINE"===a&&"HORIZONTAL"!==o.stackMode)throw Error("counterAxisAlignItems = BASELINE can only be set when layoutMode === HORIZONTAL");return o.stackCounterAlignItems=a,n.stackFieldSet(o.guid,"stack-counter-align-items"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutGrow=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"layoutGrow",options:{enumerable:!0,metricsKey:"node.layoutGrow",get(){return e.newNumber(i(this).stackChildPrimaryGrow)},set(r){let a=i(this);return a.stackChildPrimaryGrow=(0,n_.u)({vm:e,handle:r,vmSchema:nz.aT,zSchema:h.ZeroOrOne,property:"layoutGrow"}),n.stackFieldSet(a.guid,"stack-child-primary-grow"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutSizingHorizontal=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"layoutSizingHorizontal",options:{enumerable:!0,metricsKey:"node.layoutSizingHorizontal",get(){let r=n(this).stackHorizontalLayoutSize;return e.newString(oA(r))},set(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:nz.zF,zSchema:h.LayoutSizing,property:"layoutSizingHorizontal"});return n(this).stackHorizontalLayoutSize=oN(i),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutSizingVertical=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"layoutSizingVertical",options:{enumerable:!0,metricsKey:"node.layoutSizingVertical",get(){let r=n(this).stackVerticalLayoutSize;return e.newString(oA(r))},set(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:nz.zF,zSchema:h.LayoutSizing,property:"layoutSizingVertical"});return n(this).stackVerticalLayoutSize=oN(i),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.horizontalPadding=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"horizontalPadding",options:{enumerable:!0,metricsKey:"node.horizontalPadding",get(){return T.k.warn("reading horizontalPadding is no longer supported as left and right padding may differ"),e.newNumber(n(this).stackLeftPadding)},set(r){let i=(0,n_.u)({vm:e,handle:r,zSchema:h.PositiveFloat,vmSchema:nz.mk,property:"horizontalPadding"});return n(this).stackLeftPadding=i,n(this).stackRightPadding=i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.verticalPadding=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"verticalPadding",options:{enumerable:!0,metricsKey:"node.verticalPadding",get(){return T.k.warn("reading verticalPadding is no longer supported as top and bottom padding may differ"),e.newNumber(n(this).stackTopPadding)},set(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"verticalPadding"});return n(this).stackTopPadding=i,n(this).stackBottomPadding=i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.paddingLeft=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"paddingLeft",options:{enumerable:!0,metricsKey:"node.paddingLeft",get:function(){return e.newNumber(n(this).stackLeftPadding)},set:function(r){return n(this).stackLeftPadding=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"paddingLeft"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.paddingRight=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"paddingRight",options:{enumerable:!0,metricsKey:"node.paddingRight",get:function(){return e.newNumber(n(this).stackRightPadding)},set:function(r){return n(this).stackRightPadding=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"paddingRight"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.paddingTop=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"paddingTop",options:{enumerable:!0,metricsKey:"node.paddingTop",get:function(){return e.newNumber(n(this).stackTopPadding)},set:function(r){return n(this).stackTopPadding=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"paddingTop"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.paddingBottom=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"paddingBottom",options:{enumerable:!0,metricsKey:"node.paddingBottom",get:function(){return e.newNumber(n(this).stackBottomPadding)},set:function(r){return n(this).stackBottomPadding=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"paddingBottom"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.itemSpacing=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"itemSpacing",options:{enumerable:!0,metricsKey:"node.itemSpacing",get(){return e.newNumber(n(this).stackSpacing)},set(r){return n(this).stackSpacing=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float,zSchema:h.Float,property:"itemSpacing"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.counterAxisSpacing=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"counterAxisSpacing",options:{enumerable:!0,metricsKey:"node.counterAxisSpacing",get(){return e.newNumber(n(this).stackCounterSpacing)},set(r){return n(this).stackCounterSpacing=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.oneOf([nz.mk,null]),zSchema:h.PositiveFloat.nullable(),property:"counterAxisSpacing"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutPositioning=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"layoutPositioning",options:{enumerable:!0,metricsKey:"node.layoutPositioning",get(){return e.newString(i(this).stackPositioning)},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.or,zSchema:h.LayoutPositioning,property:"layoutPositioning"}),o=i(this);if("AUTO"===a)o.stackPositioning=a;else{let e=o.parentNode;if(!e||"NONE"===e.stackMode)throw Error("Can only set layoutPositioning = ABSOLUTE if the parent node has layoutMode !== NONE");o.stackPositioning=a}return n.stackFieldSet(o.guid,"stack-positioning"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.itemReverseZIndex=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"itemReverseZIndex",options:{enumerable:!0,metricsKey:"node.itemReverseZIndex",get(){return e.newBoolean(n(this).stackReverseZIndex)},set(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"itemReverseZIndex"}),a=n(this);if("NONE"===a.stackMode)throw Error("Can only set itemReverseZIndex on nodes with layoutMode !== NONE");return a.stackReverseZIndex=i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.strokesIncludedInLayout=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"strokesIncludedInLayout",options:{enumerable:!0,metricsKey:"node.strokesIncludedInLayout",get(){return e.newBoolean(n(this).bordersTakeSpace)},set(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"strokesIncludedInLayout"}),a=n(this);if("NONE"===a.stackMode)throw Error("Can only set strokesIncludedInLayout on nodes with layoutMode !== NONE");return a.bordersTakeSpace=i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.relativeTransform=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"relativeTransform",options:{enumerable:!0,metricsKey:"node.relativeTransform",get:function(){let r=e.deepWrap(ng(n(this).relativeTransform));return e.deepFreezeObject(r),r},set:function(r){return n(this).relativeTransform=nf((0,n_.u)({vm:e,handle:r,vmSchema:nz.uq,zSchema:h.Matrix,property:"relativeTransform"})),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.absoluteTransform=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"absoluteTransform",options:{enumerable:!0,metricsKey:"node.absoluteTransform",get:function(){let r=e.deepWrap(ng(n(this).absoluteTransform));return e.deepFreezeObject(r),r}},canWriteInReadOnly:!1,hasEditScope:!1})},e.rotation=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"rotation",options:{enumerable:!0,metricsKey:"node.rotation",get:function(){let r=function({m00:e,m10:r}){return Math.atan2(-r,e)}(n(this).relativeTransform);return e.newNumber(180/Math.PI*r)},set:function(r){let i=n(this),a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float,zSchema:h.Float,property:"rotation"});return i.relativeTransform=function({m00:e,m01:r,m02:n,m10:i,m11:a,m12:o},s){let l=Math.sin(s),d=Math.cos(s),c=Math.sqrt(e*e+i*i),u=(e*r+i*a)/c,p=(-i*r+e*a)/c;return{m00:c*d,m01:u*d+p*l,m02:n,m10:-c*l,m11:-u*l+p*d,m12:o}}(i.relativeTransform,Math.PI/180*a),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.x=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"x",options:{enumerable:!0,metricsKey:"node.x",get:function(){return e.newNumber(n(this).x)},set:function(r){return n(this).x=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float,zSchema:h.Float,property:"x"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.y=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"y",options:{enumerable:!0,metricsKey:"node.y",get:function(){return e.newNumber(n(this).y)},set:function(r){return n(this).y=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float,zSchema:h.Float,property:"y"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.width=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"width",options:{enumerable:!0,metricsKey:"node.width",get:function(){return e.newNumber(n(this).size.x)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.height=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"height",options:{enumerable:!0,metricsKey:"node.height",get:function(){return e.newNumber(n(this).size.y)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.devStatus=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"devStatus",options:{enumerable:!0,metricsKey:"node.devStatus",get(){if(n(this).getStatusInfo().status===rP.zIx.BUILD){let r=e.deepWrap({type:"READY_FOR_DEV"});return e.deepFreezeObject(r),r}return e.null},set(r){let i=n(this),a=i.parentNode;if((null==a?void 0:a.type)!=="CANVAS"&&(null==a?void 0:a.type)!=="SECTION")throw Error("Cannot set devStatus on a node that is not directly under a page or section");for(;a;){if(a.hasReadyStatus)throw Error("Cannot set devStatus on a node inside another node with non-null devStatus");a=a.parentNode}return(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.oneOf([nz.Gn,null]),zSchema:h.ReadyForDev.nullable(),property:"devStatus"})?i.setStatus(rP.zIx.BUILD,""):i.setStatus(rP.zIx.NONE,""),e.undefined}},canWriteInReadOnly:!0,hasEditScope:!0})},e.minWidth=r("minWidth","min"),e.minHeight=r("minHeight","min"),e.maxWidth=r("maxWidth","max"),e.maxHeight=r("maxHeight","max"),e.absoluteRenderBounds=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"absoluteRenderBounds",options:{enumerable:!0,metricsKey:"node.absoluteRenderBounds",get:function(){let r=n(this).absoluteRenderBounds;if(!r)return e.null;let i=oS(e,r);return e.shallowFreezeObject(i),i}},canWriteInReadOnly:!1,hasEditScope:!1})},e.absoluteBoundingBox=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"absoluteBoundingBox",options:{enumerable:!0,metricsKey:"node.absoluteBoundingBox",get:function(){let r=n(this).absoluteBoundingBox;if(!r)return e.null;let i=oS(e,r);return e.shallowFreezeObject(i),i}},canWriteInReadOnly:!1,hasEditScope:!1})};let n=(e,r,n,i)=>{let a=nz.Zs,o=nz.Zs,s=h.NonZeroPositiveFloat,l=h.NonZeroPositiveFloat;"LINE"===r.type?(o=0,l=F.literal(0)):"VECTOR"===r.type&&(a=nz.mk,o=nz.mk,s=h.PositiveFloat,l=h.PositiveFloat);let d=(0,n_.u)({vm:e,handle:n,vmSchema:a,zSchema:s,property:"width"}),c=(0,n_.u)({vm:e,handle:i,vmSchema:o,zSchema:l,property:"height"});if("VECTOR"===r.type&&.01>Math.abs(d)&&.01>Math.abs(c))throw Error("Cannot set width and height of vector node to zero");if("SECTION"===r.type&&r.sectionContentsHidden)throw Error("Cannot resize hidden sections");return{width:d,height:c}};function i(e,r){return function({vm:n,defineVmProp:i,getNode:a},o){i({handle:o,key:e,options:{enumerable:!0,metricsKey:`node.${e}`,get(){let e=a(this),i=e.borderStrokeWeightsIndependent?e[r]:e.strokeWeight;return n.newNumber(i)},set(i){let o=a(this),s=(0,n_.u)({vm:n,handle:i,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:e});return o[r]=s,[o.borderTopWeight,o.borderBottomWeight,o.borderLeftWeight,o.borderRightWeight].every(e=>e===s)?(o.borderStrokeWeightsIndependent=!1,o.strokeWeight=s):o.borderStrokeWeightsIndependent=!0,n.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})}}async function a(e){(0,rj.QC)(A.D),await rj.NW;let r=A.D.getState(),n=(0,Z.d1)(r);if(!n)return"UNPUBLISHED";if("SYMBOL"===e.type){let i=r.library.published.components,a=(0,rj._Q)(n,e.guid,i),o=null;if(!a||a.unpublished_at)return"UNPUBLISHED";if(o=a.content_hash)return e.getSharedSymbolVersion()===o?"CURRENT":"CHANGED"}else if(e.isStateGroup){let i=r.library.published.stateGroups,a=(0,rj._Q)(n,e.guid,i);return!a||a.unpublished_at?"UNPUBLISHED":e.getSharedStateGroupVersion()===a.version?"CURRENT":"CHANGED"}return"UNPUBLISHED"}e.resizeWithoutConstraints=function({vm:e,defineVmFunction:r,stats:i,getNode:a},o){r({handle:o,key:"resizeWithoutConstraints",metricsKey:"node.resizeWithoutConstraints",cb:function(r,o){let s=a(this);s.hasMissingFont&&i.resizeNodeWithMissingFont();let{width:l,height:d}=n(e,s,r,o);return s.resizeWithoutConstraints(l,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.resizeWithConstraints=function({vm:e,defineVmFunction:r,stats:i,getNode:a},o){r({handle:o,key:"resize",metricsKey:"node.resize",cb:function(r,o){let s=a(this);s.hasMissingFont&&i.resizeNodeWithMissingFont();let{width:l,height:d}=n(e,s,r,o);return s.resizeWithConstraints(l,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.rescale=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"rescale",metricsKey:"node.rescale",cb:function(r){let i=n(this),a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float,zSchema:h.Float,property:"scale"}),{x:o,y:s}=i.size;return Math.abs(a)*o<.01||Math.abs(a)*s<.01?T.k.warn("Cannot scale node to have a width or height less than 0.01"):i.rescale(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.constrainProportions=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"constrainProportions",options:{enumerable:!0,metricsKey:"node.constrainProportions",get:function(){return e.newBoolean(n(this).proportionsConstrained)},set:function(r){return n(this).proportionsConstrained=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"constrainProportions"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.opacity=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"opacity",options:{enumerable:!0,metricsKey:"node.opacity",get:function(){return e.newNumber(n(this).opacity)},set:function(r){return n(this).opacity=(0,n_.u)({vm:e,handle:r,vmSchema:nz.s4,zSchema:h.ZeroToOne,property:"opacity"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.blendMode=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"blendMode",options:{enumerable:!0,metricsKey:"node.blendMode",get:function(){return e.newString(n(this).blendMode)},set:function(r){return n(this).blendMode=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Nx,zSchema:h.BlendMode,property:"blendMode"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.isMask=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"isMask",options:{enumerable:!0,metricsKey:"node.isMask",get:function(){return e.newBoolean(n(this).mask)},set:function(r){return n(this).mask=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"isMask"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.maskType=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"maskType",options:{enumerable:!0,metricsKey:"node.maskType",get:function(){var r;return e.newString("OUTLINE"===(r=n(this).maskType)?"VECTOR":r)},set:function(r){var i;return n(this).maskType="VECTOR"===(i=(0,n_.u)({vm:e,handle:r,zSchema:h.MaskType,vmSchema:nz.D5,property:"maskType"}))?"OUTLINE":i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.effects=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"effects",options:{enumerable:!0,metricsKey:"node.effects",get:function(){let r=e.deepWrap(n(this).effects.map(op));return e.deepFreezeObject(r),r},set:function(r){let i=n(this);return i.effects=(0,n_.u)({vm:e,handle:r,vmSchema:nz.dc,zSchema:h.Effects,property:"effects"}).map(e=>oh(e,i)),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.effectStyleId=function({vm:e,defineVmIncrementalProp:r,incrementalSafeApi:n,getNode:i,documentAccessState:a,allowIncrementalUnsafeApiCalls:o},s){r({handle:s,key:"effectStyleId",metricsKey:"node.effectStyleId",incrementalSafeApiSetKey:"setEffectStyleIdAsync",incrementalSafeApiSetMetricsKey:"node.setEffectStyleIdAsync",retainGetter:!0,enumerable:!0,parseThis:e=>i(e),resolveValue:r=>e.newString((0,rV.nM)(r.inheritedEffectStyle)),prepareDocument:async e=>{await (0,n0.Ux)(a)},setValue:(r,n)=>{let i=(0,rV.eX)((0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"effectStyleId"}));return r.inheritedEffectStyle=i,e.undefined},incrementalSafeApi:n,parseIncrementalValueArg:r=>e.toString(r),setValueIncremental:(r,n)=>(r.inheritedEffectStyle=(0,rV.eX)(n),e.undefined),allowIncrementalUnsafeApiCalls:o,canWriteInReadOnly:!1,hasEditScope:!0})},e.cornerRadius=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"cornerRadius",options:{enumerable:!0,metricsKey:"node.cornerRadius",get:function(){let r=i(this);if(on(r))return e.undefined;let a=r.cornerRadiusOrMixed;return"mixed"===a?n:e.newNumber(a)},set:function(r){let n=i(this);if(on(n))throw Error("Groups do not have a cornerRadius property. Please use frames instead.");let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"cornerRadius"});return n.cornerRadiusOrMixed=a,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.cornerSmoothing=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"cornerSmoothing",options:{enumerable:!0,metricsKey:"node.cornerSmoothing",get:function(){let r=n(this);return on(r)?e.undefined:e.newNumber(r.cornerSmoothing)},set:function(r){let i=n(this);if(on(i))throw Error("Groups do not have a cornerSmoothing property. Please use frames instead.");return i.cornerSmoothing=(0,n_.u)({vm:e,handle:r,vmSchema:nz.s4,zSchema:h.ZeroToOne,property:"cornerSmoothing"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.widgetHoverStyle=function({vm:e,defineVmProp:r,imageStore:n,videoStore:i,getNode:a},o){e instanceof n7.i&&r({handle:o,key:"widgetHoverStyle",options:{enumerable:!0,metricsKey:"node.widgetHoverStyle",get:function(){let r=a(this).widgetHoverStyle;return e.deepWrap(function(e){let r={};return e.fill&&(r.fill=nv(e.fill.data)),e.stroke&&(r.stroke=nv(e.stroke.data)),void 0!==e.opacity&&(r.opacity=e.opacity),r}(r))},set:function(r){let o=e.deepUnwrap(r);return a(this).widgetHoverStyle=function(e,r,n){let i={};if(n.fill){let a=[];i.fill={data:nS(e,r,n.fill,a),blobs:a}}if(n.stroke){let a=[];i.stroke={data:nS(e,r,n.stroke,a),blobs:a}}return void 0!==n.opacity&&(i.opacity=n.opacity),i}(n,i,o),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.fills=function(e,r){os(e,r,"fills")},e.fillStyleId=function({vm:e,defineVmIncrementalProp:r,mixedSentinel:n,incrementalSafeApi:i,getNode:a,documentAccessState:o,allowIncrementalUnsafeApiCalls:s},l){r({handle:l,key:"fillStyleId",metricsKey:"node.fillStyleId",incrementalSafeApiSetKey:"setFillStyleIdAsync",incrementalSafeApiSetMetricsKey:"node.setFillStyleIdAsync",retainGetter:!0,enumerable:!0,parseThis:e=>a(e),resolveValue:r=>{let i=r.inheritedFillStyleOrMixed;return"mixed"===i?n:e.newString((0,rV.nM)(i))},prepareDocument:async e=>{await (0,n0.Ux)(o)},setValue:(r,n)=>{let i=(0,rV.eX)((0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"fillStyleId"}));return r.inheritedFillStyle=i,e.undefined},incrementalSafeApi:i,parseIncrementalValueArg:r=>e.toString(r),setValueIncremental:(r,n)=>(r.inheritedFillStyle=(0,rV.eX)(n),e.undefined),allowIncrementalUnsafeApiCalls:s,canWriteInReadOnly:!1,hasEditScope:!0})},e.strokes=function({vm:e,defineVmProp:r,imageStore:n,videoStore:i,getNode:a},o){r({handle:o,key:"strokes",options:{enumerable:!0,metricsKey:"node.strokes",get:function(){let r=a(this),n=e.deepWrap(nv(r.strokePaints.data));return e.deepFreezeObject(n),n},set:function(r){let o=a(this),s=[];return o.strokePaints={data:nS(n,i,(0,n_.u)({vm:e,handle:r,vmSchema:nz.s9,zSchema:h.Paints,property:"strokes"}),s),blobs:s},e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.fillGeometry=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"fillGeometry",options:{enumerable:!0,metricsKey:"node.fillGeometry",get:function(){let r=n(this),i=e.deepWrap(r.fillGeometry);return e.deepFreezeObject(i),i}},canWriteInReadOnly:!1,hasEditScope:!1})},e.strokeGeometry=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"strokeGeometry",options:{enumerable:!0,metricsKey:"node.strokeGeometry",get:function(){let r=n(this),i=e.deepWrap(r.strokeGeometry);return e.deepFreezeObject(i),i}},canWriteInReadOnly:!1,hasEditScope:!1})},e.strokeStyleId=function({vm:e,defineVmIncrementalProp:r,incrementalSafeApi:n,getNode:i,documentAccessState:a,allowIncrementalUnsafeApiCalls:o},s){r({handle:s,key:"strokeStyleId",metricsKey:"node.strokeStyleId",incrementalSafeApiSetKey:"setStrokeStyleIdAsync",incrementalSafeApiSetMetricsKey:"node.setStrokeStyleIdAsync",retainGetter:!0,enumerable:!0,parseThis:e=>i(e),resolveValue:r=>e.newString((0,rV.nM)(r.inheritedFillStyleForStroke)),prepareDocument:async e=>{await (0,n0.Ux)(a)},setValue:(r,n)=>{let i=(0,rV.eX)((0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"effectStyleId"}));return r.inheritedFillStyleForStroke=i,e.undefined},incrementalSafeApi:n,parseIncrementalValueArg:r=>e.toString(r),setValueIncremental:(r,n)=>(r.inheritedFillStyleForStroke=(0,rV.eX)(n),e.undefined),allowIncrementalUnsafeApiCalls:o,canWriteInReadOnly:!1,hasEditScope:!0})},e.strokeWeight=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"strokeWeight",options:{enumerable:!0,metricsKey:"node.strokeWeight",get:function(){let r=i(this);if(!r.borderStrokeWeightsIndependent)return e.newNumber(r.strokeWeight);let a=r.borderTopWeight,o=r.borderBottomWeight,s=r.borderLeftWeight,l=r.borderRightWeight;return a===o&&a===s&&a===l?e.newNumber(a):n},set:function(r){let n=i(this),a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"strokeWeight"});return n.strokeWeight=a,n.borderStrokeWeightsIndependent=!1,n.borderTopWeight=a,n.borderBottomWeight=a,n.borderLeftWeight=a,n.borderRightWeight=a,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.strokeTopWeight=i("strokeTopWeight","borderTopWeight"),e.strokeBottomWeight=i("strokeBottomWeight","borderBottomWeight"),e.strokeLeftWeight=i("strokeLeftWeight","borderLeftWeight"),e.strokeRightWeight=i("strokeRightWeight","borderRightWeight"),e.strokeAlign=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"strokeAlign",options:{enumerable:!0,metricsKey:"node.strokeAlign",get:function(){return e.newString(n(this).strokeAlign)},set:function(r){return n(this).strokeAlign=(0,n_.u)({vm:e,handle:r,vmSchema:nz.OR,zSchema:h.StrokeAlign,property:"strokeAlign"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.strokeCap=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"strokeCap",options:{enumerable:!0,metricsKey:"node.strokeCap",get:function(){let r=i(this).strokeCapOrMixed;return"mixed"===r?n:e.newString(r)},set:function(r){return i(this).strokeCap=(0,n_.u)({vm:e,handle:r,vmSchema:nz.j0,zSchema:h.StrokeCap,property:"strokeCap"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.strokeJoin=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"strokeJoin",options:{enumerable:!0,metricsKey:"node.strokeJoin",get:function(){let r=i(this).strokeJoinOrMixed;return"mixed"===r?n:e.newString(r)},set:function(r){return i(this).strokeJoin=(0,n_.u)({vm:e,handle:r,vmSchema:nz.HN,zSchema:h.StrokeJoin,property:"strokeJoin"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.handleMirroring=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"handleMirroring",options:{enumerable:!0,metricsKey:"node.handleMirroring",get:function(){let r=i(this).handleMirroringOrMixed;return"mixed"===r?n:e.newString(r)},set:function(r){return i(this).handleMirroring=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Cs,zSchema:h.HandleMirroring,property:"handleMirroring"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.strokeMiterLimit=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"strokeMiterLimit",options:{enumerable:!0,metricsKey:"node.strokeMiterLimit",get:function(){return e.newNumber(n(this).strokeMiterLimit)},set:function(r){return n(this).strokeMiterLimit=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float.range(1,16),zSchema:h.FiniteNumber.min(1).max(16),property:"strokeMiterLimit"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.dashPattern=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"dashPattern",options:{enumerable:!0,metricsKey:"node.dashPattern",get:function(){let r=n(this),i=e.deepWrap(r.dashPattern);return e.deepFreezeObject(i),i},set:function(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.arrayOf(n_.By.float.min(0)),zSchema:F.array(h.PositiveFloat),property:"dashPattern"});if(i.length>rP.NfO.getMaxDashPattern())throw Error("A maximum of 8 dash patterns is supported");return n(this).dashPattern=i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.backgrounds=function({vm:e,defineVmProp:r,imageStore:n,videoStore:i,getNode:a},o){r({handle:o,key:"backgrounds",options:{enumerable:!0,metricsKey:"node.backgrounds",get:function(){let r=a(this),n="CANVAS"!==r.type?e.deepWrap(nv(r.fillPaints.data)):e.deepWrap(nv(r.backgroundPaints.data));return e.deepFreezeObject(n),n},set:function(r){let o=a(this),s=[],l={data:nS(n,i,(0,n_.u)({vm:e,handle:r,vmSchema:nz.s9,zSchema:h.Paints,property:"backgrounds"}),s),blobs:s};if("CANVAS"!==o.type){if(on(o))return T.k.warn("backgrounds on groups are no longer supported"),e.undefined;o.fillPaints=l}else{for(let e of l.data)if(e.colorVar)throw Error("page backgrounds cannot be bound to variables");o.backgroundPaints=l}return e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.pageNodeChanges=function({addEventHandlersTo:e},r){e(r,["nodechange"],"node")},e.prototypeBackgrounds=function({vm:e,defineVmProp:r,imageStore:n,videoStore:i,getNode:a},o){r({handle:o,key:"prototypeBackgrounds",options:{enumerable:!0,metricsKey:"node.prototypeBackgrounds",get:function(){let r=a(this).prototypeBackgroundColor,n=[{type:"SOLID",color:r,visible:!0,opacity:r.a,blendMode:"NORMAL"}],i=e.deepWrap(nv(n));return e.deepFreezeObject(i),i},set:function(r){let o=a(this),s=[],l={data:nS(n,i,(0,n_.u)({vm:e,handle:r,vmSchema:nz.s9,zSchema:h.Paints,property:"prototypeBackgrounds"}),s),blobs:s};if(1!==l.data.length||"SOLID"!==l.data[0].type)throw Error("Prototype page backgrounds must be a single solid paint");let d=l.data[0];if("NORMAL"!==d.blendMode)throw Error("Prototype page backgrounds must use the normal blend mode");let c=d.opacity??1;return o.prototypeBackgroundColor={...d.color,a:c},e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.backgroundStyleId=function({vm:e,defineVmProp:r,getNode:n,incrementalSafeApi:i,allowIncrementalUnsafeApiCalls:a},o){r({handle:o,key:"backgroundStyleId",options:{enumerable:!0,metricsKey:"node.backgroundStyleId",get:function(){let r=n(this),i=(0,rV.nM)(r.inheritedFillStyle);return e.newString(i)},set:function(r){i&&(0,n0.xc)(a,"node.backgroundStyleId =","node.setFillStyleIdAsync");let o=n(this),s=(0,rV.eX)((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"backgroundStyleId"}));return on(o)?T.k.warn("backgrounds on groups are no longer supported"):o.inheritedFillStyle=s,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.layoutGrids=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"layoutGrids",options:{enumerable:!0,metricsKey:"node.layoutGrids",get:function(){var r;let i=e.deepWrap(void 0===(r=n(this).layoutGrids)?[]:r.map(ob));return e.deepFreezeObject(i),i},set:function(r){return n(this).layoutGrids=(0,n_.u)({vm:e,handle:r,vmSchema:nz.oJ,zSchema:h.LayoutGrids,property:"layoutGrids"}).map(ov),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.gridStyleId=function({vm:e,defineVmIncrementalProp:r,incrementalSafeApi:n,getNode:i,documentAccessState:a,allowIncrementalUnsafeApiCalls:o},s){r({handle:s,key:"gridStyleId",metricsKey:"node.gridStyleId",incrementalSafeApiSetKey:"setGridStyleIdAsync",incrementalSafeApiSetMetricsKey:"node.setGridStyleIdAsync",retainGetter:!0,enumerable:!0,parseThis:e=>i(e),resolveValue:r=>e.newString((0,rV.nM)(r.inheritedGridStyle)),prepareDocument:async e=>{await (0,n0.Ux)(a)},setValue:(r,n)=>{let i=(0,rV.eX)((0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"gridStyleId"}));return r.inheritedGridStyle=i,e.undefined},incrementalSafeApi:n,parseIncrementalValueArg:r=>e.toString(r),setValueIncremental:(r,n)=>(r.inheritedGridStyle=(0,rV.eX)(n),e.undefined),allowIncrementalUnsafeApiCalls:o,canWriteInReadOnly:!1,hasEditScope:!0})},e.clipsContent=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"clipsContent",options:{enumerable:!0,metricsKey:"node.clipsContent",get:function(){return e.newBoolean(!n(this).frameMaskDisabled)},set:function(r){return n(this).frameMaskDisabled=!(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"clipsContent"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.overflowDirection=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"overflowDirection",options:{enumerable:!0,metricsKey:"node.overflowDirection",get:function(){let r=n(this);return e.newString(r.scrollDirection)},set:function(r){return n(this).scrollDirection=(0,n_.u)({vm:e,handle:r,vmSchema:nz.QR,zSchema:h.OverflowDirection,property:"overflowDirection"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.numberOfFixedChildren=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"numberOfFixedChildren",options:{enumerable:!0,metricsKey:"node.numberOfFixedChildren",get:function(){let r=n(this);return e.newNumber(r.fixedChildrenCount)},set:function(r){let i=n(this),a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.ee,zSchema:h.PositiveInteger,property:"numberOfFixedChildren"});if(a>i.reversedChildrenGuids.length)throw Error("numberOfFixedChildren must be <= the number of children in the node");return i.fixedChildrenCount=a,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.description=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"description",options:{enumerable:!0,metricsKey:"node.description",get:function(){let r=n(this);return e.newString((0,n9.A)(r.description))},set:function(r){return n(this).description=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"description"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.documentationLinks=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"documentationLinks",options:{enumerable:!0,metricsKey:"node.documentationLinks",get:function(){var r;let i=e.newArray(),a=(null==(r=n(this).symbolLinks)?void 0:r.filter(e=>e.uri).map(e=>e.uri))||[];if(a)for(let r=0;r<a.length;r++){let n=e.newObject();e.setProp(n,"uri",e.newString(a[r])),e.setProp(i,r.toString(),n)}return i},set:function(r){let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.arrayOf(n_.By.exact({uri:n_.By.string})),zSchema:F.array(F.object({uri:F.string()})),property:"documentationLinks"});if(i.length>1)throw Error("Documentation links API takes a list of size 0 or 1");let a=[];if(1===i.length){let e=i[0];if(!e.uri.match(/^\w+:/))throw Error("Documentation link must be a URL");a=[{uri:e.uri}]}return n(this).symbolLinks=a,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.remote=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"remote",options:{enumerable:!0,metricsKey:"node.remote",get:function(){let r=n(this);return e.newBoolean(rP.Egt.nodeIsSubscribedSymbolOrStateGroup(r.guid))}},canWriteInReadOnly:!1,hasEditScope:!1})},e.getPublishStatus=function({vm:e,getNode:r},n){e.defineFunction(n,"getPublishStatusAsync","node.getPublishStatusAsync",function(){let n=r(this),{promise:i,resolve:o,reject:s}=e.newPromise();return e.registerPromise(a(n)).then(r=>o(e.newString(r)),()=>{s(e.newString("Failed to get node publish status"))}),i})},e.hiddenFromPublishing=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"hiddenFromPublishing",options:{enumerable:!0,metricsKey:"node.hiddenFromPublishing",get:function(){let r=n(this);return e.newBoolean(r.hiddenFromPublishing)},set:function(r){return n(this).hiddenFromPublishing=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"hiddenFromPublishing"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.defaultVariant=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i,sceneGraph:a},o){r({handle:o,key:"defaultVariant",options:{enumerable:!0,metricsKey:"node.defaultVariant",get:function(){let r=i(this),o=rP.Egt.getAssetKeyForPublish(r.guid),s=(0,ix.m3)(A.D.getState())[o];if(s)for(let e of r.reversedChildrenGuids){let r=a.get(e);if(r&&r.componentKey===s.default_state_key)return n().createNode(r.guid,"node.defaultVariant")}let l=rP.glU.getDefaultStateForLocalStateGroup(r.guid);return l&&void 0!==a.get(l)?n().createNode(l,"node.defaultVariant"):e.null}},canWriteInReadOnly:!1,hasEditScope:!1})},e.mainComponent=function({vm:e,defineVmProp:r,defineVmIncrementalProp:n,getNodeFactory:i,incrementalSafeApi:a,getNode:o,sceneGraph:s,documentAccessState:l,allowIncrementalUnsafeApiCalls:d},c){n({handle:c,key:"mainComponent",metricsKey:"node.mainComponent",incrementalSafeApiKey:"getMainComponentAsync",incrementalSafeApiMetricsKey:"node.getMainComponentAsync",hasEditScope:!0,enumerable:!0,canWriteInReadOnly:!1,resolveValue:r=>{let n=r.symbolId;return n&&void 0!==s.get(n)?i().createNode(n,"node.mainComponent"):e.null},setValue:(e,r)=>{let n=o(r);rP.NfO.replaceSymbolBackingInstance(e.guid,n.guid)},prepareDocument:async e=>{e.symbolId&&await (0,n0.vf)(e.symbolId,l)},parseThis:function(e){return o(e)},incrementalSafeApi:a,allowIncrementalUnsafeApiCalls:d}),r({handle:c,key:"masterComponent",options:{enumerable:!0,get:function(){a&&(0,n0.xc)(d,"node.masterComponent","node.getMainComponentAsync");let r=o(this).symbolId;return r&&void 0!==s.get(r)?i().createNode(r,"node.mainComponent"):e.null},set:function(e){let r=o(this),n=o(e);rP.NfO.replaceSymbolBackingInstance(r.guid,n.guid)},metricsKey:"node.masterComponent"},canWriteInReadOnly:!1,hasEditScope:!0})},e.scaleFactor=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"scaleFactor",options:{enumerable:!0,metricsKey:"node.scaleFactor",get:function(){return e.newNumber(n(this).instanceScaleFactor)},set:function(r){return n(this).instanceScaleFactor=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Zs,zSchema:h.NonZeroPositiveFloat,property:"scaleFactor"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.key=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"key",options:{enumerable:!0,metricsKey:"node.key",get:function(){let r=n(this);return e.newString(rP.Egt.getAssetKeyForPublish(r.guid))}},canWriteInReadOnly:!1,hasEditScope:!1})},e.createInstance=function({defineVmFunction:e,getNodeFactory:r,getNode:n},i){e({handle:i,key:"createInstance",metricsKey:"node.createInstance",cb:function(){let e=n(this).createInstance();return r().createNode(e,"node.createInstance")},isAllowedInReadOnly:!1,hasEditScope:!0})},e.swapComponent=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"swapComponent",metricsKey:"node.swapComponent",cb:function(r){let i=n(r);if("SYMBOL"!==i.type)throw Error("Cannot swap to non-component node");return n(this).swapComponent(i),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.detachInstance=function({defineVmFunction:e,getNodeFactory:r,getNode:n},i){e({handle:i,key:"detachInstance",metricsKey:"node.detachInstance",cb:function(){let e=n(this);if("INSTANCE"!==e.type)throw Error("Cannot detach a non-instance");let i=e.detachInstance();return r().createNode(i,"node.detachInstance")},isAllowedInReadOnly:!1,hasEditScope:!0})},e.detachedInfo=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"detachedInfo",options:{enumerable:!0,metricsKey:"node.detachedInfo",get:function(){let r=n(this);if("INSTANCE"===r.type||"SYMBOL"===r.type)return e.null;let i=r.detachedInfo;if(!i)return e.null;let a=!!i.componentKey,o=e.newObject();return a?(e.setProp(o,"type",e.newString("library")),e.setProp(o,"componentKey",e.newString(i.componentKey))):(e.setProp(o,"type",e.newString("local")),e.setProp(o,"componentId",e.newString(i.symbolId))),o}},canWriteInReadOnly:!1,hasEditScope:!1})},e.tableNumRows=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"numRows",options:{enumerable:!0,metricsKey:"node.numRows",get:function(){return e.newNumber(n(this).tableNumRows)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.tableNumColumns=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"numColumns",options:{enumerable:!0,metricsKey:"node.numColumns",get:function(){return e.newNumber(n(this).tableNumColumns)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.tableCellRowIndex=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"rowIndex",options:{enumerable:!0,metricsKey:"node.rowIndex",get:function(){return e.newNumber(n(this).tableCellRowIndex)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.tableCellColumnIndex=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"columnIndex",options:{enumerable:!0,metricsKey:"node.columnIndex",get:function(){return e.newNumber(n(this).tableCellColumnIndex)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.cellAt=function({vm:e,defineVmFunction:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"cellAt",metricsKey:"node.cellAt",cb:function(r,a){let o=i(this);if("TABLE"!==o.type)throw Error("Can only get cells from a table node");let s=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,o.tableNumRows-1),zSchema:F.number().int().min(0).max(o.tableNumRows-1),property:"rowIndex"}),l=(0,n_.u)({vm:e,handle:a,vmSchema:n_.By.integer.range(0,o.tableNumColumns-1),zSchema:F.number().int().min(0).max(o.tableNumColumns-1),property:"columnIndex"}),d=o.cellAt(s,l);if(d)return n().createNode(d,"node.cellAt");throw Error("Could not find cell")},isAllowedInReadOnly:!0,hasEditScope:!1})},e.insertRow=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"insertRow",metricsKey:"node.insertRow",cb:function(r){let i=n(this);if("TABLE"!==i.type)throw Error("Can only get cells from a table node");let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,i.tableNumRows),zSchema:F.number().int().min(0).max(i.tableNumRows),property:"index"});return i.insertRow(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.insertColumn=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"insertColumn",metricsKey:"node.insertColumn",cb:function(r){let i=n(this);if("TABLE"!==i.type)throw Error("Can only get cells from a table node");let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,i.tableNumColumns),zSchema:F.number().int().min(0).max(i.tableNumColumns),property:"index"});return i.insertColumn(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.removeRow=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"removeRow",metricsKey:"node.removeRow",cb:function(r){let i=n(this);if("TABLE"!==i.type)throw Error("Can only get cells from a table node");let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,i.tableNumRows-1),zSchema:F.number().int().min(0).max(i.tableNumRows-1),property:"index"});return i.removeRow(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.removeColumn=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"removeColumn",metricsKey:"node.removeColumn",cb:function(r){let i=n(this);if("TABLE"!==i.type)throw Error("Can only get cells from a table node");let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,i.tableNumColumns-1),zSchema:F.number().int().min(0).max(i.tableNumColumns-1),property:"index"});return i.removeColumn(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.moveRow=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"moveRow",metricsKey:"node.moveRow",cb:function(r,i){let a=n(this);if("TABLE"!==a.type)throw Error("Can only get cells from a table node");let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,a.tableNumRows-1),zSchema:F.number().int().min(0).max(a.tableNumRows-1),property:"fromIndex"}),s=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.integer.range(0,a.tableNumRows-1),zSchema:F.number().int().min(0).max(a.tableNumRows-1),property:"toIndex"});return a.moveRow(o,s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.moveColumn=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"moveColumn",metricsKey:"node.moveColumn",cb:function(r,i){let a=n(this);if("TABLE"!==a.type)throw Error("Can only get cells from a table node");let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,a.tableNumColumns-1),zSchema:F.number().int().min(0).max(a.tableNumColumns-1),property:"fromIndex"}),s=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.integer.range(0,a.tableNumColumns-1),zSchema:F.number().int().min(0).max(a.tableNumColumns-1),property:"toIndex"});return a.moveColumn(o,s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.resizeRow=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"resizeRow",metricsKey:"node.resizeRow",cb:function(r,i){let a=n(this);if("TABLE"!==a.type)throw Error("Can only get cells from a table node");let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,a.tableNumRows-1),zSchema:F.number().int().min(0).max(a.tableNumRows-1),property:"index"}),s=(0,n_.u)({vm:e,handle:i,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"height"});return a.resizeRow(o,s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.resizeColumn=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"resizeColumn",metricsKey:"node.resizeColumn",cb:function(r,i){let a=n(this);if("TABLE"!==a.type)throw Error("Can only get cells from a table node");let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.range(0,a.tableNumColumns-1),zSchema:F.number().int().min(0).max(a.tableNumColumns-1),property:"index"}),s=(0,n_.u)({vm:e,handle:i,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"width"});return a.resizeColumn(o,s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.textStyleId=function({vm:e,defineVmIncrementalProp:r,mixedSentinel:n,incrementalSafeApi:i,getNode:a,documentAccessState:o,allowIncrementalUnsafeApiCalls:s},l){r({handle:l,key:"textStyleId",metricsKey:"node.textStyleId",incrementalSafeApiSetKey:"setTextStyleIdAsync",incrementalSafeApiSetMetricsKey:"node.setTextStyleIdAsync",retainGetter:!0,enumerable:!0,parseThis:e=>a(e),resolveValue:r=>{let i=r.inheritedTextStyleOrMixed;return"mixed"===i?n:e.newString((0,rV.nM)(i))},prepareDocument:async e=>{await (0,n0.Ux)(o)},setValue:(r,n)=>{let i=(0,rV.eX)((0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"textStyleId"}));return r.inheritedTextStyle=i,e.undefined},incrementalSafeApi:i,parseIncrementalValueArg:r=>e.toString(r),setValueIncremental:(r,n)=>(r.inheritedTextStyle=(0,rV.eX)(n),e.undefined),allowIncrementalUnsafeApiCalls:s,canWriteInReadOnly:!1,hasEditScope:!0})},e.characters=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"characters",options:{enumerable:!0,metricsKey:"node.characters",get:function(){return e.newString(n(this).characters)},set:function(r){let i=n(this);return i.spliceCharacters(0,i.characters.length,(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"characters"}),"BEFORE"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.insertCharacters=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"insertCharacters",metricsKey:"node.insertCharacters",cb:function(r,i,a){let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.min(0),zSchema:h.PositiveInteger,property:"start"}),s=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"characters"}),l=(0,n_.u)({vm:e,handle:a,vmSchema:n_.By.oneOf(["BEFORE","AFTER"]).isOptional,zSchema:F.enum(["BEFORE","AFTER"]).optional(),property:"useStyle"}),d=n(this);if(o>d.characters.length)throw Error("Cannot insert characters at index greater than the length of the text");return d.spliceCharacters(o,o,s,l||"BEFORE"),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.deleteCharacters=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"deleteCharacters",metricsKey:"node.deleteCharacters",cb:function(r,i){let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.min(0),zSchema:h.PositiveInteger,property:"start"}),o=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.integer.min(0),zSchema:h.PositiveInteger,property:"end"}),s=n(this),l=s.characters.length;if(a>l||o>l)throw Error("Cannot delete characters at index greater than the length of the text");if(a>o)throw Error("deleteCharacters must have (start <= end)");return s.spliceCharacters(a,o,"","BEFORE"),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.hasMissingFont=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"hasMissingFont",options:{enumerable:!0,metricsKey:"node.hasMissingFont",get:function(){return e.newBoolean(n(this).hasMissingFont)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.autoRename=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"autoRename",options:{enumerable:!0,metricsKey:"node.autoRename",get:function(){return e.newBoolean(n(this).autoRename)},set:function(r){let i=n(this);if(i.isInstanceSublayer)return T.k.warn("autoRename on instance sublayers is not supported"),e.undefined;let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"autoRename"});return a&&(i.name=i.characters.trim().replace(/\s+/g," ")),i.autoRename=a,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.fontSize=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"fontSize",options:{enumerable:!0,metricsKey:"node.fontSize",get:function(){let r=i(this).fontSizeOrMixed;return"mixed"===r?n:e.newNumber(r)},set:function(r){return i(this).fontSize=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float.min(1),zSchema:F.number().min(1).finite(),property:"fontSize"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.hangingPunctuation=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"hangingPunctuation",options:{enumerable:!0,metricsKey:"node.hangingPunctuation",get:function(){return e.newBoolean(n(this).hangingPunctuation)},set:function(r){return n(this).hangingPunctuation=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"hangingPunctuation"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.hangingList=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"hangingList",options:{enumerable:!0,metricsKey:"node.hangingList",get:function(){return e.newBoolean(n(this).hangingList)},set:function(r){return n(this).hangingList=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"hangingList"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.paragraphIndent=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"paragraphIndent",options:{enumerable:!0,metricsKey:"node.paragraphIndent",get:function(){return e.newNumber(n(this).paragraphIndent)},set:function(r){return n(this).paragraphIndent=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"paragraphIndent"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.paragraphSpacing=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"paragraphSpacing",options:{enumerable:!0,metricsKey:"node.paragraphSpacing",get:function(){return e.newNumber(n(this).paragraphSpacing)},set:function(r){return n(this).paragraphSpacing=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"paragraphSpacing"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.listSpacing=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"listSpacing",options:{enumerable:!0,metricsKey:"node.listSpacing",get:function(){return e.newNumber(n(this).listSpacing)},set:function(r){return n(this).listSpacing=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"listSpacing"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.letterSpacing=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"letterSpacing",options:{enumerable:!0,metricsKey:"node.letterSpacing",get:function(){let r=i(this).letterSpacingOrMixed;if("mixed"===r)return n;let a=e.deepWrap({unit:r.units,value:r.value});return e.deepFreezeObject(a),a},set:function(r){let n=(0,n_.u)({vm:e,handle:r,vmSchema:nz.I,zSchema:h.LetterSpacing,property:"letterSpacing"});return i(this).letterSpacing={units:n.unit,value:n.value},e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.textAlignHorizontal=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"textAlignHorizontal",options:{enumerable:!0,metricsKey:"node.textAlignHorizontal",get:function(){return e.newString(n(this).textAlignHorizontal)},set:function(r){return n(this).textAlignHorizontal=(0,n_.u)({vm:e,handle:r,vmSchema:nz.jw,zSchema:h.TextAlignHorizontal,property:"textAlignHorizontal"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.textAlignVertical=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"textAlignVertical",options:{enumerable:!0,metricsKey:"node.textAlignVertical",get:function(){return e.newString(n(this).textAlignVertical)},set:function(r){return n(this).textAlignVertical=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Ln,zSchema:h.TextAlignVertical,property:"textAlignVertical"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.textCase=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"textCase",options:{enumerable:!0,metricsKey:"node.textCase",get:function(){let r=i(this);return oO(e,n,r.textCaseOrMixed,r.fontVariantCapsOrMixed)},set:function(r){let n=(0,n_.u)({vm:e,handle:r,vmSchema:nz.W5,zSchema:h.TextCase,property:"textCase"}),a=i(this),{textCase:o,fontVariantCaps:s}=oM(a,0,-1,n);return a.textCase=o,a.fontVariantCaps=s,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.textDecoration=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"textDecoration",options:{enumerable:!0,metricsKey:"node.textDecoration",get:function(){let r=i(this).textDecorationOrMixed;return"mixed"===r?n:e.newString(r)},set:function(r){return i(this).textDecoration=(0,n_.u)({vm:e,handle:r,vmSchema:nz.i8,zSchema:h.TextDecoration,property:"textDecoration"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})};let o=!1;function s({vm:e,mixedSentinel:r},n,i,a,o,s,l){if("mixed"===n||"mixed"===i||"mixed"===a||"mixed"===o||"mixed"===s||"mixed"===l)return r;let d={};for(let e of n)d[e]=!0;for(let e of i)d[e]?delete d[e]:d[e]=!1;"OLDSTYLE"===a?d.ONUM=!0:"LINING"===a&&(d.LNUM=!0),"PROPORTIONAL"===o?d.PNUM=!0:"TABULAR"===o&&(d.TNUM=!0),"STACKED"===s&&(d.FRAC=!0),"SUPER"===l?d.SUPS=!0:"SUB"===l&&(d.SUBS=!0);let c=e.deepWrap(d);return e.deepFreezeObject(c),c}function l(e,r){if(!e)throw Error(`Cannot ${r} in a plugin without an ID. Make sure your plugin manifest has a valid "id" field.`)}function d({vmThis:e,vm:r,vmOptions:n,resourceStr:i,getNode:a,sceneGraph:o}){var s;let l=a(e),d=null==(s=A.D.getState().openFile)?void 0:s.key,{promise:u,resolve:p,reject:h}=r.newPromise();if(!l||!d)return h(r.deepWrap(`unable to fetch ${i}`)),u;let m=(0,n_.BK)({vm:r,handle:n,schema:n_.By.exact({includeChildren:n_.By.bool.isOptional}).isOptional,property:"includeChildren"}),g=(null==m?void 0:m.includeChildren)??!1,{fileKey:f,nodeId:_}=c(l,d);return g?r.registerPromise(ih(f)).then(e=>{let n=e.map(e=>o.guidFromDeveloperFriendlyId(e.nodeId)||e.nodeId),i=new Set(l.filterSubtreeNodes(n)),a=[],s=(0,il.k4)([_],o.getTSSceneGraph()),d=(0,il.Yi)([_],o.getTSSceneGraph());e.forEach(e=>{let r=o.guidFromDeveloperFriendlyId(e.nodeId);(e.nodeId===_||i.has(r)||s&&e.mainComponentId===s||d&&e.mainComponentId===d)&&a.push({url:e.linkUrl,name:e.linkName,nodeId:e.nodeId,isInherited:!!e.mainComponentId,inheritedNodeId:e.mainComponentId})}),p(r.deepWrap(a))}).catch(()=>h(r.newString("Failed to get related links"))):r.registerPromise(iu({fileKey:f,nodeId:_,includeInheritedLinks:!0})).then(e=>{let n=e.map(e=>({url:e.linkUrl,name:e.linkName,isInherited:!!e.mainComponentId,nodeId:e.nodeId,inheritedNodeId:e.mainComponentId}));p(r.deepWrap(n))}).catch(e=>{h(r.deepWrap(`unable to fetch related links ${e}`))}),u}function c(e,r){let n=(0,rj.yW)(e);return null!==n&&n!==r&&e.publishID&&V.fn(V.sH(e.publishID))?{fileKey:n,nodeId:rP.NfO.developerFriendlyIdFromGuid(e.publishID,e.scene)||e.publishID}:{fileKey:r,nodeId:rP.NfO.developerFriendlyIdFromGuid(e.guid,e.scene)||e.guid}}function u({vmThis:e,vm:r,vmUrl:n,vmName:i,resourceName:a,pluginID:o,getNode:s}){var l;let d=s(e),u=null==(l=A.D.getState().openFile)?void 0:l.key,p=(0,n_.u)({vm:r,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"url"}),h=(0,n_.u)({vm:r,handle:i,vmSchema:n_.By.string.isOptional,zSchema:F.string().optional(),property:"name"}),{promise:m,resolve:g,reject:f}=r.newPromise();if(!d||!u)return f(r.deepWrap(`unable to add ${a}`)),m;let{fileKey:_,nodeId:y}=c(d,u);return r.registerPromise(im({fileKey:_,nodeId:y,name:h,url:p,nodeType:null==d?void 0:d.type,source:"plugin",pluginId:o})).then(()=>{g(r.undefined)}).catch(e=>{f(r.deepWrap(`unable to add ${a} ${e}`))}),m}function p({vm:e,vmThis:r,vmCurrentUrl:n,vmNewValue:i,resourceName:a,pluginID:o,getNode:s}){var l;let d=s(r),u=null==(l=A.D.getState().openFile)?void 0:l.key,p=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"currentUrl"}),h=(0,n_.BK)({vm:e,handle:i,schema:n_.By.exact({name:n_.By.string.isOptional,url:n_.By.string.isOptional}),property:"newValue"}),{promise:m,resolve:g,reject:f}=e.newPromise();if(!d||!u)return f(e.deepWrap(`unable to edit ${a}`)),m;let{fileKey:_,nodeId:y}=c(d,u);return e.registerPromise(iy({fileKey:_,nodeId:y,newValue:h,currentUrl:p,nodeType:null==d?void 0:d.type,source:"plugin",pluginId:o}).then(()=>{g(e.undefined)}).catch(r=>{f(e.deepWrap(`unable to edit ${a} ${r}`))})),m}function g(e,r,n,i,a,o){var s;let l=o(r),d=null==(s=A.D.getState().openFile)?void 0:s.key,u=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"url"}),{promise:p,resolve:h,reject:m}=e.newPromise();if(!l||!d)return m(e.deepWrap(`unable to delete ${i}`)),p;let{fileKey:g,nodeId:f}=c(l,d);return e.registerPromise(iE({fileKey:g,nodeId:f,url:u,nodeType:null==l?void 0:l.type,source:"plugin",pluginId:a})).then(()=>{h(e.undefined)}).catch(r=>{m(e.deepWrap(`unable to delete ${i} ${r}`))}),p}function f({vm:e,vmThis:r,vmUrl:n,vmLinkPreview:i,pluginID:a,pluginVersionID:o,apiMode:s,resourceName:l,getNode:d}){var u;let p=d(r),h=null==(u=A.D.getState().openFile)?void 0:u.key,m=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"url"}),g=(0,n_.BK)({vm:e,handle:i,schema:nz.ds,property:"linkPreview"}),{promise:f,resolve:_,reject:y}=e.newPromise();if(!p||!h)return y(e.deepWrap(`unable to set ${l} preview`)),f;let E=(0,nk.Up)().has(a),b=("CONSOLE_SHIM"===s.type||!o)&&(0,O.kc)().plugins_related_links_local;if(!E&&!b)return y(e.deepWrap(`unable to set ${l} preview with untrusted plugin`)),f;let{fileKey:v,nodeId:S}=c(p,h);return e.registerPromise(ib({fileKey:v,nodeId:S,url:m,linkPreviewJson:g})).then(()=>{_(e.undefined)}).catch(r=>{y(e.deepWrap(`unable to set ${l} preview ${r}`))}),f}e.textAutoResize=function({vm:e,defineVmProp:r,stats:n,getNode:i},a){r({handle:a,key:"textAutoResize",options:{enumerable:!0,metricsKey:"node.textAutoResize",get(){let{textAutoResize:r,textTruncation:n}=i(this),a="NONE"===r&&"ENDING"===n;return a&&!o&&(console.warn("`textAutoResize` will stop returning `TRUNCATE` in a future version - read from `textTruncation` instead"),o=!0),e.newString(a?"TRUNCATE":r)},set(r){let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.fB,zSchema:h.TextAutoResize,property:"textAutoResize"}),o="TRUNCATE"===a,s=i(this);return s.textAutoResize=o?"NONE":a,s.textTruncation=o?"ENDING":"DISABLED",n.stackFieldSet(s.guid,"text-auto-resize"),n.stackFieldSet(s.guid,"text-truncation"),o&&console.warn('setting `textAutoResize = "TRUNCATE"` is deprecated and will be removed in a future version. please use `textTruncation = "ENDING"` instead'),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.lineHeight=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"lineHeight",options:{enumerable:!0,metricsKey:"node.lineHeight",get:function(){let r=i(this).lineHeightOrMixed;if("mixed"===r)return n;let a=e.deepWrap(og(r));return e.deepFreezeObject(a),a},set:function(r){return i(this).lineHeight=of((0,n_.u)({vm:e,handle:r,vmSchema:nz.aK,zSchema:h.LineHeight,property:"lineHeight"})),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.leadingTrim=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"leadingTrim",options:{enumerable:!0,metricsKey:"node.leadingTrim",get:function(){return e.newString(n(this).leadingTrim)},set:function(r){return n(this).leadingTrim=(0,n_.u)({vm:e,handle:r,vmSchema:nz.zv,zSchema:h.LeadingTrim,property:"leadingTrim"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.textTruncation=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"textTruncation",options:{enumerable:!0,metricsKey:"node.textTruncation",get(){let r=n(this).textTruncation;return e.newString(r)},set(r){return n(this).textTruncation=(0,n_.u)({vm:e,handle:r,vmSchema:nz.JK,zSchema:h.TextTruncation,property:"textTruncation"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.maxLines=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"maxLines",options:{enumerable:!0,metricsKey:"node.maxLines",get(){let r=n(this).maxLines;return r?e.newNumber(r):e.null},set(r){return n(this).maxLines=(0,n_.u)({vm:e,handle:r,vmSchema:nz.S_,zSchema:h.MaxLines,property:"maxLines"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.hyperlink=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"hyperlink",options:{enumerable:!0,metricsKey:"node.hyperlink",get:function(){let r=i(this).hyperlinkOrMixed;if("mixed"===r)return n;let a=e.deepWrap(r);return e.deepFreezeObject(a),a},set:function(r){let n=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Qy,zSchema:h.TextHyperlinkOptions,property:"value"});return i(this).setRangeHyperlink(0,-1,n),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.fontName=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"fontName",options:{enumerable:!0,metricsKey:"node.fontName",get:function(){let r=i(this).fontNameOrMixed;if("mixed"===r)return n;let a=e.deepWrap({family:r.family,style:r.style});return e.deepFreezeObject(a),a},set:function(r){return i(this).fontName=(0,n_.u)({vm:e,handle:r,vmSchema:nz.VV,zSchema:h.FontName,property:"fontName"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.fontWeight=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"fontWeight",options:{enumerable:!0,metricsKey:"node.fontWeight",get:function(){let r=i(this).fontWeightOrMixed;return"mixed"===r?n:e.newNumber(r)}},canWriteInReadOnly:!1,hasEditScope:!0})},e.openTypeFeatures=function({vm:e,defineVmProp:r,mixedSentinel:n,getNode:i},a){r({handle:a,key:"openTypeFeatures",options:{enumerable:!0,metricsKey:"node.openTypeFeatures",get:function(){let r=i(this);return s({vm:e,mixedSentinel:n},r.toggledOnOpenTypeFeatures,r.toggledOffOpenTypeFeatures,r.fontVariantNumericFigure,r.fontVariantNumericSpacing,r.fontVariantNumericFraction,r.fontVariantPosition)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.canUpgradeToNativeBidiSupport=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"canUpgradeToNativeBidiSupport",options:{enumerable:!0,metricsKey:"node.canUpgradeToNativeBidiSupport",get:function(){return e.newBoolean(n(this).textBidiVersion<1)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.useNativeBidiSupport=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"useNativeBidiSupport",metricsKey:"node.useNativeBidiSupport",cb:function(){return n(this).textBidiVersion=1,e.undefined},isAllowedInReadOnly:!1,hasEditScope:!1})},e.pointCount=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"pointCount",options:{enumerable:!0,metricsKey:"node.pointCount",get:function(){return e.newNumber(n(this).count)},set:function(r){return n(this).count=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.min(3),zSchema:F.number().min(3).int().finite(),property:"pointCount"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.vectorNetwork=function({vm:e,defineVmIncrementalProp:r,incrementalSafeApi:n,imageStore:i,videoStore:a,getNode:o,sceneGraph:s,documentAccessState:l,allowIncrementalUnsafeApiCalls:d},c){function u(r){let n=(0,n_.Kb)((0,n_.u)({vm:e,handle:r,vmSchema:nz.CE,zSchema:h.VectorNetwork,property:"vectorNetwork"}),{regions:[]});return n.segments=n.segments.map(e=>(0,n_.Kb)(e,{tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}})),function(e){new aV(e).checkValid()}(n),n}function p(e,r){let{data:n,blobs:o}=e.vectorDataInfo;(0,S.B1)(n.vectorNetworkBlob,"Figma Internal Error: vector is missing data");let l=oy(n,e.size,o[n.vectorNetworkBlob],e);if(l.regions.length>0){let r=l.regions[0].fills,n=[];e.fillPaints={data:nS(i,a,r,n),blobs:n},e.inheritedFillStyle=(0,rV.eX)(l.regions[0].fillStyleId||"")}let{boundingBox:d,blob:c,styleOverrideTable:u}=oE(r,i,a,s),p={x:d.width,y:d.height},h={x:d.x,y:d.y};e.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:p,styleOverrideTable:u},blobs:[c]};let m=e.relativeTransform,g=aD(m,h);e.size=p,e.relativeTransform={...m,m02:g.x,m12:g.y}}r({handle:c,key:"vectorNetwork",metricsKey:"node.vectorNetwork",incrementalSafeApiSetKey:"setVectorNetworkAsync",incrementalSafeApiSetMetricsKey:"node.setVectorNetworkAsync",incrementalSafeApi:n,retainGetter:!0,enumerable:!0,canWriteInReadOnly:!1,hasEditScope:!0,parseThis:e=>o(e),resolveValue:function(r){let{data:n,blobs:i}=r.vectorDataInfo,a=r.size;(0,S.B1)(n.vectorNetworkBlob,"Figma Internal Error: vector is missing data");let o=oy(n,a,i[n.vectorNetworkBlob],r),s=e.deepWrap(o);return e.deepFreezeObject(s),s},async prepareDocument(e){await (0,n0.Ux)(l)},setValue:function(r,n){return p(r,u(n)),e.undefined},parseIncrementalValueArg:e=>u(e),setValueIncremental:(r,n)=>(p(r,n),e.undefined),allowIncrementalUnsafeApiCalls:d})},e.vectorPaths=function({vm:e,defineVmProp:r,imageStore:n,videoStore:i,getNode:a,sceneGraph:o},s){r({handle:s,key:"vectorPaths",options:{enumerable:!0,metricsKey:"node.vectorPaths",get:function(){var r;let n=a(this),{data:i,blobs:o}=n.vectorDataInfo,s=n.size;(0,S.B1)(i.vectorNetworkBlob,"Figma Internal Error: vector is missing data");let l=(r=o[i.vectorNetworkBlob],function(e){let r=new aV(e),n=Array(e.segments.length).fill(!1),i=[];if(r.isEmpty())return[];for(let e of r.regions){let s=new aH(e.windingRule);for(let i of e.loops){var a,o;let e=null;for(let{segment:a,segmentIndex:o}of r.getOrderedLoop(i)){n[o]=!0;let i=r.getVertex(a.start),l=r.getVertex(a.end);null===e&&(s.moveTo(i),e=i),aU(a)?s.lineTo(l):s.curveTo(iB(i,a.tangentStart),iB(l,a.tangentEnd),l)}a=s.lastPosition,o=e,a.x===o.x&&a.y===o.y&&s.closePath()}i.push(s)}let s=[];for(let e=0;e<r.vertices.length;e++)s[e]=[];for(let e=0;e<r.segments.length;e++)n[e]||(s[r.segments[e].start].push(e),s[r.segments[e].end].push(e));let l=[];for(let e=0;e<2;e++)for(let i=0;i<r.vertices.length;i++)if(0!==e||2!==s[i].length)for(let e of s[i]){if(n[e])continue;let a=i,o=e,d={segments:[],isClosed:!1,startingVertex:a};for(l.push(d);!n[o];){n[o]=!0,a=aB(r.segments[o],a),d.segments.push(o);let e=s[a];if(2===e.length)o=e[0]===o?e[1]:e[0];else break}a===i&&(d.isClosed=!0)}if(l.length>0){let e=new aH("NONE");for(let n of(i.push(e),l)){let i=n.startingVertex,a=r.vertices[i];for(let o of(e.moveTo(a),n.segments)){let n=r.segments[o];i=n.start===i?n.end:n.start;let s=r.vertices[i];aU(n)?e.lineTo(s):i===n.end?e.curveTo(iB(a,n.tangentStart),iB(s,n.tangentEnd),s):e.curveTo(iB(a,n.tangentEnd),iB(s,n.tangentStart),s),a=s}n.isClosed&&e.closePath()}}return i.map(e=>e.toVectorPath())}(oy(i,s,r,n))),d=e.deepWrap(l);return e.deepFreezeObject(d),d},set:function(r){let{boundingBox:s,blob:l}=oE(function(e){let r=[],n=[],i=[],a={},o={},s=[],l={x:0,y:0},d=null;function c(e){let n=aF(e);return n in a||(a[n]=r.length,r.push(e)),a[n]}function u(e){let r=e.start<e.end||e.start===e.end&&(e.tangentStart.x<e.tangentEnd.x||e.tangentStart.x===e.tangentEnd.x&&e.tangentStart.y<e.tangentEnd.y)?`${e.start} ${e.tangentStart.x} ${e.tangentStart.y} ${e.end} ${e.tangentEnd.x} ${e.tangentEnd.y}`:`${e.end} ${e.tangentEnd.x} ${e.tangentEnd.y} ${e.start} ${e.tangentStart.x} ${e.tangentStart.y}`;return r in o||(o[r]=n.length,n.push(e)),o[r]}function p(){null===d&&(d={startingVertex:c(l),loop:[]})}function h(e){if(null!==d&&d.loop.length){let r=a[aF(l)],n=d.startingVertex;if(e&&r!==n){let e=u({start:r,end:n,tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}});d.loop.push(e)}s.push(d.loop)}d=null}for(let r of e){let e=function(e){if(!e.data||!e.data.length)return[];let r=e.data.split(" "),n=[];for(let e of r){if("Z"===e||"M"===e||"L"===e||"Q"===e||"C"===e){n.push(e);continue}let r=Number(e);if(!isNaN(r)){n.push(r);continue}throw Error(`Failed to convert path. Invalid command at ${e}`)}if(n.length>0&&"M"!==n[0])throw Error(`Failed to convert path. ${n[0]} is not a valid first command`);return n}(r),n=e.length,o=0;for(;o<n;){let r=e[o++],i=aL[r];if(void 0===i||o+i>n)throw Error("Failed to convert path to network, invalid commands data");switch(r){case"M":d=null,l={x:e[o++],y:e[o++]};break;case"L":{p();let r=u({start:a[aF(l)],end:c(l={x:e[o++],y:e[o++]}),tangentStart:{x:0,y:0},tangentEnd:{x:0,y:0}});d.loop.push(r);break}case"Q":{p();let r=l,n=a[aF(r)],i={x:e[o++],y:e[o++]},s=u({start:n,end:c(l={x:e[o++],y:e[o++]}),tangentStart:{x:(i.x-r.x)*2/3,y:(i.y-r.y)*2/3},tangentEnd:{x:(i.x-l.x)*2/3,y:(i.y-l.y)*2/3}});d.loop.push(s);break}case"C":{p();let r=l,n=a[aF(r)],i={x:e[o++],y:e[o++]},s={x:e[o++],y:e[o++]},h=u({start:n,end:c(l={x:e[o++],y:e[o++]}),tangentStart:{x:i.x-r.x,y:i.y-r.y},tangentEnd:{x:s.x-l.x,y:s.y-l.y}});d.loop.push(h);break}case"Z":h(!0)}}"NONE"!==r.windingRule&&(h(!1),s.length>0&&i.push({windingRule:r.windingRule,loops:s})),d=null}return{vertices:r,segments:n,regions:i}}((0,n_.BK)({vm:e,handle:r,schema:nz.G7,property:"vectorPaths"})),n,i,o),d={x:s.width,y:s.height},c={x:s.x,y:s.y},u=a(this);u.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:d},blobs:[l]};let p=u.relativeTransform,h=aD(p,c);return u.size=d,u.relativeTransform={...p,m02:h.x,m12:h.y},e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.guides=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"guides",options:{enumerable:!0,metricsKey:"node.guides",get:function(){let r=e.deepWrap(n(this).guides.map(e=>((0,S.B1)(e.axis,"Figma Internal Error: guide missing data"),(0,S.B1)(e.offset,"Figma Internal Error: guide missing data"),{axis:e.axis,offset:e.offset})));return e.deepFreezeObject(r),r},set:function(r){return n(this).guides=(0,n_.BK)({vm:e,handle:r,schema:nz.AL,property:"guides"}).map(e=>({axis:e.axis,offset:e.offset,guid:V.Hr})),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.prototypeStartNode=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i,sceneGraph:a},o){r({handle:o,key:"prototypeStartNode",options:{enumerable:!0,metricsKey:"node.prototypeStartNode",get:function(){let r=i(this).effectivePrototypeStartNodeId;return r&&void 0!==a.get(r)?n().createNode(r,"node.prototypeStartNode"):e.null}},canWriteInReadOnly:!1,hasEditScope:!1})},e.flowStartingPoints=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"flowStartingPoints",options:{enumerable:!0,metricsKey:"node.flowStartingPoints",get:function(){let r=n(this);if("CANVAS"!==r.type)return e.null;let i=e.deepWrap(r.flowStartingPoints);return e.deepFreezeObject(i),i},set:function(r){let i=n(this),a=(0,n_.BK)({vm:e,handle:r,schema:nz.wq,property:"flowStartingPoints"});return i.flowStartingPoints=a,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.playbackSettings=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"playbackSettings",options:{enumerable:!0,metricsKey:"node.playbackSettings",get:function(){var r;let i={autoplay:void 0===(r=n(this).videoPlayback).autoplay||r.autoplay,loop:void 0===r.mediaLoop||r.mediaLoop,muted:void 0!==r.muted&&r.muted},a=e.deepWrap(i);return e.deepFreezeObject(a),a},set:function(r){let i=(0,n_.BK)({vm:e,handle:r,schema:nz.fL,property:"playbackSettings"});n(this).videoPlayback={autoplay:i.autoplay,mediaLoop:i.loop,muted:i.muted}}},canWriteInReadOnly:!1,hasEditScope:!0})},e.reactions=function({vm:e,allowIncrementalUnsafeApiCalls:r,defineVmIncrementalProp:n,documentAccessState:i,getNode:a,incrementalSafeApi:o},s){function l(r){return(0,n_.u)({vm:e,handle:r,zSchema:h.Reactions,property:"reactions"})}n({handle:s,key:"reactions",allowIncrementalUnsafeApiCalls:r,incrementalSafeApi:o,metricsKey:"node.reactions",incrementalSafeApiSetKey:"setReactionsAsync",incrementalSafeApiSetMetricsKey:"node.setReactionsAsync",retainGetter:!0,enumerable:!0,canWriteInReadOnly:!1,hasEditScope:!0,parseThis:e=>a(e),resolveValue:function(r){let n=function(e){let r=[];for(let n of e){let e=n.actions&&n.actions.length>0?iQ(n.actions[0]):null,i=[];n.actions&&(i=n.actions.map(iQ).filter(iX));let a=function(e){var r,n,i={};let a=(null==e?void 0:e.interactionType)||"ON_CLICK";switch(a){case"NONE":return null;case"ON_VOICE":case"ON_CLICK":case"ON_HOVER":case"ON_PRESS":case"ON_MEDIA_END":i.type=a;break;case"DRAG":i.type="ON_DRAG";break;case"AFTER_TIMEOUT":i.type=a,i.timeout=e.transitionTimeout?e.transitionTimeout:.8;break;case"MOUSE_IN":case"MOUSE_ENTER":case"MOUSE_OUT":case"MOUSE_LEAVE":case"MOUSE_UP":case"MOUSE_DOWN":"MOUSE_IN"===a||"MOUSE_ENTER"===a?i.type="MOUSE_ENTER":"MOUSE_OUT"===a||"MOUSE_LEAVE"===a?i.type="MOUSE_LEAVE":"MOUSE_UP"===a?i.type="MOUSE_UP":"MOUSE_DOWN"===a&&(i.type="MOUSE_DOWN"),e.interactionMaintained?i.delay=e.interactionDuration||.3:i.delay=0;break;case"ON_KEY_DOWN":i.type=a,i.device=(null==(r=e.keyTrigger)?void 0:r.triggerDevice)||"KEYBOARD",i.keyCodes=(null==(n=e.keyTrigger)?void 0:n.keyCodes)||[];break;case"ON_MEDIA_HIT":i.type=a,i.mediaHitTime=e.mediaHitTime}return i}(n.event||{});r.push({action:e,actions:i,trigger:a})}return r}(r.prototypeInteractions),i=e.deepWrap(n);return e.deepFreezeObject(i),i},async prepareDocument(e){await (0,n0.Ux)(i)},setValue:function(e,r){e.prototypeInteractions=iJ(l(r))},parseIncrementalValueArg:l,setValueIncremental(e,r){e.prototypeInteractions=iJ(r)}})},e.overlayPositionType=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"overlayPositionType",options:{enumerable:!0,metricsKey:"node.overlayPositionType",get:function(){return e.newString(n(this).overlayPositionType)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.overlayBackgroundInteraction=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"overlayBackgroundInteraction",options:{enumerable:!0,metricsKey:"node.overlayBackgroundInteraction",get:function(){return e.newString(n(this).overlayBackgroundInteraction)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.overlayBackground=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"overlayBackground",options:{enumerable:!0,metricsKey:"node.overlayBackground",get:function(){let r=n(this).overlayBackground,i=e.deepWrap(r);return e.deepFreezeObject(i),i}},canWriteInReadOnly:!1,hasEditScope:!1})},e.selection=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"selection",options:{enumerable:!0,metricsKey:"node.selection",get:function(){let r=e.newArray(),a=0;for(let o of i(this).directlySelectedNodes){if(o.isInImmutableFrame&&"TABLE_CELL"!==o.type){let i=ot(o);e.setProp(r,a.toString(),n().createNode(i.guid,"node.selection"))}else e.setProp(r,a.toString(),n().createNode(o.guid,"node.selection"));a++}return e.shallowFreezeObject(r),r},set:function(r){if(!e.isArray(r))throw Error("The selection must be an array");let n=e.getNumberProp(r,"length"),a=[];for(let o=0;o<n;o++){let n=i(e.getProp(r,o.toString()));rP.Egt.expandUpToRoot(n.guid),a.push(n)}return i(this).directlySelectedNodes=a,e.undefined}},hasEditScope:!0,canWriteInReadOnly:!0}),r({handle:a,key:"selectedTextRange",options:{enumerable:!0,metricsKey:"node.selectedTextRange",get:function(){let r=i(this).getSelectedTextRange();if(!r)return e.null;{let i=e.newObject();return e.setProp(i,"node",n().createNode(r.textNodeId,"node.selectedTextRange")),e.setProp(i,"start",e.newNumber(r.start)),e.setProp(i,"end",e.newNumber(r.end)),e.shallowFreezeObject(i),i}},set:function(r){let n=i(this);if(e.isNull(r))return function(e){let r=e.directlySelectedNodes;return 1===r.length&&"TEXT"===r[0].type?r[0]:null}(n)&&rR.Y5.triggerAction("leave-edit-mode"),e.undefined;let a=(0,n_.BK)({vm:e,handle:r,schema:nz.dj,property:"selectedTextRange"}),o=i(e.getProp(r,"node"));if(a.end<a.start)throw Error("selectedTextRange must have (start <= end)");let s=o.characters.length;if(a.start>s||a.end>s)throw Error("selectedTextRange must have (start < # of characters), (end < # of characters)");return n.directlySelectedNodes=[o],rR.Y5.triggerAction("request-edit-mode"),n.setSelectedTextRange(o.guid,a.start,a.end),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.booleanOperation=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"booleanOperation",options:{enumerable:!0,metricsKey:"node.booleanOperation",get:function(){let r=n(this).booleanOperation;return"XOR"===r&&(r="EXCLUDE"),e.newString(r)},set:function(r){let i=(0,n_.BK)({vm:e,handle:r,schema:nz.OQ,property:"booleanOperation"});return"EXCLUDE"===i&&(i="XOR"),n(this).booleanOperation=i,e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.innerRadius=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"innerRadius",options:{enumerable:!0,metricsKey:"node.innerRadius",get:function(){return e.newNumber(n(this).starInnerScale)},set:function(r){return n(this).starInnerScale=(0,n_.BK)({vm:e,handle:r,schema:nz.s4,property:"innerRadius"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.arcData=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"arcData",options:{enumerable:!0,metricsKey:"node.arcData",get:function(){let r=e.deepWrap(n(this).arcData);return e.deepFreezeObject(r),r},set:function(r){return n(this).arcData=(0,n_.BK)({vm:e,handle:r,schema:nz.Pq,property:"arcData"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.topLeftRadius=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"topLeftRadius",options:{enumerable:!0,metricsKey:"node.topLeftRadius",get:function(){let r=n(this);return e.newNumber(r.rectangleCornerRadiiIndependent?r.rectangleTopLeftCornerRadius:r.cornerRadius)},set:function(r){let i=n(this);return i.rectangleCornerRadiiIndependent=!0,i.rectangleTopLeftCornerRadius=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"topLeftRadius"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.topRightRadius=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"topRightRadius",options:{enumerable:!0,metricsKey:"node.topRightRadius",get:function(){let r=n(this);return e.newNumber(r.rectangleCornerRadiiIndependent?r.rectangleTopRightCornerRadius:r.cornerRadius)},set:function(r){let i=n(this);return i.rectangleCornerRadiiIndependent=!0,i.rectangleTopRightCornerRadius=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"topRightRadius"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.bottomLeftRadius=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"bottomLeftRadius",options:{enumerable:!0,metricsKey:"node.bottomLeftRadius",get:function(){let r=n(this);return e.newNumber(r.rectangleCornerRadiiIndependent?r.rectangleBottomLeftCornerRadius:r.cornerRadius)},set:function(r){let i=n(this);return i.rectangleCornerRadiiIndependent=!0,i.rectangleBottomLeftCornerRadius=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"bottomLeftRadius"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.bottomRightRadius=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"bottomRightRadius",options:{enumerable:!0,metricsKey:"node.bottomLeftRadius",get:function(){let r=n(this);return e.newNumber(r.rectangleCornerRadiiIndependent?r.rectangleBottomRightCornerRadius:r.cornerRadius)},set:function(r){let i=n(this);return i.rectangleCornerRadiiIndependent=!0,i.rectangleBottomRightCornerRadius=(0,n_.u)({vm:e,handle:r,vmSchema:nz.mk,zSchema:h.PositiveFloat,property:"bottomRightRadius"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.exportSettings=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"exportSettings",options:{enumerable:!0,metricsKey:"node.exportSettings",get(){var r,i;let a=n(this),o=e.deepWrap((r=a.type,void 0===(i=a.exportSettings)?[]:i.map(e=>{let n={format:"JPEG"===e.imageType?"JPG":e.imageType,suffix:e.suffix||"",contentsOnly:!!e.contentsOnly};return e.colorProfile&&(n.colorProfile=e.colorProfile),"TEXT"===r&&(n.useAbsoluteBounds=!!e.useAbsoluteBounds),"JPG"===n.format||"PNG"===n.format?n.constraint={type:e.constraint.type.substring(8),value:e.constraint.value}:"SVG"===n.format&&(n.svgOutlineText=!!e.svgOutlineText,n.svgIdAttribute="ALWAYS"==e.svgIDMode,n.svgSimplifyStroke=!e.svgForceStrokeMasks),n})));return e.deepFreezeObject(o),o},set(r){let i=(0,n_.BK)({vm:e,handle:r,schema:nz.a$,property:"exportSettings"}),a=n(this);if("TEXT"!==a.type&&i.some(e=>void 0!==e.useAbsoluteBounds))throw Error("Cannot set useAbsoluteBounds for ExportSetting on node that is not type text.");return a.exportSettings=om(i),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.pluginData=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"getSharedPluginData",metricsKey:"node.getSharedPluginData",cb:function(r,n){let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"namespace"});oo(a);let o=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"key"});return e.newString(i(this).getSharedPluginData(a,o))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:a,key:"setSharedPluginData",metricsKey:"node.setSharedPluginData",cb:function(r,n,a){let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"namespace"});oo(o);let s=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"key"}),l=(0,n_.u)({vm:e,handle:a,vmSchema:n_.By.string,zSchema:F.string(),property:"value"});i(this).setSharedPluginData(o,s,l);let d=e.getStats();if(d){let r=e.getStringProp(this,"id");d.recordSetSharedPluginDataSize(r,o,s,l)}return e.undefined},isAllowedInReadOnly:!0,hasEditScope:!0}),r({handle:a,key:"getSharedPluginDataKeys",metricsKey:"node.getSharedPluginDataKeys",cb:function(r){let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"namespace"});return oo(n),e.deepWrap(i(this).getSharedPluginDataKeys(n))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:a,key:"getPluginData",metricsKey:"node.getPluginData",cb:function(r){l(n,"get private plugin data");let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"key"});return e.newString(i(this).getPluginData(n,a))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:a,key:"setPluginData",metricsKey:"node.setPluginData",cb:function(r,a){l(n,"set private plugin data");let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"key"}),s=(0,n_.u)({vm:e,handle:a,vmSchema:n_.By.string,zSchema:F.string(),property:"value"});i(this).setPluginData(n,o,s);let d=e.getStats();if(d){let r=e.getStringProp(this,"id");d.recordSetPluginDataSize(r,o,s)}return e.undefined},isAllowedInReadOnly:!0,hasEditScope:!0}),r({handle:a,key:"getPluginDataKeys",metricsKey:"node.getPluginDataKeys",cb:function(){return l(n,"get private plugin data keys"),e.deepWrap(i(this).getPluginDataKeys(n))},isAllowedInReadOnly:!0,hasEditScope:!1})},e.variableConsumptionMap=function({vm:e,defineVmProp:r,defineVmFunction:n,getNode:i},a){r({handle:a,key:"variableConsumptionMap",options:{enumerable:!0,metricsKey:"node.variableConsumptionMap",get:function(){return e.deepWrap(i(this).getVariableConsumptionMap())}},canWriteInReadOnly:!1,hasEditScope:!1}),n({handle:a,key:"updateVariableConsumption",metricsKey:"node.updateVariableConsumption",cb:function(r,n){let a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"nodeField"}),o=(0,n_.BK)({vm:e,handle:n,schema:nz.WZ,property:"variableData"}),s=i(this).updateVariableConsumption(a,o);return s&&T.k.warn(s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.boundVariables=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"boundVariables",options:{enumerable:!0,metricsKey:"node.boundVariables",get:function(){return e.deepWrap(n(this).boundVariables)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.inferredVariables=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"inferredVariables",options:{enumerable:!0,metricsKey:"node.inferredVariables",get:function(){return e.deepWrap(n(this).inferredVariables)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.setBoundVariable=function({vm:e,defineVmFunction:r,incrementalSafeApi:n,pluginVersionID:i,getNode:a,stats:o,allowIncrementalUnsafeApiCalls:s},l){r({handle:l,key:"setBoundVariable",metricsKey:"node.setBoundVariable",cb:function(r,l){let d=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"field"});if("fills"===d||"strokes"===d)throw Error("fills and strokes variable bindings must be set on paints directly");if("componentProperties"===d)throw Error("componentProperties variable bindings must be set on componentProperties directly");let c=(0,n_.BK)({vm:e,handle:r,schema:(0,O.kc)().variables_typography||(0,O.kc)().variables_typography_plugin_api?aE:ay,property:"field"}),u=function({callerName:e,consoleLogger:r,getNode:n,incrementalSafeApi:i,pluginVersionID:a,vm:o,handle:s,allowIncrementalUnsafeApiCalls:l}){if(o.isNull(s)||o.isUndefined(s))return null;if(o.isObject(s)){let r=n(s);if(!r||"VARIABLE"!==r.type)throw Error(`Cannot call ${e}  with a non-variable node.`);return o.getStringProp(s,"id")}if(o.isString(s)){if(i&&!l)throw Error(`Cannot call ${e} with a variable id. Please pass a variable object instead.`);return(i&&l||!a)&&r.warn(`Calling ${e} with a variable id is deprecated. Please pass the variable node instead.`),(0,n_.u)({vm:o,handle:s,vmSchema:n_.By.string,zSchema:F.string(),property:"variableId"})}throw Error(`Cannot call ${e} without a variable node parameter.`)}({callerName:"setBoundVariable",consoleLogger:T.k,getNode:a,incrementalSafeApi:n,pluginVersionID:i,vm:e,handle:l,allowIncrementalUnsafeApiCalls:s});return o.increment(`node.setBoundVariable ${null===u?"Remove":"Add"}`),a(this).setBoundVariable(c,u),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.variableConsumerModes=function({vm:e,defineVmFunction:r,getNode:n,incrementalSafeApi:i,pluginVersionID:a,allowIncrementalUnsafeApiCalls:o},s){r({handle:s,key:"clearExplicitVariableModeForCollection",metricsKey:"node.clearExplicitVariableModeForCollection",cb:function(r){let s=ok({callerName:"clearExplicitVariableModeForCollection",consoleLogger:T.k,getNode:n,incrementalSafeApi:i,pluginVersionID:a,vm:e,vmHandle:r,allowIncrementalUnsafeApiCalls:o});return n(this).clearExplicitVariableConsumerModeForCollection(s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:s,key:"setExplicitVariableModeForCollection",metricsKey:"node.setExplicitVariableModeForCollection",cb:function(r,s){let l=ok({callerName:"setExplicitVariableModeForCollection",consoleLogger:T.k,getNode:n,incrementalSafeApi:i,pluginVersionID:a,vm:e,vmHandle:r,allowIncrementalUnsafeApiCalls:o}),d=(0,n_.u)({vm:e,handle:s,vmSchema:n_.By.string,zSchema:F.string(),property:"variableModeID"});return n(this).setExplicitVariableModeForCollection(l,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.pluginRelaunchData=function({vm:e,defineVmFunction:r,pluginID:n,isWidget:i,getNode:a},o){r({handle:o,key:"getRelaunchData",metricsKey:"node.getRelaunchData",cb:function(){return l(n,"get relaunch data"),e.deepWrap(a(this).getRelaunchData(n))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:o,key:"setRelaunchData",metricsKey:"node.setRelaunchData",cb:function(r){if(i)throw Error("Cannot set relaunch data in a widget");l(n,"set relaunch data");let o=(0,n_.BK)({vm:e,handle:r,schema:nz.Dw,property:"relaunchData"}),s=a(this);for(let e in o)if(o[e].length>1e3)throw Error("Maximum allowed description length is 1000 characters");return s.setRelaunchData(n,o),e.undefined},isAllowedInReadOnly:!0,hasEditScope:!0})},e.textRangeFunctions=function({vm:e,defineVmFunction:r,defineVmIncrementalMethod:n,mixedSentinel:i,imageStore:a,videoStore:o,getNode:l,incrementalSafeApi:d,documentAccessState:c,allowIncrementalUnsafeApiCalls:u},p){function g(r,n,i){let a=(0,n_.BK)({vm:e,handle:n,schema:nz.ee,property:"start"}),o=(0,n_.BK)({vm:e,handle:i,schema:nz.ee,property:"end"});if(a>=o)throw Error("Empty range selected. 'end' must be greater than 'start'");if(o>r.characters.length)throw Error("Range outside of available characters. 'start' must be less than node.characters.length and 'end' must be less than or equal to node.characters.length");return[a,o]}r({handle:p,key:"getRangeFontSize",metricsKey:"node.getRangeFontSize",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeFontSize(o,s);return"mixed"===d?i:e.newNumber(d)},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeFontSize",metricsKey:"node.setRangeFontSize",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=(0,n_.BK)({vm:e,handle:i,schema:n_.By.float.min(1),property:"value"});return a.setRangeFontSize(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeFontName",metricsKey:"node.getRangeFontName",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeFontName(o,s);if("mixed"===d)return i;let c=e.deepWrap({family:d.family,style:d.style});return e.deepFreezeObject(c),c},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeFontName",metricsKey:"node.setRangeFontName",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=(0,n_.BK)({vm:e,handle:i,schema:nz.VV,property:"value"});return a.setRangeFontName(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeAllFontNames",metricsKey:"node.getRangeAllFontNames",cb:function(r,n){let i=l(this),[a,o]=g(i,r,n),s=i.getRangeAllFontNames(a,o),d=e.deepWrap(s.map(({family:e,style:r})=>({family:e,style:r})));return e.deepFreezeObject(d),d},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"getRangeFontWeight",metricsKey:"node.getRangeFontWeight",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeFontWeight(o,s);if("mixed"===d)return i;let c=e.newNumber(d);return e.deepFreezeObject(c),c},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"getRangeTextDecoration",metricsKey:"node.getRangeTextDecoration",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeTextDecoration(o,s);return"mixed"===d?i:e.newString(d)},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeTextDecoration",metricsKey:"node.setRangeTextDecoration",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=(0,n_.u)({vm:e,handle:i,vmSchema:nz.i8,zSchema:h.TextDecoration,property:"value"});return a.setRangeTextDecoration(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeTextCase",metricsKey:"node.getRangeTextCase",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n);return oO(e,i,a.getRangeTextCase(o,s),a.getRangeFontVariantCaps(o,s))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeTextCase",metricsKey:"node.setRangeTextCase",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),{textCase:d,fontVariantCaps:c}=oM(a,o,s,(0,n_.u)({vm:e,handle:i,vmSchema:nz.W5,zSchema:h.TextCase,property:"textCase"}));return a.setRangeTextCase(o,s,d),a.setRangeFontVariantCaps(o,s,c),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeOpenTypeFeatures",metricsKey:"node.getRangeOpenTypeFeatures",cb:function(r,n){let a=l(this),[o,d]=g(a,r,n);return s({vm:e,mixedSentinel:i},a.getRangeToggledOnOpenTypeFeatures(o,d),a.getRangeToggledOffOpenTypeFeatures(o,d),a.getRangeFontVariantNumericFigure(o,d),a.getRangeFontVariantNumericSpacing(o,d),a.getRangeFontVariantNumericFraction(o,d),a.getRangeFontVariantPosition(o,d))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"getRangeLineHeight",metricsKey:"node.getRangeLineHeight",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeLineHeight(o,s);if("mixed"===d)return i;let c=e.deepWrap(og(d));return e.deepFreezeObject(c),c},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeLineHeight",metricsKey:"node.setRangeLineHeight",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=of((0,n_.BK)({vm:e,handle:i,schema:nz.aK,property:"value"}));return a.setRangeLineHeight(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeLetterSpacing",metricsKey:"node.getRangeLetterSpacing",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeLetterSpacing(o,s);if("mixed"===d)return i;let c=e.deepWrap({unit:d.units,value:d.value});return e.deepFreezeObject(c),c},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeLetterSpacing",metricsKey:"node.setRangeLetterSpacing",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=(0,n_.BK)({vm:e,handle:i,schema:nz.I,property:"value"});return a.setRangeLetterSpacing(o,s,{units:d.unit,value:d.value}),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),((0,O.kc)().variables_typography||(0,O.kc)().variables_typography_plugin_api)&&(r({handle:p,key:"getRangeBoundVariable",metricsKey:"node.getRangeBoundVariable",cb:function(r,n,a){let o=l(this),[s,d]=g(o,r,n),c=(0,n_.u)({vm:e,handle:a,vmSchema:ab,zSchema:m.VariableBindableTextField,property:"field"}),u=o.getRangeBoundVariable(s,d,c);return"mixed"===u?i:e.deepWrap(u)},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeBoundVariable",metricsKey:"node.setRangeBoundVariable",cb:function(r,n,i,a){let o=l(this),[s,d]=g(o,r,n),c=(0,n_.u)({vm:e,handle:i,vmSchema:(0,O.kc)().ce_mixed_text_spacing?ab:av,zSchema:m.VariableBindableSubstringField,property:"field"});if("VARIABLE"!==l(a).type)throw Error("Cannot call setBoundVariable with a non-variable node.");let u=e.getStringProp(a,"id");return o.setRangeBoundVariable(s,d,c,u),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})),r({handle:p,key:"getRangeFills",metricsKey:"node.getRangeFills",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeFillPaints(o,s);if("mixed"===d)return i;let c=e.deepWrap(nv(d.data));return e.deepFreezeObject(c),c},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeFills",metricsKey:"node.setRangeFills",cb:function(r,n,i){let s=l(this),[d,c]=g(s,r,n),u=[],p={data:nS(a,o,(0,n_.u)({vm:e,handle:i,vmSchema:nz.s9,zSchema:h.Paints,property:"value"}),u),blobs:u};return s.setRangeFillPaints(d,c,p),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeTextStyleId",metricsKey:"node.getRangeTextStyleId",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeInheritedTextStyle(o,s);return"mixed"===d?i:e.newString((0,rV.nM)(d))},isAllowedInReadOnly:!0,hasEditScope:!1}),n({handle:p,key:"setRangeTextStyleId",metricsKey:"node.setRangeTextStyleId",incrementalSafeApiKey:"setRangeTextStyleIdAsync",incrementalSafeApiMetricsKey:"node.setRangeTextStyleIdAsync",parseThis:function(e){return l(e)},parseArg:function(r,n,i,a){let[o,s]=g(r,n,i);return{start:o,end:s,styleKey:(0,rV.eX)((0,n_.u)({vm:e,handle:a,vmSchema:n_.By.string,zSchema:F.string(),property:"value"}))}},prepareDocument:async(e,{})=>{await (0,n0.Ux)(c)},resolveValue:(r,{start:n,end:i,styleKey:a})=>(r.setRangeInheritedTextStyle(n,i,a),e.undefined),incrementalSafeApi:d,allowIncrementalUnsafeApiCalls:u,isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeFillStyleId",metricsKey:"node.getRangeFillStyleId",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeInheritedFillStyle(o,s);return"mixed"===d?i:e.newString((0,rV.nM)(d))},isAllowedInReadOnly:!0,hasEditScope:!1}),n({handle:p,key:"setRangeFillStyleId",metricsKey:"node.setRangeFillStyleId",incrementalSafeApiKey:"setRangeFillStyleIdAsync",incrementalSafeApiMetricsKey:"node.setRangeFillStyleIdAsync",parseThis:function(e){return l(e)},parseArg:function(r,n,i,a){let[o,s]=g(r,n,i);return{start:o,end:s,styleKey:(0,rV.eX)((0,n_.u)({vm:e,handle:a,vmSchema:n_.By.string,zSchema:F.string(),property:"value"}))}},prepareDocument:async(e,{})=>{await (0,n0.Ux)(c)},resolveValue:(r,{start:n,end:i,styleKey:a})=>(r.setRangeInheritedFillStyle(n,i,a),e.undefined),incrementalSafeApi:d,allowIncrementalUnsafeApiCalls:u,isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeListOptions",metricsKey:"node.getRangeListOptions",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeLineType(o,s);return"mixed"===d?i:e.deepWrap(o_(d))},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeListOptions",metricsKey:"node.setRangeListOptions",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=function(e){if("ORDERED"===e.type)return"ORDERED_LIST";if("UNORDERED"===e.type)return"UNORDERED_LIST";if("NONE"===e.type)return"PLAIN";throw Error("Unknown list option")}((0,n_.u)({vm:e,handle:i,vmSchema:nz.i_,zSchema:h.TextListOptions,property:"options"}));return a.setRangeLineType(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeIndentation",metricsKey:"node.getRangeIndentation",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeLineIndentation(o,s);return"mixed"===d?i:e.newNumber(d)},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeIndentation",metricsKey:"node.setRangeIndentation",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=(0,n_.u)({vm:e,handle:i,vmSchema:nz.ho,zSchema:h.TextIndentation,property:"indentation"});return a.setRangeLineIndentation(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getRangeHyperlink",metricsKey:"node.getRangeHyperlink",cb:function(r,n){let a=l(this),[o,s]=g(a,r,n),d=a.getRangeHyperlink(o,s);return"mixed"===d?i:e.deepWrap(d||e.null)},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:p,key:"setRangeHyperlink",metricsKey:"node.setRangeHyperlink",cb:function(r,n,i){let a=l(this),[o,s]=g(a,r,n),d=(0,n_.u)({vm:e,handle:i,vmSchema:nz.Qy,zSchema:h.TextHyperlinkOptions,property:"hyperlink"});return a.setRangeHyperlink(o,s,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0}),r({handle:p,key:"getStyledTextSegments",metricsKey:"node.getStyledTextSegments",cb:function(r,n,a){let o;let d=l(this),c=(0,n_.BK)({vm:e,handle:r,schema:nz.iQ(),property:"getStyledTextSegments"});if(c.includes("textCase")&&c.push("fontVariantCaps"),c.includes("openTypeFeatures")&&(c.push("fontVariantNumericFigure"),c.push("fontVariantNumericSpacing"),c.push("fontVariantNumericFraction"),c.push("fontVariantPosition"),c.push("toggledOnOTFeatures"),c.push("toggledOffOTFeatures")),e.isUndefined(n)||e.isUndefined(a)){if(e.isUndefined(n)&&e.isUndefined(a))o=d.getStyledTextSegments(c);else throw Error("Invalid range. Must provide both 'start' and 'end'")}else{let[e,r]=g(d,n,a);o=d.getStyledTextSegments(c,e,r)}let u=e.newArray();for(let r=0;r<o.length;r++){let n=o[r],a=e.newObject();if(e.setProp(a,"characters",e.newString(n.characters)),e.setProp(a,"start",e.newNumber(n.start)),e.setProp(a,"end",e.newNumber(n.end)),void 0!==n.fontSize&&e.setProp(a,"fontSize",e.newNumber(n.fontSize)),void 0!==n.fontName){let r=e.deepWrap({family:n.fontName.family,style:n.fontName.style});e.setProp(a,"fontName",r)}if(void 0!==n.fontWeight&&e.setProp(a,"fontWeight",e.newNumber(n.fontWeight)),void 0!==n.textDecoration&&e.setProp(a,"textDecoration",e.newString(n.textDecoration)),void 0!==n.textCase&&e.setProp(a,"textCase",oO(e,i,n.textCase,n.fontVariantCaps)),void 0!==n.lineHeight&&e.setProp(a,"lineHeight",e.deepWrap(og(n.lineHeight))),void 0!==n.letterSpacing){let r=e.deepWrap({unit:n.letterSpacing.units,value:n.letterSpacing.value});e.setProp(a,"letterSpacing",r)}void 0!==n.fills&&e.setProp(a,"fills",e.deepWrap(nv(n.fills.data))),void 0!==n.textStyleId&&e.setProp(a,"textStyleId",e.newString((0,rV.nM)(n.textStyleId))),void 0!==n.fillStyleId&&e.setProp(a,"fillStyleId",e.newString((0,rV.nM)(n.fillStyleId))),void 0!==n.listOptions&&e.setProp(a,"listOptions",e.deepWrap(o_(n.listOptions))),void 0!==n.indentation&&e.setProp(a,"indentation",e.newNumber(n.indentation)),void 0!==n.hyperlink&&e.setProp(a,"hyperlink",n.hyperlink?e.deepWrap(n.hyperlink):e.null),((0,O.kc)().variables_typography||(0,O.kc)().variables_typography_plugin_api)&&void 0!==n.boundVariables&&e.setProp(a,"boundVariables",n.boundVariables?e.deepWrap(n.boundVariables):e.null),void 0!==n.fontVariantNumericFigure&&void 0!==n.fontVariantNumericSpacing&&void 0!==n.fontVariantNumericFraction&&void 0!==n.toggledOnOTFeatures&&void 0!==n.toggledOffOTFeatures&&void 0!==n.fontVariantPosition&&e.setProp(a,"openTypeFeatures",s({vm:e,mixedSentinel:i},n.toggledOnOTFeatures,n.toggledOffOTFeatures,n.fontVariantNumericFigure,n.fontVariantNumericSpacing,n.fontVariantNumericFraction,n.fontVariantPosition)),e.setProp(u,r.toString(),a)}return e.deepFreezeObject(u),u},isAllowedInReadOnly:!0,hasEditScope:!1})},e.outlineStroke=function({vm:e,defineVmFunction:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"outlineStroke",metricsKey:"node.outlineStroke",cb:function(){let r=i(this).outlineStroke();return r?n().createNode(r,"node.outlineStroke"):e.null},isAllowedInReadOnly:!1,hasEditScope:!0})},e.shapeWithTextType=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"shapeType",options:{enumerable:!0,metricsKey:"node.shapeType",get:function(){return e.newString(n(this).shapeWithTextType)},set:function(r){n(this).shapeWithTextType=(0,n_.BK)({vm:e,handle:r,schema:nz.HZ,property:"shapeType"})}},canWriteInReadOnly:!1,hasEditScope:!0})},e.authorName=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"authorName",options:{enumerable:!0,metricsKey:"node.authorName",get:function(){return e.newString(n(this).authorName)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.authorVisible=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"authorVisible",options:{enumerable:!0,metricsKey:"node.authorVisible",get:function(){return e.newBoolean(n(this).authorVisible)},set:function(r){return n(this).authorVisible=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"authorVisible"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.isWideWidth=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"isWideWidth",options:{enumerable:!0,metricsKey:"node.isWideWidth",get:function(){return e.newBoolean(n(this).isWideWidth)},set:function(r){return n(this).isWideWidth=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"isWideWidth"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.codeLanguage=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"codeLanguage",options:{enumerable:!0,metricsKey:"node.codeLanguage",get:function(){let r=n(this).codeBlockLanguage;return r?e.newString(r):e.undefined},set:function(r){n(this).codeBlockLanguage=(0,n_.BK)({vm:e,handle:r,schema:nz.bm,property:"codeLanguage"})}},canWriteInReadOnly:!1,hasEditScope:!0})},e.code=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"code",options:{enumerable:!0,metricsKey:"node.code",get:function(){let r=n(this).textSublayer;return r?e.newString(r.characters):e.undefined},set:function(r){let i=n(this).textSublayer;return null==i||i.spliceCharacters(0,i.characters.length,(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"characters"}),"BEFORE"),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.variantGroupProperties=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"variantGroupProperties",options:{enumerable:!0,metricsKey:"node.variantGroupProperties",get:function(){let r=n(this).variantGroupProperties();return e.deepWrap(r)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.variantProperties=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"variantProperties",options:{enumerable:!0,metricsKey:"node.variantProperties",get:function(){let r=n(this);if(void 0===r||"INSTANCE"!==r.type&&!r.isState)return e.null;let i=r.variantProperties();return e.deepWrap(i)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.componentPropertyDefinitions=function({vm:e,defineVmProp:r,defineVmFunction:n,getNode:i},a){r({handle:a,key:"componentPropertyDefinitions",options:{enumerable:!0,metricsKey:"node.componentPropertyDefinitions",get:function(){let r=i(this).componentPropertyDefinitions();if("failure"===r.status)throw Error(r.error);return e.deepWrap(r)}},canWriteInReadOnly:!1,hasEditScope:!1}),n({handle:a,key:"addComponentProperty",metricsKey:"node.addComponentProperty",cb:function(r,n,a,o){let s;let l=i(this),d=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"node.addComponentProperty.name"}),c=(0,n_.BK)({vm:e,handle:n,schema:nz.PN,property:"node.addComponentProperty.type"}),u=(0,n_.BK)({vm:e,handle:a,schema:nz.iF,property:"node.addComponentProperty.defaultValue"}),p=(0,n_.BK)({vm:e,handle:o,schema:nz.DH,property:"node.addComponentProperty.options"}),h=p?p.preferredValues:void 0;return s="VARIANT"===c?l.addVariantComponentPropertyDefinition(d,u):l.addComponentPropertyDefinition(d,function(e){switch(e){case"BOOLEAN":return"BOOL";case"TEXT":return"TEXT";case"INSTANCE_SWAP":return"INSTANCE_SWAP";default:return""}}(c),u,h),e.newString(s)},isAllowedInReadOnly:!1,hasEditScope:!0}),n({handle:a,key:"editComponentProperty",metricsKey:"node.editComponentProperty",cb:function(r,n){let a=i(this),o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"node.editComponentProperty.propertyName"}),s=(0,n_.BK)({vm:e,handle:n,schema:nz.Xw,property:"node.editComponentProperty.newValue"}),l=a.editComponentPropertyDefinition(o,s.name,s.defaultValue,s.preferredValues);if(!l)return e.undefined;if("failure"===l.status)throw Error(l.error);return e.deepWrap(l)},isAllowedInReadOnly:!1,hasEditScope:!0}),n({handle:a,key:"deleteComponentProperty",metricsKey:"node.deleteComponentProperty",cb:function(r){let n=i(this),a=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"node.deleteComponentProperty.propertyName"});return n.deleteComponentPropertyDefinition(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.componentPropertyReferences=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"componentPropertyReferences",options:{enumerable:!0,metricsKey:"node.componentPropertyReferences",get:function(){let r=n(this).componentPropertyReferences();return e.deepWrap(r)},set:function(r){let i=(0,n_.BK)({vm:e,handle:r,schema:nz.Xk,property:"node.componentPropertyReferences.value"});return n(this).setComponentPropertyReferences(i),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.componentProperties=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"componentProperties",options:{enumerable:!0,metricsKey:"node.componentProperties",get:function(){let r=n(this).componentProperties();return e.deepWrap(r)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.isExposedInstance=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"isExposedInstance",options:{enumerable:!0,metricsKey:"node.isExposedInstance",get:function(){return e.newBoolean(n(this).isBubbled)},set:function(r){let i=n(this).setPropsAreBubbled((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"isExposedInstance.value"}));if(i)throw Error(i);return e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.exposedInstances=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"exposedInstances",options:{enumerable:!0,metricsKey:"node.exposedInstances",get:function(){let r=i(this).exposedInstances,a=e.newArray(),o=0;for(let i of r){let r=n().createNode(i,"node.exposedInstances");!e.isNull(r)&&(e.setProp(a,o.toString(),r),o++)}return e.deepFreezeObject(a),a}},canWriteInReadOnly:!1,hasEditScope:!1})},e.overrides=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"overrides",options:{enumerable:!0,metricsKey:"node.overrides",get:function(){let r=n(this).overrides;for(let e of r){let r=e.overriddenFields.indexOf("strokeTopWeight");r>=0&&(e.overriddenFields[r]="stokeTopWeight")}let i=e.deepWrap(r);return e.deepFreezeObject(i),i}},canWriteInReadOnly:!1,hasEditScope:!1})},e.resetOverrides=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"resetOverrides",metricsKey:"node.resetOverrides",cb:function(){return n(this).resetOverrides(),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.instances=function({vm:e,defineVmIncrementalProp:r,getNodeFactory:n,incrementalSafeApi:i,getNode:a,documentAccessState:o,allowIncrementalUnsafeApiCalls:s},l){r({handle:l,key:"instances",metricsKey:"node.instances",enumerable:!0,incrementalSafeApiKey:"getInstancesAsync",incrementalSafeApiMetricsKey:"node.getInstancesAsync",canWriteInReadOnly:!1,resolveValue:r=>{let i=r.instances,a=e.newArray();for(let r=0;r<i.length;r++){let o=n().createNode(i[r],"node.instances");e.setProp(a,String(r),o)}return e.shallowFreezeObject(a),a},prepareDocument:async e=>{await (0,n0.fs)(e.instances,o)},parseThis:function(e){return a(e)},incrementalSafeApi:i,allowIncrementalUnsafeApiCalls:s,hasEditScope:!1})},e.textSublayer=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"text",options:{enumerable:!0,metricsKey:"node.text",get:function(){let r=i(this).textSublayer;return r?n().createNode(r.guid,"node.text"):e.null}},canWriteInReadOnly:!1,hasEditScope:!1})},e.immutableFrameLabel=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"textBackground",options:{enumerable:!0,metricsKey:"node.textBackground",get:function(){var r;let a=null==(r=i(this).immutableFrameLabel)?void 0:r.guid;return a?n().createNode(a,"node.textBackground"):e.null}},canWriteInReadOnly:!1,hasEditScope:!1})},e.connectorEndpoints=function({vm:e,defineVmProp:r,getNode:n,pluginVersionID:i},a){for(let o of["connectorStart","connectorEnd"])r({handle:a,key:o,options:{enumerable:!0,metricsKey:"node."+o,get:function(){let r=n(this)[o],i={endpointNodeId:r.endpointNodeID};r.magnet===rP.SpR.NONE?i.position=r.position:i.magnet=nO.w.ConnectorMagnet[r.magnet];let a=e.deepWrap(i);return e.deepFreezeObject(a),a},set:function(r){let a=n(this),s=(0,n_.Kb)((0,n_.BK)({vm:e,handle:r,schema:nz.Re,property:o}),{endpointNodeId:a.containingCanvas,magnet:"NONE",position:{x:0,y:0}});if(!V.sH(s.endpointNodeId))throw Error("Invalid endpointNodeId");if(!i&&"STRAIGHT"===a.connectorLineType&&"CENTER"!==s.magnet&&"NONE"!==s.magnet)throw Error("Straight connector endpoints may only use the CENTER or NONE magnets.\n\nThis error only shows up in development code for now. This restriction will be enforced for published plugins in 2024. Please update your code to ensure that your plugin/widget continues to work.");if("ELBOWED"===a.connectorLineType&&"CENTER"===s.magnet)throw Error("Elbowed connector endpoints may not use the CENTER magnet");a[o]={endpointNodeID:s.endpointNodeId,magnet:nO.w.ConnectorMagnet[s.magnet],position:s.position}}},canWriteInReadOnly:!1,hasEditScope:!0})},e.connectorStrokeCap=function({vm:e,defineVmProp:r,getNode:n},i){let a=(a,o)=>{r({handle:i,key:a,options:{enumerable:!0,metricsKey:"node."+a,get:function(){let r=n(this)[o];return r?e.deepWrap(r):e.undefined},set:function(r){n(this)[o]=(0,n_.BK)({vm:e,handle:r,schema:nz.iI,property:a})}},canWriteInReadOnly:!1,hasEditScope:!0})};a("connectorStartStrokeCap","connectorStartCap"),a("connectorEndStrokeCap","connectorEndCap")},e.connectorLineType=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"connectorLineType",options:{enumerable:!0,metricsKey:"node.connectorLineType",get:function(){return e.newString(n(this).connectorLineType)},set:function(r){return n(this).connectorLineType=(0,n_.BK)({vm:e,handle:r,schema:nz.UG,property:"connectorLineType"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.setProperties=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"setProperties",metricsKey:"node.setProperties",cb:function(r){return n(this).setProperties((0,n_.BK)({vm:e,handle:r,schema:n_.By.dictionaryOf(n_.By.oneOf([n_.By.bool,n_.By.string,aR])),property:"setProperties.properties"})),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.attachedConnectors=function({vm:e,defineVmProp:r,getNodeFactory:n,getNode:i},a){r({handle:a,key:"attachedConnectors",options:{enumerable:!0,metricsKey:"node.attachedConnectors",get:function(){let r=i(this).attachedConnectorIDs,a=e.newArray();for(let i=0;i<r.length;i++)e.setProp(a,String(i),n().createNode(r[i],"node.attachedConnectors"));return e.deepFreezeObject(a),a}},canWriteInReadOnly:!1,hasEditScope:!1})},e.embedData=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"embedData",options:{enumerable:!0,metricsKey:"node.embedData",get:function(){return e.deepWrap(n(this).embedData)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.linkUnfurlData=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"linkUnfurlData",options:{enumerable:!0,metricsKey:"node.linkUnfurlData",get:function(){return e.deepWrap(n(this).linkPreviewData)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.mediaData=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"mediaData",options:{enumerable:!0,metricsKey:"node.mediaData",get:function(){return e.deepWrap(n(this).mediaData)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.getAuthorAsync=function({vm:e,defineVmFunction:r,validatedPermissions:n,getNode:i},a){r({handle:a,key:"getAuthorAsync",metricsKey:"node.getAuthorAsync",cb:function(){let r=i(this),{promise:a,resolve:o,reject:s}=e.newPromise();if(!n.permissions.includes("fileusers"))return s(e.deepWrap("Not allowed to fetch author. To do so add 'fileusers' to the permission field of your plugin's manifest.json")),a;let l=r.stampData;if(!((null==l?void 0:l.stampedByUserId)||(null==l?void 0:l.userId)))return o(e.null),a;let d="";return(null==l?void 0:l.userId)&&!l.stampedByUserId?d=null==l?void 0:l.userId:l.stampedByUserId&&(d=null==l?void 0:l.stampedByUserId),e.registerPromise(ik({state:A.D.getState(),dispatch:A.D.dispatch,userId:d})).then(r=>{var n;if(!r){o(e.null);return}let{id:i,img_url:a,handle:s}=r;o(e.deepWrap({id:i,name:s,photoUrl:null==(n=nH(new URL(a)))?void 0:n.toString()}))},()=>{s(e.deepWrap("unable to fetch author"))}),a},isAllowedInReadOnly:!0,hasEditScope:!1})},e.annotations=function({vm:e,defineVmProp:r,getNode:n,editorType:i,enableProposedApi:a},o){if(!(0,O.kc)().dt_lego_annotations_plugins)return;let s=()=>{if(!a)throw Error('This API is still in beta, please set "enableProposedApi" to true in your plugin\'s manifest.json to use it')};r({handle:o,key:"annotations",options:{enumerable:!0,metricsKey:"node.annotations",get:function(){s();let r=e.newArray(),i=n(this).annotations;if(i.length>0){let n=i[0],a=e.newObject();if(n.label&&e.setProp(a,"label",e.newString((0,n9.A)(n.label))),n.properties.length>0){let r=e.newArray();n.properties.forEach((n,i)=>{let a=e.deepWrap({type:oR[n.type]});e.setProp(r,String(i),a)}),e.setProp(a,"properties",r)}e.setProp(r,"0",a)}return e.deepFreezeObject(r),r},set:function(r){var a;if(s(),i!==nr.nT.DevHandoff)throw Error("Annotations can only be written in Dev Mode");let o=n(this),l=(0,n_.u)({vm:e,handle:r,zSchema:h.Annotations,property:"annotations"});if(0===l.length)return o.setAnnotation(null),e.undefined;let d=l[0];if(d.label||d.properties&&0!==d.properties.length){if(d.properties&&d.properties.length>0){let e=d.properties.map(e=>e.type);if(new Set(e).size!==e.length)throw Error("Duplicate property types are not allowed");d.properties.forEach(e=>{if(!function(e,r,n){switch(r){case rP.L5V.HEIGHT:return!0;case rP.L5V.MIN_HEIGHT:return null!==e.minHeight;case rP.L5V.MAX_HEIGHT:return null!==e.maxHeight;case rP.L5V.WIDTH:return!0;case rP.L5V.MIN_WIDTH:return null!==e.minWidth;case rP.L5V.MAX_WIDTH:return null!==e.maxWidth;case rP.L5V.CORNER_RADIUS:return e.rectangleBottomLeftCornerRadius>0||e.rectangleTopLeftCornerRadius>0||e.rectangleTopRightCornerRadius>0||e.rectangleBottomRightCornerRadius>0;case rP.L5V.STACK_MODE:case rP.L5V.STACK_ALIGNMENT:case rP.L5V.STACK_SPACING:case rP.L5V.STACK_PADDING:return"NONE"!==e.stackMode;case rP.L5V.TEXT_STYLE:return"TEXT"===e.type&&null!==e.inheritedTextStyle;case rP.L5V.FONT_FAMILY:case rP.L5V.FONT_STYLE:case rP.L5V.FONT_SIZE:case rP.L5V.LINE_HEIGHT:return"TEXT"===e.type;case rP.L5V.LETTER_SPACING:return"TEXT"===e.type&&("mixed"===e.letterSpacingOrMixed||"PERCENT"!==e.letterSpacingOrMixed.units||0!==e.letterSpacingOrMixed.value);case rP.L5V.TEXT_ALIGN_HORIZONTAL:return"TEXT"===e.type&&"LEFT"!==e.textAlignHorizontal;case rP.L5V.FONT_WEIGHT:return"TEXT"===e.type;case rP.L5V.FILL:return e.fillPaints.data.filter(e=>e.visible).length>0;case rP.L5V.STROKE:case rP.L5V.STROKE_WIDTH:return e.strokePaints.data.filter(e=>e.visible).length>0;case rP.L5V.EFFECT:return e.effects.filter(e=>e.visible).length>0;case rP.L5V.OPACITY:return e.opacity<1;case rP.L5V.COMPONENT:if("INSTANCE"!==e.type||!e.symbolId)return!1;return!!iF.qo.instance.get(e.symbolId)}}(o,oP[e.type],0))throw Error(`Invalid property "${e.type}" for a ${(0,i5.w)(o)} node`)})}o.setAnnotation({label:d.label||"",properties:(null==(a=d.properties)?void 0:a.map(e=>({type:oP[e.type]})))||[]})}else throw Error("Setting an annotation with no content is invalid, set the annotations field to [] instead");return e.undefined}},canWriteInReadOnly:!0,hasEditScope:!0})},e.measurements=function({vm:e,defineVmFunction:r,getNode:n,editorType:i,sceneGraph:a,getNodeFactory:o,documentAccessState:s,enableProposedApi:l},d){if(!(0,O.kc)().dt_lego_annotations_plugins)return;let c=()=>{if(!l)throw Error('This API is still in beta, please set "enableProposedApi" to true in your plugin\'s manifest.json to use it')},u=(r,n)=>{let i;let s=a.getTSSceneGraph().getFromStablePath(r.toNode);if(!s)throw Error(`Couldn't find endNode of measurement ${r.id}`);let l=o().createNode(r.fromNode,n),d=o().createNode(s.guid,n),c=oL[r.fromNodeSide],u=r.toSameSide?c:function(e){switch(e){case"TOP":return"BOTTOM";case"BOTTOM":return"TOP";case"LEFT":return"RIGHT";case"RIGHT":return"LEFT"}}(c);i=0===r.outerOffsetFixed?{type:"INNER",relative:r.innerOffsetRelative}:{type:"OUTER",fixed:r.outerOffsetFixed};let p=e.newObject();e.setProp(p,"node",l),e.setProp(p,"side",e.newString(c));let h=e.newObject();e.setProp(h,"node",d),e.setProp(h,"side",e.newString(u));let m=e.newObject();return e.setProp(m,"id",e.newString(r.id)),e.setProp(m,"start",p),e.setProp(m,"end",h),e.setProp(m,"offset",e.deepWrap(i)),m},p=(e,r)=>{let n=rP.w3z.findMeasurement(e,r);if(!n)throw Error("Couldn't find measurement on the current page");let i=a.get(n.fromNode);if(!i)throw Error("Couldn't find start node for the measurement on the current page");return i};r({handle:d,key:"getMeasurements",metricsKey:"node.getMeasurements",cb:function(){c();let r=n(this),i=a.getCurrentPage();if(r.guid!==(null==i?void 0:i.guid)&&!s.hasLoadedPageId(r.guid))throw Error("Cannot call getMeasurements() on background page that has not been loaded. Remember to call loadAsync() first.");let o=rP.w3z.getMeasurementsForPage(r.guid),l=e.newArray();return o.forEach((r,n)=>{let i=u(r,"node.getMeasurements");e.setProp(l,n.toString(),i)}),e.deepFreezeObject(l),l},isAllowedInReadOnly:!0,hasEditScope:!1}),r({handle:d,key:"getMeasurementsForNode",metricsKey:"node.getMeasurementsForNode",cb:function(r){c();let i=n(this),a=n(r);if(a.containingCanvas!==i.guid)throw Error("Node is not on the current page");let o=rP.w3z.getMeasurementsForNode(a.guid),s=e.newArray();return o.forEach((r,n)=>{let i=u(r,"node.getMeasurementsForNode");e.setProp(s,n.toString(),i)}),e.deepFreezeObject(s),s},isAllowedInReadOnly:!0,hasEditScope:!1}),i===nr.nT.DevHandoff&&(r({handle:d,key:"addMeasurement",metricsKey:"node.addMeasurement",cb:function(r,i,a){c();let o=n(this),s=(0,n_.u)({vm:e,handle:r,zSchema:h.AnnotationMeasurementStartEnd,property:"start"}),l=(0,n_.u)({vm:e,handle:i,zSchema:h.AnnotationMeasurementStartEnd,property:"end"}),d=(0,n_.u)({vm:e,handle:a,zSchema:h.AnnotationMeasurementAddOptions.optional(),property:"options"}),p=n(e.getProp(r,"node")),m=n(e.getProp(i,"node"));if(p.containingCanvas!==o.guid)throw Error("Start node is not on the current page");if(m.containingCanvas!==o.guid)throw Error("End node is not on the current page");if(!p.canHaveAnnotation)throw Error(`Can't add measurement to a ${(0,i5.w)(p)} node`);if(!m.canHaveAnnotation)throw Error(`Can't add measurement to a ${(0,i5.w)(m)} node`);let g=e=>"TOP"===e||"BOTTOM"===e?"y":"x";if(p.guid===m.guid&&s.side===l.side)throw Error("Measurement can't point to itself");if(g(s.side)!==g(l.side))throw Error(`Measurement start side ${s.side} and end side ${l.side} must be on the same axis`);let f=oD[s.side],_=oD[l.side];return null!=d&&d.offset?"INNER"===d.offset.type?u(p.addMeasurement(m.guid,f,_,d.offset.relative,0),"node.addMeasurement"):u(p.addMeasurement(m.guid,f,_,d.offset.fixed>0?1:-1,d.offset.fixed),"node.addMeasurement"):u(p.addMeasurement(m.guid,f,_,0,0),"node.addMeasurement")},isAllowedInReadOnly:!0,hasEditScope:!0}),r({handle:d,key:"editMeasurement",metricsKey:"node.editMeasurement",cb:function(r,i){c();let a=n(this),o=(0,n_.u)({vm:e,handle:r,zSchema:F.string(),property:"id"}),{offset:s}=(0,n_.u)({vm:e,handle:i,zSchema:h.AnnotationMeasurementEditValue,property:"newValue"}),l=p(o,a.guid);return u("INNER"===s.type?l.updateMeasurementOffset(o,s.relative,0):l.updateMeasurementOffset(o,s.fixed>0?1:-1,s.fixed),"node.editMeasurement")},isAllowedInReadOnly:!0,hasEditScope:!0}),r({handle:d,key:"deleteMeasurement",metricsKey:"node.deleteMeasurement",cb:function(r){c();let i=n(this),a=(0,n_.u)({vm:e,handle:r,zSchema:F.string(),property:"id"});return p(a,i.guid).removeMeasurement(a),e.undefined},isAllowedInReadOnly:!0,hasEditScope:!0}))},e.getRelatedLinksAsync=function({vm:e,defineVmFunction:r,getNode:n,sceneGraph:i},a){r({handle:a,key:"getRelatedLinksAsync",metricsKey:"node.getRelatedLinksAsync",cb:function(r){return d({vmThis:this,vm:e,vmOptions:r,resourceStr:"related links",getNode:n,sceneGraph:i})},isAllowedInReadOnly:!0,hasEditScope:!1})},e.getDevResourcesAsync=function({vm:e,defineVmFunction:r,getNode:n,sceneGraph:i},a){r({handle:a,key:"getDevResourcesAsync",metricsKey:"node.getDevResourcesAsync",cb:function(r){return d({vmThis:this,vm:e,vmOptions:r,resourceStr:"dev resources",getNode:n,sceneGraph:i})},isAllowedInReadOnly:!0,hasEditScope:!1})},e.addRelatedLinkAsync=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"addRelatedLinkAsync",metricsKey:"node.addRelatedLinkAsync",cb:function(r,a){return u({vmThis:this,vm:e,vmUrl:r,vmName:a,resourceName:"related link",pluginID:n,getNode:i})},isAllowedInReadOnly:!0,hasEditScope:!0})},e.addDevResourceAsync=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"addDevResourceAsync",metricsKey:"node.addDevResourceAsync",cb:function(r,a){return u({vmThis:this,vm:e,vmUrl:r,vmName:a,resourceName:"dev resource",pluginID:n,getNode:i})},isAllowedInReadOnly:!0,hasEditScope:!0})},e.editRelatedLinkAsync=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"editRelatedLinkAsync",metricsKey:"node.editRelatedLinkAsync",cb:function(r,a){return p({vm:e,vmThis:this,vmCurrentUrl:r,vmNewValue:a,resourceName:"related link",pluginID:n,getNode:i})},isAllowedInReadOnly:!0,hasEditScope:!0})},e.editDevResourceAsync=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"editDevResourceAsync",metricsKey:"node.editDevResourceAsync",cb:function(r,a){return p({vm:e,vmThis:this,vmCurrentUrl:r,vmNewValue:a,resourceName:"dev resource",pluginID:n,getNode:i})},isAllowedInReadOnly:!0,hasEditScope:!0})},e.deleteRelatedLinkAsync=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"deleteRelatedLinkAsync",metricsKey:"node.deleteRelatedLinkAsync",cb:function(r){return g(e,this,r,"related link",n,i)},isAllowedInReadOnly:!0,hasEditScope:!0})},e.deleteDevResourceAsync=function({vm:e,defineVmFunction:r,pluginID:n,getNode:i},a){r({handle:a,key:"deleteDevResourceAsync",metricsKey:"node.deleteDevResourceAsync",cb:function(r){return g(e,this,r,"dev resource",n,i)},isAllowedInReadOnly:!0,hasEditScope:!0})},e.setRelatedLinkPreviewAsync=function({vm:e,defineVmFunction:r,pluginID:n,pluginVersionID:i,apiMode:a,getNode:o},s){r({handle:s,key:"setRelatedLinkPreviewAsync",metricsKey:"node.setRelatedLinkPreviewAsync",cb:function(r,s){return f({vm:e,vmThis:this,vmUrl:r,vmLinkPreview:s,pluginID:n,pluginVersionID:i,apiMode:a,resourceName:"related link",getNode:o})},isAllowedInReadOnly:!0,hasEditScope:!0})},e.setDevResourcePreviewAsync=function({vm:e,defineVmFunction:r,pluginID:n,pluginVersionID:i,apiMode:a,getNode:o},s){r({handle:s,key:"setDevResourcePreviewAsync",metricsKey:"node.setDevResourcePreviewAsync",cb:function(r,s){return f({vm:e,vmThis:this,vmUrl:r,vmLinkPreview:s,pluginID:n,pluginVersionID:i,apiMode:a,resourceName:"dev resource",getNode:o})},isAllowedInReadOnly:!0,hasEditScope:!0})},e.inferredAutoLayout=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"inferredAutoLayout",isAllowedInWidgetRender:!0,canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"node.inferredAutoLayout",get:function(){let r;let i=n(this),a=rP.w3z.getInferredAutoLayoutResult(i.guid);if(a)r=e.deepWrap({layoutMode:nO.w.StackMode[a.stackMode],paddingLeft:a.stackPaddingLeft,paddingRight:a.stackPaddingRight,paddingTop:a.stackPaddingTop,paddingBottom:a.stackPaddingBottom,counterAxisSizingMode:oT(nO.w.StackSize[a.stackCounterSizing]),primaryAxisSizingMode:oT(nO.w.StackSize[a.stackPrimarySizing]),primaryAxisAlignItems:oC(nO.w.StackJustify[a.stackPrimaryAlignItems]),counterAxisAlignItems:nO.w.StackAlign[a.stackCounterAlignItems],layoutAlign:ow(nO.w.StackCounterAlign[a.stackChildAlignSelf]),layoutGrow:a.stackChildPrimaryGrow,itemSpacing:a.stackSpacing,layoutPositioning:nO.w.StackPositioning[a.stackPositioning]});else{if(!i.stackMode||"NONE"===i.stackMode)return e.null;r=e.deepWrap({layoutMode:i.stackMode,paddingLeft:i.stackLeftPadding,paddingRight:i.stackRightPadding,paddingTop:i.stackTopPadding,paddingBottom:i.stackBottomPadding,counterAxisSizingMode:oT(i.stackCounterSizing),primaryAxisSizingMode:oT(i.stackPrimarySizing),primaryAxisAlignItems:oC(i.stackPrimaryAlignItems),counterAxisAlignItems:i.stackCounterAlignItems,layoutAlign:ow(i.stackChildAlignSelf),layoutGrow:i.stackChildPrimaryGrow,itemSpacing:i.stackSpacing,layoutPositioning:i.stackPositioning})}return e.deepFreezeObject(r),r}}})},e.getCSSAsync=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"getCSSAsync",metricsKey:"node.getCSSAsync",cb:function(){let r=n(this),{promise:i,resolve:a,reject:o}=e.newPromise();return e.registerPromise(it(r)).then(r=>{if(r.error){o(e.deepWrap(r.error));return}let n=function(e){let r=e.filter(e=>"css"===e.language),n={};for(let e of r)for(let r of e.lines){let[e,i]=r.code.split(":");if(!e||!i)continue;let a=e.trim(),o=i.trim().replace(";","");n[a]=o}return n}(r.code);a(e.deepWrap(n))},()=>{o(e.deepWrap("unable to generate code"))}),i},isAllowedInReadOnly:!0,hasEditScope:!1})},e.isAsset=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"isAsset",isAllowedInWidgetRender:!0,canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"node.isAsset",get:function(){let r=n(this);return e.deepWrap(rP.w3z.isAssetForPlugin(r.guid))}}})},e.documentColorProfile=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"documentColorProfile",options:{enumerable:!0,metricsKey:"node.documentColorProfile",get:function(){let r=n(this);if("DOCUMENT"!==r.type)throw Error("documentColorProfile only exists on the root node");return e.newString(r.documentColorProfile)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.sectionContentsHidden=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"sectionContentsHidden",options:{enumerable:!0,metricsKey:"node.sectionContentsHidden",get:function(){return e.newBoolean(n(this).sectionContentsHidden)},set:function(r){return n(this).sectionContentsHidden=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"sectionContentsHidden"}),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})}})(g||(g={}));let oR={[rP.L5V.WIDTH]:"width",[rP.L5V.HEIGHT]:"height",[rP.L5V.MAX_WIDTH]:"maxWidth",[rP.L5V.MIN_WIDTH]:"minWidth",[rP.L5V.MAX_HEIGHT]:"maxHeight",[rP.L5V.MIN_HEIGHT]:"minHeight",[rP.L5V.FILL]:"fills",[rP.L5V.STROKE]:"strokes",[rP.L5V.EFFECT]:"effects",[rP.L5V.STROKE_WIDTH]:"strokeWeight",[rP.L5V.CORNER_RADIUS]:"cornerRadius",[rP.L5V.TEXT_STYLE]:"textStyleId",[rP.L5V.TEXT_ALIGN_HORIZONTAL]:"textAlignHorizontal",[rP.L5V.FONT_FAMILY]:"fontFamily",[rP.L5V.FONT_STYLE]:"fontStyle",[rP.L5V.FONT_SIZE]:"fontSize",[rP.L5V.FONT_WEIGHT]:"fontWeight",[rP.L5V.LINE_HEIGHT]:"lineHeight",[rP.L5V.LETTER_SPACING]:"letterSpacing",[rP.L5V.STACK_SPACING]:"itemSpacing",[rP.L5V.STACK_PADDING]:"padding",[rP.L5V.STACK_MODE]:"layoutMode",[rP.L5V.STACK_ALIGNMENT]:"alignItems",[rP.L5V.OPACITY]:"opacity",[rP.L5V.COMPONENT]:"mainComponent"},oP=Object.entries(oR).reduce((e,[r,n])=>({...e,[n]:Number(r)}),{}),oL={[rP.ZHy.TOP]:"TOP",[rP.ZHy.BOTTOM]:"BOTTOM",[rP.ZHy.LEFT]:"LEFT",[rP.ZHy.RIGHT]:"RIGHT"},oD=Object.entries(oL).reduce((e,[r,n])=>({...e,[n]:Number(r)}),{});function oM(e,r,n,i){if("SMALL_CAPS"===i||"SMALL_CAPS_FORCED"===i){let a=e.getRangeAllFontOpenTypeFeatures(r,n)||[];if("SMALL_CAPS"===i&&!a.includes("SMCP"))throw Error('"SMALL_CAPS" not supported by one or more fonts');if("SMALL_CAPS_FORCED"===i&&!a.includes("C2SC"))throw Error('"SMALL_CAPS_FORCED" not supported by one or more fonts')}let a=i,o="NORMAL";return"SMALL_CAPS"===a?(a="ORIGINAL",o="SMALL"):"SMALL_CAPS_FORCED"===a&&(a="ORIGINAL",o="ALL_SMALL"),{textCase:a,fontVariantCaps:o}}function ok({callerName:e,consoleLogger:r,getNode:n,incrementalSafeApi:i,pluginVersionID:a,vm:o,vmHandle:s,allowIncrementalUnsafeApiCalls:l}){var d;if(o.isObject(s)){if((null==(d=n(s))?void 0:d.type)!=="VARIABLE_SET")throw Error(`Cannot call ${e} with a non-collection node.`);return ox(o.getStringProp(s,"id"))}if(o.isString(s)){if(i&&!l)throw Error(`Cannot call ${e} with a collection id in incremental mode. Please pass the collection node instead.`);return(i&&l||!a)&&r.warn(`Calling ${e} with a collection id is deprecated. Please pass the collection node instead.`),ox((0,n_.u)({vm:o,handle:s,vmSchema:n_.By.string,zSchema:F.string(),property:"collectionId"}))}throw Error(`Cannot call ${e} without a collection node parameter.`)}function ox(e){if(!nM.fn(e))throw Error("Invalid collection id");return e}async function oF({vm:e,promiseHandle:r,shouldRetainResult:n}){return oU(e,r)?await new Promise((i,a)=>{e.callMethod(r,"then",e.newFunction("thenCb",r=>(n&&e.retainHandle(r),i(r),r))),e.callMethod(r,"catch",e.newFunction("catchCB",r=>(n&&e.retainHandle(r),a(r),r)))}):e.undefined}function oU(e,r){if(!e.isObject(r))return!1;let n=e.getProp(r,"then"),i=e.getProp(r,"catch");return e.isFunction(n)&&e.isFunction(i)}let oB=[g.toString,g.parent,g.clone,g.remove,g.name,g.removed,g.pluginData,g.pluginRelaunchData,g.widgetHoverStyle,g.getCSSAsync,g.isAsset,g.getRelatedLinksAsync,g.addRelatedLinkAsync,g.editRelatedLinkAsync,g.deleteRelatedLinkAsync,g.setRelatedLinkPreviewAsync,g.getDevResourcesAsync,g.addDevResourceAsync,g.editDevResourceAsync,g.deleteDevResourceAsync,g.setDevResourcePreviewAsync,g.detachedInfo],oV=[g.stuckTo],oH=[g.variableConsumerModes,g.explicitVariableModes],oG=[g.componentPropertyReferences,g.variableConsumptionMap,g.boundVariables,g.setBoundVariable,g.resolvedVariableModes,g.inferredVariables,...oH],oW=[g.visible,g.locked,g.stuckNodes,g.attachedConnectors],oz=[g.children,g.findAll,g.findOne,g.findChild,g.findChildren,g.appendChild,g.findAllWithCriteria,g.findWidgetNodesByWidgetId],oK=[g.opacity,g.blendMode],oj=[...oK,g.isMask,g.maskType,g.effects,g.effectStyleId],oY=[g.cornerRadius,g.cornerSmoothing],o$=[g.fills,g.fillStyleId],oq=[g.strokes,g.strokeStyleId,g.strokeWeight,g.strokeAlign,g.strokeJoin,g.dashPattern],oZ=[g.strokeTopWeight,g.strokeBottomWeight,g.strokeLeftWeight,g.strokeRightWeight],oX=[...o$,...oq,g.strokeCap,g.strokeMiterLimit,g.outlineStroke,g.fillGeometry,g.strokeGeometry],oJ=[g.description,g.documentationLinks,g.remote,g.key,g.getPublishStatus],oQ=[g.tableNumRows,g.tableNumColumns,g.cellAt,g.insertRow,g.insertColumn,g.removeRow,g.removeColumn,g.moveRow,g.moveColumn,g.resizeRow,g.resizeColumn],o0=[g.mainComponent,g.scaleFactor],o1=[g.characters,g.insertCharacters,g.deleteCharacters,g.hasMissingFont,g.fontSize,g.hangingPunctuation,g.hangingList,g.paragraphIndent,g.paragraphSpacing,g.listSpacing,g.textCase,g.textDecoration,g.letterSpacing,g.lineHeight,g.leadingTrim,g.fontName,g.fontWeight,g.openTypeFeatures,g.hyperlink,g.textRangeFunctions,g.canUpgradeToNativeBidiSupport,g.useNativeBidiSupport],o2=[...o1,g.autoRename,g.textAlignHorizontal,g.textAlignVertical,g.textAutoResize,g.textStyleId,g.textTruncation,g.maxLines],o3=[g.pointCount],o5=[g.vectorNetwork,g.vectorPaths,g.handleMirroring],o4=[g.guides,g.selection,g.backgrounds],o6=[g.booleanOperation,g.expanded],o8=[g.innerRadius],o7=[g.arcData],o9=[g.topLeftRadius,g.topRightRadius,g.bottomLeftRadius,g.bottomRightRadius],se=[g.exportSettings,g.exportNode],st=[g.relativeTransform,g.absoluteTransform,g.x,g.y,g.width,g.height,g.absoluteBoundingBox],sr=[...oB,...oW,...se,...st],sn=[g.reactions],si=[g.playbackSettings],sa=[g.annotations],so=[g.prototypeStartNode],ss=[g.paddingLeft,g.paddingRight,g.paddingTop,g.paddingBottom,g.primaryAxisAlignItems,g.counterAxisAlignItems,g.primaryAxisSizingMode,g.layoutWrap,g.counterAxisSpacing,g.counterAxisAlignContent],sl=[g.inferredAutoLayout],sd=[g.linkUnfurlData],sc=[g.embedData],su=[g.mediaData],sp=[g.getAuthorAsync],sh=[g.documentColorProfile];class sm{constructor(e,r){this.cache=new Map;let n={vm:e,getNodeFactory:()=>this,...r};this.incLoadingErrorLogger=r.incLoadingErrorLogger,this.sceneGraph=r.sceneGraph,this.vm=e;let i=[...oB],a=[...st,g.absoluteRenderBounds,g.rotation,g.layoutAlign,g.resizeWithConstraints,g.resizeWithoutConstraints,g.rescale,g.constrainProportions,g.layoutGrow,g.layoutPositioning,g.minWidth,g.minHeight,g.maxWidth,g.maxHeight,g.layoutSizingHorizontal,g.layoutSizingVertical],o=[...i,...oW,...oG,...oj,...oX,...a,...se],s=[...o,g.constraints],l=[...o1,...o$],d=[...o$,...oY,...o9],c=[...i,...oW,...oG,...oj,...a,...oz,...se,...oX,...oY,...o9,...ss,...oZ,...sl,...sa,g.layoutGrids,g.gridStyleId,g.backgrounds,g.backgroundStyleId,g.clipsContent,g.guides,g.expanded,g.constraints,g.layoutMode,g.counterAxisSizingMode,g.horizontalPadding,g.verticalPadding,g.itemSpacing,g.overflowDirection,g.numberOfFixedChildren,g.overlayPositionType,g.overlayBackground,g.overlayBackgroundInteraction,g.itemReverseZIndex,g.strokesIncludedInLayout,g.devStatus],u=[...i,...oz,...sh];this.documentNodePrototype=ou(n,"DocumentNode",...u),this.addTypeToPrototype(this.documentNodePrototype,"DOCUMENT");let p=[g.loadAsync];this.pageNodePrototype=ou(n,"PageNode",...i,...oz,...o4,...se,...so,...p,...oH,g.flowStartingPoints,g.prototypeBackgrounds,g.pageNodeChanges,g.measurements),this.addTypeToPrototype(this.pageNodePrototype,"PAGE"),this.sliceNodePrototype=ou(n,"SliceNode",...i,...oW,...oG,...a,...se),this.addTypeToPrototype(this.sliceNodePrototype,"SLICE"),this.frameNodePrototype=ou(n,"FrameNode",...c,...sn,...si),this.addTypeToPrototype(this.frameNodePrototype,"FRAME"),this.groupNodePrototype=ou(n,"GroupNode",...i,...oW,...oG,...oj,...a,...oz,...se,...sn,...sl,g.backgrounds,g.backgroundStyleId,g.expanded),this.addTypeToPrototype(this.groupNodePrototype,"GROUP"),this.componentNodePrototype=ou(n,"ComponentNode",g.createInstance,...c,...oJ,...sn,...si,g.instances,g.variantProperties,g.componentPropertyDefinitions),this.addTypeToPrototype(this.componentNodePrototype,"COMPONENT"),this.componentSetNodePrototype=ou(n,"ComponentSetNode",...c,...oJ,g.defaultVariant,g.variantGroupProperties,g.componentPropertyDefinitions),this.addTypeToPrototype(this.componentSetNodePrototype,"COMPONENT_SET"),this.instanceNodePrototype=ou(n,"InstanceNode",...c,...o0,...sn,...si,g.swapComponent,g.detachInstance,g.setProperties,g.variantProperties,g.componentProperties,g.isExposedInstance,g.exposedInstances,g.overrides,g.resetOverrides),this.addTypeToPrototype(this.instanceNodePrototype,"INSTANCE"),this.booleanOperationNodePrototype=ou(n,"BooleanOperationNode",...o,...oY,...oz,...o6,...sn),this.addTypeToPrototype(this.booleanOperationNodePrototype,"BOOLEAN_OPERATION"),this.vectorNodePrototype=ou(n,"VectorNode",...s,...oY,...o5,...sn,...si,...sa),this.addTypeToPrototype(this.vectorNodePrototype,"VECTOR"),this.starNodePrototype=ou(n,"StarNode",...s,...oY,...o3,...o8,...sn,...si,...sa),this.addTypeToPrototype(this.starNodePrototype,"STAR"),this.lineNodePrototype=ou(n,"LineNode",...s,...sn,...si,...sa),this.addTypeToPrototype(this.lineNodePrototype,"LINE"),this.ellipseNodePrototype=ou(n,"EllipseNode",...s,...oY,...o7,...sn,...si,...sa),this.addTypeToPrototype(this.ellipseNodePrototype,"ELLIPSE"),this.polygonNodePrototype=ou(n,"PolygonNode",...s,...oY,...o3,...sn,...si,...sa),this.addTypeToPrototype(this.polygonNodePrototype,"POLYGON"),this.rectangleNodePrototype=ou(n,"RectangleNode",...s,...oY,...o9,...sn,...oZ,...si,...sa),this.addTypeToPrototype(this.rectangleNodePrototype,"RECTANGLE"),this.textNodePrototype=ou(n,"TextNode",...s,...o2,...sn,...si,...sa),this.addTypeToPrototype(this.textNodePrototype,"TEXT"),this.stickyNodePrototype=ou(n,"StickyNode",...sr,...o$,...oK,g.textSublayer,g.authorVisible,g.authorName,g.rescale,g.isWideWidth),this.addTypeToPrototype(this.stickyNodePrototype,"STICKY"),this.highlightNodePrototype=ou(n,"HighlightNode",...s,...oY,...o5,...sn,...oV),this.addTypeToPrototype(this.highlightNodePrototype,"HIGHLIGHT"),this.codeBlockNodePrototype=ou(n,"CodeBlockNode",...sr,...oK,g.code,g.codeLanguage),this.addTypeToPrototype(this.codeBlockNodePrototype,"CODE_BLOCK"),this.shapeWithTextNodePrototype=ou(n,"ShapeWithTextNode",...sr,...o$,...oq,...oK,g.shapeWithTextType,g.textSublayer,g.cornerRadius,g.rotation,g.rescale,g.resizeWithConstraints),this.addTypeToPrototype(this.shapeWithTextNodePrototype,"SHAPE_WITH_TEXT"),this.connectorNodePrototype=ou(n,"ConnectorNode",...sr,...oq,...oK,g.connectorEndpoints,g.textSublayer,g.immutableFrameLabel,g.connectorLineType,g.connectorStrokeCap,g.cornerRadius,g.rotation),this.addTypeToPrototype(this.connectorNodePrototype,"CONNECTOR"),this.stampNodePrototype=ou(n,"StampNode",...s,...sn,...oV,...sp),this.addTypeToPrototype(this.stampNodePrototype,"STAMP"),this.textSublayerNodePrototype=ou(n,"TextSublayerNode",g.toString,...l),this.alignableTextSublayerNodePrototype=ou(n,"TextSublayerNode",g.toString,g.textAlignHorizontal,...l),this.labelSublayerNodePrototype=ou(n,"LabelSublayerNode",g.toString,...d),this.widgetNodePrototype=ou(n,"WidgetNode",...sr,...oV,...oc("widgets_children_trait_for_test",oz),g.cloneWidget,g.widgetId,g.widgetSyncedState,g.setWidgetSyncedState),this.addTypeToPrototype(this.widgetNodePrototype,"WIDGET"),this.embedPrototype=ou(n,"EmbedNode",...sr,...sc),this.addTypeToPrototype(this.embedPrototype,"EMBED"),this.linkUnfurlPrototype=ou(n,"LinkUnfurlNode",...sr,...sd),this.addTypeToPrototype(this.linkUnfurlPrototype,"LINK_UNFURL"),this.mediaPrototype=ou(n,"MediaNode",...sr,...su,g.resizeWithConstraints,g.resizeWithoutConstraints),this.addTypeToPrototype(this.mediaPrototype,"MEDIA"),this.sectionPrototype=ou(n,"SectionNode",...sr,...oz,...o$,...oG,g.resizeWithoutConstraints,g.sectionContentsHidden,g.devStatus),this.addTypeToPrototype(this.sectionPrototype,"SECTION"),this.washiTapeNodePrototype=ou(n,"WashiTapeNode",...s,...oV),this.addTypeToPrototype(this.washiTapeNodePrototype,"WASHI_TAPE"),this.tableNodePrototype=ou(n,"TableNode",...sr,...o$,...oj,...oQ,...oz,g.strokes,g.strokeStyleId),this.addTypeToPrototype(this.tableNodePrototype,"TABLE"),this.tableCellNodePrototype=ou(n,"TableCellNode",...o$,g.toString,g.parent,g.width,g.height,g.textSublayer,g.tableCellRowIndex,g.tableCellColumnIndex),this.addTypeToPrototype(this.tableCellNodePrototype,"TABLE_CELL"),this.slideNodePrototype=ou(n,"SlideNode",...sr,...o$,...oj,...oz),this.addTypeToPrototype(this.slideNodePrototype,"SLIDE"),this.slideGridNodePrototype=ou(n,"SlideGridNode",...oz),this.addTypeToPrototype(this.slideGridNodePrototype,"SLIDE_GRID"),this.slideRowNodePrototype=ou(n,"SlideRowNode",...oz),this.addTypeToPrototype(this.slideRowNodePrototype,"SLIDE_ROW"),this.flappNodePrototype=ou(n,"InteractiveSlideNode",...sr,...o$,...oj),this.addTypeToPrototype(this.flappNodePrototype,"INTERACTIVE_SLIDE_ELEMENT"),this.moduleNodePrototype=ou(n,"ModuleNode",...oz),this.addTypeToPrototype(this.moduleNodePrototype,"MODULE")}addTypeToPrototype(e,r){this.vm.defineProp(e,"type",{enumerable:!0,writable:!1,value:this.vm.newString(r)})}createVMObject(e){let r=this.vm;switch(e){case"DOCUMENT":return r.newObject(this.documentNodePrototype);case"PAGE":return r.newObject(this.pageNodePrototype);case"SLICE":return r.newObject(this.sliceNodePrototype);case"FRAME":case"SECTION_OVERLAY":return r.newObject(this.frameNodePrototype);case"GROUP":return r.newObject(this.groupNodePrototype);case"COMPONENT":return r.newObject(this.componentNodePrototype);case"COMPONENT_SET":return r.newObject(this.componentSetNodePrototype);case"INSTANCE":return r.newObject(this.instanceNodePrototype);case"BOOLEAN_OPERATION":return r.newObject(this.booleanOperationNodePrototype);case"VECTOR":return r.newObject(this.vectorNodePrototype);case"STAR":return r.newObject(this.starNodePrototype);case"LINE":return r.newObject(this.lineNodePrototype);case"ELLIPSE":return r.newObject(this.ellipseNodePrototype);case"POLYGON":return r.newObject(this.polygonNodePrototype);case"RECTANGLE":return r.newObject(this.rectangleNodePrototype);case"TEXT":return r.newObject(this.textNodePrototype);case"STICKY":return r.newObject(this.stickyNodePrototype);case"HIGHLIGHT":return r.newObject(this.highlightNodePrototype);case"SHAPE_WITH_TEXT":return r.newObject(this.shapeWithTextNodePrototype);case"CONNECTOR":return r.newObject(this.connectorNodePrototype);case"WIDGET":return r.newObject(this.widgetNodePrototype);case"STAMP":return r.newObject(this.stampNodePrototype);case"CODE_BLOCK":return r.newObject(this.codeBlockNodePrototype);case"LINK_UNFURL":return r.newObject(this.linkUnfurlPrototype);case"EMBED":return r.newObject(this.embedPrototype);case"MEDIA":return r.newObject(this.mediaPrototype);case"SECTION":return r.newObject(this.sectionPrototype);case"WASHI_TAPE":return r.newObject(this.washiTapeNodePrototype);case"TABLE":return r.newObject(this.tableNodePrototype);case"TABLE_CELL":return r.newObject(this.tableCellNodePrototype);case"SLIDE":return r.newObject(this.slideNodePrototype);case"SLIDE_ROW":return r.newObject(this.slideRowNodePrototype);case"SLIDE_GRID":return r.newObject(this.slideGridNodePrototype);case"INTERACTIVE_SLIDE_ELEMENT":return r.newObject(this.flappNodePrototype);case"MODULE":return r.newObject(this.moduleNodePrototype);default:throw Error(`unsupported type in createVMObject: ${e}`)}}createSublayerVMObject(e,r){let n=this.vm;switch(e){case"TEXT":return["STICKY","CONNECTOR"].includes(r)?n.newObject(this.textSublayerNodePrototype):n.newObject(this.alignableTextSublayerNodePrototype);case"FRAME":return n.newObject(this.labelSublayerNodePrototype);case"TABLE_CELL":return n.newObject(this.tableCellNodePrototype);default:throw Error(`unsupported type in createSublayerVMObject: ${e}`)}}createNodeWithDevFriendlyId(e,r,n){let i=this.cache.get(e),a=this.sceneGraph.guidFromDeveloperFriendlyId(e);if((0,O.kc)().ext_inc_loading_logging&&this.incLoadingErrorLogger.maybeLogError(a,n),void 0!==i)return i;let o=this.vm;return i=this.createVMObject(r),o.defineProp(i,"id",{enumerable:!0,writable:!1,value:o.newString(e)}),o.shallowFreezeObject(i),this.cache.set(e,i),o.retainHandle(i),i}createNode(e,r){let n=this.cache.get(e);if((0,O.kc)().ext_inc_loading_logging&&this.incLoadingErrorLogger.maybeLogError(e,r),void 0!==n)return n;let i=this.vm,a=or(e,this.sceneGraph),o=(0,i5.w)(a);if(a.isInImmutableFrame){let e=ot(a);n=this.createSublayerVMObject(o,(0,i5.w)(e))}else n=this.createVMObject(o);let s=this.sceneGraph.developerFriendlyIdFromGuid(e);if(!s)throw Error(`Internal Figma error: Unknown id "${s}" in createNode`);return i.defineProp(n,"id",{enumerable:!0,writable:!1,value:i.newString(s)}),i.shallowFreezeObject(n),this.cache.set(e,n),i.retainHandle(n),n}nodeIds(){return Array.from(this.cache.keys())}}(e=>{async function r(e){await rj.oH;let r=A.D.getState();if(!(0,Z.d1)(r))return"UNPUBLISHED";let n=r.library.openFilePublished__LIVEGRAPH.styles[e.guid];if(!n||n.unpublished_at||!n.content_hash)return"UNPUBLISHED";let i=n.content_hash;return(rP.NfO.updateStyles(),e.getStyleVersion()===i)?"CURRENT":"CHANGED"}e.type=function({vm:e,getNode:r},n){e.defineProp(n,"type",{enumerable:!0,metricsKey:"style.type",get:function(){return e.newString(function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"FILL":return"PAINT"}throw Error(`Unsupported style type: ${e}`)}(r(this).styleType))}})},e.key=function({vm:e},r){e.defineProp(r,"key",{enumerable:!0,metricsKey:"style.key",get:function(){let r=(0,rV.eX)(e.getStringProp(this,"id"));return e.newString(r.key)}})},e.description=function({vm:e,getNode:r},n){e.defineProp(n,"description",{enumerable:!0,metricsKey:"style.description",get:function(){let n=r(this);return e.newString((0,n9.A)(n.styleDescription))},set:function(n){return rL.l7.plugin("plugin-description",()=>{r(this).styleDescription=e.toString(n)}),e.undefined}})},e.remote=function({vm:e,getNode:r},n){e.defineProp(n,"remote",{enumerable:!0,metricsKey:"style.remote",get:function(){return e.newBoolean(r(this).hasSharedStyleReference)}})},e.consumers=function({vm:e,getNodeFactory:r,defineVmIncrementalProp:n,incrementalSafeApi:i,getNode:a,sceneGraph:o,documentAccessState:s,allowIncrementalUnsafeApiCalls:l},d){n({handle:d,key:"consumers",metricsKey:"node.consumers",incrementalSafeApiKey:"getStyleConsumersAsync",incrementalSafeApiMetricsKey:"style.getStyleConsumersAsync",canWriteInReadOnly:!1,hasEditScope:!1,enumerable:!0,parseThis:e=>a(e),resolveValue:n=>{let i=e.newArray(),a=0;for(let s of n.consumers){let n=e.newObject(),l=o.get(s.id);if(!l||l.isInternalOnlyNode)continue;let d=r().createNode(s.id,"node.consumers");if(!d)continue;e.setProp(n,"node",d);let c=e.newArray();for(let r=0;r<s.inheritStyleFields.length;r++)e.setProp(c,String(r),e.newString(function(e){switch(e){case rP.QCv.FILL:return"fillStyleId";case rP.QCv.STROKE:return"strokeStyleId";case rP.QCv.TEXT:return"textStyleId";case rP.QCv.EFFECT:return"effectStyleId";case rP.QCv.GRID:return"gridStyleId";case rP.QCv.DEPRECATED_STROKE:return"strokeStyleId";default:return""}}(s.inheritStyleFields[r])));e.setProp(n,"fields",c),e.setProp(i,String(a),n),a++}return i},prepareDocument:async e=>{await (0,n0.fs)(e.consumers.map(e=>e.id),s)},incrementalSafeApi:i,allowIncrementalUnsafeApiCalls:l})},e.getPublishStatus=function({vm:e,getNode:n},i){e.defineFunction(i,"getPublishStatusAsync","style.getPublishStatusAsync",function(){let i=n(this),{promise:a,resolve:o,reject:s}=e.newPromise();return e.registerPromise(r(i)).then(r=>o(e.newString(r)),r=>{s(e.newString("Failed to get style publish status"))}),a})},e.remove=function({vm:e,stats:r,getNode:n,styleManager:i},a){e.defineFunction(a,"remove","style.remove",function(){return rL.l7.plugin("plugin-remove-style",()=>{i.softDeleteStyle(n(this))}),e.undefined})},e.paints=function(e,r){os(e,r,"paints")},e.boundVariables=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"boundVariables",canWriteInReadOnly:!1,options:{enumerable:!0,metricsKey:"style.boundVariables",get:function(){return e.deepWrap(n(this).boundVariablesForStyle)}},hasEditScope:!1})},e.setBoundVariable=function({vm:e,defineVmFunction:r,getNode:n},i){((0,O.kc)().variables_typography||(0,O.kc)().variables_typography_plugin_api)&&r({handle:i,key:"setBoundVariable",metricsKey:"style.setBoundVariable",isAllowedInReadOnly:!1,hasEditScope:!0,cb:function(r,i){let a=n(this);if("TEXT"!==a.styleType)throw Error("variable bindings can only be directly set on a text style");let o=(0,n_.u)({vm:e,handle:r,vmSchema:ab,zSchema:m.VariableBindableTextField,property:"field"});if(e.isNull(i))return a.setBoundVariable(o,null),e.undefined;if("VARIABLE"!==n(i).type)throw Error("Cannot call setBoundVariable with a non-variable node.");let s=e.getStringProp(i,"id");return a.setBoundVariable(o,s),e.undefined}})}})(f||(f={}));let sg=[g.name,g.pluginData,f.type,f.key,f.description,f.remote,f.remove,f.getPublishStatus,g.documentationLinks,f.consumers],sf=[...sg,f.paints,f.boundVariables],s_=[...sg,g.fontSize,g.textDecoration,g.fontName,g.letterSpacing,g.lineHeight,g.paragraphIndent,g.paragraphSpacing,g.listSpacing,g.textCase,g.hangingPunctuation,g.hangingList,g.leadingTrim,f.boundVariables,f.setBoundVariable],sy=[...sg,g.effects,f.boundVariables],sE=[...sg,g.layoutGrids,f.boundVariables];class sb{constructor(e){this.cache=new Map;let r={...e,getStyleFactory:()=>this},{vm:n,pluginID:i,styleManager:a}=e;this.vm=n,this.pluginId=i,this.styleManager=a,this.paintStylePrototype=ou(r,"PaintStyle",...sf),this.textStylePrototype=ou(r,"TextStyle",...s_),this.effectStylePrototype=ou(r,"EffectStyle",...sy),this.gridStylePrototype=ou(r,"GridStyle",...sE)}createStyle(e){let r;let n=this.vm,i=this.cache.get(e),a=this.styleManager.get(e);if(!a)return void 0!==i&&this.cache.delete(e),n.null;if(void 0!==i)return i;let o=a.styleType;switch(o){case"FILL":r=n.newObject(this.paintStylePrototype);break;case"TEXT":r=n.newObject(this.textStylePrototype);break;case"EFFECT":r=n.newObject(this.effectStylePrototype);break;case"GRID":r=n.newObject(this.gridStylePrototype);break;default:throw Error(`Unsupported style type: ${o}`)}return n.defineProp(r,"id",{enumerable:!0,value:n.newString(e)}),n.shallowFreezeObject(r),this.cache.set(e,r),n.retainHandle(r),r}}var sv=n(43632),sS=n(9840),sI=n(197);let sT="textReviewRequestModal",sw=(0,eF.Ju)(function({resolve:e,reject:r,pluginName:n}){let[i,a]=(0,J.useState)(!1),o=(0,sI.J2)((0,rD.UK)().spellCheckPreference),s=()=>r(),l=rt.AF(rt.Pt(sT,"toggleSpellCheck"),"change",e=>{var r;let n=null==e?void 0:e.currentTarget;n&&"checked"in(r=n)&&"checked"===r.type&&a(n.checked??!i)});return J.createElement(eV.Rw,{recordingKey:sT,confirmationTitle:J.createElement(sS.E,{color:"default",fontWeight:"semi-bold",fontSize:11},n.length>50?J.createElement(er.Tx,{id:"textreview.use_plugin_name_title_default"}):J.createElement(er.Tx,{id:"textreview.use_plugin_name_title",pluginName:n})),content:J.createElement(sv.Y,{direction:"vertical",spacing:8},J.createElement("div",null,J.createElement(sS.E,{color:"default"},J.createElement(er.Tx,{id:"textreview.as_you_type_plugin_name_will_review_your_text_and_provide_suggestions",pluginName:J.createElement(sS.E,{fontWeight:"semi-bold"},n)}))),o?J.createElement(tM.S,{label:(0,er.t)("textreview.also_turn_off_figma_spell_check"),checked:i,onChange:l}):null),confirmText:n.length>20?(0,er.t)("textreview.use_plugin_name_confirm_default"):(0,er.t)("textreview.use_plugin_name_confirm",{pluginName:n}),onCancel:s,onConfirm:()=>{e({turnOffSpellCheck:i})},onCloseButtonClick:s})},"TEXT_REVIEW_REQUEST_MODAL",eF.ZU.NO);var sC=n(68870),sA=n(8481),sN=n(84107),sO=n(23746),sR=n(84321),sP=n(79702),sL=n(15270);(e=>{e.resolvedType=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"resolvedType",options:{enumerable:!0,metricsKey:"variable.resolvedType",get:function(){return e.newString(sF(n(this).variableResolvedType))}},canWriteInReadOnly:!1,hasEditScope:!1})},e.variableCollectionId=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"variableCollectionId",options:{enumerable:!0,metricsKey:"variable.variableCollectionId",get:function(){return e.newString(n(this).variableSetID)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.key=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"key",options:{enumerable:!0,metricsKey:"variable.key",get:function(){let r=n(this).variableKey;return r?e.newString(r):e.null}},canWriteInReadOnly:!1,hasEditScope:!1})},e.remote=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"remote",options:{enumerable:!0,metricsKey:"variable.remote",get:function(){return e.newBoolean(n(this).isSubscribedVariable)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.resolveForConsumer=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"resolveForConsumer",metricsKey:"variable.resolveForConsumer",cb:function(r){let i=e.getStringProp(this,"id");return function(e,r){let n;let i=e.newObject();if(!r)return e.null;switch(r.resolvedType){case rP.rXF.COLOR:n=e.deepWrap(r.value);break;case rP.rXF.STRING:n=e.newString(r.value);break;case rP.rXF.FLOAT:n=e.newNumber(r.value);break;case rP.rXF.BOOLEAN:n=e.newBoolean(r.value);break;case rP.rXF.SYMBOL_ID:n=e.newString(r.value);break;case rP.rXF.MAP:n=e.deepWrap(r.value);break;default:(0,S.xb)(r)}let a=e.newString(sF(r.resolvedType));return e.setProp(i,"value",n),e.setProp(i,"resolvedType",a),i}(e,n(r).resolveVariable(i))},isAllowedInReadOnly:!0,hasEditScope:!1})},e.remove=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"remove",metricsKey:"variable.remove",cb:function(){return n(this).removeVariable(),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.getPublishStatus=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"getPublishStatusAsync",metricsKey:"variable.getPublishStatusAsync",cb:function(){let{promise:r,resolve:i,reject:a}=e.newPromise();if(n(this).isSubscribedVariable)throw Error("can only query publish status for local variables");return e.registerPromise(sU(e.getStringProp(this,"id"))).then(r=>i(e.newString(r))).catch(a),r},isAllowedInReadOnly:!0,hasEditScope:!1})},e.valuesByMode=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"valuesByMode",options:{enumerable:!0,metricsKey:"variable.valuesByMode",get:function(){return e.deepWrap(n(this).variableModeValues)}},canWriteInReadOnly:!1,hasEditScope:!1})},e.setValueForMode=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"setValueForMode",metricsKey:"variable.setValueForMode",cb:function(r,i){let a=(0,n_.BK)({vm:e,handle:r,schema:n_.By.string,property:"modeId"}),o=(0,n_.BK)({vm:e,handle:i,schema:aP,property:"newValue"}),s=(0,iK.f8)();return n(this).setVariableValueForMode(a,o,s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.scopes=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"scopes",options:{enumerable:!0,metricsKey:"variable.scopes",get:function(){let r=n(this),i=(0,sP.Ae)(r.variableScopes).map(e=>"STROKE"===e?"STROKE_COLOR":e);return e.deepWrap(i)},set:function(r){let i=n(this),a=(0,n_.BK)({vm:e,handle:r,schema:n_.By.arrayOf(ag),property:"scopes"}).map(e=>"STROKE_COLOR"===e?"STROKE":e);return i.variableScopes=(0,sP.gK)(a),e.undefined}},canWriteInReadOnly:!1,hasEditScope:!0})},e.codeSyntax=function({vm:e,defineVmProp:r,defineVmFunction:n,getNode:i},a){r({handle:a,key:"codeSyntax",options:{enumerable:!0,metricsKey:"variable.codeSyntax",get:function(){let r=i(this).variableCodeSyntax;return e.deepWrap(r)}},canWriteInReadOnly:!1,hasEditScope:!1}),n({handle:a,key:"setVariableCodeSyntax",metricsKey:"variable.setVariableCodeSyntax",cb:function(r,n){let a=(0,n_.BK)({vm:e,handle:r,schema:af,property:"codeSyntaxPlatform"}),o=(0,n_.BK)({vm:e,handle:n,schema:n_.By.string,property:"codeSyntaxValue"}),s=ah(a);return i(this).setVariableCodeSyntax(s,o),e.deepWrap(i(this).variableCodeSyntax)},isAllowedInReadOnly:!1,hasEditScope:!0}),n({handle:a,key:"removeVariableCodeSyntax",metricsKey:"variable.removeVariableCodeSyntax",cb:function(r){let n=ah((0,n_.BK)({vm:e,handle:r,schema:af,property:"codeSyntaxPlatform"}));return i(this).removeVariableCodeSyntax(n),e.deepWrap(i(this).variableCodeSyntax)},isAllowedInReadOnly:!1,hasEditScope:!0})}})(_||(_={}));class sD{constructor(e){this.vm=e.vm,this.variablePrototype=ou(e,"Variable",...sk)}createVariableHandle(e){let r=this.vm;if(!nm.fn(e))return r.null;let n=r.newObject(this.variablePrototype);return r.defineProp(n,"id",{enumerable:!0,writable:!1,value:r.newString(e)}),n}createNewVariable(e,r,n){return sH(n)&&sG(n),rP.CUU.createVariable(e,r,(0,sL.WI)(sx(n)))}getLocalVariables(e){let r=this.vm,n=r.newArray(),i=e?sx(e):null,a=rP.CWU.getLocalVariablesInfo().filter(e=>!e.isSoftDeleted&&(null===i||e.resolvedType===i)).map(e=>e.id);for(let[i,o]of(a.length>0&&sH(e)&&sG(e),a.entries())){let e=this.createVariableHandle(o);r.setProp(n,i.toString(),e)}return n}getSubscribedVariables(e){let r=this.vm,n=r.newArray(),i=e?sx(e):null;for(let[e,a]of rP.CWU.getSubscribedVariablesInfo().filter(e=>null===i||e.resolvedType===i).map(e=>e.id).entries()){let i=this.createVariableHandle(a);r.setProp(n,e.toString(),i)}return n}getVariablesInLibraryCollectionAsync(e){let{promise:r,resolve:n,reject:i}=this.vm.newPromise();return this.vm.registerPromise(sM(e)).then(e=>{n(this.vm.deepWrap(e))}).catch(i),r}importByKeyAsync(e){let{promise:r,resolve:n,reject:i}=this.vm.newPromise();return this.vm.registerPromise(sV((0,B.ey)(e))).then(e=>n(rL.l7.plugin("plugin-create-variable",()=>this.createVariableHandle(e)))).catch(r=>{let n=`unable to import variable with key ${e}`;"string"==typeof r?n=r:r instanceof Error&&(n=r.message),i(this.vm.newString(n))}),r}}async function sM(e){var r,n;let i=(0,sN.d5)({variableCollectionKey:e});return(null==(n=null==(r=(await (0,sN.QO)(i,(r,n)=>{let a=R.zl.get(i);"loaded"===a.status?r(a):"errors"===a.status&&n(`error fetching variables in collection with id "${e}"`)})).data)?void 0:r.variableCollection)?void 0:n.variables.map(e=>{var r;return{name:e.name,resolvedType:"SYMBOL_ID"===(r=e.variableType)?"COMPONENT_ID":r,key:e.key}}))??[]}let sk=[g.name,g.description,g.pluginData,_.variableCollectionId,_.key,_.remote,_.resolvedType,_.valuesByMode,_.scopes,g.hiddenFromPublishing,_.codeSyntax,_.remove,_.resolveForConsumer,_.getPublishStatus,_.setValueForMode];function sx(e){switch(e){case"BOOLEAN":return rP.rXF.BOOLEAN;case"COLOR":return rP.rXF.COLOR;case"FLOAT":return rP.rXF.FLOAT;case"MAP":return rP.rXF.MAP;case"STRING":return rP.rXF.STRING;case"COMPONENT_ID":return rP.rXF.SYMBOL_ID;case"FONT_STYLE":return rP.rXF.FONT_STYLE;case"TEXT_DATA":return rP.rXF.TEXT_DATA;default:(0,S.xb)(e,`Unsupported variable resolved type: ${e}`)}}function sF(e){let r=(()=>{switch(e){case rP.rXF.BOOLEAN:return"BOOLEAN";case rP.rXF.COLOR:return"COLOR";case rP.rXF.FLOAT:return"FLOAT";case rP.rXF.MAP:return"MAP";case rP.rXF.STRING:return"STRING";case rP.rXF.SYMBOL_ID:return"COMPONENT_ID";case rP.rXF.FONT_STYLE:return"FONT_STYLE";case rP.rXF.TEXT_DATA:return"TEXT_DATA";default:(0,S.xb)(e,`Unsupported variable resolved type: ${e}`)}})();return sH(r)&&sG(r),r}async function sU(e){rP.NfO.updateVariables(),await rj.oH;let r=A.D.getState();if(!(0,Z.d1)(r))return"UNPUBLISHED";let n=(0,sR.tK)(r)[e];return au(null==n?void 0:n.status)}async function sB(e){var r,n,i,a,o;let s=(0,sN.Y4)({key:e}),l=await (0,sN.QO)(s,(e,r)=>{let n=R.zl.get(s);"loaded"===n.status?e(n):"errors"===n.status&&r(n.errors)}),d=null==(n=null==(r=l.data)?void 0:r.variable)?void 0:n.file,c=(null==(a=null==(i=l.data)?void 0:i.variable)?void 0:a.hubFile)&&(0,en.oA)(l.data.variable.hubFile),u=(0,sO.Zt)(d,c);return(null==(o=l.data)?void 0:o.variable)&&u?(0,sO.GA)(l.data.variable,u,!1):null}async function sV(e){let r=function(e){let r=rP.CWU.getLocalVariableInfoByKey(e);return r?(0,i6.kz)(r):null}(e)??await sB(e);if(!r)throw Error(`could not find variable with key "${e}"`);return new Promise((e,n)=>{A.D.dispatch((0,j.Yi)({item:r,callback:e,errorCallback:n}))})}function sH(e){return"MAP"===e||"COMPONENT_ID"===e}function sG(e){(0,L.x1)("variables-plugin",`Internal only variable type exposed to user: ${e}`)}var sW=n(89865),sz=n.n(sW),sK=n(91388),sj=n(96673),sY=n(99881),s$=n(29928),sq=n(9822);let sZ=(0,s$.bt)(sq.D);var sX=n(89704),sJ=n(58032);let sQ=(0,ni.eU)(async e=>{var r;let n=e(rK.yV);if(!n)return(0,en.Xm)();let i=n.parentOrgId,a=e(sZ);if(!a)return(0,en.Xm)();let o=!!(a&&n.folderId===a),s=e((0,sN.sj)({fileKey:n.key??"",teamId:n.teamId??"-1",workspaceId:(null==(r=n.team)?void 0:r.workspaceId)??null,orgId:i,group:(0,sY.M)()??null})),l=await e(sj.ce),d=e(sj.JB);return(0,sJ.gM)(s,o,l,d,i)});(0,s$.OX)(i6.o.LIBRARY,"SET_LIBRARY_PUBLISHING_MODE");let s0=(0,s$.bt)(e=>{var r,n;return null==(n=null==(r=e.openFile)?void 0:r.publishedHubFile)?void 0:n.id}),s1=(e,r)=>r;(()=>{let e=(0,R.M2)((0,ni.eU)(e=>{let r=e(s0),n={variableSets:{},variables:{},styles:{},components:{},stateGroups:{}};if(!r||!(0,O.kc)().cmty_lib_admin_publish)return n;let i=e((0,ea.vsj)({hubFileId:r})),a=function(e){let r=[];if((null==e?void 0:e.status)==="loaded"){let n=e.data.file;n&&(r=n.components.map(e=>(0,sO.Qp)(e,{type:"hubFile",file:{id:n.hubFileId}})))}return r}(i),o=function(e){let r=[];if((null==e?void 0:e.status)==="loaded"){let n=e.data.file;n&&(r=n.stateGroups.map(e=>(0,sO.SS)(e,{type:"hubFile",file:{id:n.hubFileId}})))}return r}(i),s=function(e){let r=[];if((null==e?void 0:e.status)==="loaded"){let n=e.data.communityLibraryByHubFileId;if(null==n?void 0:n.libraryHierarchyPaths)for(let e of n.libraryHierarchyPaths)for(let i of e.styles)r.push((0,sO.KC)(i,{type:"hubFile",file:{id:n.hubFileId}}))}return r}(e((0,ea.Acj)({hubFileId:r}))),l=e((0,ea.eHy)({hubFileId:r})),d=(0,sX.k)({type:"community",value:l},!0),c=(0,sX.c)({type:"community",value:l},!0);return n.variables=sz()(c,"node_id"),n.variableSets=sz()(d,"node_id"),n.styles=sz()(s,"node_id"),n.components=sz()(a,"node_id"),n.stateGroups=sz()(o,"node_id"),n},rp.lQ)),r=(0,s$.Pj)(e,"SET_OPEN_HUB_FILE_PUBLISHED_LIVEGRAPH",{variableSets:{},variables:{},styles:{},components:{},stateGroups:{}}),n=(0,R.FZ)(r,s1);return(0,s$.S9)(n,r.reducer)})();var s2=n(91215);(e=>{e.modes=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"modes",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"variableCollection.modes",get:function(){let r=n(this).variableSetModesSorted;return e.deepWrap(r.map(e=>({name:e.name,modeId:e.modeID})))}}})},e.defaultModeId=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"defaultModeId",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"variableCollection.defaultModeId",get:function(){return e.newString(n(this).variableCollectionDefaultModeID)}}})},e.key=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"key",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"variableCollection.key",get:function(){let r=n(this).variableCollectionKey;return r?e.newString(r):e.null}}})},e.remote=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"remote",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"variableCollection.remote",get:function(){return e.newBoolean(n(this).isSubscribedVariableCollection)}}})},e.variableIds=function({vm:e,defineVmProp:r,getNode:n},i){r({handle:i,key:"variableIds",canWriteInReadOnly:!1,hasEditScope:!1,options:{enumerable:!0,metricsKey:"variableCollection.variableIds",get:function(){return e.deepWrap(n(this).variableIdsInCollection)}}})},e.getPublishStatus=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"getPublishStatusAsync",metricsKey:"variableCollection.getPublishStatusAsync",cb:function(){let{promise:r,resolve:i,reject:a}=e.newPromise();if(n(this).isSubscribedVariableCollection)throw Error("can only query publish status for local variable collections");return e.registerPromise(le(e.getStringProp(this,"id"))).then(r=>i(e.newString(r))).catch(a),r},isAllowedInReadOnly:!0,hasEditScope:!1})},e.remove=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"remove",metricsKey:"variableCollection.remove",cb:function(){return n(this).removeVariableCollection(),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.addMode=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"addMode",metricsKey:"variableCollection.addMode",cb:function(r){let i=(0,n_.BK)({vm:e,handle:r,schema:n_.By.string,property:"modeName"}),a=n(this),o=a.variableSetModesSorted.length,s=(0,iK.f8)();if(o>=s)throw Error(`Limited to ${s} modes only`);return e.newString(a.addVariableCollectionMode(i))},isAllowedInReadOnly:!1,hasEditScope:!0})},e.removeMode=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"removeMode",metricsKey:"variableCollection.removeMode",cb:function(r){let i=(0,n_.BK)({vm:e,handle:r,schema:n_.By.string,property:"modeId"});return n(this).removeVariableCollectionMode(i),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.renameMode=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"renameMode",metricsKey:"variableCollection.renameMode",cb:function(r,i){let a=(0,n_.BK)({vm:e,handle:r,schema:n_.By.string,property:"modeId"}),o=(0,n_.BK)({vm:e,handle:i,schema:n_.By.string,property:"newName"}),s=(0,iK.f8)();return n(this).renameVariableCollectionMode(a,o,s),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.setDefaultMode=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"setDefaultMode",metricsKey:"variableCollection.setDefaultMode",cb:function(r){let i=(0,n_.u)({vm:e,handle:r,zSchema:F.string(),property:"modeId"}),a=n(this),o=(0,iK.f8)(),s=a.variableSetModesSorted.length;if(s>o)throw Error(`Cannot set default mode when there are more modes than allowed. Current number of modes: ${s}, allowed: ${o}`);return a.setDefaultModeForVariableCollection(i),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})}})(y||(y={})),(e=>{e.setOverrideForMode=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"setOverrideForMode",metricsKey:"variableCollectionExtension.setOverrideForMode",cb:function(r,i,a){let o=n(r);if(!o||"VARIABLE"!==o.type)throw Error("Invalid variable to override");let s=e.getStringProp(r,"id"),l=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"modeId"}),d=(0,n_.u)({vm:e,handle:a,vmSchema:aP.isOptional,zSchema:m.VariableValue.nullable(),property:"overrideValueOrNull"});return n(this).setVariableOverrideForMode(s,l,d),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})},e.clearOverridesForVariable=function({vm:e,defineVmFunction:r,getNode:n},i){r({handle:i,key:"clearOverridesForVariable",metricsKey:"variableCollectionExtension.clearOverridesForVariable",cb:function(r){let i=n(r);if(!i||"VARIABLE"!==i.type)throw Error("Invalid variable to clear");let a=e.getStringProp(r,"id");return n(this).deleteOverridesForVariable(a),e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0})}})(E||(E={}));let s3=[g.name,g.hiddenFromPublishing,g.pluginData,y.key,y.defaultModeId,y.modes,y.remote,y.remove,y.getPublishStatus],s5=[...s3,y.variableIds,y.addMode,y.removeMode,y.renameMode,...oc("ds_variables_set_default_mode",[y.setDefaultMode])],s4=[...s3,E.setOverrideForMode,E.clearOverridesForVariable];class s6{constructor(e){this.vm=e.vm,this.variableCollectionPrototype=ou(e,"VariableCollection",...s5),this.variableCollectionExtensionPrototype=ou(e,"VariableCollectionExtension",...s4)}createVariableCollectionHandle(e){let r=this.vm;if(!nM.fn(e))return r.null;let n=rP.CUU.isVariableSetExtension(e)?this.variableCollectionExtensionPrototype:this.variableCollectionPrototype,i=r.newObject(n);return r.defineProp(i,"id",{enumerable:!0,writable:!1,value:r.newString(e)}),i}createNewVariableCollection(e){return rP.CUU.createVariableCollection(e)}getLocalVariableCollections(){let e=this.vm,r=e.newArray();for(let[n,i]of rP.CWU.getLocalVariableSetsInfo().filter(e=>!e.isSoftDeleted).map(e=>e.id).entries()){let a=this.createVariableCollectionHandle(i);e.setProp(r,n.toString(),a)}return r}getLibraryVariableCollectionsAsync(){let{promise:e,resolve:r,reject:n}=this.vm.newPromise();return this.vm.registerPromise(s9()).then(async e=>{let n=await s8(e);r(this.vm.deepWrap(n))}).catch(n),e}createNewVariableCollectionExtension(e,r){return rP.CUU.createVariableSetExtension(e,r)}createVariableCollectionExtensionHandle(e){let r=this.vm;if(!nM.fn(e))return r.null;let n=r.newObject(this.variableCollectionExtensionPrototype);return r.defineProp(n,"id",{enumerable:!0,writable:!1,value:r.newString(e)}),n}}async function s8(e){let r=(0,s2.Yt)(e.map(e=>e.fileKey));return function(e,r){var n,i;let a=[],o=sz()(r,e=>e.fileKey);for(let[r,s]of Object.entries(e))if("loaded"===s.status)for(let e of(null==(n=s.data.file)?void 0:n.variableCollections)??[])a.push({name:e.name,key:e.key,libraryName:(null==(i=o[r])?void 0:i.name)??"<unknown>"});return a}(await (0,sN.QO)(r,(e,n)=>{let i=R.zl.get(r),a=sK.Qw.all(Object.values(i));"loaded"===a.status?e(i):"errors"===a.status&&n("error fetching variable collections from libraries")}),e)}function s7(e){return{name:e.name,fileKey:e.fileKey}}async function s9(){let e=await (0,sN.QO)(sQ,(e,r)=>{let n=R.zl.get(sQ);n.then(i=>{"loaded"===i.status?e(n):"errors"===i.status&&r("error in querying available libraries")}).catch(()=>r("error in querying enabled libraries"))});return"loaded"===e.status?e.data.map(s7):[]}async function le(e){rP.NfO.updateVariables(),await rj.oH;let r=A.D.getState();if(!(0,Z.d1)(r))return"UNPUBLISHED";let n=(0,sR.bh)(r)[e];return au(null==n?void 0:n.status)}var lt=n(12151);class lr{constructor(){this.thumbnailGenerator=lt.t,this.hashToPrivateVideo=new Map,this.hashToCoverImageHash=new Map,this.hashToCoverThumbnailImageHash=new Map,this.tearDown=()=>{this.hashToPrivateVideo=new Map,this.hashToCoverImageHash=new Map,this.hashToCoverThumbnailImageHash=new Map}}createVideoAsync(e){let r=new Uint8Array(e);rP.NfO.isVideoValid(r);let n=(0,np.Et)(r),i=this.thumbnailGenerator.createVideo();return this.thumbnailGenerator.loadVideo(r,i).then(()=>{let e=rP.NfO.uploadVideo(r,i);return console.warn(e),this.hashToCoverImageHash.set(n,e.coverHash),this.hashToCoverThumbnailImageHash.set(n,e.coverThumbnailHash),this.getOrCreatePrivateVideo(n)}).catch(e=>{throw Error("Unable to generate a thumbnail for video")})}getOrCreatePrivateVideo(e){let r=this.hashToPrivateVideo.get(e);return void 0===r&&(r={sha1:e}),this.hashToPrivateVideo.set(e,r),r}getThumbnailImageForVideo(e){return this.hashToCoverImageHash.get(e)||""}getPrivateVideoOrThrow(e){let r=this.hashToPrivateVideo.get(e);if(void 0===r)throw Error("SHA1 hash does not correspond to an existing video");return r}}let ln=()=>{};class li{constructor(e){this.options=e,this.loggedApiCalls=new Set}logError(e,r){this.loggedApiCalls.add(e);let n=["plugin_incremental_loading_error",{plugin_id:this.options.pluginID,plugin_version_id:this.options.pluginVersionID,api_call:e,additional_info:JSON.stringify(r)}];(0,b.sx)(...n,{batchRequest:!0}),ln(...n)}maybeLogError(e,r){if(this.loggedApiCalls.has(r))return;let{onCurrentPage:n,...i}=rP.NfO.getOffPageNodeInfo(e);n||this.logError(r,i)}}var la=n(75827);function lo(e,r){if(!e.isObject(r))return!1;let n=e.getProp(r,"then"),i=e.getProp(r,"catch");return!!(e.isFunction(n)&&e.isFunction(i))}let ls=`Your widget was terminated before figma.showUI could finish running. Return a promise in your event handler to keep your widget running while your iframe is open.

For more information, see: https://www.figma.com/widget-docs/handling-user-events/
`;function ll(e,r){0===e.numTrackedPromises&&r.isInnerIframeActive()&&console.error(ls)}async function ld({vm:e,command:r,vNode:n,runtime:i,uiHandle:a,widgetManager:o,editScopeLabel:s}){(0,S.vA)("click"===r.name||"textEditEnd"===r.name,`unsupported event type: ${r.name}`);let{widgetNodeID:l}=r,d=rB.z.instance.get(l);if(!d||"WIDGET"!==d.type)return!1;let c=function(e,r,n,i){var a;let{bubbledNodes:o}=n,[s,...l]=o.slice(0).reverse();if((null==s?void 0:s.id)!==r.guid)throw Error("Rendering a widget to the wrong node");let d=[],c=e,u=i.getNodeById(r.reversedChildrenGuids[r.reversedChildrenGuids.length-1]);if(!u)return[];let p=l.shift(),h=(e,r)=>{var i;let a="click"===n.name?"onClick":"onTextEditEnd";e&&(null==(i=null==e?void 0:e.renderMetaData)?void 0:i[a])&&d.push({bubbleInfo:r,handle:e.renderMetaData[a]})};for(h(c,p);l.length&&"FRAME"===u.type;)if(p=l.shift(),c&&(null==(a=c.renderMetaData.children)?void 0:a.length)){let e=u.children.findIndex(e=>e.id===(null==p?void 0:p.id));if(-1===e)break;c=a1(c.renderMetaData.children)[e],u=u.children[e],h(c,p)}else break;return d.reverse()}(n,d,r,i),u=[];for(let n=0;n<c.length;n++){let i=c[n],a=e.deepWrap({offsetX:i.bubbleInfo.offsetX,offsetY:i.bubbleInfo.offsetY,canvasX:i.bubbleInfo.canvasX,canvasY:i.bubbleInfo.canvasY}),o=rL.l7.plugin(s,()=>e.callFunction((0,nB.yN)(i.handle),e.undefined,"textEditEnd"===r.name?e.deepWrap(r.event):a));if("FAILURE"===o.type)throw new nT(o.error);lo(e,o.handle)&&u.push(oF({vm:e,promiseHandle:o.handle}))}return 0===u.length&&ll(o,a),await Promise.all(u),!!c.length}async function lc({vm:e,uiHandle:r,callbackHandle:n,propertyName:i,propertyValue:a,widgetManager:o,editScopeLabel:s}){let l=rL.l7.plugin(s,()=>e.callFunction(n,e.undefined,e.deepWrap({propertyName:i,propertyValue:a})));if("FAILURE"===l.type)throw new nT(l.error);lo(e,l.handle)||ll(o,r),await oF({vm:e,promiseHandle:l.handle})}async function lu({vm:e,handler:r,event:n}){if("stuckStatusChanged"!==n.name)throw Error("runStuckStatusChanged called with event that is not stuckStatusChanged");let i=e.callFunction(r,e.undefined,e.deepWrap({newHostId:n.newHost,oldHostId:n.oldHost}));if("FAILURE"===i.type)throw new nT(i.error);await oF({vm:e,promiseHandle:i.handle})}async function lp({vm:e,handler:r,event:n}){if("attachedStickablesChanged"!==n.name)throw Error("attachedStickablesChanged called with event that is not attachedStickablesChanged");let i=e.callFunction(r,e.undefined,e.deepWrap({stuckNodeIds:n.addedNodes,unstuckNodeIds:n.removedNodes}));if("FAILURE"===i.type)throw new nT(i.error);await oF({vm:e,promiseHandle:i.handle})}var lh=n(72274),lm=n(20550);class lg{constructor(e){this.vm=e,this.effects=[],this.cleanups=[],this.hasRunEffects=!1}addEffect(e){if(this.vm.isFunction(e))this.vm.retainHandle(e),this.effects.push(e);else throw Error("useEffect must be passed a function")}cleanup(){let{vm:e}=this;for(let r of this.cleanups)e.isFunction(r)&&(e.callFunction(r,e.undefined),e.releaseHandle(r));this.cleanups=[]}runEffects(){this.hasRunEffects=!0,this.cleanup();let{vm:e}=this;for(let r of this.effects){if(!e.isFunction(r))continue;let n=rL.l7.plugin("widget-effect",()=>e.callFunction(r,e.undefined));if("FAILURE"===n.type)throw n.error;e.isFunction(n.handle)&&(this.cleanups.push(n.handle),e.retainHandle(n.handle))}}clear(){for(let e of(this.cleanup(),this.effects))this.vm.releaseHandle(e);this.effects=[]}}var lf=n(64234),l_=n.n(lf);function ly(e){return(r,n,i,a)=>{a.enableFullJsx&&e(r,n,i,a)}}let lE=ly((e,r,n,i)=>{e.props.componentId=n}),lb=ly((e,r,n,i)=>{e.props.componentProps=n}),lv=ly((e,r,n,i)=>{e.props.componentPropsNested=n});function lS(e){return"object"==typeof e&&null!==e}let lI=(e,r,n,i)=>{i.enableFullJsx&&(e.props.sharedPluginData=n)},lT=(e,r,n,i)=>{i.enableFullJsx&&(e.props.pluginData=n)},lw=(e,r,n,i)=>{e.renderMetaData.width=n},lC=(e,r,n,i)=>{(null==n?void 0:n.type)==="image"&&(e.renderMetaData.fillSrc=n.src);let a=Array.isArray(n)?n:[n];e.props.fills=lz(a,"fill",i)},lA=(e,r,n,i)=>{e.renderMetaData.key=String(r.key)},lN=(e,r,n,i)=>{e.props.fontName=n},lO=(e,r,n,i)=>{let a=F.union([F.number(),F.string()]).default(0).transform(lj);e.props.letterSpacing=a.parse(n)},lR=(e,r,n,i)=>{let a=F.union([F.number(),F.string()]).default("auto").transform(lj);e.props.lineHeight=a.parse(n)},lP=(e,r,n,i)=>{let a=F.string().default("none").transform(lB);e.props.textDecoration=a.parse(n)},lL=(e,r,n,i)=>{let a=F.string().default("original").transform(lB);e.props.textCase=a.parse(n)},lD=(e,r,n,i)=>{let a=F.number().default(16);e.props.fontSize=a.parse(n)},lM=(e,r,n,i)=>{e.renderMetaData.children=n},lk=(e,r,n,i)=>{e.props.hyperlink={type:"URL",value:r.href}},lx=(e,r,n,i)=>{!0===n||"number"==typeof n?(e.props.textTruncation="ENDING",e.props.maxLines="number"==typeof n&&n>=1?Math.floor(n):null):e.props.textTruncation="DISABLED"};function lF(e,r,n,i){"number"==typeof i?e===r.direction?n.props.itemSpacing=i:r.wrap&&(n.props.counterAxisSpacing=i):"auto"===i&&(e===r.direction?n.props.primaryAxisAlignItems="SPACE_BETWEEN":r.wrap&&(n.props.counterAxisAlignContent="SPACE_BETWEEN"))}let lU=(e,r,n,i)=>{e.renderMetaData.children=n};function lB(e){return e.toUpperCase().replace(/-/g,"_")}function lV(e){let r={};return"number"==typeof e&&(r.paddingLeft=e,r.paddingRight=e,r.paddingTop=e,r.paddingBottom=e),"object"==typeof e&&(e.hasOwnProperty("vertical")&&"number"==typeof e.vertical&&(r.paddingTop=e.vertical,r.paddingBottom=e.vertical),e.hasOwnProperty("horizontal")&&"number"==typeof e.horizontal&&(r.paddingLeft=e.horizontal,r.paddingRight=e.horizontal),e.hasOwnProperty("top")&&"number"==typeof e.top&&(r.paddingTop=e.top),e.hasOwnProperty("left")&&"number"==typeof e.left&&(r.paddingLeft=e.left),e.hasOwnProperty("right")&&"number"==typeof e.right&&(r.paddingRight=e.right),e.hasOwnProperty("bottom")&&"number"==typeof e.bottom&&(r.paddingBottom=e.bottom)),r}function lH(e){switch(e){case"start":return"MIN";case"center":return"CENTER";case"end":return"MAX";case"baseline":return"BASELINE"}}function lG(e){if(e.length>=7){let r=9===e.length?parseInt(e.slice(7,9),16)/255:1;return{r:parseInt(e.slice(1,3),16)/255,g:parseInt(e.slice(3,5),16)/255,b:parseInt(e.slice(5,7),16)/255,a:r}}let r=5===e.length?parseInt(e.slice(4,5),16)/15:1;return{r:parseInt(e.slice(1,2),16)/15,g:parseInt(e.slice(2,3),16)/15,b:parseInt(e.slice(3,4),16)/15,a:r}}function lW(e){return"string"==typeof e?lG(e):"object"!=typeof e||e.hasOwnProperty("a")?e:{...e,a:1}}function lz(e,r,n){return(0,v.WI)(e.map(e=>(function(e,r,n){if(!e)return null;if("string"==typeof e)return function(e){let{a:r,...n}=lG(e);return{type:"SOLID",color:n,blendMode:"NORMAL",opacity:r}}(e);if("r"in e&&"g"in e&&"b"in e&&"a"in e){let r=e=>{let r=e>=0&&e<=1;return r||console.error(`Expected rgba value to be between 0 and 1 but got ${e}.`),r},{r:n,g:i,b:a,a:o}=e;if(!(r(n)&&r(i)&&r(a)&&r(o)))return null;let s={...e},l=s.a;return delete s.a,{type:"SOLID",color:s,opacity:l}}let i=e.blendMode?lB(e.blendMode):void 0;if("solid"===e.type){let r="string"==typeof e.color?lG(e.color):{...e.color},n=function(e,r){let n=null!=e.a?e.a:void 0,i=null!=r.opacity?r.opacity:void 0;return null!=i&&null!=n?i*n:i||n}(r,e);return delete r.a,{type:"SOLID",color:r,blendMode:i,opacity:n}}return"image"===e.type?{type:"IMAGE",scaleMode:e.scaleMode?lB(e.scaleMode):"FILL",imageHash:e.imageHash||null,imageTransform:e.imageTransform,scalingFactor:e.scalingFactor,rotation:e.rotation,blendMode:i,opacity:e.opacity}:"gradient-linear"===e.type||"gradient-radial"===e.type||"gradient-angular"===e.type||"gradient-diamond"===e.type?{type:lB(e.type),blendMode:i,opacity:e.opacity??void 0,gradientStops:e.gradientStops,gradientTransform:function(e,r){let n;switch(e){case"gradient-linear":n=[{x:0,y:.5},{x:1,y:.5},{x:0,y:1}];break;case"gradient-radial":case"gradient-angular":case"gradient-diamond":n=[{x:.5,y:.5},{x:1,y:.5},{x:.5,y:1}];break;default:(0,S.xb)(e)}let i=n[0].x,a=n[1].x,o=n[2].x,s=r[0].x,l=r[0].y,d=r[1].x,c=r[1].y,u=r[2].x,p=r[2].y,h=c-p,m=d-u,g=d*p-c*u,f=-1*(l-p),_=l-c,y=-1*m,E=s-u,b=-1*(s-d),v=-1*(s*p-l*u),I=s*c-l*d,T=s*h-l*m+1*g;return 0===T?[[0,0,0],[0,0,0]]:[[(h*i+f*a+_*o)/T,(y*i+E*a+b*o)/T,(g*i+v*a+I*o)/T],[(.5*h+.5*f+1*_)/T,(.5*y+.5*E+1*b)/T,(.5*g+.5*v+1*I)/T]]}(e.type,e.gradientHandlePositions)}:(lK(r,e,n),null)})(e,r,n)))}function lK(e,r,n){let i=Error(`The following prop failed to match a valid value: ${e}={${JSON.stringify(r,null,2)}}.`);if(n.isLocalWidget){if((0,O.kc)().widgets_validation_throws)throw i;console.error(i)}else rW.trackInvalidPropError(i,n)}function lj(e){if("number"==typeof e)return{unit:"PIXELS",value:e};if("auto"===e)return{unit:"AUTO"};let r=parseFloat(e);return isNaN(r)?void 0:e.match(/.*%\w*/)?{unit:"PERCENT",value:r}:e.match(/.*px\w*/)?{unit:"PIXELS",value:r}:void 0}let lY={name:"",hidden:!1,x:0,y:0,opacity:1,effect:[],width:"hug-contents",height:"hug-contents",rotation:0,flipVertical:!1,fontFamily:"Roboto",fontPostScriptName:"",horizontalAlignText:"left",verticalAlignText:"top",letterSpacing:0,lineHeight:"auto",textDecoration:"none",textCase:"original",fontSize:16,italic:!1,fill:{blendMode:"normal",color:{r:0,g:0,b:0,a:1},type:"solid"},blendMode:"pass-through",fontWeight:400,paragraphIndent:0,paragraphSpacing:0},l$={name:"",hidden:!1,x:0,y:0,opacity:1,effect:[],height:"hug-contents",rotation:0,flipVertical:!1,fontFamily:"Roboto",fontPostScriptName:"",horizontalAlignText:"left",verticalAlignText:"top",letterSpacing:0,lineHeight:"auto",textDecoration:"none",textCase:"original",fontSize:16,italic:!1,fill:{blendMode:"normal",color:{r:0,g:0,b:0,a:1},type:"solid"},blendMode:"pass-through",fontWeight:400,paragraphIndent:0,paragraphSpacing:0,multiline:!1},lq={name:"",hidden:!1,x:0,y:0,blendMode:"pass-through",opacity:1,effect:[],fill:[],flipVertical:!1,stroke:[],strokeWidth:1,strokeAlign:"inside",rotation:0,cornerRadius:0,overflow:"hidden"},lZ={name:"",hidden:!1,x:0,y:0,blendMode:"pass-through",opacity:1,effect:[],fill:[],stroke:[],strokeWidth:1,strokeAlign:"inside",rotation:0,flipVertical:!1,cornerRadius:0,overflow:"hidden",width:"hug-contents",height:"hug-contents",direction:"horizontal",spacing:0,padding:0,horizontalAlignItems:"start",verticalAlignItems:"start"},lX={name:"",hidden:!1,x:0,y:0,blendMode:"pass-through",opacity:1,effect:[],fill:[],stroke:[],strokeWidth:1,strokeAlign:"inside",rotation:0,flipVertical:!1,cornerRadius:0},lJ={name:"",hidden:!1,x:0,y:0,blendMode:"pass-through",opacity:1,effect:[],fill:[],stroke:[],strokeWidth:1,strokeAlign:"inside",rotation:0,flipVertical:!1},lQ={name:"",hidden:!1,stroke:"#000000",strokeWidth:1,blendMode:"pass-through",opacity:1,fill:[],effect:[],length:100,strokeCap:"none",x:0,y:0};function l0(e){if("1.0.0"===e)return lY}function l1(e,r){let n={...r};return e.forEach(e=>{delete n[e]}),n}let l2=n_.By.exact({vertical:n_.By.float.isOptional,horizontal:n_.By.float.isOptional}),l3=n_.By.exact({top:n_.By.float.isOptional,left:n_.By.float.isOptional,bottom:n_.By.float.isOptional,right:n_.By.float.isOptional}),l5=n_.By.oneOf([n_.By.float,l3,l2]),l4=n_.By.oneOf([n_.By.float,"fill-parent"]),l6=n_.By.oneOf([l4,"hug-contents"]),l8=n_.By.float.isOptional,l7=n_.By.oneOf(["center","start","end"]),l9=n_.By.exact({horizontal:n_.By.oneOf([n_.By.float,"auto"]).isOptional,vertical:n_.By.oneOf([n_.By.float,"auto"]).isOptional}),de={spacing:n_.By.oneOf([n_.By.float,"auto",l9]).isOptional,padding:l5.isOptional,direction:n_.By.oneOf(["horizontal","vertical"]).isOptional,horizontalAlignItems:l7.isOptional,verticalAlignItems:n_.By.oneOf([l7,"baseline"]).isOptional,wrap:n_.By.bool.isOptional},dt={width:l6.isOptional,height:l6.isOptional},dr=n_.By.oneOf([n_.By.exact({type:"top",offset:n_.By.float}),n_.By.exact({type:"bottom",offset:n_.By.float}),n_.By.exact({type:"center",offset:n_.By.float}),n_.By.exact({type:"top-bottom",topOffset:n_.By.float,bottomOffset:n_.By.float}),n_.By.exact({type:"vertical-scale",topOffsetPercent:n_.By.float,bottomOffsetPercent:n_.By.float})]),dn=n_.By.oneOf([n_.By.exact({type:"left",offset:n_.By.float}),n_.By.exact({type:"right",offset:n_.By.float}),n_.By.exact({type:"center",offset:n_.By.float}),n_.By.exact({type:"left-right",leftOffset:n_.By.float,rightOffset:n_.By.float}),n_.By.exact({type:"horizontal-scale",leftOffsetPercent:n_.By.float,rightOffsetPercent:n_.By.float})]),di=n_.By.oneOf(["visible","hidden","scroll"]),da=n_.By.oneOf(["pass-through","normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),ds=n_.By.string,dl=n_.By.exact({r:n_.By.float,g:n_.By.float,b:n_.By.float,a:n_.By.float}),dd=n_.By.exact({x:n_.By.float,y:n_.By.float}),dc={x:n_.By.oneOf([n_.By.float,dn]).isOptional,y:n_.By.oneOf([n_.By.float,dr]).isOptional},du=n_.By.exact({type:"drop-shadow",color:n_.By.oneOf([ds,dl]),offset:dd,blur:n_.By.float,blendMode:da.isOptional,spread:n_.By.float.isOptional,visible:n_.By.bool.isOptional,showShadowBehindNode:n_.By.bool.isOptional}),dp=n_.By.exact({type:"inner-shadow",color:n_.By.oneOf([ds,dl]),offset:dd,blur:n_.By.float,blendMode:da.isOptional,spread:n_.By.float.isOptional,visible:n_.By.bool.isOptional}),dh=n_.By.exact({type:n_.By.oneOf(["layer-blur","background-blur"]),blur:n_.By.float,visible:n_.By.bool.isOptional}),dm=n_.By.oneOf([du,dp,dh]),dg={blendMode:da.isOptional,opacity:n_.By.float.isOptional,effect:n_.By.oneOf([dm,n_.By.arrayOf(dm)]).isOptional,...dc,name:n_.By.string.isOptional,hidden:n_.By.bool.isOptional},df={type:n_.By.oneOf(["image","solid","gradient-linear","gradient-radial","gradient-angular","gradient-diamond"]),blendMode:da.isOptional,visible:n_.By.bool.isOptional,opacity:n_.By.float.isOptional},d_=n_.By.exact({...df,type:"solid",color:n_.By.oneOf([dl,ds])}),dy=n_.By.exact({position:n_.By.float,color:dl}),dE=n_.By.exact({...df,type:n_.By.oneOf(["gradient-linear","gradient-radial","gradient-angular","gradient-diamond"]),gradientHandlePositions:n_.By.arrayOf(dd),gradientStops:n_.By.arrayOf(dy)}),db=n_.By.arrayOf(n_.By.arrayOf(n_.By.float)),dv=n_.By.oneOf(["fill","fit","tile","crop"]),dS=n_.By.exact({...df,type:"image",src:n_.By.string.isOptional,imageHash:n_.By.string.isOptional,imageSize:n_.By.exact({width:n_.By.float,height:n_.By.float}).isOptional,scaleMode:dv.isOptional,imageTransform:db.isOptional,scalingFactor:n_.By.float.isOptional,rotation:n_.By.float.isOptional,imageRef:n_.By.string.isOptional}),dI=n_.By.oneOf([d_,dE,dS]),dT=n_.By.oneOf(["inside","outside","center"]),dw=n_.By.arrayOf(n_.By.float.min(0)),dC=n_.By.oneOf([dE,d_]),dA=n_.By.oneOf([ds,dl,dC,n_.By.arrayOf(dC)]),dN=n_.By.oneOf([ds,dl,dI,n_.By.arrayOf(dC)]),dO={fill:dN.isOptional,stroke:dA.isOptional,strokeWidth:n_.By.float.isOptional,strokeAlign:dT.isOptional,strokeDashPattern:dw.isOptional},dR={width:l4.isOptional,height:l4.isOptional},dP={rotation:n_.By.float.isOptional,flipVertical:n_.By.bool.isOptional},dL={cornerRadius:n_.By.oneOf([n_.By.float,n_.By.exact({topLeft:n_.By.float.isOptional,topRight:n_.By.float.isOptional,bottomLeft:n_.By.float.isOptional,bottomRight:n_.By.float.isOptional})]).isOptional},dD=n_.By.oneOf([100,200,300,400,500,600,700,800,900]),dM=n_.By.oneOf(["thin","extra-light","light","normal","medium","semi-bold","bold","extra-bold","black"]),dk=n_.By.oneOf([dD,dM]),dx={fontFamily:n_.By.string.isOptional,letterSpacing:n_.By.oneOf([n_.By.float,n_.By.string]).isOptional,textDecoration:n_.By.oneOf(["none","strikethrough","underline"]).isOptional,fontSize:n_.By.float.isOptional,italic:n_.By.bool.isOptional,textCase:n_.By.oneOf(["upper","lower","title","original","small-caps","small-caps-forced"]).isOptional,fontWeight:dk.isOptional,fontPostScriptName:n_.By.string.isOptional,href:n_.By.string.isOptional,fill:n_.By.oneOf([ds,dl,dI,n_.By.arrayOf(dI)]).isOptional},dF={...dg,...dO,width:l4,height:l4,...dP,...dL,overflow:di.isOptional},dU={...dg,...dO,...dR,...dP,...dL},dB={...dg,...dO,...dP,...dR},dV={...dg,...dP,...l1(["strokeAlign"],dO),length:l4.isOptional,strokeCap:n_.By.oneOf(["none","round","square","arrow-lines","arrow-equilateral"]).isOptional},dH={...dg,...dt,...dP,...dx,...l1(["fill"],dO),paragraphIndent:n_.By.float.isOptional,paragraphSpacing:n_.By.float.isOptional,horizontalAlignText:n_.By.oneOf(["left","right","center","justified"]).isOptional,verticalAlignText:n_.By.oneOf(["top","center","bottom"]).isOptional,lineHeight:n_.By.oneOf([n_.By.float,n_.By.string,"auto"]).isOptional,truncate:n_.By.oneOf([n_.By.bool,n_.By.integer]).isOptional},dG=(l1(["fill"],dU),n_.By.oneOf([n_.By.string,dS]),{...l1(["width","height"],dF),...de,...dt}),dW=n_.By.oneOf([n_.By.dictionaryOf(n_.By.any),n_.By.arrayOf(n_.By.any),n_.By.string,null,void 0]),dz={children:n_.By.oneOf([dW,n_.By.arrayOf(dW)]).isOptional},dK={hoverStyle:n_.By.exact({fill:dN.isOptional,stroke:dA.isOptional,opacity:n_.By.float.isOptional}).isOptional},dj={...dg,onClick:n_.By.any.isOptional,tooltip:n_.By.string.isOptional,...dK,positioning:n_.By.oneOf(["auto","absolute"]).isOptional},dY={minWidth:l8,minHeight:l8,maxWidth:l8,maxHeight:l8},d$=e=>({...dj,...dY,...dH,font:n_.By.exact({family:n_.By.string,style:n_.By.string}).isOptional});function dq(e){let r=d$(e);return n_.By.exact({...r,children:n_.By.any.isOptional})}let dZ=e=>({...l1(["href"],dx),...dK});function dX(e){let r=l1(["minWidth","minHeight","maxWidth","maxHeight"],d$(e)),n=dZ(e),i=l1(["width","height"],dJ(e));return n_.By.exact({...r,placeholder:n_.By.string.isOptional,onTextEditEnd:n_.By.any,value:n_.By.oneOf([n_.By.string,null]),placeholderProps:n_.By.exact(n).isOptional,inputFrameProps:i.isOptional,width:l4.isOptional,inputBehavior:n_.By.oneOf(["wrap","truncate","multiline"]).isOptional})}function dJ(e){return n_.By.exact({...dj,...dY,...dG,...dz})}let dQ={tooltip:n_.By.string,propertyName:n_.By.string},d0={selectedOption:n_.By.string},d1=n_.By.exact({...dQ,itemType:"action",icon:n_.By.string.isOptional}),d2=n_.By.exact({...dQ,itemType:"toggle",icon:n_.By.string.isOptional,isToggled:n_.By.bool}),d3=n_.By.exact({...dQ,itemType:"link",icon:n_.By.oneOf([n_.By.string,null]).isOptional,href:n_.By.string}),d5=n_.By.exact({itemType:"separator"}),d4=n_.By.exact({option:n_.By.string,tooltip:n_.By.string}),d6=n_.By.exact({...dQ,...d0,itemType:"color-selector",options:n_.By.arrayOf(d4)}),d8=n_.By.exact({option:n_.By.string,label:n_.By.string}),d7=n_.By.exact({...dQ,...d0,itemType:"dropdown",options:n_.By.arrayOf(d8)}),d9=n_.By.arrayOf(n_.By.oneOf([d1,d5,d6,d7,d2,d3]));function ce(e,r,n){let i=`usePropertyMenu.args[0][${n}]`,a=e.map(e=>e.option);if(0===a.length)throw new nT(`${i}.options is empty.`);if(new Set(a).size!==a.length)throw new nT(`${i}.options has duplicate values.`);a.includes(r)||console.warn(`${i}.selectedOption is not included in ${i}.options.`)}var ct=n(32284);let cr=new Set,cn=new Set(["fontName","fontSize","textCase","textDecoration","letterSpacing","lineHeight","hyperlink","fills","listOptions","indentation"]);function ci(e){let r={},n={};for(let i in e)cn.has(i)?r[i]=e[i]:n[i]=e[i];return{textStyle:r,otherProps:n}}let ca="Regular";function co(e){var r;let{font:n,italic:i=!1,fontWeight:a=400,fontFamily:o="Inter"}=e;return n||null!=e.italic||null!=e.fontWeight||null!=e.fontFamily?n||("Roboto"===o||"Inter"===o||(r=o,cr.has(r))||((0,M.Lg)()||console.error(`Use of non-supported font '${o}'. Use Roboto, Inter, or another Google font.`),o="Inter"),{family:o,style:function({fontFamily:e,fontWeight:r,italic:n}){let i=(A.D.getState().fonts||{})[e]||[];for(let a in i){let o=i[a].styles;i[a].source===rP.jXp.GOOGLE||(0,M.Lg)()||console.warn(`Font '${e}' is not loaded from Google fonts. The font may be a shared font or installed locally.`);let s=Object.keys(o).filter(e=>o[e].italic===n&&o[e].weight===r).sort((e,r)=>Math.abs(o[e].stretch||ct.qO-ct.qO)-Math.abs(o[r].stretch||ct.qO-ct.qO)).pop();if(s)return s}return console.error(`Unable to resolve font for fontFamily=${e}, fontWeight=${r}, italic=${n} - falling back to ${ca}.`),ca}({fontFamily:o,fontWeight:cs.get(a)||400,italic:i})}):{family:"Inter",style:"Medium"}}let cs=new Map([[100,100],[200,200],[300,300],[400,400],[500,500],[600,600],[700,700],[800,800],[900,900],["thin",100],["extra-light",200],["light",300],["normal",400],["medium",500],["semi-bold",600],["bold",700],["extra-bold",800],["black",900]]);function cl(e){return e?function(e){for(let r in e)void 0===e[r]&&delete e[r];return e}({font:e.font,italic:e.italic,fontWeight:e.fontWeight,fontFamily:e.fontFamily}):{}}function cd(e,r,n,i){let a=[];try{a=(0,n_.c0)(e,r,n)}catch(e){(0,L.$D)(D.e.EXTENSIBILITY,Error(`Error running widget prop validation: ${e}`))}if(a.length>0){if(i.isLocalWidget){let e="\n\n * ",r=`The following validation errors were surfaced:${e}${a.join(e)}`;if((0,O.kc)().widgets_validation_throws)throw r;console.error(r)}else{let e=a.map(e=>Error(e));rW.trackValidationErrors(e,i)}}}function cc({type:e,getDefaultPropsForVersion:r,propMappers:n,getSchemaForVersion:i}){return(a,o)=>{let s={type:e,props:{},renderMetaData:{}},l=o.widgetApiVersion,d={...r(l),...a};for(let r in i&&cd(d,i(l),e,o),d)for(let e of n)r in e&&e[r](s,d,d[r],o);return s}}let cu={hidden:(e,r,n,i)=>{e.props.visible=!n},name:(e,r,n,i)=>{e.props.name=String(n)},blendMode:(e,r,n,i)=>{let a=F.string().default("pass-through").transform(lB);e.props.blendMode=a.parse(n)},opacity:(e,r,n,i)=>{e.props.opacity=n},effect:(e,r,n,i)=>{e.props.effects=function e(r,n){if(Array.isArray(r))return Array.prototype.concat.apply([],r.map(r=>e(r,n)));if(!r)return[];switch(r.type){case"drop-shadow":return[{type:"DROP_SHADOW",color:lW(r.color),offset:r.offset,visible:!0,radius:r.blur,spread:r.spread,showShadowBehindNode:r.showShadowBehindNode,blendMode:"NORMAL"}];case"inner-shadow":return[{type:"INNER_SHADOW",color:lW(r.color),offset:r.offset,visible:!0,radius:r.blur,spread:r.spread,blendMode:"NORMAL"}];case"layer-blur":return[{type:"LAYER_BLUR",visible:!0,radius:r.blur}];case"background-blur":return[{type:"BACKGROUND_BLUR",visible:!0,radius:r.blur}];default:return lK("effects",r,n),[]}}(n,i)},x:(e,r,n,i)=>{"number"==typeof n?e.renderMetaData.x=n:"object"==typeof n&&(e.renderMetaData.constraints=e.renderMetaData.constraints??{},e.renderMetaData.constraints.xConstraint=n)},y:(e,r,n,i)=>{"number"==typeof n?e.renderMetaData.y=n:"object"==typeof n&&(e.renderMetaData.constraints=e.renderMetaData.constraints??{},e.renderMetaData.constraints.yConstraint=n)},rotation:(e,r,n,i)=>{e.props.rotation=n},width:lw,height:(e,r,n,i)=>{e.renderMetaData.height=n},onClick:(e,r,n,i)=>{e.renderMetaData.onClick=n},fill:lC,stroke:(e,r,n,i)=>{let a=Array.isArray(n)?n:[n];e.props.strokes=lz(a,"stroke",i)},strokeWidth:(e,r,n,i)=>{e.props.strokeWeight=n},strokeAlign:(e,r,n,i)=>{e.props.strokeAlign=lB(n)},strokeDashPattern:(e,r,n,i)=>{e.props.dashPattern=n},strokeCap:(e,r,n,i)=>{e.props.strokeCap=lB(n)},key:lA,tooltip:(e,r,n,i)=>{e.props.widgetTooltip=n},hoverStyle:(e,r,n,i)=>{let a={};(null==n?void 0:n.fill)&&(a.fill=lz(Array.isArray(n.fill)?n.fill:[n.fill],"fill",i)),(null==n?void 0:n.stroke)&&(a.stroke=lz(Array.isArray(n.stroke)?n.stroke:[n.stroke],"stroke",i)),(null==n?void 0:n.opacity)!==void 0&&(a.opacity=n.opacity),e.props.widgetHoverStyle=a},positioning:(e,r,n,i)=>{e.props.layoutPositioning=function(e){switch(e){case"auto":return"AUTO";case"absolute":return"ABSOLUTE"}}(n)},sharedPluginData:lI,pluginData:lT},cp={minWidth:(e,r,n,i)=>{e.props.minWidth=n},minHeight:(e,r,n,i)=>{e.props.minHeight=n},maxWidth:(e,r,n,i)=>{e.props.maxWidth=n},maxHeight:(e,r,n,i)=>{e.props.maxHeight=n}},ch={cornerRadius:(e,r,n,i)=>{"number"==typeof n?e.props.cornerRadius=n:"object"==typeof n&&("number"==typeof n.bottomLeft&&(e.props.bottomLeftRadius=n.bottomLeft),"number"==typeof n.topLeft&&(e.props.topLeftRadius=n.topLeft),"number"==typeof n.bottomRight&&(e.props.bottomRightRadius=n.bottomRight),"number"==typeof n.topRight&&(e.props.topRightRadius=n.topRight))}},cm={overflow:(e,r,n,i)=>{e.props.clipsContent="hidden"===n},children:lU},cg={font:lN,horizontalAlignText:(e,r,n,i)=>{let a=F.string().default("left").transform(lB);e.props.textAlignHorizontal=a.parse(n)},verticalAlignText:(e,r,n,i)=>{let a=F.string().default("top").transform(lB);e.props.textAlignVertical=a.parse(n)},letterSpacing:lO,lineHeight:lR,textDecoration:lP,textCase:lL,fontSize:lD,paragraphIndent:(e,r,n,i)=>{let a=F.number().default(0);e.props.paragraphIndent=a.parse(n)},paragraphSpacing:(e,r,n,i)=>{let a=F.number().default(0);e.props.paragraphSpacing=a.parse(n)},children:lM,href:lk,truncate:lx},cf=cc({type:"text",getDefaultPropsForVersion:l0,getSchemaForVersion:dq,propMappers:[cu,cg]}),c_=cc({type:"text",getDefaultPropsForVersion:l0,getSchemaForVersion:dq,propMappers:[cu,cp,cg]}),cy=cc({type:"input",getDefaultPropsForVersion:function(e){if("1.0.0"===e)return l$},getSchemaForVersion:dX,propMappers:[cu,cg,{widgetInputBehavior:(e,r,n,i)=>{e.props.widgetInputBehavior=n.toUpperCase()},truncate:lx}]}),cE=cc({type:"frame",getDefaultPropsForVersion:function(e){if("1.0.0"===e)return lq},getSchemaForVersion:function(e){return n_.By.exact({...dj,...dY,...dF,...dz})},propMappers:[cu,cp,cm,ch]}),cb=cc({type:"autolayout",getDefaultPropsForVersion:function(e){if("1.0.0"===e)return lZ},getSchemaForVersion:dJ,propMappers:[cu,cp,cm,ch,{direction:(e,r,n,i)=>{e.props.layoutMode="vertical"===n?"VERTICAL":"horizontal"===n?"HORIZONTAL":"NONE",e.renderMetaData.direction=n},spacing:(e,r,n,i)=>{"number"==typeof n?(e.props.itemSpacing=n,r.wrap&&(e.props.counterAxisSpacing=n)):"auto"===n?(e.props.primaryAxisAlignItems="SPACE_BETWEEN",r.wrap&&(e.props.counterAxisAlignContent="SPACE_BETWEEN")):lS(n)&&("horizontal"in n&&lF("horizontal",r,e,n.horizontal),"vertical"in n&&lF("vertical",r,e,n.vertical))},padding:(e,r,n,i)=>{let a=lV(n);for(let r in a)e.props[r]=a[r]},horizontalAlignItems:(e,r,n,i)=>{let a=lH(n);"horizontal"!==r.direction||"auto"===r.spacing||lS(r.spacing)&&"horizontal"in r.spacing&&"auto"===r.spacing.horizontal||(e.props.primaryAxisAlignItems=a),"vertical"===r.direction&&(e.props.counterAxisAlignItems=a)},verticalAlignItems:(e,r,n,i)=>{let a=lH(n);"horizontal"===r.direction&&(e.props.counterAxisAlignItems=a),"vertical"===r.direction&&"auto"!==r.spacing&&(e.props.primaryAxisAlignItems=a)},wrap:(e,r,n,i)=>{e.props.layoutWrap=n?"WRAP":"NO_WRAP"}}]}),cv=cc({type:"rectangle",getDefaultPropsForVersion:function(e){if("1.0.0"===e)return lX},getSchemaForVersion:function(e){return n_.By.exact({...dj,...dY,...dU})},propMappers:[cu,cp,ch]}),cS=cc({type:"ellipse",getDefaultPropsForVersion:function(e){if("1.0.0"===e)return lJ},getSchemaForVersion:function(e){return n_.By.exact({...dj,...dY,...dB,arcData:n_.By.exact({startingAngle:n_.By.float,endingAngle:n_.By.float,innerRadius:n_.By.float.range(0,1)}).isOptional})},propMappers:[cu,cp,{arcData:(e,r,n,i)=>{e.props.arcData=n}}]}),cI=cc({type:"line",getDefaultPropsForVersion:function(e){if("1.0.0"===e)return lQ},getSchemaForVersion:function(e){return n_.By.exact({...dj,...dV})},propMappers:[l_()(cu,["width","height"]),{length:lw}]}),cT=(e,r)=>cw(e,r,cf);function cw(e,r,n){let i=n({...e,font:co(e)},r),a=function({vNode:e,options:r,Span:n,fontProps:i}){if((null==e?void 0:e.type)!=="text"&&(null==e?void 0:e.type)!=="input")return null;let a="",o=[],s=(e,i)=>{var l,d;if(null!=e&&!1!==e){if("string"==typeof e||"number"==typeof e){a+=String(e);return}if(Array.isArray(e)){e.forEach(e=>s(e,i));return}if("Span"===e.type){let c=a.length,u={...i,...cl(e.props)},{textStyle:p}=ci(n({...e.props,font:co(u)},r).props);Array.isArray(null==(l=e.props)?void 0:l.children)?null==(d=e.props)||d.children.forEach(e=>s(e,u)):s(e.children,u);let h=a.length;o.push({start:c,end:h,style:p})}}};s(e.renderMetaData.children,i),o.reverse();let{textStyle:l}=ci(e.props);return{style:l,ranges:o,characters:a}}({vNode:i,options:r,Span:cN,fontProps:cl(e)}),{otherProps:{children:o,...s}}=ci(i.props),l={...i.renderMetaData,textStyle:a};return delete l.children,{...i,props:s,renderMetaData:l}}let cC=cc({type:"svg",getDefaultPropsForVersion:e=>{},getSchemaForVersion:function(e){return n_.By.exact({...dj,...dY,...function(e){let r={...e};return Object.keys(r).forEach(e=>{"optional"!==r[e].type&&(r[e]=r[e].isOptional)}),r}(dF),src:n_.By.string})},propMappers:[cu,{src:(e,r,n,i)=>{e.renderMetaData.src=n}}]}),cA=cc({type:"fragment",getDefaultPropsForVersion:function(e){return n_.By.exact({...dz})},propMappers:[{key:lA,children:lU}]}),cN=cc({type:"span",getDefaultPropsForVersion:()=>({}),propMappers:[{font:lN,letterSpacing:lO,listOptions:(e,r,n)=>{if(!(0,O.kc)().ext_widget_span_list_options)return;let i=F.object({type:F.union([F.literal("ORDERED"),F.literal("UNORDERED"),F.literal("NONE")])}).default({type:"NONE"});e.props.listOptions=i.parse(n)},indentation:(e,r,n)=>{if(!(0,O.kc)().ext_widget_span_list_options)return;let i=F.number().positive().default(1);e.props.indentation=i.parse(n)},lineHeight:lR,textDecoration:lP,textCase:lL,fontSize:lD,children:lM,href:lk,fill:lC}]}),cO=cc({type:"instance",getDefaultPropsForVersion:()=>({}),propMappers:[cu,{componentId:lE,componentProps:lb,componentPropsNested:lv,sharedPluginData:lI,pluginData:lT}]}),cR={Frame:cE,AutoLayout:cb,Rectangle:cv,Ellipse:cS,Text:(e,r)=>cw(e,r,c_),SVG:cC,Image:(e,r)=>cv({...e,fill:{type:"image",src:e.src}},r),Input:(e,r)=>{cd(e,dX(r.widgetApiVersion),"input",r);let{placeholderProps:n,width:i=200,value:a,onTextEditEnd:o,inputFrameProps:s,height:l="hug-contents",inputBehavior:d="wrap",x:c,y:u,positioning:p,...h}=e,m={...s,x:c,y:u,positioning:p,width:i??200,height:l??"hug-contents"},g=lV(m.padding),f="number"==typeof i?i-((null==g?void 0:g.paddingLeft)??0)-((null==g?void 0:g.paddingRight)??0):"fill-parent",_="number"==typeof l?l-((null==g?void 0:g.paddingTop)??0)-((null==g?void 0:g.paddingBottom)??0):"hug-contents"===l||"fill-parent"===l?l:"hug-contents",{onClick:y,...E}=e,b=cw({...E,widgetInputBehavior:d,font:co(e),children:a??"",width:f,height:_,truncate:"truncate"===d,positioning:"auto"},r,cy),v=cT({opacity:.3,...h,...n,font:n?co(n):co(e),children:e.placeholder??"",hidden:!!e.value,width:"fill-parent",height:"fill-parent",x:g.paddingLeft??0,y:g.paddingTop??0,positioning:"absolute"},r),S=cb({...m,onClick:y,children:[v,b]},r);return S.renderMetaData.onTextEditEnd=o,S.type="inputframe",S},Line:cI,Fragment:cA,Span:()=>{throw new nT("Span is not valid outside of a Text component")}},cP={Instance:cO};function cL(e){return"Frame"===e||"AutoLayout"===e||"Fragment"===e}function cD(e,r){return cM(e.type,r)({...e.props,children:cL(e.type)?function e(r,n){if(null==r||!1===r)return r;if(Array.isArray(r))return r.map(r=>e(r,n));let i=typeof r;if("string"==typeof r||"number"==typeof r)throw new nT(`Invalid node child of type "${i}": ${JSON.stringify(r)}`);if(!cL(r.type)){let e=cM(r.type,n);if(!e)throw new nT(`${r.type} is not a built in component`);return e({...r.props,children:r.children},n)}return cM(r.type,n)({...r.props,children:e(r.children,n)},n)}(e.children,r):e.children},r)}function cM(e,r){let n=cR[e];return!n&&r.enableFullJsx&&(n=cP[e]),n}class ck{constructor(){this.promises=new Set,this.currentPromise=null,this.currentResolve=null}async manage(e){try{this.track(e),await e}finally{this.untrack(e)}}get numPromises(){return this.promises.size}async waitForFinish(){return!!this.currentPromise&&(await this.currentPromise,!0)}track(e){this.promises.add(e),this.currentPromise||(this.currentPromise=new Promise(e=>{this.currentResolve=e}))}untrack(e){var r;this.promises.delete(e),0===this.promises.size&&(null==(r=this.currentResolve)||r.call(this),this.currentPromise=null)}}let cx=new class{constructor(){this._pluginID=null,this._componentCounts={}}startReconciliation(e){this._pluginID=e}getCount(e){return this._componentCounts[e]||0}incrementComponent(e){this._componentCounts[e]=this.getCount(e)+1}logAndClear(){let e={pluginID:this._pluginID,...this._componentCounts};(0,b.sx)("Widget Component Usage",e),this.clear()}clear(){this._componentCounts={}}};function cF(e,r){for(let n of cn)e.hasOwnProperty(n)&&r(n,e[n])}let cU=["layoutMode","wrap","componentId","componentProps"],cB=new Set(cU),cV=["minWidth","minHeight","maxWidth","maxHeight"],cH=new Set(cV);function cG({imgInfoMap:e,runtime:r,parentId:n,vNode:i,oldVNode:a,currentNodeId:o,editScopeLabel:s}){let l=new Set,d=new Set,c=r.getSceneNodeAdapter(n),u=o?r.getSceneNodeAdapter(o):null,p=rL.l7.plugin(s??"widget-render",()=>cK({widgetNodeID:"",oldVNode:a??null,newVNode:i,indexInParent:c.children.length,dataURIToImgInfo:e,newParentDirection:"NONE",oldParentDirection:"NONE",figmaParent:c,figmaNode:u,runtime:r,forceReconcileProps:[],tracking:rP.HzA.TRACK,inputNodes:l,textNodes:d}));return cW({inputNodes:l,textNodes:d}),p}function cW({inputNodes:e,textNodes:r}){for(let r of e)rL.l7.plugin("adjust-widget-input-node",()=>{rP.glU.adjustWidgetTextEditingNodes(r)});for(let e of r)rL.l7.plugin("adjust-widget-text-node",()=>{rP.glU.adjustWidgetTextNode(e)})}function cz(e){let r=[];return e.renderMetaData.onClick&&r.push("CLICK"),e.renderMetaData.onTextEditEnd&&r.push("TEXT_EDIT_END"),r}function cK({widgetNodeID:e,oldVNode:r,newVNode:n,figmaNode:i,figmaParent:a,indexInParent:o,dataURIToImgInfo:s,newParentDirection:l,oldParentDirection:d,runtime:c,forceReconcileProps:u,tracking:p,isRootNode:h,inputNodes:m,textNodes:g}){var f,_,y,E,b;let v=()=>{let r=c.createPluginNode(n,e,p??rP.HzA.TRACK,!!h);return a.insertChild(o,r.id),c.getSceneNodeAdapter(r.id)};if(!r&&!n)return null;if(r||(r=null),!r&&i&&i.remove(),r&&!n)return null==i||i.remove(),null;if(!r&&n&&(i=v()),!n||((b=r)&&(b.type!==n.type||(null==b?void 0:b.renderMetaData.key)!==n.renderMetaData.key||a2(n)&&n.renderMetaData.direction!==b.renderMetaData.direction)&&(r=null,null==i||i.remove(),i=v()),i||(i=v()),function(e,r,n){if("inputframe"!==e.type)return!1;let i=r.children;if(!i||i.length<2)return!1;let a=i[1];return n.getMultiplayerSelection().has(a.getID())}(n,i,c)))return null;cx.incrementComponent(n.type),n.renderMetaData.src!==(null==r?void 0:r.renderMetaData.src)&&"svg"===n.type&&(null==r?void 0:r.type)==="svg"&&(r=null,i.remove(),i=v());let S=r?cz(r):[],I=cz(n);(0,ij.c2)(S,I)||i.writeProperty("widgetEvents",I),function({figmaNode:e,newVNode:r,oldVNode:n,imageInfoMap:i}){let a=null==n?void 0:n.renderMetaData.fillSrc,o=r.renderMetaData.fillSrc;if(a&&cj(n,i.get(a)),o&&cj(r,i.get(o)),o){let s=i.get(o);s?r.props.fills[0].imageHash=s.hash:r.props.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],n&&a===o&&(s&&e.getImageFillHashOrNull()===s.hash?n.props.fills[0].imageHash=s.hash:n.props.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}])}}({figmaNode:i,newVNode:n,oldVNode:r,imageInfoMap:s});let T={errors:[],guard(e){try{e()}catch(e){this.errors.push(e)}}},w=(e,r,n)=>{T.guard(()=>{i.writeProperty(e,r,n)})},C=e=>{var i;let a=n.props[e],o=r?null==(i=r.props)?void 0:i[e]:void 0,s=u.includes(e);(s||!(0,ij.c2)(o,a))&&w(e,a,{isForceReconcile:s})};!function({sceneNode:e,oldVNode:r,newVNode:n,errorGuard:i,shouldForceReconcile:a}){let o=null==r?void 0:r.renderMetaData.textStyle,s=n.renderMetaData.textStyle;if(!s||(0,ij.c2)(o,s)&&!a)return;let l={isForceReconcile:a};for(let r of(cF(s.style,(r,n)=>{i.guard(()=>{e.writeProperty(r,n,l)})}),null!=s.characters&&i.guard(()=>{e.writeProperty("characters",s.characters,l)}),s.ranges)){let{start:n,end:a,style:o}=r;cF(o,(r,o)=>{i.guard(()=>{e.writeTextRange(r,o,n,a,l)})})}}({oldVNode:r,newVNode:n,sceneNode:i,errorGuard:T,shouldForceReconcile:u.includes("characters")});for(let e=0;e<cU.length;e++){let r=cU[e];r in n.props&&C(r)}for(let e in n.props)cB.has(e)||cH.has(e)||C(e);if(!function(e,r){if(0===e.length)return;let n=rB.z.instance.get(r);if(!n)return;let i=!n.widgetVersionId;if(i&&0!==e.length){let r="\n\n * ";throw new nT(`Got the following errors when rendering the widget: ${r}${e.join(r)}`)}rW.trackValidationErrors(e,{isLocalWidget:i,widgetNodeID:r,pluginID:n.widgetId,widgetVersionID:n.widgetVersionId,widgetName:n.name})}(T.errors,e),(n.renderMetaData.width!==(null==r?void 0:r.renderMetaData.width)||n.renderMetaData.height!==(null==r?void 0:r.renderMetaData.height)||l!==d||n.renderMetaData.direction!==(null==r?void 0:r.renderMetaData.direction))&&function(e,r,n){if(!e)return;let i=e.renderMetaData.width,a=e.renderMetaData.height;if("number"==typeof i||"number"==typeof a){a2(e)&&("number"==typeof i&&("horizontal"===e.renderMetaData.direction&&r.writeProperty("primaryAxisSizingMode","FIXED"),"vertical"===e.renderMetaData.direction&&r.writeProperty("counterAxisSizingMode","FIXED")),"number"==typeof a&&("horizontal"===e.renderMetaData.direction&&r.writeProperty("counterAxisSizingMode","FIXED"),"vertical"===e.renderMetaData.direction&&r.writeProperty("primaryAxisSizingMode","FIXED")));let n="line"===e.type?0:.01;r.resize("number"==typeof i?i:r.getSize().width||.01,"number"==typeof a?a:r.getSize().height||n)}try{"fill-parent"===i?r.writeProperty("layoutSizingHorizontal","FILL"):"hug-contents"===i&&a2(e)&&r.writeProperty("layoutSizingHorizontal","HUG")}catch{"fill-parent"===i?"HORIZONTAL"===n?r.writeProperty("layoutGrow",1):"VERTICAL"===n&&(r.writeProperty("layoutAlign","STRETCH"),a2(e)&&r.writeProperty("primaryAxisSizingMode","FIXED")):"hug-contents"===i&&a2(e)&&("HORIZONTAL"===e.props.layoutMode?r.writeProperty("primaryAxisSizingMode","AUTO"):"VERTICAL"===e.props.layoutMode&&r.writeProperty("counterAxisSizingMode","AUTO"))}try{"fill-parent"===a?r.writeProperty("layoutSizingVertical","FILL"):"hug-contents"===a&&a2(e)&&r.writeProperty("layoutSizingVertical","HUG")}catch{"fill-parent"===a?"VERTICAL"===n?r.writeProperty("layoutGrow",1):"HORIZONTAL"===n&&(r.writeProperty("layoutAlign","STRETCH"),a2(e)&&r.writeProperty("primaryAxisSizingMode","FIXED")):"hug-contents"===a&&a2(e)&&("HORIZONTAL"===e.props.layoutMode?r.writeProperty("counterAxisSizingMode","AUTO"):"VERTICAL"===e.props.layoutMode&&r.writeProperty("primaryAxisSizingMode","AUTO"))}}(n,i,l),["x","y"].forEach(e=>{var i,a;let o=null==(i=n.renderMetaData)?void 0:i[e];o!==(r?null==(a=r.renderMetaData)?void 0:a[e]:void 0)&&w(e,o,{isForceReconcile:!1})}),(0,ij.c2)(n.renderMetaData.constraints,null==r?void 0:r.renderMetaData.constraints)||function(e,r,n,i=!1){let a,o,s,l,d,c;if(!e)return;let{xConstraint:u,yConstraint:p}=e.renderMetaData.constraints??{},h={horizontal:"MIN",vertical:"MIN"},m=()=>(a||(a=r.getSize()),a),g=()=>(o||(o=n.getSize()),o);if(u)switch(u.type){case"left":"number"==typeof u.offset&&(d=u.offset);break;case"right":"number"==typeof u.offset&&(h.horizontal="MAX",d=g().width-u.offset-m().width);break;case"center":"number"==typeof u.offset&&(h.horizontal="CENTER",d=g().width/2-m().width/2+u.offset);break;case"left-right":"number"==typeof u.leftOffset&&"number"==typeof u.rightOffset&&(h.horizontal="STRETCH",s=g().width-u.leftOffset-u.rightOffset,d=u.leftOffset);break;case"horizontal-scale":if("number"==typeof u.leftOffsetPercent&&"number"==typeof u.rightOffsetPercent){if(!(0<=u.leftOffsetPercent&&u.leftOffsetPercent<=100&&0<=u.rightOffsetPercent&&u.rightOffsetPercent<=100&&u.leftOffsetPercent+u.rightOffsetPercent<=100))throw new nT(`Invalid percentages left=${u.leftOffsetPercent}, right=${u.rightOffsetPercent}`);h.horizontal="SCALE";let e=u.leftOffsetPercent+u.rightOffsetPercent;s=g().width*((100-e)/100),d=g().width*u.leftOffsetPercent/100}}if(p)switch(p.type){case"top":"number"==typeof p.offset&&(c=p.offset);break;case"bottom":"number"==typeof p.offset&&(h.vertical="MAX",c=g().height-p.offset-m().height);break;case"center":"number"==typeof p.offset&&(h.vertical="CENTER",c=g().height/2-m().height/2+p.offset);break;case"top-bottom":"number"==typeof p.topOffset&&"number"==typeof p.bottomOffset&&(h.vertical="STRETCH",l=g().height-p.topOffset-p.bottomOffset,c=p.topOffset);break;case"vertical-scale":if("number"==typeof p.topOffsetPercent&&"number"==typeof p.bottomOffsetPercent){if(!(0<=p.topOffsetPercent&&p.topOffsetPercent<=100&&0<=p.bottomOffsetPercent&&p.bottomOffsetPercent<=100&&p.topOffsetPercent+p.bottomOffsetPercent<=100))throw new nT(`Invalid percentages top=${p.topOffsetPercent}, bottom=${p.bottomOffsetPercent}`);h.vertical="SCALE";let e=p.topOffsetPercent+p.bottomOffsetPercent;l=g().height*((100-e)/100),c=g().height*p.topOffsetPercent/100}}void 0!==d&&r.writeProperty("x",d),void 0!==c&&r.writeProperty("y",c),(s||l)&&r.resize(s??m().width,l??m().height),(i||"MIN"!==h.horizontal||"MIN"!==h.vertical)&&r.writeProperty("constraints",h)}(n,i,a,!0),cV.forEach(e=>{n.props[e]!==(r?r.props[e]:void 0)&&w(e,n.props[e])}),"text"===n.type&&g.add(i.getID()),!n.renderMetaData.children)return i;let A=(null==(f=null==r?void 0:r.renderMetaData)?void 0:f.children)?a1(null==(_=null==r?void 0:r.renderMetaData)?void 0:_.children):[],N=a1(null==(y=null==n?void 0:n.renderMetaData)?void 0:y.children,c),O=i.children;for(let a=0;a<N.length;a++)cK({widgetNodeID:e,newVNode:N[a],oldVNode:A[a],figmaNode:O[a],indexInParent:a,dataURIToImgInfo:s,newParentDirection:n.props.layoutMode??l,oldParentDirection:(null==(E=null==r?void 0:r.props)?void 0:E.layoutMode)??d,figmaParent:i,runtime:c,forceReconcileProps:cY(n),vNodeParentType:n.type,tracking:p,inputNodes:m,textNodes:g});if("inputframe"===n.type&&m.add(i.getID()),O.length>N.length){let e=O.length-N.length;for(;e>0;)i.children[i.children.length-1].remove(),e--}return i}function cj(e,r){if(r){let{width:n,height:i}=r;e.renderMetaData.width=e.renderMetaData.width??n,e.renderMetaData.height=e.renderMetaData.height??i}else e.renderMetaData.width&&e.renderMetaData.height?(e.renderMetaData.width=e.renderMetaData.width,e.renderMetaData.height=e.renderMetaData.height):e.props.visible=!1}function cY(e){return"inputframe"===e.type?["characters","visible"]:[]}function c$(){return new Promise(e=>{requestAnimationFrame(()=>e())})}class cq{constructor(e,r=c$){this.renderFn=e,this.wait=r,this.currentTask=null,this.isRendering=!1,this.needsReschedule=!0,this.shouldReschedule=!0}schedule(){lm.z.renderWasScheduled(),this.isRendering&&(this.needsReschedule=!0),this.currentTask||(this.needsReschedule=!1,this.currentTask=(async()=>{await this.wait(),this.shouldReschedule&&(this.isRendering=!0,await this.renderFn(),this.isRendering=!1,this.currentTask=null,this.needsReschedule&&this.shouldReschedule&&this.schedule())})())}async waitForFinish(){if(!this.currentTask)return!1;for(;this.currentTask;)await this.currentTask;return!0}getCurrentTask(){return this.currentTask}clear(){this.shouldReschedule=!1}}let cZ=new Set,cX=new Set;function cJ(e,r){r?cX.add(e):cX.delete(e)}class cQ{constructor(e,r,n){this.vm=e,this.pluginId=r,this.runtimeBridge=n,this.widgetFunction=void 0,this.currentWidgetId=null,this.renderingStateById=new Map,this.promiseManager=new ck,this.lifecycleCommand=null,this.isCanceled=!1,this.isCleared=!1,this.shutdownActions=[],cZ.add(this)}get numTrackedPromises(){return this.promiseManager.numPromises}trackPromise(e){return this.promiseManager.manage(e)}isRunningWidgetFunction(){return!!this.currentWidgetId}runSyncedStateDefaultValueFunction(e){let r=this.currentWidgetId;this.currentWidgetId=null,this.reenableUnsafeGlobals(),e(),this.currentWidgetId=r,this.disableUnsafeGlobalsForRender()}getCurrentWidgetNodeId(){if(!this.currentWidgetId)throw Error("Not actively rendering widget");return this.currentWidgetId}getPluginRuntimeBridge(){return this.runtimeBridge}getRenderingState(e){let r=this.renderingStateById.get(e);if(!r)throw Error("Widget rendering state not found");return r}registerWidgetFunction(e){this.vm.retainHandle(e),this.widgetFunction=e}addEffect(e){var r;if((null==(r=this.lifecycleCommand)?void 0:r.name)==="rerender")return;let n=this.getCurrentWidgetNodeId();this.getRenderingState(n).effectManager.addEffect(e)}runEffects(e){this.getRenderingState(e).effectManager.runEffects()}scheduleRender(e,r=!1){if(!this.widgetFunction)throw Error("Widget has not been registered");this.initializeRenderingState(e),this.getRenderingState(e).renderScheduler.schedule()}maybeRunEffects(e){let r=this.getRenderingState(e).effectManager;r.hasRunEffects||r.runEffects()}setPropertyMenu({propertyMenuDefinitionHandle:e,propertyMenuCallbackHandle:r}){let n=this.getCurrentWidgetNodeId(),i=this.getRenderingState(n);if(i.propertyMenuHookCalled)throw new nT("usePropertyMenu called multiple times");i.propertyMenuHookCalled=!0;let a=(0,n_.BK)({vm:this.vm,handle:e,schema:d9,property:"usePropertyMenu.args[0]"}).map(e=>{if("dropdown"===e.itemType){let r=e.options.map(e=>({option:e.option,tooltip:e.label}));return{...e,options:r}}return e});if(a.forEach((e,r)=>{"color-selector"===e.itemType?function(e,r){let n=e.options.map(e=>e.option),i=`usePropertyMenu.args[0][${r}]`;ce(e.options,e.selectedOption,r);let a=e=>e.match("^#(?:[0-9a-fA-F]{3}){1,2}$");if(0!==n.filter(e=>!a(e)).length)throw new nT(`${i}.options do not have valid hexcode strings.`)}(e,r):"dropdown"===e.itemType&&ce(e.options,e.selectedOption,r)}),i.propertyMenuDefinition=a,!this.vm.isFunction(r))throw new nT("usePropertyMenu.args[1] must be a function");this.vm.retainHandle(r),i.propertyMenuCallbackHandle=r}setIsStickable(e){let r=this.getCurrentWidgetNodeId(),n=this.getRenderingState(r);if(null!==n.stickableState.isStickable)throw new nT("useStickable or useStickableHost called multiple times. You can only call one of them once per widget.");n.stickableState.isStickable=!0,this.vm.isFunction(e)&&(n.stickableState.stuckStatusChangedHandle=e,this.vm.retainHandle(e))}setIsStickableHost(e){let r=this.getCurrentWidgetNodeId(),n=this.getRenderingState(r);if(null!==n.stickableState.isStickable)throw new nT("useStickable or useStickableHost called multiple times. You can only call one of them once per widget.");n.stickableState.isStickable=!1,this.vm.isFunction(e)&&(n.stickableState.attachedStickablesChangedHandle=e,this.vm.retainHandle(e))}setShouldHideCursors(e){let r=this.getCurrentWidgetNodeId(),n=this.getRenderingState(r);if(null!==n.shouldHideCursors)throw new nT("useHideCursors called multiple times. You can only call it once per widget.");let i=(0,n_.BK)({vm:this.vm,handle:e,schema:n_.By.bool,property:"useHideCursors.args[0]"});n.shouldHideCursors=i}getPropertyMenuDefinition(e){return this.getRenderingState(e).propertyMenuDefinition||[]}getPropertyMenuCallbackHandle(e){return this.getRenderingState(e).propertyMenuCallbackHandle||null}getRenderMode(e){return this.getRenderingState(e).renderMode}initializeRenderingState(e){if(!this.renderingStateById.get(e)){let r={renderMode:"current",propertyMenuHookCalled:!1,propertyMenuCallbackHandle:null,propertyMenuDefinition:[],effectManager:new lg(this.vm),oldVRoot:null,stickableState:{isStickable:null,stuckStatusChangedHandle:null,attachedStickablesChangedHandle:null},shouldHideCursors:null,renderScheduler:new cq(async()=>{var n,i,a;try{let i=rB.z.instance.get(e);if(!i)return;let a=null,o=(0,t0.Gc)(i),s=(null==(n=null==o?void 0:o.manifest.networkAccess)?void 0:n.allowedDomains)??sC.gH,{imgInfoMap:l,vRoot:d}=await a3(()=>{if(!rB.z.instance.get(e))throw new nC("Could not find widget node in renderWidgetTree");return a&&(0,ij.c2)(a.syncedState,i.getWidgetSyncedState())||(a=this.renderWidgetTree(e,"current")),a},this.getPluginRuntimeBridge(),s);r.oldVRoot&&!(0,ij.c2)(r.oldVRoot.syncedState,i.renderedSyncedState)&&(r.oldVRoot=this.renderWidgetTree(e,"previous"));let c=window.performance.now();cJ(e,!0),function({widgetNodeID:e,newVRoot:r,oldVRoot:n,propertyMenuDefinition:i,runtime:a,imgInfoMap:o,stickableState:s,shouldHideCursors:l}){let d=rB.z.instance.get(e);if(!d)return;let c=function(e,r,n){if(!e)return null;let i=r.children[0];return r.children.length>1?{type:"more_than_one_root"}:!i&&e.rootNode?{type:"no_root"}:function e(r,i){(0,S.vA)(!!i);let a=r.getType();if(!function(e,r){if(!r)return!1;switch(e){case"span":case"fragment":return!1;case"frame":case"autolayout":case"svg":case"inputframe":return"FRAME"===r;case"line":return"LINE"===r;case"input":case"text":return"TEXT"===r;case"rectangle":return"RECTANGLE"===r||"ROUNDED_RECTANGLE"===r;case"ellipse":return"ELLIPSE"===r;case"instance":return"INSTANCE"===r;default:(0,S.xb)(e)}}(i.type,a))return{type:"node_type_mismatch",nodeID:r.getID(),expectedType:i.type,actualType:a??""};if("text"===i.type){let e=r.getFontName(),n=function(e){let r=e.renderMetaData.textStyle;if(!r)return null;let n=r.style.fontName??null;if(1===r.ranges.length){let e=r.ranges[0];if(0===e.start&&e.end===r.characters.length)return e.style.fontName??n}return n}(i);if(n&&(n.family!==e.family||n.style!==e.style))return{type:"node_font_mismatch",nodeID:r.getID(),expectedFont:n,actualFont:e}}if("frame"===i.type||"autolayout"===i.type){let a=a1(i.renderMetaData.children??[],n).filter(Boolean),o=r.children;if(a.length!==o.length)return{type:"child_count_mismatch",nodeID:r.getID()};for(let r=0;r<a.length;r++){let n=e(o[r],a[r]);if(n)return n}}return null}(i,e.rootNode)}(n,a.getSceneNodeAdapter(d.guid),a);if(c){n=null;let r=new nT("Scene has diverged from the expected state. "+("figma"===(0,t0.T)()?"This is either because you have manually edited widget sublayers in Figma, or because of a bug in the widget. If the latter, your render function is likely non-deterministic. ":"This is likely a bug in the widget. Your render function is likely non-deterministic.")+"Here is more info: \n\n"+function(e){switch(e.type){case"more_than_one_root":return"Widget on canvas has more children at the root than expected";case"no_root":return"Widget on canvas is missing a child at the root";case"node_type_mismatch":return`Child of a widget node doesn't match the expected type from render. Expected ${e.expectedType} but got ${e.actualType}. Node ID: ${e.nodeID}`;case"node_font_mismatch":return`Child of a widget node doesn't match the expected font from render. Expected ${JSON.stringify(e.expectedFont)} but got ${JSON.stringify(e.actualFont)}. Node ID: ${e.nodeID}`;case"child_count_mismatch":return`Widget sub-node has different number of children than expected. Node ID: ${e.nodeID}`;default:(0,S.xb)(e)}}(c)),i=!d.widgetVersionId;console.warn(r),rW.trackSceneDivergenceError(r,{isLocalWidget:i,widgetNodeID:e,pluginID:d.widgetId,widgetVersionID:d.widgetVersionId,widgetName:d.name})}if(!n)for(;d.reversedChildrenGuids.length;){let e=rB.z.instance.get(d.reversedChildrenGuids[0]);rL.l7.plugin("widget-reconciliation",()=>null==e?void 0:e.removeSelfAndChildren())}let u=d.reversedChildrenGuids[0]?a.getSceneNodeAdapter(d.reversedChildrenGuids[0]):null;cx.startReconciliation(d.widgetId);let p=new Set,h=new Set;rL.l7.plugin("widget-reconciliation",()=>{cK({widgetNodeID:e,oldVNode:null==n?void 0:n.rootNode,newVNode:r.rootNode,indexInParent:0,dataURIToImgInfo:o,newParentDirection:"NONE",oldParentDirection:"NONE",figmaParent:a.getSceneNodeAdapter(d.guid),figmaNode:u,runtime:a,forceReconcileProps:cY(r.rootNode),tracking:d.tracking,isRootNode:!0,inputNodes:p,textNodes:h}),"NONE"===d.stackMode&&(d.stackMode="VERTICAL",d.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",d.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"),cW({inputNodes:p,textNodes:h}),d.setWidgetPropertyMenuItems(i.map(e=>({...e,itemType:e.itemType.toUpperCase().replace("-","_")}))),cx.logAndClear(),d.isForcedStickable=(null==s?void 0:s.isStickable)??!1,d.shouldHideCursorsOnWidgetHover=l??!1;let c=[];(null==s?void 0:s.attachedStickablesChangedHandle)&&c.push("ATTACHED_STICKABLES_CHANGED"),(null==s?void 0:s.stuckStatusChangedHandle)&&c.push("STUCK_STATUS_CHANGED"),d.widgetEvents=c})}({widgetNodeID:e,newVRoot:d,oldVRoot:r.oldVRoot,propertyMenuDefinition:this.getPropertyMenuDefinition(e),runtime:this.getPluginRuntimeBridge(),imgInfoMap:l,stickableState:r.stickableState,shouldHideCursors:r.shouldHideCursors}),rL.l7.plugin("set-rendered-synced-state",()=>i.renderedSyncedState=i.getWidgetSyncedState());let u=window.performance.now()-c;r.oldVRoot=a,lm.z.didReconciliation(u),this.runEffects(e)}catch(n){if(n instanceof nC)return;let r="";if(n instanceof nT||(0,O.b5)()?(console.error(n),r=n.message):n instanceof nw||("string"==typeof n&&(n=Error(n)),(0,L.$D)(D.e.EXTENSIBILITY,n)),this.isFirstPartyWidget()?(0,L.$D)(D.e.EXTENSIBILITY,n):this.vm.evalTrustedCode(`throw "An error occurred while running this widget ${r?`- '${r}'`:""}"`),(null==(i=this.lifecycleCommand)?void 0:i.name)==="mount"&&(null==(a=this.lifecycleCommand)?void 0:a.isInsert)){let r=rB.z.instance.get(e);r&&rL.l7.plugin("remove-widget-after-first-render",()=>r.removeWidgetWithoutSafetyChecks())}}finally{requestAnimationFrame(()=>{cJ(e,!1)})}})};this.renderingStateById.set(e,r)}}isFirstPartyWidget(){return(0,lh.Vi)(this.pluginId)}disableUnsafeGlobalsForRender(){if(this.isFirstPartyWidget())return;let e=this.vm.evalTrustedCode(`
      (() => {
        let originalRand = Math.random
        Math.random = () => {
          throw new Error("Math.random is not allowed in a widget's render function")
        }
        return () => {Math.random = originalRand}
      })()
      `);(0,S.vA)("SUCCESS"===e.type),this.vm.retainHandle(e.handle),this.reenableUnsafeGlobalsHandle=e.handle}reenableUnsafeGlobals(){this.isValidFunctionHandle(this.reenableUnsafeGlobalsHandle)&&(this.vm.callFunction(this.reenableUnsafeGlobalsHandle,this.vm.undefined),this.vm.releaseHandle(this.reenableUnsafeGlobalsHandle),this.reenableUnsafeGlobalsHandle=void 0)}renderWidgetTree(e,r){var n;if(!this.widgetFunction)throw Error("Widget has not been registered");try{this.initializeRenderingState(e);let i=this.getRenderingState(e);this.releaseRenderingStateHandles(i),i.effectManager.clear(),i.propertyMenuHookCalled=!1,i.propertyMenuDefinition=[],i.propertyMenuCallbackHandle=null,i.renderMode=r,i.shouldHideCursors=null,i.stickableState={isStickable:null,attachedStickablesChangedHandle:null,stuckStatusChangedHandle:null};let a=window.performance.now();this.currentWidgetId=e;let o=rB.z.instance.get(e),s="current"===r?o.getWidgetSyncedState():o.renderedSyncedState,l=!o.widgetVersionId;this.disableUnsafeGlobalsForRender();let d=this.vm.callFunction(this.widgetFunction,this.vm.undefined);if(this.reenableUnsafeGlobals(),this.currentWidgetId=null,"FAILURE"===d.type)throw this.vm.releaseHandle(this.widgetFunction),new nw(d.error);let c=d.handle,u=window.performance.now(),p=this.vm.deepUnwrap(c,!0),h=(0,t0.Gc)(o),m=(null==(n=null==h?void 0:h.manifest)?void 0:n.widgetApi)??"1.0.0",g=cD(p,{isLocalWidget:l,widgetNodeID:e,pluginID:o.widgetId,widgetVersionID:o.widgetVersionId,widgetName:o.name,widgetApiVersion:m,enableFullJsx:!1}),f=window.performance.now();return lm.z.didRender(f-a,f-u),h&&h.name&&rL.l7.plugin("set-widget-name",()=>{o.widgetName=h.name}),{rootNode:g,syncedState:s}}finally{this.currentWidgetId=null,this.getRenderingState(e).renderMode="current"}}async waitForFinish(e={fromClosePlugin:!1}){if(this.isCanceled)return;let r=!0;for(;r;){for(let[,{renderScheduler:e}]of(r=!1,this.renderingStateById))r=await e.waitForFinish()||r;(null==e?void 0:e.fromClosePlugin)||(r=await this.promiseManager.waitForFinish()||r)}}clear(){if(!this.isCleared){for(let[,e]of(this.isCleared=!0,this.isValidFunctionHandle(this.widgetFunction)&&this.vm.releaseHandle(this.widgetFunction),this.renderingStateById))e.renderScheduler.clear(),e.effectManager.clear(),this.releaseRenderingStateHandles(e);this.isValidFunctionHandle(this.reenableUnsafeGlobalsHandle)&&this.vm.releaseHandle(this.reenableUnsafeGlobalsHandle),this.renderingStateById=new Map,this.currentWidgetId=null,this.widgetFunction=void 0,cZ.delete(this),this.runShutdownActions()}}runShutdownActions(){let e=null;for(let r of this.shutdownActions)try{r()}catch(r){e||(e=r),console.error(`runShutdownActions error: ${r}`)}if(this.shutdownActions=[],e)throw e}setOldVRoot(e,r){this.getRenderingState(e).oldVRoot=r}getLifecycleCommand(){return this.lifecycleCommand}setLifecycleCommand(e){this.lifecycleCommand=e}addShutdownAction(e){if(this.isCleared)throw Error("Cannot add shutdown action after widget manager has been cleared");this.shutdownActions.push(e)}isValidFunctionHandle(e){return!!(e&&!this.vm.isDestroyed()&&this.vm.isFunction(e))}releaseRenderingStateHandles(e){let r=e.propertyMenuCallbackHandle;this.isValidFunctionHandle(r)&&this.vm.releaseHandle(r);let{attachedStickablesChangedHandle:n,stuckStatusChangedHandle:i}=e.stickableState;this.isValidFunctionHandle(n)&&this.vm.releaseHandle(n),this.isValidFunctionHandle(i)&&this.vm.releaseHandle(i)}}function c0(e,r,n){e.isEqual(e.undefined,e.getProp(e.global,"alert"))&&e.defineFunction(e.global,"alert","alert",r=>{let i=e.toString(r);return alert(i=""!==n?`From the plugin "${n}":

${i}`:`From the current plugin:

${i}`),e.undefined})}function c1({vm:e,callerName:r,nodes:n,parentArg:i,indexArg:a,getNode:o}){if(!e.isArray(n))throw Error(`First argument to ${r}() must be an array`);let s=e.getNumberProp(n,"length");if(s<1)throw Error(`First argument to ${r}() must be an array of at least one node`);let l=[];for(let r=0;r<s;r++){let i=e.getProp(n,r.toString());l.push(o(i).guid)}let d=e.isUndefined(i)?void 0:o(i),c=-1;return e.isUndefined(a)||(c=(0,n_.u)({vm:e,handle:a,vmSchema:n_.By.integer.min(0),zSchema:h.PositiveInteger,property:`${r} index`})),{nodeIds:l,parent:d,index:c}}let c2=new Set(["codegen","related-link-preview","textreview"]),c3=new Set(["codegen","linkpreview","textreview"]),c5=n_.By.exact({origin:n_.By.string.isOptional}).isOptional,c4=F.object({origin:F.string().optional()}).optional(),c6=["close","selectionchange","currentpagechange","drop","run","documentchange","textreview"].concat(["timerstart","timerstop","timerpause","timerresume","timerdone","timeradjust"]),c8=[],c7=["message"],c9=["input"];class ue{constructor(e,r){if(this.vm=e,this.options=r,this.visualBellCounter=0,this.eventHandlers=new Map,this.eventHandlerTimeouts=new Map,this.scheduledEvents=new Map,this.runningSyncEvent=null,this.previousSelection=[],this.previousSelectedTextRangeJson="null",this.onMessageCallback=void 0,this.queryMode=!1,this.checkoutRequested=!1,this.ignoreEditActions=!1,this.widgetManager=void 0,this.skipInvisibleInstanceChildren=!1,this.getNode=e=>{let r=this.vm,n=this.privateSceneGraph;if(!r.isObject(e))throw Error(`Expected node, got ${r.isNull(e)?"null":r.typeof(e)}`);let i=r.getProp(e,"id");if(!r.isString(i))throw Error(`Expected node id to be a string, got ${r.typeof(i)}`);let a=r.toString(i);if((0,rV.M7)(a)){let e=this.styleManager.get(a);if(void 0===e)throw new oe(`The style with id ${JSON.stringify(a)} does not exist`);return e}if(nm.fn(a)){let e=nm.sH(a),r=n.getVariable(e);if(void 0===r)throw new oe(`The variable with id ${JSON.stringify(a)} does not exist`);return r}if(U.gr.isValid(a)){let e=nM.sH(a),r=n.getVariableCollection(e);if(void 0===r)throw new oe(`The variable collection with id ${JSON.stringify(a)} does not exist`);return r}if(rP.NfO.isDeveloperFriendlyIdAGuidPath(a)){let e=n.guidFromDeveloperFriendlyId(a),r=e?n.get(e):void 0;if(void 0===r)throw new oe(`The node (instance sublayer or table cell) with id ${JSON.stringify(a)} does not exist`);return r}{let e=or(a,n);if(e.isInWidget&&!((0,O.kc)().widgets_children_trait_for_test||"scopednoopvm"===r.vmType))throw new oe(`The node (instance sublayer) with id ${JSON.stringify(a)} does not exist`);return e}},this.ignoreEditActionsScope=e=>{try{return this.ignoreEditActions=!0,e()}finally{this.ignoreEditActions=!1}},this.defineVmIncrementalProp=({handle:e,key:r,metricsKey:n,enumerable:i,incrementalSafeApiKey:a,incrementalSafeApiMetricsKey:o,incrementalSafeApiSetKey:s,incrementalSafeApiSetMetricsKey:l,canWriteInReadOnly:d,parseThis:c,parseIncrementalValueArg:u,prepareDocument:p,resolveValue:h,resolveValueIncremental:m,retainGetter:g,setValue:f,setValueIncremental:_,incrementalSafeApi:y,allowIncrementalUnsafeApiCalls:E,isAllowedInWidgetRender:b=!0,hasEditScope:v=!0})=>{let S=this.vm;this.defineVmProp({handle:e,key:r,options:{metricsKey:n,enumerable:i,get:function(){return y&&o&&!g&&(0,n0.xc)(E,n,o),h(c(this))},set:f?function(e){return y&&_&&(0,n0.xc)(E,`${n} =`,l),f(c(this),e)}:void 0},canWriteInReadOnly:d,isAllowedInWidgetRender:b,hasEditScope:v}),a&&o&&this.defineVmFunction({handle:e,key:a,metricsKey:o,cb:function(){let e=c(this),{promise:r,resolve:n,reject:i}=S.newPromise();return S.registerPromise(p(e)).then(()=>{m?n(m(e)):n(h(e))}).catch(e=>{i(S.newString(e.message))}),r},isAllowedInReadOnly:!0,isAllowedInWidgetRender:b,hasEditScope:v}),s&&l&&_&&u&&this.defineVmFunction({handle:e,key:s,metricsKey:l,cb:function(e){let r=c(this),n=u(e),{promise:i,resolve:a,reject:o}=S.newPromise();return S.registerPromise(p(r)).then(()=>{rL.l7.plugin(s,()=>{_(r,n),a(S.undefined)})}).catch(e=>{o(S.newString(e.message))}),i},isAllowedInReadOnly:!1,isAllowedInWidgetRender:b,hasEditScope:v})},this.defineVmFunction=({handle:e,key:r,metricsKey:n,cb:i,isAllowedInReadOnly:a,isAllowedInWidgetRender:o=!0,hasEditScope:s=!0})=>{let l=this;this.vm.defineFunction(e,r,n,function(e,n,d,c,u){var p;if((null==(p=l.widgetManager)?void 0:p.isRunningWidgetFunction())&&l.shouldLockDownPluginApiForWidgets()&&!o&&l.handleLockDownPluginApiError(`Widget Rendering Error: Cannot use "${r}" during widget rendering.`),l.isReadOnlyMode()&&!a)throw Error(`Can't call "${r}" in read-only mode`);let h=!a&&!l.ignoreEditActions;h&&q.wt.reportEditAction(`plugin-${r}`);let m=r;return"setPluginData"===r||h||(m+="__LEGACY_UNBILLED"),l.conditionalEditScope(s,m,()=>i.call(this,e,n,d,c,u))})},this.defineVmIncrementalFunction=({handle:e,key:r,metricsKey:n,incrementalSafeApiKey:i,incrementalSafeApiMetricsKey:a,parseArg:o,prepareDocument:s,resolveValue:l,isAllowedInReadOnly:d,incrementalSafeApi:c,allowIncrementalUnsafeApiCalls:u,isAllowedInWidgetRender:p=!0,hasEditScope:h=!0})=>{this.defineVmFunction({handle:e,key:r,metricsKey:n,cb:e=>(c&&a&&(0,n0.xc)(u,n,a),l(o(e))),isAllowedInReadOnly:d,isAllowedInWidgetRender:p,hasEditScope:h}),this.defineVmFunction({handle:e,key:i,metricsKey:a,cb:e=>{let r=o(e),{promise:n,resolve:i,reject:a}=this.vm.newPromise();return this.vm.registerPromise(s(r)).then(()=>{i(l(r))}).catch(e=>{a(this.vm.newString(e.message))}),n},isAllowedInReadOnly:d,isAllowedInWidgetRender:p,hasEditScope:h})},this.defineVmIncrementalMethod=({handle:e,key:r,metricsKey:n,incrementalSafeApiKey:i,incrementalSafeApiMetricsKey:a,parseThis:o,parseArg:s,prepareDocument:l,resolveValue:d,isAllowedInReadOnly:c,incrementalSafeApi:u,allowIncrementalUnsafeApiCalls:p,isAllowedInWidgetRender:h,hasEditScope:m})=>{let g=this.vm;this.defineVmFunction({handle:e,key:r,metricsKey:n,cb:function(e,r,i,l,c){u&&(0,n0.xc)(p,n,a);let h=o(this),m=s(h,e,r,i,l,c);return d(h,m)},isAllowedInReadOnly:c,isAllowedInWidgetRender:h,hasEditScope:m}),this.defineVmFunction({handle:e,key:i,metricsKey:a,cb:function(e,r,n,a,c){let u=o(this),p=s(u,e,r,n,a,c),{promise:h,resolve:m,reject:f}=g.newPromise();return g.registerPromise(l(u,p)).then(()=>{m(rL.l7.plugin(i,()=>d(u,p)))}).catch(e=>{f(g.newString(e.message))}),h},isAllowedInReadOnly:c,isAllowedInWidgetRender:h,hasEditScope:m})},this.defineVmProp=({handle:e,key:r,options:n,canWriteInReadOnly:i,isAllowedInWidgetRender:a=!0,hasEditScope:o=!0})=>{let{get:s,set:l}=n,d={...n},c=this;s&&(d.get=function(){var e;return(null==(e=c.widgetManager)?void 0:e.isRunningWidgetFunction())&&c.shouldLockDownPluginApiForWidgets()&&!a&&c.handleLockDownPluginApiError(`Widget Rendering Error: Cannot use "${r}" during widget rendering.`),s.call(this)}),l&&(d.set=function(e){var n;if((null==(n=c.widgetManager)?void 0:n.isRunningWidgetFunction())&&c.shouldLockDownPluginApiForWidgets()&&!a&&c.handleLockDownPluginApiError(`Widget Rendering Error: Cannot use "${r}" during widget rendering.`),c.isReadOnlyMode()&&!i)throw Error(`Can't set "${r}" in read-only mode`);let s=!i&&!c.ignoreEditActions;s&&q.wt.reportEditAction(`plugin-${r}`);let d=r;return"setPluginData"===r||s||(d+="__LEGACY_UNBILLED"),c.conditionalEditScope(o,d,()=>l.call(this,e))}),this.vm.defineProp(e,r,d)},this.addEventHandler=(e,r,n,i,a)=>{let o;if(this.options.stats.increment(i?`${a}.once.${r}`:`${a}.on.${r}`),!this.vm.isFunction(n))throw Error(`${r} handler must be a function`);let s=this.eventHandlers.get(r)||[],l=s.length;if(!l&&"documentchange"===r){if(this.options.incrementalSafeApi&&this.documentAccessState.getIsIncrementalMode()){if(this.options.allowIncrementalUnsafeApiCalls)console.warn("To ensure consistent results for documentchange handler, call `await figma.loadAllPagesAsync()` first.");else throw Error("Cannot register documentchange handler in incremental mode without calling figma.loadAllPagesAsync first.")}(0,rY.Mw)(this.documentChangeCallback)}if(l||"stylechange"!==r||this.vm.registerPromise((0,n0.Ux)(this.documentAccessState)).then(()=>{(0,rY.iP)(this.styleChangeCallback)}).catch(e=>{throw Error(`Cannot register stylechange handler: ${e.message}`)}),"nodechange"===r){let r=this.getNode(e);if("CANVAS"!==r.type)throw Error("Cannot register nodechange handler on non-page node");o=r.guid,l||(0,rY.BT)(this.nodeChangeCallback)}s.push({handler:n,once:i,pageGuid:o}),this.eventHandlers.set(r,s),this.vm.retainHandle(n),l||"textreview"!==r||"textreview"!==this.options.command||(0,rY.Sx)(this.spellCheckCallback),l||"generate"!==r||(0,rY.oZ)(this.codegenCallback),this.options.isLocal||l||"codegen"!==r||(0,rY.oZ)(this.legacyCodegenCallback),l||"linkpreview"!==r||(0,rY.OD)(this.linkPreviewCallback),l||"auth"!==r||(0,rY.ME)(this.authCallback),l||"open"!==r||(0,rY.B_)(this.devResourceOpenCallback);let d=this.scheduledEvents.get(r);d&&d()},this.removeEventHandler=(e,r,n)=>{let i=this.eventHandlers.get(r);if(i){for(let a=i.length-1;a>=0;a--)if(this.vm.isEqual(i[a].handler,n)){if("nodechange"===r){let r=this.getNode(e);if(i[a].pageGuid!==r.guid)continue}i.splice(a,1),this.vm.releaseHandle(n),i.length||"nodechange"!==r||(0,rY.q$)(this.nodeChangeCallback),i.length||"stylechange"!==r||(0,rY.fd)(this.styleChangeCallback),i.length||"documentchange"!==r||(0,rY.b_)(this.documentChangeCallback);return}}},this.addEventHandlersTo=(e,r,n,i)=>{let a=n_.By.oneOf(r),o=this.vm,s=this.addEventHandler,l=this.removeEventHandler;this.defineVmFunction({handle:e,key:"on",metricsKey:null,cb:function(e,l){let d=(0,n_.u)({vm:o,handle:e,vmSchema:a,zSchema:n2.refine(e=>r.includes(e)),property:"eventName"});return s(this,d,l,!1,n),i&&i(d),o.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:e,key:"once",metricsKey:null,cb:function(e,l){let d=(0,n_.u)({vm:o,handle:e,vmSchema:a,zSchema:n2.refine(e=>r.includes(e)),property:"eventName"});return s(this,d,l,!0,n),i&&i(d),o.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:e,key:"off",metricsKey:null,cb:function(e,n){return l(this,(0,n_.u)({vm:o,handle:e,vmSchema:a,zSchema:n2.refine(e=>r.includes(e)),property:"eventName"}),n),o.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1})},this.selectionCallback=()=>{this.fireDebouncedEventAsync("selectionchange",()=>{let e=ud(this.privateSceneGraph).map(e=>e.guid),r=this.currentSelectedTextRangeJson();(0,v.lu)(this.previousSelection,e)&&this.previousSelectedTextRangeJson===r||this.fireEventSync("selectionchange",[]),this.previousSelection=e,this.previousSelectedTextRangeJson=r,rP.NfO.resetSelectionCouldBeDirty()})},this.pageCallback=()=>{this.fireDebouncedEventAsync("currentpagechange",()=>{this.fireEventSync("currentpagechange",[])})},this.codegenPreferencesChangeCallback=e=>{this.fireDebouncedEventAsync("preferenceschange",()=>{this.overrideRuntimeOptions({allowVisibleIframe:!0,defaultIframePosition:"codegen-default",iframeId:(0,sA.E)({triggeredFrom:"codegen"}),allowInitiateCheckout:!0},()=>{let r=this.vm.newObject();this.vm.setStringProp(r,"propertyName",e.propertyName),this.fireEventSync("preferenceschange",[r])})})},this.devResourceOpenCallback=e=>{this.fireEventSync("open",[this.vm.deepWrap(e)])},this.pluginPageLoaded=e=>{this.documentAccessState.addLoadedPageIds([e])},this.getAllAccessedGuids=()=>this.nodeFactory.nodeIds(),this.getAccessiblePages=()=>this.documentAccessState.getLoadedPages(),this.dropCallback=e=>{if(!e.dataTransfer)return!0;let r=[];for(let n=0;n<e.dataTransfer.items.length;n++){let i=e.dataTransfer.items[n];"string"===i.kind&&r.push({type:i.type,data:e.dataTransfer.getData(i.type)})}let n=this.createDropEvent({x:e.clientX,y:e.clientY},r,e.dataTransfer.files);return this.fireEventSyncWithReturn("drop",[n])},this.spellCheckCallback=this.createPromiseCallback({makeInputEvent:e=>{let r=this.vm.newObject();return this.vm.setProp(r,"text",this.vm.newString(e)),r},eventName:"textreview",resultSchema:nz.iC,zResultSchema:h.TextReviewResultSchema,defaultResult:[],rejectMessage:"Promise returned from 'textreview' event rejected. Unable to show text review suggestions."}),this.legacyCodegenCallback=this.createPromiseCallback({makeInputEvent:e=>{let r=this.vm.newObject(),n=this.nodeFactory.createNode(e,"codegen");return this.vm.setProp(r,"node",n),r},eventName:"codegen",resultSchema:nz.qm,zResultSchema:h.CodegenResultSchema,defaultResult:[],rejectMessage:"Promise returned from codegen event rejected. Unable to generate code."}),this.codegenCallback=this.createPromiseCallback({makeInputEvent:e=>{let r=this.vm.newObject(),n=this.nodeFactory.createNode(e,"generate");return this.vm.setProp(r,"node",n),this.vm.setProp(r,"language",this.vm.newString(this.getCodegenLanguage())),r},eventName:"generate",resultSchema:nz.qm,zResultSchema:h.CodegenResultSchema,defaultResult:[],rejectMessage:"Promise returned from codegen 'generate' event rejected. Unable to generate code."}),this.getChangeCallbackHandle=(e,r)=>{let n=this.vm.newArray();for(let i=0;i<r.length;i++){let a=this.vm.newObject(),o=r[i];o.type===rP.iIc.STYLE_PROPERTY_CHANGE||o.type===rP.iIc.STYLE_CREATE||o.type===rP.iIc.STYLE_DELETE?this.vm.setProp(a,"id",this.vm.newString(o.styleKey)):(o.type===rP.iIc.PROPERTY_CHANGE||o.type===rP.iIc.CREATE||o.type===rP.iIc.DELETE)&&this.vm.setProp(a,"id",this.vm.newString(o.devFriendlyId));let s=this.documentChangeTypeToString(o.type);if(this.vm.setProp(a,"origin",this.vm.newString(this.documentChangeOriginToString(o.origin))),this.vm.setProp(a,"type",this.vm.newString(s)),"PROPERTY_CHANGE"===s||"STYLE_PROPERTY_CHANGE"===s){let e=this.vm.newArray(),r=Array.from(o.properties);for(let n=0;n<r.length;n++)"strokeTopWeight"===r[n]?this.vm.setProp(e,String(n),this.vm.newString("stokeTopWeight")):this.vm.setProp(e,String(n),this.vm.newString(r[n]));this.vm.setProp(a,"properties",e)}if(o.type===rP.iIc.STYLE_PROPERTY_CHANGE||o.type===rP.iIc.STYLE_CREATE){let e=this.styleFactory.createStyle(o.styleKey);this.vm.setProp(a,"style",e)}else if(o.type===rP.iIc.STYLE_DELETE)this.vm.setProp(a,"style",this.vm.null);else if(o.type===rP.iIc.PROPERTY_CHANGE||o.type===rP.iIc.CREATE||o.type===rP.iIc.DELETE){let r;this.privateSceneGraph.get(o.id)?r=this.nodeFactory.createNode(o.id,e):(r=this.vm.newObject(),this.vm.setProp(r,"id",this.vm.newString(o.devFriendlyId)),this.vm.setProp(r,"type",this.vm.newString(o.nodeType)),this.vm.setProp(r,"removed",this.vm.newBoolean(!0)),this.vm.shallowFreezeObject(r)),this.vm.setProp(a,"node",r)}this.vm.setProp(n,String(i),a)}return n},this.documentChangeCallback=e=>{let r=this.getChangeCallbackHandle("documentchange",e),n=this.vm.newObject();this.vm.setProp(n,"documentChanges",r);try{rP.NfO.prepareToRunDocumentChangeCallback(),this.fireEventSync("documentchange",[n])}finally{rP.NfO.finishedRunningDocumentChangeCallback()}},this.styleChangeCallback=e=>{if(0===e.length)return;let r=this.getChangeCallbackHandle("stylechange",e),n=this.vm.newObject();this.vm.setProp(n,"styleChanges",r);try{rP.NfO.prepareToRunDocumentChangeCallback(),this.fireEventSync("stylechange",[n])}finally{rP.NfO.finishedRunningDocumentChangeCallback()}},this.nodeChangeCallback=e=>{for(let[r,n]of this.eventsByPageGuid(e)){if(0===n.length)continue;let e=this.getChangeCallbackHandle("nodechange",n),i=this.vm.newObject();this.vm.setProp(i,"nodeChanges",e);try{rP.NfO.prepareToRunDocumentChangeCallback(),this.fireEventSyncForPage("nodechange",r,[i])}finally{rP.NfO.finishedRunningDocumentChangeCallback()}}},this.linkPreviewCallback=this.createPromiseCallback({makeInputEvent:e=>{let r=this.vm.newObject();return this.vm.setProp(r,"link",this.vm.deepWrap(e)),r},eventName:"linkpreview",resultSchema:nz.hK,zResultSchema:h.LinkPreviewResultSchema,defaultResult:null,rejectMessage:"Promise returned from 'linkpreview' event rejected. Unable to generate preview."}),this.authCallback=this.createPromiseCallback({makeInputEvent:e=>{let r=this.vm.newObject();return this.vm.setProp(r,"links",this.vm.deepWrap(e)),r},eventName:"auth",resultSchema:nz.rt,zResultSchema:h.AuthResultSchema,rejectMessage:"Promise returned from 'auth' event rejected. Unable to authenticate.",defaultResult:null}),this.triggerParameterInputEvent=e=>{let r=this.vm;this.fireAsyncEventOrSchedule("input",()=>{let n=!1,i=r.newObject();r.defineFunction(i,"setSuggestions","result.setSuggestions",i=>{if(n)throw Error("setSuggestions or setError called multiple times on the same result object");let a=(0,n_.u)({vm:r,handle:i,vmSchema:nz.QS,zSchema:h.ParameterValues,property:"setSuggestions"}).map(e=>"string"==typeof e?{name:e,data:void 0}:e);return a.forEach(e=>{var r,n;if(void 0!==e.data&&function(e){(function e(r,n){if(r!==n){if(Array.isArray(r)&&Array.isArray(n)&&r.length===n.length){for(let i=0;i<r.length;i++)e(r[i],n[i]);return}if("[object Object]"===Object.prototype.toString.call(r)&&"[object Object]"===Object.prototype.toString.call(n)){for(let i in r)e(r[i],i in n?n[i]:Symbol("missing property"));return}throw Error(`Contains value which could not be serialized to JSON: ${r}`)}})(e,JSON.parse(JSON.stringify(e)))}(e.data),e.icon&&e.iconUrl)throw Error("Only icon or iconUrl may be provided. Not both.");if(((null==(r=JSON.stringify(e.data))?void 0:r.length)||0)+((null==(n=e.icon)?void 0:n.length)||0)>20480)throw Error("Total size of suggestion must be no greater than 20KB");if(e.iconUrl){let r=new URL(e.iconUrl);if(!["https:","http:"].includes(r.protocol))throw Error("Must be https or http URL");if(r.hostname.endsWith(".figma.com")||r.hostname.endsWith(".figma.com.")||"figma.com"===r.hostname||"figma.com."===r.hostname||r.hostname===window.location.hostname)throw Error("figma.com URLs not supported");e.iconUrl=r.href}}),e.onSuggestions({type:"SUGGESTIONS",suggestions:a}),n=!0,r.undefined}),r.defineFunction(i,"setError","result.setError",i=>{if(n)throw Error("setSuggestions or setError called multiple times on the same result object");if(e.currentParameter.allowFreeform)throw Error("setError not supported on allowFreeform parameters");let a=(0,n_.u)({vm:r,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"message"});return e.onSuggestions({type:"ERROR",message:a}),n=!0,r.undefined}),r.defineFunction(i,"setLoadingMessage","result.setLoadingMessage",i=>{let a=(0,n_.u)({vm:r,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"message"});return n||e.onSuggestions({type:"LOADING",message:a}),r.undefined}),r.shallowFreezeObject(i);let a=uc(e.parameterValues),o=r.newObject();r.setStringProp(o,"query",e.currentSearchQuery),r.setStringProp(o,"key",e.currentParameter.key),r.setProp(o,"parameters",r.deepWrap(a)),r.setProp(o,"result",i),this.fireEventSync("input",[o])})},this.triggerRunEvent=e=>{this.setQueryMode(!1),this.triggerOrScheduleRunEvent(e)},this.triggerOrScheduleRunEvent=e=>{this.options.stats.setRunParameters(e),this.fireAsyncEventOrSchedule("run",()=>{let r=this.vm,n=this.options.command;this.fireDebouncedEventAsync("run",()=>{let i=r.newObject();r.setProp(i,"command",r.newString(n)),"parameters"===e.command?e.parameters?r.setProp(i,"parameters",r.deepWrap(uc(e.parameters))):(0,r9.qW)(this.options.pluginID)&&r.setProp(i,"parameters",r.deepWrap((0,r9.TP)(this.options.pluginID))):("open-related-link"===e.command||"open-dev-resource"===e.command)&&r.setProp(i,"link",r.deepWrap(e.link)),r.shallowFreezeObject(i),this.fireEventSync("run",[i])})})},this.requestCheckoutCallback=async()=>{try{await this.initiateCheckoutAsyncImpl();let e=this.getPublishedExtension(this.options.pluginID);return this.userPaymentStatusType(e)===rw.PAID}catch(e){T.k.error(e)}return!1},this.timerCallback=e=>{this.fireEventSync(e,[])},this.uiCancelCallback=e=>{this.closePlugin(e)},this.iframeMessageHandler=e=>{let r=this.vm;if(e.data===sC.IN){rR.Y5.triggerAction("plugins-run-last",{source:"keyboard"});return}if(!(e.data instanceof Object)){T.k.warn('Message from UI to plugin ignored because it\'s not an object. The message must be an object with a "pluginMessage" property containing the actual message.');return}let n=this.options.pluginID;if("getPluginId"in e.data){let r="null"!==e.origin?e.origin:"*";this.uiHandle.postMessageToIframe({pluginId:n},{origin:r,skipQueue:!0})}let i=e.origin+"";if(/^https?\:\/\/\%7b[a-f0-9\.-]+\%7d$/.test(i)&&(i="null"),"*"!==e.data.pluginId&&("pluginId"in e.data||"null"!==e.origin)){if(n&&(e.data.pluginId===n||Array.isArray(e.data.pluginId)&&e.data.pluginId.indexOf(n)>=0));else if("pluginId"in e.data){T.k.warn("Provided pluginId does not match id of currently running plugin");return}else{T.k.warn("Message from UI to plugin ignored due to missing pluginId in message. Please specify the pluginId that you wish to deliver the message to when using postMessage. You can also use '*' if it is safe to deliver the message to any plugin.\n\nExample: `parent.postMessage({pluginMessage: /*your message*/, pluginId: /*your plugin id*/}, '*')`.");return}}if("pluginMessage"in e.data){let r=this.eventHandlers.get("message");if((void 0===r||!r.length)&&!this.onMessageCallback){T.k.warn("Message from UI to plugin dropped due to no message handler installed");return}let n=[this.vm.deepWrap(e.data.pluginMessage),this.vm.deepWrap({origin:i})];this.fireEventSync("message",n),this.onMessageCallback&&this.vm.callFunction(this.onMessageCallback,this.vm.undefined,...n);return}if("pluginDrop"in e.data){if((0,n_.c0)(e.data.pluginDrop,nz.fK,"pluginDrop").length>0||void 0===e.data.pluginDrop.items&&void 0===e.data.pluginDrop.files||"files"in e.data.pluginDrop&&e.data.pluginDrop.files.some(e=>!(e instanceof File)))T.k.warn(`"pluginDrop" object must have "clientX" and "clientY" properties,
          as well as either "items" or "files" properties`);else{let n=this.createDropEvent({x:e.data.pluginDrop.clientX,y:e.data.pluginDrop.clientY},e.data.pluginDrop.items??[],e.data.pluginDrop.files??[]);r.setProp(n,"dropMetadata","dropMetadata"in e.data.pluginDrop?r.deepWrap(e.data.pluginDrop.dropMetadata):r.null),this.fireEventSync("drop",[n])}return}T.k.warn('Ignoring postMessage from plugin UI iframe due to missing "pluginMessage" or "pluginDrop"')},this.textReviewRequestRejects=0,this.isTextReviewRequestModalOpen=!1,this.privateSceneGraph=r.sceneGraph??rB.z.instance,this.styleManager=new nD(this.privateSceneGraph),this.imageStore=new n8,this.videoStore=new lr,this.documentAccessState=new n0.u1({incrementalMode:this.options.incrementalSafeApi,stats:r.stats,allowIncrementalUnsafeApiCalls:!!r.allowIncrementalUnsafeApiCalls}),(0,rY.W5)(this.pluginPageLoaded),(0,rY.Ql)(this.getAccessiblePages),this.isWidget="WIDGET"===this.options.apiMode.type,this._hasRegisteredWidgetFunction=!1,this.isWidget){let{runtimeBridge:n,shutdownCallback:i}=ue.createRuntimeBridgeForWidgetReconciler(r.pluginID,e,this.ignoreEditActionsScope);this.widgetManager=new cQ(e,r.pluginID,n),i&&this.widgetManager.addShutdownAction(i)}let n=A.D.getState().selectedView;this.fullscreenEditorType=n.editorType;let i=e.evalTrustedCode("Symbol('figma.mixed')");if("FAILURE"===i.type)throw Error(`Figma Internal Error: failed to create mixed constant, ${i.error}`);this.mixedSentinel=i.handle,this.setSkipInvisibleInstanceChildren(this.fullscreenEditorType===nr.nT.DevHandoff||"WIDGET_RECONCILER"===r.apiMode.type),this.runtimeOptions=(0,O.kc)().ext_lego_plugins_runmode?{allowVisibleIframe:!c3.has(this.getRunMode()),iframeId:(0,sA.E)({runMode:this.getRunMode()}),allowInitiateCheckout:!c3.has(this.getRunMode())}:{allowVisibleIframe:!r.triggeredFrom||!c2.has(r.triggeredFrom),iframeId:(0,sA.E)({triggeredFrom:r.triggeredFrom}),allowInitiateCheckout:!r.triggeredFrom||!c2.has(r.triggeredFrom)},e.retainHandle(this.mixedSentinel),this.nodeFactory=new sm(e,{pluginID:r.pluginID,pluginVersionID:r.pluginVersionID,imageStore:this.imageStore,videoStore:this.videoStore,getStyleFactory:()=>this.styleFactory,documentAccessState:this.documentAccessState,mixedSentinel:this.mixedSentinel,stats:r.stats,enableProposedApi:r.enableProposedApi,isWidget:this.isWidget,widgetManager:this.widgetManager,validatedPermissions:r.validatedPermissions,editorType:this.fullscreenEditorType,defineVmFunction:this.defineVmFunction,defineVmIncrementalMethod:this.defineVmIncrementalMethod,defineVmProp:this.defineVmProp,defineVmIncrementalProp:this.defineVmIncrementalProp,addEventHandlersTo:this.addEventHandlersTo,incLoadingErrorLogger:new li({pluginID:r.pluginID,pluginVersionID:r.pluginVersionID}),openFileKey:r.openFileKey,apiMode:r.apiMode,sceneGraph:this.privateSceneGraph,getNode:this.getNode,incrementalSafeApi:this.options.incrementalSafeApi,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls,styleManager:this.styleManager}),(0,rY.Q4)(this.getAllAccessedGuids),this.styleFactory=new sb({vm:e,stats:this.options.stats,pluginID:r.pluginID,pluginVersionID:r.pluginVersionID,getNodeFactory:()=>this.nodeFactory,imageStore:this.imageStore,videoStore:this.videoStore,documentAccessState:this.documentAccessState,mixedSentinel:this.mixedSentinel,enableProposedApi:r.enableProposedApi,isWidget:this.isWidget,widgetManager:this.widgetManager,validatedPermissions:r.validatedPermissions,editorType:this.fullscreenEditorType,defineVmFunction:this.defineVmFunction,defineVmIncrementalMethod:this.defineVmIncrementalMethod,defineVmProp:this.defineVmProp,defineVmIncrementalProp:this.defineVmIncrementalProp,addEventHandlersTo:this.addEventHandlersTo,apiMode:r.apiMode,openFileKey:r.openFileKey,getNode:this.getNode,sceneGraph:this.privateSceneGraph,incrementalSafeApi:this.options.incrementalSafeApi,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls,styleManager:this.styleManager}),this.variableFactory=new sD({vm:e,stats:this.options.stats,pluginID:r.pluginID,pluginVersionID:r.pluginVersionID,getNodeFactory:()=>this.nodeFactory,getStyleFactory:()=>this.styleFactory,imageStore:this.imageStore,videoStore:this.videoStore,documentAccessState:this.documentAccessState,mixedSentinel:this.mixedSentinel,enableProposedApi:r.enableProposedApi,isWidget:this.isWidget,widgetManager:this.widgetManager,validatedPermissions:r.validatedPermissions,editorType:this.fullscreenEditorType,defineVmFunction:this.defineVmFunction,defineVmIncrementalMethod:this.defineVmIncrementalMethod,defineVmProp:this.defineVmProp,defineVmIncrementalProp:this.defineVmIncrementalProp,addEventHandlersTo:this.addEventHandlersTo,apiMode:r.apiMode,openFileKey:r.openFileKey,getNode:this.getNode,sceneGraph:this.privateSceneGraph,incrementalSafeApi:this.options.incrementalSafeApi,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls,styleManager:this.styleManager}),this.variableCollectionFactory=new s6({vm:e,stats:this.options.stats,pluginID:r.pluginID,pluginVersionID:r.pluginVersionID,getNodeFactory:()=>this.nodeFactory,getStyleFactory:()=>this.styleFactory,imageStore:this.imageStore,videoStore:this.videoStore,documentAccessState:this.documentAccessState,mixedSentinel:this.mixedSentinel,enableProposedApi:r.enableProposedApi,isWidget:this.isWidget,widgetManager:this.widgetManager,validatedPermissions:r.validatedPermissions,editorType:this.fullscreenEditorType,defineVmFunction:this.defineVmFunction,defineVmIncrementalMethod:this.defineVmIncrementalMethod,defineVmProp:this.defineVmProp,defineVmIncrementalProp:this.defineVmIncrementalProp,addEventHandlersTo:this.addEventHandlersTo,apiMode:r.apiMode,openFileKey:r.openFileKey,getNode:this.getNode,sceneGraph:this.privateSceneGraph,incrementalSafeApi:this.options.incrementalSafeApi,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls,styleManager:this.styleManager});let a=this.options.apiMode;if("CONSOLE_SHIM"===a.type)this.uiHandle=a.uiHandle;else if(function(e){switch(e.type){case"GLOBAL_API":case"CONSOLE_SHIM":case"SECURITY_CHECK":return!1;case"WIDGET_RECONCILER":return!0;case"WIDGET":case"PLUGIN":return e.noOpUI}}(a))this.uiHandle=new sC._x;else{let r="GLOBAL_API"!==a.type&&"SECURITY_CHECK"!==a.type;this.uiHandle=new sC.mN(e.vmType,this.options.pluginID,this.options.titleIconURL,this.options.name,this.options.validatedPermissions.permissions,this.isWidget,this.isWidget?JSON.parse(this.options.command||"{}"):{},r,this.uiCancelCallback,this.iframeMessageHandler,this.options.allowedDomains,this.options.isLocal,this.options.triggeredFrom,this.options.capabilities)}this.vm instanceof n7.j||this.vm instanceof n7.i||((0,rY.LL)(this.selectionCallback),(0,rY.Xx)(this.pageCallback),(0,rY.Sf)(this.timerCallback),(0,rY.KB)(this.dropCallback),(0,rY.i1)(this.codegenPreferencesChangeCallback)),this.options.addShutdownAction(e=>this.tearDown(e)),this.previousSelection=ud(this.privateSceneGraph).map(e=>e.guid),rP.NfO.resetSelectionCouldBeDirty()}hasRegisteredWidget(){return this._hasRegisteredWidgetFunction}shouldLockDownPluginApiForWidgets(){return this.isWidget}overrideRuntimeOptions(e,r){let n=this.runtimeOptions;this.runtimeOptions={...n,...e};try{return r()}finally{this.runtimeOptions=n}}validateMakeIframeOptionsOrThrow(e,r){var n,i,a;if((0,O.kc)().ext_codegen_strict_generate&&this.options.isLocal&&((null==(n=this.runtimeOptions)?void 0:n.activePromiseCallback)==="generate"||(null==(i=this.runtimeOptions)?void 0:i.activePromiseCallback)==="codegen"))throw Error(`Cannot call figma.showUI inside the codegen generate callback.

Move figma.showUI outside the callback and use figma.ui.postMessage within the callback instead to ensure that your plugin handles concurrent "generate" events correctly.`);let o=r.position??(null==(a=this.runtimeOptions)?void 0:a.defaultIframePosition)??"last";if(r.visible&&this.queryMode)throw Error("Cannot show UI in queryMode.");if(r.visible&&!this.runtimeOptions.allowVisibleIframe)throw Error("Cannot show UI");return{html:e,title:r.title,width:r.width,height:r.height,iframeId:this.runtimeOptions.iframeId,position:o,includeThemeColors:r.themeColors}}inDesignOrDevHandoff(){return this.fullscreenEditorType===nr.nT.Design||this.fullscreenEditorType===nr.nT.DevHandoff}isReadOnlyMode(){let e=A.D.getState(),r=e.selectedView.editorType===nr.nT.DevHandoff;return e.mirror.appModel.isReadOnly||r}handleLockDownPluginApiError(e){var r;if(this.options.isLocal)throw Error(e);{let n=null==(r=this.widgetManager)?void 0:r.getCurrentWidgetNodeId();n&&rW.trackLockDownApiError(Error(e),this.getWidgetContext(n))}}getRunMode(){return R.zl.get(nn.$f)??"default"}getWidgetContext(e){let r=this.privateSceneGraph.get(e);return{widgetNodeID:e,pluginID:r.widgetId,widgetVersionID:r.widgetVersionId,isLocalWidget:!r.widgetVersionId,widgetName:r.name}}editScope(e,r){return rL.l7.plugin(`plugin-${e}`,r)}conditionalEditScope(e,r,n){return e?this.editScope(r,n):n()}async tearDown(e){var r,n;for(let[r,n]of((0,rY.po)(this.timerCallback),(0,rY.wk)(this.selectionCallback),(0,rY.cI)(this.pageCallback),(0,rY.Ty)(this.dropCallback),(0,rY.sd)(this.spellCheckCallback),(0,rY.G1)(this.codegenCallback),(0,rY.G1)(this.legacyCodegenCallback),(0,rY.Rp)(this.pluginPageLoaded),(0,rY.VM)(this.getAllAccessedGuids),(0,rY.jS)(this.getAccessiblePages),(0,rY.dG)(),(0,rY.b_)(this.documentChangeCallback),(0,rY.fd)(this.styleChangeCallback),(0,rY.q$)(this.nodeChangeCallback),(0,rY.$y)(this.codegenPreferencesChangeCallback),(0,rY.H4)(this.devResourceOpenCallback),this.fireEventSync("close",[]),this.imageStore.tearDown(),this.videoStore.tearDown(),this.uiHandle.tearDown(e),this.eventHandlers.entries()))for(let e of n)this.vm.releaseHandle(e.handler);this.eventHandlers.clear(),this.eventHandlerTimeouts.forEach(e=>clearTimeout(e)),this.eventHandlerTimeouts.clear(),this.scheduledEvents.clear(),this.onMessageCallback=void 0,this.setSkipInvisibleInstanceChildren(!1),this.isWidget&&(await new Promise(e=>setTimeout(e)),await (null==(r=this.widgetManager)?void 0:r.waitForFinish({fromClosePlugin:!0})),null==(n=this.widgetManager)||n.clear())}currentSelectedTextRangeJson(){let e=this.privateSceneGraph.getCurrentPage();return JSON.stringify((null==e?void 0:e.getSelectedTextRange())||null)}makeGroupingOperationFunction(e,r){return(n,i,a)=>{let{nodeIds:o,parent:s,index:l}=c1({vm:this.vm,callerName:e,nodes:n,parentArg:i,indexArg:a,getNode:this.getNode});if(!s)throw Error(`Second argument to ${e}() must be provided`);let d=rP.NfO.groupNodes(r,o,s.sessionID,s.localID,l);return this.nodeFactory.createNode(d,e)}}fireAsyncEventOrSchedule(e,r){let n=this.eventHandlers.get(e);n&&0!==n.length?this.fireEventAsync(r):this.scheduledEvents.set(e,()=>{this.scheduledEvents.delete(e),this.fireEventAsync(r)})}fireEventAsync(e){Promise.resolve().then(e)}fireDebouncedEventAsync(e,r){this.eventHandlerTimeouts.has(e)&&clearTimeout(this.eventHandlerTimeouts.get(e)),this.eventHandlerTimeouts.set(e,setTimeout(()=>{this.eventHandlerTimeouts.delete(e),r()},0))}fireEventSync(e,r){this.runningSyncEvent=e;let n=this.eventHandlers.get(e);for(let i of(n?this.eventHandlers.set(e,n.filter(({once:e})=>!e)):n=[],n))this.vm.callFunction(i.handler,this.vm.undefined,...r);this.runningSyncEvent=null}fireEventSyncForPage(e,r,n){this.runningSyncEvent=e;let i=this.eventHandlers.get(e),a=i?i.filter(e=>e.pageGuid===r):[];for(let o of(i&&a.length>0&&this.eventHandlers.set(e,i.filter(({once:e,pageGuid:n})=>!(e&&n===r))),a))this.vm.callFunction(o.handler,this.vm.undefined,...n);this.runningSyncEvent=null}fireEventSyncWithReturn(e,r){let n=this.vm,i=this.eventHandlers.get(e);for(let a of(i?this.eventHandlers.set(e,i.filter(({once:e})=>!e)):i=[],i)){let e=n.callFunction(a.handler,this.vm.undefined,...r);if("SUCCESS"===e.type&&!1===n.deepUnwrap(e.handle))return!1}return!0}windowToCanvasPosition(e){let r=rR.Y5.getViewportInfo(),n=new k.Mi(r.x,r.y),i=new k.Mi(e.x,e.y).subtract(n);return(0,rH.$$)(r,i)}wrapFile(e){let r=this.vm,n=r.newObject();return r.setProp(n,"name",r.newString(e.name)),r.setProp(n,"type",r.newString(e.type)),r.defineFunction(n,"getBytesAsync","file.getBytesAsync",function(){let{promise:n,resolve:i,reject:a}=r.newPromise(),o=new FileReader;return o.onload=e=>{r.isDestroyed()||i(r.deepWrap(new Uint8Array(o.result)))},o.onerror=e=>{r.isDestroyed()||a(r.deepWrap(o.error))},o.readAsArrayBuffer(e),n}),r.defineFunction(n,"getTextAsync","file.getTextAsync",function(){let{promise:n,resolve:i,reject:a}=r.newPromise(),o=new FileReader;return o.onload=e=>{r.isDestroyed()||i(r.newString(o.result))},o.onerror=e=>{r.isDestroyed()||a(r.deepWrap(o.error))},o.readAsText(e),n}),n}createDropEvent(e,r,n){let i=this.vm,a=this.windowToCanvasPosition(e),{parentId:o,relativeTransform:s}=rP.NfO.pickInsertionLocation(a.x,a.y),l={x:s.m02,y:s.m12,absoluteX:a.x,absoluteY:a.y,items:r},d=i.deepWrap(l),c=this.privateSceneGraph.get(o);i.setProp(d,"node",void 0===c||(null==c?void 0:c.isInImmutableFrame)||(null==c?void 0:c.isInWidget)?i.null:this.nodeFactory.createNode(o,"drop"));let u=i.newArray();for(let e=0;e<n.length;e++){let r=n[e];i.setProp(u,e.toString(),this.wrapFile(r))}return i.setProp(d,"files",u),d}createPromiseCallback(e){return r=>{let n=this.vm,i=e.makeInputEvent(r),a=this.eventHandlers.get(e.eventName);for(let r of(a?this.eventHandlers.set(e.eventName,a.filter(({once:e})=>!e)):a=[],a)){let a=this.overrideRuntimeOptions({activePromiseCallback:e.eventName},()=>n.callFunction(r.handler,this.vm.undefined,i));if("SUCCESS"===a.type){let r;return oU(n,a.handle)?r=oF({vm:n,promiseHandle:a.handle,shouldRetainResult:!0}):(n.retainHandle(a.handle),r=Promise.resolve(a.handle)),n.registerPromise(r).then(r=>{let i=(0,n_.u)({vm:n,handle:r,vmSchema:e.resultSchema,zSchema:e.zResultSchema,property:e.eventName+" Result"});return n.releaseHandle(r),i}).catch(r=>{console.error(r);let n=e.rejectMessage;return"object"==typeof r&&"message"in r&&(n+="\nError: "+r.message),console.warn(n),e.defaultResult})}}return Promise.reject()}}documentChangeTypeToString(e){switch(e){case rP.iIc.CREATE:return"CREATE";case rP.iIc.DELETE:return"DELETE";case rP.iIc.PROPERTY_CHANGE:return"PROPERTY_CHANGE";case rP.iIc.STYLE_PROPERTY_CHANGE:return"STYLE_PROPERTY_CHANGE";case rP.iIc.STYLE_CREATE:return"STYLE_CREATE";case rP.iIc.STYLE_DELETE:return"STYLE_DELETE"}}documentChangeOriginToString(e){switch(e){case rP.UcW.LOCAL:return"LOCAL";case rP.UcW.REMOTE:return"REMOTE"}}eventsByPageGuid(e){let r=new Map;for(let n of e){let{containingCanvas:e}=n;r.has(e)||r.set(e,[]),r.get(e).push(n)}return r}createTimerApi(){let e=this.vm,r=e.newObject(),n=e=>0>=(0,nF.P$)(e)?"STOPPED":(null==e?void 0:e.isPaused)?"PAUSED":"RUNNING",i=()=>A.D.getState().timer;return e.defineProp(r,"remaining",{enumerable:!1,metricsKey:"timer.remaining",get:()=>{let r=i();return e.newNumber(Math.max(0,(0,nF.P$)(r.time))/1e3)}}),e.defineProp(r,"total",{enumerable:!1,metricsKey:"timer.total",get:()=>{var r;let n=i();return e.newNumber(((null==(r=n.time)?void 0:r.totalTimeMs)||0)/1e3)}}),e.defineFunction(r,"pause","timer.pause",()=>{let r=i();return(0,nF.P$)(r.time)>0&&A.D.dispatch(W._1(r.time)),e.undefined}),e.defineFunction(r,"resume","timer.resume",()=>{let r=i();return(0,nF.P$)(r.time)>0&&r.time.isPaused&&A.D.dispatch(W.ne(r.time)),e.undefined}),e.defineFunction(r,"start","timer.start",r=>{var a;let o=e.getNumber(r),s=i(),l=Math.max(0,(0,nF.P$)(s.time));return"STOPPED"===n(null==s?void 0:s.time)?A.D.dispatch(W.Qv({totalTimeMs:1e3*o})):(A.D.dispatch(W.VV({timer:s.time,deltaMs:1e3*o-l})),(null==(a=s.time)?void 0:a.isPaused)&&A.D.dispatch(W.ne(i().time))),e.undefined}),e.defineFunction(r,"stop","timer.stop",()=>{let r=i();return(0,nF.P$)(r.time)>0&&A.D.dispatch(W.Vk()),e.undefined}),e.defineProp(r,"state",{enumerable:!1,metricsKey:"timer.state",get:()=>{let r=i();return e.newString(n(r.time))}}),e.shallowFreezeObject(r),r}createActiveUsersApi(){var e,r;let n=this.vm,i=rP.NfO.getAllUsers(),a=n.newArray(),o=1,s=this.getMultiplayerUserInfoBySessionId();for(let l of i){let{isCurrentUser:i,userId:d,photoUrl:c,name:u,color:p}=this.getMultiplayerUserInfo(l.sessionId,s),h=o;i?h=0:o++;let m={};m.id=d,m.name=u||"",m.sessionId=l.sessionId,m.photoUrl=c,m.color=p,m.selection=l.selection,(null==(e=l.position)?void 0:e.x)===null||(null==(r=l.position)?void 0:r.y)===null?m.position=null:m.position=l.position;let g=l.viewport;(null==g?void 0:g.x)===null||(null==g?void 0:g.y)===null||(null==g?void 0:g.height)===null||(null==g?void 0:g.width)===null?m.viewport=null:m.viewport=g,n.setProp(a,h.toString(),n.deepWrap(m))}return a}getMultiplayerUserInfo(e,r){let n=A.D.getState().multiplayer,i=n.sessionID===e,a=r[e],o=null,s=null,l=null;if(i&&!a){let e=A.D.getState().user,r=(0,r7.zg)(A.D.getState().selectedView),n="fullscreen"===A.D.getState().selectedView.view&&A.D.getState().selectedView.workshopModeInfo,i=n?localStorage.getItem((0,nt.KK)(n.id)):null;o=e?e.name:r?i:null,s=e?e.img_url:null}else o=null==a?void 0:a.name,s=null==a?void 0:a.imageURL,l=null==a?void 0:a.userID;i&&!l&&(l=(0,nU.o8)()??null);let d=s?nH(new URL(s)):null;return{sessionId:e,name:o,userId:l,color:(null==a?void 0:a.color)||null,photoUrl:d?d.toString():null,isCurrentUser:n.sessionID===e}}getMultiplayerUserInfoBySessionId(){let e=A.D.getState().multiplayer,r={};return e.allUsers.forEach(e=>{r[e.sessionID]=e}),r}createUserApi(){let e=this.vm,r=e.newObject(),n=A.D.getState().user,i=(0,r7.zg)(A.D.getState().selectedView);if(null===n&&!i)return e.null;let a=(0,nU.o8)(),o=A.D.getState().multiplayer,{sessionId:s,photoUrl:l,color:d,name:c}=this.getMultiplayerUserInfo(o.sessionID,this.getMultiplayerUserInfoBySessionId());return e.setProp(r,"id",a?e.newString(a):e.null),e.setProp(r,"photoUrl",l?e.newString(l.toString()):e.null),e.setProp(r,"name",c?e.newString(c):e.null),e.setProp(r,"color",d?e.newString(d):e.null),e.setProp(r,"sessionId",e.newNumber(s)),e.shallowFreezeObject(r),r}createViewportApi(){let e=this.vm,r=e.newObject(),n=()=>this.queryMode;return this.defineVmProp({handle:r,key:"center",options:{enumerable:!1,metricsKey:"viewport.center",get:()=>{let r=rP.NfO.getViewportBounds(),n=e.newObject();return e.setProp(n,"x",e.newNumber(r.x+r.width/2)),e.setProp(n,"y",e.newNumber(r.y+r.height/2)),e.shallowFreezeObject(n),n},set:function(r){if(n())throw Error("Cannot modify viewport in queryMode");let{x:i,y:a}=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Mi,zSchema:h.Vector,property:"viewport.center"});return rP.NfO.setViewportCenter({x:i,y:a}),e.undefined}},canWriteInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:r,key:"bounds",options:{enumerable:!1,metricsKey:"viewport.bounds",get:()=>{let r=rP.NfO.getViewportBounds(),n=e.newObject();return e.setProp(n,"x",e.newNumber(r.x)),e.setProp(n,"y",e.newNumber(r.y)),e.setProp(n,"width",e.newNumber(r.width)),e.setProp(n,"height",e.newNumber(r.height)),e.shallowFreezeObject(n),n}},canWriteInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:r,key:"zoom",options:{enumerable:!1,metricsKey:"viewport.zoom",get:()=>{let r=rP.NfO.getViewportZoomScale();return e.newNumber(r)},set:function(r){if(n())throw Error("Cannot modify viewport in queryMode");let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float.min(0),zSchema:h.PositiveFloat,property:"viewport.zoom"});if(!(i>0))throw Error("viewport.zoom expects a positive number");return rP.NfO.setViewportZoomScale(i),e.undefined}},canWriteInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"scrollAndZoomIntoView",metricsKey:"viewport.scrollAndZoomIntoView",cb:r=>{if(n())throw Error("Cannot modify viewport in queryMode");let i=[];if(!e.isArray(r))throw Error("Call to scrollAndZoomIntoView expected an array");let a=e.getNumberProp(r,"length");for(let n=0;n<a;n++){let a=e.getProp(r,n.toString());i.push(e.getString(e.getProp(a,"id")))}return rP.NfO.scrollAndZoomIntoView(i),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),e.shallowFreezeObject(r),r}createParametersApi(){let e=this.vm,r=e.newObject();if(this.addEventHandlersTo(r,c9,"figma.parameters",e=>{if("PLUGIN"!==this.options.apiMode.type)throw Error('Cannot use "parameters.on(input)" from the developer tools console')}),e.shallowFreezeObject(r),"PLUGIN"===this.options.apiMode.type){var n;n={triggerParameterInputEvent:this.triggerParameterInputEvent,triggerRunEvent:this.triggerRunEvent},i&&(i(n),i=void 0)}return r}createCodegenApi(){var e,r;let n=this.vm;if(!(null==(e=this.options.capabilities)?void 0:e.includes("codegen")))throw Error((r="codegen",`"${r}" capability is not specified in manifest.json. Add the following to your manifest.json: "capabilities": ["${r}"]. See https://www.figma.com/plugin-docs/manifest/#cpabilities for more details.`));let i=n.newObject();return this.defineVmProp({handle:i,key:"preferences",options:{metricsKey:"codegen.preferences",enumerable:!0,configurable:!1,get:()=>n.deepWrap(this.getCodegenPreferences())},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:i,key:"refresh",metricsKey:"codegen.refresh",cb:()=>(no(),n.undefined),isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.addEventHandlersTo(i,["generate","preferenceschange"],"figma.codegen"),i}createDevResourcesApi(){var e;let r=this.vm.newObject(),{apiMode:n,pluginID:i,pluginVersionID:a}=this.options;if(function({pluginId:e,pluginVersionId:r,apiMode:n}){let i=(0,nk.Up)().has(e),a=("CONSOLE_SHIM"===n.type||!r)&&(0,O.kc)().plugins_related_links_local;return i||a}({apiMode:n,pluginId:i,pluginVersionId:a})){let n=["open"];(null==(e=this.options.capabilities)?void 0:e.includes("linkpreview"))&&(n=n.concat(["linkpreview","auth"])),this.addEventHandlersTo(r,n,"figma.devResources")}return r}createVsCodeApi(){let e=this.vm;return(0,rG.T)()?e.newObject():e.undefined}isTextReviewPluginEnabled(){let{activeTextReviewPlugin:e}=A.D.getState().mirror.appModel,r=this.getPlugin();return!!e&&!!r&&!!e&&((0,eg.ZQ)(r)&&"local"===e.type?r.localFileId===e.localFileId:!(0,eg.ZQ)(r)&&"published"===e.type&&r.plugin_id===e.pluginId)}createTextReviewApi(){let e=this.vm,r=e.newObject();return this.defineVmFunction({handle:r,key:"requestToBeEnabledAsync",metricsKey:"textreview.requestToBeEnabledAsync",cb:()=>{var r,n,i;let{promise:a,resolve:o,reject:s}=e.newPromise();return this.queryMode?s(e.newString("Cannot enable text review plugin in query mode.")):this.isTextReviewPluginEnabled()?o(e.undefined):this.textReviewRequestRejects>=2||this.isTextReviewRequestModalOpen?s(e.newString("The user rejected your request to enable text review plugin too many times.")):(this.isTextReviewRequestModalOpen=!0,e.registerPromise((n=A.D.dispatch,i=(null==(r=this.getPlugin())?void 0:r.name)||"Plugin",new Promise((e,r)=>{n((0,$.to)({type:sw,data:{reject:r,resolve:e,pluginName:i}}))}))).then(({turnOffSpellCheck:r})=>{r&&(0,rD.UK)().spellCheckPreference.getCopy()&&rR.Y5.triggerAction("toggle-spell-check");let n=this.getPlugin();n&&(0,rU.Br)((0,eg.ZQ)(n)?{type:"local",localFileId:n.localFileId}:{type:"published",pluginId:n.plugin_id}),requestAnimationFrame(()=>o(e.undefined))},()=>{this.textReviewRequestRejects++,s(e.newString("The user declined to enable your plugin for text review."))}).finally(()=>{this.isTextReviewRequestModalOpen=!1})),a},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"requestToBeDisabledAsync",metricsKey:"textreview.requestToBeDisabledAsync",cb:()=>{let{promise:r,resolve:n,reject:i}=e.newPromise();if(this.queryMode)return i(e.newString("Cannot disable text review plugin in query mode.")),r;let{activeTextReviewPlugin:a}=A.D.getState().mirror.appModel;return this.isTextReviewPluginEnabled()?((0,rU.Br)(null),requestAnimationFrame(()=>{n(e.undefined)})):null==a?n(e.undefined):i(e.newString("The user currently has a text review plugin enabled that isn't yours. Did you mean to call figma.textreview.requestToBeEnabledAsync?")),r},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:r,key:"isEnabled",options:{enumerable:!0,metricsKey:"textreview.isEnabled",get:()=>e.deepWrap(this.isTextReviewPluginEnabled())},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),r}getCodegenLanguage(){let{devHandoffCodeLanguage:e}=A.D.getState().mirror.appModel;return(null==e?void 0:e.pluginLanguage)??""}getCodegenPreferences(){let e=this.getPlugin();if(!e)return{unit:"PIXEL",scaleFactor:1,customSettings:{}};let r=this.getCodegenLanguage(),n=(0,ns.X)(e,r),{preferences:i}=(0,G.n_)(e,n);return{...i,unit:i.unit===rP.tKW.PIXEL?"PIXEL":"SCALED",scaleFactor:i.scaleFactor||1}}createUiApi(){let e=this.vm,r=e.newObject();return this.defineVmFunction({handle:r,key:"show",metricsKey:"ui.show",cb:()=>{if(this.queryMode)throw Error("Cannot show UI in queryMode.");if(!this.runtimeOptions.allowVisibleIframe)throw Error("Cannot show UI");return this.uiHandle.showIframe(),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"resize",metricsKey:"ui.resize",cb:(r,n)=>{let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.integer.min(0),zSchema:h.PositiveInteger,property:"resize width"}),a=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.integer.min(0),zSchema:h.PositiveInteger,property:"resize height"});return this.uiHandle.setIframeSize(i,a),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:r,key:"reposition",metricsKey:"ui.reposition",cb:(r,n)=>{let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.float,zSchema:h.FiniteNumber,property:"x"}),a=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.float,zSchema:h.FiniteNumber,property:"y"});return this.uiHandle.setIframePosition(i,a),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"hide",metricsKey:"ui.hide",cb:()=>(this.uiHandle.hideIframe(),e.undefined),isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"close",metricsKey:"ui.close",cb:()=>(this.uiHandle.destroyIframe(),e.undefined),isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.addEventHandlersTo(r,c7,"figma.ui"),this.defineVmProp({handle:r,key:"onmessage",options:{enumerable:!1,metricsKey:"ui.onmessage",get:()=>{if("CONSOLE_SHIM"===this.options.apiMode.type)throw Error('Cannot use "onmessage" from the developer tools console');return this.onMessageCallback?this.onMessageCallback:e.undefined},set:r=>{let n;if("CONSOLE_SHIM"===this.options.apiMode.type)throw Error('Cannot use "onmessage" from the developer tools console');if(e.isNull(r)||e.isUndefined(r))n=void 0;else if(e.isFunction(r))n=r;else throw Error("onmessage must be a function");return this.onMessageCallback&&e.releaseHandle(this.onMessageCallback),this.onMessageCallback=n,this.onMessageCallback&&e.retainHandle(this.onMessageCallback),e.undefined}},canWriteInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"postMessage",metricsKey:"ui.postMessage",cb:(r,n)=>{let i=(0,n_.Kb)((0,n_.u)({vm:e,handle:n,vmSchema:c5,zSchema:c4,property:"postMessage options"})||{},{origin:"*"});return this.uiHandle.postMessageToIframe({pluginMessage:e.deepUnwrap(r),pluginId:this.options.pluginID},{origin:i.origin}),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),e.shallowFreezeObject(r),r}createClientStorageApi(){let e=this.vm,{userID:r,pluginID:n}=this.options,i=e.newObject();return this.defineVmFunction({handle:i,key:"getAsync",metricsKey:"clientStorage.getAsync",cb:i=>{let a=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"key"}),{promise:o,resolve:s,reject:l}=e.newPromise();return e.registerPromise(r1({userID:r,pluginID:n,name:a})).then(r=>s(e.deepWrap(r)),r=>{let n=JSON.stringify(a);l(e.newString(`Failed to get client storage key ${n}: ${r}`))}),o},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:i,key:"setAsync",metricsKey:"clientStorage.setAsync",cb:(i,a)=>{let o=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"key"}),s=e.deepUnwrap(a),{promise:l,resolve:d,reject:c}=e.newPromise();return e.registerPromise(r5({userID:r,pluginID:n,name:o,value:s})).then(r=>d(e.undefined),r=>{let n=JSON.stringify(o);c(e.newString(`Failed to set client storage key ${n}: ${r}`))}),l},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:i,key:"deleteAsync",metricsKey:"clientStorage.deleteAsync",cb:i=>{let a=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:"key"}),{promise:o,resolve:s,reject:l}=e.newPromise();return e.registerPromise(r5({userID:r,pluginID:n,name:a,remove:!0})).then(r=>s(e.undefined),r=>{let n=JSON.stringify(a);l(e.newString(`Failed to delete client storage key ${n}: ${r}`))}),o},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:i,key:"keysAsync",metricsKey:"clientStorage.keysAsync",cb:()=>{let{promise:i,resolve:a,reject:o}=e.newPromise();return e.registerPromise(r2({userID:r,pluginID:n})).then(r=>a(e.deepWrap(r)),r=>{o(e.newString(`Failed to get client storage keys: ${r}`))}),i},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),e.shallowFreezeObject(i),i}getPublishedExtension(e){let{publishedPlugins:r,publishedWidgets:n}=A.D.getState();return r[e]??n[e]}getOnCanvasPublishedWidgetVersion(e,r){var n;let{publishedCanvasWidgetVersions:i}=A.D.getState();return null==(n=i[e])?void 0:n[r]}getLocalPlugin(e){let{localPlugins:r}=A.D.getState();return Object.values(r).find(r=>r.plugin_id===e)}getPlugin(){var e;return this.options.isLocal?this.getLocalPlugin(this.options.pluginID):null==(e=this.getPublishedExtension(this.options.pluginID))?void 0:e.versions[this.options.pluginVersionID]}inReviewByCommunityAdmin(e){return!!((0,O.kc)().community_hub_admin&&e&&(0,H.AC)(e))}userPaymentStatusType(e){if(this.options.isLocal||this.inReviewByCommunityAdmin(e)){let e=(0,ee.DN)().get(rT);return(null==e?void 0:e.type)||rw.UNPAID}if(e&&(0,eo.m3)(e)){let{communityPayments:r,user:n}=A.D.getState();return n?!function(e,r){let{publishers:n}=(0,ei.V4)([r],e);return n.length>0}(e,n)?!function(e,r){let n=(null==r?void 0:r[e.monetized_resource_metadata.id])||e.community_resource_payment;return(0,ei.QQ)(n)}(e,r)?rw.UNPAID:rw.PAID:rw.PAID:rw.NOT_SUPPORTED}return rw.NOT_SUPPORTED}createPaymentsApi(){let e=this.vm,r=e.newObject();return this.defineVmFunction({handle:r,key:"getUserFirstRanSecondsAgo",metricsKey:"figma.payments.getUserFirstRanSecondsAgo",cb:()=>{let{pluginID:r}=this.options,n=this.getPublishedExtension(r);if(null==n?void 0:n.current_user_first_ran_at){let r=new Date(n.current_user_first_ran_at),i=Math.floor((Date.now()-r.getTime())/1e3);return e.newNumber(i)}return e.newNumber(0)},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:r,key:"status",options:{enumerable:!0,metricsKey:"figma.payments.status",get:()=>{let{pluginID:r}=this.options,n=this.getPublishedExtension(r),i=e.newObject();return e.setProp(i,"type",e.newString(this.userPaymentStatusType(n))),e.shallowFreezeObject(i),i}},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"setPaymentStatusInDevelopment",metricsKey:"figma.payments.setPaymentStatusInDevelopment",cb:r=>{let{pluginID:n}=this.options,i=this.getPublishedExtension(n);return(this.options.isLocal||this.inReviewByCommunityAdmin(i))&&rC((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.oneOf([n_.By.exact({type:rw.NOT_SUPPORTED}),n_.By.exact({type:rw.UNPAID}),n_.By.exact({type:rw.PAID})]),zSchema:F.object({type:F.nativeEnum(rw)}),property:"setPaymentStatusInDevelopment"})),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"requestCheckout",metricsKey:"figma.payments.requestCheckout",cb:r=>(this.checkoutRequested||(this.checkoutRequested=!0,(0,rY.jG)(this.requestCheckoutCallback)),e.undefined),isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"initiateCheckoutAsync",metricsKey:"figma.payments.initiateCheckoutAsync",cb:r=>{if(this.queryMode||!this.runtimeOptions.allowInitiateCheckout)throw Error("Unexpected call to figma.payments.initiateCheckoutAsync");let{promise:n,resolve:i}=e.newPromise(),a={interstitial:rd.PAID_FEATURE,...e.isUndefined(r)?{}:(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.exact({interstitial:n_.By.oneOf([rd.PAID_FEATURE,rd.TRIAL_ENDED,rd.SKIP]).isOptional}).isOptional,zSchema:F.object({interstitial:F.nativeEnum(rd)}).partial(),property:"initiateCheckoutAsync"})};return e.registerPromise(this.initiateCheckoutAsyncImpl(a)).then(()=>i(e.undefined)),n},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"getPluginPaymentTokenAsync",metricsKey:"figma.payments.getPluginPaymentTokenAsync",cb:()=>{let{promise:r,resolve:n,reject:i}=e.newPromise();return e.registerPromise(this.getPluginPaymentTokenAsyncImpl()).then(r=>n(e.newString(r))).catch(r=>i(e.newString(`Failed to generate plugin payment token with error: ${r.message}`))),r},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),e.shallowFreezeObject(r),r}initiateCheckoutAsyncImpl(e){let r=A.D.getState().user,{pluginID:n,pluginVersionID:i,isLocal:a}=this.options,o=this.getPublishedExtension(n),s=a?this.getLocalPlugin(n):void 0,l=this.getOnCanvasPublishedWidgetVersion(n,i);if(o){if(!(0,eo.m3)(o)&&!s)throw Error("Resource must be monetized to initiate checkout");if(this.userPaymentStatusType(o)!==rw.UNPAID){if(a)throw Error("Cannot initiate checkout, user's payment status type is not UNPAID");return Promise.resolve()}}return(0,la.pN)({shouldShowVisualBell:!0}),new Promise(async n=>{let i=!0;this.options.addShutdownAction(()=>{i&&(rR.Y5.dispatch($.ES(rc)),rR.Y5.dispatch($.ES(re)))}),await rI(A.D.dispatch,r,o,s,l,null==e?void 0:e.interstitial),i=!1,n()})}getPluginPaymentTokenAsyncImpl(){let{pluginID:e,isLocal:r}=this.options,n=this.getPublishedExtension(e),i=r?this.getLocalPlugin(e):void 0;if(!e||!n&&!i)throw Error("Cannot generate plugin payment token, plugin is not found");if(!(0,eo.m3)(n)&&!i)throw Error("Resource must be monetized to generate a plugin payment token");let a=(null==n?void 0:n.is_widget)||(null==i?void 0:i.cachedContainsWidget)?"widgets":"plugins";return x.Ay.put(`/api/${a}/${e}/id_token`).then(({data:e})=>Promise.resolve(e.meta.token)).catch(e=>Promise.reject(e))}createUtilApi(){let e=this.vm,r=e.newObject();return this.defineVmFunction({handle:r,key:"rgba",metricsKey:"figma.util.rgba",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:nj,zSchema:h.ColorInput,property:"color"});return e.deepWrap(nK(n))},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!0,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"rgb",metricsKey:"figma.util.rgb",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:nj,zSchema:h.ColorInput,property:"color"});return e.deepWrap(function(e){let r=nK(e);return{r:r.r,g:r.g,b:r.b}}(n))},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!0,hasEditScope:!1}),this.defineVmFunction({handle:r,key:"solidPaint",metricsKey:"figma.util.solidPaint",cb:(r,n)=>{let i=(0,n_.u)({vm:e,handle:r,vmSchema:nj,zSchema:h.ColorInput,property:"color"}),a=(0,n_.u)({vm:e,handle:n,vmSchema:nY,zSchema:h.PartialSolidPaint,property:"SolidPaint"});if(void 0!==a)for(let e in a)void 0===a[e]&&delete a[e];return e.deepWrap(function(e,r){let n=nK(e);return{...nW(r),type:"SOLID",color:{r:n.r,g:n.g,b:n.b},opacity:n.a}}(i,a))},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!0,hasEditScope:!1}),r}createInternalApi(){let e=this.vm,r=e.newObject();return e.shallowFreezeObject(r),r}createConstantsApi(){let e=this.vm,r=e.newObject();return this.defineVmProp({handle:r,key:"colors",options:{enumerable:!1,metricsKey:"constants.colors",get:()=>{let r=e.newObject(),n=e.newObject();for(let r in nc){let i=e.newString(nc[r]);e.setProp(n,r,i)}let i=e.newObject();for(let r in nd){let n=e.newString(nd[r]);e.setProp(i,r,n)}return e.setProp(r,"figJamBase",i),e.setProp(r,"figJamBaseLight",n),r}},canWriteInReadOnly:!1,isAllowedInWidgetRender:!0,hasEditScope:!1}),r}defineWidgetApi(e){if(!this.isWidget)return;let r=this.widgetManager;if(!r)throw Error("WidgetManager not defined");let n=this.vm,i=n.newObject();n.defineProp(e,"widget",{enumerable:!1,value:i});let a=(e,n,i)=>{aq(this.privateSceneGraph.get(e),n,i),r.scheduleRender(e)},o=(e,a)=>{n.defineFunction(i,e,`widget.${e}`,(n,i,o)=>{if(!r.isRunningWidgetFunction())throw Error(`Cannot use ${e} hook outside of widget rendering.`);return a(n,i,o)})};n.defineFunction(i,"register","widget.register",e=>(this._hasRegisteredWidgetFunction=!0,(async()=>{r.registerWidgetFunction(e);try{let e=JSON.parse(this.options.command);if("object"!=typeof e)throw Error("Invalid widget event");r.setLifecycleCommand(e);let n=e.widgetNodeID,i=this.privateSceneGraph.get(n);if(!i){this.closePlugin();return}let a=null;if(this.options.isLocal&&this.options.code&&!(0,rz.ZY)(this.options.pluginID)){let e=i.getPluginData(this.options.pluginID,nX),r=(0,P.F)(this.options.code);e!==r&&(a=r)}if("click"===e.name||"propertymenu"===e.name||"rerender"===e.name||"textEditEnd"===e.name||"attachedStickablesChanged"===e.name||"stuckStatusChanged"===e.name){r.initializeRenderingState(n);let i=r.renderWidgetTree(n,"previous");switch(a||r.setOldVRoot(n,i),r.maybeRunEffects(n),e.name){case"textEditEnd":case"click":await r.trackPromise(ld({vm:this.vm,uiHandle:this.uiHandle,runtime:r.getPluginRuntimeBridge(),vNode:i.rootNode,command:e,widgetManager:r,editScopeLabel:`widget-${e.name}`})),r.scheduleRender(n);break;case"propertymenu":let o=r.getPropertyMenuCallbackHandle(n);o&&await r.trackPromise(lc({vm:this.vm,uiHandle:this.uiHandle,widgetManager:r,callbackHandle:o,propertyName:e.propertyName,propertyValue:e.propertyValue,editScopeLabel:"widget-property-menu"}));break;case"stuckStatusChanged":{let i=r.getRenderingState(n).stickableState.stuckStatusChangedHandle;if(!i)break;await r.trackPromise(lu({vm:this.vm,handler:i,event:e}));break}case"attachedStickablesChanged":{let i=r.getRenderingState(n).stickableState.attachedStickablesChangedHandle;if(!i)break;await r.trackPromise(lp({vm:this.vm,handler:i,event:e}))}}}("mount"===e.name||"rerender"===e.name||a)&&(a&&rL.l7.plugin("widget-code-change-setPluginData",()=>{i.setPluginData(this.options.pluginID,nX,a)}),r.scheduleRender(n)),await r.waitForFinish()}catch(e){if(e instanceof nT)T.k.error(e);else if(e instanceof nw);else throw e}finally{await this.closePlugin()}})(),this.vm.undefined)),n.defineFunction(i,"waitForTask","widget.waitForTask",e=>{if(r.isRunningWidgetFunction())throw Error("waitForTask can only be called in useEffect or an event handler");return r.trackPromise(oF({vm:n,promiseHandle:e})),n.undefined}),n.defineFunction(i,"colorMapToOptions","widget.colorMapToOptions",e=>{let r=n.newArray(),i=n.deepUnwrap(e);return Object.keys(i).forEach((e,a)=>{let o=n.newObject();if(n.setProp(o,"option",n.newString(i[e])),""===e)n.setProp(o,"tooltip",n.newString(""));else{let r=e.replace(/([A-Z])/g," $1").trim().split(" ").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ");n.setProp(o,"tooltip",n.newString(r))}n.setProp(r,String(a),o)}),r});let s=()=>n.newString(r.getCurrentWidgetNodeId());o("useWidgetId",s),o("useWidgetNodeId",s),o("useEffect",e=>(r.addEffect(e),n.undefined)),o("useSyncedState",(e,i)=>{let o=r.getCurrentWidgetNodeId(),s=(0,n_.u)({vm:n,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"key"}),l=()=>{if(n.isFunction(i)){let e=n.undefined;return r.runSyncedStateDefaultValueFunction(()=>{let r=n.callFunction(i,n.undefined);if("FAILURE"===r.type)throw new nT(`Error in useSyncedState default value function: ${r.error}`);if(n.isUndefined(r.handle))throw new nT("Cannot return undefined from default value function in useSyncedState");e=r.handle}),e}return i},d=this.privateSceneGraph.get(o);if(!d){let e=n.newArray();return n.setProp(e,"0",l()),n.setProp(e,"1",n.newFunction("setSyncedState",()=>{if(r.isRunningWidgetFunction())throw Error("Cannot call setSyncedState while widget is rendering.");throw Error(`Invalid widgetID=${o}`)})),e}let c=()=>{let e=r.getRenderMode(d.guid),i=aj(e,d),a=l();if("current"===e&&!n.isUndefined(a)&&!i.hasOwnProperty(s)){var c;let e=n.deepUnwrap(a);c=this.privateSceneGraph.get(o),rL.l7.plugin("set-initial-widget-synced-state",()=>null==c?void 0:c.setInitialWidgetSyncedState(`${aG}:${s}`,a$(c,s,e)))}return i.hasOwnProperty(s)?n.deepWrap(i[s]):a},u=n.newFunction("setSyncedState",e=>{if(r.isRunningWidgetFunction())throw Error("Cannot call setSyncedState while widget is rendering.");return a(o,s,n.deepUnwrap((()=>{if(n.isFunction(e)){let r=n.callFunction(e,n.undefined,c());if("FAILURE"===r.type)throw new nT(`Error in setSyncedState: ${r.error}`);return r.handle}return e})())),n.undefined}),p=this.vm.newArray();return n.setProp(p,"0",c()),n.setProp(p,"1",u),p}),o("useSyncedMap",e=>{let i=r.getCurrentWidgetNodeId(),a=(0,n_.u)({vm:n,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"mapKey"}),o=()=>{let e=this.privateSceneGraph.get(i);return aZ(r.getRenderMode((null==e?void 0:e.guid)??"-1:-1"),e,a)},s=n.newObject();return n.defineFunction(s,"set","map.set",(e,o)=>{if(r.isRunningWidgetFunction())throw Error("Cannot call map.set while widget is rendering.");let s=(0,n_.u)({vm:n,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"map.key"}),l=n.deepUnwrap(o);return rL.l7.plugin("widget-set-synced-map-key",()=>aX(this.privateSceneGraph.get(i),a,s,l)),r.scheduleRender(i),n.undefined}),n.defineFunction(s,"get","map.get",e=>{let r=(0,n_.u)({vm:n,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"map.key"});return n.deepWrap(o()[r])}),n.defineFunction(s,"has","map.has",e=>{let r=(0,n_.u)({vm:n,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"map.key"});return n.newBoolean(o().hasOwnProperty(r))}),n.defineFunction(s,"delete","map.delete",e=>{if(r.isRunningWidgetFunction())throw Error("Cannot call map.delete while widget is rendering.");let o=(0,n_.u)({vm:n,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"map.key"});return aJ(this.privateSceneGraph.get(i),a,o),r.scheduleRender(i),n.undefined}),n.defineFunction(s,"keys","map.keys",()=>n.deepWrap(Object.keys(o()))),n.defineProp(s,"length",{enumerable:!1,metricsKey:"map.length",get:()=>(T.k.warn("map.length is deprecated. please use map.size instead."),n.newNumber(Object.keys(o()).length))}),n.defineProp(s,"size",{enumerable:!1,metricsKey:"map.size",get:()=>n.newNumber(Object.keys(o()).length)}),n.defineFunction(s,"values","map.values",()=>n.deepWrap(Object.values(o()))),n.defineFunction(s,"entries","map.entries",()=>n.deepWrap(Object.entries(o()))),s}),o("usePropertyMenu",(e,i)=>(r.setPropertyMenu({propertyMenuDefinitionHandle:e,propertyMenuCallbackHandle:i}),n.undefined)),o("useStickable",e=>(r.setIsStickable(e),n.undefined)),o("useStickableHost",e=>(r.setIsStickableHost(e),n.undefined)),this.options.validatedPermissions.permissions.includes("hidecursors")&&o("useHideCursors",e=>(r.setShouldHideCursors(e),n.undefined)),this.addJSXComponentsToObject("figma.widget"),n.shallowFreezeObject(i)}defineWidgetLiteApi(e){let r=this.vm.newObject();this.vm.defineProp(e,"widget",{value:r,enumerable:!1}),this.addJSXComponentsToObject("figma.widget"),this.vm.shallowFreezeObject(r)}addJSXComponentsToObject(e){let r={...cR,...cP};this.vm.evalTrustedTopLevelCode(`
    const __BUILT_IN_WIDGET_COMPONENT_NAMES = new Set(${JSON.stringify(Object.keys(r))})
    for (let name of __BUILT_IN_WIDGET_COMPONENT_NAMES) {
      ${e}[name] = name;
    }

    ${e}.h = (component, props, ...rawChildren) => {
      let children = (rawChildren.length ? rawChildren : props?.children) || []
      children = Array.isArray(children) ? children : [children]
      if (__BUILT_IN_WIDGET_COMPONENT_NAMES.has(component)) {
        return {
          type: component,
          props,
          children,
        }
      }
      if (typeof component === 'function') {
        children = children.map((child, idx) => {
          if (typeof child?.props === 'object') {
            // In custom components, children ends up being an array which
            // causes spurious and confusing missing key prop warnings.
            // Lets just add a key to all children to avoid this.
            child.props = { key: 'children-' + idx, ...child.props }
          }
          return child
        })
        const result = component({...props, children})
        if (result && typeof result === 'object' && result.props && props && props.key != null) {
          result.props.key = props.key
        }
        return result
      }
      throw new Error('Component is not a function')
    }
    `)}defineInternalApis(e){this.options.validatedPermissions.permissions.includes("analytics")&&this.defineVmProp({handle:e,key:"analytics",options:{enumerable:!1,value:this.createAnalyticsApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.options.validatedPermissions.permissions.includes("cortex")&&this.defineVmProp({handle:e,key:"cortex",options:{enumerable:!1,value:this.createCortexApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.options.validatedPermissions.permissions.includes("firstdraft")&&this.defineVmProp({handle:e,key:"firstDraft",options:{enumerable:!1,value:this.createFirstDraftApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1})}createFirstDraftApi(){let e=this.vm,r=this.privateSceneGraph,n=e.newObject();return this.defineVmFunction({handle:n,key:"serializeProductComponentForPublish",metricsKey:"firstDraft.serializeProductComponentForPublish",cb:r=>{let n=this.getNode(r);if(n.isLooseComponent||n.isStateGroup){let[r,i]=rP.NfO.serializeProductComponentForPublish(n.guid);if(r&&i){let n=e.deepWrap(r);return e.setProp(n,"buffer",e.deepWrap(new Uint8Array(i))),n}}return e.null},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"deserializeProductComponentFromBuffer",metricsKey:"firstDraft.deserializeProductComponentFromBuffer",cb:(r,n)=>{if(!e.isString(r))throw Error(`Expected id to be a string, got ${e.typeof(r)}`);let i=e.toString(r),a=(0,n_.u)({vm:e,handle:n,zSchema:h.UInt8Array,property:"buffer"}),o=rP.NfO.deserializeProductComponentFromBuffer(i,a);return e.newString(o)},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:n,key:"getInternalPageId",metricsKey:"firstDraft.getInternalPageId",cb:()=>{let r=rB.z.instance.get("0:0");if(r){for(let n of r.childrenNodes)if("CANVAS"===n.type&&n.isInternalOnlyNode)return e.newString(n.guid)}return e.null},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"localizeSubtree",metricsKey:"firstDraft.localizeSubtree",cb:r=>{let n=this.getNode(r);if(!n)return e.newBoolean(!1);let i=rP.XJn.detachGeneratedDesign(n.guid);return e.newBoolean(i)},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"consumedVariableCollectionIds",metricsKey:"firstDraft.consumedVariableCollectionIds",cb:r=>{let n=this.getNode(r);if(!n)return e.newBoolean(!1);let i=rP.XJn.consumedVariableCollectionIds(n.guid),a=e.newArray();for(let r=0;r<i.length;r++)e.setProp(a,String(r),e.newString(i[r]));return a},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"getComponentVersion",metricsKey:"firstDraft.getComponentVersion",cb:n=>{if(!e.isString(n))throw Error(`Expected id to be a string, got ${e.typeof(n)}`);let i=e.toString(n);if(!V.fn(V.sH(i)))return e.null;let a=r.get(i);if(!a)return e.null;if(a.isStateGroup){let r=a.sharedStateGroupVersion;return r?e.newString(r):e.null}if(a.isLooseComponent){let r=a.sharedSymbolVersion;if(r)return e.newString(r)}return e.null},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"getOverrideKeyForGuidOrNull",metricsKey:"firstDraft.getOverrideKeyForGuidOrNull",cb:n=>{if(!e.isString(n))throw Error(`Expected id to be a string, got ${e.typeof(n)}`);let i=e.toString(n);if(!V.fn(V.sH(i)))return e.null;let a=r.get(i);if(!a)return e.null;let o=a.overrideKey;return o?e.newString(o):e.null},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"detachFontFamilyVariable",metricsKey:"firstDraft.detachFontFamilyVariable",cb:r=>{let n=this.getNode(r);return n&&"TEXT"===n.type&&(n.inheritedTextStyle=null,n.setBoundVariable("fontFamily",null)),e.null},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:n,key:"getComponentInfoById",metricsKey:"firstDraft.getComponentInfoById",cb:r=>{if(!e.isString(r))return e.null;let n=e.toString(r),i=(0,rO.Z1)(n);return i?e.deepWrap(i):e.null},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),e.shallowFreezeObject(n),n}createAnalyticsApi(){let e=this.vm,r=e.newObject();return this.defineVmFunction({handle:r,key:"track",metricsKey:"analytics.track",cb:(r,n)=>((0,b.sx)((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"analytics.track name"}),(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.dictionaryOf(n_.By.any),zSchema:F.record(F.any()),property:"analytics.track properties"})),e.undefined),isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),e.shallowFreezeObject(r),r}wrapPromise(e){let r=this.vm,{promise:n,resolve:i,reject:a}=r.newPromise();return r.registerPromise(e).then(e=>i(r.deepWrap(e))).catch(e=>a(this.wrapError(e))),n}wrapError(e){let r=this.vm,n=r.newObject();return r.defineProp(n,"message",{enumerable:!0,value:r.newString(e.message)}),r.shallowFreezeObject(n),n}createCortexKiwiApi(){let e=this,r=this.vm,n=r.newObject();return this.defineVmFunction({handle:n,key:"getSceneForNode",metricsKey:"cortex.internal.kiwi.getSceneForNode",cb:n=>{let i=e.getNode(n),a=rP.glU.generateClipboardScene(i.guid);return r.newUint8Array(a)},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:n,key:"applyScene",metricsKey:"cortex.internal.kiwi.applyScene",cb:e=>{let n=(0,n_.u)({vm:r,handle:e,vmSchema:n_.By.uint8Array,zSchema:h.UInt8Array,property:"applyScene"});return rP.glU.applyFileToCurrentScene(n),r.undefined},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),r.shallowFreezeObject(n),n}createCortexApi(){let e=this.vm,r=e.newObject();this.defineVmProp({handle:r,key:"kiwi",options:{enumerable:!1,writable:!1,metricsKey:"figma.kiwi",value:this.createCortexKiwiApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1});let n=(r,n)=>(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.dictionaryOf(n_.By.any),zSchema:F.record(F.any()),property:r}),i=(e,i,a)=>{this.defineVmFunction({handle:r,key:e,metricsKey:i,cb:e=>{let r=n(`${i} input`,e),o=nx(A.D.getState());return this.wrapPromise(a(r,o))},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1})},a=(e,i,a)=>{let o=this.vm;this.defineVmFunction({handle:r,key:e,metricsKey:i,cb:e=>{let r=n(`${i} input`,e),s=nx(A.D.getState()),{promise:l,resolve:d,reject:c}=o.newPromise();return o.registerPromise(a(r,s)).then(e=>d(this.wrapReadableStream(e))).catch(e=>c(this.wrapError(e))),l},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1})};return i("completeChat","cortex.internal.openai.completeChat",rA.Ay.openai.completeChat),a("streamChat","cortex.internal.openai.streamChat",rA.Ay.openai.streamChat),i("completeRainbowChat","cortex.internal.openai.rainbow.completeChat",rA.Ay.openai.completeRainbowChat),a("streamRainbowChat","cortex.internal.openai.rainbow.streamChat",rA.Ay.openai.streamRainbowChat),i("computeEmbeddings","cortex.internal.openai.embeddings",rA.Ay.openai.computeEmbeddings),i("getClaudeCompletions","cortex.internal.anthropic.getClaudeCompletions",rA.Ay.anthropic.getClaudeCompletions),a("streamClaudeCompletions","cortex.internal.anthropic.streamClaudeCompletions",rA.Ay.anthropic.streamClaudeCompletions),i("firstDraftExternalProxy","cortex.internal.design.firstDraftExternalProxy",rA.Ay.design.firstDraftExternalProxy),a("firstDraftExternalProxyStream","cortex.internal.design.firstDraftExternalProxyStream",rA.Ay.design.firstDraftExternalProxyStream),i("generateImage","cortex.internal.design.firstDraftGenerateImage",rA.Ay.design.firstDraftGenerateImage),i("generateImageFirefly","cortex.internal.design.generateImageFirefly",rA.Ay.design.generateImageFirefly),i("generateImages","cortex.internal.design.generateImages",rA.Ay.design.generateImages),i("jamGPT","cortex.internal.figjam.jamGPT",rA.Ay.figjam.jamGPT),a("createTemplate","cortex.internal.figjam.createTemplate",rA.Ay.figjam.createTemplate),i("createVisual","cortex.internal.figjam.createVisual",rA.Ay.figjam.createVisual),e.shallowFreezeObject(r),r}callConstructor(e,...r){let n=this.vm;if(!this.constructorHelper){let e=this.vm.evalCode("(o, ...args) => new o(...args)");if("FAILURE"===e.type)throw Error(`Error creating constructor helper: ${e.error}`);this.constructorHelper=e.handle,n.retainHandle(this.constructorHelper)}return this.vm.callFunction(this.constructorHelper,n.undefined,e,...r)}wrapReadableStream(e){let r=this.vm,n=r.getProp(r.global,"ReadableStream");if(!n)throw T.k.error(`
Import a polyfill to use this plugin API, eg:
\`\`\`

import { ReadableStream } from "web-streams-polyfill/es6";
if (typeof globalThis !== "undefined" && !("ReadableStream" in globalThis)) {
  globalThis.ReadableStream = ReadableStream;
}
// Now it's safe to use APIs that return ReadableStreams

\`\`\`
`),Error("ReadableStream not available on the VM global object.");let i=r.newObject(),a=e.getReader(),o=(e,n,...i)=>{let a=r.getProp(e,n);return!!r.isFunction(a)&&("FAILURE"!==r.callFunction(a,e,...i).type||void T.k.error(`Error calling controller.${n}(\u2026)`))};r.defineFunction(i,"pull","underlyingSource.pull",e=>(r.retainHandle(e),this.wrapPromise((async()=>{try{let{done:n,value:i}=await a.read();if(r.isDestroyed()){a.cancel();return}n?o(e,"close",r.undefined):o(e,"enqueue",r.deepWrap(i))}catch(r){T.k.error("ReadableStream: Error reading from stream passing to plugin vm",r),o(e,"error",this.wrapError(r))}finally{r.releaseHandle(e)}})()))),r.defineFunction(i,"cancel","underlyingSource.cancel",e=>this.wrapPromise(a.cancel())),r.shallowFreezeObject(i);let s=this.callConstructor(n,i);if("FAILURE"===s.type)throw T.k.error(`Error creating ReadableStream: ${s.error}`),Error(`Error creating ReadableStream: ${s.error}`);return s.handle}setQueryMode(e){this.queryMode=e,rP.NfO.runInQueryMode(this.queryMode),this.uiHandle.setHideVisibleUI(this.queryMode)}setSkipInvisibleInstanceChildren(e){this.skipInvisibleInstanceChildren=e,rP.NfO.skipInvisibleInstanceChildren(e)}getUiHandle(){return this.uiHandle}createAPI(){let e=this.vm,{command:r,queryMode:n,pluginID:i,apiVersion:a,enableProposedApi:o,enablePrivatePluginApi:s,openFileKey:l,stats:d,incrementalSafeApi:c,allowIncrementalUnsafeApiCalls:u}=this.options,p=0,g=e.newObject();e.setProp(e.global,"figma",g),this.defineVmProp({handle:g,key:"apiVersion",options:{enumerable:!1,writable:!1,metricsKey:"figma.apiVersion",value:e.newString(a)},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"getHTMLString",metricsKey:"figma.getHTMLString",cb:()=>this.vm.newString(this.options.html??""),isAllowedInReadOnly:!0,hasEditScope:!1}),(s||this.options.validatedPermissions.permissions.includes("filekey"))&&this.defineVmProp({handle:g,key:"fileKey",options:{enumerable:!1,writable:!1,metricsKey:"figma.fileKey",value:e.newString(l)},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.inDesignOrDevHandoff()&&(function({vm:e,figmaApi:r,styleFactory:n,defineVmFunction:i,defineVmIncrementalFunction:a,incrementalSafeApi:o,getNode:s,styleManager:l,documentAccessState:d,allowIncrementalUnsafeApiCalls:c}){for(let{styleType:u,moveMethod:p}of(a({handle:r,key:"getStyleById",metricsKey:"figma.getStyleById",incrementalSafeApiKey:"getStyleByIdAsync",incrementalSafeApiMetricsKey:"figma.getStyleByIdAsync",parseArg:r=>e.toString(r),prepareDocument:async e=>{await (0,n0.Ux)(d)},resolveValue:e=>n.createStyle(e),incrementalSafeApi:o,allowIncrementalUnsafeApiCalls:c,isAllowedInReadOnly:!0,hasEditScope:!1}),nZ))i({handle:r,key:p,metricsKey:"figma."+p,cb:(r,n)=>{let i=s(r),a=e.isNull(n)?null:s(n);if(i.styleType!==u)throw Error(`Target node is a ${i.styleType} node, instead of ${u}`);if(null!==a&&a.styleType!==u)throw Error(`Reference node is a ${a.styleType} node, instead of ${u}`);if(null!==a&&a&&i.guid===a.guid)throw Error("Target node and reference node cannot be equal");let o=l.moveStyle(i,a,u);if(""!==o)throw Error(o);return e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0});for(let{styleType:n,moveFolderMethod:a}of nZ)i({handle:r,key:a,metricsKey:"figma."+a,cb:(r,i)=>{let a=e.toString(r),o=e.isNull(i)?null:e.toString(i),s=l.moveFolder(a,o,n);if(""!==s)throw Error(s);return e.undefined},isAllowedInReadOnly:!1,hasEditScope:!0});for(let{styleType:e,createMethod:a}of nZ)i({handle:r,key:a,metricsKey:"figma."+a,cb:()=>{let r=l.createStyle(e);if(!r)throw Error(`Could not create ${e} style`);return n.createStyle(r)},isAllowedInReadOnly:!1,hasEditScope:!0});for(let{styleType:i,getMethod:s,getMethodAsync:d}of nZ)a({handle:r,key:s,metricsKey:"figma."+s,incrementalSafeApiKey:d,incrementalSafeApiMetricsKey:"figma."+d,parseArg:e=>{},prepareDocument:async()=>{},resolveValue:()=>(function({styleType:r}){let i=l.getAllLocalStyles(r).map(rV.nM),a=e.newArray(),o=0;for(let r of i){let i=n.createStyle(r);!e.isNull(i)&&(e.setProp(a,o.toString(),i),o++)}return a})({styleType:i}),incrementalSafeApi:o,allowIncrementalUnsafeApiCalls:c,isAllowedInReadOnly:!0,hasEditScope:!1})}({vm:e,stats:d,figmaApi:g,styleFactory:this.styleFactory,defineVmFunction:this.defineVmFunction,defineVmIncrementalFunction:this.defineVmIncrementalFunction,incrementalSafeApi:this.options.incrementalSafeApi,getNode:this.getNode,styleManager:this.styleManager,documentAccessState:this.documentAccessState,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls}),function({vm:e,imageStore:r,videoStore:n,figmaApi:i,variableFactory:a,variableCollectionFactory:o,defineVmFunction:s,defineVmIncrementalFunction:l,defineVmProp:d,incrementalSafeApi:c,documentAccessState:u,pluginVersionID:p,getNode:g,allowIncrementalUnsafeApiCalls:f}){d({handle:i,key:"variables",options:{enumerable:!1,metricsKey:"figma.variables",get:(0,nB.q8)(e,()=>(function(){let i=e.newObject();return l({handle:i,key:"getVariableById",hasEditScope:!1,metricsKey:"figma.variables.getVariableById",incrementalSafeApiKey:"getVariableByIdAsync",incrementalSafeApiMetricsKey:"figma.variables.getVariableByIdAsync",parseArg:r=>e.toString(r),prepareDocument:async e=>{await (0,n0.Ux)(u)},resolveValue:e=>a.createVariableHandle(e),isAllowedInReadOnly:!0,incrementalSafeApi:c,allowIncrementalUnsafeApiCalls:f}),l({handle:i,key:"getLocalVariables",hasEditScope:!1,metricsKey:"figma.variables.getLocalVariables",incrementalSafeApiKey:"getLocalVariablesAsync",incrementalSafeApiMetricsKey:"figma.variables.getLocalVariablesAsync",parseArg:r=>(0,n_.u)({vm:e,handle:r,vmSchema:a_.isOptional,zSchema:m.PublicVariableResolvedType.optional(),property:"resolvedType"})??null,prepareDocument:async e=>{},resolveValue:e=>a.getLocalVariables(e),isAllowedInReadOnly:!0,incrementalSafeApi:c,allowIncrementalUnsafeApiCalls:f}),s({handle:i,key:"getSubscribedVariables",hasEditScope:!1,metricsKey:"figma.variables.getSubscribedVariables",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:a_.isOptional,zSchema:m.PublicVariableResolvedType.optional(),property:"resolvedType"})??null;return a.getSubscribedVariables(n)},isAllowedInReadOnly:!0}),l({handle:i,key:"getVariableCollectionById",hasEditScope:!1,metricsKey:"figma.variables.getVariableCollectionById",incrementalSafeApiKey:"getVariableCollectionByIdAsync",incrementalSafeApiMetricsKey:"figma.variables.getVariableCollectionByIdAsync",parseArg:r=>e.toString(r),prepareDocument:async e=>{await (0,n0.Ux)(u)},resolveValue:e=>o.createVariableCollectionHandle(e),incrementalSafeApi:c,isAllowedInReadOnly:!0,allowIncrementalUnsafeApiCalls:f}),l({handle:i,key:"getLocalVariableCollections",hasEditScope:!1,metricsKey:"figma.variables.getLocalVariableCollections",incrementalSafeApiKey:"getLocalVariableCollectionsAsync",incrementalSafeApiMetricsKey:"figma.variables.getLocalVariableCollectionsAsync",parseArg:e=>{},prepareDocument:async e=>{},resolveValue:e=>o.getLocalVariableCollections(),isAllowedInReadOnly:!0,incrementalSafeApi:c,allowIncrementalUnsafeApiCalls:f}),s({handle:i,key:"createVariableCollection",hasEditScope:!0,metricsKey:"figma.variables.createVariableCollection",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"name"}),i=o.createNewVariableCollection(n);return o.createVariableCollectionHandle(i)},isAllowedInReadOnly:!1}),s({handle:i,key:"createVariable",hasEditScope:!0,metricsKey:"figma.variables.createVariable",cb:(r,n,i)=>{let o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"name"}),s=ok({callerName:"createVariable",consoleLogger:T.k,getNode:g,incrementalSafeApi:c,pluginVersionID:p,vm:e,vmHandle:n,allowIncrementalUnsafeApiCalls:f}),l=(0,n_.u)({vm:e,handle:i,vmSchema:a_,zSchema:m.PublicVariableResolvedType,property:"resolvedType"}),d=a.createNewVariable(o,s,l);return a.createVariableHandle(d)},isAllowedInReadOnly:!1}),s({handle:i,key:"createVariableAlias",hasEditScope:!0,metricsKey:"figma.variables.createVariableAlias",cb:r=>{if("VARIABLE"!==g(r).type)throw Error("Can only construct variable aliases from variables");let n=e.getStringProp(r,"id");return e.deepWrap({type:"VARIABLE_ALIAS",id:n})},isAllowedInReadOnly:!0}),s({handle:i,key:"createVariableAliasByIdAsync",metricsKey:"figma.variables.createVariableAliasByIdAsync",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"variableId"});if(!nm.fn(n))throw Error("Invalid variable id");let{promise:i,resolve:a,reject:o}=e.newPromise();return e.registerPromise((0,n0.Ux)(u)).then(()=>{a(e.deepWrap({type:"VARIABLE_ALIAS",id:n}))}).catch(r=>{o(e.newString(r.message))}),i},isAllowedInReadOnly:!0,hasEditScope:!1}),s({handle:i,key:"importVariableByKeyAsync",metricsKey:"figma.variables.importVariableByKeyAsync",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"variableKey"});return a.importByKeyAsync(n)},isAllowedInReadOnly:!1,hasEditScope:!1}),s({handle:i,key:"setBoundVariableForPaint",metricsKey:"figma.variables.setBoundVariableForPaint",cb:(i,a,o)=>{let s=(0,n_.u)({vm:e,handle:i,vmSchema:nz.Pi,zSchema:h.Paint,property:"paintCopy"}),l=(0,n_.u)({vm:e,handle:a,vmSchema:aS,zSchema:m.VariableBindablePaintField,property:"field"});if(e.isNull(o)||e.isUndefined(o)){let i=nI(r,n,s,[]);return i.colorVar=void 0,e.deepWrap(nb(i))}let d=g(o);if(!d||"VARIABLE"!==d.type||d.variableResolvedType!==rP.rXF.COLOR)throw Error(`can only bind color variables to ${l}`);let c=e.getStringProp(o,"id"),u=nI(r,n,s,[]);if("SOLID"!==u.type)throw Error("can only bind variables to solid paints");return u.colorVar={value:{alias:nm.sH(c)},dataType:"ALIAS",resolvedDataType:"COLOR"},e.deepWrap(nb(u))},isAllowedInReadOnly:!0,hasEditScope:!1}),s({handle:i,key:"setBoundVariableForEffect",metricsKey:"figma.variables.setBoundVariableForEffect",cb:(r,n,i)=>{let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.Mj,zSchema:h.Effect,property:"effectCopy"});if(e.isNull(i)||e.isUndefined(i)){let r=oh(a);return r.colorVar=void 0,r.radiusVar=void 0,r.spreadVar=void 0,r.xVar=void 0,r.yVar=void 0,e.deepWrap(op(r))}let o=g(i),s=e.getStringProp(i,"id"),l=oh(a);if("INNER_SHADOW"===l.type||"DROP_SHADOW"===l.type){let r=(0,n_.u)({vm:e,handle:n,vmSchema:aI,zSchema:m.VariableBindableShadowEffectField,property:"field"});if(!o||"VARIABLE"!==o.type||"color"===r&&o.variableResolvedType!==rP.rXF.COLOR)throw Error(`can only bind color variables to ${r}`);if(!o||"VARIABLE"!==o.type||"color"!==r&&o.variableResolvedType!==rP.rXF.FLOAT)throw Error(`can only bind float variables to ${r}`);switch(r){case"color":l.colorVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"COLOR"};break;case"radius":l.radiusVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"};break;case"spread":l.spreadVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"};break;case"offsetX":l.xVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"};break;case"offsetY":l.yVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"}}}else{let r=(0,n_.u)({vm:e,handle:n,vmSchema:aT,zSchema:m.VariableBindableBlurEffectField,property:"field"});if(!o||"VARIABLE"!==o.type||o.variableResolvedType!==rP.rXF.FLOAT)throw Error(`can only bind float variables to ${r}`);l.radiusVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"}}return e.deepWrap(op(l))},isAllowedInReadOnly:!0,hasEditScope:!1}),s({handle:i,key:"setBoundVariableForLayoutGrid",metricsKey:"figma.variables.setBoundVariableForLayoutGrid",cb:(r,n,i)=>{let a=(0,n_.u)({vm:e,handle:r,vmSchema:nz.D6,zSchema:h.LayoutGrid,property:"layoutGridCopy"});if(e.isNull(i)||e.isUndefined(i)){let r=ov(a);return r.offsetVar=void 0,r.gutterSizeVar=void 0,r.numSectionsVar=void 0,r.sectionSizeVar=void 0,e.deepWrap(ob(r))}let o=g(i),s=e.getStringProp(i,"id");if(!o||"VARIABLE"!==o.type||o.variableResolvedType!==rP.rXF.FLOAT)throw Error("can only bind float variables to layoutGrids");let l=ov(a);if("GRID"===l.pattern){let r=(0,n_.u)({vm:e,handle:n,vmSchema:aN,zSchema:m.VariableBindableGridLayoutField,property:"field"});if(!o||"VARIABLE"!==o.type||o.variableResolvedType!==rP.rXF.FLOAT)throw Error(`can only bind float variables to ${r}`);l.sectionSizeVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"}}else{let r;switch(l.type){case"MIN":case"MAX":r=(0,n_.u)({vm:e,handle:n,vmSchema:aw,zSchema:m.VariableBindableMinMaxLayoutField,property:"field"});break;case"CENTER":r=(0,n_.u)({vm:e,handle:n,vmSchema:aA,zSchema:m.VariableBindableCenterLayoutField,property:"field"});break;case"STRETCH":r=(0,n_.u)({vm:e,handle:n,vmSchema:aC,zSchema:m.VariableBindableStretchLayoutField,property:"field"})}switch(r){case"sectionSize":l.sectionSizeVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"COLOR"};break;case"offset":l.offsetVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"};break;case"count":l.numSectionsVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"};break;case"gutterSize":l.gutterSizeVar={value:{alias:nm.sH(s)},dataType:"ALIAS",resolvedDataType:"FLOAT"}}}return e.deepWrap(ob(l))},isAllowedInReadOnly:!0,hasEditScope:!1}),(0,O.kc)().ds_variables_extended_sets&&s({handle:i,key:"createVariableCollectionExtension",metricsKey:"figma.variables.createVariableCollectionExtension",cb:(r,n)=>{let i=g(r);if(!i||"VARIABLE_SET"!==i.type)throw Error("Can only extend variable collections or other variable collection extensions");let a=e.getStringProp(r,"id");if(!U.gr.isValid(a))throw Error("The provided variable collection to extend is invalid");let s=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string,zSchema:F.string(),property:"name"}),l=o.createNewVariableCollectionExtension(a,s);return o.createVariableCollectionExtensionHandle(l)},isAllowedInReadOnly:!1,hasEditScope:!0}),e.shallowFreezeObject(i),i})())},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1})}({vm:e,videoStore:this.videoStore,imageStore:this.imageStore,figmaApi:g,variableFactory:this.variableFactory,variableCollectionFactory:this.variableCollectionFactory,defineVmFunction:this.defineVmFunction,defineVmIncrementalFunction:this.defineVmIncrementalFunction,defineVmProp:this.defineVmProp,incrementalSafeApi:this.options.incrementalSafeApi,documentAccessState:this.documentAccessState,pluginVersionID:this.options.pluginVersionID,getNode:this.getNode,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls}),function({vm:e,stats:r,validatedPermissions:n,figmaApi:i,variableFactory:a,variableCollectionFactory:o,defineVmFunction:s,defineVmProp:l}){l({handle:i,key:"teamLibrary",options:{enumerable:!1,metricsKey:"figma.teamLibrary",get:(0,nB.q8)(e,()=>{if(!n.permissions.includes("teamlibrary"))throw Error('"teamlibrary" permission not specified in manifest.json.');return function(){let r=e.newObject();return s({handle:r,key:"getAvailableLibraryVariableCollectionsAsync",metricsKey:"figma.teamLibrary.getAvailableLibraryVariableCollectionsAsync",cb:()=>o.getLibraryVariableCollectionsAsync(),isAllowedInReadOnly:!0,hasEditScope:!1}),s({handle:r,key:"getVariablesInLibraryCollectionAsync",metricsKey:"figma.teamLibrary.getVariablesInLibraryCollectionAsync",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"variableCollectionKey"});return a.getVariablesInLibraryCollectionAsync(n)},isAllowedInReadOnly:!0,hasEditScope:!1}),r}()})},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1})}({vm:e,stats:d,figmaApi:g,validatedPermissions:this.options.validatedPermissions,variableFactory:this.variableFactory,variableCollectionFactory:this.variableCollectionFactory,defineVmFunction:this.defineVmFunction,defineVmProp:this.defineVmProp})),this.defineVmProp({handle:g,key:"root",options:{enumerable:!1,metricsKey:"figma.root",get:()=>this.nodeFactory.createNode("0:0","root")},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmProp({handle:g,key:"mode",options:{metricsKey:"figma.mode",enumerable:!1,get:()=>{if((0,O.kc)().ext_lego_plugins_runmode){let r=this.getRunMode();return"inspect"!==r||this.options.capabilities.includes("inspect")||(r="panel"),e.newString(r)}let r="codegen"===this.options.triggeredFrom,n="related-link-preview"===this.options.triggeredFrom,i="related-link-auth"===this.options.triggeredFrom,a=this.fullscreenEditorType===nr.nT.DevHandoff&&!r,o="textreview"===this.options.command,s="default";return r?s="codegen":n?s="linkpreview":i?s="auth":a?s=this.options.capabilities.includes("inspect")?"inspect":"panel":o&&(s="textreview"),e.newString(s)}},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmProp({handle:g,key:"editorType",options:{get:()=>{var r;let n="figjam";switch(this.fullscreenEditorType){case nr.nT.Design:n="figma";break;case nr.nT.DevHandoff:n=(null==(r=this.options.editorType)?void 0:r.includes(eg.FW.DEV))?"dev":"inspect";break;case nr.nT.Whiteboard:n="figjam";break;case nr.nT.Slides:n="slides";break;case nr.nT.Sites:n="sites";break;default:(0,S.xb)(this.fullscreenEditorType)}return e.newString(n)},metricsKey:"figma.editorType",enumerable:!1},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0});let f=this;this.defineVmProp({handle:g,key:"currentPage",options:{enumerable:!1,metricsKey:"figma.currentPage",get:()=>{let r=f.privateSceneGraph.getCurrentPage();return null===r?e.null:((0,n0.av)(r.guid,this.documentAccessState),this.nodeFactory.createNode(r.guid,"currentPage"))},set:function(r){c&&(0,n0.xc)(!!u,"figma.currentPage =","figma.setCurrentPageAsync");let n=f.getNode(r);if("CANVAS"!==n.type)throw Error("figma.currentPage expects a PageNode");return f.privateSceneGraph.setCurrentPage(n.guid),e.null}},canWriteInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"setCurrentPageAsync",metricsKey:"figma.setCurrentPageAsync",cb:r=>{let n=this.getNode(r),{promise:i,resolve:a,reject:o}=e.newPromise();return R.zl.set(nn.rp,!0),e.registerPromise((0,n0.vf)(n.guid,this.documentAccessState)).then(()=>{if("CANVAS"!==n.type)throw Error("figma.setCurrentPageAsync expects a PageNode");this.privateSceneGraph.setCurrentPage(n.guid),a(e.null)}).catch(r=>o(e.newString(r.message))).finally(()=>{R.zl.set(nn.rp,!1)}),i},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"currentUser",options:{enumerable:!1,metricsKey:"figma.currentUser",get:()=>{if(!this.options.validatedPermissions.permissions.includes("currentuser"))throw Error(up("currentuser",{isWidget:this.isWidget}));return this.createUserApi()}},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"activeUsers",options:{enumerable:!1,metricsKey:"activeUsers",get:()=>{if(!this.options.validatedPermissions.permissions.includes("activeusers"))throw Error(up("activeusers",{isWidget:this.isWidget}));return this.createActiveUsersApi()}},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.isWidget?this.defineVmProp({handle:g,key:"widgetId",options:{enumerable:!1,metricsKey:"figma.widgetId",get:()=>e.newString(this.options.pluginID)},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}):this.defineVmProp({handle:g,key:"pluginId",options:{enumerable:!1,metricsKey:"figma.pluginId",get:()=>e.newString(this.options.pluginID)},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"command",options:{enumerable:!1,metricsKey:"figma.command",get:()=>this.isWidget?e.undefined:e.newString(r)},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.setQueryMode(n),e.defineProp(g,"mixed",{enumerable:!1,metricsKey:"figma.mixed",get:()=>this.mixedSentinel}),this.defineVmProp({handle:g,key:"skipInvisibleInstanceChildren",options:{enumerable:!1,metricsKey:"figma.skipInvisibleInstanceChildren",get:()=>e.newBoolean(this.skipInvisibleInstanceChildren),set:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.bool,zSchema:F.boolean(),property:"skipInvisibleInstanceChildren"});this.setSkipInvisibleInstanceChildren(n)}},canWriteInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"payments",options:{enumerable:!1,metricsKey:"figma.payments",get:(0,nB.q8)(e,()=>{if(!this.options.validatedPermissions.permissions.includes("payments"))throw Error('"payments" permission not specified in manifest.json.');return this.createPaymentsApi()})},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1});let _=this.inDesignOrDevHandoff();for(let{nodeType:r,createMethod:n}of nq)(0,nl.MT)(r)&&_&&!(0,O.kc)().figjam_plugins_create_in_df||!_&&nJ().includes(r)||_&&nQ().includes(r)||("TABLE"===r?this.defineVmFunction({handle:g,key:n,metricsKey:"figma."+n,cb:(i,a)=>{let o=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.integer.min(1).isOptional,zSchema:h.FiniteNumber.int().min(1).optional(),property:"options"}),s=(0,n_.u)({vm:e,handle:a,vmSchema:n_.By.integer.min(1).isOptional,zSchema:h.FiniteNumber.int().min(1).optional(),property:"options"}),l={tracking:rP.HzA.TRACK,...o&&{tableNumRows:o},...s&&{tableNumColumns:s}},d=this.privateSceneGraph.createNode(r,l);return(0,n0.av)(d.guid,this.documentAccessState),this.nodeFactory.createNode(d.guid,`figma.${n}`)},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}):this.defineVmFunction({handle:g,key:n,metricsKey:"figma."+n,cb:()=>{let e=this.privateSceneGraph.createNode(r);return(0,n0.av)(e.guid,this.documentAccessState),this.nodeFactory.createNode(e.guid,`figma.${n}`)},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}));this.defineVmFunction({handle:g,key:"flatten",metricsKey:"figma.flatten",cb:(r,n,i)=>{let{nodeIds:a,parent:o,index:s}=c1({vm:e,callerName:"flatten",nodes:r,parentArg:n,indexArg:i,getNode:this.getNode}),l=rP.NfO.flattenNodes(a,o?o.sessionID:-1,o?o.localID:-1,s);return this.nodeFactory.createNode(l,"figma.flatten")},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),_&&this.defineVmFunction({handle:g,key:"combineAsVariants",metricsKey:"figma.combineAsVariants",cb:this.makeGroupingOperationFunction("combineAsVariants",rP.fHP.STATE_GROUP),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"group",metricsKey:"figma.group",cb:this.makeGroupingOperationFunction("group",rP.fHP.GROUP),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"union",metricsKey:"figma.union",cb:this.makeGroupingOperationFunction("union",rP.fHP.UNION),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"subtract",metricsKey:"figma.subtract",cb:this.makeGroupingOperationFunction("subtract",rP.fHP.SUBTRACT),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"intersect",metricsKey:"figma.intersect",cb:this.makeGroupingOperationFunction("intersect",rP.fHP.INTERSECT),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"exclude",metricsKey:"figma.exclude",cb:this.makeGroupingOperationFunction("exclude",rP.fHP.XOR),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"ungroup",metricsKey:"figma.ungroup",cb:r=>{let n=this.getNode(r);if(!n)throw Error("Parent must be provided to ungroup()");let i=rP.NfO.ungroupNode(n.guid),a=e.newArray();return i.forEach((r,n)=>{let i=this.nodeFactory.createNode(r,"figma.ungroup");e.setProp(a,n.toString(),i)}),a},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"commitUndo",metricsKey:"figma.commitUndo",cb:r=>(rR.Y5.triggerAction("commit"),e.undefined),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"triggerUndo",metricsKey:"figma.triggerUndo",cb:r=>(rR.Y5.triggerAction("undo"),e.undefined),isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"createImage",metricsKey:"figma.createImage",cb:r=>{let n=this.imageStore.createImage((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.uint8Array,zSchema:h.UInt8Array,property:"createImage"}));return od(e,n)},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"createImageAsync",metricsKey:"figma.createImageAsync",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"createImageAsync"}),{promise:i,resolve:a,reject:o}=e.newPromise(),s=a4(n,this.options.allowedDomains);return e.registerPromise(s).then(r=>{a(od(e,this.imageStore.createImage(r)))}).catch(r=>o(e.newString(r.message))),i},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"getImageByHash",metricsKey:"figma.getImageByHash",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"getImageByHash"}),i=this.imageStore.getImageFromSHA1(n);return null===i?e.null:od(e,i)},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"createVideo",metricsKey:"figma.createVideo",cb:r=>{let{promise:n,resolve:i,reject:a}=e.newPromise();return e.registerPromise(this.videoStore.createVideoAsync((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.uint8Array,zSchema:h.UInt8Array,property:"createVideo"}))).then(r=>{i(ol(e,r))},r=>a(e.newString(`Failed create video. Error: ${r.message}`))),n},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"createVideoAsync",metricsKey:"figma.createVideoAsync",cb:r=>{let{promise:n,resolve:i,reject:a}=e.newPromise();return e.registerPromise(this.videoStore.createVideoAsync((0,n_.u)({vm:e,handle:r,vmSchema:n_.By.uint8Array,zSchema:h.UInt8Array,property:"createVideoAsync"}))).then(r=>{i(ol(e,r))},r=>a(e.newString(`Failed create video. Error: ${r.message}`))),n},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"listAvailableFontsAsync",metricsKey:"figma.listAvailableFontsAsync",cb:()=>{let{promise:r,resolve:n,reject:i}=e.newPromise();return e.registerPromise(ut()).then(r=>n(e.deepWrap(r)),r=>{i(e.newString("Internal error")),(0,L.$D)(D.e.EXTENSIBILITY,r)}),r},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"loadAllPagesAsync",metricsKey:"figma.loadAllPagesAsync",cb:()=>{if("textreview"===this.options.command||this.queryMode)throw Error("Unexpected call to figma.loadAllPagesAsync");let{promise:r,resolve:n}=e.newPromise();return e.registerPromise((0,r6.E)(null,null,rP._em.DYNAMIC_PLUGIN_LOAD_ALL)).then(r=>n(e.deepWrap(r))),this.documentAccessState.loadedAllPages(),r},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"loadFontAsync",metricsKey:"figma.loadFontAsync",cb:r=>{let{promise:n,resolve:i,reject:a}=e.newPromise(),o=(0,n_.u)({vm:e,handle:r,vmSchema:nz.VV,zSchema:h.FontName,property:"loadFontAsync"});return p+=1,setTimeout(()=>{e.registerPromise((0,n3.E)(o)).then(()=>{p-=1,i(e.undefined)},()=>{p-=1,a(e.newString(`The font "${o.family} ${o.style}" could not be loaded`))})}),n},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"hasMissingFont",options:{enumerable:!1,metricsKey:"hasMissingFont",get:()=>e.newBoolean(rP.NfO.documentHasMissingFont())},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmIncrementalFunction({handle:g,key:"getNodeById",hasEditScope:!1,metricsKey:"figma.getNodeById",incrementalSafeApiKey:"getNodeByIdAsync",incrementalSafeApiMetricsKey:"figma.getNodeByIdAsync",parseArg:r=>e.toString(r),prepareDocument:async e=>{await (0,n0.vf)(e,this.documentAccessState)},resolveValue:r=>(function({nodeID:e,vm:r,nodeFactory:n,method:i,sceneGraph:a}){if(!n$.test(e))return r.null;let o=a.guidFromDeveloperFriendlyId(e);if(!o)return r.null;let s=a.get(o);return void 0===s||s&&oa(r,s)?r.null:n.createNode(o,i)})({nodeID:r,vm:e,nodeFactory:this.nodeFactory,sceneGraph:this.privateSceneGraph,method:"figma.getNodeById"}),incrementalSafeApi:this.options.incrementalSafeApi,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls,isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1}),this.defineVmFunction({handle:g,key:"getSelectionColors",metricsKey:"figma.getSelectionColors",isAllowedInReadOnly:!0,cb:()=>{rP.Osy.collectPaintsAndSendToWeb();let{selectionPaints:r}=A.D.getState().mirror;if(r.emptyDueToLimitExceeded)return e.null;let n=e.newObject(),i=(r.paints.length?r.paints:r.paintsDirectlyOnSingleNode).map(e=>nv([e.paint])[0]),a=(r.styles.length?r.styles:r.stylesDirectlyOnSingleNode).map(r=>{let n=this.styleFactory.createStyle((0,rV.nM)({key:r.styleKey,version:(0,B.IA)(r.version)}));if(n!==e.null)return n;let i=this.privateSceneGraph.get(r.styleGUIDs[0]);if(!i)return null;let a=null==i?void 0:i.styleVersionHash,o=null==i?void 0:i.styleKey;return a&&o?this.styleFactory.createStyle((0,rV.nM)({key:o,version:a})):null}).filter(e=>null!=e),o=e.newArray();for(let r=0;r<a.length;r++)e.setProp(o,String(r),a[r]);return e.setProp(n,"paints",e.deepWrap(i)),e.setProp(n,"styles",o),n},hasEditScope:!1}),this.defineVmFunction({handle:g,key:"createNodeFromSvg",metricsKey:"figma.createNodeFromSvg",cb:r=>{let n=e.toString(r),i=rP.NfO.createNodeFromSvgForPlugin(n,rP.HzA.TRACK);if(""===i)throw Error("Failed to convert SVG file");return this.nodeFactory.createNode(i,"figma.createNodeFromSvg")},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"importStyleByKeyAsync",metricsKey:"figma.importStyleByKeyAsync",cb:r=>{let{promise:n,resolve:i,reject:a}=e.newPromise(),o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"key"});return e.registerPromise(ui(e,o,this.options.openFileKey)).then(({key:r,version:n})=>{let a=this.styleFactory.createStyle((0,rV.nM)({key:r,version:n}));if(e.isNull(a))throw Error("Unable to create style");i(a)},r=>{a(e.newString(`Failed to import style by key "${o}"`))}),n},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"importComponentByKeyAsync",metricsKey:"figma.importComponentByKeyAsync",cb:r=>{let{promise:n,resolve:i,reject:a}=e.newPromise(),o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"key"});return e.registerPromise(us(o)).then(e=>i(this.nodeFactory.createNode(e,"figma.importComponentByKeyAsync"))).catch(r=>{a(e.newString(r.message))}),n},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"importComponentSetByKeyAsync",metricsKey:"figma.importComponentSetByKeyAsync",cb:r=>{let{promise:n,resolve:i,reject:a}=e.newPromise(),o=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"key"});return e.registerPromise(ul(o)).then(e=>i(this.nodeFactory.createNode(e,"figma.importComponentSetByKeyAsync"))).catch(r=>{a(e.newString(`Failed to import component set by key "${o}"`))}),n},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"closePlugin",metricsKey:"figma.closePlugin",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string.isOptional,zSchema:F.string().optional(),property:"closePlugin message"});return p>0&&T.k.warn("There are still font loads in progress. Please ensure `closePlugin` is not called until after the font loading has resolved."),n?this.closePlugin({message:n,isError:!1}):this.closePlugin(),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"notify",metricsKey:"figma.notify",cb:(r,n)=>{if(this.queryMode)throw Error("Cannot notify in queryMode.");let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"notify message"}),a=(0,n_.Kb)(n&&(0,n_.u)({vm:e,handle:n,vmSchema:nz.ty.isOptional,zSchema:h.ShowVisualBellOptions.optional(),property:"notify options"})||{},{timeout:null,error:!1,button:void 0});null==a.timeout&&(a.timeout=a.error?1/0:3e3),a.timeout=Math.max(a.timeout,100);let o=null;a.button&&(o=(0,nB.yN)(a.button.action),e.retainHandle(o),a.button.action=()=>{if(!e.isDestroyed()){let r=e.callFunction(o,e.undefined);if("SUCCESS"===r.type){let n=e.deepUnwrap(r.handle);if("boolean"==typeof n)return n}}});let s=null;a.onDequeue&&(s=(0,nB.yN)(a.onDequeue),e.retainHandle(s));let l=`message-from-plugin-${this.visualBellCounter}`;return this.uiHandle.showPluginVisualBell(i,l,a,r=>{!e.isDestroyed()&&(s&&(e.callFunction(s,e.undefined,e.newString(r)),e.releaseHandle(s)),o&&e.releaseHandle(o))}),this.visualBellCounter++,function(e,r,n){let i=e.newObject();return e.defineFunction(i,"cancel","visualBellHandler.cancel",()=>(r.cancelPluginVisualBell(n),e.undefined)),i}(e,this.uiHandle,l)},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1});let y=c6;if(o&&(y=y.concat(c8)),this.options.isLocal||(y=y.concat(["codegen"])),y=y.concat(["stylechange"]),this.addEventHandlersTo(g,y,"figma"),this.options.parameterValues?this.triggerOrScheduleRunEvent({command:"parameters",parameters:this.options.parameterValues}):this.options.deferRunEvent||this.triggerOrScheduleRunEvent({command:"parameters"}),(0,M.nl)()&&this.defineVmFunction({handle:g,key:"closePluginWithFailure",metricsKey:"figma.closePluginWithFailure",cb:r=>{let n;try{n=e.toString(r)}catch(e){n='The plugin called "closePluginWithFailure"'}return this.closePlugin({message:n,isError:!0}),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"showUI",metricsKey:"figma.showUI",cb:(r,n)=>{let i=n_.By.exact({visible:n_.By.bool.isOptional,title:n_.By.string.isOptional,width:n_.By.integer.min(0).isOptional,height:n_.By.integer.min(0).isOptional,position:n_.By.exact({x:n_.By.float,y:n_.By.float}).isOptional,themeColors:n_.By.bool.isOptional}).isOptional,a=F.object({visible:F.boolean(),title:F.string(),width:h.FiniteNumber.min(0),height:h.FiniteNumber.min(0),position:F.object({x:h.FiniteNumber,y:h.FiniteNumber}),themeColors:F.boolean()}).partial().optional(),o=e.isObject(r)&&e.getBooleanProp(r,"__html__")&&this.options.html?this.options.html:(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"showUI"}),s=(0,n_.u)({vm:e,handle:n,vmSchema:i,zSchema:a,property:"showUI options"}),l=(0,n_.Kb)(s||{},{visible:!0,themeColors:!1}),c=this.validateMakeIframeOptionsOrThrow(o,{visible:l.visible,title:l.title,width:l.width,height:l.height,position:l.position,themeColors:l.themeColors});return d.increment(`showUI.${l.visible?"visible":"invisible"}`),l.themeColors&&d.increment("showUI.themeColors"),this.uiHandle.makeIframe(c),l.visible&&this.uiHandle.showIframe(),d.markTime("timeToShowUIMs"),e.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"saveVersionHistoryAsync",metricsKey:"figma.saveVersionHistoryAsync",cb:(r,n)=>{let i=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"saveVersionHistoryAsync"}),a=(0,n_.u)({vm:e,handle:n,vmSchema:n_.By.string.isOptional,zSchema:F.string().optional(),property:"saveVersionHistoryAsync"})||"",{promise:o,resolve:s,reject:l}=e.newPromise();return e.registerPromise(ur(i,a)).then(r=>{let n=e.newObject();e.setProp(n,"id",e.newString(r.id)),e.shallowFreezeObject(n),s(n)},r=>l(e.newString(`Failed to save version history. Error: ${r.message}`))),o},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"base64Encode",metricsKey:"figma.base64Encode",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.uint8Array,zSchema:h.UInt8Array,property:"base64Encode"});return e.deepWrap((0,I.lF)(n))},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"base64Decode",metricsKey:"figma.base64Decode",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"base64Decode"});if(!(0,I.tf)(n))throw Error("Invalid base64 string");return e.deepWrap((0,I.D4)(n))},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmIncrementalFunction({handle:g,key:"getFileThumbnailNode",metricsKey:"figma.getFileThumbnailNode",incrementalSafeApiKey:"getFileThumbnailNodeAsync",incrementalSafeApiMetricsKey:"figma.getFileThumbnailNodeAsync",prepareDocument:async e=>{e&&await (0,n0.vf)(e,this.documentAccessState)},parseArg:e=>{let r=A.D.getState(),n=(0,rK.tB)(r);return n?null==n?void 0:n.thumbnailGuid:null},resolveValue:r=>r&&this.privateSceneGraph.get(r)?this.nodeFactory.createNode(r,"getFileThumbnailNode"):e.null,incrementalSafeApi:this.options.incrementalSafeApi,allowIncrementalUnsafeApiCalls:!!this.options.allowIncrementalUnsafeApiCalls,isAllowedInReadOnly:!0,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"setFileThumbnailNodeAsync",metricsKey:"figma.setFileThumbnailNodeAsync",cb:r=>{var n;let i;let a=null==(n=A.D.getState().openFile)?void 0:n.key;if(null==a)throw Error("File must be open for editing");if(e.isNull(r))i=null;else{let e=this.getNode(r);if(!(("FRAME"===e.type||"SYMBOL"===e.type||"SECTION"===e.type)&&!e.resizeToFit))throw Error("Thumbnail node must be a FrameNode, ComponentNode, ComponentSetNode, or SectionNode");i=e.guid}let{promise:o,resolve:s,reject:l}=e.newPromise();return e.registerPromise((0,K.FE)(a,i)).then(()=>{s(e.undefined)}).catch(r=>{l(e.newString(`Failed to set thumbnail guid. Error: ${r.message}`))}),o},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmProp({handle:g,key:"parameters",options:{enumerable:!1,value:this.createParametersApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"codegen",options:{enumerable:!1,get:(0,nB.q8)(e,()=>this.createCodegenApi())},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"relatedLinks",options:{enumerable:!1,get:(0,nB.q8)(e,()=>{if(this.options.isLocal)throw Error("relatedLinks API is not available for local plugins. Please use the figma.devResources API instead.");return this.createDevResourcesApi()})},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"devResources",options:{enumerable:!1,get:()=>this.createDevResourcesApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"vscode",options:{enumerable:!1,value:this.createVsCodeApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"ui",options:{enumerable:!1,value:this.createUiApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"viewport",options:{enumerable:!1,value:this.createViewportApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"clientStorage",options:{enumerable:!1,value:this.createClientStorageApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmProp({handle:g,key:"constants",options:{enumerable:!1,value:this.createConstantsApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!0,hasEditScope:!1}),(0,O.kc)().internal_only_debug_tools&&this.defineVmProp({handle:g,key:"internal",options:{enumerable:!1,value:this.createInternalApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),!_){let r="createLinkPreviewAsync",n=this;this.defineVmFunction({handle:g,key:r,metricsKey:"figma.createLinkPreviewAsync",cb:i=>{let a=(0,n_.u)({vm:e,handle:i,vmSchema:n_.By.string,zSchema:F.string(),property:r}),{promise:o,resolve:s,reject:l}=e.newPromise();return e.registerPromise(un(this.privateSceneGraph,a)).then(e=>{(0,n0.av)(e,this.documentAccessState),n.editScope(r,()=>s(this.nodeFactory.createNode(e,"figma.createLinkPreviewAsync")))},r=>l(e.newString(`Failed to create an embed. Error: ${r.message}`))),o},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1})}function E(e,r,n){return cD(r.deepUnwrap(e,!0),{isLocalWidget:!1,widgetNodeID:"",pluginID:n.pluginID,widgetVersionID:n.pluginVersionID,widgetName:"",widgetApiVersion:"1.0.0",enableFullJsx:!0})}(!_||(0,M.nl)())&&this.defineVmFunction({handle:g,key:"createGif",metricsKey:"figma.createGif",cb:r=>{let n=(0,n_.u)({vm:e,handle:r,vmSchema:n_.By.string,zSchema:F.string(),property:"createGif"}),i=rP.glU.createRichMediaGifNode(n);if(!i)throw Error("Failed to create GIF");let a=[],o={data:nS(this.imageStore,this.videoStore,[{type:"IMAGE",scaleMode:"FILL",imageHash:n}],a),blobs:a},s=this.privateSceneGraph.get(i);if(null==s)throw Error("Failed to create GIF");return s.fillPaints=o,(0,n0.av)(i,this.documentAccessState),this.nodeFactory.createNode(i,"figma.createGif")},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),_&&(0,O.kc)().plugins_component_from_node&&this.defineVmFunction({handle:g,key:"createComponentFromNode",metricsKey:"figma.createComponentFromNode",cb:e=>{let r=this.privateSceneGraph.createComponentFromNode(this.getNode(e).guid);return this.nodeFactory.createNode(r.guid,"figma.createComponentFromNode")},isAllowedInReadOnly:!1,hasEditScope:!0}),this.isWidget?this.defineWidgetApi(g):this.defineWidgetLiteApi(g),this.options.enableNativeJsx&&this.defineVmFunction({handle:g,key:"reconcileNodeFromJSXAsync",metricsKey:"figma.reconcileNodeFromJSXAsync",cb:(r,n,i)=>{let a=e.deepUnwrap(r,!0),o=E(n,e,this.options),s=E(i,e,this.options),{runtimeBridge:l,shutdownCallback:d}=ue.createRuntimeBridgeForWidgetReconciler(this.options.pluginID,this.vm,this.ignoreEditActionsScope);d&&this.options.addShutdownAction(d);let c=a3(()=>({rootNode:o,syncedState:{}}),l,this.options.allowedDomains),u=a3(()=>({rootNode:s,syncedState:{}}),l,this.options.allowedDomains),{promise:p,resolve:h,reject:m}=e.newPromise();return e.registerPromise((async()=>{try{let[e,r]=await Promise.all([c,u]),n=this.privateSceneGraph.getCurrentPage(),i=cG({vNode:r.vRoot.rootNode,oldVNode:e.vRoot.rootNode,imgInfoMap:r.imgInfoMap,runtime:l,parentId:n.guid,currentNodeId:a.id,editScopeLabel:"reconcile-node-from-jsx"}),o=this.nodeFactory.createNode(i.getID(),"figma.reconcileNodeFromJSXAsync");h(o)}catch(r){m(e.newString(r.message))}})()),p},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmFunction({handle:g,key:"createNodeFromJSXAsync",metricsKey:"figma.createNodeFromJSXAsync",cb:r=>{let n=cD(this.vm.deepUnwrap(r,!0),{isLocalWidget:!1,widgetNodeID:"",pluginID:this.options.pluginID,widgetVersionID:this.options.pluginVersionID,widgetName:"",widgetApiVersion:"1.0.0",enableFullJsx:this.options.enableNativeJsx??!1}),{runtimeBridge:i,shutdownCallback:a}=ue.createRuntimeBridgeForWidgetReconciler(this.options.pluginID,this.vm,this.ignoreEditActionsScope);a&&this.options.addShutdownAction(a);let o=a3(()=>({rootNode:n,syncedState:{}}),i,this.options.allowedDomains).then(e=>{let r=this.privateSceneGraph.getCurrentPage();return cG({vNode:e.vRoot.rootNode,imgInfoMap:e.imgInfoMap,runtime:i,parentId:r.guid,editScopeLabel:"create-node-from-jsx"}).getID()}),{promise:s,resolve:l,reject:d}=e.newPromise();return e.registerPromise(o).then(e=>{l(this.nodeFactory.createNode(e,"figma.createNodeFromJSXAsync"))}).catch(r=>d(e.newString(r.message))),s},isAllowedInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!0}),this.defineVmProp({handle:g,key:"util",options:{enumerable:!1,metricsKey:"figma.util",value:this.createUtilApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!0,hasEditScope:!1}),this.options.capabilities.some(e=>"textreview"===e)&&this.defineVmProp({handle:g,key:"textreview",options:{enumerable:!1,value:this.createTextReviewApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineInternalApis(g),(!_||(0,M.nl)())&&this.defineVmProp({handle:g,key:"timer",options:{enumerable:!1,value:this.createTimerApi()},canWriteInReadOnly:!1,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.options.validatedPermissions.permissions.includes("displaycapture")&&this.defineVmFunction({handle:g,key:"getDisplayMetadataAsync",metricsKey:"figma.getDisplayMetadataAsync",cb:r=>{if(!w.eD){let{promise:r,resolve:n}=e.newPromise();return n(e.null),r}let n=(0,n_.u)({vm:e,handle:r,vmSchema:nz.X5.isOptional,zSchema:h.Size.optional(),property:"thumbnailSize"})??{width:150,height:150},i=w.eD.getDisplayMetadata(n),{promise:a,resolve:o,reject:s}=e.newPromise();return e.registerPromise(i).then(r=>o(e.deepWrap(r)),r=>s(e.newString("Failed to get display metadata"))),a},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),this.defineVmFunction({handle:g,key:"openExternal",metricsKey:"figma.openExternal",cb:e=>{let r=(0,n_.u)({vm:this.vm,handle:e,vmSchema:n_.By.string,zSchema:F.string(),property:"url"});return(0,rG.T)()?(0,ne.Qn)(r):N.Ay.unsafeRedirect(r,"_blank"),this.vm.undefined},isAllowedInReadOnly:!0,isAllowedInWidgetRender:!1,hasEditScope:!1}),function(e){let{vm:r,figmaApi:n,openFileKey:i,pluginID:a}=e,o=(0,O.tl)().zeplin_plugin_id;o&&a===o&&r.defineFunction(n,"infoForZeplinExportAsync","figma.infoForZeplinExportAsync",()=>{let{promise:e,resolve:n,reject:a}=r.newPromise();return i?n(r.deepWrap({fileKey:i})):a(r.newString("Failed to get the fileKey")),e}),a&&(a===(0,O.tl)().avocode_plugin_id||a===(0,O.tl)().avocode_markup_plugin_id)&&r.defineFunction(n,"infoForAvocodeExportAsync","figma.infoForAvocodeExportAsync",()=>{let{promise:e,resolve:n,reject:a}=r.newPromise();return rF(i).then(({token:e})=>n(r.deepWrap({token:e})),e=>{a(r.newString("Failed to generate Avocode export information"))}),e})}({vm:e,figmaApi:g,openFileKey:this.options.openFileKey,pluginID:i}),e.shallowFreezeObject(g)}async closePlugin(e){"close"!==this.runningSyncEvent&&(await this.options.closePlugin(e),"codegen"===this.options.triggeredFrom&&setTimeout(()=>no(),0))}static createRuntimeBridgeForWidgetReconciler(e,r,n){if(r instanceof n7.i)return{runtimeBridge:new nA(e,r,n),shutdownCallback:void 0};let{vm:i,api:a}=uu({apiMode:{type:"WIDGET_RECONCILER"},pluginID:e,enableNativeJsx:!1});return{runtimeBridge:new nA(e,i,a.ignoreEditActionsScope),shutdownCallback:()=>a.closePlugin()}}}async function ut(){let e=A.D.getState().fonts,r=[];for(let n in e){let i=new Set,a=e[n];for(let e in a){let o=a[e];for(let e in o.styles)i.has(e)||(i.add(e),r.push({fontName:{family:n,style:e}}))}}return r.sort((e,r)=>e.fontName.family>r.fontName.family?1:e.fontName.family<r.fontName.family?-1:e.fontName.style>r.fontName.style?1:e.fontName.style<r.fontName.style?-1:0),r}async function ur(e,r){let n=await rR.Y5.openFileKeyPromise();if(!n)throw Error("File must be open for editing");if(!e)throw Error("Version title must be non-empty");let i=await (0,r8.m)(n,e,r,A.D.dispatch);if(null===i)throw Error("createSavepoint() returned null");return i}async function un(e,r){let n=(0,C.KJ)(r);if(!n||n.isFromIFrame)throw Error("The provided text was not a URL");let i=await (0,z.yn)(r,n.url,n.isFromIFrame,rN.WJ.PLUGIN,A.D.getState());if("error"===i.status)throw Error(i.error);if(i.nodeID&&e.get(i.nodeID))return i.nodeID;throw Error("Could not find the created link preview in the documnet")}async function ui(e,r,n){let i;let a=A.D,o=a.getState(),s=(0,rj.yh)(r,o.library.used__LIVEGRAPH.styles,o.library.openFilePublished__LIVEGRAPH.styles)||await (0,j.Ky)(a,r);if(!s)throw Error(`Could not find a published style with the key "${r}"`);if((0,X.TK)(s,n))return{key:(0,B.n3)(s.key),version:(0,B.IA)(s.content_hash)??B.IA.INVALID};try{i=await (0,Y.e9)(a.dispatch,s,s.file_key,o.hubFiles,!!o.userFlags.apple_eula_accepted)}catch(e){throw Error(`Failed to download the style with the key "${r}"`)}let l=rL.l7.system("upsert-shared-style-plugin",()=>rP.BXd.getOrCreateSubscribedStyleNodeId(s.key,s.content_hash??B.IA.INVALID,s.file_key,i));if(null==l?void 0:l.fileUpdateRequired)throw Error("Can't insert style of a different file version");return a.dispatch(K.PB({fileKeys:[s.file_key]})),{key:(0,B.n3)(l.key),version:(0,B.IA)(l.version)}}async function ua(e,r){let n=A.D,i=n.getState(),a=e.node_id;if(!(0,X.TK)(e,r)){let r;try{r=await (0,Y.e9)(n.dispatch,e,e.file_key,i.hubFiles,!!i.userFlags.apple_eula_accepted)}catch(r){throw Error(`Failed to download the component with the key "${e.component_key}"`)}let o=rL.l7.system("upsert-shared-symbol-plugin",()=>rP.BXd.upsertSharedSymbol(e.component_key??B.ii.INVALID,e.content_hash??B.F7.INVALID,e.file_key,rP.zol.NO,r,rP.ZiZ.ACTIVE_SCENE));if(o.fileUpdateRequired)throw Error("Can't insert component of a different file version");a=o.localGUID}return a}async function uo(e,r){let n=A.D,i=n.getState(),a=e.node_id;if(!(0,X.TK)(e,r)){let r;try{r=await (0,Y.e9)(n.dispatch,e,e.file_key,i.hubFiles,!!i.userFlags.apple_eula_accepted)}catch(r){throw Error(`Failed to download the component set with the key "${e.key}"`)}let o=rL.l7.system("upsert-shared-state-group-plugin",()=>rP.BXd.upsertSharedStateGroup(e.key,e.version,e.file_key,rP.zol.NO,r,rP.ZiZ.ACTIVE_SCENE));if(o.fileUpdateRequired)throw Error("Can't insert state group of a different file version");a=o.localGUID}return a}async function us(e,r=rB.z.instance){var n,i,a;let o=A.D,s=o.getState(),l=(0,Z.d1)(s);if(!l)throw Error("Missing a current file");let d=null,c=null,u=s.library.published,p=s.library.movedLibraryItems.subscribed[e]||e;if((0,rj.Vd)(u.components,(e,r,n)=>{var i,a;let o=u.components[e][r][n];if(o.component_key===p){d=o;let n=null==(a=null==(i=o.containing_frame)?void 0:i.containingStateGroup)?void 0:a.nodeId;n&&(c=u.stateGroups[e][r][n])}}),(0,O.kc)().ds_block_unpublished_symbol_reqs&&!d){for(let r of Object.values(s.library.local.components))if(!r.component_key&&rP.Egt.getAssetKeyForPublish(r.node_id)===e)throw Error(`Cannot import component with key "${e}" since it is unpublished`)}if(!d&&({component:d,parentStateGroup:c}=await (0,j.u7)(o,p,"importComponentByKeyAsync"),!d))throw Error(`Could not find a published component with the key "${e}"`);if(null==(i=null==(n=d.containing_frame)?void 0:n.containingStateGroup)||!i.nodeId||null==c||!c.key)return o.dispatch(K.PB({fileKeys:[d.file_key]})),await ua(d,l.key);{let n=await ul(c.key);for(let e of(null==(a=r.get(n))?void 0:a.reversedChildrenGuids)||[]){let n=r.get(e);if(n&&n.componentKey===d.component_key)return n.guid}throw Error(`Could not find a published component set with the key "${e}"`)}}async function ul(e){let r=A.D,n=r.getState(),i=(0,Z.d1)(n);if(!i)throw Error("Missing a current file");let a=null,o=n.library.published.stateGroups,s=n.library.movedLibraryItems.subscribed[e]||e;if((0,rj.Vd)(o,(e,r,n)=>{let i=o[e][r][n];i.key===s&&(a=i)}),!a&&!(a=await (0,j.zn)(r,s)))throw Error(`Could not find a published component set with the key "${e}"`);return r.dispatch(K.PB({fileKeys:[a.file_key]})),await uo(a,i.key)}function ud(e){var r;return(null==(r=(e??rB.z.instance).getCurrentPage())?void 0:r.directlySelectedNodes)||[]}function uc(e){let r={};for(let n in e){let i=e[n];i&&(r[n]=void 0!==i.data?i.data:i.name)}return r}function uu({apiMode:e,pluginID:r,enableNativeJsx:n}){var i,a;let{addShutdownAction:o,closePlugin:s,noOpVm:l}=(0,nB.e0)(),d=new ue(l,{stats:new nu.P,name:"",command:"",pluginID:"",pluginVersionID:"",queryMode:!1,userID:(null==(i=A.D.getState().user)?void 0:i.id)||"",titleIconURL:"",openFileKey:(null==(a=A.D.getState().openFile)?void 0:a.key)||"",apiVersion:r4.pS,apiMode:{type:"GLOBAL_API"},enableProposedApi:!0,enablePrivatePluginApi:!0,deferRunEvent:!1,validatedPermissions:t0.qH.forConsoleGlobal(),isLocal:!0,capabilities:[],allowedDomains:sC.gH,editorType:[eg.FW.FIGMA,eg.FW.FIGJAM,eg.FW.INSPECT,eg.FW.DEV,eg.FW.SITES],html:null,incrementalSafeApi:!1,enableNativeJsx:!1,apiMode:e,pluginID:r,closePlugin:s,addShutdownAction:o,enableNativeJsx:n??!1});return d.createAPI(),{vm:l,api:d}}function up(e,r={}){let n=(null==r?void 0:r.isWidget)?"https://www.figma.com/widget-docs/widget-manifest/#permissions":"https://www.figma.com/plugin-docs/manifest/#permissions";return`"${e}" permission not specified in manifest.json. Add the following to your manifest.json: "permissions": ["${e}"]. See ${n} for more details.`}},20441:(e,r,n)=>{"use strict";n.d(r,{E:()=>o,o:()=>s});var i=n(52800),a=n(33739);function o({family:e,style:r}){return new Promise((n,o)=>{let s=i.NfO.startLoadingFontName(e,r);if(s===i.bk.LOADED){n();return}if(s===i.bk.LOADING){let s=l=>{l===i.bk.LOADED?((0,a.yV)(e,r,s),n()):l===i.bk.FAILED&&((0,a.yV)(e,r,s),o(Error(`Failed to load font: ${e} ${r}`)))};(0,a.Ri)(e,r,s);return}o()})}async function s(){await o({family:"Noto Sans",style:"Regular"}),await o({family:"Noto Sans",style:"Bold"}),await o({family:"Noto Sans",style:"Italic"}),await o({family:"Noto Sans",style:"Bold Italic"}),await o({family:"Noto Sans Symbols",style:"Regular"}),await o({family:"Noto Sans Symbols",style:"Bold"}),await o({family:"Noto Sans Symbols2",style:"Regular"})}},83452:(e,r,n)=>{"use strict";n.d(r,{i:()=>p,j:()=>u});var i,a=n(96846);let o=Symbol("internal"),s=Symbol("wasDestroyed"),l=Function.prototype.apply;function d(e,r){if(e[s])throw Error(a.Xt);if("object"==typeof r&&null!==r&&o in r)throw Error("Wrapping a handle twice!");return{[o]:r}}function c(e,r){if(e[s])throw Error(a.Xt);if("object"!=typeof r||null===r||!(o in r))throw Error("The provided value is not a handle");return r[o]}class u{constructor(){this.vmType="noopvm",this.errorHandler=()=>{},this.executionDepth=0,this[i]=!1,this._stats=null,this.global=d(this,window),this.null=d(this,null),this.undefined=d(this,void 0)}typeof(e){return typeof c(this,e)}isNumber(e){return"number"==typeof c(this,e)}isBoolean(e){return"boolean"==typeof c(this,e)}isString(e){return"string"==typeof c(this,e)}isNull(e){return null===c(this,e)}isUndefined(e){return void 0===c(this,e)}isObject(e){let r=c(this,e);return"object"==typeof r&&null!==r}isArray(e){return Array.isArray(c(this,e))}isArrayBuffer(e){return c(this,e) instanceof ArrayBuffer}isUint8Array(e){return c(this,e) instanceof Uint8Array}isFunction(e){return c(this,e) instanceof Function}shallowFreezeObject(e){Object.freeze(c(this,e))}getNumber(e){let r=c(this,e);if("number"!=typeof r)throw Error("Value is not a number");return r}getBoolean(e){let r=c(this,e);if("boolean"!=typeof r)throw Error("Value is not a boolean");return r}getString(e){let r=c(this,e);if("string"!=typeof r)throw Error("Value is not a string");return r}getArrayBuffer(e){if(!this.isArrayBuffer(e))throw Error("Value is not a ArrayBuffer");return ArrayBuffer.prototype.slice.call(c(this,e),0)}getUint8Array(e){if(!this.isUint8Array(e))throw Error("Value is not a Uint8Array");return new Uint8Array(c(this,e))}toNumber(e){let r=c(this,e);try{return+r}catch(e){throw new a.wC(this,d(this,e))}}toBoolean(e){let r=c(this,e);try{return!!r}catch(e){throw new a.wC(this,d(this,e))}}toString(e){let r=c(this,e);try{return""+r}catch(e){throw new a.wC(this,d(this,e))}}newNumber(e){if("number"!=typeof e)throw Error("Value is not a number");return d(this,e)}newBoolean(e){if("boolean"!=typeof e)throw Error("Value is not a boolean");return d(this,e)}newString(e){if("string"!=typeof e)throw Error("Value is not a string");return d(this,e)}newObject(e){if(!e)return d(this,{});{let r;try{r=Object.create(c(this,e))}catch(e){throw new a.wC(this,d(this,e))}return d(this,r)}}newArray(){return d(this,[])}newArrayBuffer(e){if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return d(this,ArrayBuffer.prototype.slice.call(e,0));throw Error("Value is not an ArrayBuffer")}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return d(this,new Uint8Array(e));throw Error("Value is not an Uint8Array")}isEqual(e,r){return c(this,e)===c(this,r)}newFunction(e,r){let n=this,i=function(...i){let a;let o=d(n,this),s=i.map(e=>d(n,e));for(;s.length<r.length;)s.push(n.undefined);try{a=r.apply(o,s)}catch(n){let r="";throw n&&n.message&&(r=": "+n.message),Error("in "+e+r)}return void 0===a?void 0:c(n,a)};return Object.defineProperty(i,"name",{writable:!1,value:e}),d(n,i)}newPromise(){let e=()=>{},r=()=>{};return{promise:d(this,new Promise((n,i)=>{e=n,r=i})),resolve:r=>e(c(this,r)),reject:e=>r(c(this,e))}}getKeys(e){return Object.keys(c(this,e))}getProp(e,r){let n;let i=c(this,e);try{n=i[r]}catch(e){throw new a.wC(this,d(this,e))}return d(this,n)}setProp(e,r,n){let i=c(this,e),o=c(this,n);try{i[r]=o}catch(e){throw new a.wC(this,d(this,e))}}defineProp(e,r,n){let i={};"configurable"in n&&(i.configurable=!!n.configurable),"enumerable"in n&&(i.enumerable=!!n.enumerable),"writable"in n&&(i.writable=!!n.writable),"value"in n&&n.value&&(i.value=c(this,n.value)),"get"in n&&n.get&&(i.get=c(this,this.newFunction("get_"+r,n.get))),"set"in n&&n.set&&(i.set=c(this,this.newFunction("set_"+r,n.set))),Object.defineProperty(c(this,e),r,i)}callFunction(e,r,...n){let i=c(this,e),o=c(this,r),s=n.map(e=>c(this,e));try{this.executionDepth++;let e=l.call(i,o,s);return{type:"SUCCESS",handle:d(this,e)}}catch(r){console.error(r);let e=new a.wC(this,d(this,r));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalCode(e){try{this.executionDepth++;let r=(0,eval)('"use strict";\n'+e);return{type:"SUCCESS",handle:d(this,r)}}catch(r){console.error(r);let e=new a.wC(this,d(this,r));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalTopLevelCode(e){let r=this.evalCode(e);return"SUCCESS"===r.type&&(r.handle=this.undefined),r}evalTrustedCode(e){return this.evalCode(e)}evalTrustedTopLevelCode(e){return this.evalTopLevelCode(e)}setAbortHandler(e){}setErrorHandler(e){this.errorHandler=e}getStats(){return this._stats}setStats(e){this._stats=e}destroy(){this[s]=!0}isDestroyed(){return this[s]}retainHandle(e){}releaseHandle(e){}}i=s;class p extends u{constructor(){super(),this.vmType="scopednoopvm",this.scope={},this.isTrusted=!1,this.global=d(this,this.scope)}evalTrustedCode(e){let r;this.isTrusted=!0;try{r=this.evalCode(e)}finally{this.isTrusted=!1}return r}evalTrustedTopLevelCode(e){let r;this.isTrusted=!0;try{r=this.evalTopLevelCode(e)}finally{this.isTrusted=!1}return r}evalCode(e){if(!this.isTrusted)throw Error("Scoped NoOp Vm can only run trusted code");let{figma:r}=this.scope,n=window.figma;window.figma=r;try{let r=(0,eval)(e);return window.figma=n,{type:"SUCCESS",handle:d(this,r)}}finally{window.figma=n}}}},27246:(e,r,n)=>{"use strict";n.d(r,{$F:()=>i,MT:()=>a,N2:()=>o,SI:()=>s});let i=["DOCUMENT","PAGE","SLICE","FRAME","GROUP","COMPONENT","COMPONENT_SET","INSTANCE","BOOLEAN_OPERATION","VECTOR","RECTANGLE","LINE","ELLIPSE","POLYGON","STAR","TEXT","STICKY","SHAPE_WITH_TEXT","CONNECTOR","CODE_BLOCK","WIDGET","STAMP","LINK_UNFURL","EMBED","HIGHLIGHT","SECTION","MEDIA","SECTION_OVERLAY","WASHI_TAPE","TABLE","TABLE_CELL","VARIABLE","VARIABLE_SET","SLIDE"];function a(e){return["STICKY","SHAPE_WITH_TEXT","CONNECTOR","CODE_BLOCK","MEDIA","TABLE"].includes(e)}let o=["width","height","maxWidth","minWidth","maxHeight","minHeight","fills","strokes","effects","strokeWeight","cornerRadius","textStyleId","textAlignHorizontal","fontFamily","fontStyle","fontSize","fontWeight","lineHeight","letterSpacing","itemSpacing","padding","layoutMode","alignItems","opacity","mainComponent"],s=["TOP","RIGHT","BOTTOM","LEFT"]},91463:(e,r,n)=>{"use strict";let i;n.d(r,{$_:()=>J,AL:()=>eU,CE:()=>ej,CL:()=>tS,Cs:()=>R,D5:()=>I,D6:()=>ep,DH:()=>tb,DK:()=>X,Dw:()=>e9,EK:()=>ee,G7:()=>eG,Gn:()=>Y,HN:()=>O,HZ:()=>ti,I:()=>M,JK:()=>eo,Ln:()=>U,MZ:()=>er,Mi:()=>E,Mj:()=>eS,Nx:()=>S,OQ:()=>w,OR:()=>A,PN:()=>tg,Pi:()=>eC,Pq:()=>eB,Q1:()=>g,QR:()=>$,QS:()=>ta,Qy:()=>j,R2:()=>eq,Re:()=>tt,SI:()=>Z,S_:()=>es,Sr:()=>T,UG:()=>tr,Uv:()=>et,VV:()=>ex,Vf:()=>e8,W5:()=>B,WZ:()=>eg,X5:()=>b,Xk:()=>tI,Xw:()=>tv,Zs:()=>u,_C:()=>q,_O:()=>e6,a$:()=>eZ,aK:()=>k,aT:()=>m,b7:()=>Q,bm:()=>ts,dc:()=>eI,dj:()=>eX,ds:()=>tA,ee:()=>p,fB:()=>H,fK:()=>td,fL:()=>eM,fq:()=>en,h$:()=>f,hK:()=>tN,hb:()=>e5,ho:()=>z,i8:()=>V,iC:()=>tT,iF:()=>tf,iI:()=>tn,iQ:()=>th,i_:()=>W,ib:()=>e3,j0:()=>N,jw:()=>F,mk:()=>c,oJ:()=>eh,or:()=>ea,pB:()=>tc,qm:()=>tw,rt:()=>tR,s4:()=>d,s9:()=>eA,ty:()=>e7,uq:()=>y,vc:()=>P,wq:()=>to,zF:()=>ei,zv:()=>x});var a=n(66712),o=n(52800),s=n(27246),l=n(22416);let d=l.By.float.range(0,1),c=l.By.float.min(0),u=l.By.float.min(.01),p=l.By.integer.min(0),h=l.By.exact({id:l.By.string}),m=l.By.oneOf([0,1]),g=l.By.exact({r:l.By.float.range(0,1),g:l.By.float.range(0,1),b:l.By.float.range(0,1)}),f=l.By.exact({r:l.By.float.range(0,1),g:l.By.float.range(0,1),b:l.By.float.range(0,1),a:l.By.float.range(0,1)}),_=l.By.exact({0:l.By.float,1:l.By.float,2:l.By.float}),y=l.By.exact({0:_,1:_}),E=l.By.exact({x:l.By.float,y:l.By.float}),b=l.By.exact({width:l.By.float,height:l.By.float}),v=l.By.exact({id:l.By.string,type:"VARIABLE_ALIAS"}),S=l.By.oneOf(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),I=l.By.oneOf(["ALPHA","VECTOR","LUMINANCE"]),T=l.By.exact({color:l.By.exact({type:l.By.oneOf(["VARIABLE_ALIAS"]),id:l.By.string}).isOptional}),w=l.By.oneOf(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),C=l.By.oneOf(["MIN","CENTER","MAX","STRETCH","SCALE"]),A=l.By.oneOf(["CENTER","INSIDE","OUTSIDE"]),N=l.By.oneOf(["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"]),O=l.By.oneOf(["MITER","BEVEL","ROUND"]),R=l.By.oneOf(["NONE","ANGLE","ANGLE_AND_LENGTH"]),P=l.By.exact({horizontal:C,vertical:C}),L=l.By.oneOf(["DOCUMENT","SRGB","DISPLAY_P3_V4"]).isOptional,D=l.By.oneOf(["PIXELS","PERCENT"]),M=l.By.exact({value:l.By.float,unit:D}),k=l.By.oneOf([l.By.exact({value:l.By.float,unit:D}),l.By.exact({unit:"AUTO"})],"unit"),x=l.By.oneOf(["CAP_HEIGHT","NONE"]),F=l.By.oneOf(["LEFT","CENTER","RIGHT","JUSTIFIED"]),U=l.By.oneOf(["TOP","CENTER","BOTTOM"]),B=l.By.oneOf(["ORIGINAL","UPPER","LOWER","TITLE","SMALL_CAPS","SMALL_CAPS_FORCED"]),V=l.By.oneOf(["NONE","UNDERLINE","STRIKETHROUGH"]),H=l.By.oneOf(["NONE","WIDTH_AND_HEIGHT","HEIGHT","TRUNCATE"]),G=l.By.oneOf(["NONE","ORDERED","UNORDERED"]),W=l.By.exact({type:G}),z=l.By.integer.range(0,5),K=l.By.oneOf(["URL","NODE"]),j=l.By.oneOf([l.By.exact({type:K,value:l.By.string}),null]),Y=l.By.exact({type:"READY_FOR_DEV"}),$=l.By.oneOf(["NONE","HORIZONTAL","VERTICAL","BOTH"]),q=l.By.oneOf(["MIN","CENTER","MAX","STRETCH","INHERIT"]),Z=l.By.oneOf(["NONE","HORIZONTAL","VERTICAL"]),X=l.By.oneOf(["NO_WRAP","WRAP"]),J=l.By.oneOf(["AUTO","SPACE_BETWEEN"]),Q=l.By.oneOf(["MIN","MAX","CENTER","SPACE_BETWEEN"]),ee=l.By.oneOf(["MIN","MAX","CENTER","SPACE_BETWEEN","SPACE_BETWEEN_LEGACY"]),et=l.By.oneOf(["MIN","MAX","CENTER","BASELINE"]),er=l.By.oneOf(["FIXED","AUTO"]),en=l.By.oneOf(["FIXED","AUTO","LEGACY_AUTO"]),ei=l.By.oneOf(["FIXED","HUG","FILL"]),ea=l.By.oneOf(["AUTO","ABSOLUTE"]),eo=l.By.oneOf(["DISABLED","ENDING"]),es=l.By.oneOf([l.By.integer.min(1),null]),el=l.By.exact({pattern:l.By.oneOf(["COLUMNS","ROWS"]),alignment:l.By.oneOf(["MIN","MAX"]),gutterSize:l.By.float,count:l.By.oneOf([p,1/0]),sectionSize:l.By.float.min(0),offset:l.By.float.min(0),visible:l.By.bool.isOptional,color:f.isOptional,boundVariables:l.By.exact({gutterSize:v.isOptional,count:v.isOptional,sectionSize:v.isOptional,offset:v.isOptional}).isOptional}),ed=l.By.exact({pattern:l.By.oneOf(["COLUMNS","ROWS"]),alignment:"STRETCH",gutterSize:l.By.float,count:p,offset:l.By.float.min(0),visible:l.By.bool.isOptional,color:f.isOptional,boundVariables:l.By.exact({gutterSize:v.isOptional,count:v.isOptional,offset:v.isOptional}).isOptional}),ec=l.By.exact({pattern:l.By.oneOf(["COLUMNS","ROWS"]),alignment:"CENTER",gutterSize:l.By.float,count:l.By.oneOf([p,1/0]),sectionSize:l.By.float.min(0),visible:l.By.bool.isOptional,color:f.isOptional,boundVariables:l.By.exact({gutterSize:v.isOptional,count:v.isOptional,sectionSize:v.isOptional}).isOptional}),eu=l.By.exact({pattern:"GRID",sectionSize:l.By.float.min(0),visible:l.By.bool.isOptional,color:f.isOptional,boundVariables:l.By.exact({sectionSize:v.isOptional}).isOptional}),ep=l.By.oneOf([el,ed,ec,eu]),eh=l.By.arrayOf(ep),em=l.By.exact({type:o.Z_n.COLOR,value:f}),eg=l.By.oneOf([l.By.exact({type:o.Z_n.STRING,value:l.By.string}),l.By.exact({type:o.Z_n.BOOLEAN,value:l.By.bool}),l.By.exact({type:o.Z_n.FLOAT,value:l.By.float}),em,(i=[o.rXF.STRING,o.rXF.FLOAT,o.rXF.BOOLEAN,o.rXF.COLOR],l.By.exact({type:o.Z_n.ALIAS,value:l.By.string,resolvedType:l.By.oneOf(i)}))]),ef=l.By.exact({color:v.isOptional,radius:v.isOptional,spread:v.isOptional,offsetX:v.isOptional,offsetY:v.isOptional}),e_=l.By.exact({radius:v.isOptional}),ey={offset:E,color:f,blendMode:S,radius:l.By.float.min(0),spread:l.By.float.isOptional,visible:l.By.bool,boundVariables:ef.isOptional},eE=l.By.exact({...ey,type:"INNER_SHADOW"}),eb=l.By.exact({...ey,type:"DROP_SHADOW",showShadowBehindNode:l.By.bool.isOptional}),ev=l.By.exact({type:l.By.oneOf(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:l.By.float.min(0),visible:l.By.bool,boundVariables:e_.isOptional}),eS=l.By.oneOf([eE,eb,ev],"type"),eI=l.By.arrayOf(eS),eT=l.By.exact({position:d,color:f,boundVariables:T.isOptional}),ew=l.By.exact({exposure:l.By.float.range(-1,1).isOptional,contrast:l.By.float.range(-1,1).isOptional,saturation:l.By.float.range(-1,1).isOptional,temperature:l.By.float.range(-1,1).isOptional,tint:l.By.float.range(-1,1).isOptional,highlights:l.By.float.range(-1,1).isOptional,shadows:l.By.float.range(-1,1).isOptional}),eC=l.By.oneOf([l.By.exact({type:"SOLID",color:g,visible:l.By.bool.isOptional,opacity:d.isOptional,blendMode:S.isOptional,boundVariables:T.isOptional}),l.By.exact({type:l.By.oneOf(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:y,gradientStops:l.By.arrayOf(eT),visible:l.By.bool.isOptional,opacity:d.isOptional,blendMode:S.isOptional}),l.By.exact({type:"IMAGE",scaleMode:l.By.oneOf(["FILL","FIT","CROP","TILE"]),imageHash:l.By.string,scalingFactor:c.isOptional,rotation:p.isOptional,imageTransform:y.isOptional,filters:ew.isOptional,visible:l.By.bool.isOptional,opacity:d.isOptional,blendMode:S.isOptional}),l.By.exact({type:"VIDEO",scaleMode:l.By.oneOf(["FILL","FIT","CROP","TILE"]),videoHash:l.By.string,scalingFactor:c.isOptional,rotation:p.isOptional,videoTransform:y.isOptional,filters:ew.isOptional,visible:l.By.bool.isOptional,opacity:d.isOptional,blendMode:S.isOptional})],"type"),eA=l.By.arrayOf(eC),eN=l.By.oneOf(["NAVIGATE","SWAP","OVERLAY","SCROLL_TO","CHANGE_TO"]),eO=l.By.exact({type:l.By.oneOf(["EASE_IN","EASE_OUT","EASE_IN_AND_OUT","LINEAR","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_CUBIC_BEZIER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"]),easingFunctionCubicBezier:l.By.exact({x1:l.By.float,y1:l.By.float,x2:l.By.float,y2:l.By.float}).isOptional,easingFunctionSpring:l.By.exact({mass:l.By.float,stiffness:l.By.float,damping:l.By.float}).isOptional}),eR=l.By.exact({type:l.By.oneOf(["DISSOLVE","SMART_ANIMATE","SCROLL_ANIMATE"]),easing:eO,duration:l.By.float}),eP=l.By.exact({type:l.By.oneOf(["MOVE_IN","MOVE_OUT","PUSH","SLIDE_IN","SLIDE_OUT"]),direction:l.By.oneOf(["LEFT","RIGHT","TOP","BOTTOM"]),matchLayers:l.By.bool,easing:eO,duration:l.By.float}),eL=l.By.oneOf([eR,eP]),eD=l.By.oneOf([l.By.exact({type:l.By.oneOf(["ON_CLICK","ON_HOVER","ON_PRESS","ON_DRAG","ON_MEDIA_END"])}),l.By.exact({type:"AFTER_TIMEOUT",timeout:l.By.float}),l.By.exact({type:l.By.oneOf(["MOUSE_ENTER","MOUSE_LEAVE","MOUSE_UP","MOUSE_DOWN"]),delay:l.By.float}),l.By.exact({type:"ON_KEY_DOWN",device:l.By.oneOf(["KEYBOARD","XBOX_ONE","PS4","SWITCH_PRO","UNKNOWN_CONTROLLER"]),keyCodes:l.By.arrayOf(l.By.float)}),l.By.exact({type:"ON_MEDIA_HIT",mediaHitTime:l.By.float})]),eM=l.By.exact({autoplay:l.By.bool,loop:l.By.bool,muted:l.By.bool}),ek=l.By.exact({action:l.By.oneOf([l.By.exact({type:l.By.oneOf(["BACK","CLOSE"])}),l.By.exact({type:"URL",url:l.By.string}),l.By.exact({type:"UPDATE_MEDIA_RUNTIME",destinationId:l.By.oneOf([l.By.string,null]),mediaAction:l.By.oneOf(["PLAY","PAUSE","TOGGLE_PLAY_PAUSE","MUTE","UNMUTE","TOGGLE_MUTE_UNMUTE"])}),l.By.exact({type:"UPDATE_MEDIA_RUNTIME",destinationId:l.By.oneOf([l.By.string,null]),mediaAction:l.By.oneOf(["SKIP_FORWARD","SKIP_BACKWARD"]),amountToSkip:l.By.float}),l.By.exact({type:"UPDATE_MEDIA_RUNTIME",destinationId:l.By.oneOf([l.By.string,null]),mediaAction:l.By.oneOf(["SKIP_TO"]),newTimestamp:l.By.float}),l.By.exact({type:"NODE",destinationId:l.By.oneOf([l.By.string,null]),navigation:eN,transition:l.By.oneOf([eL,null]),preserveScrollPosition:l.By.bool.isOptional,resetVideoPosition:l.By.bool.isOptional,overlayRelativePosition:E.isOptional,resetScrollPosition:l.By.bool.isOptional,resetInteractiveComponents:l.By.bool.isOptional}),null]),trigger:l.By.oneOf([eD,null])});l.By.arrayOf(ek);let ex=l.By.exact({family:l.By.string,style:l.By.string}),eF=l.By.exact({axis:l.By.oneOf(["X","Y"]),offset:l.By.float}),eU=l.By.arrayOf(eF),eB=l.By.exact({startingAngle:l.By.float,endingAngle:l.By.float,innerRadius:d}),eV=l.By.oneOf(["NONZERO","EVENODD"]),eH=l.By.exact({windingRule:l.By.oneOf([eV,"NONE"]),data:l.By.string}),eG=l.By.arrayOf(eH),eW=l.By.exact({x:l.By.float,y:l.By.float,strokeCap:N.isOptional,strokeJoin:O.isOptional,cornerRadius:c.isOptional,handleMirroring:R.isOptional}),ez=l.By.exact({start:p,end:p,tangentStart:E.isOptional,tangentEnd:E.isOptional}),eK=l.By.exact({windingRule:eV,loops:l.By.arrayOf(l.By.arrayOf(p)),fills:eA.isOptional,fillStyleId:l.By.string.isOptional}),ej=l.By.exact({vertices:l.By.arrayOf(eW),segments:l.By.arrayOf(ez),regions:l.By.arrayOf(eK).isOptional}),eY=[l.By.exact({format:l.By.oneOf(["PNG","JPG"]),contentsOnly:l.By.bool.isOptional,suffix:l.By.string.isOptional,useAbsoluteBounds:l.By.bool.isOptional,constraint:l.By.oneOf([l.By.exact({type:l.By.oneOf(["SCALE"]),value:l.By.float}),l.By.exact({type:l.By.oneOf(["WIDTH","HEIGHT"]),value:l.By.integer})]).isOptional,colorProfile:L}),l.By.exact({format:"PDF",contentsOnly:l.By.bool.isOptional,suffix:l.By.string.isOptional,useAbsoluteBounds:l.By.bool.isOptional,colorProfile:L}),l.By.exact({format:l.By.oneOf(["SVG","SVG_STRING"]),contentsOnly:l.By.bool.isOptional,suffix:l.By.string.isOptional,svgOutlineText:l.By.bool.isOptional,svgIdAttribute:l.By.bool.isOptional,svgSimplifyStroke:l.By.bool.isOptional,useAbsoluteBounds:l.By.bool.isOptional,colorProfile:L})],e$=l.By.oneOf(eY,"format");function eq(e=!1){return l.By.oneOf([...eY,l.By.exact({format:l.By.oneOf(["JSON_REST_V1"].concat(e?["FIRST_DRAFT_JSON"]:[]))})],"format")}let eZ=l.By.arrayOf(e$),eX=l.By.oneOf([l.By.exact({node:h,start:p,end:p}),null]),eJ=l.By.arrayOf(l.By.exact({name:l.By.string,key:l.By.string,description:l.By.string.isOptional,optional:l.By.bool.isOptional,allowFreeform:l.By.bool.isOptional})),eQ=l.By.arrayOf(l.By.oneOf([l.By.exact({command:l.By.string,name:l.By.string,parameters:eJ.isOptional,parameterOnly:l.By.bool.isOptional}),l.By.exact({separator:!0}),l.By.exact({name:l.By.string,get menu(){return eQ}})])),e0=l.By.arrayOf(l.By.string).isOptional,e1=l.By.arrayOf(l.By.oneOf([l.By.exact({itemType:"action",propertyName:l.By.string,label:l.By.string.isOptional,includedLanguages:e0}),l.By.exact({itemType:"unit",scaledUnit:l.By.string,defaultScaleFactor:l.By.float.isOptional,default:l.By.bool.isOptional,includedLanguages:e0}),l.By.exact({itemType:"select",propertyName:l.By.string,label:l.By.string.isOptional,includedLanguages:e0,options:l.By.arrayOf(l.By.exact({value:l.By.string,label:l.By.string,isDefault:l.By.bool.isOptional}))})])),e2=l.By.exact({label:l.By.string,value:l.By.string}),e3=l.By.arrayOf(l.By.string).isOptional,e5=l.By.arrayOf(l.By.string).isOptional,e4={id:l.By.string.isOptional,name:l.By.string,api:l.By.string,main:l.By.string,ui:l.By.oneOf([l.By.string.isOptional,l.By.dictionaryOf(l.By.string.isOptional)]),build:l.By.string.isOptional,enableProposedApi:l.By.bool.isOptional,enablePrivatePluginApi:l.By.bool.isOptional,permissions:l.By.arrayOf(l.By.string).isOptional,capabilities:e5,networkAccess:l.By.exact({allowedDomains:l.By.arrayOf(l.By.string),reasoning:l.By.string.isOptional,devAllowedDomains:l.By.arrayOf(l.By.string).isOptional}).isOptional,documentAccess:l.By.string.isOptional},e6=l.By.exact({...e4,menu:eQ.isOptional,relaunchButtons:l.By.arrayOf(l.By.exact({command:l.By.string,name:l.By.string,multipleSelection:l.By.bool.isOptional})).isOptional,parameters:eJ.isOptional,parameterOnly:l.By.bool.isOptional,editorType:e3,enableReadOnly:l.By.bool.isOptional,codegenLanguages:l.By.arrayOf(e2).isOptional,codegenPreferences:e1.isOptional,relatedLinkDomains:l.By.arrayOf(l.By.string).isOptional,devResourceDomains:l.By.arrayOf(l.By.string).isOptional}),e8=l.By.exact({...e4,containsWidget:!0,widgetApi:l.By.string.isOptional,editorType:e3}),e7=l.By.exact({timeout:l.By.oneOf([l.By.float.min(0),1/0]).isOptional,error:l.By.bool.isOptional,onDequeue:l.By.function.isOptional,button:l.By.exact({text:l.By.string,action:l.By.function}).isOptional}),e9=l.By.dictionaryOf(l.By.string),te=l.By.oneOf(["NONE","AUTO","TOP","LEFT","BOTTOM","RIGHT","CENTER"]),tt=l.By.oneOf([l.By.exact({endpointNodeId:l.By.string,position:E}),l.By.exact({position:E}),l.By.exact({endpointNodeId:l.By.string,magnet:te})]),tr=l.By.oneOf(["ELBOWED","STRAIGHT"]),tn=l.By.oneOf(["NONE","ARROW_EQUILATERAL","ARROW_LINES","TRIANGLE_FILLED","DIAMOND_FILLED","CIRCLE_FILLED"]),ti=l.By.oneOf(["SQUARE","ELLIPSE","ROUNDED_RECTANGLE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","ENG_FILE","ENG_FOLDER","TRAPEZOID","PREDEFINED_PROCESS","SHIELD","DOCUMENT_SINGLE","DOCUMENT_MULTIPLE","MANUAL_INPUT","HEXAGON","CHEVRON","PENTAGON","OCTAGON","STAR","PLUS","ARROW_LEFT","ARROW_RIGHT","SUMMING_JUNCTION","OR","SPEECH_BUBBLE","INTERNAL_STORAGE"]),ta=l.By.arrayOf(l.By.oneOf([l.By.exact({name:l.By.string,data:l.By.oneOf([l.By.any,null]).isOptional,icon:l.By.oneOf([l.By.string,l.By.uint8Array]).isOptional,iconUrl:l.By.string.isOptional}),l.By.string])),to=l.By.arrayOf(l.By.exact({nodeId:l.By.string,name:l.By.string})),ts=l.By.oneOf(["TYPESCRIPT","CPP","RUBY","CSS","JAVASCRIPT","HTML","JSON","GRAPHQL","PYTHON","GO","SQL","SWIFT","KOTLIN","RUST","BASH","PLAINTEXT","DART"]),tl=l.By.exact({type:l.By.string,data:l.By.string}),td=l.By.exact({clientX:l.By.float,clientY:l.By.float,items:l.By.arrayOf(tl).isOptional,files:l.By.arrayOf(l.By.any).isOptional,dropMetadata:l.By.any.isOptional}),tc=l.By.exact({types:l.By.arrayOf(l.By.oneOf(s.$F)).isOptional,sharedPluginData:l.By.exact({namespace:l.By.string,keys:l.By.arrayOf(l.By.string).isOptional}).isOptional,pluginData:l.By.exact({keys:l.By.arrayOf(l.By.string).isOptional}).isOptional}),tu=l.By.arrayOf(l.By.oneOf(["fontSize","fontName","fontWeight","textDecoration","textCase","lineHeight","letterSpacing","fills","textStyleId","fillStyleId","listOptions","indentation","hyperlink","openTypeFeatures"])),tp=l.By.arrayOf(l.By.oneOf(["fontSize","fontName","fontWeight","textDecoration","textCase","lineHeight","letterSpacing","fills","textStyleId","fillStyleId","listOptions","indentation","hyperlink","openTypeFeatures","boundVariables"]));function th(){return(0,a.kc)().variables_typography||(0,a.kc)().variables_typography_plugin_api?tp:tu}let tm=[...Object.freeze(["BOOLEAN","TEXT","INSTANCE_SWAP"]),"VARIANT"],tg=l.By.oneOf(tm),tf=l.By.oneOf([l.By.bool,l.By.string]),t_=l.By.oneOf(["COMPONENT","COMPONENT_SET"]),ty=l.By.exact({type:t_,key:l.By.string}),tE=l.By.arrayOf(ty),tb=l.By.exact({preferredValues:tE.isOptional}).isOptional,tv=l.By.exact({name:l.By.string.isOptional,defaultValue:tf.isOptional,preferredValues:tE.isOptional}),tS=l.By.exact({method:l.By.string.isOptional,headersObject:l.By.dictionaryOf(l.By.string).isOptional,headers:l.By.dictionaryOf(l.By.string).isOptional,body:l.By.oneOf([l.By.uint8Array,l.By.string]).isOptional,credentials:l.By.string.isOptional,cache:l.By.string.isOptional,redirect:l.By.string.isOptional,referrer:l.By.string.isOptional,integrity:l.By.string.isOptional}).isOptional,tI=l.By.exact({visible:l.By.string.isOptional,characters:l.By.string.isOptional,mainComponent:l.By.string.isOptional}),tT=l.By.arrayOf(l.By.exact({start:l.By.integer,end:l.By.integer,suggestions:l.By.arrayOf(l.By.string),color:l.By.oneOf(["RED","BLUE","GREEN"]).isOptional})),tw=l.By.arrayOf(l.By.exact({title:l.By.string,code:l.By.string,language:l.By.oneOf(["TYPESCRIPT","CPP","RUBY","CSS","JAVASCRIPT","HTML","JSON","GRAPHQL","PYTHON","GO","SQL","SWIFT","KOTLIN","RUST","BASH","PLAINTEXT","DART"])}));l.By.oneOf(["BUTTON","LINK","IMAGE","PARAGRAPH","HEADING_1","HEADING_2","HEADING_3","HEADING_4","HEADING_5","HEADING_6","HEADER","FOOTER","SIDEBAR","ARTICLE","SECTION","NAVIGATION","MAIN","TABLE","TABLE_CELL"]),l.By.oneOf(["AUTO","DIV","A","BUTTON","INPUT","OPTION","SELECT","ASIDE","FOOTER","FORM","HEADER","MAIN","NAV","SECTION","IMG","ARTICLE","H1","H2","H3","H4","H5","H6","P"]);let tC=l.By.exact({type:"AUTH_REQUIRED"}),tA=l.By.exact({type:"PLAIN_TEXT",text:l.By.string}),tN=l.By.oneOf([tC,tA,null]),tO=l.By.exact({type:"AUTH_SUCCESS"}),tR=l.By.oneOf([tO,null])},13517:(e,r,n)=>{"use strict";n.d(r,{of:()=>g,pI:()=>c,pT:()=>m});var i=n(57663);n(76485);let a=RegExp("^(?:(https?:|wss?:)(?:[/][/]))?((?:[*][.])?(?:(?:(?:[-a-z\\d])+)[.])+[a-z]{2,})((?:[/][-a-zA-Z\\d%_.~+@]*)*$)"),o=RegExp("^(?:(https?:|wss?:)(?:[/][/]))?((?:[*][.])?(?:(?:(?:[-a-z\\d])+)[.])+[a-z]{2,}|localhost)(?:[:](\\d+))?((?:[/][-a-zA-Z\\d%_.~+@]*)*$)"),s=RegExp("^(?:(https?:|wss?:)(?:[/][/]))"),l=e=>!!o.test(e)||"*"===e;function d(e){if(0===e.length)return{isValid:!1,validationErr:'Invalid value for allowedDomains. To block all network access, set allowedDomains: ["none"]'};if(1===e.length&&"none"===e[0])return{isValid:!0};if(e.includes("none"))return{isValid:!1,validationErr:"Invalid value for allowedDomains. 'none' must be the only value in the array."};for(let r of e)if(!l(r))return{isValid:!1,validationErr:`Invalid value for allowedDomains. '${r}' must be a valid URL.`};let r=new Map;for(let n of e){let e=r.get(n)||0;r.set(n,e+1)}for(let[e,n]of r)if(n>1)return{isValid:!1,validationErr:`Invalid value for allowedDomains. '${e}' is duplicated.`};return{isValid:!0}}function c(e){let{allowedDomains:r,devAllowedDomains:n,reasoning:i}=e;if(r.includes("*")&&!i)return{isValid:!1,validationErr:'Invalid value for networkAccess. If you want to allow all domains, please add a "reasoning" field to the networkAccess object.'};if(r.some(e=>l(e)&&!a.test(e)&&"*"!==e)&&!i)return{isValid:!1,validationErr:'Invalid value for networkAccess. If you want to allow localhost, please add a "reasoning" field to the networkAccess object. If you only need to access localhost for development, please add a "devAllowedDomains" field instead.'};if(i&&i.length>1e3)return{isValid:!1,validationErr:'Invalid value for networkAccess. The "reasoning" field must be less than 1000 characters.'};let o=d(r);if(!o.isValid)return o;for(let e of r)if(!s.test(e)&&"*"!==e&&"none"!==e)return{isValid:!1,validationErr:`Invalid value for allowedDomains. '${e}' must include a scheme, such as https://.`};if(n){for(let e of n)if(!l(e))return{isValid:!1,validationErr:`Invalid value for devAllowedDomains. '${e}' must be a valid URL.`}}return{isValid:!0}}let u=(e,r="")=>{if(!r)return!0;let n=r.toLowerCase(),i=e.protocol.toLowerCase();return n===i||"http:"===n&&"https:"===i||"ws:"===n&&("wss:"===i||"http:"===i||"https:"===i)||"wss:"===n&&"https:"===i},p=(e,r="")=>{if(!r)return!1;let n=r.toLowerCase(),i=e.host.toLowerCase();if(n.startsWith("*")){let e=n.slice(1);return!!i.endsWith(e)}return n===i},h=(e,r="")=>{if(!r)return!0;let n=e.pathname;if("/"===r&&""===n)return!0;let i=!r.endsWith("/"),a=r.split("/"),o=n.split("/");if(a.length>o.length)return!1;if(i){if(a.length!==o.length)return!1}else if(""!==a.pop())return!1;return!!a.every((e,r)=>decodeURI(e)===decodeURI(o[r]))};function m(e,r){let n=d(r);if(!n.isValid)return i.k.warn(n.validationErr),!0;if(r.includes("*"))return!0;if(1===r.length&&"none"===r[0])return!1;try{let n=new Request(e).url;return r.some(e=>(function(e,r){let n=r.match(a);if(!n)return!1;let[,i,o,s]=n;return u(e,i)&&p(e,o)&&h(e,s)})(new URL(n),e))}catch(e){return!1}}function g(e,r){var n;let a=null==(n=e.contentDocument)?void 0:n.head;if(!a)return;let o=d(r);if(!o.isValid){i.k.warn(o.validationErr);return}if(r.includes("*"))return;let s=document.createElement("meta");s.httpEquiv="Content-Security-Policy",s.content=function(e){let r=e.join(" "),n="default-src data: blob:",i="script-src 'unsafe-inline' 'unsafe-eval' data: blob:",a="style-src 'unsafe-inline' 'unsafe-eval' data: blob:",o="font-src https://static.figma.com/webfont/ data: blob:";return"none"!==r&&(n+=` ${r}`,i+=` ${r}`,a+=` ${r}`,o+=` ${r}`),`${n}; ${i}; ${a}; ${o};`}(r),a.append(s)}},8481:(e,r,n)=>{"use strict";n.d(r,{E:()=>l});var i=n(38329),a=n(20666),o=n(7956),s=n(96635);function l(e){if("triggeredFrom"in e){let r=e.triggeredFrom;if((0,a.W4)(r))return s.Wh.INSPECT;switch(r){case"handoff-relaunch":case"handoff-panel":return s.Wh.INSPECT;default:return s.Wh.MODAL}}if("runMode"in e)switch(e.runMode){case"codegen":case"linkpreview":break;default:let r=i.D.getState().selectedView;return(0,o.$A)(r)?s.Wh.INSPECT:s.Wh.MODAL}return s.Wh.MODAL}},68870:(e,r,n)=>{"use strict";n.d(r,{gH:()=>v.gH,_x:()=>P,VY:()=>L.V,Yx:()=>S.Y,mN:()=>R,Ew:()=>i.E,IN:()=>v.IN});var i=n(8481),a=n(91408),o=n(38329),s=n(74626),l=n(86640),d=n(72206),c=n(92592),u=n(34533),p=n(3689),h=n(56390),m=n(49793),g=n(57630),f=n(20666),_=n(54294),y=n(7956),E=n(46806),b=n(75827),v=n(96635),S=n(22296),I=n(78003),T=n(60168),w=n(61803);let C="plugin-positions",A=(0,a.jz)(T.tui);function N(e,r,n){return Math.max(r,Math.min(n,e))}let O=class{constructor(e,r,n,i,a,o,s,d,c,u,p,h,m,g){this.vmType=e,this.pluginID=r,this.titleIconURL=n,this.title=i,this.permissions=a,this.isWidget=o,this.widgetCommand=s,this.shouldShowVisualBell=d,this.cancelCallback=c,this.messageHandler=u,this.allowedDomains=p,this.isLocal=h,this.triggeredFrom=m,this.capabilities=g,this.outerIframe=null,this.modal=null,this.innerIframe=null,this.innerIframeHtml="",this.showingInnerIframe=!1,this.iframeTitle="",this.iframeWidth=v.bA,this.iframeHeight=v.Yw,this.iframeInitialPosition=null,this.includeThemeColors=!1,this.lastNotificationTimeout=-1,this.hideVisibleUI=!1,this.isInspectPanel=(0,f.W4)(this.triggeredFrom),this.storeModalPosition=e=>{let r=(0,l.TQ)();if(r){let n={};try{n=JSON.parse(r.getItem(C)||"")}catch(e){}n&&"object"==typeof n||(n={}),n[this.pluginID]={x:e.x,y:e.y},r.setItem(C,JSON.stringify(n))}},this.tearDown=e=>{this._destroyIframe(),this.timeout&&clearTimeout(this.timeout),this.hideProgress(),this.cancelAllPersistentVisualBells(),this.cancelAllCustomNotifyVisualBells()},this.timeout=null,this.showProgress(),O.instance=this}static getInstance(){return O.instance}updateUI(){var e,r;this.isInspectPanel||null==(e=this.modal)||e.updateState({titleIconURL:this.titleIconURL,titleIconSvgSrc:this.titleIconURL?void 0:w.A,title:this.iframeTitle||(0,b.WW)(this.title,this.vmType),displayed:this.showingInnerIframe,width:this.iframeWidth,height:this.iframeHeight,initialPosition:this.iframeInitialPosition||new d.Mi(0,0),cancelCallback:this.cancelCallback,onDragEnd:this.storeModalPosition}),null==(r=this.outerIframe)||r.updateState({visible:this.showingInnerIframe,width:this.iframeWidth,height:this.iframeHeight})}loadModalPosition(){let e=(0,l.TQ)();if(e)try{let r=JSON.parse(e.getItem(C)||"")[this.pluginID];return new d.Mi(N(r.x,0,window.innerWidth-this.iframeWidth),N(r.y,0,window.innerHeight-this.iframeHeight))}catch(e){}return null}makeIframe(e){let{html:r,title:n,width:i,height:a,position:o,includeThemeColors:s}=e;this._destroyIframe(),this.innerIframeHtml=r;let l=e.iframeId;this.outerIframe=S.Y.getInstance(l),this.modal=I.c.getInstance(),this.outerIframe.removeAllChildren(),this.innerIframe=this.outerIframe.createInnerIframe(this.innerIframeHtml,this.messageHandler,{name:this.title,isWidget:this.isWidget,cameraAccess:this.permissions.includes("camera"),microphoneAccess:this.permissions.includes("microphone"),displayCaptureAccess:this.permissions.includes("displaycapture"),clipboardWriteAccess:this.permissions.includes("clipboardwrite"),includeThemeColors:s,allowedDomains:this.allowedDomains,isLocal:this.isLocal,pluginId:this.pluginID}),null!=n&&(this.iframeTitle=n),this.includeThemeColors=!!s,this.setInitialPosition({width:i,height:a,position:o}),this.updateUI()}buildXYPosition(e,r){let n=h.Y5.getViewportInfo(),i=new d.Mi(n.x,n.y),a=(0,g.Z0)(n,{x:e,y:r}),o=d.Mi.add(a,i);return new d.Mi(Math.round(o.x),Math.round(o.y))}buildCodegenDefaultPosition(){var e;let r=document.getElementById("preferences-inspection-panel"),n=null==r?void 0:r.getBoundingClientRect(),i=(0,p.sX)(),a=Math.max(window.innerWidth-i-this.iframeWidth,0),o=Math.max((window.innerHeight-this.iframeHeight)/2,0);return n?m.z4.getIsExtension()?new d.Mi(n.x+n.width-this.iframeWidth,n.y-this.iframeHeight-E.uF-((null==(e=null==r?void 0:r.parentElement)?void 0:e.parentElement)?parseFloat(window.getComputedStyle(r.parentElement.parentElement).paddingTop):0)):new d.Mi(a,n.y):new d.Mi(a,o)}setInitialPosition(e){let{width:r,height:n,position:i}=e;this.iframeWidth=this.getClampedWidth(r),this.iframeHeight=this.getClampedHeight(n);let a=new d.Mi(Math.max((window.innerWidth-this.iframeWidth)/2,0),Math.max((window.innerHeight-this.iframeHeight)/2,0));if("default"===i)this.iframeInitialPosition=a;else if("last"===i)this.iframeInitialPosition=this.loadModalPosition()||a;else if("codegen-default"===i)this.iframeInitialPosition=this.buildCodegenDefaultPosition();else if("object"==typeof i&&i.hasOwnProperty("x")&&i.hasOwnProperty("y"))this.iframeInitialPosition=this.buildXYPosition(i.x,i.y);else{let e=o.D.getState().mostRecentContextMenuClickPosition;e?this.iframeInitialPosition=new d.Mi(e.x,e.y):this.iframeInitialPosition=this.loadModalPosition()||a}this.storeModalPosition(this.iframeInitialPosition)}isInnerIframeActive(){return!!this.innerIframeHtml}innerIframeHtmlMatches(e){return null!=this.innerIframeHtml.match(e)}destroyIframe(){this._destroyIframe()}_destroyIframe(){var e;this.hideIframe(),this.innerIframeHtml="",this.innerIframe&&(this.innerIframe.destroy(),this.innerIframe=null),this.isInspectPanel||null==(e=this.modal)||e.updateState({cancelCallback:void 0,onDragEnd:void 0}),this.outerIframe=null,this.modal=null}setIframeSize(e,r){if(!this.outerIframe)throw Error("No UI to resize. Did you forget to create a UI by calling showUI?");Number.isNaN(e)||(this.iframeWidth=this.getClampedWidth(e)),Number.isNaN(r)||(this.iframeHeight=this.getClampedHeight(r)),this.updateUI()}setIframePosition(e,r){if(!this.outerIframe)throw Error("No UI to reposition. Did you forget to create a UI by calling showUI?");this.iframeInitialPosition=this.buildXYPosition(e,r),this.storeModalPosition(this.iframeInitialPosition),this.updateUI()}getClampedWidth(e){return this.isInspectPanel?(0,p.sX)():null==e?v.bA:N(e,70,window.innerWidth-50)}getClampedHeight(e){return null==e?v.Yw:this.isInspectPanel?e:N(e,0,window.innerHeight-A-E.uF)}getIsInsert(){var e;return this.isWidget&&(null==(e=this.widgetCommand)?void 0:e.hasOwnProperty("context"))&&"insert"===this.widgetCommand.context}showIframe(){if(!this.hideVisibleUI){if(!this.outerIframe)throw Error("No UI to show. Did you forget to create a UI by calling showUI?");this.hideProgress(),this.isInspectPanel&&s.zl.set(_.d4,"RUNNING"),this.showingInnerIframe=!0,this.updateUI()}}hideIframe(){this.showingInnerIframe=!1,this.updateUI(),this.showProgress()}setHideVisibleUI(e){this.hideVisibleUI=e,e?this.hideProgress():this.showProgress()}postMessageToIframe(e,r){if(!this.outerIframe||!this.innerIframe)throw Error("No UI to send a message to. Did you forget to create a UI by calling showUI?");this.innerIframe.postMessage(e,r)}handleThemeUpdate(){this.innerIframe&&this.includeThemeColors&&this.innerIframe.handleThemeUpdate()}showPluginVisualBell(e,r,n,i){if(this.hideVisibleUI)return;this.hideProgress();let a=n.timeout>3e3,o={type:r,message:e,timeoutOverride:n.timeout,timeoutType:"exact",button:n.button,onDismiss:a?()=>{}:void 0,onDequeue:i,error:n.error};this.titleIconURL&&(o.icon=u.zX.FROM_URL,o.iconURL=this.titleIconURL),h.Y5.dispatch(c.F.enqueue(o)),this.showingInnerIframe||this.showProgress(),this.lastNotificationTimeout=Math.max(this.lastNotificationTimeout,Date.now())+n.timeout}cancelPluginVisualBell(e){h.Y5.dispatch(c.F.dequeue({matchType:e}))}cancelAllPersistentVisualBells(){h.Y5.dispatch(c.F.dequeue({matchTimeout:"persistent"}))}cancelAllCustomNotifyVisualBells(){h.Y5.dispatch(c.F.dequeue({shouldDequeueFunc:e=>{let r=RegExp("message-from-plugin-*"),n=!!e.type&&r.test(e.type),i=void 0!==e.button;return n&&i}}))}hideProgress(){(0,b.pN)({shouldShowVisualBell:this.shouldShowVisualBell})}showProgress({isBackground:e}={}){if("codegen"!==this.triggeredFrom&&(this.terminateInspectPluginIfNoIframe(),h.Y5&&h.Y5.isReady()&&this.shouldShowVisualBell&&!this.hideVisibleUI)){let r=e?50:this.isInspectPanel?4e3:void 0;(0,b.Ym)({name:this.title,isInsert:this.getIsInsert(),cancelCallback:this.cancelCallback,vmType:this.vmType,delayOverride:r,isBackground:e})}}terminateInspectPluginIfNoIframe(){var e;!this.timeout&&(0,f.$u)(this.capabilities)&&!(null==(e=this.capabilities)?void 0:e.includes("codegen"))&&(0,y.$A)(o.D.getState().selectedView)&&"related-link-preview"!==this.triggeredFrom&&(this.timeout=setTimeout(()=>{if(!this.showingInnerIframe){this.cancelCallback({message:"Inspect panel plugins must have an iFrame when running",isError:!0}),this.timeout=null;return}},1e4))}},R=O;R.instance=null;class P{tearDown(){}makeIframe(e){}isInnerIframeActive(){return!1}destroyIframe(){}setIframeSize(e,r){}setIframePosition(e,r){}showIframe(){}hideIframe(){}setHideVisibleUI(e){}postMessageToIframe(e,r){}showPluginVisualBell(e,r,n){}cancelPluginVisualBell(e){}get isInspectPanel(){return!1}}n(4926);var L=n(18795)},22416:(e,r,n)=>{"use strict";n.d(r,{BK:()=>m,By:()=>p,Kb:()=>f,MG:()=>_,c0:()=>function e(r,n,a){let o=[];function s(){return`Expected "${a}" to have type ${g(n,0)} but got ${r} (type: ${typeof r}) instead`}if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n!==r&&o.push(s()),o;if(null===n)return null!==r&&o.push(s()),o;if(void 0===n)return void 0!==r&&o.push(s()),o;if(n)switch(n.type){case"optional":Array.isArray(r)&&0===r.length||void 0===r||null==r||e(r,n.__schema,a).forEach(e=>{o.push(e)});break;case"oneOf":if(n.__primaryField){let i=`${a}.${n.__primaryField}`;if("object"!=typeof r)o.push(`Expected "${a}" to be an object`);else{let s=null,l=!1;for(let a of n.__options){let d=e(r[n.__primaryField],a.__shape[n.__primaryField],i);if(0===d.length){s=a,l=!0,o=[];break}d.forEach(e=>o.push(e))}l?e(r,s,a).forEach(e=>o.push(e)):o.push(`Expected "${i}" to be one of the allowed values for this property`)}break}{let i=[];for(let s of n.__options){let n=e(r,s,a);if(0===n.length)return o;i.push(...n)}let s=i.map(e=>e.split("\n").map(e=>"  "+e).join("\n"));o.push(`Expected "${a}" to be one of the following, but none matched: 
`+s.join("\n"));break}case"boolean":"boolean"!=typeof r&&o.push(s());break;case"uint8array":r instanceof Object.getPrototypeOf(Uint32Array)||o.push(s());break;case"number":"number"!=typeof r?o.push(s()):isFinite(r)?null!=n.__min&&r<n.__min?o.push(`Expected "${a}" to have value >= ${n.__min}`):null!=n.__max&&r>n.__max?o.push(`Expected "${a}" to have value <= ${n.__max}`):null!=n.__requireInteger&&(0|r)!==r&&o.push(`Expected "${a}" to be an integer`):o.push(s());break;case"string":"string"!=typeof r&&o.push(s());break;case"any":(void 0===r||"null"===r)&&o.push(s());break;case"array":if(Array.isArray(r)){let i=r.length;for(let s=0;s<i;s++)e(r[s],n.__contentType,a+`.[${s}]`).forEach(e=>o.push(e))}else o.push(s());break;case"dictionary":"object"!=typeof r||Array.isArray(r)||null===r?o.push(s()):Object.keys(r).forEach(i=>{e(r[i],n.__contentType,a+`["${i}"]`).forEach(e=>o.push(e))});break;case"exact":"object"!=typeof r||null===r?o.push(s()):Object.keys(n.__shape).forEach(i=>{let s=n.__shape[i];e(r[i],s,a+"."+i).forEach(e=>o.push(e))});break;case"function":"function"!=typeof r&&o.push(s());break;default:(0,i.xb)(n)}return o},u:()=>h});var i=n(35283),a=n(31664),o=n(66712),s=n(76621),l=n(30637),d=n(96846);function c(e){return Object.defineProperty(e,"isOptional",{enumerable:!0,get:function(){return{type:"optional",__schema:this}}}),e}let u={type:"number",min:function(e){return c({...this,__min:e})},max:function(e){return c({...this,__max:e})},range:function(e,r){return c({...this,__min:e,__max:r})}},p={bool:c({type:"boolean"}),string:c({type:"string"}),uint8Array:c({type:"uint8array"}),any:c({type:"any"}),function:c({type:"function"}),arrayOf:e=>c({type:"array",__contentType:e}),dictionaryOf:e=>c({type:"dictionary",__contentType:e}),exact:e=>c({type:"exact",__shape:e}),oneOf:(e,r)=>{if(r)for(let n of e)if("exact"===n.type){if(!n.__shape[r])throw Error("All variants of a PropTypes.oneOf with a primaryField must contain the primary field")}else throw Error("All variants of a PropTypes.oneOf with a primaryField must be PropTypes.exact");return c({type:"oneOf",__options:e,__primaryField:r})},float:c(u),integer:c({...u,__requireInteger:!0})};function h({vm:e,handle:r,zSchema:n,vmSchema:i,property:d,compareToLegacyValue:c}){let u=e.deepUnwrap(r,!0);if(!i){let e=n.safeParse(u);if(e.success)return e.data;!function(e,r){let n=e.issues.map(e=>(function e(r,n){let{issueSeparator:i="\n",unionSeparator:a="\n",indent:o=0}=n||{},s=r.path.map(e=>"number"==typeof e?`[${e}]`:`.${e}`).join("");if("invalid_union"===r.code)return`${" ".repeat(o)}Expected ${r.path.length>0?s+" to be ":""}one of the following, but none matched:
`+r.unionErrors.reduce((a,l)=>{let d=l.issues.length>1,c=(d?`${" ".repeat(o+2)}Multiple issues${r.path.length>0?" at "+s:""}:
`:"")+l.issues.map(r=>e(r,{...n,indent:o+(d?4:2)})).join(i);return a.includes(c)||a.push(c),a},[]).join(a);let l=" ".repeat(o)+("Required"===r.message?"Required value missing":r.message);if(r.path.length>0){if(1===r.path.length){let e=r.path[0];if("number"==typeof e)return`${l} at index ${e}`}return`${l} at ${s}`}return l})(e)).join("\n");throw Error(`Property "${r}" failed validation:

${n}`)}(e.error,d)}let p=function(e,r,n,i){try{let a=m({vm:e,handle:r,schema:n,property:i});return{success:!0,result:a}}catch(e){return{success:!1,error:e}}}(e,r,i,d);if((0,o.kc)().plugins_zod_validation||(0,l.nl)()){let e=n.safeParse(u),r=()=>{let r=JSON.stringify({zodResult:e,legacyResult:p,property:d,rawValue:u},null,2);if((0,l.nl)())throw Error("Plugin API: Zod schema validation error mismatch\n"+r);(0,s.x1)("Plugin API","Zod schema validation error mismatch",{data:r},{reportAsSentryError:!0})};if(p.success&&e.success){let n=p.result,i=e.data;(c??a.he)(n,i)||r()}else p.success!==e.success&&r()}if(p.success)return p.result;throw p.error}function m({vm:e,handle:r,schema:n,property:a}){try{return function e(r,n,a,o){let s=r.typeof(n);function l(){var e;return`Expected "${o}" to have type ${e=a,g(e,0)} but got ${function(e,r){let n=e.typeof(r);if("object"===n){if(e.isArray(r))return"array";if(e.isNull(r))return"null"}else if("number"===n){let n=e.getNumber(r);if(isNaN(n))return"NaN";if(n===1/0||n===-1/0)return"Infinity"}return n}(r,n)} instead`}if("string"==typeof a){if(r.isString(n)&&a===r.getString(n))return a;throw l()}if("number"==typeof a){if(r.isNumber(n)&&a===r.getNumber(n))return a;throw l()}if("boolean"==typeof a){if(r.isBoolean(n)&&a===r.getBoolean(n))return a;throw l()}if(null===a){if(r.isNull(n))return a;throw l()}if(void 0===a){if(r.isUndefined(n))return a;throw l()}switch(a.type){case"optional":if("undefined"===s)return;return e(r,n,a.__schema,o);case"oneOf":if(a.__primaryField){let i=`${o}.${a.__primaryField}`;if(!r.isObject(n))throw`Expected "${o}" to be an object`;let s=null;for(let o of a.__options)try{e(r,r.getProp(n,a.__primaryField),o.__shape[a.__primaryField],i),s=o;break}catch(e){if("string"!=typeof e)throw e}if(s)return e(r,n,s,o);throw`Expected "${i}" to be one of the allowed values for this property`}{let i=[];for(let s of a.__options)try{return e(r,n,s,o)}catch(e){if("string"==typeof e){i.push(e);continue}throw e}throw`Expected "${o}" to be one of the following, but none matched: 
`+i.map(e=>e.split("\n").map(e=>"  "+e).join("\n")).join("\n")}case"boolean":if("boolean"!==s)throw l();return r.getBoolean(n);case"uint8array":if(!r.isUint8Array(n))throw l();return r.getUint8Array(n);case"number":{if("number"!==s)throw l();let e=r.getNumber(n);if(!isFinite(e))throw l();if(null!=a.__min&&e<a.__min)throw`Expected "${o}" to have value >= ${a.__min}`;if(null!=a.__max&&e>a.__max)throw`Expected "${o}" to have value <= ${a.__max}`;if(null!=a.__requireInteger&&(0|e)!==e)throw`Expected "${o}" to be an integer`;return e}case"string":if("string"!==s)throw l();return r.getString(n);case"any":if("undefined"===s||r.isNull(n))throw l();return r.deepUnwrap(n);case"array":{if(!r.isArray(n))throw l();let i=[],s=r.getNumberProp(n,"length");for(let l=0;l<s;l++)i.push(e(r,r.getProp(n,l.toString()),a.__contentType,o+`.[${l}]`));return i}case"dictionary":{if(!r.isObject(n)||r.isArray(n))throw l();let i={};for(let s of r.getKeys(n))i[s]=e(r,r.getProp(n,s),a.__contentType,o+`["${s}"]`);return i}case"exact":{if(!r.isObject(n))throw l();let i={},s=Object.keys(a.__shape);for(let l of s){let s=a.__shape[l];i[l]=e(r,r.getProp(n,l),s,o+"."+l)}for(let e of r.getKeys(n))if(-1===s.indexOf(e)){var d;throw`Expected "${o}" to have type ${d=a,g(d,0)} but got additional property "${e}"`}return i}case"function":if(!r.isFunction(n)||"function"!==s)throw l();return r.deepUnwrap(n,!0);default:(0,i.xb)(a)}}(e,r,n,a)}catch(e){if("string"==typeof e)throw Error(e);throw e}}function g(e,r){if(r>50)return"[...(recursive type definition)...]";if("string"==typeof e)return`"${e}"`;if("number"==typeof e||"boolean"==typeof e)return`${e}`;if(null===e)return"null";if(void 0===e)return"undefined";switch(e.type){case"optional":return`(optional) ${g(e.__schema,r+1)}`;case"oneOf":return`oneOf(${e.__options.map(e=>g(e,r+1)).join(", ")})`;case"boolean":return"boolean";case"uint8array":return"Uint8Array";case"number":return"number";case"string":return"string";case"any":return"any";case"array":return`[array of ${g(e.__contentType,r+1)}]`;case"dictionary":return`{object with values of type ${g(e.__contentType,r+1)}}`;case"exact":return`{${Object.keys(e.__shape).map(n=>n+": "+g(e.__shape[n],r+1)).join(", ")}}`;case"function":return"function"}}function f(e,r){let n={...e};for(let i in r)void 0===e[i]&&(n[i]=r[i]);return n}function _(e,r,n){let i=(0,d.$s)();try{m({vm:i,handle:i.deepWrap(e),schema:r,property:n})}catch(e){throw e}finally{i.destroy()}}},78527:(e,r,n)=>{"use strict";n.d(r,{V:()=>p,d:()=>u});var i=n(11855),a=n(88507),o=n(24897),s=n(30949),l=n(85334),d=n(76485),c=n(47535);function u({plugin:e}){return i.createElement("div",{className:s.cx.py4.flex.alignCenter.justifyCenter.$},(0,d.ZQ)(e)?i.createElement(o.B,{svg:c.A,className:s.cx.colorIcon.$}):i.createElement(p,{plugin:e,className:s.cx.h16.w16.bRadius2.$}))}let p=i.forwardRef(({plugin:e,...r},n)=>{let o=(0,a.d4)(e=>{var r;return null==(r=e.theme)?void 0:r.visibleTheme}),s=i.useMemo(()=>{let a=(0,l.sA)(e.plugin_id);return a?i.createElement("img",{ref:n,src:a,alt:`${e.name} icon`,...r}):null},[r,e.name,e.plugin_id,n]),d=i.useMemo(()=>i.createElement("img",{ref:n,src:e.redirect_icon_url,alt:`${e.name} icon`,...r}),[r,e.name,e.redirect_icon_url,n]);return"dark"===o&&s?s:d})},78032:(e,r,n)=>{"use strict";n.d(r,{N:()=>l,k:()=>d});let i=n(76170),a=null,o=null,s=URL.createObjectURL(new Blob([i],{type:"application/javascript"}));function l(){return a||(a=new Promise((e,r)=>{if((o=document.createElement("iframe")).style.display="none",o.onload=()=>{let n=o.contentDocument,i=n.createElement("script");i.src=s,i.onload=()=>{o.contentWindow&&o.contentWindow.Realm?e():r("failed to load realm")},n.body.appendChild(i)},document.body.appendChild(o),!o.contentWindow||!o.contentDocument){r("failed to create realm loader");return}})).catch(()=>{a=null}),a}function d(){if(!o||!o.contentWindow||!o.contentWindow.Realm)throw Error("need to load realm before using it");let e=o.contentWindow.document.body.lastChild,r=o.contentWindow.Realm.makeRootRealm(),n=o.contentWindow.document.body.lastChild;if(e===n||!n||"IFRAME"!==n.nodeName)throw Error("can't find iframe to create plugin environment");return{realm:r,iframe:n}}},22631:(e,r,n)=>{"use strict";n.d(r,{P:()=>a});var i=n(66712);class a{constructor(){this._counters=new Map,this._perfMetrics=new Map,this._pluginDataHistogram=new Map,this._pluginDataSize=new Map,this._sharedPluginDataSize=new Map,this._pluginDataMaximumKeyCountExceeded=!1,this._hasResizedNodeWithMissingFont=!1,this._executionTimeMeasurementState=0,this._tmpStackInvariantFields=new Map,this._stackInvariantFields=Object.create(null),this._startTimestamp=Date.now(),this._timeMarks={},this._numPagesLoaded=0}getApproximateDuration(){return Date.now()-this._startTimestamp}markTime(e){this._timeMarks[e]=Date.now()-this._startTimestamp}async markDuration(e,r){let n=Date.now(),i=await r();return this._timeMarks[e]=Date.now()-n,i}async markAndAggregateDuration(e,r){let n=Date.now();try{return await r()}finally{let r=Date.now()-n,i=this._timeMarks[e]||0;this._timeMarks[e]=r+i}}getTimingMarks(){return{...this._timeMarks,approximateDurationMS:Date.now()-this._startTimestamp}}resizeNodeWithMissingFont(){this._hasResizedNodeWithMissingFont=!0}hasResizedNodeWithMissingFont(){return this._hasResizedNodeWithMissingFont}setRunParameters(e){this._parameterValues=e}ranWithParameters(){return!!this._parameterValues}parameterCount(){return this._parameterValues?Object.keys(this._parameterValues).length:0}increment(e){let r=this._counters.get(e)||0;this._counters.set(e,r+1)}incrementNumPagesLoaded(){this._numPagesLoaded++}getNumPagesLoaded(){return this._numPagesLoaded}stackFieldSet(e,r){let n=this._tmpStackInvariantFields.get(e);n||(n=new Set,this._tmpStackInvariantFields.set(e,n)),n.add(r)}stackInvariantsEnforced(e){var r;for(let[n,i]of Object.entries(e))for(let e of i)if(null==(r=this._tmpStackInvariantFields.get(n))?void 0:r.has(e)){let r=this._stackInvariantFields[e]??0;this._stackInvariantFields[e]=r+1}this._tmpStackInvariantFields=new Map}shouldMeasureExecutionTime(e){return!!(0,i.kc)().plugins_perf_metrics&&(this._perfMetrics.has(e)?0===this._executionTimeMeasurementState?(this._executionTimeMeasurementState++,!0):(this._executionTimeMeasurementState++,this._executionTimeMeasurementState>=4&&(this._executionTimeMeasurementState=0),!1):(this._executionTimeMeasurementState++,!0))}addPerfMetric(e,r){let n=this._perfMetrics.get(e);n?(n.min=Math.min(n.min,r),n.max=Math.max(n.max,r),n.sum+=r,n.cnt+=1):this._perfMetrics.set(e,{min:r,max:r,sum:r,cnt:1})}updatePluginDataHistogram(e,r){let n=this._pluginDataHistogram.get(e);n||(n=new Map,this._pluginDataHistogram.set(e,n));let i=Math.floor(r<=0?0:Math.log(r)/Math.log(2)).toString();n.has(i)?n.set(i,n.get(i)+1):n.set(i,1)}recordSetPluginDataSize(e,r,n){this.updatePluginDataHistogram("node.setPluginData:key_size",r.length),this.updatePluginDataHistogram("node.setPluginData:value_size",n.length);let i=[e,r].join(":");this._pluginDataSize.has(i)||this._pluginDataSize.size<128?this._pluginDataSize.set(i,n.length):this._pluginDataMaximumKeyCountExceeded=!0}recordSetSharedPluginDataSize(e,r,n,i){this.updatePluginDataHistogram("node.setSharedPluginData:key_size",n.length),this.updatePluginDataHistogram("node.setSharedPluginData:value_size",i.length);let a=[e,r,n].join(":");this._sharedPluginDataSize.has(a)||this._sharedPluginDataSize.size<128?this._sharedPluginDataSize.set(a,i.length):this._pluginDataMaximumKeyCountExceeded=!0}metricsWrapper(e,r){let n=this;return function(i,a,o,s){n.increment(e);let l=n.shouldMeasureExecutionTime(e),d=0;l&&(d=performance.now());let c=r.call(this,i,a,o,s);return l&&n.addPerfMetric(e,performance.now()-d),c}}keys(){return[...this._counters.keys()]}callCountsToJSON(){let e={};return this._counters.forEach((r,n)=>{e[n]=r}),JSON.stringify(e)}perfMetricsToJSON(){let e={};return this._perfMetrics.forEach((r,n)=>{e[n]={min:r.min,max:r.max,avg:r.sum/r.cnt}}),JSON.stringify(e)}pluginDataHistogramToJSON(){let e={};return this._pluginDataHistogram.forEach((r,n)=>{e[n]={},r.forEach((r,i)=>{e[n][i]=r})}),JSON.stringify(e)}pluginDataTotalSetSize(){return Array.from(this._pluginDataSize.values()).reduce((e,r)=>e+r,0)}sharedPluginDataTotalSetSize(){return Array.from(this._sharedPluginDataSize.values()).reduce((e,r)=>e+r,0)}pluginDataMaximumKeyCountExceeded(){return this._pluginDataMaximumKeyCountExceeded}stackInvariantFieldsToJSON(){return JSON.stringify(this._stackInvariantFields)}}},23127:(e,r,n)=>{"use strict";n.d(r,{P:()=>i}),n(99403),n(96559);let i="external-teams"},79145:(e,r,n)=>{"use strict";n.d(r,{Q_:()=>s,Yh:()=>c,c1:()=>u,jv:()=>l,pD:()=>o});var i=n(66712),a=n(63706);function o(e,r){return!e&&!r||e===r}function s(e,r){let n=e?e.nodeId:void 0,i=e?e.name:void 0,a=e?e.backgroundColor:void 0,s=e?e.pageId:void 0,l=r?r.nodeId:void 0,d=r?r.name:void 0,c=r?r.backgroundColor:void 0,u=r?r.pageId:void 0;return(n!==l||i!==d||a!==c||!!s||!u)&&!function(e,r){if(null==e&&null==r)return!0;if(null==e||null==r)return!1;for(let n of["nodeId","name","backgroundColor","pageName","pageId","containingStateGroup"])switch(n){case"nodeId":case"name":case"backgroundColor":case"pageName":case"pageId":if(!o(e[n],r[n]))return!1;break;case"containingStateGroup":if(!function(e,r){if(null==e&&null==r)return!0;if(null==e||null==r)return!1;for(let n of["nodeId","name"])if(!o(e[n],r[n]))return!1;return!0}(e[n],r[n]))return!1}return!0}(e,r)}n(38269),n(93017),n(52800),n(79702);let l="quick-actions-dropdown",d=Object.create(null);function c(e,r){let n;return!!e[(n=d[r])||(n=d[r]=`actionEnabled__${r}`),n]}function u(e,r){let n="\u{1F310}";switch(r){case"set-tool-bend":return a.Ay.mac?"\u2318":"Ctrl";case"stack-reorder-left":case"stack-counter-align-left":return"\u2190";case"stack-reorder-left-end":return"\u2325\u2190";case"stack-reorder-right":case"stack-counter-align-right":return"\u2192";case"stack-reorder-right-end":return"\u2325\u2192";case"stack-reorder-up":case"stack-counter-align-top":return"\u2191";case"stack-reorder-up-end":case"stack-reorder-down-end":return"\u2325\u2191";case"stack-reorder-down":case"stack-counter-align-bottom":return"\u2193";case"set-tool-default-desc-figjam":case"set-tool-default-desc-figma":return"V";case"set-tool-marker":return"M";case"set-tool-stamp":return"E";case"set-tool-type":return"T";case"set-tool-connector-elbowed":return"X";case"toggle-publish":return a.Ay.mac?"\u23252":"Alt+2";case"toggle-inline-preview":return"\u21E7Space";case"toggle-inline-html-preview":return"\u2325\u21E7Space";case"deselect-all":return"\u238B";case"multi-edit-text":return"Enter";case"page-next":if((0,i.kc)().ce_mac_page_shortcuts&&a.Ay.mac)return n+"\u2193";break;case"page-previous":if((0,i.kc)().ce_mac_page_shortcuts&&a.Ay.mac)return n+"\u2191"}if(e[r]){let n=e[r];if(n&&n.length>=1)return n[0].text}return""}},78762:(e,r,n)=>{"use strict";function i(e,r,n){for(let i in r){let r=e.get(i);r&&n(r)}}n.d(r,{YI:()=>i}),n(38269),n(93017),n(26622),n(97306)},58323:(e,r,n)=>{"use strict";n.d(r,{B:()=>a});var i=n(31828);function a(e={},r){if(i.b.matches(r)){let n={...e},i=new Date;return Object.keys(r.payload).forEach(e=>{if(r.payload[e]){let r=n[e];void 0!==r?r.updatedAt=i:n[e]={id:`optimistic-id-${e}`,createdAt:i,updatedAt:i}}else delete n[e]}),n}return i.A.matches(r)?r.payload:e}},43678:(e,r,n)=>{"use strict";let i,a,o,s;n.d(r,{e0:()=>l,qo:()=>c});var l=((i=l||{}).AI_PROMPT_BUILDER_MODAL="AI Prompt Builder Modal",i.AI_PROMPT_BUILDER_TEMPLATES_CALLOUT="AI Prompt Builder Templates Callout",i.AI_PROMPT_BUILDER_ENTRY_VIEW="Entry View",i.AI_PROMPT_BUILDER_REFINEMENT_STAGE="Refinement Stage",i.AI_PROMPT_BUILDER_GENERATE_STAGE="Generate Stage",i.AI_PROMPT_BUILDER_TEMPLATE_SHELF="AI Prompt Builder Template Shelf",i.AI_MODAL_ONBOARDING_TOOLTIP="FigJam AI Generate Awareness Tooltip",i.AI_TOPBAR_TOOLTIP="FigJam AI Features Awareness Topbar Tooltip",i.AI_SUMMARY_TOPBAR_NUDGE="FigJam AI Summary Awareness Topbar Nudge",i.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP="FigJam AI Summary Feature Inline Menu Pointer",i.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE="Billing Group Admin Request Dashboard",i.BRANCH_DIFF_DETAIL="Branch Diff Detail",i.BRANCHES_MODAL="All Branches Modal",i.BRANCHING_REVIEW_MODAL="Branching Review And Merge Modal",i.BRANCHING_UPDATE_FROM_MAIN_MODAL="Branching Update From Main Modal",i.BRANCHING_CONFLICT_RESOLUTION_MODAL="Branching Conflict Resolution Modal",i.BRANCHING_UPDATE_NOTIFICATION="Branching Update Notification",i.BRANCHING_CONFLICTING_GUIDS_BUG="Branching Conflicting GUIDs Bug",i.BRANCHING_CONFLICTING_GUIDS_REMAP="Branching Conflicting GUIDs Bug Remap",i.BRANCHING_CONFLICT_GROUP="Branching Conflict Group",i.BRANCHING_ONBOARDING_MODAL="Branching onboarding modal",i.BRANCHING_REFRESH_REQUIRED="Branching Refresh Required",i.BRANCHING_UPDATE_FROM_VERSION_MODAL="Branching Update From Version Modal",i.BRANCHING_MERGE_ERROR_MODAL="Branching Merge Error Modal",i.BRANCH_DELETE_CONFIRM_MODAL="Branch Delete Confirm Modal",i.PROTOTYPE="Prototype",i.FILE_BROWSER="File Browser",i.FILE_BROWSER_DRAFTS="File Browser Drafts",i.COLOR_PALETTE_PICKER="Color Palette Picker",i.COMMUNITY_HUB="Community Hub",i.COMMUNITY_HUB_CURATED_PAGE="Community Hub Curated Page",i.COMMUNITY_HUB_CURATED_PAGE_CATEGORY="Community Hub Curated Page Category",i.COMMUNITY_HUB_LANDING_OPEN_BROWSING="Community Hub Landing - 20200810 Open Browsing",i.COMMUNITY_HUB_LANDING="Community Hub Landing",i.COMMUNITY_HUB_SEARCH="Community Hub Search",i.COMMUNITY_HUB_TAG="Community Hub Tag",i.COMMUNITY_HUB_CATEGORY="Community Hub Category",i.COMMUNITY_HUB_FILE="Community Hub File",i.COMMUNITY_HUB_FILE_GET_FREE_PREVIEW_BUTTON="Community Get Free Preview Button",i.COMMUNITY_HUB_FILE_PUBLISH_MODAL="Community Hub File Publish Modal",i.COMMUNITY_HUB_FILE_LIGHTBOX="Community Hub File Lightbox",i.COMMUNITY_HUB_PLUGIN="Community Hub Plugin",i.COMMUNITY_HUB_PLUGIN_PUBLISH_MODAL="Community Hub Plugin Publish Modal",i.COMMUNITY_PLUGIN_LIGHTBOX="Community Plugin Lightbox",i.COMMUNITY_PROFILE_METRICS_TAB="Community Profile Metrics Tab",i.COMMUNITY_HUB_WIDGET="Community Hub Widget",i.COMMUNITY_WIDGET_LIGHTBOX="Community Widget Lightbox",i.COMMUNITY_HUB_PROFILE="Community Hub Profile",i.COMMUNITY_MOBILE_RDP_CAROUSEL="Community Mobile RDP Carousel",i.COMMENTS_TOOL="Comments tool selected",i.EDITOR_BRANCH_HISTORY_VIEW="Editor Branch History View",i.FAVORITED_FILES_ONBOARDING_MODAL="Favorited Files Onboarding Modal",i.FILE_EDIT_BUTTON="File Edit Button",i.FILE_MOVE_MODAL="File Move Modal",i.FILE_SHARE_MODAL="Share Modal",i.FILE_PRO_REQUEST_UPGRADE_BUTTON="Pro Request Upgrade Button",i.FILE_ORG_REQUEST_UPGRADE_BUTTON="Org Request Upgrade Button",i.PROFILE_CREATE_MODAL="Community Hub Profile Modal",i.TEAM_PAGE="Team Page",i.ORG_PAGE="Org Page",i.ORG_ADMIN_SETTINGS_PAGE="Org Admin Settings Page",i.LICENSE_GROUP_ADMIN_SETTINGS_PAGE="License Group Admin Settings Page",i.WORKSPACE_ADMIN_SETTINGS_PAGE="Workspace Admin Settings Page",i.WORKSPACE_DIRECTORY_PAGE="Workspace Directory Page",i.TEAM_ADMIN_PAGE="Team Admin Page",i.ORG_SETTINGS="Org Settings",i.USER_SETTINGS="User Settings",i.EDITOR="Editor",i.EDITOR_TOOLBAR="Toolbar",i.EDITOR_TOOLBAR_ACTION="Toolbar Action",i.EDITOR_TOOLBELT="Toolbelt",i.EDITOR_MENU="Editor Menu",i.MOBILE_VIEWER="Mobile Viewer",i.CODE_PANEL="Code Panel",i.PROTOTYPE_PANEL="Prototype Panel",i.USER_DETAILS="User Details",i.UNIFIED_SEARCH="Unified Search",i.LIBRARY_PREFERENCE_MODAL="Library Preference Modal",i.LIBRARY_MODAL_UPSELL="Library Modal Upsell",i.LIBRARY_SUBSCRIPTIONS="LibrarySubscriptions",i.ORG_CART="Org Self Serve Page",i.UNKNOWN="Unknown",i.USER_PLUGINS_PAGE="My Plugins",i.USER_VIEW_BAR="User View Bar",i.COMMENTS_ONBOARDING_MODAL="Comments onboarding modal",i.NOTIFICATION_SETTINGS_MODAL="Notification Settings Modal",i.SAVEPOINT_MODAL="Savepoint Modal",i.STUDENT_VERIFY_APP="Student Verify App",i.TEAM_TEMPLATE_PUBLISH_MODAL="Team Template Publish Modal",i.SHARE_MODAL_PUBLISH_TAB="Share Modal Publish Tab",i.TEMPLATE_DETAILS="Template Details",i.TEMPLATES_BROWSE_FILTERS="Templates Browse Filters",i.MS_TEAMS_BOT="Ms Teams Bot",i.MS_TEAMS_TAB="Ms Teams Tab",i.MOVE_FOLDER_MODAL="Move Folder Modal",i.CREATE_NEW_PROJECT_MODAL="Create New Project Modal",i.FIGJAM_MANAGE_PALETTES_MODAL="FigJam Manage Color Palettes Modal",i.FIGJAM_EDIT_PALETTE_MODAL="FigJam Edit Color Palette Modal",i.EDITOR_FILENAME_DROPDOWN="Editor Toolbar Filename Dropdown",i.TILES_VIEW_DROP_DOWN="Tiles View Dropdown",i.PROJECT_TILES_VIEW_DROPDOWN="Project Tiles View Dropdown",i.MISSING_FONTS_MODAL="Missing Fonts Modal",i.FONT_PICK_FONT_SET_DROPDOWN="Font Picker Font Set Dropdown",i.PROFESSIONAL_BADGE_TOOLTIP="Professional Badge Tooltip",i.CHURN_FRICTION_PERSONALIZED_VALUE_MODAL="Churn Friction Personalized Value Modal",i.UPGRADE_REQUESTS_TABLE="Upgrade Requests Table",i.UPGRADE_REQUESTS_DETAIL_MODAL="Upgrade Requests Detail Modal",i.DEV_MODE_SUGGESTED_UPGRADES_MODAL="Dev Mode Suggested Upgrades Modal",i.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD="Dev Mode Suggested Upgrades Action Card",i.SLIDES_PRESENTER_VIEW="Slides Presenter View",i.REQUEST_SENT_NUDGE_POPOVER="Request Sent Nudge Popover",i),d=((a=d||{}).PLUGINS="plugins",a.RECENTS="recent",a),c=((o=c||{}).PERSONAL="Personal",o.ORG="Org",o),u=((s=u||{}).FREE="Free",s.PAID="Paid",s)},34716:(e,r,n)=>{"use strict";var i=n(47807),a=n(208),o=n(30654);n(99506);let s=function(e){let r=o.object(e());return Object.assign(r,{sinatra:()=>o.sinatra(r)})}(()=>({id:o.string(),name:o.string().nullable(),creatorId:o.string(),teamId:o.string(),baseColors:o.array(o.string()),uuid:o.string().uuid(),isTeamDefault:o.boolean()}));new class{constructor(){this.ColorPaletteSchemaValidator=(0,i.YV)("ColorPaletteSchemaValidator",s.sinatra(),null)}createColorPalette(e){return this.ColorPaletteSchemaValidator.validate(async({xr:r})=>await r.post("/api/color_palettes",i.td.toAPIParameters(e)))}updateColorPalette(e){return this.ColorPaletteSchemaValidator.validate(async({xr:r})=>await r.put(`/api/color_palettes/${e.uuid}`,i.td.toAPIParameters(e)))}async deleteColorPalette(e){await a.Ay.del(`/api/color_palettes/${e}`)}setUserColorPaletteOverrideForFile(e,r){return a.Ay.post(`/api/files/${e}/color_palette`,i.td.toAPIParameters({colorPaletteUuid:r}))}async setTeamDefaultPalette(e,r){await a.Ay.post(`/api/teams/${e}/default_color_palette`,i.td.toAPIParameters({colorPaletteUuid:r}))}async clearTeamDefaultPalette(e){await a.Ay.del(`/api/teams/${e}/default_color_palette`)}}},67518:(e,r,n)=>{"use strict";let i;n.d(r,{U:()=>s});var a=n(47807),o=((i=o||{}).VIEW_OR_PENDING="view_or_pending",i.VIEW_PROTOTYPE_OR_PENDING="view_prototype_or_pending",i);let s=new class{constructor(){this.ContactsSchemaValidator=(0,a.vh)(),this.AtMentionsSchemaValidator=(0,a.vh)(),this.searchAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.AtMentionsSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/at_mentions",a.td.toAPIParameters(e)))),this.getAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.AtMentionsSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/at_mentions",a.td.toAPIParameters(e)))),this.ShareModalSchemaValidator=(0,a.vh)(),this.searchShareModalContacts=e=>this.ShareModalSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/share",a.td.toAPIParameters(e))),this.getShareModalContacts=e=>this.ShareModalSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/share",a.td.toAPIParameters(e))),this.FeedAtMentionsSchemaValidator=(0,a.vh)(),this.getFeedAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedAtMentionsSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/feed_at_mentions",a.td.toAPIParameters(e)))),this.searchFeedAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedAtMentionsSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/feed_at_mentions",a.td.toAPIParameters(e)))),this.FaceStampsMentionSchemaValidator=(0,a.vh)(),this.searchFaceStamps=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FaceStampsMentionSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/face_stamps",a.td.toAPIParameters(e)))),this.getRecentFaceStamps=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FaceStampsMentionSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/face_stamps",a.td.toAPIParameters(e)))),this.FeedPostCreatorsSchemaValidator=(0,a.vh)(),this.getFeedPostCreators=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedPostCreatorsSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/feed_post_creators",a.td.toAPIParameters(e)))),this.searchFeedPostCreators=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedPostCreatorsSchemaValidator.validate(({xr:r})=>r.get("/api/contacts/feed_post_creators",a.td.toAPIParameters(e))))}getContacts(e){return this.ContactsSchemaValidator.validate(async({xr:r})=>await r.get("/api/contacts",a.td.toAPIParameters(e)))}}},56012:(e,r,n)=>{"use strict";n.d(r,{Z:()=>o});var i=n(47807);let a=n(208).Ay.requiredHeaders,o=new class{constructor(){this.LibraryComponentV2DestinationSchemaValidator=(0,i.vh)(),this.LibraryPublishedComponentsFvSchemaValidator=(0,i.vh)(),this.CommunityLibraryPublishedComponentsSchemaValidator=(0,i.vh)(),this.LibraryStylesSchemaValidator=(0,i.vh)(),this.LibraryStyleByKeyValidator=(0,i.vh)(),this.LibrarySubscribedComponentsFvEditorTypeSchemaValidator=(0,i.vh)(),this.DefaultLibrariesSchemaValidator=(0,i.vh)(),this.LibraryPublishedComponentsStatsSchemaValidator=(0,i.vh)(),this.LibraryPublishedComponentsSchemaValidator=(0,i.vh)(),this.LibraryComponentV2SchemaValidator=(0,i.vh)(),this.LibraryStateGroupFvSchemaValidator=(0,i.vh)(),this.LibraryPublishedAndMovedComponentsFvSchemaValidator=(0,i.vh)(),this.LibrariesSchemaValidator=(0,i.vh)(),this.LibraryPublishSchemaValidator=(0,i.vh)(),this.UploadPublishParamsSchemaValidator=(0,i.vh)()}getLibraryComponentV2Destination(e){return this.LibraryComponentV2DestinationSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/component_v2/${e.componentKey}/destination`))}getLibraryPublishedComponentsFv(e){let{key:r,fileVersion:n,includeThumbnail:o,includeRealtime:s}=e;return this.LibraryPublishedComponentsFvSchemaValidator.validate(async({xr:e})=>await e.get(`/api/design_systems/library/${r}/published_components`,i.td.toAPIParameters({fv:n,includeThumbnail:o,includeRealtime:s}),{...a,retryCount:5}))}getCommunityLibraryPublishedComponents(e){return this.CommunityLibraryPublishedComponentsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community_libraries/${e.hubFileId}/published_components`,null,{...a,retryCount:5}))}getLibraryStyles(e){return this.LibraryStylesSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/${e.libraryFileKey}/styles`))}getLibraryStyleByKey(e){return this.LibraryStyleByKeyValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/styles/${e.styleKey}`))}getLibrarySubscribedComponentsEditorType(e){return this.LibrarySubscribedComponentsFvEditorTypeSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/${e.key}/subscribed_components?editor_type=${e.editorType}`))}getDefaultLibraries(){return this.DefaultLibrariesSchemaValidator.validate(async({xr:e})=>await e.get("/api/design_systems/default_libraries",i.td.toAPIParameters({})))}getLibraryPublishedComponentsStats(e){return this.LibraryPublishedComponentsStatsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/${e.libraryFileKey}/published_components`))}getLibraryPublishedComponents(e){return this.LibraryPublishedComponentsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/${e.fileKey}/published_components`))}getLibraryComponentV2(e){return this.LibraryComponentV2SchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/component_v2/${e.componentKey}`,i.td.toAPIParameters(e)))}getLibraryStateGroupFv(e){return this.LibraryStateGroupFvSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/state_group/${e.stateGroupKey}?fv=${e.fileVersion}`))}getLibraryPublishedAndMovedComponentsFv(e){return this.LibraryPublishedAndMovedComponentsFvSchemaValidator.validate(async({xr:r})=>await r.get(`/api/design_systems/library/${e.openFileKey}/published_and_moved_components?fv=${e.fileVersion}`,null,{...a,retryCount:5}))}getLibraries(e){return this.LibrariesSchemaValidator.validate(async({xr:r})=>await r.get("/api/design_systems/libraries",i.td.toAPIParameters(e)))}postLibraryPublish({fileKey:e,checkpointKey:r,paramsPath:n,publishToCommunity:i}){return this.LibraryPublishSchemaValidator.validate(async({xr:a})=>await a.post(`/api/publish/${e}`,{file_key:e,checkpoint_key:r,params_path:n,publish_to_community:i}))}postUploadPublishParams(){return this.UploadPublishParamsSchemaValidator.validate(async({xr:e})=>await e.post("/api/publish_params/upload"))}}},19117:(e,r,n)=>{"use strict";n.d(r,{J:()=>a});var i=n(47807);let a=new class{constructor(){this.FeedCommentAttachmentSchemaValidator=(0,i.vh)()}post(e,r,n,i,a,o){return this.FeedCommentAttachmentSchemaValidator.validate(async({xr:s})=>await s.post("/api/feed_comment_attachment",{media_type:e,image_sha1:r,thumbnail_sha1:n,uploaded_at:i,metadata:a,locality:o}))}delete(e){return i._5.validate(async({xr:r})=>await r.del(`/api/feed_comment_attachment/${e}`))}put(e,r){return i._5.validate(async({xr:n})=>await n.put(`/api/feed_comment_attachment/${e}`,{alt_text:r}))}}},20425:(e,r,n)=>{"use strict";n.d(r,{L:()=>o});var i=n(47807),a=n(208);let o=new class{constructor(){this.CommentsSchemaValidator=(0,i.vh)(),this.CanvasMentionsFileNeedsInviteValidator=(0,i.vh)(),this.FileCanRequestEditValidator=(0,i.vh)()}getComments(e){return this.CommentsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/file/${e.fileKey}/comments/${e.commentThreadId}`))}getCanvasMentionsFileNeedsInvite(e){return this.CanvasMentionsFileNeedsInviteValidator.validate(({xr:r})=>r.get(`/api/file/${e.fileKey}/canvas_mentions/needs_invite?mentioned_user_id=${e.mentionedUserId}`))}getFileCanRequestEdit(e){return this.FileCanRequestEditValidator.validate(({xr:r})=>r.get(`/api/files/${e.fileKey}/can_request_edit`))}acceptFileRoleRequest(e){return a.Ay.post(`/api/files/role_request/${e.roleRequestId}/accept`,{source:e.source})}denyFileRoleRequest(e){return a.Ay.post(`/api/files/role_request/${e.roleRequestId}/deny`,{source:e.source})}createStarterTeamFileRole(e){return a.Ay.put("/api/files/create_starter_team_file_role",{key:e.key})}updateFolderAccessEnabled(e){return a.Ay.put(`/api/files/${e.fileKey}`,{folder_access_enabled:e.folderAccessEnabled})}postRecentActivity(e){return a.Ay.post(`/api/files/${e.fileKey}/recent_activity`,{activity_type:e.activityType})}}},28775:(e,r,n)=>{"use strict";n.d(r,{l:()=>a});var i=n(47807);let a=new class{constructor(){this.FileCommentAttachmentSchemaValidator=(0,i.vh)()}post(e,r,n,i,a,o){return this.FileCommentAttachmentSchemaValidator.validate(async({xr:s})=>await s.post(`/api/file/${e}/file_comment_attachments`,{media_type:r,image_sha1:n,thumbnail_sha1:i,uploaded_at:a,metadata:o}))}delete(e,r){return i._5.validate(async({xr:n})=>await n.del(`/api/file/${e}/file_comment_attachments/${r}`))}put(e,r,n){return i._5.validate(({xr:i})=>i.put(`/api/file/${e}/file_comment_attachments/${r}`,{alt_text:n}))}}},38981:(e,r,n)=>{"use strict";n.d(r,{R:()=>s});var i=n(76621),a=n(47807);let o=n(208).Ay.requiredHeaders,s=new class{constructor(){this.FontsSchemaValidator=(0,a.vh)(),this.FileSchemaValidator=(0,a.vh)()}getFonts(e){return this.FontsSchemaValidator.validate(async({xr:r})=>await r.get("/api/fonts",a.td.toAPIParameters(e||{})))}getFile(e){let{fileKey:r,fileHasParentOrg:n,...s}=e;return n?this.FileSchemaValidator.validate(async({xr:l})=>{let d=await l.get(`/api/fonts/file/${e.fileKey}`,a.td.toAPIParameters(s),{headers:{...o,Accept:"text/plain"}});return d.status>=200&&d.status<500&&400===d.status===n&&(0,i.xi)("api_font","client-side and server-side parent org check mismatch",{fileKey:r,fileHasParentOrg:n,status:d.status},{reportAsSentryError:!0}),d}):Promise.reject()}}},55617:(e,r,n)=>{"use strict";n.d(r,{D:()=>a});var i=n(47807);let a=new class{constructor(){this.HubFileMetadataSchemaValidator=(0,i.vh)()}getHubFileMetadata(e){return this.HubFileMetadataSchemaValidator.validate(async({xr:r})=>await r.get("/api/hub_file_metadata",i.td.toAPIParameters({file_key:e.fileKey})))}}},1400:(e,r,n)=>{"use strict";n.d(r,{H:()=>a});var i=n(47807);let a=new class{constructor(){this.TemplatesSchemaValidator=(0,i.vh)(),this.VersionsSchemaValidator=(0,i.vh)(),this.ProfileSchemaValidator=(0,i.vh)(),this.LibrariesSchemaValidator=(0,i.vh)()}getTemplates(e){return this.TemplatesSchemaValidator.validate(async({xr:r})=>await r.get("/api/hub_files/templates",{type:e.type}))}getVersions(e){return this.VersionsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/hub_files/${e.id}/versions`))}getProfile(e){return this.ProfileSchemaValidator.validate(async({xr:r})=>await r.get(`/api/hub_files/profile/${e.profileId}`))}getLibraries(e){return this.LibrariesSchemaValidator.validate(async({xr:r})=>await r.get("/api/hub_files/libraries",{library_ids:e.libraryIds.join(",")}))}}},10397:(e,r,n)=>{"use strict";n.d(r,{P:()=>a});var i=n(47807);let a=new class{constructor(){this.OrgSamlConfigSchemaValidator=(0,i.vh)(),this.ContactsSchemaValidator=(0,i.vh)(),this.ExperimentCohortValidator=(0,i.vh)()}getOrgSamlConfig(e){return this.OrgSamlConfigSchemaValidator.validate(async({xr:r})=>await r.get(`/api/org/${e.orgId}/org_saml_config`))}getContacts(e){let{orgId:r,...n}=e;return this.ContactsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/org/${e.orgId}/contacts`,i.td.toAPIParameters(n)))}getExperimentCohort(e){let{orgId:r,...n}=e;return this.ExperimentCohortValidator.validate(async({xr:r})=>await r.get(`/api/orgs/${e.orgId}/experiment_cohort`,i.td.toAPIParameters(n)))}}},93623:(e,r,n)=>{"use strict";n.d(r,{V:()=>o});var i=n(47807),a=n(208);let o=new class{constructor(){this.OrgWhitelistSchemaValidator=(0,i.vh)(),this.VersionsSchemaValidator=(0,i.vh)(),this.InstalledSchemaValidator=(0,i.vh)(),this.PluginsSchemaValidator=(0,i.vh)(),this.ProfileSchemaValidator=(0,i.vh)(),this.OrgSchemaValidator=(0,i.vh)(),this.InstallStatusSchemaValidator=(0,i.vh)(),this.UnpublishedPluginsSchemaValidator=(0,i.vh)(),this.getUnpublishedPlugins=()=>this.UnpublishedPluginsSchemaValidator.validate(async({xr:e})=>await e.get("/api/plugins/unpublished"))}getOrgWhitelist(e){return this.OrgWhitelistSchemaValidator.validate(async({xr:r})=>{let{orgId:n,...a}=e;return await r.get(`/api/plugins/org/${e.orgId}/whitelist`,i.td.toAPIParameters(a))})}getVersions(e){return this.VersionsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/plugins/${e.pluginId}/versions`))}getInstalled(e){return this.InstalledSchemaValidator.validate(async({xr:r})=>await r.get("/api/plugins/installed",i.td.toAPIParameters(e)))}getPlugins(e){return this.PluginsSchemaValidator.validate(async({xr:r})=>await r.get("/api/plugins",i.td.toAPIParameters(e)))}getProfile(e){let{profileId:r,...n}=e;return this.ProfileSchemaValidator.validate(async({xr:e})=>await e.get(`/api/plugins/profile/${r}`,i.td.toAPIParameters(n)))}getOrg(e){return this.OrgSchemaValidator.validate(async({xr:r})=>await r.get(`/api/plugins/org/${e.orgId}`))}getInstallStatus(e){return this.InstallStatusSchemaValidator.validate(async({xr:r})=>await r.get("/api/plugins/install_status",i.td.toAPIParameters(e)))}async postPluginsBatch(e,r){return await a.Ay.post("/api/plugins/batch",{ids:e,org_id:r})}}},46058:(e,r,n)=>{"use strict";n.d(r,{s:()=>a});var i=n(47807);let a=new class{constructor(){this.ProfileSchemaValidator=(0,i.vh)(),this.HandleSchemaValidator=(0,i.vh)(),this.RestrictedProfilesSchemaValidator=(0,i.vh)(),this.HandleAvailableSchemaValidator=(0,i.vh)(),this.EditorsSchemaValidator=(0,i.vh)()}getProfile(e){return this.ProfileSchemaValidator.validate(async({xr:r})=>await r.get(`/api/profile/${e.profileId}`))}getHandle(e){return this.HandleSchemaValidator.validate(async({xr:r})=>await r.get(`/api/profile/handle/${e.handle}`,i.td.toAPIParameters({currentOrgId:e.currentOrgId})))}getRestrictedProfiles(e){return this.RestrictedProfilesSchemaValidator.validate(async({xr:r})=>await r.get(`/api/profile/${e.profileId}/restricted_profiles`))}getHandleAvailable(e){return this.HandleAvailableSchemaValidator.validate(async({xr:r})=>await r.get(`/api/profile/handle/${e.profileHandle}/available`))}getEditors(e){return this.EditorsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/profile/editors/${e.fileKey}`))}}},8567:(e,r,n)=>{"use strict";n.d(r,{$W:()=>m,in:()=>h});var i=n(47807),a=n(208);n(15009);var o=n(9495),s=n(42114),l=n(71120);n(52800);var d=n(41088),c=n(73454),u=n(67409);let p={504:a.Ay.RetryStrategy.NO_RETRY};function h(e){return e.map(e=>e===c.PW.STATE_GROUP?"variant":e)}let m=new class{constructor(){this.ComponentsSchemaValidator=(0,i.vh)(),this.CanvasAssetsSchemaValidator=(0,i.vh)(),this.CommunityLibrariesComponentsSchemaValidator=(0,i.vh)(),this.LibraryAssetsSchemaValidator=(0,i.vh)(),this.CommunityLibraryAssetsSchemaValidator=(0,i.vh)(),this.FigFilesSchemaValidator=(0,i.vh)(),this.getFigFiles=e=>this.FigFilesSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/fig_files",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.CommunityResourcesQuerySchemaValidator=(0,i.vh)(),this.HubProfilesSchemaValidator=(0,i.vh)(),this.getHubProfiles=e=>this.HubProfilesSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/hub_profiles",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.CommunityMentionsSchemaValidator=(0,i.vh)(),this.PluginsSearchSchemaValidator=(0,i.vh)(),this.PrivatePluginsSearchSchemaValidator=(0,i.vh)(),this.WidgetsSearchSchemaValidator=(0,i.vh)(),this.PrivateWidgetsSearchSchemaValidator=(0,i.vh)(),this.FoldersSchemaValidator=(0,i.vh)(),this.getFolders=e=>this.FoldersSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/folders",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.TeamsSchemaValidator=(0,i.vh)(),this.getTeams=e=>this.TeamsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/teams",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.UsersSchemaValidator=(0,i.vh)(),this.getUsers=e=>this.UsersSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/users",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.HubFilesSchemaValidator=(0,i.vh)(),this.getHubFiles=e=>this.HubFilesSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/hub_files",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.PluginsSchemaValidator=(0,i.vh)(),this.getPlugins=e=>this.PluginsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/plugins",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.PrivatePluginsSchemaValidator=(0,i.vh)(),this.getPrivatePlugins=e=>this.PrivatePluginsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/plugins",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.WidgetsSchemaValidator=(0,i.vh)(),this.getWidgets=e=>this.WidgetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/widgets",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.PrivateWidgetsSchemaValidator=(0,i.vh)(),this.getPrivateWidgets=e=>this.PrivateWidgetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/widgets",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.ExtensionsSchemaValidator=(0,i.vh)(),this.getExtensions=e=>this.ExtensionsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/extensions",i.td.toAPIParameters(e),{retryStrategyOverride:p})),this.FullResultsSchemaValidator=(0,i.vh)(),this.getFullResults=e=>this.FullResultsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/full_results",i.td.toAPIParameters(e,["creator_ids[]","folder_ids[]","team_ids[]","org_ids[]"]),{retryStrategyOverride:p})),this.PreviewSearchSchemaValidator=(0,i.vh)(),this.getPreviewResults=e=>this.PreviewSearchSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/file_browser_preview",i.td.toAPIParameters(e,["creator_ids[]","folder_ids[]","team_ids[]","org_ids[]"]),{retryStrategyOverride:p})),this.FacetSearchSchemaValidator=(0,i.vh)(),this.getFacetSearchResults=e=>{let{query:r,facetType:n,restrictOrgId:a}=e;return this.FacetSearchSchemaValidator.validate(async({xr:e})=>await e.get("/api/search/facet_search",i.td.toAPIParameters({query:r,facet_type:n,sort:u.j9.RELEVANCY,desc:!0,is_global:!a,org_id:a}),{retryStrategyOverride:p}))}}getComponents(e){return this.ComponentsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/components",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getComponentsFromFile(e){return this.ComponentsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/components_from_file",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getCanvasAssets(e){return this.CanvasAssetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/canvas_assets",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getCanvasAssetsFromFile(e){return this.CanvasAssetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/canvas_assets_from_file",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getAssetsFromCommunityLibraries(e){return this.CommunityLibrariesComponentsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/community_libraries/assets",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getLibraryAssets(e){return this.LibraryAssetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/library_assets",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getCommunityLibraryAssets(e){return this.CommunityLibraryAssetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/community_libraries/library_assets",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getCommunityResources(e){return this.CommunityResourcesQuerySchemaValidator.validate(async({xr:r})=>await r.get("/api/search/community_resources",i.td.toAPIParameters(e),{retryStrategyOverride:p}))}getCommunityMentions(e){return this.CommunityMentionsSchemaValidator.validate(async({xr:r})=>await r.get("/api/search/community_mentions",i.td.toAPIParameters({query:e.query}),{retryStrategyOverride:p}))}getCommunityPlugins(e,r,n,a,c,u){let h=c?{is_inspect:`${c}`,capability_type:(0,d.T)()?s.h.VSCODE:null}:{editor_type:a},m=this.PluginsSearchSchemaValidator.validate(async({xr:a})=>await a.get("/api/search/community_resources",i.td.toAPIParameters({query:e,current_org_id:r||void 0,resource_type:l.L.BrowseResourceTypes.PLUGINS,sort_by:o.e.Search.RELEVANCY,price:n,...h}),{retryStrategyOverride:p}));return u?[m,this.PrivatePluginsSearchSchemaValidator.validate(async({xr:a})=>await a.get("/api/search/community_resources",i.td.toAPIParameters({query:e,current_org_id:r||void 0,resource_type:l.L.BrowseResourceTypes.PLUGINS,sort_by:o.e.Search.RELEVANCY,price:n,...h,org_search:!0}),{retryStrategyOverride:p})).then(({data:e})=>e.meta.results)]:[m,Promise.resolve([])]}getCommunityWidgets(e,r,n,a,s){let d=this.WidgetsSearchSchemaValidator.validate(async({xr:s})=>await s.get("/api/search/community_resources",i.td.toAPIParameters({query:e,current_org_id:r||"",resource_type:l.L.BrowseResourceTypes.WIDGETS,editor_type:a,sort_by:o.e.Search.RELEVANCY,price:n}),{retryStrategyOverride:p}));return s?[d,this.PrivateWidgetsSearchSchemaValidator.validate(async({xr:s})=>await s.get("/api/search/community_resources",i.td.toAPIParameters({query:e,current_org_id:r||"",resource_type:l.L.BrowseResourceTypes.WIDGETS,editor_type:a,sort_by:o.e.Search.RELEVANCY,price:n,org_search:!0}),{retryStrategyOverride:p})).then(({data:e})=>e.meta.results)]:[d,Promise.resolve([])]}}},92330:(e,r,n)=>{"use strict";n.d(r,{U:()=>a});var i=n(47807);let a=new class{constructor(){this.OrgWhitelistSchemaValidator=(0,i.vh)(),this.VersionsSchemaValidator=(0,i.vh)(),this.WidgetsSchemaValidator=(0,i.vh)(),this.ProfileSchemaValidator=(0,i.vh)(),this.OrgSchemaValidator=(0,i.vh)(),this.InstallStatusSchemaValidator=(0,i.vh)(),this.UnpublishedWidgetsSchemaValidator=(0,i.vh)(),this.getUnpublishedWidgets=()=>this.UnpublishedWidgetsSchemaValidator.validate(async({xr:e})=>await e.get("/api/widgets/unpublished"))}getOrgWhitelist(e){let{orgId:r,...n}=e;return this.OrgWhitelistSchemaValidator.validate(async({xr:r})=>await r.get(`/api/widgets/org/${e.orgId}/whitelist`,i.td.toAPIParameters(n)))}getVersions(e){return this.VersionsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/widgets/${e.widgetId}/versions`,{},{retryCount:1}))}getWidgets(e){return this.WidgetsSchemaValidator.validate(async({xr:r})=>await r.get("/api/widgets",i.td.toAPIParameters(e)))}getProfile(e){let{profileId:r,...n}=e;return this.ProfileSchemaValidator.validate(async({xr:r})=>await r.get(`/api/widgets/profile/${e.profileId}`,i.td.toAPIParameters(n)))}getOrg(e){return this.OrgSchemaValidator.validate(async({xr:r})=>await r.get(`/api/widgets/org/${e.orgId}`))}getInstallStatus(e){return this.InstallStatusSchemaValidator.validate(async({xr:r})=>await r.get("/api/widgets/install_status",i.td.toAPIParameters(e)))}}},77230:(e,r,n)=>{"use strict";let i;n.d(r,{a4:()=>l,eE:()=>d,tM:()=>s});var a=n(88706),o=n(38580),s=((i=s||{})[i.PENDING=0]="PENDING",i[i.SUCCESS=1]="SUCCESS",i[i.FAILURE=2]="FAILURE",i);let l=(0,a.um)([],(e,r)=>{if(null==r)return e;if("clear"===r)return[];let n=[];if(1===r.networkState||2===r.networkState){if(r.requestJsons.forEach(i=>{let a=e.find(e=>e.requestJson.figment_debugger_uuid===i.figment_debugger_uuid);null!=a?a.networkState=r.networkState:n.push(i)}),0===n.length)return e}else 0===r.networkState&&(n=r.requestJsons);let i=200-(e.length+n.length);return i<0&&e.splice(e.length+i),n.map(e=>({requestJson:e,networkState:r.networkState})).concat(e)}),d=(0,o.eU)(!1)},26732:(e,r,n)=>{"use strict";n.d(r,{N:()=>l,Y:()=>d});var i=n(66712),a=n(74626),o=n(77230);let s="showFigmentDebugger";function l(e,r){try{if(!(0,i.kc)().internal_only_debug_tools||!(0,i.kc)().figment_debugger||null==e)return;a.zl.set(o.a4,{requestJsons:e,networkState:r})}catch(e){console.error("[Figment Debugger] Error tracking request")}}function d(){var e;let r=function(){try{if(null==localStorage)return!1;let e=localStorage.getItem(s);return"true"===e}catch(e){return!1}}();e=!r,localStorage.setItem(s,e?"true":"false"),a.zl.set(o.eE,!r)}},55258:(e,r,n)=>{"use strict";let i,a,o,s,l;n.d(r,{x:()=>tA});var d=n(11855),c=n(96328),u=n(95847),p=n(6108);n(63659);var h=n(88507),m=n(17333),g=n(98977),f=n(20063),_=n(66712),y=n(46240),E=n(63706),b=n(61870);let v=(0,n(38580).eU)("");var S=n(74626);function I(){return(0,_.Ay)().email_token||null}n(42617),u.V7.ACCESS_TOKEN;var T=n(64205),w=n(84934),C=n(47899),A=n(30637),N=n(78466),O=n(79296),R=((i=R||{}).FRAME_MOUNTED="frame-mounted",i.JS_LOADED="js-loaded",i.CHALLENGE_LOADED="loaded",i.CHALLENGE_SUPPRESSED="suppressed",i.CHALLENGE_SHOWN="challenged",i.IFRAMESIZE="iframesize",i.COMPLETED="completed",i.ERRORED="errored",i.LOAD_TIMED_OUT="timed-out",i),P=((a=P||{}).FRAME_FAILED_TO_LOAD_IN_TIME="frame failed to load in time",a.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FRAME_NOT_MOUNTED="getArkoseToken failed because Arkose frame was never mounted",a.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED="getArkoseToken failed because Arkose failed",a.MISSING_ARKOSE_TOKEN_WHEN_GETTING_ARKOSE_TOKEN="getArkoseToken missing token despite frame being ready",a.GETTING_ARKOSE_TOKEN_SUCCEEDED="success",a),L=((o=L||{}).ERROR_HANDLING_MESSAGE="error handling message",o),D=((s=D||{}).REACHABILITY="reachability",s);let M={...R,...P,...L,...D};var k=((l=k||{}).CHALLENGE_JS_LOADED="challenge-js-loaded",l.CHALLENGE_LOADED="challenge-loaded",l.CHALLENGE_SUPPRESSED="challenge-suppressed",l.CHALLENGE_SHOWN="challenge-shown",l.CHALLENGE_IFRAMESIZE="challenge-iframesize",l.CHALLENGE_COMPLETE="challenge-complete",l.CHALLENGE_ERROR="challenge-error",l);let x={"challenge-js-loaded":"js-loaded","challenge-loaded":"loaded","challenge-suppressed":"suppressed","challenge-shown":"challenged","challenge-iframesize":"iframesize","challenge-complete":"completed","challenge-error":"errored"},F=()=>!U()&&!B()&&!V(),U=()=>"undefined"==typeof window||void 0===window.arkose,B=()=>"frame-mounted"===window.arkose,V=()=>H()||G(),H=()=>"errored"===window.arkose,G=()=>"timed-out"===window.arkose,W=(0,O.D)(()=>new Date().getTime()),z=(0,O.D)(async e=>{try{return await fetch(e,{method:"HEAD",mode:"no-cors"}),Promise.resolve()}catch(e){return Promise.reject()}}),K=(0,O.D)(()=>!(0,A.Lg)()),j=({event:e,prevFormState:r,getArkoseTokenAction:n,error:i,reachability:a,frameLoadTimeoutMS:o})=>{if("iframesize"===e)return;let s=e.toString();(e===M.ERRORED||e===M.ERROR_HANDLING_MESSAGE)&&i&&(s=`${e}: ${i}`);let l={arkose_event:s};void 0!==window.mountTime&&(l.elapsed_time_since_mount_in_ms=W()-window.mountTime),r&&(l.prev_form_state=r.toString()),n&&(l.get_arkose_token_action=n),o&&(l.frame_load_timeout_ms=o),e===M.REACHABILITY&&a&&(l.reachability=Object.entries(a).map(e=>`${e[0]}|${e[1]}`).join(",")),K()&&(0,w.sx)("Arkose",l,{forwardToDatadog:!0,batchRequest:!1})},Y=(0,O.D)(e=>{null!==e.current&&(clearTimeout(e.current),e.current=null)}),$=new T.eu;function q(e){let r=d.useRef(5e3),n=d.useRef(null),{getConfig:i}=(0,C.I7)("exp_arkose_timeout"),a=r=>{r.origin===(0,_.tl)().arkose_origin&&$.runExclusive(()=>{o(r)}).catch(r=>{j({event:M.ERROR_HANDLING_MESSAGE,prevFormState:e.prevFormState,error:r})})},o=n=>{var i;let a;if(V())return;let o=JSON.parse(n.data);if(!Object.values(k).includes(o.eventId))return;let s=x[a=o.eventId];switch(window.arkose=s.toString(),j({event:s,prevFormState:e.prevFormState,error:null==(i=o.payload.error)?void 0:i.error,frameLoadTimeoutMS:r.current}),a){case"challenge-loaded":e.onLoaded&&e.onLoaded();break;case"challenge-shown":e.onChallenge();break;case"challenge-iframesize":let l=document.getElementById("arkoseFrame");l&&(l.width=o.payload.frameWidth,l.height=o.payload.frameHeight);break;case"challenge-complete":window.arkoseResult=o.payload.sessionToken,e.onCompleted();break;case"challenge-error":window.arkoseResult=s.toString(),e.onCompleted()}};(0,f.h)(()=>{let r=(0,_.tl)().arkose_challenge_public_key,n=["https://www.arkoselabs.com","https://status.arkoselabs.com","https://status.arkoselabs.com/api/v2/status.json",`https://figma-api.arkoselabs.com/v2/${r}/api.js`,(0,_.tl)().arkose_frame_url,"https://cdn.funcaptcha.com","https://verify.figma.com"];Promise.allSettled(n.map(e=>z(e))).then(r=>{let i={};r.forEach((e,r)=>{i[n[r]]="fulfilled"===e.status}),j({event:M.REACHABILITY,prevFormState:e.prevFormState,reachability:i})})});let s=()=>{let e=i().getValue("timeout_ms",5e3);return r.current=e,e};(0,f.h)(()=>(Object.defineProperty(window,"mountTime",{value:W(),configurable:!0,enumerable:!0}),window.addEventListener("message",a),Promise.race([new Promise((i,a)=>{n.current=setTimeout(()=>{$.runExclusive(()=>{F()?i(window.arkose):(delete window.arkose,window.arkose="timed-out",j({event:M.FRAME_FAILED_TO_LOAD_IN_TIME,prevFormState:e.prevFormState,frameLoadTimeoutMS:r.current}),a(Error("Arkose script failed to load.")))}).then(null)},s())}),new Promise((e,r)=>{Object.defineProperty(window,"arkose",{get:()=>"frame-mounted",set:n=>{$.runExclusive(()=>{V()?r(Error("Arkose script failed to load.")):(delete window.arkose,window.arkose=n,e(n))}).then(null)},configurable:!0,enumerable:!0})})]).then(null,r=>{window.arkoseResult="timed-out",e.onCompleted()}).finally(()=>{Y(n)}),()=>{window.removeEventListener("message",a)}));let l=(0,N.Gq)().getPrimaryLocale(!1),c=(0,_.tl)().arkose_challenge_public_key,u=(0,_.tl)().arkose_frame_url+"?publicKey="+c+"&locale="+l;return d.createElement("div",null,d.createElement("iframe",{id:"arkoseFrame",height:0,width:0,src:u,title:"Arkose Frame",className:"arkose--arkoseFrame--ErXcx"}))}var Z=n(29019),X=n.n(Z),J=n(92766);function Q(e){let r=d.useRef(!1),n=d.useRef(null),i=d.useCallback(()=>{if(n.current&&!e.noAutofocus)for(let e=0;e<n.current.elements.length;e++){let r=n.current.elements[e];if(!r.dataset.noAutoFocus){r.focus();break}}},[e.noAutofocus]),a=d.useCallback(()=>{if(n.current)for(let r=0;r<n.current.elements.length;r++){let i=n.current.elements[r];if(i.name===e.auth.invalidInput){i.focus(),["text","search","url","tel","password"].includes(i.type)&&(i.selectionStart=i.selectionEnd);break}}},[e.auth.invalidInput]);d.useEffect(()=>{r.current&&e.auth.invalidInput&&a(),r.current=!1},[e.auth,a]),d.useEffect(()=>{i(),r.current=!1},[e.auth.formState,i]),(0,f.h)(i);let o=X()(e.className,{"auth_form--modal--1HV7-":e.modal,"auth_form--form--ydwSW auth_form--modal--1HV7-":!e.modal});return d.createElement("form",{id:e.id,className:o,onSubmit:n=>{var i;n.preventDefault(),r.current=!0,null==(i=e.onSubmit)||i.call(e,n)},ref:n,"data-testid":"auth-form"},e.isLoading&&d.createElement(J.qc,null),!e.isLoading&&d.createElement(d.Fragment,null,e.header&&d.createElement("div",{className:"auth_form--header--5WRrG"},e.header),e.headerSecondary&&d.createElement("div",{className:"auth_form--headerSecondary--sE6Ew"},e.headerSecondary),e.subtitle&&d.createElement("div",{className:"auth_form--subtitle--XKJND"},e.subtitle),e.auth.hint&&d.createElement("div",{className:"auth_form--hint--nmNHu"},e.auth.hint),d.createElement("div",{className:"auth_form--error--EtrjX"},!e.hideError&&e.auth.error),e.children))}function ee(e){let r=(0,h.wA)(),[n,i]=d.useState(!1),a=(0,S.md)(v),o=()=>{r(e.auth.postVerificationAction({formId:e.id})),i(!1)};(0,f.h)(()=>{(0,_.Ay)().do_arkose?i(!0):o()});let s=I();return d.createElement(Q,{onSubmit:e=>(e.preventDefault(),!1),...e},d.createElement("input",{type:"hidden",name:"email",value:e.auth.email||""}),d.createElement("input",{type:"hidden",name:"password",value:a||""}),d.createElement("input",{type:"hidden",name:"opt_in_email",value:`${e.auth.optInEmail}`||""}),s&&d.createElement("input",{type:"hidden",name:"email_token",value:s}),n&&d.createElement(J.nt,null),d.createElement(q,{prevFormState:e.auth.prevForm,onChallenge:()=>{i(!1)},onCompleted:o,onLoaded:()=>{i(!1)}}))}var et=n(17068),er=n(15054),en=n(39863);function ei(){return d.createElement("span",{className:"extra_info--termsFlattened--os-IL auth_view--footerText--M9q2W"},d.createElement(en.Tx,{id:"auth.extra-info.subscribe-to-figma-tips-and-updates-terms"}))}var ea=n(46689),eo=n(61565);function es(e){let{dispatch:r,center:n}=e,i="opt_in_email_checkbox",{mailing_list_checkbox_default:a}=(0,_.Ay)();return d.useLayoutEffect(()=>{a&&r(b.I.changeOptInEmail({value:!0}))},[r,a]),d.createElement("div",{className:n?"extra_info--checkboxGroupCentered--PxBpG extra_info--checkboxGroup--wWXmF":"extra_info--checkboxGroup--wWXmF"},d.createElement(ea.tB,{id:i,classOverride:"extra_info--checkbox--Puejw",svgOverride:eo.A,name:"opt_in_email",onChange:r=>{e.dispatch(b.I.changeOptInEmail({value:r.target.checked}))},value:`${e.optInEmail}`,checked:e.optInEmail}),d.createElement("label",{className:"extra_info--checkboxLabel--U36y5",htmlFor:i},d.createElement(en.Tx,{id:"auth.extra-info.subscribe-to-figma-tips-and-updates"})))}var el=n(75103),ed=n(5e4),ec=n(32923),eu=n(43632),ep=n(72517);let eh=e=>decodeURIComponent(atob(e).replace(/(.)/g,function(e,r){var n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})),em=e=>{let r=e.replace(/-/g,"+").replace(/_/g,"/");try{return eh(r)}catch(e){return atob(r)}},eg={error:"SignUpExtraInfoForm--error"};function ef(e){let r=(0,h.wA)(),n=(0,S.md)(v),[i]=d.useState(()=>(0,et.k4)([{displayName:(0,en.t)("auth.extra-info.usage-purpose.work"),value:u.GF.WORK},{displayName:(0,en.t)("auth.extra-info.usage-purpose.personal"),value:u.GF.PERSONAL},{displayName:(0,en.t)("auth.extra-info.usage-purpose.edu"),value:u.GF.EDU}])),[a,o]=d.useState(!1),s=e=>{r(b.I.changeUsagePurpose({value:e}))},l=d.useMemo(()=>e.googleIdToken?function(e){let r;try{r=JSON.parse(em(e.split(".")[1]))}catch(e){return null}return r}(e.googleIdToken):null,[e.googleIdToken]),c=I();return d.createElement(ep.fu,{name:"Auth extra info",properties:{googleAuthEmail:null==l?void 0:l.email}},d.createElement(Q,{className:"extra_info--centerText--lOpc3 auth_view--centerText--7489g",hideError:e.auth.invalidInput===u.RE.JOB_TITLE,onSubmit:n=>{var i;(null==(i=e.auth)?void 0:i.jobTitle)?e.onFormSubmit(n):(o(!0),r(b.I.showError({invalidInput:u.RE.JOB_TITLE,message:(0,en.t)("auth.extra-info.errors.please-provide-job-function")})))},...e,header:e.header||(0,en.t)("auth.extra-info.tell-us-about-yourself")},d.createElement(eu.Y,{direction:"vertical",horizontalAlignItems:"center",spacing:16},d.createElement(el.F0,{onBlur:e.onBlur,onChange:e=>{let n=e.target.value;r(b.I.changeName({value:n}))},value:e.auth.name||"",name:"name",placeholder:(0,en.t)("auth.extra-info.your-name"),autoCorrect:"off"}),d.createElement("input",{type:"hidden",name:"email",value:e.auth.email||""}),d.createElement("input",{type:"hidden",name:"password",value:n||""}),d.createElement("input",{type:"hidden",name:"googleIdToken",value:e.googleIdToken||""}),c&&d.createElement("input",{type:"hidden",name:"email_token",value:c}),d.createElement(er.Z,{responseHasError:a,invalidInput:e.auth.invalidInput,jobTitle:e.auth.jobTitle,dispatch:r}),e.auth.jobTitle&&d.createElement(ed.D5,{label:(0,en.t)("auth.extra-info.how-will-you-use"),name:"usagePurpose",value:e.auth.usagePurpose,onChange:e=>s(e),options:i}),e.auth.invalidInput===u.RE.JOB_TITLE&&e.auth.error&&d.createElement("div",{className:"extra_info--error--HXIao auth_form--error--EtrjX","data-testid":eg.error},e.auth.error),d.createElement(es,{dispatch:r,optInEmail:e.auth.optInEmail}),d.createElement(ec.Wd,{type:"submit",className:"extra_info--wideButton--Fbxb1 auth_view--wideButton--Db9su auth_view--fullWidth--ffDfw",loading:e.auth.loading},(0,en.t)("auth.extra-info.create-account")),d.createElement("div",{className:"extra_info--termsWrapper--w8S81 auth_view--footerText--M9q2W"},d.createElement(ei,null)))))}var e_=n(33537),ey=n(97170),eE=n(49410),eb=n(1505);let ev="sign_in_and_up--brandError--cu-wz",eS="sign_in_and_up--primaryWideButton--ajva0 auth_view--primaryWideButton--ES6JN auth_view--wideButton--Db9su auth_view--fullWidth--ffDfw",eI="sign_in_and_up--footer--ZRvf2 auth_view--footer--E0jsP",eT="sign_in_and_up--footerButtonRow--QQuoP auth_view--footerButtonRow--X82kF",ew="sign_in_and_up--footerRow--AiTIY auth_view--footerButtonRow--X82kF",eC="sign_in_and_up--centerText--BFgLW auth_view--centerText--7489g",eA="sign_in_and_up--termsLink--lxirF",eN="sign_in_and_up--termsFlattened--6t9-J auth_view--footerText--M9q2W";function eO(e){let r=(0,h.wA)(),n=(0,eE.OT)(),i=(0,E.o4)()&&!n(e.auth.redirectUrl),a=(0,y.Xr)(v),o=(0,_.Ay)().iso_code??"",s=(0,eE.Ot)()(o);d.useEffect(()=>{s&&r(b.I.changeOptInEmail({value:!0}))},[r,s]);let l=e=>{r(b.I.showError({message:e}))};return d.createElement(eL,{isSignUp:!0,onGoogleAuth:()=>{a(null),e.auth.shouldUseRedirectInstead?ey.Bs(e.auth.redirectUrl,e.auth.fromMsTeams,e.auth.origin):ey.Rm({dispatch:r,shouldDelayExtraInfoStep:!i,origin:e.auth.origin}).then(e=>{r(b.I.complete({userId:e.id}))},e=>{l(e.message)})},googleText:(0,en.t)("auth.sign-up-google-text"),submitText:(0,en.t)("auth.sign-up-submit-text"),usesSignInFooter:!0,isAutoMarketingEmailOptInEnabled:s,...e})}function eR(e){let r=(0,h.wA)(),n=(0,y.Xr)(v),i=(0,eE.OT)(),a=(0,E.o4)()&&!i(e.auth.redirectUrl),o=e=>{r(b.I.showError({message:e}))};return d.createElement(eL,{isSignUp:!1,onGoogleAuth:()=>{n(null),e.auth.shouldUseRedirectInstead?ey.Bs(e.auth.redirectUrl,e.auth.fromMsTeams,e.auth.origin):ey.Rm({dispatch:r,shouldDelayExtraInfoStep:!a,origin:e.auth.origin}).then(e=>{r(b.I.complete({userId:e.id}))},e=>{o(e.message)})},googleText:(0,en.t)("auth.sign-in-google-text"),submitText:(0,en.t)("auth.sign-in-submit-text"),usesSignInFooter:!1,...e})}function eP(e){let r=e.usesSignInFooter?(0,en.t)("auth.footer-sign-up-switch-form-text"):(0,en.t)("auth.footer-sign-in-switch-form-text"),n=e.usesSignInFooter?(0,en.t)("auth.footer-sign-up-switch-form-link"):(0,en.t)("auth.footer-sign-in-switch-form-link"),i=(0,en.t)("auth.footer-saml-link");return d.createElement("div",{className:eI},d.createElement("div",{className:eT},d.createElement(ea.CY,{className:e.usesSignInFooter?"sign_in_and_up--signInWithSaml--JtavT form_inputs--link--KfGcM":"sign_in_and_up--signUpWithSaml--Xpl1V form_inputs--link--KfGcM",onClick:e.onSwitchToSaml,trusted:!0},i)),e.onForgotPassword&&d.createElement(d.Fragment,null,d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:ew},d.createElement("a",{onClick:e.onForgotPassword,tabIndex:-1,className:"sign_in_and_up--forgotPassword--nCekP form_inputs--link--KfGcM"},(0,en.t)("auth.footer-forgot-password")))),d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:ew},d.createElement("div",{className:"sign_in_and_up--switchFormText--mE2oB auth_view--footerText--M9q2W"},r,d.createElement("a",{tabIndex:-1,className:"sign_in_and_up--switchFormLink--D-MGz form_inputs--link--KfGcM",onClick:e.onChangeFormClick},n))))}function eL(e){let r=(0,h.wA)(),{auth:n}=e,i=(0,eE.OT)(),a=(0,E.o4)()&&!i(e.auth.redirectUrl);d.useEffect(()=>{n.loading||n.errorType!==u.By.UNAUTHORIZED||null==n.googleIdToken||r(b.I.setGoogleIdToken({googleIdToken:null}))},[n.loading,n.errorType,n.googleIdToken,r]);let o=()=>{r(b.I.clickedSAMLSignIn({value:!0})),r(b.I.showForm({formState:u.qB.SAML_START}))},s=n.invalidInput===u.RE.EMAIL||n.invalidInput===u.RE.PASSWORD,l=n.appAuthAppType===u.DP.FIGJAM_MOBILE&&e.isSignUp,c=e.isSignUp&&!a&&!e.isAutoMarketingEmailOptInEnabled,p=e.isSignUp&&e.isAutoMarketingEmailOptInEnabled,m=I();return d.createElement(Q,{className:eC,hideError:s,onSubmit:e.onFormSubmit,...e},!l&&d.createElement(d.Fragment,null,d.createElement(ec.mQ,{text:e.googleText,onClick:e.onGoogleAuth}),d.createElement("span",{className:"sign_in_and_up--orBlock--w7-l4"},(0,en.t)("auth.generic-or"))),d.createElement(el.ZH,{showDomainSuggestions:!0,onBlur:e.onBlur}),n.invalidInput===u.RE.EMAIL&&n.error&&d.createElement("div",{className:ev},n.error),d.createElement(ec.k0,{multiple:2}),d.createElement(el.Wv,{onBlur:e.onBlur}),n.invalidInput===u.RE.PASSWORD&&n.error&&d.createElement("div",{className:ev},n.error),!p&&d.createElement(ec.k0,{multiple:3}),m&&d.createElement("input",{type:"hidden",name:"email_token",value:m}),c&&d.createElement(es,{center:!0,dispatch:r,optInEmail:n.optInEmail}),d.createElement(ec.k0,{multiple:2}),d.createElement(ec.Go,{type:"submit",className:e.usesSignInFooter?"sign_in_and_up--wideButton--t-8Hr auth_view--wideButton--Db9su auth_view--fullWidth--ffDfw":eS,loading:n.loading,trackingProperties:{trackingDescriptor:e.isSignUp?eb.c.SIGN_UP:eb.c.LOGIN}},e.submitText),d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:"sign_in_and_up--termsWrapper--iMWwO auth_view--footerText--M9q2W"},e.usesSignInFooter&&d.createElement(d.Fragment,null,d.createElement(eM,{googleText:e.googleText,ctaText:e.submitText}),d.createElement(ec.k0,{multiple:2})),c&&d.createElement(d.Fragment,null,d.createElement(ei,null),d.createElement(ec.k0,{multiple:2})),p&&d.createElement(d.Fragment,null,d.createElement(ek,null),d.createElement(ec.k0,{multiple:2}))),e.usesSignInFooter?d.createElement(eP,{onChangeFormClick:()=>{r(b.I.showForm({formState:u.qB.SIGN_IN}))},onSwitchToSaml:o,usesSignInFooter:e.usesSignInFooter}):d.createElement(eP,{onChangeFormClick:()=>{r(b.I.showForm({formState:u.qB.SIGN_UP}))},onForgotPassword:()=>{r(b.I.showForm({formState:u.qB.FORGOT_PASSWORD}))},onSwitchToSaml:o,usesSignInFooter:e.usesSignInFooter}))}function eD(e){let r=(0,h.wA)(),n="gov"===window.INITIAL_OPTIONS.cluster_name;return d.createElement(Q,{...e,header:(0,en.t)("auth.saml-start.header"),onSubmit:e.onFormSubmit},d.createElement(el.ZH,{...e,showDomainSuggestions:!0}),d.createElement(ec.k0,{multiple:2}),d.createElement(ec.Wd,{type:"submit",className:eS,loading:e.auth.loading,disabled:!(0,e_.xf)(e.auth.email)},(0,en.t)("auth.saml-start.log-in-plain")),d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:eI},d.createElement("div",{className:eT},!n&&d.createElement(ea.CY,{onClick:()=>{r(b.I.showForm({formState:u.qB.SIGN_IN})),r(b.I.clickedSAMLSignIn({value:!1}))},className:"sign_in_and_up--signInWithPassword--WpKvE form_inputs--link--KfGcM",trusted:!0},(0,en.t)("auth.saml-start.log-in-google-or-password")))))}function eM(e){return d.createElement("span",{className:eN},d.createElement(en.Tx,{id:"auth.terms-and-conditions-2nd-person",callToActionText:e.ctaText,googleText:e.googleText,termsOfService:d.createElement("a",{target:"_blank",rel:"noopener",className:eA,tabIndex:-1,href:(0,en.dS)("/legal/tos/")},d.createElement("span",null,d.createElement(en.Tx,{id:"auth.sign-in.tos-long"}))),privacyPolicy:d.createElement("a",{target:"_blank",rel:"noopener",className:eA,tabIndex:-1,href:(0,en.dS)("/legal/privacy/")},d.createElement("span",null,d.createElement(en.Tx,{id:"auth.sign-in.privacy-policy"})))}))}function ek(){return d.createElement("span",{className:eN},d.createElement(en.Tx,{id:"auth.sign-up.auto-marketing-email-opt-in-additional-terms"}))}var ex=n(45356);let eF="two_factor--brand--wDfGf";function eU(e){let r=(0,h.wA)(),[n,i]=d.useState(!1),[a,o]=d.useState(null),s=(0,S.md)(v),l=I();return d.createElement(Q,{header:e.header||(0,en.t)("auth.two-factor.header"),onSubmit:e.onFormSubmit,...e},d.createElement(el.gK,{onBlur:e.onBlur,onChange:e=>{o(e.target.value)},value:a||"",name:u.RE.TOTP_KEY,inputMode:"numeric",autoComplete:"one-time-code",placeholder:(0,en.t)("auth.two-factor.authentication-code"),isInvalid:e.auth.invalidInput===u.RE.TOTP_KEY}),d.createElement("input",{type:"hidden",name:"email",value:e.auth.email}),d.createElement("input",{type:"hidden",name:"password",value:s||""}),d.createElement("input",{type:"hidden",name:"password_retype",value:s||""}),l&&d.createElement("input",{type:"hidden",name:"email_token",value:l}),d.createElement(ec.k0,{multiple:2}),d.createElement(ec.Wd,{type:"submit",loading:e.auth.loading,className:"two_factor--wideButton--4uVoN auth_view--wideButton--Db9su auth_view--fullWidth--ffDfw"},(0,en.t)("auth.two-factor.log-in")),d.createElement(ec.k0,{multiple:2}),e.auth.smsOkay&&!n&&d.createElement(d.Fragment,null,d.createElement("a",{className:`two_factor--twoFactorText--EbmOr blue_link--blueLink--9rlnd ${eF}`,onClick:()=>{r((0,ex.q_)({formId:e.id})),i(!0)}},e.auth.hint?d.createElement(en.Tx,{id:"auth.two-factor.resend-sms-code"}):d.createElement(en.Tx,{id:"auth.two-factor.send-sms-code"})),d.createElement(ec.k0,{multiple:2})),d.createElement("a",{onClick:()=>{r(b.I.requireTwoFactor({required:!1}))},className:`two_factor--goBack--y6Kes blue_link--blueLink--9rlnd ${eF}`},(0,en.t)("auth.two-factor.back")))}var eB=n(208),eV=n(92592),eH=n(62275),eG=n(35682),eW=n(99506);let ez="join_org--modalText--t6wL6";function eK(e){let r=(0,h.wA)(),n=g.Ay.location.pathname+g.Ay.location.search,[i,a]=d.useState(!1),o=(0,h.d4)(e=>e.user),s=(0,h.d4)(eG.sS),l=(0,h.d4)(({openFile:e})=>null==e?void 0:e.parentOrgId),c=(0,h.d4)(({openFile:e})=>{var r;return null==(r=null==e?void 0:e.org)?void 0:r.name});if(!s||!o||!l)return null;let u=(null==e?void 0:e.auth.origin)==="start_using_plugins_button_click"?d.createElement("div",{className:ez},d.createElement(en.Tx,{id:"permissions.join_org.cannot_run_plugins",orgName:d.createElement("span",{style:{fontWeight:600}},c)})):d.createElement("div",{className:ez},d.createElement(en.Tx,{id:"permissions.join_org.cannot_edit_file",orgName:d.createElement("span",{style:{fontWeight:600}},c)}));return d.createElement(ep.fu,{name:"Request org access modal",properties:{orgId:l,userId:o.id,resourceType:eW.vt.FILE,resourceIdOrKey:s}},d.createElement(Q,{...e,header:(0,en.t)("permissions.join_org.access_needed"),onSubmit:e.onFormSubmit,isLoading:void 0===c},u,d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:ez},d.createElement(en.Tx,{id:"permissions.join_org.ask_an_org_admin",orgName:c})),d.createElement(ec.k0,{multiple:4}),d.createElement(ec.Go,{name:"request_org_access_modal_cta",onClick:()=>{a(!0),eB.Ay.post("/api/org_join_request",{resource_type:eW.vt.FILE,resource_id_or_key:s}).then(()=>{a(!1),r(eV.F.enqueue({message:(0,en.t)("permissions.join_org.request_sent")})),r(eH.Lo())},e=>{a(!1),r(eH.Lo()),r(eV.F.enqueue({message:e.message||e.data.message,error:!0}))})},fullWidth:!1,loading:i},d.createElement(en.Tx,{id:"permissions.join_org.ask_to_be_added"})),d.createElement(ec.k0,{multiple:4}),d.createElement("div",{className:"join_org--modalFooter--1qtlt"},d.createElement(en.Tx,{id:"permissions.join_org.you_are_requesting_to_be_added_as_email",email:o.email})),d.createElement(ec.k0,{multiple:1}),d.createElement("a",{target:"_self",className:"join_org--link--cdSS1 join_org--modalFooter--1qtlt",href:`/switch_user?cont=${escape(n)}`},d.createElement(en.Tx,{id:"permissions.join_org.switch_accounts"}))))}let ej="password_reset--centeredLink--MYK7h auth_view--footerButtonRow--X82kF";function eY(e){let r=(0,h.wA)();return d.createElement(Q,{...e,header:(0,en.t)("auth.password-reset.enter-email-header"),onSubmit:()=>{(0,_.Ay)().do_arkose?r(b.I.showForm({formState:u.qB.VERIFY_HUMAN,prevState:u.qB.RESET_PASSWORD,postVerificationAction:b.I.sendPasswordReset})):r(b.I.sendPasswordReset({}))}},d.createElement(el.ZH,{...e}),d.createElement(ec.k0,{multiple:2}),d.createElement(ec.Wd,{loading:e.auth.loading,disabled:!(0,e_.xf)(e.auth.email)},(0,en.t)("auth.password-reset.reset-password-button")),d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:ej},d.createElement(ea.CY,{onClick:()=>r(b.I.showForm({formState:u.qB.SIGN_IN})),trusted:!0},(0,en.t)("auth.password-reset.cancel"))))}function e$(e){let r=(0,h.wA)(),n=e.modal?"password_reset--modal--fz1tm":"password_reset--form--CoL54 password_reset--modal--fz1tm";return d.createElement("div",{className:n},d.createElement("div",{className:"password_reset--header--GtyGw"},(0,en.t)("auth.password-reset.confirmation-text",{email:e.auth.email})),d.createElement("div",{className:"password_reset--buttonRow--BzsOu modal--buttonRow--o2A0S"},d.createElement(ea.N_,{onClick:()=>r(b.I.showForm({formState:u.qB.SIGN_IN})),className:ej,trusted:!0},(0,en.t)("auth.password-reset.back-to-log-in"))))}function eq(e){let r=(0,h.wA)(),n=I();return d.createElement(Q,{auth:e.auth,header:(0,en.t)("auth.password-reset.choose-a-new-password"),headerSecondary:e.headerSecondary,id:e.id,modal:e.modal,noAutofocus:e.noAutofocus,subtitle:e.subtitle,onBlur:e.onBlur,onSubmit:e.onFormSubmit},n&&d.createElement("input",{type:"hidden",name:"email_token",value:n}),d.createElement(el.gK,{name:u.RE.PASSWORD,type:"password",placeholder:(0,en.t)("auth.password-reset.placeholder.password"),autoCapitalize:"off",autoCorrect:"off",isInvalid:u.RE.PASSWORD===e.auth.invalidInput}),d.createElement(ec.k0,{multiple:3}),d.createElement(el.gK,{name:"password_retype",type:"password",placeholder:(0,en.t)("auth.password-reset.placeholder.confirm-password"),autoCapitalize:"off",autoCorrect:"off",isInvalid:u.RE.PASSWORD===e.auth.invalidInput}),d.createElement(ec.k0,{multiple:4}),d.createElement(ec.Wd,{loading:e.auth.loading},(0,en.t)("auth.password-reset.submit")),d.createElement(ec.k0,{multiple:4}),d.createElement(ea.CY,{onClick:()=>r(b.I.showForm({formState:u.qB.SIGN_IN})),className:"password_reset--center--Z4tPu",trusted:!0},(0,en.t)("auth.password-reset.back-to-log-in")))}var eZ=n(1114),eX=n(24897),eJ=n(67294),eQ=n(98344);function e0(e){let r=e.hints&&Object.keys(e.hints).length>0;return d.createElement("div",{className:r?"account_picker--hintsWrapper--cwXyA":"account_picker--wrapper--21Afq"},d.createElement("div",{className:r?"account_picker--hintsHeader---Y1sA account_picker--header--ZSO8e":"account_picker--header--ZSO8e"},e.header),d.createElement("div",{className:"account_picker--usersWrapper--vARE9"},e.users.map(r=>d.createElement(d.Fragment,{key:r.id},d.createElement("div",{className:"account_picker--avatarButton--S696W",onClick:()=>e.onUserSelect(r.id)},d.createElement(eJ.H8,{user:r,size:eJ.Pf.LARGE}),d.createElement("div",{className:"account_picker--label--MudXU"},d.createElement("div",{className:"account_picker--userName--uTrDZ account_picker--_userInfo--dqxYF ellipsis--ellipsis--Tjyfa"},r.name),d.createElement("div",{className:"account_picker--userEmail--U1qHM account_picker--_userInfo--dqxYF ellipsis--ellipsis--Tjyfa"},r.email)),d.createElement("div",{className:"account_picker--rightContainer--4-m5Z"},e.hints&&e.hints[r.id]&&d.createElement("div",{className:"account_picker--userHint--bnGY5 account_picker--_userInfo--dqxYF ellipsis--ellipsis--Tjyfa"},e.hints[r.id]),d.createElement(eX.B,{svg:eQ.A,className:"account_picker--caret--TtIve"})))))),d.createElement("div",{className:"account_picker--addAccountText--FXZG-"},e.footer?e.footer:d.createElement(en.Tx,{id:"auth.add-another-account-with-link",addAnotherLink:d.createElement(ea.u4,{defaultClass:"account_picker--addAccountButton--02FmF",onClick:()=>{if(e.trackOnChangeAccount&&e.trackOnChangeAccount(),e.onChangeAccount){e.onChangeAccount();return}e.authOrigin&&e.dispatch(b.I.setAuthOrigin({authOrigin:e.authOrigin})),e.dispatch(b.I.showForm({formState:u.qB.SIGN_IN}))},"data-testid":"add-account-button"},d.createElement(en.Tx,{id:"auth.add-another-no-punctuation"}))})))}let e1="app_auth--modal--8OYIY auth_form--modal--1HV7-",e2="app_auth--header--JRxV9 auth_form--header--5WRrG",e3="app_auth--formWide--f-Ha2 app_auth--form--5bLUc app_auth--modal--8OYIY auth_form--modal--1HV7-",e5="app_auth--innerContainer--xZzJw",e4="app_auth--footerText--TYLg3 auth_view--footerText--M9q2W",e6="app_auth--signupLink--vCQo3 blue_link--blueLink--9rlnd";function e8(e){let[r,n]=e.email.split("@");return d.createElement("div",{style:eZ.sx.inlineFlex.maxWFull.$},d.createElement("span",{style:eZ.sx.noWrap.overflowHidden.ellipsis.pl16.$},r),d.createElement("span",{style:eZ.sx.pr16.$},"@",n))}function e7(e){let r=d.useRef(void 0),[n,i]=d.useState(!1),a=(0,h.wA)();d.useEffect(()=>()=>{clearTimeout(r.current)},[]);let o=d.useCallback(()=>{a(b.I.showError({message:(0,en.t)("auth.generic-app-auth-error")})),i(!1)},[a]),s=(e,r)=>{var n;let i=`/app_auth/${r.id}/grant`,a=new URLSearchParams;e&&a.append("signup","true"),a.toString()&&(i+="?"+a.toString()),console.log("Opening: "+i),null==(n=m.eD)||n.startAppAuth(i)},l=n=>{eB.Ay.post("/api/session/app_auth",{app_type:e.appType}).then(e=>{let a=e.data.meta;a&&(s(n,a),r.current=setTimeout(o,3e5),i(!0))}).catch(e=>{console.error(e),o()})};return n?d.createElement("div",{className:e3},d.createElement("div",{className:e5},d.createElement("div",{className:e2},(0,en.t)("auth.go-to-browser-to-complete-login")),d.createElement(ec.k0,{multiple:3}),d.createElement("div",{className:e4},(0,en.t)("auth.not-seeing-the-browser-tab"),d.createElement("a",{tabIndex:-1,className:e6,onClick:()=>{clearTimeout(r.current),i(!1)}},(0,en.t)("auth.generic-go-back-and-try-again"))))):d.createElement("div",{className:"app_auth--form--5bLUc app_auth--modal--8OYIY auth_form--modal--1HV7-"},d.createElement("div",{className:e5},d.createElement("div",{className:e2},e.header??(0,en.t)("auth.welcome-to-figma")),d.createElement(ec.k0,{multiple:3}),e.auth.error&&d.createElement(d.Fragment,null,d.createElement("div",{className:"app_auth--error--EpXOP"},e.auth.error),d.createElement(ec.k0,{multiple:1})),e.subtitle&&d.createElement("div",{className:"app_auth--subtitle--Z5k4f"},e.subtitle,d.createElement(ec.k0,{multiple:1})),d.createElement(ec.Wd,{type:"submit",loading:e.auth.loading,onClick:()=>{l(!1)}},(0,en.t)("auth.log-in-with-browser")),d.createElement(ec.k0,{multiple:4}),d.createElement("div",{className:e4},(0,en.t)("auth.no-account"),d.createElement("a",{tabIndex:-1,className:e6,onClick:()=>{l(!0)}},(0,en.t)("auth.create-one")))))}function e9(){return(0,_.kc)().dt_vscode_cursor_support}function te(e){var r;let n,i,a,o;let s=(0,h.wA)(),[l,c]=d.useState(!1),p=r=>{let n;let{appAuthDesktopProtocol:i}=e.auth;n="vscode"===i?"vscode://figma.figma-vscode-extension/app_auth_redeem":"vscode-insiders"===i?"vscode-insiders://figma.figma-vscode-extension/app_auth_redeem":e9()&&"vscode-cursor"===i?"cursor://figma.figma-vscode-extension/app_auth_redeem":`${e.auth.appAuthDesktopProtocol||"figma"}://app_auth/redeem`;let a=new URLSearchParams;return a.append("g_secret",r),a.toString()&&(n+="?"+a.toString()),n},m=e=>{let r=p(e);g.Ay.unsafeRedirect(r),eB.Ay.post("/api/session/clear_cont"),setTimeout(()=>{window.close()},1e4)},f=r=>{e.auth.appAuthId&&eB.Ay.post(`/api/session/app_auth/${e.auth.appAuthId}/grant`,null,{headers:{"X-Figma-User-ID":r}}).then(e=>{_(e.data.meta.g_secret)}).catch(r=>{var n;console.error(r),(0,w.sx)("AppAuth",{app_auth_id:e.auth.appAuthId,app_auth_status:"grant_failed",error_message:(null==(n=r.data)?void 0:n.message)||`Failed with status ${r.status}`},{batchRequest:!1,forwardToDatadog:!0}),c(!0)})},_=r=>{(0,w.sx)("AppAuth",{app_auth_id:e.auth.appAuthId,app_auth_status:"click_to_redeem"},{batchRequest:!1}),m(r)},y=()=>{g.Ay.unsafeRedirect("figma://login")},E=()=>{(0,w.sx)("AppAuth",{app_auth_id:e.auth.appAuthId,app_auth_status:"signout_try_again"},{batchRequest:!1})},v=e=>e===u.DP.VSCODE||e===u.DP.VSCODE_INSIDERS||e9()&&e===u.DP.VSCODE_CURSOR,{appAuthAppType:S}=e.auth,I=e.modal?e1:e3;n=S===u.DP.MOBILE||S===u.DP.FIGJAM_MOBILE?(0,en.t)("auth.mobile-app"):S===u.DP.MIRROR?(0,en.t)("auth.mirror-app"):(0,en.t)("auth.desktop-app"),i=S===u.DP.MOBILE||S===u.DP.FIGJAM_MOBILE?(0,en.t)("auth.continue-with-the-specific-app",{appDescriptor:n}):v(S)?(0,en.t)("auth.open-figma-for-vs-code"):(0,en.t)("auth.open-specific-app",{appDescriptor:n}),a=v(S)?(0,en.t)("auth.choose-account-to-add-to-figma-for-vs-code"):(0,en.t)("auth.choose-account-to-add-to-specific-app",{appDescriptor:n});let T=(null==(r=e.auth.appAuthUsers)?void 0:r.length)===1?e.auth.appAuthUsers[0]:null,C=T?d.createElement(e8,{email:T.email}):null;if(!l&&e.auth.appAuthId&&e.auth.appAuthUsers)o=T?d.createElement(d.Fragment,null,d.createElement("div",{className:e2},d.createElement(en.Tx,{id:"auth.log-in-with-account",email:C})),d.createElement(ec.k0,{multiple:3}),d.createElement(ec.Go,{className:"app_auth--redeemButton--Uh-Db",onClick:()=>f(T.id)},i),d.createElement(ec.k0,{multiple:4}),d.createElement("div",{className:e4},d.createElement(en.Tx,{id:"auth.log-in-with-other-account",email:T.email,logInLink:d.createElement("a",{tabIndex:-1,className:e6,onClick:()=>{E(),s(b.I.showForm({formState:u.qB.SIGN_IN}))}},(0,en.t)("auth.log-in-with-other-account-link"))}))):d.createElement(e0,{dispatch:s,header:a,users:e.auth.appAuthUsers,onUserSelect:f,trackOnChangeAccount:E});else{let e,r;e=S===u.DP.MOBILE||S===u.DP.FIGJAM_MOBILE?(0,en.t)("auth.generic-go-back-and-try-again"):v(S)?(0,en.t)("auth.open-figma-for-vs-code"):(0,en.t)("auth.open-specific-app",{appDescriptor:n}),r=v(S)?(0,en.t)("auth.try-again-in-figma-for-vs-code"):(0,en.t)("auth.try-again-on-specific-app",{appDescriptor:n}),o=d.createElement(d.Fragment,null,d.createElement("div",{className:e2},(0,en.t)("auth.your-login-session-has-expired"),d.createElement("br",null),r),d.createElement(ec.k0,{multiple:3}),d.createElement(ec.Go,{onClick:()=>{y()}},e))}return d.createElement("div",{className:I},d.createElement("div",{className:e5},d.createElement(ep.fu,{name:"App Auth Grant Form"},o)))}function tt(e){let r=(0,h.wA)();(0,f.h)(()=>{i(),g.Ay.replace("/login",null)});let n=()=>{let e=(0,en.t)("auth.generic-app-auth-error");if((0,E._N)()||(0,E.Q1)()){let r=new URLSearchParams;r.append("error",e),g.Ay.redirect("/mobile-app?"+r.toString())}else r(b.I.showError({message:e})),r(b.I.redeemReset())},i=()=>{if(!e.auth.appAuthGSecret){n();return}eB.Ay.post("/api/session/app_auth/redeem",{g_secret:e.auth.appAuthGSecret}).then(()=>{m.eD?m.eD.finishAppAuth(e.auth.redirectUrl):setTimeout(()=>{let r=e.auth.redirectUrl||((0,E._N)()||(0,E.Q1)()?"/mobile-app":null);null!=r?(console.log("Opening: "+r),g.Ay.redirect(r)):g.Ay.reload("AppAuthRedeemForm")},500)}).catch(e=>{console.error(e),n()})},a=e.modal?e1:e3;return d.createElement("div",{className:a},d.createElement("div",{className:e5},d.createElement(d.Fragment,null,d.createElement("div",{className:"app_auth--message--WN7nZ"},(0,en.t)("auth.generic-loading")),d.createElement(J.kt,null))))}var tr=n(36599);function tn({authOrigin:e}){var r;let n=(0,h.wA)(),i=(0,h.d4)(e=>e.loadingState),a=(0,h.d4)(e=>e.auth.accountPicker),o=null==(r=(0,_.Ay)().team_join_link)?void 0:r.token,s=d.useRef(!1),l=(e,r)=>{let a=b.I.redeemTeamJoinLink.loadingKeyForPayload({token:e,userId:r});(0,tr.VP)(i,a)||(0,tr.GH)(i,a)||n(b.I.redeemTeamJoinLink({token:e,userId:r}))},c=a.destination_name,u=c?o?d.createElement(en.Tx,{id:"auth.account-picker-join-text",destination:d.createElement("strong",null,c)}):d.createElement(en.Tx,{id:"auth.account-picker-open-text",destination:d.createElement("strong",null,c)}):d.createElement(en.Tx,{id:"auth.account-picker"});return d.createElement(e0,{dispatch:n,users:a.authed_users,hints:a.authed_user_access_reason,onUserSelect:e=>{s.current||(s.current=!0,o?l(o,e):n(b.I.complete({userId:e})))},authOrigin:o?"team_invite_link":e,header:u})}function ti(e){return d.createElement(Q,{...e,className:eC,header:(0,en.t)("auth.email-only.header"),onSubmit:e.onFormSubmit},d.createElement(el.ZH,{...e}),d.createElement(ec.k0,{multiple:4}),d.createElement(ec.Wd,{type:"submit",loading:e.auth.loading},(0,en.t)("auth.email-only.log-in")))}function ta(e){let r=(0,h.wA)(),n=()=>{r(b.I.complete())},i=e=>{r(b.I.showError({message:e}))},a=e.auth.ssoMethod===u.vR.GOOGLE?(0,en.t)("auth.sso-gate.google"):(0,en.t)("auth.sso-gate.saml-sso"),o=(0,en.t)("auth.sso-gate.header",{orgName:e.auth.orgName,ssoName:a}),s=e.auth.existingSession?(0,en.t)("auth.sso-gate.back-with-session",{orgName:e.auth.orgName}):(0,en.t)("auth.sso-gate.back-without-session");return d.createElement(Q,{...e,className:eC,header:o,onSubmit:null},e.auth.ssoMethod===u.vR.GOOGLE&&d.createElement(ec.mQ,{text:(0,en.t)("auth.sso-gate.log-in-google"),onClick:()=>{ey.xI(r,e.auth.origin).then(n,e=>{i(e.message)})}}),e.auth.ssoMethod===u.vR.SAML&&d.createElement(ec.Wd,{type:"submit",onClick:()=>{r(b.I.samlStartFromSession())},loading:e.auth.loading},(0,en.t)("auth.sso-gate.log-in-saml")),d.createElement(ec.k0,{multiple:4}),d.createElement("div",{className:eI},d.createElement("div",{className:eT},d.createElement(ea.CY,{onClick:()=>{e.auth.existingSession?g.Ay.redirect("/"):r(b.I.showForm({formState:u.qB.EMAIL_ONLY}))},trusted:!0},s))))}let to="validate_code--description--w-PBc";function ts(e){let r=(0,h.wA)(),[n,i]=d.useState("");return d.createElement(Q,{onSubmit:e.onFormSubmit,hideError:e.auth.invalidInput===u.RE.VERIFICATION_CODE,...e},d.createElement("div",{className:"validate_code--header--6nZt- auth_form--header--5WRrG"},(0,en.t)("auth.validate-code.header")),d.createElement("div",{className:to},(0,en.t)("auth.validate-code.primary-description",{email:e.auth.email})),d.createElement("div",{className:to},(0,en.t)("auth.validate-code.secondary-description")),d.createElement(ec.k0,{multiple:3}),d.createElement(el.gK,{name:u.RE.VERIFICATION_CODE,autoComplete:"off",autoCorrect:"off",maxLength:6,value:n,onChange:e=>{i(e.target.value)},isInvalid:e.auth.invalidInput===u.RE.VERIFICATION_CODE}),e.auth.invalidInput===u.RE.VERIFICATION_CODE&&e.auth.error&&d.createElement("div",{className:"validate_code--error--gBEWv auth_form--error--EtrjX"},e.auth.error),d.createElement(ec.k0,{multiple:2}),d.createElement(ec.Wd,{loading:e.auth.loading,disabled:6!==n.length},(0,en.t)("auth.validate-code.submit-button")),d.createElement(ec.k0,{multiple:2}),d.createElement("div",{className:"validate_code--footerRow--CJ4m0"},d.createElement(en.Tx,{id:"auth.validate-code.resend-helper-text",cta:d.createElement("a",{className:"validate_code--link--aOlPI modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{r(b.I.resendCode())}},(0,en.t)("auth.validate-code.resend-button"))})))}var tl=n(30949);let td="validate_email--link--w8oJH modal--blueLink--9GcJu blue_link--blueLink--9rlnd",tc="validate_email--header--USmEZ auth_form--header--5WRrG",tu="validate_email--secondaryDescription--Rm2K2";var tp=n(62254),th=n(64900);function tm(){return d.createElement("svg",{width:"184",height:"143",viewBox:"0 0 184 143",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("rect",{x:"37.4302",y:"37.5863",width:"109.106",height:"68.1912",fill:"#0FA958",stroke:"black",strokeWidth:"1.33504",strokeLinejoin:"round"}),d.createElement("path",{d:"M37.4302 37.5863H146.536L92.3799 72.0716L37.4302 37.5863Z",fill:"#5551FF",stroke:"black",strokeWidth:"1.33504",strokeLinejoin:"round"}),d.createElement("path",{d:"M89.7656 57.9216C90.438 56.5699 92.3638 56.5623 93.0472 57.9088L94.9671 61.6915C95.4372 62.6177 96.331 63.2551 97.3597 63.3978L101.546 63.9785C103.063 64.189 103.671 66.0552 102.569 67.1188L99.6111 69.973C98.8503 70.7071 98.5055 71.7722 98.6916 72.813L99.4168 76.8689C99.6841 78.3635 98.1252 79.5181 96.7733 78.8268L92.9382 76.8656C92.0235 76.3979 90.939 76.4021 90.0282 76.877L86.2091 78.8681C84.8629 79.5699 83.2947 78.4276 83.5498 76.9309L84.2421 72.8694C84.4198 71.8272 84.0664 70.7649 83.2997 70.0367L80.319 67.2058C79.2082 66.1508 79.8011 64.2799 81.3167 64.0575L85.4977 63.4441C86.5253 63.2934 87.4138 62.649 87.8764 61.7192L89.7656 57.9216Z",fill:"#FFC700",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M174.368 77.9369L118.522 133.783",stroke:"black",strokeWidth:"1.33504"}),d.createElement("circle",{cx:"146.577",cy:"105.624",r:"5.00639",transform:"rotate(-180 146.577 105.624)",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M110.24 142.06L110.24 132.048L120.253 132.048L120.253 142.06L110.24 142.06Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M172.823 79.4774L172.823 69.4646L182.836 69.4646L182.836 79.4774L172.823 79.4774Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M65.2287 9.84994L9.38235 65.6964",stroke:"black",strokeWidth:"1.33504"}),d.createElement("circle",{cx:"37.437",cy:"37.5366",r:"5.00639",transform:"rotate(-180 37.437 37.5366)",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M1.10059 73.9734L1.10059 63.9606L11.1134 63.9606L11.1134 73.9734L1.10059 73.9734Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M63.6836 11.3905L63.6836 1.37767L73.6964 1.37767L73.6964 11.3905L63.6836 11.3905Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("mask",{id:"path-12-outside-1_1311_15626",maskUnits:"userSpaceOnUse",x:"10.8818",y:"11.201",width:"26.6182",height:"30.0063",fill:"black"},d.createElement("rect",{fill:"white",x:"10.8818",y:"11.201",width:"26.6182",height:"30.0063"}),d.createElement("path",{d:"M28.4431 15.9668L35.0923 35.2407L16.983 27.7358L24.9933 24.2461L28.4431 15.9668Z"})),d.createElement("path",{d:"M28.4431 15.9668L35.0923 35.2407L16.983 27.7358L24.9933 24.2461L28.4431 15.9668Z",fill:"#0FA958"}),d.createElement("path",{d:"M35.0923 35.2407L34.5812 36.474L37.3218 37.6098L36.3543 34.8053L35.0923 35.2407ZM28.4431 15.9668L29.7052 15.5314L28.5606 12.2138L27.2108 15.4533L28.4431 15.9668ZM24.9933 24.2461L25.5265 25.4701L26.019 25.2555L26.2256 24.7596L24.9933 24.2461ZM16.983 27.7358L16.4498 26.5119L13.5699 27.7665L16.4719 28.9691L16.983 27.7358ZM36.3543 34.8053L29.7052 15.5314L27.1811 16.4022L33.8302 35.6761L36.3543 34.8053ZM27.2108 15.4533L23.761 23.7326L26.2256 24.7596L29.6755 16.4803L27.2108 15.4533ZM24.4601 23.0222L16.4498 26.5119L17.5162 28.9597L25.5265 25.4701L24.4601 23.0222ZM16.4719 28.9691L34.5812 36.474L35.6034 34.0074L17.4941 26.5025L16.4719 28.9691Z",fill:"black",mask:"url(#path-12-outside-1_1311_15626)"}),d.createElement("mask",{id:"path-14-outside-2_1311_15626",maskUnits:"userSpaceOnUse",x:"145.808",y:"105.082",width:"23.6572",height:"27.5576",fill:"black"},d.createElement("rect",{fill:"white",x:"145.808",y:"105.082",width:"23.6572",height:"27.5576"}),d.createElement("path",{d:"M151.734 128.244L148.397 108.13L164.999 118.555L156.518 120.657L151.734 128.244Z"})),d.createElement("path",{d:"M151.734 128.244L148.397 108.13L164.999 118.555L156.518 120.657L151.734 128.244Z",fill:"#5551FF"}),d.createElement("path",{d:"M148.397 108.13L149.107 107L146.595 105.422L147.08 108.349L148.397 108.13ZM151.734 128.244L150.417 128.463L150.991 131.925L152.863 128.956L151.734 128.244ZM156.518 120.657L156.197 119.362L155.675 119.491L155.389 119.945L156.518 120.657ZM164.999 118.555L165.32 119.851L168.369 119.095L165.709 117.424L164.999 118.555ZM147.08 108.349L150.417 128.463L153.051 128.026L149.715 107.912L147.08 108.349ZM152.863 128.956L157.647 121.37L155.389 119.945L150.605 127.532L152.863 128.956ZM156.839 121.953L165.32 119.851L164.678 117.259L156.197 119.362L156.839 121.953ZM165.709 117.424L149.107 107L147.688 109.261L164.289 119.685L165.709 117.424Z",fill:"black",mask:"url(#path-14-outside-2_1311_15626)"}))}function tg(){let e=(0,h.wA)(),r=(0,h.d4)(e=>e.auth.email),n=(0,h.d4)(e=>e.auth.formState),i=(0,h.d4)(e=>e.auth.redirectUrl||"/"),a=(0,h.d4)(e=>{var n;return(null==(n=e.user)?void 0:n.email)===r}),o=n===u.qB.CHECK_EMAIL_MAGIC_LINK_SIGN_IN_AFTER_PASSWORD,s=tl.cx.alignCenter.font16.lh24.$,l=d.createElement("span",{className:td,role:"button",tabIndex:0,onClick:()=>{e(b.I.showForm({formState:u.qB.SIGN_IN}))}},d.createElement(en.Tx,{id:"auth.magic_link_check_email.go_back"})),c=d.createElement("strong",{className:tl.cx.fontSemiBold.$},r);return(0,d.useEffect)(()=>{a&&g.Ay.redirect(i)},[a,i]),d.createElement("div",{className:tl.cx.flex.flexColumn.px36.pt8.pb12.$,style:{maxWidth:"400px",minHeight:"120px"}},d.createElement("div",{className:tl.cx.mxAuto.mb12.$},d.createElement(tm,null)),d.createElement("h1",{className:tc},d.createElement(en.Tx,{id:"auth.magic_link_check_email.check_your_inbox"})),d.createElement("p",{className:s},o?d.createElement(en.Tx,{id:"auth.magic_link_check_email.body_login_v2",emailAddress:c}):d.createElement(en.Tx,{id:"auth.magic_link_check_email.body_signup_v2",emailAddress:c})),d.createElement("a",{className:tl.cx.block.mt24.$,href:"https://mail.google.com/mail/u/0/",target:"_blank"},d.createElement(ec.lZ,{trackingProperties:{trackingDescriptor:eb.c.OPEN_GMAIL},svg:tp.A,text:(0,en.t)("auth.magic_link_check_email.open_gmail")})),!r.endsWith("@gmail.com")&&d.createElement("a",{className:tl.cx.block.mt16.$,href:"https://outlook.live.com/mail/0/inbox",target:"_blank"},d.createElement(ec.lZ,{trackingProperties:{trackingDescriptor:eb.c.OPEN_OUTLOOK},svg:th.A,text:(0,en.t)("auth.magic_link_check_email.open_outlook")})),d.createElement("p",{className:X()(s,tl.cx.mt16.$)},d.createElement(en.Tx,{id:"auth.magic_link_check_email.wrong_address_go_back",goBackLink:l})))}var tf=n(11617),t_=n(10954),ty=n(16056);function tE(){return d.createElement("svg",{width:"184",height:"143",viewBox:"0 0 184 143",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("rect",{x:"37.4302",y:"37.5863",width:"109.106",height:"68.1912",fill:"#0FA958",stroke:"black",strokeWidth:"1.33504",strokeLinejoin:"round"}),d.createElement("path",{d:"M37.4302 37.5863H146.536L92.3799 72.0716L37.4302 37.5863Z",fill:"#5551FF",stroke:"black",strokeWidth:"1.33504",strokeLinejoin:"round"}),d.createElement("path",{d:"M89.7656 57.9216C90.438 56.5699 92.3638 56.5623 93.0472 57.9088L94.9671 61.6915C95.4372 62.6177 96.331 63.2551 97.3597 63.3978L101.546 63.9785C103.063 64.189 103.671 66.0552 102.569 67.1188L99.6111 69.973C98.8503 70.7071 98.5055 71.7722 98.6916 72.813L99.4168 76.8689C99.6841 78.3635 98.1252 79.5181 96.7733 78.8268L92.9382 76.8656C92.0235 76.3979 90.939 76.4021 90.0282 76.877L86.2091 78.8681C84.8629 79.5699 83.2947 78.4276 83.5498 76.9309L84.2421 72.8694C84.4198 71.8272 84.0664 70.7649 83.2997 70.0367L80.319 67.2058C79.2082 66.1508 79.8011 64.2799 81.3167 64.0575L85.4977 63.4441C86.5253 63.2934 87.4138 62.649 87.8764 61.7192L89.7656 57.9216Z",fill:"#FFC700",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M174.368 77.9369L118.522 133.783",stroke:"black",strokeWidth:"1.33504"}),d.createElement("circle",{cx:"146.577",cy:"105.624",r:"5.00639",transform:"rotate(-180 146.577 105.624)",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M110.24 142.06L110.24 132.048L120.253 132.048L120.253 142.06L110.24 142.06Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M172.823 79.4774L172.823 69.4646L182.836 69.4646L182.836 79.4774L172.823 79.4774Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M65.2287 9.84994L9.38235 65.6964",stroke:"black",strokeWidth:"1.33504"}),d.createElement("circle",{cx:"37.437",cy:"37.5366",r:"5.00639",transform:"rotate(-180 37.437 37.5366)",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M1.10059 73.9734L1.10059 63.9606L11.1134 63.9606L11.1134 73.9734L1.10059 73.9734Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("path",{d:"M63.6836 11.3905L63.6836 1.37767L73.6964 1.37767L73.6964 11.3905L63.6836 11.3905Z",fill:"white",stroke:"black",strokeWidth:"1.33504"}),d.createElement("mask",{id:"path-12-outside-1_1311_15626",maskUnits:"userSpaceOnUse",x:"10.8818",y:"11.201",width:"26.6182",height:"30.0063",fill:"black"},d.createElement("rect",{fill:"white",x:"10.8818",y:"11.201",width:"26.6182",height:"30.0063"}),d.createElement("path",{d:"M28.4431 15.9668L35.0923 35.2407L16.983 27.7358L24.9933 24.2461L28.4431 15.9668Z"})),d.createElement("path",{d:"M28.4431 15.9668L35.0923 35.2407L16.983 27.7358L24.9933 24.2461L28.4431 15.9668Z",fill:"#0FA958"}),d.createElement("path",{d:"M35.0923 35.2407L34.5812 36.474L37.3218 37.6098L36.3543 34.8053L35.0923 35.2407ZM28.4431 15.9668L29.7052 15.5314L28.5606 12.2138L27.2108 15.4533L28.4431 15.9668ZM24.9933 24.2461L25.5265 25.4701L26.019 25.2555L26.2256 24.7596L24.9933 24.2461ZM16.983 27.7358L16.4498 26.5119L13.5699 27.7665L16.4719 28.9691L16.983 27.7358ZM36.3543 34.8053L29.7052 15.5314L27.1811 16.4022L33.8302 35.6761L36.3543 34.8053ZM27.2108 15.4533L23.761 23.7326L26.2256 24.7596L29.6755 16.4803L27.2108 15.4533ZM24.4601 23.0222L16.4498 26.5119L17.5162 28.9597L25.5265 25.4701L24.4601 23.0222ZM16.4719 28.9691L34.5812 36.474L35.6034 34.0074L17.4941 26.5025L16.4719 28.9691Z",fill:"black",mask:"url(#path-12-outside-1_1311_15626)"}),d.createElement("mask",{id:"path-14-outside-2_1311_15626",maskUnits:"userSpaceOnUse",x:"145.808",y:"105.082",width:"23.6572",height:"27.5576",fill:"black"},d.createElement("rect",{fill:"white",x:"145.808",y:"105.082",width:"23.6572",height:"27.5576"}),d.createElement("path",{d:"M151.734 128.244L148.397 108.13L164.999 118.555L156.518 120.657L151.734 128.244Z"})),d.createElement("path",{d:"M151.734 128.244L148.397 108.13L164.999 118.555L156.518 120.657L151.734 128.244Z",fill:"#5551FF"}),d.createElement("path",{d:"M148.397 108.13L149.107 107L146.595 105.422L147.08 108.349L148.397 108.13ZM151.734 128.244L150.417 128.463L150.991 131.925L152.863 128.956L151.734 128.244ZM156.518 120.657L156.197 119.362L155.675 119.491L155.389 119.945L156.518 120.657ZM164.999 118.555L165.32 119.851L168.369 119.095L165.709 117.424L164.999 118.555ZM147.08 108.349L150.417 128.463L153.051 128.026L149.715 107.912L147.08 108.349ZM152.863 128.956L157.647 121.37L155.389 119.945L150.605 127.532L152.863 128.956ZM156.839 121.953L165.32 119.851L164.678 117.259L156.197 119.362L156.839 121.953ZM165.709 117.424L149.107 107L147.688 109.261L164.289 119.685L165.709 117.424Z",fill:"black",mask:"url(#path-14-outside-2_1311_15626)"}))}function tb({checkInIframe:e}){return d.createElement(t_.N,{href:e()?"/logout?cont=/login_iframe":"/logout",className:td,trusted:!0},(0,en.t)("auth.validate-email.log-out-link"))}function tv(){let e=(0,h.wA)(),r=(0,h.d4)(e=>e.auth.email),n=(0,h.d4)(e=>e.auth.redirectUrl),i=tl.cx.alignCenter.font16.lh24.$,a=(0,eE.IG)(),o=d.createElement("strong",{className:tl.cx.fontSemiBold.$},r),s=(0,d.useCallback)(()=>{e(b.I.sendValidationEmail({email:r}))},[e,r]);return d.useEffect(()=>{let e=null,r=()=>{ty.k.getUnverified().then(i=>{var a,o,s,l;if(null==(o=null==(a=null==i?void 0:i.data)?void 0:a.meta)?void 0:o.email_validated_at){let e=(0,tf.NQ)(n,"fuid",null==(l=null==(s=null==i?void 0:i.data)?void 0:s.meta)?void 0:l.id);setTimeout(()=>{g.Ay.redirect(e)},2e3)}else e=setTimeout(r,7e3+3e3*Math.random())})};r();let i=()=>{"hidden"===document.visibilityState&&e&&(clearTimeout(e),e=null),"visible"===document.visibilityState&&null===e&&r()};return document.addEventListener("visibilitychange",i),()=>{e&&(clearTimeout(e),e=null),document.removeEventListener("visibilitychange",i)}},[n]),d.createElement("div",{className:tl.cx.flex.flexColumn.if(a,tl.cx.px28,tl.cx.px36).pt8.pb12.$,style:{maxWidth:"400px",minHeight:"120px"}},d.createElement("div",{className:tl.cx.mxAuto.mb12.$},d.createElement(tE,null)),d.createElement("h1",{className:a?"validate_email--mobileHeader--WExIW auth_form--header--5WRrG":tc},d.createElement(en.Tx,{id:"auth.magic_link_check_email.check_your_inbox"})),d.createElement("p",{className:i},d.createElement(en.Tx,{id:"auth.validate-email.click_the_link",emailAddress:o})),a&&d.createElement("p",{className:X()(i,tl.cx.mt16.$)},d.createElement(en.Tx,{id:"auth.validate-email.log-out-only",logOutLink:d.createElement(tb,{checkInIframe:()=>window.self!==window.top})})),d.createElement("a",{className:tl.cx.block.mt32.$,href:"https://mail.google.com/mail/u/0/",target:"_blank"},d.createElement(ec.lZ,{trackingProperties:{trackingDescriptor:eb.c.OPEN_GMAIL},svg:tp.A,text:(0,en.t)("auth.magic_link_check_email.open_gmail")})),!r.endsWith("@gmail.com")&&d.createElement("a",{className:tl.cx.block.mt16.$,href:"https://outlook.live.com/mail/0/inbox",target:"_blank"},d.createElement(ec.lZ,{trackingProperties:{trackingDescriptor:eb.c.OPEN_OUTLOOK},svg:th.A,text:(0,en.t)("auth.magic_link_check_email.open_outlook")})),a?d.createElement("button",{className:X()(i,tu,tl.cx.mt24.fontBold.$),onClick:s},d.createElement(en.Tx,{id:"auth.validate-email.resend-email-text"})):d.createElement(d.Fragment,null,d.createElement("p",{className:X()(i,tu,tl.cx.mt16.$)},d.createElement(en.Tx,{id:"auth.validate-email.resend-email",resendEmailLink:d.createElement(t_.N,{onClick:s,className:td,trusted:!0},(0,en.t)("auth.validate-email.resend-email-link"))})),d.createElement("p",{className:X()(i,tu,tl.cx.mt16.$)},d.createElement(en.Tx,{id:"auth.validate-email.log-out-only",logOutLink:d.createElement(tb,{checkInIframe:()=>window.self!==window.top})}))))}function tS(e){let r=(0,h.wA)();return d.useEffect(()=>()=>{r(b.I.clearError()),r(b.I.showForm({formState:u.qB.SIGN_UP}))},[r]),d.createElement("div",{"data-component-name":"auth-view",style:{display:"contents"}},d.createElement(ep.fu,{name:"AuthView",properties:{formState:e.auth.formState}},(()=>{switch(e.auth.formState){case u.qB.SIGN_IN:case u.qB.SIGN_UP:case u.qB.SIGN_UP_EXTRA_INFO:case u.qB.RESET_PASSWORD:case u.qB.VALIDATE_CODE:case u.qB.SAML_START:case u.qB.EMAIL_ONLY:case u.qB.JOIN_ORG:case u.qB.ACCOUNT_PICKER:case u.qB.VERIFY_HUMAN:return d.createElement(tI,{...e});case u.qB.FORGOT_PASSWORD:return d.createElement(eY,{...e});case u.qB.SENT_PASSWORD_RESET:return d.createElement(e$,{...e});case u.qB.VALIDATE_EMAIL:return d.createElement(tv,null);case u.qB.APP_AUTH_GRANT:return d.createElement(te,{...e});case u.qB.APP_AUTH_REDEEM:return d.createElement(tt,{...e});case u.qB.SSO_GATE:return d.createElement(ta,{...e});case u.qB.CHECK_EMAIL_MAGIC_LINK_SIGN_IN_AFTER_PASSWORD:return d.createElement(tg,null)}return null})()))}function tI(e){let r=(0,h.wA)(),n=(0,y.Xr)(v),i=(0,eE.OT)();(0,f.h)(()=>{e.auth.formState!==u.qB.SIGN_UP_EXTRA_INFO&&e.auth.formState!==u.qB.VERIFY_HUMAN&&(r(b.I.setGoogleIdToken({googleIdToken:null})),n(null))});let a=a=>{var o;let s=null==(o=e.auth.origin)?void 0:o.startsWith("google_one_tap"),l=e.id,d=document.getElementById(l).elements;d.totp_key&&d.totp_key.select(),d.password&&!s&&(d.password.select(),n(d.password.value),r(b.I.setGoogleIdToken({googleIdToken:null})));let c=e.auth.formState;switch("gov"!==window.INITIAL_OPTIONS.cluster_name||c===u.qB.VALIDATE_CODE||c===u.qB.VERIFY_HUMAN||window.origin.startsWith("https://admin.")||(c=u.qB.SAML_START),c){case u.qB.SIGN_IN:r(b.I.signIn({formId:l}));break;case u.qB.RESET_PASSWORD:r(b.I.resetPassword({formId:l}));break;case u.qB.VALIDATE_CODE:r(b.I.validateCode({formId:l}));break;case u.qB.SAML_START:r(b.I.sendEmailSamlStart({formId:l}));break;case u.qB.SIGN_UP_EXTRA_INFO:{let e=b.I.signUp;(0,_.Ay)().do_arkose&&s?r(b.I.showForm({formState:u.qB.VERIFY_HUMAN,prevState:u.qB.SIGN_UP_EXTRA_INFO,postVerificationAction:e})):r(e({formId:l}));break}case u.qB.SIGN_UP:let p=b.I.signUpExtraInfo;(!(0,E.o4)()||i(e.auth.redirectUrl))&&(p=b.I.signUp),(0,_.Ay)().do_arkose?r(b.I.showForm({formState:u.qB.VERIFY_HUMAN,prevState:u.qB.SIGN_UP,postVerificationAction:p})):r(p({formId:l}));break;case u.qB.EMAIL_ONLY:r(b.I.emailOnly({formId:l}))}e.onBlur&&e.onBlur(a,!0)};if(e.auth.formState===u.qB.ACCOUNT_PICKER&&e.auth.accountPicker)return d.createElement(tn,{authOrigin:e.auth.origin});if(m.eD)return d.createElement(e7,{appType:u.DP.DESKTOP,...e});if(e.auth.twoFactorRequired)return d.createElement(eU,{onFormSubmit:a,...e});if("gov"===window.INITIAL_OPTIONS.cluster_name&&e.auth.formState!==u.qB.VALIDATE_CODE&&e.auth.formState!==u.qB.VERIFY_HUMAN&&!window.origin.startsWith("https://admin."))return d.createElement(eD,{onFormSubmit:a,...e});if(e.auth.formState===u.qB.SIGN_IN)return d.createElement(eR,{onFormSubmit:a,...e});if(e.auth.formState===u.qB.SIGN_UP){let r="true"===new URLSearchParams(g.Ay.location.search).get("with_community_header");return d.createElement(eO,{onFormSubmit:a,headerSecondary:r?(0,en.t)("community.auth_modal.header"):e.headerSecondary,...e})}if(e.auth.formState===u.qB.SIGN_UP_EXTRA_INFO)return d.createElement(ef,{onFormSubmit:a,googleIdToken:e.auth.googleIdToken,...e});else if(e.auth.formState===u.qB.RESET_PASSWORD)return d.createElement(eq,{onFormSubmit:a,...e});else if(e.auth.formState===u.qB.VALIDATE_CODE)return d.createElement(ts,{onFormSubmit:a,...e});else if(e.auth.formState===u.qB.SAML_START)return d.createElement(eD,{onFormSubmit:a,...e});else if(e.auth.formState===u.qB.EMAIL_ONLY)return d.createElement(ti,{onFormSubmit:a,...e});else if(e.auth.formState===u.qB.JOIN_ORG)return d.createElement(eK,{onFormSubmit:a,...e});else if(e.auth.formState===u.qB.VERIFY_HUMAN)return d.createElement(ee,{...e});return null}var tT=n(99569),tw=n(71779),tC=n(88578);let tA=(0,n(37870).qK)(p.a,e=>{let r=e.modalShown,n=e.openFile,i=r.data&&r.data.headerText,a=r.data&&r.data.subtitle,o=r.data&&r.data.disableHiding,s=r.data&&r.data.disableClickOutsideToHide,l=r.data&&r.data.id;return d.createElement(tN,{fileName:(null==n?void 0:n.name)||null,headerText:i,subtitle:a,disableHiding:o,disableClickOutsideToHide:s,auth:e.auth,dispatch:e.dispatch,id:l})});class tN extends d.Component{constructor(){super(...arguments),this.onClose=()=>this.props.dispatch(eH.Lo())}headerText(e){return this.props.headerText?this.props.headerText:this.props.auth.formState===u.qB.SIGN_UP_EXTRA_INFO?(0,en.t)("auth.tell_us_about_yourself"):this.props.auth.formState===u.qB.SIGN_IN||this.props.auth.formState===u.qB.VERIFY_HUMAN&&this.props.auth.prevForm===u.qB.SIGN_IN?e?(0,en.t)("auth.log_in_to_collaborate_on_display_name",{displayName:`"${(0,c.EJ)(e,30)}"`}):(0,en.t)("auth.log_in_to_collaborate_on_this_file"):e?(0,en.t)("auth.create_an_account_to_collaborate_on_display_name",{displayName:`"${(0,c.EJ)(e,30)}"`}):(0,en.t)("auth.create_an_account_to_collaborate_on_this_file")}render(){return d.createElement(tC.aF,{className:"auth_modal--modal--bVDTe",disableClickOutsideToHide:this.props.disableClickOutsideToHide||this.props.disableHiding||this.props.auth.formState===u.qB.SIGN_UP_EXTRA_INFO},!this.props.disableHiding&&d.createElement(tT.Jn,{onClick:this.onClose,className:"auth_modal--closeButton--MIg-V"}),d.createElement(tw.i,{displayAs:tw.C.Block},d.createElement(tS,{id:this.props.id??"auth-view-modal",auth:this.props.auth,modal:!0,header:this.headerText(this.props.fileName),subtitle:this.props.subtitle})))}}tN.displayName="AuthModal"},58867:(e,r,n)=>{"use strict";n.d(r,{az:()=>eh,pw:()=>$,Ro:()=>ea,w7:()=>es,z6:()=>eo,Sw:()=>H,Pq:()=>V});var i=n(11855),a=n(29019),o=n.n(a),s=n(80921),l=n(24897),d=n(39863),c=n(9840),u=n(98606),p=n(80332);let h="avatar--avatar--fFibd",m="avatar--dim--UbqLc",g="avatar--avatarWithHandle--Z3934",f="avatar--clickableAvatarWithHandle--d90vX";var _=n(61143),y=n(6692),E=n(3941),b=n(80410),v=n(96664),S=n(16216),I=n(41577),T=n(11790),w=n(26431),C=n(91025),A=n(55072),N=n(98208),O=n(70658),R=n(40877),P=n(41932),L=n(20959),D=n(92526),M=n(22313),k=n(62014),x=n(66042);let F=[_.A,y.A,E.A,b.A,v.A,S.A,I.A,T.A,w.A,C.A,A.A,N.A,O.A,R.A,P.A,L.A,D.A,M.A],U=["avatar--workspaceAvatarBlue--XbbpI","avatar--workspaceAvatarPurple--FOGSP","avatar--workspaceAvatarGreen--PWm5o","avatar--workspaceAvatarTeal--4j3FH"],B=[];for(let e=0;e<F.length*U.length;e+=1){let r=e%F.length,n=F[r],i=(e+Math.floor(e/F.length))%U.length,a=U[i];B.push({svgSrc:n,className:a})}function V(e){return e.startsWith("https://www.gravatar.com/avatar/")}function H(e){return e&&!V(e)?e:void 0}let G={CIRCLE:`${h} avatar--circle--ag36Q`,SQUARE:`${h} avatar--square--p4eL1`,ROUNDED_SQUARE:`${h} avatar--roundedSquare--cq522`};function W(e){return"number"==typeof e?{imgSize:e,fallbackSize:e}:e}class z{constructor(e,r){this.lower=e,this.upper=r}contains(e){return e>=this.lower&&e<this.upper}}let K=new z(65,91),j=new z(97,123),Y=new z(48,58);class $ extends i.Component{render(){let e={display:"flex",justifyContent:"center",color:this.props.tint||(0,p.Xx)(this.props.color),backgroundColor:this.props.color||void 0,opacity:this.props.opacity},r=this.props.enabled||!0,{size:n,fontSize:a}=this.props;n&&(e.width=`${n}px`,e.height=`${n}px`,e.lineHeight=`${n}px`,e.fontSize=`${a??n/2}px`);let s=G[this.props.shape||"CIRCLE"];return i.createElement("span",{"data-testid":this.props.dataTestId,style:e,className:o()(s,this.props.className||"",{[m]:!r}),"aria-hidden":"true"},this.props.children)}}class q extends i.Component{render(){return i.createElement($,{dataTestId:"initial-avatar",...this.props},this.props.initial)}}function Z(e){let r={};if(e.size&&e.svgSizeRatio){let n=e.size*e.svgSizeRatio;r.width=`${n}px`,r.height=`${n}px`}let n=(0,p.Xx)(e.color);return r.fill=n,i.createElement($,{...e},i.createElement("div",{style:r},i.createElement(l.B,{svg:e.svg,autosize:!0})))}class X extends i.Component{render(){let{size:e}=this.props,r=e?`${e}px`:void 0,n=G[this.props.shape||"CIRCLE"];return i.createElement(l.B,{className:`${n} ${this.props.className||""} ${(this.props.enabled,"")}`,style:this.props.style||{},svg:this.props.src,autosize:!0,width:r,height:r,dataTestId:"svg-avatar"})}}class J extends i.Component{constructor(e){super(e),this.onImageLoadError=()=>{this.setState({loadError:!0})},this.state={loadError:!1}}render(){var e,r;let n={},a=this.props.style||{};if(this.props.size){let i=this.state.loadError?null==(e=W(this.props.size))?void 0:e.fallbackSize:null==(r=W(this.props.size))?void 0:r.imgSize,o=`${i}px`;n.width=o,n.height=o,a.width=o,a.height=o}let o=this.props.enabled||!0,s=G[this.props.shape||"CIRCLE"],l=this.state.loadError||!this.props.imgUrl?this.props.children:i.createElement("img",{"data-testid":"image-avatar",className:`${o?"":m}`,style:n,src:this.props.imgUrl,onError:this.onImageLoadError,alt:""});return i.createElement("div",{className:`${s} ${this.props.className} ${o?"":m}`,style:a},l)}}let Q=[K,j,Y],ee={colors:p.us,getInitial:e=>e?e[0]:null,defaultFallbackAvatarSvg:k.A},et=["fallback_text","handle","name","email"],er=(e,r=ee)=>class extends i.Component{constructor(){super(...arguments),this.computeFallbackInitial=()=>{let e=ed((this.props.initializableEntityProperties?this.props.initializableEntityProperties:et).map(e=>this.props.entity[e]));return e&&"string"==typeof e?r.getInitial(e):null},this.computeFallbackColor=()=>(0,p.$L)(this.props.entity.id,r.colors)}render(){let n=this.props.fallbackInitial||this.computeFallbackInitial(),a=this.computeFallbackColor()||null,o=this.props.entity.img_url||this.props.entity.imageURL||this.props.entity.imageUrl||this.props.entity.imgUrl||null;return i.createElement(e,{imgUrl:o,fallbackInitial:n,fallbackColor:this.props.defaultFallbackAvatarSvg&&!n?null:a,fallbackTintColor:this.props.defaultFallbackAvatarSvg?void 0:r.defaultFallbackTintColor,...this.props,defaultFallbackAvatarSvg:this.props.defaultFallbackAvatarSvg||r.defaultFallbackAvatarSvg})}};class en extends i.Component{renderFallback(){var e,r,n,a,o,s;let{size:l,fontSize:d,fallbackSvg:c,avatarSvg:u,svgSizeRatio:p}=this.props,h=null==(e=W(l))?void 0:e.fallbackSize;if(u)return i.createElement(Z,{size:h,fontSize:d,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape,svg:u,svgSizeRatio:p,opacity:this.props.opacity});if(c)return i.createElement(X,{size:null==(r=W(l))?void 0:r.fallbackSize,src:c,shape:this.props.shape});if(this.props.hideFallbackInitial)return i.createElement($,{size:null==(n=W(l))?void 0:n.fallbackSize,fontSize:d,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape});let m=this.props.fallbackInitial;return m?i.createElement(q,{size:null==(s=W(l))?void 0:s.fallbackSize,fontSize:d,className:this.props.className,initial:m,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape}):this.props.defaultFallbackAvatarSvg?i.createElement(X,{className:this.props.className,size:null==(o=W(l))?void 0:o.fallbackSize,src:this.props.defaultFallbackAvatarSvg,style:{fill:this.props.fallbackTintColor||void 0,background:this.props.fallbackColor||void 0},enabled:this.props.enabled,shape:this.props.shape}):i.createElement($,{size:null==(a=W(l))?void 0:a.fallbackSize,fontSize:d,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape})}render(){return!this.props.imgUrl||V(this.props.imgUrl)?this.renderFallback():i.createElement(J,{size:this.props.size||null,imgUrl:this.props.imgUrl,className:`${this.props.className||""}`,enabled:this.props.enabled,shape:this.props.shape},this.renderFallback())}}en.displayName="Avatar";let ei=er(en,{...ee,getInitial:e=>{let r=e.charCodeAt(0);return Q.some(e=>e.contains(r))?e[0]:null}}),ea=ei;function eo({entity:e,size:r=40}){if(e.imgUrl)return i.createElement(ei,{shape:"SQUARE",entity:e,size:r});let n=(0,p.sC)(null==e?void 0:e.id,B);return i.createElement(X,{src:n.svgSrc,size:r,shape:"SQUARE",className:n.className})}let es=er(en,{...ee,defaultFallbackAvatarSvg:x.A,getInitial:e=>e.charCodeAt(0)===e.codePointAt(0)?e[0]:null});class el extends i.Component{render(){let e=this.props.size||0,r=Math.round(e/4)+1,n=Math.round(r/5);return i.createElement("span",{className:"avatar--avatarBellWrapper--sd6MY",style:e?{width:`${e}px`,height:`${e}px`}:void 0},this.props.showBell&&i.createElement("div",{className:"avatar--bell--Lk6s9",style:e?{width:`${r}px`,height:`${r}px`,top:`-${n}px`,right:`-${n}px`}:void 0}),this.props.children)}}el.displayName="AvatarBellWrapper";let ed=(e=[],r="?")=>e.find(e=>e)||r,ec=(e,r)=>class extends i.Component{constructor(){super(...arguments),this.onClick=e=>{this.props.onClick&&this.props.onClick(e,this.props.entity)}}render(){let n=this.props["data-tooltip-proxy-element-id"]||`avatar_${this.props.entity.id}_tooltip_proxy`;return i.createElement("div",{className:`${g} ${this.props.onClick?f:""} ${this.props.enabled?"avatar--disabledDimAvatarWithHandle--5l6cM":""} ${this.props.className||""}`,onClick:this.props.onClick?this.onClick:void 0,"data-tooltip-proxy-element-id":n},i.createElement("div",{id:n,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":this.props["data-tooltip"],"data-tooltip-offset-x":this.props["data-tooltip-offset-x"],"data-tooltip-offset-y":this.props["data-tooltip-offset-y"],"data-tooltip-max-width":this.props["data-tooltip-max-width"]},e&&i.createElement(e,{...this.props,className:void 0})),i.createElement(r,{...this.props}),this.props.children)}};class eu extends i.Component{render(){let e=this.props.showTruncatedTextTooltip?i.createElement(c.E,{truncate:!0},this.props.text):i.createElement("span",{className:"avatar--handle--wlTXK"},this.props.text),r=this.props.showTruncatedTextTooltip?void 0:this.props.tooltipText??void 0;return i.createElement("div",{className:"avatar--info--vDGTn",title:r},i.createElement("div",{className:`avatar--handleRow--0K2-H ${g} ${this.props.onLabelClick?f:""}`,onClick:this.props.onLabelClick},this.props.text.length>0&&e,this.props.showIsMe&&i.createElement("span",{className:"avatar--isMe--LeNkH"},i.createElement(d.Tx,{id:"avatar.tooltip.you"})),this.props.badge&&i.createElement(s.Ex,{...this.props.badge}),this.props.isScimUser&&i.createElement(s.Ex,{color:s.zE.DEFAULT,text:(0,d.t)("members_table.org_user_name_cell.scim_badge")})),this.props.email&&i.createElement("div",{className:this.props.onEmailClick?"avatar--emailHover--ekuTn":"",onClick:this.props.onEmailClick},i.createElement("div",{className:"avatar--email--G3FcZ"},this.props.email)))}}let ep=e=>class extends i.Component{render(){let r=[this.props.overrideHandle,this.props.entity.handle,this.props.entity.name];this.props.fallbackToEmail&&r.push(this.props.entity.email);let n=ed(r,this.props.defaultText),a=`${n}${this.props.includeUserEmailAddress?`
${this.props.entity.email}`:""}`,{onEmailClick:o,onLabelClick:s,...l}=this.props;return i.createElement(e,{text:n,email:this.props.includeUserEmailAddress?this.props.entity.email:null,tooltipText:this.props.showTooltip?a:null,onEmailClick:o,onLabelClick:s,...l})}},eh=ec(ei,ep(eu));ec(function(e){return i.createElement(es,{shape:"SQUARE",...e})},ep(eu))},80332:(e,r,n)=>{"use strict";n.d(r,{$L:()=>s,Xx:()=>l,sC:()=>o,us:()=>a});var i=n(81779);let a=[i.w3r,i.dVU,i.$rq,i.JTC,i.Men,i.$C9,i.Wnq];function o(e,r){if(!e)return r[0];try{let n=e.substring(e.length-4),i=parseInt(n);if(Number.isNaN(i))return r[Math.abs(function(e){var r=0;if(0===e.length)return r;for(var n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r&=r;return r}(e)%r.length)];return r[i%r.length]}catch(e){return r[0]}}function s(e,r){return o(e,r)}function l(e){return e===i.$C9?"var(--color-textonmultiplayeryellow)":"var(--color-textonmultiplayerblue)"}},19031:(e,r,n)=>{"use strict";n.d(r,{f:()=>l});var i=n(11855),a=n(1114),o=n(99531),s=n(98606);let l=i.forwardRef(function(e,r){let n=e.size;return i.createElement("div",{ref:r,className:`text_avatar--root--hQRiL ${e.className||""}`,"data-tooltip-type":e.hoverText?s.Ib.TEXT:void 0,"data-tooltip":e.hoverText,style:a.sx.if(e.size,{width:`${n}px`,height:`${n}px`,lineHeight:`${n}px`}).if(e.textColor,{color:(0,o.jk)(e.textColor)}).if(e.backgroundColor,{backgroundColor:(0,o.K)(e.backgroundColor)}).$},e.text)})},24780:(e,r,n)=>{"use strict";n.d(r,{Bc:()=>y,tE:()=>E});var i=n(35283),a=n(98977),o=n(79940),s=n(37324),l=n(13270),d=n(23130),c=n(97128),u=n(7877),p=n(61976),h=n(20642),m=n(20666),g=n(37590),f=n(83894),_=n(50913);class y{pathToSelectedView(e,r,n){var i,a;let s={view:"communityHub"};if("community"===r[1]){let e=n?(0,o.qg)(n):{};if("seller"===r[2])return{view:"communityHub",subView:"monetizationRedirectView",interstitialType:g.U6.ONBOARDING,redirectUrl:e.redirect_url};if("file"===r[2]&&r[3]&&r.length>4&&"embed"===r[r.length-1])return{...s,subView:"hubFileEmbed",hubFileId:r[3]};if(["file","plugin","widget"].indexOf(r[2])>-1&&r[3]){let[i,a]=[r[2],r[3]],o=e.comment,s=(0,d.p)(i,a),l=new URLSearchParams(n),c={...s,triggerCheckout:l.get(u.Tb)??null,triggerFreemiumPreview:l.get(u._O)===u.E2,commentThreadId:o,rating:e.rating};if("file"===r[2]){let r=e.preview;r&&(c.fullscreenState=r)}return c}if("iframe_modal"===r[2]){let e=g.ou.ACCOUNT_SETTINGS,n=r[r.length-1];return"settings"===n?e=g.ou.ACCOUNT_SETTINGS:"publish"===n&&(e=g.ou.UNIVERSAL_PUBLISHING),{view:"modalInIFrame",modalInIFrameType:e}}return"collections"===r[2]?{view:"communityHub",subView:"searchAndBrowse",data:void 0}:"templates"===r[2]&&r[3]?{view:"communityHub",subView:"searchAndBrowse",data:void 0}:{view:"communityHub",subView:"searchAndBrowse",data:(0,l.wl)(r.join("/"),n)}}if(null==(i=r[1])?void 0:i.startsWith("@")){let n=null==(a=r[1].slice(1))?void 0:a.toLowerCase(),{user:i}=e;if(!n)return null;let o=r[2];return o===g.g3.METRICS&&(0,f.z4)(null==i?void 0:i.stripe_account_status)<(0,f.z4)(f.P5.ACCEPTED)&&(o=g.g3.RESOURCES),{...s,subView:"handle",handle:n,profileTab:o}}return null}requireHistoryChange(e,r){return"communityHub"!==e.view||"communityHub"!==r.view?"communityHub"===e.view!=("communityHub"===r.view):"handle"===e.subView&&"handle"===r.subView?e.handle!==r.handle||e.profileTab!==r.profileTab:"plugin"===e.subView&&"plugin"===r.subView?e.publishedPluginId!==r.publishedPluginId:"widget"===e.subView&&"widget"===r.subView?e.widgetId!==r.widgetId:"hubFile"===e.subView&&"hubFile"===r.subView?e.hubFileId!==r.hubFileId:"landing"===e.subView&&"landing"===r.subView?e.sortState!==r.sortState||e.tab!==r.tab||e.tag!==r.tag||e.category!==r.category||e.collection!==r.collection:e.subView!==r.subView}selectedViewName(e,r){if("communityHub"!==e.view)return null;if("plugin"===e.subView){let n=(0,m.my)(e.publishedPluginId,r.publishedPlugins);return(0,s.Mk)(n)}if("widget"===e.subView){let n=(0,m.Rd)(e.widgetId,r.publishedWidgets);return(0,s.Mk)(n)}if("hubFile"===e.subView){let n=(0,h.M3)(e.hubFileId,r.hubFiles);return(0,s.Mk)(n)}if("hubFileEmbed"===e.subView)return"Community";if("handle"===e.subView)return`@${e.handle}`;if("landing"===e.subView)return e.tag?`#${e.tag} resources from the Figma Community`:"Community";if("searchAndBrowse"===e.subView)return"Community";else if("monetizationRedirectView"===e.subView)return"Stripe onboarding complete";(0,i.xb)(e)}selectedViewToPath(e,r){if("modalInIFrame"===e.view)return`/community/iframe_modal/${e.modalInIFrameType}`;if("communityHub"!==e.view)return null;if("monetizationRedirectView"===e.subView&&e.interstitialType===g.U6.ONBOARDING)return"/community/seller/onboarding/completed";if("landing"===e.subView){let r,n="/community";if(e.category===p.eu)return n+="/collections",e.collection&&(n+=`/${e.collection}`),n;e.tag&&(n+=`/tag/${e.tag}`,e.tab&&(n+=`/${e.tab}`));let i={};return e.category&&e.category!==p.aH&&(r="",e.category===p.Li&&(r+="/community"),e.category===p.mc&&(r+="/community/figjam"),e.category===p.BL&&(r+="/community/plugins"),e.category===p.Rz&&(r+="/community/widgets"),e.category&&0===r.length&&(r+=`/community/${e.category}`),e.tab&&e.category&&-1===[p.BL,p.Rz].indexOf(e.category)&&(e.tab===u.XG.FIGJAM_PLUGINS||e.tab===u.XG.FIGMA_DESIGN_PLUGINS?r+="/plugins":e.tab===u.XG.FIGJAM_WIDGETS||e.tab===u.XG.FIGMA_DESIGN_WIDGETS?r+="/widgets":r+=`/${e.tab}`),e.category===p.BL&&(e.tab===u.XG.FIGJAM_PLUGINS?r+="/figjam":e.tab===u.XG.FIGMA_DESIGN_PLUGINS&&(r+="/figma_design")),e.category===p.Rz&&(e.tab===u.XG.FIGJAM_WIDGETS?r+="/figjam":e.tab===u.XG.FIGMA_DESIGN_WIDGETS&&(r+="/figma_design")),("updated_at"===e.sortState||"created_at"===e.sortState)&&(r+="/new"),n=r.length>0?r:`/community/${e.category===p.Li?"explore":`${e.category}`}`),e.collection&&(i.collection=e.collection),`${n}${Object.keys(i).length?`?${(0,o.lF)(i)}`:""}`}if("plugin"===e.subView||"widget"===e.subView){let n=this.selectedViewName(e,r),i=(0,s.UI)({path:e.subView,id:"plugin"===e.subView?e.publishedPluginId:e.widgetId,name:n});return null!==e.triggerCheckout&&void 0!==e.triggerCheckout&&(i+="?checkout="+e.triggerCheckout),e.commentThreadId&&(i+=`${-1===i.indexOf("?")?"?":"&"}comment=${e.commentThreadId}`),e.rating&&(i+=`${-1===i.indexOf("?")?"?":"&"}rating=${e.rating}`),i}if("hubFile"===e.subView){let i={};e.commentThreadId&&(i.comment=e.commentThreadId),e.fullscreenState&&(i.preview=e.fullscreenState),null!==e.triggerCheckout&&void 0!==e.triggerCheckout&&(i[u.Tb]=e.triggerCheckout),e.triggerFreemiumPreview&&(i[u._O]=u.E2),e.rating&&(i.rating=e.rating);let a=this.selectedViewName(e,r);var n=(0,s.UI)({path:c.Uo.FILE,id:e.hubFileId,name:a});let o=new URLSearchParams(i).toString();return n+`${o&&`?${o}`}`}return"hubFileEmbed"===e.subView?`/community/file/${e.hubFileId}/embed`:"handle"===e.subView?(0,_.bL)(e.handle,e.profileTab,r.user):"searchAndBrowse"===e.subView?e.data?(0,l.MU)(e.data):a.Ay.location.pathname:"/community"}}function E(e,r){let n=e.indexOf("?"),i=-1===n?e:e.slice(0,n);return new URL(`${i}?comment=${r}`,location.href).href}},73226:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Yi:()=>N,aO:()=>R,f3:()=>O,k4:()=>A,qe:()=>v,xP:()=>w,xb:()=>T,zn:()=>I});var s=n(11855),l=n(27395),d=n(37456),c=n(10752),u=n(77437),p=n(31524),h=n(59593);n(84934),n(66712);var m=n(39863);n(78905);var g=n(52800);n(48661),n(35691),n(5129);var f=n(68109),_=n(83293),y=n(44919),E=((i=E||{})[i.DEFINITION=0]="DEFINITION",i[i.ASSIGNMENT=1]="ASSIGNMENT",i),b=((a=b||{})[a.REGULAR=0]="REGULAR",a[a.WIDE=1]="WIDE",a[a.UNBOUNDED=2]="UNBOUNDED",a[a.RESIZABLE_SIDEBAR=3]="RESIZABLE_SIDEBAR",a);function v(e){switch(e){case g.J0O.BOOL:return y.A;case g.J0O.TEXT:return _.A;case g.J0O.INSTANCE_SWAP:return f.A}}let S={[g.J0O.BOOL]:{SIZE_24_SMALL:l.$,SIZE_16:d.X},[g.J0O.TEXT]:{SIZE_24_SMALL:c.e,SIZE_16:u.I},[g.J0O.INSTANCE_SWAP]:{SIZE_24_SMALL:p.y,SIZE_16:h.m}};function I(e,r=!1){let n=S[e][r?"SIZE_16":"SIZE_24_SMALL"];return s.createElement(n,null)}function T(e){switch(e){case g.J0O.BOOL:return(0,m.t)("design_systems.component_properties.boolean");case g.J0O.TEXT:return(0,m.t)("design_systems.component_properties.text");case g.J0O.INSTANCE_SWAP:return(0,m.t)("design_systems.component_properties.instance_swap");case g.J0O.VARIANT:return(0,m.t)("design_systems.component_properties.variant")}}function w(e,r){if(!r.length)return null;let n=e(r[0]);return n&&r.every(r=>e(r)===n)?n:null}var C=((o=C||{}).PILL="pill",o.ICON="icon",o);function A(e,r){let n;if(e.length){for(let i of e){let e=r.get(i);if(!e||"INSTANCE"!==e.type)continue;let a=e.symbolId;if(a){if(void 0===n)n=a;else if(a!==n)return}}return n}}function N(e,r){let n;if(e.length){for(let i of e){let e=r.get(i);if(!e||"INSTANCE"!==e.type)continue;let a=e.symbolId;if(!a)continue;let o=r.get(a);if(!o)continue;if(o.isLooseComponent)return;let s=o.containingStateGroupId;if(s){if(void 0===n)n=s;else if(s!==n)return}}return n}}function O(e,r){var n;return e?(null==(n=r[e])?void 0:n.componentPropDefError)??g.uXg.NONE:g.uXg.NONE}function R(e,r){var n;let i=null==(n=r[e])?void 0:n.defs;return i?Object.values(i).sort((e,r)=>e.sortPosition<r.sortPosition?-1:1):[]}},19101:(e,r,n)=>{"use strict";n.d(r,{e:()=>i});let i=({condition:e,wrapper:r,children:n})=>e?r(n):n},2609:(e,r,n)=>{"use strict";n.d(r,{p:()=>s});var i=n(11855),a=n(88507),o=n(66712);function s(e){return(0,a.d4)(e=>{var r;return!!(null==(r=e.user)?void 0:r.id)})&&(!e.featureFlag||(0,o.kc)()[e.featureFlag])?i.createElement(i.Fragment,null,e.children):null}},47829:(e,r,n)=>{"use strict";n.d(r,{M:()=>h});var i=n(11855),a=n(88507),o=n(74626),s=n(30949),l=n(31828),d=n(72517),c=n(10648),u=n(35682),p=n(2601);function h(e){let{isShowing:r,testId:n}=e,h=(0,a.wA)(),m=(0,a.d4)(e=>{var r;return(null==(r=null==e?void 0:e.selectedView)?void 0:r.view)==="fullscreen"&&!e.mirror.appModel.showUi}),g=(0,o.md)(u.ze),f=(0,o.md)(u.As),_=(0,i.useMemo)(()=>g?{fileTeamId:f,fileKey:g}:void 0,[g,f]);return(0,i.useEffect)(()=>{r&&e.userFlagOnShow&&h(l.b({[e.userFlagOnShow]:!0}))},[h,e.userFlagOnShow,r]),r?i.createElement(p.Q,null,i.createElement(d.fu,{name:"Onboarding Sequence",properties:_,trackingTargets:c.K.NONE,ignoreParent:!0},i.createElement("div",{"data-testid":n,className:s.cx.if(m,s.cx.invisible).$,"data-editor-theme":e.forceEditorTheme,onClick:e=>e.stopPropagation()},e.children))):null}},7956:(e,r,n)=>{"use strict";n.d(r,{$A:()=>_,LS:()=>E,YY:()=>b,ks:()=>y});var i=n(88507),a=n(98977),o=n(66712),s=n(79940),l=n(96328),d=n(87918),c=n(39863),u=n(93812),p=n(57766),h=n(9511),m=n(21487),g=n(41437),f=n(39671);function _(e){return"fullscreen"===e.view&&e.editorType===f.nT.DevHandoff}function y(){return(0,i.d4)(e=>_(e.selectedView))}function E(){return(0,i.d4)(e=>_(e.selectedView)&&(0,u.Mx)(e)&&(e.mirror.appModel.currentTool===h.NLJ.SELECT||e.mirror.appModel.currentTool===h.NLJ.ANNOTATE||e.mirror.appModel.currentTool===h.NLJ.MEASURE))}class b{pathToSelectedView(e,r,n,i){let a=n?(0,s.v6)(n):{},l=r[1];if(("design"===l||"file"===l)&&("dev"===a.mode||"dev"===a.m)&&"auto"!==a.m){let n="branch"===r[3]&&r[4]?r[4]:r[2],s=null==e?void 0:e.fileByKey[n];if(null==s){let{editing_file:e}=(0,o.Ay)();e&&e.key===n&&(s=e)}let l={view:"fullscreen",editorType:(null==e?void 0:e.user)?f.nT.DevHandoff:f.nT.Design,fileKey:n};return(i=i?i.slice(1):"")&&("commentPreferences"===i?l.showCommentPreferencesPicker=!0:l.commentThreadId=i),a["node-id"]&&(l.nodeId=a["node-id"]),a["version-id"]&&(l.versionId=a["version-id"]),a["cc-version-id"]&&a["node-id"]&&(l.compareChangesVersionId=a["cc-version-id"]),a["cc-filter-status"]&&a["cc-version-id"]&&a["node-id"]&&(l.filterStatusVersions="1"===a["cc-filter-status"]),a["try-plugin-id"]&&(l.tryPluginId=a["try-plugin-id"]),a["try-plugin-version-id"]&&(l.tryPluginVersionId=a["try-plugin-version-id"]),a["try-plugin-name"]&&(l.tryPluginName=a["try-plugin-name"]),"1"===a["is-playground-file"]&&(l.isPlaygroundFile=!0),a["dev-mode-features-modal"]&&(l.devModeUpsellModalTab=a["dev-mode-features-modal"]),(0,o.kc)().dt_dev_mode_workflows&&"1"===a.overview&&(l.showOverview=!0),_(l)&&("dev"===a.mode||"dev"===a.m)&&(l.mode="dev",(0,o.kc)().dt_dev_mode_workflows&&a["focus-id"]&&!l.showOverview&&(l.devModeFocusId=a["focus-id"])),l}return null}requireHistoryChange(e,r){return!1}selectedViewToPath(e,r){if(_(e)){let n;if(e.fileKey===g.Zt)return`/test/interactions${a.Ay.location.search}`;let i=this.selectedViewName(e,r),c=i?(0,l.sy)(i):"",u={},h=e.fileKey,f=e.fileKey&&r.fileByKey[e.fileKey],_=!!(0,o.kc)().dt_url_improvements,y=_?"design":"file";if(f){let e=(0,p.L8)(f,r.repos);n=(0,p.gN)(f,e,y)}else n=`/${y}/${h}`,c?n+=`/${c}`:n+="/Untitled";return e.nodeId&&d.fn(d.sH(e.nodeId))&&(u["node-id"]=(0,m.E)(e.nodeId)),e.versionId&&(u["version-id"]=e.versionId),e.compareChangesVersionId&&(u["cc-version-id"]=e.compareChangesVersionId),e.filterStatusVersions&&(u["cc-filter-status"]=1),e.devModeFocusId&&(u["focus-id"]=e.devModeFocusId),e.showOverview&&(u.overview="1"),_?u.m="dev":u.mode="dev",Object.keys(u).length>0&&(n+=`?${(0,s.lF)(u)}`),e.commentThreadId&&(n+=`#${e.commentThreadId}`),n}return null}selectedViewName(e,r){if(_(e)){let n=null;if(e.fileKey){let i=r.fileByKey[e.fileKey];if(i){let e=(0,p.L8)(i,r.repos);n=e?(0,p.At)(i,e):i.name}}return n??(0,c.t)("dev_handoff.dev_handoff_view_selector.untitled")}return null}selectedViewHasMissingResources(e,r){return!!_(r)&&!!r.fileKey&&!(r.fileKey in e.fileByKey)}}},91271:(e,r,n)=>{"use strict";n.d(r,{v:()=>m});var i=n(11855),a=n(9388),o=n(91408),s=n(98750),l=n(55942),d=n(59838),c=n(98099),u=n(83859),p=n(52277),h=n(33483);class m extends i.Component{constructor(){super(...arguments),this.currentHeight=0,this.ref=e=>{e&&!this.textarea&&(this.textarea=a.findDOMNode(e),this.resizeTextareaToFitValue(this.textarea.value),this.props.enforceStuckToTop&&(this.textarea.scrollTop=0),this.props.selectOnMount&&(this.textarea.select(),this.textarea.setSelectionRange(this.textarea.value.length,this.textarea.value.length)))},this.resizeTextareaToFitValue=e=>{let r;if(this.props.calculateAdjustedHeightOnResize){let n=this.cloneTextareaAndGetNode(e);r=this.props.calculateAdjustedHeightOnResize({clonedTextArea:n,singleLineHeight:this.singleLineHeight,value:e}),n.remove()}else r=this.cloneTextareaAndGetHeight(e);r!==this.currentHeight&&(this.currentHeight=r,this.textarea.setAttribute("style",`height: ${r}px`))},this.onKeyDown=e=>{var r,n,i;this.props.submit&&e.keyCode===s.Uz.ENTER&&(this.props.bypassModifiers&&!e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)&&(e.stopPropagation(),e.preventDefault(),this.props.preventSubmitOnBlur&&this.props.submit(this.textarea.value),this.textarea.blur()),null==(n=(r=this.props).onKeyDown)||n.call(r,e),e.keyCode===s.Uz.ESCAPE&&(this.props.onEscape?this.props.onEscape():this.textarea.blur()),this.context&&"="===e.key&&(e.preventDefault(),null==(i=this.context)||i.showBindingUI(this.textarea))},this.onFocus=e=>{var r,n;null==(n=(r=this.props).onFocus)||n.call(r,e),this.props.focusToEnd&&e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)},this.onBlur=e=>{var r,n;this.props.submit&&!this.props.preventSubmitOnBlur&&this.props.submit(this.textarea.value),null==(n=(r=this.props).onBlur)||n.call(r,e)}}componentDidMount(){this.props.focusOnMount&&this.focus(),this.props.calculateAdjustedHeightOnResize&&(this.singleLineHeight=this.cloneTextareaAndGetHeight("M"))}componentDidUpdate(e){e.value!==this.props.value&&this.resizeTextareaToFitValue(this.props.value)}cloneTextareaAndGetHeight(e){var r;let n=this.cloneTextareaAndGetNode(e),i=n.scrollHeight;if((null==(r=document.defaultView)?void 0:r.getComputedStyle(n,null).getPropertyValue("box-sizing"))==="border-box"){let e=document.defaultView.getComputedStyle(n,null).getPropertyValue("border-top-width");e&&(i+=(0,o.jz)(e));let r=document.defaultView.getComputedStyle(n,null).getPropertyValue("border-bottom-width");r&&(i+=(0,o.jz)(r))}return n.remove(),i}cloneTextareaAndGetNode(e){let r=this.textarea.cloneNode(!0);return this.textarea.parentElement.appendChild(r),r.style.position="absolute",r.style.height="0px",r.style.width=`${this.textarea.offsetWidth}px`,r.style.overflowY="hidden",r.style.resize="none",r.value=e,r}focus(){var e;null==(e=this.textarea)||e.focus({preventScroll:this.props.preventScrollOnFocus})}renderVariablePill(){var e;let r=this.props.value;return(null==(e=this.context)?void 0:e.boundVariableId)&&r?i.createElement(p.P,{value:r,isDeleted:this.context.isBoundVariableDeleted,offsetLeft:9,offsetTop:-11,zeroSizeLayout:!0}):null}render(){let e=`expanding_textarea--expandingTextarea--sWlgy ${h.pc} ${this.props.disableBorderStyles?"":h.PQ} ${this.props.className||""}`;return i.createElement(i.Fragment,null,this.renderVariablePill(),i.createElement(d.L,{type:"textarea",ref:(0,l.A)(this.ref,this.props.innerRef),className:e,placeholder:this.props.placeholder,value:this.props.value,onKeyDown:this.onKeyDown,onKeyUp:this.props.onKeyUp,onBlur:this.onBlur,onFocus:this.onFocus,onMouseDown:c.dG,onMouseUp:this.props.onMouseUp,onMouseLeave:this.props.onMouseLeave,onChange:this.props.onChange,delay:this.props.delay,recordingKey:this.props.recordingKey,maxLength:this.props.maxLength,disabled:!!this.props.disableInput,dataTestId:this.props.dataTestId}))}}m.displayName="ExpandingTextarea",m.contextType=u.p},62487:(e,r,n)=>{"use strict";n.d(r,{F:()=>h});var i=n(11855),a=n(29019),o=n.n(a),s=n(35283),l=n(46689),d=n(35876),c=n(30949),u=n(1114);let p="cta_button--noOutlineButton--ExPPb";function h(e){let{defaultVariant:r,ctaButtonMeta:n}=e,a="big"===e.size,h=i.createElement(d.x,{isLoading:!!n.isLoading,className:c.cx.flex.alignCenter.$},()=>n.label),m=e.ctaButtonMeta.variantOverride||r,g=u.sx.font13.lh24.h40.pl16.pr16;switch(m){case"primary":let f={trackingProperties:{trackingDescriptor:n.ctaTrackingDescriptor,...n.trackingProperties},disabled:n.disabled??n.isLoading,style:u.sx.fontMedium.if(e.emphasized,u.sx.b1.colorBorderOnbrandStrong).if(a,g).$,className:"text"===n.type?p:void 0,dataTestId:n.dataTestId,...n.tooltipProperties};switch(n.type){case"button":case"text":return i.createElement(l.vd,{onClick:n.onClick,...f},h);case"link":return i.createElement(l.rb,{href:n.href,target:"_blank",...f},h);default:(0,s.xb)(n)}case"secondary":let _={trackingProperties:{trackingDescriptor:n.ctaTrackingDescriptor,...n.trackingProperties},disabled:n.disabled??n.isLoading,style:u.sx.fontMedium.if(e.emphasized,u.sx.colorTextOnbrand).if(a,g).$,className:o()("text"===n.type?p:void 0,e.emphasized?"cta_button--emphasizedSecondaryCtaButton--wFudp":void 0),dataTestId:n.dataTestId,...n.tooltipProperties};switch(n.type){case"text":case"button":return i.createElement(l.tM,{onClick:n.onClick,..._},h);case"link":return i.createElement(l.NY,{href:n.href,target:"_blank",..._},h);default:(0,s.xb)(n)}default:(0,s.xb)(m)}}},92318:(e,r,n)=>{"use strict";n.d(r,{b:()=>_});var i=n(11855),a=n(43742),o=n(29019),s=n.n(o),l=n(46689),d=n(30949),c=n(1114),u=n(99569),p=n(39863),h=n(62487),m=n(30834);function g(e){return i.createElement("div",{className:s()(d.cx.flex.justifyBetween.itemsCenter.$,"layout--featureModalHeader---56Su",{"layout--featureModalOnBrandBorder--iCsSf":e.emphasized,"layout--featureModalHeaderNoBorder--VsRkJ":!e.title})},e.title?i.createElement("div",{className:s()(d.cx.font13.fontMedium.lh24.flexGrow1.if(!e.hideCloseButton,d.cx.pr32).$,"layout--featureModalTitle--yfFNo"),style:c.sx.add({letterSpacing:"-0.032px"}).$},e.title):i.createElement("div",{className:s()(d.cx.font11.fontNormal.lh16.wFull.if(!e.hideCloseButton,d.cx.pr32).$,"layout--featureModalNoTitle--uXGnx"),style:c.sx.add({letterSpacing:"0.055px"}).$},e.description),!e.hideCloseButton&&i.createElement(u.Jn,{onClick:()=>e.onClose("close_button_clicked"),innerText:"close","aria-label":(0,p.t)("general.close"),className:s()("layout--closeButton---vFIe",{"layout--emphasizedCloseButton--U0GOf":e.emphasized}),svg:m.A}))}function f(e){return i.createElement("div",{className:s()(d.cx.flex.itemsCenter.justifyBetween.font11.fontMedium.lh16.$,"layout--featureModalFooter---aNG2")},i.createElement("div",{className:d.cx.if(e.emphasized,d.cx.colorTextOnbrandSecondary,d.cx.colorTextSecondary).$,style:c.sx.add({letterSpacing:"0.055px"}).$},e.stepCounter&&i.createElement(p.Tx,{id:"rcs.rcs_shared.step_counter",currentStepNum:e.stepCounter.stepNum,totalNumSteps:e.stepCounter.totalNumSteps})),i.createElement("div",{className:d.cx.flex.gap8.$},e.secondaryCta&&i.createElement(h.F,{defaultVariant:"secondary",emphasized:e.emphasized,ctaButtonMeta:e.secondaryCta}),e.primaryCta&&i.createElement(h.F,{defaultVariant:"primary",emphasized:e.emphasized,ctaButtonMeta:e.primaryCta})))}function _(e){let r="ui3"===(0,a.DP)().version,n=void 0!==e.media,o=void 0!==e.title,u=(e.stepCounter||e.primaryCta||e.secondaryCta)!==void 0;return i.createElement(i.Fragment,null,i.createElement(g,{title:e.title,description:e.description,onClose:e.onClose,emphasized:e.emphasized,hideCloseButton:e.hideCloseButton}),o&&!r&&i.createElement(l.Kz,{direction:"y",multiple:n?1.5:1}),n&&i.createElement(i.Fragment,null,e.media,!r&&i.createElement(l.Kz,{direction:"y",multiple:2})),o&&i.createElement("div",{className:s()(d.cx.font11.fontNormal.lh16.$,"feature_modal_content--featureModalDescription--Gxl77"),style:c.sx.add({letterSpacing:"0.055px"}).$},e.description),u&&i.createElement(i.Fragment,null,!r&&i.createElement(l.Kz,{direction:"y",multiple:n||!o?2:3}),i.createElement(f,{stepCounter:e.stepCounter,primaryCta:e.primaryCta,secondaryCta:e.secondaryCta,emphasized:e.emphasized})))}},21322:(e,r,n)=>{"use strict";n.d(r,{j:()=>a});var i=n(11855);function a(e){(0,i.useEffect)(()=>{let r=r=>{"Escape"===r.key&&e()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e])}},40514:(e,r,n)=>{"use strict";n.d(r,{on:()=>T,rq:()=>A});var i=n(11855),a=n(29019),o=n.n(a),s=n(30949),l=n(1114),d=n(72517),c=n(26055),u=n(47829),p=n(46806),h=n(85029),m=n(85861),g=n(88694),f=n(92318),_=n(21322),y=n(86411),E=n(8267),b=n(64114),v=n(38534);function S(e){let r=(0,i.useRef)(null);return i.createElement(C,{...e,innerRef:r})}function I(e){var r;let[n,a]=i.useState(0),o=(0,c.GS)()?240:300,s=e.width??o,[l,d]=i.useState({top:window.innerHeight/2-n/2,left:window.innerWidth/2-s/2}),u=i.useRef(null),g=null==(r=u.current)?void 0:r.clientHeight;(0,i.useEffect)(()=>{let e=()=>{g&&d({top:window.innerHeight/2-g/2,left:window.innerWidth/2-s/2})};return g&&(a(g),e()),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[g,s]),(0,_.j)(()=>e.onClose("escape_button_pressed"));let f=(e.isCanvasNode?h.Ay:m.eP)({targetKey:e.targetKey,height:n,width:s,topPadding:4,alignPointerToLeft:e.pointToLeftEdge,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition??p.F_.TOP,onTargetLost:e.onTargetLost,pointerOffsetOverride:e.pointerOffsetOverride});return i.createElement(C,{...e,location:f?{left:f.left,top:f.top,pointerPosition:f.pointerPosition,pointerOffset:f.pointerOffset}:{left:l.left,top:l.top},targetKey:e.targetKey,innerRef:u})}function T(e){return e.fixedPosition?i.createElement(S,{...e}):i.createElement(I,{...e})}let w={[b.R.MODAL]:s.cx.zIndexModal,[b.R.SECONDARY_MODAL]:s.cx.zIndexSecondaryModal,[b.R.TERTIARY_MODAL]:s.cx.zIndexTertiaryModal,[b.R.UNSET]:s.cx};function C(e){let{location:r,onClose:n,zIndex:a=b.R.SECONDARY_MODAL}=e,u=s.cx.fixed.borderBox.bRadius2.pb16.pl16.pr16.fontInter.flex.flexColumn.match(a,w).if(!!e.media,s.cx.pt12,s.cx.pt16).$,p=(0,c.GS)()?240:300,m=e.width??p,_=l.sx.if(e.emphasized,l.sx.colorBgBrand.colorTextOnbrand,l.sx.colorBg.colorText).add({width:`${m}px`,boxShadow:"var(--elevation-400-menu-panel)",left:`${r.left}px`,top:`${r.top}px`}).$,S=e.clickOutsideToHide??(void 0===e.primaryCta&&void 0===e.secondaryCta),I=(0,i.useCallback)(()=>n("clicked_outside"),[n]);return(0,y.l)(S,e.innerRef,I),i.createElement(d.fu,{name:e.trackingContextName,properties:e.trackingProperties},!e.disableHighlight&&e.targetKey&&i.createElement(g.x,{target:e.targetKey,isBrandColor:e.highlightBlue}),i.createElement(E.M,{className:o()(u,v.P),style:_,ref:e.innerRef},void 0!==r.pointerPosition&&!e.shouldHideArrow&&i.createElement(h.gm,{arrowPosition:r.pointerPosition,arrowOffset:r.pointerOffset,modalColor:_.backgroundColor}),i.createElement(f.b,{...e})))}function A(e){return i.createElement(u.M,{isShowing:e.isShowing,userFlagOnShow:e.userFlagOnShow,testId:e.testId,forceEditorTheme:e.forceEditorTheme},i.createElement(T,{...e}))}},86411:(e,r,n)=>{"use strict";n.d(r,{l:()=>a});var i=n(11855);function a(e,r,n){(0,i.useEffect)(()=>{let i=i=>{e&&r.current&&!r.current.contains(i.target)&&n()};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[e,r,n])}},8267:(e,r,n)=>{"use strict";n.d(r,{M:()=>o});var i=n(11855),a=n(29951);let o=i.forwardRef((e,r)=>i.createElement(a.P.div,{className:e.className,style:e.style,ref:r,role:"tooltip",layoutId:"FeatureCallout",initial:{translateY:10},animate:{translateY:0},transition:{duration:.2,ease:"easeInOut",translateY:{duration:1}},transformTemplate:(r,n)=>e.transformString?`${e.transformString} ${n}`:n},e.children))},40280:(e,r,n)=>{"use strict";n(11855),n(29019),n(30949),n(1114),n(72517),n(47829),n(92318),n(21322),n(86411),n(8267),n(64114),n(46935),n(38534)},64114:(e,r,n)=>{"use strict";let i,a;n.d(r,{R:()=>s});var o=((i=o||{}).BOTTOM_RIGHT="bottom_right",i.CENTER="center",i.EDITOR_TOP_LEFT="editor_top_left",i),s=((a=s||{}).TERTIARY_MODAL="TERTIARY_MODAL",a.SECONDARY_MODAL="SECONDARY_MODAL",a.MODAL="MODAL",a.UNSET="UNSET",a)},58159:(e,r,n)=>{"use strict";(0,n(38580).eU)(0)},82876:(e,r,n)=>{"use strict";n.d(r,{g:()=>a});var i=n(11855);function a(e,r,n){(0,i.useLayoutEffect)(()=>{if(!e||!e.current)return;let i=new IntersectionObserver(n=>{for(let i of n)e.current===i.target&&(null==r||r(i))},n);return i.observe(e.current),()=>i.disconnect()},[e,r,n])}},30413:(e,r,n)=>{"use strict";n.d(r,{D:()=>y});var i=n(11855),a=n(88507),o=n(29019),s=n.n(o),l=n(78931),d=n(24897),c=n(39863),u=n(38269),p=n(72517),h=n(71e3),m=n(21356);let g="CART_CURRENCY_SWITCHER_DROPDOWN_TYPE",f={jpy:{currency:"jpy",optionLeft:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.japanese_yen"}),optionRight:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.jpy_symbol"}),headerShort:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_jpy"}),headerLong:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_jpy"})},usd:{currency:"usd",optionLeft:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.us_dollar"}),optionRight:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.usd_symbol"}),headerShort:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_usd"}),headerLong:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_usd"})},eur:{currency:"eur",optionLeft:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.european_euro"}),optionRight:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.eur_symbol"}),headerShort:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_eur"}),headerLong:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_eur"})},cad:{currency:"cad",optionLeft:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.cad_dollar"}),optionRight:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.cad_symbol"}),headerShort:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_cad"}),headerLong:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_cad"})},gbp:{currency:"gbp",optionLeft:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.british_pound"}),optionRight:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.gbp_symbol"}),headerShort:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_gbp"}),headerLong:i.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_gbp"})}},_=Object.keys(f);function y(e){let r=i.useRef(null),n=(0,a.wA)(),o=(0,a.d4)(e=>e.dropdownShown),l=(null==o?void 0:o.type)===g,c=_.filter(r=>e.supportedCurrencies.includes(r)),p=f[e.currency];return i.createElement("div",{className:"currency_switcher--dropdownContainer--kBXA8 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e=>{e.stopPropagation(),l?n(u.oB()):(null==r?void 0:r.current)&&n(u.j7({type:g,data:{targetRect:r.current.getBoundingClientRect()}}))},role:"button",tabIndex:0,style:null!==e.paddingOverride?{paddingRight:e.paddingOverride}:{}},i.createElement("span",{className:"currency_switcher--displayedCurrency--RCEKJ"},e.shortFormDisplay?p.headerShort:p.headerLong),i.createElement("div",{className:"currency_switcher--caretContainer--Wl2zn",ref:r},i.createElement(d.B,{svg:m.A,className:s()("currency_switcher--caret--NdaLG",l?"currency_switcher--caretDown--5slgk":"")})),l&&i.createElement(h.Cf,{targetRect:e.dropdownShown.data.targetRect,lean:"left",minWidth:225,maxWidth:225,showPoint:!1,propagateCloseClick:!0},c.map(r=>i.createElement(E,{key:r,onClick:e.changeCurrency.bind(null,r),currency:r,trackingProperties:{prevCurrencyCode:e.currency,newCurrencyCode:r},trackingEventName:"currency_toggled"}))))}_.sort((e,r)=>"usd"===e?1:"usd"===r?-1:e.localeCompare(r));let E=(0,p.tf)(function(e){let r=f[e.currency];return i.createElement(l.W.Option,{onClick:e.onClick},i.createElement("div",{className:"currency_switcher--dropdownOption--LqBUy"},i.createElement("div",null,r.optionLeft),i.createElement("div",null,r.optionRight)))})},32833:(e,r,n)=>{"use strict";n.d(r,{L:()=>m});var i=n(11855),a=n(96796),o=n(29019),s=n.n(o),l=n(53234),d=n(24897),c=n(48425);let u="action--svgChevron--kY5F4";var p=n(89298);let h=e=>e.stopPropagation();i.forwardRef((e,r)=>i.createElement("div",{key:"topBarWrapper",role:"none",onClick:h},i.createElement(m,{...e,children:void 0,recordingKey:e.recordingKey,ref:r}),e.children));class m extends l.uA{constructor(e){super(e),this.onClick=l.cZ(this,"click",e=>{this.props.onClick&&!this.props.onClickForKeyDownOnly&&this.props.onClick(e)}),this.onKeyDown=e=>{var r,n;"Escape"===e.key&&(e.preventDefault(),null==(r=this.wrapperRef.current)||r.blur(),null==(n=this.buttonRef.current)||n.blur()),this.props.enabled&&!this.props.hidden&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),this.props.onClick(e))},this.wrapperRef=i.createRef(),this.buttonRef=i.createRef()}render(){let e,r="";r=this.props.selected?"action--selected--ii-C7 action--root--VrwWJ toolbar_styles--activeButton--YHzcB":this.props.enabled?"action--enabled--91rxR action--root--VrwWJ toolbar_styles--enabledButton--fEwmC":"action--disabled--xmRYx action--root--VrwWJ toolbar_styles--disabledButton--wv8Iu",this.props.isUI3&&this.props.ui3Icon?e=this.props.ui3Icon:this.props.useSvgNode?e=this.props.svgNode?i.createElement("span",null,this.props.svgNode):null:this.props.svg&&(e=i.createElement(c.t,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,useOriginalSrcFills_DEPRECATED:this.props.useOriginalSrcFills_DEPRECATED,className:this.props.svgStyle}));let n=i.createElement(i.Fragment,null,!this.props.hidden&&e,this.props.text&&i.createElement("span",{className:this.props.textStyle||(this.props.svg?"action--label--KqZyH action--text--Y8Q2D":"action--text--Y8Q2D")},this.props.text),this.props.showIndicator&&i.createElement("span",{className:this.props.indicatorStyle?this.props.indicatorStyle:"action--indicator--5afWx"}),this.props.showChevron&&(this.props.isUI3?i.createElement("div",{className:"action--ui3SvgChevron--J0pfq action--svgChevron--kY5F4"},i.createElement(a.O,null)):this.props.positionOnChevron?i.createElement("div",{className:"action--chevronContainer--MBToX",ref:this.props.chevronRef},i.createElement(d.B,{svg:p.A,className:s()(u,"action--positionOnChevron--AV-Ng")})):i.createElement(d.B,{svg:p.A,className:u})),this.props.children);return i.createElement("button",{id:this.props.id,ref:this.buttonRef,className:s()(r,this.props.narrow?"action--narrow--p-Yvm":null,this.props.className),onMouseDown:this.props.enabled&&!this.props.hidden?this.onClick:void 0,onClick:h,"data-tooltip-type":this.props["data-tooltip-type"],"data-tooltip":this.props["data-tooltip"],"data-tooltip-shortcut-key":this.props["data-tooltip-shortcut-key"],"data-tooltip-offset-x":this.props.showChevron&&!this.props.isUI3&&this.props.positionOnChevron?8:0,"data-onboarding-key":this.props.onboardingKey,"data-testid":this.props.dataTestId,onKeyDown:this.onKeyDown,"aria-label":this.props.ariaLabel,"aria-expanded":this.props["aria-expanded"],"aria-controls":this.props["aria-controls"],"aria-haspopup":this.props["aria-haspopup"],"data-fullscreen-intercept":!0},n)}}m.displayName="TopBarAction",m.defaultProps={enabled:!0,hidden:!1}},13029:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{lo:()=>u}),n(11855),n(88507),n(94272),n(96328);var s=n(39863);n(92592),n(29906),n(27367),n(52800),n(79145),n(13964);var l=((i=l||{})[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i[i.RIGHT=4]="RIGHT",i[i.LEFT=8]="LEFT",i[i.UP_RIGHT=5]="UP_RIGHT",i[i.UP_LEFT=9]="UP_LEFT",i[i.DOWN_RIGHT=6]="DOWN_RIGHT",i[i.DOWN_LEFT=10]="DOWN_LEFT",i),d=((a=d||{})[a.NONE=0]="NONE",a[a.HORIZONTAL=1]="HORIZONTAL",a[a.VERTICAL=2]="VERTICAL",a[a.BOTH=3]="BOTH",a),c=((o=c||{})[o.NONE=0]="NONE",o[o.DECREASED=1]="DECREASED",o[o.INCREASED=2]="INCREASED",o);function u(){var e;let r=null==(e=document.getElementById("fullscreen-root"))?void 0:e.getElementsByClassName("focus-target");if(null==r)return null;for(let e of r){let r="application"===e.getAttribute("role")||"application"===e.role;if(e.hasAttribute("readonly")&&r)return e}return null}n(56390),n(39671),!function(e){e.thumbsUp,e.plusOne,e.star,e.question,e.thumbsDown,e.dots,e.profile,e.heart,()=>(0,s.t)("fullscreen.stamp_wheel.heart")}({heart:"cdb352553f6650801d744ab73fd416222f120bd6",thumbsDown:"1b9c978d009d03d1abececfe15edf721a7c14374",star:"a9c2008e62c6d5a4421a22cd960b5ca54fdbe93f",thumbsUp:"d7c56a0ef07da63ed9f641ab04637704a4744c74",question:"4fe56356e345e558e669ff6e369f0265ee0b7fe7",profile:()=>"https://static.figma.com/uploads/cb417fb549d06a2fb42e182cddd2b94b1996b768",dots:()=>"https://static.figma.com/uploads/2b2029d1eabf48358e208427103a2023435751dc",plusOne:"96363e23778476978d264bfcbd286bc0cbafe6cd"})},34469:(e,r,n)=>{"use strict";n.d(r,{FA:()=>g,FT:()=>_,ak:()=>h,nS:()=>m,qj:()=>u,ss:()=>f,tW:()=>y,wy:()=>p});var i=n(11855),a=n(84934),o=n(66712),s=n(52800),l=n(87623),d=n(876),c=n(64611);function u(e){return i.createElement("div",{className:`${c.kB} ${e.className}`},e.children)}function p(e){return i.createElement("div",{className:c.kL},e.children)}function h(e){return i.createElement("div",{className:c.qr},e.children)}function m(e){return i.createElement("div",{className:c.rb},e.children)}function g(e){return i.createElement("div",{className:`${c.pz} ${e.className}`},e.children)}let f=i.createContext(0);function _(e){let{metrics:r,...n}=e,i={...n,diffType:s.sYL[n.diffType],setDiffResult:s.H$z[n.setDiffResult],...r};(0,a.sx)("Branch Modal setDiff Performance Delta",i,{forwardToDatadog:!0})}function y(e){let[r]=i.useState(Date.now()),[n,s]=i.useState(0),[c,u]=i.useState(null),{displayGroups:p,conflictGroups:h,direction:m,branchFileKey:g,sourceFileKey:_,fileRepoId:y,isDoneLoading:E,entryPointDirection:b}=e,v=i.useContext(f),S=i.useMemo(()=>{let e=p.map(e=>e.affectedChunks.length).reduce((e,r)=>e+r,0),r=p.map(e=>e.variantChunks.length).reduce((e,r)=>e+r,0),n=m===d.Kn.FROM_SOURCE&&h.length>0;return{branchFileKey:g,sourceFileKey:_,fileRepoId:y,direction:m,changeCount:p.length,affectedItemCount:e,variantCount:r,conflictCount:h.length,isConflictResolution:n,branchModalTrackingId:v}},[p,h,m,g,_,y,v]);i.useEffect(()=>{let e=()=>{if(!E){if("hidden"===document.visibilityState){let e=Date.now();null==c&&(0===n&&(0,a.sx)("Branch Modal Load Backgrounded",{durationMs:e-r,loadType:d.ap.TOTAL,...S},{forwardToDatadog:!0}),u(e))}else"visible"===document.visibilityState&&c&&(s(n+(Date.now()-c)),u(null))}};return E||document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[c,u,n,s,r,S,E]),i.useEffect(()=>{if(e.isDoneLoadingSourceDiff&&e.branchFileKey&&e.sourceFileKey&&e.fileRepoId){let i=Date.now()-r;(0,o.kc)().internal_only_debug_tools&&console.log(`[Branching][${e.direction}] modal loaded source diff loadtime=${(i/1e3).toFixed(2)}s`),(0,a.sx)("Branch Modal Source Diff Load Time",{durationMs:i,loadType:d.ap.TOTAL,backgrounded:n>0,backgroundDurationMs:n,...S},{forwardToDatadog:!0})}},[e.isDoneLoadingSourceDiff,e.direction,r,n]),i.useEffect(()=>{if(e.isDoneLoading&&e.branchFileKey&&e.sourceFileKey&&e.fileRepoId){let i=Date.now()-r;(0,o.kc)().internal_only_debug_tools&&console.log(`[Branching][${e.direction}] modal loadtime=${(i/1e3).toFixed(2)}s`),(b!==d.Kn.TO_SOURCE||m!==d.Kn.FROM_SOURCE)&&(0,a.sx)("Branch Modal Load Time",{durationMs:i,loadType:d.ap.TOTAL,backgrounded:n>0,backgroundDurationMs:n,...S,...(0,l.Z_)()},{forwardToDatadog:!0})}},[e.isDoneLoading,e.direction,r,n]),i.useEffect(()=>{if(e.isDoneLoading&&e.branchFileKey&&e.sourceFileKey&&e.fileRepoId){var i;i=()=>{let i=Date.now()-r;(0,o.kc)().internal_only_debug_tools&&console.log(`[Branching][${e.direction}] modal time to browser paint=${(i/1e3).toFixed(2)}s`),(0,a.sx)("Branch Modal Time to Browser Painted",{durationMs:i,loadType:d.ap.TOTAL,backgrounded:n>0,backgroundDurationMs:n,...S},{forwardToDatadog:!0})},requestAnimationFrame(()=>{let e=new MessageChannel;e.port1.onmessage=i,e.port2.postMessage(void 0)})}},[e.isDoneLoading,e.branchFileKey,e.sourceFileKey,e.fileRepoId]),i.useEffect(()=>{if(e.direction===d.Kn.TO_SOURCE&&e.isDoneLoadingConflicts&&e.branchFileKey&&e.sourceFileKey&&e.fileRepoId){let i=Date.now()-r;(0,o.kc)().internal_only_debug_tools&&console.log(`[Branching][${e.direction}] conflicts loadtime=${(i/1e3).toFixed(2)}s`),(0,a.sx)("Branch Modal Conflicts Load Time",{durationMs:i,loadType:d.ap.TOTAL,backgrounded:n>0,backgroundDurationMs:n,...S},{forwardToDatadog:!0})}},[e.isDoneLoadingConflicts,e.branchFileKey,e.sourceFileKey,e.fileRepoId,e.direction,S,r,n]),i.useLayoutEffect(()=>{if(!e.isDoneLoading&&e.modalCloseIntent){let e=Date.now()-r;(0,a.sx)("Branch Modal Load Aborted",{durationMs:e,backgrounded:n>0,backgroundDurationMs:n,...S},{forwardToDatadog:!0})}},[e.isDoneLoading,e.modalCloseIntent])}},99111:(e,r,n)=>{"use strict";let i,a;n.d(r,{AM:()=>f,ED:()=>_,_V:()=>p,a$:()=>b,pT:()=>h,rK:()=>y,yj:()=>m,z2:()=>g});var o=n(11855),s=n(99737),l=n(80921),d=n(39863),c=n(79453),u=n(20083),p=((i=p||{})[i.APPROVED=0]="APPROVED",i[i.IN_REVIEW=1]="IN_REVIEW",i[i.MERGED=2]="MERGED",i[i.SHARED_DRAFT=3]="SHARED_DRAFT",i[i.CHANGES_REQUESTED=4]="CHANGES_REQUESTED",i),h=((a=h||{})[a.ACTIVE=0]="ACTIVE",a[a.MERGED=1]="MERGED",a[a.ARCHIVED=2]="ARCHIVED",a[a.IN_REVIEW=3]="IN_REVIEW",a[a.APPROVED=4]="APPROVED",a[a.CHANGES_REQUESTED=5]="CHANGES_REQUESTED",a);function m(e){let r=e.reviewers,n=e.requested_at||e.created_at;return e.closed_at?3:r.some(e=>e.changes_requested_at&&e.changes_requested_at>n)?4:r.some(e=>e.approved_at&&e.approved_at>n)?0:1}function g(e){let{mergeRequest:r}=e,{reviewers:n,closedAt:i}=r,a=r.requestedAt||r.createdAt;return i?3:n.some(e=>e.changesRequestedAt&&e.changesRequestedAt>a)?4:n.some(e=>e.approvedAt&&e.approvedAt>a)?0:1}function f(e){let{openMergeRequest:r,fileMerges:n,trashedAt:i}=e;return r?function(e){switch(e){case 0:return 4;case 1:return 3;case 2:return 1;case 3:default:return 0;case 4:return 5}}(g(r)):n.some(e=>!!e.mergeResultCheckpointId&&0===e.direction)?1:i?2:0}function _(e){return e.approved_at?0:e.changes_requested_at?4:void 0}function y(e,r,n){let i=u.IF,a=u.s4,s="";switch(e){case 0:i=u.Q4,a=u.OQ,s=(0,d.t)("collaboration.branching.approved");break;case 1:i=u.wi,a=u.WE,s=(0,d.t)("collaboration.branching.in_review");break;case 4:i=u.qj,a=u.WQ,s=(0,d.t)("collaboration.branching.changes_suggested");break;default:return}return n&&(i=u.v5,a=u.Nj),o.createElement("div",{className:u.cX},o.createElement("div",{className:`${a} ${r===l.vj.LARGE?u.cM:u.IA}`},o.createElement("span",{className:`${i} ${r===l.vj.LARGE?u.b5:u.jH}`}),s))}l.zE.SUCCESS,l.zE.INVERT,l.zE.WARNING,l.zE.SUCCESS,l.zE.WARNING,e=>o.createElement(d.Tx,{id:"collaboration.branching.changes_suggested"});let E=(e,r)=>{let n=u.IF,i=u.s4,a="",o=u.cI;switch(e){case 4:n=u.Q4,i=u.OQ,a=(0,d.t)("collaboration.branching.approved"),o=u.tr;break;case 3:n=r?u.zZ:u.wi,i=r?u.RR:u.WE,a=(0,d.t)("collaboration.branching.in_review"),o=r?u.QV:u.Zy;break;case 5:n=u.qj,i=u.WQ,a=(0,d.t)("collaboration.branching.changes_suggested"),o=u.u0;break;case 1:n=u.Hv,i=u.Fb,a=(0,d.t)("collaboration.branching.merged"),o=u.tr;break;case 2:n=r?u.gY:u.Z$,i=r?u.qK:u.v$,a=(0,d.t)("collaboration.branching.archived"),o=r?u.QV:u.Zy;break;default:return null}return[n,i,o,a]};function b({branchFileKey:e,size:r,onClick:n,convertsToDotWithSmallScreen:i,isToolbar:a}){let d=(0,s.Rs)(c._iU,{branchFileKey:e}),p="loaded"===d.status&&d.data.file?f(d.data.file):null;if(!p)return null;let h=E(p,!!a);if(!h)return null;let[m,g,_,y]=h;return o.createElement("div",{onClick:()=>n?n(p):void 0},o.createElement("div",{className:`${u.cX} ${i?u._H:void 0}`},o.createElement("div",{className:`${g} ${r===l.vj.LARGE?u.cM:u.IA}`},o.createElement("span",{className:`${m} ${r===l.vj.LARGE?u.b5:u.jH}`}),y)),i&&o.createElement("div",{className:_}))}},28229:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{EY:()=>g,FO:()=>p,Rv:()=>l,b2:()=>c,de:()=>f,fE:()=>d,oZ:()=>_,wR:()=>m,yC:()=>u,zX:()=>h});var s=n(43282),l=((i=l||{}).RENDER_SINGLE_PROPERTY="RENDER_SINGLE_PROPERTY",i.RENDER_MULTI_PROPERTY="RENDER_MULTI_PROPERTY",i.RENDER_MULTI_NODE="RENDER_MULTI_NODE",i.RENDER_DISPLAY_NODE_SINGLE_PROPERTY="RENDER_DISPLAY_NODE_SINGLE_PROPERTY",i),d=((a=d||{})[a.MERGE_REVIEW=0]="MERGE_REVIEW",a[a.CONFLICT_REVIEW=1]="CONFLICT_REVIEW",a);let c={derivedTextData:!1,name:!0,visible:!0,locked:!0,parentIndex:!0,transform:!0,description:!0,symbolDescription:!0,symbolLinks:!0,type:!0,booleanOperation:!0,horizontalConstraint:!0,verticalConstraint:!0,hyperlink:!0,mention:!0,proportionsConstrained:!0,inheritGridStyleID:!0,layoutGrids:!0,inheritTextStyleID:!0,inheritFillStyleID:!0,inheritFillStyleIDForStroke:!0,inheritEffectStyleID:!0,inheritExportStyleID:!0,inheritStrokeStyleID:!0,styleIdForFill:!0,styleIdForStrokeFill:!0,styleIdForText:!0,styleIdForEffect:!0,styleIdForGrid:!0,scrollBehavior:!0,transitionType:!0,transitionDuration:!0,easingType:!0,scrollDirection:!0,transitionPreserveScroll:!0,connectionType:!0,interactionType:!0,transitionTimeout:!0,interactionMaintained:!0,interactionDuration:!0,overlayPositionType:!0,transitionShouldSmartAnimate:!0,overlayRelativePosition:!0,overlayBackgroundInteraction:!0,overlayBackgroundAppearance:!0,keyTrigger:!0,prototypeInteractions:!0,prototypeStartNodeID:!0,prototypeStartingPoint:!0,videoPlayback:!0,stackMode:!0,stackSpacing:!0,stackCounterSizing:!0,stackPrimarySizing:!0,stackChildPrimaryGrow:!0,stackChildAlignSelf:!0,stackPrimaryAlignItems:!0,stackCounterAlignItems:!0,stackHorizontalPadding:!0,stackVerticalPadding:!0,stackPaddingRight:!0,stackPaddingBottom:!0,stackPositioning:!0,stackReverseZIndex:!0,bordersTakeSpace:!0,stackWrap:!0,stackCounterSpacing:!0,stackCounterAlignContent:!0,minSize:!0,maxSize:!0,maxLines:!0,pluginData:!0,pluginRelaunchData:!0,stackPadding:!1,stackJustify:!1,codeBlockLanguage:!0,pasteSource:!1,fontVariations:!0,detachOpticalSizeFromFontSize:!0,widgetMetadata:!0,widgetPropertyMenuItems:!0,widgetSyncedState:!0,renderedSyncedState:!0,widgetEvents:!1,widgetInputBehavior:!1,widgetCachedAncestor:!0,widgetInputTextNodeType:!1,interactiveSlideConfigData:!1,interactiveSlideParticipantData:!1,flappType:!1,themeID:!1,slideThemeData:!1,slideThemeMap:!1,slideTemplateFileKey:!1,componentPropDefs:!0,componentPropRefs:!0,componentPropAssignments:!1,simplifyInstancePanels:!0,propsAreBubbled:!0,size:!1,guid:!1,phase:!0,opacity:!1,blendMode:!1,count:!1,dashPattern:!1,autoRename:!1,backgroundEnabled:!1,mask:!1,maskType:!1,exportContentsOnly:!1,maskIsOutline:!1,backgroundOpacity:!1,cornerRadius:!1,fontSize:!1,paragraphIndent:!1,paragraphSpacing:!1,listSpacing:!1,starInnerScale:!1,miterLimit:!1,strokeWeight:!1,textTracking:!1,strokeAlign:!1,strokeCap:!1,strokeJoin:!1,textAlignHorizontal:!1,textAlignVertical:!1,textCase:!1,textDecoration:!1,leadingTrim:!1,hangingPunctuation:!1,hangingList:!1,fillPaints:!1,strokePaints:!1,lineHeight:!1,fontName:!1,textData:!1,effects:!1,handleMirroring:!1,exportSettings:!1,textAutoResize:!1,vectorData:!1,styleID:!1,backgroundColor:!1,fillGeometry:!1,strokeGeometry:!1,guidPath:!1,symbolData:!1,frameMaskDisabled:!1,resizeToFit:!1,exportBackgroundDisabled:!1,sharedSymbolReference:!1,isSymbolPublishable:!1,sharedSymbolMappings:!1,derivedSymbolData:!1,sharedSymbolVersion:!1,overrideLevel:!1,nestedInstanceResizeEnabled:!1,fontVariantCommonLigatures:!1,fontVariantContextualLigatures:!1,fontVariantDiscretionaryLigatures:!1,fontVariantHistoricalLigatures:!1,fontVariantOrdinal:!1,fontVariantSlashedZero:!1,fontVariantNumericFigure:!1,fontVariantNumericSpacing:!1,fontVariantNumericFraction:!1,fontVariantCaps:!1,fontVariantPosition:!1,guides:!1,transitionNodeID:!1,prototypeBackgroundColor:!1,internalOnly:!1,overriddenSymbolID:!1,rectangleTopLeftCornerRadius:!1,rectangleTopRightCornerRadius:!1,rectangleBottomLeftCornerRadius:!1,rectangleBottomRightCornerRadius:!1,rectangleCornerRadiiIndependent:!1,rectangleCornerToolIndependent:!1,sharedComponentMasterData:!1,cornerSmoothing:!1,styleType:!1,styleDescription:!1,unflatteningMappings:!1,letterSpacing:!1,version:!1,userFacingVersion:!1,sharedStyleMasterData:!1,sharedStyleReference:!1,sortPosition:!1,isPublishable:!1,exportTextAsSVGText:!1,isSoftDeletedStyle:!1,isSoftDeleted:!1,isNonUpdateable:!1,isOverrideOverTextStyle:!1,connectionURL:!1,prototypeDevice:!1,backgroundPaints:!1,arcData:!1,derivedSymbolDataLayoutVersion:!1,navigationType:!1,fontVersion:!1,textUserLayoutVersion:!1,textExplicitLayoutVersion:!1,textBidiVersion:!1,toggledOnOTFeatures:!1,toggledOffOTFeatures:!1,overrideKey:!1,publishFile:!1,sourceLibraryKey:!1,publishID:!1,key:!1,componentKey:!1,isC2:!1,fileAssetIds:!1,publishedVersion:!1,containerSupportsFillStrokeAndCorners:!1,isStateGroup:!1,voiceEventPhrase:!1,forceUnflatteningMappings:!1,ancestorPathBeforeDeletion:!1,stateGroupPropertyValueOrders:!1,nodeGenerationData:!1,derivedImmutableFrameData:!1,derivedImmutableFrameDataVersion:!1,shapeWithTextType:!1,connectorStart:!1,connectorEnd:!1,connectorLineStyle:!1,connectorStartCap:!1,connectorEndCap:!1,connectorType:!1,shapeUserHeight:!1,overrideStash:!1,internalEnumForTest:!1,internalDataForTest:!1,connectorControlPoints:!1,connectorTextMidpoint:!1,annotations:!1,measurements:!1,libraryMoveInfo:!1,libraryMoveHistory:!1,developerRelatedLinks:!1,stampData:!1,embedData:!1,linkPreviewData:!1,richMediaData:!1,textTruncation:!0,shapeTruncates:!1,sectionContentsHidden:!1,widgetTooltip:!1,borderTopWeight:!1,borderBottomWeight:!1,borderLeftWeight:!1,borderRightWeight:!1,borderStrokeWeightsIndependent:!1,widgetHoverStyle:!1,hasHadRTLText:!1,emojiImageSet:!1,slideThumbnailHash:!1,isWidgetStickable:!1,shouldHideCursorsOnWidgetHover:!1,variableDataValues:!1,variableConsumptionMap:!1,variableModeBySetMap:!1,variableSetModes:!1,variableSetID:!1,backingVariableSetId:!1,rootVariableKey:!1,variableResolvedType:!1,isCollectionExtendable:!1,variableScopes:!1,codeSyntax:!0,agendaPositionMap:!1,agendaMetadataMap:!1,migrationStatus:!1,editInfo:!1,documentColorProfile:!1,accessibleHTMLTag:!0,ariaRole:!0,ariaAttributes:!0,accessibleLabel:!0,tableRowPositions:!1,tableColumnPositions:!1,tableRowHeights:!1,tableColumnWidths:!1,areSlidesManuallyIndented:!1,detachedSymbolId:!1,sevMoonlitLilyData:!1,childReadingDirection:!1,readingIndex:!1,sectionStatusInfo:!1,handoffStatusMap:!1,slideActiveThemeLibKey:!1,slideSpeakerNotes:!1,diagramParentIndex:!1,diagramLayoutRuleType:!1,diagramLayoutPaused:!1,editScopeInfo:!1,sectionPresetInfo:!1,semanticWeight:!1,semanticItalic:!1,isPageDivider:!1,moduleType:!1,pageType:!1,isResponsiveSet:!1,defaultResponsiveSetId:!1,responsiveSetSettings:!1,behaviors:!1};Object.entries({inheritTextStyleID:["fontName","fontSize","textCase","textDecoration","letterSpacing","fontVariations","fontVariantCommonLigatures","fontVariantContextualLigatures","fontVariantDiscretionaryLigatures","fontVariantHistoricalLigatures","fontVariantOrdinal","fontVariantSlashedZero","fontVariantNumericFigure","fontVariantNumericSpacing","fontVariantNumericFraction","fontVariantCaps","fontVariantPosition"],inheritFillStyleID:["fillPaints"],inheritFillStyleIDForStroke:[],inheritEffectStyleID:["effects"],styleIdForText:["fontName","fontSize","textCase","textDecoration","letterSpacing","fontVariations","fontVariantCommonLigatures","fontVariantContextualLigatures","fontVariantDiscretionaryLigatures","fontVariantHistoricalLigatures","fontVariantOrdinal","fontVariantSlashedZero","fontVariantNumericFigure","fontVariantNumericSpacing","fontVariantNumericFraction","fontVariantCaps","fontVariantPosition"],styleIdForFill:["fillPaints"],styleIdForStrokeFill:["strokePaints"],styleIdForEffect:["effects"]});let u={derivedTextData:!1,name:!1,visible:!0,locked:!1,parentIndex:!1,transform:!0,description:!1,symbolDescription:!1,symbolLinks:!1,type:!1,booleanOperation:!1,horizontalConstraint:!0,verticalConstraint:!0,hyperlink:!0,mention:!1,proportionsConstrained:!1,inheritGridStyleID:!0,layoutGrids:!1,inheritTextStyleID:!0,inheritFillStyleID:!0,inheritFillStyleIDForStroke:!0,inheritEffectStyleID:!0,inheritExportStyleID:!0,inheritStrokeStyleID:!0,styleIdForFill:!0,styleIdForStrokeFill:!0,styleIdForText:!0,styleIdForEffect:!0,styleIdForGrid:!0,scrollBehavior:!1,transitionType:!1,transitionDuration:!1,easingType:!1,scrollDirection:!1,transitionPreserveScroll:!1,connectionType:!1,interactionType:!1,transitionTimeout:!1,interactionMaintained:!1,interactionDuration:!1,overlayPositionType:!1,transitionShouldSmartAnimate:!1,overlayRelativePosition:!1,overlayBackgroundInteraction:!1,overlayBackgroundAppearance:!1,keyTrigger:!1,prototypeInteractions:!1,prototypeStartNodeID:!1,prototypeStartingPoint:!1,videoPlayback:!1,stackMode:!0,stackSpacing:!0,stackCounterSizing:!0,stackPrimarySizing:!0,stackChildPrimaryGrow:!0,stackChildAlignSelf:!0,stackPrimaryAlignItems:!0,stackCounterAlignItems:!0,stackHorizontalPadding:!0,stackVerticalPadding:!0,stackPaddingRight:!0,stackPaddingBottom:!0,stackPositioning:!0,stackReverseZIndex:!0,bordersTakeSpace:!0,stackWrap:!0,stackCounterSpacing:!0,stackCounterAlignContent:!0,minSize:!0,maxSize:!0,maxLines:!0,pluginData:!1,pluginRelaunchData:!1,stackPadding:!1,stackJustify:!1,codeBlockLanguage:!1,pasteSource:!1,fontVariations:!0,detachOpticalSizeFromFontSize:!1,widgetMetadata:!1,widgetPropertyMenuItems:!1,widgetSyncedState:!1,renderedSyncedState:!1,widgetEvents:!1,widgetInputBehavior:!1,widgetCachedAncestor:!1,widgetInputTextNodeType:!1,interactiveSlideConfigData:!1,interactiveSlideParticipantData:!1,flappType:!1,themeID:!1,slideThemeData:!1,slideThemeMap:!1,slideTemplateFileKey:!1,componentPropDefs:!1,componentPropRefs:!1,componentPropAssignments:!1,simplifyInstancePanels:!1,propsAreBubbled:!1,size:!0,guid:!1,phase:!1,opacity:!0,blendMode:!0,count:!0,dashPattern:!0,autoRename:!1,backgroundEnabled:!1,mask:!0,maskType:!0,exportContentsOnly:!1,maskIsOutline:!1,backgroundOpacity:!1,cornerRadius:!1,fontSize:!0,paragraphIndent:!0,paragraphSpacing:!0,listSpacing:!0,starInnerScale:!0,miterLimit:!0,strokeWeight:!0,textTracking:!0,strokeAlign:!0,strokeCap:!0,strokeJoin:!0,textAlignHorizontal:!0,textAlignVertical:!0,textCase:!0,textDecoration:!0,leadingTrim:!0,hangingPunctuation:!1,hangingList:!1,fillPaints:!0,strokePaints:!0,lineHeight:!0,fontName:!0,textData:!0,effects:!0,handleMirroring:!1,exportSettings:!1,textAutoResize:!1,vectorData:!0,styleID:!1,backgroundColor:!1,fillGeometry:!1,strokeGeometry:!1,guidPath:!1,symbolData:!1,frameMaskDisabled:!1,resizeToFit:!0,exportBackgroundDisabled:!1,sharedSymbolReference:!1,isSymbolPublishable:!1,sharedSymbolMappings:!1,derivedSymbolData:!1,sharedSymbolVersion:!1,overrideLevel:!1,nestedInstanceResizeEnabled:!1,fontVariantCommonLigatures:!0,fontVariantContextualLigatures:!0,fontVariantDiscretionaryLigatures:!0,fontVariantHistoricalLigatures:!0,fontVariantOrdinal:!0,fontVariantSlashedZero:!0,fontVariantNumericFigure:!0,fontVariantNumericSpacing:!0,fontVariantNumericFraction:!0,fontVariantCaps:!0,fontVariantPosition:!0,guides:!1,transitionNodeID:!1,prototypeBackgroundColor:!1,internalOnly:!1,overriddenSymbolID:!1,rectangleTopLeftCornerRadius:!0,rectangleTopRightCornerRadius:!0,rectangleBottomLeftCornerRadius:!0,rectangleBottomRightCornerRadius:!0,rectangleCornerRadiiIndependent:!1,rectangleCornerToolIndependent:!1,sharedComponentMasterData:!1,cornerSmoothing:!0,styleType:!1,styleDescription:!1,unflatteningMappings:!1,letterSpacing:!0,version:!1,userFacingVersion:!1,sharedStyleMasterData:!1,sharedStyleReference:!1,sortPosition:!1,isPublishable:!1,exportTextAsSVGText:!1,isSoftDeletedStyle:!1,isSoftDeleted:!1,isNonUpdateable:!1,isOverrideOverTextStyle:!1,connectionURL:!1,prototypeDevice:!1,backgroundPaints:!1,arcData:!1,derivedSymbolDataLayoutVersion:!1,navigationType:!1,fontVersion:!1,textUserLayoutVersion:!1,textExplicitLayoutVersion:!1,textBidiVersion:!1,toggledOnOTFeatures:!1,toggledOffOTFeatures:!1,overrideKey:!1,publishFile:!1,sourceLibraryKey:!1,publishID:!1,key:!1,componentKey:!1,isC2:!1,fileAssetIds:!1,publishedVersion:!1,containerSupportsFillStrokeAndCorners:!1,isStateGroup:!1,voiceEventPhrase:!1,forceUnflatteningMappings:!1,ancestorPathBeforeDeletion:!1,stateGroupPropertyValueOrders:!1,nodeGenerationData:!0,derivedImmutableFrameData:!1,derivedImmutableFrameDataVersion:!1,shapeWithTextType:!0,connectorStart:!1,connectorEnd:!1,connectorLineStyle:!1,connectorStartCap:!1,connectorEndCap:!1,connectorType:!1,shapeUserHeight:!0,overrideStash:!1,internalEnumForTest:!1,internalDataForTest:!1,connectorControlPoints:!1,connectorTextMidpoint:!1,annotations:!1,measurements:!1,libraryMoveInfo:!1,libraryMoveHistory:!1,developerRelatedLinks:!1,stampData:!1,embedData:!0,linkPreviewData:!0,richMediaData:!0,textTruncation:!0,shapeTruncates:!0,sectionContentsHidden:!0,widgetTooltip:!1,borderTopWeight:!0,borderBottomWeight:!0,borderLeftWeight:!0,borderRightWeight:!0,borderStrokeWeightsIndependent:!1,widgetHoverStyle:!1,hasHadRTLText:!1,emojiImageSet:!1,slideThumbnailHash:!1,isWidgetStickable:!1,shouldHideCursorsOnWidgetHover:!1,variableDataValues:!1,variableConsumptionMap:!0,variableModeBySetMap:!1,variableSetModes:!1,variableSetID:!1,backingVariableSetId:!1,rootVariableKey:!1,isCollectionExtendable:!1,variableResolvedType:!1,variableScopes:!1,codeSyntax:!0,agendaPositionMap:!1,agendaMetadataMap:!1,migrationStatus:!1,editInfo:!1,documentColorProfile:!1,accessibleHTMLTag:!1,ariaRole:!1,ariaAttributes:!1,accessibleLabel:!1,tableRowPositions:!1,tableColumnPositions:!1,tableRowHeights:!1,tableColumnWidths:!1,areSlidesManuallyIndented:!1,detachedSymbolId:!1,sevMoonlitLilyData:!1,childReadingDirection:!1,readingIndex:!1,sectionStatusInfo:!1,handoffStatusMap:!1,slideActiveThemeLibKey:!1,slideSpeakerNotes:!1,diagramLayoutRuleType:!1,diagramParentIndex:!1,diagramLayoutPaused:!1,editScopeInfo:!1,sectionPresetInfo:!1,semanticWeight:!1,semanticItalic:!1,isPageDivider:!1,moduleType:!1,pageType:!1,isResponsiveSet:!1,defaultResponsiveSetId:!0,responsiveSetSettings:!1,behaviors:!1};Object.keys(u).filter(e=>u[e]);var p=((o=p||{})[o.LEGO=0]="LEGO",o[o.BRANCHING=1]="BRANCHING",o[o.COMPARE_CHANGES=2]="COMPARE_CHANGES",o[o.TEST_SUITE=3]="TEST_SUITE",o);function h(e){return e.toLowerCase().replace("_"," ")}function m(e,r,n){return{treatmentType:"RENDER_SINGLE_PROPERTY",renderName:e,renderOldValue:"string"==typeof r?()=>h(r):r,renderNewValue:"string"==typeof n?()=>h(n):n}}function g(e,r,n){return{identifier:(0,s.g)(),treatmentType:"RENDER_MULTI_NODE",renderName:e,renderOldValue:"string"==typeof r?()=>r:r,renderNewValue:"string"==typeof n?()=>n:n}}function f(e,r,n){return{identifier:(0,s.g)(),treatmentType:"RENDER_MULTI_PROPERTY",renderName:e,renderOldValue:"string"==typeof r?()=>r:r,renderNewValue:"string"==typeof n?()=>n:n}}function _(e,r,n){return{treatmentType:"RENDER_DISPLAY_NODE_SINGLE_PROPERTY",renderName:e,renderOldValue:"string"==typeof r?()=>r:r,renderNewValue:"string"==typeof n?()=>n:n}}},38275:(e,r,n)=>{"use strict";n.d(r,{R:()=>s});var i=n(49446),a=n.n(i),o=n(72206);class s{constructor(e,r,n){this.leftIdx=0,this.rightIdx=0,this.topIdx=0,this.bottomIdx=0,this.leftToRight=[],this.topToBottom=[],this.bufferedRect=(0,o.UI)(r,n),e.length>0&&this.bulkAddValues(e)}updateWindow(e,r){let n=this.bufferedRect,i=this.leftIdx,a=this.rightIdx,s=this.topIdx,l=this.bottomIdx;this.bufferedRect=(0,o.UI)(e,r);let d=this.updateDirectionalIndexes(this.leftToRight,this.topToBottom,this.leftIdx,this.rightIdx,this.topIdx,this.bottomIdx,this.bufferedRect);this.leftIdx=d.leftIdx,this.rightIdx=d.rightIdx,this.topIdx=d.topIdx,this.bottomIdx=d.bottomIdx,this.assertIndexes(this.bufferedRect);let c=new Set,u=new Set;return i>this.leftIdx?this.leftToRight.slice(this.leftIdx,i).forEach(e=>c.add(e)):i<this.leftIdx&&this.leftToRight.slice(i,this.leftIdx).forEach(e=>u.add(e)),a>this.rightIdx?this.leftToRight.slice(this.rightIdx,a).forEach(e=>u.add(e)):a<this.rightIdx&&this.leftToRight.slice(a,this.rightIdx).forEach(e=>c.add(e)),s>this.topIdx?this.topToBottom.slice(this.topIdx,s).forEach(e=>c.add(e)):s<this.topIdx&&this.topToBottom.slice(s,this.topIdx).forEach(e=>u.add(e)),l>this.bottomIdx?this.topToBottom.slice(this.bottomIdx,l).forEach(e=>u.add(e)):l<this.bottomIdx&&this.topToBottom.slice(l,this.bottomIdx).forEach(e=>c.add(e)),{additions:[...c.values()].filter(e=>this.withinRect(e,this.bufferedRect)),removals:[...u.values()].filter(e=>this.withinRect(e,n))}}numValues(){return this.leftToRight.length}isValueInWindow(e){return this.withinRect(e,this.bufferedRect)}allValuesInWindow(){return this.leftToRight.slice(this.leftIdx,this.rightIdx).filter(e=>this.withinYDimensions(e,this.bufferedRect))}bulkAddValues(e){this.leftToRight=this.leftToRight.concat(e).sort((e,r)=>e.x-r.x),this.topToBottom=this.topToBottom.concat(e).sort((e,r)=>e.y-r.y);let r=this.leftToRight.length,n=this.updateDirectionalIndexes(this.leftToRight,this.topToBottom,0,r,0,r,this.bufferedRect);this.leftIdx=n.leftIdx,this.rightIdx=n.rightIdx,this.topIdx=n.topIdx,this.bottomIdx=n.bottomIdx,this.assertIndexes(this.bufferedRect)}addValue(e){let r=this.leftToRight.findIndex(r=>r.x>e.x);-1===r&&(r=this.leftToRight.length),this.leftToRight.splice(r,0,e);let n=this.topToBottom.findIndex(r=>r.y>e.y);-1===n&&(n=this.topToBottom.length),this.topToBottom.splice(n,0,e);let i=this.updateDirectionalIndexes(this.leftToRight,this.topToBottom,this.leftIdx,this.rightIdx,this.topIdx,this.bottomIdx,this.bufferedRect);return this.leftIdx=i.leftIdx,this.rightIdx=i.rightIdx,this.topIdx=i.topIdx,this.bottomIdx=i.bottomIdx,this.assertIndexes(this.bufferedRect),this.isValueInWindow(e)}removeValue(e){let r=this.leftToRight.findIndex(r=>r.id===e.id);this.windowAssert(r>=0),this.leftToRight.splice(r,1);let n=this.topToBottom.findIndex(r=>r.id===e.id);this.windowAssert(n>=0),this.topToBottom.splice(n,1);let i=this.leftToRight.length;this.leftIdx=Math.min(this.leftIdx,i),this.rightIdx=Math.min(this.rightIdx,i),this.topIdx=Math.min(this.topIdx,i),this.bottomIdx=Math.min(this.bottomIdx,i);let a=this.updateDirectionalIndexes(this.leftToRight,this.topToBottom,this.leftIdx,this.rightIdx,this.topIdx,this.bottomIdx,this.bufferedRect);this.leftIdx=a.leftIdx,this.rightIdx=a.rightIdx,this.topIdx=a.topIdx,this.bottomIdx=a.bottomIdx,this.assertIndexes(this.bufferedRect)}updateDirectionalIndexes(e,r,n,i,o,s,l){let d=e.length,c=e.slice(n).findIndex(e=>!this.offTheLeft(e,l));n=-1===c?d:n+c,n=a()(e.slice(0,n),e=>this.offTheLeft(e,l))+1;let u=e.slice(i).findIndex(e=>this.offTheRight(e,l));i=-1===u?d:i+u,i=a()(e.slice(0,i),e=>!this.offTheRight(e,l))+1;let p=r.slice(o).findIndex(e=>!this.offTheTop(e,l));o=-1===p?d:o+p,o=a()(r.slice(0,o),e=>this.offTheTop(e,l))+1;let h=r.slice(s).findIndex(e=>this.offTheBottom(e,l));return s=-1===h?d:s+h,s=a()(r.slice(0,s),e=>!this.offTheBottom(e,l))+1,{leftIdx:n,rightIdx:i,topIdx:o,bottomIdx:s}}offTheLeft(e,r){return e.x<r.x}offTheRight(e,r){return e.x>r.x+r.width}offTheTop(e,r){return e.y<r.y}offTheBottom(e,r){return e.y>r.y+r.height}withinXDimensions(e,r){return!this.offTheLeft(e,r)&&!this.offTheRight(e,r)}withinYDimensions(e,r){return!this.offTheTop(e,r)&&!this.offTheBottom(e,r)}withinRect(e,r){return this.withinXDimensions(e,r)&&this.withinYDimensions(e,r)}windowAssert(e){if(!e)throw Error(`The comment 2D sliding window has gotten into an invalid state: ${JSON.stringify(this)}`)}assertIndexes(e){let r=this.leftToRight.length;this.windowAssert(0===this.leftIdx||this.leftToRight[this.leftIdx-1].x<e.x),this.windowAssert(this.leftIdx===r||this.leftToRight[this.leftIdx].x>=e.x),this.windowAssert(0===this.rightIdx||this.leftToRight[this.rightIdx-1].x<=e.x+e.width),this.windowAssert(this.rightIdx===r||this.leftToRight[this.rightIdx].x>e.x+e.width),this.windowAssert(0===this.topIdx||this.topToBottom[this.topIdx-1].y<e.y),this.windowAssert(this.topIdx===r||this.topToBottom[this.topIdx].y>=e.y),this.windowAssert(0===this.bottomIdx||this.topToBottom[this.bottomIdx-1].y<=e.y+e.height),this.windowAssert(this.bottomIdx===r||this.topToBottom[this.bottomIdx].y>e.y+e.height)}}},21355:(e,r,n)=>{"use strict";n.d(r,{G:()=>a,b:()=>o});var i=n(30678);function a(e,r,n){return e&&(0,i.x)()?new Promise((i,a)=>{let o=!1,s=()=>{o||(o=!0,setTimeout(()=>{i()},n.endDelay||0))},l=e.animate(r,n),d=n.stops,c=()=>{var e;let r=(e=l.currentTime,"undefined"==typeof CSSNumericValue?e:e instanceof CSSNumericValue?"value"in e&&"number"==typeof e.value?e.value:null:e);if(null!==r){if(r>=n.duration*(n.resolveAt||1)){s();return}d&&d.length>0&&r/n.duration>d[0].at&&(d[0].then(),d.pop()),requestAnimationFrame(c)}};c(),l.onfinish=()=>{s()},l.oncancel=()=>{s()}}):Promise.resolve()}function o(e,r){if(!e){r();return}let n=!1,i=()=>{n||(n=!0,r())};e.then(i).catch(i)}},61362:(e,r,n)=>{"use strict";n.d(r,{M:()=>d,V:()=>u});var i=n(80332),a=n(27433),o=n(32007);function s(e){let r=document.createElement("template");return r.innerHTML=e,r}let l=class extends HTMLElement{constructor(){super(...arguments),this._lastClassName=void 0}static createAvatarElement(e,r,n){let i=r||document.createElement("figma-avatar");return i.initial=e.initial,i.id=e.user_id,i.src=e.url||"",(null==n?void 0:n.isInCluster)&&i.classList.add(o.K_),i}createErrorAvatar(){let e=document.createElement("div");return e.classList.add(o.my),e}get avatarImg(){return this.getElementsByTagName("img")[0]}get fallbackSpan(){return this.getElementsByTagName("span")[0]}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}set initial(e){e?this.setAttribute("initial",e):this.removeAttribute("initial")}set className(e){e?this.setAttribute("className",e):this.removeAttribute("className")}connectedCallback(){this.classList.add(o.H);let e=l.template.content.cloneNode(!0);this.append(e),l.observedAttributes.forEach(e=>{this.attributeChangedCallback(e,"",this.getAttribute(e)||"")})}static get observedAttributes(){return["src","initial","id","className"]}attributeChangedCallback(e,r,n){if(r===n||!this.isConnected)return;let a={src:this.getAttribute("src"),initial:this.getAttribute("initial"),user_id:this.getAttribute("id")||void 0,className:this.getAttribute("className")||void 0,[e]:n},o=this.avatarImg,s=this.fallbackSpan;if(a.src)s.style.display="none",o.style.display="flex",o.src=a.src,o.onerror=()=>this.replaceChild(this.createErrorAvatar(),this.avatarImg);else{s.innerText=a.initial||"?",s.style.display="flex";let e=a.backgroundColor||(0,i.$L)(a.user_id,i.us);s.style.backgroundColor=e,s.style.color=(0,i.Xx)(e),o.style.display="none",o.src=""}a.className!==this._lastClassName&&(this._lastClassName&&(o.classList.remove(this._lastClassName),s.classList.remove(this._lastClassName)),a.className&&(o.classList.add(a.className),s.classList.add(a.className)),this._lastClassName=a.className)}},d=l;d.desiredElementName="figma-avatar",d.styles=o.Nz,d.template=s(`
    <span class="${o.e7} ${a.Pp}" style="display: none;"></span>
    <img
      class="${o.my} ${a.Pp}"
      style="display: none;"
      draggable=false
    ></img>
    `);let c=class extends HTMLElement{constructor(){super(...arguments),this.lastAvatars=[]}connectedCallback(){this.classList.add(o.dQ);let e=c.template.content.cloneNode(!0);this.append(e),this.renderAvatars(this.lastAvatars)}get avatarsPrimaryContainer(){return this.getElementsByClassName(o.q_)[0]}get avatarsSecondaryContainer(){return this.getElementsByClassName(o.Ws)[0]}get avatarsOverflowContainer(){return this.getElementsByClassName(o.OF)[0]}get overflowAvatar(){var e;return null==(e=this.avatarsOverflowContainer)?void 0:e.getElementsByTagName("figma-avatar")[0]}get overflowCount(){var e;return null==(e=this.avatarsOverflowContainer)?void 0:e.getElementsByClassName(o.c_)[0]}get clamp(){let e=this.getAttribute("clamp");if(e)return parseInt(e)||void 0}set clamp(e){e?this.setAttribute("clamp",`${e}`):this.removeAttribute("clamp")}static get observedAttributes(){return["clamp"]}attributeChangedCallback(e,r,n){this.isConnected&&r!==n&&this.renderAvatars(this.lastAvatars)}get avatarElements(){return Array.from(this.getElementsByTagName("figma-avatar")).map(e=>e).reduce((e,r)=>(e[r.id]=r,e),{})}render(e,r,n){let i=r.map(e=>d.createAvatarElement(e,n[e.user_id])),a=new Set(r.map(e=>e.user_id)),o=e.children;Array.from(o).forEach(r=>{a.has(r.id)||e.removeChild(r)}),i.reverse().forEach((r,n)=>{let i=o[n];(null==i?void 0:i.id)!==r.id&&(i?e.insertBefore(r,i):e.appendChild(r))}),i.length>0?e.style.display="flex":e.style.display="none"}renderAvatars(e){if(!this.isConnected||!this.avatarsPrimaryContainer||!this.avatarsSecondaryContainer||!this.avatarsOverflowContainer)return;let r=new Set,n=e.filter(e=>{let n=r.has(e.user_id);return r.add(e.user_id),!n}),i=this.clamp||n.length+1,a=this.avatarElements,s=n.slice(0,i);this.render(this.avatarsPrimaryContainer,s,a);let l=i?n[i]:void 0,c=this.overflowAvatar;if(l&&!c){this.avatarsOverflowContainer.style.display="flex";let e=d.createAvatarElement(l,a[l.user_id]);e.initial=l.initial,e.id=l.user_id,e.src=l.url||"",e.classList.add(o.mp),this.avatarsOverflowContainer.prepend(e)}else l&&c?(c.initial=l.initial,c.id=l.user_id,c.src=l.url||""):(c&&this.avatarsOverflowContainer.removeChild(c),this.avatarsOverflowContainer.style.display="none");let u=i?n.slice(i+1):[];this.render(this.avatarsSecondaryContainer,u.slice(0,2),a);let p=this.overflowCount;if(u.length>0){let e=`${u.length+1}`;p.style.visibility="visible",this.avatarsOverflowContainer.style.setProperty("--overflowCount",`${e}`)}else p.style.visibility="hidden",this.avatarsOverflowContainer.style.removeProperty("--overflowCount")}set avatars(e){this.renderAvatars(e),this.lastAvatars=e}},u=c;u.desiredElementName="figma-avatars",u.style=o.Nz,u.template=s(`
    <div class="${o.u_}">
      <div class="${o.Ws}">
      </div>
      <div class="${o.OF}">
        <span class="${o.c_}"></span>
      </div>
      <div class="${o.q_}">
      </div>
    <div>
    `),"customElements"in window&&!customElements.get(d.desiredElementName)&&(customElements.define(u.desiredElementName,u),customElements.define(d.desiredElementName,d))},51101:(e,r,n)=>{"use strict";n.d(r,{FZ:()=>i});let i=180},91190:(e,r,n)=>{"use strict";n.d(r,{i:()=>p});var i=n(72206),a=n(57630),o=n(21355),s=n(2134),l=n(17911),d=n(27433),c=n(32007);let u=class extends HTMLElement{onRemove(){}set unread(e){e?this.setAttribute("unread","true"):this.removeAttribute("unread")}set dimmed(e){e?this.setAttribute("dimmed","true"):this.removeAttribute("dimmed")}set emphasized(e){e?this.setAttribute("emphasized","true"):this.removeAttribute("emphasized")}get clusterCountElement(){return this.getElementsByClassName(d.A3)[0]}set threadCount(e){this.setAttribute("thread-count",`${e}`)}static get observedAttributes(){return["unread","dimmed","emphasized","thread-count"]}setClassOn(e,r,n,i){r===e&&(n?this.classList.add(i):this.classList.remove(i))}attributeChangedCallback(e,r,n){if(this.isConnected&&(this.setClassOn("unread",e,n,d.gy),this.setClassOn("dimmed",e,n,d.rX),this.setClassOn("emphasized",e,n,d.hO),"thread-count"===e)){let e=this.clusterCountElement;e&&(e.setAttribute("display-thread-count",n||"0"),this.updateClusterThreadCount())}}connectedCallback(){this.classList.add(d.Di);let e=u.template.content.cloneNode(!0);this.append(e),u.observedAttributes.forEach(e=>{this.attributeChangedCallback(e,null,this.getAttribute(e)||null)}),requestAnimationFrame(()=>this.render())}animateDirectionally(e,r,n){if(!e)return Promise.resolve();let a={x:this.clientWidth/2,y:this.clientHeight/2},s=i.Mi.subtract(e,a),l=`translate3d(${s.x}px, ${s.y}px, 0px) scale(0.2)`;return(0,o.G)(this,[{offset:r,transform:l}],{duration:200}).then(()=>{n&&n()})}animateAggregationChange(e){let{position:r}=e;return"join"===e.type?this.animateDirectionally(r,1):(this.animateDirectionally(r,0),this.updateClusterThreadCount()),Promise.resolve()}updateClusterThreadCount(){let e=this.clusterCountElement;e&&(e.style.transition="none",e.style.opacity="1")}render(){this.isConnected&&this.updateClusterThreadCount()}positionClusterElement(e,r){let n=r.zoomScale,i=(n-1)*e.x-8,a=(n-1)*e.y-8;this.style.setProperty("transform",`translate3d(${e.x+i}px, ${e.y+a}px, 0px) scale(var(--scale))`)}static getClusterViewportRect(e,r){if(1===e.threads.length){let n=e.threads[0],i=(0,a.Qt)(n.canvasPosition.x,0,r.zoomScale,1)-r.offsetX*r.zoomScale+r.width/2,o=(0,a.Qt)(n.canvasPosition.y,0,r.zoomScale,1)-r.offsetY*r.zoomScale+r.height/2,d=(0,l.c4)(n.comments),c=s.XC.getPinSize(d.length);return{x:i,y:o-c.height,...c}}return{x:(0,a.Qt)(e.x,0,r.zoomScale,1)-r.offsetX*r.zoomScale+r.width/2-8,y:(0,a.Qt)(e.y,0,r.zoomScale,1)-r.offsetY*r.zoomScale+r.height/2-8,height:16,width:16}}},p=u;p.desiredElementName="figma-corner-cluster",p.template=function(e){let r=document.createElement("template");return r.innerHTML=e,r}(`
    <div class="${(d.IS,d.gq)}" data-testid="avatar-cluster">
        <div class="${d.A3}" data-threadCount="0" />
    </div>
    `),p.styles=[c.Nz,d.Nz],"customElements"in window&&!customElements.get(p.desiredElementName)&&customElements.define(p.desiredElementName,p)},48879:(e,r,n)=>{"use strict";n.d(r,{y:()=>i}),n(11855),n(88507),n(26055),n(17453),n(60168);let i={showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,clusterBy:"page",orphanedBy:"deleted_pages"}},46456:(e,r,n)=>{"use strict";n.d(r,{C:()=>A,a:()=>N});var i=n(17333),a=n(38329),o=n(98977),s=n(66712),l=n(74626),d=n(63706),c=n(79940),u=n(96328),p=n(87918),h=n(39863),m=n(96559),g=n(54823),f=n(57766),_=n(52800),y=n(60707),E=n(21487),b=n(41437),v=n(92542),S=n(45173),I=n(42617),T=n(39671),w=n(8902),C=n(35938);function A(e){return"fullscreen"===e.view&&e.editorType===T.nT.Whiteboard}class N{pathToSelectedView(e,r,n,i){var o;let l=n?(0,c.v6)(n):{};i=i?i.slice(1):"";let u=r[1];if("file"===u||"design"===u||"board"===u||"slides"===u){let n="design";if("file"===u&&l.type)n=l.type;else if("file"!==u)switch(u){case"design":n="design";break;case"board":n="whiteboard";break;case"slides":n="slides"}let c={view:"fullscreen",editorType:(0,T.wN)(n)};if("branch"===r[3]&&r[4]?c.fileKey=r[4]:"new"!==r[2]&&(c.fileKey=r[2]),i&&("commentPreferences"===i?c.showCommentPreferencesPicker=!0:c.commentThreadId=i),"code"===l["properties-panel-tab"]&&(c.showInspectPanel=!0),l["node-id"]&&(c.nodeId=l["node-id"]),l["state-group-id"]&&(c.fallbackStateGroupId=l["state-group-id"]),l["version-id"]&&(c.versionId=l["version-id"]),l["compare-version-id"]&&!l["version-id"]&&(c.compareVersionId=l["compare-version-id"]),l["compare-latest"]&&(c.compareLatest=!0),(0,s.kc)().dt_dev_mode_workflows&&"1"===l.overview&&(c.showOverview=!0),l.site&&(c.site=!!l.site),l["frame-preset-name"]&&(c.framePresetName=l["frame-preset-name"]),l["merge-branch-key"]&&l["merge-source-key"]&&l["merge-direction"]&&(c.mergeParams={branchKey:l["merge-branch-key"],sourceKey:l["merge-source-key"],direction:l["merge-direction"]},l["merge-back-key"]&&(c.mergeParams.backFileKey=l["merge-back-key"]),l["checkpoint-diff-url"]&&(c.mergeParams.mergeOnFileOpen=!0,c.mergeParams.checkpointDiffURL=l["checkpoint-diff-url"]),l["merge-to-checkpoint-key"]&&(c.mergeParams.toCheckpointKey=l["merge-to-checkpoint-key"]),l["merge-from-checkpoint-key"]&&(c.mergeParams.fromCheckpointKey=l["merge-from-checkpoint-key"])),l["review-number"]){let e=parseInt(l["review-number"]);isNaN(e)||(c.reviewNumber=e)}if(l["open-review"]&&(c.openReview=!0),l.new&&(c.preloaded=!0),l.viewport){let e=l.viewport.split(",");3!==e.length||isNaN(+e[0])||isNaN(+e[1])||isNaN(+e[2])||(c.viewport=l.viewport)}if(("duplicate"===r[4]||l.duplicate)&&(c.landingState="DUPLICATE"),l["try-plugin-id"]&&(c.tryPluginId=l["try-plugin-id"]),l["try-plugin-version-id"]&&(c.tryPluginVersionId=l["try-plugin-version-id"]),l["try-plugin-name"]&&(c.tryPluginName=l["try-plugin-name"]),l["try-plugin-editor-type"]&&(c.tryPluginEditorType=l["try-plugin-editor-type"]),l["try-plugin-params"]&&(c.tryPluginParams=(0,S.Ex)(l)),"1"===l["is-widget"]&&(c.isWidget=!0),"1"===l["is-playground-file"]&&(c.isPlaygroundFile=!0),l["try-plugin-file-key"]&&(c.tryPluginFileKey=l["try-plugin-file-key"]),"1"===l["comments-enabled"]&&(c.commentsEnabled=!0),l.source&&(c.trackingInfo={source:l.source}),"1"===l["main-component"]&&(c.mainComponentLink=!0),l.teamToMoveFileToOnNavigate&&(c.teamToMoveFileToOnNavigate=l.teamToMoveFileToOnNavigate),"1"===l["is-freemium-preview"]&&(c.isFreemiumPreview=!0),("design"===u||"design"===l.mode||"view"===l.mode)&&(c.mode="design"),"auto"===l.m&&(c.mode=void 0),l.recovery&&"design"===n&&d.Ay.isWasm4gbSupported&&e.mirror.appModel.topLevelMode===_.lyf.LAYOUT&&((null==(o=_.hMR)?void 0:o.getTotalUsedHeapMemory())>2*y.cF||"true"===l.recovery?(c.isRecoveryMode=!0,console.log("Entering Recovery Mode")):c.isRecoveryMode=!1),(0,s.kc)().xr_debounce_threshold&&"1"===l["post-to-feed"]&&(c.postingToFeed=!0),(0,s.kc)().ps_benchmark){if(l["prev-plan-id"]&&l["prev-plan-type"]){let e="org"===l["prev-plan-type"]?w.O.ORG:w.O.TEAM;a.D.dispatch(m.c5({planId:l["prev-plan-id"],planType:e}))}}else l["prev-org-id"]&&a.D.dispatch(m.p4({planId:l["prev-org-id"]}));if(l["prev-selected-view"]){if("recentsAndSharing"===l["prev-selected-view"]){let e=l["prev-tab"]||C.G.RECENTLY_VIEWED;c.prevSelectedView={view:"recentsAndSharing",tab:e}}else"folder"===l["prev-selected-view"]&&l["prev-folder-id"]&&(c.prevSelectedView={view:"folder",folderId:l["prev-folder-id"]})}if(l.workshop_id&&l.workshop_username&&l.workshop_username.trim().length>0){let e=l.workshop_id,r=l.workshop_username;c.workshopUserNames={},c.workshopUserNames[e]=r,(0,I.Vv)(e,r)}return l.claim&&(c.claim=l.claim),c}if("jam"===r[1]){let e={view:"fullscreen",editorType:T.nT.Whiteboard};return l["try-plugin-id"]&&(e.tryPluginId=l["try-plugin-id"]),l["try-plugin-version-id"]&&(e.tryPluginVersionId=l["try-plugin-version-id"]),l["try-plugin-name"]&&(e.tryPluginName=l["try-plugin-name"]),"1"===l["is-widget"]&&(e.isWidget=!0),"1"===l["is-playground-file"]&&(e.isPlaygroundFile=!0),(0,s.kc)().xr_debounce_threshold&&"1"===l["post-to-feed"]&&(e.postingToFeed=!0),e}if("test"===r[1]&&"interactions"===r[2]){let e=n?(0,c.qg)(n):{},r={view:"fullscreen",fileKey:b.Zt,editorType:T.nT.Design};return e["node-id"]&&(r.nodeId=e["node-id"]),r}return null}requireHistoryChange(e,r){return"fullscreen"===e.view!=("fullscreen"===r.view)||"fullscreen"===e.view&&"fullscreen"===r.view&&e.fileKey!==r.fileKey}DEPRECATED_getDefaultResources(e){let{fileByKey:r,repos:n}=a.D.getState(),i=e.fileKey&&r?r[e.fileKey]:void 0;return{file:i,repo:i?(0,f.L8)(i,n):void 0}}selectedViewToPath(e,r){var n,a,d,h;if("fullscreen"===e.view){let m;if(e.fileKey===b.Zt)return`/test/interactions${o.Ay.location.search}`;let _=this.selectedViewName(e,r),y=_?(0,u.sy)(_):"",S={},I=!!(0,s.kc)().dt_url_improvements,w=e.fileKey||"new",C="file";if(I)switch(e.editorType){case T.nT.Whiteboard:C="board";break;case T.nT.Slides:C="slides";break;default:C="design"}let{file:A,repo:N}=r.resources||this.DEPRECATED_getDefaultResources(e);A?m=(0,f.gN)(A,N||null,C):(m=`/${C}/${w}`,null==e.fileKey||(y?m+=`/${y}`:m+="/Untitled")),e.landingState&&"DUPLICATE"===e.landingState&&(m+="/duplicate"),I||(S.type=(0,T.oD)(e.editorType)),I||(S.type=(0,T.oD)(e.editorType)),"design"===C&&"auto"===e.mode&&(S.m="auto"),e.versionId&&(S["version-id"]=e.versionId),e.compareVersionId&&(S["compare-version-id"]=e.compareVersionId),e.compareLatest&&(S["compare-latest"]="1"),e.showOverview&&(S.overview="1"),e.newFile&&(S.new="1"),e.nodeId&&p.fn(p.sH(e.nodeId))&&(S["node-id"]=(0,E.E)(e.nodeId)),e.site&&(S.site="1"),I||e.editorType===T.nT.Whiteboard||(S.mode="design"),e.isRecoveryMode&&(S.recovery=e.isRecoveryMode),e.viewport&&(S.viewport=e.viewport),e.framePresetName&&(S["frame-preset-name"]=e.framePresetName),e.reviewNumber&&(S["review-number"]=e.reviewNumber),e.mergeParams&&(S["merge-branch-key"]=e.mergeParams.branchKey,S["merge-source-key"]=e.mergeParams.sourceKey,S["merge-direction"]=e.mergeParams.direction,e.mergeParams.toCheckpointKey&&(S["merge-to-checkpoint-key"]=e.mergeParams.toCheckpointKey),e.mergeParams.fromCheckpointKey&&(S["merge-from-checkpoint-key"]=e.mergeParams.fromCheckpointKey),e.mergeParams.backFileKey&&(S["merge-back-key"]=e.mergeParams.backFileKey),e.mergeParams.mergeOnFileOpen&&(S["merge-on-file-open"]=e.mergeParams.mergeOnFileOpen),e.mergeParams.checkpointDiffURL&&(S["checkpoint-diff-url"]=e.mergeParams.checkpointDiffURL),e.mergeParams.defaultSavepointParams&&(S["savepoint-label"]=e.mergeParams.defaultSavepointParams.label,S["savepoint-description"]=e.mergeParams.defaultSavepointParams.description)),e.teamToMoveFileToOnNavigate&&(S.teamToMoveFileToOnNavigate=e.teamToMoveFileToOnNavigate);let O=(0,v.b)(r.sharingAttributionContextKey,v.d.BROWSER_ADDRESS_BAR);if(O&&(S.t=O),i.eD){let e=l.zl.get(g.h);null!=e&&(S.localFileKey=e)}return Object.keys(S).length>0&&(m+=`?${(0,c.lF)(S)}`),e.commentThreadId&&(m+=`#${e.commentThreadId}`),(null==(a=null==(n=window.EARLY_ARGS)?void 0:n.multiplayer_preconnect_options)?void 0:a.forceIncrementalForEditors)!==void 0&&(m+=`&force-incremental=${null==(h=null==(d=window.EARLY_ARGS)?void 0:d.multiplayer_preconnect_options)?void 0:h.forceIncrementalForEditors}`),m}return null}selectedViewNameHelper(e,r,n){let i=n?`${n} \u2013 `:"";return`${i}${r?(0,f.At)(e,r):e.name}`}selectedViewName(e,r){if("fullscreen"===e.view){let n=null;if(e.fileKey){let{file:i,repo:a}=r.resources||this.DEPRECATED_getDefaultResources(e);i&&(n=this.selectedViewNameHelper(i,a||null))}return e.tryPluginName&&!e.tryPluginFileKey&&(n=e.tryPluginName),n??(0,h.t)("fullscreen.fullscreen_view_selector.untitled")}return null}selectedViewHasMissingResources(e,r){return"fullscreen"===r.view&&!!r.fileKey&&!(r.fileKey in e.fileByKey)}}},44171:(e,r,n)=>{"use strict";let i;n.d(r,{WD:()=>l}),n(11855),n(88507),n(94272),n(66712),n(29680),n(55880);var a=((i=a||{}).NOT_RECENT="NOT_RECENT",i.RECENTLY_EDITED="RECENTLY_EDITED",i.RECENTLY_CREATED="RECENTLY_CREATED",i);n(99737),n(76621),n(5984),n(4783),n(79265),n(56676),n(92766),n(39863);var o=n(70516);n(52800),n(35682),n(11978),n(99506),n(79453),n(91205),n(94517);var s=n(876);function l(e,r){let n=null==e?void 0:e.toString();n&&r(o.lW({stringToCopy:n}))}n(36894),n(46935),s.mg.COMPARE_THUMBNAIL},22358:(e,r,n)=>{"use strict";n.d(r,{F2:()=>p,NB:()=>u,vL:()=>c});var i=n(11855),a=n(23398),o=n(78312);let s=Object.create(null),l=1,d=()=>`${l++}`;class c extends i.PureComponent{constructor(e){super(e),this.el=null,this.ref=e=>{e&&(this.el=e)},this.focus=()=>{p.setFocusedReceiver(this),this.focusDidChange(),this.unmounting&&this.blur()},this.blur=()=>{if(p.isParentOfFocusedReceiver(this)){let e=this.getParentReceiver();e?e.focus():p.setFocusedReceiver(null),this.focusDidChange()}},this.hasFocus=()=>p.receiverIsReceivingKeyboardEvents(this),this.focusDidChange=()=>{if(!this.unmounting){if(this.props.propagateKeyboardFocus){let e=this.getParentReceiver();e&&e.focusDidChange()}else this.props.forceUpdate&&this.props.forceUpdate()}},this.getParentReceiver=()=>{if(!this.el)return null;let e=this.el.parentElement;for(;e;){let r=e.getAttribute("data-keyboard-receiver");if(null!=r)return s[r];e=e.parentElement}return null},this.blurSubtreeIfHidden=e=>{if(!p.isFocusedReceiver(this))return;let r=[],n=!1,i=this.el;for(;i;){let a=i.getAttribute("data-keyboard-receiver");if(null!=a&&r.push(a),i===e){n=!0;break}i=i.parentElement}if(n)for(;r.length;)s[r.pop()].onHideOrUnmount()},this.handleKeyboardEvent=e=>{if(this.props.handleKeyDown&&"keydown"===e.event.type&&this.props.handleKeyDown(e),e.shouldPropagate){let r=this.getParentReceiver();r&&r.handleKeyboardEvent(e)}},this.handleClipboardEvent=(e,r)=>{if(this.props.handleClipboard&&this.props.handleClipboard(e,r),e.shouldPropagate){let n=this.getParentReceiver();n&&n.handleClipboardEvent(e,r)}},this.id=d(),s[this.id]=this,e.focusFunctionRef&&(e.focusFunctionRef.current=this.focus),e.blurFunctionRef&&(e.blurFunctionRef.current=this.blur),this.onShowOrMount()}componentWillUnmount(){this.onHideOrUnmount(),delete s[this.id]}onHideOrUnmount(){this.unmounting=!0,this.blur()}onShowOrMount(){this.unmounting=!1,this.props.focusOnMount&&this.focus()}render(){return i.createElement("div",{role:"none",ref:this.ref,"data-keyboard-receiver":this.id,onMouseDown:this.props.onMouseDown,onMouseLeave:this.props.onMouseLeave,style:this.props.style,className:this.props.className,"data-non-interactive":!0},this.props.children)}}function u(e){for(;e;){if("none"===e.style.display)return!0;e=e.parentElement}return!1}c.displayName="KeyboardReceiver";let p=new class{constructor(){this.focusedReceiver=null,this.customFocusElement=null,this.hasFocus=!0,this.setCustomFocusElement=e=>{this.customFocusElement=e,this.customFocusElement.addFocusChangedCallback(this.focusChanged)},this.focusChanged=e=>{this.hasFocus=e,this.focusedReceiver&&this.focusedReceiver.focusDidChange()},this.setFocusedReceiver=e=>{let r=this.focusedReceiver;this.focusedReceiver=e,r&&r.focusDidChange()},this.shouldInterceptKeyboardEvent=e=>{if(!(this.customFocusElement&&this.customFocusElement.isFocusElement(e.target))&&e.target!==document.body&&!(0,o.t)(e.target)){let r=e.target;for(;r;){if("fullscreen-root"===r.id||"curator-portal-target"===r.id)return!1;r=r.parentElement}return!0}let r=new a.p(e);return this.dispatchKeyboardEvent(r),!r.shouldPropagate},this.shouldInterceptClipboardEvent=(e,r)=>{if(this.customFocusElement&&this.customFocusElement.isFocusElement(e.target)||e.target===document.body){e.preventDefault();let n=new a.p(e);return this.dispatchClipboardEvent(n,r),!n.shouldPropagate}return!1},this.dispatchKeyboardEvent=e=>{if(this.focusedReceiver&&u(this.focusedReceiver.el)){console.warn("Detected a hidden focused receiver, ignoring keyboard event");return}this.focusedReceiver&&this.focusedReceiver.handleKeyboardEvent(e)},this.dispatchClipboardEvent=(e,r)=>{this.focusedReceiver&&this.focusedReceiver.handleClipboardEvent(e,r)},this.receiverIsReceivingKeyboardEvents=e=>{if(!this.hasFocus)return!1;if(this.focusedReceiver===e)return!0;let r=this.focusedReceiver;for(;r&&r.props.propagateKeyboardFocus;){let n=r.getParentReceiver();if(n===e)return!0;r=n}return!1},this.isFocusedReceiver=e=>this.focusedReceiver===e,this.isParentOfFocusedReceiver=e=>{let r=this.focusedReceiver;for(;r;){if(r===e)return!0;r=r.getParentReceiver()}},this.focusSubtreeIfNecessary=e=>{let r=[e],n=0;for(;n<r.length;){let e=r[n],i=e.getAttribute("data-keyboard-receiver");if(i&&s[i].onShowOrMount(),e.children)for(let n=0;n<e.children.length;n++)r.push(e.children[n]);n++}},this.blurSubtreeIfNecessary=e=>{this.focusedReceiver&&this.focusedReceiver.blurSubtreeIfHidden(e)},this.focusedReceiverName=()=>{if(this.focusedReceiver)return this.focusedReceiver.props.name}}focusIfUnfocused(){let e=document.activeElement;!(!document.hasFocus()||!this.customFocusElement||this.customFocusElement.isFocusElement(e))&&(e&&e!==document.body||this.customFocusElement.focus())}}},20722:(e,r,n)=>{"use strict";n.d(r,{J:()=>a});var i=n(11855);class a extends i.PureComponent{constructor(){super(...arguments),this.state={requestNumber:null},this.timerHandle=null,this.onError=e=>{var r,n;null==(n=(r=this.props).onError)||n.call(r,e),this.reload()},this.reload=()=>{this.clearTimer(),this.timerHandle=this.scheduleNextReload()},this.updateRequestTime=()=>{let e=null===this.state.requestNumber?1:this.state.requestNumber+1;this.setState({requestNumber:e})}}clearTimer(){null!==this.timerHandle&&(clearTimeout(this.timerHandle),this.timerHandle=null)}scheduleNextReload(){let{delayMultiplier:e=10}=this.props,r=Math.min(300,e*((this.state.requestNumber||0)+Math.random()));return setTimeout(this.updateRequestTime,1e3*r)}getSrc(){return this.props.src?null===this.state.requestNumber?this.props.src:`${this.props.src}${-1===this.props.src.indexOf("?")?"?":"&"}requestNumber=${this.state.requestNumber}`:this.props.src}imgProps(){let e={...this.props};return delete e.delayMultiplier,e}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&(this.clearTimer(),this.setState({requestNumber:null}))}componentWillUnmount(){this.clearTimer()}render(){return i.createElement("img",{...this.imgProps(),alt:this.props.alt,src:this.getSrc(),onError:this.onError})}}a.displayName="ReloadingImage"},48515:(e,r,n)=>{"use strict";let i;n.d(r,{I:()=>a});var a=((i=a||{}).ALL="all",i.RECENT="recent",i.LOCAL="local",i.FILE="file",i)},75387:(e,r,n)=>{"use strict";n.d(r,{Fq:()=>m,R4:()=>h});var i=n(66712),a=n(38580),o=n(84107),s=n(75224),l=n(99881),d=n(79453);let c=(0,a.eU)((0,i.tl)().preset_library_keys??[]),u=(0,a.eU)(e=>{var r,n,i;let a=null==(r=e((0,o.Nm)({})).data)?void 0:r.presetLibrariesShelf;return(null==a?void 0:a.status)==="loaded"?(null==(i=null==(n=a.data)?void 0:n.resources)?void 0:i.filter(e=>"hub_file"===e.resourceType).map(e=>e.resourceId))??null:null}),p=(0,a.eU)(e=>{var r,n;let i=e((0,d.fy7)({group:(0,l.M)()}));return(null==i?void 0:i.status)==="loaded"?(null==(n=null==(r=i.data)?void 0:r.libraryPresetSubscriptionsV2)?void 0:n.map(e=>e.hubFileId))??null:null}),h=(0,a.eU)(e=>(e((0,i.kc)().dse_read_from_presets_table?p:u)??e(c)).map(s.lt));(0,a.eU)(e=>new Set(e(h)));let m=(0,a.eU)(e=>{var r,n;let i=e((0,d.fy7)({group:(0,l.M)()}));return(null==i?void 0:i.status)==="loaded"?(null==(n=null==(r=i.data)?void 0:r.libraryPresetSubscriptionsV2)?void 0:n.reduce((e,r)=>({...e,[r.hubFileId]:r}),{}))??{}:{}})},33370:(e,r,n)=>{"use strict";n.d(r,{Md:()=>h,VB:()=>m,l0:()=>d,lM:()=>l}),n(84934);var i=n(35283);n(78905);var a=n(52800),o=n(37929),s=n(73454);function l(e,r){let n={name:"",type:"STYLE_FOLDER",level:0,styles:[],subfolders:[],styleTypeSection:r};return e.forEach(e=>{let i=n,a=(0,o.ke)(e.name);a.pop(),a.forEach(e=>{let n=i.name?i.name+"/"+e:e,a=i.subfolders.find(e=>e.name===n);if(!a){let e={name:n,type:"STYLE_FOLDER",level:i.level+1,styles:[],subfolders:[],styleTypeSection:r};i.subfolders.push(e),a=e}i=a}),i.styles.push(e)}),n}function d(e){let r=[...e.subfolders].reverse(),n=[...e.styles];for(;r.length>0;){let e=r.pop();e&&(n.push(e),n.push(...e.styles),r.push(...[...e.subfolders].reverse()))}return n}function c(e){return"STYLE_FOLDER"===e.type?e.name:(0,o.In)(e.name)}function u(e){return d(e).filter(e=>e.type===s.PW.STYLE)}function p(e){return e.type===s.PW.STYLE?(0,o.ke)(e.name).length:e.level}function h(e,r,n,i){if(!e&&!n||!r)return!1;let a=!i&&""!==i||"STYLE_FOLDER"===r.type&&n===r&&(null==e?void 0:e.type)===s.PW.STYLE&&p(e)>p(n)&&i!==(0,o.In)(r.name);return!(e===r||n===r&&(r.type===s.PW.STYLE||!a)||"STYLE_FOLDER"===r.type&&((null==e?void 0:e.type)===s.PW.STYLE&&(null==n?void 0:n.type)===s.PW.STYLE||(null==e?void 0:e.type)==="STYLE_FOLDER"&&(null==n?void 0:n.type)===s.PW.STYLE||e&&(c(e)+"/").startsWith(r.name+"/")||n&&(c(n)+"/").startsWith(r.name+"/")&&!a))}function m(e,r,n,c,h,m,f){if(e.forEach(e=>{(function(e,r){let n=e.filter(e=>e.type===s.PW.STYLE).map(e=>e.node_id),i=[];r.forEach(e=>{n.indexOf(e.node_id)>-1&&i.push(e)});let a=e[0],o=d(l(i,a.type===s.PW.STYLE?a.style_type:a.styleTypeSection)).filter(e=>e.type===s.PW.STYLE);for(let e=0;e<n.length;e++)if(n[e]!==o[e].node_id)return!0;return!1})(h=function(e,r){let n=new Set,i=new Set;for(let r of e)(r.type===s.PW.STYLE?[r]:(function e(r){let n=[];return r.styles.forEach(e=>{n.push(e)}),r.subfolders.forEach(r=>{n.push(r),n.push(...e(r))}),n})(r).concat([r])).forEach(e=>e.type===s.PW.STYLE?i.add(e.node_id):n.add(e.name));return r.filter(e=>"STYLE_FOLDER"===e.type?!n.has(e.name):!i.has(e.node_id))}([e],h),m)&&(m=g(e,h,m))}),!h)return;let _=new Set(e.map(e=>"STYLE_FOLDER"===e.type||f?function(e,r,n,a){if(!e)return a.some(e=>e.type===s.PW.STYLE&&""===(0,o.In)(e.name))?null:-1;if(!r)return n.length-1;let l=n.map(e=>e.node_id);if(e.type===s.PW.STYLE&&r.type===s.PW.STYLE||"STYLE_FOLDER"===e.type&&r.type===s.PW.STYLE)return null;if(e.type===s.PW.STYLE&&"STYLE_FOLDER"===r.type&&p(e)===p(r)){let n=l.indexOf(e.node_id),i=function(e,r){let n=u(e),i=new Set(r.filter(e=>e.type===s.PW.STYLE).map(e=>e.node_id)),a=n[0];return n.forEach(e=>{e.sort_position&&a.sort_position&&e.sort_position<a.sort_position&&i.has(e.node_id)&&(a=e)}),a}(r,a),o=l.indexOf(i.node_id);return n<o?n:o-1}{let o=a.indexOf(r);if(-1!==o){let e=a.slice(o,a.length).find(e=>e.type===s.PW.STYLE);if(!e)return n.length-1;let r=l.indexOf(e.node_id);return(0,i.KF)(-1!==r,"style to insert before does not exist in the stored list"),r-1}{let r=a.indexOf(e),o=a.slice(r+1).reverse().find(e=>e.type===s.PW.STYLE);if(!o)return n.length-1;let d=l.indexOf(o.node_id);return(0,i.KF)(-1!==d,"style to insert after does not exist in the stored list"),d}}}(r,n,m,h):function(e,r,n,a){if(!e)return -1;if(!r)return n.length-1;let o=n.map(e=>e.node_id);if(e.type===s.PW.STYLE&&"STYLE_FOLDER"===r.type)return o.indexOf(e.node_id);{let e=a.indexOf(r),l=a.slice(e,a.length).find(e=>e.type===s.PW.STYLE);if(!l)return n.length-1;let d=o.indexOf(l.node_id);return(0,i.KF)(-1!==d,"style to insert before does not exist in the stored list"),d-1}}(r,n,m,h)));if(_.size>1||_.has(null))return;let y=_.values().next().value,E=m[y],b=m[y+1],v=new Map,S=E;for(let r of e){let e=r=>{r.type===s.PW.STYLE?(a.glU.insertStyleBetween(r.node_id,(null==S?void 0:S.node_id)||"",(null==b?void 0:b.node_id)||""),S=r):(r.styles.forEach(r=>{e(r)}),r.subfolders.forEach(r=>{e(r)}))};e(r);let n=""===c?[]:c.split("/"),i=[...n,(0,o.kH)(r.name)];if(i.join("/")!==r.name){let e=(r,n)=>{if(r.type===s.PW.STYLE){let e=[...n,(0,o.kH)(r.name)].join("/");v.set(r.node_id,e),a.glU.renameNode(r.node_id,e)}else v.set(r.name,n.join("/")),r.styles.forEach(r=>{e(r,n)}),r.subfolders.forEach(r=>{let i=[...n,(0,o.kH)(r.name)];e(r,i)})};e(r,"STYLE_FOLDER"===r.type?i:n)}else v.set("STYLE_FOLDER"===r.type?r.name:r.node_id,r.name)}return v}let g=(e,r,n)=>{let i=(0,o.ke)(e.name);e.type===s.PW.STYLE&&i.pop();let l=r.filter(e=>e.type===s.PW.STYLE),d=[];for(;i.length;){let e=i.join("/");if(0===(d=l.filter(r=>(0,o.In)(r.name).startsWith(e))).length)i.pop();else break}if(d.length){let r,i=d[0];d.forEach(e=>{null!=e.sort_position&&null!=i.sort_position&&e.sort_position<i.sort_position&&(i=e)}),r=e.type===s.PW.STYLE?e:u(e)[0];let o=n.indexOf(r),l=n[o-1],c=n[o+1];a.glU.insertStyleBetween(i.node_id,(null==l?void 0:l.node_id)||"",(null==c?void 0:c.node_id)||"");let p=[...n];return p.splice(p.indexOf(i),1),p.splice(p.indexOf(l)+1,0,i),p}return n}},60262:(e,r,n)=>{"use strict";n.d(r,{N:()=>h,Q:()=>p});var i=n(11855),a=n(9388),o=n(88507),s=n(43282),l=n(30949),d=n(38269),c=n(2601),u=n(98826);function p(e){let{menuItems:r,children:n,dropdownId:a,showPoint:s,propogateOnClick:l}=e,d=(0,o.wA)(),c=e=>{e.callback&&e.callback("",null,d)};return i.createElement(h,{dropdownId:a,renderDropdown:e=>i.createElement(u.j,{items:r,parentRect:e,dispatch:d,showPoint:s||!1,onSelectItem:c}),propogateOnClick:l},n)}function h(e){let r=(0,o.wA)(),n=i.useMemo(()=>e.dropdownId||(0,s.g)(),[e.dropdownId]),u=(0,o.d4)(e=>{var r;return(null==(r=e.dropdownShown)?void 0:r.type)===n}),p=()=>{u?r(d.oB()):r(d.j7({type:n}))},h=i.useRef(null),m=a.findDOMNode(h.current),g=(null==m?void 0:m.getBoundingClientRect())||null;return i.createElement(i.Fragment,null,i.createElement("div",{style:{width:"fit-content",maxWidth:"100%",height:"fit-content"},className:l.cx.if(e.hideOverflow,l.cx.overflowHidden).$,onClick:r=>{e.propogateOnClick||r.stopPropagation(),p()},ref:h},e.children),u&&g&&i.createElement(c.Q,null,e.renderDropdown(g)))}},9157:(e,r,n)=>{"use strict";n.d(r,{I:()=>P});var i=n(11855),a=n(82683),o=n(27457),s=n(2008),l=n(1140);function d(e){return i.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},i.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 16.5 4.5-4.5-4.5-4.5"}))}var c=n(29019),u=n.n(c),p=n(33011),h=n(60601),m=n(53234),g=n(72206),f=n(17609),_=n(46481),y=n(73149),E=n(5135),b=n(654),v=n(33600),S=n(87337),I=n(82046),T=n(58011),w=n(1191),C=n(60164),A=n(3475),N=n(32208);let O=new y.KD;class R extends m.o6{constructor(){super(...arguments),this.justClickedToOpen=!1,this.delayedMount=new p.W,this.onKeyDown=m.C0(this,"keydown",e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),this.props.onSelect(e,!0))}),this.onFocus=m.Ht(this,"focus",e=>{this.props.setActiveOption&&this.props.setActiveOption(!1)}),this.onPointerDown=m.cZ(this,"mousedown",e=>{this.justClickedToOpen=!1}),this.onPointerUp=m.cZ(this,"mouseup",e=>{if(this.justClickedToOpen){this.justClickedToOpen=!1;return}this.props.onSelect(e)}),this.mouseEnterPos=new g.Mi,this.onPointerEnter=m.cZ(this,"mouseenter",e=>{this.justClickedToOpen&&(this.mouseEnterPos=new g.Mi(e.clientX,e.clientY)),this.props.onMouseEnter&&this.props.onMouseEnter(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.onPointerLeave=m.cZ(this,"mouseleave",e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e)}),this.onPointerMove=m.cZ(this,"mousemove",e=>{this.justClickedToOpen&&this.mouseEnterPos&&new g.Mi(e.clientX,e.clientY).distanceTo(this.mouseEnterPos)>5&&(this.justClickedToOpen=!1),this.props.onMouseMove&&this.props.onMouseMove(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.stopPropagation=e=>e.stopPropagation(),this.preventDefault=e=>e.preventDefault()}componentDidMount(){super.componentDidMount(),this.justClickedToOpen=!0,this.delayedMount.scheduleOnce(()=>{this.justClickedToOpen=!1},1e3)}componentWillUnmount(){super.componentWillUnmount(),this.delayedMount.reset()}}class P extends R{constructor(){super(...arguments),this.optionRef=null}componentDidUpdate(e,r){var n,i;super.componentDidUpdate(e,r),!e.isActive&&this.props.isActive?null==(n=this.optionRef)||n.focus():e.isActive&&!this.props.isActive&&(null==(i=this.optionRef)||i.blur())}render(){let e;let{header:r,disableMouseEnter:n}=this.props.item,c=b.uK;this.props.item.disabled||r?c=b.IZ:this.props.item.visuallyDisabledWithSelection?c=b.b0:this.props.isActive&&(c=b.wA,this.props.item.activeClassName&&(c+=` ${this.props.item.activeClassName}`)),!this.props.leftIconOffset||this.props.showCheckmarkOnRight||r||(c+=` ${b.Yp}`);let p=this.props.item.isLocked&&!this.props.item.isChecked;p||!this.props.leftIconOffset||r||("search"===this.props.item.iconType?e=i.createElement("div",{className:b.zc},i.createElement(_.U,{svg:A.A},i.createElement(a.h,null))):"plus"===this.props.item.iconType?e=i.createElement("div",{className:b.zc},i.createElement(_.U,{svg:w.A,fallbackSvg:C.A},i.createElement(o.e,null))):"info"===this.props.item.iconType?e=i.createElement("div",{className:b.G},i.createElement(_.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:N.A})):this.props.showCheckmarkOnRight||(e=i.createElement("div",{className:b.zc},this.props.item.isChecked&&i.createElement(_.U,{svg:v.A},i.createElement(s.l,null)),this.props.item.isChildChecked&&i.createElement("div",{className:b.H}))));let m="sideText"in this.props.item&&this.props.item.sideText&&this.props.item.rightJustifySideText;return i.createElement("div",{ref:e=>this.optionRef=e,id:this.props.id,className:u()(this.props.item.className||"",{[c]:!("render"in this.props.item)}),onPointerDown:r?h.lQ:this.onPointerDown,onPointerUp:r?h.lQ:this.onPointerUp,onPointerEnter:r||n?h.lQ:this.onPointerEnter,onPointerMove:r?h.lQ:this.onPointerMove,onPointerLeave:r?h.lQ:this.onPointerLeave,onClick:this.stopPropagation,onTouchEnd:this.preventDefault,"data-onboarding-key":this.props.item["data-onboarding-key"],"data-testid":`dropdown-option-${this.props.item.displayText}`,"aria-label":[this.props.item.displayText,this.props.item.shortcut].join(" "),role:"menuitemcheckbox","aria-haspopup":this.props.item.children?"true":"false","aria-expanded":this.props.item.children?this.props.isSubmenuOpen?"true":"false":void 0,"aria-disabled":!!this.props.item.disabled||!!this.props.item.header,"aria-checked":!!this.props.item.isChecked,onKeyDown:this.onKeyDown,tabIndex:this.props.isActive?0:-1,onFocus:this.onFocus,dir:"auto"},"render"in this.props.item?this.props.item.render():i.createElement(i.Fragment,null,e,p&&i.createElement("div",{className:b.zc},i.createElement(_.U,{svg:S.A,fallbackSvg:I.A},i.createElement(l.s,null))),this.props.item.icon,this.props.item.subText?i.createElement("div",{className:b.zn},i.createElement("div",{className:`${b.UU} ${this.props.item.displayTextClassname}`},this.props.item.displayText),this.props.item.displayTextBadge,i.createElement("div",{className:`${b.Sv} ${this.props.item.subTextClassname||""}`},this.props.item.subText)):i.createElement(i.Fragment,null,i.createElement("div",{className:m?"":`${b.UU} ${this.props.item.displayTextClassname}`},this.props.item.displayText),this.props.item.displayTextBadge),this.props.item.sideText&&i.createElement("div",{className:u()(m?b.$b:b.Rc,this.props.item.sideTextClassname)},this.props.item.sideText),this.props.item.itemBadge,!p&&!this.props.item.isChecked&&!!this.props.item.itemBadgeV2&&i.createElement("div",{className:b.ws},this.props.item.itemBadgeV2),!p&&this.props.showCheckmarkOnRight&&this.props.item.isChecked&&i.createElement("div",{className:m?b.d7:b.wf},i.createElement(_.U,{svg:v.A},i.createElement(s.l,null))),!p&&!this.props.item.children&&this.props.showCheckmarkOnRight&&!this.props.item.isChecked&&!this.props.item.shortcut&&this.props.item.alternativeRightIconIfNotChecked&&i.createElement("div",{className:m?b.d7:b.DK},i.createElement(_.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:this.props.item.alternativeRightIconIfNotChecked})),!p&&!this.props.item.children&&!this.props.showCheckmarkOnRight&&!this.props.item.shortcut&&this.props.item.rightIcon&&i.createElement("div",{className:m?b.d7:b.DK},this.props.item.rightIcon)),!!this.props.item.children&&!("render"in this.props.item)&&i.createElement("div",{className:u()(m?b.d7:b.DK,b.li)},i.createElement(_.U,{svg:T.A},i.createElement(d,null))),this.props.item.shortcut&&i.createElement(f.S,{shortcut:this.props.item.shortcut,className:b.Xv}),this.props.item.rightText&&i.createElement("div",{className:b.DK},this.props.item.rightText),this.props.item.input&&i.createElement("div",{role:"presentation",className:b.Kf,onPointerEnter:e=>{e.stopPropagation()},onPointerUp:e=>{e.stopPropagation()}},i.createElement(E.Q7,{property:this.props.item.input.value,style:{width:this.props.item.input.width??50},className:b.hF,onChange:this.props.item.input.onChange,onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},formatter:O})))}}P.displayName="MultilevelDropdownOption"},1922:(e,r,n)=>{"use strict";n.d(r,{q:()=>s}),n(88507);var i=n(38329),a=n(9225);n(99737);var o=n(79453);function s(){return new Promise((e,r)=>{var n;let s=null==(n=i.D.getState().openFile)?void 0:n.key;if(!s)return e(!1);(0,a.Ek)(o.J2w,{fileKey:s}).then(r=>{var n,i,a;return e(!!(null==(a=null==(i=null==(n=r.data)?void 0:n.file)?void 0:i.org)?void 0:a.cursorChatDisabledAt))})})}},41944:(e,r,n)=>{"use strict";n.d(r,{F:()=>o,n:()=>s});var i=n(91408),a=n(60168);let o=(0,i.hG)(a.Nqv),s=24},71e3:(e,r,n)=>{"use strict";let i;n.d(r,{g1:()=>A,Cf:()=>w,it:()=>S,Jz:()=>C,UV:()=>I});var a=n(11855),o=n(9388),s=n(88507);function l(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M14.121 12.121 12 10l-2.121 2.121"}))}var d=n(26331),c=n(53234),u=n(72206),p=n(78931),h=n(27586),m=n(46481),g=n(38269),f=n(22358),_=n(60168);let y="pointing_dropdown--content--hfmPL",E="pointing_dropdown--chevron--eYKwT";var b=n(83423),v=n(60560),S=((i=S||{})[i.DEFAULT=0]="DEFAULT",i[i.LIGHT=1]="LIGHT",i[i.MATCH_BACKGROUND=2]="MATCH_BACKGROUND",i[i.PRESET_PICKER=3]="PRESET_PICKER",i);function I(e){return 1===e.type?{type:1}:2===e.type?{type:2}:3===e.type?{type:3}:0===e.type?{type:0}:{type:void 0}}class T extends a.PureComponent{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{"Escape"===e.event.key&&this.props.dispatch&&(e.accept(),this.props.dispatch(g.oB()))},this.getContentLocation=()=>{let e=this.props.lean||"center",r=void 0!==this.props.leanPadding?this.props.leanPadding:16,n=this.props.targetRect,i=this.contentEl.getBoundingClientRect(),a=this.props.displayAboveTarget?n.top-7+2:this.props.displayOverTarget?n.top:n.bottom+7-2;switch(e){case"center":return new u.Mi(n.left+n.width/2-i.width/2,a);case"left":return new u.Mi(n.right+r-i.width,a);case"right":return new u.Mi(n.left-r,a)}},this.ensureContentOnScreen=()=>{let e=this.getContentLocation();e.x=Math.max(8+(this.props.minLeftMargin||0),e.x);let r=this.contentEl.getBoundingClientRect(),n=e.x+r.width,i=e.y+(this.props.displayAboveTarget?-1:1)*r.height,a=window.innerWidth-8,o=window.innerHeight-(8+(this.props.minBottomMargin||0)),s=!1;n>a&&(e.x-=n-a),i>o&&(e.y-=i-o,s=!0),e.y<9&&(e.y=9,s=!0),e.x=Math.max(8+(this.props.minLeftMargin||0),e.x);let l=a-e.x;this.setState({contentTop:Math.round(e.y),contentLeft:Math.round(e.x),didEnsureContentOnScreen:s,windowMaxWidth:l})},this.contentRef=e=>{this.contentEl=o.findDOMNode(e),this.props.contentRef&&this.props.contentRef(e),this.contentEl&&this.ensureContentOnScreen()},this.contentRefModal=e=>{this.contentEl=o.findDOMNode(e),this.props.contentRef&&this.props.contentRef(e),this.contentEl&&this.ensureContentOnScreen()},this.dropdownOptionsContainerRef=e=>{e&&(this.dropdownOptionsContainer=e,this.observer.observe(e,{childList:!0,subtree:!0}))},this.calculateMaxDropdownHeight=e=>this.props.maxHeight||(this.props.displayAboveTarget?this.props.targetRect.top-8-16:e-this.state.contentTop-8-16),this.getStylesForType=e=>{switch(this.props.type){case 1:return{backgroundColor:"white",boxShadow:"0px 5px 17px rgba(0, 0, 0, 0.2), 0px 2px 7px rgba(0, 0, 0, 0.15), inset 0 0 0 0.5px rgba(0, 0, 0, 0.06), 0 0 0 0.5px var(--bg-overlay-outline-secondary)",..."arrow"===e?{border:"0.5px solid rgba(0, 0, 0, 0.2)"}:{}};case 2:return{backgroundColor:"var(--color-bg, white)",boxShadow:"var(--elevation-400-menu-panel, 0px 5px 17px rgba(0, 0, 0, 0.2), 0px 2px 7px rgba(0, 0, 0, 0.15), inset 0 0 0 0.5px rgba(0, 0, 0, 0.06), 0 0 0 0.5px var(--bg-overlay-outline-secondary))",..."arrow"===e?{border:"0.5px solid rgba(0, 0, 0, 0.2)"}:{}};case 3:return{borderRadius:_.r4G};case 0:case void 0:return{}}},this.state={contentTop:0,contentLeft:0,didEnsureContentOnScreen:!1,previousFocusedElement:document.activeElement,windowMaxWidth:window.innerWidth},this.observer=new MutationObserver(()=>{this.forceUpdate()})}componentDidMount(){var e;this.props.focusContainerOnMount&&(null==(e=this.contentEl)||e.focus())}componentDidUpdate(e,r){(e.targetRect.bottom!==this.props.targetRect.bottom||e.targetRect.left!==this.props.targetRect.left||e.targetRect.right!==this.props.targetRect.right||e.targetRect.top!==this.props.targetRect.top||e.targetRect.width!==this.props.targetRect.width||e.targetRect.height!==this.props.targetRect.height)&&this.ensureContentOnScreen()}componentWillUnmount(){this.props.autofocusPrevOnDismount&&this.state.previousFocusedElement&&this.state.previousFocusedElement.focus()}renderDropdownOptions(){let e=a.createElement("div",{ref:this.dropdownOptionsContainerRef,"data-onboarding-key":this.props.onboardingKey,className:"horizontal"===this.props.orientation?"pointing_dropdown--horizontalOrientation--z9DRY":"",role:"none"},this.props.children);return!this.props.disableDropdownScrollContainer&&this.dropdownOptionsContainer?a.createElement(A,{maxDropdownHeight:this.calculateMaxDropdownHeight,dropdownChildrenHeight:this.dropdownOptionsContainer.clientHeight,autoHeight:this.props.autoHeight,ref:this.props.scrollContainerRef},e):e}render(){let e=this.props.minWidth??200,r=this.props.maxHeight||"none",n={top:this.props.displayAboveTarget?void 0:this.state.contentTop,bottom:this.props.displayAboveTarget?window.innerHeight-this.state.contentTop:void 0,left:this.state.contentLeft,maxHeight:r,minWidth:e,maxWidth:this.props.maxWidth||this.state.windowMaxWidth,...this.getStylesForType("dropdown"),textAlign:this.props.textAlign||"left"},i=this.props.targetRect,o=this.props.arrowOffsetFromRectLeft?i.left+this.props.arrowOffsetFromRectLeft-5.5:i.left+i.width/2-5.5,s=this.props.displayAboveTarget?i.top-7:i.bottom,l=this.props.hidePointWhenContentOffScreen&&this.state.didEnsureContentOnScreen,d=this.props.propagateCloseClick?a.createElement(p.W.Dropdown,{id:this.props.id,className:y,style:n,ref:this.contentRef,tabIndex:this.props.tabIndex??void 0,onKeyDown:this.props.onKeyDown,"aria-labelledby":this.props["aria-labelledby"],onFocus:this.props.onFocus,preventZoom:this.props.preventZoom},this.renderDropdownOptions()):a.createElement(p.W.DropdownWithScrim,{id:this.props.id,className:y,style:n,ref:this.contentRefModal,dispatch:this.props.dispatch,closeDropdown:this.props.closeDropdown,tabIndex:this.props.tabIndex??void 0,onKeyDown:this.props.onKeyDown,"aria-labelledby":this.props["aria-labelledby"],onFocus:this.props.onFocus,preventZoom:this.props.preventZoom},this.renderDropdownOptions()),c={left:o+"px",top:(this.props.displayAboveTarget?s-5:s+2)+"px",transform:this.props.displayAboveTarget?"rotate(225deg)":void 0,opacity:l?0:1,...this.getStylesForType("arrow")},u=this.props.dataTestId??"pointingDropdown";return a.createElement(f.vL,{name:"pointingDropdown",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0,style:{display:"contents"}},a.createElement("div",{role:"none",className:`pointing_dropdown--root--eFNXS ${this.props.className||""}`,"data-testid":u},!!this.props.showPoint&&a.createElement("div",{className:"pointing_dropdown--arrow--CkDK3 _overlayBase--_overlayBase--Rkj8l",style:c}),d))}}T.displayName="PointingDropdownInner",T.defaultProps={showPoint:!0};let w=(0,s.Ng)()(T);function C(e){let{childrenComponents:r,getSetChildRef:n,onKeyDown:i,onFocus:o}=p.W.useDropdownAutofocus(e),s=c.v_(e.recordingKey,"keydown",e=>i(e));return a.createElement(w,{className:e.className,minWidth:e.minWidth,maxHeight:e.maxHeight,maxWidth:e.maxWidth,targetRect:e.targetRect,showPoint:e.showPoint,hidePointWhenContentOffScreen:e.hidePointWhenContentOffScreen,arrowOffsetFromRectLeft:e.arrowOffsetFromRectLeft,lean:e.lean,leanPadding:e.leanPadding,textAlign:e.textAlign,displayAboveTarget:e.displayAboveTarget,displayOverTarget:e.displayOverTarget,disableDropdownScrollContainer:!0,tabIndex:-1,onKeyDown:s,orientation:e.orientation,propagateCloseClick:e.propagateCloseClick,focusContainerOnMount:e.focusContainerOnMount,onFocus:e.onFocus,...I(e)},a.Children.map(r,(e,r)=>a.cloneElement(e,{buttonRef:n(r),onFocus:o})))}class A extends a.Component{constructor(e){super(e),this.updateWindowHeight=()=>{this.setState({windowHeight:window.innerHeight})},this.scrollContainerRef=e=>{this.scrollContainer=e},this.scrollBy=e=>{let r=this.scrollContainer.getScrollTop()+e;this.scrollContainer.scrollTo(r)},this.scrollToTop=()=>{this.scrollContainer.scrollToTop()},this.scrollToBottom=()=>{this.scrollContainer.scrollToBottom()},this.getScrollTop=()=>this.scrollContainer.getScrollTop(),this.getScrollBottom=()=>this.scrollContainer.getScrollTop()+this.props.maxDropdownHeight(this.state.windowHeight),this.updateScrollIndicatorVisibility=()=>{if(!this.scrollContainer)return;let e=this.scrollContainer.getScrollTop(),r=this.scrollContainer.getScrollHeight(),n=0!=e,i=r-e>this.props.maxDropdownHeight(this.state.windowHeight);(n!=this.state.showTopScrollIndicator||i!=this.state.showBottomScrollIndicator)&&this.setState({showTopScrollIndicator:n,showBottomScrollIndicator:i})},this.onScroll=(e,r)=>{this.updateScrollIndicatorVisibility()},this.scrollInterval=void 0,this.onMouseEnterIndicator=e=>r=>{this.scrollInterval&&clearInterval(this.scrollInterval),this.scrollInterval=setInterval(()=>{this.scrollContainer&&this.scrollBy(e)},25)},this.onMouseLeaveIndicator=e=>{clearInterval(this.scrollInterval)},this.onClickIndicator=e=>{e.stopPropagation()},this.onWheelIndicator=e=>{this.scrollContainer&&this.scrollBy(e.deltaY)},this.state={windowHeight:window.innerHeight,showTopScrollIndicator:!1,showBottomScrollIndicator:e.dropdownChildrenHeight>e.maxDropdownHeight(window.innerHeight)}}componentDidMount(){window.addEventListener("resize",this.updateWindowHeight)}componentWillUnmount(){window.removeEventListener("resize",this.updateWindowHeight)}componentDidUpdate(e,r){(r.windowHeight!==this.state.windowHeight||e.dropdownChildrenHeight!==this.props.dropdownChildrenHeight)&&(this.props.dropdownChildrenHeight>this.props.maxDropdownHeight(this.state.windowHeight)?this.updateScrollIndicatorVisibility():(this.state.showTopScrollIndicator||this.state.showBottomScrollIndicator)&&this.setState({showTopScrollIndicator:!1,showBottomScrollIndicator:!1}))}renderScrollIndicators(){let e=this.state.showTopScrollIndicator?{}:{display:"none"},r=this.state.showBottomScrollIndicator?{}:{display:"none"};return a.createElement(a.Fragment,null,a.createElement("div",{className:"pointing_dropdown--topScrollIndicator--Cke6H pointing_dropdown--scrollIndicator--cvX-K",style:e,onMouseEnter:this.onMouseEnterIndicator(-8),onMouseLeave:this.onMouseLeaveIndicator,onClick:this.onClickIndicator,onWheel:this.onWheelIndicator},a.createElement("div",{className:E},a.createElement(m.U,{svg:v.A},a.createElement(l,null)))),a.createElement("div",{className:"pointing_dropdown--bottomScrollIndicator--a39aF pointing_dropdown--scrollIndicator--cvX-K",style:r,onMouseEnter:this.onMouseEnterIndicator(8),onMouseLeave:this.onMouseLeaveIndicator,onClick:this.onClickIndicator,onWheel:this.onWheelIndicator},a.createElement("div",{className:E},a.createElement(m.U,{svg:b.A},a.createElement(d.r,null)))))}render(){let e=Math.min(this.props.maxDropdownHeight(this.state.windowHeight),this.props.dropdownChildrenHeight);return a.createElement(a.Fragment,null,a.createElement(h.P,{hideScrollbar:!0,height:this.props.autoHeight?void 0:e,onScroll:this.onScroll,ref:this.scrollContainerRef},this.props.children),this.renderScrollIndicators())}}A.displayName="DropdownScrollContainer"},63089:(e,r,n)=>{"use strict";n.d(r,{J:()=>k});var i,a=n(11855),o=n(43742),s=n(72174),l=n(53234),d=n(76621),c=n(72206),u=n(30949),p=n(28654),h=n(73149),m=n(81354),g=n(44892),f=n(21123),_=n(88536),y=n(60187),E=n(52800),b=n(48661),v=n(31770),S=n(66068),I=n(76615),T=n(98606),w=n(88507),C=n(11617),A=n(52246),N=n(73454),O=n(20722);(e=>{class r extends a.PureComponent{constructor(e){super(e),this.localThumbnail=()=>{let e=this.props.item.isLocal?this.props.item.node_id:this.state.fallbackLocalThumbnailGuid;return e&&this.props.thumbnails[e]||null},this.onError=()=>{var e;let r=null;switch(this.props.item.type){case N.PW.COMPONENT:this.props.item.component_key&&this.props.item.content_hash&&(r=null==(e=E.glU)?void 0:e.getSymbolNodeId(this.props.item.component_key,this.props.item.content_hash));break;case N.PW.STATE_GROUP:this.props.item.key&&(r=E.glU.getStateGroupNodeId(this.props.item.key,this.props.item.version));break;case N.PW.STYLE:this.props.item.content_hash&&(r=E.glU.getStyleNodeId(this.props.item.key,this.props.item.content_hash))}r&&(this.setState({fallbackLocalThumbnailGuid:r}),this.generateLocalThumbnailUrl(r,N.$1.PUBLISHED))},this.state={fallbackLocalThumbnailGuid:null},this.shouldGenerateLocalThumbnailUrl()&&this.generateLocalThumbnailUrl(this.props.item.node_id,N.$1.LOCAL)}generateLocalThumbnailUrl(e,r){requestAnimationFrame(()=>{if(!e)return;let n="style"===this.props.item.type?(0,g.aV)(e,this.props.item.style_type):(0,g.r2)(e);if(null!=n){let i=[{nodeId:e,url:n,type:this.props.item.type}];r===N.$1.LOCAL?this.props.updateLocalSourceThumbnails(i):this.props.updatePublishedSourceThumbnails(i,this.props.item)}})}shouldGenerateLocalThumbnailUrl(){let{item:e}=this.props,r=this.localThumbnail();if(!this.props.shouldGenerateLocalThumbnail||!e.isLocal)return!1;if(!r)return!0;if(e.type===N.PW.STATE_GROUP){if(e.version!==r.content_hash)return!0}else if(e.type===N.PW.VARIABLE||e.type===N.PW.VARIABLE_SET)return!1;else if(e.type===N.PW.MODULE){if(e.version!==r.content_hash)return!0}else if(e.content_hash!==r.content_hash)return!0;return r.url===e.thumbnail_url}render(){let e;let{item:r,className:n,style:i}=this.props,o=this.localThumbnail();return e=o&&(0,g.OM)(o.url)?o.url:r.thumbnail_url&&this.props.user?(0,C.NQ)(r.thumbnail_url,"fuid",this.props.user.id):r.thumbnail_url,a.createElement(O.J,{className:n,style:i,src:e||void 0,draggable:this.props.draggable,onError:this.onError,alt:this.props.alt})}}r.displayName="ComponentImage",e.ConnectedLibraryItemImage=(0,w.Ng)(e=>({thumbnails:e.library.local.thumbnails,user:e.user}),e=>({updateLocalSourceThumbnails:r=>{e(A.T1({thumbnails:r,source:N.$1.LOCAL}))},updatePublishedSourceThumbnails:(r,n)=>{e(A.T1({thumbnails:r,source:N.$1.PUBLISHED,item:n}))}}))(r)})(i||(i={}));let R=i.ConnectedLibraryItemImage,P="chit--chitBorder--ydYLm",L=new c.Mi(24,24),D=new h.LN;class M extends l.o6{constructor(e){super(e),this.div=a.createRef(),this.getPaint=()=>"paint"in this.props?(0,b.E7)(this.props.paint):null,this.getColor=()=>"color"in this.props?(0,b.E7)(this.props.color):null,this.getOpacity=()=>"color"in this.props?(0,b.E7)(this.props.opacity):null,this.getStyle=()=>"fillStyle"in this.props?this.props.fillStyle:null,this.documentKeyDown=e=>{9===e.keyCode&&this.setState({showFocus:!0})},this.onKeyDown=l.C0(this,"keydown",e=>{13===e.keyCode&&(this.props.onMouseDown&&this.props.onMouseDown(e),this.props.onClick&&this.props.onClick(e)),27===e.keyCode&&this.div.current&&this.div.current.blur()}),this.onClick=l.cZ(this,"click",e=>{if(!this.props.onClick)return l.aH;this.props.onClick(e)}),this.onMouseDown=l.cZ(this,"mousedown",e=>{if(this.props.allowMouseDownPropagation||e.stopPropagation(),this.setState({showFocus:!1}),!this.props.onMouseDown)return l.aH;this.props.onMouseDown(e)}),this.onMouseUp=l.cZ(this,"mouseup",e=>{e.stopPropagation(),this.div.current&&this.div.current.blur()}),this.generateContainerProps=()=>{let e=this.state.showFocus?"chit--chitShowFocus--M0ub5 chit--chit--WdWdx":"chit--chit--WdWdx";return this.props.className&&(e=e+" "+this.props.className),{className:e,ref:this.div,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.onClick,onContextMenu:this.props.onContextMenu,onKeyDown:this.onKeyDown,tabIndex:this.props.tabIndex||0,"data-tooltip":this.props.tooltip,"data-tooltip-type":T.Ib.TEXT}},this.state={showFocus:!1}}thumbnailSrc(){let e=this.getPaint();if(!e||"SOLID"===e.type||"GRADIENT_LINEAR"===e.type||"GRADIENT_RADIAL"===e.type)return null;let r=v.jS(e,L);return r&&r.pixels&&r.pixelSize?v.Pv(r.pixels,r.pixelSize):null}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.documentKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.documentKeyDown)}renderSolid(e){return a.createElement(I.uW.Consumer,null,r=>{var n,i;let o={...e,a:1},s=p.F.format(o),l="ui3"===this.props.uiVersion,d=(null==(n=this.getPaint())?void 0:n.opacity)??(null==(i=this.getColor())?void 0:i.a),c=l&&1!==d?void 0:(0,I.pw)(r,s,this.props.themeFromCanvasColor);return a.createElement("div",{style:(this.props.colorProfile??E.RYP.SRGB)!==E.RYP.DISPLAY_P3?{backgroundColor:p.F.format(o)}:(0,y.p3)()?{backgroundImage:`url(${(0,f.rl)(o,E.RYP.DISPLAY_P3)})`}:{backgroundColor:p.F.format(o,"display-p3")},...this.generateContainerProps()},a.createElement("div",{className:"chit--chitAlpha--Mn-aK",style:{opacity:1-e.a}}),c&&!this.props.hideBorderShadow&&a.createElement("div",{className:P,style:{boxShadow:c}}))})}renderGradient(e){let r=function(r="srgb"){var n;let i=0,a=1,o="",s=e.transform,l=e.stops;if(!s||!l)return;if("GRADIENT_LINEAR"===e.type){let e=function(e){let r=e.m00*e.m11-e.m01*e.m10;if(0===r)return{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0};let n=1/r;return{m00:e.m11*n,m01:-e.m01*n,m02:(e.m01*e.m12-e.m11*e.m02)*n,m10:-e.m10*n,m11:e.m00*n,m12:(e.m10*e.m02-e.m00*e.m12)*n}}(s),r=e.m00*e.m11-e.m01*e.m10>0?1:-1,l=(n={x:0,y:1},{x:e.m00*n.x+e.m01*n.y,y:e.m10*n.x+e.m11*n.y});o="linear-gradient("+(Math.atan2(l.y*r,l.x*r)/Math.PI*180).toFixed(2)+"deg";let d=(Math.abs(l.x)+Math.abs(l.y))/Math.hypot(l.x,l.y);a=1/d,i=(d-1)/2}else o="radial-gradient(circle closest-side";1==l.length&&(o+=", "+p.F.format(l[0].color,r));let d=l[0];for(let e of l){if(d.position!=e.position&&d.color.a!=e.color.a&&(d.color.r!=e.color.r||d.color.g!=e.color.g||d.color.b!=e.color.b))for(let n=1;n<5;n++){let s=n/5,l={r:d.color.r*(1-s)+e.color.r*s,g:d.color.g*(1-s)+e.color.g*s,b:d.color.b*(1-s)+e.color.b*s,a:d.color.a*(1-s)+e.color.a*s},c=d.position*(1-s)+e.position*s;o+=", "+p.F.format(l,r)+" "+D.format(c*a+i)}o+=", "+p.F.format(e.color,r)+" "+D.format(e.position*a+i),d=e}return{stops:l,background:o+=")"}}(this.props.colorProfile===E.RYP.DISPLAY_P3&&(0,y.Pv)()?"display-p3":"srgb");if(!r)return;let{background:n,stops:i}=r;return a.createElement(I.uW.Consumer,null,e=>{let r="ui3"===this.props.uiVersion?void 0:i.map(r=>(0,I.pw)(e,r.color,null)).find(s.Vq);return a.createElement("div",{style:{backgroundColor:"white",backgroundImage:n},...this.generateContainerProps()},r&&!this.props.hideBorderShadow&&a.createElement("div",{className:P,style:{boxShadow:r}}))})}render(){let e=this.getColor(),r=this.getOpacity();if(e)return null!=r&&(e={...e,a:(0,b._W)(r,0)}),this.renderSolid(e);let n=this.getPaint();if(n){if("SOLID"===n.type)return this.renderSolid({...n.color,a:n.opacity});if("GRADIENT_LINEAR"===n.type||"GRADIENT_RADIAL"===n.type)return this.renderGradient(n);let e=this.thumbnailSrc();if(null!=e)return a.createElement("div",{...this.generateContainerProps()},e&&a.createElement("img",{src:e,className:"chit--chitThumbnail--KxCGp",alt:`chit for ${JSON.stringify(n)}`}));(0,d.x1)("chit","Don't know how to create chit for Paint",{paint:n})}let i=this.getStyle();if(i){let e=(0,S.QH)(i);if(e&&"FILL"===e.type){let r=(0,g.MJ)(e);if(r)return this.renderSolid(r)}return a.createElement("div",{...this.generateContainerProps()},a.createElement(R,{item:i,shouldGenerateLocalThumbnail:!0,className:u.cx.wFull.$}))}return a.createElement("div",{...this.generateContainerProps()})}}function k(e){let r=(0,_.Ep)(),{version:n}=(0,o.DP)(),i=(0,m.H)();return a.createElement(M,{...{...e,colorProfile:r,uiVersion:n,themeFromCanvasColor:i}})}M.displayName="Chit"},64759:(e,r,n)=>{"use strict";n.d(r,{x:()=>S});var i=n(11855),a=n(35387),o=n(43742),s=n(55887),l=n(53234),d=n(72206),c=n(39863),u=n(28654),p=n(74191),h=n(1978),m=n(88536),g=n(60187),f=n(72335),_=n(15056),y=n(4978),E=n(41052);let b=new Image;b.src=(0,y.B0)(E.A);let v=class extends l.o6{constructor(){super(...arguments),this.mouseCallback=(e,r)=>{this.props.changeCallback(this.valueToColor(e),r)},this.keyDownCallback=e=>{let r=(0,_.W)(e),n=(0,s.qE)(this.props.color.a+r/100,0,1);this.props.changeCallback({...this.props.color,a:n},!0)},this.renderCanvas=(e,r)=>{let n=this.props.colorProfile?(0,g.VG)(this.props.colorProfile):"srgb",i=(0,h.Eh)(e,n);if(!i)return;let a=i.createPattern(b,"repeat");if(!a)return;let o=(0,f.MX)(this.props.uiVersion);i.fillStyle=a,i.fillRect(0,0,this.props.width+o,o);let s=(0,p.w_)(this.valueToColor(r)),l=i.createLinearGradient(o/2,0,this.props.width+o/2,0);l.addColorStop(0,v.formatter.format({...s,a:0},n)),l.addColorStop(1,v.formatter.format({...s,a:1},n)),i.fillStyle=l,i.fillRect(0,0,this.props.width+o,o)},this.colorHandle=e=>{let r,n,i;let a=(0,p.w_)(this.valueToColor(e));return{r:(r=a.r,1-a.a+r*a.a),g:(n=a.g,1-a.a+n*a.a),b:(i=a.b,1-a.a+i*a.a),a:1}},this.colorToValue=e=>new d.Mi(e.a,0),this.valueToColor=e=>({...this.props.color,a:Math.round(100*e.x)/100})}render(){let e=this.props.colorProfile;return i.createElement(f.Kf,{colorProfile:e,hitBoxMargin:8,width:this.props.width,height:0,handlePadding:!0,value:this.colorToValue(this.props.color),mouseCallback:this.mouseCallback,keyDownCallback:this.keyDownCallback,renderCanvas:this.renderCanvas,colorHandle:this.colorHandle,containerClass:this.props.containerClass,recordingKey:this.props.recordingKey})}};function S(e){let r,n,s;let{version:l}=(0,o.DP)(),d=(0,m.Ep)();if("ui2"===l)return i.createElement(v,{...e,colorProfile:d,uiVersion:l});let h=(0,g.VG)(d),f=100*e.color.a,_=(0,p.w_)(e.color),y=u.F.format({r:(r=_.r,1-_.a+r*_.a),g:(n=_.g,1-_.a+n*_.a),b:(s=_.b,1-_.a+s*_.a),a:1},h);return i.createElement(a.A,{min:0,max:100,step:1,bigStep:10,value:f,onChange:(r,{commit:n})=>{e.changeCallback({...e.color,a:r/100},n)},"aria-label":(0,c.t)("fullscreen.scrubbable.opacity"),style:{"--fpl-slider-thumb-bg":y,"--fpl-slider-track-bg":function(e,r,n){let i=`linear-gradient(90deg, ${u.F.format({...e,a:0},n)} 0 ${r}, ${u.F.format({...e,a:1},n)} calc(100% - ${r}) 100%)`;return`${i}, url('data:image/svg+xml;utf8,${escape('<svg width="2" height="2" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1v2h1V1H0" fill-rule="nonzero" fill="#e1e1e1"/></svg>')}') 0 0 / auto 66.66%, #fff`}(_,"calc(var(--fpl-slider-height) / 2)",h)},recordingKey:e.recordingKey})}v.displayName="OpacityControl",v.formatter=u.F},47908:(e,r,n)=>{"use strict";function i(e){return{color:e.color,colorVar:{value:{colorValue:e.color},dataType:"COLOR",resolvedDataType:"COLOR"},position:e.position}}n.d(r,{Ug:()=>i})},5135:(e,r,n)=>{"use strict";n.d(r,{AN:()=>S,Q7:()=>v,p_:()=>b});var i=n(11855),a=n(85052),o=n(98750),s=n(27285),l=n(63706),d=n(53234),c=n(39863),u=n(87010),p=n(73149),h=n(83942),m=n(48661),g=n(79702),f=n(83859),_=n(52277),y=n(43341);let E=new a.b("activateNudgeTooltip");class b extends i.PureComponent{constructor(){super(...arguments),this.inputRef=i.createRef(),this.didIncrement=!1,this.state={editingValue:null,incrementTargets:null},this.activateNudgeTooltipCallback=e=>{this.props.onMixedMathNudge&&this.props.onMixedMathNudge(e.keyCode,e.isShiftPressed,e.e)},this.looksEqual=(e,r)=>{let n=!(0,m.hS)(e);return!(0,m.hS)(r)===n&&(!!n||(this.props.formatter.isEqual?this.props.formatter.isEqual(e,r):this.props.formatter.format(e)===this.props.formatter.format(r)))},this.selectAll=()=>{let e=this.inputRef.current;if((0,m.hS)(this.props.property)&&this.props.formatter.defaultSelection){let r=this.props.formatter.defaultSelection(e.value);e.setSelectionRange(r.start,r.end)}else e.select();this.needToSelectAll=!1},this.needToSelectAll=!1,this.onFocus=e=>{this.needToSelectAll=!0,this.props.shouldClearOnFocus&&this.setState({editingValue:""}),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{var r,n,i,a,o,l,d;null==(n=(r=this.props).onBlur)||n.call(r,e);let c=this.props.property,u=null==(i=this.inputRef.current)?void 0:i.value;if(null==u||null==this.state.editingValue)return;this.setState({editingValue:null});let h=e=>{var r,n;let i=this.props.formatter.parse(u,(0,m._W)(e,void 0));return(null==(n=(r=this.props.formatter).clamp)?void 0:n.call(r,i))??i};try{let e=h(c);null!==c&&this.looksEqual(e,c)||this.props.onChange(e)}catch(r){if(r instanceof p.LS){if((null==(a=r.errorInfo)?void 0:a.type)===s.By.SYNTAX_EMPTY&&this.props.allowEmpty)this.props.onChange(null);else if((null==(o=r.errorInfo)?void 0:o.type)===s.By.EVAL_NO_CURRENT_VALUE&&(0,m.gl)(c)){if(this.props.mixedMathHandler){let e=this.props.mixedMathHandler.getValue();this.props.mixedMathHandler.onChange(e,h,g.zk.YES)}else this.props.mixedMathCallback&&this.props.mixedMathCallback(u)}}let e=null==(d=(l=this.props.formatter).onParseThrow)?void 0:d.call(l,r,u);null!=e&&this.props.onChange(e)}},this.onChange=e=>{this.setState({editingValue:e.target.value.toString()})},this.onKeyDown=e=>{var r,n,i,a,s,l,c;if((0,h.jr)(e,this.shouldForwardUndo())||(null==(n=(r=this.props).onKeyDown)||n.call(r,e),e.defaultPrevented))return;this.didIncrement=!1;let p=this.inputRef.current;if(e.keyCode===o.Uz.ESCAPE)this.setState({editingValue:null}),setTimeout(()=>p.blur(),0),e.preventDefault();else if(e.keyCode===o.Uz.ENTER)return p.blur(),e.preventDefault(),d.aH;else if(e.keyCode===o.Uz.UP_ARROW||e.keyCode===o.Uz.DOWN_ARROW){if((null==(i=this.context)?void 0:i.boundVariableId)||(e.preventDefault(),!this.props.formatter.incrementBy))return;let r=this.props.property;try{r=this.props.formatter.parse(p.value||(this.props.placeholder??""),(0,m.E7)(this.props.property)??void 0)}catch(e){}if(null==r&&!this.props.allowEmpty)return;if((0,m.hS)(r)){let n=(0,u._L)(this.props.formatter,p),i=e.shiftKey,a=e.keyCode===o.Uz.DOWN_ARROW?-1:1,s=(0,u.mb)(this.props.formatter,i,r),l=(0,u.ql)(this.props.formatter,r,s*a,{incrementTargets:n});this.setState({editingValue:null,incrementTargets:n}),this.looksEqual(r,l)||(this.props.onChange(l),this.didIncrement=!0)}else if(this.props.mixedMathHandler){if(null==(null==(a=this.inputRef.current)?void 0:a.value))return;let r=this.props.mixedMathHandler.getValue();this.props.mixedMathHandler.onChange(r,r=>{let n=e.keyCode===o.Uz.DOWN_ARROW?-1:1,i=e.shiftKey,a=(0,u.mb)(this.props.formatter,i,r);return(0,u.ql)(this.props.formatter,r,a*n)},g.zk.YES),E.trigger("activateNudgeTooltip",{keyCode:e.keyCode,isShiftPressed:e.shiftKey,e})}null==(l=(s=this.props).onNudge)||l.call(s,e)}else if(this.shouldHandleVariables()&&"="===e.key)e.preventDefault(),null==(c=this.context)||c.showBindingUI(this.inputRef.current.closest("label"),{currentFieldValue:this.props.property});else if(e.keyCode!==o.Uz.TAB)return d.aH},this.onKeyUp=e=>{var r,n;if((0,h.jr)(e,this.shouldForwardUndo()))return d.aH;null==(n=(r=this.props).onKeyUp)||n.call(r,e);let i=this.inputRef.current;if(!this.props.formatter.autocomplete)return d.aH;{let r=i.value,n=r.length>0&&i.selectionStart===r.length&&i.selectionEnd===r.length,a=e.key&&1===e.key.length,s=32===e.keyCode||e.keyCode>=65&&e.keyCode<=90;if(n&&(a||s)&&(0,o.sC)(e,o.xH.SHIFT)){let e=this.props.formatter.autocomplete(r);null!==e&&(i.value=e,i.setSelectionRange(r.length,e.length))}}},this.onMouseUp=e=>{var r;let n=this.inputRef.current;if(!this.state.editingValue&&(0,m.gl)(this.props.property)&&(null==(r=n.select)||r.call(n)),!this.needToSelectAll)return d.aH;n.selectionStart===n.selectionEnd&&this.selectAll(),this.needToSelectAll=!1},this.onMouseLeave=e=>{this.needToSelectAll&&(this.needToSelectAll=!1)},this.shouldHandleVariables=()=>!!(!this.props.variablesDisabled&&this.context),this.onClick=e=>{var r,n,i,a;if(null==(n=(r=this.props).onClick)||n.call(r,e),this.shouldHandleVariables()&&(null==(i=this.context)?void 0:i.boundVariableId)){let e=this.inputRef.current;e.blur(),null==(a=this.context)||a.showBindingUI(e.closest("label"),{currentFieldValue:this.props.property})}}}componentDidMount(){let e=this.inputRef.current;this.props.autoFocus&&(e.select(),l.Ay.safari&&e.focus()),E.on("activateNudgeTooltip",this.activateNudgeTooltipCallback)}componentWillUnmount(){E.removeListener("activateNudgeTooltip",this.activateNudgeTooltipCallback)}getSnapshotBeforeUpdate(e,r){if(e.property===this.props.property)return!1;let n=this.inputRef.current;if(null==n||n!==document.activeElement)return!1;let{selectionStart:i,selectionEnd:a,value:o}=n;return"number"==typeof a&&"number"==typeof i&&a>0&&a-i===o.length}componentDidUpdate(e,r,n){e.source!==this.props.source&&this.setState({editingValue:null});let i=this.inputRef.current;if(this.didIncrement&&e.property!==this.props.property){if(this.didIncrement=!1,this.state.incrementTargets&&this.props.formatter.getSelection){let{start:e,end:r}=this.props.formatter.getSelection(i.value,this.state.incrementTargets);i.setSelectionRange(e,r)}else this.selectAll()}else this.lastSelection?i.setSelectionRange(this.lastSelection[0],this.lastSelection[1]):n&&i===document.activeElement&&i.select()}shouldForwardUndo(){if(null===this.state.editingValue)return h.W0.YES;if((0,m.hS)(this.props.property)){let e=null==this.props.property?"":this.props.formatter.format(this.props.property);return this.state.editingValue===e?h.W0.YES:h.W0.NO}return h.W0.YES}valueForRender(){return null!==this.state.editingValue?this.state.editingValue:(0,m.hS)(this.props.property)?null==this.props.property?"":this.props.formatter.format(this.props.property):(0,c.t)("fullscreen.mixed")}renderVariablePill(){var e;if(!this.shouldHandleVariables())return null;let r=this.valueForRender();return(null==(e=this.context)?void 0:e.boundVariableId)&&r?i.createElement(_.P,{value:r,variableId:this.context.boundVariableId??void 0,colorTheme:this.context.isBoundVariableDeleted?_.J.DISABLED_TERTIARY:_.J.DEFAULT,isDeleted:!1,offsetLeft:this.props.noLeftBorder||this.props.squareRightBorder?1:-7,offsetTop:-11,zeroSizeLayout:!0}):null}render(){return i.createElement(i.Fragment,null,this.renderVariablePill(),i.createElement(y.jT,{ref:e=>{this.inputRef.current=e,this.props.forwardedRef&&("function"==typeof this.props.forwardedRef?this.props.forwardedRef(e):this.props.forwardedRef.current=e)},className:this.props.className,dataTestId:this.props.dataTestId,recordingKey:this.props.recordingKey,placeholder:this.props.placeholder,size:this.props.size,disabled:this.props.disabled,softDisabled:this.props.softDisabled,noLeftBorder:this.props.noLeftBorder,squareRightBorder:this.props.squareRightBorder,style:this.props.style,value:this.valueForRender(),onFocus:this.onFocus,onClick:this.onClick,onMouseDown:this.props.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onPaste:this.props.onPaste,autoFocus:!l.Ay.safari&&this.props.autoFocus,noBorderOnFocus:this.props.noBorderOnFocus,"aria-label":this.props.ariaLabel,tabIndex:this.props.tabIndex,noPlaceholderLine:this.props.noPlaceholderLine}))}}b.displayName="FormattedInput",b.contextType=f.p;class v extends b{}class S extends b{}},27795:(e,r,n)=>{"use strict";n.d(r,{K0:()=>f,Me:()=>_,YW:()=>y});var i=n(11855),a=n(29019),o=n.n(a),s=n(62935),l=n(98750),d=n(22739),c=n(24897),u=n(48425),p=n(72517),h=n(1186),m=n(33483),g=n(83423);i.forwardRef(function(e,r){let n=o()(e.className,m.U,e.disabled?m.Ah:m.pq,{[m.vR]:e.selected,[e.selectedClassName??""]:e.selected,[m.No]:e.isBackgroundTransparent});return i.createElement("button",{ref:r,className:n,onClick:e.disabled?void 0:e.onClick,onDoubleClick:e.disabled?void 0:e.onDoubleClick,onKeyDown:e.disabled?void 0:e.onKeyDown,onPointerDown:e.disabled?void 0:e.onPointerDown,onMouseDown:e.disabled?void 0:e.onMouseDown,onMouseUp:e.disabled?void 0:e.onMouseUp,onMouseMove:e.disabled?void 0:e.onMouseMove,onMouseEnter:e.disabled?void 0:e.onMouseEnter,onMouseLeave:e.disabled?void 0:e.onMouseLeave},i.createElement(f,{svg:e.svg,className:e.className,fallbackSvg:e.fallbackSvg,selected:e.selected,selectedClassName:e.selectedClassName,isBackgroundTransparent:e.isBackgroundTransparent,"data-onboarding-key":e["data-onboarding-key"],useOriginalSrcFills_DEPRECATED:e.useOriginalSrcFills_DEPRECATED,fill:e.fill,dataTestId:e.dataTestId,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-owns":e["aria-owns"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],"data-tooltip-shortcut-key":e["data-tooltip-shortcut-key"]}),i.createElement(c.B,{className:m.ai,svg:g.A}))});let f=i.forwardRef(function(e,r){let n=(0,s.M)(r);function a(){n.current.blur()}let c=o()(e.className,{[m.vR]:e.selected,[e.selectedClassName??""]:e.selected,[m.Ah]:!e.selected&&e.disabled,[m.pq]:!e.selected&&!e.disabled,[m.No]:e.isBackgroundTransparent}),p=e.tooltipForScreenReadersOnly||!e.showTooltipWhenSelectedIsTrue&&e.selected,g=e.href?d.lt:d.GG;return i.createElement(g,{forwardedRef:n,className:c,style:e.style,tabIndex:null!=e.tabIndex?e.tabIndex:e.disabled?-1:0,onClick:e.disabled?void 0:e.onClick,onDoubleClick:e.disabled?void 0:e.onDoubleClick,onKeyDown:e.disabled?void 0:r=>{var n,i;switch(r.keyCode){case l.Uz.ENTER:case l.Uz.SPACE:(e.onMouseDown||e.onClick||e.onKeyDown)&&r.preventDefault(),null==(n=e.onMouseDown)||n.call(e,r),e.onKeyDown?e.onKeyDown(r):null==(i=e.onClick)||i.call(e,r);break;case l.Uz.ESCAPE:a()}},onPointerDown:e.disabled?void 0:e.onPointerDown,onMouseDown:e.disabled?void 0:e.onMouseDown,onMouseUp:e.disabled?void 0:a,onMouseMove:e.disabled?void 0:e.onMouseMove,onMouseEnter:e.disabled?void 0:e.onMouseEnter,onMouseLeave:e.disabled?void 0:e.onMouseLeave,onContextMenu:e.disabled?void 0:e.onContextMenu,href:e.disabled?void 0:e.href,type:e.type,target:e.target,"data-tooltip-type":p?null:e["data-tooltip-type"],"data-tooltip":p?null:e["data-tooltip"],"data-tooltip-show-immediately":p?null:e["data-tooltip-show-immediately"],"data-tooltip-max-width":p?null:e["data-tooltip-max-width"],"data-tooltip-show-above":p?null:e["data-tooltip-show-above"],"data-tooltip-shortcut-key":p?null:e["data-tooltip-shortcut-key"],"data-tooltip-offset-x":p?null:e["data-tooltip-offset-x"],"data-tooltip-offset-y":p?null:e["data-tooltip-offset-y"],"aria-label":e["aria-label"]??(0,h.En)(e),disabled:e.disabled,"aria-disabled":e.disabled,"data-onboarding-key":e["data-onboarding-key"],"data-testid":e.dataTestId,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-owns":e["aria-owns"],recordingKey:e.recordingKey},e.children||i.createElement(u.t,{svg:e.svg,fallbackSvg:e.fallbackSvg,useOriginalSrcFills_DEPRECATED:e.useOriginalSrcFills_DEPRECATED,style:{fill:e.fill}}))}),_=(0,p.tf)(f),y=f;(0,p.tf)(y)},5129:(e,r,n)=>{"use strict";n.d(r,{Ml:()=>s,yD:()=>o});var i=n(66712),a=n(75224);function o(e){return`RETRIEVING_SUBSCRIBED_COMPONENTS_AND_STATE_GROUPS_${e}`}function s(e,r){return(0,i.kc)().ds_use_lib_keys?`SWAPPING_INSTANCE_${e.library_key}_${e.node_id}_${r.join(",")}`:`SWAPPING_INSTANCE_${(0,a.hH)(e)}_${e.node_id}_${r.join(",")}`}n(48661)},43341:(e,r,n)=>{"use strict";n.d(r,{JU:()=>E,Id:()=>h,fI:()=>g,jT:()=>_,ks:()=>y});var i=n(11855),a=n(29019),o=n.n(a),s=n(53234),l=n(22739),d=n(59838);n(24897);var c=n(83942);n(98606);var u=n(33483);n(27795);let p=(e,r)=>({...e,className:`${r} ${e.className||""}`});function h(e){return i.createElement(l.D8,{...p(e,u.a2),"data-non-interactive":!0})}class m extends s.o6{render(){return i.createElement(l.D8,{...p(this.props,"propertiesPanel"),"data-non-interactive":!0})}}m.displayName="Panel";class g extends s.o6{render(){let e;let{selected:r,selectedSecondary:n,heightMultiplier:a,...o}=this.props,s=n?u.kR:r?u.CZ:null;return e=2===a?u.X0:1.5===a?u.LE:u.l$,s&&(e+=" "+s),i.createElement(l.D8,{...p(o,e),"data-non-interactive":!0})}}function f({noLeftBorder:e,squareRightBorder:r,noBorderOnFocus:n,noPlaceholderLine:i,softDisabled:a,className:s,...l}){return e&&(s+=` ${u.Z4}`),r&&(s+=` ${u.O1}`),n||(s+=` ${u.PQ}`),i&&(s+=` ${u.LJ}`),a&&(s+=` ${u.EA}`),Object.assign(l,{className:o()(u._Z,s)})}g.displayName="Row";let _=i.forwardRef(function(e,r){let n=f(e);return i.createElement(l.u2,{autoComplete:"false",spellCheck:!1,forwardedRef:r,...n})});class y extends i.PureComponent{constructor(){super(...arguments),this.onKeyDown=e=>{!(0,c.jr)(e,c.W0.NO)&&this.props.onKeyDown&&this.props.onKeyDown(e)}}render(){let e=f(this.props);return i.createElement(d.L,{"data-testid":this.props.dataTestId,type:"text",spellCheck:!1,...e,onKeyDown:this.onKeyDown,ref:e.innerRef})}}function E({disabled:e,...r}){return i.createElement("label",{...p(r,e?u.wh:u.Pf),dir:"auto"})}y.displayName="TextInput",i.forwardRef((e,r)=>{let{className:n,...a}=f(e);return i.createElement(l.D8,{...a,className:o()(n,u.PB),forwardedRef:r,tabIndex:0})})},28339:(e,r,n)=>{"use strict";n.d(r,{uQ:()=>J,c$:()=>er,l6:()=>ee,sK:()=>en});var i=n(11855),a=n(9388),o=n(26331),s=n(29019),l=n.n(s),d=n(84934),c=n(97666),u=n(33011),p=n(66712),h=n(98750);class m{constructor(){this.freeKeyStack=[],this.usedKeysById={},this.nextKey=1}getKeyForId(e){let r;return e in this.usedKeysById?this.usedKeysById[e]:(r=this.freeKeyStack.length?this.freeKeyStack.pop():this.nextKey++,this.usedKeysById[e]=r,r)}freeKeyForId(e){if(e in this.usedKeysById){let r=this.usedKeysById[e];this.freeKeyStack.push(r),delete this.usedKeysById[e]}}}var g=n(63706),f=n(53234),_=n(30637),y=n(54322),E=n(43282),b=n(11161),v=n(78931),S=n(24897),I=n(46481),T=n(48425),w=n(5113),C=n(39863),A=n(38269),N=n(98099),O=n(56390),R=n(83942),P=n(48661),L=n(41860),D=n(16081),M=n(79702),k=n(98606),x=n(46859);let F="select--container--UJhOt raw_components--singleRowHeight--dKM4t",U="select--inputSvg--Sqy6u",B="select--check--xQ8c3",V="select--scrollIndicatorChevron--9-te-";var H=n(83423),G=n(60560),W=n(33600),z=n(89298);let{OverridesProvider:K,OverridableComponent:j}=(0,x.r)(),Y=v.W.DropdownWithScrim,$=v.W.Separator;function q(){return(0,C.t)("design_systems.instance_panel.mixed")}function Z(e){return i.createElement("div",{className:e.providedClassName},i.createElement(I.U,{svg:z.A},i.createElement(o.r,null)))}function X(e){let r;r=e.dropdownOverride?e.dropdownOverride:(0,P.hS)(e.property)?e.formatter.format(e.property):e.customMixedText||q();let n=l()({"select--input--meQUx raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t ellipsis--ellipsis--Tjyfa":!e.isDisabled,"select--inputDisabled--08EdX select--input--meQUx raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t ellipsis--ellipsis--Tjyfa":e.isDisabled,"select--inputWithSvg--t6hLE":e.svg||e.icon,"select--inputAlignRight--5HWz5":"right"===e.textAlign,"select--backgroundOnHover--5kQnp":e.borderless});return i.createElement("div",{className:l()(n,e.inputClassName),style:{width:e.inputWidth,border:e.borderless?"1px solid transparent":void 0},onMouseDown:e.isDisabled?void 0:e.onMouseDown,onPointerDown:e.isDisabled||!(0,p.kc)().fpl_select_stop_propagation?void 0:N.dG,onClick:e.isDisabled?void 0:e.onClick,"data-testid":e.dataTestId,"aria-hidden":"true"},e.icon&&!e.svg&&i.createElement("div",{className:`${U} ${e.svgClassName||""}`},e.icon),e.svg&&!e.icon&&i.createElement("div",{className:`${U} ${e.svgClassName||""}`},i.createElement(I.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:e.svg,fallbackSvg:e.fallbackSvg},e.ui3Icon)),"middle"===e.truncation?i.createElement("span",{className:"select--inputTextWrapper--kEwIr"},i.createElement(w.o,{text:r})):i.createElement("span",{className:l()("select--inputText--I3JIv select--inputTextWrapper--kEwIr",{"select--inputTextTruncated--j6p-H ellipsis--ellipsis--Tjyfa":"none"!==e.truncation,"select--inputTextFill--H3tO-":e.fill})},r),e.rightIcon,i.createElement(j,{originalComponent:Z,providedClassName:`select--chevron--KfTY2 ${e.chevronClassName||""}`,overrideKey:"chevron"}))}let J=i.forwardRef(function({containerClassName:e,...r},n){return i.createElement("div",{className:l()(F,e),ref:n},i.createElement(X,{...r}))}),Q=[h.Uz.UP_ARROW,h.Uz.DOWN_ARROW,h.Uz.SPACE,h.Uz.ENTER];class ee extends f.o6{constructor(e){super(e),this.keyRecycler=new m,this.updateWindowHeight=()=>{this.setState({windowHeight:window.innerHeight})},this.containerRect=null,this.containerRef=e=>{this.container=e,this.container&&(this.containerRect=this.container.getBoundingClientRect())},this.hiddenInputRef=e=>{(0,D.cZ)(this.props.inputRef,e),"always"!==this.props.preventHiddenInput&&(this.hiddenInput=e,e&&this.props.autoFocus&&e.focus())},this.focus=()=>{var e;null==(e=this.hiddenInput)||e.focus()},this.dropdownListboxId=(0,E.g)(),this.isDropdownShown=e=>{var r;return(null==(r=e.dropdownShown)?void 0:r.type)===this.props.id},this.dropdownShown=()=>this.isDropdownShown(this.props),this.formattedSelectedValue=()=>{let e=this.props.focusedOption||this.props.property;return(0,P.hS)(e)?this.props.formatter.format(e):this.props.customMixedText||q()},this.optionHeightByIndex={},this.allowSelectionTask=new u.W,this.cacheOptionPositions=e=>{let r=8;this.childPositionByIndex=Object.create(null),this.optionIndexByFormattedValue=Object.create(null),this.optionValueByIndex=Object.create(null),(e.property===P.oV||this.state.previousPreviewValue===P.oV)&&(r+=24,0!==i.Children.count(this.props.children)&&(r+=17));let n=0;i.Children.forEach(e.children,i=>{if(null==i)return null;if("Option"===i.type.__CLASS_NAME__){let a=i.props.value??null,o=null==a?"":e.formatter.format(a);this.optionIndexByFormattedValue[o]=n,this.optionValueByIndex[n]=a,this.optionHeightByIndex[n]=i.props.height||24,this.childPositionByIndex[n]=r,r+=i.props.height||24,n++}else this.childPositionByIndex[n]=r,r+=17,n++}),r+=8,this.dropdownContentHeight=r},this.onMouseDown=f.cZ(this,"mousedown",e=>{if(this.props.onMouseDown||e.stopPropagation(),this.dropdownShown()){this.hideDropdown();return}(0,_.nl)()?this.setState({allowSelection:!0}):(this.setState({allowSelection:!1}),this.allowSelectionTask.reset(),this.allowSelectionTask.scheduleOnce(()=>{this.setState({allowSelection:!0})},250)),this.showDropdown(),this.setState({wasOpenedOnMouseClick:!0})}),this.showDropdown=()=>{this.resetUserInput(),this.startValue=this.props.property,(this.props.willShowDropdown?this.props.willShowDropdown():Promise.resolve()).then(()=>{var e,r,n,i;this.resizeDropdown(),this.props.onShowDropdownOverride?this.props.onShowDropdownOverride():this.props.dispatch(A.j7({type:this.props.id})),null!=this.state.focusedOptionValue&&(null==(r=(e=this.props).onOptionFocus)||r.call(e,this.state.focusedOptionValue,"option")),null==(i=(n=this.props).onShowDropdown)||i.call(n)})},this.hideDropdown=(e=!0,r=!1)=>{this.setState({currentDropdownAccepted:e}),e||this.clearPreview(),this.props.onHideDropdownOverride?this.props.onHideDropdownOverride():this.props.dispatch(A.oB()),this.hiddenInput&&!0===this.state.wasOpenedOnMouseClick&&(this.setState({wasOpenedOnMouseClick:!1}),this.hiddenInput.blur()),this.props.onDropdownHidden&&this.props.onDropdownHidden(r),this.startValue=void 0},this.resizeDropdown=()=>{let e;if(this.hiddenInput&&null==this.props.preventHiddenInput&&this.hiddenInput.focus(),this.container&&(this.containerRect=this.container.getBoundingClientRect()),!this.containerRect)return;let r=this.positionForFormattedValue(this.formattedSelectedValue()),n=-r,a=this.dropdownContentHeight,o=()=>n+a,s=(0,P.E7)(this.props.property),l=null!==s?this.props.formatter.format(s):this.props.customMixedText||q(),d=()=>this.containerRect.top+o(),c=null!=this.props.minTop?this.props.minTop:this.getDropdownMarginTop(),u=this.getDropdownMarginBottom(),p=window.innerHeight-u;if(this.props.neverConstrain||g.Ay.windows){let e=0;if(d()>p){let r=d()-p;n-=r,e-=r}if(this.containerRect.top+n<c){let r=c-(this.containerRect.top+n);n+=r,e+=r}if(d()>p){let e=d()-p;a-=e}this.shouldConstrainTop=!1,this.shouldConstrainBottom=!1,this.setState({topPositionOffsetForNeverConstrain:e})}else{if(this.props.targetDomNode&&this.props.targetDomNode!==document.body)throw Error("If you are parenting your <Select /> into a node that is NOT document.body via the targetDomNode prop, please ensure neverConstrain is also set to true. There are known issues with scrolling positioning with a specified targetDomNode.");if(this.shouldConstrainTop=this.containerRect.top+n<c,this.shouldConstrainTop){let o=this.containerRect.top-c;n=-o,a=this.dropdownContentHeight-(r-o),e=this.scrollTopForValueOverInput(n,l);let s=i.Children.toArray(this.props.children);for(let r=s.length-2;r>=0;r--){let i=this.childPositionByIndex[r]-e;if(8>=Math.abs(i)){if("SelectDivider"===s[r].type.__CLASS_NAME__||r===this.optionIndexByFormattedValue[l])break;let e=i;e+=(this.childPositionByIndex[r+1]-this.childPositionByIndex[r])/2,n+=e,a-=e;break}}}if(this.shouldConstrainBottom=d()>p,this.shouldConstrainBottom){a=window.innerHeight-(this.containerRect.top+n)-8,e=this.scrollTopForValueOverInput(n,l);let r=i.Children.toArray(this.props.children);for(let n=1;n<r.length;n++){let i=this.childPositionByIndex[n]-e;if(8>=Math.abs(i-a)){if("SelectDivider"===r[n-1].type.__CLASS_NAME__||n===this.optionIndexByFormattedValue[l])break;a+=i-a,a-=(this.childPositionByIndex[n]-this.childPositionByIndex[n-1])/2;break}}}}e=this.scrollTopForValueOverInput(n,l);let h=this.containerRect.top+n,m="function"==typeof this.props.dropdownAlignment?this.props.dropdownAlignment(this.containerRect.left):"left"===this.props.dropdownAlignment?this.containerRect.left:void 0;this.props.targetDomNode&&(h-=this.props.targetDomNode.getBoundingClientRect().top,m&&(m-=this.props.targetDomNode.getBoundingClientRect().left)),this.setState({focusedOptionValue:(0,P.E7)(this.props.property),dropdownScreenTop:h,dropdownScreenLeft:m,dropdownScreenRight:"right"===this.props.dropdownAlignment?window.innerWidth-this.containerRect.right:void 0,dropdownWidth:this.containerRect.width,dropdownHeight:a,dropdownScrollTop:e})},this.ignoreMouseMove=!1,this.onOptionMouseMove=(e,r,n)=>{this.ignoreMouseMove||(this.updateFocusedValue(e,r),this.resetUserInput()),this.ignoreMouseMove=!1},this.onOptionMouseUp=(e,r)=>{this.state.allowSelection&&(this.submitValue(e),this.hiddenInput&&this.hiddenInput.blur())},this.submitValue=e=>{this.clearPreview(),this.props.onChange(e,this.startValue!==e?M.zk.YES_FORCE_TRACKING_AS_EDIT:void 0),this.hideDropdown(!0)},this.clearPreview=()=>{var e,r;void 0!==this.state.previousPreviewValue&&(O.Y5.triggerActionInUserEditScope("undo"),this.setState({previousPreviewValue:void 0}),null==(r=(e=this.props).onPreview)||r.call(e,void 0))},this.updatePreview=(0,c.s)(e=>{var r,n,i;if(this.props.enablePreview){let a=L.qo.instance.getCurrentPage(),o=0;if(a&&(o=a.directlySelectedNodes.length??0),o>250||null===e){this.clearPreview();return}if(e&&(null==(r=this.props.optionsWithDisabledPreviews)?void 0:r.includes(e)))return;let s=void 0===this.state.previousPreviewValue;if(s){if(this.props.property===e)return;this.setState({previousPreviewValue:this.props.property}),null==(i=(n=this.props).onPreview)||i.call(n,this.props.property)}let l=performance.now();this.props.onChange(e,s?M.zk.YES_WITHOUT_TRACKING_AS_EDIT:M.zk.NO),(0,p.kc)().ee_canvas_previews_logging&&(0,d.sx)("on_canvas_preview",{timeMs:performance.now()-l,directlySelectedNodesCount:o,property:this.props.id},{batchRequest:!0})}},50),this.updateFocusedValue=(e,r)=>{var n,i;e===this.state.focusedOptionValue||(this.setState({focusedOptionValue:e}),null==(i=(n=this.props).onOptionFocus)||i.call(n,e??void 0,"option"),r||this.updatePreview(e))},this.dropdownRef=e=>{e&&(this.dropdownEl=a.findDOMNode(e),this.scrollValueOverInput(this.formattedSelectedValue()))},this.maxDropdownHeight=()=>{let e=null!=this.props.minTop?this.props.minTop:this.getDropdownMarginTop();return window.innerHeight-e-8},this.onScroll=(e,r,n)=>{let{dropdownScrollTop:i,dropdownHeight:a}=this.state;if(void 0===i||void 0===a)return;r&&n&&(this.dropdownEl.scrollTop+=n,this.dropdownEl.scrollTop=Math.max(0,this.dropdownEl.scrollTop));let o=this.dropdownEl.scrollTop,s=o-i;if(this.setState({dropdownScrollTop:o}),this.dropdownContentHeight>a&&(this.shouldConstrainTop&&s<0||this.shouldConstrainBottom&&s>0)){let e=null!=this.props.minTop?this.props.minTop:this.getDropdownMarginTop(),r=Math.min(a+Math.abs(s),this.dropdownContentHeight,this.maxDropdownHeight());if(r-a>0){let n=this.state.dropdownScreenTop;s>0&&void 0!==n&&(n=Math.max(n-s,e),o-=s,this.dropdownEl.scrollTop=o,this.setState({dropdownScrollTop:o})),this.setState({dropdownScreenTop:n,dropdownHeight:r})}}this.ignoreMouseMove=!0},this.onKeyDown=f.C0(this,"keydown",e=>{var r;if((0,R.jr)(e))return f.aH;if(this.dropdownShown()){let n=null==this.state.focusedOptionValue?"":this.props.formatter.format(this.state.focusedOptionValue),a=this.optionIndexByFormattedValue[n],o=!1;switch(e.keyCode){case h.Uz.UP_ARROW:case h.Uz.TAB:case h.Uz.DOWN_ARROW:{if(this.props.disableSelectFocus&&e.metaKey)break;let n=a;if(void 0!==a){let a;let s=i.Children.toArray(this.props.children),l=e.keyCode===h.Uz.UP_ARROW?-1:1;do n+=l,(a=s[n])&&(o=!!a.props.disabled);while(a&&"SelectDivider"===a.type.__CLASS_NAME__||(null==(r=null==a?void 0:a.props)?void 0:r.isHeader))}n=n??0;let s=this.optionValueByIndex[n];null!=s&&(this.updateFocusedValue(s,o),this.scrollValueIntoView(this.props.formatter.format(s)),this.ignoreMouseMove=!0,this.resetUserInput()),"until_keydown"===this.props.preventHiddenInput&&this.focus(),e.stopPropagation(),e.preventDefault();break}case h.Uz.ENTER:null!=this.state.focusedOptionValue&&this.submitValue(this.state.focusedOptionValue);break;case h.Uz.ESCAPE:this.hiddenInput&&this.hideDropdown(!1,!0);break;default:this.addInputChar(e.keyCode)}}else e.keyCode===h.Uz.ESCAPE?this.hiddenInput&&this.hiddenInput.blur():(this.props.openOnKeyPressed?this.props.openOnKeyPressed.includes(e.keyCode):Q.includes(e.keyCode))?(e.preventDefault(),this.showDropdown(),this.setState({allowSelection:!0})):this.addInputChar(e.keyCode)}),this.onFocus=f.Ht(this,"focus",()=>{var e,r;let n=(0,P.E7)(this.props.property);null!=n&&(null==(r=(e=this.props).onOptionFocus)||r.call(e,n,"input"))}),this.onBlur=f.Ht(this,"blur",()=>{var e,r;this.dropdownShown()||null==(r=(e=this.props).onOptionFocus)||r.call(e,void 0,"input")}),this.userInput="",this.lastInputAt=0,this.addInputChar=e=>{if(this.props.disableTyping)return;let r=String.fromCharCode(e).toLowerCase(),n=Date.now();this.userInput=n-this.lastInputAt<1500?this.userInput+r:r,this.lastInputAt=n;let a=null,o=!1;if(i.Children.forEach(this.props.children,e=>{null!=e&&null===a&&null!=e.props.value&&this.props.formatter.format(e.props.value).toLowerCase().startsWith(this.userInput)&&(a=e.props.value,o=!!e.props.disabled)}),null!==a){if(this.dropdownShown()){this.updateFocusedValue(a,o);let e=this.props.formatter.format(a);this.scrollValueOverInput(e)}else this.submitValue(a)}},this.isDisabled=()=>this.props.disabled||0===i.Children.count(this.props.children),this.cloneChildForRender=(e,r,n)=>{var a,o,s;let l=(e,r)=>null!=e&&null!=r&&this.props.formatter.isEqual?this.props.formatter.isEqual(e,r):e==r;if(null==e)return null;if(null==e.props.value){let n=this.childPositionByIndex[r];return i.cloneElement(e,{style:{...e.props.style||{},top:n}})}if(void 0===this.state.dropdownHeight||void 0===this.state.dropdownScrollTop)return this.keyRecycler.freeKeyForId(e.key),null;let d=Math.max(this.state.dropdownHeight,72),c=this.state.dropdownScrollTop-d,u=this.state.dropdownScrollTop+this.state.dropdownHeight+d,p=this.childPositionByIndex[r],h=p+(e.props.height||24);if(!(0,_.nl)()&&(h<c||p>u))return this.keyRecycler.freeKeyForId(e.key),null;let m=this.keyRecycler.getKeyForId(e.key),g=this.state.previousPreviewValue??this.props.property,y=l((0,P.E7)(g),e.props.value);null==(a=this.props.multipleSelections)||a.forEach(r=>{!y&&l((0,P.E7)(r),e.props.value||null)&&(y=!0)});let E=null==(s=(o=this.props.formatter).formatExtended)?void 0:s.call(o,e.props.value),b=(null==E?void 0:E.text)??this.props.formatter.format(e.props.value),{svg:v,fallbackSvg:S}=E||{},I=(0,P.SX)(e.props.value)?"auto":e.props.value;return i.cloneElement(e,{key:m,selected:y,formattedValue:b,svg:v,fallbackSvg:S,focused:l(this.state.focusedOptionValue,e.props.value),onMouseUp:e.props.disabled||!this.state.allowSelection?null:this.onOptionMouseUp.bind(this,e.props.value),onMouseMove:this.onOptionMouseMove.bind(this,e.props.value,e.props.disabled),id:`${n}-${r}`,style:{...e.props.style||{},top:p},recordingKey:e.props.recordingKey||f.Pt(this.props,`${I}`)})},this.state={focusedOptionValue:(0,P.E7)(this.props.property),showTopScrollIndicator:!1,showBottomScrollIndicator:!1,windowHeight:window.innerHeight,currentDropdownAccepted:!1,wasOpenedOnMouseClick:!1},this.cacheOptionPositions(e)}static get defaultProps(){return{dropdownAlignment:"left",...(0,p.kc)().fpl_select_body_portal?{targetDomNode:document.body}:{}}}componentDidMount(){super.componentDidMount(),window.addEventListener("resize",this.updateWindowHeight)}componentWillUnmount(){var e,r;super.componentWillUnmount(),this.allowSelectionTask.reset(),window.removeEventListener("resize",this.updateWindowHeight),this.dropdownShown()&&(null==(r=(e=this.props).onOptionFocus)||r.call(e,void 0,"input"),this.clearPreview())}UNSAFE_componentWillUpdate(e){this.cacheOptionPositions(e)}componentDidUpdate(e,r){var n,a;if(super.componentDidUpdate(this.props,this.state),this.hiddenInput&&null==this.props.preventHiddenInput&&(this.dropdownShown()&&!this.state.currentDropdownAccepted?this.hiddenInput.focus():this.props.blurOnChange&&this.hiddenInput.blur()),this.isDropdownShown(e)&&!this.dropdownShown()){if(this.state.currentDropdownAccepted?this.setState({currentDropdownAccepted:!1}):null==(a=(n=this.props).onCancel)||a.call(n),this.props.onOptionFocus){if(document.activeElement!==this.hiddenInput)this.props.onOptionFocus(void 0,"input");else{let e=(0,P.E7)(this.props.property);null!=e&&this.props.onOptionFocus(e,"input")}}this.setState({topPositionOffsetForNeverConstrain:void 0}),this.clearPreview()}if(this.dropdownShown()&&(this.isDropdownShown(e)||void 0!==this.state.dropdownHeight&&void 0!==this.state.dropdownScrollTop?(i.Children.count(this.props.children)!==i.Children.count(e.children)||r.windowHeight!==this.state.windowHeight)&&this.resizeDropdown():(this.resizeDropdown(),this.props.openBelowTarget&&this.updateFocusedValue(this.optionValueByIndex[0]))),this.container){let e=this.container.getBoundingClientRect(),n=void 0!==r.containerLeft&&void 0!==r.containerTop&&void 0!==e.left&&void 0!==e.top&&(Math.abs(r.containerLeft-e.left)>1||Math.abs(r.containerTop-e.top)>1);this.props.hideDropdownWhenContainerMoves&&n&&this.hideDropdown(),this.setState({containerLeft:e.left,containerTop:e.top})}}getDropdownMarginBottom(){return this.props.dropdownMarginBottom||8}getDropdownMarginTop(){return this.getDropdownMarginBottom()+(0,y.bG)()}positionForFormattedValue(e){let r=0,n=0;if(this.props.neverConstrain&&(n=this.state.topPositionOffsetForNeverConstrain||0),this.props.openBelowTarget)return-n;if(this.containerRect){let n=this.heightForFormattedValue(e);r=(this.containerRect.height-n)/2}return e!==this.props.customMixedText&&e!==q()&&e in this.optionIndexByFormattedValue?this.childPositionByIndex[this.optionIndexByFormattedValue[e]]-r-n:8-r}heightForFormattedValue(e){let r=this.optionIndexByFormattedValue[e];return null==this.optionHeightByIndex[r]?24:this.optionHeightByIndex[r]}scrollTopForValueOverInput(e,r){return Math.max(this.positionForFormattedValue(r)+e,0)}scrollValueOverInput(e){if(!this.dropdownEl||!this.containerRect||void 0===this.state.dropdownScreenTop)return;let r=this.scrollTopForValueOverInput(this.state.dropdownScreenTop-this.containerRect.top,e),{dropdownScreenTop:n}=this.state;if(r>0){let i=this.positionForFormattedValue(e)-r;if(i<16){let e=16-i;r-=e,n-=e}}this.dropdownEl.scrollTop=r,this.setState({dropdownScrollTop:r,dropdownScreenTop:n})}scrollValueIntoView(e){if(!this.dropdownEl||void 0===this.state.dropdownHeight||this.dropdownContentHeight<=this.state.dropdownHeight)return;let r=this.dropdownEl.scrollTop,n=this.dropdownEl.scrollTop+this.dropdownEl.offsetHeight,i=this.positionForFormattedValue(e),a=this.heightForFormattedValue(e),o=0;if(this.containerRect&&(o=(this.containerRect.height-a)/2),i<r+16){let e=i+-(a-16+o);this.dropdownEl.scrollTop=e,this.setState({dropdownScrollTop:e})}else if(i+a>n-16){let e=16+o,r=i-this.dropdownEl.offsetHeight+a+e;this.dropdownEl.scrollTop=r,this.setState({dropdownScrollTop:r})}}resetUserInput(){this.lastInputAt=0,this.userInput=""}renderInput(){return i.createElement(X,{formatter:this.props.formatter,property:this.props.property,inputClassName:this.props.inputClassName,inputWidth:this.props.inputWidth,borderless:this.props.borderless,chevronClassName:this.props.chevronClassName,truncation:this.props.truncation,svg:this.props.svg,icon:this.props.icon,ui3Icon:this.props.ui3Icon,rightIcon:this.props.rightIcon,fill:this.props.fill,fallbackSvg:this.props.fallbackSvg,svgClassName:this.props.svgClassName,customMixedText:this.props.customMixedText,dropdownOverride:this.props.dropdownOverride,isDisabled:this.isDisabled(),onMouseDown:this.onMouseDown,textAlign:this.props.textAlign})}render(){let e=l()(this.props.className,F),r=this.props.tooltip?{"data-tooltip":this.props.tooltip,"data-tooltip-type":k.Ib.TEXT}:{};if(this.isDisabled())return i.createElement("div",{className:e,"data-testid":this.props.dataTestId,"data-onboarding-key":this.props.dataOnboardingKey,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,"aria-label":this.props.ariaLabel,role:this.props.role,...r},this.renderInput());let n=[];if(this.dropdownShown()){let e=0;n=i.Children.map(this.props.children,r=>{let n=this.cloneChildForRender(r,e,this.dropdownListboxId);return r&&e++,n})||[],(this.props.property===P.oV||this.state.previousPreviewValue===P.oV)&&(0!==i.Children.count(this.props.children)&&n.unshift(i.createElement(en,{key:"mixed-divider",style:{top:32}})),n.unshift(i.createElement(er,{key:"select-option-mixed",selected:!0,formattedValue:this.props.customMixedText||q(),disabled:!0,style:{top:8}})))}let o=this.state.dropdownScrollTop||0,s=void 0!==this.state.dropdownHeight&&o+this.state.dropdownHeight<this.dropdownContentHeight,d=i.createElement("div",{className:`select--dropdownContainer--0zweb _overlayBase--_overlayBase--Rkj8l ${this.props.dropdownClassName||""}`,style:{top:(this.state.dropdownScreenTop??0)+(this.props.openBelowTarget&&this.containerRect?this.containerRect.height:0),height:this.state.dropdownHeight,left:this.state.dropdownScreenLeft,right:this.state.dropdownScreenRight,width:"function"==typeof this.props.dropdownWidth?this.state.dropdownWidth&&this.props.dropdownWidth(this.state.dropdownWidth):null!=this.props.dropdownWidth?this.props.dropdownWidth:this.state.dropdownWidth}},i.createElement("div",{className:"select--dropdownScrollClip--5ft6D"},i.createElement(Y,{className:"select--dropdown--8DAM-",ref:this.dropdownRef,dispatch:this.props.dispatch,onScroll:this.onScroll,onKeyDown:this.onKeyDown},i.createElement("div",{className:"select--dropdownContentWrapper--yDAla",style:{height:this.dropdownContentHeight,minHeight:this.dropdownContentHeight},onMouseLeave:()=>this.updateFocusedValue(null),role:"listbox","aria-label":this.props.ariaLabel,tabIndex:-1,id:this.dropdownListboxId,"data-testid":"select-dropdown-content"},n)),i.createElement(ei,{showTopIndicator:o>0,showBottomIndicator:s,onScroll:this.onScroll}))),c=null==this.state.focusedOptionValue?"":this.props.formatter.format(this.state.focusedOptionValue),u=this.optionIndexByFormattedValue[c];return i.createElement("div",{className:e,ref:this.containerRef,onClick:N.dG,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,"data-testid":this.props.dataTestId,"data-onboarding-key":this.props.dataOnboardingKey,...r},i.createElement("div",{ref:this.hiddenInputRef,"aria-label":this.props.ariaLabel,role:this.props.role,"aria-activedescendant":`${this.dropdownListboxId}-${u}`,"aria-owns":this.dropdownListboxId,"aria-controls":this.dropdownListboxId,"aria-expanded":"combobox"===this.props.role?this.dropdownShown():void 0,tabIndex:this.props.disableSelectFocus?-1:0,className:l()({"select--hiddenInput--3smCs raw_components--selectHiddenInput--bJ8vl":!0,"select--safariVoiceover--meUJ0":!0}),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur}),this.renderInput(),!this.props.targetDomNode&&this.dropdownShown()&&d,this.props.targetDomNode&&this.dropdownShown()&&a.createPortal(d,this.props.targetDomNode))}}function et({ignoreCheck:e,iconToReplaceCheck:r,rightCheck:n,selected:a,checkSvg:o,icon:s}){return i.createElement(i.Fragment,null,!e&&!r&&!n&&(a?i.createElement(S.B,{className:B,svg:o||W.A}):i.createElement("span",{className:B})),!!r&&i.createElement("div",{className:"select--iconToReplaceCheck--MMwXJ"},r),!r&&s)}ee.displayName="Select",ee.propTypes={children:(e,r,n)=>{let a=e[r],o=null;return i.Children.forEach(a,e=>{null==e||e.type&&e.type.__IS_VALID_SELECT_CHILD__||(o=Error(`${n} children should be of type 'Option' or 'SelectDivider'`))}),o}};class er extends f.o6{constructor(){super(...arguments),this.elementRef=null,this.onMouseUp=f.cZ(this,"mouseup",e=>{if(!this.props.onMouseUp)return f.aH;this.props.onMouseUp(e)}),this.onMouseMove=f.cZ(this,"mousemove",e=>{if(!this.props.onMouseMove)return f.aH;this.props.onMouseMove(e)})}getElement(){return this.elementRef}render(){let e;e=this.props.disabled?"select--optionDisabled--fEanh select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":this.props.focused?"select--optionFocused--8DSsx select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":this.props.isHeader?"select--optionHeader--34zhZ select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",this.props.fullWidth&&(e+=" select--optionFullWidth--sW3Zl");let r={...this.props.style||{},height:this.props.height||24};return i.createElement("div",{id:this.props.id,className:`${e} ${this.props.additionalStylesClassName??""}`,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,style:r,ref:e=>this.elementRef=e,"data-testid":this.props.dataTestId,"aria-label":this.props.ariaLabel??this.props.formattedValue,role:"option",tabIndex:-1,"data-dropdown-tooltip":this.props.tooltip,"data-tooltip-type":this.props.tooltipType,"aria-disabled":this.props.disabled},i.createElement(j,{...this.props,originalComponent:et,overrideKey:"leftCheckIcon"}),this.props.svg&&i.createElement(T.t,{className:"select--optionIcon--yngNx",svg:this.props.svg,fallbackSvg:this.props.fallbackSvg}),this.props.children||!this.props.truncateInMiddle?i.createElement("span",{className:l()("select--optionText--D3BVM select--optionTruncatedText--QqUBO ellipsis--ellipsis--Tjyfa",{"select--rightCheckText--vWTPu":this.props.rightCheck,"select--optionTextRemoveRightPadding--ULI6k":this.props.removeTextRightPadding}),dir:"auto",style:{textAlign:"left"}},this.props.children||this.props.formattedValue):i.createElement(b.R,{className:"select--optionTruncatedText--QqUBO",text:this.props.formattedValue||""}),this.props.rightLabel&&i.createElement("span",{className:l()("select--rightLabel--I-ojL",this.props.rightLabelStyle)},this.props.rightLabel),this.props.rightSettingsIcon,!this.props.ignoreCheck&&!this.props.iconToReplaceCheck&&this.props.rightCheck&&this.props.selected&&i.createElement(S.B,{className:"select--rightCheck--UdnTu",svg:this.props.checkSvg||W.A}))}}er.displayName="Option",er.__IS_VALID_SELECT_CHILD__=!0,er.__CLASS_NAME__="Option";class en extends i.PureComponent{render(){return i.createElement($,{...this.props,className:"select--divider--HfbAX"})}}en.displayName="SelectDivider",en.__IS_VALID_SELECT_CHILD__=!0,en.__CLASS_NAME__="SelectDivider";class ei extends i.PureComponent{constructor(){super(...arguments),this.scrollInterval=void 0,this.onMouseEnterIndicator=e=>r=>{this.scrollInterval&&clearInterval(this.scrollInterval),this.scrollInterval=setInterval(()=>{this.props.onScroll(void 0,!0,e)},25)},this.onMouseLeaveIndicator=e=>{clearInterval(this.scrollInterval)},this.onWheelIndicator=e=>{this.props.onScroll(void 0,!0,e.deltaY)}}componentWillUnmount(){clearInterval(this.scrollInterval)}render(){let e=this.props.showTopIndicator?{}:{display:"none"},r=this.props.showBottomIndicator?{}:{display:"none"};return i.createElement(i.Fragment,null,i.createElement("div",{className:"select--topScrollIndicator--nys8N select--scrollIndicator--U0Wy-",style:e,onMouseEnter:this.onMouseEnterIndicator(-8),onMouseLeave:this.onMouseLeaveIndicator,onMouseDown:N.dG,onClick:N.dG,onWheel:this.onWheelIndicator},i.createElement(S.B,{className:V,svg:G.A})),i.createElement("div",{className:"select--bottomScrollIndicator--C7EE7 select--scrollIndicator--U0Wy-",style:r,onMouseEnter:this.onMouseEnterIndicator(8),onMouseLeave:this.onMouseLeaveIndicator,onMouseDown:N.dG,onClick:N.dG,onWheel:this.onWheelIndicator},i.createElement(S.B,{className:V,svg:H.A})))}}},46859:(e,r,n)=>{"use strict";n.d(r,{r:()=>a});var i=n(11855);function a(){let e=(0,i.createContext)({}),r=e.Provider,n=()=>(0,i.useContext)(e);return{OverridesProvider:r,OverridableComponent:function(e){let{overrideKey:r,originalComponent:a,...o}=e,s=n()[r];return s?i.createElement(s,{...o,OriginalComponent:a}):i.createElement(a,{...o})}}}},7170:(e,r,n)=>{"use strict";n.d(r,{z:()=>o});var i=n(74626),a=n(33894);function o(){return(0,i.md)(a.fq)}},33894:(e,r,n)=>{"use strict";let i;n.d(r,{Bu:()=>h,Jc:()=>d,Lk:()=>c,Q8:()=>l,YH:()=>p,dd:()=>u,fq:()=>g,rE:()=>m}),n(11855);var a=n(88706),o=n(38580),s=n(43282);(0,a.tx)(null),(0,a.tx)({}),(0,a.tx)(null);let l=(0,a.tx)("");(0,o.eU)((0,s.g)());var d=((i=d||{}).ALL="all",i.EXTENSIONS="extensions",i.ASSETS="assets",i);let c=(0,a.tx)("all"),u=(0,a.tx)(null);(0,o.eU)(null);let p=(0,a.tx)([]),h=(0,o.eU)(!1),m=(0,o.eU)(null),g=(0,o.eU)(0);(0,o.eU)(!1)},72335:(e,r,n)=>{"use strict";n.d(r,{Kf:()=>I,MX:()=>_});var i=n(11855),a=n(43742),o=n(66712),s=n(53234),l=n(72206),d=n(28654),c=n(98099),u=n(1978),p=n(21123),h=n(60187),m=n(52800);function g(e){let{version:r}=(0,a.DP)();return i.createElement(f,{...e,uiVersion:r})}class f extends s.o6{constructor(){super(...arguments),this.dragging=!1,this.srgbCanvasElement=null,this.srgbCanvasRef=e=>{this.srgbCanvasElement=e,this.srgbCanvasElement&&((0,o.kc)().ee_color_management_force_canvas?(0,u.dM)({canvas:this.srgbCanvasElement,canvasWidth:this.canvasWidth(),canvasHeight:this.canvasHeight(),renderCanvas:this.props.renderCanvas,value:this.props.value,colorSpace:"srgb"}):this.props.renderCanvas(this.srgbCanvasElement,this.props.value))},this.displayP3CanvasElement=null,this.displayP3CanvasRef=e=>{let r=!!(null===this.displayP3CanvasElement&&e);this.displayP3CanvasElement=e,this.displayP3CanvasElement&&(0,u.dM)({canvas:this.displayP3CanvasElement,canvasWidth:this.canvasWidth(),canvasHeight:this.canvasHeight(),renderCanvas:this.props.renderCanvas,value:this.props.value,colorSpace:"display-p3",initializeCanvasColorSpace:r})},this.barElement=null,this.barRef=e=>{this.barElement=e,e&&this.disableWeirdHorizontalScrollingPageNavigation(e)},this.handleElement=null,this.handleRef=e=>{this.handleElement=e,this.handleElement&&(this.props.renderHandle(this.props.value,this.handleElement),this.disableWeirdHorizontalScrollingPageNavigation(this.handleElement))},this.offset=new l.Mi(0,0),this.setOffset=e=>{if(null!=e){let r=e.target.getBoundingClientRect(),n=new l.Mi(r.left+r.width/2,r.top+r.height/2);this.offset=n.subtract(new l.Mi(e.clientX,e.clientY))}else null!=this.props.offset?this.offset=this.props.offset:this.offset=new l.Mi(0,0)},this.ensureInitialized=()=>{if(!this.barElement)throw Error("callback called before rendering barElement")},this.mouseToValue=e=>{this.ensureInitialized();let r=this.barElement.getBoundingClientRect(),n=e.x+this.offset.x,i=e.y+this.offset.y;return n-=r.left+(this.props.handlePadding?this.props.handle/2:0),i-=r.top+(this.props.handlePadding?this.props.handle/2:0),n/=this.props.width,i/=this.props.height,n=Math.max(Math.min(n,1),0),i=Math.max(Math.min(i,1),0),new l.Mi(n,i)},this.valueToPosition=e=>{let r=e.x,n=e.y;return r*=this.props.width,n*=this.props.height,r-=this.props.handlePadding?0:this.props.handle/2,n-=this.props.handlePadding?0:this.props.handle/2,new l.Mi(r,n)},this.onPointerDown=s.Am(this,"pointerdown",e=>{e.stopPropagation(),this.dragging=!0,e.currentTarget.setPointerCapture(e.pointerId),e.currentTarget===this.handleElement?this.setOffset(e):(this.setOffset(),this.props.mouseCallback(this.mouseToValue(new l.Mi(e.clientX,e.clientY)),!1))},{recordMetadata:e=>{this.ensureInitialized();let r=this.barElement.getBoundingClientRect();return{left:(e.clientX-r.left)/r.width,top:(e.clientY-r.top)/r.height}},playbackMetadata:e=>{this.ensureInitialized();let r=this.barElement.getBoundingClientRect();return{clientX:e.left*r.width+r.left,clientY:e.top*r.height+r.top}}}),this.onPointerUp=s.Am(this,"pointerup",e=>{if(!this.dragging)return s.aH;this.dragging=!1,this.props.mouseCallback(this.mouseToValue(new l.Mi(e.clientX,e.clientY)),!0)},{recordMetadata:e=>{this.ensureInitialized();let r=this.barElement.getBoundingClientRect();return{left:(e.clientX-r.left)/r.width,top:(e.clientY-r.top)/r.height}},playbackMetadata:e=>{this.ensureInitialized();let r=this.barElement.getBoundingClientRect();return{clientX:e.left*r.width+r.left,clientY:e.top*r.height+r.top}}}),this.onPointerMove=e=>{this.dragging&&(e.stopPropagation(),this.props.mouseCallback(this.mouseToValue(new l.Mi(e.clientX,e.clientY)),!1))},this.onWheel=s.M5(this,"wheel",e=>{var r,n;e.stopPropagation();let i=e.ctrlKey;null==(n=(r=this.props).wheelCallback)||n.call(r,new l.Mi(e.deltaX,e.deltaY),e.altKey,i)},{recordMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode,ctrlKey:e.ctrlKey}),playbackMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode,ctrlKey:e.ctrlKey})}),this.onKeyDown=s.C0(this,"keydown",e=>{e.stopPropagation(),this.props.keyDownCallback(e)})}componentDidUpdate(e,r){super.componentDidUpdate(e,r),e.value!==this.props.value&&(this.srgbCanvasRef(this.srgbCanvasElement),this.displayP3CanvasRef(this.displayP3CanvasElement),this.handleRef(this.handleElement))}componentWillUnmount(){super.componentWillUnmount(),this.dragging=!1}disableWeirdHorizontalScrollingPageNavigation(e){e.addEventListener("wheel",e=>e.preventDefault(),{passive:!1})}canvasWidth(){return this.props.width+(this.props.handlePadding?this.props.handle:0)}canvasHeight(){return this.props.height+(this.props.handlePadding?this.props.handle:0)}render(){let e={position:"relative",boxSizing:"border-box",overflow:"hidden",width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0,...this.props.canvasWrapperStyles},r="ui3"===this.props.uiVersion?v:b,n={position:"absolute",boxShadow:`inset ${r}`,left:0,top:0,width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height?1:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0,...this.props.ghostStyles},a=this.valueToPosition(this.props.value),o={position:"absolute",boxSizing:"border-box",boxShadow:r,left:a.x,top:a.y,width:this.props.handle,height:this.props.handle,borderRadius:.5*this.props.handle},s=this.props.hitBoxMargin;return i.createElement("div",{className:this.props.containerClass,style:{position:"relative"}},i.createElement("div",{ref:this.barRef,style:e},this.props.colorProfile===m.RYP.SRGB?i.createElement("canvas",{ref:this.srgbCanvasRef,width:`${this.canvasWidth()}px`,height:`${this.canvasHeight()}px`}):void 0,this.props.colorProfile===m.RYP.DISPLAY_P3?i.createElement("canvas",{ref:this.displayP3CanvasRef,width:`${this.canvasWidth()}px`,height:`${this.canvasHeight()}px`}):void 0,i.createElement("div",{style:n})),this.props.children,i.createElement("div",{ref:this.handleRef,onMouseDown:c.dG,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onPointerMove:this.onPointerMove,onLostPointerCapture:this.onPointerUp,onWheel:this.onWheel,onKeyDown:this.onKeyDown,style:o,tabIndex:0,className:"slider_control--handle--5pBjz"}),i.createElement("div",{onMouseDown:c.dG,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onLostPointerCapture:this.onPointerUp,onPointerMove:this.onPointerMove,onWheel:this.onWheel,style:{position:"absolute",left:-s,top:-s,right:-s,bottom:-s}}))}}function _(e){return"ui3"===e?E:y}f.displayName="SliderControlInner";let y=12,E=16,b="0 0 0 .6px rgba(0, 0, 0, 0.2)",v="var(--elevation-200-canvas)",S=d.F;function I({hitBoxMargin:e,width:r,height:n,handlePadding:o,value:s,offset:l,mouseCallback:d,wheelCallback:c,keyDownCallback:u,renderCanvas:f,containerClass:y,recordingKey:E,canvasWrapperStyles:b,ghostStyles:v,colorProfile:I,colorHandle:T,children:w}){let{version:C}=(0,a.DP)(),A=(0,i.useCallback)((e,r)=>{let n=_(C);if(r.style.borderRadius=`${n/2}px`,r.style.borderStyle="solid",r.style.borderWidth="0.5px",r.style.borderColor="var(--color-icon-tertiary, white)",r.style.background="var(--color-bg, white)",T){r.style.borderColor="white",r.style.borderWidth=`${"ui3"===C?4:2}px`;let n=T(e);I===m.RYP.DISPLAY_P3&&(0,h.p3)()?r.style.backgroundImage=`url(${(0,p.rl)(n,I||m.RYP.SRGB)})`:r.style.background=S.format(n,(0,h.VG)(I||m.RYP.SRGB))}},[T,I,C]),N=_(C),O="ui3"===C?{outlineWidth:"1px",outlineStyle:"solid",outlineColor:"var(--color-bordertranslucent)",outlineOffset:"-1px"}:{};return i.createElement(g,{hitBoxMargin:e,width:r,height:n,handle:N,handlePadding:o,value:s,offset:l,mouseCallback:d,wheelCallback:c,keyDownCallback:u,renderCanvas:f,renderHandle:A,containerClass:y,recordingKey:E,canvasWrapperStyles:{...O,...b},ghostStyles:v,colorProfile:I},w)}},15056:(e,r,n)=>{"use strict";n.d(r,{W:()=>a});var i=n(98750);function a(e,r=1,n=10){if(e.keyCode!==i.Uz.LEFT_ARROW&&e.keyCode!==i.Uz.DOWN_ARROW&&e.keyCode!==i.Uz.RIGHT_ARROW&&e.keyCode!==i.Uz.UP_ARROW)return 0;let a=e.shiftKey?n:r;return(e.keyCode===i.Uz.LEFT_ARROW||e.keyCode===i.Uz.DOWN_ARROW)&&(a*=-1),a}},47968:(e,r,n)=>{"use strict";n.d(r,{TT:()=>p,go:()=>m,oo:()=>u,ul:()=>h});var i=n(38329),a=n(66712),o=n(39863),s=n(31828),l=n(98606);let d="https://static.figma.com/uploads/6a475d98f86a36f65dcb117d395ba97299936193",c="#FADCA2",u={"set-tool-default":{assetUrl:"https://static.figma.com/uploads/9b325bed1ac3574234e9c70763ecdd885da55cb7",assetBgColor:"#FFC470",getDescription:()=>(0,o.t)("help_on_hover.select_and_move_objects")},"set-tool-scale":{assetUrl:"https://static.figma.com/uploads/695d3c7532184cf5a8ef6747952a8364630231f8",assetBgColor:"#FFC470",getDescription:()=>(0,o.t)("help_on_hover.proportionally_resize_objects")},"set-tool-frame":{assetUrl:"https://static.figma.com/uploads/3c6700181ba85f0d0e79c98d4261bdaded9a10bd",assetBgColor:"#AFBCCF",getDescription:()=>(0,o.t)("help_on_hover.draw_containers_to_hold_designs")},"set-tool-section":{assetUrl:"https://static.figma.com/uploads/bda225edcdd987d7031e762b1b4d50dff769c6b0",assetBgColor:"#AFBCCF",getDescription:()=>(0,o.t)("help_on_hover.group_related_designs_to_organize_your_canvas_for_collaborators")},"set-tool-slice":{assetUrl:"https://static.figma.com/uploads/6cd822eb7d3f0ddf161a5df473f6500e08658364",assetBgColor:"#AFBCCF",getDescription:()=>(0,o.t)("help_on_hover.export_a_specific_part_of_your_design")},"set-tool-rectangle":{assetUrl:d,assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.draw_vector_shapes_like_rectangles_circles_and_more")},"set-tool-line":{assetUrl:"https://static.figma.com/uploads/8d7c470e7cfc3ad3b163d549df7119ff6e611aee",assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.draw_lines_between_two_points")},"set-tool-arrow":{assetUrl:"https://static.figma.com/uploads/1ab8ad201e6b384e4e0e1aa22c101f9eeabe369f",assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.draw_arrows_between_two_points")},"set-tool-ellipse":{assetUrl:d,assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.draw_vector_shapes_like_rectangles_circles_and_more")},"set-tool-regular-polygon":{assetUrl:d,assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.draw_vector_shapes_like_rectangles_circles_and_more")},"set-tool-star":{assetUrl:d,assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.draw_vector_shapes_like_rectangles_circles_and_more")},place:{assetUrl:"https://static.figma.com/uploads/367bd03bfb73337091cc9a6f78a192d021d666e9",assetBgColor:c,getDescription:()=>(0,o.t)("help_on_hover.add_images_or_video_to_your_design")},"set-tool-pen":{assetUrl:"https://static.figma.com/uploads/953fba23ddb40a712dc12ddef0c774814c761053",assetBgColor:"#FFC6F2",getDescription:()=>(0,o.t)("help_on_hover.draw_vector_shapes_and_paths")},"set-tool-pencil":{assetUrl:"https://static.figma.com/uploads/7788b8b59b8aac4b6e40bd999aa24fda8b9c0ce9",assetBgColor:"#FFC6F2",getDescription:()=>(0,o.t)("help_on_hover.draw_freehand_sketches")},"set-tool-type":{assetUrl:"https://static.figma.com/uploads/81cb004fdcc52a09b70f279dfecd345809b890d5",assetBgColor:"#D5EB97",getDescription:()=>(0,o.t)("help_on_hover.add_a_text_box")},"component-insert":{assetUrl:"https://static.figma.com/uploads/a013b57cf8f53dce708621e1055ba2ba05e80067",assetBgColor:"#E9FDEF",getDescription:()=>(0,o.t)("help_on_hover.run_plugins_and_widgets_or_add_components_from_libraries")},"set-tool-hand":{assetUrl:"https://static.figma.com/uploads/47b9fd427186f071f21f2c5fde49f235a255377a",assetBgColor:"#80CAFF",getDescription:()=>(0,o.t)("help_on_hover.navigate_the_canvas")},"set-tool-comments":{assetUrl:"https://static.figma.com/uploads/e5fa78c66fa8ba1a544d2b511df5dac34722a443",assetBgColor:"#C7B9FF",getDescription:()=>(0,o.t)("help_on_hover.leave_notes_or_tag_collaborators")}},p=Object.keys(u);function h(e){return(null==e?void 0:e.kind)===l.Ui.KEY&&p.includes(e.key)}function m(){return(0,a.kc)().exp_help_on_hover_ff&&i.D&&i.D.getState().userFlags.in_help_on_hover_exp_treatment?[{name:"show-ui-hints-in-toolbar",get checked(){return!i.D.getState().userFlags.disabled_help_on_hover_ui_hints},callback:(e,r,n)=>{n(s.b({disabled_help_on_hover_ui_hints:!i.D.getState().userFlags.disabled_help_on_hover_ui_hints}))},flags:["design"]}]:[]}},95610:(e,r,n)=>{"use strict";let i;n(56390),n(24266),n(97306),n(57630),n(38269),n(93017),n(26622),n(41860),n(46778);var a=((i=a||{})[i.FORWARD=0]="FORWARD",i[i.BACKWARD=1]="BACKWARD",i)},83859:(e,r,n)=>{"use strict";n.d(r,{p:()=>i});let i=n(11855).createContext(void 0)},33573:(e,r,n)=>{"use strict";n.d(r,{rY:()=>l});var i=n(35283),a=n(27367),o=n(31664);n(39863),n(75664);var s=n(52800);function l(e,r){if(e===r)return!0;if(!e||!e.dataType||!e.resolvedDataType||!e.value||!r||!r.dataType||!r.resolvedDataType||!r.value||e.dataType!==r.dataType||e.resolvedDataType!==r.resolvedDataType)return!1;switch(e.dataType){case"BOOLEAN":return e.value.boolValue===r.value.boolValue;case"FLOAT":return e.value.floatValue===r.value.floatValue;case"STRING":return e.value.textValue===r.value.textValue;case"COLOR":return(0,i.B1)(e.value.colorValue),(0,i.B1)(r.value.colorValue),(0,a.YU)(e.value.colorValue)===(0,a.YU)(r.value.colorValue);default:return(0,o.c2)(e,r)}}n(48661),n(78655),s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.STRING,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.BOOLEAN,s.rXF.SYMBOL_ID,s.rXF.STRING,s.rXF.STRING,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT,s.rXF.FLOAT},78655:(e,r,n)=>{"use strict";n.d(r,{Hc:()=>c,dI:()=>l,fn:()=>o,sH:()=>a,w1:()=>s,wL:()=>d});var i=n(86571);function a(e){let r=i.sD.fromString(e);return r?i.sD.toKiwi(r):null}function o(e){let r=i.sD.fromString(e);return!!r&&i.sD.isValid(r)}function s(e){return{guid:e}}function l(e){let r=i.sD.fromKiwi(e);return r?i.sD.toString(r):"(invalid variable id)"}function d(e){return l(s(e))}function c(e,r){return i.sD.toString(i.sD.fromRef({key:e,version:r}))}},95245:(e,r,n)=>{"use strict";let i,a;n.d(r,{J:()=>_,w:()=>k});var o=n(11855),s=n(29019),l=n.n(s),d=n(24897),c=n(55942),u=n(19101),p=n(47131);let h=o.forwardRef(function({text:e,className:r,showTooltip:n=p.i.WHEN_TRUNCATED,truncate:i="end"},a){let s=o.useRef(null),d=(0,p.m)(e,n,s);return o.createElement("div",{ref:(0,c.A)(a,s),className:l()({"truncated_text--rootTruncateStart--aClXJ":"start"===i},"truncated_text--root--kx5Ta ellipsis--ellipsis--Tjyfa",r),"aria-label":e,...d},o.createElement(u.e,{condition:"start"===i,wrapper:e=>o.createElement("span",{className:"truncated_text--directionFix--T1NOI"},e)},o.createElement(o.Fragment,null,e)))});var m=n(39863),g=n(52800),f=n(98606),_=((i=_||{}).DEFAULT="default",i.DISABLED="disabled",i.DISABLED_TERTIARY="disabled_tertiary",i.SELECTED="selected",i.IN_SELECTION="in_selection",i.COMPONENT="component",i);let y=o.forwardRef(function({className:e,colorTheme:r="default",disableHover:n=!1,isNarrow:i=!1,hasIcon:a=!1,children:s,...d},c){return o.createElement("div",{ref:c,className:l()({"variable_pill_base--pillBase--HIf9B":!0,"variable_pill_base--pillDefault--5YSwx":"default"===r,"variable_pill_base--pillDefaultComponent--GMeSg":"component"===r,"variable_pill_base--pillHasIcon--qR8Mw":a,"variable_pill_base--pillDisabled--Xci9C":"disabled"===r,"variable_pill_base--pillDisabledTertiary--C2fJb":"disabled_tertiary"===r,"variable_pill_base--pillSelected--WuPhz":"selected"===r,"variable_pill_base--pillInSelection--HupPT":"in_selection"===r,"variable_pill_base--pillNarrow--Oai69":i,"variable_pill_base--pillDisableHover--A9znd":n},e),...d},s)});var E=n(17110),b=n(35283),v=n(72174),S=n(63089),I=n(20396);let T="variable_thumbnail--thumbnailIcon--3Cz6a",w="variable_thumbnail--thumbnailIconComponent--26nFT",C="variable_thumbnail--disabled--E2aKM";var A=n(66412),N=n(49110),O=((a=O||{})[a.NONE=0]="NONE",a[a.DEFAULT=1]="DEFAULT",a[a.COMPONENT=2]="COMPONENT",a);function R({resolvedType:e,disabled:r,variableThumbnailIconType:n=1}){return o.createElement("div",{className:l()({[T]:1===n,[w]:2===n,[C]:r})},o.createElement(I.i,{showTooltip:!r,type:e}))}function P({disabled:e}){return o.createElement("div",{className:l()({"variable_thumbnail--questionMark--ge9gJ":!0,[C]:e})},"?")}function L({value:e,resolvedTypeFallback:r,disabled:n,onColorChitMouseDown:i,variableThumbnailIconType:a=1}){if(!("MIXED"!==e&&(0,v.Vq)(e)&&e.hasOwnProperty("resolvedType")))return(0,v.uy)(r)?o.createElement(P,{disabled:!!n}):o.createElement(R,{resolvedType:r,disabled:!!n,variableThumbnailIconType:a});switch(e.resolvedType){case g.rXF.COLOR:return o.createElement(S.J,{color:e.value,onMouseDown:i});case g.rXF.BOOLEAN:return o.createElement(d.B,{className:l()({[T]:1===a,[w]:2===a,[C]:n}),svg:e.value?N.A:A.A});case g.rXF.FLOAT:case g.rXF.STRING:return o.createElement(R,{resolvedType:e.resolvedType,disabled:!!n,variableThumbnailIconType:a});default:(0,b.xb)(e)}}var D=n(41053),M=n(32208);let k=o.forwardRef(({colorTheme:e=_.DEFAULT,invalid:r=!1,isDeleted:n=!1,isNarrow:i=!1,text:a,thumbnailValue:s,tooltip:c,disableHover:u,isHovered:b,isInferred:v,containerClassName:S,dataTestId:I},T)=>{let w=(null==s?void 0:s.resolvedType)===g.rXF.COLOR,C=!w&&!!s&&!n,{isSelected:A}=(0,E.e)(),N=e===_.DEFAULT&&A?_.IN_SELECTION:e;return o.createElement("div",{ref:T,className:l()("variable_pill--root--0ibUT",b&&"variable_pill--isHovered--qumV3"),"data-testid":"variable-pill-root"},w&&!n&&o.createElement(L,{value:s}),o.createElement(y,{className:l()("variable_pill--pill--NU8eR variable_pill_base--pillBase--HIf9B",S),colorTheme:N,disableHover:u,isNarrow:i,hasIcon:C,"data-tooltip-type":c?f.Ib.TEXT:void 0,"data-tooltip":c,"data-testid":I},C&&o.createElement(L,{disabled:[_.DISABLED,_.DISABLED_TERTIARY].includes(N),value:s,variableThumbnailIconType:N===_.COMPONENT?O.COMPONENT:O.DEFAULT}),n&&o.createElement("div",{"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,m.t)("variables.variable_was_deleted")},o.createElement(d.B,{className:"variable_pill--deletedIcon--QaRlG",svg:D.A})),o.createElement("div",{className:"variable_pill--text--Fm5k5"},o.createElement(h,{className:l()({"variable_pill--invalid--dxyCJ":r}),truncate:"start",text:a,showTooltip:p.i.WHEN_TRUNCATED})),v&&o.createElement(d.B,{className:"variable_pill--inferredIcon--eLJef",svg:M.A})))})},52277:(e,r,n)=>{"use strict";n.d(r,{J:()=>l.J,P:()=>d});var i=n(11855),a=n(29019),o=n.n(a),s=n(6573),l=n(95245);function d({value:e,variableId:r,colorTheme:n=l.J.DEFAULT,disableHover:a=!1,invalid:d=!1,zeroSizeLayout:c=!1,isStandalone:u=!1,isDeleted:p=!1,offsetLeft:h=0,offsetTop:m=0,styleOverride:g,classNameOverride:f,thumbnailValue:_,tooltipOverride:y,onClick:E}){let b=(0,s.tZ)(r),v=i.createElement("div",{role:"button",className:o()(f,{"variable_pill_cover--pillCover--yMxA4":!0,"variable_pill_cover--clickable--h-DH6":!!E,"variable_pill_cover--pillStandalone--X5QYA":u}),style:u?g:{transform:`translate(${h}px, ${m}px)`},"aria-disabled":!E,onClick:E,tabIndex:0},i.createElement(l.w,{colorTheme:n,invalid:d,isDeleted:p,disableHover:a,text:e,thumbnailValue:_,tooltip:y||(b!==e?b:void 0)}));return c?i.createElement("div",{className:"variable_pill_cover--zeroSizeLayout--L8EvH"},v):v}},17110:(e,r,n)=>{"use strict";n.d(r,{e:()=>s,y:()=>o});var i=n(11855);let a=i.createContext({isSelected:!1});function o({children:e,isSelected:r=!1}){return i.createElement(a.Provider,{value:i.useMemo(()=>({isSelected:r}),[r])},e)}function s(){return i.useContext(a)}},35321:(e,r,n)=>{"use strict";n.d(r,{Hc:()=>l,dI:()=>o,fn:()=>d,sH:()=>a,wL:()=>s});var i=n(86571);function a(e){let r=i.gr.fromString(e);return r?i.gr.toKiwi(r):null}function o(e){let r=i.gr.fromKiwi(e);return r?i.gr.toString(r):"<invalid>"}function s(e){return o({guid:e})}function l(e,r){return i.gr.toString(i.gr.fromRef({key:e,version:r}))}function d(e){let r=i.gr.fromString(e);return!!r&&i.gr.isValid(r)}},20396:(e,r,n)=>{"use strict";n.d(r,{i:()=>l});var i=n(11855),a=n(24897),o=n(98606),s=n(73051);function l({showTooltip:e=!0,type:r}){let n=(0,s.F)(r);return i.createElement(a.B,{svg:n.iconUI2,"data-tooltip-type":e?o.Ib.TEXT:void 0,"data-tooltip":n.name})}},91215:(e,r,n)=>{"use strict";n.d(r,{Yt:()=>et,Ev:()=>em});var i=n(36149),a=n.n(i),o=n(89865),s=n.n(o),l=n(2691),d=n.n(l),c=n(17068),u=n(66712),p=n(38580),h=n(74626),m=n(84107),g=n(94255),f=n(60601),_=n(72174),y=n(64898),E=n(15009),b=n(96673),v=n(9225);let S=0;n(75224);var I=n(79453);n(37459);var T=n(75387);n(99506);var w=n(91205);function C(e,r){return r.hub_file_id?e.includes(r.hub_file_id):!!(0,b.wJ)(r.file_key)&&e.includes(r.file_key)}let A=(0,p.eU)(null),N=(0,p.eU)(S++),O=e=>w.M4.Query({fetch:async r=>await (0,v.S8)(e,r.arguments)}),R=O(I.Lom),P=O(I.bsh);function L(e,r,n){let i=n(A),a=n(N),o=n(e({arguments:r,nonce:a}));return"loading"===o.status&&null!==i&&(o=n(e({arguments:r,nonce:i}))),o}O(I.yFE),O(I.vsj);var D=n(56390),M=n(52800);n(9388);var k=n(85052);let x=null,F=null,U=null,B=null,V=null;new k.b("VariableMirrorVariableResolvedValueEmitter"),new k.b("VariableMirrorExplicitModeEmitter");var H=n(74011),G=n(29928),W=n(73454);let z=(0,H.SG)(()=>M.Ez5.libraryAssets().fileLevelVariableSetsSubscribed),K=(0,p.eU)(e=>e(z).map(W.Rn)),j=(0,H.SG)(()=>M.Ez5.libraryAssets().fileLevelVariableSetsLocal),Y=(0,p.eU)(e=>e(j).map(W.Dt)),$=(0,H.SG)(()=>M.Ez5.libraryAssets().fileLevelVariablesSubscribed),q=(0,H.SG)(()=>M.Ez5.libraryAssets().fileLevelVariablesLocal),Z=(0,p.eU)(e=>e(q).map(W.kz)),X=(0,p.eU)(e=>e($).map(W.ZI)),J=(0,p.eU)(e=>({...s()(e(Y),e=>e.keyForPublish),...s()(e(K),e=>e.key)}));(0,p.eU)(e=>({...s()(e(Z),e=>e.keyForPublish),...s()(e(X),e=>e.key)}));let Q=(()=>{let e=(0,G.OX)({},"SYNC_ATOM_VARIABLE_SETS_BY_ID"),r=(0,h.FZ)(e,(e,r)=>{if(r){if("added"in r){let n=s()(r.added.map(W.Dt),e=>e.node_id);return{...e,...n}}if("deleted"in r){let n={...e};return delete n[r.deleted],n}}return{}});return r.onMount=e=>{D.Y5.onReady().then(()=>{e({added:M.CWU.getLocalVariableSetsInfo()})});let r=(r=>{e(r)},()=>{});return()=>{r(),e(null)}},(0,G.S9)(r,e.reducer)})(),ee=(0,p.eU)(e=>({...e(Q),...e(ed)}));(0,h.Iz)(e=>(0,p.eU)(r=>r(Q)[e])),(0,h.Iz)(e=>(0,p.eU)(r=>r(ed)[e])),(0,h.Iz)(e=>(0,p.eU)(r=>r(ee)[e])),(0,h.Iz)(e=>(0,m.BV)(r=>n=>n(r({fileKey:e})))),(0,h.Iz)(e=>(0,p.eU)(r=>{let n={};for(let i of e)n[i]=r((0,I.o9k)({fileKey:i}));return n}),c.lu),(0,h.Iz)(e=>(0,m.eS)(r=>n=>n(r({fileKey:e})))),(0,h.Iz)(e=>(0,p.eU)(r=>{let n={};for(let i of e)n[i]=r((0,g.he)(I.cmY)({variableCollectionKey:i}));return n}),c.lu);let et=(0,h.Iz)(e=>(0,p.eU)(r=>{let n={};for(let i of e)n[i]=r((0,I.jXq)({fileKey:i}));return n}),c.lu);(0,h.Iz)(e=>(0,p.eU)(r=>{let n={};for(let i of e)n[i]=r((0,I.eHy)({hubFileId:i}));return n}),c.lu);let er=(0,p.eU)(e=>{let r=e(eh),n=e(T.R4),i=((0,u.kc)().dse_preset_libraries?Object.values(r).filter(e=>!C(n,e)):Object.values(r)).map(e=>e.key).sort();return e((0,m.a5)(i.map(e=>({key:e})))).reduce((e,r)=>(e[(0,E.ey)(r.args.key)]=r.result,e),{})}),en=(0,p.eU)(e=>{let r=e(eh),n=e(T.R4),i=L(R,(e(b.JB)?Object.values(r).filter(e=>C(n,e)):[]).map(e=>e.key).sort().map(e=>({key:e})),e);return"loaded"!==i.status?{}:i.data.reduce((e,r)=>{if("loaded"!==r.result.status)return e;let n=r.result.data.variable;if(!n)return e;let i=(0,E.ey)(n.key);return{...e,[i]:r.result}},{})}),ei=(0,p.eU)(e=>({...e(er),...e(en)}),f.lQ);(0,G.Pj)(ei,"SYNC_ATOM_USED_LIBRARY_VARIABLES_BY_KEY",{});let ea=(0,p.eU)(e=>{let r=[...new Set(Object.values(e(er)).map(e=>{var r,n;return null==(n=null==(r=e.data)?void 0:r.variable)?void 0:n.variableCollection.key}).filter(_.Vq))].sort();return e((0,m.Ew)(r.map(e=>({key:e})))).reduce((e,r)=>(e[(0,E.yG)(r.args.key)]=r.result,e),{})},f.lQ),eo=(0,p.eU)(e=>{let r=L(P,[...new Set(Object.values(e(en)).map(e=>{var r,n;return null==(n=null==(r=e.data)?void 0:r.variable)?void 0:n.variableCollection.key}).filter(_.Vq))].sort().map(e=>({key:e})),e);return"loaded"!==r.status?{}:r.data.reduce((e,r)=>{if("loaded"!==r.result.status)return e;let n=r.result.data.variableCollection;if(!n)return e;let i=(0,E.ey)(n.key);return{...e,[i]:r.result}},{})}),es=(0,p.eU)(e=>({...e(ea),...e(eo)}),f.lQ);(0,G.Pj)(es,"SYNC_ATOM_USED_LIBRARY_VARIABLE_SETS_BY_KEY",{}),(0,p.eU)(e=>{let r=Object.keys(e(Q));if(0!==r.length)return r[0]});let el=(0,p.eU)(e=>Object.values(e(Q))),ed=(()=>{let e=(0,G.OX)({},"SYNC_ATOM_SUBSCRIBED_VARIABLE_SETS_BY_ID"),r=(0,h.FZ)(e,(e,r)=>{if(r){if("added"in r){let n=s()(r.added.map(W.Rn),e=>e.node_id);return{...e,...n}}{let n={...e};return delete n[r.deleted],n}}return{}});return r.onMount=e=>{D.Y5.onReady().then(()=>{e({added:M.CWU.getSubscribedVariableSetsInfo()})});let r=(r=>{e(r)},()=>{});return()=>{r(),e(null)}},(0,G.S9)(r,e.reducer)})(),ec=(()=>{let e=(0,G.OX)({},"SYNC_ATOM_LOCAL_VARIABLES_BY_ID"),r=(0,h.FZ)(e,(e,r)=>{if(r){if("added"in r)return{...e,...s()(r.added.map(W.kz),e=>e.node_id)};if("deleted"in r){let n=new Set(r.deleted);return d()(e,e=>e.node_id&&!n.has(e.node_id))}if("setDeleted"in r)return d()(e,e=>e.variableSetId!==r.setDeleted)}return{}});return r.onMount=e=>{D.Y5.onReady().then(()=>{e({added:M.CWU.getLocalVariablesInfo()})});let r=(r=>{e(r)},()=>{});return()=>{r(),e(null)}},(0,G.S9)(r,e.reducer)})(),eu=(0,h.Iz)(e=>(0,p.eU)(r=>r(ec)[e]??null)),ep=(0,p.eU)(e=>Object.keys(e(ec)).map(r=>e(eu(r))).sort((e,r)=>-(0,y.Ez)(e.sortPosition,null==r?void 0:r.sortPosition)));(0,p.eU)(e=>a()(e(ep),e=>e.variableSetId));let eh=(()=>{let e=(0,G.OX)({},"SYNC_ATOM_SUBSCRIBED_VARIABLES_BY_ID"),r=(0,h.FZ)(e,(e,r)=>{if(r){if("added"in r)return{...e,...s()(r.added.map(W.ZI),e=>e.node_id)};if("deleted"in r)return d()(e,e=>e.id!==r.deleted);if("setDeleted"in r)return d()(e,e=>e.variableSetId!==r.setDeleted)}return{}});return r.onMount=e=>{D.Y5.onReady().then(()=>{e({added:M.CWU.getSubscribedVariablesInfo()})});let r=(r=>{e(r)},()=>{});return()=>{r(),e(null)}},(0,G.S9)(r,e.reducer)})();(0,h.Iz)(e=>(0,p.eU)(r=>r(eh)[e]??null));let em=(0,h.Iz)(e=>(0,p.eU)(r=>r(ec)[e]??r(eh)[e]??null)),eg=(()=>{let e=(0,p.eU)({}),r=(0,h.FZ)(e,(e,r)=>{if(r){if("added"in r)return{...e,...s()(r.added.map(W.Vk),e=>e.node_id)};if("deleted"in r){let n=new Set(r.deleted);return d()(e,e=>e.node_id&&!n.has(e.node_id))}return{}}return e});return r.onMount=e=>{D.Y5.onReady().then(()=>{e({added:M.CWU.getLocalVariableOverridesInfo()})});let r=(r=>{e(r)},()=>{});return()=>{r(),e(null)}},r})();(0,h.Iz)(e=>(0,p.eU)(r=>{let n=Object.values(r(eg)).filter(r=>r.variableSetId===e);return s()(n,e=>e.rootVariableKey)})),(0,p.eU)(e=>{if(!(0,u.kc)().ds_variables_resolution_v2||!(0,u.kc)().ds_variables_bump_set_versions)return!1;let r=e(el),n=e(J);return!!r.some(e=>(0,_.uy)(n[e.keyForPublish]))})},26698:(e,r,n)=>{"use strict";let i;n.d(r,{s6:()=>P,f8:()=>R});var a=n(11855),o=n(88507);n(84934);var s=n(66712),l=n(38580),d=n(74626);n(76621);var c=n(39863),u=n(62275);n(96226),n(23239);var p=n(94687),h=n(29928);let m=(0,h.bt)(({currentUserOrgId:e,orgById:r})=>(0,p.td)(e,r));(0,h.bt)(({orgUsersByOrgId:e})=>e);var g=n(35682);n(99506);var f=n(43067),_=n(43987);n(874),n(51363);var y=n(99569),E=n(46689),b=n(92592),v=n(1505),S=n(57766),I=n(37870),T=n(88578),w=n(27347);(0,I.Ju)(function({titleText:e,bodyText:r}){let n=(0,o.wA)(),i=(0,o.d4)(e=>e.repos),s=(0,g.q5)(),l=(0,a.useCallback)(e=>{n(b.F.enqueue({type:"file-moved",i18n:{id:"visual_bell.file_move_folder",params:{folderName:e}}}))},[n]);return a.createElement(T.aF,{title:e,size:"small"},a.createElement(y.s_,{dispatch:n}),r,a.createElement("div",{className:"upsell_modals--footerRow--barMd modal--buttonRow--o2A0S"},a.createElement("div",{className:"upsell_modals--rightAlignedButtons--Y-exM"},a.createElement(E.tM,{onClick:()=>{n(u.Ce())},trackingProperties:{trackingDescriptor:v.c.CANCEL}},a.createElement(c.Tx,{id:"upsell.shared.cancel"})),a.createElement(E.rb,{href:"#",className:"upsell_modals--confirmButton--Yk-OB modal--confirmButton--SNUDv",onClick:()=>{if(!s)return;let e=(0,S.up)(s,i);(0,w.h)({key:s.key,name:s.name,folder_id:s.folderId,team_id:s.teamId,editor_type:s.editorType,is_team_template:s.isTeamTemplate,parent_org_id:s.parentOrgId},e,n,{handlesVisualBell:!0,callback:l},{isPublishing:!1})}},a.createElement(c.Tx,{id:"upsell.move_file_modes.move_to_team"})))))},"MoveFileProPlus"),n(84129);var C=((i=C||{}).STARTER="starter",i.PRO="pro",i.ORG="org",i.ENTERPRISE="enterprise",i);function A(){return(0,s.kc)().ds_variables_pp_force_enterprise?"enterprise":(0,s.kc)().ds_variables_pp_force_org?"org":(0,s.kc)().ds_variables_pp_force_pro?"pro":(0,s.kc)().ds_variables_pp_force_starter?"starter":null}let N=(0,l.eU)(e=>{let r=e(g.Hu),n=e(m)??null;return A()||((0,f.kA)(n)?"enterprise":n?"org":(0,_.w5)(r)?"pro":"starter")}),O={starter:1,pro:4,org:4,enterprise:40};function R(){return O[A()??d.zl.get(N)]}function P(){return"starter"!==(((0,s.kc)().prototype_multi_path_paywall?null:"pro")??d.zl.get(N))}},73051:(e,r,n)=>{"use strict";n.d(r,{F:()=>f});var i=n(11855);function a(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M4.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7ZM4 4.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7ZM6.5 6a.5.5 0 0 0-.5.5V7a.5.5 0 0 0 1 0h.5v2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1V7H9a.5.5 0 0 0 1 0v-.5a.5.5 0 0 0-.5-.5h-3Z",clipRule:"evenodd"}))}var o=n(37456);function s(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M4.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7ZM4 4.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7Zm3 1a.5.5 0 0 0-1 0V6h-.5a.5.5 0 0 0 0 1H6v2h-.5a.5.5 0 0 0 0 1H6v.5a.5.5 0 0 0 1 0V10h2v.5a.5.5 0 0 0 1 0V10h.5a.5.5 0 0 0 0-1H10V7h.5a.5.5 0 0 0 0-1H10v-.5a.5.5 0 0 0-1 0V6H7v-.5ZM7 9V7h2v2H7Z",clipRule:"evenodd"}))}function l(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 2a6 6 0 0 1 6 6c0 1.265-1.105 2-2.107 2H10.5a.5.5 0 0 0-.5.5v1.393C10 12.895 9.265 14 8 14A6 6 0 0 1 8 2Zm5 6c0 .586-.521 1-1.107 1H10.5A1.5 1.5 0 0 0 9 10.5v1.393C9 12.48 8.586 13 8 13a5 5 0 1 1 5-5ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm.732 2a1 1 0 1 0 1.732-1 1 1 0 0 0-1.732 1ZM6 10.366a1 1 0 1 1-1-1.732 1 1 0 0 1 1 1.732ZM5.5 7.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}var d=n(35283),c=n(39863),u=n(52800),p=n(60918),h=n(6963),m=n(26241),g=n(2997);function f(e){switch(e){case u.rXF.STRING:case"STRING":return{name:(0,c.t)("variables.type.string"),iconUI2:g.A,IconUI3:a};case u.rXF.BOOLEAN:case"BOOLEAN":return{name:(0,c.t)("variables.type.boolean"),iconUI2:p.A,IconUI3:o.X};case u.rXF.FLOAT:case"FLOAT":return{name:(0,c.t)("variables.type.number"),iconUI2:m.A,IconUI3:s};case u.rXF.COLOR:case"COLOR":return{name:(0,c.t)("variables.type.color"),iconUI2:h.A,IconUI3:l};case u.rXF.MAP:case"MAP":return console.error("Unexpected variable type shown: MAP"),{name:(0,c.t)("variables.type.map"),iconUI2:p.A,IconUI3:o.X};case u.rXF.SYMBOL_ID:case"SYMBOL_ID":return console.error("Unexpected variable type shown: SYMBOL_ID"),{name:(0,c.t)("variables.type.symbolid"),iconUI2:p.A,IconUI3:o.X};case u.rXF.FONT_STYLE:case"FONT_STYLE":return console.error("Unexpected variable type shown: FONT_STYLE"),{name:(0,c.t)("variables.type.font_style"),iconUI2:p.A,IconUI3:o.X};case u.rXF.TEXT_DATA:case"TEXT_DATA":return console.error("Unexpected variable type shown: TEXT_DATA"),{name:(0,c.t)("variables.type.text_data"),iconUI2:g.A,IconUI3:a};default:(0,d.xb)(e,"Unknown VariableResolvedDataType")}}},15270:(e,r,n)=>{"use strict";n.d(r,{WI:()=>l}),n(11855),n(84058);var i=n(17068),a=n(35283);n(66712),n(64898);var o=n(39863);n(56390);var s=n(52800);function l(e,r){let n=function(e,r){switch(e){case s.rXF.BOOLEAN:return"boolean"==typeof r?r:null;case s.rXF.STRING:return"string"==typeof r?r:null;case s.rXF.FLOAT:if(Array.isArray(r))return r.every(e=>"number"==typeof e)&&(0,i.Ef)(r)?r[0]:null;return"number"==typeof r?r:null;case s.rXF.COLOR:case s.rXF.MAP:return"object"==typeof r?r:null;case s.rXF.SYMBOL_ID:return"string"==typeof r?r:null;case s.rXF.FONT_STYLE:case s.rXF.TEXT_DATA:return"object"==typeof r?r:null}}(e,r);switch(e){case s.rXF.BOOLEAN:return{resolvedType:e,type:s.Z_n.BOOLEAN,value:n??!1};case s.rXF.STRING:return{resolvedType:e,type:s.Z_n.STRING,value:n??(0,o.t)("variables.type.string.default_value")};case s.rXF.FLOAT:return{resolvedType:e,type:s.Z_n.FLOAT,value:n??0};case s.rXF.COLOR:return{resolvedType:e,type:s.Z_n.COLOR,value:n??{r:1,g:1,b:1,a:1}};case s.rXF.MAP:return{resolvedType:e,type:s.Z_n.MAP,value:n??{}};case s.rXF.SYMBOL_ID:return{resolvedType:e,type:s.Z_n.SYMBOL_ID,value:n??"SymbolId:-1:-1"};case s.rXF.FONT_STYLE:return{resolvedType:e,type:s.Z_n.FONT_STYLE,value:n??{}};case s.rXF.TEXT_DATA:return{resolvedType:e,type:s.Z_n.TEXT_DATA,value:n??{}};default:(0,a.xb)(e,"Unknown VariableResolvedDataType")}}n(78655),n(26698),n(73051)},54905:(e,r,n)=>{"use strict";n.d(r,{Td:()=>a});var i=n(88507);function a(){return(0,i.d4)(e=>o(e))}function o(e){var r;return null!==e.openFile&&!(null==(r=e.openFile)?void 0:r.canEditCanvas)}(0,n(29928).bt)(e=>o(e))},70588:(e,r,n)=>{"use strict";n.d(r,{z:()=>a});var i=n(11855);class a extends i.Component{constructor(e){super(e),this.mediaChanged=()=>{let e=this.props.defaultClass||"";for(let[r,n]of this.mediaQueriesAndClasses)r.matches&&(e=n);let r=this.props.defaultStyle||{};for(let[e,n]of this.mediaQueriesAndStyles)e.matches&&(r=n);this.setState({shown:!this.props.query||!this.visibilityMediaQuery||this.visibilityMediaQuery.matches,className:e,style:r})},this.mediaQueriesAndClasses=[],this.mediaQueriesAndStyles=[],this.state={shown:!0,className:"",style:{}}}removeVisibilityMediaListener(){this.visibilityMediaQuery&&(this.visibilityMediaQuery.removeListener(this.mediaChanged),this.visibilityMediaQuery=null)}removeMediaListeners(e){for(let[r,,n]of e)r.removeListener(n)}initVisibilityMediaQuery(){this.removeVisibilityMediaListener(),this.props.query&&(this.visibilityMediaQuery=window.matchMedia(this.props.query),this.visibilityMediaQuery.addListener(this.mediaChanged))}initQueriesFromProps(e,r){return this.removeMediaListeners(e),e=[],r&&r.map(([r,n])=>{let i=window.matchMedia(r);i.addListener(this.mediaChanged),e.push([i,n,this.mediaChanged])}),e}initClassMediaQueries(){this.mediaQueriesAndClasses=this.initQueriesFromProps(this.mediaQueriesAndClasses,this.props.mediaClassList)}initStyleMediaQueries(){this.mediaQueriesAndStyles=this.initQueriesFromProps(this.mediaQueriesAndStyles,this.props.mediaStyleList)}componentDidMount(){this.initVisibilityMediaQuery(),this.initClassMediaQueries(),this.initStyleMediaQueries(),this.mediaChanged()}componentDidUpdate(e){let r=!1;this.props.query!==e.query&&(this.initVisibilityMediaQuery(),r=!0),(JSON.stringify(this.props.defaultClass)!==JSON.stringify(e.defaultClass)||JSON.stringify(this.props.mediaClassList)!==JSON.stringify(e.mediaClassList))&&(this.initClassMediaQueries(),r=!0),(JSON.stringify(this.props.defaultStyle)!==JSON.stringify(e.defaultStyle)||JSON.stringify(this.props.mediaStyleList)!==JSON.stringify(e.mediaStyleList))&&(this.initStyleMediaQueries(),r=!0),r&&this.mediaChanged()}componentWillUnmount(){this.removeVisibilityMediaListener(),this.removeMediaListeners(this.mediaQueriesAndClasses),this.removeMediaListeners(this.mediaQueriesAndStyles)}render(){if(!this.state.shown)return i.createElement("div",{style:{display:"none"}});{let e={...this.props,className:this.state.className,style:this.state.style,ref:this.props.containerRef};return delete e.component,delete e.defaultClass,delete e.defaultStyle,delete e.mediaClassList,delete e.mediaStyleList,delete e.query,delete e.containerRef,i.createElement(this.props.component||"div",e,this.props.children)}}}a.displayName="MediaQuery"},67795:(e,r,n)=>{"use strict";let i;n.d(r,{p:()=>a});var a=((i=a||{}).RECENTS="Recents",i.SAVED="Saved",i.EXPLORE="Explore",i.DEVELOPMENT="Development",i.ALL="All",i.STICKERS_AND_COMPONENTS="Stickers",i.TEMPLATES="Templates",i.WIDGETS="Widgets",i.PLUGINS="Plugins",i.MORE="More",i.ORG_FACE_STAMPS="OrgFaceStamps",i.RECENTS_COLLAGE="RecentsCollage",i)},76158:(e,r,n)=>{"use strict";let i,a;n.d(r,{s:()=>o});var o=((i=o||{}).COMPONENT="component",i.PLUGIN="plugin",i.WIDGET="widget",i),s=((a=s||{})[a.MAIN=0]="MAIN",a[a.ORG_PRIVATE_EXPANDED_LIST=1]="ORG_PRIVATE_EXPANDED_LIST",a[a.ORG_ALLOWLIST_EXPANDED_LIST=2]="ORG_ALLOWLIST_EXPANDED_LIST",a)},15408:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{x9:()=>x,MZ:()=>k});var s=n(11855),l=n(88507),d=n(63142),c=n(66712),u=n(17037),p=n(4783),h=n(80921),m=n(99569),g=n(46689),f=n(24897),_=n(39863),y=n(1114),E=n(92592),b=n(34533),v=n(62275),S=n(33739),I=n(47807),T=n(208),w=((i=w||{}).LibraryPublish="library_publish",i.CommentAttachment="comment_attachment",i.Video="video",i.ExtensionPublish="extension_publish",i),C=((a=C||{}).FontList="font_list",a),A=((o=A||{})[o.NONE=0]="NONE",o[o.NON_S3_RESPONSE=1]="NON_S3_RESPONSE",o[o.OTHER=2]="OTHER",o);let N=new class{constructor(){this.GetCheckPresignedPostNetworkCompatibility=(0,I.vh)()}getCheckPresignedPostNetworkCompatibility(){return this.GetCheckPresignedPostNetworkCompatibility.validate(({xr:e})=>e.get("/api/check_network_compatibility"))}checkFontListNetworkCompatibility(e){return T.Ay.crossOriginHead(e,null,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer",retryCount:0})}};var O=n(37870),R=n(88578),P=n(7798);let L=(0,d.D4)("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg=="),D=(0,O.Ju)(function({results:e}){let r=(0,l.wA)(),n=({feature:e,url:n,error:i,type:a})=>s.createElement("div",{style:y.sx.mb16.fontMedium.$,key:e},s.createElement("div",{style:y.sx.mb8.flex.justifyBetween.selectNone.$},s.createElement("div",{style:y.sx.flex.gap4.$},(()=>{switch(e){case w.LibraryPublish:return s.createElement(_.Tx,{id:"check_network_compatibility.feature.library_publish"});case w.ExtensionPublish:return s.createElement(_.Tx,{id:"check_network_compatibility.feature.extension_publish"});case w.CommentAttachment:return s.createElement(_.Tx,{id:"check_network_compatibility.feature.comment_attachment"});case w.Video:return s.createElement(_.Tx,{id:"check_network_compatibility.feature.video"});case C.FontList:return s.createElement(_.Tx,{id:"check_network_compatibility.feature.font_list"})}})(),s.createElement(h.Ex,{text:a,color:h.zE.DEFAULT,size:h.vj.SMALL,subtle:!0})),s.createElement("div",null,i===A.NONE?s.createElement("div",{style:y.sx.colorTextSuccess.$},s.createElement(_.Tx,{id:"check_network_compatibility.available"})):s.createElement("div",{style:y.sx.colorTextDanger.$},s.createElement(_.Tx,{id:"check_network_compatibility.blocked"})))),i===A.NON_S3_RESPONSE?s.createElement("div",{style:y.sx.p8.colorBgSecondary.colorTextSecondary.bRadius4.flex.justifyBetween.itemsCenter.$},s.createElement("span",{style:y.sx.mr8.$},n),s.createElement(f.B,{svg:P.A,className:"check_network_compatibility--copySvg--1lHmK",onClick:()=>{navigator.clipboard.writeText(n).then(()=>{r(E.F.enqueue({message:(0,_.t)("check_network_compatibility.copied_to_clipboard")}))})}})):null);return s.createElement(R.aF,{size:360,title:s.createElement(s.Fragment,null,s.createElement("span",{style:y.sx.fontSemiBold.font11.selectNone.$},s.createElement(_.Tx,{id:"check_network_compatibility.title"})),s.createElement(m.Jn,{onClick:()=>r(v.Lo())})),titleClassName:"check_network_compatibility--modalTitle--P7xZd modal--title--sEkWg",popStack:!0},s.createElement("div",{style:y.sx.mt16.mb16.selectNone.$},s.createElement("span",null,(0,_.t)("check_network_compatibility.description")),s.createElement("br",null),s.createElement("br",null),s.createElement("span",null,(0,_.t)("check_network_compatibility.description_cta")),"\xa0",s.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/19424714305943-Adjust-firewall-settings",target:"_blank",style:y.sx.colorTextBrand.cursorPointer.my16.$},s.createElement(_.Tx,{id:"check_network_compatibility.view_help_center"}))),s.createElement("div",null,e.map(e=>n(e))),s.createElement("div",{style:y.sx.flex.justifyEnd.mt16.$},s.createElement(g.nR,{onClick:()=>{r(v.Lo())}},s.createElement(_.Tx,{id:"check_network_compatibility.close"}))))},"CheckNetworkCompatibilityModal"),M="CHECK_NETWORK_COMPATIBILITY_VISUAL_BELL_TYPE";function k(e,r){e(E.F.enqueue({message:r,button:{text:(0,_.t)("check_network_compatibility.error_bell.view_settings"),action:()=>(x(e),!0)},error:!0}))}function x(e){e(E.F.dequeue({matchType:M})),e(E.F.enqueue({message:(0,_.t)("check_network_compatibility.checking_network_settings"),icon:b.zX.SPINNER,type:M})),N.getCheckPresignedPostNetworkCompatibility().then(async({data:r})=>{let n=await Promise.all(r.meta.map(async({url:e,fields:r,feature:n})=>{try{return await (0,u.E)(p.e.SCENEGRAPH_AND_SYNC,"test",e,r,L,"image/png"),{url:e,fields:r,feature:n,error:A.NONE,type:"POST"}}catch(i){return{url:e,fields:r,feature:n,error:i instanceof u.q?A.NON_S3_RESPONSE:A.OTHER,type:"POST"}}}));if((0,c.kc)().ce_font_network_status_ui){let e=(0,S.no)();try{await N.checkFontListNetworkCompatibility(e),n.push({url:e,fields:{},feature:C.FontList,error:A.NONE,type:"GET"})}catch(r){n.push({url:e,fields:{},feature:C.FontList,error:A.NON_S3_RESPONSE,type:"GET"})}}e(E.F.dequeue({matchType:M})),n.some(({error:e})=>e!==A.NONE)?(E.F.dequeue({matchType:M}),e(v.to({type:D,data:{results:n}}))):e(E.F.enqueue({message:(0,_.t)("check_network_compatibility.network_settings_compatible")}))}).catch(()=>{e(E.F.enqueue({message:(0,_.t)("check_network_compatibility.error"),error:!0}))})}},84342:(e,r,n)=>{"use strict";n.d(r,{P7:()=>o,gm:()=>a,my:()=>s});var i=n(46806);let a={arrow:"arrow",connector:"connector"};function o(e){return e===a.connector?{defaultModalWidth:409,pointerWidth:4,pointerLength:40,pointerTargetOverlap:16,standardPointerOffset:24}:{defaultModalWidth:228,pointerWidth:8,pointerLength:8,pointerTargetOverlap:4,standardPointerOffset:16}}function s({width:e,height:r,targetRect:n,positioningConstants:a,alignPointerToLeft:o,shouldCenterArrow:s,topPadding:l,arrowPosition:d=i.F_.TOP,targetType:c,viewportTopOffset:u,viewportBottomOffset:p}){let h,m;let g=d===i.F_.TOP||d===i.F_.BOTTOM,f=n.x+n.width/2;o&&(f=n.x+24);let _=n.y+n.height/2,y=!1;switch(d){case i.F_.TOP:h=n.y+n.height+a.pointerLength+l;break;case i.F_.BOTTOM:h=n.y-r-a.pointerLength-l;break;case i.F_.LEFT_TITLE:case i.F_.RIGHT_TITLE:case i.F_.RIGHT_BODY:(h=s?_-r/2:_-a.pointerWidth-a.standardPointerOffset)<-1&&"dom"===c&&(y=!0,h=-1),h+r>window.innerHeight&&(y=!0,h=_-r+a.pointerWidth+a.standardPointerOffset,"dom"===c&&(h=Math.min(h,window.innerHeight-r- -1)))}let E=!1;switch(d){case i.F_.TOP:case i.F_.BOTTOM:(m=s?f-e/2:f-a.pointerWidth-a.standardPointerOffset)<-1&&("dom"===c&&(E=!0,m=-1),"best_effort"===s&&(m=12)),m+e>window.innerWidth&&(E=!0,m="best_effort"===s?window.innerWidth-e-12:f-e+a.pointerWidth+a.standardPointerOffset,"dom"===c&&(m=Math.min(m,window.innerWidth-e- -1)));break;case i.F_.LEFT_TITLE:m=n.x+n.width+a.pointerLength+l;break;case i.F_.RIGHT_TITLE:case i.F_.RIGHT_BODY:m=n.x-e-a.pointerLength-l}let b=0;b=g?(s&&!E?e/2:f-m)-a.pointerWidth:s&&!y?r/2:_-h;let v=d;return v===i.F_.TOP&&window.innerHeight-h<r+12+(p||0)?(h=n.y-r-a.pointerLength-l,v=i.F_.BOTTOM):v===i.F_.BOTTOM&&h<12+(u||0)?(h=n.y+n.height+a.pointerLength+l,v=i.F_.TOP):v===i.F_.LEFT_TITLE&&window.innerWidth-m<e+12?(m=n.x-e-a.pointerLength-l,v=i.F_.RIGHT_TITLE):(v===i.F_.RIGHT_TITLE||v===i.F_.RIGHT_BODY)&&m<12&&(m=n.x+n.width+a.pointerLength+l,v=i.F_.LEFT_TITLE),{left:m,top:h,pointerOffset:b,pointerPosition:v}}},50466:(e,r,n)=>{"use strict";n.d(r,{t:()=>v});var i=n(11855),a=n(7897),o=n(84934),s=n(24897),l=n(30949),d=n(39863),c=n(43632),u=n(66387),p=n(9840),h=n(14053),m=n(42916),g=n(62275),f=n(20647),_=n(36894),y=n(79211),E=n(84871),b=n(94710);function v(e){let r={[f.oM.DESIGN]:(0,d.t)("request_upgrade.title_figma"),[f.oM.WHITEBOARD]:(0,d.t)("request_upgrade.title_figjam"),[f.oM.DEV_MODE]:(0,d.t)("request_upgrade.title_dev_mode")},{orgName:n,orgId:v,imgUrl:S,actionText:I,licenseType:T,customMessage:w,permission:C,setting:A,dispatch:N}=e,{isInDevModeProPlusExperiment:O,devModeExperimentTitle:R,devModeExperimentActionText:P,onClose:L}=(0,m.t)(T===f.oM.DEV_MODE),D=()=>{N(g.Lo()),null==L||L()};return i.createElement(_.XV,{title:O?i.createElement(i.Fragment,null,R):r[T],maxWidth:360,minWidth:360,onClose:D,closeOnEsc:O,transparentBackground:e.transparentBackground},i.createElement("div",{className:y.A$},i.createElement(c.Y,{height:88,horizontalAlignItems:"center",verticalAlignItems:"center",width:"hug-contents",spacing:0},i.createElement(s.B,{svg:b.A,className:y.kh}),i.createElement(s.B,{svg:E.A,className:y.dC}),i.createElement(h.e,{entity:{id:v,img_url:S,name:n},size:34}))),i.createElement("div",{className:y.hQ},O?P:I,i.createElement("div",{className:l.cx.mt16.mb8.$},i.createElement(p.E,{fontWeight:"semi-bold",i18nId:"configured_upgrade_request_modal.from_the_admins",i18nParams:{orgName:n}})),i.createElement("div",{className:y.Y2},i.createElement(a.A,{options:{target:"_blank",attributes:{onClick:e=>{var r;(0,o.sx)("Configurable Upgrade Request Modal external link clicked",{orgId:v,permission:C,configuredUpgradeRequestSetting:A,url:null==(r=null==e?void 0:e.target)?void 0:r.href})}}}},i.createElement("div",{className:l.cx.preWrap.ml8.$},w))),i.createElement("div",{className:l.cx.flex.justifyEnd.$},i.createElement(u.$,{variant:"secondary",onClick:D},i.createElement(p.E,{i18nId:"general.got_it"})))))}},46806:(e,r,n)=>{"use strict";let i;n.d(r,{EL:()=>m.EL,F_:()=>m.F_,Wx:()=>I,uF:()=>_,vx:()=>b});var a=n(11855),o=n(50098),s=n(35283),l=n(91408),d=n(58145),c=n(72206),u=n(59927),p=n(26055),h=n(16660),m=n(93364),g=n(60168),f=n(73954);let _=(0,l.hG)(g.Flg)+1,y={x:"left",y:"top"};var E=((i=E||{})[i.SKIP_ENSURE_MODAL_ON_SCREEN=0]="SKIP_ENSURE_MODAL_ON_SCREEN",i[i.CALL_ENSURE_MODAL_ON_SCREEN=1]="CALL_ENSURE_MODAL_ON_SCREEN",i);let b=a.forwardRef(function(e,r){let n=a.createRef(),[i,o]=a.useState(e.initialWidth),[s,l]=a.useState(null!=e.initialHeight?e.initialHeight+_:void 0),[u,p]=a.useState(e.initialPosition);a.useImperativeHandle(r,()=>({ensureModalOnScreen:()=>{var e;return null==(e=n.current)?void 0:e.ensureModalOnScreen()},getCurrentContentSize:()=>{var e;return null==(e=n.current)?void 0:e.getCurrentContentSize()},getEl:()=>{var e;return null==(e=n.current)?void 0:e.getEl()},setTransform:e=>{var r;return null==(r=n.current)?void 0:r.setTransform(e)}}));let h=(0,d.Z)(e);a.useEffect(()=>{let r=(null==h?void 0:h.initialWidth)!==e.initialWidth,n=(null==h?void 0:h.initialHeight)!==e.initialHeight;r&&o(e.initialWidth),n&&l(null!=e.initialHeight?e.initialHeight+_:void 0)},[null==h?void 0:h.initialHeight,null==h?void 0:h.initialWidth,e.initialHeight,e.initialWidth]),a.useEffect(()=>{var r;e.initialHeight||e.allowAutoExpanding||null==(r=n.current)||r.resizeModalHeight()},[n,e.allowAutoExpanding,e.initialHeight,h]);let m=a.useCallback(()=>{if(!n.current)return;let r=!n.current.state.shouldCallEnsureModalIsOnScreen;(e.alwaysEnsureModalOnScreen||e.alwaysEnsureHeaderModalOnScreen)&&r&&n.current.setState({shouldCallEnsureModalIsOnScreen:!0})},[n,e.alwaysEnsureHeaderModalOnScreen,e.alwaysEnsureModalOnScreen]),g=a.useCallback(()=>{p(e.initialPosition),m()},[e.initialPosition,m]);return a.useLayoutEffect(()=>{var r;let i=!(null==h?void 0:h.initialPosition.equals(e.initialPosition)),a=(null==(r=n.current)?void 0:r.state.hasCustomPosition)??!1;if(i&&!a){if(e.useOnScreenInitialPosition){let r=(null==h?void 0:h.initialPosition)??e.initialPosition,n=c.Mi.subtract(r,e.initialPosition);p(u.subtract(n))}else p(e.initialPosition);m()}},[e.initialPosition,e.useOnScreenInitialPosition,null==h?void 0:h.initialPosition,u,e.alwaysEnsureModalOnScreen,e.alwaysEnsureHeaderModalOnScreen,n,m]),a.createElement(S,{...e,width:i,height:s,position:u,setWidth:o,setHeight:l,setPosition:p,ref:n,resetPositionToInitial:g})});class v extends a.Component{constructor(e){super(e),this.el=void 0,this.getEl=()=>this.el,this.frameEl=void 0,this.inBounds=!1,this.getHeight=e=>Math.min(e,this.props.maxHeight||e),this.getWidth=e=>Math.min(e,this.props.maxWidth||e),this.minBottomMargin=()=>this.props.minBottomMargin??h.I_,this.minTopMargin=()=>{let e=this.props.isUI3?h.G5:h.eN;return this.props.minTopMargin??e},this.minLeftMargin=()=>this.props.minLeftMargin??h.em,this.minRightMargin=()=>this.props.minRightMargin??h.lq,this.resizeModalHeight=()=>{if(!this.el)return;let e=this.el.style.height;this.el.style.height="";let r=this.el.getBoundingClientRect();this.el.style.height=e,this.props.height!==r.height&&(this.props.setHeight(this.getHeight(r.height)),this.props.acceptHeight&&this.props.acceptHeight(r.height))},this.lastInnerWidth=window.innerWidth,this.getOnScreenPositionOfHeader=e=>{let{top:r,width:n,left:i}=e.getBoundingClientRect(),a=new DOMRect(i,r,n,_);return this.getOnScreenPositionOfBoundingRect(a)},this.getOnScreenPositionOfElement=e=>this.getOnScreenPositionOfBoundingRect(e.getBoundingClientRect()),this.getOnScreenPositionOfBoundingRect=e=>{let{top:r,bottom:n,width:i,height:a,right:o,left:s}=e,l=this.props.position.y;r<this.minTopMargin()?l="top"===this.state.constraints.y?this.minTopMargin():this.minBottomMargin():!this.props.canRenderBelowViewport&&n+this.minBottomMargin()>window.innerHeight&&(l="top"===this.state.constraints.y?Math.max(this.minTopMargin(),window.innerHeight-(a+this.minBottomMargin())):this.minBottomMargin());let d=this.props.position.x,u=this.lastInnerWidth-d,p=window.innerWidth-s;return o>window.innerWidth-this.minRightMargin()&&p<u&&(d=window.innerWidth-u),this.props.allowPartialHeaderOnScreen?o<this.minLeftMargin()+40?d="left"===this.state.constraints.x?40-i:40:s>window.innerWidth-this.minRightMargin()-40&&(d="left"===this.state.constraints.x?window.innerWidth-this.minRightMargin()-40:window.innerWidth-this.minRightMargin()-i-40):s<this.minLeftMargin()?d="left"===this.state.constraints.x?this.minLeftMargin():this.minLeftMargin()+i:o>window.innerWidth-this.minRightMargin()&&(d="left"===this.state.constraints.x?window.innerWidth-this.minRightMargin()-i:window.innerWidth-this.minRightMargin()),new c.Mi(d,l)},this.ensureModalOnScreen=(0,o.n)(100,()=>{let e;this.el&&((e=this.props.alwaysEnsureHeaderModalOnScreen&&!this.props.alwaysEnsureModalOnScreen?this.getOnScreenPositionOfHeader(this.el):this.getOnScreenPositionOfElement(this.el)).equals(this.props.position)||this.props.setPosition(e),this.lastInnerWidth=window.innerWidth)}),this.containerRef=e=>{this.el=e},this.frameRef=e=>{this.frameEl=e},this.observer=new ResizeObserver(e=>{for(let r of e)this.frameEl===r.target&&this.ensureModalOnScreen()}),this.onDragStateChange=(e,r)=>{var n,i,a,o;switch(e){case m.mq.Active:{let e=new c.Mi(this.el.offsetLeft,this.el.offsetTop),n=new c.Mi(r.pageX,r.pageY);this.setState({constraints:y,startingDragPosition:{elementPosition:e,mousePosition:n}}),this.props.setPosition(e);break}case m.mq.Dragging:null==(i=(n=this.props).onDragStart)||i.call(n,r);break;case m.mq.None:{let e=(null==(o=(a=this.props).onDragEnd)?void 0:o.call(a,this.props.position))??1;this.setState({startingDragPosition:null}),e&&(this.props.alwaysEnsureModalOnScreen||this.props.alwaysEnsureHeaderModalOnScreen)&&this.ensureModalOnScreen();break}default:(0,s.xb)(e)}},this.onDrag=e=>{if(!this.state.startingDragPosition)return;let r=this.props.width||0,n=(0,h.Ij)(e,this.state.startingDragPosition,this.props.isUI3);if(this.props.allowPartialHeaderOnScreen||(n=n.clampX({x:-(r/2),width:window.innerWidth})),this.setState({hasCustomPosition:!0}),this.props.setPosition(n),this.props.bounds){let e=(0,c.gR)(this.props.bounds,n);e&&!this.inBounds?(this.props.onEnterBound(),this.inBounds=!0):this.inBounds&&!e&&(this.props.onLeaveBound(),this.inBounds=!1)}},this.onResize=(e,r)=>{var n,i;let a=(0,h.E0)(e,{...r,maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth,minHeight:this.props.minHeight,minWidth:this.props.minWidth});a&&(this.setState({hasCustomPosition:!0,constraints:{x:"left",y:"top"}}),this.props.setWidth(a.width),this.props.setHeight(a.height),this.props.setPosition(a.position),null==(i=(n=this.props).onResize)||i.call(n,{width:a.width,height:a.height}))},this.state={hidden:e.hidden,constraints:e.initialConstraints||y,startingDragPosition:null,hasCustomPosition:!1,showArrow:!0,shouldCallEnsureModalIsOnScreen:!1}}componentDidMount(){if(this.props.width&&this.props.height||this.props.allowAutoExpanding)this.ensureModalOnScreen();else{let{width:e,height:r}=this.el.getBoundingClientRect();this.props.width?this.props.setHeight(this.getHeight(r)):this.props.height?this.props.setWidth(this.getWidth(e)):(this.props.setWidth(this.getWidth(e)),this.props.setHeight(this.getHeight(r)))}window.addEventListener("resize",this.ensureModalOnScreen);let e=this.props.allowResizeHeight||this.props.allowResizeWidth;this.frameEl&&!e&&this.observer.observe(this.frameEl),this.el&&this.props.acceptHeight&&this.props.acceptHeight(this.el.getBoundingClientRect().height)}componentWillUnmount(){window.removeEventListener("resize",this.ensureModalOnScreen),this.observer.disconnect()}componentDidUpdate(e,r,n){var i,a,o,s,l,d;let c=!1;this.state.hasCustomPosition?this.state.showArrow&&this.setState({showArrow:!1}):((null==(i=e.initialConstraints)?void 0:i.x)!==(null==(a=this.props.initialConstraints)?void 0:a.x)||(null==(o=e.initialConstraints)?void 0:o.y)!==(null==(s=this.props.initialConstraints)?void 0:s.y))&&(c=!0,this.setState({constraints:this.props.initialConstraints||y})),this.props.canResetPosition&&!e.canResetPosition&&(this.setState({constraints:this.props.initialConstraints||y,startingDragPosition:null,hasCustomPosition:!1,showArrow:!0}),null==(d=(l=this.props).resetPositionToInitial)||d.call(l)),this.props.width===e.width&&this.props.height===e.height||this.props.allowResizeHeight||this.props.allowResizeWidth||this.setState({shouldCallEnsureModalIsOnScreen:!0}),(this.props.alwaysEnsureModalOnScreen||this.props.alwaysEnsureHeaderModalOnScreen)&&c&&!this.state.shouldCallEnsureModalIsOnScreen&&this.setState({shouldCallEnsureModalIsOnScreen:!0}),this.state.shouldCallEnsureModalIsOnScreen&&!c&&(this.ensureModalOnScreen(),this.setState({shouldCallEnsureModalIsOnScreen:!1})),this.frameEl&&(null==n?void 0:n.scrollTop)&&(this.frameEl.scrollTop=n.scrollTop),this.props.shouldScrollToBottom&&this.props.shouldScrollToBottom()&&this.frameEl&&(this.frameEl.scrollTop=this.frameEl.scrollHeight)}getSnapshotBeforeUpdate(e,r){var n;return{scrollTop:null==(n=this.frameEl)?void 0:n.scrollTop}}getCurrentContentSize(){return(0,s.vA)(!!this.props.height),(0,s.vA)(!!this.props.width),{x:this.props.width,y:this.props.height-_}}static getDerivedStateFromProps(e,r){return e.hidden!==r.hidden?e.hidden?{hidden:!0,hasCustomPosition:!1}:{hidden:r.shouldCallEnsureModalIsOnScreen}:null}setTransform(e){var r,n,i,a;let o=e({constraints:this.state.constraints,width:this.props.width,height:this.props.height,position:this.props.position});o&&(this.props.setWidth(o.width),this.props.setHeight(o.height),this.props.setPosition(o.position),null==(n=(r=this.props).onResize)||n.call(r,{width:o.width,height:o.height}),null==(a=(i=this.props).onDragEnd)||a.call(i,o.position))}render(){let e;let{acceptHeight:r,allowAutoExpanding:n,allowPartialHeaderOnScreen:i,alwaysEnsureHeaderModalOnScreen:o,alwaysEnsureModalOnScreen:s,autoflowHeight:l,canRenderBelowViewport:d,disableHeaderBottomBorder:c,initialConstraints:u,width:p,height:h,position:g,maxHeight:f,maxWidth:_,minBottomMargin:y,minHeight:E,minLeftMargin:b,minRightMargin:v,minTopMargin:S,minWidth:I,onDragStart:T,onDragEnd:w,onResize:C,shouldScrollToBottom:A,bounds:N,onEnterBound:O,onLeaveBound:R,showArrow:P,...L}=this.props,{showArrow:D,constraints:M,hidden:k}=this.state;return h&&(e=this.props.autoflowHeight||f&&f<h?void 0:h),a.createElement(m.wd,{...L,showArrow:D,constraints:M,width:p,height:e,hidden:k,position:g,onDrag:this.onDrag,onDragStateChange:this.onDragStateChange,onResize:this.onResize,frameRef:this.frameRef,containerRef:this.containerRef,disableHeaderBottomBorder:c})}}v.displayName="DraggableModal";let S=a.forwardRef(function(e,r){let n=(0,p.GS)();return a.createElement(v,{ref:r,...e,isUI3:n})});class I extends a.Component{render(){return a.createElement("div",{className:`${f.Np} ${u.Dm}`,onMouseDown:this.props.clickOutsideToHide?this.props.onClose:void 0},a.createElement(b,{...this.props}))}}I.displayName="DraggableModalBgDisabled"},93364:(e,r,n)=>{"use strict";let i,a,o,s;n.d(r,{EL:()=>A,F_:()=>C,mq:()=>O,wd:()=>R});var l=n(11855),d=n(29019),c=n.n(d),u=n(28975),p=n(35283),h=n(98750),m=n(55942),g=n(53234),f=n(71779),_=n(30949),y=n(59927),E=n(98099),b=n(22358),v=n(36894),S=n(11490),I=n(16660),T=n(65165),w=n(73954),C=((i=C||{})[i.TOP=0]="TOP",i[i.BOTTOM=1]="BOTTOM",i[i.RIGHT_TITLE=2]="RIGHT_TITLE",i[i.RIGHT_BODY=3]="RIGHT_BODY",i[i.LEFT_TITLE=4]="LEFT_TITLE",i),A=((a=A||{}).FALLBACK="fallback",a.BEST_EFFORT="best_effort",a),N=((o=N||{})[o.IGNORE=0]="IGNORE",o),O=((s=O||{}).Active="Active",s.Dragging="Dragging",s.None="None",s);class R extends g.uA{constructor(e){super(e),this.stopPropagation=e=>e.stopPropagation(),this._dragState="None",this._containerRef=null,this.computeStyles=e=>{let r={};if(this.props.hidden&&(r.visibility="hidden"),this.props.zIndex&&(r.zIndex=this.props.zIndex),this.props.containerFillsPage)return r.left=0,r.right=0,r.bottom=0,r.top=0,r;let{x:n,y:i}=e;if(this.props.makeContentPixelPerfect){let e=1/window.devicePixelRatio;n=P(n,e),i=P(i,e)}"left"===this.props.constraints.x?r.left=n:r.right=n,"top"===this.props.constraints.y?r.top=i:r.bottom=i;let{width:a,height:o}=this.props;if(this.props.makeContentPixelPerfect&&a&&o){let{roundedWidth:e,roundedHeight:r}=L({width:a,height:o-I.uF,devicePixelRatio:window.devicePixelRatio}),n=r+I.uF;a=e,o=n}return a&&(r.width=a),o&&(r.height=o),r},this._onMouseDown=e=>{if(e.stopPropagation(),2===e.button||this.props.disableDragging)return;let r=e.target;r&&("input"===r.tagName.toLowerCase()||"label"===r.tagName.toLowerCase()||"img"===r.tagName.toLowerCase()||"a"===r.tagName.toLowerCase())||r&&"function"==typeof r.closest&&r.closest("[data-not-draggable]")||("None"===this.dragState?this.setDragState("Active","nativeEvent"in e?e.nativeEvent:e):console.error("Should not be already dragging in a mousedown handler"))},this.mouseDown=g.cZ(this,"mousedown",this._onMouseDown,{includeTarget:!0,recordMetadata:e=>({pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({pageX:e.pageX,pageY:e.pageY})}),this.documentMouseMove=g.cZ(this,"mousemove",e=>{if(this.props.hidden||"None"===this.dragState)return g.aH;switch("Active"===this.dragState&&this.setDragState("Dragging",e),this.dragState){case"Active":case"Dragging":this.props.onDrag(e);break;default:(0,p.xb)(this.dragState)}},{recordMetadata:e=>({pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({pageX:e.pageX,pageY:e.pageY})}),this.documentMouseUp=g.cZ(this,"mouseup",e=>{switch(this.dragState){case"Active":case"Dragging":this.setDragState("None","nativeEvent"in e?e.nativeEvent:e);break;case"None":return g.aH;default:(0,p.xb)(this.dragState)}}),this.onClick=e=>{e.stopPropagation(),this.props.onClick&&this.props.onClick(e)},this.onFocus=e=>{e.stopPropagation(),this.props.onFocus&&this.props.onFocus(e)},this.onContentMouseDown=e=>{this.props.dragHeaderOnly&&e.stopPropagation()},this.onKeyDown=e=>{var r,n;null==(n=(r=this.props).onKeyDown)||n.call(r,e),e.event.keyCode===h.Uz.ESCAPE&&!this.props.ignoreCloseShortcut&&this.props.onClose&&(0===this.props.onClose()?e.shouldPropagate=!0:e.accept())},this.getAllowedResizeDirections=()=>{let e=[];return this.props.allowResizeHeight&&e.push(I.OP.TOP,I.OP.BOTTOM),this.props.allowResizeWidth&&e.push(I.OP.LEFT,I.OP.RIGHT),e},this.getCurrentBounds=()=>{var e,r;let n=this.props.width??(null==(e=this._containerRef)?void 0:e.clientWidth)??0,i=this.props.height??(null==(r=this._containerRef)?void 0:r.clientHeight)??0,a={top:0,left:0,right:0,bottom:0};return"left"===this.props.constraints.x?(a.left=this.props.position.x,a.right=a.left+n):(a.right=window.innerWidth-this.props.position.x,a.left=a.right-n),"top"===this.props.constraints.y?(a.top=this.props.position.y,a.bottom=a.top+i):(a.bottom=window.innerHeight-this.props.position.y,a.top=a.bottom-i),a},this.contextValue=(0,u.A)((e,r)=>({isResizing:e,isDragging:r})),this.state={isResizing:void 0,resizeDirections:[]}}get dragState(){return this._dragState}setDragState(e,r){this._dragState=e,this.props.onDragStateChange(e,r),this.forceUpdate()}componentDidMount(){super.componentDidMount(),(0,E.ft)()?(document.addEventListener("pointermove",this.documentMouseMove),document.addEventListener("pointerup",this.documentMouseUp)):(document.addEventListener("mousemove",this.documentMouseMove),document.addEventListener("mouseup",this.documentMouseUp))}componentWillUnmount(){super.componentWillUnmount(),(0,E.ft)()?(document.removeEventListener("pointermove",this.documentMouseMove),document.removeEventListener("pointerup",this.documentMouseUp)):(document.removeEventListener("mousemove",this.documentMouseMove),document.removeEventListener("mouseup",this.documentMouseUp))}render(){let e=this.computeStyles(this.props.position),r=this.props.animatedIn?w.Xi:w.Eo;"Dragging"===this.dragState&&(r+=` ${w.r4}`),this.props.containerClassName&&(r+=` ${this.props.containerClassName}`);let n=this.props.scrollOverflow?w.F7:w.Gt;this.props.isFigJam&&(n=this.props.scrollOverflow?w.F4:w.wH),this.props.transparentContentBackground&&(n=w.aX),this.props.minSize&&(n+=` ${_.cx.minW200.minH200.$}`),this.props.fullFrame&&(n+=` ${_.cx.wFull.hFull.$}`);let i=(0,E.ft)(),a=l.createElement("div",{className:`${w.hQ} ${this.props.contentContainerClassName||""}`,onPointerDown:i?this.onContentMouseDown:void 0,onMouseDown:i?void 0:this.onContentMouseDown,"data-testid":this.props.dataTestId},l.createElement(b.vL,{name:"Draggable modal",handleKeyDown:this.onKeyDown,focusOnMount:!this.props.preventKeyboardFocus,style:{height:"100%",width:"100%"}},this.props.children)),o=this.props.container||l.Fragment,{allowWheelPassthrough:s}=this.props,d=s?y.Uu:"",u=this.props.ResizeTargetComponent??T.K;return l.createElement(l.Fragment,null,l.createElement("div",{className:`${r} ${y.Dm} ${d}`,style:e,ref:(0,m.A)(this.props.containerRef,e=>this._containerRef=e),onPointerDown:i?this.mouseDown:void 0,onMouseDown:i?void 0:this.mouseDown,onClick:this.onClick,onFocus:this.onFocus,"data-cancel-insertable-resource-drag-and-drop":!this.props.hidden,tabIndex:this.props.tabIndex,"aria-modal":!0},l.createElement(o,{...this.props.containerProps},l.createElement("div",{className:n,style:this.props.frameStyle,ref:this.props.frameRef},this.props.showArrow&&this.props.arrowRelativeX&&l.createElement("div",{className:(()=>{switch(this.props.arrowPosition){case 2:return w.AE;case 3:return w.Ep;case 0:return w.z3;case 1:return this.props.smallArrow?w.Si:w.p8;case 4:return w.tz;default:return}})(),style:{left:this.props.arrowRelativeX,top:this.props.arrowRelativeY}}),l.createElement(f.i,{displayAs:f.C.DeprecatedFullHeightBlock},null!=this.props.title?l.createElement(v.IZ,{onClose:this.props.onClose,headerClassname:`${w.wx} ${this.props.headerClassName||""}`,closeButtonClassName:this.props.closeButtonClassName,onMouseDown:this.stopPropagation,onMouseMove:this.documentMouseMove,headerSize:this.props.headerSize,stickyHeader:this.props.stickyHeader,titleIconURL:this.props.titleIconURL,titleIconSvgSrc:this.props.titleIconSvgSrc,titleIconSvgClassName:this.props.titleIconSvgClassName,title:this.props.title,truncateTitleText:this.props.truncateTitleText,isCloseHidden:this.props.isCloseHidden,recordingKey:this.props.recordingKey?g.Pt(this.props,"draggableModal"):"draggableModal",className:w.hv,customButton:this.props.customButton,disableHeaderBottomBorder:this.props.disableHeaderBottomBorder},l.createElement(S.O.Provider,{value:this.contextValue(!!this.state.isResizing,"None"!==this._dragState)},a)):a)),l.createElement(u,{getCurrentContainerBounds:()=>this.getCurrentBounds(),allowedResizeDirections:this.getAllowedResizeDirections(),lockAspectRatio:!!this.props.lockAspectRatio,onEdgeDoubleClick:this.props.onEdgeDoubleClick,resizeTo:this.props.onResize,isResizing:this.state.isResizing,setIsResizing:e=>this.setState({isResizing:e}),setResizeDirections:e=>this.setState({resizeDirections:e}),hidden:!!this.props.hidden,recordingKey:g.Pt(this.props,"resizeTarget"),onResizeEnd:this.props.onResizeEnd}))),(()=>{let e=this.state.isResizing,r="Dragging"===this._dragState;if(!(e||r))return null;let n=(0,I.as)(this.state.resizeDirections),i=w.E6;return l.createElement("div",{className:c()(w.iE,e?n:r?i:void 0,y.Dm)})})())}}R.displayName="DraggableModalView";let P=(e,r,n=Math.round)=>n(e/r)*r,L=({width:e,height:r,devicePixelRatio:n})=>{let i=1/n,a=e/r;return[[Math.round,Math.round],[Math.floor,Math.floor],[Math.ceil,Math.ceil],[Math.round,Math.ceil],[Math.floor,Math.round],[Math.floor,Math.ceil]].map(([n,a])=>({roundedWidth:P(e,i,n),roundedHeight:P(r,i,a)})).filter(({roundedWidth:e,roundedHeight:r})=>e/r<=a).reduce(({roundedWidth:e,roundedHeight:r},{roundedWidth:n,roundedHeight:i})=>n/i>e/r?{roundedWidth:n,roundedHeight:i}:{roundedWidth:e,roundedHeight:r})}},36894:(e,r,n)=>{"use strict";n.d(r,{Eo:()=>E,XV:()=>y,IZ:()=>b});var i=n(11855),a=n(88507),o=n(29019),s=n.n(o),l=n(98750),d=n(53234),c=n(99569),u=n(46689),p=n(24897),h=n(30949),m=n(39863),g=n(62275),f=n(59927),_=n(98099);class y extends i.Component{constructor(){super(...arguments),this.onBackgroundMouseDown=e=>{!this.props.disableClickOutsideToHide&&this.props.onClose&&this.props.onClose(e),this.props.onBackgroundMouseDown&&this.props.onBackgroundMouseDown(e)},this.onModalMouseDown=e=>{e.stopPropagation()},this.onKeyDown=e=>{e.stopPropagation(),e.keyCode===l.Uz.ESCAPE&&(!this.props.disableClickOutsideToHide||this.props.closeOnEsc)&&this.props.onClose&&this.props.onClose(e),e.keyCode===l.Uz.ENTER&&this.props.closeOnEnter&&this.props.onClose&&this.props.onClose(e)},this.bgRef=e=>{e&&!e.contains(document.activeElement)&&(this.props.closeOnEsc||this.props.focus)&&e.focus()}}render(){let e=s()("header_modal--modalBackground--bcAoR",f.Dm,{"header_modal--fixedTop--eHgXF":this.props.fixedTop,"header_modal--fixedCenter--wSN6F":this.props.fixedCenter,"header_modal--transparentBackground--pG9jD":this.props.transparentBackground}),r=this.props.maxWidth||492,n=this.props.minWidth||348;r<n&&(r=492,n=348);let a=this.props.paddingLeft||0,o=this.props.paddingRight||0,l=this.props.bottomSection;return i.createElement("div",{tabIndex:0,className:e,onPointerDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown,onClick:this.props.onClick,ref:this.bgRef},i.createElement("div",{className:s()(l?"header_modal--modalContainer--yIJSk":"header_modal--modal--2JYEN modal--modalShadow--d-rJf",this.props.containerClassName,{"header_modal--modal__scroll--T2IVi":this.props.allowScroll}),style:{maxWidth:r,minWidth:n,paddingLeft:a,paddingRight:o},onPointerDown:this.onModalMouseDown,role:"dialog","data-testid":this.props.dataTestId},(()=>{let e=i.createElement(b,{className:this.props.innerContainerClassName,headerClassname:this.props.headerClassName||"",headerSize:this.props.headerSize,disableHeaderBottomBorder:this.props.disableHeaderBottomBorder,title:this.props.title,titleIconURL:this.props.titleIconURL,titleIconSvgSrc:this.props.titleIconSvgSrc,truncateTitleText:this.props.truncateTitleText,onClose:this.props.onClose,onMouseDown:this.onModalMouseDown,isCloseHidden:this.props.isCloseHidden,containerRef:this.props.containerRef,customButton:this.props.customButton,closeTrackingText:this.props.closeTrackingText},this.props.children),r=!!this.props.bottomSection&&i.createElement("div",{className:"header_modal--bottomSection--qH4em",onPointerDown:this.onModalMouseDown},this.props.bottomSection);return l?i.createElement(i.Fragment,null,i.createElement("div",{className:"header_modal--upperModal--guwaL header_modal--modal--2JYEN modal--modalShadow--d-rJf"},e),r):i.createElement(i.Fragment,null,e)})()))}}function E(e){let r=(0,a.wA)(),n=e.destructive?u.qM:u.vd,o=()=>{r(g.Lo())},l=i.createElement(i.Fragment,null,e.hideCancel||i.createElement(u.tM,{innerText:(0,m.t)("general.cancel"),onClick:o,className:"header_modal--cancelButton--3zDCc header_modal--confirmationButton--Y-1oj text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.cancelText||(0,m.t)("general.cancel")),i.createElement(n,{innerText:e.confirmText||(0,m.t)("general.okay"),onClick:n=>{if(n.preventDefault(),e.onSubmit){e.onSubmit();return}r(g.Lo()),e.onConfirm&&e.onConfirm()},className:"header_modal--confirmationButton--Y-1oj text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:e.trackedConfirmationProperties||{},disabled:e.disabled},e.confirmText||(0,m.t)("general.okay")));return i.createElement(y,{maxWidth:e.maxWidth||344,minWidth:344,fixedTop:!0,onClose:o,...e,containerClassName:e.useRedesign?s()(e.containerClassName,"header_modal--modalBorderRadiusOverride--mLoQR"):void 0,headerClassName:e.useRedesign?s()(h.cx.textBodyLargeStrong.pb4.pt4.$,e.headerClassName):void 0},e.useRedesign?i.createElement("div",{className:h.cx.flex.flexColumn.$},i.createElement("div",{className:h.cx.if(!e.fullWidthContent,h.cx.p16).flex.flexColumn.$},e.children),i.createElement("div",{className:h.cx.flex.justifyEnd.p16.bt1.colorBorder.bSolid.$},l)):i.createElement("div",{className:"header_modal--confirmationBody--ViOqF text--fontPos11--2LvXf text--_fontBase--QdLsd"},i.createElement("div",{className:"header_modal--confirmationText--76-iq text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.children),i.createElement("div",{className:"header_modal--confirmButtonBox--FEPg6"},l)))}y.displayName="HeaderModal";class b extends i.Component{render(){let e=(()=>{switch(this.props.headerSize){case"large":return"header_modal--headerLarge--JMHqT header_modal--header--M56yS";case"hidden":return"header_modal--headerHidden--JWFxb";default:return"header_modal--headerSmall--WlWbO header_modal--header--M56yS"}})(),r=s()(e,this.props.headerClassname,{[h.cx.sticky.top0.left0.zIndex1.colorBg.$]:this.props.stickyHeader,"header_modal--headerWithBottomBorder--O1ODQ":!this.props.disableHeaderBottomBorder}),n=i.createElement(c.Jn,{onClick:this.props.onClose,onMouseDown:this.props.onMouseDown,innerText:this.props.closeTrackingText||"Close",className:this.props.closeButtonClassName,recordingKey:(0,d.Pt)(this.props,"headerModalContainer"),dataTestId:(0,d.Pt)(this.props,"headerModalContainer")+".close-button"}),a=(0,_.ft)();return i.createElement("div",{className:`${this.props.className||""}`,ref:this.props.containerRef,"aria-modal":this.props["aria-modal"]},i.createElement("div",{className:r,onPointerMove:a?this.props.onMouseMove:void 0,onMouseMove:a?void 0:this.props.onMouseMove},this.props.titleIconURL&&i.createElement("div",{className:"header_modal--headerIconImg--OHQqh plugin--pluginIconBase--yAG5F"},i.createElement("img",{src:this.props.titleIconURL,alt:""})),this.props.titleIconSvgSrc&&i.createElement("div",{className:"header_modal--headerIconSvg--dgaEs"},i.createElement(p.B,{svg:this.props.titleIconSvgSrc,className:this.props.titleIconSvgClassName})),"function"==typeof this.props.title?this.props.title(n):i.createElement(i.Fragment,null,"string"==typeof this.props.title?i.createElement(v,{title:this.props.title,truncateTitleText:this.props.truncateTitleText}):this.props.title,i.createElement("div",{className:"header_modal--rightButtonsClassName--plY48"},this.props.customButton,!this.props.isCloseHidden&&n))),this.props.children)}}function v(e){return i.createElement("div",{className:e.truncateTitleText?"header_modal--headerModalTitleWithoutOverflow--eQPzZ header_modal--headerModalTitle--32hFx ellipsis--ellipsis--Tjyfa":"header_modal--headerModalTitle--32hFx"},e.title)}b.displayName="HeaderModalContainer"},88578:(e,r,n)=>{"use strict";let i;n.d(r,{Nb:()=>T,Rw:()=>A,aF:()=>w});var a=n(11855),o=n(88507),s=n(29019),l=n.n(s),d=n(84934),c=n(98750),u=n(31757),p=n(53234),h=n(99569),m=n(46689),g=n(92766),f=n(71779),_=n(39863),y=n(76813),E=n(62275),b=n(59927),v=n(72517),S=n(9590),I=((i=I||{}).CLICK_OUTSIDE="click_outside",i.PRESS_ESCAPE="press_escape",i);function T(e){let r,n;let{useModalViewScroll:i=!0,tintedModalBackground:o=!0,hide:s,disableClickOutsideToHide:d,size:p,alignment:h,absolutePosition:m,padding:g,height:f,maxHeight:_,width:y,title:E,titleClassName:v,className:I,fixedTop:T,backgroundClassName:w,onKeyDown:C,disableKeyboardEventPropagation:A,modalRef:N,onModalClick:O,enableEscapeToClose:R,children:P,animateIn:L}=e;(0,u.h)();let D=a.useCallback(()=>{d||s("click_outside")},[d,s]),M=a.useCallback(e=>{e.stopPropagation()},[]),k=a.useCallback(e=>{O&&O(e)},[O]),x=a.useCallback(e=>{if(e.keyCode===c.Uz.ESCAPE&&(!d||R)){s("press_escape"),e.preventDefault(),e.stopPropagation();return}C&&C(e),A&&(e.nativeEvent.stopImmediatePropagation(),e.stopPropagation())},[d,s,C,A,R]),F=(0,a.useRef)(null);(0,a.useEffect)(()=>{F.current.focus();let e=e=>{var r;e.target.closest('[aria-modal="true"]')||null==(r=F.current)||r.focus()};return document.body.addEventListener("focus",e,!0),()=>document.body.removeEventListener("focus",e,!0)},[]),"number"==typeof p&&(r=p,n=p);let U=l()({[S.JY]:"small"===p,[S.ew]:"fitContent"===p,[S.Gx]:"mobile"===p,[S.R7]:!p||"medium"===p||"number"==typeof p}),B=l()(S.K1,w,b.Dm,{[S.Y0]:o,[S.CY]:T,[S.Xt]:"left"===h,[S.Ir]:"right"===h,[S.L4]:"leftNoPadding"===h}),V=l()(U,I,{[S.yl]:i,[S.Er]:!i,[S.KJ]:!!m,[S.HY]:L}),H={minWidth:r,maxWidth:n,height:f,maxHeight:_,width:y,padding:g,...m?{top:m.top,left:m.left}:{}};return a.createElement("div",{tabIndex:0,className:B,onMouseDown:D,onKeyDown:x,ref:F,"data-testid":"modal-background","aria-modal":"true"},a.createElement("div",{className:V,style:H,onMouseDown:M,onClick:k,ref:N,role:"dialog","data-testid":e["data-testid"]},E&&a.createElement("div",{className:`${S.DD} ${v||""}`},E),P))}function w(e){let r=(0,o.wA)(),{onHide:n,popStack:i}=e,{name:s,properties:l}=(0,v.j6)(),c=null==l?void 0:l.fileKey,u=null==l?void 0:l.productType,p=a.useCallback(e=>{i?r(E.Lo()):r(E.Ce()),n&&n(),(0,d.sx)("Modal Close",{source:e,trackingContext:s,fileKey:c,productType:u})},[r,c,s,n,i,u]);return a.createElement(T,{...e,hide:p})}let C={playback:()=>({preventDefault:()=>{}})};function A(e){let r=e.recordingKey??"",n=e.destructive??!1,i=e.autoFocusCta??!0,s=(0,o.wA)(),{dontClose:l,popStack:d}=e,c=a.useCallback(()=>{l||(d?s(E.Lo()):s(E.Ce()))},[s,l,d]),{onCloseButtonClick:u}=e,b=a.useCallback(()=>{c(),null==u||u()},[c,u]),v=(0,p.rf)(r,"click",b),{hideOnConfirm:I,onConfirm:T}=e,A=a.useCallback(e=>{e.preventDefault(),(I??!0)&&c(),T()},[c,I,T]),N=(0,p.qP)(r,"confirm",A,C),{hideOnCancel:O,onCancel:R}=e,P=a.useCallback(e=>{e.preventDefault(),(O??!0)&&c(),null==R||R()},[c,O,R]),L=(0,p.qP)(r??"","cancel",P,C),D=n?m.qM:m.vd,M=!(e.dontClose||e.hideClose);return a.createElement(w,{size:e.size||"small",...e,className:e.className||S.yl,onHide:e.overrideOnHide??e.onCancel},M&&a.createElement(h.i0,{...e,className:e.closeClass,onClick:v}),a.createElement(f.i,{displayAs:f.C.Block},!e.hideConfirmationTitle&&a.createElement("div",{className:e.titleClass??S.DD},e.confirmationTitle??a.createElement(_.Tx,{id:"modal.are_you_sure"})),e.children?e.children:a.createElement("div",{className:S.jE},e.content),a.createElement("div",{className:S.v0},a.createElement("div",{className:e.helperTextClass??S._f},e.helperText),!e.hideCancel&&a.createElement(m.tM,{onClick:L,autoFocus:!!i&&n},e.cancelText??a.createElement(_.Tx,{id:"modal.cancel"})),e.isLoading?a.createElement(D,{dataTestId:"confirmation-modal-confirm-action-button",tabIndex:0,type:"submit",className:S.LO,disabled:!0,trackingProperties:e.trackedConfirmationProperties||{}},a.createElement(g.kt,{className:e.loadingText?S.FQ:S.u1}),e.loadingText):a.createElement("form",{onSubmit:N},a.createElement(D,{dataTestId:"confirmation-modal-confirm-action-button",tabIndex:0,type:"submit",className:S.pL,disabled:e.disableConfirm,autoFocus:!!i&&!n,trackingProperties:e.trackedConfirmationProperties||{}},e.confirmText))),e.bottomWarningText&&a.createElement("div",{className:S.$$},a.createElement(y.In,{icon:"warning-32"}),e.bottomWarningText)))}},33615:(e,r,n)=>{"use strict";n.d(r,{J:()=>S});var i=n(11855),a=n(11617),o=n(98977),s=n(66712),l=n(46689);n(59341);var d=n(29019),c=n.n(d),u=n(59927),p=n(37499),h=n(24897),m=n(47173);class g extends i.Component{render(){return i.createElement("div",{className:this.props.tintedModalBackground?c()("interstitial_modal--modalLayerTinted--0pQ0G interstitial_modal--modalLayer--YsHv8 interstitial_modal--tintedBackground--U7ieU",u.Dm):"interstitial_modal--modalLayer--YsHv8",onClick:this.props.close,role:"none"},i.createElement("div",{className:this.props.renderSimplifiedView?"interstitial_modal--simplifiedModalContainer--wl-4G":"interstitial_modal--modalContainer--fSTlQ",onClick:e=>{e.stopPropagation()},role:"none"},this.props.onBackClick&&i.createElement("button",{onClick:this.props.onBackClick,className:"interstitial_modal--backButton--FA6d4",type:"button","data-testid":"back-button"},i.createElement(h.B,{svg:m.A,className:"interstitial_modal--caret--0pCHL"})),this.props.headerImage,this.props.imageSrc&&i.createElement("div",{className:this.props.imageClassName?this.props.imageClassName:"interstitial_modal--imageContainer--YKFVB"},i.createElement(h.B,{useOriginalSrcFills_DEPRECATED:this.props.useOriginalSrcFills,svg:this.props.imageSrc,autosize:!0})),this.props.headerText&&i.createElement("div",{className:"interstitial_modal--headerText--1NkRH"},this.props.headerText),this.props.secondaryText&&i.createElement("div",{className:"interstitial_modal--secondaryText--IC9Gu"},this.props.secondaryText),this.props.children))}componentDidMount(){let e=(0,p.Rf)();(null==e?void 0:e.updateTrackingSessionId)&&e.updateTrackingSessionId((0,s.Ay)().tracking_session_id)}}var f=n(30949),_=n(39863),y=n(37870),E=n(67063);let b=f.cx.colorIcon.h32.w28.pb32.$,v=f.cx.w300.maxWFull.font13.h40.cursorPointer.$,S=(0,y.Ju)(function(){let{frame_context:e}=(0,s.Ay)(),r=(0,a.GZ)()&&(null==e?void 0:e.type)==="embed";return i.createElement(g,{imageSrc:E.A,imageClassName:b,headerText:(0,_.t)("link_expired.header"),secondaryText:(0,_.t)("link_expired.description")},!r&&i.createElement(l.vd,{className:v,type:"submit",onClick:()=>{o.Ay.redirect("/")}},i.createElement(_.Tx,{id:"link_expired.go_back_to_figma"})))},"LINK_EXPIRED_MODAL")},47402:(e,r,n)=>{"use strict";let i;n.d(r,{Lu:()=>N,PG:()=>O});var a=n(11855),o=n(88507),s=n(84934),l=n(1888),d=n(98977),c=n(66712),u=n(63706),p=n(53234),h=n(46689),m=n(39863),g=n(38269),f=n(9831),_=n(56390),y=n(52800),E=n(99506),b=n(39671),v=n(37870),S=n(91297),I=n(88578),T=n(34886),w=n(21112);function C(e,r={}){var n,i;(0,s.sx)("memory_warning_event",{currentAllocatedBytes:null==(n=y.hMR)?void 0:n.getTotalUsedHeapMemory(),maxAllocatedBytes:null==(i=y.hMR)?void 0:i.getMaxUsedHeapMemory(),...e,...r})}var A=((i=A||{}).SHOW_RELOAD="showReload",i.SHOW_RECOVERY_MODE="showRecoveryMode",i.SHOW_BROWSER_UPGRADE="showBrowserUpgrade",i.SHOW_BROWSER_UPGRADE_AND_DESKTOP_DOWNLOAD="showBrowserUpgradeAndDesktop",i);let N="memory-warning-modal";function O(e){var r,n;let i=_.Y5.hasDesktopApp(),s=(0,o.d4)(e=>e.mirror.appModel.isReadOnly),v=(0,o.d4)(e=>e.selectedView),A=(0,f.AU)(v)===E._Y.DESIGN,N=(0,o.d4)(e=>{var r;return null==(r=e.openFile)?void 0:r.key})||(null==(n=null==(r=(0,c.Ay)().editing_file)?void 0:r.source_file)?void 0:n.key)||"",O=(0,o.wA)(),R={view:"fullscreen",editorType:A?b.nT.Design:b.nT.Whiteboard,fileKey:N,isRecoveryMode:!0},P=y.hMR.getHeapMemoryMode()===y.rCR.RECOVERY,L=s||P?"showReload":u.Ay.isWasm4gbSupported?"showRecoveryMode":i?"showBrowserUpgrade":"showBrowserUpgradeAndDesktop",D={chrome:"https://support.google.com/chrome/answer/95414",safari:"https://support.apple.com/en-us/HT204416",firefox:"https://support.mozilla.org/en-US/kb/update-firefox-latest-release",msedge:"https://support.microsoft.com/en-us/topic/update-to-the-new-microsoft-edge-182d0668-e3f0-49da-b8bb-db5675245dc2"},M=a.createElement(h.CY,{onClick:()=>_.Y5.navigateToURL(u.Ay.mac?"/download/desktop/mac":"/download/desktop/win",y.jkn.NEW_TAB),trusted:!0},a.createElement(m.Tx,{id:"memory_warning_modal.desktop_app_download_link"})),k="showReload"===L?{title:(0,m.t)("memory_warning_modal.reload_modal_title"),content:(0,m.t)("memory_warning_modal.reload_modal_content"),contentCTA:(0,m.t)("memory_warning_modal.reload_modal_content_cta"),buttonCTA:(0,m.t)("memory_warning_modal.reload_page_button"),secondaryButtonCTA:(0,m.t)("memory_warning_modal.learn_more"),buttonExternalLink:null,secondaryButtonExternalLink:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files/"}:"showRecoveryMode"===L?{title:(0,m.t)("memory_warning_modal.recovery_mode_modal_title"),content:(0,m.t)("memory_warning_modal.recovery_mode_modal_out_of_memory"),contentCTA:(0,m.t)("memory_warning_modal.recovery_mode_modal_content"),buttonCTA:(0,m.t)("memory_warning_modal.recovery_mode_button"),secondaryButtonCTA:(0,m.t)("memory_warning_modal.learn_more"),buttonExternalLink:null,secondaryButtonExternalLink:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files/"}:"showBrowserUpgrade"===L?{title:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_title"),content:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_content"),contentCTA:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_content_cta_and_open_in_desktop"),buttonCTA:(0,m.t)("memory_warning_modal.old_browser_primary_button_cta"),secondaryButtonCTA:(0,m.t)("memory_warning_modal.open_in_desktop"),buttonExternalLink:u.Ay.browserType&&D[u.Ay.browserType]||null,secondaryButtonExternalLink:null}:{title:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_title"),content:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_content"),contentCTA:null,buttonCTA:(0,m.t)("memory_warning_modal.old_browser_primary_button_cta"),secondaryButtonCTA:null,buttonExternalLink:u.Ay.browserType&&D[u.Ay.browserType]||null,secondaryButtonExternalLink:null};return e.isBranching?a.createElement(S.E,null):a.createElement(I.aF,{size:"small",className:w.yl,disableClickOutsideToHide:!0},a.createElement("div",{className:T.GK},k.title),a.createElement("div",{className:T.jE},a.createElement("div",null,k.content,a.createElement("br",null),"\xa0",a.createElement("br",null)),"showBrowserUpgradeAndDesktop"===L?a.createElement(m.Tx,{id:"memory_warning_modal.old_browser_out_of_memory_modal_content_cta_and_download_desktop",desktopAppLink:M}):k.contentCTA,a.createElement("br",null)),a.createElement("div",{className:w.v0},k.secondaryButtonCTA&&a.createElement(h.nR,{recordingKey:p.Pt(e,"crash"),onClick:()=>{k.secondaryButtonCTA===(0,m.t)("memory_warning_modal.learn_more")&&C({warningEvent:"LEARN_MORE",fileKey:N},{isReadOnly:s}),"showBrowserUpgrade"===L&&(0,l.Sr)(location.href)}},a.createElement("a",{className:T.Xi,href:k.secondaryButtonExternalLink||void 0,target:"_blank"},k.secondaryButtonCTA)),a.createElement(h.$$,{recordingKey:p.Pt(e,"crash"),className:w.pL,onClick:()=>{k.buttonCTA===(0,m.t)("memory_warning_modal.recovery_mode_button")&&C({warningEvent:"OPEN_RECOVERY_MODE",fileKey:N},{isReadOnly:s}),("showRecoveryMode"===L||s)&&O(g.$T(R)),("showReload"===L||"showRecoveryMode"===L)&&d.Ay.reload("Memory warning panel")}},a.createElement("a",{className:T.Zb,href:k.buttonExternalLink||void 0,target:"_blank"},k.buttonCTA))))}(0,v.qK)(N,e=>{let{isBranching:r}=e.modalShown.data;return a.createElement(O,{isBranching:r})})},84129:(e,r,n)=>{"use strict";let i;n.d(r,{DV:()=>eO,bP:()=>eN});var a=n(11855),o=n(63033),s=n(29019),l=n.n(s),d=n(35283),c=n(47899),u=n(80921),p=n(99569),h=n(46689),m=n(42822),g=n(30949),f=n(39863),_=n(43632),y=n(72517),E=n(26055),b=n(20647),v=n(96226),S=n(99506),I=n(20113),T=n(6193),w=n(874),C=n(65361),A=n(37870),N=n(59596),O=n(88578),R=n(88507),P=n(94272),L=n(69987),D=n(38269),M=n(62275),k=n(95852),x=n(49410),F=n(11916),U=n(20662),B=n(24838),V=n(43987),H=n(28467),G=n(46869),W=n(92079),z=n(7956),K=n(84934),j=n(24897),Y=n(90448),$=n(43135),q=n(18025),Z=n(22139),X=n(98606),J=n(30413),Q=n(39683);let ee=[w.Bi.AUDIO,w.Bi.VOTING,w.Bi.PASSWORD_PROTECTION,w.Bi.OPEN_SESSION,w.vL.FILE];var et=((i=et||{}).AUDIO="audio",i.OPEN_SESSION="open_session",i.PASSWORD_PROTECTION="password_protection",i.UNLIMITED_CREATION="unlimited_creation",i.VOTING="voting",i);function er(){return a.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_889_4894)"},a.createElement("g",{clipPath:"url(#clip1_889_4894)"},a.createElement("rect",{width:"50",height:"50",transform:"translate(0.0869141)",fill:"white"}),a.createElement("rect",{x:"25.1357",y:"9.21045",width:"15.7895",height:"15.7895",fill:"#FFC700"}),a.createElement("rect",{width:"11.8421",height:"11.8421",transform:"translate(25.1357 25)",fill:"#D5EB97"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.9347 30.3917C27.9113 30.7854 29.2476 30.9622 30.3167 31.0959C29.3298 32.1444 28.6731 32.9648 28.3482 33.5938C28.2141 33.8534 28.0579 34.4939 28.415 34.704C28.8973 34.9879 29.6265 34.4236 29.8901 34.1027C30.2273 33.7153 30.8821 32.7508 31.5092 31.5276C31.8998 32.6635 32.3437 33.5405 32.6194 33.9999C33.0203 34.668 33.5683 34.8955 33.8426 34.7143C34.1151 34.5344 34.0716 34.1222 33.9866 33.8816C33.7142 33.1107 33.2002 32.1906 32.7273 31.4608C34.0349 31.7413 34.7576 31.9109 35.1944 31.872C35.6728 31.8294 35.8726 31.6286 35.9088 31.4146C35.9684 31.0625 35.4746 30.8811 35.2255 30.7854C34.7566 30.6053 34.0699 30.3254 32.8455 30.0679C33.4109 29.5539 33.6679 29.374 34.2538 28.4694C34.5731 27.9766 34.8165 27.067 34.5001 26.8407C34.0418 26.5131 33.4931 26.9943 33.1642 27.3849C32.5625 28.0995 32.2699 28.7007 31.8484 29.5025C31.531 28.6414 31.1468 27.6726 30.4709 26.8407C30.161 26.4592 29.7049 26.0895 29.3401 26.3467C28.9191 26.6436 29.078 27.2359 29.2425 27.6265C29.6149 28.5109 29.8953 28.86 30.6148 29.7389C29.4738 29.3894 28.6616 29.2044 27.2328 29.2044C26.9398 29.2044 26.4648 29.3651 26.4207 29.6259C26.3775 29.8808 26.4692 30.1552 26.9347 30.3917Z",fill:"black"}),a.createElement("rect",{x:"13.2935",y:"19.7368",width:"11.8421",height:"11.8421",fill:"#F697F9"}),a.createElement("path",{d:"M25.1356 37.4999C25.1356 40.77 22.4846 43.421 19.2145 43.421C15.9444 43.421 13.2935 40.77 13.2935 37.4999C13.2935 34.2298 15.9444 31.5789 19.2145 31.5789C22.4846 31.5789 25.1356 34.2298 25.1356 37.4999Z",fill:"#A259FF"}),a.createElement("path",{d:"M28.755 19.113C28.6932 19.4099 28.5749 19.7109 28.2259 19.7369C27.8121 19.7284 27.6224 19.2778 27.5424 18.9333C27.3157 17.9579 27.4758 16.2356 27.5424 15.0654C26.8385 15.1164 22.7415 14.7974 21.771 14.5112C21.4638 14.4207 21.1322 14.1907 21.1781 13.833C21.2365 13.4942 21.5068 13.3494 21.8169 13.2786C22.4988 13.1228 25.0173 13.1491 25.7935 13.1869C25.8965 13.1869 28.4693 13.3261 28.7876 13.664C29.0918 13.9869 29.1216 15.1199 29.0516 16.3355C28.9988 17.254 28.9434 18.2077 28.755 19.113Z",fill:"black"}),a.createElement("path",{d:"M12.6358 17.1054C12.6358 12.5001 21.7042 11.0232 24.6443 11.1432C25.4174 11.1432 27.0979 11.2955 28.6172 11.8437C30.0358 12.3556 31.8689 13.9084 32.681 13.086C33.7359 12.0178 31.053 10.5394 29.7798 10.133C28.3077 9.66321 26.3402 9.34522 23.6344 9.34522C19.2527 9.40708 10.6621 11.413 10.6621 17.1054C10.6621 23.913 22.0706 23.6843 25.1358 23.6843C31.0569 23.6843 38.2245 21.879 38.2937 15.7896C38.3541 10.4743 32.6407 7.88852 27.7674 7.89478C22.1548 7.89478 15.2674 9.86846 15.2674 15.1316C15.2674 17.7632 17.4729 19.0072 19.8726 19.079C25.1358 19.079 28.3842 15.4606 28.3842 15.4606L27.2945 14.4121C27.2945 14.4121 22.792 17.1053 19.8726 17.1053C18.1371 17.195 17.2411 16.6599 17.2411 15.1316C17.2411 10.4349 24.2823 10.6679 27.5412 10.4853C31.689 10.2529 36.32 11.6355 36.32 15.7896C36.32 21.2377 27.1095 21.7106 25.1358 21.7106C23.407 21.7106 12.6358 21.7106 12.6358 17.1054Z",fill:"black"}),a.createElement("rect",{width:"50",height:"50",transform:"translate(0.0961914 -0.0395508)",fill:"white"}),a.createElement("rect",{x:"25.0962",y:"9.1709",width:"15.7895",height:"15.7895",fill:"#FFC700"}),a.createElement("rect",{width:"11.8421",height:"11.8421",transform:"translate(25.0962 24.9604)",fill:"#D5EB97"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.8952 30.3521C27.8717 30.7459 29.2081 30.9227 30.2772 31.0563C29.2903 32.1048 28.6336 32.9253 28.3086 33.5543C28.1745 33.8138 28.0184 34.4543 28.3754 34.6645C28.8578 34.9484 29.587 34.384 29.8505 34.0631C30.1877 33.6758 30.8425 32.7113 31.4696 31.4881C31.8603 32.6239 32.3042 33.5009 32.5798 33.9603C32.9807 34.6285 33.5288 34.8559 33.8031 34.6748C34.0755 34.4948 34.032 34.0827 33.947 33.8421C33.6746 33.0711 33.1606 32.1511 32.6878 31.4212C33.9954 31.7017 34.7181 31.8714 35.1548 31.8325C35.6333 31.7898 35.833 31.5891 35.8693 31.375C35.9289 31.023 35.435 30.8416 35.186 30.7459C34.7171 30.5657 34.0304 30.2858 32.806 30.0284C33.3714 29.5144 33.6283 29.3345 34.2143 28.4299C34.5335 27.937 34.777 27.0274 34.4605 26.8012C34.0023 26.4736 33.4536 26.9548 33.1246 27.3454C32.5229 28.0599 32.2303 28.6612 31.8089 29.463C31.4915 28.6018 31.1072 27.633 30.4314 26.8012C30.1215 26.4197 29.6654 26.0499 29.3006 26.3072C28.8795 26.6041 29.0385 27.1963 29.203 27.5869C29.5754 28.4714 29.8557 28.8205 30.5753 29.6994C29.4342 29.3499 28.6221 29.1649 27.1933 29.1649C26.9003 29.1649 26.4253 29.3255 26.3811 29.5863C26.338 29.8412 26.4296 30.1156 26.8952 30.3521Z",fill:"black"}),a.createElement("rect",{x:"13.2539",y:"19.6973",width:"11.8421",height:"11.8421",fill:"#F697F9"}),a.createElement("path",{d:"M25.096 37.4606C25.096 40.7307 22.4451 43.3817 19.175 43.3817C15.9049 43.3817 13.2539 40.7307 13.2539 37.4606C13.2539 34.1905 15.9049 31.5396 19.175 31.5396C22.4451 31.5396 25.096 34.1905 25.096 37.4606Z",fill:"#A259FF"}),a.createElement("path",{d:"M28.7154 19.0735C28.6536 19.3704 28.5354 19.6714 28.1863 19.6974C27.7726 19.6888 27.5829 19.2382 27.5028 18.8938C27.2762 17.9184 27.4363 16.196 27.5028 15.0259C26.799 15.0768 22.7019 14.7578 21.7314 14.4717C21.4242 14.3811 21.0926 14.1511 21.1386 13.7934C21.1969 13.4547 21.4672 13.3099 21.7774 13.239C22.4593 13.0832 24.9778 13.1095 25.754 13.1473C25.857 13.1473 28.4297 13.2865 28.7481 13.6244C29.0522 13.9473 29.082 15.0804 29.0121 16.296C28.9593 17.2144 28.9039 18.1681 28.7154 19.0735Z",fill:"black"}),a.createElement("path",{d:"M12.5962 17.0658C12.5962 12.4606 21.6646 10.9836 24.6048 11.1036C25.3778 11.1036 27.0583 11.2559 28.5776 11.8041C29.9963 12.3161 31.8294 13.8689 32.6415 13.0465C33.6964 11.9782 31.0135 10.4998 29.7402 10.0935C28.2681 9.62366 26.3006 9.30567 23.5949 9.30567C19.2131 9.36753 10.6226 11.3734 10.6226 17.0658C10.6226 23.8734 22.0311 23.6448 25.0962 23.6448C31.0173 23.6448 38.1849 21.8394 38.2541 15.75C38.3146 10.4347 32.6011 7.84896 27.7278 7.85522C22.1152 7.85522 15.2278 9.82891 15.2278 15.0921C15.2278 17.7236 17.4333 18.9676 19.8331 19.0394C25.0962 19.0394 28.3446 15.4211 28.3446 15.4211L27.255 14.3726C27.255 14.3726 22.7525 17.0658 19.8331 17.0658C18.0976 17.1555 17.2015 16.6203 17.2015 15.0921C17.2015 10.3954 24.2428 10.6283 27.5017 10.4458C31.6494 10.2134 36.2805 11.5959 36.2805 15.75C36.2805 21.1982 27.0699 21.6711 25.0962 21.6711C23.3674 21.6711 12.5962 21.6711 12.5962 17.0658Z",fill:"black"}))),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_889_4894"},a.createElement("rect",{width:"50",height:"50",rx:"10.9375",fill:"white"})),a.createElement("clipPath",{id:"clip1_889_4894"},a.createElement("rect",{width:"50",height:"50",fill:"white",transform:"translate(0.0869141)"}))))}function en(e){switch(e){case w.Bi.AUDIO:return et.AUDIO;case w.Bi.VOTING:return et.VOTING;case w.Bi.PASSWORD_PROTECTION:return et.PASSWORD_PROTECTION;case w.Bi.OPEN_SESSION:return et.OPEN_SESSION;default:return et.UNLIMITED_CREATION}}function ei(e){var r;let n;let{resource:i,action:o,team:s,upsellPlan:l,upsellSource:c,onBillingCompleteRedirectInfo:u}=e,[m,g]=a.useState(en(i)),_=(0,I.LN)(),E=a.useCallback(e=>{g(e)},[g]),{cancel:b,startProUpgradeFlow:w,startOrgUpgradeFlow:C,startEnterpriseUpgradeFlow:A}=v.F.useModalControls((null==s?void 0:s.id)??null);switch(l){case v.F.Plan.PRO:n=()=>w(u);break;case v.F.Plan.ORG:n=()=>{C({upsellSource:c??T.b.UNSET})};break;case v.F.Plan.ENTERPRISE:n=()=>A(i);break;case v.F.Plan.STARTER:n=()=>{};break;default:(0,d.xb)(l)}return a.createElement(y.fu,{name:"Figjam Super Paywall Modal",properties:{teamId:null==s?void 0:s.id,action:o,product_type:"figjam",inPublishDraftExp:!!u,source:en(i)}},a.createElement(O.aF,{size:696,popStack:!0,className:"figjam_paywall_modal--superModal--KSHlM"},a.createElement(p.Jn,{className:"figjam_paywall_modal--closeButton--bPSvl close_button--modalUpperRightCorner--eKAQg",onClick:b,innerText:"Close"}),a.createElement("div",{className:"figjam_paywall_modal--superModalTitle--qbYNt"},a.createElement(er,null),a.createElement("div",{className:"figjam_paywall_modal--superModalTitleText--HAhn6"},a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.title",purpleSection:(r=a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.title.purpleSection"}),a.createElement("span",{className:"figjam_paywall_modal--purpleText--9DYh8"},r))}))),a.createElement("div",{className:"figjam_paywall_modal--superModalBodyContainer--Fstvj"},a.createElement(eo,{selectedFeature:m,onSelectFeatureType:E}),a.createElement(el,{selectedFeature:m})),a.createElement("div",{className:"figjam_paywall_modal--superModalFooter--I-iOk"},a.createElement("div",{className:"figjam_paywall_modal--priceTextContainer--So3qb"},a.createElement(f.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:a.createElement("span",{className:"figjam_paywall_modal--currencyText--xNIVV text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,W.jL)({editorType:S.G_.WHITEBOARD,planMode:V.Jm.PRO,currency:_,currentSubscriptionPlan:Z.R$.MONTHLY,showFullCurrencyFormat:!0}))})),a.createElement(h.nD,{className:"figjam_paywall_modal--upgradeButton--n5eWj text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:n},a.createElement("div",null,a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.upgrade.button"}))))))}function ea(){return a.createElement(h.Us,{href:"https://www.figma.com/pricing/#figjam",target:"_blank",trusted:!0},a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.see_all_features"}))}function eo(e){let{selectedFeature:r,onSelectFeatureType:n}=e;return a.createElement("div",{className:"figjam_paywall_modal--superModalFeatureContainer--Dp-MP"},a.createElement("div",{className:"figjam_paywall_modal--superModalFeatureList--3pwfD"},a.createElement(es,{selectedFeature:r,featureType:et.UNLIMITED_CREATION,onSelectFeatureType:n}),a.createElement(es,{selectedFeature:r,featureType:et.OPEN_SESSION,onSelectFeatureType:n}),a.createElement(es,{selectedFeature:r,featureType:et.VOTING,onSelectFeatureType:n}),a.createElement(es,{selectedFeature:r,featureType:et.AUDIO,onSelectFeatureType:n}),a.createElement(es,{selectedFeature:r,featureType:et.PASSWORD_PROTECTION,onSelectFeatureType:n}),a.createElement("div",{className:"figjam_paywall_modal--superModalAllFeaturesCta--2pLhV"},a.createElement("div",{className:"figjam_paywall_modal--superModalAllFeaturesText--MaIyT text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(ea,null)))))}function es(e){let{selectedFeature:r,featureType:n,onSelectFeatureType:i}=e,o=(0,Q.U)(),s=function(e){switch(e){case"audio":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.audio.button"});case"open_session":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.open_session.button"});case"password_protection":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.password_protection.button"});case"unlimited_creation":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.unlimited_creation.button"});case"voting":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.voting.button"})}}(n),d=function(e){switch(e){case et.AUDIO:return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13.0406C8 12.87 7.83283 12.7495 7.67094 12.8035L6.17094 13.3035C6.06886 13.3375 6 13.433 6 13.5406V15.0001V15.5001V16.4595C6 16.5671 6.06886 16.6626 6.17094 16.6967L7.67094 17.1967C7.83282 17.2506 8 17.1301 8 16.9595V13.0406ZM5 15.5001V16.4595C5 16.9975 5.34428 17.4752 5.85471 17.6453L7.35471 18.1453C8.16412 18.4152 9 17.8127 9 16.9595V13.0406C9 12.1874 8.16413 11.585 7.35472 11.8548L6 12.3063V12.0001C6 8.68636 8.68629 6.00006 12 6.00006C15.3137 6.00006 18 8.68636 18 12.0001V12.3063L16.6453 11.8548C15.8359 11.585 15 12.1874 15 13.0406V16.9595C15 17.8127 15.8359 18.4151 16.6453 18.1453L18.1453 17.6453C18.6557 17.4752 19 16.9975 19 16.4595V15.5001V15.0001V13.5406V12.0001C19 8.13407 15.866 5.00006 12 5.00006C8.13401 5.00006 5 8.13407 5 12.0001V13.5406V15.0001V15.5001ZM18 15.5001V16.4595C18 16.5671 17.9311 16.6626 17.8291 16.6967L16.3291 17.1967C16.1672 17.2506 16 17.1301 16 16.9595V13.0406C16 12.87 16.1672 12.7495 16.3291 12.8035L17.8291 13.3035C17.9311 13.3375 18 13.433 18 13.5406V15.0001V15.5001Z",fill:"#8638E5"}));case et.OPEN_SESSION:return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4502 6.55L10.4502 6.55V5.55C10.4502 4.69396 11.1442 4 12.0002 4C12.8562 4 13.5502 4.69396 13.5502 5.55V6.55H14.5502L17.8002 6.55V19H6.2002V6.55L9.4502 6.55ZM14.5502 5.55H15.5502L17.8002 5.55H18.8002V6.55V19V20H17.8002H6.2002H5.2002V19V6.55V5.55H6.2002L8.4502 5.55H9.4502C9.4502 4.14167 10.5919 3 12.0002 3C13.4085 3 14.5502 4.14167 14.5502 5.55ZM12.0003 9.87498C11.1028 9.87498 10.3753 10.6025 10.3753 11.5C10.3753 12.3974 11.1028 13.125 12.0003 13.125C12.8977 13.125 13.6253 12.3974 13.6253 11.5C13.6253 10.6025 12.8977 9.87498 12.0003 9.87498ZM14.6253 11.5C14.6253 12.3244 14.2453 13.06 13.6508 13.5412C14.7373 14.1287 15.4753 15.2782 15.4753 16.6H14.4753C14.4753 15.2331 13.3672 14.125 12.0003 14.125C10.6334 14.125 9.52528 15.2331 9.52528 16.6H8.52528C8.52528 15.2782 9.26328 14.1287 10.3497 13.5412C9.7553 13.06 9.37528 12.3244 9.37528 11.5C9.37528 10.0502 10.5505 8.87498 12.0003 8.87498C13.45 8.87498 14.6253 10.0502 14.6253 11.5Z",fill:"#8638E5"}));case et.PASSWORD_PROTECTION:return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3022 7.0881C19.4531 8.56459 19.1891 10.6945 17.7126 11.8453C16.2361 12.9962 14.1062 12.7322 12.9554 11.2558C11.8045 9.77927 12.0685 7.64938 13.5449 6.49852C15.0214 5.34765 17.1513 5.61162 18.3022 7.0881ZM19.0909 6.47334C20.5813 8.38542 20.2394 11.1437 18.3274 12.6341C16.5569 14.014 14.061 13.8232 12.5179 12.2695L9.4687 14.5859L11.0586 16.6527L10.266 17.2624L8.67241 15.1909L7.0733 16.4057L8.76247 18.6582L7.96244 19.2582L6.277 17.0107L5.16477 17.8556L4.55984 17.0594L11.8975 11.4849C10.7277 9.60291 11.1432 7.10268 12.9302 5.70981C14.8423 4.21941 17.6005 4.56126 19.0909 6.47334Z",fill:"#8638E5"}));case et.UNLIMITED_CREATION:return a.createElement("div",{style:{height:"24px",width:"24px",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1H3.5H8.5H8.70711L8.85355 1.14645L12.8536 5.14645L13 5.29289V5.5V14.5V15H12.5H3.5H3V14.5V1.5V1ZM4 2V14H12V6H8.5H8V5.5V2H4ZM9 2.70711L11.2929 5H9V2.70711Z",fill:"#8638E5"})));case et.VOTING:return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},a.createElement("mask",{id:"path-2-inside-1_889_4948",fill:"white"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4387 5.77832H13.5619V7.54297H13.5571V8.54297V8.87858V9.87858H12.5571H11.4429H10.4429V8.87858V8.54297V7.54297H10.4387V5.77832ZM9.43872 7.54297V5.77832V4.77832H10.4387H13.5619H14.5619V5.77832V7.54297H16.282L18.7376 12.1035L19.0068 12.6035V13.1035V18.221V19.221H18.0068H5.99316H4.99316V18.221V13.1035V12.6035L5.26239 12.1035L7.71804 7.54297H9.43872ZM9.43872 8.54297H8.31534L6.39815 12.1035H17.6018L15.6847 8.54297H14.5619V9.95667V10.9567H13.5619H10.4387H9.43872V9.95667V8.54297ZM5.99316 13.1035H18.0068V18.221H5.99316V13.1035Z"})),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4387 5.77832H13.5619V7.54297H13.5571V8.54297V8.87858V9.87858H12.5571H11.4429H10.4429V8.87858V8.54297V7.54297H10.4387V5.77832ZM9.43872 7.54297V5.77832V4.77832H10.4387H13.5619H14.5619V5.77832V7.54297H16.282L18.7376 12.1035L19.0068 12.6035V13.1035V18.221V19.221H18.0068H5.99316H4.99316V18.221V13.1035V12.6035L5.26239 12.1035L7.71804 7.54297H9.43872ZM9.43872 8.54297H8.31534L6.39815 12.1035H17.6018L15.6847 8.54297H14.5619V9.95667V10.9567H13.5619H10.4387H9.43872V9.95667V8.54297ZM5.99316 13.1035H18.0068V18.221H5.99316V13.1035Z",fill:"#8638E5"}),a.createElement("path",{d:"M13.5619 5.77832H14.5619V4.77832H13.5619V5.77832ZM10.4387 5.77832V4.77832H9.43872V5.77832H10.4387ZM13.5619 7.54297V8.54297H14.5619V7.54297H13.5619ZM13.5571 7.54297V6.54297H12.5571V7.54297H13.5571ZM13.5571 9.87858V10.8786H14.5571V9.87858H13.5571ZM10.4429 9.87858H9.44293V10.8786H10.4429V9.87858ZM10.4429 7.54297H11.4429V6.54297H10.4429V7.54297ZM10.4387 7.54297H9.43872V8.54297H10.4387V7.54297ZM9.43872 7.54297V8.54297H10.4387V7.54297H9.43872ZM9.43872 4.77832V3.77832H8.43872V4.77832H9.43872ZM14.5619 4.77832H15.5619V3.77832H14.5619V4.77832ZM14.5619 7.54297H13.5619V8.54297H14.5619V7.54297ZM16.282 7.54297L17.1624 7.06887L16.8792 6.54297H16.282V7.54297ZM18.7376 12.1035L17.8571 12.5776V12.5776L18.7376 12.1035ZM19.0068 12.6035H20.0068V12.3513L19.8873 12.1294L19.0068 12.6035ZM19.0068 19.221V20.221H20.0068V19.221H19.0068ZM4.99316 19.221H3.99316V20.221H4.99316V19.221ZM4.99316 12.6035L4.11269 12.1294L3.99316 12.3513V12.6035H4.99316ZM5.26239 12.1035L6.14287 12.5776L5.26239 12.1035ZM7.71804 7.54297V6.54297H7.12075L6.83757 7.06887L7.71804 7.54297ZM9.43872 8.54297H10.4387V7.54297H9.43872V8.54297ZM8.31534 8.54297V7.54297H7.71804L7.43487 8.06887L8.31534 8.54297ZM6.39815 12.1035L5.51768 11.6294L4.72393 13.1035H6.39815V12.1035ZM17.6018 12.1035V13.1035H19.2761L18.4823 11.6294L17.6018 12.1035ZM15.6847 8.54297L16.5651 8.06887L16.282 7.54297H15.6847V8.54297ZM14.5619 8.54297V7.54297H13.5619V8.54297H14.5619ZM14.5619 10.9567V11.9567H15.5619V10.9567H14.5619ZM9.43872 10.9567H8.43872V11.9567H9.43872V10.9567ZM18.0068 13.1035H19.0068V12.1035H18.0068V13.1035ZM5.99316 13.1035V12.1035H4.99316V13.1035H5.99316ZM18.0068 18.221V19.221H19.0068V18.221H18.0068ZM5.99316 18.221H4.99316V19.221H5.99316V18.221ZM13.5619 4.77832H10.4387V6.77832H13.5619V4.77832ZM14.5619 7.54297V5.77832H12.5619V7.54297H14.5619ZM13.5619 6.54297H13.5571V8.54297H13.5619V6.54297ZM12.5571 7.54297V8.54297H14.5571V7.54297H12.5571ZM12.5571 8.54297V8.87858H14.5571V8.54297H12.5571ZM12.5571 8.87858V9.87858H14.5571V8.87858H12.5571ZM13.5571 8.87858H12.5571V10.8786H13.5571V8.87858ZM12.5571 8.87858H11.4429V10.8786H12.5571V8.87858ZM11.4429 8.87858H10.4429V10.8786H11.4429V8.87858ZM11.4429 9.87858V8.87858H9.44293V9.87858H11.4429ZM11.4429 8.87858V8.54297H9.44293V8.87858H11.4429ZM11.4429 8.54297V7.54297H9.44293V8.54297H11.4429ZM10.4429 6.54297H10.4387V8.54297H10.4429V6.54297ZM9.43872 5.77832V7.54297H11.4387V5.77832H9.43872ZM8.43872 5.77832V7.54297H10.4387V5.77832H8.43872ZM8.43872 4.77832V5.77832H10.4387V4.77832H8.43872ZM10.4387 3.77832H9.43872V5.77832H10.4387V3.77832ZM13.5619 3.77832H10.4387V5.77832H13.5619V3.77832ZM14.5619 3.77832H13.5619V5.77832H14.5619V3.77832ZM15.5619 5.77832V4.77832H13.5619V5.77832H15.5619ZM15.5619 7.54297V5.77832H13.5619V7.54297H15.5619ZM16.282 6.54297H14.5619V8.54297H16.282V6.54297ZM19.6181 11.6294L17.1624 7.06887L15.4015 8.01707L17.8571 12.5776L19.6181 11.6294ZM19.8873 12.1294L19.6181 11.6294L17.8571 12.5776L18.1264 13.0776L19.8873 12.1294ZM20.0068 13.1035V12.6035H18.0068V13.1035H20.0068ZM20.0068 18.221V13.1035H18.0068V18.221H20.0068ZM20.0068 19.221V18.221H18.0068V19.221H20.0068ZM18.0068 20.221H19.0068V18.221H18.0068V20.221ZM5.99316 20.221H18.0068V18.221H5.99316V20.221ZM4.99316 20.221H5.99316V18.221H4.99316V20.221ZM3.99316 18.221V19.221H5.99316V18.221H3.99316ZM3.99316 13.1035V18.221H5.99316V13.1035H3.99316ZM3.99316 12.6035V13.1035H5.99316V12.6035H3.99316ZM4.38192 11.6294L4.11269 12.1294L5.87364 13.0776L6.14287 12.5776L4.38192 11.6294ZM6.83757 7.06887L4.38192 11.6294L6.14287 12.5776L8.59852 8.01707L6.83757 7.06887ZM9.43872 6.54297H7.71804V8.54297H9.43872V6.54297ZM9.43872 7.54297H8.31534V9.54297H9.43872V7.54297ZM7.43487 8.06887L5.51768 11.6294L7.27862 12.5776L9.19581 9.01707L7.43487 8.06887ZM6.39815 13.1035H17.6018V11.1035H6.39815V13.1035ZM18.4823 11.6294L16.5651 8.06887L14.8042 9.01707L16.7214 12.5776L18.4823 11.6294ZM15.6847 7.54297H14.5619V9.54297H15.6847V7.54297ZM15.5619 9.95667V8.54297H13.5619V9.95667H15.5619ZM15.5619 10.9567V9.95667H13.5619V10.9567H15.5619ZM13.5619 11.9567H14.5619V9.95667H13.5619V11.9567ZM10.4387 11.9567H13.5619V9.95667H10.4387V11.9567ZM9.43872 11.9567H10.4387V9.95667H9.43872V11.9567ZM8.43872 9.95667V10.9567H10.4387V9.95667H8.43872ZM8.43872 8.54297V9.95667H10.4387V8.54297H8.43872ZM18.0068 12.1035H5.99316V14.1035H18.0068V12.1035ZM19.0068 18.221V13.1035H17.0068V18.221H19.0068ZM5.99316 19.221H18.0068V17.221H5.99316V19.221ZM4.99316 13.1035V18.221H6.99316V13.1035H4.99316Z",fill:"#8638E5",mask:"url(#path-2-inside-1_889_4948)"}))}}(n),c=a.useCallback(()=>{r!==n&&(i(n),o("CTA Clicked",{action:"figjam_paywall_super_modal_feature_clicked",source:n}))},[i,n,r,o]);return a.createElement("button",{className:l()("figjam_paywall_modal--superModalFeature--7OcW8 text--fontPos13--xW8hS text--_fontBase--QdLsd",{"figjam_paywall_modal--superModalFeatureSelected--cwhb0":r===n}),onClick:c},d,s)}function el(e){let{selectedFeature:r}=e,n=function(e){switch(e){case"audio":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.audio.title"});case"open_session":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.open_sessions.title"});case"password_protection":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.password_protection.title"});case"unlimited_creation":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.unlimited_creation.title"});case"voting":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.voting.title"})}}(r),i=function(e){switch(e){case"audio":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.audio.body"});case"open_session":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.open_sessions.body"});case"password_protection":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.password_protection.body"});case"unlimited_creation":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.unlimited_creation.body"});case"voting":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.super_modal.voting.body"})}}(r),o=function(e){switch(e){case"audio":return a.createElement("img",{src:"https://static.figma.com/uploads/dfd50d23093fbe5bb1b3fa5754488f129fe68929",alt:"audio"});case"open_session":return a.createElement("img",{src:"https://static.figma.com/uploads/e45a188bde96ce5379cee092e41a3b0486956bfd",alt:"open session"});case"password_protection":return a.createElement("img",{src:"https://static.figma.com/uploads/63fbf8cf386ecb3dc3dce27032cd240bf2ca89af",alt:"password protection"});case"unlimited_creation":return a.createElement("img",{src:"https://static.figma.com/uploads/ea6137b8079c9333fae9a15ced66112143c5b9bd",alt:"unlimited file creation"});case"voting":return a.createElement("img",{src:"https://static.figma.com/uploads/a15a8de7065baf5ade7f164af0c6b06b84788f85",alt:"voting"})}}(r);return a.createElement("div",{className:"figjam_paywall_modal--superModalContentContainer--6H--E"},a.createElement("div",{className:"figjam_paywall_modal--superModalImage--4lWmh"},o),a.createElement("div",{className:"figjam_paywall_modal--superModalContentTitle--2TaEU text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n),a.createElement("div",{className:"figjam_paywall_modal--superModalContentBody--YO57c text--fontPos13--xW8hS text--_fontBase--QdLsd"},i))}var ed=n(93364),ec=n(85029);function eu(e){let{sourceFeature:r,feature:n,hoveredKeyFeature:i}=e,o=r===n,[s,l]=a.useState(!1),[d,c]=a.useState(!1),u=(0,Q.U)();a.useEffect(()=>{i===n?l(!0):(o&&c(!0),l(!1))},[i,n,r,c,o]),a.useEffect(()=>{!0===s&&u("Context Viewed",{name:"Figjam Comparison Paywall Modal > Tooltip",source:n})},[s,u,n]);let p=()=>{l(!1),u("CTA Clicked",{action:"figjam_comparison_paywall_tooltip_dismissed",source:n})};return a.createElement(ec.CR,{targetKey:n,arrowPosition:ed.F_.LEFT_TITLE,shouldCenterArrow:ed.EL.FALLBACK,dismissModal:p,width:322,height:96,topPadding:.5,pointerPaddingOffset:-8,hideModal:!s,additionalOnExplicitDismiss:p,className:"plan_comparison_tooltip--modal--RUv7l",hideCloseButton:!o||!!d,useWhiteCloseButton:n===W.Xj.AUDIO_CONVERSATIONS_V2,closeButtonClassName:"plan_comparison_tooltip--closeButton--lWcGj",passHeightForLocation:!0},a.createElement("div",{className:"plan_comparison_tooltip--tooltipContainer--EdKTZ"},a.createElement("span",{className:"plan_comparison_tooltip--tooltipText--EgMU8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},function(e){switch(e){case W.Xj.USAGE_LIMITS:return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.unlimited_creation.tooltip"});case W.Xj.VOTING:return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.voting.tooltip"});case W.Xj.OPEN_SESSIONS:return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.open_sessions.tooltip"});case W.Xj.AUDIO_CONVERSATIONS_V2:return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.audio.tooltip"});case W.Xj.PASSWORD_PROTECTION:return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.password_protection.tooltip"});default:return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.unlimited_creation.tooltip"})}}(n)),function(e){let r="https://static.figma.com/uploads/e77005316b2f06b5078c2fc3ead1bda8e2ee3aeb";switch(e){case W.Xj.USAGE_LIMITS:return a.createElement("img",{srcSet:`${r} 2x`,alt:""});case W.Xj.VOTING:return a.createElement("img",{srcSet:"https://static.figma.com/uploads/90eb9f105ded2ebfc4509a575adb52161c5c9a8b 2x",alt:""});case W.Xj.OPEN_SESSIONS:return a.createElement("img",{srcSet:"https://static.figma.com/uploads/6e5d6e84669cd13acc39299cb1536d32293a5a21 2x",alt:""});case W.Xj.AUDIO_CONVERSATIONS_V2:return a.createElement("img",{srcSet:"https://static.figma.com/uploads/d00738e5ade0bdb1e540405c4fbd3d67113055ca 2x",alt:""});case W.Xj.PASSWORD_PROTECTION:return a.createElement("img",{srcSet:"https://static.figma.com/uploads/e89f4aa11961a4afb9b67b47a838080351044086 2x",alt:""});default:return a.createElement("img",{srcSet:`${r} 2x`,alt:""})}}(n)))}let ep="figjam_comparison_modal--highlighted--hpCh3",eh="figjam_comparison_modal--planInformationContainer--OYPDv",em="figjam_comparison_modal--featureContainer--80aI1";var eg=n(14270);let ef=[W.Xj.USAGE_LIMITS,W.Xj.VOTING,W.Xj.PASSWORD_PROTECTION,W.Xj.AUDIO_CONVERSATIONS_V2,W.Xj.OPEN_SESSIONS];function e_({featureType:e,currency:r,chooseStarterPlan:n,chooseProPlan:i,chooseOrgPlan:o,updateCurrency:s,isProTrial:d,upsellSource:c,isProCurrent:u,overrideHighlightedPlan:p,overrideHighlightedBadgeText:h,featureList:m,parentRef:_,withUpgradeExistingTeamOption:E}){let b=(0,R.d4)(e=>e.dropdownShown),v=(0,R.d4)(e=>e.payment),T=function(e){switch(e){case et.AUDIO:return W.Xj.AUDIO_CONVERSATIONS_V2;case et.VOTING:return W.Xj.VOTING;case et.PASSWORD_PROTECTION:return W.Xj.PASSWORD_PROTECTION;case et.OPEN_SESSION:return W.Xj.OPEN_SESSIONS;case et.UNLIMITED_CREATION:return W.Xj.USAGE_LIMITS_V2}}(e),[w,C]=a.useState(T),A=a.useCallback(e=>{C(e)},[C]),[N,O]=a.useState(v.billingPeriod?$.AY[v.billingPeriod]:Z.R$.ANNUAL),{highlightedPlan:P,orderedFeatures:L,currentPlan:D,billingPeriod:M,seeMoreLinkText:k,isShowingFullFeatureSet:x}=(0,$.uF)({isProCurrent:u,featureList:m,overrideHighlightedPlan:p,subscriptionPlan:N}),F=W.Qw,U=(0,$.H8)(_),B=g.cx.flex.justifyBetween.itemsCenter.gap6.$,H=g.cx.fontMedium.font11.colorText.$,G=g.cx.fontSemiBold.font16.colorText.$,z=g.cx.noWrap.$;return a.createElement(y.fu,{name:$.QO,properties:{highlightedPlan:P,currentPlan:D,source:T}},a.createElement("div",{className:"figjam_comparison_modal--container--3fJ-T"},!u&&a.createElement("div",{className:"figjam_comparison_modal--billingToggleContainer--yMC6f"},a.createElement(Y.C,{currentPlan:N,setCurrentPlan:e=>{O(e)}})),ef.map((e,r)=>a.createElement(eu,{hoveredKeyFeature:w,sourceFeature:T,feature:e,key:r})),(0,I._Z)()&&a.createElement("div",{className:"figjam_comparison_modal--currencySwitcherContainer--04bBa"},a.createElement(J.D,{currency:r,dropdownShown:b,supportedCurrencies:(0,I.B9)(),changeCurrency:s,shortFormDisplay:!1})),a.createElement("div",{className:"figjam_comparison_modal--tableContainer--JBK4f",role:"tabpanel",id:`${N}-tab`},a.createElement("table",{className:"figjam_comparison_modal--table--vtX9B"},a.createElement("colgroup",null,a.createElement("col",{span:1}),F.map(e=>a.createElement("col",{key:e,span:1}))),a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:em}),F.map(e=>a.createElement("th",{key:e,className:l()(eh,g.cx.pt24.pb12.$,{[ep]:e===P})},a.createElement(q.gS,{planMode:e,isProCurrent:u,isProTrial:d,isHighlighted:e===P,upsellSource:c,overrideHighlightedBadgeText:h})))),a.createElement("tr",null,a.createElement("th",{className:em}),F.map(e=>a.createElement("th",{key:e,className:l()(eh,g.cx.pt12.pb12.$,{[ep]:e===P})},e!==V.Jm.FREE&&a.createElement("div",{className:B,"data-testid":"whiteboard-price-row"},a.createElement("p",{className:H},a.createElement(f.Tx,{id:"plan_details.fig_jam"})),a.createElement("p",{className:z},a.createElement(f.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:a.createElement("strong",{className:G},(0,W.jL)({editorType:S.G_.WHITEBOARD,planMode:e,currency:r,currentSubscriptionPlan:N,showFullCurrencyFormat:!0}))})))))),a.createElement("tr",null,a.createElement("th",{className:em}),F.map(e=>a.createElement("th",{key:e,className:l()(eh,g.cx.pt12.$,{[ep]:e===P})},a.createElement(q.Zn,{planMode:e,chooseStarterPlan:n,chooseProPlan:()=>i(M),chooseOrgPlan:o,isCurrentPlan:e===D,upsellSource:c})))),a.createElement("tr",null,a.createElement("th",{className:em}),F.map(e=>a.createElement("th",{key:e,className:l()(eh,g.cx.pt8.pb12.$,{[ep]:e===P})},a.createElement(q.z0,{planMode:e,withUpgradeExistingTeamOption:e===V.Jm.PRO&&E?()=>E(M):void 0}))))),a.createElement("tbody",null,L.map(e=>a.createElement(ey,{key:e,feature:e,orderedPlans:F,highlightedPlan:P,hoveredFeatureCallback:A})),x&&a.createElement("tr",{"data-testid":"comparison-chart-cta-footer-row"},a.createElement("td",{className:l()(em,g.cx.alignMiddle.$)},a.createElement(eb,{linkText:k})),F.map(e=>a.createElement("td",{key:e,className:l()(eh,g.cx.pt12.pb12.$,{[ep]:e===P})},a.createElement(q.Zn,{planMode:e,chooseStarterPlan:n,chooseProPlan:()=>i(M),chooseOrgPlan:o,isCurrentPlan:e===D,upsellSource:c})))))),U,!x&&a.createElement(eb,{linkText:k}))))}function ey({feature:e,orderedPlans:r,highlightedPlan:n,hoveredFeatureCallback:i}){var o,s;let[d,c]=a.useState(!1),u=a.useRef(),p=void 0!==W.qT[e].tooltipSpecialKey,h=p?X.Ib.SPECIAL:X.Ib.TEXT,m=ef.includes(e)?null:p?W.qT[e].tooltipSpecialKey:null==(s=(o=W.qT[e]).details)?void 0:s.call(o);return a.createElement("tr",null,a.createElement("td",{className:em,"data-tooltip-type":h,"data-tooltip":m,"data-tooltip-show-right":!0,"data-tooltip-show-immediately":!0,"data-tooltip-light-mode":!0,"data-onboarding-key":e,onMouseEnter:()=>{i(e),d||(u.current=setTimeout(()=>{c(!0),(0,K.sx)("Plan Comparison Feature Viewed",{featureName:W.qT[e].id})},1e3))},onMouseLeave:()=>{clearTimeout(u.current),i(null)}},a.createElement("p",{className:"figjam_comparison_modal--featureName--AeBqV"},W.qT[e].name())),r.map(r=>a.createElement("td",{key:r,className:l()("figjam_comparison_modal--planFeature--dsDtT",{[ep]:r===n})},a.createElement(eE,{key:r,plan:r,feature:e}))))}function eE({plan:e,feature:r}){let n=W.Lh[e][r];return"boolean"==typeof n?n?a.createElement(j.B,{svg:eg.A,className:"figjam_comparison_modal--featureIcon--TS0h0",title:(0,f.t)("plan_comparison.chart.included")}):null:a.createElement(a.Fragment,null,n())}function eb(e){return a.createElement(h.Us,{className:"figjam_comparison_modal--allFeaturesLink--FEZxv",href:"https://www.figma.com/pricing/#figjam",target:"_blank",trusted:!0,"data-testid":"comparison-chart-see-all-features-link"},e.linkText)}function ev(e){let{resource:r}=e,n=en(r),i=(0,R.wA)(),o=(0,z.ks)(),s=(0,U.TN)(e.teamId??""),d=(0,R.d4)(e=>e.user),[c,u]=(0,a.useState)((0,I.LN)()),h=(0,P.R)(e=>(0,F.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),m=(0,x.oI)({isInDevMode:!!o,isProCurrent:!!e.isProCurrent,hasFeatureListOverride:!!e.featureList}),_=(0,x.WQ)({isInDevMode:!!o,isProCurrent:!!e.isProCurrent,hasFeatureListOverride:!!e.featureList}),E=!e.isProCurrent&&_&&(0,B.Hw)(d),b=a.useRef(null),v=(0,V.PS)((0,H.usePermissionsState)()),S=()=>{var r;i(M.Lo()),null==(r=e.onDone)||r.call(e)},T=l()("figjam_comparison_modal--modal--4bKqi",{"figjam_comparison_modal--modalFullScreen--2ny7E":m,"figjam_comparison_modal--topPaddingOnly--QT6Vo":E}),w=m?void 0:1049,C=g.cx.overflowAuto.$,A=[W.Xj.USAGE_LIMITS,W.Xj.OPEN_SESSIONS,W.Xj.VOTING,W.Xj.AUDIO_CONVERSATIONS_V2,W.Xj.PASSWORD_PROTECTION,W.Xj.CUSTOM_TEMPLATES,W.Xj.CUSTOM_COLOR_PALETTES];return a.createElement(y.fu,{name:"Figjam Comparison Paywall Modal",properties:{upsellSource:e.upsellSource,source:n}},a.createElement(O.Nb,{className:T,hide:S,size:w,backgroundClassName:C,alignment:"leftNoPadding","data-testid":"upgrade_choose_plan_modal",modalRef:b},a.createElement("div",{className:"figjam_comparison_modal--planModalHeader--4I-Jy"},a.createElement("h1",{className:"figjam_comparison_modal--planModalTitle--kiPFz text--fontPos24--YppUD text--_fontBase--QdLsd"},function(e){switch(e){case"audio":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.audio.title"});case"open_session":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.open_sessions.title"});case"password_protection":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.password_protection.title"});case"unlimited_creation":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.unlimited_creation.title"});case"voting":return a.createElement(f.Tx,{id:"whiteboard.paywall_improvement.plan_comparison.voting.title"})}}(n))),a.createElement(p.Jn,{className:"figjam_comparison_modal--closeButton--t1Vgp",onClick:S,innerText:"close"}),a.createElement("div",{className:"figjam_comparison_modal--planModalBody--0zYrw"},a.createElement(e_,{featureType:n,currency:c,chooseProPlan:r=>{var n;let a=1===v.length?v[0]:null,o=e.teamId||(null==h?void 0:h.teamId)||(null==a?void 0:a.id);o?(i(M.Ce()),i(k.WX({teamId:o,billingPeriod:r,currency:c,openInNewTab:e.openCheckoutInNewTab})),null==(n=e.onDone)||n.call(e)):i((0,M.to)({type:L.dR,data:{plan:L.In.PRO,upsellSource:e.upsellSource,billingPeriod:r,openInNewTab:e.openCheckoutInNewTab,onDone:e.onDone}}))},chooseOrgPlan:()=>{var r;i(M.Ce()),i(k.Bq({currency:c,upsellSource:e.upsellSource,openInNewTab:e.openCheckoutInNewTab})),null==(r=e.onDone)||r.call(e)},updateCurrency:e=>{u(e),i(D.oB())},isProTrial:G.ng.canSeeProTrialUx(s),upsellSource:e.upsellSource,isProCurrent:e.isProCurrent,overrideHighlightedPlan:e.overrideHighlightedPlan,overrideHighlightedBadgeText:e.overrideHighlightedBadgeText,featureList:A,parentRef:b}))))}let eS="consumption_paywall_modals--planDescription--cFNva";function eI(e){let{text:r,hoverText:n}=e.item,[i,o]=a.useState(!1),s=a.createElement("span",{style:e.hideMarker?{visibility:"hidden"}:void 0},e.disabled?"\u2717":"\u2713"," \xa0");return a.createElement("div",{onMouseLeave:()=>{n&&o(!1)},onMouseOver:()=>{n&&o(!0)},className:l()({"consumption_paywall_modals--planFeatureDisabled--0yd7z":e.grayedOut,"consumption_paywall_modals--planFeatureParent--NBBWh":!0})},a.createElement("span",null,n&&a.createElement("span",{className:l()({"consumption_paywall_modals--planFeatureHoverState--hpPa3":i,"consumption_paywall_modals--planFeatureHoverStateHidden--pQLiS consumption_paywall_modals--planFeatureHoverState--hpPa3":!i})},n,a.createElement("div",{className:"consumption_paywall_modals--planFeatureHoverTriangle--6X--5"})),s,a.createElement("span",{onMouseOver:()=>{n&&o(!0)},className:l()({"consumption_paywall_modals--planFeatureHoverable--mqLZi":!!n})},r)))}function eT({editorType:e}){let r=a.createElement(h.Us,{href:"whiteboard"===e?"https://www.figma.com/pricing/#figjam":"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",className:l()("whiteboard"===e&&"consumption_paywall_modals--figjamLink---aC7d"),trusted:!0},a.createElement(f.Tx,{id:"consumption_paywalls.see_all_features"}));return a.createElement(eI,{item:{text:r},hideMarker:!0})}function ew({plan:e,showBillingInfo:r,planDescription:n,editorType:i}){let o=i?[i]:[S._Y.DESIGN,S._Y.WHITEBOARD],s=(0,E.GS)(),l=s?32:40,d=o.length*l+(s?32:48);if(e===v.F.Plan.STARTER)return a.createElement("div",{style:{height:d}},a.createElement("p",{className:eS},n),a.createElement("div",{className:"consumption_paywall_modals--starterPriceRow--ZBFoR",style:{height:l},"data-testid":"pricing-starter"},a.createElement("div",{className:"consumption_paywall_modals--costText--kn5ud text--fontPos16--oMC-G text--_fontBase--QdLsd"},a.createElement(f.Tx,{id:"consumption_paywalls.free"}))));let c=(0,I.LN)(),u=new I.vr(c),p=u.getPrices(),h={[v.F.Plan.PRO]:{[S._Y.DESIGN]:p.annualFigma,[S._Y.SITES]:p.annualFigma,slides:p.annualFigma,[S._Y.WHITEBOARD]:p.annualFigjam},[v.F.Plan.ORG]:{[S._Y.DESIGN]:p.orgFigma,[S._Y.SITES]:p.orgFigma,slides:p.orgFigma,[S._Y.WHITEBOARD]:p.orgFigjam},[v.F.Plan.ENTERPRISE]:{[S._Y.DESIGN]:p.enterprise,[S._Y.SITES]:p.enterprise,slides:p.enterprise,[S._Y.WHITEBOARD]:p.enterpriseFigjam}},_={design:m.y1.DESIGN_AND_DEV_MODE,sites:m.y1.DESIGN_AND_DEV_MODE,slides:m.y1.DESIGN_AND_DEV_MODE,whiteboard:m.y1.WHITEBOARD},y=e=>{let r=a.createElement("span",{className:"consumption_paywall_modals--priceRowProductName--L5rAD"},(0,C.E)((0,b.vc)(e)));return e===S._Y.DESIGN?a.createElement("div",{className:g.cx.flex.flexColumn.lh14.rowGap2.$},r,a.createElement("span",null,a.createElement(N.G,null))):r};return a.createElement("div",{style:{height:d}},a.createElement("p",{className:eS},n),r&&o.map(r=>a.createElement("div",{key:r,className:"consumption_paywall_modals--priceRow--HHyVo","data-testid":`pricing-pro-${r}`},a.createElement("span",{className:"consumption_paywall_modals--priceIconAndProductName--ukBBD"},a.createElement(m.oS,{type:_[r],size:m.LE.LARGE,className:"consumption_paywall_modals--priceIcon--x24mr"}),y(r)),a.createElement("span",{className:"consumption_paywall_modals--costUnitPrice--ckt27 text--fontPos16--oMC-G text--_fontBase--QdLsd"},u.formatMoney(h[e][r],{showCents:!1})))))}function eC({plan:e,startUpgradeFlow:r,teamId:n}){let i=v.F.getCtaTrackingDescriptor({plan:e})??void 0,s=(0,y.tf)(o.IK);return e===v.F.Plan.PRO||e===v.F.Plan.ENTERPRISE||e===v.F.Plan.ORG?a.createElement(s,{variant:"primary",onClick:r,trackingProperties:{teamId:n,trackingDescriptor:i}},e===v.F.Plan.ENTERPRISE?a.createElement(f.Tx,{id:"consumption_paywalls.contact_sales"}):e===v.F.Plan.ORG?a.createElement(f.Tx,{id:"consumption_paywalls.upgrade_to_organization"}):a.createElement(f.Tx,{id:"consumption_paywalls.upgrade_to_professional"})):null}function eA({plan:e,resource:r,editorType:n,startUpgradeFlow:i,teamId:o,onStarterPlanCtaClick:s,currentPlan:l,showCta:c=!0}){let p=function(e){switch(e){case v.F.Plan.STARTER:return(0,f.t)("consumption_paywalls.plan_name_starter");case v.F.Plan.PRO:return(0,f.t)("consumption_paywalls.plan_name_pro");case v.F.Plan.ORG:return(0,f.t)("consumption_paywalls.plan_name_org");case v.F.Plan.ENTERPRISE:return(0,f.t)("consumption_paywalls.plan_name_enterprise");default:(0,d.xb)(e)}}(e),m=e!==l||r===w.Bi.PLUGIN_ANALYTICS||r===w.Bi.WIDGET_ANALYTICS||r===w.Bi.SHARED_FONTS||r===w.Bi.DEV_MODE_ADMIN_SETTINGS,g=e!==l||r===w.Bi.SHARED_FONTS,y=function(e,r){switch(e){case v.F.Plan.STARTER:return(0,f.t)("consumption_paywalls.plan_description_starter");case v.F.Plan.PRO:if(r)return(0,f.t)("consumption_paywalls.plan_description_pro_pricing_variant.seat_rename");return"";case v.F.Plan.ORG:return r?(0,f.t)("consumption_paywalls.plan_description_org_pricing_variant"):"";case v.F.Plan.ENTERPRISE:return r?(0,f.t)("consumption_paywalls.plan_description_enterprise_pricing_variant"):"";default:return""}}(e,m),E=v.F.getPaywallFeatureList(r,e,l,n),b=a.createElement("div",{className:"consumption_paywall_modals--planFeatureList--BIvo0"},E.map((e,r)=>a.createElement(eI,{item:e,key:r,disabled:e.disabled})),g&&a.createElement(eT,{editorType:n})),S=c?a.createElement(a.Fragment,null,a.createElement(h.Kz,{multiple:3}),a.createElement(eC,{plan:e,resource:r,startUpgradeFlow:i,onStarterPlanCtaClick:s,teamId:o})):null;return a.createElement("div",{className:"consumption_paywall_modals--planBox--M-XwQ"},a.createElement("div",null,a.createElement("div",{className:"consumption_paywall_modals--planName--ma-56 text--fontPos18--rYXJb text--_fontBase--QdLsd"},p,e===l&&a.createElement(_.Y,{verticalAlignItems:"center",padding:{left:8},width:"hug-contents"},a.createElement(u.Ex,{text:(0,f.t)("consumption_paywalls.badge_text"),color:u.zE.DISABLED,size:u.vj.SMALL}))),a.createElement(ew,{editorType:n,planDescription:y,showBillingInfo:!!m,plan:e}),a.createElement("div",{className:"consumption_paywall_modals--planBoxDivider--E4Hnj"}),b),S)}function eN(e){let r;let{resource:n,action:i,team:o,editorType:s,showCurrentPlanCta:u,multipleResources:h,onBillingCompleteRedirectInfo:m,currentPlan:g,upsellPlan:f,upsellSource:_,hideUpsellPlanCta:b=!1,modalFooter:I}=e,{getConfig:C}=(0,c.I7)("exp_fj_paywall_improvements"),{cancel:A,startProUpgradeFlow:N,startOrgUpgradeFlow:R,startEnterpriseUpgradeFlow:P}=v.F.useModalControls((null==o?void 0:o.id)??null),L=(0,E.GS)(),[D,M]=a.useState(null);if(a.useEffect(()=>{if("whiteboard"===s&&ee.includes(n)){let e=C().getValue("variant","control");"superModal"===e?M("superModal"):"planComparison"===e?M("planComparison"):M("control")}else M("control")},[s,n,C,M]),null===D)return null;if("superModal"===D)return a.createElement(ei,{...e});if("planComparison"===D)return a.createElement(ev,{upsellSource:T.b.FIGJAM_COMPARISON_MODAL,resource:n});let k=v.F.getModalTitle(n,i,h),x=v.F.getModalSubtitle(n,i,(null==o?void 0:o.name)??null,g,s??S._Y.DESIGN),F=v.F.getModalTrackingName(n,i),U=v.F.getModalTrackingProductType(s);switch(f){case v.F.Plan.PRO:r=()=>N(m);break;case v.F.Plan.ORG:r=()=>{R({upsellSource:_??T.b.UNSET})};break;case v.F.Plan.ENTERPRISE:r=()=>P(n);break;case v.F.Plan.STARTER:r=()=>{};break;default:(0,d.xb)(f)}return a.createElement(y.fu,{name:F,properties:{teamId:null==o?void 0:o.id,action:i,product_type:U,inPublishDraftExp:!!m}},a.createElement(O.aF,{title:k,titleClassName:"consumption_paywall_modals--largeModalTitle--kOqov",size:L?600:704,popStack:!0,className:l()("consumption_paywall_modals--largeModal--gQbzP")},a.createElement(p.Jn,{className:"consumption_paywall_modals--closeButton--cGAYf close_button--modalUpperRightCorner--eKAQg",onClick:A,innerText:"Close",trackingProperties:{inPublishDraftExp:!!m}}),a.createElement("p",{className:"consumption_paywall_modals--largeModalSubtitle--vwxPe"},x),a.createElement("div",{className:"consumption_paywall_modals--planBoxContainer--MmvjD text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement(eA,{plan:g,currentPlan:g,upsellPlan:f,resource:n,startUpgradeFlow:N,teamId:(null==o?void 0:o.id)??null,editorType:s,showCta:!!u,onStarterPlanCtaClick:n===w.Bi.TEAM_LIBRARY?e.onStarterPlanCtaClick:void 0}),a.createElement(eA,{plan:f,currentPlan:g,upsellPlan:f,resource:n,startUpgradeFlow:r,teamId:(null==o?void 0:o.id)??null,editorType:s,showCta:!b})),I))}let eO=(0,A.Ju)(eN,"ConsumptionPaywallModalPlansPricing")},85029:(e,r,n)=>{"use strict";n.d(r,{OA:()=>O,uv:()=>I,gm:()=>A,NJ:()=>N,CR:()=>R,Ay:()=>T});var i=n(11855);n(29019);var a=n(91408),o=n(60601),s=n(99569),l=n(46689),d=n(87918),c=n(1505),u=n(72517),p=n(26864),h=n(68039),m=n(74505),g=n(57630),f=n(46806),_=n(84342),y=n(85861),E=n(60168),b=n(83238),v=n(30834),S=n(4516);let I=(0,a.hG)(E.W8e);function T(e){let r=(0,p.Yk)(),n=(0,g._X)({subscribeToUpdates_expensive:!0}),a=i.useRef({x:0,y:0,width:0,height:0,angle:0,absoluteBounds:{x:0,y:0,width:0,height:0},page:d.AD}),[o,s]=i.useState({left:0,top:0,pointerOffset:0,pointerPosition:0}),l=i.useMemo(()=>(0,_.P7)(e.pointerType||_.gm.arrow),[e.pointerType]),c=e.topPadding||-l.pointerTargetOverlap,u=i.useCallback(()=>{if(!a.current){s(null);return}let i=(0,g.Yb)(n,a.current.absoluteBounds),o={x:i.x+n.x,y:i.y+n.y,height:i.height,width:i.width};s((0,_.my)({width:e.width,height:e.height,targetRect:o,positioningConstants:l,alignPointerToLeft:e.alignPointerToLeft,shouldCenterArrow:e.shouldCenterArrow,topPadding:c,arrowPosition:e.arrowPosition,targetType:"canvas",viewportTopOffset:n.y,viewportBottomOffset:r}))},[e.height,e.width,l,e.alignPointerToLeft,e.shouldCenterArrow,c,r,e.arrowPosition,n]);return i.useEffect(()=>{var r;let n=(0,m.EE)(`useCanvasNodeRepositioning-${e.targetKey}`,[e.targetKey],e=>{a.current=e.position,u()});return a.current=(null==(r=n.currentNodePosition[e.targetKey])?void 0:r.position)||null,u(),()=>{(0,m.lB)(`useCanvasNodeRepositioning-${e.targetKey}`)}},[e.targetKey,u]),(0,y.pc)({location:o,onTargetLost:e.onTargetLost,targetKey:e.targetKey,targetType:"canvas"}),o}function w(e,r){switch(e){case f.F_.TOP:case f.F_.BOTTOM:return{left:r};case f.F_.LEFT_TITLE:return{top:r};case f.F_.RIGHT_TITLE:case f.F_.RIGHT_BODY:return{}}}let C={[f.F_.TOP]:{foregroundStyle:b.FQ,backgroundStyle:b.oX},[f.F_.BOTTOM]:{foregroundStyle:b.nW,backgroundStyle:b.a5},[f.F_.LEFT_TITLE]:{foregroundStyle:b.Hn,backgroundStyle:b.gF},[f.F_.RIGHT_TITLE]:{foregroundStyle:b.Ar,backgroundStyle:b.Ny},[f.F_.RIGHT_BODY]:{foregroundStyle:b.Ar,backgroundStyle:b.Ny}};function A(e){let{foregroundStyle:r,backgroundStyle:n}=C[e.arrowPosition],a={...e.modalColor?{backgroundColor:e.modalColor}:{},...e.arrowOffset?w(e.arrowPosition,e.arrowOffset):{}},o={...e.modalColor?{backgroundColor:e.modalColor}:{},...e.pointerBorder?{backgroundColor:e.pointerBorderColor||"#444444"}:{},...e.arrowOffset?w(e.arrowPosition,e.arrowOffset):{}};return i.createElement(i.Fragment,null,i.createElement("div",{"aria-hidden":!0,className:n,style:o}),i.createElement("div",{"aria-hidden":!0,className:r,style:a}))}function N(e){let r=(0,_.P7)(_.gm.arrow),n=e.width||r.defaultModalWidth,a=e.backgroundColor,o=e.onVisibilityChange,[l,d]=i.useState(0),c=i.useCallback(e=>{null!==e&&d(e.getBoundingClientRect().height)},[]),u=(e.isCanvasNode?T:y.eP)({targetKey:e.targetKey,height:l,width:n+2*I,topPadding:e.topPadding,alignPointerToLeft:e.alignPointerToLeft,shouldScrollTargetIntoView:e.shouldScrollTargetIntoView,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost}),p=!!u;if(i.useEffect(()=>{o&&o(p)},[p,o]),!u)return null;let h={left:u.left,top:u.top,width:n};e.topOffset&&(h.marginTop=e.topOffset),e.leftOffset&&(h.marginLeft=e.leftOffset);let m=e.backgroundColor?{backgroundColor:e.backgroundColor}:{};return i.createElement("div",{className:`${e.className||b.Lq} ${e.noAnimation?b.gh:""}`,style:{...h,...m},ref:c,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,role:"none"},i.createElement("div",{ref:e.containerRef,role:"tooltip"},!e.shouldHideArrow&&i.createElement(A,{arrowPosition:u.pointerPosition,arrowOffset:u.pointerOffset,modalColor:a}),e.shouldNotWrapInParagraphTag?e.children:i.createElement("p",null,e.children),e.dismissModal&&i.createElement(s.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:b.b,onClick:e.dismissModal,innerText:"close",svg:S.A})))}function O(e){let{arrowPosition:r}=e,n=(0,_.P7)(_.gm.arrow),a=e.width||n.defaultModalWidth,o=e.backgroundColor,d="dark"===(0,h.DP)(),c="light"===e.background,[p,m]=i.useState(0),g=i.useCallback(e=>{null!==e&&m(e.getBoundingClientRect().height)},[]),f=(0,y.eP)({targetKey:e.targetKey,height:p,width:a+2*I,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,alignPointerToLeft:e.alignPointerToLeft,...r&&{arrowPosition:r}});if(!f&&!e.shouldCenterModal)return null;let E=c&&!d,T=i.createElement(s.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:`${b._S} ${!E&&e.isUI3?b.uS:""}`,onClick:e.dismissModal,innerText:"close",svg:E?v.A:S.A}),w=i.createElement("div",null,e.ctaText&&e.onClickPrimaryCta&&i.createElement("div",{className:b.ZA},e.bottomLeftText&&i.createElement("b",null,e.bottomLeftText),i.createElement("div",{className:b.OQ},e.secondaryCtaText&&e.onClickSecondaryCta&&i.createElement(u.$z,{className:c?b.jS:b.dC,onClick:e.onClickSecondaryCta,"aria-hidden":!0},e.secondaryCtaText),e.ctaText&&e.onClickPrimaryCta&&i.createElement(l.vd,{className:c?b.TI:b.ZO,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0},e.ctaText)))),C={backgroundColor:o,width:a,margin:e.topOffset?`${e.topOffset}px auto`:"auto"},N=f?{left:f.left,top:f.top}:{left:0,right:0,top:0,bottom:0};return i.createElement("div",{className:c?b.IL:b.wV,ref:g,style:{...C,...N}},i.createElement("div",null,f&&i.createElement(A,{arrowPosition:f.pointerPosition,arrowOffset:f.pointerOffset,modalColor:c?"var(--color-bg)":void 0}),i.createElement("h1",null,e.title),e.children,T),w)}let R=i.forwardRef(function(e,r){var n;let[a,l]=i.useState(0),d=i.useCallback(e=>{null!==e&&l(e.getBoundingClientRect().height),null!=r&&(r.current=e)},[r]),u=i.useRef(null),p=e.disableClickOutsideToHide?o.lQ:e.dismissModal;n="mousedown",i.useEffect(()=>{function e(e){u.current&&!u.current.contains(e.target)&&p(e)}return document.addEventListener(n,e),()=>{document.removeEventListener(n,e)}},[u,n,p]);let h=i.useRef(null),m=(0,y.eP)({targetKey:e.targetKey,height:e.passHeightForLocation?e.height?e.height:0:a,width:e.width+2*I,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost});i.useEffect(()=>{m&&(h.current=m)},[m]);let g=m||h.current,f=e.hideIfTargetLost&&null==m;if(!g||f||e.hideModal||e.shouldDismissWhenLostDOMTarget&&!m)return null;let _=e.pointerBackgroundColor||"var(--color-border, rgba(0, 0, 0, 0.2))",E=e.pointerForegroundColor||"var(--color-bg, white)",T={left:g.left,top:g.top,width:e.width};e.height&&(T.height=e.height);let w=e.animateQuickly?b.B9:b.w0,C=e.pointerPaddingOffset??0;return i.createElement("div",{ref:u},i.createElement("div",{className:e.className?`${e.className}`:w,style:T,ref:d,"data-testid":"walkThroughModal"},!e.hidePointer&&i.createElement(A,{arrowPosition:g.pointerPosition,arrowOffset:g.pointerOffset+C,modalColor:E,pointerBorderColor:_,pointerBorder:!0}),e.children,!e.hideCloseButton&&i.createElement(s.Jn,{className:`${b.b} ${e.closeButtonClassName||""} ${e.useWhiteCloseButton?b.uS:""} `,onClick:()=>{e.additionalOnExplicitDismiss&&e.additionalOnExplicitDismiss(),e.dismissModal()},innerText:"close",svg:e.useWhiteCloseButton?S.A:v.A,trackingProperties:{trackingDescriptor:c.c.CLOSE_BUTTON}})))})},22261:(e,r,n)=>{"use strict";let i,a,o,s,l;n.d(r,{R:()=>em,n:()=>eh});var d=n(11855),c=n(96328),u=n(46689),p=n(10954),h=n(24897),m=n(30949),g=n(43632),f=n(9840),_=n(59696);let y={brand:"brand-tertiary",design:"design-tertiary",figjam:"figjam-tertiary",dev:"handoff-tertiary",gray:"tertiary",warning:"warning-tertiary",danger:"danger-tertiary",success:"success-tertiary"};function E({iconSrc:e,children:r,variant:n,orientation:i,title:a,action:o,onClose:s,dataTestId:l}){switch(i){case"horizontal":return d.createElement(g.Y,{padding:8,spacing:4,direction:"horizontal",verticalAlignItems:"center",backgroundColor:y[n],height:"hug-contents",cornerRadius:4,dataTestId:l},d.createElement(b,{svg:e}),d.createElement("div",{className:m.cx.flex.flexRow.itemsCenter.flexGrow1.overflowHidden.gap16.$},a&&d.createElement("span",{className:m.cx.flexShrink0.$},d.createElement(f.E,{fontWeight:"semi-bold",color:"default",truncate:"end"},a)),d.createElement(f.E,{color:"default",truncate:"end"},r),null!=o&&d.createElement("span",{className:m.cx.mlAuto.px8.$},d.createElement(v,{variant:n,action:o}))),s&&d.createElement(b,{svg:_.A,onClick:s}));case"vertical":return d.createElement(g.Y,{padding:8,spacing:4,direction:"horizontal",verticalAlignItems:"start",backgroundColor:y[n],height:"hug-contents",cornerRadius:4,dataTestId:l},d.createElement(b,{svg:e}),d.createElement(g.Y,{direction:"vertical",padding:{vertical:4},spacing:4},d.createElement(g.Y,{direction:"vertical",spacing:0},a&&d.createElement(f.E,{fontWeight:"semi-bold",color:"default"},a),d.createElement(f.E,{color:"default"},r)),null!=o&&d.createElement(v,{variant:n,action:o})),s&&d.createElement(b,{svg:_.A,onClick:s}))}}function b({svg:e,onClick:r}){return d.createElement(h.B,{className:m.cx.w24.h24.flex.itemsCenter.justifyCenter.flexShrink0.colorIcon.if(null!=r,m.cx.cursorPointer).$,svg:e,onClick:r})}function v({variant:e,action:r}){return d.createElement(p.N,{onClick:r.onClick,target:r.target,href:r.href,className:m.cx.flexShrink0.hAuto.noWrap.ellipsis.overflowHidden.cursorPointer.match(e,{brand:m.cx.colorTextBrand,design:m.cx.colorTextDesign,figjam:m.cx.colorTextFigjam,dev:m.cx.colorTextTertiary,gray:m.cx.colorTextDesign,warning:m.cx.colorTextWarning,danger:m.cx.colorTextDanger,success:m.cx.colorTextSuccess}).$,trusted:!0},r.label)}var S=n(92766),I=n(27586),T=n(39863),w=n(67294),C=n(62275),A=n(93360),N=n(72517),O=n(20647),R=n(99506),P=n(58867),L=n(19031);n(25609);var D=n(88507),M=n(29019),k=n.n(M),x=n(26049),F=n(7286),U=n(68137),B=n(99569),V=n(24459),H=n(47506),G=n(92592),W=n(76813),z=n(94687),K=n(20113),j=n(2026),Y=n(47807),$=n(208);let q=new class{constructor(){this.ApproveRequestsSchemaValidator=(0,Y.vh)(),this.DenyRequestsSchemaValidator=(0,Y.vh)()}approveRequests(e){return this.ApproveRequestsSchemaValidator.validate(async({xr:r})=>await r.post("/api/account_type_requests/approve",e))}denyRequests(e){return this.DenyRequestsSchemaValidator.validate(async({xr:r})=>await r.post("/api/account_type_requests/deny",e))}nudgeRequest(e){let{request_id:r}=e;return $.Ay.post(`/api/account_type_requests/${r}/nudge`,e)}};var Z=n(48170),X=n(37870);n(66712),n(99737),n(47899),n(79453);var J=((i=J||{}).TEAM="Team",i.ORG="Org",i),Q=((a=Q||{}).ALL_UNASSIGNED_REQUESTS="all_unassigned_requests",a.ALL_MANAGED_REQUESTS="all_managed_requests",a.ALL_ORG_REQUESTS="all_org_requests",a.INDIVIDUAL_BILLING_GROUP_REQUESTS="individual_billing_group_requests",a),ee=((o=ee||{}).APPROVE_ALL="APPROVE_ALL",o.BULK_SELECT="BULK_SELECT",o.SINGLE="SINGLE",o.EMAIL="EMAIL",o.DEEPLINK="DEEPLINK",o),et=((s=et||{}).NEWEST_FIRST="NEWEST_FIRST",s.OLDEST_FIRST="OLDEST_FIRST",s);O.oM.DESIGN,O.oM.WHITEBOARD,O.oM.DEV_MODE,()=>(0,T.t)("admin_dashboard.requests.devmode_seat");var er=n(88578);let en="dev_mode_opt_in_modal--subHeader--k48I6 text--fontPos13--xW8hS text--_fontBase--QdLsd",ei="dev_mode_opt_in_modal--secondaryText--GyD4q text--fontPos11--2LvXf text--_fontBase--QdLsd";function ea(e,r){return r(C.Lo()),Z.Eh.postDevModeOptInTermsAccepted({orgId:e}).catch(e=>(r(G.F.enqueue({message:(0,T.t)("dev_mode_opt_in.modal.failed_to_agree_to_opt_in"),error:!0})),Promise.reject(e))).then(()=>(0,H.YQ)({id:"dev_mode_opt_in_success_event"}))}function eo(){let e=(0,D.wA)();return d.createElement(B.Jn,{onClick:()=>e(C.Lo()),innerText:"Close"})}(0,X.Ju)(function(e){let r=(0,D.wA)(),n=(0,z.sZ)(),i=parseInt(e.emailRequestId??""),a=!Number.isNaN(i);return d.createElement(N.fu,{name:"DevMode Opt-in Page",properties:{org_id:n.id,source:a?"email":"notif"}},d.createElement("div",{className:"dev_mode_opt_in_modal--fullScreenModal--1TXTQ"},d.createElement(el,{org:n,onAccept:()=>{let e=ea(n.id,r);return a&&e.then(()=>{q.approveRequests({plan_id:n.id,plan_type:J.ORG,included_request_ids:[i.toString()],selection_method:ee.EMAIL}).catch(e=>(r(G.F.enqueue({message:(0,T.t)("dev_mode_opt_in.modal.upgrade_seats_error",{seatCount:1}),error:!0})),Promise.reject(e))).then(()=>r(G.F.enqueue({message:(0,T.t)("dev_mode_opt_in.modal.upgraded_seats",{seatCount:1}),type:"requests-approved"})))}),e},showNotNow:!1,hasAssociatedSeats:a})),d.createElement("div",{className:"dev_mode_opt_in_modal--fullScreenModalCloseButton--gwA3H",style:{position:"absolute",top:24,right:24}},d.createElement(eo,null)))},"DEV_MODE_OPT_IN_FULL_SCREEN_MODAL");let es=(0,X.Ju)(function(e){let r=(0,D.wA)(),n=(0,z.sZ)();return d.createElement(N.fu,{name:"DevMode Opt-in Modal",properties:{org_id:n.id,source:e.source?e.source:"dashboard"}},d.createElement(er.aF,{className:m.cx.overflowHidden.$,padding:40,size:520},d.createElement(el,{org:n,onAccept:()=>{let i=ea(n.id,r);e.onOptInUpgrade&&i.then(()=>e.onOptInUpgrade()),e.onOptInShowModal&&i.then(()=>e.onOptInShowModal())},showNotNow:!0,hasAssociatedSeats:!!e.onOptInUpgrade}),d.createElement("div",{style:{position:"absolute",top:4,right:4}},d.createElement(eo,null))))},"DEV_MODE_OPT_IN_PARTIAL_MODAL");function el(e){var r;let n=(0,D.wA)(),i=(0,F.Xf)(e.org.id),a=(0,x.A)(e.onAccept,750,{leading:!0,trailing:!1}),o=d.createElement("a",{className:m.cx.cursorPointer.fontMedium.$,href:"https://help.figma.com/hc/articles/19813618057623",target:"_blank",rel:"noopener noreferrer"},(0,T.t)("dev_mode_opt_in.modal.guide_to_dev_mode_billing")),s=d.createElement("a",{className:m.cx.cursorPointer.fontMedium.$,href:"https://www.figma.com/pricing",target:"_blank",rel:"noopener noreferrer"},"figma.com/pricing"),l=new K.vr((null==(r=i.data)?void 0:r.currency)??"usd"),c=e.org.plan??j.ju.ORGANIZATION,u=l.getPricesForOrgPlan(c),p="loaded"===i.status?d.createElement(d.Fragment,null,l.formatMoney(u.dev_mode)):d.createElement(V.Wi,{className:m.cx.h8.w20.inlineBlock.$});return d.createElement("div",{className:"dev_mode_opt_in_modal--contentContainer--gN5zb"},d.createElement("div",{className:"dev_mode_opt_in_modal--body--LYHil"},d.createElement("div",{className:"dev_mode_opt_in_modal--header--KozQc text--fontPos24--YppUD text--_fontBase--QdLsd"},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.header"})),d.createElement("div",{className:k()(en,m.cx.mb24.$)},e.hasAssociatedSeats?d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.subheader_with_seats"}):d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.subheader"})),d.createElement("div",{className:"dev_mode_opt_in_modal--licenseTypes--dhKzN"},d.createElement("div",{className:m.cx.mt16.ml16.mr16.$},d.createElement(g.Y,{width:"fill-parent",spacing:8},d.createElement(W.In,{icon:"file-design-with-devmode-32-file-type"}),d.createElement("span",null,d.createElement("div",{className:en},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.pricing.with_design.main_text"})),d.createElement("div",{className:ei},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.pricing.with_design.sub_text"}))))),d.createElement("div",{className:"dev_mode_opt_in_modal--licenseTypesDivider--HfTc9"}),d.createElement("div",{className:m.cx.ml16.mr16.mb16.$},d.createElement(g.Y,{width:"fill-parent",spacing:8},d.createElement(W.In,{icon:"file-devmode-32-file-type"}),d.createElement("span",null,d.createElement("div",{className:en},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.pricing.dev_mode_only.main_text"})),d.createElement("div",{className:ei},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.pricing.dev_mode_only.sub_text"})))))),d.createElement("div",{className:ei},d.createElement("div",{className:m.cx.mt24.fontMedium.$},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.description_question"})),d.createElement("div",{className:m.cx.mt8.$},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.description_provision",pricingLink:s,plan:c===j.ju.ORGANIZATION?(0,T.t)("dev_mode_opt_in.modal.org"):(0,T.t)("dev_mode_opt_in.modal.ent"),price:p,billingLink:o}))),d.createElement(U.vd,{className:k()("dev_mode_opt_in_modal--button--H30IE",m.cx.mt24.$),type:"button",onClick:a},e.hasAssociatedSeats?d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.agree_with_seats"}):d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.agree"})),e.showNotNow&&d.createElement(N.jm,{role:"button",className:k()(m.cx.mt8.flex.justifyCenter.$,"dev_mode_opt_in_modal--notNow--rxqQ4"),onClick:()=>n(C.Lo())},d.createElement(T.Tx,{id:"dev_mode_opt_in.modal.not_now"}))))}var ed=n(36894),ec=n(21112),eu=n(79211),ep=n(67063),eh=((l=eh||{}).ORG="org",l.TEAM="team",l);class em extends d.PureComponent{constructor(e){super(e),this.clickCheckbox=(e,r)=>{let n=[...this.state.emailsToSend];n[r].send=!!e.target.checked;let i=this.props.admins.filter(e=>void 0!==e.email).length,a=n.filter(e=>e.send).length;this.setState({emailsToSend:n,allAdminsSelected:a===i})},this.clickSelectAll=e=>{let r=this.props.admins.filter(e=>void 0!==e.email),n=!this.state.allAdminsSelected,i=r.map(e=>({user:e,send:n}));this.setState({emailsToSend:i,allAdminsSelected:n})},this.onMessageChange=e=>{this.setState({message:e.currentTarget.value})},this.requestUpgrade=e=>{let r=this.state.emailsToSend.filter(e=>e.send).map(e=>e.user.id),n=this.state.message;this.props.messagePrefix&&(n=this.props.messagePrefix+n),this.props.dispatch(this.props.onRequestUpgrade(n,r)),this.props.dispatch(C.Lo())},this.upgradeAsAdmin=()=>{if("org"!==this.props.type||!this.props.canUserManagePaidStatus)return;let e={org_user_ids:[this.props.orgUserId],paid_statuses:{[this.props.licenseType]:R.El.FULL}},r=this.props.orgId,n=()=>{this.props.dispatch(A.uo({orgId:r,params:e}))};this.props.dispatch(C.Lo()),this.props.isDevModeOptInRequired?this.props.dispatch(C.to({type:es,data:{onOptInUpgrade:n,source:this.props.entryPoint}})):n()},this.cancel=()=>{var e,r;this.props.dispatch(C.Lo()),null==(r=(e=this.props).onClose)||r.call(e)},this.instructionText=e=>0===e?d.createElement(T.Tx,{id:"request_upgrade.instruction_all_admins",boldedRequestUpgrade:d.createElement("span",{className:ec.Vq},d.createElement(T.Tx,{id:"org_upgrade.request_upgrade"}))}):1===e?d.createElement(T.Tx,{id:"request_upgrade.instruction_single_admin",boldedRequestUpgrade:d.createElement("span",{className:ec.Vq},d.createElement(T.Tx,{id:"org_upgrade.request_upgrade"}))}):d.createElement(T.Tx,{id:"request_upgrade.instruction_selectable_admins",boldedRequestUpgrade:d.createElement("span",{className:ec.Vq},d.createElement(T.Tx,{id:"org_upgrade.request_upgrade"}))});let r=e.admins.filter(e=>void 0!==e.email).map(e=>({user:e,send:!0})),n={[O.oM.DESIGN]:(0,T.t)("request_upgrade.title_figma"),[O.oM.WHITEBOARD]:(0,T.t)("request_upgrade.title_figjam"),[O.oM.DEV_MODE]:(0,T.t)("request_upgrade.title_dev_mode")}[this.props.isDevMode?O.oM.DEV_MODE:this.props.licenseType],i=JSON.parse(JSON.stringify(this.props.trackingProperties));i.hideAdminSelection=this.props.hideAdminSelection||"org"===this.props.type&&this.props.licenseGroupsActive,i.hideOptionalMessage=this.props.hideOptionalMessage||!1,this.state={emailsToSend:r,allAdminsSelected:!0,message:"",modalTitle:this.props.customTitle||n,trackingProperties:i}}componentDidUpdate(e){if(!(this.props.admins.length===e.admins.length&&this.props.admins.every((r,n)=>r===e.admins[n]))){let e=this.props.admins.filter(e=>void 0!==e.email).map(e=>({user:e,send:!0}));this.setState({emailsToSend:e,allAdminsSelected:!0})}}joinAdminNamesNaturally(e){if(0===e.length)return null;if(e.length<=2)return d.createElement(d.Fragment,null,(0,c.Yx)(e));{let r=e.length-2;return d.createElement(T.Tx,{id:"request_upgrade.admin_names_list",firstAdminName:e[0],secondAdminName:e[1],numRestOfAdmins:r})}}renderAvatarsFromMultipleEmails(){let e=d.createElement(d.Fragment,null,d.createElement(P.Ro,{entity:this.state.emailsToSend[0].user,size:24,className:eu.K6}),d.createElement(P.Ro,{entity:this.state.emailsToSend[1].user,size:24,className:eu.SK}));return d.createElement(d.Fragment,null,e,this.state.emailsToSend.length>2&&d.createElement(L.f,{className:eu.hP,text:`+${this.state.emailsToSend.length-2}`,size:24,hoverText:this.state.emailsToSend.slice(2).map(e=>e.user.handle).join(",\n")}))}renderForOrgAdminUser(){let e={[O.oM.DESIGN]:(0,T.t)("request_upgrade.title_admin_figma"),[O.oM.WHITEBOARD]:(0,T.t)("request_upgrade.title_admin_figjam"),[O.oM.DEV_MODE]:(0,T.t)("request_upgrade.title_admin_dev_mode")};return d.createElement(ed.XV,{title:e[this.props.licenseType],maxWidth:360,minWidth:360,onClose:this.cancel,closeOnEsc:this.props.closeOnEsc,transparentBackground:this.props.transparentBackground},d.createElement("div",{className:eu.hQ},this.props.actionText," ",d.createElement(T.Tx,{id:"request_upgrade.as_an_admin_you_can_upgrade_yourself"}),d.createElement("div",{className:ec.v0},d.createElement(u.nR,{onClick:this.cancel},d.createElement(T.Tx,{id:"request_upgrade.cancel_button"})),d.createElement(u.vd,{autoFocus:!0,className:eu.pL,onClick:this.upgradeAsAdmin,disabled:this.props.hasPendingRequest,trackingProperties:this.state.trackingProperties},this.props.hasPendingRequest?d.createElement(T.Tx,{id:"request_upgrade.send_request_button_already_requested"}):d.createElement(T.Tx,{id:"request_upgrade.upgrade_button"})))))}renderForLicenseGroupsActive(){let e=0===this.state.emailsToSend.length;return d.createElement(ed.XV,{title:this.state.modalTitle,maxWidth:360,minWidth:360,onClose:this.cancel,closeOnEsc:this.props.closeOnEsc,truncateTitleText:!0,transparentBackground:this.props.transparentBackground},d.createElement("div",{className:eu.hQ},this.props.actionText,!e&&this.renderAdminsWithoutCheckbox(),!this.props.hideOptionalMessage&&this.OptionalMessageInput(),d.createElement("div",{className:`${ec.v0} ${eu.jo}`},d.createElement(u.vd,{autoFocus:!0,className:eu.pL,onClick:this.requestUpgrade,trackingProperties:this.state.trackingProperties,disabled:this.props.hasPendingRequest},this.props.hasPendingRequest?d.createElement(T.Tx,{id:"request_upgrade.send_request_button_already_requested"}):d.createElement(T.Tx,{id:"request_upgrade.send_request_button"})))))}renderAdminsWithoutCheckbox(){return d.createElement(d.Fragment,null,d.createElement("div",{className:`${eu.Hb}`},this.state.emailsToSend.length>1?d.createElement(d.Fragment,null,this.renderAvatarsFromMultipleEmails(),d.createElement("p",{className:eu.qs},this.joinAdminNamesNaturally(this.state.emailsToSend.map(e=>e.user.handle)))):1===this.state.emailsToSend.length?d.createElement(d.Fragment,null,d.createElement(P.Ro,{entity:this.state.emailsToSend[0].user,size:24,className:eu.A0}),d.createElement("p",{className:eu.qs},this.joinAdminNamesNaturally(this.state.emailsToSend.map(e=>e.user.handle)))):d.createElement(d.Fragment,null)))}OptionalMessageInput(){return d.createElement(d.Fragment,null,d.createElement("div",{className:eu.Fb},d.createElement(T.Tx,{id:"request_upgrade.instruction_text_header",boldedInstructions:d.createElement("span",{className:eu.s$},d.createElement(T.Tx,{id:"request_upgrade.bolded_instructions"}))})),d.createElement(u.ks,{placeholder:1===this.state.emailsToSend.length?(0,T.t)("request_upgrade.message_input_placeholder_instructions_single_admin"):(0,T.t)("request_upgrade.message_input_placeholder_instructions"),type:"textarea",value:this.state.message,onChange:this.onMessageChange,className:eu.iU,maxLength:1e3}))}renderForNonLicenseGroupsActive(){let e=0===this.state.emailsToSend.length,r=this.state.emailsToSend.filter(e=>e.send).length,n=e?d.createElement(d.Fragment,null):this.props.hideAdminSelection?this.renderAdminsWithoutCheckbox():d.createElement(d.Fragment,null,d.createElement("p",{className:eu.Fb},d.createElement(T.Tx,{id:"request_upgrade.which_admin_prompt"})),d.createElement("div",{className:eu.I2},d.createElement("label",{key:"select-all-admins",className:eu.ec},d.createElement("input",{className:eu.kv,type:"checkbox",checked:this.state.allAdminsSelected,onChange:this.clickSelectAll}),d.createElement(T.Tx,{id:"request_upgrade.select_all"})),d.createElement(I.P,{className:eu.iA},this.state.emailsToSend.map((e,r)=>d.createElement("label",{key:e.user.email,className:eu.TE},d.createElement("input",{className:eu.kv,type:"checkbox",checked:e.send,onChange:e=>this.clickCheckbox(e,r)}),d.createElement(w.H8,{user:e.user}),d.createElement("div",{className:eu.vu},d.createElement("div",null,e.user.handle),d.createElement("div",{className:eu.uW},e.user.email)))))));return d.createElement(ed.XV,{title:this.state.modalTitle,maxWidth:360,minWidth:360,onClose:this.cancel,closeOnEsc:this.props.closeOnEsc,truncateTitleText:!0,transparentBackground:this.props.transparentBackground},d.createElement("div",{className:eu.hQ},r<=0&&!e&&d.createElement(E,{orientation:"vertical",variant:"warning",iconSrc:ep.A},d.createElement("span",{className:m.cx.fontSemiBold.$},(0,T.t)("request_upgrade.no_admins_selected_error"))),this.props.actionText," ",!this.props.isDevMode&&!this.props.hideAdminSelection&&d.createElement("p",{style:{display:"inline"}},this.instructionText(this.state.emailsToSend.length)),n,!this.props.hideOptionalMessage&&this.OptionalMessageInput(),d.createElement("div",{className:`${ec.v0} ${eu.jo}`},d.createElement(u.nR,{onClick:this.cancel},d.createElement(T.Tx,{id:"request_upgrade.cancel_button"})),d.createElement(u.vd,{autoFocus:!0,className:eu.pL,onClick:this.requestUpgrade,disabled:r<=0&&!e||this.props.hasPendingRequest,trackingProperties:this.state.trackingProperties},this.props.hasPendingRequest?d.createElement(T.Tx,{id:"request_upgrade.send_request_button_already_requested"}):d.createElement(T.Tx,{id:"request_upgrade.send_request_button"})))))}render(){return this.props.isDoneFetching?d.createElement(N.fu,{name:"Request Upgrade Modal",properties:this.state.trackingProperties},"org"===this.props.type?this.props.canUserManagePaidStatus?this.renderForOrgAdminUser():this.props.licenseGroupsActive?this.renderForLicenseGroupsActive():this.renderForNonLicenseGroupsActive():this.renderForNonLicenseGroupsActive()):d.createElement(ed.XV,{title:this.state.modalTitle,maxWidth:360,minWidth:360,onClose:this.cancel,closeOnEsc:this.props.closeOnEsc,truncateTitleText:!0,transparentBackground:this.props.transparentBackground},d.createElement("div",{className:eu.g4},d.createElement(S.kt,null)))}}em.displayName="RequestUpgradeModal"},2601:(e,r,n)=>{"use strict";n.d(r,{Q:()=>c});var i=n(9388),a=n(38580),o=n(74626),s=n(94248);let l="curator-portal-target",d=(0,a.eU)(()=>{let e=document.getElementById(l);if(null!=e)return e;let r=document.createElement("div");return r.id=l,r.classList.add(...s.yA.split(" ")),document.body.appendChild(r),r});function c({children:e}){let r=(0,o.md)(d);return i.createPortal(e,r)}},97925:(e,r,n)=>{"use strict";n.d(r,{Y:()=>E});var i=n(11855),a=n(17333),o=n(98977),s=n(99569),l=n(46689),d=n(62275),c=n(95852),u=n(1505),p=n(72517),h=n(88022),m=n(43987),g=n(37870),f=n(88578),_=n(39863);let y="file_limit_paywall_modal--textSection--eQg2n",E=(0,g.Ju)(function(e){let r=()=>{e.dispatch(d.Lo())};return i.createElement(p.fu,{name:"FileLimitPaywallModal",properties:{teamId:e.teamId,productType:(0,h.pi)({editorType:e.editorType}),action:e.action}},i.createElement(f.aF,{size:360,className:"file_limit_paywall_modal--paywallModal--tFr8-"},i.createElement(s.s_,{className:"file_limit_paywall_modal--closeButton--IyrJA",...e}),i.createElement("div",null,i.createElement("div",{className:"file_limit_paywall_modal--paywallHeader--fxawC"},i.createElement("span",null,"whiteboard"===e.editorType?i.createElement(_.Tx,{id:"payments.file_limit_paywall_header_figjam",teamName:e.teamName,maxFreeFiles:m.WW}):i.createElement(_.Tx,{id:"payments.file_limit_paywall_header_figma",teamName:e.teamName,maxFreeFiles:m.WW}))),i.createElement("div",{className:y},i.createElement("span",null,"whiteboard"===e.editorType?i.createElement(_.Tx,{id:"payments.file_limit_paywall_text_figjam",maxFreeFiles:m.WW}):i.createElement(_.Tx,{id:"payments.file_limit_paywall_text_figma",maxFreeFiles:m.WW}))),i.createElement("div",{className:y},i.createElement("span",null,i.createElement(_.Tx,{id:"payments.file_limit_paywall_cta",createThisFile:i.createElement(l.Us,{target:"_blank",onClick:()=>{e.createInDrafts(),r()},trusted:!0},i.createElement(_.Tx,{id:"payments.file_limit_paywall_cta_create_this_file"})),checkOutPaidPlans:i.createElement(l.Us,{target:"_blank",onClick:()=>{r();let n=`/pricing${"whiteboard"===e.editorType?"/#figjam":""}`;o.Ay.redirect(n,"_blank")},trusted:!0},i.createElement(_.Tx,{id:"payments.file_limit_paywall_cta_check_out_paid_plans"}))}))),i.createElement("div",{className:"file_limit_paywall_modal--buttonRow--Y8n-M"},i.createElement(l.M7,{onClick:r,trackingProperties:{trackingDescriptor:u.c.CANCEL}},i.createElement(_.Tx,{id:"payments.file_limit_cancel"})),i.createElement(l.vd,{className:"file_limit_paywall_modal--upgradeButton--GJckO",onClick:()=>{r(),e.dispatch(c.WX({teamId:e.teamId,openInNewTab:!a.eD,selectedView:{view:"team",teamId:e.teamId}}))},trackingProperties:{trackingDescriptor:u.c.UPGRADE}},i.createElement(_.Tx,{id:"payments.file_limit_upgrade"}))))))},"FileLimitPaywallModal")},64434:(e,r,n)=>{"use strict";n.d(r,{ox:()=>_});var i=n(11855),a=n(88507),o=n(81912),s=n(208),l=n(47506),d=n(62275);n(41563);var c=n(99737),u=n(57766),p=n(79453),h=n(71646),m=n(60178),g=n(33615);let f=(e,r)=>{let n=i.useRef(null);i.useEffect(()=>{let i=e?(0,o.A)(e).diff((0,o.A)()):void 0;return void 0!==i&&i<2147483647?(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{n.current=null,r()},i)):n.current&&(clearTimeout(n.current),n.current=null),()=>{n.current&&clearTimeout(n.current)}},[e,r])};function _(e){let r=(0,m.iZ)(),n=(0,a.wA)(),{file:o,onCanvasExpired:_}=e,y=null==o?void 0:o.key,E=function(e){let r=(0,c.Rs)(p.ZzU,{figFileKey:null!=e?(0,u.Kz)(e)?e.sourceFileKey:e.key:""},{enabled:null!=e});return i.useMemo(()=>{var e,n,i;if("loaded"!==r.status)return;let a=null==(e=r.data)?void 0:e.figFileLinkExpirationConfig,o=null==(n=r.data)?void 0:n.file;if(!a)return;let s=(0,h.d4)(a);return{file:o,accessReverted:!!a.accessReverted,expiresAt:null==(i=a.expiresAt)?void 0:i.toISOString(),activeExpiration:null==s?void 0:s.toISOString()}},[r])}(e.file),b=i.useRef(void 0),v=null==E?void 0:E.activeExpiration,S=null==E?void 0:E.file,I=null==S?void 0:S.hasViewPrototypeRole,T=null==E?void 0:E.accessReverted;i.useEffect(()=>{var e,r;I&&T&&!(null==(e=b.current)?void 0:e.accessReverted)&&E.expiresAt&&E.expiresAt===(null==(r=b.current)?void 0:r.expiresAt)&&(0,l.YQ)({id:"link_expired_event"}),b.current=E},[E,T,I]),f(v,i.useCallback(()=>{if(y)I&&r||(n(d.to({type:g.J})),null==_||_()),s.Ay.put(`/api/files/${y}/expire_public_link`)},[n,_,y,r,I]))}},49218:(e,r,n)=>{"use strict";n.d(r,{Fo:()=>c,hZ:()=>p});var i=n(11855),a=n(98750);n(63706);var o=n(71779);n(72517),n(99506);var s=n(37590),l=n(36894);n(96680);var d=n(25530);s.A5.POST_TO_FEED,s.A5.COLLABORATORS,s.A5.PUBLISH,s.A5.PUBLISH_COMMUNITY,s.A5.PUBLISH_TEMPLATE,s.A5.EMBED_CODE,s.A5.SHARE_DEV_MODE,s.A5.SHARE_SETTINGS,s.A5.FOLDER_MEMBERS,s.A5.SHARE_GOOGLE_DEVICE_DISCLAIMER;let c=680;function u(e){e.keyCode!==a.Uz.ESCAPE&&e.stopPropagation()}function p(e){return i.createElement("div",{onKeyDown:u},i.createElement(o.i,{displayAs:o.C.Block},i.createElement(l.XV,{title:e.header,maxWidth:e.maxWidth||459,minWidth:e.optimizeForMobile?296:450,paddingLeft:e.optimizeForMobile?12:0,paddingRight:e.optimizeForMobile?12:0,fixedTop:!e.disableFixedTop,onClose:e.onClose,headerClassName:d.wx,closeOnEsc:e.closeOnEsc,bottomSection:e.bottomSection},e.children)))}},71646:(e,r,n)=>{"use strict";let i,a;n.d(r,{$j:()=>l,Fn:()=>c,M3:()=>_,U:()=>f,W7:()=>m,cH:()=>u,d4:()=>E,hP:()=>g,ml:()=>h,nM:()=>b,xz:()=>y});var o=n(81912),s=n(39863),l=((i=l||{}).DAY="24_hours",i.WEEK="7_days",i.CUSTOM="custom",i),d=((a=d||{}).TWENTY_SEC="20_seconds",a.CURRENT="current",a.DAY="24_hours",a.WEEK="7_days",a.CUSTOM="custom",a);function c(e,r){switch(r){case"24_hours":case"24_hours":return p(e.clone().add(24,"h"));case"7_days":case"7_days":return p(e.clone().add(7,"d"));default:return(0,o.A)()}}function u(e,r=!1){return r?e.startOf("hour"):e.clone().add(30,"minutes").startOf("hour")}function p(e,r=!1){return e.clone().add(30,"seconds").startOf("minute")}function h(e){return e.format("LT")}function m(e){return e.format("YYYY-MM-DD")}function g(e){return e.format("HH:mm")}function f(e,r){return(0,o.A)(e+" "+r,"YYYY-MM-DD HH:mm")}function _(e,r){let n=e.isSame((0,o.A)().add(1,"day"),"day"),i=h(e);if(n&&!r)return(0,s.t)("file_access_row.expiration.24_hours.timestamp",{time:i});let a=e.toDate().toLocaleDateString(e.locale(),{weekday:r?"long":"short",month:"short",day:"numeric"});return(0,o.A)().isSame(e,"year")?(0,s.t)("file_access_row.expiration.date.timestamp",{date:a,time:i}):e.format("L LT")}function y(e){return c(e,"7_days")}function E(e){return e&&!e.accessReverted&&e.expiresAt?e.expiresAt:null}function b(e){return e<24||e%24!=0?(0,s.t)("file_access_row.expiration.past_org_limit_hours",{count:e}):(0,s.t)("file_access_row.expiration.past_org_limit_days",{count:e/24})}},93771:(e,r,n)=>{"use strict";n.d(r,{H:()=>C});var i=n(11855),a=n(26331),o=n(29019),s=n.n(o),l=n(91408),d=n(78931),c=n(46481),u=n(47506),p=n(43632),h=n(9840),m=n(38269),g=n(72517),f=n(71e3),_=n(45265),y=n(15471),E=n(89298);let b=(0,l.hG)("305px"),v=(0,l.hG)(_.km),S=(0,l.hG)(_.LF),I=(0,l.hG)(_.hX),T=b-v/2;function w({dispatch:e,dropdownClassName:r,dropdownShown:n,options:a,value:o,onChange:l,trackingProperties:c={}}){var u;let[g,_]=(0,i.useState)(0),[E,w]=(0,i.useState)(window.innerWidth),C=()=>{w(window.innerWidth)};(0,i.useEffect)(()=>(window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)),[]);let A=i.useRef(null),N=i.useRef(null);(0,i.useEffect)(()=>{var e;if(A.current&&N.current){let r=A.current.getBoundingClientRect(),n=null==(e=A.current.offsetParent)?void 0:e.getBoundingClientRect();!r||!n||r.top>=n.top&&r.bottom<=n.bottom||(A.current.scrollIntoView(!1),N.current.scrollBy(8)),_(r.width)}},[]);let O={...(null==(u=null==n?void 0:n.data)?void 0:u.position)||{top:0,left:0}},R=0,P=0,L=!1,D=-1,M=a.map((r,n)=>{var s;if("separator"===r.type)return L||(R+=I),P+=I,i.createElement(d.W.Separator,{key:r.key?String(r.key):n,dataTestId:`dropdown-separator-${n}`});let u=r.key===o;u&&(D=n),L=L||u;let g=r.subtext?S:v;L||(R+=g),P+=g;let f={};return r.subtext&&(null==(s=a[n+1])?void 0:s.type)!=="separator"&&(f.paddingBottom=8,P+=8),i.createElement("div",{key:String(r.key),ref:u?A:null,style:f,"data-testid":`dropdown-option-${n}`,"data-onboarding-key":`dropdown-option-${String(r.key)}`},i.createElement(d.W.CheckableOptionTrackable,{checked:u,onClick:n=>{n.stopPropagation(),u||l(r.key),e(m.oB())},trackingProperties:{...c,key:String(r.key)},disabled:r.disabled,"data-testid":`dropdown-option-checkable-${n}`},i.createElement("div",{style:{display:"flex",alignItems:"center"}},!!r.icon&&i.createElement(i.Fragment,null,r.icon),i.createElement(p.Y,{direction:"vertical",spacing:4,height:g,verticalAlignItems:"center"},i.createElement(h.E,{fontSize:12},r.text),r.subtext&&i.createElement(h.E,{fontSize:11,color:"menu-disabled"},r.subtext)))))});g+O.left+4>E&&(O.left="auto",O.right=4);let k=16;D===a.length-1&&(k=8),"auto"!==O.top&&void 0!==O.top&&(O.top-=Math.min(R,T-k),O.top=Math.max(16,O.top));let x=i.createElement(f.g1,{maxDropdownHeight:e=>"auto"===O.top||void 0===O.top?b:Math.min(b,Math.round(e-O.top-8-16)),dropdownChildrenHeight:P,ref:N},M);return i.createElement(d.W.DropdownWithScrim,{stopScrollPropagation:!0,dispatch:e,className:s()(y.N1,r),style:O},x)}function C({dispatch:e,dropdownShown:r,value:n,options:o,onChange:l,id:d,placeholder:p,disabled:h=!1,dropdownData:f={},isOpen:_,trackingProperties:b={},dataOnboardingKey:v,onOpenRcsEvent:S,ui3Icon:I}){let T=(0,i.useRef)(null),C=o.findIndex(e=>"option"===e.type&&e.key===n),A=o[C],N=(null==A?void 0:A.type)==="option"?A.selectedLabel||A.text:p,O=(null==A?void 0:A.type)==="option"&&A.selectedLabelClass||"";return _=_??(null==r?void 0:r.type)===d,i.createElement("div",{ref:T},i.createElement(g.jm,{trackingProperties:b,className:s()({[y.Lt]:!h,[y.rp]:I}),onClick:h?void 0:n=>{n.stopPropagation(),n.preventDefault(),r&&r.type===d?e(m.oB()):o.length&&!h&&(e(m.j7({type:d,data:{...f,...function(e){var r;let n=null==(r=e.current)?void 0:r.getBoundingClientRect();return n?{position:{top:n.top,bottom:"auto",left:n.left,right:"auto"}}:{}}(T)}})),S&&(0,u.YQ)({id:S}))}},I,i.createElement("div",{className:`${y.Ck} ${O}`,"data-testid":"dropdown-label"},N),!h&&i.createElement("div",{className:y.Lo},i.createElement(c.U,{"data-onboarding-key":!h&&v?v:"",svg:E.A},i.createElement(a.r,null)))),_&&i.createElement(w,{dispatch:e,dropdownShown:r,dropdownClassName:y.W8,value:n,options:o,onChange:l,trackingProperties:b}))}},96680:(e,r,n)=>{"use strict";n.d(r,{w:()=>d});var i=n(11855),a=n(24897),o=n(39863),s=n(42068),l=n(47173);function d(e){return i.createElement("div",{className:s.ze},i.createElement("button",{className:s.Kk,onClick:e.onClick,"aria-labelledby":(0,o.t)("file_permissions_modal.secondary_header.go_back")},i.createElement(a.B,{svg:l.A})),i.createElement("div",{className:s.KB},e.title),e.rightSideButton)}},56714:(e,r,n)=>{"use strict";n.d(r,{Jr:()=>T,UM:()=>w});var i=n(66712),a=n(82225),o=n(13408),s=n(93623),l=n(92330);let d={id:"4317920",team_id:null,org_id:"675025436003846244",location:"San Francisco, CA",profile_handle:"asana",public_at:"2020-05-06T20:49:58.442Z",follower_count:341,following_count:0,primary_user_id:null,name:"Asana",img_url:"https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2","500_500":"https://s3-alpha.figma.com/profile/5c98d80b-d276-446c-8080-7e586b085612"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:o.o1.ORG,website:"asana.design",twitter:"twitter.com/asanadesignteam",instagram:"instagram.com/asanadesignteam",description:"We\u2019re the Design team behind Asana.\nWe design the future of teamwork. \u2728\n\nJoin us: asana.com/jobs/product",pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/4317920/cover_image",is_community_beta:!0,badges:[a.s.FIGMA_PARTNER]},c={id:"1521",team_id:null,org_id:"703355754804194517",location:"Sydney, Australia",profile_handle:"atlassian",public_at:"2020-06-22T18:25:34.800Z",follower_count:4297,following_count:0,primary_user_id:null,name:"Atlassian",img_url:"https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657","500_500":"https://s3-alpha.figma.com/profile/26a88a1d-27d7-460c-9301-dd0910d39614"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:o.o1.ORG,website:"https://atlassian.com",twitter:null,instagram:null,description:"The official home of Atlassian's design resources in Figma.",pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/1521/cover_image",is_community_beta:!0,badges:[a.s.FIGMA_PARTNER]},u={id:"1608",team_id:null,org_id:"797266083973274396",location:null,profile_handle:"github",public_at:"2020-02-12T18:27:36.218Z",follower_count:126,following_count:0,primary_user_id:null,name:"GitHub",img_url:"https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556","500_500":"https://s3-alpha.figma.com/profile/84ae1734-e47e-4945-884c-f536e5d3f427"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:o.o1.ORG,website:"https://www.github.com",twitter:null,instagram:null,description:null,pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"",is_community_beta:!1,badges:[a.s.FIGMA_PARTNER]},p={id:"1731",team_id:null,org_id:null,location:"Los Angeles, CA",profile_handle:"snap",public_at:"2020-03-02T14:56:23.081Z",follower_count:17,following_count:0,primary_user_id:null,name:"Snapchat",img_url:"https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2","500_500":"https://s3-alpha.figma.com/profile/7bbd1ecd-0481-4423-9092-58ec01c00d68"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:o.o1.ORG,website:"https://www.snapchat.com/l/en-gb/",twitter:null,instagram:null,description:null,pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/1731/cover_image",is_community_beta:!1,badges:[]},h={id:"2480257",team_id:null,org_id:null,location:"San Francisco, CA",profile_handle:"figma",public_at:"2019-10-21T22:53:16.561Z",follower_count:16253,following_count:53,primary_user_id:"768244674400796816",name:"Figma",img_url:"https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577","500_500":"https://s3-alpha.figma.com/profile/c4bc0357-6f54-412a-ac89-f311905bbec5"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:o.o1.USER,website:"www.figma.com",twitter:"twitter.com/figma",instagram:"instagram.com/figma",description:"Figma is the design tool for teams who build products together. Claim your community profile here: https://bit.ly/3euhKR9",pronouns:null,has_shared_teams:!1,has_shared_orgs:null,redirect_cover_image_url:"/profile/2480257/cover_image",is_community_beta:!0,badges:[]},m="1098405969270214551",g="1094001923188252679",f="1101944648482192724",_="1151936790942917527",y={[d.id]:m,[u.id]:f,[c.id]:g,[p.id]:_},E="1220512233196109878",b="1220802563996996107",v={[u.id]:E,[c.id]:b};function S(){return(!!(0,i.kc)().widgets_hardcode_cocreators||!!(0,i.kc)().cmty_hardcode_cocreators)&&"prod"===(0,i.tl)().cluster_name}function I(e){var r;if(!S())return e;let n=function(e){if(!S())return[];switch(e){case m:return[h,d];case b:case g:return[h,c];case E:case f:return[h,u];case _:return[h,p];default:return[]}}(e.id);if(0===n.length)return e;let i=((null==(r=e.community_publishers)?void 0:r.accepted)??[]).filter(e=>!n.find(r=>r.id===e.id)),a=n.concat(i);return{...e,community_publishers:{...e.community_publishers,accepted:a}}}async function T(e){if(!S())return[];try{let r=y[e];if(r){let e=(await l.U.getVersions({widgetId:r})).data.meta.plugin;return[I(e)]}}catch(e){console.error(e)}return[]}async function w(e){if(!S())return[];try{let r=v[e];if(r){let e=(await s.V.getVersions({pluginId:r})).data.meta.plugin;return[I(e)]}}catch(e){console.error(e)}return[]}},27775:(e,r,n)=>{"use strict";n.d(r,{z2:()=>G,xZ:()=>H});var i=n(11855),a=n(88507),o=n(29019),s=n.n(o),l=n(91408),d=n(17333),c=n(66712),u=n(63706),p=n(92766),h=n(24897),m=n(49793),g=n(9511),f=n(11978),_=n(93212),y=n(99506),E=n(76615),b=n(39671),v=n(45020),S=n(7956),I=n(60168);let T="progress_bar--outer--qjGzp",w="progress_bar--centerContainer--rTlLS",C="progress_bar--centerContainerFadeIn--0Yd29",A="progress_bar--strokedLogo--7ae9h",N="progress_bar--logoTop--nIo1p",O="progress_bar--logoMiddle--jKUpS",R="progress_bar--logoBottom--IQ9wz",P="progress_bar--petal--L7B3y",L="progress_bar--circle--GdEVj",D="progress_bar--drip--074et",M="progress_bar--lightStroke--0QEi7",k="progress_bar--strokedElement--cR81F",x="progress_bar--lightOrDarkStroke--iReIe";var F=n(51473);let U=!1,B=()=>{if(U)return;U=!0;let e="",r=e=>Math.atan(e);for(let n=0;n<200;n++){let i=n/200,a=r(50*i)/r(50);e+=(100*i).toFixed(3)+"%{transform:scaleX("+a.toFixed(3)+");}"}let n="@-moz-keyframes progress-bar-animation {"+e+"}@-webkit-keyframes progress-bar-animation {"+e+"}",i=document.createElement("style");i.textContent=n,document.head.appendChild(i)};function V(){return(0,c.kc)().pride_inclusive_loading_bar?"progress_bar--prideInclusiveBackground--K-tCQ":""}function H(){let e=(0,f._6)();if("fullscreen"!==e.view)return null;let r=(0,E.ju)(e);return i.createElement(K,{editorType:(0,b.oD)(e.editorType),cover:!0,progressPaused:!0,editorTheme:r})}function G(e){switch(e.progressBarMode){case g.Oin.KEEP_UI:return i.createElement(W,{progressBarType:e.progressBarType,left:e.left});case g.Oin.HIDE_UI:case g.Oin.ON_AND_LOCKED:return i.createElement(K,{editorType:e.editorType,isViewer:e.isViewer,shouldNotOverflow:e.shouldNotOverflow});case g.Oin.OFF:return i.createElement(i.Fragment,null)}}function W(e){let r=(0,a.d4)(e=>(0,S.$A)(e.selectedView)?0:(0,l.jz)(I.uj0));return i.createElement("div",{className:T},i.createElement("div",{className:"progress_bar--progressBarBackground--NsrWj"}),i.createElement("div",{className:"progress_bar--progressBarPageFade--4Q-6E progress_bar--progressBarPageCover--OmuR9",style:{right:r}}),i.createElement(z,{progressBarType:e.progressBarType,left:e.left}))}function z(e){switch(e.progressBarType){case v.lF.SPINNER:return i.createElement("div",{className:"progress_bar--progressBarSpinner--NeNTF"},i.createElement(p.nt,null));case v.lF.BAR:default:return i.createElement(X,{className:"progress_bar--keepUI--roHMV",style:{left:`${e.left||0}`}})}}function K(e){let r="whiteboard"===e.editorType?y._Y.WHITEBOARD:e.isViewer?"viewer":y._Y.DESIGN;return i.createElement("div",{"data-editor-theme":e.editorTheme,className:s()(T,e.shouldNotOverflow?"progress_bar--overflowHidden--H2mqy":null)},i.createElement("div",{className:s()({"progress_bar--progressBarPageToolbarCover--ZlAzU progress_bar--progressBarPageCover--OmuR9":e.cover,"progress_bar--progressBarPageCover--OmuR9":"whiteboard"===r,"progress_bar--progressBarCoverShowUI--Zt1ex progress_bar--progressBarPageCover--OmuR9":"design"===r&&!u.rr,"progress_bar--progressBarCoverMobile--8Dlm8 progress_bar--progressBarPageCover--OmuR9":"design"===r&&u.rr,"progress_bar--progressBarCoverViewer--f7NXv progress_bar--progressBarPageCover--OmuR9":"viewer"===r&&!u.rr,"progress_bar--progressBarCoverViewerMobile--r6TAy progress_bar--progressBarCoverViewer--f7NXv progress_bar--progressBarPageCover--OmuR9":"viewer"===r&&u.rr})}),"whiteboard"!==r&&i.createElement(Y,{type:r,progressPaused:e.progressPaused}),"whiteboard"===r&&i.createElement(j,{progressPaused:e.progressPaused}))}function j(e){return i.createElement("div",{className:s()(w,{[C]:e.progressPaused})},i.createElement("div",{className:"progress_bar--coloredLogo--R8dRR"},i.createElement("div",{className:N},i.createElement("div",{className:"progress_bar--filledPillLeft--C1U9-"})),i.createElement("div",{className:O},i.createElement("div",{className:P}),i.createElement("div",{className:L})),i.createElement("div",{className:R},i.createElement("div",{className:D}),i.createElement("div",null))),i.createElement(Z,{type:"whiteboard",progressPaused:e.progressPaused}))}function Y(e){let[r,n]=i.useState(!1),a=(0,_.aq)();return((d.eD?d.eD.getZoomFactor():u.Ay.chrome||u.Ay.safari?Promise.resolve(window.outerWidth/window.innerWidth):Promise.resolve(void 0)).then(e=>{e&&(e<.95||e>1.05)&&a()&&!r&&n(!0)}),r||(0,u.KR)()||m.z4.getIsExtension())?i.createElement($,{type:e.type,progressPaused:e.progressPaused}):i.createElement(q,{type:e.type,progressPaused:e.progressPaused})}function $(e){let r="design"===e.type,n="viewer"===e.type&&u.rr,a="viewer"===e.type&&!u.rr;return i.createElement("div",{className:s()(w,{"progress_bar--centerContainerStaticFadeIn--CfewO":e.progressPaused})},i.createElement("div",{className:s()({[A]:!0,[x]:n,[M]:a,"progress_bar--designLogoStroke--5k6qw":r})},i.createElement(h.B,{className:"progress_bar--staticLogo--JxM0s",svg:F.A})),i.createElement(Z,{type:r?"design":n?"mobile_viewer":"desktop_viewer",progressPaused:e.progressPaused}))}function q(e){let r="design"===e.type,n="viewer"===e.type&&u.rr,a="viewer"===e.type&&!u.rr;return i.createElement("div",{className:s()(w,{[C]:e.progressPaused})},i.createElement("div",{className:s()({[A]:!0,[x]:n,[M]:a})},i.createElement("div",{className:N},i.createElement("div",{className:`progress_bar--pillLeft--Ke92G ${k}`}),i.createElement("div",{className:`progress_bar--pillCenter--2wnIW ${k}`}),i.createElement("div",{className:`progress_bar--pillRight--br1pQ ${k}`}),i.createElement("div",{className:"progress_bar--lineContainer--r3t0-"},i.createElement("div",{className:`progress_bar--middleLine--FQl-r ${k}`}))),i.createElement("div",{className:O},i.createElement("div",{className:`${P} ${k}`}),i.createElement("div",{className:`${L} ${k}`})),i.createElement("div",{className:R},i.createElement("div",{className:`${D} ${k}`}),i.createElement("div",null))),i.createElement(Z,{type:r?"design":n?"mobile_viewer":"desktop_viewer",progressPaused:e.progressPaused}))}function Z(e){let{type:r,progressPaused:n}=e,a=V();return i.createElement("div",{className:s()({"progress_bar--progressbarWrapperDesign--CqXzu":"design"===r,"progress_bar--progressbarWrapperMobileViewer--XluNW":"mobile_viewer"===r,"progress_bar--progressbarWrapperViewer--fxA-j":"desktop_viewer"===r,"progress_bar--progressbarWrapperWhiteboard--6nFH3":"whiteboard"===r})},i.createElement("div",{className:s()({"progress_bar--progressBarDesignV2--pyHze":"design"===r,"progress_bar--progressbarMobileViewerV2--pzuXY":"mobile_viewer"===r,"progress_bar--progressBarViewerV2--lZv5X":"desktop_viewer"===r,"progress_bar--progressBarWhiteboardV2--7TYv7":"whiteboard"===r,"progress_bar--progressBarAnimating--b6gDF":!0!==n,[a]:!0})},i.createElement("div",{className:"progress_bar--progressBarShimmer--qI9v6"})))}function X({className:e,style:r,seconds:n=120}){let a=V();return B(),i.createElement("div",{className:`progress_bar--progressBarRelative--N3Env ${e||""} ${a}`,style:{MozAnimation:`progress-bar-animation ${n}s linear`,WebkitAnimation:`progress-bar-animation ${n}s linear`,...r}})}X.displayName="ProgressBarRelative"},24187:(e,r,n)=>{"use strict";let i,a;var o=n(88706),s=n(56029),l=((i=l||{})[i.NOT_LOADED=0]="NOT_LOADED",i[i.LOADED=1]="LOADED",i),d=((a=d||{})[a.LOAD_LIVEGRAPH=0]="LOAD_LIVEGRAPH",a[a.LOAD_VIEWER_INSTANCE=1]="LOAD_VIEWER_INSTANCE",a);(0,o.um)({status:0,livegraphLoaded:!1,viewerInstanceLoaded:!1},(e,r)=>{if(1===e.status)return e;switch(r.type){case 0:if(e.viewerInstanceLoaded)return s.Su.handleViewerLoaded("livegraph"),{status:1,lastLoaded:"livegraph"};if(e.livegraphLoaded)return e;return{...e,livegraphLoaded:!0};case 1:if(e.livegraphLoaded)return s.Su.handleViewerLoaded("multiplayer"),{status:1,lastLoaded:"multiplayer"};if(e.viewerInstanceLoaded)return e;return{...e,viewerInstanceLoaded:!0}}})},88694:(e,r,n)=>{"use strict";n.d(r,{x:()=>s});var i=n(11855),a=n(29019),o=n.n(a);class s extends i.Component{componentDidMount(){this.interval=setInterval(()=>{this.forceUpdate()},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){let e=document.querySelector(`[data-onboarding-key=${this.props.target}]`);if(!e)return i.createElement("div",null);{let r=e.getBoundingClientRect();if(!e.offsetParent)return i.createElement("div",null);let n=r.left+r.width/2,a=r.top+r.height/2,s=o()("rcs_callout--callout--QmCPv",{"rcs_callout--brandColor--QiBF8":this.props.isBrandColor});return i.createElement("div",{className:s,style:{top:a,left:n}})}}}s.displayName="RcsCallout"},1538:(e,r,n)=>{"use strict";let i;n.d(r,{oi:()=>a});var a=((i=a||{}).PAN="PAN_PREFERENCE_ONBOARDING_KEY",i.ZOOM="ZOOM_PREFERENCE_ONBOARDING_KEY",i)},7353:(e,r,n)=>{"use strict";n.d(r,{i:()=>L});var i,a=n(11855),o=n(9388),s=n(29019),l=n.n(s),d=n(91408),c=n(60601),u=n(72206),p=n(99569),h=n(46689),m=n(11443),g=n(35876),f=n(71779),_=n(72517),y=n(46806),E=n(88578),b=n(85029),v=n(56320);let S=a.createContext(void 0);function I(e){return a.createElement("div",{className:e.className?e.className:v.qr},e.children)}(i||(i={})).Content=function(e){return a.createElement("div",{className:e.className||v.xC,style:e.style},e.children)},(0,_.tf)(e=>a.createElement("a",{className:"blue_link--blueLink--9rlnd",href:e.href,target:"_blank",rel:"noopener",onClick:e.onClick},e.children));var T=n(88694),w=n(15839),C=n(59927);function A(e){return a.createElement("div",{tabIndex:0,className:l()("mobile_shelf--background--Msmrp modal--modalBackground--PCmzN",C.Dm)},a.createElement("div",{className:l()("mobile_shelf--shelf--XNQ2O",v.Kb)},e.children))}var N=n(60168);let O=(0,d.hG)(N.tui),R=(0,d.hG)(N.IKB),P=e=>null!==e?e:void 0;class L extends a.Component{constructor(e){super(e),this.renderIfDocumentComplete=()=>{"complete"===document.readyState&&this.forceRender()},this.getRcsKeyElementInterval=null,this.startScanningForRcsKeyElement=()=>{this.cleanUpRcsKeyElementScanner();let e=this.props.step;if(e.modalType===w.q3.DRAGGABLE){if(!e.onboardingKey){this.setState({rcsKeyLocation:null});return}this.getRcsKeyElementInterval=setInterval(()=>{let e=this.getRcsKeyElement();if(null!=e){let r=this.computeLocation(e.getBoundingClientRect());(null==this.state.rcsKeyLocation||this.state.rcsKeyLocation.top!==r.top||this.state.rcsKeyLocation.left!==r.left)&&this.setState({rcsKeyLocation:r})}else this.setState({rcsKeyLocation:null})},50)}},this.cleanUpRcsKeyElementScanner=()=>{null!=this.getRcsKeyElementInterval&&(clearInterval(this.getRcsKeyElementInterval),this.getRcsKeyElementInterval=null)},this.acceptHeight=e=>this.setState({modalHeight:e}),this.nextButtonRef=e=>{e&&(this.button=o.findDOMNode(e),this.focusButton())},this.focusButton=()=>{this.button&&!this.props.step.UNSAFE_disableFocus&&this.button.focus()},this.computeLocation=e=>{let r=this.props.step;if(r.modalType!==w.q3.DRAGGABLE)return{top:null,left:null,arrowRelativeX:null,arrowRelativeY:null,arrowPosition:null};if(r.pointDirection===w._L.LEFT_TITLE){let r=e.top+e.height/2;return{left:e.left+e.width+16,top:r-20,arrowRelativeX:-18,arrowRelativeY:y.uF/2-9,arrowPosition:y.F_.LEFT_TITLE}}if(r.pointDirection===w._L.RIGHT_TITLE){let r=e.top+e.height/2,n=e.left-this.width-16,i=y.uF/2-9;return{left:n,top:r-20,arrowRelativeX:this.width,arrowRelativeY:i,arrowPosition:y.F_.RIGHT_TITLE}}let n=e.left+e.width/2,i=e.bottom+18,a=n-this.width/2,o=n-(a=Math.min(a=Math.max(a,10),window.innerWidth-10-this.width)),s=y.F_.TOP;return null!=this.state.modalHeight&&window.innerHeight-i<this.state.modalHeight+12&&(i=e.top-this.state.modalHeight-12,s=y.F_.BOTTOM),{left:a,top:i,arrowRelativeX:o,arrowRelativeY:null,arrowPosition:s}},this.getFramePosition=()=>this.state.rcsKeyLocation?this.state.rcsKeyLocation:{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null},this.getRcsKeyElement=()=>{let e=this.props.step;if(e.modalType!==w.q3.DRAGGABLE)return null;let r=document.querySelector(`[data-onboarding-key=${e.onboardingKey}]`);if(!r)return null;let n=r.getBoundingClientRect();return 0===n.left&&0===n.right&&0===n.height&&0===n.width?null:r},this.acceptTitle=e=>{this.setState({title:e,titleSetByStep:this.props.step})},this.forceRender=()=>this.setState({renderCount:this.state.renderCount+1}),this.getPositionAndConstraints=(e,r)=>{let n=this.getFramePosition();if(n.top&&n.left)return{initialPosition:new u.Mi(n.left,n.top)};switch(e){case w.LN.BOTTOM_LEFT:return{initialPosition:r||new u.Mi(R,R),initialConstraints:{x:"left",y:"bottom"}};case w.LN.BOTTOM_RIGHT:return{initialPosition:r||new u.Mi(m.lc,16),initialConstraints:{x:"right",y:"bottom"}};case w.LN.TOP_RIGHT:return{initialPosition:r||new u.Mi(R,O+R),initialConstraints:{x:"right",y:"top"}};case w.LN.CENTER:default:return{initialPosition:r||new u.Mi(window.innerWidth/2-this.width/2,window.innerHeight/2-this.height/2)}}},this.state={modalHeight:328,rcsKeyLocation:null,renderCount:0}}componentDidMount(){window.addEventListener("beforeunload",this.props.onClose),this.startScanningForRcsKeyElement(),document.addEventListener("readystatechange",this.renderIfDocumentComplete)}componentWillUnmount(){this.props.onClose(),window.removeEventListener("beforeunload",this.props.onClose),document.removeEventListener("readystatechange",this.renderIfDocumentComplete),this.cleanUpRcsKeyElementScanner()}componentDidUpdate(e,r){this.focusButton();let n=this.props.step;if(n.modalType!==w.q3.DRAGGABLE)return;let i=e.step;(i.modalType!==w.q3.DRAGGABLE||n.onboardingKey&&n.onboardingKey!==i.onboardingKey)&&this.startScanningForRcsKeyElement()}get width(){let e=this.props.step;switch(e.modalType){case w.q3.FEATURE_UPDATE:return e.width||w.No;case w.q3.DRAGGABLE:return e.width||350;default:return 350}}get height(){return this.state.modalHeight||328}static getDerivedStateFromProps(e,r){return e.step!==r.titleSetByStep?{title:void 0,titleSetByStep:void 0}:{}}render(){let e=this.props.step,r=this.getFramePosition(),n={acceptTitle:this.acceptTitle,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,forceRender:this.forceRender},i=a.createElement(S.Provider,{value:this.forceRender},a.createElement(e.element,{...n}));return(0,_.T8)((()=>{switch(e.modalType){case w.q3.DRAGGABLE:let{initialPosition:n,initialConstraints:o}=this.getPositionAndConstraints(e.defaultLocation,e.initialPosition),s=e.title instanceof Function?e.title():e.title,d=this.state.title||s,u=e.onboardingKey||e.highlightOnlyKey;return a.createElement(a.Fragment,null,u&&!e.disableHighlight&&a.createElement(T.x,{target:u}),a.createElement(y.vx,{initialWidth:this.width,acceptHeight:this.acceptHeight,title:d,initialPosition:n,initialConstraints:o,arrowRelativeX:e.hideArrow?void 0:P(r.arrowRelativeX),arrowRelativeY:e.hideArrow?void 0:P(r.arrowRelativeY),arrowPosition:e.hideArrow?void 0:P(r.arrowPosition),animatedIn:!0,dragHeaderOnly:!!d,onClose:this.props.dismissModal,headerClassName:e.headerClassName,zIndex:e.zIndex,disableDragging:e.disableDragging},i,e.disableFooter?null:a.createElement(I,{className:e.footerClassName},!e.hideStepCounter&&e.stepCounter&&a.createElement("div",{className:v.S},e.stepCounter),a.createElement("div",{className:v.v0},e.additionalButton&&a.createElement(h.NY,{className:v.lI,href:"link"===e.additionalButton.onClickBehavior?e.additionalButton.href:void 0,target:"link"===e.additionalButton.onClickBehavior?"_blank":void 0,onClick:"function"===e.additionalButton.onClickBehavior?()=>{e.additionalButton.onClick(this.props.dispatch),this.props.dismissModal()}:void 0,trackingProperties:e.additionalButton.textForTracking?{text:e.additionalButton.textForTracking()}:{}},e.additionalButton.label),a.createElement(h.vd,{ref:this.nextButtonRef,onClick:this.props.onClickPrimaryCta,className:v.lI,trackingProperties:{trackingDescriptor:e.ctaTrackingDescriptor},disabled:!!e.ctaIsLoading},a.createElement(g.x,{isLoading:!!e.ctaIsLoading,className:v.zP},()=>a.createElement("div",null,e.ctaText)))))));case w.q3.FEATURE_UPDATE:{let r=e.closeButtonStyle===w.M_.ON_DARK?v.oO:e.closeButtonStyle===w.M_.HIGH_CONTRAST?v.Db:e.closeButtonStyle===w.M_.ON_LIGHT?v.o:v.MD;return a.createElement(E.Nb,{className:`${v.yl} ${v.Kb}`,size:this.width,height:e.height,hide:this.props.dismissModal,disableClickOutsideToHide:e.disableClickOutsideToHide},i,e.closeButtonStyle!==w.M_.HIDDEN&&a.createElement(p.Jn,{innerText:"Close",className:r,onClick:()=>{this.props.additionalOnExplicitDismiss&&this.props.additionalOnExplicitDismiss(),this.props.dismissModal()}}))}case w.q3.MOBILE:if(e.type===w.dZ.SHELF)return a.createElement(A,null,i);return a.createElement(E.Nb,{className:`${v.yl} ${v.Kb} ${v.Yf}`,hide:this.props.dismissModal,disableClickOutsideToHide:!0,size:"mobile"},i,a.createElement(p.Jn,{innerText:"Close",className:v.iQ,onClick:()=>{this.props.additionalOnExplicitDismiss&&this.props.additionalOnExplicitDismiss(),this.props.dismissModal()}}));case w.q3.WALK_THROUGH:return a.createElement(a.Fragment,null,!e.disableHighlight&&a.createElement(T.x,{target:e.onboardingKey}),a.createElement(b.CR,{targetKey:e.onboardingKey,dismissModal:this.props.dismissModal,height:e.height,width:e.width,pointerForegroundColor:e.pointerForegroundColor,shouldCenterArrow:e.shouldCenterArrow,topPadding:e.topPadding,className:e.className,shouldDismissWhenLostDOMTarget:e.shouldDismissWhenLostDOMTarget,additionalOnExplicitDismiss:this.props.additionalOnExplicitDismiss,hideCloseButton:e.hideCloseButton,disableClickOutsideToHide:e.disableClickOutsideToHide},i));case w.q3.WELCOME:return a.createElement(a.Fragment,null,e.fullscreen&&a.createElement("div",{className:v.qg}),a.createElement(E.Nb,{className:l()(void 0!==e.fullscreen&&e.fullscreen?v.SV:v.Tw,e.className),size:"fitContent",hide:this.props.dismissModal,disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,tintedModalBackground:void 0===e.tintedModalBackground||e.tintedModalBackground},a.createElement(f.i,{displayAs:f.C.Block},i)));case w.q3.SELF_CONTAINED:return i;case w.q3.POINTER:return a.createElement(a.Fragment,null,e.showHighlight&&a.createElement(T.x,{target:e.onboardingKey}),a.createElement(b.NJ,{dismissModal:this.props.dismissModal,targetKey:e.onboardingKey,width:e.width,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,shouldNotWrapInParagraphTag:e.shouldNotWrapInParagraphTag,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost},i));case w.q3.ANNOUNCEMENT_POINTER:let m=e.title instanceof Function?e.title():e.title;return a.createElement(b.OA,{targetKey:e.onboardingKey,dismissModal:this.props.dismissModal,title:m,bottomLeftText:e.stepCounter,ctaText:e.ctaText,onClickPrimaryCta:this.props.onClickPrimaryCta,secondaryCtaText:e.secondaryCtaText,onClickSecondaryCta:e.preventDismissOnClickSecondaryCta?c.lQ:this.props.dismissModal,width:e.width,topPadding:e.topPadding,shouldCenterModal:e.shouldCenterModal,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition},i)}})(),e.trackingContextName,e.trackingProperties,e.trackingEnabled)}}L.displayName="RcsFrame"},56217:(e,r,n)=>{"use strict";n.d(r,{nF:()=>T,sS:()=>w});var i=n(11855),a=n(88507),o=n(35283),s=n(98977),l=n(86640),d=n(46689),c=n(30949),u=n(39863),p=n(43632),h=n(66387),m=n(9840),g=n(70516),f=n(62275),_=n(37870),y=n(36894),E=n(55157);let b="manifest-commit-sha-override",v="commit-sha",S="additional-ffs";function I(){(0,l.UG)().delete(b,{includeDotDomainPrefix:!0});let e=new URLSearchParams(s.Ay.location.search);(e.has(v)||e.has(S))&&(e.delete(v),e.delete(S),s.Ay.replace(`${s.Ay.location.pathname}?${e.toString()}${s.Ay.location.hash}`,s.Ay.location.state)),s.Ay.reload("Cleared manifest commit SHA override cookie")}function T({desiredCommitSha:e,blockedReason:r}){let n=(0,a.wA)(),p=function(){let e=(0,l.UG)().get(b);return null!=e&&"object"==typeof e&&e.feature_flags&&e.sha?e:null}(),h=e=>{if(!p)return null;let{sha:r,feature_flags:n}=p,i=!n[e],a={...n,[e]:i.toString()},o=Object.keys(a).map(e=>`${e}=${a[e]}`).join(","),l=new URL(s.Ay.location.href);l.searchParams.set(S,o),l.searchParams.set(v,r),s.Ay.replace(l.toString(),s.Ay.location.state),s.Ay.reload(`Changing feature flag override ${e} to ${i}`)};return i.createElement("div",{className:E.zr},i.createElement("p",null,(()=>{switch(r){case"feature_flag_off":return i.createElement(u.Tx,{id:"frontend_sha_override_indicator.blocked_flag"});case"not_test_account":return i.createElement(u.Tx,{id:"frontend_sha_override_indicator.blocked_user"});case"invalid_commit_sha":return i.createElement(u.Tx,{id:"frontend_sha_override_indicator.blocked_commit"});default:if(void 0!==r)return i.createElement(u.Tx,{id:"frontend_sha_override_indicator.blocked_unknown",blockedReason:r});return(0,o.j)(r),i.createElement(u.Tx,{id:"frontend_sha_override_indicator.description"})}})()),i.createElement("button",{onClick:()=>{n(g.lW({stringToCopy:e||""}))},className:c.cx.bgTransparent.$},i.createElement("p",{className:E.hW},e)),i.createElement("div",{className:E.me}),p&&i.createElement(i.Fragment,null,i.createElement("span",{className:E.q2},"Feature Flag Overrides"),i.createElement("ul",{className:E.XY},Object.entries(p.feature_flags).map(([e,r])=>i.createElement("li",{className:E.Lt,key:e},i.createElement("span",{className:E.MT},e,":"),i.createElement("input",{className:E.yR,type:"checkbox",checked:!!r,onChange:()=>{h(e)},onMouseDown:()=>{h(e)}})))),i.createElement("div",{className:E.me})),i.createElement(d.$$,{className:E.x6,onMouseDown:I},i.createElement(u.Tx,{id:"frontend_sha_override_indicator.return_to_latest"})))}let w=(0,_.Ju)(function(){let e=(0,a.wA)(),[r,n]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),d=e=>/^[a-f0-9]{40}$/.test(e),g=()=>{if(!d(r)){l("Invalid SHA. Please enter a valid 40-character SHA.");return}!function(e){let r=new URLSearchParams(s.Ay.location.search);r.set(v,e),s.Ay.replace(`${s.Ay.location.pathname}?${r.toString()}${s.Ay.location.hash}`,s.Ay.location.state),s.Ay.reload("Reload with new commit SHA")}(r)};return i.createElement(y.XV,{title:(0,u.t)("help_widget.menu.set_commit_sha"),onClose:()=>{e(f.Ce())}},i.createElement("div",{className:c.cx.p16.$,"data-testid":"set-commit-sha-modal"},o&&i.createElement("div",{className:c.cx.mb8.$},i.createElement(m.E,{color:"danger"},o)),i.createElement("input",{type:"text",value:r,className:c.cx.wFull.borderBox.b1.bRadius2.p8.colorBorder.mb8.$,onChange:e=>n(e.target.value),placeholder:"commit-sha",onKeyDown:e=>{"Enter"===e.key&&g()},autoFocus:!0,"data-testid":"set-commit-sha-input"}),i.createElement(p.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(h.$,{variant:"primary",onClick:g,dataTestId:"set-commit-sha-button"},(0,u.t)("frontend_sha_override_indicator.reload")))))},"SetCommitSHAModal")},1186:(e,r,n)=>{"use strict";let i,a;n.d(r,{En:()=>to});var o=n(11855),s=n(88507),l=n(29019),d=n.n(l),c=n(84934),u=(n(35283),n(11617),n(91408)),p=n(98977),h=n(66712),m=n(98750),g=n(96328);n(54322),n(72206),n(44525);var f=n(46689),_=n(17609),y=n(24897),E=n(30949),b=n(39863),v=n(1114),S=n(1161),I=n(83990),T=n(20647);n(56390);var w=n(52800);n(26911),n(57630);var C=n(21487),A=(n(39671),(i=A||{})[i.GENERIC=0]="GENERIC",i[i.FIGMA_FILE=1]="FIGMA_FILE",i[i.FIGMA_PROTOTYPE=2]="FIGMA_PROTOTYPE",i[i.PAGE=3]="PAGE",i[i.FRAME=4]="FRAME",i[i.MAILTO=5]="MAILTO",i[i.INVALID=6]="INVALID",i[i.MISSING=7]="MISSING",i[i.NOT_LOADED=8]="NOT_LOADED",i[i.TEL=9]="TEL",i[i.FIGMA_VERSION=10]="FIGMA_VERSION",i),N=(n(73454),n(98606)),O=n(79145),R=(n(58867),n(39683)),P=n(20063),L=n(22739),D=n(35682),M=n(60178),k=n(84968);n(81912);var x=n(38269),F=n(57766),U=n(91205),B=n(20425),V=n(27347);U.M4.Query({fetch:async e=>{var r;return e?!!(null==(r=(await B.L.getFileCanRequestEdit({fileKey:e})).data.meta)?void 0:r.can_request_edit):null},key:"fileCanRequestEdit"});var H=n(14053),G=n(40951),W=n(42624),z=n(98845),K=n.n(z),j=n(9840),Y=n(62275),$=n(20113),q=n(37870),Z=n(36894);let X="cost_breakdown--currency--ogNfD",J=(e,r,n,i)=>{var a,o,s,l,d,c;let u=e.invoice,p=r.getPricesWithOverride(u,e.billingPlan),m=(null==(a=u.license_type_configuration[T.lM.DESIGN])?void 0:a.added_quantity)??0,g=(null==(o=u.license_type_configuration[T.lM.FIGJAM])?void 0:o.added_quantity)??0,f=(null==(s=u.license_type_configuration[T.lM.DEV_MODE])?void 0:s.added_quantity)??0,_={[T.lM.DESIGN]:{addedQuantity:m,monthlyUnitPrice:p[T.lM.DESIGN],amountDueFromInvoice:(null==(l=u.amount_due_breakdown)?void 0:l.design)??0,totalCost:0,i18nHeaderText:(0,b.t)("org.cost_breakdown.design_seats_figma_design_editor.seat_rename",{designSeats:m}),shouldDisplay:!0},[T.lM.DEV_MODE]:{addedQuantity:f,monthlyUnitPrice:p[T.lM.DEV_MODE],amountDueFromInvoice:(null==(d=u.amount_due_breakdown)?void 0:d.dev_mode)??0,totalCost:0,i18nHeaderText:(0,b.t)("org.cost_breakdown.dev_mode_seats",{quantity:f}),shouldDisplay:!!(0,h.kc)().billing_dev_mode_customer_ui},[T.lM.FIGJAM]:{addedQuantity:g,monthlyUnitPrice:p[T.lM.FIGJAM],amountDueFromInvoice:(null==(c=u.amount_due_breakdown)?void 0:c.figjam)??0,totalCost:0,i18nHeaderText:(0,b.t)("org.cost_breakdown.figjam_seats_fig_jam_editor_seats.seat_rename",{figjamSeats:g}),shouldDisplay:!!e.showFigJamCostBreakdown}};return Object.keys(_).forEach(e=>{let r=_[e];r.totalCost=n?r.amountDueFromInvoice:r.monthlyUnitPrice*r.addedQuantity*i}),_};function Q(e){let r=e.invoice,n=new $.vr(r.currency||"usd"),i=((r.num_quarters_in_billing_period||4)+1-r.quarter)*3,a=!!(r.is_stub&&1===r.quarter),s=J(e,n,a,i),l=n.formatMoney(K()(Object.values(s),"totalCost"),{showCents:!1}),d=!a;return o.createElement("div",{className:"cost_breakdown--container--z8xu3"},Object.entries(s).map(([e,n])=>n.shouldDisplay?o.createElement(ee,{key:e,licenseType:e,totalCost:n.totalCost,currency:r.currency,shouldShowCost:!0,shouldShowBreakdown:d,monthlyUnitPrice:n.monthlyUnitPrice,addedQuantity:n.addedQuantity,remainingMonths:i}):null),o.createElement("div",{className:"cost_breakdown--divider--Gkl7I"}),o.createElement("div",{className:"cost_breakdown--total--6X8Ex"},o.createElement("div",null,e.summaryLabel||(0,b.t)("org.cost_breakdown.invoice_subtotal")),o.createElement("div",{className:X,"data-testid":"cost-breakdown-total-cost"},l)))}function ee({licenseType:e,totalCost:r,currency:n,shouldShowBreakdown:i,shouldShowCost:a,remainingMonths:s,addedQuantity:l,monthlyUnitPrice:d}){let c=(0,$.br)(n),u=(()=>{switch(e){case T.lM.DESIGN:return o.createElement(j.E,{i18nId:"org.cost_breakdown.design_seats_figma_design_editor.seat_rename",i18nParams:{designSeats:l}});case T.lM.FIGJAM:return o.createElement(j.E,{i18nId:"org.cost_breakdown.figjam_seats_fig_jam_editor_seats.seat_rename",i18nParams:{figjamSeats:l}});case T.lM.DEV_MODE:return o.createElement(j.E,{i18nId:"org.cost_breakdown.dev_mode_seats",i18nParams:{quantity:l}})}})();return o.createElement("div",{className:E.cx.flex.flexColumn.m16.spacingWide.wAuto.$},o.createElement("div",{className:E.cx.flex.justifyBetween.$},u,a&&o.createElement("span",{className:X},c(r??0,{showCents:!1}))),i&&s&&o.createElement("div",null,o.createElement(j.E,{color:"secondary",i18nId:"org.cost_breakdown.price_x_num_seats_x_remaining_months",i18nParams:{remainingMonthsText:o.createElement(b.Tx,{id:"org.cost_breakdown.remaining_months_remaining_months",remainingMonths:s}),quantity:l,price:c(d,{showCents:!1})}})))}(0,q.Ju)(function(e){var r,n;let i=(0,s.wA)(),a=!(null==(r=e.org)?void 0:r.figjam_disabled_at);return o.createElement(Z.XV,{onClose:()=>i(Y.Ce()),title:e.title,minWidth:341,maxWidth:341},o.createElement(Q,{invoice:e.invoice,summaryLabel:(0,b.t)("org.cost_breakdown.projected_subtotal"),showFigJamCostBreakdown:a,billingPlan:null==(n=e.org)?void 0:n.plan}))},"OrgCostBreakdown");var et=n(80332),er=n(53234),en=n(77664);n(9831);var ei=n(50225),ea=n(88641);let eo="hyperlink_popup--path--UM5d- hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9",es="hyperlink_popup--text--kzWyq hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9",el="hyperlink_popup--clickable--VAzTE",ed="hyperlink_popup--divider--NSUKF",ec="hyperlink_popup--edit--Q80cZ";var eu=n(26744),ep=n(77752),eh=n(30602),em=n(14603),eg=n(43091),ef=n(50057),e_=n(3878),ey=n(67875);function eE(e){let r,n;let i=(0,s.wA)(),a=r=>{i((0,en.RK)({rawInput:e.urlString,event:r})),e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup()},l=r=>{e.data.type===A.MAILTO||e.data.type===A.TEL?(0,ea.UA)(i,e.data.url.pathname,"HyperlinkPopup"):console.error("We don't yet enable copy for other hyperlinks"),e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup(),r.stopPropagation()},d=r=>{e.data.type===A.MAILTO||e.data.type===A.TEL?l(r):a(r)},{data:u}=e;switch(u.type){case A.GENERIC:case A.FIGMA_FILE:case A.FIGMA_PROTOTYPE:case A.FIGMA_VERSION:let p=u.url.host.replace(/http(s)?(:)?(\/\/)?|(\/\/)?(www\.)?/,""),h=u.url.pathname+u.url.search+u.url.hash,m=h.split(/\//),g="file"===m[1]||"proto"===m[1];switch(u.type){case A.GENERIC:n=eg.A;break;case A.FIGMA_FILE:case A.FIGMA_VERSION:n=g?ep.A:eg.A;break;case A.FIGMA_PROTOTYPE:n=e_.A}if((0,C.F)(u.url.host)&&g&&m[2]&&m[3]){let e=decodeURI(u.url.pathname.split(/\//)[3]).replace(/-/g," ");r=o.createElement("div",{className:es},e)}else r=o.createElement(o.Fragment,null,o.createElement("div",{className:"hyperlink_popup--domain--k0xkl hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9"},p),h&&"/"!==h&&o.createElement("div",{className:eo},h));break;case A.PAGE:n=eh.A,r=o.createElement("div",{className:es},u.text);break;case A.FRAME:n=em.A,r=o.createElement(o.Fragment,null,o.createElement("div",{className:es},u.text),u.secondaryText&&o.createElement("div",{className:"hyperlink_popup--secondaryText--bLzWO hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9"},o.createElement(y.B,{className:"hyperlink_popup--pageSeparator--SAx-p",svg:eu.A}),u.secondaryText));break;case A.INVALID:n=eg.A,r=o.createElement("div",{className:es},o.createElement(b.Tx,{id:"hyperlink.invalid_link",link:u.urlString}));break;case A.MISSING:case A.NOT_LOADED:n=eg.A,r=o.createElement("div",{className:es},u.text);break;case A.MAILTO:r=o.createElement("div",{className:eo},u.url.pathname),n=ef.A;break;case A.TEL:n=ey.A,r=o.createElement("div",{className:eo},u.url.pathname)}let f=e.canEdit,_=e.canEdit&&(u.type===A.GENERIC||u.type===A.FIGMA_FILE||u.type===A.FIGMA_VERSION||u.type===A.FIGMA_PROTOTYPE),E=function(){switch(e.data.type){case A.GENERIC:case A.FIGMA_FILE:case A.FIGMA_PROTOTYPE:return(0,b.t)("hyperlink.prefix.open");case A.FIGMA_VERSION:return(0,b.t)("hyperlink.prefix.open_past_version");case A.PAGE:case A.FRAME:return(0,b.t)("hyperlink.prefix.go_to");case A.MAILTO:case A.TEL:return(0,b.t)("hyperlink.prefix.email");case A.INVALID:case A.MISSING:case A.NOT_LOADED:return null}}(),v=(()=>{switch(e.data.type){case A.MAILTO:return(0,b.t)("hyperlink.send_mail");case A.TEL:return(0,b.t)("hyperlink.call_telephone");default:return null}})();return o.createElement("div",{role:"none",className:"hyperlink_popup--popup--fByJA _overlayBase--_overlayBase--Rkj8l",onMouseEnter:()=>{e.onMouseEnter&&e.onMouseEnter()}},o.createElement(L.GG,{type:"button",className:el,onAuxClick:d,onMouseDown:d,recordingKey:e.recordingKey},o.createElement(y.B,{className:"hyperlink_popup--icon--7YW8G",svg:n}),E?o.createElement("span",{className:"hyperlink_popup--inlineText--U1QY9"},E," "):null,r),v&&"whiteboard"!==e.editorType&&o.createElement(o.Fragment,null,o.createElement("div",{className:ed}),o.createElement(L.GG,{type:"button",className:`hyperlink_popup--open--EsmHi ${el}`,onAuxClick:a,onMouseDown:a,recordingKey:er.Pt(e,"secondaryButton")},v)),f&&o.createElement(o.Fragment,null,o.createElement("div",{className:ed}),o.createElement(L.GG,{type:"button",recordingKey:er.Pt(e,"editHyperlinkPopup"),className:ec,onMouseDown:r=>{e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup(),e.showHyperlinkEditor(),(0,c.sx)("Show Hyperlink Editor",{source:"HyperlinkPopup"}),r.stopPropagation()}},o.createElement(b.Tx,{id:"hyperlink.edit"}))),_&&"whiteboard"===e.editorType&&o.createElement(o.Fragment,null,o.createElement("div",{className:ed}),o.createElement(L.D8,{dataTestId:"hyperlink.preview",role:"button",recordingKey:er.Pt(e,"unfurlHyperlinkPopup"),className:ec,onMouseDown:r=>{(e.data.type===A.GENERIC||e.data.type===A.FIGMA_FILE||e.data.type===A.FIGMA_PROTOTYPE||e.data.type===A.FIGMA_VERSION)&&e.getLinkMetadata&&i(e.getLinkMetadata({clipboardText:e.data.url.toString(),url:e.data.url.toString(),isTextIframe:!1,entrypoint:ei.WJ.MODAL}))}},o.createElement(b.Tx,{id:"hyperlink.create_preview"}))))}var eb=n(47968);function ev({tooltipKey:e}){if(!eb.TT.includes(e))return null;let{assetUrl:r,assetBgColor:n}=eb.oo[e];return o.createElement("div",{style:{position:"relative",width:"224px"}},o.createElement("div",{style:{width:"100%",height:"136px",zIndex:-2,backgroundColor:n}}),o.createElement("video",{src:r,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:E.cx.maxWFull.$,style:{position:"absolute",top:0,left:0},role:"img"}))}n(47899);var eS=n(31828),eI=(n(9798),n(63042)),eT=n(37324);n(99737);var ew=n(67249),eC=n(76621),eA=n(68389),eN=n(84336),eO=n(97551),eR=n(20741),eP=n(55328),eL=n(47807);let eD=new class{constructor(){this.CommunityShelvesSchemaValidator=(0,eL.vh)(),this.getCommunityShelfById=e=>this.CommunityShelvesSchemaValidator.validate(async({xr:r})=>await r.get(`/api/community_shelves/id/${e.categoryId}`))}getCommunityShelves(e){let r=(null==e?void 0:e.urlSlug)?`/${e.urlSlug}`:"";return this.CommunityShelvesSchemaValidator.validate(async({xr:n})=>await n.get(`/api/community_shelves${r}`,eL.td.toAPIParameters(e||{})))}};var eM=n(80820);let ek=(0,ew.N)("COMMUNITY_SET_SHELVES_FOR_SHELF_TYPE"),ex=(0,eM.T8)("COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE",(e,{shelfType:r,limit:n},{loadingKey:i})=>{let a={shelfType:r,limitShelfContent:n},o=eD.getCommunityShelves(a);(0,eR.N)(o,e,i),o.then(({data:n})=>{let i=n.meta;i.forEach(r=>eF(e.dispatch,r.shelf_content)),e.dispatch(ek({shelfType:r,shelves:i}))}).catch(e=>{(0,eC.x1)("collections","error fetching collections",{...a,error:e.toString()})})},({shelfType:e,limit:r})=>`COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_${e}_${r}`);function eF(e,r){let n=[],i=[],a=[];r.forEach(e=>{let r=(0,eO.x1)(e);r===eP.Ug.HUB_FILE?n.push(e):r===eP.Ug.PLUGIN?i.push(e):r===eP.Ug.WIDGET&&a.push(e)}),e((0,eA.Sb)({hubFiles:n,src:"fetchShelvesForShelfType"})),e((0,eN.Qi)({publishedPlugins:[...i,...a],src:"fetchShelvesForShelfType"}))}(0,eM.T8)("COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_AND_FILTER_LABEL",(e,{shelfType:r,filterLabel:n,limit:i},{loadingKey:a})=>{let o=eD.getCommunityShelves({shelfType:r,filterLabel:n,limitShelfContent:i});(0,eR.N)(o,e,a),o.then(({data:n})=>{let i=n.meta;i.forEach(r=>eF(e.dispatch,r.shelf_content)),e.dispatch(ek({shelfType:r,shelves:i}))})},({shelfType:e,filterLabel:r,limit:n})=>`COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_AND_FILTER_LABEL_${e}_${r}_${n}`),n(79453);var eU=n(36599),eB=n(45941),eV=n(27557),eH=n(31472),eG=n(78527),eW=n(76158);function ez(e){let r=(0,s.wA)();return n=>{n.stopPropagation();let i=(null==e?void 0:e.type)||eW.s.PLUGIN;(0,eV.s)({initialX:0,initialY:0,initialFdResourceTab:i,pinned:eH.t.NOT_PINNED,fdPreviewResource:e}),r(S.jD())}}function eK(e){let r=(0,eT.qD)(e.resource),n=ez({id:e.resource.id,type:(0,eP.xQ)(e.resource)?eW.s.WIDGET:eW.s.PLUGIN});return o.createElement("div",{className:"inserts_nux_tooltip--resourceTile--zPeu-",role:"button",tabIndex:-1,onClick:n},o.createElement(eG.V,{alt:r.name,plugin:{...r,redirect_icon_url:r.redirect_snapshot_url||r.redirect_icon_url},className:"inserts_nux_tooltip--thumbnail--nUWpp"}),o.createElement("div",null,o.createElement("div",{className:"inserts_nux_tooltip--resourceName--gM7QH inserts_nux_tooltip--_resourceText--YKhIU ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},r.name),o.createElement("div",{className:"inserts_nux_tooltip--resourceDescription--4oKW0 inserts_nux_tooltip--_resourceText--YKhIU ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},(0,eB.G8)(r,eI.$J))))}n(94687);var ej=n(72517),eY=n(1951);n(56217);var e$=n(17333),eq=n(60601),eZ=n(38741),eX=n(75515);n(58145);var eJ=n(63706),eQ=n(38580);(0,eQ.eU)(!1),(0,eQ.eU)(!1),(0,eQ.eU)(!1);var e0=n(30637),e1=n(92592);n(93017),n(24266),n(60289);var e2=n(49793),e3=n(11978);(0,e0.nl)();var e5=((a=e5||{}).INITIAL="initial",a.NEXT="next",a);function e4(){var e;return!((0,eJ.o4)()&&(0,eJ.Q1)()&&!(0,eJ.wg)()||(null==(e=e2.z4)?void 0:e.getIsExtension()))}(0,eM.nF)((e,r)=>{let n=e.getState().multiplayer.allUsers.find(e=>e.sessionID===r.presenterSessionID),i=(null==n?void 0:n.name)??"",a=n?(0,b.t)("collaboration.spotlight.visual_bell.user_left_the_spotlight",{userName:i}):(0,b.t)("collaboration.spotlight.visual_bell.the_presenter_left_the_spotlight");e.dispatch(e1.F.enqueue({message:a,type:"presentation_stopped_alert"}))}),(0,eM.nF)((e,r)=>{e.dispatch(e1.F.dequeue({matchType:"presentation_stopped_alert"}))});var e6=n(78933);let e8="view_user_profile_tooltip--handle--RzZyC",e7="view_user_profile_tooltip--userHandleAndLink--b3O-1 tooltip--column--zo-M5",e9="view_user_profile_tooltip--line--BVW2y",te="view_user_profile_tooltip--presenterNominationButton--QDoWg";function tt(e){return o.createElement("div",{className:"view_user_profile_tooltip--buttonTooltip--3zD5N view_user_profile_tooltip--base--SgkjR tooltip--column--zo-M5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},o.createElement("span",{className:e8,dir:"auto"},e.userHandle),o.createElement("div",{className:e9}),o.createElement(f.$$,{onMouseDown:e.actionCallback},e.actionText))}function tr(e){return o.createElement("a",{onMouseDown:e.actionCallback,rel:"noopener",className:d()(e7,"view_user_profile_tooltip--linkTooltip--ji1Xn view_user_profile_tooltip--base--SgkjR tooltip--column--zo-M5 text--fontPos11--2LvXf text--_fontBase--QdLsd")},o.createElement("span",{className:e8,dir:"auto"},e.userHandle),e.actionText)}function tn(e){let r=(0,s.wA)(),{buttonCallback:n,linkCallback:i}=e,a=o.useCallback(e=>{i(e),r(S.jD())},[i,r]),l=o.useCallback(e=>{n&&(n(e),r(S.jD()))},[n,r]),d=o.createElement("a",{onMouseDown:a,rel:"noopener",className:e7},o.createElement("span",{className:e8,dir:"auto"},e.userHandle),e.linkText);return o.createElement("div",{className:"view_user_profile_tooltip--linkAndButtonTooltip--WoLIu view_user_profile_tooltip--base--SgkjR tooltip--column--zo-M5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},d,o.createElement("div",{className:e9}),o.createElement("div",null,"primary"===e.buttonVariant&&o.createElement(f.$$,{onMouseDown:l,className:te},e.buttonText),"secondary"===e.buttonVariant&&o.createElement(f.C3,{onMouseDown:l,customClassName:te,disabled:!e.buttonCallback},e.buttonText)))}let ti={"edit-name":function(e){let r=(0,s.wA)();return o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"avatar.tooltip.edit_name"}),actionCallback:e=>{e.stopPropagation(),e.preventDefault(),r(x.j7({type:"multiplayer-nickname-dropdown"}))},userHandle:e.userHandle})},"start-observe":function(e){let r=(0,s.wA)(),n=e4(),i=n=>{n.stopPropagation(),null!=e.userSessionID&&(w.h3O.observeUser(e.userSessionID),r(eS.b({aware_of_observation_mode:!0})))};return n?o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.click_to_follow"}),actionCallback:i,userHandle:e.userHandle}):o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.legacy.click_to_observe_user"}),actionCallback:i,userHandle:e.userHandle})},"stop-observe":function(e){let r=e4(),n=e=>{e.stopPropagation(),w.h3O.observeUser(-1)};return r?o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.click_to_unfollow"}),actionCallback:n,userHandle:e.userHandle}):o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.legacy.click_to_stop_observing_user"}),actionCallback:n,userHandle:e.userHandle})},"view-profile":function(e){let r=(0,m.Gc)(r=>{r.stopPropagation(),p.Ay.redirect(e.profileUrl,e$.eD?void 0:"_blank")});return o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"avatar.tooltip.view_profile"}),actionCallback:r,userHandle:e.userHandle})},"start-presenting":function(e){let r=(0,e6.T)(),n=(0,e3.z3)();return o.createElement(tt,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.spotlight_me"}),actionCallback:e=>{var i;e.stopPropagation(),e.preventDefault(),r(e6.N.START),"prototype"===n?null==(i=(0,eX.hk)())||i.startPresenting():w.h3O.startPresenting()},userHandle:e.userHandle})},"stop-presenting":function(e){return o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.stop_presenting"}),actionCallback:e=>{e.stopPropagation(),e.preventDefault(),w.h3O.stopPresenting()},userHandle:e.userHandle})},"follow-presenter":function(e){let r=(0,s.wA)();return o.createElement(tr,{actionText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.click_to_follow"}),actionCallback:n=>{n.stopPropagation(),null!=e.userSessionID&&(w.h3O.observeUser(e.userSessionID),r(eS.b({aware_of_observation_mode:!0})))},userHandle:o.createElement(b.Tx,{id:"avatar.tooltip.spotlight_user_handle",handle:e.userHandle})})},"nominate-presenter":function(e){let r=(0,s.d4)(e=>e.multiplayer),n=r&&r.sessionNominatedByCurrentUser===e.userSessionID,i=(0,eZ.tu)(),a=o.useCallback(()=>{i(e.userSessionID,r)},[i,e.userSessionID,r]),l=(0,eZ.oJ)(),d=o.useCallback(()=>{null!=e.userSessionID&&l(e.userSessionID,r)},[e.userSessionID,l,r]),c=(0,m.Gc)(r=>{r.stopPropagation(),p.Ay.redirect(e.profileUrl,e$.eD?void 0:"_blank")});return n?o.createElement(tn,{linkText:o.createElement(b.Tx,{id:"avatar.tooltip.view_profile"}),linkCallback:c,buttonText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.cancel_ask_to_spotlight"}),buttonCallback:d,buttonVariant:"secondary",userHandle:e.userHandle}):o.createElement(tn,{linkText:o.createElement(b.Tx,{id:"avatar.tooltip.view_profile"}),linkCallback:c,buttonText:o.createElement(b.Tx,{id:"collaboration.spotlight.tooltip.ask_to_spotlight"}),buttonCallback:a,buttonVariant:"primary",userHandle:e.userHandle})},none:function(e){return o.createElement(tr,{actionText:null,actionCallback:eq.lQ,userHandle:e.userHandle})}};var ta=n(60168);function to(e){let r=e["data-tooltip-type"],n=e["data-tooltip"];switch(r){case N.Ib.TEXT:return n;case N.Ib.LOOKUP:return(0,I.A)(n)}return""}n(77499),n(97051),n(91041),n(3965),n(20450),n(55136),(0,u.hG)(ta.Yub),(0,u.hG)(ta.CE4),(0,u.hG)(ta.Yoj),N.Ib.LOOKUP,N.Ib.TEXT,N.Ib.SPECIAL,(0,u.jz)(ta.LdP)},25767:(e,r,n)=>{"use strict";n.d(r,{J:()=>o});var i=n(37870);let a=n(96700).A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,66999)).then(e=>e.FileMoveModalComponent),(0,i.Ij)("containing_assets_panel--componentName--Lwkmx")),o=(0,i.Ju)(a)},60778:(e,r,n)=>{"use strict";n.d(r,{t:()=>o});var i=n(37870);let a=n(96700).A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,61909)).then(e=>e.MoveDraftToProjectInterstitialModal),(0,i.Ij)("MoveDraftToProjectInterstitialModal")),o=(0,i.Ju)(a)},1951:(e,r,n)=>{"use strict";let i;n.d(r,{WX:()=>ed,jo:()=>es,p2:()=>em,PE:()=>Q,PP:()=>ea,WO:()=>ep,Hu:()=>er});var a=n(11855),o=n(37870),s=n(96700),l=n(88507),d=n(27586),c=n(24897),u=n(39863),p=n(62275),h=n(28467),m=n(48170),g=n(45213),f=n(58867),_=n(36894),y=n(29019),E=n.n(y),b=n(84934),v=n(92766),S=n(30949),I=n(72517),T=n(98606);let w="entity--sortableField--5Fa-X";class C extends a.PureComponent{render(){let e={...this.props.style},r=this.props.tooltipText?{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":this.props.tooltipText,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}:{},n={"entity--adminTableRow--ma0ao table--row--0QcWJ":this.props.useAdminTableStyles,"entity--adminTableHeader--oRjWQ entity--adminTableRow--ma0ao table--row--0QcWJ":this.props.useAdminTableStyles&&this.props.header,"entity--adminTableSelected--r6srg":this.props.useAdminTableStyles&&this.props.selected,"entity--headerRow--CKqsv entity--row--f8cI9 table--row--0QcWJ":!this.props.useAdminTableStyles&&this.props.header,"entity--row--f8cI9 table--row--0QcWJ":!this.props.useAdminTableStyles&&!this.props.header,"entity--leftPadding--zifHD":this.props.leftPadding};return a.createElement("div",{...r,className:E()(n,this.props.className),onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,style:e,role:"row",tabIndex:0,"data-testid":this.props.dataTestId},this.props.children)}}C.displayName="TableRow",(0,I.tf)(C);class A extends a.PureComponent{render(){return a.createElement(C,{className:`entity--loadingRow--Fi3Pa entity--row--f8cI9 table--row--0QcWJ ${this.props.className||""}`},a.createElement(v.kt,null))}}A.displayName="LoadingRow";class N extends a.PureComponent{render(){return a.createElement("div",{className:`entity--headerCell--YPYHO ${this.props.className||""}`,style:this.props.style||{},onClick:this.props.onClick?this.props.onClick:void 0},this.props.children)}}N.displayName="HeaderCell";class O extends a.PureComponent{constructor(){super(...arguments),this.sortBy=()=>{(0,b.sx)("Sort Changed - SortableField",{isDescending:this.props.isDescending,field:this.props.field}),this.props.sortBy(this.props.field)}}render(){let e=this.props.isDescending?"\u2193":"\u2191";return a.createElement("div",{className:E()(w,S.cx.if(!this.props.rightAligned,S.cx.pr6,S.cx.pl6).$,this.props.className),style:this.props.style?this.props.style:{},onClick:this.sortBy},this.props.rightAligned&&this.props.hasArrow&&a.createElement("div",{style:{paddingRight:"3px"}},e),this.props.children,!this.props.rightAligned&&this.props.hasArrow&&a.createElement("div",{style:{paddingLeft:"3px"}},e))}}O.displayName="SortableHeaderCell";class R extends a.PureComponent{render(){return a.createElement("div",{className:E()(w,this.props.className),style:this.props.style?this.props.style:{}},this.props.children)}}R.displayName="NonSortableHeaderCell";var P=n(35283),L=n(33537),D=n(208),M=n(46689),k=n(92592),x=n(88022),F=n(43067),U=n(84968);let B="asset_transfer_request_modal--icon--2h-MO",V="asset_transfer_request_modal--inputs--D1FeY",H="asset_transfer_request_modal--inputError--erGOk asset_transfer_request_modal--inputs--D1FeY",G="asset_transfer_request_modal--listItem--yeC5O";var W=n(50147),z=n(47866),K=((i=K||{}).ORG_TEAM_SETTINGS="org_team_settings",i.PRO_TEAM_SETTINGS="pro_team_settings",i.ORG_ADMIN_TEAMS_TABLE="org_admin_teams_table",i.PROJECT_SETTINGS="project_settings",i);function j(e){switch(e){case"org_team_settings":case"pro_team_settings":case"org_admin_teams_table":return!1;case"project_settings":return!0;default:(0,P.xb)(e)}}var Y=n(67063);n(25767),n(60778);let $=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,5885)).then(e=>e.TeamRenameModal),(0,o.Ij)("TeamNameModal"));(0,o.Ju)($);let q=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,83319)).then(e=>e.AddPinModal),(0,o.Ij)("AddPinModal"));(0,o.Ju)(q);let Z=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,83319)).then(e=>e.EditPinModal),(0,o.Ij)("EditPinModal"));(0,o.Ju)(Z);let X=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,83319)).then(e=>e.DeletePinModal),(0,o.Ij)("DeletePinModal"));(0,o.Ju)(X);let J=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,51464)).then(e=>e.TeamPermissionsModal),(0,o.Ij)("TeamPermissionsModal"));(0,o.qK)("team-permissions-modal",J);let Q="leave-team-downgrade-survey",ee=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,575)).then(e=>e.DowngradeSurveyModalAdmin),(0,o.Ij)("DowngradeSurveyModalAdmin")),et=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,575)).then(e=>e.DowngradeSurveyModalLeaveTeam),(0,o.Ij)("DowngradeSurveyModalLeaveTeam"));(0,o.qK)("team-admin-downgrade-survey",e=>a.createElement(ee,{...e})),(0,o.qK)(Q,e=>a.createElement(et,{...e}));let er="team-admin-confirm-downgrade",en=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,51559)).then(e=>e.ConfirmDowngradeModal),(0,o.Ij)("ConfirmDowngradeModal"));(0,o.qK)(er,en);let ei=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,11457)).then(e=>e.MemberEditAccessModal),(0,o.Ij)("MemberEditAccessModal")),ea=(0,o.Ju)(ei,"MemberEditAccessModal");(0,o.Ju)(function(e){var r,n,i,o,s;let y=(0,l.wA)(),E=j(e.entryPoint);if(E&&!e.folder||!E&&!e.team)throw Error(`transferringProject: ${E}, but the project/team was not present`);let b=(null==(r=e.team)?void 0:r.org_id)??(null==(n=e.folder)?void 0:n.org_id),v=(null==(i=e.team)?void 0:i.id)??(null==(o=e.folder)?void 0:o.team_id),S=(0,h.usePermissionsState)(),I=b?S.orgById[b]:null,[T,w]=a.useState();a.useEffect(()=>{if(I){m.Eh.getOrgAdmins({orgId:I.id}).then(({data:e})=>{w(e.meta)});return}g.$.getTeamAdmins({teamId:v}).then(({data:e})=>{w(e.meta)})},[I,v,y]);let A=(null==I?void 0:I.name)??(null==(s=e.team)?void 0:s.name)??(0,u.t)("general.fallback_team_name");return a.createElement(_.XV,{containerClassName:"asset_transfer_admin_list_modal--modal--m-dEL",title:a.createElement(u.Tx,{id:"asset_transfers.editor_admin_list_modal.admins_at_entity",entity:A}),onClose:()=>{y(p.Lo())},minWidth:380,maxWidth:380},a.createElement("div",{className:"asset_transfer_admin_list_modal--modalContent--mtWsn"},a.createElement("div",{className:"asset_transfer_admin_list_modal--warningBanner--J2-j-"},a.createElement("div",{className:"asset_transfer_admin_list_modal--bannerLeft--OldVQ"},a.createElement(c.B,{className:"asset_transfer_admin_list_modal--icon--kjTfP",svg:Y.A}),a.createElement("div",{className:"asset_transfer_admin_list_modal--bannerLeftDetails--hl9pD"},E?a.createElement(u.Tx,{id:"asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"}):a.createElement(u.Tx,{id:"asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization"})))),a.createElement(d.P,{className:"asset_transfer_admin_list_modal--scrollContainer--kDEm-"},a.createElement("div",{className:"asset_transfer_admin_list_modal--contentContainer--uP5SL"},(()=>{if(T){let e=T.map(e=>a.createElement(C,{key:`tableRow${e.id}`,useAdminTableStyles:!0,leftPadding:!0},a.createElement(f.az,{key:e.id,entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1})));return a.createElement("ul",null,e)}})()))))},"AssetTransferAdminListModal");let eo=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,34686)).then(e=>e.ConfirmTeamUserPaidStatusUpdateModal),(0,o.Ij)("ConfirmTeamUserPaidStatusUpdateModal")),es=(0,o.Ju)(eo,"ConfirmTeamUserPaidStatusUpdateModal");(0,o.Ju)(function(e){var r,n,i,o,s;let d;let h=(0,l.wA)(),f=(0,l.Pj)(),y=(0,l.d4)(e=>e.currentUserOrgId),E=(0,l.d4)(e=>y&&e.orgById[y]),b=E&&(null==(r=E.shared_org_license_group_settings)?void 0:r.external_collaboration_controls),[T,w]=a.useState(1),[C,A]=a.useState(""),[N,O]=a.useState(""),[R,P]=a.useState(""),[K,Y]=a.useState(),[$,q]=a.useState(null),[Z,X]=a.useState(null),[J,Q]=a.useState(null),[ee,et]=a.useState(),[er,en]=a.useState(!1),[ei,ea]=a.useState(!1);(s=d||(d={})).URL_FORMAT="url_format",s.SAME_ORG="same_org",s.EMAIL_FORMAT="email_format",s.EMAIL_MATCH="email_match",s.TRANSFER_ALREADY_INITIATED="transfer_already_initiated",s.NETWORK_OR_OTHER_ERROR="network_or_other_error",s.SAME_TEAM="same_team",s.NON_ORG_DEST_TEAM="non_org_dest_team",s.VIEW_OR_INVITE_ONLY_FOLDER="view_or_invite_only_folder";let eo=j(e.entryPoint),es=eo?"project":"team";if(eo&&!e.folder||!eo&&!e.team)throw Error(`transferringProject: ${eo}, but the project/team was not present`);let el=(null==(n=e.team)?void 0:n.id)??(null==(i=e.folder)?void 0:i.team_id),ed=e=>a.createElement("a",{className:"asset_transfer_request_modal--learnMore--96t18 modal--blueLink--9GcJu blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/10250387712407",target:"_blank"},e||a.createElement(u.Tx,{id:"asset_transfers.request_modal.learn_more"})),ec=()=>{h(p.Lo())};a.useEffect(()=>{var r;ee&&((null==(r=e.folder)?void 0:r.id)?(0,x.xr)("Project transfer error",e.folder.id,el,f.getState(),{error:ee}):(0,x._J)("Team transfer error",el,f.getState(),{error:ee}))},[ee,el,f,null==(o=e.folder)?void 0:o.id]);let eu=()=>{switch(ee){case"url_format":return a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.this_link_isn_t_valid"});case"same_org":return eo?a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.you_don_t_need_a_transfer_to_move_projects_within_your_own_organization"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.you_don_t_need_a_transfer_to_move_teams_within_your_own_organization"});case"email_format":return a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.please_use_a_valid_email_format"});case"email_match":return a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.this_email_isn_t_associated_with_the_destination_linked_above",destinationType:e.folder?"team":"organization"});case"same_team":return a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.you_don_t_need_a_transfer_to_move_projects_within_your_own_team"});case"non_org_dest_team":return a.createElement(u.Tx,{id:"asset_transfers.request_modal.errors.this_links_to_a_team_that_isn't_able_to_receive_transfers"})}},ep=er?a.createElement(M.qM,{disabled:!0},a.createElement(v.qc,null)):a.createElement(M.qM,{disabled:2===T&&!(R&&C)||er,onClick:()=>{var r;if(et(null),1===T){w(2);return}if(C&&!(0,L.xf)(C)){et("email_format");return}2===T&&en(!0);let n={transfer_type:es,folder_id:null==(r=e.folder)?void 0:r.id,team_id:el,destination_user_email:C,destination_team_id:Z,destination_org_id:K,message:""===N?null:N};D.Ay.post("/api/asset_transfer/create_request",n).then(()=>{e.onRequestClose(),ec(),h(k.F.enqueue({message:"Transfer request sent"}))},e=>{"Destination user not found"===e.message||"Destination user is not part of the provided destination org"===e.message||"Destination user is not part of the provided destination team"===e.message?(et("email_match"),en(!1)):"This team already has a transfer initiated"===e.message?(et("transfer_already_initiated"),ec(),h(k.F.enqueue({message:"A team transfer was already initiated for this team.",error:!0})),en(!1)):"This project already has a transfer initiated"===e.message?(et("transfer_already_initiated"),ec(),h(k.F.enqueue({message:"A project transfer was already initiated for this team.",error:!0}))):"Folder is invite-only"===e.message||"Folder is view-only"===e.message?(et("view_or_invite_only_folder"),ec(),h(k.F.enqueue({message:"Projects that are view-only or invite-only can't be transferred.",error:!0}))):(et("network_or_other_error"),ec(),h(k.F.enqueue({message:e.message||"Something went wrong - check your connection and try again",error:!0})),en(!1))})}},1===T?a.createElement(u.Tx,{id:"asset_transfers.request_modal.next"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.request_transfer"}));return a.createElement(I.fu,{name:e.folder?"Project Transfer Request Modal":"Team Transfer Request Modal",properties:{folderId:e.folder?e.folder.id:"",teamId:el,entryPoint:e.entryPoint}},a.createElement(_.XV,{containerClassName:"asset_transfer_request_modal--modal--Nikcs",title:a.createElement(u.Tx,{id:"asset_transfers.request_modal.start_this_transfer"}),onClose:ec,minWidth:380,maxWidth:380},a.createElement("div",{className:"asset_transfer_request_modal--modalContent--QQfS6"},a.createElement("div",{className:"asset_transfer_request_modal--warningBanner--ytHQW"},a.createElement("div",{className:"asset_transfer_request_modal--bannerLeft--fpa-e"},a.createElement(c.B,{className:B,svg:z.A}),a.createElement("div",{className:"asset_transfer_request_modal--bannerLeftDetails--MIq8a"},a.createElement(u.Tx,{id:"asset_transfers.request_modal.once_a_transfer_is_accepted_by_an_external_organization_it_can_t_be_undone"})))),a.createElement("div",{className:"asset_transfer_request_modal--contentContainer--HcsMN"},1===T?a.createElement("div",null,a.createElement("p",{className:S.cx.pt24.$},eo?a.createElement(u.Tx,{id:"asset_transfers.request_modal.you_can_transfer_this_project_and_its_content_to_another_organization"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.you_can_transfer_this_team_and_its_content_to_another_organization"})),a.createElement("p",{className:S.cx.pt16.$,style:{fontWeight:600}},a.createElement(u.Tx,{id:"asset_transfers.request_modal.next_steps"})),a.createElement("ul",{className:"asset_transfer_request_modal--list--mifTR"},a.createElement("li",{className:G},a.createElement(u.Tx,{id:"asset_transfers.request_modal.you_ll_need_the_email_address_of_a_contact_person",strongPlan:a.createElement("span",{className:"asset_transfer_request_modal--bold--VdR-T"},a.createElement(u.Tx,{id:"asset_transfers.request_modal.enterprise_or_organization_plan"})),learnMore:ed()})),a.createElement("li",{className:G},e.folder?a.createElement(u.Tx,{id:"asset_transfers.request_modal.ask_your_contact_person_for_a_link_to_a_team_in_their_figma_org",learnMore:ed()}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.ask_your_contact_person_for_a_link_to_their_figma_organization_so_the_team_transfers_to_the_right_place",learnMore:ed()})),a.createElement("li",{className:G},a.createElement(u.Tx,{id:"asset_transfers.request_modal.when_you_send_your_request_the_contact_person_and_their_organization_admins_will_be_notified"})),b?a.createElement("li",{className:G},eo?a.createElement(u.Tx,{id:"asset_transfers.request_modal.once_an_admin_accepts_the_project_will_be_transferred"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.once_an_admin_accepts_the_team_will_be_transferred"})):a.createElement("li",{className:G},eo?a.createElement(u.Tx,{id:"asset_transfers.request_modal.once_an_admin_accepts_the_project_will_be_transferred_some_of_your_members_may_still_have_access_to_the_project",learnMore:ed()}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.once_an_admin_accepts_the_team_will_be_transferred_some_of_your_members_may_still_have_access_to_the_team",learnMore:ed()})),b&&a.createElement("li",{className:G},eo?a.createElement(u.Tx,{id:"asset_transfers.request_modal.ask_the_other_organization_to_invite_back_members_due_to_external_collaboration_controls_for_project"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.ask_the_other_organization_to_invite_back_members_due_to_external_collaboration_controls_for_team"})))):a.createElement("div",null,a.createElement("div",{className:"asset_transfer_request_modal--addLink--aHjCu"},a.createElement("p",{className:S.cx.pt24.$,style:{fontWeight:600}},a.createElement(u.Tx,{id:"asset_transfers.request_modal.add_a_link"})),a.createElement("p",{className:S.cx.pt12.$},a.createElement(u.Tx,{id:"asset_transfers.request_modal.add_link_here_description",destinationType:e.folder?"team":"organization",learnMore:ed(a.createElement(u.Tx,{id:"asset_transfers.request_modal.learn_how_to_find_the_link"}))})),a.createElement(M.ks,{onChange:e=>P(e.currentTarget.value),onBlur:r=>{if(Y(null),q(null),X(null),ea(!1),(0,U.Cl)(R)&&e.folder){et("non_org_dest_team");return}let n=(0,U.HE)(R),i=(0,F.mg)(R);if(e.folder&&!n||!i){et("url_format");return}if(i&&(0,F.nX)(R)===y){et("same_org");return}if(e.folder?n&&i:i){let r=(0,F.nX)(R);if(m.Eh.getOrgName({orgId:r}).then(({data:n})=>{("url_format"===ee||"same_org"===ee)&&et(null),Y(r),r===y||e.folder||(q(n.meta),ea(!0))}),e.folder){let e=(0,U.Eq)(R);g.$.getTeamName({teamId:e}).then(({data:r})=>{("url_format"===ee||"non_org_dest_team"===ee)&&et(null),X(e),e!==el&&(Q(r.meta),ea(!0))})}}},className:"url_format"===ee||"same_org"===ee||"same_team"===ee||"non_org_dest_team"===ee?H:V,value:R,placeholder:(0,u.t)("asset_transfers.request_modal.web_link")}),("url_format"===ee||"same_org"===ee||"same_team"===ee||"non_org_dest_team"===ee)&&a.createElement("span",{className:"asset_transfer_request_modal--urlErrorText--GUuMb"},eu()),ei&&a.createElement("div",{className:"asset_transfer_request_modal--urlValidation--XlxEY"},a.createElement("div",{className:"asset_transfer_request_modal--urlValidationLeft--JYQsQ"},a.createElement(c.B,{className:B,svg:W.A}),a.createElement("div",{className:"asset_transfer_request_modal--urlValidationText--vnsFH"},e.folder?""===J?a.createElement(u.Tx,{id:"asset_transfers.request_modal.team_verified"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.data_meta_verified",assetName:J}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.data_meta_verified",assetName:$}))))),a.createElement("span",{className:S.cx.pt8.$,style:{fontWeight:600}},a.createElement(u.Tx,{id:"asset_transfers.request_modal.who_to_notify"})),a.createElement(M.ks,{onChange:e=>A(e.currentTarget.value),className:"email_format"===ee||"email_match"===ee?H:V,value:C,placeholder:(0,u.t)("asset_transfers.request_modal.email_address")}),("email_format"===ee||"email_match"===ee)&&a.createElement("span",{className:S.cx.colorTextDanger.$}," ",eu()," "),a.createElement(M.ks,{onChange:e=>O(e.currentTarget.value),className:"asset_transfer_request_modal--message--wJMlN",value:N,type:"textarea",placeholder:(0,u.t)("asset_transfers.request_modal.add_a_message_if_you_d_like")}))),a.createElement("div",{className:"asset_transfer_request_modal--buttonBox--iIq2d"},a.createElement("span",{className:"asset_transfer_request_modal--steps--Hupnc"},a.createElement(u.Tx,{id:"asset_transfers.request_modal.step_1_of_2",stepNumber:T})," "),a.createElement(M.tM,{onClick:1===T?ec:()=>{w(1)}},1===T?a.createElement(u.Tx,{id:"asset_transfers.request_modal.cancel"}):a.createElement(u.Tx,{id:"asset_transfers.request_modal.back"})),ep))))},"AssetTransferRequestModal");let el=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,911)).then(e=>e.ConfirmDowngradeEditorsModal),(0,o.Ij)("ConfirmDowngradeEditorsModal")),ed=(0,o.Ju)(el,"ConfirmDowngradeEditorsModal"),ec=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,18067)).then(e=>e.EduUpgradeModal),(0,o.Ij)("EduUpgradeModal"));(0,o.Ju)(ec,"EDU_UPGRADE_MODAL");let eu=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,54128)).then(e=>e.NewFolderModal),(0,o.Ij)("NewFolderModal")),ep=(0,o.Ju)(eu,"NEW_FOLDER_MODAL"),eh=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,36194)).then(e=>e.FolderCreationModal),(0,o.Ij)("FolderCreationModal")),em=(0,o.Ju)(eh,"FOLDER_CREATION_MODAL"),eg=s.A.createLazyComponent(()=>Promise.all([n.e(137),n.e(876),n.e(920),n.e(739),n.e(481),n.e(443),n.e(309),n.e(56),n.e(499),n.e(50),n.e(748)]).then(n.bind(n,89342)).then(e=>e.FolderMoveModal),(0,o.Ij)("FolderMoveModal"));(0,o.Ju)(eg,"FOLDER_MOVE_MODAL",o.ZU.YES)},27347:(e,r,n)=>{"use strict";n.d(r,{h:()=>s});var i=n(62275),a=n(54351),o=n(25767);function s(e,r,n,s,l={},d=!1){let c;e&&(c=r?{type:a.A.REPO,repoId:r.id,repo:r,afterFileMove:s,isMovePageToNewFile:d}:{...l,type:a.A.FILE,fileKey:e.key,file:e,afterFileMove:s,isMovePageToNewFile:d},n(i.to({type:o.J,data:c})))}},94429:(e,r,n)=>{"use strict";n.d(r,{Ll:()=>o,fB:()=>s,yy:()=>a});var i=n(52283);function a(e){let r={};for(let n of function(e){let r=[],n=0;for(;n<e.length&&n+1<e.length;)if(255===e[n]&&226===e[n+1]){let i=e.subarray(n),a=i[2]<<8|i[3],o=i.subarray(4,a+2);r.push(o),n+=a+2}else n++;return r}(e)){let e=function(e){let r=null,n={begin:12,end:13},i={begin:n.end,end:n.end+1},a={begin:i.end,end:e.length};return"ICC_PROFILE\0"===String.fromCharCode.apply(null,[...e.subarray(0,12)])&&a.end<=e.length&&(r={markerSeqNumber:e[n.begin],totalNumberOfMarkers:e[i.begin],iccProfileData:e.subarray(a.begin,a.end)}),r}(n);e&&(r[e.markerSeqNumber]=e)}return function(e){let r=[];for(let[n,i]of Object.entries(e))0===r.length&&(r=Array(i.totalNumberOfMarkers).fill(null)),r[Number(n)-1]=i.iccProfileData;if(!r.every(Boolean))return null;let n=new Uint8Array(r.reduce((e,r)=>e+r.length,0)),i=0;for(let e of r)n.set(e,i),i+=e.length;return n.length?n:null}(r)}function o(e){let r=8,n=0,a=null,o=null,s=new DataView(e.buffer),l=!1;for(;r+12<e.length;){let d=s.getInt32(r);if(d<0){a&&(a=null);break}let c=s.getInt32(r+4);switch(c){case 1229209940:l=!0,a&&(a.copyWithin(n,r,e.length),n+=e.length-r,a=a.subarray(0,n));break;case 1934772034:case 1732332865:case 1665684045:case 1766015824:if(a||(a=new Uint8Array(e),n=r),1766015824===c&&!o)try{o=function(e,r){let n=new DataView(e.buffer,r).getUint32(0),a={min:1,max:79},o=r+4+4,s=function(){let r=null;for(let n=o;n<o+a.max&&n<e.length;++n)if(0===e[n]){r=n;break}if(null===r)throw Error("Couldn't find null separator");if(0!==e[r])throw Error("Null separator is not the null character");return r}(),l=s+1;if(0!==e[l])throw Error("Compression method is not 0 (deflate)");let d=s-o;if(d<a.min||d>a.max)throw Error(`Profile name length of ${d} isn't between ${a.min} bytes and ${a.max} bytes`);let c=l+1;if(8+n+4>e.length-r)throw Error("data is not large enough to contain the entire iCCP chunk");let u=e.subarray(c,c+(n-d-1-1));return(0,i.inflate)(u)}(e,r)}catch(e){}break;default:a&&(a.copyWithin(n,r,r+d+12),n+=d+12)}if(l)break;r+=d+12}return{withoutColorSpace:a||e,iccProfileRawData:o}}function s(e){if(71!==e[0]||73!==e[1]||70!==e[2]||56!==e[3])return!1;let r=!0;function n(n){for(;n<e.length;){let i=e[n++];if(i>0)n+=i;else if(0===i)break;else{r=!1;break}}return n}let i=0,a=10,o=e[a++];for(a+=2,o>>7&&(a+=(1<<(7&o)+1)*3);r&&a<e.length;)switch(e[a++]){case 33:switch(e[a++]){case 255:11!==e[a]||78==e[a+1]&&69==e[a+2]&&84==e[a+3]&&83==e[a+4]&&67==e[a+5]&&65==e[a+6]&&80==e[a+7]&&69==e[a+8]&&50==e[a+9]&&46==e[a+10]&&48==e[a+11]&&3==e[a+12]&&1==e[a+13]&&0==e[a+16]?a+=17:a=n(a+12);break;case 249:a+=6;break;case 254:case 1:a=n(a)}break;case 44:if(++i>1)return!0;a+=8;let r=e[a++];r>>7&&(a+=(1<<(7&r)+1)*3),a=n(a+1);break;case 59:return!1}return!1}},84934:(e,r,n)=>{"use strict";n.d(r,{Pg:()=>L,az:()=>B,pp:()=>U,sx:()=>D,NP:()=>M});var i=n(82286),a=n(97411),o=n(57663),s=n(33011),l=n(17333),d=n(66712),c=n(5464),u=n(76621),p=n(86640),h=n(4783),m=n(30637),g=n(25871);n(29020);var f=n(77230),_=n(26732),y=n(25741),E=n(78227),b=n(10471);let v="figment_web_client_diagnostics";class S{constructor(e){this._FLUSH_INTERVAL_MS=y.h,this._disableTracking=null,this._desktopVisibilityUnsubscribe=null,this._onVisibilityChange=()=>{"hidden"===document.visibilityState&&this._flushBufferWithBeacon()},this._onDesktopVisibilityChange=()=>{this._flushBufferWithBeacon()},this._onPageHide=()=>{this._flushBufferWithBeacon()};let r=d.IX()?"https://staging.figma.com":(0,d.tl)().figma_url;this._figmentApiUrl=`${r}/api/figment-proxy`,document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("pagehide",this._onPageHide),window.addEventListener("beforeunload",this._onPageHide),(0,c.BA)()&&(this._desktopVisibilityUnsubscribe=c.bM.subscribe(this._onDesktopVisibilityChange)),this._namespace=e,this._flushTask=new s.W,this._identifyBuffer=[],this._monitorBuffer=[],this._monitorBufferKib=0,this._retryTrackBuffer=[],this._retryTrackBufferKib=0,this._rateLimiter=new b.V8,this._requestRateLimiter=new b.El,(0,m.Lg)()&&(this._disableTracking=!0)}maybeScheduleFlushTask(){this._flushTask.isScheduled()||this._flushTask.scheduleRepeating(()=>{if(this._identifyBuffer.length>0&&(this._makeRetryableRequest(()=>this._makeRequest({path:"identify",payload:this._identifyBuffer.slice()}),"identity",[]),this._identifyBuffer=[]),this._monitorBuffer.length>0){let e=this._monitorBuffer.slice(),r=this._prepareEventVisualizerPayload(e);this._makeRetryableRequest(()=>this._makeRequest({path:"monitor",payload:e}),"monitor",e,r),this._clearMonitorBuffer()}return this.maybeTrackDiagnostics(!1),!0},this._FLUSH_INTERVAL_MS)}cleanup(){var e;document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("pagehide",this._onPageHide),null==(e=this._desktopVisibilityUnsubscribe)||e.call(this),this._flushTask.reset()}_flushBufferWithBeacon(){return this._identifyBuffer.length>0&&(this._makeRequest({path:"identify",payload:this._identifyBuffer.slice(),options:{sendAsBeacon:!0}}).catch(e=>{this.getOnRequestError(this._identifyBuffer,null)(e)}),this._identifyBuffer=[]),this._monitorBuffer.length>0&&(this._makeRequest({path:"monitor",payload:this._monitorBuffer.slice(),options:{sendAsBeacon:!0}}).catch(e=>{this.getOnRequestError(this._monitorBuffer,null)(e)}),this._clearMonitorBuffer()),this.maybeTrackDiagnostics(!0),!0}maybeTrackDiagnostics(e){(this._retryTrackBuffer.length>=15||this._retryTrackBufferKib>=64)&&(this._makeRequest({path:"monitor",payload:this._retryTrackBuffer,options:{batchRequest:!0,sendAsBeacon:e}}).catch(e=>{this.getOnRequestError(this._retryTrackBuffer,null)(e)}),this._retryTrackBuffer=[],this._retryTrackBufferKib=0);let r=this._rateLimiter.getAndFlushEventsBlocked(),n=this._requestRateLimiter.getAndFlushEventsBlocked();if(Object.keys(r).length>0||Object.keys(n).length>0){let o={batchRequest:!1,sendAsBeacon:e},s={data:{event:v,properties:{fixed_window_events:JSON.stringify(r),request_limited_events:JSON.stringify(n),action:"rate_limited",shadowed_event_limiting:(0,d.kc)().figment_rate_limit_events?"0":"1",shadowed_requests_limiting:"0",...(0,E.X)(),tracking_session_id:(0,g.fF)(),events_namespace:this._namespace},...(0,i.Bk)({anonymousId:(0,a.mw)()||null,userId:(0,a.Yy)()||null,options:o})},figment_metadata:{namespace:"figweb",batched:"0"}};this._makeRequest({path:"monitor",payload:[s],options:o}).catch(e=>{this.getOnRequestError([s],null)(e)})}}static getBufferKib(e){return new TextEncoder().encode(JSON.stringify(e)).length/1024}_addToMonitorBufferOrFlush(e,r){let n=S.getBufferKib([e]);if(n>64){let n=this._prepareEventVisualizerPayload([e]);this._makeRetryableRequest(()=>this._makeRequest({path:"monitor",payload:[e],options:r}),"monitor",[e],n);return}let i=e,a=l.eD&&(0,d.kc)().figment_desktop_batch_holdout&&(null==r?void 0:r.batchRequest)==null&&["Statsig prefetch calls","keyboard_shortcuts","rcs_client_init_time"].includes(e.data.event);a&&(e.data.properties._1is_shadow="true",i={...e,figment_metadata:{namespace:this._namespace+"_shadow"}});let o=a?n+.02734375:n,s=this._monitorBufferKib+o;if(this._monitorBuffer.length>=15||s>64){let e=this._monitorBuffer.slice(),r=this._prepareEventVisualizerPayload(e);this._makeRetryableRequest(()=>this._makeRequest({path:"monitor",payload:e,options:{sendAsBeacon:!1}}),"monitor",e,r),this._clearMonitorBuffer()}if(this._monitorBuffer.push(i),this._monitorBufferKib+=o,a){let n=this._prepareEventVisualizerPayload([e]);this._makeRetryableRequest(()=>this._makeRequest({path:"monitor",payload:[e],options:r}),"monitor",[e],n)}}_clearMonitorBuffer(){this._monitorBuffer=[],this._monitorBufferKib=0}page(){let e={figment_metadata:{namespace:this._namespace},data:{type:"page",properties:(0,i.WE)(),...(0,i.Bk)({anonymousId:(0,a.mw)()||null,userId:(0,a.Yy)()||null})}};this._makeRetryableRequest(()=>this._makeRequest({path:"page",payload:[e]}),"page",[])}identify(e,r){this.maybeScheduleFlushTask();let n={figment_metadata:{namespace:this._namespace},data:{type:"identify",traits:r,...(0,i.Bk)({anonymousId:(0,a.mw)()||null,userId:e})}};this._makeRetryableRequest(()=>this._makeRequest({path:"identify",payload:[n]}),"identity",[])}track(e,r,n){this.maybeScheduleFlushTask();let o=this._rateLimiter.eventTracked(e);if(!o)return;let s=n&&(!1===n.batchRequest||!0===n.sendAsBeacon),d=l.eD&&(null==n?void 0:n.batchRequest)==null&&!(0,c.BA)(),u=!s&&!d,p={data:{event:e,properties:r,...(0,i.Bk)({anonymousId:(0,a.mw)()||null,userId:(0,a.Yy)()||null,options:n})},figment_metadata:{namespace:this._namespace,batched:u?"1":"0",rate_limited:o?void 0:"1"}};if(u)this._addToMonitorBufferOrFlush(p,n);else{let e=this._prepareEventVisualizerPayload([p]);this._makeRetryableRequest(()=>this._makeRequest({path:"monitor",payload:[p],options:n}),"monitor",[p],e)}}setTrackingEnabledForTest(){this._disableTracking=null}isUsingDevAssets(){return!(["prod","staging","gov","gov-staging"].includes((0,d.tl)().cluster_name||"")&&!(0,d.tl)().local_dev_on_cluster)}resetFlushTask(){this._flushTask.reset(),this._flushTask=new s.W}_makeRetryableRequest(e,r,n,i=null){let a=(o,s)=>{e().catch(e=>{o>0?setTimeout(()=>a(o-1,2*s),s+.5*s*Math.random()):this.getOnRequestError(n,i)(e),this._trackRetryEvents(3-o+1,r,n)})};a(3,1e3)}_trackRetryEvents(e,r,n){let o=n.map(e=>"identify"===r?"identity":"page"===r?"page":e.data.event).join(","),s={data:{event:v,properties:{retry_count:e.toString(),action:"retry_attempt",...(0,E.X)(),tracking_session_id:(0,g.fF)(),path:r,retried_events:o,events_namespace:this._namespace},...(0,i.Bk)({anonymousId:(0,a.mw)()||null,userId:(0,a.Yy)()||null,options:{sendAsBeacon:!1}})},figment_metadata:{namespace:"figweb"}},l=S.getBufferKib([s]);this._retryTrackBuffer.push(s),this._retryTrackBufferKib+=l}_prepareEventVisualizerPayload(e){return e.filter(e=>"figweb_shadow"!==e.figment_metadata.namespace&&"figfs_shadow"!==e.figment_metadata.namespace).map(e=>e.data)}_makeRequest({path:e,payload:r,options:n}){var i,a;(0,d.kc)().analytics_log_request_to_console&&r.forEach(e=>{o.k.log("%cevent json: ","font-weight: bold",{text:JSON.stringify(e)})});let s=null;if("monitor"===e&&(0,d.kc)().figment_debugger&&(s=this._prepareEventVisualizerPayload(r),(0,_.N)(s,f.tM.PENDING)),this._disableTracking)return Promise.resolve();if("monitor"===e&&(0,d.kc)().figment_rate_limiting&&!this._requestRateLimiter.requestStarted(r.map(e=>e.data.event)))return d.b5()&&o.k.error("More than 500 figment requests pending"),this._requestRateLimiter.requestComplete(),Promise.resolve();let l={};return(0,d.kc)().internal_only_debug_tools?l={"X-Figma-Debug-Log-To-Datadog":"1","X-Figma-Dev-Passthrough":this.isUsingDevAssets()?"1":"0","X-Figma-Debug-User-ID":String(null==(i=d.tl().user_data)?void 0:i.id),"X-Figma-Debug-User-Email":String(null==(a=d.tl().user_data)?void 0:a.email)}:this.isUsingDevAssets()&&(l={"X-Figma-Dev-Passthrough":"1"}),fetch(`${this._figmentApiUrl}/${e}`,{method:"POST",body:JSON.stringify(r),priority:"low",keepalive:null==n?void 0:n.sendAsBeacon,headers:{"Content-Type":"application/json",...l},credentials:"omit"}).then(this.getOnRequestResponse(s)).catch(()=>{throw Error("Request failed")}).finally(()=>{this._requestRateLimiter.requestComplete()})}getOnRequestResponse(e){return r=>{0===r.status?null===this._disableTracking&&(this._disableTracking=!0,o.k.warn("[Figment] Request failed with status 0, disabling further tracking")):(0,_.N)(e,f.tM.SUCCESS),null===this._disableTracking&&(this._disableTracking=!1)}}getOnRequestError(e,r){return n=>{o.k.error(`[Figment] Http Error: ${n}`),(0,_.N)(r,f.tM.FAILURE),(0,d.kc)().figment_sentry_errors&&!this.isUsingDevAssets()&&(0,u.$D)(h.e.DATA_INFRA,n,{extra:{payload:e}})}}}class I{constructor(e){this._PREFIX="figment:",this._USER_ID_KEY=this._PREFIX+"userId",this._storage=(0,p.TQ)(),this.identifyUser=e=>{if(!this._storage)return;if(!e||!e.id){this.clearAnalyticsStorage();return}let r={email:e.email,name:e.name,username:e.handle||e.name,handle:e.handle,utcOffset:new Date().getTimezoneOffset(),trackTags:e.track_tags,createdAt:e.created_at,locale:e.locale},n=JSON.stringify(r),i=this._PREFIX+"traits:"+e.id;this._storage[i]!==n&&(this._figmentApi.identify(e.id,r),this._storage[this._USER_ID_KEY]=e.id,this._storage[i]=n)},this.resetFlushTask=()=>{this._figmentApi.resetFlushTask()},this.clearAnalyticsStorage=()=>{if(this._storage)for(let e in this._storage[this._USER_ID_KEY]&&delete this._storage[this._USER_ID_KEY],this._storage)e.startsWith(this._PREFIX+"traits:")&&delete this._storage[e]},this._figmentApi=e,this.identifyUser(d.tl().user_data),this._figmentApi.page()}get userId(){return(0,a.Yy)()}get anonymousId(){return(0,a.mw)()}page(){this._figmentApi.page()}track(e,r={},n){this._figmentApi.track(e,r,n)}}class T{get anonymousId(){if((0,a.VQ)())return window.parent[a.RM]}get userId(){}track(e,r={},n={}){window.parent.postMessage({type:"trackEvent",event:e,properties:r,options:{...n,figment:!0,segment:!1}},window.self.origin)}}let w=e=>{var r,n,a;let o=new I(e);if((null==(r=self.window)?void 0:r.self)!==(null==(n=self.window)?void 0:n.top)&&(null==(a=self.window)?void 0:a.location.pathname)==="/login_iframe"){let e=!1;try{e=window.self.origin===window.parent.origin}catch(r){e=!1}if(e)return o=new T,new i.hK(o)}return new i.Pt(new i.hK(o))},C=e=>w(new S(e)),A=C("figweb"),N=C("figfs");var O=n(47506),R=n(79449),P=n(79296);function L(){var e;null==(e=A.clearAnalyticsStorage)||e.call(A)}let D=(0,P.n)((e,r={},n={})=>{x(e,r,n)}),M=(0,P.n)((e,r={},n={})=>{F(e,r,n)}),k="yes"===localStorage.getItem("DEV_LOG_ANALYTICS");window.setDevLogAnalytics=function(e=!0){localStorage.setItem("DEV_LOG_ANALYTICS",e?"yes":"no"),(k=e)?o.k.log("dev logging of analytics is enabled"):o.k.log("dev logging of analytics is disabled")};let x=(0,P.n)((e,r,n)=>{(0,O.YQ)({id:e,properties:r}),((0,d.kc)().analytics_log_to_console||k)&&o.k.log("%ctrack: "+e,"font-weight: bold",function(e){let r={};for(let n in e)e.hasOwnProperty(n)&&e instanceof Object&&(r[n]=JSON.stringify(e[n])),"string"==typeof r[n]&&r[n].length>50&&(r[n]=r[n].slice(0,50)+"...");return{...r,raw:e}}(r),{options:{...n,stack:Error().stack}}),A.track(e,r,n)});function F(e,r,n){(0,O.YQ)({id:e,properties:r}),(0,d.kc)().analytics_log_to_console&&o.k.log("%ctrack: "+e,"font-weight: bold",{properties:r},{options:{...n,stack:Error().stack}}),N.track(e,r,n)}let U=()=>(0,a.mw)(),B=new class{constructor(){this.resetEventDetails=()=>{this.sentEventDetails={}},this.shouldSendDefinedEvent=(e,r)=>{if(r.featureFlag&&!(0,d.kc)()[r.featureFlag])return!1;if(!r.throttle)return!0;let n=r.throttle,i=this.sentEventDetails[e];switch(n.type){case"RATE":if(Math.random()<n.sampleRate)return!0;return!1;case"DOCUMENT":if(!i)return!0;let a=null!=n.throttlePerDocument?n.throttlePerDocument:1;if(i.timesSentThisDocument<a)return!0;return!1;case"MS":if(!i)return!0;let o=null!=n.throttleMS?n.throttleMS:1e3;return Date.now()-i.lastSent>o;default:throw Error("Invalid throttle type provided!")}},this.trackDefinedEvent=(0,P.n)((e,r)=>{let n=(0,R.p)(e);this.shouldSendDefinedEvent(e,n)&&(x(this.getCorrectEventName(e,n),r,this.getEventOptions(n)),this.recordEventSent(e,n))}),this.trackDefinedFullscreenEvent=(e,r)=>{let n=(0,R.p)(e);this.shouldSendDefinedEvent(e,n)&&(F(this.getCorrectEventName(e,n),r,this.getEventOptions(n)),this.recordEventSent(e,n))},this.recordEventSent=(e,r)=>{var n;let i=this.sentEventDetails[e];i?this.sentEventDetails[e]={lastSent:Date.now(),timesSentThisDocument:i.timesSentThisDocument+1}:this.sentEventDetails[e]={lastSent:Date.now(),timesSentThisDocument:1},(null==(n=r.throttle)?void 0:n.type)==="DOCUMENT"&&this.sentDocumentEvents.add(e)},this.getCorrectEventName=(e,r)=>r.legacyName?r.legacyName:e,this.sentEventDetails={},this.sentDocumentEvents=new Set}getEventOptions(e){return{forwardToDatadog:!!e.forwardToDatadog,sendAsBeacon:!!e.sendAsBeacon}}resetDefinedAnalyticsForDocument(){for(let e of this.sentDocumentEvents)delete this.sentEventDetails[e];this.sentDocumentEvents.clear()}}},44780:(e,r,n)=>{"use strict";n.d(r,{Q4:()=>l,Vq:()=>s,rH:()=>a,sn:()=>o});var i=n(38082);let a=new i.t1({bufferSize:400});i.y7.installCallbacks();let o=i.y7.global(),s=new i.Sp;window.FIGMA_appTimer=a,window.FIGMA_opsTimer=o,window.FIGMA_distribution=s;let l=new Set(["react-render","frame","trigger-action","symbol-updater","style-updater","synthesize-all-pending-changes","scene-render","render-tree-generation","fullscreen-handle-event","comments-render","react","update-selection-properties"])},17068:(e,r,n)=>{"use strict";n.d(r,{Bq:()=>function e(r,n=[]){for(let i=0;i<r.length;i++){let a=r[i];Array.isArray(a)?e(a,n):n.push(a)}return n},Ef:()=>d,Jk:()=>s,KQ:()=>h,Kg:()=>o,LN:()=>g,N9:()=>a,QP:()=>u,RP:()=>E,Ul:()=>f,Vs:()=>y,WI:()=>_,k4:()=>c,lu:()=>l,v7:()=>m});var i=n(72174);function a(e,r){-1===e.indexOf(r)&&e.push(r)}function o(e,r){-1===e.indexOf(r)&&e.unshift(r)}function s(e,r){let n=e.indexOf(r);-1!==n&&e.splice(n,1)}function l(e,r){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==r[n])return!1;return!0}function d(e){for(let r=1;r<e.length;r++)if(void 0===e[r]||e[r]!==e[r-1])return!1;return!0}function c(e,r){let n=e.length,i,a;for(;0!==n;)a=Math.floor((r?function(e=Date.now()){return(9301*e+49297)%233280/233280}(r):Math.random())*n),n-=1,i=e[n],e[n]=e[a],e[a]=i;return e}function u(e){return e[Math.floor(Math.random()*e.length)]}let p=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});function h(e,r,n={}){m(e,e=>e[r],n)}function m(e,r,n={},i){let a=e=>{let n=r(e);return n&&n.toLowerCase?n.toLowerCase():""},o=e=>{if(!i)return"";let r=i(e);return r&&r.toLowerCase?r.toLowerCase():""},s=n.isDescending?-1:1;n.useExpensiveNaturalComparison?e.sort((e,r)=>p.compare(a(e),a(r))*s):e.sort((e,r)=>{if(a(e)===a(r)&&i){let i=n.isSecondaryDescending?-1:1;return o(e)<o(r)?-i:i}return a(e)<a(r)?-s:s})}function g(e){return function(e,r,n=!1){return e.sort((e,i)=>{let a=new Date(r(e)).getTime()<new Date(r(i)).getTime()?1:-1;return n?-a:a})}(e,e=>e.created_at)}function f(e,...r){return e.sort((e,n)=>{for(let i of r){let r=i(e,n);if(0!==r)return r}return 0})}function _(e){return e.filter(i.Vq)}function y(e){let r=[...e],n=(0,i.sR)(r.pop(),"input must be non-empty");return[r,n]}function E(e,r){let n=[];for(let i of e){let e=r(i);null!=e&&n.push(e)}return n}},35283:(e,r,n)=>{"use strict";n.d(r,{B1:()=>o,KF:()=>c,j:()=>l,vA:()=>a,wc:()=>d,xb:()=>s});var i=n(72174);function a(e,r=""){if(!e)throw Error(`Assertion failure${r?`: ${r}`:""}`)}function o(e,r){if((0,i.uy)(e))throw Error(r??"Expected value not to be nullish")}function s(e,r){throw Error(r??`Uncaught type ${JSON.stringify(e)}`)}function l(e){}function d(e){throw Error(e)}function c(e,r,...n){}},63142:(e,r,n)=>{"use strict";n.d(r,{D4:()=>o,lF:()=>s,tf:()=>l});let i=new Int32Array(127);for(var a=0;a<127;a++)i[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(a));function o(e){for(var r=0,n=e.length>>>2,a=new Uint8Array(3*n),o=0;r<n<<2;){var s=i[127&e.charCodeAt(r++)],l=i[127&e.charCodeAt(r++)],d=i[127&e.charCodeAt(r++)],c=i[127&e.charCodeAt(r++)];a[o++]=s<<2|l>>>4,d>=0&&(a[o++]=l<<4|d>>>2),c>=0&&(a[o++]=d<<6|c)}return o===a.length?a:a.subarray(0,o)}function s(e){for(var r="",n=e.length,i=0;i<n;i+=1024)r+=String.fromCharCode.apply(String,e.subarray(i,i+1024));return btoa(r)}function l(e){let r=e.length;if((3&r)!=0)return!1;if(0===r)return!0;"="===e[r-1]&&r--,"="===e[r-1]&&r--;for(let n=0;n<r;++n){let r=e.charCodeAt(n);if(r>=127||i[r]<0)return!1}return!0}},11617:(e,r,n)=>{"use strict";n.d(r,{E:()=>S,FJ:()=>v,GZ:()=>I,N7:()=>f,NQ:()=>m,QV:()=>y,R7:()=>w,Up:()=>T,dR:()=>h,jJ:()=>g,mc:()=>E,pK:()=>R,vk:()=>b});var i=n(98977);n(98750),n(63706);var a=n(76621),o=n(4783),s=n(32135),l=n(8902),d=n(35938),c=n(84934),u=n(77909);n(17333);var p=n(66712);function h(e,r){let n,i;try{n=new URL(e,p.Lz),i=new URLSearchParams(n.search)}catch(n){throw(0,a.$D)(o.e.EXPLORE,n,{extra:{...r,url:e}}),n}Object.entries(r).forEach(e=>{let[r,n]=e;i.set(r,n)});let s=i.toString();s&&(n.search=`?${s}`);let l=n.href;return l.startsWith(p.Lz)?l.substr(p.Lz.length):l}function m(e,r,n){let i=new URL(e,p.Lz),a=new URLSearchParams(i.search);a.has(r)||a.set(r,n);let o=a.toString();o&&(i.search=`?${o}`);let s=i.href;return s.startsWith(p.Lz)?s.substr(p.Lz.length):s}function g(e){var r=e.url;if(null!=r){if(r.startsWith("mailto:")){i.Ay.unsafeRedirect(r,e.openInNewWindow?"_blank":"");return}r.startsWith("http://")||r.startsWith("https://")||(r="http://"+r),i.Ay.postRedirect(`/exit?url=${encodeURIComponent(r)}`,e.openInNewWindow?"_blank":"")}}function f(e,r,n,i){return(0,p.kc)().ps_benchmark?e?e!==r:n!==i:e!==r}let _="external-teams";function y(e,r,n,a,o,d,u="file"){let h=E((0,p.kc)().dt_url_improvements?(0,s.jN)({file:{key:e,editorType:d},base:u}):`/${u}/${e}`,r);(0,p.kc)().ps_benchmark?(h=b(h,n,a,o),function(e,r,n,i="file"){(0,c.sx)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:r||n,planType:r?l.O.ORG:l.O.TEAM,urlType:i})}(e,n,a,u)):(h=b(h,n,null,o),function(e,r,n="file"){(0,c.sx)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:r||_,urlType:n})}(e,n,u)),i.Ay.redirect(h)}function E(e,r){return r?m(e,"fuid",r.id):e}function b(e,r,n,i){let a=(0,p.kc)().ps_benchmark,o="";if(a){let i=r||n;i&&(o=m(e,"prev-plan-id",i),o=m(o,"prev-plan-type",r?l.O.ORG:l.O.TEAM))}else o=m(e,"prev-org-id",r||_);return i&&(o=m(o,"prev-selected-view",i.view),o="folder"===i.view?m(o,"prev-folder-id",i.folderId):o,o="recentsAndSharing"===i.view?m(o,"prev-tab",i.tab||d.G.RECENTLY_VIEWED):o),o}function v(e,r,n){return window.open(e,r,n)}function S(e){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}function I(){return self!==top}function T(){try{return self!==top&&self.location.host!==(null==top?void 0:top.location.host)}catch(e){return!0}}let w={},C=document&&document.documentElement;function A(e,r){Object.defineProperty(w,e,{enumerable:!0,configurable:!0,get(){let n=r();return Object.defineProperty(w,e,{enumerable:!0,value:n}),n}})}A("pointerLock",()=>!!(C&&C.requestPointerLock)),A("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),A("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),A("requestFullscreenFunc",()=>C&&(C.requestFullscreen||C.mozRequestFullScreen||C.webkitRequestFullscreen||C.msRequestFullscreen||null)),A("exitFullscreenFunc",()=>{let e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),A("getFullscreenElement",()=>document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null),A("fullscreen",()=>null!=w.requestFullscreenFunc&&null!=w.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled));let N="hidden"===document.visibilityState?Date.now():null,O=new Set;function R(){if(null===N||Date.now()-N<3e4)return Promise.resolve();let{promise:e,resolve:r}=(0,u.v)();return O.add(r),e}document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?N=Date.now():"visible"===document.visibilityState&&(N=null,O.forEach(e=>e()),O.clear())})},27367:(e,r,n)=>{"use strict";let i;n.d(r,{Uv:()=>d,$q:()=>p,UE:()=>c,DA:()=>G,sN:()=>A,YU:()=>O,_W:()=>y,yi:()=>P,AW:()=>C,Bx:()=>R,ql:()=>T,HD:()=>S,ty:()=>I,YR:()=>H,di:()=>v,H0:()=>m,tK:()=>g,mx:()=>f,X9:()=>h,BU:()=>w});var a=n(55887);/** @preserve
/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
/////           Beta 0.1.9 W3 - contrast function only
/////           DIST: W3 - Revision date: July 3, 2022
/////    Function to parse color values and determine Lc contrast
/////    Copyright (c) 2019-2022 by Andrew Somers. All Rights Reserved.
/////    LICENSE: W3 LICENSE
/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
/////    https://github.com/Myndex/SAPC-APCA/
/////
///////////////////////////////////////////////////////////////////////////////
/////
/////    MINIMAL IMPORTS:
/////      import { APCAcontrast, sRGBtoY, displayP3toY,
/////               calcAPCA, fontLookupAPCA } from 'apca-w3';
/////      import { colorParsley } from 'colorparsley';
/////
/////    FORWARD CONTRAST USAGE:
/////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
/////    Where the colors are sent as an rgba array [255,255,255,1]
/////
/////    Retrieving an array of font sizes for the contrast:
/////      fontArray = fontLookupAPCA(Lc);
/////
/////    Live Demonstrator at https://www.myndex.com/APCA/
// */let o={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function s(e=[0,0,0]){function r(e){return Math.pow(e/255,o.mainTRC)}return o.sRco*r(e[0])+o.sGco*r(e[1])+o.sBco*r(e[2])}var l=n(74191);let d={r:0,g:0,b:0,a:1},c={r:1,g:1,b:1,a:1};var u=((i=u||{}).MULTIPLAYER_GRAY="#667799",i.MULTIPLAYER_BLUE="#007BE5",i.MULTIPLAYER_PURPLE="#9747FF",i.MULTIPLAYER_PINK="#FF24BD",i.MULTIPLAYER_RED="#F24822",i.MULTIPLAYER_YELLOW="#FFCD29",i.MULTIPLAYER_GREEN="#14AE5C",i);let p={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(e,r){return{...e,a:r}}function m(e,r){if(!e)return null;if("string"!=typeof e)return e;let n=null!=r,i=r??1;return function(e,r=1){let n=e.match(/color\(\s*display-p3\s*(?<red>[-+]?[0-9]*\.?[0-9]+)\s+(?<green>[-+]?[0-9]*\.?[0-9]+)\s+(?<blue>[-+]?[0-9]*\.?[0-9]+)\s*(?:\/\s*(?<alpha>[-+]?[0-9]*\.?[0-9]+%?))?\s*\)/);if(n&&n.groups&&"red"in n.groups&&"green"in n.groups&&"blue"in n.groups){let{red:e,green:i,blue:a,alpha:o}=n.groups;return{r:parseFloat(e),g:parseFloat(i),b:parseFloat(a),a:o?parseFloat(o):r}}return null}(e,i)??v(e,i)??f(e,i)??g(e,n,i)??null}function g(e,r=!1,n=1){let i=/[^0-9a-f]*([0-9a-f]*)/i.exec(e.trim());if(!i)return null;let a=i[1];if(a.length>=8&&r)return N(M(a.substring(0,2)),M(a.substring(2,4)),M(a.substring(4,6)),M(a.substring(6,8)));if(7===a.length&&r)return N(M(a.substring(0,2)),M(a.substring(2,4)),M(a.substring(4,6)),D(a[6]));if(a.length>=6)return N(M(a.substring(0,2)),M(a.substring(2,4)),M(a.substring(4,6)),n);if(5===a.length&&r)return N(D(a[0]),D(a[1]),D(a[2]),M(a.substring(3,5)));if(4===a.length&&r)return N(D(a[0]),D(a[1]),D(a[2]),D(a[3]));if(a.length>=3)return N(D(a[0]),D(a[1]),D(a[2]),n);if(2===a.length){let e=M(a);return N(e,e,e,n)}else if(1===a.length){let e=D(a);return N(e,e,e,n)}return null}function f(e,r=1){let n;return(n=W.exec(e=e.trim()))?N(x(n[1]),x(n[2]),x(n[3]),null==n[4]?r:U(n[4])):(n=z.exec(e))?N(k(n[1]),k(n[2]),k(n[3]),null==n[4]?r:U(n[4])):(n=K.exec(e))?function(e,r,n,i){if(0===r)return N(n,n,n,i);let a=n<.5?n*(1+r):n+r-n*r,o=2*n-a,s=[0,0,0];for(let r=0;r<3;++r){let n=e+-(1/3*(r-1));n<0&&++n,n>1&&--n,6*n<1?s[r]=o+(a-o)*6*n:2*n<1?s[r]=a:3*n<2?s[r]=o+(a-o)*(2/3-n)*6:s[r]=o}return N(s[0],s[1],s[2],i)}(B(n[1]),x(n[2]),x(n[3]),null==n[4]?r:U(n[4])):(n=j.exec(e))?function(e,r,n,i){let a=(100*e+16)/116,o=r/500+a,s=a-n/200,l=e=>{let r=e**3;return r>_?r:(e-16/116)/7.787};a=l(a);let d=e=>e>.0031308?1.055*e**(1/2.4)-.055:12.92*e,c=d(3.2404542*(o=95.047*l(o)/100)+-1.5371385*a+-.4985314*(s=108.883*l(s)/100)),u=d(-.969266*o+1.8760108*a+.041556*s),p=d(.0556434*o+-.2040259*a+1.0572252*s);return N(V(c),V(u),V(p),i)}(x(n[1]),parseFloat(n[2]),parseFloat(n[3]),null==n[4]?r:U(n[4])):(n=Y.exec(e))?(0,l.I0)({l:F(n[1],.01),c:F(n[2],.004),h:B(n[3]),a:null==n[4]?r:U(n[4])}):(n=$.exec(e))?(0,l.oq)({l:F(n[1],.01),ax:F(n[2],.01),bx:parseFloat(n[3]),a:null==n[4]?r:U(n[4])}):null}let _=(6/29)**3;function y(e,r){return b(E(e),E(r))/.002741735}let E=e=>{let r=1-(1-e.r/255)*e.a,n=1-(1-e.g/255)*e.a,i=1-(1-e.b/255)*e.a,a,o,s;return a=(.4124*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92))/.95047,o=(.2126*r+.7152*n+.0722*i)/1,s=(.0193*r+.1192*n+.9505*i)/1.08883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,{l:116*(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116)-16,a:500*(a-o),b:200*(o-(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116))}},b=(e,r)=>{let n=e.l-r.l,i=e.a-r.a,a=e.b-r.b,o=Math.sqrt(e.a*e.a+e.b*e.b),s=o-Math.sqrt(r.a*r.a+r.b*r.b),l=i*i+a*a-s*s,d=n/1,c=s/(1+.045*o),u=(l=l<0?0:Math.sqrt(l))/(1+.015*o),p=d*d+c*c+u*u;return p<0?0:Math.sqrt(p)};function v(e,r=1){let n=p[e.toLowerCase()];return n?g(n,!1,r):null}function S(e,r=.627){let n=m(e);return!!n&&L(n)<r}function I(e){if(!e)return!0;let r=m(e);return!r||(null==r?void 0:r.a)===0}function T(e,r,n){let i=m(e),a=m(r);if(!i||!a)return;let o=A(i,a),s=L(i),l=L(o);if(n){let e=L(a);return"light"===n&&e>.9||"dark"===n&&e<.25?"inset 0px 0px 0px 2px var(--color-bordertranslucent)":void 0}return s<.2&&l<s+.1?"inset 0px 0px 0px 1px rgba(255, 255, 255, 0.15)":s>.8&&.1>Math.abs(l-s)?"inset 0px 0px 0px 1px rgba(0, 0, 0, 0.1)":void 0}function w(e,r){let n="dark"===r,i=m(e);if(!i||(null==i?void 0:i.a)===0)return!1;let a=L(i),o=function(e){let r=Math.max(e.r,e.g,e.b),n=Math.min(e.r,e.g,e.b),i=r-n;return r===n?0:(r+n)/2<=.5?i/(r+n):i/(2-r-n)}(i);return S(e)&&n?!(o>.5)||a<.427:!S(e)&&!n&&(!(o>.5)||a>.827)}function C(e=[]){function r(e){return null!=e}let n=e.map(e=>{if("SOLID"===e.type)return e.color;let n=(e.stops??[]).map(e=>e.color).filter(r);if(n.length)return A(...n)}).filter(r);return n.length?A(...n):void 0}function A(...e){return e.reduceRight((e,r)=>{let n=r.a,i=e.a,a=n*(1-i),o=a+i,s=a/o,l=i/o;return{r:r.r*s+e.r*l,g:r.g*s+e.g*l,b:r.b*s+e.b*l,a:o}})}function N(e,r,n,i=1){return isNaN(e)||isNaN(r)||isNaN(n)||isNaN(i)?null:{r:e,g:r,b:n,a:i}}function O(e){let{r,g:n,b:i,a}=function({r:e,g:r,b:n,a:i}){return{r:Math.round(255*e),g:Math.round(255*r),b:Math.round(255*n),a:Math.round(255*i)}}(e);return`rgba(${r}, ${n}, ${i}, ${a})`}function R(e){switch(e){case"legacy":return"#e5e5e5";case"light":default:return"#f5f5f5";case"dark":return"#1e1e1e"}}function P(e,r){let n=[255*e.r,255*e.g,255*e.b],i=[255*r.r,255*r.g,255*r.b],a=function(e,r,n=-1){if(isNaN(e)||isNaN(r)||0>Math.min(e,r)||Math.max(e,r)>1.1)return 0;let i=0,a=0,s="BoW";return(e=e>o.blkThrs?e:e+Math.pow(o.blkThrs-e,o.blkClmp),Math.abs((r=r>o.blkThrs?r:r+Math.pow(o.blkThrs-r,o.blkClmp))-e)<o.deltaYmin)?0:(r>e?a=(i=(Math.pow(r,o.normBG)-Math.pow(e,o.normTXT))*o.scaleBoW)<o.loClip?0:i-o.loBoWoffset:(s="WoB",a=(i=(Math.pow(r,o.revBG)-Math.pow(e,o.revTXT))*o.scaleWoB)>-o.loClip?0:i+o.loWoBoffset),n<0)?100*a:0==n?Math.round(100*Math.abs(a))+"<sub>"+s+"</sub>":Number.isInteger(n)?(100*a).toFixed(n):0}(s(n),s(i));if("number"!=typeof a||isNaN(a))throw Error(`APCAcontrast returned an invalid value: ${a}`);return a}function L(e){return .299*e.r+.587*e.g+.114*e.b}function D(e){return M(`${e}${e}`)}function M(e){return V(parseInt(e,16)/255)}function k(e){return V(parseFloat(e)/255)}function x(e){return V(.01*parseFloat(e))}function F(e,r){return e.endsWith("%")?V(parseFloat(e)*r):parseFloat(e)}function U(e){return e?e.includes("%")?x(e):V(parseFloat(e)):1}function B(e){let r=parseFloat(e),n=0;return n=e.includes("grad")?.9*r:e.includes("rad")?180*r/Math.PI:e.includes("turn")?360*r:r,(n=(0,a._g)(n,360))/360}function V(e){return(0,a.qE)(e,0,1)}function H(e){return e&&!isNaN(e.r)&&!isNaN(e.g)&&!isNaN(e.b)&&e.r>=0&&e.r<=1&&e.g>=0&&e.g<=1&&e.b>=0&&e.b<=1}function G(e,r){let{r:n,g:i,b:o,a:s}=e,{r:l,g:d,b:c,a:u}=r;return(0,a.xN)(n,l)&&(0,a.xN)(i,d)&&(0,a.xN)(o,c)&&(0,a.xN)(s,u)}let W=/^(?:rgba?\()?\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,z=/^(?:rgba?\()?\s*([0-9]*\.?[0-9]+)\s*?[, ]\s*([0-9]*\.?[0-9]+)\s*?[, ]\s*([0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,K=/^(?:hsla?\()?\s*([-+]?[0-9]*\.?[0-9]+(?:deg|rad|grad|turn)?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,j=/^(?:lab?\()?\s*([0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,Y=/^(?:oklch?\()\s*([0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+(?:deg|rad|grad|turn)?))?\s*\)?\s*;?$/,$=/^(?:oklab?\()\s*([0-9]*\.?[0-9]+%?)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/},54703:(e,r,n)=>{"use strict";n.d(r,{i:()=>a});let i={"image/png":"89504e47","image/jpeg":"ffd8ff","image/gif":"47494638","image/svg+xml":"3c737667","video/mp4":"66747970","video/webm":"1a45dfa3"};function a(e){for(let[r,n]of Object.entries(i))if(e.slice(0,n.length/2).every((e,r)=>e===parseInt(n.slice(2*r,2*r+2),16)))return r;return null}},41457:(e,r,n)=>{"use strict";let i,a;n.d(r,{oE:()=>o,FQ:()=>s,Z3:()=>g,Oi:()=>h,jO:()=>l});var o=((i=o||{}).ExistingExperience="ExistingExperience",i.HigherPriExperience="HigherPriExperience",i.ExperimentCheckFail="ExperimentCheckFail",i.RuleFail="RuleFail",i.LifecycleCheckFail="LifecycleCheckFail",i),s=((a=s||{}).Overlay="Overlay",a);class l{constructor(e,r,n){this.name=e,this.description=r,this.ruleFn=n}execute(e,r){return this.ruleFn(e,r)}}var d=n(76621),c=n(4783);function u(e){let r=[];return(...n)=>{r.length||setTimeout(()=>{let n=r;r=[],n.forEach(r=>{e(...r)})},0),r.push(n)}}var p=n(48088);class h{constructor(e){this.channels=e,this.batchNumber=0,this.experienceMap=new Map,this.runExperiencesForChannel=u(e=>{(0,p.R)({type:"internal",name:"run_experiences_for_channel",properties:{channelId:e}},"trace");let r=this.channels[e];if(this.batchNumber+=1,(null==r?void 0:r.currentExperience)==null){let n=this.getExperienceForChannel(e);null!=n&&null!=r&&(r.currentExperience=n,n.onShow(this.batchNumber),this.removeBlockedExperiencesForChannel(r,o.HigherPriExperience))}else this.removeBlockedExperiencesForChannel(r,o.ExistingExperience)})}queueExperience(e){let{channelID:r}=e,n=this.channels[r],i=!!(null==n?void 0:n.queuedExperiences.some(r=>r.id===e.id));(0,p.R)({type:"internal",name:"queue_experience",properties:{experienceId:e.id,isAlreadyQueued:i}},"trace"),i||(this.experienceMap.set(e.id,e),null==n||n.queuedExperiences.push(e),this.runExperiencesForChannel(r))}completeExperience(e){var r;let n=this.experienceMap.get(e);if(null==n)return;(0,p.R)({type:"internal",name:"complete_experience",properties:{experienceId:e}},"trace");let i=this.channels[n.channelID];(null==(r=null==i?void 0:i.currentExperience)?void 0:r.id)===e?(i.currentExperience=void 0,this.experienceMap.delete(e),this.runExperiencesForChannel(i.id)):(0,d.$D)(c.e.GROWTH_PLATFORM,Error(`completeExperience called when experience is not current: ${e}`))}dequeueExperience(e){let r=this.experienceMap.get(e);if(null==r)return;(0,p.R)({type:"internal",name:"dequeue_experience",properties:{experienceId:e}},"trace");let n=this.channels[r.channelID];n&&(n.queuedExperiences.some(r=>r.id===e)&&this.experienceMap.delete(e),n.queuedExperiences=n.queuedExperiences.filter(r=>r.id!==e))}getExperienceForChannel(e){(0,p.R)({type:"internal",name:"get_experience_for_channel",properties:{channelId:e}},"trace");let r=this.channels[e];if(null!=r){r.queuedExperiences.sort((e,r)=>r.priority-e.priority);let e=r.queuedExperiences.shift();for(;null!=e;){let n=(function(e){return(r,n)=>{for(let i of e)if(!i.execute(r,n))return{pass:!1,rule:i};return{pass:!0}}})(r.getRules())(r.getContext(),e);if(!n.pass){e.onBlocked({reasonType:o.RuleFail,rule:n.rule}),e=r.queuedExperiences.shift();continue}let i=null;for(let r of e.postChecks)if(i=r())break;if(null==i)break;e.onBlocked(i),e=r.queuedExperiences.shift()}return e}}removeBlockedExperiencesForChannel(e,r){(0,p.R)({type:"internal",name:"remove_blocked_experiences",properties:{channelId:e.id}},"trace");let{currentExperience:n}=e;if(n){let i=[];e.queuedExperiences.forEach(e=>{e.onBlocked({reasonType:r,blocker:n}),e.queueOnBlock?i.push(e):this.experienceMap.delete(e.id)}),e.queuedExperiences=i}}getImmutableChannels(){return JSON.parse(JSON.stringify(this.channels))}}function m(e){return"loading"===e.status}n(57663);class g{constructor(){this.overlayMap=new Map,this.loadMap=new f,this.showQueue=[],this.showOverlay=u((e,r)=>{let n=this.overlayMap.get(e);if(n&&!m(n.queryResult)){let i=n=>{this.debugLog("Showing overlay: ",e),r(n),this.removeOverlay(e,!1)},a=this.loadMap.getMax();a&&n.priority<a.priority?(this.showQueue.push({overlay:n,show:i,startTime:performance.now()}),(0,p.R)({type:"paused",name:"higher_priority_overlay_loading",properties:{overlayId:e,higherPriorityOverlayId:a.id}},"debug")):(i({didNotQueue:!0}),this.drainQueue())}})}updateOverlay(e){this.debugLog("Updating overlay: ",e.id,e.queryResult);let{id:r,queryResult:n}=e;this.overlayMap.set(r,e),!m(n)&&this.loadMap.has(r)?this.loadMap.delete(r):m(n)&&this.loadMap.set(e.id,e)}removeOverlay(e,r=!0){this.debugLog("Removing overlay: ",e),this.overlayMap.delete(e),this.loadMap.delete(e),r&&this.drainQueue()}drainQueue(){this.debugLog("Draining the queued show calls");let e=this.loadMap.getMax(),r=this.showQueue.filter(r=>!e||r.overlay.priority>=e.priority);this.showQueue=this.showQueue.filter(r=>e&&r.overlay.priority<e.priority),r.forEach(e=>{let r=performance.now()-e.startTime;e.show({queueDuration:r}),(0,p.R)({type:"resumed",name:"higher_priority_overlay_loaded",properties:{overlayId:e.overlay.id,queueDurationMs:r}},"debug")})}debugLog(...e){}getImmutableLoadingOverlays(){return JSON.parse(JSON.stringify(Array.from(this.loadMap.items.values())))}getImmutableQueuedOverlays(){return JSON.parse(JSON.stringify(this.showQueue.map(e=>e.overlay)))}}class f{constructor(){this.maxPriItem=null,this.items=new Map}set(e,r){this.items.set(e,r),(null==this.maxPriItem||r.priority>this.maxPriItem.priority)&&(this.maxPriItem=r)}has(e){return this.items.has(e)}delete(e){var r;let n=this.items.delete(e);return n&&(null==(r=this.maxPriItem)?void 0:r.id)===e&&this.updateMaxPriItem(),n}getMax(){return this.maxPriItem}updateMaxPriItem(){let e=null;for(let r of this.items.values())(null==e||r.priority>e.priority)&&(e=r);this.maxPriItem=e}}},7286:(e,r,n)=>{"use strict";n.d(r,{Xf:()=>g});var i,a=n(11855),o=n(58145),s=n(52553),l=n(208),d=n(39863),c=n(6949),u=n(99506),p=n(91205),h=n(56931),m=n(48170);function g(e,r=!0){let n=(0,c.a9)(),l=!!(n&&n.permission===u._D.ADMIN),[p,m]=(0,s.IT)(i.orgBillingDataQuery(e),{enabled:r});(0,h.i)(p,(0,d.t)("org_billing_error_default"));let g=(0,o.Z)(e),f=a.useMemo(()=>g!==e&&!!g,[e,g]),_=(0,o.Z)(l),y=a.useMemo(()=>!1===_&&l&&p.data&&0===Object.keys(p.data).length,[l,p.data,_]),E=a.useMemo(()=>y||f,[y,f]);return(0,a.useEffect)(()=>{"loading"!==p.status&&E&&m.refetch()},[m,E,p.status]),p}(i||(i={})).orgBillingDataQuery=p.M4.Query({fetch:async e=>(await m.Eh.getBillingData({orgId:e})).data.meta,enabled:e=>!!e}),p.M4.Mutation(async(e,{query:r})=>{let{orgId:n,billingContacts:a,onRejected:o}=e,s=await l.Ay.put(`/api/orgs/${n}/billing_data`,{admin_email:a}).catch(e=>{throw o(e),e});r.mutate(i.orgBillingDataQuery(n),e=>{e&&(e.admin_email=s.data.meta.admin_email)})}),p.M4.Mutation(async(e,{query:r})=>{let n=await l.Ay.put(`/api/orgs/${e.orgId}/lock_invoice`,{license_quantities:e.licenseQuantities}),a=i.orgBillingDataQuery(e.orgId);return r.mutate(a,e=>{e&&(e.invoices=n.data.meta.invoices)}),await r.refetch(a),n.data.meta})},1888:(e,r,n)=>{"use strict";n.d(r,{vH:()=>g,rO:()=>m,Sr:()=>f});var i=n(11617),a=n(17333);n(98977);var o=n(66712),s=n(63706),l=n(208);async function d(e,r,n,i){if(s.Ay.blink&&window.WebAssembly||s.Ay.firefox&&+s.Ay.version>=56){let r=`http://127.0.0.1:${e}`,{data:a}=await (0,l.Ay)({method:l.Ay.Methods.GET,url:`${r}${n}`,headers:{"Content-Type":"text/plain"},...i});return{data:a,origin:r}}let a=`https://figmadaemon.com:${r}`,{data:o}=await (0,l.Ay)({method:l.Ay.Methods.GET,url:`${a}${n}`,headers:{"Content-Type":"text/plain"}});return{data:o,origin:a}}async function c(e,r,n,i,a){if(s.Ay.blink&&window.WebAssembly||s.Ay.firefox&&+s.Ay.version>=56){let r=`http://127.0.0.1:${e}`,{data:o}=await (0,l.Ay)({method:l.Ay.Methods.POST,url:`${r}${n}`,headers:{"Content-Type":a},data:i});return{data:o,origin:r}}let o=`https://figmadaemon.com:${r}`,{data:d}=await (0,l.Ay)({method:l.Ay.Methods.POST,url:`${o}${n}`,headers:{"Content-Type":a},data:i});return{data:d,origin:o}}n(29020);let u=(0,o.Ay)().user_data,p=u&&u.id,h=()=>s.Ay.mac&&!s.Ay.isIpad||s.Ay.windows;function m(e,r){return(0,i.Up)()||!h()?Promise.reject():d(44950,44960,`/figma${e}`,r)}function g(e,r,n){return(0,i.GZ)()||!h()?Promise.reject():c(44950,44960,`/figma${e}`,r,n)}async function f(e){var r;if(a.eD)return!1;try{if(p){let n={fuid:p};if(e===location.href){let e=null==(r=(0,o.Ay)().editing_file)?void 0:r.editor_type;e&&(n.editor_type=e)}e=(0,i.dR)(e,n)}let{data:n}=await m(`/desktop/open-url?userID=${p}&url=${encodeURIComponent(e)}`);if("boolean"==typeof n.opened)return n.opened}catch(e){}return!1}},17333:(e,r,n)=>{"use strict";n.d(r,{O_:()=>d,S8:()=>l,eD:()=>s,y3:()=>c});var i=n(23069),a=n(78227);n(63706);var o=n(76621);n(27018);let s=(0,i.rb)(),l=window.bellFeedAPI?window.bellFeedAPI:null;function d(e){return window.bellFeedAPI&&null!=window.bellFeedAPI.version&&window.bellFeedAPI.version>=e?window.bellFeedAPI:null}function c(){return!!s}s&&((0,a.v)({browser_name:"Figma Desktop",desktop_channel:s.beta?"beta":"stable",desktop_version:s.getInformationalVersion(),desktop_client_id:s.getClientID()}),(0,o.XM)("browser",{name:"Desktop",version:s.getInformationalVersion()})),delete window.__figmaDesktop},33537:(e,r,n)=>{"use strict";n.d(r,{N0:()=>l,Ng:()=>y,bs:()=>p,fT:()=>E,iE:()=>f,jm:()=>_,nD:()=>m,qe:()=>g,xf:()=>s,zN:()=>h});var i=n(82118),a=n(66712),o=n(71854);function s(e){return/^[^<>\/\\:?*"|]*$/.test(e)&&/^[\u0000-\u007F]+$/.test(e)&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/i.test(e)}function l(e){let r=[];for(let n of e.split(/[;,\n]/g)){let e=n.match(/^.*<(.*)>$/);e&&(n=e[1]),(n=n.trim())&&r.push(n)}return r}let d=i.C,c={};d.forEach(e=>c[e]=!0);let u=["ge.com"];function p(e){if(e in c||u.includes(e))return null;for(let r of d)if(1===(0,o.A)(e,r))return r;return null}function h(e){return e.toLowerCase().split("@")[1]||null}function m(e){return!!e&&e.endsWith((0,a.tl)().figma_email_suffix)}function g(e){let r=h(e);return!!r&&r in c}function f(e){return"work"===(e.meta?e.meta.email_domain_type:void 0)}function _(e){return!!e&&s(e)&&(e.endsWith("@figma.com")||e.endsWith("@test.figma.com"))}function y(e){return!!e&&e.startsWith("synthetic-tester")&&e.endsWith("@test.figma.com")}function E(e){return"support-share@figma.com"===e}},23762:(e,r,n)=>{"use strict";n.d(r,{Js:()=>s,KJ:()=>l});var i=n(96210);n(66712),n(2067);let a=RegExp("^<iframe[^>]+src\\s*=\\s*(?:(?:\"([^\">]+)\")|(?:'([^'>]+)')).*><\\/iframe>$"),o=RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");function s(e){let r=new URL(e).hostname;return 0===r.indexOf("www.")&&(r=r.slice(4)),r}function l(e){let r=function(e){if(!e.startsWith("<iframe"))return"";let r=i.sanitize(e,{ALLOWED_TAGS:["iframe"],ALLOWED_ATTR:["src"]}),n=a.exec(r);return n&&n.length>1?n[1]:""}(e),n=r||e,s=n.startsWith("http://")||n.startsWith("https://")?n:`https://${n}`;return o.test(s)?{isFromIFrame:!!r,url:s}:null}},31664:(e,r,n)=>{"use strict";function i(e,r){return l(e,r,!0)}function a(e,r){return l(e,r,!1,!0)}function o(e,r){return l(e,r,!1,!1,!0)}n.d(r,{Jj:()=>d,Mm:()=>i,c2:()=>l,cF:()=>a,he:()=>o});let s=new Set(["vectorNetworkBlob","version"]);function l(e,r,n=!1,i=!1,a=!1){if(i&&(e instanceof Array&&0===e.length&&void 0===r||r instanceof Array&&0===r.length&&void 0===e||!e&&!r))return!0;let o=typeof e;if(typeof r!==o)return!1;if("number"===o)return Number.isNaN(e)||Number.isNaN(r)?i:!!n||(i?e-r<.01&&e-r>-.01:e===r);if("object"!==o)return e===r;if(null===e!=(null===r))return!1;if(null===e)return!0;if(e instanceof Array!=r instanceof Array)return!1;if(e instanceof Array)return e.length===r.length&&e.every((e,o)=>l(e,r[o],n,i,a));let d=Object.keys(e),c=Object.keys(r);return a&&(d=d.filter(r=>void 0!==e[r]),c=c.filter(e=>void 0!==r[e])),d.length===c.length&&(i&&(d=d.filter(e=>!s.has(e)),c=c.filter(e=>!s.has(e))),d.sort(),c.sort(),!!d.every((e,r)=>e===c[r])&&d.every(o=>l(e[o],r[o],n,i,a)))}function d(e,r){for(let n of e)if(l(n,r))return!0;return!1}},20188:(e,r,n)=>{"use strict";function i(e){let r=[e.slice(0,512),e.slice(512,1024),e.slice(1024,1536),e.slice(1536,2048),e.slice(2048,2560)];return{raw_stack:r[0],raw_stack2:r[1],raw_stack3:r[2],raw_stack4:r[3],raw_stack5:r[4]}}n.d(r,{I:()=>i,u:()=>o});class a{runInFakeStackC(e){e()}}function o(e){new a().runInFakeStackC(e)}},54630:(e,r,n)=>{"use strict";n.d(r,{b:()=>a});var i=n(3457);class a{constructor(e){this.args=e}get name(){return this.args.name}createLazyComponent(e,r){return(0,i.s_)(this.name,e,r)}}},32284:(e,r,n)=>{"use strict";n.d(r,{Mx:()=>o,RG:()=>u,qO:()=>l});var i=n(52800);let a="opsz";function o(e){let r=[];for(let n=0;n<e.length;n++){let i=e[n];i.variation_instances?r.push(...i.variation_instances.map(e=>u(i,e))):r.push(u(i))}return r}let s=e=>e<=50?1:e<=62.5?2:e<=75?3:e<=87.5?4:e<=100?5:e<=112.5?6:e<=125?7:e<=150?8:9,l=5,d=e=>void 0!==e.postscript_name;function c(e,r){let n=e.find(e=>e.tag===a);if(n){if(!r)return n.value!==n.default;for(let e of r)if(e.axes[a]!==n.default)return!0}return!1}function u(e,r){var n,a;let o;let l=!1;if(d(e)){let n;if(e.variation_axes&&e.variation_instances){let i=e.variation_instances.filter(e=>e.name===(null==r?void 0:r.name)),a=(null==i?void 0:i.length)?i[0].axes:void 0;l=c(n=a?e.variation_axes.map(e=>{let r={...e};return void 0!==a[e.tag]&&(r.value=a[e.tag]),r}):e.variation_axes,e.variation_instances)}o={postscript:e.postscript_name,family:e.family,style:e.style,weight:e.weight,italic:e.italic,stretch:e.stretch,id:e.id.toString(),source:i.jXp.SHARED,teamId:e.team_id?e.team_id.toString():void 0,orgId:e.org_id?e.org_id.toString():void 0,version:(a=e.version)?a.replace(/version/i,"").split(";")[0].trim():void 0,sampleUrl:e.sample_url,previewUrl:e.preview_url,updatedAt:e.updated_at,variationAxes:n,variationInstances:e.variation_instances,useFontOpticalSize:l}}else e.variationInstances&&e.variationAxes&&(l=c(e.variationAxes,e.variationInstances)),o={postscript:e.postscriptName,family:e.family,style:e.style,weight:e.weight,italic:e.italic,stretch:e.stretch,id:`${e.filename}_${e.version}`,source:i.jXp.GOOGLE,version:e.version.toString(),variationAxes:e.variationAxes,variationInstances:e.variationInstances,useFontOpticalSize:l};return r&&(o={...o,postscript:r.postscriptName,style:r.name||e.style,weight:void 0!==r.axes.wght?r.axes.wght:e.weight,italic:void 0!==r.axes.slnt?0!==r.axes.slnt:e.italic,stretch:void 0!==r.axes.wdth?s(r.axes.wdth):e.stretch,variationAxes:null==(n=o.variationAxes)?void 0:n.map(e=>({...e,value:r.axes[e.tag]}))}),o}},13654:(e,r,n)=>{"use strict";n.d(r,{AH:()=>c});var i=n(84934),a=n(44780),o=n(38082);n(52800);var s=n(85528);n(24187);var l=n(74705);n(76621);var d=n(84917);n(4783);class c{constructor(e,r,n=1,s=!1,c=null,u=()=>{},p=!1,h=()=>{},m=()=>{}){this._analyticsEventName=e,this._processTimersForLogging=r,this._timerDepth=n,this._forwardToDatadog=s,this._tsmerMetrics=c,this._customLogMetricsCallback=u,this._isRecording=!1,this._isCanceled=!1,this._onFrameStartCallback=()=>{},this._isFirstLogForTab=!0,this._imagesLoadingState=null,this._ongoingSpotlight=!1,this._multiplayerUserCount=1,this._numberOfRenderedCommentsWatermark=0,this._lastRecordedNumberOfRenderedComments=0,this._distributionByWorkName=new Map,this._lastKnownFrameMs=null,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this._fileKey=null,this._productType="unknown",this._deviceInfo=(0,l.N)(),this._activeNamedEvents=new Set,this._singleFrameNamedEvents=new Set,this._eventTrackers=new Map,this._contextRestoredCount=0,this._maxRenderLayerCount=0,this._maxRenderedTileBytesUsed=0,this._numAnimationsFromCpp=0,this._numAnimationsFromTs=0,this._tileRenderersUsed=new Set,this._currentTileRenderer="",this.scheduleLogTwoMinutesFromNow=()=>{null===this._scheduledLogAtMs&&(this._scheduledLogAtMs=performance.now()+12e4)},this._onDocumentVisibilityChange=()=>{this.handleDocumentVisibilityChange(document.visibilityState)},this.updateLastKnownFrameMs=e=>{this._lastKnownFrameMs=e},this.startRecording=e=>{this._isRecording=!0,this._resetLogState(),e&&this.scheduleLogTwoMinutesFromNow()},this.stopRecordingAndLog=e=>{let r={};return this._distributionByWorkName.forEach((e,n)=>{r[n]=e.toPOJO()}),this._shouldLogToAnalytics()&&(this._logToAnalytics(e),this._resetLogState()),this._isRecording=!1,r},this.setFileInfo=(e,r)=>{(e!==this._fileKey||r!==this._productType)&&(this._fileKey=e,this._productType=r,this._resetLogState())},this._startRecordingNamedEvent=e=>{this._activeNamedEvents.add(e)},this.recordSingleFrameNamedEvent=e=>{this._singleFrameNamedEvents.add(e)},this._stopRecordingNamedEvent=e=>{this._activeNamedEvents.delete(e)},this.handleZoomStart=()=>{this._startRecordingNamedEvent("zoomActive")},this.handleZoomStop=()=>{this._stopRecordingNamedEvent("zoomActive")},this.handleScrollEvent=()=>{this.recordSingleFrameNamedEvent("scrollActive")},this.onNodeDragStart=()=>{this._startRecordingNamedEvent("nodeDragActive")},this.onNodeDragEnd=()=>{this._stopRecordingNamedEvent("nodeDragActive")},this.onTileRendererChanged=e=>{this._tileRenderersUsed.add(e),this._currentTileRenderer=e},this.onContextRestored=()=>{this._contextRestoredCount++},this.updateMaxRenderLayerCount=e=>{this._maxRenderLayerCount=Math.max(this._maxRenderLayerCount,e)},this.updateMaxRenderedTileBytesUsed=e=>{this._maxRenderedTileBytesUsed=Math.max(this._maxRenderedTileBytesUsed,e)},this.incrementNumAnimationsFromCpp=()=>{this._numAnimationsFromCpp++},this.incrementNumAnimationsFromTs=()=>{this._numAnimationsFromTs++},this.handleDocumentVisibilityChange=e=>{"hidden"===e&&this._shouldLogToAnalytics()&&(this._logToAnalytics("tab-hidden"),this._resetLogState()),"hidden"!==e&&this._resetLogState()},this._logToAnalytics=(e,r=!1)=>{let n={};n.schema=new o.UP().schema(),n.reason=e,n.isFirstLogAfterLoad=this._isFirstLogForTab,n.imagesLoading="loading"===this._imagesLoadingState,n.multiplayerUserCount=this._multiplayerUserCount,n.ongoingSpotlight=this._ongoingSpotlight,n.fileKey=this._fileKey,n.productType=this._productType,n.refreshRate=this.refreshRate(),n.commentsRenderCount=this._numberOfRenderedCommentsWatermark,n.contextRestoredCount=this._contextRestoredCount,n.maxRenderLayerCount=this._maxRenderLayerCount,n.maxRenderedTileBytesUsed=this._maxRenderedTileBytesUsed,(0,l.U)(this._deviceInfo,n),n.numAnimationsFromCpp=this._numAnimationsFromCpp,n.numAnimationsFromTs=this._numAnimationsFromTs,this._isFirstLogForTab=!1,null!==this._tsmerMetrics&&(n.editFrames=this._tsmerMetrics.editFrameDistribution().toLogParams(),n.editFramesWhileNotPanningOrZooming=this._tsmerMetrics.editFrameDistributionWhileNotPanningOrZooming().toLogParams(),n.remoteFrames=this._tsmerMetrics.remoteFrameDistribution().toLogParams(),n.remoteFramesWhileNotPanningOrZooming=this._tsmerMetrics.remoteFrameDistributionWhileNotPanningOrZooming().toLogParams()),this._customLogMetricsCallback(n),n.tileRenderersUsed=JSON.stringify(Array.from(this._tileRenderersUsed)),this._tileRenderersUsed.clear(),this._tileRenderersUsed.add(this._currentTileRenderer),this._distributionByWorkName.forEach((e,r)=>{if(r in n)throw Error(`attempt to track performance for a work item with a reserved name: ${r}`);n[r]=e.toLogParams()}),r?setTimeout(()=>{this._sendLogRequest(n)},0):this._sendLogRequest(n)},this._sendLogRequest=e=>{let r={forwardToDatadog:this._forwardToDatadog,batchRequest:!0};(0,i.sx)(this._analyticsEventName,e,r)},this._processTimerTree=(e,r,n)=>{if(r>=this._timerDepth)return[];let i=[];for(let a of e){let e=[...n,a.name],o=e.join(".");if(!(o in this._lastRecordedHitCountByName)||!(o in this._lastRecordedDurationSinceLastFrame)){this._lastRecordedHitCountByName[o]=a.hitCount,this._lastRecordedDurationSinceLastFrame[o]=a.totalElapsedTime;continue}let s=a.hitCount-this._lastRecordedHitCountByName[o];if(0===s)continue;s>a.elapsedTimes.length&&console.warn(`Logged performance for ${o} too many times in one animation frame`);let l=a.totalElapsedTime-this._lastRecordedDurationSinceLastFrame[o];this._lastRecordedHitCountByName[o]=a.hitCount,this._lastRecordedDurationSinceLastFrame[o]=a.totalElapsedTime,i.push({path:e,elapsedTime:l});let d=r+1;d<this._timerDepth&&a.children.length>0&&(i=i.concat(this._processTimerTree(a.children,d,e)))}return i},this.onFrameStart=()=>{this._isRecording&&!this._isCanceled&&this._onFrameStartCallback()},this.setOnFrameStartCallback=e=>{this._onFrameStartCallback=e},this.onFrame=()=>{var e,r,n,i;try{if(null==(e=this._slowFrameTracker)||e.incrementFrameCounter(),this._isCanceled)return"canceled";if("visible"!==document.visibilityState||!this._isRecording)return this._resetLogState(),"not-recording";let i=performance.now();if(null!=this._lastKnownFrameMs){let e=i-this._lastKnownFrameMs;if(e<6e4){for(let r of(this._getOrCreateDistribution("all").add(e),this._activeNamedEvents))this._getOrCreateDistribution(r).add(e);let n=performance.now(),i=[];for(let[r,n]of this._eventTrackers)n.didEventOccur()&&(i.push(r),this._getOrCreateDistribution(r).add(e));let a=performance.now()-n;for(let r of this._singleFrameNamedEvents)this._getOrCreateDistribution(r).add(e);null!==this._scheduledLogAtMs&&(null==(r=this._slowFrameTracker)||r.checkSlowFrameAndSample(e,i,a)),this._singleFrameNamedEvents.clear()}}if(this._lastKnownFrameMs=i,a.rH.areTimersOpen())return this._isCanceled=!0,"canceled";let o=this._processTimerTree(a.rH.report(),0,[]);for(let e of this._processTimersForLogging(o))this._getOrCreateDistribution(e.path.join(".")).add(e.elapsedTime);return null==(n=this._tsmerMetrics)||n.onFrame(),null!==this._scheduledLogAtMs&&performance.now()>this._scheduledLogAtMs&&(this._logToAnalytics("two-minutes-elapsed",!0),this._resetLogState()),"success"}finally{null==(i=this._slowFrameTracker)||i.clearPerFrameMetrics()}},this.testOnlyGetAllDistribution=()=>this._getOrCreateDistribution("all"),this.pendingImagesChanged=e=>{if("loaded"===this._imagesLoadingState)return;let r=e>0?"loading":"loaded";r!==this._imagesLoadingState&&("loading"===this._imagesLoadingState&&(this._logToAnalytics("images-loaded"),this._resetLogState()),this._imagesLoadingState=r)},this._slowFrameTracker=new d.N(p,h,m),document.addEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchstart",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchmove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("visibilitychange",this._onDocumentVisibilityChange)}uninstall(){document.removeEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchstart",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchmove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("visibilitychange",this._onDocumentVisibilityChange)}hasScheduledLog(){return null!=this._scheduledLogAtMs}_shouldLogToAnalytics(){return this._isRecording&&null!=this._scheduledLogAtMs}productTypeForTests(){return this._productType}_resetLogState(){var e;this._lastKnownFrameMs=null,this._imagesLoadingState=null,this._ongoingSpotlight=!1,this._multiplayerUserCount=1,this._distributionByWorkName=new Map,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this._activeNamedEvents.clear(),this._singleFrameNamedEvents.clear(),this._numberOfRenderedCommentsWatermark=this._lastRecordedNumberOfRenderedComments,this._contextRestoredCount=0,this._maxRenderLayerCount=0,this._maxRenderedTileBytesUsed=0,this._numAnimationsFromCpp=0,this._numAnimationsFromTs=0,null==(e=this._tsmerMetrics)||e.resetLogState()}getSlowFrameTracker(){return this._slowFrameTracker}refreshRate(){let e=this._distributionByWorkName.get("all");if(e){let r=e.getMode();if(r){if(r.min<9)return"120FPS";if(r.min<32)return"60FPS";if(r.min<48)return"30FPS"}}return"UNKNOWN"}estimatedRefreshRate(){let e=this._distributionByWorkName.get("all");if(e){let r=e.getMode();if(r){if(r.min<9)return{frameLength:1e3/120,fps:120};if(r.min<32)return{frameLength:1e3/60,fps:60};r.min}}return{frameLength:1e3/30,fps:30}}tsmerMetrics(){return this._tsmerMetrics}_getOrCreateDistribution(e){let r=this._distributionByWorkName.get(e);return r||(r=new o.UP,this._distributionByWorkName.set(e,r)),r}addEventTracker(e,r){this._eventTrackers.set(e,r)}addTimeEvent(e,r){this._getOrCreateDistribution(e).add(r)}setNumberOfRenderedComments(e){this._lastRecordedNumberOfRenderedComments=e,this._numberOfRenderedCommentsWatermark=Math.max(e,this._numberOfRenderedCommentsWatermark)}setMultiplayerPerfInfo(e){let{multiplayerUserCount:r,ongoingSpotlight:n}=e;this._ongoingSpotlight=n,this._multiplayerUserCount=r}trackOtherUserCursorMoved(){var e;null==(e=s.R9)||e.setOtherUserMouseMovedCallback(()=>{this.recordSingleFrameNamedEvent("otherUserCursorMoved")})}}},48521:(e,r,n)=>{"use strict";function i(e,r){let{x:n,y:i}=e,a=!1;for(let e=0,o=r.length-1;e<r.length;o=e++){let{x:s,y:l}=r[e],{x:d,y:c}=r[o];l>i!=c>i&&n<(d-s)*(i-l)/(c-l)+s&&(a=!a)}return a}n.d(r,{y:()=>i})},97170:(e,r,n)=>{"use strict";let i,a;n.d(r,{Bs:()=>L,Rm:()=>P,xI:()=>R});var o=n(84934),s=n(11617),l=n(38329),d=n(98977),c=n(86640),u=n(208),p=n(61870),h=n(45356),m=n(95847),g=n(6108),f=n(38571),_=n(81388),y=n(39863),E=n(62275),b=n(79296),v=n(33537),S=n(66712),I=n(76621);let T="google_sso_temp";var w=((i=w||{}).COMMUNITY_FASTMA="google_one_tap_logged_out_community_fastma",i.COMMUNITY="google_one_tap_logged_out_community",i.LOGGED_OUT_FILE="google_one_tap_logged_out_file",i),C=((a=C||{}).LOGGED_OUT_FOOTER="logged_out_footer",a.LOGGED_OUT_FOOTER_CONTINUE_WITH_GOOGLE="logged_out_footer_continue_with_google",a.FIGJAM_TRY_FOOTER_BANNER="figjam_try_footer_banner",a.FIGJAM_TRY_FOOTER_BANNER_CONTINUE_WITH_GOOGLE="figjam_try_footer_banner_continue_with_google",a);let A=Object.values(w).concat(Object.values(C)),N="/api/session/google_auth/signin",O=(0,b.D)(()=>new Promise((e,r)=>{document.cookie=T+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let n=(0,s.FJ)("/start_google_sso","","width=600,height=600");if(null===n){(0,o.sx)("GoogleSSOError",{step:"window-not-found"}),r(Error((0,y.t)("auth.google-sso.unable-to-get-info")));return}window.setTimeout(function i(){let a=(0,c.OS)(document.cookie,T);if(null!==a){let n=JSON.parse(a);document.cookie=T+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",n.token?e(n):((0,o.sx)("GoogleSSOError",{step:"token-not-found"}),r(Error((0,y.t)("auth.google-sso.unable-to-get-info"))))}else n.closed?((0,o.sx)("GoogleSSOError",{step:"cookie-not-found"}),r(Error((0,y.t)("auth.google-sso.unable-to-get-info")))):window.setTimeout(i,250)},250)}));async function R(e,r){let n=await O();return await M(n,{dispatch:e,apiUrl:"/api/session/google_auth/signin_or_signup",origin:r})}async function P({dispatch:e,shouldDelayExtraInfoStep:r,origin:n}){let i=await O();return await M(i,{dispatch:e,apiUrl:N,shouldDelayExtraInfoStep:!!r,origin:n})}function L(e,r,n){(0,h.g6)("google_sso_login_redirect_attempt",n,{fromMsTeams:r}),document.cookie=T+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let i=JSON.stringify({apiUrl:N,redirectPath:e});document.cookie=`${T}=${encodeURIComponent(i)}; path=/`;let a=r?d.Ay.unsafeRedirectMsTeams:d.Ay.redirect,o="/start_google_sso?should_use_redirect_instead=1";r&&(o+="&from_ms_teams=1"),a(o)}function D(e,r){r(p.I.setGoogleIdToken({googleIdToken:e.token})),r(p.I.setGoogleTokenType({googleTokenType:e.tokenType})),r(p.I.changeName({value:e.name}))}function M(e,{dispatch:r,apiUrl:n,origin:i,showExtraInfoModalCb:a,shouldDelayExtraInfoStep:s,__TEST_ONLY_markDone:c}){return new Promise(async(b,T)=>{var C,N,O,R,P;try{let{data:a}=await function(e,r){let n={name:r.name,token:r.token,token_type:r.tokenType,google_fed_cm_enabled:(0,S.kc)().google_federated_cm??!1};return u.Ay.post(e,n)}(n,e);r(_.s.flash((0,y.t)("auth.sign-in-success",{email:a.meta.email}))),a.meta&&a.meta.email_domain_type?((0,o.sx)("Sign Up (GTM)",{isWorkEmail:(0,v.iE)(a)}),await (0,f.p)("sign_up_google_sso")):((0,o.sx)("google_sso",{eventSubtype:"google_sso_success_signin",user_id:null==(C=null==a?void 0:a.meta)?void 0:C.id,origin:i}),await (0,f.p)("sign_in_google_sso")),b(a.meta)}catch({data:u}){let n=(0,y.Jv)({data:u},null==u?void 0:u.message);if(i&&Object.values(w).includes(i)&&(0,h.g6)("google_one_tap_login_error",i,{error:n}),n===(0,y.t)("auth.error.account-not-found")){if((0,S.kc)().antispam_arkose_google_signup&&(0,S.tl)().do_arkose){let n;(n=s?p.I.googleSignupSkipExtraInfo:p.I.signUpExtraInfoGoogle,null!=i&&A.includes(i))?(r(p.I.init({origin:i,formState:m.qB.SIGN_UP,redirectUrl:d.Ay.location.pathname})),r(E.to({type:g.a,data:{}}))):(null==(R=null==(O=null==(N=l.D)?void 0:N.getState())?void 0:O.modalShown)?void 0:R.type)!==g.a&&(0,h.MZ)()&&(0,I.xi)("authenticate_google_user","Skipped launching auth modal before arkose verification",{auth_origin:i},{reportAsSentryError:!0,modeEventName:"google_sso_skipped_launching_auth_modal"}),D(e,r),r(p.I.showForm({formState:m.qB.VERIFY_HUMAN,prevState:m.qB.SIGN_UP,postVerificationAction:n}))}else s?s?(D(e,r),r(p.I.googleSignupSkipExtraInfo())):(0,o.sx)("google_sso",{eventSubtype:"google_sso_unexpected_state_no_callback",user_id:null==(P=null==u?void 0:u.meta)?void 0:P.id,origin:i}):(a?a():r(p.I.showForm({formState:m.qB.SIGN_UP_EXTRA_INFO})),D(e,r));null==c||c()}else T(Error(n||(0,y.t)("auth.google-sso.unable-to-auth")))}})}},39683:(e,r,n)=>{"use strict";n.d(r,{NV:()=>c,U:()=>l,am:()=>d});var i=n(11855),a=n(88507),o=n(26049),s=n(88022);function l(){let e=(0,a.Pj)();return i.useCallback((r,n,i)=>{var a;let o=e.getState();(0,s.ds)(r,null==(a=o.openFile)?void 0:a.key,o,n,i)},[e])}function d(){let e=(0,a.Pj)();return i.useCallback((r,n)=>{var i;let a=e.getState(),o=null==(i=a.openFile)?void 0:i.key,l=a.user&&a.user.id;(0,s.ds)(r,o,a,{userId:l,...n})},[e])}function c(e){let r=function(){let e=(0,a.Pj)();return i.useCallback((r,n)=>{let i=e.getState(),a=i.currentUserOrgId??"";(0,s.Fr)(r,a,i,{...n})},[e])}();return(0,o.A)(r,e,{leading:!0,trailing:!1})}},44948:(e,r,n)=>{"use strict";n.d(r,{DD:()=>c,wm:()=>d});var i=n(11855),a=n(88507),o=n(41563),s=n.n(o),l=n(58145);function d(e,r){return u(i.useMemo(e,r),a.bN)}function c(e,r,n){return u(i.useMemo(e,r),n)}function u(e,r=s()){let n=(0,l.Z)(e),a=i.useRef(e);return null!=n&&(e===n||r(e,a.current))?a.current:(a.current=e,e)}},60945:(e,r,n)=>{"use strict";n.d(r,{c:()=>o,w:()=>s});var i=n(11855),a=n(66712);let o={width:0,height:0};function s(e,r){let[n,o]=(0,i.useState)(null),s=!!(0,a.kc)().web_fix_resize_observer;return(0,i.useLayoutEffect)(()=>{if(!e||!e.current)return;let i=new ResizeObserver(i=>{for(let a of i)if(e.current===a.target){if(s){let e=a.contentRect.width,r=a.contentRect.height;if(n&&n.width===e&&n.height===r&&s)continue}let e={width:a.contentRect.width,height:a.contentRect.height};o(e),r&&r(e)}});return i.observe(e.current),()=>i.disconnect()},[e,r,s&&n]),n}},94272:(e,r,n)=>{"use strict";n.d(r,{R:()=>a});var i=n(88507);function a(e){return(0,i.d4)(e,i.bN)}},62935:(e,r,n)=>{"use strict";n.d(r,{M:()=>a});var i=n(11855);function a(e){let r=(0,i.useRef)(null);return(0,i.useImperativeHandle)(e,()=>r.current),r}},89430:(e,r,n)=>{"use strict";n.d(r,{l:()=>a});var i=n(11855);function a(){let[e,r]=i.useState(window.innerWidth),[n,a]=i.useState(window.innerHeight);return i.useEffect(()=>{let e=()=>{r(window.innerWidth),a(window.innerHeight)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{windowInnerWidth:e,windowInnerHeight:n}}},63668:(e,r,n)=>{"use strict";n.d(r,{A:()=>o});var i=n(96210),a=n.n(i);function o(e){var r;if(!e)return"";try{let n=e.replace(/<br>|<\/p>|<\/h2>|<\/li>/g,"$&\n"),i=s(n);return(null==(r=new DOMParser().parseFromString(i,"text/html").documentElement.textContent)?void 0:r.trim())??""}catch(e){return console.error(e),""}}let s=(()=>{let e;return r=>(e||(e=a()()),e.sanitize(r))})()},4843:(e,r,n)=>{"use strict";n.d(r,{x:()=>i});let i=(0,n(38580).eU)(!1)},66712:(e,r,n)=>{"use strict";n.d(r,{AU:()=>A,Ay:()=>N,DC:()=>y,DZ:()=>f,IX:()=>b,Lz:()=>O,MS:()=>C,O_:()=>v,W4:()=>T,b5:()=>S,bg:()=>w,kc:()=>h,mV:()=>_,mm:()=>R,sL:()=>I,tl:()=>E,u4:()=>g,w0:()=>m});var i,a=n(48241),o=n(43259),s=n(79296),l=n(79940);let d={...JSON.parse(JSON.stringify(E().feature_flags||{}))},c=JSON.parse(JSON.stringify(E().launchdarkly_client_flags||{})),{zoom_client_user_agent:u}=E();u&&function(e,r){if(e.navigator.userAgent!==r){let n={get:function(){return r}};try{Object.defineProperty(e.navigator,"userAgent",n)}catch(r){e.navigator=Object.create(navigator,{userAgent:n})}}}(window,u),Object.freeze(d),Object.freeze(c);let p=JSON.parse(JSON.stringify(E().experiments||{}));Object.freeze(p);let h=(0,s.D)(()=>d);function m(){return c}function g(e,r,n){return h()[e]?r:n}function f(){return p}function _(e){return p[e]}function y(){return E().payment_flow_data}function E(){return window.INITIAL_OPTIONS||{}}function b(){return"local"===E().cluster_name}function v(){return"prod"===E().cluster_name}function S(){var e;return b()||"staging"===E().cluster_name||(null==(e=E().cluster_name)?void 0:e.startsWith("devenv"))||"gov-staging"===E().cluster_name}function I(){let e=E().cluster_name;return"gov"===e||"gov-staging"===e}function T(){return I()?"support-figgov@figma.com":"support@figma.com"}function w(){return E().consent_region}(i||(i={})).withFeatureFlag=function(e,r){if(h()[e])return r;let n=e=>null;return n.displayName="",n};let C=function(e){switch(e){case"staging":return e;case"prod":return"production";case"gov":return"gov-prod";case"gov-staging":return"gov-staging";default:return"development"}}(E().cluster_name||"");function A(){var e;return(null==(e=E().editing_file)?void 0:e.editor_type)??void 0}let N=E,O="https://fakepath.figma.com";function R(){let e=[(0,o.$e)(),(0,o.bQ)()];for(let r=0;r<e.length;r++){let n=e[r];if(n){let e=(0,l.qg)(n);if(e.locale)return(0,o.$W)(e.locale)}}let r=(0,o.Np)();if(r){let e=r.split("/")[1];if(e&&a.Up.includes(e))return(0,o.$W)(e)}let{user_data:n}=E();return(null==n?void 0:n.locale)&&(null==n?void 0:n.locale)!==a.Xn?[null==n?void 0:n.locale,a.Xn]:[a.Xn]}},10004:(e,r,n)=>{"use strict";n.d(r,{P:()=>o});var i=n(86640);let a="ipc:";class o{constructor(){this.storage=i.x4,this._onStorageEvent=e=>{let r=e.key;if(e.storageArea===this.storage&&null!==e.newValue&&(null==r?void 0:r.startsWith(a))){let n=null;try{n=JSON.parse(e.newValue)[0]}catch(e){return}let i=null;for(let e of this.callbacks[r]||[])try{e(n)}catch(e){i=e}if(i)throw i}};let e=this.storage;if(e)for(let r of Object.keys(e))r.startsWith(a)&&delete e[r];this.callbacks={},window.addEventListener("storage",this._onStorageEvent,!1)}_callbacksForMessage(e){let r=a+e;return this.callbacks[r]||(this.callbacks[r]=[]),this.callbacks[r]}sendToOtherTabs(e,r){if(this.storage)try{this.storage[a+e]=JSON.stringify([r,Math.random()])}catch(e){console.error((e&&e.stack||e)+"")}}sendToAllTabs(e,r){let n=this._callbacksForMessage(e),i=null;for(let e of n)try{e(r)}catch(e){i=e}if(this.sendToOtherTabs(e,r),i)throw i}register(e,r){let n=this._callbacksForMessage(e);0>n.indexOf(r)&&n.push(r)}unregister(e,r){let n=this._callbacksForMessage(e),i=n.indexOf(r);i>=0&&n.splice(i,1)}}},74626:(e,r,n)=>{"use strict";n.d(r,{An:()=>T,E3:()=>v,FZ:()=>y,Hj:()=>b,Iz:()=>I,LJ:()=>f,M2:()=>_,S_:()=>S,fp:()=>g,md:()=>m,yu:()=>E,zl:()=>h});var i=n(11855),a=n(38580),o=n(46240),s=n(88706),l=n(41563),d=n.n(l),c=n(97666),u=n(14255),p=n(86640);let h=new class{constructor(){this.jotaiAtomStore=(0,a.y$)(),this.unsubscribeCallbacks=new Set,this.rerenderAtomsProviders=new Set}get(e){return this.jotaiAtomStore.get(e)}set(e,...r){return this.jotaiAtomStore.set(e,...r)}sub(e,r,n={}){let i=!1,a=()=>{i||(i=!0,Promise.resolve().then(()=>{i=!1,r()}))},o=this.jotaiAtomStore.sub(e,()=>{try{n.batchMicrotask?a():r()}catch(e){throw console.error(e),e}});return this.unsubscribeCallbacks.add(o),()=>{o(),this.unsubscribeCallbacks.delete(o)}}resetForTests(){for(let e of this.unsubscribeCallbacks)e();for(let e of(this.jotaiAtomStore=(0,a.y$)(),this.unsubscribeCallbacks=new Set,this.rerenderAtomsProviders))e();this.rerenderAtomsProviders=new Set}};function m(e,r){let n=(0,o.Pj)(),[[a,s,l],d]=i.useReducer(r=>{let i=n.get(e);return Object.is(r[0],i)&&r[1]===n&&r[2]===e?r:[i,n,e]},void 0,()=>[n.get(e),n,e]),c=n.get(e);(s!==n||l!==e)&&(d(),c=n.get(e));let p=(null==r?void 0:r.deferToFrame)??!1;return i.useEffect(()=>{let r;let i=n.sub(e,()=>{p?(void 0!==r&&cancelAnimationFrame(r),r=requestAnimationFrame(d)):d()});return d(),()=>{void 0!==r&&cancelAnimationFrame(r),i()}},[n,e,p]),i.useDebugValue(c),c instanceof Promise?(0,u.Y)(c):c}function g(e,r){return[m(e,r),(0,o.Xr)(e)]}function f(e,r){return(0,a.eU)(e=>r(e),(r,n,...i)=>n(e,...i))}function _(e,r=d()){return(0,a.eU)(r=>r(e),(n,i,a)=>{let o=n(e),s="function"==typeof a?a(o):a;r(o,s)||i(e,s)})}function y(e,r){return(0,a.eU)(r=>r(e),(n,i,a)=>{let o=r(n(e),a,n);i(e,o)})}function E(e,r){let n=null,i="write"in e?(0,a.eU)(r=>r(e),(r,n,...i)=>n(e,...i)):(0,a.eU)(r=>r(e));return i.onMount=i=>{let a;try{a=r({target:e,setSelf:i,onSet:e=>{n=e}})}catch(e){throw console.error(e),e}null==n||n(h.get(e));let o=h.sub(e,()=>{null==n||n(h.get(e))});return()=>{null==a||a(),o()}},i}function b(e,r){return E(e,({onSet:e})=>{e(r)})}function v(e,r,{subscribeToChanges:n}={subscribeToChanges:!1},{debounceTime:i,stringify:o=JSON.stringify,parse:l=JSON.parse}={}){function d(){let n=(0,p.TQ)();if(n){let r=n.getItem(e);if(null!=r)try{let e=l(r);if(void 0!==e)return e}catch(e){}}return r}let u=(0,s.t_)(()=>d()),h=(()=>{let r=r=>{let n=(0,p.TQ)();n&&n.setItem(e,o(r))};return null==i?r:(0,c.s)(r,i)})(),m=(0,a.eU)(e=>e(u),(e,r,n)=>{r(u,n),h(e(u))});return n?E(m,({setSelf:r})=>{let n=n=>{n.key===e&&r(()=>d())};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)}):m}function S({get:e,subscribe:r}){let n=(0,a.eU)(0),i=()=>h.set(n,e=>e+1),o=()=>Promise.resolve().then(i),s=!1;return n.onMount=()=>{s=!0;let e=r(i);return()=>{s=!1,e(),o()}},(0,a.eU)(r=>(r(n),s||o(),e()))}function I(e,r){let n=(0,s.Iz)(e,r);return n.removeAll=()=>{n.setShouldRemove(()=>!0),n.setShouldRemove(null)},n}function T(e){let[r,n]=i.useState(0);return i.useEffect(()=>{let e=()=>n(r+1);return h.rerenderAtomsProviders.add(e),()=>{h.rerenderAtomsProviders.delete(e)}}),i.createElement(o.Kq,{store:h.jotaiAtomStore},e.children)}},84107:(e,r,n)=>{"use strict";n.d(r,{BV:()=>C,Ew:()=>S,Nm:()=>b,QO:()=>w,Y4:()=>y,Zx:()=>f,a5:()=>I,d5:()=>_,eS:()=>A,sj:()=>E,x8:()=>v});var i=n(72824),a=n(38580),o=n(74626),s=n(9225),l=n(99737),d=n(79453),c=n(97666);function u(e,r){return null===e||null===r||void 0===e||void 0===r?e===r:(0,l.lw)(e,r)}function p(e,r){let n=(0,a.eU)((0,l.Xm)());return void 0===r?(0,o.yu)(n,({setSelf:r})=>(0,s.WB)().subscribe(e,{},e=>{r(e)})):(0,o.yu)(n,({setSelf:n})=>(0,s.WB)().subscribe(e,r,e=>{n(e)}))}function h(e){return(0,o.Iz)(r=>p(e,r),u)}let m=(e,r)=>e.length===r.length&&e.every((e,n)=>u(e,r[n]));function g(e){return(0,o.Iz)(r=>(function(e,r){let n=r.map(e=>({args:e,result:(0,l.Xm)()})),d=(0,a.eU)(n),u=new i.A((0,s.WB)());return(0,o.yu)(d,({setSelf:n})=>{let i=(0,c.s)(n,100);return(0,s.WB)().subscribeAndUnsubscribeInBatches(e,r,u,e=>{i(e)}),()=>{u.clearSubscriptions()}})})(e,r),m)}let f=h(d.QEv),_=h(d.cmY),y=h(d.Lom),E=h(d.DtB),b=h(d.s1P),v=h(d.u6n),S=g(d.bsh),I=g(d.Lom);function T(e,r){let n=(0,o.Iz)(r=>p(e,r),u),i=r(n),s=(0,a.eU)((e,r)=>i(e,r)),l=(0,a.eU)(e=>e(s),()=>{});return l.onMount=()=>()=>n.removeAll(),l}function w(e,r){return new Promise((n,i)=>{let a=!0,s=e=>{a=!1,n(e)},l=e=>{a=!1,i(e)};function d(){r(s,l),a||c()}let c=o.zl.sub(e,d);a&&d()})}let C=e=>T(d.o9k,e),A=e=>T(d.jXq,e)},98750:(e,r,n)=>{"use strict";let i,a;n.d(r,{Fo:()=>d,Gc:()=>g,Te:()=>c,Uz:()=>l,oJ:()=>m,sC:()=>p,sN:()=>u,vN:()=>h,xH:()=>s});var o=n(63706),s=((i=s||{})[i.ALT=256]="ALT",i[i.META=512]="META",i[i.SHIFT=1024]="SHIFT",i[i.CONTROL=2048]="CONTROL",i),l=((a=l||{})[a.BACKSPACE=8]="BACKSPACE",a[a.TAB=9]="TAB",a[a.ENTER=13]="ENTER",a[a.SHIFT=16]="SHIFT",a[a.CTRL=17]="CTRL",a[a.ALT=18]="ALT",a[a.PAUSE=19]="PAUSE",a[a.CAPS_LOCK=20]="CAPS_LOCK",a[a.ESCAPE=27]="ESCAPE",a[a.SPACE=32]="SPACE",a[a.PAGE_UP=33]="PAGE_UP",a[a.PAGE_DOWN=34]="PAGE_DOWN",a[a.END=35]="END",a[a.HOME=36]="HOME",a[a.LEFT_ARROW=37]="LEFT_ARROW",a[a.UP_ARROW=38]="UP_ARROW",a[a.RIGHT_ARROW=39]="RIGHT_ARROW",a[a.DOWN_ARROW=40]="DOWN_ARROW",a[a.INSERT=45]="INSERT",a[a.DELETE=46]="DELETE",a[a.KEY_0=48]="KEY_0",a[a.KEY_1=49]="KEY_1",a[a.KEY_2=50]="KEY_2",a[a.KEY_3=51]="KEY_3",a[a.KEY_4=52]="KEY_4",a[a.KEY_5=53]="KEY_5",a[a.KEY_6=54]="KEY_6",a[a.KEY_7=55]="KEY_7",a[a.KEY_8=56]="KEY_8",a[a.KEY_9=57]="KEY_9",a[a.A=65]="A",a[a.B=66]="B",a[a.C=67]="C",a[a.D=68]="D",a[a.E=69]="E",a[a.F=70]="F",a[a.G=71]="G",a[a.H=72]="H",a[a.I=73]="I",a[a.J=74]="J",a[a.K=75]="K",a[a.L=76]="L",a[a.M=77]="M",a[a.N=78]="N",a[a.O=79]="O",a[a.P=80]="P",a[a.Q=81]="Q",a[a.R=82]="R",a[a.S=83]="S",a[a.T=84]="T",a[a.U=85]="U",a[a.V=86]="V",a[a.W=87]="W",a[a.X=88]="X",a[a.Y=89]="Y",a[a.Z=90]="Z",a[a.SELECT=93]="SELECT",a[a.NUMPAD_0=96]="NUMPAD_0",a[a.NUMPAD_1=97]="NUMPAD_1",a[a.NUMPAD_2=98]="NUMPAD_2",a[a.NUMPAD_3=99]="NUMPAD_3",a[a.NUMPAD_4=100]="NUMPAD_4",a[a.NUMPAD_5=101]="NUMPAD_5",a[a.NUMPAD_6=102]="NUMPAD_6",a[a.NUMPAD_7=103]="NUMPAD_7",a[a.NUMPAD_8=104]="NUMPAD_8",a[a.NUMPAD_9=105]="NUMPAD_9",a[a.NUMPAD_DELETE=1e3]="NUMPAD_DELETE",a[a.MULTIPLY=106]="MULTIPLY",a[a.ADD=107]="ADD",a[a.SUBTRACT=109]="SUBTRACT",a[a.DECIMAL=110]="DECIMAL",a[a.DIVIDE=111]="DIVIDE",a[a.SEMICOLON=186]="SEMICOLON",a[a.EQUALS=187]="EQUALS",a[a.COMMA=188]="COMMA",a[a.DASH=189]="DASH",a[a.PERIOD=190]="PERIOD",a[a.FORWARD_SLASH=191]="FORWARD_SLASH",a[a.GRAVE_ACCENT=192]="GRAVE_ACCENT",a[a.BACK_SLASH=220]="BACK_SLASH",a[a.BRACKET_LEFT=219]="BRACKET_LEFT",a[a.BRACKET_RIGHT=221]="BRACKET_RIGHT",a);function d(e){return o.Ay.mac?e.metaKey:e.ctrlKey}function c(e){return h(e,o.Ay.mac?512:2048)}function u(e){return(e.altKey?256:0)|(e.metaKey?512:0)|(e.shiftKey?1024:0)|(e.ctrlKey?2048:0)}function p(e,r){let n=u(e);return 0===n||(n&~r)==0}function h(e,r){return u(e)===r}function m(e){return!!e&&(e.metaKey&&o.Ay.mac||e.ctrlKey&&!o.Ay.mac||e.shiftKey)}let g=e=>r=>{m(r)||e(r)}},88169:(e,r,n)=>{"use strict";n.d(r,{dZ:()=>u,v7:()=>h,xt:()=>m});var i=n(86640);n(39863);var a=n(22774);n(88022);var o=n(56390),s=n(52800),l=n(38329);n(10004),n(208);let d="keyboardLayoutPreference",c=new Map(Object.entries(s.aTn).map(([e,r])=>[e,r])),u=new Map(Object.entries(s.aTn).map(([e,r])=>[r,e]));function p(e){let[r]=e.split(":"),n=c.get(r);return r&&n?{layout:n}:{layout:s.aTn.UNKNOWN}}function h(){return function(){var e;if(i.x4){let e=i.x4.getItem(d);if(null!=e)return p(e)}if(!l.D)return{layout:s.aTn.UNKNOWN};let r=null==(e=l.D.getState().user)?void 0:e.keyboard_layout,n=c.get(r);if(!r||!n)return{layout:s.aTn.UNKNOWN};let a=r?n:s.aTn.UNKNOWN;return!function(e){if(!i.x4)return;i.x4.setItem(d,e);let{layout:r}=p(e);o.Y5&&o.Y5.isReady()&&s.glU.reloadShortcuts(r)}(s.aTn[a]),{layout:a}}().layout}function m(){return 0===Object.keys(s.aTn).length?[]:[{name:"keyboard-layout-menu-option",callback:(e,r,n)=>{n(a.FU({tab:"layout"})),o.Y5.triggerAction("toggle-keyboard-shortcuts")}}]}},3457:(e,r,n)=>{"use strict";n.d(r,{H4:()=>o,kf:()=>l,s_:()=>d});var i=n(11855),a=n(84934);let o={NONE:Symbol("NONE")},s=!1;try{s="responseStatus"in PerformanceResourceTiming.prototype}catch(e){}function l(e,r){if(r.isCodesplit){let{ComponentFactory:n}=r,s=!1,l=i.lazy(async()=>{let r=new p;r.startTracking();try{let o;let l=performance.now(),d=3,c=[500,1e3,2e3].reverse();async function i(){return await n()}for(;d>=0;)try{let r=await i();return s||(s=!0,(0,a.sx)("react_lazy_load",{duration:performance.now()-l,component:e})),r}catch(e){o=e,--d>=0&&await new Promise(e=>setTimeout(e,c[d]))}let u=r.mapErrorToResponseCode(o);throw(0,a.sx)("react_lazy_load_failed",{lazyComponentName:e,error:o.message,stack:o.stack,responseCode:u}),o}finally{r.dispose()}});return function(e){let{fallback:r,errorFallback:n,...a}=e,s=i.createElement(c,{fallback:r},i.createElement(l,{...a}));return n===o.NONE?s:i.createElement(u,{errorFallback:n},s)}}{let{Component:e}=r;return function(r){let{fallback:n,...a}=r;return i.createElement(e,{...a})}}}function d(e,r,n){var s,l;let d,c,h,m,g=!1,f=!1,_=null==n?void 0:n.componentName,y=()=>{g||(g=!0,(0,a.sx)("Dynamic Component Loaded",{duration:h?performance.now()-h:void 0,preloadDuration:c?performance.now()-c:void 0,component:_||"unknown",boundaryName:e}))},E=i.lazy(async()=>{let e=new p;e.startTracking();try{let i,o=3,s=[500,1e3,2e3].reverse();async function n(){return{default:await r()}}for(h=performance.now();o>=0;)try{let e=await n();return y(),e}catch(e){i=e,--o>=0&&await new Promise(e=>setTimeout(e,s[o]))}let l=e.mapErrorToResponseCode(i);throw(0,a.sx)("react_lazy_load_failed",{lazyComponentName:_||"unknown",error:i.message,stack:i.stack,responseCode:l}),i}finally{e.dispose()}});E.displayName=(null==n?void 0:n.componentName)?`Lazy:${null==n?void 0:n.componentName}`:void 0;let b=(null==n?void 0:n.loading)&&(null==n?void 0:n.loading)!==o.NONE?(null==n?void 0:n.loadingDelay)?(s=null==n?void 0:n.loading,l=n.loadingDelay,function(e){return!function(e=10){let[r,n]=i.useState(!1);return i.useEffect(()=>{let r=setTimeout(()=>{n(!0)},e);return()=>{r&&clearTimeout(r)}},[e,n]),r}(l)?null:i.createElement(s,{...e})}):n.loading:null,v=function(e){let{fallback:r,errorFallback:a,...s}=e,l=null==n?void 0:n.error;m||(m=d||E);let c=i.createElement(m,{...s});return r!==o.NONE&&(null==n?void 0:n.loading)!==o.NONE&&(c=i.createElement(i.Suspense,{fallback:b?i.createElement(b,null):r},c)),a!==o.NONE&&l!==o.NONE&&(c=i.createElement(u,{errorFallback:l?i.createElement(l,null):a},c)),c};return v.preload=async e=>(f||d||((f=!0,!0===e)?h=performance.now():(c=performance.now(),d=await r()),y()),Promise.resolve()),v.displayName=(null==n?void 0:n.componentName)?`LazyWrapper:${null==n?void 0:n.componentName}`:void 0,v}function c(e){let{fallback:r,children:n}=e;return r===o.NONE?i.createElement(i.Fragment,null,n):i.createElement(i.Suspense,{fallback:r},n)}class u extends i.Component{constructor(){super(...arguments),this.state={didCatch:!1}}static getDerivedStateFromError(e){return{didCatch:!0}}componentDidCatch(){}render(){return this.state.didCatch?this.props.errorFallback:this.props.children}}class p{constructor(){if(!s)return;this.resourceEvents=new Map,this.performanceObserver=new PerformanceObserver(this.onResourceEvent.bind(this))}startTracking(){s&&this.performanceObserver&&this.performanceObserver.observe({entryTypes:["resource"]})}mapErrorToResponseCode(e){var r;if(!s||!this.resourceEvents)return;let n=e.request;if(n&&this.resourceEvents.has(n))return null==(r=this.resourceEvents.get(n))?void 0:r.responseStatus}dispose(){s&&this.performanceObserver&&this.performanceObserver.disconnect()}onResourceEvent(e){if(this.resourceEvents)for(let r of e.getEntries())"script"===r.initiatorType&&this.resourceEvents.set(r.name,r)}}},55970:(e,r,n)=>{"use strict";function i(e){let r;return()=>(r||(r=e()),r)}n.d(r,{z:()=>i})},71854:(e,r,n)=>{"use strict";function i(e,r){var n,i,a=[],o=Math.min;if(!(e&&r))return(r||e).length;for(n=0;n<=r.length;a[n]=[n++]);for(i=0;i<=e.length;a[0][i]=i++);for(n=1;n<=r.length;n++)for(i=1;i<=e.length;i++)a[n][i]=r.charAt(n-1)==e.charAt(i-1)?a[n-1][i-1]:a[n][i]=o(a[n-1][i-1]+1,o(a[n][i-1]+1,a[n-1][i]+1));return a[r.length][e.length]}n.d(r,{A:()=>i})},52553:(e,r,n)=>{"use strict";n.d(r,{IT:()=>u,Jl:()=>g,n_:()=>m});var i=n(11855);n(44948);var a=n(66712),o=n(38580),s=n(74626),l=n(38423),d=n(14943),c=n(91388);function u(e,r={}){return(0,d.uf)(e)?function(e,r){let n,a;let o=f(r)?e:p;[n,a]=(0,s.fp)(o),f(r)||(n=c.Qw.Paginated.disabled(),a=void 0),h(o);let d=i.useMemo(()=>(0,l.GC)(a),[a]);return i.useMemo(()=>[n,d],[n,d])}(e,r):(0,d.Kh)(e)?function(e,r){let n,a;let o=f(r)?e:p;[n,a]=(0,s.fp)(o),f(r)||(n=c.Qw.disabledSuspendable({release:()=>{}}),a=void 0),h(o);let d=i.useMemo(()=>(0,l.ff)(a),[a]);return i.useLayoutEffect(()=>{r.revalidateOnMount&&d.refetch()},[r.revalidateOnMount,d]),i.useMemo(()=>[n,d],[n,d])}(e,r):f(r)?[(0,s.md)(e),void 0]:((0,s.md)(p),[c.Qw.disabled(),void 0])}let p=(0,o.eU)([null,null]);function h(e){i.useEffect(()=>{if(!(0,a.kc)().livestore_delay_unmount_raf)return;let r=s.zl.sub(e,()=>{});return()=>{setTimeout(()=>r,100)}},[e])}function m(e,r){let n=null==r?void 0:r.enabled,a=(0,i.useMemo)(()=>r=>e()(r),[e]);if(!1!==n)return a}function g(e){return r=>e()(r)}function f(e){return!e.hasOwnProperty("enabled")||!!e.enabled}setInterval(()=>{},3e3)},91388:(e,r,n)=>{"use strict";n.d(r,{H:()=>c,Qw:()=>i});var i,a=n(11855),o=n(88507),s=n(31664),l=n(44948),d=n(86653);let c={LOADING:"loading",DISABLED:"disabled",ERRORS:"errors",LOADED:"loaded"};(e=>{function r(e,...n){return e.transform(e=>n.reduce((e,r)=>e=[...e||[],...r],e))}e.merge=function(n,...i){if(n.some(e=>"loading"===e.status))return e.loading();let a=n.filter(e=>e.errors&&"errors"===e.status).map(e=>e.errors);if(a.length)return e.error(a.flatMap(e=>e));if(n.filter(e=>"disabled"===e.status).length>0)return e.disabled();let o=e.loaded([]);for(let e of n)o=r(o,e.data);return r(o,...i)},e.all=function(r){if(r.some(e=>"loading"===e.status))return e.loading();let n=r.filter(e=>null!=e.errors&&"errors"===e.status).map(e=>e.errors);if(n.length>0)return e.error(n.flatMap(e=>e));if(r.filter(e=>"disabled"===e.status).length>0)return e.disabled();let i=r.map(e=>e.data);return e.loaded(i)};let n=Symbol("empty");function i(e,r,i=Object.is){let o=(0,l.DD)(()=>"loaded"===e.status?r(e.data):n,[e,r],i);return a.useMemo(()=>e.transform(r=>{if(o===n)throw Error("useTransform: unexpected EMPTY while result is "+e.status);return o}),[o,e])}function c(r){switch(r.status){case"disabled":return e.disabled();case"loading":return e.loading();case"errors":return e.error(r.errors);case"loaded":return e.loaded(r.data,r.errors)}}e.useTransform=i,e.useTransformShallowEqual=function(e,r){return i(e,r,o.bN)},e.useTransformDeepEqual=function(e,r){return i(e,r,s.c2)},e.from=c,e.fromMemoized=(0,d.xx)(c),e.loading=function(){return new u},e.loadingSuspendable=function(e){return new p(e)},e.disabled=function(){return new h},e.disabledSuspendable=function(e){return new m(e)},e.error=function(e){return new _(e)},e.errorSuspendable=function(e,r){return new y(e,r)},e.loaded=function(e,r){return new g(e,r||[])},e.loadedSuspendable=function(e,r,n){return new f(e,r||[],n)},(e=>{e.loading=function(){return Object.assign(new u,{hasNextPage:void 0,hasPreviousPage:void 0,isFetchingNextPage:!1,isFetchingPreviousPage:!1})},e.disabled=function(){return Object.assign(new h,{hasNextPage:void 0,hasPreviousPage:void 0,isFetchingNextPage:!1,isFetchingPreviousPage:!1})},e.error=function(e){return Object.assign(new _(e),{hasNextPage:void 0,hasPreviousPage:void 0,isFetchingNextPage:!1,isFetchingPreviousPage:!1})},e.loaded=function(e,r,n=[]){return Object.assign(new g(e,n||[]),{...r})}})(e.Paginated||(e.Paginated={}))})(i||(i={}));class u{constructor(){this.status="loading",this.data=null,this.errors=null}transform(){return i.loading()}}class p{constructor(e){this.suspense=e,this.status="loading",this.data=null,this.errors=null}transform(){return i.loadingSuspendable(this.suspense)}}class h{constructor(){this.status="disabled",this.data=null,this.errors=null}transform(){return i.disabled()}}class m{constructor(e){this.suspense=e,this.status="disabled",this.data=null,this.errors=null}transform(){return i.disabledSuspendable(this.suspense)}}class g{constructor(e,r){this.data=e,this.errors=r,this.status="loaded"}transform(e){return i.loaded(e(this.data),this.errors)}}class f{constructor(e,r,n){this.data=e,this.errors=r,this.suspense=n,this.status="loaded"}transform(e){return i.loadedSuspendable(e(this.data),this.errors,this.suspense)}}class _{constructor(e){this.errors=e,this.status="errors",this.data=null}transform(){return i.error(this.errors)}}class y{constructor(e,r){this.errors=e,this.suspense=r,this.status="errors",this.data=null}transform(){return i.errorSuspendable(this.errors,this.suspense)}}},55887:(e,r,n)=>{"use strict";function i(e,r,n){return Math.min(Math.max(e,r),n)}function a(e,r,n){return e=null==r?e:Math.max(e,r),null==n?e:Math.min(e,n)}function o(e,r){if(e===r)return e;if(e>r)throw Error("random: start must be larger than end");return Math.random()*(r-e+1)+e}function s(e,r,n=1e-6){return Math.abs(e-r)<n}function l(e,r){return(e%r+r)%r}function d(e,r){return Math.round(e/r)*r}function c(e,r,n,i){let a;if(1e-8>Math.abs(e)){if(e=r,r=n,n=i,1e-8>Math.abs(e))return(e=r,r=n,1e-8>Math.abs(e))?[]:[-r/e];let a=r*r-4*e*n;return 1e-8>Math.abs(a)?[-r/(2*e)]:a>0?[(-r+Math.sqrt(a))/(2*e),(-r-Math.sqrt(a))/(2*e)]:[]}let o=(3*e*n-r*r)/(3*e*e),s=(2*r*r*r-9*e*r*n+27*e*e*i)/(27*e*e*e);if(1e-8>Math.abs(o))a=[Math.cbrt(-s)];else if(1e-8>Math.abs(s))a=[0].concat(o<0?[Math.sqrt(-o),-Math.sqrt(-o)]:[]);else{let e=s*s/4+o*o*o/27;if(1e-8>Math.abs(e))a=[-1.5*s/o,3*s/o];else if(e>0){let r=Math.cbrt(-s/2-Math.sqrt(e));a=[r-o/(3*r)]}else{let e=2*Math.sqrt(-o/3),r=Math.acos(3*s/o/e)/3,n=2*Math.PI/3;a=[e*Math.cos(r),e*Math.cos(r-n),e*Math.cos(r-2*n)]}}for(let n=0;n<a.length;n++)a[n]-=r/(3*e);return a}n.d(r,{Ae:()=>c,KY:()=>a,YE:()=>d,_g:()=>l,qE:()=>i,xN:()=>s,yT:()=>o})},27285:(e,r,n)=>{"use strict";let i,a,o,s,l,d;n.d(r,{By:()=>u,O4:()=>p});var c=n(39863),u=((i=u||{})[i.NONE=0]="NONE",i[i.SYNTAX_EMPTY=1]="SYNTAX_EMPTY",i[i.SYNTAX_UNRECOGNIZED=2]="SYNTAX_UNRECOGNIZED",i[i.SYNTAX_MISMATCHED_PARENS=3]="SYNTAX_MISMATCHED_PARENS",i[i.EVAL_UNEXPECTED_TYPE=4]="EVAL_UNEXPECTED_TYPE",i[i.EVAL_EXPECTED_MORE_ARGUMENTS=5]="EVAL_EXPECTED_MORE_ARGUMENTS",i[i.EVAL_EXPECTED_NUMBER=6]="EVAL_EXPECTED_NUMBER",i[i.EVAL_IMAGINARY=7]="EVAL_IMAGINARY",i[i.EVAL_DIVIDE_BY_ZERO=8]="EVAL_DIVIDE_BY_ZERO",i[i.EVAL_UNKNOWN=9]="EVAL_UNKNOWN",i[i.EVAL_NO_CURRENT_VALUE=10]="EVAL_NO_CURRENT_VALUE",i);function p(e,r){let n=[],i=function(e,r){let n=(0,c.t)("fullscreen.mixed"),i=(e=e.replace(n,"mixed").toLowerCase()).split(/(mixed|px|[+*()^\/%x\-]|(?:\d+[.,]?\d*|[.,]?\d+)(?:[e][+\-]?\d+)?|(?:\s+))/g),a=i.length;if(0===a)return{type:1};let o=0;for(let e=0;e<a;e++){let n=i[e],a=n.length;if(e%2){let e=v.hasOwnProperty(n)?v[n]:0,i={id:e,text:n,type:0!==e?1:0,operator:e in S?S[e]:0,position:o,value:NaN};0===i.type&&(/^(?:\d+[.,]?\d*|[.,]?\d+)(?:[eE][+\-]?\d+)?$/.test(n)?(i.type=2,i.value=+n.replace(",",".")):/(mixed)/.test(n)&&(i.type=3)),0!==i.type&&r.push(i)}else if(a>0)return{type:2,position:o,length:a};o+=a}if(0===r.length)return{type:1};for(let e=0,n=null;e<r.length;e++){let i=r[e];(3===i.operator||4===i.operator)&&(null===n||function(e){let r=_[e];return r&&(1===e||2===r.degree||1===r.degree&&1===r.associativity)}(n.operator))&&(i.operator=3===i.operator?7:8),n=i}return null}(e,n);if(null!==i)return{value:null,error:i};let a=[],o=[];for(let e of n)switch(e.type){case 2:a.push(e.value);break;case 3:if(!r&&0!==r)return{value:null,error:{type:10}};a.push(r);break;case 1:{let n;let i=_[e.operator];switch(e.operator){case 7:break;case 1:o.push(e);break;case 2:if(!o.length)return{value:null,error:{type:3,position:e.position}};for(;o.length;){let n;let i=o[o.length-1];if(1===i.operator){o.pop();break}if(0!==(n=y(i.operator,a,r)))return{value:null,error:{type:m[n]}};if(o.pop(),!o.length)return{value:null,error:{type:3,position:e.position}}}break;default:for(;n=o[o.length-1];)if(1===i.associativity){if(i.precedence<=_[n.operator].precedence){let e;if(0!==(e=y(n.operator,a,r)))return{value:null,error:{type:m[e]}};o.pop()}else break}else if(2!==i.associativity)return{value:null,error:{type:9}};else if(i.precedence<_[n.operator].precedence){let e;if(0!==(e=y(n.operator,a,r)))return{value:null,error:{type:m[e]}};o.pop()}else break;o.push(e)}break}default:return{value:null,error:{type:2}}}for(;o.length;){let n;let i=o.pop();if(1===i.operator||2===i.operator)return{value:null,error:{type:3,position:e.length}};if(0!==(n=y(i.operator,a,r)))return{value:null,error:{type:m[n]}}}return 1!==a.length?{value:null,error:{type:2}}:{value:a[0],error:null}}var h=((a=h||{})[a.SUCCESS=0]="SUCCESS",a[a.UNEXPECTED_TYPE=1]="UNEXPECTED_TYPE",a[a.EXPECTED_MORE_ARGUMENTS=2]="EXPECTED_MORE_ARGUMENTS",a[a.EXPECTED_NUMBER=3]="EXPECTED_NUMBER",a[a.IMAGINARY=4]="IMAGINARY",a[a.DIVIDE_BY_ZERO=5]="DIVIDE_BY_ZERO",a[a.NO_CURRENT_VALUE=6]="NO_CURRENT_VALUE",a);let m=[0,4,5,6,7,8,10];var g=((o=g||{})[o.NONE=0]="NONE",o[o.PAREN_L=1]="PAREN_L",o[o.PAREN_R=2]="PAREN_R",o[o.ADD=3]="ADD",o[o.SUBTRACT=4]="SUBTRACT",o[o.MULTIPLY=5]="MULTIPLY",o[o.DIVIDE=6]="DIVIDE",o[o.UNARY_PLUS=7]="UNARY_PLUS",o[o.UNARY_MINUS=8]="UNARY_MINUS",o[o.EXPONENT=9]="EXPONENT",o[o.PERCENT=10]="PERCENT",o[o.X=11]="X",o[o.PIXELS=12]="PIXELS",o),f=((s=f||{})[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s);let _=[{associativity:0,precedence:-1,degree:0,name:""},{associativity:0,precedence:-1,degree:0,name:"("},{associativity:0,precedence:-1,degree:0,name:")"},{associativity:1,precedence:1,degree:2,name:"add"},{associativity:1,precedence:1,degree:2,name:"sub"},{associativity:1,precedence:2,degree:2,name:"mul"},{associativity:1,precedence:2,degree:2,name:"div"},{associativity:1,precedence:4,degree:1,name:"pos"},{associativity:1,precedence:4,degree:1,name:"neg"},{associativity:2,precedence:5,degree:2,name:"exp"},{associativity:2,precedence:6,degree:1,name:"%"},{associativity:2,precedence:6,degree:1,name:"x"},{associativity:2,precedence:6,degree:1,name:"px"}];function y(e,r,n){if(r.length<_[e].degree)return 2;switch(e){case 0:case 1:case 2:return 1;case 3:case 4:case 5:case 6:case 9:{let n=r.pop(),i=r.pop();switch(e){case 3:r.push(i+n);break;case 4:r.push(i-n);break;case 5:r.push(i*n);break;case 6:r.push(i/n);break;case 9:{let e=Math.pow(i,n);if(isNaN(e))return 4;r.push(e)}}break}case 7:case 12:break;case 8:r.push(-r.pop());break;case 10:if(!n&&0!==n)return 6;r.push(n*r.pop()/100);break;case 11:if(!n&&0!==n)return 6;r.push(n*r.pop())}return 0}var E=((l=E||{})[l.NONE=0]="NONE",l[l.OPERATOR=1]="OPERATOR",l[l.NUMBER=2]="NUMBER",l[l.MIXED_VARIABLE=3]="MIXED_VARIABLE",l),b=((d=b||{})[d.NONE=0]="NONE",d[d.OPEN_PAREN=1]="OPEN_PAREN",d[d.CLOSE_PAREN=2]="CLOSE_PAREN",d[d.PLUS=3]="PLUS",d[d.MINUS=4]="MINUS",d[d.ASTERISK=5]="ASTERISK",d[d.SLASH=6]="SLASH",d[d.CARET=7]="CARET",d[d.PERCENT=8]="PERCENT",d[d.X=9]="X",d[d.PIXELS=10]="PIXELS",d);let v={"(":1,")":2,"+":3,"-":4,"*":5,"/":6,"^":7,"%":8,x:9,X:9,px:10},S={1:1,2:2,3:3,4:4,5:5,6:6,7:9,8:10,9:11,10:12}},67837:(e,r,n)=>{"use strict";n.d(r,{F:()=>i});let i=n(24323)},86653:(e,r,n)=>{"use strict";function i(e){let r=null;return function(...n){if(null!=r&&r.args.length===n.length){let e=!0;for(let i=0,a=n.length;i<a;i++)if(n[i]!=r.args[i]){e=!1;break}if(e)return r.result}return(r={args:n,result:e(...n)}).result}}function a(e){let r=new WeakMap;return n=>{let i=r.get(n);if(i)return i;let a=e(n);return r.set(n,a),a}}n.d(r,{cm:()=>a,xx:()=>i})},94190:(e,r,n)=>{"use strict";n.d(r,{$G:()=>h,Ad:()=>o,Jj:()=>g,S:()=>m,Y7:()=>f,ai:()=>d,f1:()=>p,kJ:()=>c,s$:()=>u});var i=n(65482),a=n(92106);let o=["memory.fullscreen.","performance.fullscreen."],s=!0;function l(e,r){let n=-1/0;return()=>{let i=Date.now()/1e3;i-n>e&&(n=i,r())}}window.addEventListener("error",e=>{if(!s)return;s=!1;let{message:r,filename:n}=e,a=/abort/i.test(r),o=/\/compiled_/.test(n);(0,i.Rh)("unhandled_error",{abort:a,fullscreen:o})});let d=l(30,()=>{(0,i.Rh)("context_lost")}),c=l(30,()=>{(0,i.Rh)("context_restored")});function u(e){window.figmaPerfTesting&&window.postMessage({name:e,value:performance.now()/1e3},"*")}function p(){(0,i.Rh)("dirty_after_load")}function h(){(0,i.Rh)("consecutive_flushes")}function m(){(0,i.Rh)("consecutive_image_change_skips")}function g(){(0,i.Rh)("image_paste_error")}function f(e){return(0,a.x)(e,!0)}},92106:(e,r,n)=>{"use strict";n.d(r,{x:()=>d});var i=n(84934),a=n(38329),o=n(65482);let s=!0;function l(e){return e<134217728?"0mb-to-128mb":e<268435456?"128mb-to-256mb":e<536870912?"256mb-to-512mb":e<1073741824?"512mb-to-1gb":e<2147483648?"1gb-to-2gb":e<4294967296?"2gb-to-4gb":"> 4gb"}function d(e,r){var n,d,c,u;if(!s)return;s=!1;let p=l(e.totalMemoryInBytes);r&&(0,o.Rh)("oom_error",{memory:p});let h=l(e.failedSize);if((0,i.sx)("Out Of Memory",{...e,memoryUsageBin:p,failedSizeBin:h},{forwardToDatadog:r}),"enter-branching-mode"===e.lastAction){let o=a.D.getState();(0,i.sx)("Branching out of memory",{...e,memoryUsageBin:p,failedSizeBin:h,branchingSceneState:null==(d=null==(n=o.mirror)?void 0:n.appModel)?void 0:d.branchingSceneState,lastBranchingStagingAction:null==(u=null==(c=o.mirror)?void 0:c.appModel)?void 0:u.lastBranchingStagingAction},{forwardToDatadog:r})}}},65482:(e,r,n)=>{"use strict";n.d(r,{BO:()=>p,Rh:()=>c,S3:()=>u,aD:()=>m,rI:()=>h}),n(11855);var i=n(66712),a=n(76621),o=n(4783),s=n(208),l=n(99118);let d=(0,i.Ay)().figma_url??"";async function c(e,r={}){await s.Ay.crossOriginPost(`${d}/api/web_logger/metrics/${e}`,{tags:[...(0,l.Z)(),...(0,l.J)(r)].join(",")})}function u(e,r,n={}){s.Ay.crossOriginPost(`${d}/api/web_logger/histogram/${e}`,{value:r,tags:[...(0,l.Z)(),...(0,l.J)(n)].join(",")}).catch(e=>{e.status>=400&&e.status<500&&(0,a.$D)(o.e.DATA_INFRA,e)})}async function p(e){e.length>0&&await s.Ay.crossOriginPost(`${d}/api/web_logger/metrics_batched`,e.map(e=>({metric:e.metric,tags:[...(0,l.Z)(),...(0,l.J)(e.tags)].join(",")})))}async function h(e){if(e.length>0)return await s.Ay.crossOriginPost(`${d}/api/web_logger/histogram_batched`,e.map(e=>({metric:e.metric,value:e.value,tags:[...(0,l.Z)(),...(0,l.J)(e.tags)].join(",")})))}let m=u},51158:(e,r,n)=>{"use strict";function i(e){for(let r in e)return!1;return!0}function a(e,r){let n={...e};for(let[e,i]of Object.entries(r))null!=i&&(n[e]=i);return n}n.d(r,{Dy:()=>function e(r,n,i){for(let a in r){let o=""===i?a:i+"."+a;Array.isArray(r[a])?n[o]=JSON.stringify(r[a]):"object"==typeof r[a]&&null!==r[a]?e(r[a],n,o):n[o]=r[a]}},Im:()=>i,b$:()=>a})},16082:(e,r,n)=>{"use strict";let i;n.d(r,{F_:()=>_,zo:()=>y}),n(11855);var a=n(10004),o=n(74626);n(9225),n(99737);var s=n(88395),l=n(38269);n(52800);var d=n(84934),c=n(17333),u=n(38329);n(39683);var p=n(66712),h=n(76621);let m=!1,g=null,f=new a.P;var _=((i=_||{}).BACK_TO_FILES="BACK_TO_FILES",i.CREATE_FILE="CREATE_FILE",i.TAB_IPC="TAB_IPC",i);function y(e){var r;navigator.onLine||o.zl.get(s.b)||m||(E()?(r=!0)!==o.zl.get(s.b)&&(o.zl.set(s.b,r),u.D.dispatch(l.$T(u.D.getState().selectedView)),(0,h.Lo)("Offline mode",r?"entered offline mode":"exited offline mode")):(0,p.kc)().offline_detection_shadow_logging&&(m=!0),(E()||(0,p.kc)().offline_detection_shadow_logging)&&(Date.now(),(0,d.sx)("Entered Offline Mode",{entrypoint:e,isNavigatorOnline:navigator.onLine,isLivegraphDisconnected:!1})),f.sendToOtherTabs("tab-entered-offline-mode"))}function E(){return c.eD?(0,p.kc)().offline_file_browser_desktop:(0,p.kc)().offline_file_browser_entrypoints}},27735:(e,r,n)=>{"use strict";function i(e,r){return e.reduce((e,n)=>(r(n)?e.pass.push(n):e.fail.push(n),e),{pass:[],fail:[]})}n.d(r,{j:()=>i})},38082:(e,r,n)=>{"use strict";let i;n.d(r,{M4:()=>o,Sp:()=>y,UP:()=>S,jk:()=>p,t1:()=>d,y7:()=>f});var a=n(30641);n(76621);class o{constructor(e){this.elapsedTime=0,this.totalElapsedTime=0,this.startTime=0,this.callDepth=0,this.topLevelCallCount=0,this.totalCallCount=0,this.performanceNow=e||(()=>performance.now())}start(){0===this.callDepth&&(this.startTime=this.performanceNow(),this.topLevelCallCount++),this.callDepth++,this.totalCallCount++}stop(){if(0===this.callDepth){console.debug("Called stop on an already-stopped timer");return}if(this.callDepth--,0===this.callDepth){let e=this.performanceNow()-this.startTime;this.elapsedTime+=e,this.totalElapsedTime+=e}}time(e){this.start();let r=e();return this.stop(),r}static time(e){let r=new o;return r.time(e),r.getElapsedTime()}getElapsedTime(){return 0===this.callDepth?this.elapsedTime:this.elapsedTime+this.performanceNow()-this.startTime}getTotalElapsedTime(){return 0===this.callDepth?this.totalElapsedTime:this.totalElapsedTime+this.performanceNow()-this.startTime}getTopLevelCallCount(){return this.topLevelCallCount}getTotalCallCount(){return this.totalCallCount}reset(){if(this.callDepth>0){console.error("Cannot reset a running timer");return}this.startTime=0,this.elapsedTime=0,this.topLevelCallCount=0}}class s{constructor(){this.timerStack=[],this.startListeners=new Set,this.stopListeners=new Set}start(e){let r=new o;this.timerStack.push({name:e,timer:r}),this.startListeners.forEach(r=>r(e,0)),r.start()}stop(e){let r=this.timerStack.pop();if(!r){console.error(`Expected last started timer to be ${e}, but got an empty timer stack`);return}if(r.name!==e){console.error(`Expected last started timer to be ${e}, but got ${r.name}`);return}r.timer.stop(),this.stopListeners.forEach(n=>n(e,r.timer.getElapsedTime()))}time(e,r){this.start(e);let n=r();return this.stop(e),n}addStartListener(e){this.startListeners.add(e)}removeStartListener(e){this.startListeners.delete(e)}addStopListener(e){this.stopListeners.add(e)}removeStopListener(e){this.stopListeners.delete(e)}}class l{constructor(e){this.name=e,this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children=[]}reset(){this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children.forEach(e=>e.reset())}}class d{constructor(e){this.options=e,this.timerGroup=new s,this.rootNodes=[],this.nodeStack=[],this.warnOpenCount=0,this.onStart=e=>{let r=null,n=this.rootNodes;for(let i of(this.nodeStack.length>0&&(n=this.nodeStack[this.nodeStack.length-1].children),n))if(i.name===e){r=i;break}r||(r=new l(e),n.push(r)),this.nodeStack.push(r)},this.onStop=(e,r)=>{let n=this.nodeStack.pop();if(!n){console.error("Got onStop with an empty result stack");return}for(n.hitCount++,n.totalElapsedTime+=r,n.maxElapsedTime=Math.max(n.maxElapsedTime,r);n.elapsedTimes.length>=this.options.bufferSize;)n.elapsedTimes.shift();n.elapsedTimes.push(r)},this.timerGroup.addStartListener(this.onStart),this.timerGroup.addStopListener(this.onStop)}start(e){this.timerGroup.start(e)}stop(e){this.timerGroup.stop(e)}time(e,r){this.start(e);let n=r();return this.stop(e),n}areTimersOpen(){return this.nodeStack.length>0}report(){return this.nodeStack.length>0&&(0,a.Z)(++this.warnOpenCount)&&console.warn("Asking for a report while some timers remain open",JSON.stringify(this.nodeStack.map(e=>e.name))),this.rootNodes}reset(){this.rootNodes.forEach(e=>e.reset())}addStartListener(e){this.timerGroup.addStartListener(e)}removeStartListener(e){this.timerGroup.removeStartListener(e)}addStopListener(e){this.timerGroup.addStopListener(e)}removeStopListener(e){this.timerGroup.removeStopListener(e)}getBufferSize(){return this.options.bufferSize}}let c="undefined"!=typeof performance&&"mark"in performance&&"measure"in performance&&"clearMarks"in performance,u=class extends o{constructor(e,r,n){super(),this._isUnreliable=!1,this.name=e,this.attributes=r,this.group=n,this.ref=new WeakRef(this),m.add(this)}start(){this.callDepth=0,this.reset(),super.start(),f.isPerfReportEnabled&&(this.mark=performance.mark(this.performanceMarkStartName,{detail:this.attributes}))}pause(){super.stop()}resume(){super.start()}get isUnreliable(){return this._isUnreliable||document.hidden}set isUnreliable(e){this._isUnreliable=e}get isRunning(){return this.callDepth>0}setTime(e){this.elapsedTime=e}stop(){if(super.stop(),f.isPerfReportEnabled&&this.mark){performance.mark(this.performanceMarkEndName,{detail:this.attributes});try{performance.measure(this.performanceMeasureName,this.performanceMarkStartName,this.performanceMarkEndName),performance.clearMarks(this.performanceMarkStartName),performance.clearMarks(this.performanceMarkEndName)}catch{}this.mark=void 0}return this.group&&(this.group.onStop(this),this.group=void 0),this.getElapsedTime()}setAttribute(e,r){this.attributes[e]=r}getAttributes(){return this.attributes}stableId(){let e=this.attributes.key;return void 0===e&&(void 0===this.id&&(this.id=u.operationSeq++),e=this.id.toString()),e}get performanceMeasureName(){let e=this.stableId();return`${this.name}::${e}`}get performanceMarkStartName(){return`${this.performanceMeasureName}::start`}get performanceMarkEndName(){return`${this.performanceMeasureName}::end`}},p=u;p.operationSeq=0;let h=class{static registryCallback(e){h.operations.delete(e)}static add(e){h.operations.add(e.ref),h.registry.register(e,e.ref,e.ref)}static forEach(e){h.operations.forEach(r=>{let n=r.deref();n?e(n):(h.operations.delete(r),h.registry.unregister(r))})}};h.operations=new Set,h.registry=new FinalizationRegistry(h.registryCallback);class m{static add(e){h.add(e)}}m.onVisibiltyChange=()=>{"hidden"===document.visibilityState&&h.forEach(e=>{e.isRunning&&(e.isUnreliable=!0)})};let g=class{constructor(){this._keepResults=!1,this.operations=new Map}static installCallbacks(){g.installVisibilityChangeCallback(),g.installPeriodicCleanupCallback()}static global(){return _}static removePeriodicCleanupCallback(){void 0!==i&&(clearInterval(i),i=void 0)}static installVisibilityChangeCallback(){document.addEventListener("visibilitychange",()=>{m.onVisibiltyChange(),"visible"===document.visibilityState&&this.installPeriodicCleanupCallback()})}static installPeriodicCleanupCallback(e=6e4,r=36e5){this.removePeriodicCleanupCallback(),i=setInterval(()=>{_.cleanup(r)},e)}keepResults(e){this._keepResults=void 0===e||e}resetAllTimersBeforeTest(){this.operations=new Map}start(e,r){let n=this.getOrCreate(e,r);return n.start(),n}getOrCreate(e,r){let n=this.operations.get(e);n||(n=new Map,this.operations.set(e,n));let i=r?r.key:void 0,a=n.get(i);if(a)return a;{let a=new p(e,r||{},this);return n.set(i,a),a}}get(e,r){var n;return null==(n=this.operations.get(e))?void 0:n.get(r)}getAll(e){return this.operations.get(e)}delete(e,r){var n;return e?(null==(n=this.operations.get(e))?void 0:n.delete(r))||!1:(this.operations.clear(),!0)}pause(e,r){var n;let i=null==(n=this.operations.get(e))?void 0:n.get(r);return i?(i.pause(),!0):(this.maybeThrowError(e,r),!1)}resume(e,r){var n;let i=null==(n=this.operations.get(e))?void 0:n.get(r);return i?(i.resume(),!0):(this.maybeThrowError(e,r),!1)}trySetAttribute(e,r,n,i){var a;let o=null==(a=this.operations.get(e))?void 0:a.get(r);o&&o.setAttribute(n,i)}tryGetAttribute(e,r){var n;let i=null==(n=this.operations.get(e))?void 0:n.get(r);return i?i.getAttributes():{}}reset(e,r){var n;let i=null==(n=this.operations.get(e))?void 0:n.get(r);return!!i&&(i.reset(),!0)}tryStop(e,r){var n;let i=null==(n=this.operations.get(e))?void 0:n.get(r);return i?i.stop():0}maybeThrowError(e,r){}stop(e,r){var n;let i=null==(n=this.operations.get(e))?void 0:n.get(r);return i?i.stop():(this.maybeThrowError(e,r),0)}onStop(e){this._keepResults||this.delete(e.name,e.attributes.key)}report(){return this.operations}cleanup(e=36e5){for(let[r,n]of this.operations.entries()){for(let r of n.values())r.getElapsedTime()>=e&&r.stop();0===n.size&&this.operations.delete(r)}}},f=g;f.isPerfReportEnabled=!c&&!1;let _=new f;class y{constructor(){this._distributions=new Map}create(e,r){this._distributions.set(e,new E(e,r))}add(e,r){var n;null==(n=this._distributions.get(e))||n.add(r)}remove(e){this._distributions.delete(e)}reset(e){var r;null==(r=this._distributions.get(e))||r.resetMetrics()}analyticsProperties(e){var r;return null==(r=this._distributions.get(e))?void 0:r.analyticsProperties()}}class E{constructor(e,r){this.maxMs=-1,this.totalMs=0,this.count=0,this.meanDistanceSq=0,this._analytics_distribution_name=e,this._buckets=[],this._bins=r;for(let e=0;e<this._bins.length;e++)this._buckets.push(0)}add(e){for(let r=0;r<this._bins.length;r++)if(e<=this._bins[r]){this._buckets[r]+=1;break}let r=this.count>0?this.totalMs/this.count:0;this.maxMs=Math.max(this.maxMs,e),this.totalMs+=e,this.count++;let n=this.totalMs/this.count;this.meanDistanceSq+=(e-r)*(e-n)}getMode(){if(0===this.count)return null;let e=0,r=-1;for(let n=0;n<this._bins.length;n++)this._buckets[n]>e&&(e=this._buckets[n],r=n);return r<0?null:{min:0===r?0:this._bins[r-1],max:this._bins[r]}}toLogParams(){let e=[];for(let r=0;r<this._bins.length;r++)e.push(this._buckets[r]);return e}schema(){let e=[];for(let r=0;r<this._bins.length;r++){let n=0===r?0:this._bins[r-1],i=this._bins[r]===Number.MAX_SAFE_INTEGER?"or_higher":this._bins[r];e.push(`count_${n}_to_${i}_ms`)}return e}toPOJO(){let e={};for(let r=0;r<this._bins.length;r++)e[this._bins[r]]=this._buckets[r];return e._avg=this.totalMs/this.count,e._max=this.maxMs,e._stdd=this.count>1?Math.sqrt(this.meanDistanceSq/(this.count-1)):0,e}resetMetrics(){this._buckets=Array(this._bins.length).fill(0),this.maxMs=0,this.count=0,this.totalMs=0,this.meanDistanceSq=0}analyticsProperties(){let e={schema:this.schema()};return e[this._analytics_distribution_name]=this.toLogParams(),e}}let b=[1,9,17,19,20,23,25,29,32,48,64,80,96,112,224,448,896,1792,3584,Number.MAX_SAFE_INTEGER];function v(e,r){let n=Math.pow(10,r);return(e*n|0)/n}class S extends E{constructor(){super("fps",b)}toLogParams(){let e=[this.count,v(this.totalMs/this.count,2),v(this.maxMs,2)];for(let r=0;r<this._bins.length;r++)e.push(this._buckets[r]);return e}schema(){return["frame_count","mean_frame_ms","max_frame_ms"].concat(...super.schema())}}},64898:(e,r,n)=>{"use strict";function i(e,r){return+(e<r)-+(e>r)}n.d(r,{Ez:()=>i})},17037:(e,r,n)=>{"use strict";n.d(r,{E:()=>o,q:()=>a});var i=n(76621);class a extends Error{constructor(e){super(e)}}async function o(e,r,n,o,s,l){var d,c,u;let p=new FormData,h="";for(let e in o)"key"===e&&(h=o[e]),p.append(e,o[e]);p.append("content-type",l),p.append("file",new Blob([s]));let m=null,g=null;try{if(m=await fetch(n,{method:"post",body:p}),204===m.status)return h}catch(e){g=e}let f=!1,_="",y=null==(d=null==m?void 0:m.body)?void 0:d.getReader();if(y){let e=new TextDecoder;for(;;){let{done:r,value:n}=await y.read();if(r)break;_+=e.decode(n)}let r=new DOMParser().parseFromString(_,"text/xml");f=!!(r.querySelector("Error")&&(null==(c=r.querySelector("Method"))?void 0:c.textContent)==="POST"&&(null==(u=r.querySelector("ResourceType"))?void 0:u.textContent)==="OBJECT"&&r.querySelector("RequestId"))}if(!f){let o=`[${r}] uploadToPresignedPost encountered non-S3 response`,s={response:_,status:null==m?void 0:m.status,responseUrl:null==m?void 0:m.url,requestUrl:n,error:null==g?void 0:g.toString()};throw(0,i.$D)(e,Error(o),{extra:s}),console.error(o,s),new a(o)}throw Error(`Failed to upload file: ${n}`)}},10727:(e,r,n)=>{"use strict";function i(e){return new Promise((r,n)=>{let i=Array(e.length),a=e.length,o=()=>{0===a&&r(i)};for(let r=0;r<e.length;r++)e[r].then(e=>{i[r]={type:"resolve",resolve:e,reject:void 0},a--,o()},e=>{i[r]={type:"reject",resolve:void 0,reject:e},a--,o()});o()})}function a(e){let r=null;return()=>(null===r&&(r=e()).catch(()=>r=null),r)}n.d(r,{Kt:()=>a,_7:()=>i})},63042:(e,r,n)=>{"use strict";function i(e){if(!e)return"";if(e.length<1||"<"!==e.charAt(0)||">"!==e.charAt(e.length-1))return e;var r=e.replace(/(<\/[ph]\d?>)/g,"\n");return(r=(r=r.replace(/(<([^>]+)>)/gi,"")).replace(/&nbsp;/g,"\xa0")).replace(/&amp;/g,"&")}n.d(r,{$J:()=>i}),n(36238),n(63706),n(26911)},1372:(e,r,n)=>{"use strict";n.d(r,{EM:()=>s,V$:()=>d});var i=n(17655);let a=[],o=0;function s(e){let r=e.split(":");return{channel:r[0],timestamp:parseInt(r[1]),generation:parseInt(r[2]),signature:r[3]}}let l=(0,i.Xs)(),d=l.v2;window.realtimeClient=l,[].push(function(){o>0||a.forEach(e=>{o+=1,setTimeout(()=>{try{e()}finally{o-=1}},6e4+24e4*Math.random())})})},74705:(e,r,n)=>{"use strict";n.d(r,{N:()=>s,U:()=>o});var i=n(51158),a=n(52800);function o(e,r){e&&(0,i.Dy)(e,r,"deviceInfo")}function s(){return a.CeL?a.CeL.getDeviceInfo():null}},53234:(e,r,n)=>{"use strict";n.d(r,{AF:()=>L,Am:()=>F,C0:()=>O,Ht:()=>k,M5:()=>N,P_:()=>D,Pt:()=>p,Z7:()=>P,aH:()=>f,aQ:()=>A,cZ:()=>w,ht:()=>u,iQ:()=>x,kz:()=>c,o6:()=>h,of:()=>M,qP:()=>y,rf:()=>C,uA:()=>m,v_:()=>R});var i=n(11855),a=n(30637),o=n(63142),s=n(66712),l=n(99445);function d(){return!!a.b_||(0,a.lZ)()||(0,s.kc)()&&(0,s.kc)().interaction_recorder}function c(e){d()&&(0,l.Is)(e)}function u(e){d()&&(0,l.nL)(e)}function p(e,...r){let n;return(n="string"==typeof e?e:null==e?void 0:e.recordingKey)===f||r.includes(f)?f:n?n+"."+r.join("."):n}class h extends i.PureComponent{recordingKey(){return this.props.recordingKey}componentDidMount(){c(this)}componentDidUpdate(e,r){c(this)}componentWillUnmount(){u(this)}}class m extends i.Component{recordingKey(){return this.props.recordingKey}componentDidMount(){c(this)}componentDidUpdate(e,r,n){c(this)}componentWillUnmount(){u(this)}}function g(e){let r=i.useMemo(()=>({recordingKey:()=>e}),[e]);return i.useLayoutEffect(()=>(c(r),()=>u(r)),[r]),r}let f=l.aH;function _(e,r,n,i={}){return d()&&e.recordingKey()!==f?(0,l.YJ)(e,r,n,i):n}function y(e,r,n,a){let o=g(e);return i.useMemo(()=>_(o,r,n,a),[o,r,n,a])}function E(e){let r={};return e.altKey&&(r.altKey=!0),e.shiftKey&&(r.shiftKey=!0),e.metaKey&&(r.metaKey=!0),e.ctrlKey&&(r.ctrlKey=!0),r}let b={preventDefault(){},stopPropagation(){}};function v(e){let r={};return r.altKey=!!e.altKey,r.ctrlKey=!!e.ctrlKey,r.metaKey=!!e.metaKey,r.shiftKey=!!e.shiftKey,r}function S(e){var r,n;let i=null==(n=null==(r=e.currentTarget)?void 0:r.dataset)?void 0:n.testid;return i?{currentTarget:i}:{}}let I={value:"",blur(){},setPointerCapture(){},releasePointerCapture(){}};function T(e){if(e.currentTarget){let r=document.querySelector(`[data-testid="${e.currentTarget}"]`);if(!r)throw Error(`Expected to find element with data-testid="${e.currentTarget}" for currentTarget`);return{currentTarget:new Proxy(r,{get(e,r){switch(r){case"setPointerCapture":case"releasePointerCapture":return()=>{};default:let n=e[r];if("function"==typeof n)return n.bind(e);return n}}})}}return{currentTarget:I}}function w(e,r,n,i){return _(e,r,n,{record(e){e||(e={});let r={buttons:e.buttons,...E(e),...i&&i.recordMetadata?i.recordMetadata(e):{},...S(e)};return i&&i.includeTarget&&(r.target={tagName:e.target.tagName}),r},playback:e=>({clientX:0,clientY:0,button:0,buttons:e.buttons,target:(null==i?void 0:i.includeTarget)?e.target:I,...v(e),...b,...T(e),...i&&i.playbackMetadata?i.playbackMetadata(e):{}})})}function C(e,r,n,a){let o=g(e);return i.useMemo(()=>w(o,r,n,a),[o,r,n,a])}function A(e,r,n){return _(e,r,n,{record(e){let r=e.dataTransfer.files,n={};if(r){let e=[];for(let n of r){let r=e.length;e.push("(failed to read file)"),(function(e){return new Promise((r,n)=>{let i=new FileReader;i.onload=()=>r(new Uint8Array(i.result)),i.onerror=e=>n(e),i.readAsArrayBuffer(e)})})(n).then(n=>{let i=(0,o.lF)(n);i.length>1e3&&(console.warn("Recording of drop events is only supported for small files"),i="(file too large)"),e[r]=i})}n.files=e}return{buttons:e.buttons,...E(e),dataTransfer:n}},playback(e){let r={};return e.dataTransfer.files&&(r.files=e.dataTransfer.files.map(e=>new Blob([(0,o.D4)(e)]))),{clientX:0,clientY:0,button:0,buttons:e.buttons,...v(e),...b,dataTransfer:r}}})}function N(e,r,n,i){return _(e,r,n,{record:e=>(e||(e={}),{buttons:e.buttons,...E(e),...i&&i.recordMetadata?i.recordMetadata(e):{}}),playback:e=>({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons,...v(e),...b,...i&&i.playbackMetadata?i.playbackMetadata(e):{}})})}function O(e,r,n,i){return _(e,r,n,{record:e=>({key:e.key,keyCode:e.keyCode,which:e.keyCode,type:r,...E(e),...i&&i.recordMetadata?i.recordMetadata(e):{},...S(e)}),playback:e=>({key:e.key,keyCode:e.keyCode,which:e.keyCode,type:r,...v(e),...b,...T(e),...i&&i.playbackMetadata?i.playbackMetadata(e):{}})})}function R(e,r,n,a){let o=g(e);return i.useMemo(()=>O(o,r,n,a),[o,r,n,a])}function P(e,r,n){return _(e,r,n,{record:e=>e.currentTarget instanceof HTMLInputElement&&"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){let r={value:e.value,checked:e.checked};return{target:r,currentTarget:r,...b}}})}function L(e,r,n){let a=g(e);return i.useMemo(()=>P(a,r,n),[a,r,n])}function D(e,r,n){return _(e,r,n,{record:e=>({}),playback:e=>({...b})})}function M(e,r,n){let a=g(e);return i.useMemo(()=>D(a,r,n),[a,r,n])}function k(e,r,n){return _(e,r,n,{record:e=>({}),playback:e=>({})})}function x(e,r,n){let a=g(e);return i.useMemo(()=>k(a,r,n),[a,r,n])}function F(e,r,n,i){return _(e,r,n,{record(e){e||(e={});let r={buttons:e.buttons,...E(e),...i&&i.recordMetadata?i.recordMetadata(e):{},...S(e)};return i&&i.includeTarget&&(r.target={tagName:e.target.tagName}),r},playback(e){let r=i&&i.includeTarget?{target:e.target}:{};return{clientX:0,clientY:0,button:0,buttons:e.buttons,pointerId:0,pointerType:"mouse",...v(e),...r,...b,...T(e),...i&&i.playbackMetadata?i.playbackMetadata(e):{}}}})}},22739:(e,r,n)=>{"use strict";n.d(r,{D8:()=>l,GG:()=>c,lt:()=>u,mv:()=>h,oj:()=>d,u2:()=>p});var i=n(11855),a=n(72517),o=n(53234);class s extends o.o6{constructor(){super(...arguments),this.onClick=o.cZ(this,"click",e=>this.props.onClick?this.props.onClick(e):o.aH),this.onContextClick=o.cZ(this,"contextmenu",e=>this.props.onContextMenu?this.props.onContextMenu(e):o.aH),this.onDoubleClick=o.cZ(this,"dblclick",e=>this.props.onDoubleClick?this.props.onDoubleClick(e):o.aH),this.onMouseDown=o.cZ(this,"mousedown",e=>this.props.onMouseDown?this.props.onMouseDown(e):o.aH),this.onMouseUp=o.cZ(this,"mouseup",e=>this.props.onMouseUp?this.props.onMouseUp(e):o.aH),this.onMouseMove=o.cZ(this,"mousemove",e=>this.props.onMouseMove?this.props.onMouseMove(e):o.aH),this.onMouseEnter=o.cZ(this,"mouseenter",e=>this.props.onMouseEnter?this.props.onMouseEnter(e):o.aH),this.onMouseLeave=o.cZ(this,"mouseleave",e=>this.props.onMouseLeave?this.props.onMouseLeave(e):o.aH),this.onPointerDown=o.Am(this,"pointerdown",e=>this.props.onPointerDown?this.props.onPointerDown(e):o.aH),this.onPointerUp=o.Am(this,"pointerup",e=>this.props.onPointerUp?this.props.onPointerUp(e):o.aH),this.onPointerMove=o.Am(this,"pointermove",e=>this.props.onPointerMove?this.props.onPointerMove(e):o.aH),this.onKeyUp=o.C0(this,"keyup",e=>this.props.onKeyUp?this.props.onKeyUp(e):o.aH),this.onKeyDown=o.C0(this,"keydown",e=>this.props.onKeyDown?this.props.onKeyDown(e):o.aH),this.onFocus=o.Ht(this,"focus",e=>this.props.onFocus?this.props.onFocus(e):o.aH),this.onBlur=o.Ht(this,"blur",e=>this.props.onBlur?this.props.onBlur(e):o.aH)}render(){let{recordingKey:e,forwardedRef:r,dataTestId:n,...i}=this.props;return this.recordingKey()&&(this.props.onClick&&(i.onClick=this.onClick),this.props.onDoubleClick&&(i.onDoubleClick=this.onDoubleClick),this.props.onMouseDown&&(i.onMouseDown=this.onMouseDown),this.props.onMouseMove&&(i.onMouseMove=this.onMouseMove),this.props.onMouseEnter&&(i.onMouseEnter=this.onMouseEnter),this.props.onMouseLeave&&(i.onMouseLeave=this.onMouseLeave),this.props.onMouseUp&&(i.onMouseUp=this.onMouseUp),this.props.onContextMenu&&(i.onContextMenu=this.onContextClick),this.props.onKeyUp&&(i.onKeyUp=this.onKeyUp),this.props.onKeyDown&&(i.onKeyDown=this.onKeyDown),this.props.onFocus&&(i.onFocus=this.onFocus),this.props.onBlur&&(i.onBlur=this.onBlur),this.props.onPointerDown&&(i.onPointerDown=this.onPointerDown),this.props.onPointerUp&&(i.onPointerUp=this.onPointerUp),this.props.onPointerMove&&(i.onPointerMove=this.onPointerMove)),n&&(i["data-testid"]=n),this.node(i,r)}}class l extends s{node(e,r){return i.createElement("div",{...e,ref:r})}}l.displayName="RecordableDiv",(0,a.tf)(l);class d extends s{node(e,r){return i.createElement("span",{...e,ref:r})}}d.displayName="RecordableSpan";class c extends s{node(e,r){return i.createElement("button",{...e,ref:r})}}c.displayName="RecordableButton";class u extends s{node(e,r){return i.createElement("a",{...e,ref:r})}}u.displayName="RecordableA";class p extends s{constructor(){super(...arguments),this.onChange=o.Z7(this,"change",e=>this.props.onChange?this.props.onChange(e):o.aH)}node(e,r){return i.createElement("input",{...e,onChange:this.onChange,ref:r,dir:"auto"})}}p.displayName="RecordableInput";class h extends s{constructor(){super(...arguments),this.onChange=o.Z7(this,"change",e=>this.props.onChange?this.props.onChange(e):o.aH)}node(e,r){return i.createElement("textarea",{...e,onChange:this.onChange,ref:r,dir:"auto"})}}h.displayName="RecordableTextarea"},97395:(e,r,n)=>{"use strict";n.d(r,{P8:()=>l,Vh:()=>d,Zm:()=>s});var i=n(41563),a=n.n(i),o=n(50670);function s(e){return(0,o.UI)(e,{resultEqualityCheck:a()})}let l=(0,n(2245).Ad)(o.UI,{resultEqualityCheck:a()});function d(e,r){return(...n)=>r(e(...n))}},76621:(e,r,n)=>{"use strict";let i;n.d(r,{$D:()=>M,DZ:()=>S,ED:()=>G,Lo:()=>W,NU:()=>d.NUh,TX:()=>P,Tm:()=>A,XM:()=>T,Z8:()=>U,Zx:()=>f,fj:()=>H,h$:()=>V,hi:()=>C,it:()=>y,kF:()=>I,mR:()=>N,sC:()=>w,us:()=>k,uy:()=>D,wp:()=>x,x1:()=>K,xg:()=>g,xi:()=>z,xn:()=>_,yO:()=>m,yR:()=>L,zV:()=>b});var a=n(58204),o=n(12012),s=n(66712),l=n(93160),d=n(52800),c=n(79296),u=n(78227),p=n(85052),h=n(86640);let m=[/a\[b\]\.target\.className\.indexOf is not a function/,/\(event\.target\.className \|\| ""\)\.indexOf is not a function/,/XHR for ".*" failed with status/,/Endpoint requires authenticated user/],g=[/\bintercomcdn\.com\b/,/\bkaspersky-labs\.com\b/,/\bchrome-extension:\/\//,/\bmoz-extension:\/\//,/\bsafari-extension:\/\//],f=new p.b("sentry");function _(e){var r,n,i,a;for(let i of(null==(r=e.exception)?void 0:r.values)||[])for(let e of(null==(n=i.stacktrace)?void 0:n.frames)||[])e.filename&&(e.filename=(0,l.Br)(e.filename));(null==(i=e.request)?void 0:i.url)&&(e.request.url=(0,l.Br)(e.request.url)),"string"==typeof(null==(a=e.tags)?void 0:a.url)&&(e.tags.url=(0,l.Br)(e.tags.url))}function y(e){let{category:r,data:n}=e;if("xhr"===r){let e=null==n?void 0:n.url;if(e&&(e.match(/segment.io/)||e.startsWith("/api/figment-proxy")||e.startsWith(`${location.origin}/api/figment-proxy`)))return null;n&&e&&e.startsWith("data:")&&(n.url=`${e.substring(0,36)}... (truncated from ${e.length} characters)`)}return f.trigger("breadcrumb",e),e}let E=!!(0,s.tl)().frontend_sentry_dsn&&!(0,s.tl)().local_dev_on_cluster,b=E,v=(0,s.kc)().slog_to_console||!1;var S=((i=S||{}).Critical="critical",i.Major="major",i.Minor="minor",i.Trivial="trivial",i);function I(e,r){E&&a.NA(e,r)}function T(e,r){E&&a.o(e,r)}function w(e){I("file.key",e.key),null===e.file_repo_id?I("branching","not enabled"):(I("branching_repo",e.file_repo_id),null===e.source_file_key?I("branching","main branch"):I("branching","user branch"))}function C(e){return e&&"filePath"in e}function A(e){e&&a.gV({id:e})}function N(e){e&&a.NA("org.id",e)}let O="figma.reporting",R="user.plan.max";function P(){return function(){let e;let r=(0,h.OZ)();if(!r)return;let n=r.get(O);if(n){try{e=JSON.parse(atob(n))}catch(e){r.delete(O);return}(null==e?void 0:e.uhp)&&(0,h.DN)().set("user.plan.max",e.uhp),r.delete(O),r.set(O,btoa(JSON.stringify(e)),{path:"/api/figment-proxy/monitor"})}}(),(0,h.DN)().get(R)}function L(){let e=P();e&&(e&&a.NA(R,e),(0,u.v)({user_plan_max:e})),(0,u.v)({webpack:"true"})}function D(e){e&&a.NA("server_release",e)}let M=(0,c.D)((e,r,n)=>{var i;let o;if(!r.reportedToSentry&&(null==(i=r.cause)||!i.reportedToSentry))return r.reportedToSentry=!0,v&&console.error(r,n),E&&a.v4(function(i){if(i.setTag("area",e),r.sentryTags)for(let e in r.sentryTags)i.setTag(e,r.sentryTags[e]);o=a.Cp(r,n)}),o});function k(e){v&&console.error(e),E&&a.wd(e)}function x(){let e=(0,s.tl)().release_manifest_git_commit;if(b&&e){let e=o.BF();e.startSession(),e.captureSession()}}window.sentryErrorReporter=e=>{a.Cp(e)};let F=null;function U(e){F=e}function B(e,r,n,i,o){if((o={...o||{}}).logToConsole=o.logToConsole??d.NUh.DEFAULT,o.createSentryBreadcrumb=o.createSentryBreadcrumb??!0,o.modeEventName=o.modeEventName??"",o.forwardToDatadog=o.forwardToDatadog??!1,o.figmentOnly=o.figmentOnly??!1,o.reportAsSentryError=o.reportAsSentryError??!1,o.includePayloadAsTags=o.includePayloadAsTags??!1,o.logToConsole===d.NUh.ALWAYS||o.logToConsole===d.NUh.DEFAULT&&v)({debug:console.debug,info:console.info,warning:console.warn,error:console.error})[e].call(console,r,n,i);else{let a=window.FigmaMobile;(null==a?void 0:a.logMessageToNative)&&a.logMessageToNative({severity:e,category:r,message:n,filePath:o.filePath,lineNumber:o.lineNumber,data:i})}if(o.createSentryBreadcrumb&&b&&null!=e){let o={level:e};n&&(o.message=n),i&&(o.data=i),r&&(o.category=r),a.ZQ(o)}if(o.reportAsSentryError){let e=Error(r?`[${r}] ${n}`:n);o.filePath&&(e.filePath=o.filePath,e.lineNumber=o.lineNumber),o.includePayloadAsTags?a.v4(r=>{if(i)for(let[e,n]of Object.entries(i))r.setTag(e,n);a.Cp(e)}):a.Cp(e)}if(o.modeEventName){let e="";for(let r of o.modeEventName)"A"<=r&&r<="Z"?e+=r.toLowerCase():"-"===r?e+="_":e+=r;null==F||F(e,i,o.forwardToDatadog)}}function V(e,r){!(0,s.kc)().numeric_id_sentry_monitoring||!e||!window.scheduler||(0,s.kc)().numeric_id_sentry_sample&&Math.random()>.05||scheduler.postTask(()=>{let n=(0,l.vn)(r.pathname),i=`${r.verb} ${n}`,a=[];JSON.parse(JSON.stringify(e),(e,r)=>(("id"===e||e.endsWith("_id")||e.endsWith("_id_or_key"))&&"number"==typeof r?a.push([e,r]):"_ids"===e.slice(-4)&&Array.isArray(r)&&r.some(e=>"number"==typeof e)&&a.push([e,r]),r)),a.length&&K("alertOnNumericIds","numeric ids found in payload",{context:i,obj:e,foundPairs:a},{logToConsole:d.NUh.ALWAYS,reportAsSentryError:!0})},{priority:"background"})}function H(e,r,n,i,a,o,s){let l=function(e){switch(e){case 0:return"debug";case 1:return"info";case 2:return"warning";case 3:return"error"}}(e);if(!l)throw Error("unknown severity");s.filePath=n,s.lineNumber=i,B(l,r,a,o,s)}function G(e,r,n,i){B("debug",e,r,n,i)}let W=(0,c.D)((e,r,n,i)=>{B("info",e,r,n,i)});function z(e,r,n,i){B("warning",e,r,n,i)}let K=(0,c.D)((e,r,n,i)=>{B("error",e,r,n,i)})},37304:(e,r,n)=>{"use strict";function i(e,r){return e.size===r.size&&a(e,r)}function a(e,r){return[...e].every(e=>r.has(e))}function o(e,r){let n=new Set,i=new Set;return null==r||r.forEach(r=>{e.has(r)||i.add(r)}),e.forEach(e=>{(null==r?void 0:r.has(e))||n.add(e)}),{added:n,removed:i}}n.d(r,{Bq:()=>a,Zv:()=>o,_f:()=>i})},81396:(e,r,n)=>{"use strict";function i(e,r,n){for(let r=0;r<16;r=r+1|0)e[r]=n[r<<2]<<24|n[(r<<2)+1|0]<<16|n[(r<<2)+2|0]<<8|n[(r<<2)+3|0];for(let r=16;r<80;r=r+1|0){let n=e[r-3|0]^e[r-8|0]^e[r-14|0]^e[r-16|0];e[r]=n<<1|n>>>31}let i=r[0],a=r[1],o=r[2],s=r[3],l=r[4];for(let r=0;r<80;r=r+1|0){let n=((i<<5|i>>>27)+l|0)+e[r]|0;n=r<20?(n+(a&o|~a&s)|0)+1518500249|0:r<40?(n+(a^o^s)|0)+1859775393|0:r<60?(n+(a&o|a&s|o&s)|0)+2400959708|0:(n+(a^o^s)|0)+3395469782|0,l=s,s=o,o=a<<30|a>>>2,a=i,i=n}r[0]=r[0]+i|0,r[1]=r[1]+a|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0}function a(e){let r=new Uint8Array(20),n=new Int32Array(80),a=new Uint8Array(64),o=new Int32Array([1732584193,4023233417,2562383102,271733878,3285377520]),s=0,l=0,d=e.length;for(;d>0;)d=d-1|0,a[l]=e[s],s=s+1|0,64==(l=l+1|0)&&(i(n,o,a),l=0);if(a[l]=128,(l=l+1|0)>56){for(;l<64;)a[l]=0,l=l+1|0;i(n,o,a),l=0}for(let e=l;e<56;e=e+1|0)a[e]=0;let c=s<<3;for(let e=7;e>=0;e=e-1|0)a[56+e|0]=255&c,c>>>=8;l=64,i(n,o,a);for(let e=0;e<5;e=e+1|0){let n=o[e];for(let i=3;i>=0;i=i-1|0)r[(e<<2)+i|0]=255&n,n>>>=8}let u=[];for(var p=0;p<r.length;p++)u.push((256|r[p]).toString(16).slice(1));return u.join("")}function o(e){return function(e){if(20!==e.length)throw Error("Invalid SHA1 hash")}(e),[].map.call(e,e=>(256|e).toString(16).slice(1)).join("")}function s(e){!function(e){if(!/^[0-9A-Fa-f]{40}$/.test(e))throw Error("Invalid SHA1 hash")}(e);let r=new Uint8Array(20);for(let n=0;n<40;n+=2)r[n/2]=parseInt(e.slice(n,n+2),16);return r}n.d(r,{Et:()=>a,aD:()=>s,nj:()=>o})},84917:(e,r,n)=>{"use strict";n.d(r,{N:()=>s});var i=n(84934),a=n(66712);let o=class{constructor(e,r,n){this.frameNumber=0,this.forceNextFrameToBeSampled=!1,this.addPerFrameMetricsCallback=()=>{},this.clearPerFrameMetricsCallback=()=>{},this.isPrototypingFrameTracker=e,this.addPerFrameMetricsCallback=r,this.clearPerFrameMetricsCallback=n}incrementFrameCounter(){this.frameNumber++}checkSlowFrameAndSample(e,r,n){if(!(0,a.kc)().enable_slow_frame_tracking)return;let i=this.forceNextFrameToBeSampled,o=1;e<300&&!i&&(o=e<1?.00672:e<9?14e-5:e<17?8e-5:e<19?32e-5:e<20?.00174:e<23?.00152:e<25?.00558:e<29?.00468:e<32?.00676:e<48?.00226:e<64?.0117:e<80?.02408:e<100?.04268:.02134),this.forceNextFrameToBeSampled=e>=300,(i||this.forceNextFrameToBeSampled||o>Math.random())&&this.sampleSlowFrame(e,o,i,r,n)}clearPerFrameMetrics(){this.clearPerFrameMetricsCallback()}sampleSlowFrame(e,r,n,s,l){let d={};d.frameTimeMs=e,d.frameSamplingRate=r,d.protoSlowFrameTracker=this.isPrototypingFrameTracker,d.frameNumber=this.frameNumber,d.frameWasForceSampled=n,d.trackersHit=s,d.trackerTotalTimeMs=l,this.addPerFrameMetricsCallback(d),(0,a.kc)().defer_network_call_slow_frame?setTimeout(()=>{(0,i.sx)(o.analyticsName,d,o.loggerOptions)},0):(0,i.sx)(o.analyticsName,d,o.loggerOptions)}},s=o;s.optimizationExposuresKey="optimizationExposures",s.loggerOptions={forwardToDatadog:!1,batchRequest:!0},s.analyticsName="slow_frame_tracker"},68444:(e,r,n)=>{"use strict";n.d(r,{Y:()=>a});var i=n(84934);class a{constructor(e,r){this._timeOfLastDisconnectMs=null,this._timeOfLastConnectionMs=null,this._timeOfFirstConnectionMs=null,this._definedConnectionAttemptEventName=e,this._definedDisconnectEventName=r}handleSocketDisconnect(e){if(null==this._timeOfLastConnectionMs)return;this._timeOfLastDisconnectMs=this.nowMs();let r=(this._timeOfLastDisconnectMs-this._timeOfLastConnectionMs)/1e3,n=this.nowMs()/1e3;i.az.trackDefinedEvent(this._definedDisconnectEventName,{connectionDurationSeconds:r,windowIsActive:e,sessionLengthSeconds:n})}handleSocketConnectionAttempt(e,r,n,a){if(!e&&r<3)return;let o=null==this._timeOfLastDisconnectMs?0:this._timeOfLastDisconnectMs,s=(this.nowMs()-o)/1e3;e&&(this._timeOfLastConnectionMs=this.nowMs(),null==this._timeOfFirstConnectionMs&&(this._timeOfFirstConnectionMs=this._timeOfLastConnectionMs));let l=this.nowMs()/1e3;i.az.trackDefinedEvent(this._definedConnectionAttemptEventName,{success:e,timeSinceDisconnectSeconds:s,numberOfConnectionAttempts:r,firstTimeConnecting:n,windowIsActive:a,sessionLengthSeconds:l})}nowMs(){return Math.round(performance.now())}}},38741:(e,r,n)=>{"use strict";n.d(r,{oJ:()=>m,tu:()=>h});var i=n(11855),a=n(88507),o=n(39863),s=n(92592),l=n(52800);n(78933);var d=n(11978),c=n(84934),u=n(75515);function p(e){let{observingSessionID:r,presenterSessionID:n}=e,i=e.allUsers.find(r=>r.sessionID===e.sessionID),a=n?e.allUsers.find(e=>e.sessionID===n):null,o=r?e.allUsers.find(e=>e.sessionID===r):null;return{isPrototypeViewer:"prototype"===e.deviceNameFilter,presentingUserId:null==a?void 0:a.userID,presentingSessionId:null==a?void 0:a.sessionID,observingUserId:null==o?void 0:o.userID,observingSessionId:null==o?void 0:o.sessionID,currentUserId:null==i?void 0:i.userID,currentUserSessionId:null==i?void 0:i.sessionID}}function h(){let e="prototype"===(0,d.z3)(),r=(0,a.wA)();return i.useCallback((n,i)=>{e?g(n,i,(0,u.hk)(),r):g(n,i,null,r)},[e,r])}function m(){let e="prototype"===(0,d.z3)(),r=(0,a.wA)();return i.useCallback((n,i)=>{e?f(n,i,(0,u.hk)(),r):f(n,i,null,r)},[e,r])}function g(e,r,n,i){n?n.nominatePresenter(e):l.h3O.nominatePresenter(e);let a=r.allUsers.find(r=>r.sessionID===e);if(null==a?void 0:a.name){let e=(0,o.t)("collaboration.spotlight.visual_bell.nominated_user_to_spotlight",{userName:a.name});i(s.F.enqueue({message:e,type:"nominated_presenter"}))}(0,c.sx)("Spotlight Nomination Requested",{nominatedSessionID:e,nominatedUserID:null==a?void 0:a.userID,...p(r)})}function f(e,r,n,i){n?n.cancelPresenterNomination(e):l.h3O.cancelPresenterNomination(e);let a=r.allUsers.find(r=>r.sessionID===e),d=(0,o.t)("collaboration.spotlight.visual_bell.stopped_nominating_user_to_spotlight");i(s.F.enqueue({message:d,type:"nominated_presenter"})),(0,c.sx)("Spotlight Nomination Canceled",{cancelledNomineeSessionId:null==a?void 0:a.sessionID,cancelledNomineeUserId:null==a?void 0:a.userID,cancelledByNominee:e===r.sessionID,...p(r)})}},47899:(e,r,n)=>{"use strict";n.d(r,{aH:()=>g.aH,sq:()=>g.sq,hW:()=>E,S$:()=>S,I7:()=>v});var i=n(11855);n(88507);var a=n(79438),o=n(31028),s=n(66712),l=n(74626),d=n(38580);n(31828),n(82947);var c=n(72631),u=n(58145),p=n(30637),h=n(24601),m=n(91353),g=n(77373),f=n(54282),_=n(20017);let y=class{static getFeatureGate(e,r){var n;return this.FrozenFeatureGates.has(e)||this.FrozenFeatureGates.set(e,(0,_.d)((0,f.NF)(e,r,!0))),this.AlreadyExposedSet.has(e)||(this.ToBeExposedSet.add(e),null==this.LogExposureTimeoutHandle&&(this.LogExposureTimeoutHandle=window.setTimeout(this.LogExposureCallback,this.LogExposureDelayMs))),null==(n=this.FrozenFeatureGates.get(e))?void 0:n.value}static updateFeatureGateForTesting(e,r){this.FrozenFeatureGates.set(e,(0,_.d)(r))}static clear(){this.FrozenFeatureGates.clear(),this.AlreadyExposedSet.clear(),this.ToBeExposedSet.clear(),null!=this.LogExposureTimeoutHandle&&(clearTimeout(this.LogExposureTimeoutHandle),this.LogExposureTimeoutHandle=null)}};async function E(e,r,n,i=!1){let a=l.zl.get(h.ZJ);return(n||(0,s.kc)().statsig_suspend)&&await a.initCompletedPromise,I(l.zl.get(h.ZJ),e,"getExperiment",r,i)}function b(e,r,n){let{userVersion:a}=(0,i.useContext)(o.StatsigContext),s=(0,u.Z)(a),d=(0,l.md)(h.ZJ),c=(0,i.useRef)(null);return{getConfig:(0,i.useCallback)(()=>((s!==a||null==c.current)&&(c.current=I(d,e,"useExperiment",r,n)),c.current),[e,r,s,d,a,n])}}y.FrozenFeatureGates=new Map,y.AlreadyExposedSet=new Set,y.ToBeExposedSet=new Set,y.LogExposureCallback=()=>{for(let e of y.ToBeExposedSet)(0,f.aI)(e)&&(y.AlreadyExposedSet.add(e),y.ToBeExposedSet.delete(e));y.LogExposureTimeoutHandle=null},y.LogExposureDelayMs=3e4,y.LogExposureTimeoutHandle=null;let v=(0,s.kc)().statsig_suspend?function(e,r,n){return(0,l.md)(h.u_),b(e,r,n)}:b;(0,s.kc)().statsig_suspend;let S=(0,l.Iz)(({experimentName:e,keepDeviceValue:r,disableExposureLogging:n})=>(0,d.eU)(async i=>{await i(h.u_),i(h.gR);let a=i(h.ZJ),o=null;return()=>(null==o&&(o=I(a,e,"getExperiment",r,n)),o)}),(e,r)=>e.experimentName===r.experimentName&&e.disableExposureLogging===r.disableExposureLogging&&e.keepDeviceValue===r.keepDeviceValue);function I(e,r,n,i=!1,a=!1){var l;if(!o.Statsig.initializeCalled()||(0,s.Ay)().e2e_ci_test||e.status!==g.Uv.COMPLETED)return T;let d=0,u=null,h=T;try{d=(0,c.vo)("statsigGetExperimentValDuration",()=>{h=a?o.Statsig.getExperimentWithExposureLoggingDisabled(r,{keepDeviceValue:i}):o.Statsig.getExperiment(r,i)})}catch(n){let e=(null==(l=(0,s.Ay)().user_data)?void 0:l.id)||"undefined";(0,m.Us)(`Errored while fetching experiment config for experiment ${r} and user ${e}: ${n}`),u=n instanceof Error?n:null}if(null===u&&(0,m.zz)(r,d,n,h.getEvaluationDetails().reason,h.getRuleID(),o.Statsig.getCurrentUser()),(0,p.nl)()&&m.su===r){let e=h.getValue();(0,m.pk)(m.su,d),(0,m.pk)(`${m.su}_value`,e)}return h}let T=new a.DynamicConfig("default",{},"default",{reason:a.EvaluationReason.Unrecognized,time:Date.now()})},86640:(e,r,n)=>{"use strict";n.d(r,{Co:()=>o,DN:()=>m,OS:()=>c,OZ:()=>f,Q_:()=>d,TQ:()=>l,UG:()=>g,nL:()=>a,x4:()=>s}),n(11855);var i=n(63706);let a="ajs_anonymous_id",o=null,s=null;try{o=window.sessionStorage}catch(e){}try{s=window.localStorage}catch(e){}function l(){return s}function d(){return o}function c(e,r){for(let n of(r+="=",e.split(";"))){let e=/^\s*(.*)$/.exec(n);if(e&&(n=e[1]).slice(0,r.length)===r)return decodeURIComponent(n.slice(r.length))}return null}class u{get(e){let r=c(document.cookie,e);if(null===r)return null;try{return JSON.parse(r)}catch{return r}}set(e,r,n){let o=encodeURI(JSON.stringify(r)),s=new Date(Date.now()+2592e6).toUTCString(),l=`${e}=${o}; path=/;`;if((null==n?void 0:n.maxAge)?l+=` max-age=${null==n?void 0:n.maxAge};`:l+=` expires=${s};`,e===a){let e=location.hostname.split(".");l+=` domain=.${e.slice(e.length-2,e.length).join(".")};`}let d="https:"===location.protocol,[c,u]=`${i.Ay.osversion}`.split(".");if(!((null==n?void 0:n.sameSite)==="none"&&i.Ay.safari&&13>+i.Ay.version&&i.Ay.mac&&11>+c&&15>+u)){let e=(null==n?void 0:n.sameSite)||"lax";d||"none"!==e||(e="lax"),l+=` samesite=${e};`}(null==n?void 0:n.path)&&(l+=` path=${n.path};`),d&&(l+=" secure;"),document.cookie=l}delete(e,{includeDotDomainPrefix:r=!1}={}){let n=`${e}=; Max-Age=0; path=/;`;r&&(n+=`domain=.${window.location.hostname}`),document.cookie=n}}class p{get(e){if(null==s)return null;let r=window.localStorage.getItem(e);return null===r?null:JSON.parse(r)}set(e,r){null!=s&&window.localStorage.setItem(e,JSON.stringify(r))}delete(e){null!=s&&window.localStorage.removeItem(e)}}let h=new Map;function m(){return s?new p:h}function g(){return f()||m()}function f(){if(navigator.cookieEnabled)try{return document.cookie,new u}catch(e){}return null}},54322:(e,r,n)=>{"use strict";n.d(r,{Av:()=>d,bG:()=>c});var i=n(9831);n(39671);var a=n(91408),o=n(60168);let s=(0,a.jz)(o.tui),l=(0,a.jz)(o.LdP);function d(){return"whiteboard"===(0,i.lg)()?s:l}function c(){return"whiteboard"===document.body.dataset.editorTheme?s:l}(0,a.jz)(o.IuL),(0,a.jz)(o.MJh)},25871:(e,r,n)=>{"use strict";n.d(r,{EG:()=>l,MZ:()=>d,fF:()=>s});var i=n(66712);let a="",o=0;function s(){return""===a&&(a=(0,i.tl)().tracking_session_id||d()),a}function l(){return++o}function d(){return Math.random().toString(36).substring(2)}},1844:(e,r,n)=>{"use strict";n.d(r,{Q:()=>o});var i=n(81396),a=n(208);function o(e,r,n){return null==n&&(n="image/png"),a.Ay.post("/api/upnode/image",r,{rawBody:!0,params:{purpose:e,sha1:(0,i.Et)(r)},headers:{...a.Ay.requiredHeaders,"Content-Type":n}})}},75515:(e,r,n)=>{"use strict";n.d(r,{O5:()=>s,hk:()=>o});var i=n(11855);n(86759),n(68444),n(47899),n(56029);var a=n(82331);function o(){return null}function s(e,r,n){i.useEffect(()=>(null==e||e.on(r,n),()=>{null==e||e.off(r,n)}),[e,r,n])}n(30637),new a.L},77432:(e,r,n)=>{"use strict";async function i(e){await new Promise((r,n)=>setTimeout(r,e))}async function a(){await new Promise(e=>requestAnimationFrame(e))}function o(e,r,n){return new Promise(async i=>{let a=setTimeout(()=>{r(),i()},n);Promise.resolve(e)==e?await e:await e(),clearTimeout(a),i()})}n.d(r,{fm:()=>i,i$:()=>o,yQ:()=>a})},64887:(e,r,n)=>{"use strict";n.d(r,{Ph:()=>o,ly:()=>a,yp:()=>i});let i=!!navigator.locks;function a(e){return navigator.locks?new Promise((r,n)=>{let i=navigator.locks.request(e,{ifAvailable:!0},async n=>{if(!n){r(null);return}await new Promise((n,a)=>{r({name:e,release:async()=>{n(),await i}})})}).catch(e=>{setTimeout(()=>{throw e})})}):Promise.resolve({name:e,release:async()=>{}})}async function o(e){return navigator.locks?await navigator.locks.request(e,{ifAvailable:!0},e=>!!e):Promise.resolve(!0)}},15220:(e,r,n)=>{"use strict";let i;n.d(r,{WQ:()=>d,ap:()=>l}),n(84934);var a=n(66712);n(65482);var o=n(12850);n(74705);var s=((i=s||{})[i.SUCCESS=0]="SUCCESS",i[i.NO_WEBGL=1]="NO_WEBGL",i[i.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE",i);function l(){return!!(0,a.kc)().use_webgl2&&o.X.isWebGL2Supported()}function d(){return!!(0,a.kc)().use_webgl2_viewer&&o.X.isWebGL2Supported()}},30654:(e,r,n)=>{"use strict";let i;n.r(r),n.d(r,{BRAND:()=>s.qt,DIRTY:()=>s.jm,EMPTY_PATH:()=>s.I3,Favor:()=>_,INVALID:()=>s.uY,LIVESTORE_NORM:()=>c,LIVESTORE_PK:()=>d,NEVER:()=>s.tm,OK:()=>s.OK,ParseStatus:()=>s.MY,Schema:()=>s.Sj,ZodAny:()=>s.Ml,ZodArray:()=>s.n,ZodBigInt:()=>s.Lr,ZodBoolean:()=>s.WF,ZodBranded:()=>s.eN,ZodCatch:()=>s.hw,ZodDate:()=>s.aP,ZodDefault:()=>s.Xi,ZodDiscriminatedUnion:()=>S,ZodEffects:()=>s.k1,ZodEnum:()=>s.Vb,ZodError:()=>s.G,ZodFirstPartyTypeKind:()=>s.kY,ZodFunction:()=>s.CZ,ZodIntersection:()=>s.Jv,ZodIssueCode:()=>s.eq,ZodLazy:()=>s.Ih,ZodLiteral:()=>s.DN,ZodMap:()=>s.Ut,ZodNaN:()=>s.Tq,ZodNativeEnum:()=>s.WM,ZodNever:()=>s.iS,ZodNull:()=>s.PQ,ZodNullable:()=>s.l1,ZodNumber:()=>s.rS,ZodObject:()=>s.bv,ZodOptional:()=>s.Ii,ZodParsedType:()=>s.Zp,ZodPipeline:()=>s._c,ZodPromise:()=>s.$i,ZodReadonly:()=>s.EV,ZodRecord:()=>s.b8,ZodSchema:()=>s.lK,ZodSet:()=>s.Kz,ZodString:()=>s.ND,ZodSymbol:()=>s.K5,ZodTransformer:()=>s.BG,ZodTuple:()=>s.y0,ZodType:()=>s.aR,ZodUndefined:()=>s._Z,ZodUnion:()=>s.fZ,ZodUnknown:()=>s._,ZodVoid:()=>s.a0,addIssueToContext:()=>s.zn,any:()=>s.bz,array:()=>s.YO,bigint:()=>s.o,boolean:()=>s.zM,coerce:()=>g,custom:()=>s.Ie,date:()=>s.p6,defaultErrorMap:()=>s.su,discriminatedUnion:()=>T,effect:()=>s.QZ,enum:()=>s.k5,filteredArray:()=>v,function:()=>s.fH,getErrorMap:()=>s.$W,getParsedType:()=>s.CR,ignore:()=>m,instanceof:()=>s.Nl,intersection:()=>s.E$,isAborted:()=>s.G4,isAsync:()=>s.xP,isDirty:()=>s.DM,isValid:()=>s.fn,late:()=>s.yK,lazy:()=>s.RZ,literal:()=>s.eu,makeIssue:()=>s.y7,map:()=>s.Tj,nan:()=>s.oi,nativeEnum:()=>s.fc,never:()=>s.Zm,normalize:()=>p,null:()=>s.ch,nullable:()=>s.me,number:()=>s.ai,object:()=>s.Ik,objectUtil:()=>s.o6,oboolean:()=>s.yN,onumber:()=>s.p7,optional:()=>s.lq,ostring:()=>s.Di,partial:()=>b,pipeline:()=>s.Tk,preprocess:()=>s.vk,primaryKey:()=>u,promise:()=>s.iv,quotelessJson:()=>s.WI,record:()=>s.g1,set:()=>s.hZ,setErrorMap:()=>s.pJ,sinatra:()=>E,strictObject:()=>s.re,string:()=>s.Yj,symbol:()=>s.HR,transformer:()=>s.Gu,tuple:()=>s.PV,undefined:()=>s.Vx,union:()=>s.KC,unknown:()=>s.L5,util:()=>s.ZS,void:()=>s.rI,z:()=>s.z});var a=n(12543),o=n.n(a),s=n(63838),l=n(30637);let d="__LIVESTORE_PK__",c="__LIVESTORE_NORM__",u=()=>s.z.string().describe(d);function p(e,r){return r.describe(`${c}:${e}`)}let h=e=>{if(e instanceof s.z.ZodLazy)return h(e.schema);if(e instanceof s.z.ZodEffects)return h(e.innerType());if(e instanceof s.z.ZodLiteral)return[e.value];if(e instanceof s.z.ZodEnum)return e.options;if(e instanceof s.z.ZodNativeEnum)return Object.keys(e.enum);if(e instanceof s.z.ZodDefault)return h(e._def.innerType);if(e instanceof s.z.ZodUndefined)return[void 0];else if(e instanceof s.z.ZodNull)return[null];else return null};function m(e){return s.z.any().transform(e=>e)}let g={...s.z.coerce,null:e=>s.z.preprocess(e=>void 0===e?null:e,e),undefined:e=>s.z.preprocess(e=>{if(null!==e)return e},e)},f=new Set([s.kY.ZodNullable,s.kY.ZodOptional]);var _=((i=_||{})[i.SINATRA=0]="SINATRA",i[i.LIVEGRAPH=1]="LIVEGRAPH",i);function y(e){return s.z.preprocess(e=>{if(void 0===e)return null;if(e&&"string"==typeof e){if(""===e&&(0,l.Lg)())throw Error("You are passing an empty string for a sinatra date. Don't do that.");return new Date(e)}return e},e)}function E(e,r){return r?function(e,r){let n={},i=e.shape;Object.keys(i).map(e=>e).forEach(e=>{let a=o()(e),l=i[e]._def.typeName;if(l=f.has(l)?i[e]._def.innerType._def.typeName:l,a!==e&&(!r||r.shape[a])){if(l===s.kY.ZodDate){n[e]=y(i[e]);return}n[e]=s.z.preprocess(e=>void 0===e?null:e,i[e])}});let a=r.merge(s.z.object(n).passthrough());return s.z.preprocess(e=>{let r={...e};return Object.keys(i).map(e=>e).forEach(n=>{let i=o()(n);i!==n&&(r[n]=e[i])}),r},a.passthrough())}(e,r):function(e){let r={},n=e.shape;Object.keys(n).map(e=>e).forEach(e=>{let i=o()(e),a=n[e]._def.typeName;if(a=f.has(a)?n[e]._def.innerType._def.typeName:a,i===e||a===s.kY.ZodDate){r[e]=y(n[e]);return}});let i=s.z.object(e.shape);return s.z.preprocess(e=>{let r={...e};return Object.keys(n).map(e=>e).forEach(n=>{let i=o()(n);i!==n&&(r[n]=e[i])}),r},i)}(e)}function b(e,r=[]){let n={},i={...e.innerType().shape};r.forEach(r=>{n[r]=e.innerType().shape[r],delete i[r]});let a=s.z.object(i).partial(),o=s.z.object(n).merge(a);return s.z.effect(o,e._def.effect)}function v(e){return s.z.array(s.z.unknown()).transform(r=>r.filter(r=>e.safeParse(r).success))}Symbol("convertedSinatraModel"),(E||(E={})).discriminatedUnion=function(e,r,n){return s.z.preprocess(r=>({...r,[e]:r[o()(e)]}),I(e,r,n))};class S extends s.z.ZodType{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==s.z.ZodParsedType.object)return s.z.addIssueToContext(r,{code:s.z.ZodIssueCode.invalid_type,expected:s.z.ZodParsedType.object,received:r.parsedType}),s.z.INVALID;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(s.z.addIssueToContext(r,{code:s.z.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),s.z.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let n of r){let r=h(("shape"in n?n.shape:n.innerType().shape)[e]);if(!r)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of r){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,n)}}return new S({typeName:s.kY.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...function(e){if(!e)return{};let{errorMap:r,invalid_type_error:n,required_error:i,description:a}=e;if(r&&(n||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return r?{errorMap:r,description:a}:{errorMap:(e,r)=>"invalid_type"!==e.code?{message:r.defaultError}:void 0===r.data?{message:i??r.defaultError}:{message:n??r.defaultError},description:a}}(n)})}}let I=S.create,T=I},15354:(e,r,n)=>{"use strict";n.d(r,{LR:()=>d,Lf:()=>l});var i=n(30654),a=n(69870),o=n(57406),s=n(7646);function l(e){return!!((0,a.MP)()&&(0,s.G)())&&((0,o.m)({url:e}),!0)}function d(){return!!((0,a.MP)()&&(0,s.G)())&&((0,o.m)({action:"backToFiles"}),!0)}(0,n(38580).eU)(null),i.object({type:i.literal("collaborationHostNameMessage"),collaborationHostName:i.string().nullable().optional()})},50252:(e,r,n)=>{"use strict";function i(e){let r=document.visibilityState;e?(delete document.visibilityState,delete document.hidden):Object.defineProperties(document,{visibilityState:{value:"hidden",configurable:!0},hidden:{value:!0,configurable:!0}}),r!==document.visibilityState&&(a=!1,document.dispatchEvent(new Event("visibilitychange",{bubbles:!0}))),a=!e}n.d(r,{R:()=>i});let a=!1;window.addEventListener("visibilitychange",function(e){a&&(e.stopPropagation(),e.stopImmediatePropagation())},{capture:!0,passive:!0})},5753:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c,u,p,h,m,g,f,_,y,E,b,v,S,I,T,w,C,A,N,O,R,P,L,D,M,k,x,F,U,B,V,H,G,W,z,K,j,Y,$,q,Z,X,J,Q,ee,et,er,en,ei,ea,eo;n.d(r,{J:()=>TE}),n(25609),n(59341);var es,el,ed,ec,eu,ep=n(11855),eh=n(35283),em=n(11617),eg=n(31664),ef=n(9225),e_=n(63706),ey=n(76621),eE=n(208),eb=n(39863),ev=n(72517),eS=n(88022),eI=n(88536),eT=n(52800),ew=n(22983),eC=n(60707),eA=n(9511),eN=n(37499),eO=n(99506);let eR=!1;var eP=n(94500),eL=n(59403),eD=n(43678),eM=n(29019),ek=n.n(eM),ex=n(84934),eF=n(38580),eU=n(86640),eB=n(46689),eV=n(30949),eH=n(57544),eG=n(1505);let eW="mobile_download_prompt--mobilePromptTitle--tKWO- text--fontPos13--xW8hS text--_fontBase--QdLsd",ez="mobile_download_prompt--mobilePromptOption--764X8",eK="mobile_download_prompt--mobilePromptOptionTitle--TUnFb text--fontPos13--xW8hS text--_fontBase--QdLsd",ej="mobile_download_prompt--mobilePromptOptionImage--vBsWG",eY="mobile_download_prompt_dismissed";function e$(e){let{isCompact:r}=e,n=e_.aR?eH.o:eH.J,i=(0,eU.UG)(),a=!r&&!!e.renderBlockingPrompt,[o,s]=ep.useState(!a),[l,d]=ep.useState(!a);ep.useEffect(()=>{null===i.get(eY)&&(s(!1),d(!1))},[i,a]);let c=()=>{a||(s(!0),(0,ex.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{d(!0)},300),i.set(eY,!0))};return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:ek()({"mobile_download_prompt--overlay--mTXMJ":!0,"mobile_download_prompt--overlayClosed--7-jAV":o,"mobile_download_prompt--overlayAnimateEnd--E5M6f":l}),style:{transitionDuration:"300ms"},onClick:c},ep.createElement("div",{className:ek()("mobile_download_prompt--mobilePromptContainer--WxLtl","mobile_download_prompt--mobileDownloadPromptContainer--1KRZt",{"mobile_download_prompt--mobileDownloadPromptContainerClosed--9wXc1":o,"mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--F94m4":a}),onClick:e=>{e.stopPropagation()}},ep.createElement("div",{className:ek()("mobile_download_prompt--mobilePromptDescriptionContainer--qj1Ie",{"mobile_download_prompt--fullHeightPrompt--mi3KX":a})},r?ep.createElement(eZ,null):ep.createElement(eq,{renderBlockingPrompt:a??!1})),ep.createElement("hr",{className:ek()({"mobile_download_prompt--mobilePromptHR--wjA7i":!0,"mobile_download_prompt--fullWidthHR--r3OLf":a})}),ep.createElement("div",{className:ez},ep.createElement("img",{className:ej,src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:(0,eb.t)("file_browser.mobile_prompt.app_image_alt")}),ep.createElement("div",null,ep.createElement("h3",{className:eK},ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.app_title"})),ep.createElement("p",{className:"mobile_download_prompt--mobilePromptOptionDescription--tWFT7 text--fontPos11--2LvXf text--_fontBase--QdLsd"},a?ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.app_description_new"}):ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.app_description"}))),ep.createElement(eB.pY,{trackingProperties:{userId:e.userIdForTracking,appLink:n,trackingDescriptor:eG.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},href:n,className:"mobile_download_prompt--downloadActionButton--oyD35"},ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.app_action"}))),!a&&ep.createElement("div",{className:ez},ep.createElement("img",{className:ej,src:"https://static.figma.com/uploads/741698fed49afa5e8f3becdd906e66d32c8e7fae",alt:(0,eb.t)("file_browser.mobile_prompt.browser_image_alt")}),ep.createElement("div",null,ep.createElement("h3",{className:eK},ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.browser_title"}))),ep.createElement(eB.p6,{onClick:()=>c(),className:"mobile_download_prompt--continueActionButton--uhXzD"},ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.browser_action"}))))))}function eq(e){return ep.createElement(ep.Fragment,null,ep.createElement("img",{className:"mobile_download_prompt--mobilePromptImage--CsEnm",src:"https://static.figma.com/uploads/5f1dc37f397dbddf711d3d950bee5dd46c07fc72",alt:(0,eb.t)("file_browser.mobile_prompt.image_alt")}),ep.createElement("div",{className:"mobile_download_prompt--mobilePromptTitleContainer--LU90S"},ep.createElement("h2",{className:eW},e.renderBlockingPrompt?ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.modal_title_blocking"}):ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.modal_title"})),ep.createElement("p",{className:"mobile_download_prompt--mobilePromptSubTitle--5fPJb text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.renderBlockingPrompt?ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.modal_body_blocking"}):ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.modal_body"}))))}function eZ(){return ep.createElement(ep.Fragment,null,ep.createElement("h2",{className:eW},ep.createElement(eb.Tx,{id:"file_browser.mobile_prompt.modal_title_compact"})))}(0,eF.eU)(!1);var eX=n(32833),eJ=n(88507),eQ=n(44780),e0=n(39683),e1=n(58145),e2=n(66712);n(16082);var e3=n(92592),e5=n(68039),e4=n(79118),e6=n(92766),e8=n(59927),e7=n(33861);function e9({background:e,showSpinner:r}){let n=ep.useContext(e7.kw),i={background:e};return n&&(i={...i,width:`${n.getViewportInfo().width}px`,height:`${n.getViewportInfo().height}px`,top:`${n.getViewportInfo().y}px`,left:`${n.getViewportInfo().x}px`}),ep.createElement("div",{className:"loading_overlay--pageSyncing--9AqbU"},ep.createElement("div",{className:ek()("loading_overlay--blurredOverlay--79bya",e8.Dm),style:i}),r&&ep.createElement(e6.dW,{className:"loading_overlay--pageSyncingSpinner--rjAvP"}))}function te({onPageLoadingFinish:e,selectedView:r,isLoadingVersionHistory:n,theme:i}){let{isLoading:a,isLoadingMissingFonts:o,background:s}=(0,e4.v9)({selectedView:r,isLoadingVersionHistory:n,theme:i});return((0,ep.useEffect)(()=>{if(!a){let r=eQ.sn.tryStop("page_loading_overlay");r&&e&&e(r)}},[a,e]),a)?(eQ.sn.get("page_loading_overlay")||eQ.sn.start("page_loading_overlay"),ep.createElement(e9,{background:s,showSpinner:!o})):null}var tt=n(64434),tr=n(27775);let tn=n(54660).M;var ti=n(50252);n(37592);var ta=n(85052),to=n(87918),ts=n(56390),tl=n(98977),td=n(10727),tc=n(98083),tu=n(38329),tp=n(4783),th=n(60640),tm=n(47807);new class{constructor(){this.PeriodicRefreshSchemaValidator=(0,tm.vh)()}getShouldReloadClient(e,r){return this.PeriodicRefreshSchemaValidator.validate(async({xr:n})=>await n.get(`/api/periodic_refresh?current_release=${e}&version=${r}`))}},n(37590);let tg=()=>!1;var tf=n(41860);let t_="fullscreen_websocket_api",ty=null,tE=!1,tb=0,tv=0;function tS(){eT.cgc.connect()}function tI(e){eT.cgc.receive(e)}function tT(e,r){let n=new URL(e),i=new URL(r);return n.searchParams.delete("recentReload"),i.searchParams.delete("recentReload"),n.toString()===i.toString()}function tw(e){var r,n,i,a;if(tN)return;tb++,tC();let o=mpGlobal.sock,s=mpGlobal.perfMetrics,l=mpGlobal.msgs;mpGlobal.sock=null,mpGlobal.msgs=[],mpGlobal.perfMetrics=[],th.xK.setWsUrl(e);let d=null==(r=tu.D)?void 0:r.getState();if(o&&tT(o.url,e)&&(o.readyState===WebSocket.CONNECTING||o.readyState===WebSocket.OPEN)){for(let{key:e,ts:r,nBytes:n}of(ty=o,tv=0,s))th.xK.logWsMsg(e,n,r);tS();let e=l.length;for(let[r,n]of l.entries())if((0,ey.Lo)("multiplayer","Replaying websocket message",{i:r,total:e,len:n.byteLength}),tI(n),!ty)return;ty.readyState===WebSocket.CONNECTING&&(ty.onopen=()=>{th.xK.logWsMsg("mp-ws-onopen")})}else{if((0,eS.ds)("multiplayer_connect_attempt_ws_start",null==(n=null==d?void 0:d.openFile)?void 0:n.key,d,{url:e,urlLength:e.length,connectAttemptId:tb,isReconnect:!!tf.qo&&-1!==tf.qo.instance.scene,isIncremental:null==(i=eT.h3O)?void 0:i.isIncrementalSession()}),null!==o){if(!tT(o.url,e)&&((0,ey.xi)("multiplayer","Preconnect URL doesn't match URL",{preconnectUrl:o.url,url:e}),(0,e2.kc)().report_preconnect_mismatch&&(0,ey.$D)(tp.e.SCENEGRAPH_AND_SYNC,Error("Multiplayer preconnect URL mismatch"))),o.readyState!==WebSocket.CONNECTING&&o.readyState!==WebSocket.OPEN){let e=null;o.readyState===WebSocket.CLOSED?e="closed":o.readyState===WebSocket.CLOSING&&(e="closing"),(0,ey.xi)("multiplayer","readyState is bad, skipping preconnect optimization",{readyState:e})}(0,ex.sx)("preconnect_url_mismatch",{preconnectUrl:o.url,url:e,readyState:o.readyState},{forwardToDatadog:!0});try{o.close()}catch{}}let r=e.length;if(tg()||tv>=3&&r>2e3&&navigator.onLine){let n=new URL(e);n.searchParams.delete("scenegraph-queries-initial-nodes"),e=n.toString()+"&use-incremental-for-editors=0";let i={connectAttemptId:tb,originalUrlLength:r,newUrlLength:e.length,forced:tg(),consecutiveInitFailureCount:tv,shortened_url:!0};(0,eS.ds)("multiplayer_connect_truncate_ws_url",null==(a=null==d?void 0:d.openFile)?void 0:a.key,d,i),(0,ey.Lo)("multiplayer","Truncating websocket url to force full loading",i)}(ty=new WebSocket(e)).binaryType="arraybuffer",ty.onopen=()=>{var e;tv=0,tS(),th.xK.logWsMsg("mp-ws-onopen"),(0,eS.ds)("multiplayer_connect_ws_open",null==(e=null==d?void 0:d.openFile)?void 0:e.key,d,{connectAttemptId:tb}),(0,ey.Lo)("multiplayer","Websocket opened")}}ty.onmessage=e=>{let r=new Uint8Array(e.data);th.xK.logWsMsg("mp-ws-onmessage",r.length*r.BYTES_PER_ELEMENT),tI(r)},ty.onclose=()=>{tC()},ty.onerror=()=>{var e;navigator.onLine?tv++:tv=0,tC(),(0,eS.ds)("multiplayer_connect_ws_error",null==(e=null==d?void 0:d.openFile)?void 0:e.key,d,{connectAttemptId:tb,consecutiveInitFailureCount:tv,online:navigator.onLine}),(0,ey.Lo)("multiplayer","Websocket error",{online:navigator.onLine,consecutiveInitFailureCount:tv})}}function tC(){if(null!==ty){ty.onopen=null,ty.onmessage=null,ty.onclose=null,ty.onerror=null;try{ty.close()}catch(e){}ty=null,eT.cgc.disconnect()}}function tA(e){try{ty.send(e.buffer)}catch(e){}}let tN=!1;function tO(){if(ty){tN=!0;let e=ty.url;tC(),console.log(`breakMultiplayerWebsocketForTesting: disconnected from ${e}`)}}function tR(e=!0){ty||(tN=!1,e?(eT.h3O.reconnect(!1),console.log(`unbreakMultiplayerWebsocketForTesting: reconnected to ${ty?ty.url:null}`)):console.log("unbreakMultiplayerWebsocketForTesting: not reconnecting immediately"))}let tP="fullscreen_xhr_api",tL=!1;function tD(e){var r;let n=new XMLHttpRequest;for(let r in n.onloadend=()=>{let r={promiseID:e.promiseID,status:n.status,contentType:n.getResponseHeader("Content-Type")};ts.Y5.DEPRECATED_sendMessage(tP+":receive",r,n.response?new Uint8Array(n.response):null)},n.open(e.method,e.url),n.responseType="arraybuffer",e.headers)n.setRequestHeader(r,e.headers[r]);let i=null==(r=(0,e2.Ay)().user_data)?void 0:r.id;if(i&&n.setRequestHeader("X-Figma-User-ID",i),e.formData){let r=new FormData;for(let n of e.formData)null!=n.data?r.append(n.name,n.data):r.append(n.name,new Blob([e.buffer.subarray(n.dataStart,n.dataEnd)],{type:n.mimeType}));n.send(r)}else n.send(e.buffer)}var tM=n(24266),tk=n(88983),tx=n(29815),tF=n(85091);class tU extends tx.Hz{constructor(e){super(),this.trackingArgs=e,this.FIRST_DOCUMENT_RENDER="first-document-render",this.SCENE_RENDER="scene-render",this.documentIsReceived=!1,this.lastTrackedStart=null}startPerfTimer(e){if(super.startPerfTimer(e),this.documentIsReceived){if(e===this.SCENE_RENDER){tF.O1.handleDocumentRenderStart(),this.lastTrackedStart=e;return}}else if(e===this.FIRST_DOCUMENT_RENDER){tF.O1.handleDocumentRenderStart(),this.lastTrackedStart=e,this.documentIsReceived=!0;return}}stopPerfTimer(e){super.stopPerfTimer(e),e===this.lastTrackedStart&&(tF.O1.handleDocumentRenderStop(),this.lastTrackedStart=null)}trackFromFullscreen(e,r,n,i,a){r=r||{};let{openFile:o,editorType:s}=this.trackingArgs,l="figFile"===o.type?o.fileKey:"hub-file-no-filekey";r.file_key=l||"new";let d="whiteboard"===s?eO._Y.WHITEBOARD:"design"===s?eO._Y.DESIGN:null;r.productType="figFile"===o.type&&(0,eS.pi)({editorType:d}),r.file_team_id=null,r.file_owner_user_id=null,(0,ex.NP)(e,r,{forwardToDatadog:n,batchRequest:a??void 0})}reportPerfEvent(e){super.reportPerfEvent(e),e===eT.rau.AFTER_INITIAL_JOIN_END&&(0,ex.sx)("mfv_memory_after_render",{maxHeap:eT.hMR.getMaxUsedHeapMemory(),totalHeap:eT.hMR.getTotalUsedHeapMemory(),wasmReserved:(0,eC.le)(),totalNodes:eT.CeL.getFileNodeCount(),untrackedNodes:eT.CeL.getUntrackedNodeCount()})}}var tB=n(39671),tV=n(88641),tH=n(19299),tG=n(20188),tW=n(23591),tz=n(88169),tK=n(51963),tj=n(77469),tY=n.n(tj),t$=n(33537),tq=n(81396);async function tZ(){return await n.e(699).then(n.bind(n,51699))}var tX=n(67249);(e=>{e.set=(0,tX.N)("BLOCKED_UI_LOADING_INDICATOR_SET"),e.remove=(0,tX.N)("BLOCKED_UI_LOADING_INDICATOR_REMOVE")})(es||(es={}));var tJ=n(26055);n(26864);var tQ=n(60168),t0=n(34533),t1=n(80820);let t2=(0,tX.N)("UPDATE_SAVE_AS"),t3=(0,tX.N)("BEGIN_SAVE_AS"),t5=(0,tX.N)("CANCEL_SAVE_AS"),t4=(0,tX.N)("INITIATE_SAVE_AS");var t6=n(15859),t8=((g=t8||{})[g.SaveLocalFile=0]="SaveLocalFile",g[g.Export=1]="Export",g[g.CopyAsPNG=2]="CopyAsPNG",g[g.CopyAsSVG=3]="CopyAsSVG",g[g.RasterizeSelection=4]="RasterizeSelection",g),t7=n(54168),t9=n(93862);let re={downloadFile(e,r=null){let n=document.createElement("a");n.setAttribute("href",e),r&&(n.download=r),document.body.appendChild(n),n.click(),document.body.removeChild(n)},async addAssetsToZip(e,r,n,i,a){let o=[],s=[],l={},d={};if(0===r.length&&0===n.size)return;async function c(r){let n=2e3;for(;;)try{return await r()}catch(r){if(e())return;await new Promise(e=>setTimeout(e,n)),n<32e3&&(n*=2)}}for(let n=0;n<r.length&&!e();n+=100)await c(async()=>{let e=await eE.Ay.post(`/file/${i}/image/batch`,{sha1s:r.slice(n,n+100)});o=o.concat(Object.keys(e.data.meta.s3_urls)),l={...l,...e.data.meta.s3_urls}});n.size>0&&await c(async()=>{let e=(await t7.S.getVideos({fileKey:i})).data.meta.videos;for(let r in e)n.has(r)&&(d[r]=e[r]);s=Object.keys(d)});let u=o.length+s.length,p=u;rt(u,u);let h=[];async function m(r){for(;r.nextIdx<r.queue.length&&!e();){let n=r.queue[r.nextIdx];r.nextIdx++,await c(async()=>{let i=(await eE.Ay.crossOriginGetAny(r.urls[n],null,{responseType:"blob"})).response;if(rt(--u,p),e())return;let o=await tZ();a.zipPromise=a.zipPromise.then(()=>a.zipWriter.add(`${r.prefix}/${n}`,new o.BlobReader(i),{level:0}))})}}let g={prefix:"images",queue:o,nextIdx:0,urls:l};for(let e=0;e<5;e++)h.push(m(g));h.push(m({prefix:"videos",queue:s,nextIdx:0,urls:d})),await Promise.all(h)}};function rt(e,r){tu.D.dispatch(t2({pendingImageDownload:e,totalImages:r}))}function rr(e,r,n){let i=tu.D.dispatch,a=tu.D.getState(),o=a.mirror.appModel,s=a.saveAsState.waitTime,l=(0,e4.VI)(o.pagesList),d=2e4-s,c=!navigator.onLine||d<=0;i(ra({mode:e,pagesAllLoaded:l,showSkipButton:c,completeSaveAction:r,cancelCallback:n})),c||setTimeout(()=>{i(ro({mode:e,pagesAllLoaded:l,showSkipAfterWaitingMs:2e4,completeSaveAction:r,cancelCallback:n}))},d)}async function rn(e,r){var n,i;let a=tZ(),o=tu.D.dispatch,s=tu.D.getState(),l=!1,d=()=>{},c=!1,u=()=>{},p=new Promise(e=>{u=e}),h=new Promise(e=>{d=e}),m=()=>{d(),l=!0},g=0,f=0;function _(){return{downloadSkipped:l,attemptId:r,canceled:c,reason:"save-as",exportV2:!0,imageCount:g,videoCount:f,loadId:th.xK.loadID()}}let y=()=>{u(),c=!0,(0,ex.sx)("File Export V2 Canceled",_())};rr(t8.SaveLocalFile,m,y);let E=(0,t9.qd)(eT._em.SAVE_LOCAL_COPY);E.catch(()=>{(0,ey.$D)(tp.e.SCENEGRAPH_AND_SYNC,Error("saveAs: waitForAllPagesPromise rejected")),o(e3.F.dequeue({matchType:"save-as-progress"})),o(e3.F.enqueue({error:!0,message:(0,eb.t)("visual_bell.save_as_error")}))}),await Promise.race([E,p,h]),o(e3.F.dequeue({matchType:"save-as-progress"}));let b=eT.AlE.getMutableActiveDocument(),v=eT.Bko.findImagesUnder(b,["0:0"],eT.MoD.ALL),S={},I=[];for(let e of v){let r=eT.Bko.getCompressedImage(e);r?S[e]=r:I.push(e)}let T=new Set(eT.Bko.findAllVideos());if(g=v.length,f=T.size,c)return;o(e3.F.enqueue({type:"save-as-actual",message:(0,eb.t)("visual_bell.saving"),icon:t0.zX.SPINNER})),await new Promise(e=>setTimeout(e,0));let w=eT.glU.attemptActiveDocumentSave(r);if(!w)return;let C=await a,A=new C.ZipWriter(new C.BlobWriter("application/zip"));async function N(){if(!w)return;let r=tY()(Array.from(eT.glU.getDeveloperRelatedLinks().values()));for(let n in await A.add("canvas.fig",new C.Uint8ArrayReader(w.canvas),{level:0}),await A.add("thumbnail.png",new C.Uint8ArrayReader(w.thumbnail),{level:0}),await A.add("meta.json",new C.TextReader(JSON.stringify({client_meta:JSON.parse(w.clientMeta),file_name:e.name,developer_related_links:r}))),await A.add("images",null,{directory:!0}),S){let e=S[n];await A.add(`images/${n}`,new C.Uint8ArrayReader(e),{level:0})}}o(e3.F.dequeue({matchType:"save-as-actual"})),l||rr(t8.SaveLocalFile,m,y);let O={zipWriter:A,zipPromise:N()};if((0,e2.kc)().export_image_download_logging&&(0,ex.sx)("Image Download For Export",{stage:"start",..._()}),await Promise.race([re.addAssetsToZip(()=>l||c,I,T,e.key,O),h,p]),(0,e2.kc)().export_image_download_logging&&(0,ex.sx)("Image Download For Export",{stage:"finished",..._()}),o(e3.F.dequeue({matchType:"save-as-progress"})),c)return;o(e3.F.enqueue({type:"save-as-actual",message:(0,eb.t)("visual_bell.saving"),icon:t0.zX.SPINNER})),await O.zipPromise;let R=await A.close();if((0,t$.fT)(null==(n=s.user)?void 0:n.email)){let e="",r=null==(i=s.authedUsers)?void 0:i.byId;if(r){Object.values(r).forEach(r=>{let n=r.email;(0,t$.jm)(n)&&!(0,t$.fT)(n)&&(e=n)});let n=new FileReader;n.onloadend=()=>{let r=n.result,i=(0,tq.Et)(new Uint8Array(r));(0,ex.sx)("Support Share Download",{sha1Hash:i,internalEmail:e})},n.readAsArrayBuffer(R)}}let P=URL.createObjectURL(R),L=eT.glU.fileExtension(),D=`${e.name}${L}`,M=(0,eb.t)("save_as_actions.save_partial_file_name_suffix",{date:new Date().toLocaleDateString().replace(/_|\//g,"-")}),k=`${e.name} - ${M}${L}`;re.downloadFile(P,(0,e2.kc)().download_partial_file_ui&&l?k:D),URL.revokeObjectURL(P),(0,ex.sx)("File Export V2 Completed",_()),o(e3.F.dequeue({matchType:"save-as-actual"}))}async function ri(e,r,n,i,a,o,s){(0,ey.Lo)("initiateSaveAs","begin",{completeSaveAction:i,nodesToLoad:a,mode:e}),n(t4());let l=tu.D.getState(),d=l.saveAsState.attemptId;if(e===t8.SaveLocalFile&&((0,ex.sx)("File Export Initiated",{attemptId:d,reason:o,exportV2:!0,loadId:th.xK.loadID()}),l.openFile)){rn(l.openFile,d);return}rr(e,i);let c=e===t8.SaveLocalFile?eT.MoD.ALL:eT.MoD.NON_ANIMATED_ONLY;(0,e2.kc)().export_image_download_logging&&(0,ex.sx)("Image Download For Export",{stage:"start",attemptId:d,reason:o}),await (0,t6.Jr)().loadAllImagesUnder(a,c,o,rt),(0,e2.kc)().export_image_download_logging&&(0,ex.sx)("Image Download For Export",{stage:"finished",attemptId:d,reason:o});try{tu.D.getState().saveAsState.startTime?(n(rs({mode:e,completeSaveAction:i,settings:s})),n(t3({skipped:!1}))):(0,ex.sx)("File Export V1 Canceled",{attemptId:d})}catch(e){(0,ey.$D)(tp.e.SCENEGRAPH_AND_SYNC,e)}}let ra=(0,t1.nF)((e,r)=>{let n={text:(0,eb.t)("save_as_actions.cancel"),action:r.cancelCallback||(()=>{e.dispatch(t5())})},i=function(e,r,n){switch(e){case t8.SaveLocalFile:if(r)return(0,e2.kc)().download_partial_file_ui?(0,eb.t)("save_as_actions.save_partial_file"):(0,eb.t)("save_as_actions.skip_and_save");return n?(0,eb.t)("save_as_actions.save_without_images"):(0,e2.kc)().download_partial_file_ui?(0,eb.t)("save_as_actions.save_partial_file"):(0,eb.t)("save_as_actions.save_without_content");case t8.Export:if(r)return null;return n?(0,eb.t)("save_as_actions.export_without_images"):(0,eb.t)("save_as_actions.export_without_content");default:return null}}(r.mode,navigator.onLine,r.pagesAllLoaded),a=null;i&&(a={text:i,action:()=>{(0,ex.sx)("image_loading_canceled",{mode:r.mode}),e.dispatch(rs({mode:r.mode,completeSaveAction:r.completeSaveAction})),e.dispatch(t3({skipped:!0}))}});let o={type:"save-as-progress",progressKey:"save-as",message:function(e,r){return e?r?(0,eb.t)("save_as_actions.downloading_images"):(0,eb.t)("save_as_actions.downloading_content"):r?(0,eb.t)("save_as_actions.cannot_download_images"):(0,eb.t)("save_as_actions.cannot_download_content")}(navigator.onLine,r.pagesAllLoaded),icon:t0.zX.PROGRESS,button:n};e.dispatch(e3.F.enqueue({...o,button:a?{primary:n,secondary:a}:n}))}),ro=(0,t1.nF)((e,r)=>{var n;let i=e.getState();if(!i.visualBell.find(e=>"save-as-progress"===e.type)||!(null==(n=i.saveAsState)?void 0:n.startTime))return;let a=(i.saveAsState.waitTime||0)+Date.now()-i.saveAsState.startTime;(!navigator.onLine||a>r.showSkipAfterWaitingMs)&&(e.dispatch(e3.F.clearAllExcept(["plugins-status"])),e.dispatch(ra({mode:r.mode,pagesAllLoaded:r.pagesAllLoaded,showSkipButton:!0,completeSaveAction:r.completeSaveAction,cancelCallback:r.cancelCallback})))}),rs=(0,t1.nF)((e,r)=>{e.dispatch(e3.F.clearAllExcept(["plugins-status"]));let n=e.getState().saveAsState;e.dispatch(es.set({message:function(e){switch(e){case t8.SaveLocalFile:return(0,eb.t)("visual_bell.saving");case t8.Export:return(0,eb.t)("visual_bell.exporting");case t8.CopyAsPNG:return(0,eb.t)("save_as_actions.copy_as_png_progress");case t8.CopyAsSVG:return(0,eb.t)("save_as_actions.copy_as_svg_progress");case t8.RasterizeSelection:return(0,eb.t)("save_as_actions.rasterize_selection_progress")}}(r.mode),showLoadingSpinner:!1,callback:()=>{"string"==typeof r.completeSaveAction?ts.Y5.triggerAction(r.completeSaveAction,{source:"menu",attemptId:n.attemptId,settings:r.settings}):r.completeSaveAction()}}))});var rl=n(22358),rd=n(29548),rc=((f=rc||{})[f.V1=1]="V1",f[f.V2=2]="V2",f[f.V3=3]="V3",f[f.MIN=1]="MIN",f[f.MAX=3]="MAX",f),ru=((_=ru||{}).Whiteboard="whiteboard",_),rp=((y=rp||{})[y.V1=1]="V1",y[y.V2=2]="V2",y[y.V3=3]="V3",y[y.V4=4]="V4",y[y.V5=5]="V5",y[y.MIN=1]="MIN",y[y.MAX=5]="MAX",y),rh=((E=rh||{})[E.action=0]="action",E[E.tool=1]="tool",E[E.drawingToolGroup=2]="drawingToolGroup",E[E.overflowingToolGroup=3]="overflowingToolGroup",E[E.stack=4]="stack",E[E.divider=5]="divider",E[E.paletteSelector=6]="paletteSelector",E[E.menu=7]="menu",E[E.imageSelector=8]="imageSelector",E[E.actionSelector=9]="actionSelector",E[E.itemGroupWithFallbacks=10]="itemGroupWithFallbacks",E),rm=((b=rm||{})[b.default=0]="default",b[b.last=1]="last",b),rg=((v=rg||{})[v.none=0]="none",v[v.leading=1]="leading",v[v.trailing=2]="trailing",v[v.both=3]="both",v),rf=((S=rf||{})[S.horizontal=0]="horizontal",S[S.vertical=1]="vertical",S),r_=((I=r_||{})[I.horizontal=0]="horizontal",I[I.vertical=1]="vertical",I),ry=((T=ry||{})[T.utility=0]="utility",T[T.drawing=1]="drawing",T),rE=((w=rE||{})[w.automatic=0]="automatic",w[w.persistent=1]="persistent",w),rb=((C=rb||{}).enterCropMode="enterCropMode",C.exitCropMode="exitCropMode",C),rv=((A=rv||{})[A.iconAction=0]="iconAction",A[A.divider=1]="divider",A[A.palette=2]="palette",A[A.textAction=3]="textAction",A[A.slider=4]="slider",A[A.itemGroupWithFallbacks=5]="itemGroupWithFallbacks",A[A.required=6]="required",A[A.actionSelector=7]="actionSelector",A),rS=((N=rS||{})[N.gradient=0]="gradient",N[N.base=1]="base",N),rI=((O=rI||{})[O.hoveringAboveBar=0]="hoveringAboveBar",O[O.sideEdge=1]="sideEdge",O[O.secondarySideEdge=2]="secondarySideEdge",O[O.pinnedToFloatingBar=3]="pinnedToFloatingBar",O),rT=((R=rT||{})[R.presetColor=0]="presetColor",R[R.presetImage=1]="presetImage",R[R.colorPicker=2]="colorPicker",R[R.imagePicker=3]="imagePicker",R),rw=((P=rw||{})[P.normal=0]="normal",P[P.destructive=1]="destructive",P),rC=((L=rC||{})[L.presetColor=0]="presetColor",L[L.customColor=1]="customColor",L[L.presetImage=2]="presetImage",L[L.customImage=3]="customImage",L),rA=n(78340),rN=n(83942);let rO={ALT:256,META:512,SHIFT:1024,CONTROL:2048};var rR=((D=rR||{})[D.MOUSE=0]="MOUSE",D[D.TOUCH=1]="TOUCH",D[D.STYLUS=2]="STYLUS",D[D.TRACKPAD=3]="TRACKPAD",D);function rP(e){switch(e.pointerType){case"mouse":return 0;case"touch":return 1;case"pen":return 2}return console.error("Unknown pointer type",e.pointerType),0}let rL=function(e,r){return{x:r.x-e.x,y:r.y-e.y,magnification:Math.log(r.distance/e.distance)/Math.log(eT.glU.pinchToZoomExponent())}};class rD{constructor(){this._touches=[],this._maxTouchCount=0}handleEvent(e){if("pointercancel"===e.type){this.reset();return}this._touches=this._touches.filter(function(r){return e.pointerId!==r.pointerId}),("pointerdown"===e.type||"pointermove"===e.type)&&this._touches.push(e),this._maxTouchCount=Math.max(this._maxTouchCount,this._touches.length)}reset(){this._touches=[],this._maxTouchCount=0}get(){return this._touches}maxTouchCount(){return this._maxTouchCount}}class rM{constructor(){this.oldX=0,this.oldY=0,this.oldTime=0,this.oldCount=0}getClickCount(e,r){let n=Date.now(),i=1;return this.oldTime&&n-this.oldTime<500&&10>Math.abs(e-this.oldX)&&10>Math.abs(r-this.oldY)&&(i=this.oldCount+1),this.oldX=e,this.oldY=r,this.oldCount=i,this.oldTime=n,i}}var rk=n(4978);let rx=new class{constructor(){this.pendingImageCount=0}startLoadingImage(){this.pendingImageCount++,1===this.pendingImageCount?this.queueBell((0,eb.t)("visual_bell.adding_image")):2===this.pendingImageCount&&(this.dequeueBell(),this.queueBell((0,eb.t)("visual_bell.adding_images")))}finishLoadingImage(){this.pendingImageCount--,0===this.pendingImageCount&&this.dequeueBell()}dequeueBell(){tu.D.dispatch(e3.F.dequeue({matchType:"image_loading"}))}queueBell(e){tu.D.dispatch(e3.F.enqueue({type:"image_loading",message:e,delay:1e3,icon:t0.zX.SPINNER}))}};class rF{constructor(e,r,n,i,a){this.immediateRatio=r,this.delayedRatio=n,this.delayMsec=i,this.callback=a,this._current=0,this._timer=0,this._notifyImmediate=e,this._notifyDelayed=e}setCurrent(e){e>this._notifyDelayed&&(this._notifyDelayed=e,e>this._notifyImmediate?this.notifyNow():this.notifySoon()),this._current=e}notifyNow(){this._notifyDelayed=this._current*this.delayedRatio,this._notifyImmediate=this._current*this.immediateRatio,this._timer&&(clearTimeout(this._timer),this._timer=0),this.callback()}notifySoon(){this._timer||(this._timer=setTimeout(()=>{this.notifyNow()},this.delayMsec))}}function rU(e){return((e*=1/1048576)>=9.5?e.toFixed(1):e.toFixed(3))+" MB"}class rB{constructor(e=67108864){this.minReportBytes=e,this._meta=[],this._categoryBytes=new Map,this._totalBytes=0,this._highBytes=0,this._numReports=0,this._growth=new rF(e,2,1.2,2e3,()=>{this.logStats()})}static instance(){return rB._instance||(rB._instance=new rB),rB._instance}numReports(){return this._numReports}totalBytes(){return this._totalBytes}highBytes(){return this._highBytes}setMeta(e,r,n){this._meta[e]&&(console.warn("overwriting meta at index",e),this.clearMeta(e)),this._meta[e]={category:r,numBytes:n},this.addCategoryBytes(r,n)}clearMeta(e){let r=this._meta[e];r&&(this.addCategoryBytes(r.category,-r.numBytes),this._meta[e]=void 0)}addCategoryBytes(e,r){let n=this._categoryBytes.get(e)||0;n+=r,this._categoryBytes.set(e,n),this._totalBytes+=r,this._highBytes<this._totalBytes&&(this._highBytes=this._totalBytes,this._growth.setCurrent(this._totalBytes))}logStats(){let e=[`high: ${rU(this._highBytes)}`,`current: ${rU(this._totalBytes)}`];for(let[r,n]of this._categoryBytes)n>=1024&&e.push(`${r}: ${rU(n)}`);console.log("JsValue memory:",...e),++this._numReports}}var rV=n(74626);n(94190);var rH=n(62275),rG=n(47402),rW=n(35414),rz=n(15879);class rK{constructor(){this._fullscreenCrashed=!1,this._receivedFailedAllocation=!1,this._lastAction=null,this._lastWebContextMessage=null,this._fileLoadTime=null}oomState(e){let r=(0,eC.le)(),n=this._fileLoadTime,i=n?window.performance.now()-n:0;return{...e,totalMemoryInBytes:r,fileLoaded:!!n,timeSinceFileLoad:i,is64BitBrowser:e_.Ay.is64BitBrowser,lastAction:this._lastAction,lastWebContextMessage:this._lastWebContextMessage}}documentIsLoaded(){this._fileLoadTime=window.performance.now()}resetOOMState(){this._fileLoadTime=null,this._lastAction=null}recordActionForReportingOOM(e){this._lastAction=e}fatalCppError(e,r="other"){(0,ey.kF)("fullscreen_status","crash");let n=(0,ey.$D)(tp.e.CLIENT_PLATFORM,e,{tags:{severity:ey.DZ.Critical}});(0,ey.kF)("fullscreen_status","has_crashed");let i="bindings"!==r||!!(0,e2.kc)().crash_on_bindings_exception;rj.fullscreenCrashed({type:"oom"===r?"oom":"other",sentryId:n},i)}preventEnteringCpp(){return rj.getPreventEnteringCpp()}}let rj=new class{constructor(){this._preventEnteringCpp=!1,this._fullscreenCrashState="ok"}fullscreenCrashed(e,r){if("ok"!==this._fullscreenCrashState){(0,ey.Lo)("crash","crash already reported",{"new crash":e,"original crash":this._fullscreenCrashState});return}if(r){(0,ey.Lo)("crash","updating crash state",{crash:e}),this._preventEnteringCpp=!0,this._fullscreenCrashState=e,rV.zl.set(rz.h,e);let r=window.FigmaMobile;(null==r?void 0:r.dismissMediaLoadingToast)&&r.dismissMediaLoadingToast(),(0,ey.kF)("fullscreen_status","has_crashed"),(0,ex.sx)("Fullscreen Hard Crash",{crashType:e.type,isMergeModalOpen:rV.zl.get(rW.q)},{forwardToDatadog:!0})}}getFullscreenCrashState(){return this._fullscreenCrashState}getPreventEnteringCpp(){return this._preventEnteringCpp}showMemoryCrashModal(e,r,n){if(r){if(!n)throw Error("Trying to dispatch before we've been initialized");n.dispatch(rH.to({type:rG.Lu,data:{isBranching:!!e.isBranching}}))}}};var rY=n(63060);let r$=new class{constructor(){this._webContext=null,this._webContextReadyPromiseResolve=()=>{},this.webContextReadyPromise=new Promise(()=>{})}registerWebContext(e){this._webContext=e,this._webContextReadyPromiseResolve()}get(){return this._webContext}reset(){this._webContext=null}readyPromise(){this.webContextReadyPromise=new Promise((e,r)=>{this._webContextReadyPromiseResolve=e})}};var rq=n(26911);let rZ=new class{constructor(){this.focusEventBeingCalled=!1,this.customFocusElementReadWrite=null,this.customFocusElementReadOnly=null,this.expectingTextInput=!1,this.expectingCopyCutEvent=!1,this.expectingPasteEvent=!1}isExpectingTextInput(){return this.expectingCopyCutEvent||this.expectingPasteEvent||this.expectingTextInput}maybeTemporarilyDisableFocusEvents(){let e=this.focusEventBeingCalled;return(document.activeElement===this.customFocusElementReadOnly||document.activeElement===this.customFocusElementReadWrite)&&(this.focusEventBeingCalled=!0),e}setExpectingCopyCutEvent(e){this.expectingCopyCutEvent!==e&&(this.expectingCopyCutEvent=e,this.updateCustomFocusType())}updateCustomFocusType(){var e=this.maybeTemporarilyDisableFocusEvents();this.expectingCopyCutEvent||!this.isExpectingTextInput()?document.activeElement!==this.customFocusElementReadOnly&&(this.customFocusElementReadOnly.focus(),this.customFocusElementReadOnly.value=rq.y.isChrome()?"":" ",this.customFocusElementReadOnly.selectionStart=0,this.customFocusElementReadOnly.selectionEnd=1):(rq.y.isIpad()&&(this.customFocusElementReadWrite.style.left="0px",this.customFocusElementReadWrite.style.top="0px"),document.activeElement!==this.customFocusElementReadWrite&&this.customFocusElementReadWrite.focus()),this.focusEventBeingCalled=e}};function rX(e){return class extends e{constructor(){super(...arguments),this.WebContext=r$,this.registerWebContext=e=>{r$.registerWebContext(e)},this.Window=rZ,this.EXIF=tW.f,this.ImageIO=rk.EC,this.jsValueHelp=rB.instance(),this.reportErrorToSentry=ey.$D,this.FullscreenCrashHandlers=rj}}}function rJ(e){return class extends e{constructor(...e){super(),this.isWebContextReady=()=>!!r$.get(),this._fullscreenIsReady=!1,this._readyPromiseResolve=null,this._fontListLoaded=!1,this.fromFullscreen=new ta.b("fromFullscreen"),this.viewport=new ta.b("viewport"),this.containerElement=null,this.clickCountManager=new rM,this._viewportInfo={x:0,y:0,width:0,height:0,offsetX:0,offsetY:0,zoomScale:1,isZooming:!1,isPanning:!1},this._fileLoadTime=null,this.DEPRECATED_sendMessage=(e,r={},n=null)=>{if("ok"!==rj.getFullscreenCrashState())return(0,ey.Lo)("bindings","Blocking call webContext message because fullscreen crashed"),null;let i=r$.get();if(!i)return(0,ey.x1)("bindings",`Trying to send a message to WebContext before it is initialized: ${e}`),null;try{return i.handleMessageFromWeb(e,r,n)}catch(e){throw rj.fullscreenCrashed({type:"other"},!0),e}},this.jsWantsKeyboardEvent=e=>rl.F2.shouldInterceptKeyboardEvent(e),this.jsWantsClipboardEvent=(e,r)=>rl.F2.shouldInterceptClipboardEvent(e,r),this.getKeyboardLayoutPreference=()=>(0,tz.v7)(),this.setCustomFocusElement=e=>{rl.F2.setCustomFocusElement(e)},this.hasReportedTouchStart=!1,this.forwardKeyboardEvent=e=>{(0,rN.f7)(e)},this.onReady=()=>this._readyPromise,this.isReady=()=>this._fullscreenIsReady&&"ok"===rj.getFullscreenCrashState()&&!!eT.glU,this.isFontListLoaded=()=>this._fontListLoaded,this.watchedNodeBoundsChange=()=>{},this.handleWatchedNodeBoundsChange=()=>{this.watchedNodeBoundsChange()},this.fromFullscreen.on("watchedNodeBoundsChange",this.handleWatchedNodeBoundsChange),this.fromFullscreen.on("console:initialize",()=>{ts.lQ.then(()=>{var e;null==(e=this._osxMessageListener)||e.initialize()})}),(0,tK.H)(),this._readyPromise=new Promise((e,r)=>{this.isReady()?e():this._readyPromiseResolve=e})}reparentRootElement(e){this.containerElement=e;let r=document.getElementById("fullscreen-root");if(!r)return;if(!this.containerElement){r.style.visibility="hidden",document.body.appendChild(r);return}let n=null;document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(n=document.activeElement),r.style.visibility="visible",this.containerElement.appendChild(r),n&&n.focus()}isRootElementVisible(){let e=document.getElementById("fullscreen-root");return null!=this.containerElement&&(null==e?void 0:e.parentElement)===this.containerElement}documentIsLoaded(){this._fileLoadTime=window.performance.now()}fileLoadTime(){return this._fileLoadTime}reportTouchStart(){this.hasReportedTouchStart||(this.hasReportedTouchStart=!0,(0,ex.sx)("Editor Canvas Touch"))}reportNoPointerEvents(){(0,ex.sx)("No PointerEvent available")}createGestureMachine(e,r){let n=window.FigmaMobile;return function(e,r,n,i,a){function o(r){let n=r.type===eT.Bx4.MOUSE_PRESS||r.type===eT.Bx4.MOUSE_RELEASE;e(r.type,r.x,r.y,r.button||(n?0:-1),r.clickCount||(n?1:0),r.modifierKeys||0,r.deltaX||0,r.deltaY||0,r.gestureValue||0,r.pointerType,r.pointerId||-1,r.timeStamp)}let s=new rD;return i?function(){let e=new rD,r=[],n=!1;return{next:function(a){return(e.handleEvent(a),r.push(a),e.maxTouchCount()>2)?null:(n||0!==e.get().length||1!==e.maxTouchCount()||(n=!0),n)?i():this},allow:function(e){return e?i():null}};function i(){let e=u();return r.forEach(r=>{e=e?e.next(r):null}),e}}():u();function l(e){let n=e.pageX,i=e.pageY;for(var a=r;a;a=a.offsetParent)n-=a.offsetLeft,i-=a.offsetTop;return{x:n,y:i}}function d(e){return(e.altKey?rO.ALT:0)|(e.metaKey?rO.META:0)|(e.shiftKey?rO.SHIFT:0)|(e.ctrlKey?rO.CONTROL:0)}function c(e){let r=0,n=0,i=0,a=0;for(let a=0;a<e.length;a++){let o=l(e[a]);r+=o.x,n+=o.y,i++}r/=i,n/=i;for(let i=0;i<e.length;i++){let o=l(e[i]);a+=(o.x-r)*(o.x-r)+(o.y-n)*(o.y-n)}return{x:r,y:n,distance:a=Math.sqrt(a/i),count:i}}function u(){let e;let r=[];return{next:function(n){if(e||(e=n),s.handleEvent(n),s.maxTouchCount()>2)return null;let i=s.get().length;if(0===i)return"pointercancel"===n.type?null:n.timeStamp-e.timeStamp>500?(!function(e){if(!a)return;let r=l(e),n=d(e),i=rP(e),s=e.timeStamp;o({type:eT.Bx4.MOUSE_ENTER,x:r.x,y:r.y,modifierKeys:n,pointerType:i,timeStamp:s}),o({type:eT.Bx4.MOUSE_PRESS,x:r.x,y:r.y,button:2,modifierKeys:n,pointerType:i,timeStamp:s}),o({type:eT.Bx4.MOUSE_RELEASE,x:r.x,y:r.y,button:2,modifierKeys:n,pointerType:i,timeStamp:s}),o({type:eT.Bx4.MOUSE_LEAVE,x:r.x,y:r.y,modifierKeys:n,pointerType:i,timeStamp:s})}(e),null):p(e,[]).next(n);if(2===i)return function(e){let r=e,n=!1;return{next:function(i){if(s.handleEvent(i),0===s.get().length)return n&&o({type:eT.Bx4.MOUSE_SCALE_END,x:r.x,y:r.y,pointerType:rP(i),timeStamp:i.timeStamp}),null;let a=c(s.get());if(a.count===e.count){let s=rL(e,a);if(!n){let{magnification:e}=rL(r,a);!isNaN(e)&&Math.abs(e)>.2&&(n=!0,s.magnification=e)}if(s.x||s.y){let{x:e,y:r}=s,n=window.devicePixelRatio||1;e/=n,r/=n,o({type:eT.Bx4.MOUSE_WHEEL,x:a.x,y:a.y,deltaX:e,deltaY:r,pointerType:rP(i),timeStamp:i.timeStamp})}n&&a.count>1&&!isNaN(s.magnification)&&o({type:eT.Bx4.MOUSE_SCALE,x:a.x,y:a.y,gestureValue:s.magnification,pointerType:rP(i),timeStamp:i.timeStamp})}return e=a,this}}}(c(s.get()));let u=s.get()[0],h=u.pageX-e.pageX,m=u.pageY-e.pageY;return h*h+m*m>25?p(e,r).next(n):(r.push(n),this)}}}function p(e,r){let i=l(e),a=n.getClickCount(i.x,i.y),c=rP(e),u=e.timeStamp;function p(r){for(let n=0;n<s.get().length;n++){let a=s.get()[n];a.pointerId===e.pointerId&&(i=l(a),u=r.timeStamp,o({type:eT.Bx4.MOUSE_MOVE,x:i.x,y:i.y,modifierKeys:d(r),pointerType:rP(r),timeStamp:u}))}}return o({type:eT.Bx4.MOUSE_ENTER,x:i.x,y:i.y,modifierKeys:d(e),pointerType:c,timeStamp:u}),o({type:eT.Bx4.MOUSE_PRESS,x:i.x,y:i.y,clickCount:a,modifierKeys:d(e),pointerType:c,timeStamp:u}),r.forEach(p),{next:function(e){return(s.handleEvent(e),0===s.get().length)?(o({type:eT.Bx4.MOUSE_RELEASE,x:i.x,y:i.y,clickCount:a,modifierKeys:d(e),pointerType:rP(e),timeStamp:e.timeStamp}),o({type:eT.Bx4.MOUSE_LEAVE,x:i.x,y:i.y,modifierKeys:d(e),pointerType:rP(e),timeStamp:e.timeStamp}),null):(p(e),this)}}}}(e,r,this.clickCountManager,!!(null==n?void 0:n.shouldAllowNativeGestures),function(){let e=window.FigmaMobile;return(null==e?void 0:e.shouldAllowSimulatedRightClick)??!0}())}expectsPencilSamples(){let e=window.FigmaMobile,r=window.FigmaMobile;if(null==e?void 0:e.suppliesPencilSamples){let e=tu.D.getState().mirror.appModel.currentTool;return!!r._auto_draw_with_pencil&&e!==eA.NLJ.MULTISELECT||rd.H.includes(e)}return!1}triggerFromFullscreen(e,r){this.fromFullscreen.trigger(e,r)}startLoadingDroppedImage(){rx.startLoadingImage()}finishLoadingDroppedImage(){rx.finishLoadingImage()}setSentryTag(e,r){(0,ey.kF)(e,r)}onFrame(){this.isReady()&&eT.glU.onFrame()}getViewportInfo(){return this._viewportInfo}updateViewportInfo(e,r,n,i,a,o,s,l,d){this._viewportInfo={x:e,y:r,width:n,height:i,offsetX:a,offsetY:o,zoomScale:s,isZooming:l,isPanning:d},this.viewport.trigger("onSetViewport",this._viewportInfo)}onWatchedNodeBoundsChange(e){this.watchedNodeBoundsChange=e}onTilesRendered(){rY.Ad()}onCreateTable(){rY.iW()}onEditTableText(){rY.vK()}onNodeDragStart(){rY.se()}onNodeDragEnd(){rY.p7()}onTileRendererChanged(e){rY.LH(e)}onCreateSticky(){rY.PY()}onDifferentSectionClicked(){rY.o3()}getNextQueryRequestId(){return(0,t9.Ak)()}afterQueryCompleted(e){(0,t9.PV)(e)}rejectAllSceneGraphQueries(){(0,t9.Xk)()}}}class rQ{constructor(e=!1){this.shouldThrow=e}reportEditAction(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class r0{constructor(e=!1){this.shouldThrow=e}readyToAcceptAutosaveChanges(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}hasOngoingCommitTask(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}enqueueAutosaveCommit(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}createAutosaveManager(...e){if(this.shouldThrow)throw Error("Method not implemented.")}destroyAutosaveManager(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isConnected(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class r1{constructor(e=!1){this.shouldThrow=e}jsEchoUintValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}jsEchoUint64Value(...e){if(this.shouldThrow)throw Error("Method not implemented.");return"0"}jsEchoInt64Value(...e){if(this.shouldThrow)throw Error("Method not implemented.");return"0"}jsEchoInt64Struct(...e){if(this.shouldThrow)throw Error("Method not implemented.");return{uvalue:"0",ivalue:"0"}}jsEchoStringValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}jsEchoIntArrayValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}jsEchoBoolArrayValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}jsEchoJsonValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}jsEchoJsValue(...e){if(this.shouldThrow)throw Error("Method not implemented.")}jsEchoDeeplyNestedJsValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}jsEchoIntMapValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Map}jsEchoIntSetValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Set}jsEchoFastParseableStructValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return{intValue:0,uintValue:0,int64Value:"0",uint64Value:"0",strValue:"",doubleValue:0,boolValue:!1,guidValue:"-1:-1",structValue:{value:0},arrayIntValue:[],arrayStringValue:[],arrayBoolValue:[],jsValue:void 0}}jsEchoNonFastParseableStructValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return{jsonValue:"",intValue:0,uintValue:0,int64Value:"0",uint64Value:"0",strValue:"",doubleValue:0,boolValue:!1,guidValue:"-1:-1",structValue:{value:0},arrayIntValue:[],arrayStringValue:[],arrayBoolValue:[],jsValue:void 0}}jsEchoCallbackValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return()=>{}}getObservableCounter(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}getObservableArray(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}jsValueTestsDone(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class r2{constructor(e=!1){this.shouldThrow=e}rerunSearch(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getTextMatches(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}rebuildIndex(...e){if(this.shouldThrow)throw Error("Method not implemented.")}logIndex(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setResultInfo(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setFocusAndNavigate(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setCategoryCounts(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateCategoryCounts(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showReplace(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showMissingFontBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}detectTextTransform(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}applyTextTransform(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}}class r3{constructor(e=!1){this.shouldThrow=e}convertEmojiNameToString(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}setEmojiTypeaheadQuery(...e){if(this.shouldThrow)throw Error("Method not implemented.")}clearEmojiTypeaheadQuery(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isShowingEmojiTypeaheadResults(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}setEmojiTypeaheadImageSet(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setEmojiTypeaheadTargetRect(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class r5{constructor(e=!1){this.shouldThrow=e}startChat(...e){if(this.shouldThrow)throw Error("Method not implemented.")}closeWheel(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleShortcutPress(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleShortcutRelease(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class r4{constructor(e=!1){this.shouldThrow=e}requestEditorType(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getDeviceInfoForSize(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}presetDeviceSupportsTouch(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}sizeMatchesFramePreset(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}getCurrentFileName(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}isUserPresent(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}backToFiles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}documentIsLoaded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}fullscreenIsReady(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isFontListLoaded(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}afterFontsLoaded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setFileVersion(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openSettings(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openNewFile(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openNewSketchFile(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openNewWhiteboardFile(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openNewSlidesFile(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openFontSettings(...e){if(this.shouldThrow)throw Error("Method not implemented.")}attemptedSketchFileDrop(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openExportPicker(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openExportSettingsPicker(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openShortcuts(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleBrowseAllResourcesModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openBrowseTemplatesModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openPreferencesModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showNudgeAmountPicker(...e){if(this.shouldThrow)throw Error("Method not implemented.")}hidePicker(...e){if(this.shouldThrow)throw Error("Method not implemented.")}createFeedPost(...e){if(this.shouldThrow)throw Error("Method not implemented.")}findInspiration(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openQuickActionsAssetsTab(...e){if(this.shouldThrow)throw Error("Method not implemented.")}inspectFragment(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleSignedOutEditAttempt(...e){if(this.shouldThrow)throw Error("Method not implemented.")}hasUnsavedChanges(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}shouldSuppressUnsavedChangesUI(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}toggleInteractionRecorderVisibility(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showCanvasContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showSelectLayerContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showTextEditModeContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showRulerGuideContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showSelectionContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showLeftPanelTab(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleTeamLibraryModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleComponentInsertModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleVariablesModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openQuickActionComponentSearch(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showPublishDialog(...e){if(this.shouldThrow)throw Error("Method not implemented.")}forcePublishStateGroup(...e){if(this.shouldThrow)throw Error("Method not implemented.")}mobileAppPush(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showAutosaveVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showReturnToInstanceVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showReturnToVariantVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showPasteWidgetsAsSublayersVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showAiContentFillSuggestedVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showPushOverridesVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}NOT_LOCALIZED_showVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}NOT_LOCALIZED_showVisualBellInf(...e){if(this.shouldThrow)throw Error("Method not implemented.")}NOT_LOCALIZED_showMobileNativeToast(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showMobileNativeToastLocalized(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellForMultiEdit(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithUndo(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithNodes(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellLocalized(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellLocalizedInf(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithUrlButtonLocalized(...e){if(this.shouldThrow)throw Error("Method not implemented.")}dismissEphemeralVisualBells(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showVisualBellWithDelayLocalized(...e){if(this.shouldThrow)throw Error("Method not implemented.")}clearVisualBellType(...e){if(this.shouldThrow)throw Error("Method not implemented.")}dismissMobileMediaLoadingToast(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getUserLocale(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getNaturalStyleKey(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLocalizedString(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}closeManageMemoryModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showPasteLoadingIndicatorAndPaste(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showPromptToMoveLibraryItems(...e){if(this.shouldThrow)throw Error("Method not implemented.")}trackComponentInstanceDetachment(...e){if(this.shouldThrow)throw Error("Method not implemented.")}trackComponentInstanceInsertion(...e){if(this.shouldThrow)throw Error("Method not implemented.")}triggerFromFullscreen(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateViewportInfo(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showMissingFontDialog(...e){if(this.shouldThrow)throw Error("Method not implemented.")}hideMissingFontDialog(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getClipboardData(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}canUseClipboardAPI(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}readClipboardData(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}readFilesFromClipboard(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}clipboardHasUnsanitizedPng(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}decodePackedHTML(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}decodeMetadataFromHTML(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}detectSpreadsheetDataInHTML(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}writeToClipboard(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}writeDataToClipboard(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}sendSerializedClipboardDataToS3(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getSerializedClipboardDataFromS3(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}getKeyboardLayout(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}setKeyboardLayoutPreference(...e){if(this.shouldThrow)throw Error("Method not implemented.")}saveUseNumbersForOpacityPreference(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectedStyleProperties(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectedStyleThumbnail(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateStyleThumbnail(...e){if(this.shouldThrow)throw Error("Method not implemented.")}createSavepoint(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}showSavepointModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showBrowserAlert(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleHistoryMode(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showViewChangesNotification(...e){if(this.shouldThrow)throw Error("Method not implemented.")}togglePerfHUDVisibility(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleFakeMPActivity(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleTSMERConfig(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showImageScaledDownWarning(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showGIFConvertedAndScaledDownWarning(...e){if(this.shouldThrow)throw Error("Method not implemented.")}checkForImageBackgroundRemoval(...e){if(this.shouldThrow)throw Error("Method not implemented.")}usedKeyboardShortcut(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startRenamingNodes(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startRenamingPage(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startRenamingPages(...e){if(this.shouldThrow)throw Error("Method not implemented.")}insertComponentOrShowError(...e){if(this.shouldThrow)throw Error("Method not implemented.")}fetchComponentBuffers(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}fetchComponentBufferForSevRepair(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}getLatestPublishedVersionHashForComponent(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLatestPublishedVersionForStateGroup(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}fetchVariableSetBuffers(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}fontResourceStatusChanged(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startLoadingDroppedImage(...e){if(this.shouldThrow)throw Error("Method not implemented.")}finishLoadingDroppedImage(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}toggleSlidesInsertEmbedModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isCopyExportRestricted(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isInWorkshopMode(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}canGoToExternalSourceAsset(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}validateAndParseURL(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}navigateToURL(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setHyperlinkPopup(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateHyperlinkPopupPosition(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleUserClickOnHyperlink(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setCanvasMentionPopup(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateCanvasMentionPopupPosition(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openHelp(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openSupportForum(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openTutorials(...e){if(this.shouldThrow)throw Error("Method not implemented.")}keyboardWillShow(...e){if(this.shouldThrow)throw Error("Method not implemented.")}keyboardWillShowWithHeight(...e){if(this.shouldThrow)throw Error("Method not implemented.")}runLastPlugin(...e){if(this.shouldThrow)throw Error("Method not implemented.")}viewWidgetDetails(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startMovePagesJob(...e){if(this.shouldThrow)throw Error("Method not implemented.")}retrieveMetadataAndSelectBrokenFixedScrollingNodes(...e){if(this.shouldThrow)throw Error("Method not implemented.")}desktopAppQueueFileForWriting(...e){if(this.shouldThrow)throw Error("Method not implemented.")}desktopAppWriteFiles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}mobileAppExportFile(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setMobileCutEnabled(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setMobileCopyEnabled(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setMobilePasteEnabled(...e){if(this.shouldThrow)throw Error("Method not implemented.")}mobileAppShowContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getDefaultOnOTFeatures(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}copyLinkToPage(...e){if(this.shouldThrow)throw Error("Method not implemented.")}generateLinkToNode(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}generateLinkToRemoteNode(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLocalGUIDFromUrl(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getLocalVersionIdFromUrl(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}syncPencilStyle(...e){if(this.shouldThrow)throw Error("Method not implemented.")}syncHighlighterStyle(...e){if(this.shouldThrow)throw Error("Method not implemented.")}syncToolStyles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setVideoShouldAutoplay(...e){if(this.shouldThrow)throw Error("Method not implemented.")}sendActiveStackRegionAnalytics(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showFileUpgradeNeededModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getUserName(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getIsEmojiWheelOpen(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}openStartingPointFlowInPrototypeViewer(...e){if(this.shouldThrow)throw Error("Method not implemented.")}focusPrototypeStartingPointPanelToEditName(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setSentryTag(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setTimer(...e){if(this.shouldThrow)throw Error("Method not implemented.")}openTimerModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}resendTimer(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setMusic(...e){if(this.shouldThrow)throw Error("Method not implemented.")}resendMusic(...e){if(this.shouldThrow)throw Error("Method not implemented.")}activateVotingStampTool(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setActiveAgendaItemId(...e){if(this.shouldThrow)throw Error("Method not implemented.")}escapeAndSaveCSVData(...e){if(this.shouldThrow)throw Error("Method not implemented.")}parseCsvStringAndCreateWhiteboardNodes(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}parseHtmlStringAndCreateWhiteboardNodes(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}parseHtmlStringAndTriggerSmartPaste(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}parseHTMLStringIntoLineDirectionalities(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}isNavigatorClipboardWriteSupported(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}onNodePositionChanged(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onSectionPresetPickerCreated(...e){if(this.shouldThrow)throw Error("Method not implemented.")}generateEmbed(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}generateWidgetFromURL(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}handleAction(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startExportAction(...e){if(this.shouldThrow)throw Error("Method not implemented.")}sendEventToResponsiveContentHandler(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onAgendaChanged(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onFigjamStarterKitAction(...e){if(this.shouldThrow)throw Error("Method not implemented.")}canUploadAndEditVideo(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}selectPublishedAssetGuids(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}handleZoomActionTriggeredToSetOnboardingFlag(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handlePanActionTriggeredToSetOnboardingFlag(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleNodeCountReachedForMoveDraft(...e){if(this.shouldThrow)throw Error("Method not implemented.")}selectLocalStyles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}formatDateTime(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}setFigjamStarterKitBoundingBox(...e){if(this.shouldThrow)throw Error("Method not implemented.")}loadedCompareChanges(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setUserFlag(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onViewOnlyJiggle(...e){if(this.shouldThrow)throw Error("Method not implemented.")}shouldViewOnlyJiggle(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}upsellLibrariesHandleConsecutivePaste(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onPlaygroundNodeChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}triggerHaptics(...e){if(this.shouldThrow)throw Error("Method not implemented.")}logEnterMode(...e){if(this.shouldThrow)throw Error("Method not implemented.")}evaluateMathExpression(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}changeDocumentColorProfile(...e){if(this.shouldThrow)throw Error("Method not implemented.")}addWhiteboardToolToRecents(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onTilesRendered(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onCreateTable(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onEditTableText(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onNodeDragStart(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onNodeDragEnd(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onCreateSticky(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onDifferentSectionClicked(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onConnectDiagramShapeWithConnector(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onTileRendererChanged(...e){if(this.shouldThrow)throw Error("Method not implemented.")}afterPageChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}afterComputeViewportSettings(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getNextQueryRequestId(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}afterQueryCompleted(...e){if(this.shouldThrow)throw Error("Method not implemented.")}rejectAllSceneGraphQueries(...e){if(this.shouldThrow)throw Error("Method not implemented.")}movedSingleNodeVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}createSlideAfterFocusedSlide(...e){if(this.shouldThrow)throw Error("Method not implemented.");return"-1:-1"}openWandMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isAiDisabled(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}removeImageBackground(...e){if(this.shouldThrow)throw Error("Method not implemented.")}autoRenameLayers(...e){if(this.shouldThrow)throw Error("Method not implemented.")}regenerateText(...e){if(this.shouldThrow)throw Error("Method not implemented.")}debugMagicLinkAIModel(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class r6{constructor(e=!1){this.shouldThrow=e}getIsExtension(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}setNodesReady(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setNodesCompleted(...e){if(this.shouldThrow)throw Error("Method not implemented.")}forwardExportsToExtension(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showStatusContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isStatusContextMenuShowing(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}showDevModeFeaturesModal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showAnnotationsButtonContextMenu(...e){if(this.shouldThrow)throw Error("Method not implemented.")}shouldAvoidScaling(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class r8{constructor(e=!1){this.shouldThrow=e}nodeChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class r7{constructor(e=!1){this.shouldThrow=e}createMouseBehavior(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}tableUiReorderHandleHoveredLength(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}tableUiAddButtonHoveredRadius(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}}class r9{constructor(e=!1){this.shouldThrow=e}setMentionsTypeaheadQuery(...e){if(this.shouldThrow)throw Error("Method not implemented.")}clearMentionsTypeaheadQuery(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isShowingMentionsTypeaheadResults(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}setMentionsTypeaheadTargetRect(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startSearchSession(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}endSearchSession(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}showVisualBellForPastedMentions(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class ne{constructor(e=!1){this.shouldThrow=e}convertPDFToScene(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}}class nt{constructor(e=!1){this.shouldThrow=e}selectionChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}boxSelectionEnded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}currentPageChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}timerChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}drop(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}documentChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}codegenPreferencesChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}stackInvariantsEnforced(...e){if(this.shouldThrow)throw Error("Method not implemented.")}pluginPageLoaded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}pluginAccessibleNodeIds(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}pluginAccessiblePages(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}}class nr{constructor(e=!1){this.shouldThrow=e}getAPIName(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}getSuggestionsForWord(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}spellCheckText(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}runTextReviewPlugin(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}shouldEnableWhenFirstActivated(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class nn{constructor(e=!1){this.shouldThrow=e}isQuickActionsShown(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class ni{constructor(e=!1){this.shouldThrow=e}reconnectingStarted(...e){if(this.shouldThrow)throw Error("Method not implemented.")}reconnectingSucceeded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}notifyCursorHidden(...e){if(this.shouldThrow)throw Error("Method not implemented.")}notifyCursorUnhiddenFromObserver(...e){if(this.shouldThrow)throw Error("Method not implemented.")}notifyCursorUnhiddenFromConnectionCount(...e){if(this.shouldThrow)throw Error("Method not implemented.")}notifyEditorConvertedToViewer(...e){if(this.shouldThrow)throw Error("Method not implemented.")}snapshotHashChanged(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSaveStatus(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateMultiplayerState(...e){if(this.shouldThrow)throw Error("Method not implemented.")}restartPresentation(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showPresentationStoppedVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}cancelPresentationStoppedVisualBell(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setBackgroundFlushInterval(...e){if(this.shouldThrow)throw Error("Method not implemented.")}startMonitorInterval(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleMultiplayerSignal(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleSceneGraphValidationFailure(...e){if(this.shouldThrow)throw Error("Method not implemented.")}checkpointResponse(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showRestoreComponentDialog(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showComponentRemovedDialog(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isWindowActive(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}buildMultiplayerUrl(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}requestedChunkedFileLoad(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}socketBufferedAmount(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}prettyPrintMessage(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setReconnectSequenceNumberForWeb(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class na{constructor(e=!1){this.shouldThrow=e}showEyedropper(...e){if(this.shouldThrow)throw Error("Method not implemented.")}hideEyedropper(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getColorFromNativeEyeDropper(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}updateSelectionPaintsWithFillEncodedPaints(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionImages(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionPaintsWithStyles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updatePaintsDirectlyOnSingleNodeWithFillEncodedPaints(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updatePaintsDirectlyOnSingleNodeWithStyles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}clearSelectionPaintsDueToLimitExceeded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionPaintFromDropper(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}pickerHasSelectionPaintOpen(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}originalPaintForCurrentSelectionPaintsPicker(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}colorPickerSelectedVariable(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}clearSelectionTextAndEffectStylesDueToLimitExceeded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}updateSelectionTextAndEffectStyles(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isPrototypingModalOpen(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class no{constructor(e=!1){this.shouldThrow=e}handleConnect(...e){if(this.shouldThrow)throw Error("Method not implemented.")}addUser(...e){if(this.shouldThrow)throw Error("Method not implemented.")}removeUser(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setMouseCursor(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setMousePosition(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setIsHoveringWidgetWithHiddenCursors(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setHighFiveStatus(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setChatMessage(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setFocusOnTextCursor(...e){if(this.shouldThrow)throw Error("Method not implemented.")}setVoiceMetadata(...e){if(this.shouldThrow)throw Error("Method not implemented.")}handleReactionFromServer(...e){if(this.shouldThrow)throw Error("Method not implemented.")}sendReaction(...e){if(this.shouldThrow)throw Error("Method not implemented.")}playSoundEffectOnce(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class ns{constructor(e=!1){this.shouldThrow=e}clearTemplatePreview(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class nl{constructor(e=!1){this.shouldThrow=e}getEyedropperContext(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}updateEditPaletteModalColor(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isCustomPaletteApplied(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}showSectionPresets(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class nd{constructor(e=!1){this.shouldThrow=e}getFeatureGate(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class nc{constructor(e=!1){this.shouldThrow=e}readSync(...e){if(this.shouldThrow)throw Error("Method not implemented.");return[]}writeSync(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}}class nu{constructor(e=!1){this.shouldThrow=e}isUI3(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class np{constructor(e=!1){this.shouldThrow=e}getDefaultDocumentColorProfile(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getCanvasColorProfile(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getUserColorProfile(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}}class nh{constructor(e=!1){this.shouldThrow=e}createVideo(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}deleteVideo(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getWidth(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getHeight(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}getCoverImage(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Uint8Array}loadVideo(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}copyVideoPermissions(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getSignedUrls(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Map}setExternalSource(...e){if(this.shouldThrow)throw Error("Method not implemented.")}loadAllVideos(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class nm{constructor(e=!1){this.shouldThrow=e}autoSegmentSelection(...e){if(this.shouldThrow)throw Error("Method not implemented.")}shouldRunSimpleStackDetection(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}runMakeResponsiveHeuristics(...e){if(this.shouldThrow)throw Error("Method not implemented.")}trackAutoLayoutAppliedForSprig(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class ng{constructor(e=!1){this.shouldThrow=e}getUserId(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}getUserLocale(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}hasUserFlag(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class nf{constructor(e=!1){this.shouldThrow=e}onMissingEditScope(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class n_{constructor(e=!1){this.shouldThrow=e}markMissingFontScannerAsComplete(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class ny{constructor(e=!1){this.shouldThrow=e}submitDeveloperRelatedLinks(...e){if(this.shouldThrow)throw Error("Method not implemented.")}didGetNodeStatusChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class nE{constructor(e=!1){this.shouldThrow=e}decodeFillPaintData(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}decodeEffectData(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}decodeVectorData(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}decodeTextData(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}decodePrototypeInteractions(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}}class nb{constructor(e=!1){this.shouldThrow=e}onInsertFromExisting(...e){if(this.shouldThrow)throw Error("Method not implemented.")}onImpression(...e){if(this.shouldThrow)throw Error("Method not implemented.")}mountWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.")}mountWidgetLowPriority(...e){if(this.shouldThrow)throw Error("Method not implemented.")}trackSelectionStateInteraction(...e){if(this.shouldThrow)throw Error("Method not implemented.")}clickWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.")}queueRender(...e){if(this.shouldThrow)throw Error("Method not implemented.")}renderFirstPartyWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.")}isRenderingWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}runPropertyMenuCallback(...e){if(this.shouldThrow)throw Error("Method not implemented.")}terminateRunningWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.")}clickHyperlink(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getWidgetIconBuffer(...e){if(this.shouldThrow)throw Error("Method not implemented.");return Promise.reject()}onTextEditEnd(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showTooltip(...e){if(this.shouldThrow)throw Error("Method not implemented.")}showNonInteractableWidgetTooltip(...e){if(this.shouldThrow)throw Error("Method not implemented.")}hideTooltip(...e){if(this.shouldThrow)throw Error("Method not implemented.")}logMultipleInputEditorsInWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.")}stickableAdded(...e){if(this.shouldThrow)throw Error("Method not implemented.")}stickableRemoved(...e){if(this.shouldThrow)throw Error("Method not implemented.")}canInteractWithWidget(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}canViewWidgetDetails(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class nv{constructor(e=!1){this.shouldThrow=e}prefersReducedMotion(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}debounceNodeResizeUpdate(...e){if(this.shouldThrow)throw Error("Method not implemented.")}debounceNodeMovementUpdate(...e){if(this.shouldThrow)throw Error("Method not implemented.")}announceDomChange(...e){if(this.shouldThrow)throw Error("Method not implemented.")}getAPCAContrast(...e){if(this.shouldThrow)throw Error("Method not implemented.");return 0}}class nS{constructor(e=!1){this.shouldThrow=e}onFrameDistributionTrackedEvent(...e){if(this.shouldThrow)throw Error("Method not implemented.")}}class nI{constructor(e=!1){this.shouldThrow=e}isCustomPaletteColor(...e){if(this.shouldThrow)throw Error("Method not implemented.");return!1}}class nT{constructor(e=!1){this.shouldThrow=e}clearSlideThemeStylePreview(...e){if(this.shouldThrow)throw Error("Method not implemented.")}syncSlideThemeAtom(...e){if(this.shouldThrow)throw Error("Method not implemented.")}computeThemeSwapColorVariableMapping(...e){if(this.shouldThrow)throw Error("Method not implemented.");return new Map}}class nw{constructor(e=!1){this.shouldThrow=e}}class nC{constructor(e=!1){this.shouldThrow=e}getSummaryAsClipboardText(...e){if(this.shouldThrow)throw Error("Method not implemented.");return""}}class nA{constructor(e=!1){this.shouldThrow=e}calculateColorWithRampValue(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}calculateColorWithRelativeAdjustment(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}getRampValueForColor(...e){if(this.shouldThrow)throw Error("Method not implemented.");return null}}class nN extends r4{constructor(){super(...arguments),this.fileArrayToString=null,this.session={user:null},this.fromFullscreen=new ta.b(""),this.viewport=new ta.b(""),this.ImageIO={reset:()=>{},terminateWorker:()=>{},decodeAsync:()=>{},encode:()=>{}}}saveUseNumbersForOpacityPreference(e){throw Error("Method not implemented.")}onCreateSticky(){throw Error("Method not implemented.")}isReady(){return!1}figFileLoaded(){}resetLoadedFigFile(){}loadAndStartFullscreenIfNecessary(){return Promise.reject()}setFigmascopeSelectedGuidCallback(e){}fileLoadTime(){return null}hasDesktopApp(){return!1}getDesktopAppMenuItemName(){return""}handleDesktopAppMenuItem(){}getCurrentFileName(){throw Error("Method not implemented.")}getFileThumbnailMenuItemName(){return""}handleFileThumbnailMenuItem(){}disableFileThumbnailMenu(){return!1}handleSketchImportEvent(){return!1}reparentRootElement(){}isRootElementVisible(){return!1}updateSelectionProperties(){}deselectProperty(){}updateAppModel(){}onReady(){return Promise.reject()}openFilePromise(){return Promise.reject()}openFileKeyPromise(){return Promise.reject()}sourceFileKeyPromise(){return Promise.reject()}currentOrgId(){return""}currentTeamId(){return""}DEPRECATED_sendMessage(){}triggerAction(){}triggerActionInUserEditScope(){}commit(){}getViewportInfo(){}isInDrafts(){return!1}showUI(){return!1}isWebContextReady(){return!1}registerWebContext(){}jsWantsKeyboardEvent(){return!1}jsWantsClipboardEvent(){return!1}dispatch(){}dispatchIfSaved(){}restoreComponent(){}restoreStyle(){}forwardKeyboardEvent(){}setMissingFont(){}selectMissingFontNodes(){}onWatchedNodeBoundsChange(){}onFrame(){}pinchZoomFixDisabled(){return!1}allowWebGestures(){}cancelPendingGestures(){}takePencilSample(){}memorySpikeOnFileLoadBytes(){throw Error("FigmaApp.memorySpikeOnFileLoadBytes: method not implemented")}takeIndirectPinchGesture(){}}class nO extends r7{createMouseBehavior(){return{handleMouseLeave:()=>{},handleMouseMove:()=>{},handleMouseDown:()=>{},handleMouseDrag:()=>{},handleMouseUp:()=>{},handleBeforeFrame:()=>{},handleContextMenuOpen:()=>{},render:()=>{},renderUnderEditModeUI:()=>{},reset:()=>{}}}tableUiReorderHandleHoveredLength(){return 0}tableUiAddButtonHoveredRadius(){return 0}}class nR{didPasteVariables(e){throw Error("VariablesBinding.didPasteSubscribedVariables not implemented.")}pasteVariablesWithLocalizationPopup(e,r,n){throw Error("VariablesBinding.pasteVariablesWithLocalizationPopup not implemented.")}}class nP{localVariableSetUpdated(e){throw Error("VariablesMirrorBinding.localVariableSetUpdated not implemented.")}subscribedVariableSetUpdated(e,r){throw Error("VariablesMirrorBinding.subscribedVariableSetAdded not implemented.")}localVariableSetDeleted(e){throw Error("VariablesMirrorBinding.deleteVariableSet not implemented.")}subscribedVariableSetDeleted(e){throw Error("VariablesMirrorBinding.subscribedVariableSetDeleted not implemented.")}localVariablesUpdated(e){throw Error("VariablesMirrorBindings.localVariableUpdated not implemented.")}localVariablesDeleted(e){throw Error("VariablesMirrorBindings.variableDeleted not implemented.")}localVariableOverridesDeleted(e){throw Error("VariablesMirrorBindings.localVariableOverridesDeleted not implemented.")}localVariableOverridesUpdated(e){throw Error("VariablesMirrorBindings.localVariableOverridesUpdated not implemented.")}variableResolvedValueUpdated(e,r){throw Error("VariablesMirrorBindings.variableResolvedValueUpdated not implemented.")}explicitModeUpdated(e,r){throw Error("VariablesMirrorBindings.explicitModeUpdated not implemented.")}resetMirrorCache(){throw Error("VariablesMirrorBInding.resetMirrorCache not implemented.")}}class nL{recordInteractionUpgraded(e,r){throw Error("StateManagementBindings.recordInteractionUpgraded not yet implemented")}}let nD=new Map(Object.entries(eT.XpX).map(([e,r])=>[e,r]));Object.entries(eT.XpX).map(([e,r])=>[r,e]);var nM=n(92856),nk=n(17453),nx=n(1538),nF=n(10004),nU=((M=nU||{}).MouseScrollToZoom="mouse-scroll-wheel-zoom",M.RightClickDragToPan="right-click-drag-to-pan",M);function nB({navigationPreference:e,enabled:r}){var n,i,a;new nF.P().sendToOtherTabs(e,JSON.stringify(r)),function(e){try{let r=tu.D.getState();(0,eS.uE)("navigation_preferences",r,{navigationPreference:e.navigationPreference,enabled:e.enabled,eventName:e.eventName})}catch(e){}}({navigationPreference:e,enabled:r,eventName:"user_manual_change"}),n=e,i=r,(null==(a=tu.D.getState().user)?void 0:a.id)&&eE.Ay.put("/api/user","mouse-scroll-wheel-zoom"===n?{mouse_scroll_to_zoom:i}:{right_click_drag_to_pan:i})}var nV=n(15354),nH=n(73434),nG=n(87620),nW=n(99934),nz=n(60178),nK=n(60286),nj=n(20666),nY=n(76485),n$=n(9073);let nq=(0,t1.nF)((e,r)=>{var n;let i=e.getState(),{plugin:a,codeLanguage:o}=r,s=(0,nK.s)(i),l=function(e){let r=(0,nH.XP)(e);return tM.bw(r),r}(o);"published-plugin"===l.type&&a&&!(0,nY.ZQ)(a)&&e.dispatch(nG.gU({storeInRecentsKey:n$.$A.Handoff,id:a.plugin_id,version:a.version,currentUserId:s})),(0,eS.ds)("Dev Mode Language Changed",null==(n=i.openFile)?void 0:n.key,i,{languageType:l.type,languageId:l.id})});var nZ=n(70934),nX=n(68832),nJ=n(71779),nQ=n(87626),n0=n(9388),n1=n(56975),n2=n(41563),n3=n.n(n2),n5=n(52553),n4=n(91205),n6=n(93623);let n8=["1221187540287746170","857346721138427857","1056265616080331589","1220512233196109878","1220802563996996107","842128343887142055","747985167520967365","1056467900248561542"],n7=["1217657098906612843","1217135789855512677","1247607449040618138","1247608226235858606","1223313994819294460","1028373000013876601","1028372640233029916","1065757873699611582"];function n9(e){var r,n,i;return e&&(null==e?void 0:e.current_plugin_version_id)&&(null==(i=null==(n=null==(r=e.versions)?void 0:r[e.current_plugin_version_id])?void 0:n.manifest)?void 0:i.capabilities)||[]}let ie=e=>!!e&&n9(e).includes("codegen"),it=e=>{if(!e)return!1;let r=n9(e);return r.includes("inspect")||r.includes("panel")},ir=n4.M4.Query({fetch:async e=>{var r;let n=(0,e2.b5)()?n7:n8;try{let e=await n6.V.postPluginsBatch(n);return(null==(r=null==e?void 0:e.data)?void 0:r.meta)??[]}catch(e){return(0,ey.$D)(tp.e.DEVELOPER_TOOLS,e),[]}},output:({data:e})=>({inspectPlugins:e.filter(it),codegenPlugins:e.filter(ie)})});var ii=n(86538),ia=n(41088),io=((k=io||{}).PRIMARY="primary",k.PLUGIN="plugin",k.PROPERTIES="properties",k.COMPONENT="component",k.DEV_RESOURCES="dev_resources",k.ASSETS="assets",k);let is=(0,eF.eU)("primary"),il=(0,eF.eU)(e=>e(is),(e,r,n)=>{let i=e(is),a=n;if(!(0,ia.T)())switch(n){case"properties":case"component":case"dev_resources":case"assets":a="primary"}if(i!==a){var o;o=a,(0,eS.uE)("dev_handoff_right_panel_tab_switch",tu.D.getState(),{sourceTab:i,destinationTab:o}),r(is,a)}});var id=n(94687),ic=n(38311),iu=n(78527);function ip(e,r,n,i={}){let a=[];return e.forEach(e=>{if(!(0,nj.pk)(e))return;let i=(0,ic.m)(e),o=(0,nY.ZQ)(e)?void 0:ep.createElement("div",{className:eV.cx.mr4.$},ep.createElement(iu.d,{plugin:e}));if(1===i.length){let s=(0,nZ.$n)(e,i[0]);a.push({name:e.name,displayText:e.name,icon:o,isChecked:n3()(s,r),callback:()=>n(s)})}else{let s=i.map(i=>{let a=(0,nZ.$n)(e,i);return{name:i.label,displayText:i.label,isChecked:n3()(a,r),callback:()=>n(a)}});a.push({name:e.name,displayText:e.name,icon:o,isChecked:!!s.some(e=>e.isChecked),children:s})}}),a}var ih=n(81388),im=n(68389),ig=n(41381),i_=n(81912),iy=n(36599);let iE=new class{loadPluginsPublishedByUser(e){let r=e.getState().loadingState,n=ig.uF.loadingKeyForPayload();(0,iy.Sc)(r,n)&&e.dispatch(ig.uF())}async loadPluginsAuthoredByCurrentOrg(e){let{loadingState:r,currentUserOrgId:n}=e.getState();if(!n)return;let i=ig.LP.loadingKeyForPayload(n);(0,iy.Sc)(r,i)&&await e.dispatch(ig.LP(n))}loadWidgetsAuthoredByCurrentOrg(e){let{loadingState:r,currentUserOrgId:n}=e.getState();if(!n)return;let i=ig.a8.loadingKeyForPayload(n);(0,iy.Sc)(r,i)&&e.dispatch(ig.a8(n))}};var ib=n(67795),iv=n(76158),iS=n(27557),iI=n(20741),iT=n(1400),iw=n(10424);let iC=(0,t1.T8)("GET_COMMUNITY_PROFILE_HUB_FILES",(e,r,{loadingKey:n})=>{let i=iT.H.getProfile({profileId:r});(0,iI.N)(i,e,n),i.then(({data:r})=>{let n=r.meta;e.dispatch((0,iw.Sb)({hubFiles:n,src:"getCommunityProfileHubFiles"}))})},e=>`GET_COMMUNITY_PROFILE_HUB_FILES_${e}`);var iA=((x=iA||{}).INVITE_TILE="invite_tile",x.COMMUNITY_PAGE="community_page",x);function iN(e){return e.hub_file?(0,im.Sb)({hubFiles:[e.hub_file],src:"removeCommunityPublisher"}):e.plugin?ig.Qi({publishedPlugins:[e.plugin],src:"removeCommunityPublisher"}):e.widget?ig.Qi({publishedPlugins:[e.widget],src:"removeCommunityPublisher"}):void 0}(0,t1.nF)((e,r)=>{eE.Ay.put("/api/community_publishers/accept",r).then(({data:r})=>{let n=iN(r.meta);n&&e.dispatch(n)}).catch(r=>{let n=(0,eb.Jv)(r);throw e.dispatch(ih.s.error((0,eb.t)("community.actions.an_error_occurred_accepting_invite_please_refresh_and_try_again"))),Error(`Error updating resource ${n}`)})}),(0,t1.nF)((e,r)=>{let{src:n,plugin_id:i,widget_id:a}=r;eE.Ay.put("/api/plugin_publishers/accept",{plugin_id:i,widget_id:a}).then(({data:r})=>{var o;let s=iN(r.meta);s&&e.dispatch(s),(0,eS.ye)("plugin_publisher_invite_accepted",{src:n,userId:null==(o=e.getState().user)?void 0:o.id,pluginId:i??a,isWidget:!!a});let l=(0,nj.T)();i?(0,iS.s)({initialX:0,initialY:0,initialTab:"figjam"===l?ib.p.PLUGINS:void 0,initialFdResourceTab:"figma"===l?iv.s.PLUGIN:void 0,scrollDevelopmentSectionIntoView:"figjam"===l,initialFdView:"figma"===l?"development":void 0}):a&&(0,iS.s)({initialX:0,initialY:0,initialTab:"figjam"===l?ib.p.WIDGETS:void 0,initialFdResourceTab:"figma"===l?iv.s.WIDGET:void 0,scrollDevelopmentSectionIntoView:"figjam"===l,initialFdView:"figma"===l?"development":void 0})}).catch(r=>{let n=(0,eb.Jv)(r);throw e.dispatch(ih.s.error((0,eb.t)("community.actions.an_error_occurred_accepting_invite_please_refresh_and_try_again"))),Error(`Error updating resource ${n}`)})}),(0,t1.nF)((e,r)=>{eE.Ay.del("/api/community_publishers/remove",r).then(({data:r})=>{let n=iN(r.meta);n&&e.dispatch(n)}).catch(r=>{let n=(0,eb.Jv)(r);throw e.dispatch(ih.s.error((0,eb.t)("community.actions.an_error_occurred_while_removing_publisher_please_refresh_and_try_again"))),Error(`Error updating resource ${n}`)})}),(0,t1.nF)((e,r)=>{eE.Ay.del("/api/plugin_publishers/remove",r).then(({data:n})=>{var i;let a=n.meta;if(n.meta.plugin){let{plugin_publishers:e}=n.meta.plugin;n.meta.plugin.plugin_publishers=e??{accepted:[],pending:[]}}else if(n.meta.widget){let{plugin_publishers:e}=n.meta.widget;n.meta.widget.plugin_publishers=e??{accepted:[],pending:[]}}let o=iN(a);o&&e.dispatch(o),(0,eS.ye)("plugin_publisher_invite_removed",{src:r.src,userId:null==(i=e.getState().user)?void 0:i.id,pluginId:r.plugin_id||r.widget_id,isWidget:!!r.widget_id})}).catch(r=>{let n=(0,eb.Jv)(r);throw e.dispatch(ih.s.error((0,eb.t)("community.actions.an_error_occurred_while_removing_publisher_please_refresh_and_try_again"))),Error(`Error updating resource ${n}`)})}),(0,t1.nF)((e,r)=>{e.dispatch(ig.pZ({profileId:r})),e.dispatch(ig.kA({profileId:r})),e.dispatch(iC(r))});let iO=(0,t1.nF)(e=>{iE.loadPluginsPublishedByUser(e),iE.loadPluginsAuthoredByCurrentOrg(e)});(0,t1.nF)(e=>{iE.loadPluginsAuthoredByCurrentOrg(e)}),(0,t1.nF)(async e=>{await iE.loadWidgetsAuthoredByCurrentOrg(e)});var iR=n(38269),iP=n(18812),iL=n(98606),iD=n(98826),iM=n(28339);let ik="code_language_dropdown--codeLanguageDropdownContainer--c44wf";function ix({dropdownId:e,disabled:r,codeLanguageApi:n,onDropdownHidden:i,parentElementId:a}){let o=(0,n1._I)(),{codeLanguage:s,activeCodegenPlugin:l,formatter:d,codeLanguageOptions:c}=n,u=l&&"first-party"!==s.type?ep.createElement(iu.d,{plugin:l}):null,p=(0,eJ.wA)();ep.useEffect(()=>p(iO()),[p]);let h=(0,iP.U)(),m=ep.useRef(null),g=(null==h?void 0:h.type)===e;return ep.createElement("div",{className:ik,"data-tooltip":(0,eb.t)("dev_handoff.code.language"),"data-tooltip-type":iL.Ib.TEXT,"data-tooltip-show-above":!0},ep.createElement("div",{className:"code_language_dropdown--codeLanguageLabelContainer--xbun5"},ep.createElement(iM.uQ,{formatter:d,property:s,icon:u,onClick:()=>{g?p(iR.oB()):o&&p(iR.j7({type:e}))},inputClassName:"code_language_dropdown--codeLanguageLabel--lMqXN ellipsis--ellipsis--Tjyfa",ref:m,dataTestId:"code_language_dropdown",isDisabled:r})),g&&!r&&m.current&&(0,n0.createPortal)(ep.createElement("div",{className:ik},ep.createElement(iD.j,{items:c,onSelectItem:e=>{e.callback&&e.callback("",null,p)},dispatch:p,parentRect:m.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,onDropdownHidden:i,activatePathOnMount:"local-plugin"!==s.type?[d.format(s)]:[c[0].displayText]})),document.getElementById(a||"dev-handoff-inspect-panel")))}var iF=n(12046),iU=n.n(iF);n(49793);var iB=n(60628);let iV={scaledWeb:"rem",scaledIOS:"pt",scaledAndroid:"dp",pixel:"px"};function iH(e){let r=(0,nH.v4)().id,n=(0,eJ.d4)(e=>e.mirror.appModel.devHandoffPreferences),i=e??r;return(0,ep.useMemo)(()=>{var e;return(null==(e=n.codeExtensionPreferences)?void 0:e[i])??{}},[n,i])}function iG(e){let{id:r,type:n}=e;return(0,nW.S0)(r,{searchLocalPlugins:"local-plugin"===n,searchSavedPlugins:"published-plugin"===n,searchPublishedPlugins:"published-plugin"===n,searchRecentPlugins:"published-plugin"===n})}function iW(e,r){let{id:n,type:i,pluginLanguage:a}=e;if("first-party"!==i&&r){let e=(0,ic.X)(r,a),n=(0,nZ.K6)(r,e);if(n)return n.scaledUnit}switch(n){case nH.uz:return iV.scaledWeb;case nH.p:case nH.Ap:return iV.scaledIOS;case nH.LK:case nH.NU:return iV.scaledAndroid;default:return iV.scaledWeb}}var iz=n(73149),iK=n(37870),ij=n(5135),iY=n(36894);let i$=new iz.KD({min:.1}),iq=[3,2,1,.5,1/3],iZ=new class{parse(e){return"1/3"===e?3:"1/2"===e?2:"2"===e||"3"===e?1/Number.parseInt(e):1}format(e=1){return"0.3"===e.toFixed(1)?"3":"0.5"===e.toFixed(1)?"2":2===e||3===e?`1/${e}`:(0,eb.t)("dev_handoff.alternative_units.no_scale")}};function iX({scaleFactor:e,onChange:r,onDropdownHidden:n,className:i,inputClassName:a}){let o=(0,eJ.wA)(),s=(0,iP.U)();return ep.createElement(iM.l6,{dispatch:o,property:e,id:"SCALE_FACTOR",onChange:r,formatter:iZ,dropdownShown:s,className:i,inputClassName:a,dropdownWidth:"auto",autoFocus:!0,onDropdownHidden:n},iq.map(r=>ep.createElement(iM.c$,{key:r,value:r,selected:r===e,fullWidth:!0})))}function iJ({codeLanguage:e}){let r=function(e){let r=iG(e);return iW(e,r)}(e);switch(e.id){case nH.p:case nH.Ap:return ep.createElement(eb.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_ios"});case nH.LK:case nH.NU:return ep.createElement(eb.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_android"});case nH.uz:return ep.createElement(eb.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_web"})}return ep.createElement(eb.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_third_party",unitName:r})}let iQ=(0,iK.Ju)(function(){var e;let r=(0,nH.v4)(),[n,i]=ep.useState(r),a=iG(n),o=iH(n.id),s=function(){let e=(0,eJ.d4)(e=>e.mirror.appModel.devHandoffPreferences),r=(0,e0.U)();return(0,ep.useCallback)((n,i,a)=>{let{customSettings:o,...s}=a;iU()(s)||(void 0!==s.unit&&(s.unit=s.unit===eT.tKW.PIXEL?iV.pixel:iW(n,i)),r("Dev Mode Preference Changed",{languageType:n.type,languageId:n.id,...s})),(0,nZ.D8)(e,n,a)},[e,r])}(),l=ep.useRef(null),d=(0,eJ.wA)(),c=ep.useCallback(e=>{e&&s(n,a,{scaleFactor:e})},[n,s,a]),u="first-party"===n.type&&(n.id===nH.LK||n.id===nH.NU||n.id===nH.p||n.id===nH.Ap),p="first-party"===n.type&&(n.id===nH.uz||n.id===nH.A0),h=(0,nX.A)(()=>{var e;p&&s(n,a,{customSettings:{onlyText:"true"===((null==(e=o.customSettings)?void 0:e.onlyText)||"false")?"false":"true"}})},250),m=ep.useCallback(()=>{var e;null==(e=l.current)||e.focus()},[]),g=(null==o?void 0:o.scaleFactor)??1,f=function({codeLanguage:e,onChange:r,shouldHideLanguagesWithNoAltUnitSupport:n,onlyShowFirstPartyLanguages:i,showAddInsteadOfBrowse:a,addCodegenPluginCallback:o,currentSavedCodeLanguage:s}){let l=(0,nH.AC)(e),d=(0,nH.Pt)(l),c=(0,id.sZ)(),u=(0,eJ.d4)(e=>e.whitelistedPlugins),p=(0,nY.ow)(l,u,c)?e:{type:"first-party",id:"WEB"},h=function({codeLanguage:e,onChange:r,shouldHideLanguagesWithNoAltUnitSupport:n,onlyShowFirstPartyLanguages:i,formatter:a,showAddInsteadOfBrowse:o,addCodegenPluginCallback:s,currentSavedCodeLanguage:l}){let d=(0,nW.$1)(),c=(0,nW.j8)(),{codegenPlugins:u}=function(){var e,r;let[n]=(0,n5.IT)(ir());return{loading:"loading"===n.status,inspectPlugins:(null==(e=n.data)?void 0:e.inspectPlugins)??[],codegenPlugins:(null==(r=n.data)?void 0:r.codegenPlugins)??[]}}(),p=(0,nW._P)((null==l?void 0:l.id)||"",!!l),h=(0,eJ.d4)(e=>e.whitelistedPlugins),m=(0,id.sZ)()||null;return ep.useMemo(()=>{let g=Object.values(d).filter(nj.pk),f=Object.values(c);m&&m.plugins_whitelist_enforced&&(f=f.filter(e=>(0,nY.ow)(e,h,m))),(0,e2.kc)().ext_codegen_defaults&&u.forEach(e=>{let r=e.current_plugin_version_id?e.versions[e.current_plugin_version_id]:void 0;r&&!c[r.plugin_id]&&(0,nY.ow)(r,h,m)&&f.push(r)}),Object.keys(c).find(e=>e===(null==l?void 0:l.id))||Object.values(u).find(e=>e.id===(null==l?void 0:l.id))||!p.plugin||f.push(p.plugin);let _=ip(f,e,r,{shouldHideLanguagesWithNoAltUnitSupport:n}),y=ip(g,e,r,{shouldHideLanguagesWithNoAltUnitSupport:n}),E=n=>({name:n.id,displayText:a.format(n),isChecked:n.id===e.id,callback:()=>r(n)}),b=[E(nH.S8[nH.uz]),{name:(0,eb.t)("dev_handoff.code.lang_ios"),displayText:(0,eb.t)("dev_handoff.code.lang_ios"),children:[E(nH.S8[nH.p]),E(nH.S8[nH.Ap])]},{name:(0,eb.t)("dev_handoff.code.lang_android"),displayText:(0,eb.t)("dev_handoff.code.lang_android"),children:[E(nH.S8[nH.LK]),E(nH.S8[nH.NU])]}];if((0,e2.kc)().dt_lego_ext_plugins&&b.push(E(nH.S8[nH.A0])),i)return b;let v=[...b,{separator:!0,displayText:""},..._];return o||v.push({name:(0,eb.t)("dev_handoff.code_language.browse"),displayText:(0,eb.t)("dev_handoff.code_language.browse"),callback:()=>{rV.zl.set(il,io.PLUGIN),rV.zl.set(ii.HT,"recents_and_saved"),rV.zl.set(ii.RB,!0)}}),o&&v.push({name:(0,eb.t)("dev_handoff.code_language.add"),displayText:(0,eb.t)("dev_handoff.code_language.add"),callback:()=>null==s?void 0:s()}),y.length>0&&v.push({separator:!0,displayText:""},{name:(0,eb.t)("dev_handoff.code_language.development"),displayText:(0,eb.t)("dev_handoff.code_language.development"),isChecked:!!y.some(e=>e.isChecked),children:y}),v},[m,h,d,c,u,l,p,e,r,n,i,o,a,s])}({codeLanguage:p,onChange:r,shouldHideLanguagesWithNoAltUnitSupport:n,onlyShowFirstPartyLanguages:i,formatter:d,showAddInsteadOfBrowse:a,addCodegenPluginCallback:o,currentSavedCodeLanguage:s});return{codeLanguage:p,onCodeLanguageChange:r,codeLanguageOptions:h,activeCodegenPlugin:l,formatter:d}}({onChange:i,codeLanguage:n,shouldHideLanguagesWithNoAltUnitSupport:!0});return ep.createElement(iY.XV,{title:(0,eb.t)("dev_handoff.alternative_units.unit_settings_modal_title"),headerSize:"small",headerClassName:"scale_factor_modal--modalHeader--Tkh-O",onClose:()=>d((0,rH.AS)()),closeOnEsc:!0,closeOnEnter:!0,customButton:ep.createElement(ix,{dropdownId:"DEV_HANDOFF_MODAL_CODE_LANGUAGE_DROPDOWN",onDropdownHidden:m,codeLanguageApi:f}),minWidth:340,maxWidth:340},ep.createElement(nJ.i,{displayAs:nJ.C.Block},ep.createElement("div",{className:"scale_factor_modal--modalContent---3B9K",tabIndex:-1,ref:l,"data-testid":"scale-factor-modal-content"},u?ep.createElement("div",{className:"scale_factor_modal--scaleFactorDropdownContainer--GsEeY"},ep.createElement(iX,{scaleFactor:g,onChange:c,onDropdownHidden:m,className:"scale_factor_modal--scaleFactorDropdown--Nzf4c"}),ep.createElement("div",{className:"scale_factor_modal--scaleFactorDropdownSpacer--ZrQgd"})):ep.createElement("div",{className:"scale_factor_modal--scaleFactorInputContainer--ph9uk"},ep.createElement(ij.Q7,{className:"scale_factor_modal--scaleFactorInput--bEj9D",property:g,formatter:i$,onChange:c,onBlur:m,autoFocus:!0})),ep.createElement("div",{className:"scale_factor_modal--scaleFactorDescription--tm4w2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(iJ,{codeLanguage:n})),p&&ep.createElement(nQ.S,{checked:(null==(e=o.customSettings)?void 0:e.onlyText)==="true",label:ep.createElement(eb.Tx,{id:"dev_handoff.alternative_units.only_apply_rem_on_text",rem:ep.createElement("span",{className:"scale_factor_modal--rem--Vw4CA"},ep.createElement(eb.Tx,{id:"dev_handoff.alternative_units.rem_unit"}))}),onChange:h}))))},"SCALE_FACTOR_MODAL");function i0(e,r,n){return{name:e,get checked(){return n.devHandoffCodeLanguage.id===r},callback:(e,n,i)=>{i(nq({codeLanguage:nH.S8[r]}))}}}function i1(e,r,n,i,a){let o=i.devHandoffCodeLanguage,s=i.devHandoffPreferences;return{name:e,displayForQuickCommand:r,args:a,get checked(){var l;return((null==(l=s.codeExtensionPreferences[o.id])?void 0:l.unit)??eT.tKW.PIXEL)===n},callback:()=>{(0,nZ.D8)(s,o,{unit:n})}}}function i2(e){return e?(0,i_.A)(e).add(1,"day").subtract(1,"second").format():null}let i3=new class{constructor(){this.ActivityLogsSchemaValidator=(0,tm.vh)(),this.LastEditSchemaValidator=(0,tm.vh)(),this.RecentSchemaValidator=(0,tm.vh)()}getActivityLogs(e){return this.ActivityLogsSchemaValidator.validate(async({xr:r})=>{let n=tm.td.toAPIParameters(e);return await r.get("/api/activity_logs",n)})}getLastEdit(e){return this.LastEditSchemaValidator.validate(async({xr:r})=>await r.get(`/api/activity_logs/last_edit/${e.orgUserId}`))}getRecent(e){return this.RecentSchemaValidator.validate(async({xr:r})=>await r.get(`/api/activity_logs/recent/${e.orgUserId}`))}},i5=e=>{let r=tu.D.getState();if(!r.openFile)return;let n=r.openFile;n&&n.parentOrgId&&eE.Ay.post(`/api/activity_logs/${n.key}`,{event_name:e})};(0,t1.nF)((e,r)=>{i5("fig_file_export")}),(0,t1.T8)("GET_ACTIVITY_LOGS",(e,r)=>{let{newQuery:n,teamId:i,emails:a,eventName:o,date:s}=r,l=e.getState();i3.getActivityLogs({pageSize:"30",orgId:l.currentUserOrgId,startTime:s.start,endTime:i2(s.end),...i?{teamId:i}:null,...o?{eventName:JSON.stringify(o)}:null,...a?{emails:a.join()}:null,...n?null:{after:l.activityLogs.cursor.after}}).then(({data:r})=>{let d=r.meta,c=d[0],u=d[1],p=n?c:e.getState().activityLogs.logs.concat(c);e.dispatch(i4({logs:p,cursor:u})),(0,eS.Fr)("Activity Logs Fetched",l.currentUserOrgId,l,{teamIdFilter:i,eventNamesFilter:o,startDateFilter:s.start,endDateFilter:i2(s.end),filtersOnActorEmail:!!a&&a.length>0,filtersOnActedOnEmail:!!a&&a.length>0,isNewQuery:n,numberOfResults:c.length})}).catch(r=>{var n;let i=(null==(n=r.data)?void 0:n.message)||"An error occurred while fetching activity logs.";e.dispatch(ih.s.flash(i))})}),(0,tX.N)("CLEAR_CURSOR_ACTIVITY_LOGS");let i4=(0,tX.N)("SET_ACTIVITY_LOGS");var i6=n(93017),i8=n(74105),i7=n(28467),i9=n(3271),ae=n(79736);(0,t1.nF)(e=>{let r=e.getState(),n=(0,i8.d1)(r);if(!n||!(0,i7.canMemberOrg)(r.currentUserOrgId,r))return;let i=Object.keys(r.mirror.sceneGraphSelection);if(!(i.length<1)){if(i.length>i9.e3){e.dispatch(ih.s.error((0,eb.t)("fig_feed.too_many_content_items",{maxNum:i9.e3})));return}e.dispatch((0,rH.to)({type:ae.lt,data:{nodeInfo:{fileKey:n.key,nodeIds:i},pageBackgroundColor:eT.Egt.getNodePageBackgroundColor(i[0]),entryPoint:ae.My.CONTEXT_MENU,lockedFileKey:n.key}}))}});var at=n(96495),ar=n(5825),an=n(81054),ai=n(63142),aa=n(88633);function ao(e){return(0,aa.eR)({apiMode:{type:"PLUGIN",noOpUI:!0},pluginID:"",enableNativeJsx:!!(null==e?void 0:e.enableNativeJsx)}).vm.scope.figma}var as=n(74724);n(41092);var al=n(78260),ad=n(6757),ac=n(35682),au=((F=au||{}).RATE_LIMIT_EXCEEDED="rate_limit_exceeded",F.CONTENT_LENGTH_LIMIT="content_length_limit",F.UNSAFE_OR_HARMFUL_CONTENT="unsafe_or_harmful_content",F.GENERIC="generic",F.OFFLINE="offline",F);async function ap(){let e=ao(),r=figma.currentPage.selection;if(1!==r.length||"FRAME"!==r[0].type){console.error("Please select a single frame to test object detection");return}let n=r[0];for(let r of(await am(n)).detections){let i=[],a=e=>{let n=e.absoluteBoundingBox;n&&function(e,r){let n=Math.max(e.x,r.x),i=Math.max(e.y,r.y);return Math.max(0,Math.min(e.x+e.width,r.x+r.width)-n)*Math.max(0,Math.min(e.y+e.height,r.y+r.height)-i)/(e.width*e.height)}(n,r.box)>.95?i.push(e):"children"in e&&e.children&&e.children.forEach(a)};a(n),figma.currentPage.selection=i,(0,ar.createStackFromSceneNodes)(i,e,{},{width:n.absoluteBoundingBox.width,height:n.absoluteBoundingBox.height},!0)}figma.currentPage.selection=[n],(0,ar.createStackFromSceneNodes)([n],e)}async function ah(){let e=figma.currentPage.selection;if(1!==e.length||"FRAME"!==e[0].type){console.error("Please select a single frame to test object detection");return}let r=e[0];(await am(r)).detections.forEach(e=>{!function(e,r,n,i,a){let o=figma.createFrame();o.x=e,o.y=r,o.resize(n,i),o.fills=[],o.name=`${a}`,o.strokes=[{type:"SOLID",color:{r:1,g:0,b:0}}],o.strokeWeight=2,figma.currentPage.appendChild(o)}(e.box.x,e.box.y,e.box.width,e.box.height,e.score)})}function am(e){let r=e.absoluteBoundingBox,[n,i]=eT.Vzr.generateThumbnailForNode(e.id,r.width,r.height,1,{}),a=(0,ai.lF)(i),o=tu.D.getState().openFile;return(null==o?void 0:o.key)===an.TEST_AAL_FILE_KEY&&an.MOCKED_AAL_NODE_IDS[e.name]?Promise.resolve({detections:an.MOCKED_AAL_NODE_IDS[e.name].detections.map(r=>({score:r.score,box:{x:r.box.x+e.absoluteBoundingBox.x,y:r.box.y+e.absoluteBoundingBox.y,width:r.box.width,height:r.box.height}}))}):as.Ay.design.sectionDetection({image:a,imageCoordinates:r},{orgId:rV.zl.get(al._s)||null,teamId:rV.zl.get(ac.As)||null,fileKey:rV.zl.get(ac.ze)||null,userId:rV.zl.get(ad.kS)||null})}var ag=n(17068),af=n(44682),a_=n(30956),ay=n(79453),aE=n(61004),ab=n(73131),av=n(876),aS=n(61816),aI=n.n(aS),aT=n(35645),aw=n.n(aT),aC=n(2399),aA=n(73058),aN=n(57663),aO=n(17333),aR=n(77432),aP=n(29769),aL=n(57766),aD=n(5984),aM=n(43282);function ak(e){if(!(e.variantChunks.length>0))return{modified:[],unmodified:[]};{let r=e.variantChunks.filter(e=>e.mainChunk.phase!==eT.Dje.UNMODIFIED),n=e.variantChunks.filter(e=>e.mainChunk.phase===eT.Dje.UNMODIFIED).map((e,r)=>({displayChunk:e,affectedChunks:[],variantChunks:[],index:r}));return{modified:r.map((e,r)=>({displayChunk:e,affectedChunks:[],variantChunks:[],index:r})),unmodified:n}}}var ax=n(16095);class aF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,aF.prototype)}}class aU extends Error{constructor(e){super(e),Object.setPrototypeOf(this,aU.prototype)}}(e=>{function r(e,r){return{originalIndex:e.originalIndex,phase:e.phase,displayNode:aD.w.decodeNodeChange(e.displayNode),canvasId:e.canvasId,canvasName:e.canvasName,canvasIsInternal:e.canvasIsInternal,basisParentHierarchyGuids:e.basisParentHierarchyGuids,parentHierarchyGuids:e.parentHierarchyGuids,styleKey:e.styleKey,componentKey:e.componentKey,componentFileKey:(0,e2.kc)().ds_publish_file_deprecation?void 0:e.componentFileKey,variableId:e.variableId,variableCollectionId:e.variableCollectionId,diffType:r}}e.setDiff=function(e,r,n,i,a){let o=eT.egF.setDiff(e,r,n,i,a);if(o!==eT.H$z.SUCCESS)switch(o){case eT.H$z.MERGE_IN_PROGRESS:throw new aU("a merge is already in progress");case eT.H$z.PARSE_ERROR:case eT.H$z.VERSION_MISMATCH:break;case eT.H$z.INTERNAL_ERROR:throw Error("could not get fullscreen app instance");default:(0,eh.xb)(o)}return o},e.setDiffs=function(e,r,n,i,a){let o=eT.egF.setDiffs(e,r,n,i,a);for(let e of[o.branch,o.source])if(e!==eT.H$z.SUCCESS)switch(e){case eT.H$z.MERGE_IN_PROGRESS:throw new aU("a merge is already in progress");case eT.H$z.PARSE_ERROR:case eT.H$z.VERSION_MISMATCH:break;case eT.H$z.INTERNAL_ERROR:throw Error("could not get fullscreen app instance");default:(0,eh.xb)(e)}return o},e.getDiffMigrationVersion=function(e){return eT.egF.getDiffMigrationVersion(e)},e.clearDiffs=function(){return eT.egF.clearDiffs()},e.getChunkComponentFileKey=function(e,r,n){if(!e.componentKey)return null;let i=tu.D.getState();return r||(r=(0,ax.ah)(i.library.published.components)),n||(n=(0,ax.ah)(i.library.published.stateGroups)),(0,ax.vu)(e.componentKey,r,n)},e.parseChunk=r;let n=e=>{switch(e){case eT.sYL.SOURCE:return"SOURCE";case eT.sYL.BRANCH:return"BRANCH";case eT.sYL.COMPARE:return"COMPARE";default:(0,eh.xb)(e)}};function i(e){(0,ex.sx)("Branch Modal Load Time",{loadType:av.ap.GRANULAR,functionName:e.functionName,profileStep:av.NQ.JAVACRIPT_ONLY,durationMs:e.durationMs,branchFileKey:e.branchKey,sourceFileKey:e.sourceKey,diffType:e.diffType,nodeIds:e.nodeIds,branchModalTrackingId:e.branchModalTrackingId})}function a(e,n){return{mainChunk:r(e.mainChunk,n),basisChunk:e.basisChunk&&e.basisChunk.displayNode.length?r(e.basisChunk,n):void 0,numAffectedChunks:e.numAffectedChunks}}function o(e,r){let n=[];for(let i of e)n.push(a(i,r));return n}function s(e,r){return{displayChunk:a(e.displayChunk,r),affectedChunks:e.affectedChunks?o(e.affectedChunks,r):[],variantChunks:e.variantChunks?o(e.variantChunks,r):[]}}function l(e,r){let n=[];for(let i of e)n.push(s(i,r));return n}function d(e,r,n){let i=eT.egF.getParentHierarchyNodeChange(e,r,n);if(i.error)throw Error(i.error);return i.nodeChange}function c(e,n){return{...r(e,n),nodeChanges:e.nodeChanges&&e.nodeChanges.length>0&&aD.w.decodeMessage(e.nodeChanges).nodeChanges||[],diffBasis:e.diffBasis&&e.diffBasis.length>0&&aD.w.decodeMessage(e.diffBasis).nodeChanges||[]}}e.trackGranularLoadTime=i,e.getChunks=function(e,a){let o=eT.egF.getChunks(e,a.branchModalTrackingId);if(o.error)throw Error(o.error);let s=Date.now(),l=[];for(let n of o.chunks)l.push(r(n,e));return i({durationMs:Date.now()-s,functionName:"getChunks",diffType:n(e),...a}),l},e.parseDisplayChunk=a,e.parseDisplayChunks=o,e.parseDisplayChunkGroupResult=s,e.parseDisplayChunkGroupResults=l,e.getDisplayGroups=function(e,r){let a=eT.egF.getDisplayChunks(e,r.branchModalTrackingId);if(a.error)throw Error(a.error);if(!a.displayChunkGroups)return[];let o=Date.now(),s=l(a.displayChunkGroups,e);return null==s||s.forEach(e=>{let r=e.displayChunk.mainChunk;if(e.variantChunks.length>0&&e.displayChunk.mainChunk.canvasIsInternal){let n;let{modified:i,unmodified:a}=ak(e);i.length>0?n=i[0]:a.length>0&&(n=a[0]),n&&(r.displayNode.guid=n.displayChunk.mainChunk.displayNode.guid)}}),i({durationMs:Date.now()-o,functionName:"getDisplayGroups",diffType:n(e),...r}),s},e.getChunkChanges=function(e,r){let n=eT.egF.getChunkChanges(e,r);if(n.error)throw Error(n.error);return{nodeChanges:(n.nodeChanges&&n.nodeChanges.length>0?aD.w.decodeMessage(n.nodeChanges).nodeChanges:[])??[],diffBasis:(n.diffBasis&&n.diffBasis.length>0?aD.w.decodeMessage(n.diffBasis).nodeChanges:[])??[]}},e.getParentHierarchyNodeChange=d,e.parseParentHierarchyNodeChange=function(e){var r,n,i;return{guid:e.guid?`${null==(r=e.guid)?void 0:r.sessionID}:${null==(n=e.guid)?void 0:n.localID}`:"",parentIndexPosition:(null==(i=e.parentIndex)?void 0:i.position)??"",backgroundColor:e.backgroundColor?{red:e.backgroundColor.r,green:e.backgroundColor.g,blue:e.backgroundColor.b,alpha:e.backgroundColor.a}:null,name:e.name||"",internalOnly:e.internalOnly||null,isStateGroup:e.isStateGroup||null}},e.getImmediateParentHierarchyNodeChange=function(e,r){let n;switch(r){case eT.kz3.BASIS_PARENT:n=e.basisParentHierarchyGuids;break;case eT.kz3.PARENT:n=e.parentHierarchyGuids;break;default:(0,eh.xb)(r)}if(n&&n.length>0)return d(e.diffType,n[0],r)},e.getTopLevelParentHierarchyNodeChange=function(e,r){let n;switch(r){case eT.kz3.BASIS_PARENT:n=e.basisParentHierarchyGuids;break;case eT.kz3.PARENT:n=e.parentHierarchyGuids;break;default:(0,eh.xb)(r)}if(n&&n.length>0)return d(e.diffType,n[n.length-1],r)},e.getExternalMediaFromDiff=function(e){let{error:r,imageShas:n,videoShas:i}=eT.egF.getExternalImagesFromDiff(e);if(r||null===n||null===i)throw Error(r||"Failed to getExternalMediaFromDiff");return{imageShas:n,videoShas:i}},e.InvalidStateTransitionError=class extends Error{},e.getConflicts=function(e){let r=Date.now(),n=eT.egF.getConflictingChunkGroups(e.branchModalTrackingId);if(n.error)throw Error(n.error);let a=n.conflictingChunkGroups.map(e=>({id:(0,aM.g)(),sourceChunks:e.sourceChunks.map(e=>c(e,eT.sYL.SOURCE)),branchChunks:e.branchChunks.map(e=>c(e,eT.sYL.BRANCH)),secondarySourceChunkGUIDs:e.sourceChunkParentGUIDs,secondaryBranchChunkGUIDs:e.branchChunkParentGUIDs,titleNode:e.titleNode&&e.titleNode.length>0?aD.w.decodeNodeChange(e.titleNode):null}));return i({durationMs:Date.now()-r,functionName:"getConflicts",...e}),n.buggedConflictingGUIDs.length>0&&((0,ey.x1)("Branching","bugged conflicting guids",{branchKey:e.branchKey,truncatedGuids:n.buggedConflictingGUIDs.slice(0,5)}),(0,aL.HJ)(Error("bugged conflicting guids"),av.PW.ON_MODAL_OPEN,av.Kn.FROM_SOURCE)),{conflictGroups:a,nonConflictingBranchChunkGUIDs:n.nonConflictingBranchChunkGUIDs,nonConflictingSourceChunkGUIDs:n.nonConflictingSourceChunkGUIDs,identicalChunkGUIDs:n.identicalChunkGUIDs,isMergeRequired:n.isMergeRequired,buggedConflictingGUIDs:n.buggedConflictingGUIDs}},e.updateBranchingStagerDirection=function(e){eT.egF.updateBranchingStagerDirection(e)}})(el||(el={}));let aB=new class{constructor(){this.FigDiffMinimizeAnalysisValidator=(0,tm.vh)()}enqueueFigDiffAnalysis(e,r,n,i,a){return this.FigDiffMinimizeAnalysisValidator.validate(async({xr:o})=>await o.post(`/api/files/diff/enqueue/${e}/${r}/${n}/${i}?direction=${a}`))}};var aV=n(34469),aH=n(2442),aG=n.n(aH),aW=n(84058),az=n.n(aW),aK=n(27367),aj=n(91408),aY=n(75664),a$=n(59232);let aq=[];function aZ(e){switch(e){case av.Kn.TO_SOURCE:return eT.sYL.BRANCH;case av.Kn.FROM_SOURCE:return eT.sYL.SOURCE;default:(0,eh.xb)(e)}}var aX=n(81779),aJ=n(96108),aQ=n(66662),a0=n(7022);let a1=async(e,r,n)=>{let{data:{meta:{images:i}}}=await eE.Ay.post(`/api/file_diff/file_merge/${e}/${r}/generate_images`,n,{retryCount:2});return i};function a2({nodes:e,width:r,height:n,scale:i}){return e.map(e=>{let a;e.isStyle||(a=e.backgroundColor??a8);let[o,s]=eT.Vzr.generateThumbnailForNode(e.id,r||0,n||0,2,{scale:i??(r&&n?void 0:2),type:"UNCOMPRESSED",clearColor:a,renderDefaultStateForSubscribedStateGroups:!0});return s.length?{image:s,width:o.width,height:o.height}:null})}function a3(e){let r=el.getImmediateParentHierarchyNodeChange(e,eT.kz3.PARENT);if(r)return r;{let r=el.getImmediateParentHierarchyNodeChange(e,eT.kz3.BASIS_PARENT);if(r)return r}}let a5=async(e,r)=>{let n;let i=new Promise(e=>{n=setTimeout(()=>{(0,ey.xi)("merge","gave up waiting on images"),e()},r)}),a=(0,t6.Jr)().loadAllImagesUnder([e],eT.MoD.NON_ANIMATED_ONLY,"merge.waitForImagesToLoad");await Promise.race([i,a]),clearTimeout(n)},a4=({nodes:e,branchFileKey:r,sourceFileKey:n,width:i,height:a,branchModalTrackingId:o})=>{let s=Date.now(),l=async e=>{await a5(e.id,3e4);let[r,n]=eT.Vzr.generateThumbnailForNode(e.id,i||0,a||0,2,{scale:i&&a?void 0:2,type:"PNG"});return function(e){if(0===e.length)return null;let r=URL.createObjectURL(new Blob([e]));return aq.push(r),r}(n)},d=Date.now()-s,c=e.map(e=>e.id);if(c.length>0){let e=c.sort().join(",");el.trackGranularLoadTime({durationMs:d,functionName:"getMergeResultImages",branchKey:r,sourceKey:n,nodeIds:e,branchModalTrackingId:o})}return Promise.all(e.map(l))};async function a6(e,r,n,i,a){let[o,s]=aw()(e,e=>e.mainChunk.phase===eT.Dje.REMOVED),l=function(e){let{direction:r,fileKey:n,nodeIds:i,checkpointKey:a,resolution:o,maxChunksPerRequest:s}=e;return 0===i.length?[]:aG()(i,s).map(e=>a1(r,n,{node_ids:e.join(","),checkpoint_key:a,resolution:o}).then(r=>{let n={};for(let r of e)n[r]=null;for(let e of r)n[e.node_id]=e;return n}))}({direction:av.Kn.FROM_SOURCE,fileKey:r,nodeIds:o.map(e=>to.dI(e.mainChunk.displayNode.guid)),checkpointKey:i,resolution:av.mg.SUMMARY,maxChunksPerRequest:50}),d=await a4({nodes:s.map(e=>({id:to.dI(e.mainChunk.displayNode.guid),styleType:e.mainChunk.displayNode.styleType})),branchFileKey:r,sourceFileKey:n,width:2*(0,aj.hG)(tQ.vPu),height:2*(0,aj.hG)(tQ.kLz),branchModalTrackingId:a}),c={};d.forEach((e,r)=>{let n=to.dI(s[r].mainChunk.displayNode.guid);n&&e&&(c[n]=e)});let u=Promise.all(l).then(e=>{let r={};return e.forEach(e=>{Object.keys(e).forEach(function(n){let i=e[n];r[n]=i?i.img_url:null})}),r});return[Promise.resolve(c),u]}let a8=aX.xif;function a7(e){var r;return"GRID"===e.styleType&&!!(null==(r=e.layoutGrids)?void 0:r.length)}function a9(e){return!!(e.canvasIsInternal&&e.displayNode.styleType&&!e.styleKey)}function oe(e){return e.canvasIsInternal&&"VARIABLE_SET"===e.displayNode.type&&!e.displayNode.key}function ot(e,r,n){return(0,e2.kc)().ds_publish_file_deprecation?!!(e.styleKey||el.getChunkComponentFileKey(e,r,n)):!!(e.styleKey||e.componentFileKey)}let or=async(e,r,n)=>{if(0===e.length)return{};let i={};return(await (0,ax.pq)(n,e,r)).forEach(e=>i[e.key]=e.file_key),i};async function on(e,r,n){let i,a;let o=(0,ag.WI)(az()(e.map(e=>e.displayChunk.mainChunk.styleKey)));if((0,e2.kc)().ds_publish_file_deprecation){let e=tu.D.getState();i=(0,ax.ah)(e.library.published.components),a=(0,ax.ah)(e.library.published.stateGroups)}let s=(0,ag.WI)(az()(e.map(e=>(0,e2.kc)().ds_publish_file_deprecation?el.getChunkComponentFileKey(e.displayChunk.mainChunk,i,a):e.displayChunk.mainChunk.componentFileKey))),[l]=await Promise.all([or(o,r,n),(0,ax.cd)(s,n)]);return l}function oi(e){return e.map(e=>e.displayChunk)}function oa(e){if("CANVAS"===e.displayNode.type)return e.displayNode.internalOnly&&(e.displayNode.name="Other"),el.parseParentHierarchyNodeChange(e.displayNode);let r=el.getImmediateParentHierarchyNodeChange(e,eT.kz3.PARENT),n=el.getTopLevelParentHierarchyNodeChange(e,eT.kz3.PARENT),i=el.getImmediateParentHierarchyNodeChange(e,eT.kz3.BASIS_PARENT),a=el.getTopLevelParentHierarchyNodeChange(e,eT.kz3.BASIS_PARENT);if(r&&!r.internalOnly&&n)return n;if(i&&!i.internalOnly&&a)return a;let o=r??i;if(!o)throw Error(`Chunk ${to.dI(e.displayNode.guid)} should have a page`);return o.name="Other",o}function oo(e,r){let n=oa(r),i=n.guid||"";return e[i]?e[i].backgroundColor:(null==n?void 0:n.backgroundColor)?aY.z5.format({r:n.backgroundColor.red,g:n.backgroundColor.green,b:n.backgroundColor.blue,a:n.backgroundColor.alpha}):a8}let os=(e,r,n)=>{let i={},a=[],o=n||Object.keys(e),s=r;for(let r of o)for(let n of(i[r]=[],e[r])){let e={...n,index:s};i[r].push(e),a.push(e),s++}return{numberedDisplayGroupMap:i,numberedDisplayGroups:a}},ol=e=>{let r={};Object.keys(e).forEach(n=>{var i;for(let a of e[n]){let e=a.displayChunk.mainChunk,o=null==(i=el.getTopLevelParentHierarchyNodeChange(e,eT.kz3.PARENT))?void 0:i.parentIndexPosition;if(o){r[o]=n;break}}});let n=Object.keys(r).sort().map(e=>r[e]);return n.filter(r=>r in e).concat(Object.keys(e).filter(e=>!n.includes(e)))};function od(e,r,n){let i=function(e,r,n=av.Kn.TO_SOURCE){let i,a;let o={},s={},l={},d={},c={};if((0,e2.kc)().ds_publish_file_deprecation){let e=tu.D.getState();i=(0,ax.ah)(e.library.published.components),a=(0,ax.ah)(e.library.published.stateGroups)}if(e.forEach(e=>{let n=e.displayChunk.mainChunk;if(a9(n)&&n.displayNode.styleType){let r=n.displayNode.styleType;l[r]||(l[r]=[]),l[r].push(e);return}if(oe(n)){let r=to.dI(n.displayNode.guid);if(null==r)return;d[r]||(d[r]=[]),d[r].push(e);return}if(ot(n,i,a)){let o=((0,e2.kc)().ds_publish_file_deprecation?el.getChunkComponentFileKey(n,i,a):n.componentFileKey)||r[n.styleKey];c[o]||(c[o]=[]),c[o].push(e);return}if(o[n.canvasId]||(o[n.canvasId]=[]),o[n.canvasId].push(e),!s[n.canvasId]||n.phase!==eT.Dje.REMOVED){let e=oa(n),r=e.backgroundColor,i=e.name;s[n.canvasId]={name:i,backgroundColor:r?aY.z5.format({r:r.red,g:r.green,b:r.blue,a:r.alpha}):a8}}}),n===av.Kn.FROM_SOURCE)for(let e of Object.keys(s)){let r=eT.Egt.getNodePageBackgroundColor(e);r&&(s[e]={...s[e],backgroundColor:r})}return{displayGroupsByPage:o,pageIdToInfo:s,displayGroupsByStyle:l,displayGroupsByVariableSet:d,displayGroupsByLibrary:c}}(e,r,n),a=[],o=0,s=ol(i.displayGroupsByPage),{numberedDisplayGroupMap:l,numberedDisplayGroups:d}=os(i.displayGroupsByPage,o,s);a=a.concat(d),o+=d.length;let{numberedDisplayGroupMap:c,numberedDisplayGroups:u}=os(i.displayGroupsByStyle,o);a=a.concat(u),o+=u.length;let{numberedDisplayGroupMap:p,numberedDisplayGroups:h}=os(i.displayGroupsByVariableSet,o);a=a.concat(h),o+=h.length;let{numberedDisplayGroupMap:m,numberedDisplayGroups:g}=os(i.displayGroupsByLibrary,o);return a=a.concat(g),o+=g.length,{allDisplayGroups:a,displayGroupsByPage:l,pageIdToInfo:i.pageIdToInfo,displayGroupsByStyle:c,displayGroupsByVariableSet:p,displayGroupsByLibrary:m,sortedPageIds:s}}function oc(e){let{layoutGrids:r}=e,n=a0.A;if((null==r?void 0:r.length)===1){let e=r[0];"STRIPES"===e.pattern&&(n="Y"===e.axis?aQ.A:aJ.A)}return n}function ou(e){return!!e&&"NONE"!==e&&void 0!==e}function op(e,r,n){let i=r&&(0,aK.HD)(r);return!("GRID"===n||"EFFECT"===n)&&(i||e&&("NONE"!==n||void 0!==n))}function oh(e,r,n){let i={};return"TEXT"===e.displayNode.styleType||"FILL"===e.displayNode.styleType||(("EFFECT"===e.displayNode.styleType||"GRID"===e.displayNode.styleType)&&(i.backgroundImage=`url('${(0,a$.A)()}')`,i.backgroundSize=n?"24px":"16px"),i.backgroundColor=r&&"string"!=typeof r?oo(r,e):r),i}var om=n(87623),og=n(97666),of=n(3454),o_=n(12151);class oy{constructor(){this.pendingPasteRequests={},this.pendingVideosToRecord={},this.pendingRecordVideosTasks={},this.allVideos={},this.flushPendingRecordVideos=(0,og.s)(async()=>{let e=this.pendingVideosToRecord,r=this.pendingRecordVideosTasks,n=Object.keys(e);this.pendingVideosToRecord={},this.pendingRecordVideosTasks={};let i=await this.getEditingFileKey();n.forEach(async n=>{if(i===n){r[n].resolve();return}if(!n){r[n].reject("Invalid originFileKey");return}let a=1,o=e[n];for(;;){try{let e=await eE.Ay.put(`/api/files/${i}`,{video_sha1s:o,image_origin_file_key:n}),{success:a,failed:s}=t6.xY.parseFileUpdateResponseForImages(o,e);for(let e of(eT.tHB.markVideoPermissionsCopied(a),s))eT.tHB.videoIsMissing(e);for(let e of o)delete this.pendingPasteRequests[e];r[n].resolve(),this.getAllVideoUrls();return}catch(e){if(e.status>=400&&e.status<500){for(let e of o)eT.tHB.videoIsMissing(e),delete this.pendingPasteRequests[e];r[n].resolve();return}}let e=1e3*a*Math.random();await new Promise(r=>setTimeout(r,e)),a=Math.min(2*a,64)}})},100)}async getAllVideoUrls(){if(!(0,e2.kc)().cross_env_paste)return;let e=await t7.S.getVideos({fileKey:await this.getEditingFileKey()});this.allVideos=e.data.meta.videos}getSignedUrls(e){let r=new Map;for(let n of e)r.set(n,this.allVideos[n]);return r}recordVideos(e,r){if(0===r.length)return Promise.resolve();if(!e)throw Error("No originFileKey specified");if(this.pendingVideosToRecord[e]=this.pendingVideosToRecord[e]||[],this.pendingVideosToRecord[e].push(...r),!this.pendingRecordVideosTasks[e]){let r,n;let i=new Promise((e,i)=>{r=e,n=i});this.pendingRecordVideosTasks[e]={promise:i,resolve:r,reject:n}}for(let n of r)this.pendingPasteRequests[n]=this.pendingRecordVideosTasks[e].promise;let n=this.pendingRecordVideosTasks[e].promise;return this.flushPendingRecordVideos(),n}getEditingFileKey(){return ts.Y5.openFileKeyPromise()}}let oE=new class{constructor(){this.videoManager=new oy,this.thumbnailGenerator=o_.t}copyVideoPermissions(e,r){return this.videoManager.recordVideos(e,r)}createVideo(){return this.thumbnailGenerator.createVideo()}deleteVideo(e){this.thumbnailGenerator.deleteVideo(e)}getWidth(e){return this.thumbnailGenerator.getWidth(e)}getHeight(e){return this.thumbnailGenerator.getHeight(e)}getCoverImage(e){return this.thumbnailGenerator.getCoverImage(e)}loadVideo(e,r,n){return this.thumbnailGenerator.loadVideo(e,r,n)}getSignedUrls(e){return this.videoManager.getSignedUrls(e)}async setExternalSource(e,r){let n=await fetch(r),i=new Uint8Array(await n.arrayBuffer()),a=await ts.Y5.openFileKeyPromise();(0,of.Cb)([{sha1:e,bytes:i}],a)}loadAllVideos(){return this.videoManager.getAllVideoUrls()}};async function ob(e,r){let n;let{imageShas:i,videoShas:a}=el.getExternalMediaFromDiff(e),o=(0,t6.Jr)();switch(e){case eT.sYL.SOURCE:n=r.sourceKey;break;case eT.sYL.BRANCH:n=r.branchKey;break;case eT.sYL.COMPARE:throw Error("Unexpected DiffType: COMPARE")}await o.recordImages(n,i);let s=oE.videoManager;await s.recordVideos(n,a)}function ov(e){let r=eT.egF.recreateBranchPoint();if(r!==eT.Xts.SUCCESS){let n;switch(r){case eT.Xts.INTERNAL_ERROR:n=Error("Error recreating branch point: internal error");break;case eT.Xts.MISSING_BACKING_SYMBOL:n=Error("Error recreating branch point: missing backing symbol");break;case eT.Xts.NO_MERGE_IN_PROGRESS:n=Error("Error recreating branch point: no merge in progress");break;default:(0,eh.xb)(r)}throw(0,aL.HJ)(n,av.PW.ON_IMAGE_GENERATION,e),n}}function oS(e,r=eT.BtE.PREVIEW){let n=eT.egF.applyDiff(e,r);if(n!==eT.Xts.SUCCESS){let e;switch(n){case eT.Xts.MISSING_BACKING_SYMBOL:e=new aF("Error merging diff: missing backing symbols for diff");break;case eT.Xts.INTERNAL_ERROR:e=Error("Error merging diff: Unknown merge error");break;case eT.Xts.NO_MERGE_IN_PROGRESS:e=Error("Error merging diff: No merge in progress");break;default:(0,eh.xb)(n)}throw(0,aL.HJ)(e,r===eT.BtE.PREVIEW?av.PW.ON_IMAGE_GENERATION:av.PW.ON_MERGE,av.Kn.TO_SOURCE),e}}function oI(e){let r=eT.egF.unapplyAllChunks();if(r!==eT.xSx.SUCCESS){let n;switch(r){case eT.xSx.INTERNAL_ERROR:n=Error("Error unapplying chunks: internal error");break;case eT.xSx.NO_MERGE_IN_PROGRESS:n=Error("Error unapplying chunks: no merge in progress");break;case eT.xSx.UNABLE_TO_UNDO_CHANGES:n=Error("Error unapplying chunks: unable to undo changes");break;default:(0,eh.xb)(r)}throw(0,aL.HJ)(n,av.PW.ON_IMAGE_GENERATION,e),n}}function oT(e,r,n=eT.BtE.PREVIEW){let i=eT.egF.applyAllChunks(e,r,n);if(i!==eT.i0e.SUCCESS){let e;switch(i){case eT.i0e.INVALID_STATE_TRANSITION:e=new el.InvalidStateTransitionError("Error applying chunks: invalid state transition");break;case eT.i0e.INTERNAL_ERROR:e=Error("Error applying chunks: internal error");break;case eT.i0e.NO_MERGE_IN_PROGRESS:e=Error("Error applying chunks: no merge in progress");break;case eT.i0e.INVALID_INDEX:e=Error("Error applying chunks: invalid index");break;default:(0,eh.xb)(i)}throw(0,aL.HJ)(e,n===eT.BtE.PREVIEW?av.PW.ON_IMAGE_GENERATION:av.PW.ON_MERGE,av.Kn.FROM_SOURCE),e}}function ow(e,r,n,i,a){ov(av.Kn.FROM_SOURCE),oT(e.concat(n),r.concat(i).concat(a),eT.BtE.STAGE)}let oC=async(e,r,n,i,a)=>{let o;let s=new URLSearchParams;switch(s.set("migration_version",`${i}`),a&&s.set("source_checkpoint_key",a),s.set("diff_version",(0,aL.C2)().toString()),n){case eT.sYL.SOURCE:o=av.Kn.FROM_SOURCE;break;case eT.sYL.BRANCH:o=av.Kn.TO_SOURCE;break;case eT.sYL.COMPARE:throw Error("Unexpected DiffType: COMPARE");default:(0,eh.xb)(n)}let{data:{meta:{checkpoint_diff:l}}}=await eE.Ay.post(`/api/file_diff/checkpoint_diff/${o}/${r}?${s.toString()}`);return(0,e2.kc)().run_fig_diff_job&&aB.enqueueFigDiffAnalysis(e,r,l.from_checkpoint_key,l.to_checkpoint_key,o).catch(e=>{(0,ey.$D)(tp.e.SCENEGRAPH_AND_SYNC,e)}),(0,ey.Lo)("Branching","fetched checkpoint diff",{direction:o,fromCheckpointKey:l.from_checkpoint_key,toCheckpointKey:l.to_checkpoint_key,diffVersion:l.diff_version}),l},oA=async e=>{let{data:r}=await eE.Ay.crossOriginGetAny(e,null,{responseType:"arraybuffer"});return r},oN=async(e,r,n,i,a)=>{let o=await oC(e,r,n,i,a),s=await oA(o.signed_url);return{checkpointDiff:o,mergeDiff:s}};var oO=((U=oO||{})[U.Success=0]="Success",U[U.Failed=1]="Failed",U[U.Abort=2]="Abort",U);function oR(e,r,n,i,a,o,s,l,d){let c=(0,eJ.wA)(),[u,p]=ep.useState(null),[h,m]=ep.useState(null),[g,f]=ep.useState(null),[_,y]=ep.useState(null),[E,b]=ep.useState(!1),[v,S]=ep.useState(null),[I,T]=ep.useState(null),w=ep.useRef(0),C=ep.useContext(aV.ss);return ep.useEffect(()=>{w.current>0&&(p(null),f(null),y(null),S(null),el.clearDiffs()),w.current+=1;let s=w.current;if(!a)return;let u=oN(n,r,e,a,l),h=(0,t9.qd)(eT._em.BRANCHING_MODAL_OPEN),g=async(e,a,l)=>{if(w.current!==s||(p(e),await h,d&&(await (0,a_.w)(C,i),T((0,t6.Jr)().getDebugState())),w.current!==s))return;let u=(0,om.Z_)(),g=el.setDiff(l,a,n,r,C),_=(0,om.Z_)(),E=(0,om.yQ)(u,_);if((0,aV.FT)({diffType:l,direction:i,branchFileKey:r,sourceFileKey:n,setDiffResult:g,isDeferConflictResolutionEnabled:!0,metrics:E,diffVersion:(0,aL.C2)(),useDiffVersion:(0,aL.C2)(),branchModalTrackingId:C,mergeDiffSize:a.length}),g===eT.H$z.PARSE_ERROR)return b(!0),1;if(w.current!==s)return;let v=el.getDisplayGroups(l,{branchKey:r,sourceKey:n,branchModalTrackingId:C});m(el.getChunks(l,{branchKey:r,sourceKey:n,branchModalTrackingId:C})),f(v);let S=await on(v,o,c);w.current===s&&y(S)};return u.then(async({checkpointDiff:r,mergeDiff:n})=>{await g(r,n,e)}).catch(e=>S(e)),()=>{w.current+=1}},[r,n,i,a,o,c,s,l,d,e,C]),{diffInfo:{checkpointDiff:u,displayGroups:g,styleKeyToFileKey:_,chunks:h},clientUpdateRequired:E,error:v,imageDebugState:I}}class oP{constructor(e){this.context=e,this.eventId=(0,aM.g)(),this.startTime=null}commitStart(){this.startTime=Date.now(),(0,ex.sx)("Branch Apply Changes Initiated",{...this.commonTrackingProps},{forwardToDatadog:!0})}commitEnd(e,r){if(null===this.startTime)return;let n={};e&&(n={mergeRequestId:e.id,mergedWithoutApproval:!e.reviewers.some(e=>e.approved_at)}),(0,ex.sx)("Branch Apply Changes",{...this.commonTrackingProps,durationMs:Date.now()-this.startTime,...n,...r?{fileMergeId:r}:{}},{forwardToDatadog:!0})}commitSynced(e){null!==this.startTime&&(0,ex.sx)("Branch Apply Changes Synced",{...this.commonTrackingProps,durationMs:Date.now()-this.startTime,...e?{fileMergeId:e}:{}},{forwardToDatadog:!0})}get commonTrackingProps(){var e,r;return{eventId:this.eventId,fileKey:this.context.mergeParams.branchKey,direction:this.context.mergeParams.direction,sourceFileKey:this.context.mergeParams.sourceKey,fileRepoId:this.context.file.file_repo_id,isConflictResolution:null!=this.context.conflictResolutionDetails,branchPickGroupsSize:(null==(e=this.context.conflictResolutionDetails)?void 0:e.branchPickGroups)||0,mainPickGroupsSize:(null==(r=this.context.conflictResolutionDetails)?void 0:r.mainPickGroups)||0,isReliableMerge:!0,branchModalTrackingId:this.context.mergeParams.branchModalTrackingId}}}let oL=async(e,r,n,i,a,o,s)=>{try{let l=s;return l||(l=(await oC(e,r,n,i,a)).key),eE.Ay.post(`/api/file_merge/${o}/${r}?include_reason=true`,{checkpoint_diff_key:l}).then(e=>e,e=>e)}catch(e){return e}};async function oD(e,r,n,i=null,a=null,o=null){let{direction:s,branchKey:l}=e,d=aZ(s);if(null===r)return;null==a||a.commitStart();let c=ob(d,e);i&&function(e,r){let n=[];r.forEach((r,i)=>{let a=e.get(i);(0,eg.c2)(r,a)||n.push({previous:a,current:r})}),e.forEach((e,i)=>{r.has(i)||n.push({previous:e,current:void 0})}),n.length>0&&(0,ey.Lo)("image","changes to resource states before merge commit",{diffs:n})}(i,(0,t6.Jr)().getDebugState()),eT.egF.uploadImages();let u=(0,t6.Jr)().imageUploadPromise(),p=(0,t6.Jr)().imageLookupPromise();return await Promise.all([u,p]),await c,await oL(e.sourceKey,l,d,r,n,s,o)}async function oM(){await (0,a_.De)(),function(){let e;for(;e=aq.pop();)URL.revokeObjectURL(e)}()}var ok=n(72206),ox=n(68137),oF=n(46806);let oU="merge_error_modal--button--rMIuF";var oB=((B=oB||{})[B.TIMED_OUT=0]="TIMED_OUT",B[B.COULD_NOT_START=1]="COULD_NOT_START",B[B.BRANCH_ARCHIVED=2]="BRANCH_ARCHIVED",B[B.STALE_BRANCH_POINT=3]="STALE_BRANCH_POINT",B[B.COULD_NOT_COMPLETE=4]="COULD_NOT_COMPLETE",B);let oV=async(e,r,n)=>{e.dispatch(o5({})),e.dispatch(e3.F.enqueue({message:r,icon:t0.zX.SPINNER,type:"file-merge-submit"})),await eE.Ay.put(`/api/file_merge/${e.failureInfo.file_merge_id}`,{closed:!0}).catch(r=>{var n;400===r.status&&(aN.k.warn(r),(0,aL.HJ)(Error((null==(n=null==r?void 0:r.data)?void 0:n.message)||"Unknown error"),av.PW.ON_MERGE,e.mergeParams.direction,{file_merge_id:e.failureInfo.file_merge_id}))}),await (0,a_.oJ)(eT.kul.JOINED).then(()=>{e.dispatch(e3.F.enqueue({message:n,icon:t0.zX.CHECK,type:"file-merge-submit"})),e.dispatch(o2({}))})},oH=async(e,r,n)=>{e.dispatch(o5({})),e.dispatch(e3.F.enqueue({message:r,icon:t0.zX.SPINNER,type:"file-merge-submit"})),await eE.Ay.del(`/api/file_merge/${e.failureInfo.file_merge_id}`),await (0,a_.oJ)(eT.kul.JOINED).then(()=>{e.dispatch(e3.F.enqueue({message:n,icon:t0.zX.CHECK,type:"file-merge-submit"})),e.dispatch(o2({}))})},oG=e=>{e.mergeParams.direction===av.Kn.TO_SOURCE?e.dispatch(iR.$T({view:"fullscreen",fileKey:e.mergeParams.branchKey,editorType:tB.nT.Design,mergeParams:{...e.mergeParams,mergeOnFileOpen:!1}})):e.dispatch(yJ(e.mergeParams))},oW=(e,r,n)=>{let i,a;let o=["pending","success"],s=r===av.Kn.TO_SOURCE?"merge":"update",[l,d]=o.map(e=>(0,eb.t)(`collaboration.branching.merge_error.confirm_${s}_${e}`)),[c,u]=o.map(e=>(0,eb.t)(`collaboration.branching.merge_error.cancel_${s}_${e}`)),[p,h]=o.map(e=>(0,eb.t)(`collaboration.branching.merge_error.cancel_previous_${s}_${e}`));switch(e){case 0:return i=ep.createElement(eb.Tx,{id:`collaboration.branching.merge_error.review_and_confirm_${s}_description`}),{title:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.review_and_confirm"}),description:i,primaryButtonText:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.confirm"}),secondaryButtonText:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.cancel"}),primaryAction:async e=>{await oV(e,l,d)},secondaryAction:async e=>{await oH(e,c,u)}};case 1:return{title:ep.createElement(eb.Tx,{id:`collaboration.branching.merge_error.could_not_start_${s}`}),description:i=ep.createElement(eb.Tx,{id:`collaboration.branching.merge_error.could_not_start_${s}_description`}),primaryButtonText:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.retry_merge"}),secondaryButtonText:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.cancel"}),primaryAction:e=>{oG(e)},secondaryAction:e=>{e.dispatch(o0({hideModal:!1,mergeParams:{branchKey:e.mergeParams.branchKey,sourceKey:e.mergeParams.sourceKey,direction:r,branchModalTrackingId:n},userInitiated:!0,reason:"user_cancelled_merge_after_error"}))}};case 2:return{title:ep.createElement(eb.Tx,{id:`collaboration.branching.merge_error.could_not_start_${s}`}),description:i=ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.branch_archived_description"}),primaryButtonText:ep.createElement(eb.Tx,{id:"base_notifications.dismiss"}),primaryAction:()=>{}};case 3:return{title:ep.createElement(eb.Tx,{id:`collaboration.branching.merge_error.could_not_start_${s}`}),description:i=ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.branch_already_updated_description"}),primaryButtonText:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.reload"}),primaryAction:()=>{tl.Ay.reload("Branch point changed")}};case 4:return{title:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.merge_in_progress"}),description:i=ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.merge_in_progress_description"}),primaryButtonText:ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.retry_merge"}),primaryAction:async e=>{await oH(e,p,h),oG(e)},secondaryButtonText:ep.createElement("a",{className:"merge_error_modal--contactSupport--4qN-z",href:"https://help.figma.com/hc/requests/new",target:"_blank"},ep.createElement(eb.Tx,{id:"collaboration.branching.merge_error.contact_support"})),secondaryAction:e=>{}}}};function oz(e){let r=ep.useContext(aV.ss),n=oW(e.view,e.mergeParams.direction,r),{secondaryButtonText:i,secondaryAction:a}=n,o=(0,eJ.wA)();return ep.createElement(ev.fu,{name:eD.e0.BRANCHING_MERGE_ERROR_MODAL},ep.createElement(oF.vx,{isCloseHidden:!0,title:n.title,headerClassName:"merge_error_modal--title--Ys0zA",initialPosition:new ok.Mi(window.innerWidth/2-246,window.innerHeight/2)},ep.createElement("div",{className:"merge_error_modal--content--W-q2c"},ep.createElement("p",null,n.description),ep.createElement("div",{className:"merge_error_modal--buttonRow--Im07r"},i&&a&&ep.createElement(ep.Fragment,null,ep.createElement(ox.nR,{className:oU,onClick:()=>{o(rH.Ce()),o(o4({})),a({mergeParams:e.mergeParams,failureInfo:e.failureInfo,dispatch:o})}},i)),ep.createElement(ox.$$,{className:oU,onClick:()=>{o(rH.Ce()),o(o4({})),n.primaryAction({mergeParams:e.mergeParams,failureInfo:e.failureInfo,dispatch:o})}},n.primaryButtonText)))))}oz.displayName="MergeErrorModal";let oK=(0,iK.Ju)(oz,"MergeErrorModal",iK.ZU.YES);var oj=n(99569),oY=n(7465),o$=n(88578),oq=n(21112);let oZ=(0,iK.Ju)(function(e){var r,n,i;let a=(0,eJ.wA)(),o=()=>{e.onClose?e.onClose():a(rH.Ce())};switch(e.errorType){case eA.YCw.COPY_PASTE:r=(0,eb.t)("file_migration.update_needed.copy_paste.title"),n=(0,eb.t)("file_migration.update_needed.copy_paste.message"),i="copy-paste";break;case eA.YCw.COMPONENT_IMPORT:r=(0,eb.t)("file_migration.update_needed.component_import.title"),n=(0,eb.t)("file_migration.update_needed.component_import.message"),i="component";break;case eA.YCw.STATE_GROUP_IMPORT:r=(0,eb.t)("file_migration.update_needed.state_group_import.title"),n=(0,eb.t)("file_migration.update_needed.state_group_import.message"),i="state-group";break;case eA.YCw.STYLE_IMPORT:r=(0,eb.t)("file_migration.update_needed.style_import.title"),n=(0,eb.t)("file_migration.update_needed.style_import.message"),i="style";break;case eA.YCw.BRANCH_MERGE:r=(0,eb.t)("file_migration.update_needed.merge.title"),n=(0,eb.t)("file_migration.update_needed.merge.message"),i="merging";break;case eA.YCw.TEMPLATE_INSERTION:r=(0,eb.t)("file_migration.update_needed.template_insertion.title"),n=(0,eb.t)("file_migration.update_needed.template_insertion.message"),i="template";break;default:throw Error(`Unexpected file upgrade modal error type ${e.errorType}`)}let s=(0,oY.U2)(tu.D.getState().selectedView);return(0,ex.sx)("File Upgrade Needed Modal Shown",{fileKey:s,importType:i,targetFileVersion:e.targetFileVersion}),ep.createElement(o$.aF,{size:"small",title:r,onHide:o},ep.createElement(oj.s_,{dispatch:a,onMouseDown:o}),ep.createElement("div",{className:oq.jE},ep.createElement("p",null,n),ep.createElement("div",{className:oq.v0},ep.createElement(eB.tM,{onClick:o},ep.createElement(eb.Tx,{id:"file_migration.update_needed.cancel"})),ep.createElement(eB.vd,{recordingKey:"upgradeNeededModal",className:oq.pL,onClick:()=>{(0,ex.sx)("Upgrade Needed Modal Clicked"),tl.Ay.replace(`?target-file-version=${e.targetFileVersion}`),tl.Ay.reload("UpgradeNeededModal")}},ep.createElement(eb.Tx,{id:"file_migration.update_needed.update"})))))},"upgrade-needed-modal");async function oX(e,r){try{await eE.Ay.post(`/api/files/${e}/copy_image_usages_before_merge`)}catch(e){aN.k.error("Error creating image usages"),r(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_creating_image_usages"),error:!0}));return}}let oJ=(0,t1.nF)((e,r)=>{let n=(null==r?void 0:r.message)||(0,eb.t)("collaboration.branching.error_merging");e.dispatch(e3.F.enqueue({message:n,type:"file-merge-submit",error:!0}))}),oQ=(0,t1.nF)(async(e,r)=>{let{mergeParams:n,checkpointDiff:i,pendingMessage:a,conflictResolutionDetails:o,user:s,imageDebugState:l,branchModalTrackingId:d}=r,c=e.getState().openFile,u=null==c?void 0:c.key,p=aZ(n.direction);if(e.dispatch(rH.Ce()),n.branchModalTrackingId=d,!c){e.dispatch(oJ()),e.dispatch(o0({hideModal:!1,mergeParams:n,userInitiated:!1,reason:"commitMerge_failed_with_error",error:"missing openFile"})),(0,aL.HJ)(Error("commitMerge: missing openFile"),av.PW.ON_MERGE,n.direction);return}let h=function({branchKey:e,sourceKey:r,direction:n}){switch(n){case av.Kn.TO_SOURCE:return r;case av.Kn.FROM_SOURCE:return e;default:(0,eh.xb)(n)}}(n);if(n.toCheckpointKey=i.to_checkpoint_key,n.fromCheckpointKey=i.from_checkpoint_key,n.branchModalTrackingId=d,h!==u)n.mergeOnFileOpen=!0,aO.eD&&(n.checkpointDiffURL=i.signed_url),aO.eD?e.dispatch(o0({hideModal:!1,mergeParams:n,userInitiated:!1,reason:"switching_files_in_desktop"})):await (0,a_.De)(!1),e.dispatch(iR.$T({view:"fullscreen",fileKey:n.direction===av.Kn.TO_SOURCE?n.sourceKey:n.branchKey,editorType:tB.nT.Design,mergeParams:n}));else{e.dispatch(e3.F.enqueue({message:a,icon:t0.zX.SPINNER,type:"file-merge-submit"})),e.dispatch(o6({})),n.direction===av.Kn.TO_SOURCE&&oS(eT.sYL.BRANCH,eA.BtE.STAGE);let r=n.direction===av.Kn.FROM_SOURCE?i.to_checkpoint_key:null;n.pickedAllFromBranch=n.direction===av.Kn.FROM_SOURCE&&(null==o?void 0:o.nonConflictingGroups)===0&&(null==o?void 0:o.mainPickGroups)===0&&(null==o?void 0:o.branchPickGroups)>0;try{let a={key:c.key,file_repo_id:c.fileRepoId},d=new oP({mergeParams:n,file:a,conflictResolutionDetails:o||null}),u=await oD(n,el.getDiffMigrationVersion(p),r,l,d,i.key);await o1(u,e.dispatch,n,s.id,d),e.dispatch((0,aP.Nf)())}catch(r){aN.k.error(r),e.dispatch(oJ()),(0,aL.HJ)(r,av.PW.ON_MERGE,n.direction),e.dispatch(o0({userInitiated:!1,reason:"commitMerge_failed_with_error",error:r.message,hideModal:!1,mergeParams:n}))}}}),o0=(0,t1.nF)((e,r)=>{r.hideModal&&e.dispatch(rH.Ce()),oM().then(()=>{var n;(0,ex.sx)("Branch Modal Exited",{direction:r.mergeParams.direction,branch_key:r.mergeParams.branchKey,source_key:r.mergeParams.sourceKey,branchModalTrackingId:r.mergeParams.branchModalTrackingId,userInitiated:r.userInitiated,reason:r.reason}),(null==(n=e.getState().openFile)?void 0:n.canEdit)?((0,tM.NT)(eT.FAf.DESIGN),ts.Y5.triggerAction("enter-layout-mode")):((0,tM.NT)(eT.FAf.INSPECT),ts.Y5.triggerAction("enter-preview-mode"))}).catch(e=>{(0,aL.HJ)(e,av.PW.ON_MODAL_CLOSE,r.mergeParams.direction),aN.k.error("Error abandoning diff:",e),tl.Ay.reload("Merge cancelled")})});(0,t1.nF)(async(e,r)=>{if(r.mergeParams.mergeOnFileOpen){if(await (0,aR.yQ)(),(0,a_.eN)()||(eT.h3O.updateConnectionStateIfNeeded(!0),await (0,a_.oJ)(eT.kul.JOINED)),e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.merging"),icon:t0.zX.SPINNER,type:"file-merge-submit"})),e.getState().mirror.appModel.isReadOnly){(0,aL.HJ)(Error("mergeOnFileOpen: app model is in read only state"),av.PW.ON_MERGE,r.mergeParams.direction),e.dispatch(oJ({message:(0,eb.t)("collaboration.branching.file_is_in_view_only_state_please_current_refresh_tab_and_try_again")}));return}try{eT.h3O.isIncrementalSession()&&!(0,aO.y3)()&&(0,ey.$D)(tp.e.SCENEGRAPH_AND_SYNC,Error("mergeOnFileOpen called on incremental file")),(eT.h3O.isIncrementalSession()||eT.h3O.isValidatingIncremental())&&await (0,t9.qd)(eT._em.BRANCHING_MERGE_TO_MAIN),e.dispatch(o6({}));let n=r.migrationVersion,i=aZ(r.mergeParams.direction);if(r.mergeParams.checkpointDiffURL){let a=oX(r.mergeParams.branchKey,e.dispatch),o=(0,eE.GD)(r.mergeParams.checkpointDiffURL,null,{responseType:"arraybuffer"}).then(e=>{let a=e.data;el.setDiff(i,a,r.mergeParams.sourceKey,r.mergeParams.branchKey,-1)===eT.H$z.VERSION_MISMATCH&&(n=el.getDiffMigrationVersion(i))});await Promise.all([a,o])}else n=el.getDiffMigrationVersion(i);await (0,a_.mN)(),oS(i,eA.BtE.STAGE);let a=new oP({mergeParams:r.mergeParams,file:r.editingFile,conflictResolutionDetails:null}),o=await oD(r.mergeParams,n,null,null,a,null);await o1(o,e.dispatch,r.mergeParams,r.user.id,a)}catch(n){n instanceof aF?(e.dispatch(oJ({message:(0,eb.t)("collaboration.branching.couldn_t_proceed_with_merge_please_accept_updates_from_main_before_merging_your_branch")})),el.clearDiffs()):(aN.k.error(n),e.dispatch(oJ()),e.dispatch(o0({hideModal:!1,mergeParams:r.mergeParams,userInitiated:!1,reason:"mergeOnFileOpen_failed_with_error",error:n.message}))),(0,aL.HJ)(n,av.PW.ON_MERGE,r.mergeParams.direction),e.dispatch(o0({hideModal:!1,mergeParams:r.mergeParams,userInitiated:!1,reason:"handleCommitDiffResult_failed_with_error",error:n.message}))}}});let o1=async(e,r,n,i,a=null)=>{var o,s,l,d,c;if(e)switch(e.status){case 200:case 201:{let l=e.data.meta.file_merge;null==a||a.commitEnd(null,l.id),r(o3({userId:i,fileMergeId:l.id}));try{await (0,a_.lt)({fileMergeId:l.id,userId:i,allowEmptyMerge:n.direction===av.Kn.FROM_SOURCE}),null==a||a.commitSynced(l.id),r(o0({hideModal:!1,mergeParams:n,userInitiated:!0,reason:"user_initiated_merge"})),r(o4({}))}catch(i){r(o5({})),(0,aL.HJ)(Error(`merge: ${i}`),av.PW.ON_MERGE,n.direction,{file_merge_id:null==(s=null==(o=e.data)?void 0:o.failure_info)?void 0:s.file_merge_id}),r(e3.F.clearAll()),r(rH.to({type:oK,data:{view:oB.COULD_NOT_COMPLETE,mergeParams:n,failureInfo:{file_merge_id:l.id}}})),r(o0({hideModal:!1,mergeParams:n,userInitiated:!1,reason:"handleCommitDiffResult_failed_with_error",error:i.message}))}break}case 400:{let i,a;switch(r(o5({})),e.data.reason){case"merge_in_progress":i="FileMerge already exists",a=oB.COULD_NOT_COMPLETE;break;case"branch_point_mismatch":i="Branch point is stale",a=oB.STALE_BRANCH_POINT;break;case"branch_archived":i="Branch is archived",a=oB.BRANCH_ARCHIVED;break;case"checkpoint_mismatch":i="Checkpoints not associated with source/branch files",a=oB.COULD_NOT_START;break;default:i=`Unknown 400 reason from server while creating FileMerge: ${e.data.reason}`,a=oB.COULD_NOT_START}(0,aL.HJ)(Error(`merge: ${i}`),av.PW.ON_MERGE,n.direction,{file_merge_id:(null==(l=e.data.failure_info)?void 0:l.file_merge_id)||null}),r(e3.F.clearAll()),r(rH.to({type:oK,data:{view:a,mergeParams:n,failureInfo:e.data.failure_info||{}}})),r(o0({hideModal:!1,mergeParams:n,userInitiated:!1,reason:"handleCommitDiffResult_failed_with_error",error:i}));break}default:r(o5({})),(0,aL.HJ)(Error("merge: Encountered unknown server error while creating FileMerge record"),av.PW.ON_MERGE,n.direction,{file_merge_id:null==(c=null==(d=e.data)?void 0:d.failure_info)?void 0:c.file_merge_id}),r(e3.F.clearAll()),r(rH.to({type:oK,data:{view:oB.COULD_NOT_START,mergeParams:n,failureInfo:{}}})),r(o0({hideModal:!1,mergeParams:n,userInitiated:!1,reason:"handleCommitDiffResult_failed_with_error",error:"unknown server error while creating FileMerge record"}))}},o2=(0,tX.N)("CLEAR_OPEN_FILE_MERGE"),o3=(0,tX.N)("SET_OPEN_FILE_MERGE"),o5=(0,tX.N)("SET_BRANCH_MERGE_ERROR"),o4=(0,tX.N)("FINISH_BRANCH_MERGE"),o6=(0,tX.N)("BEGIN_BRANCH_MERGE");function o8(e,r,n){let i=new Set;for(let e of r){for(let r of o7(e,av.Wo.MAIN))i.add(r);for(let r of o7(e,av.Wo.BRANCH))i.add(r)}return e.filter(e=>!i.has(to.dI(e.displayChunk.mainChunk.displayNode.guid))&&!n.includes(to.dI(e.displayChunk.mainChunk.displayNode.guid)))}function o7(e,r){return r===av.Wo.BRANCH?e.branchChunks.map(e=>to.dI(e.displayNode.guid)).concat(e.secondaryBranchChunkGUIDs):e.sourceChunks.map(e=>to.dI(e.displayNode.guid)).concat(e.secondarySourceChunkGUIDs)}function o9(e){return e.displayNode.componentKey?e.displayNode.componentKey:to.dI(e.displayNode.guid)}function se(e,r,n){if(e.length<2&&r.length<2)return[[e.length?e[0]:void 0,r.length?r[0]:void 0]];let i=0,a=0,o=e.map(n),s=r.map(n),l=new Set(s),d=[];for(;;){let n=o[i],c=s[a];if(!n&&!c)break;n?c?n===c?(l.delete(c),d.push([e[i],r[a]]),++i,++a):l.has(n)?(l.delete(c),d.push([void 0,r[a]]),++a):(d.push([e[i],void 0]),++i):(d.push([e[i],void 0]),++i):(d.push([void 0,r[a]]),++a)}return d}(0,t1.nF)((e,r)=>{e.dispatch(rH.to({type:oZ,showModalsBeneath:!0,data:{targetFileVersion:r.diffMigrationVersion,errorType:eA.YCw.BRANCH_MERGE,onClose:r.onClose}})),e.dispatch(e3.F.dequeue({}))});var st=n(24459),sr=((V=sr||{})[V.CHECKING_FOR_CHANGES=0]="CHECKING_FOR_CHANGES",V[V.APPLYING_UPDATE=1]="APPLYING_UPDATE",V[V.PULLING_IT_ALL_TOGETHER=2]="PULLING_IT_ALL_TOGETHER",V[V.CHECKING_FOR_CONFLICTS=3]="CHECKING_FOR_CONFLICTS",V[V.GENERATING_CHANGED_ITEMS=4]="GENERATING_CHANGED_ITEMS",V);let sn={0:()=>ep.createElement(eb.Tx,{id:"collaboration.branching.checking_for_changes"}),1:()=>ep.createElement(eb.Tx,{id:"collaboration.branching.applying_update"}),2:()=>ep.createElement(eb.Tx,{id:"collaboration.branching.pulling_it_all_together"}),3:()=>ep.createElement(eb.Tx,{id:"collaboration.branching.checking_for_conflicts"}),4:()=>ep.createElement(eb.Tx,{id:"collaboration.branching.generating_changed_items"})};function si(e){let{hasLoadedDiffs:r,hasLoadedConflictDetection:n,willRemap:i,ignoreConflictDetection:a}=e,[o,s]=ep.useState(0),[l,d]=ep.useState(.01);ep.useEffect(()=>{r&&n?i?s(1):s(2):r&&!a&&s(3)},[n,r,i,a]),ep.useLayoutEffect(()=>{let e=setTimeout(()=>{d(.99)},100);return()=>{clearTimeout(e)}},[]),ep.useEffect(()=>{let e=setTimeout(()=>{s(e=>0===e?4:e)},5e3);return()=>{clearTimeout(e)}},[]);let c=`translateX(-${(1-l)*100}%)`,u=sn[o];return ep.createElement("div",{className:"loading--loadingBarCont--ToJXw text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement("div",{className:"loading--loadingBar--GFFCt"},ep.createElement("div",{className:"loading--loadingBarInner--6U9VR",style:{transform:c}})),ep.createElement("div",null,ep.createElement(u,null)))}let sa="branch_force_merge_modal--conflictChoiceRadioOption--S1Zb- text--fontPos11--2LvXf text--_fontBase--QdLsd",so={[av.Wo.MAIN]:()=>ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_merge_conflict_radio_option_main"}),[av.Wo.BRANCH]:()=>ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_merge_conflict_radio_option_branch"})};function ss(e){return ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_merge_conflict_radio_label",option:ep.createElement("span",{className:"branch_force_merge_modal--bold--8-Exp"},so[e.value]())})}let sl=(0,iK.Ju)(function(e){let{direction:r,branchKey:n,sourceKey:i}=e,a=(0,eJ.wA)(),[o,s]=(0,ep.useState)(av.Wo.MAIN),l=(0,eJ.d4)(e=>e.fileVersion),d=(0,eJ.d4)(e=>e.currentUserOrgId),c=(0,nz.Pc)(),u=(0,ep.useContext)(aV.ss),{sourceDiffInfo:p,branchDiffInfo:h,conflictDetectionInfo:m,error:g,imageDebugState:f}=function(e,r,n,i,a,o,s){let l=(0,eJ.wA)(),[d,c]=ep.useState(null),[u,p]=ep.useState(null),[h,m]=ep.useState(null),[g,f]=ep.useState(null),[_,y]=ep.useState(null),[E,b]=ep.useState(null),[v,S]=ep.useState(null),[I,T]=ep.useState(null),[w,C]=ep.useState(null),[A,N]=ep.useState(!1),[O,R]=ep.useState(null),[P,L]=ep.useState(null),D=ep.useRef(0),M=ep.useContext(aV.ss);return ep.useEffect(()=>{D.current>0&&(c(null),p(null),y(null),b(null),S(null),T(null),C(null),R(null),el.clearDiffs()),D.current+=1;let o=D.current;if(!i)return;let s=oN(r,e,eT.sYL.BRANCH,i,null),d=oN(r,e,eT.sYL.SOURCE,i,null),u=(0,t9.qd)(eT._em.BRANCHING_MODAL_OPEN),h=async(i,s,d)=>{if(D.current!==o)return 2;switch(d){case eT.sYL.SOURCE:c(i);break;case eT.sYL.BRANCH:p(i);break;case eT.sYL.COMPARE:throw Error("Unexpected DiffType: COMPARE");default:(0,eh.xb)(d)}if(await u,await (0,a_.w)(M,n),L((0,t6.Jr)().getDebugState()),D.current!==o)return 2;let h=(0,om.Z_)(),g=el.setDiff(d,s,r,e,M),_=(0,om.Z_)(),E=(0,om.yQ)(h,_);if((0,aV.FT)({diffType:d,direction:n,branchFileKey:e,sourceFileKey:r,setDiffResult:g,isDeferConflictResolutionEnabled:!1,metrics:E,diffVersion:2,useDiffVersion:2,branchModalTrackingId:M,mergeDiffSize:s.length}),g===eT.H$z.PARSE_ERROR)return N(!0),1;if(D.current!==o)return 2;let v=el.getDisplayGroups(d,{branchKey:e,sourceKey:r,branchModalTrackingId:M});switch(d){case eT.sYL.SOURCE:m(el.getChunks(d,{branchKey:e,sourceKey:r,branchModalTrackingId:M})),y(v);break;case eT.sYL.BRANCH:f(el.getChunks(d,{branchKey:e,sourceKey:r,branchModalTrackingId:M})),b(v);break;default:(0,eh.xb)(d)}let I=await on(v,a,l);if(D.current!==o)return 2;switch(d){case eT.sYL.SOURCE:S(I);break;case eT.sYL.BRANCH:T(I);break;default:(0,eh.xb)(d)}return 0},g=d.then(async({checkpointDiff:e,mergeDiff:r})=>await h(e,r,eT.sYL.SOURCE)),_=s.then(async({checkpointDiff:e,mergeDiff:r})=>await h(e,r,eT.sYL.BRANCH));return(async()=>{if(!(await Promise.all([g,_])).every(e=>0===e)||D.current!==o)return;let i=el.getConflicts({branchKey:e,sourceKey:r,branchModalTrackingId:M,direction:n});D.current===o&&C(i)})().catch(e=>{D.current===o&&R(e)}),()=>{D.current+=1}},[e,r,n,i,a,l,0,null,M]),{sourceDiffInfo:{checkpointDiff:d,displayGroups:_,styleKeyToFileKey:v,chunks:h},branchDiffInfo:{checkpointDiff:u,displayGroups:E,styleKeyToFileKey:I,chunks:g},conflictDetectionInfo:w,clientUpdateRequired:A,error:O,imageDebugState:P}}(e.branchKey,e.sourceKey,e.direction,l,d,0,null),{checkpointDiff:_,chunks:y}=p,{checkpointDiff:E,chunks:b}=h,v=()=>{a(o0({hideModal:!0,mergeParams:{branchKey:n,sourceKey:i,direction:r,branchModalTrackingId:u},userInitiated:!0,reason:"force_merge_modal_closed"}))};g&&((0,aL.HJ)(g,av.PW.ON_MODAL_OPEN,r),console.error(g),a(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_generic"),error:!0})),a(o0({hideModal:!0,mergeParams:{branchKey:n,sourceKey:i,direction:r,branchModalTrackingId:u},userInitiated:!1,reason:"useDiffs_failed_with_error",error:g.message})));let S=r===av.Kn.TO_SOURCE?b:y;if(null===S||null===m)return ep.createElement(o$.aF,{onHide:v},ep.createElement("div",{className:"branch_force_merge_modal--loadingContainer--vo03-"},ep.createElement(si,{hasLoadedDiffs:null!==S,hasLoadedConflictDetection:null!==m})));if(r===av.Kn.TO_SOURCE){let e=m.isMergeRequired??!1;return ep.createElement(o$.Rw,{confirmationTitle:ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_to_source_title"}),destructive:!0,confirmText:ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_to_source_confirm"}),onConfirm:()=>{E&&a(oQ({mergeParams:{branchKey:n,sourceKey:i,direction:r,branchModalTrackingId:u},checkpointDiff:E,pendingMessage:(0,eb.t)("collaboration.branching.merge_pending"),successMessage:(0,eb.t)("collaboration.branching.merge_success"),user:c,imageDebugState:f}))},onCancel:v,onHide:v,disableConfirm:e},ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_to_source_description"}),e&&ep.createElement("div",{className:"branch_force_merge_modal--blockedMergeText--PYABM"},ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_to_source_blocked_description"})))}return r===av.Kn.FROM_SOURCE?ep.createElement(o$.Rw,{confirmationTitle:ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_title"}),destructive:!0,confirmText:ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_confirm"}),onConfirm:()=>{if(null===m||!_)return;let e=m.conflictGroups,s=e.reduce((e,r)=>({...e,[r.id]:o}),{})??null,[l,d]=aw()(e,e=>s[e.id]===av.Wo.BRANCH),h=aI()(l,e=>o7(e,av.Wo.BRANCH)),g=aI()(d,e=>o7(e,av.Wo.MAIN)),y=o8(p.displayGroups||[],e,m.identicalChunkGUIDs);ow(g,h,m.nonConflictingSourceChunkGUIDs,m.nonConflictingBranchChunkGUIDs,m.identicalChunkGUIDs),a(oQ({mergeParams:{branchKey:n,sourceKey:i,direction:r},checkpointDiff:_,pendingMessage:(0,eb.t)("collaboration.branching.update_pending"),successMessage:(0,eb.t)("collaboration.branching.update_success"),conflictResolutionDetails:{mainPickGroups:d.length,branchPickGroups:l.length,nonConflictingGroups:y.length},user:c,imageDebugState:f,branchModalTrackingId:u}))},onCancel:v,onHide:v},ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_description"}),ep.createElement("div",{className:"branch_force_merge_modal--conflictChoiceRadioGroupLabel--IXOql"},ep.createElement(eb.Tx,{id:"collaboration.branching_force.merge_from_source_merge_conflict_label"})),ep.createElement(aA.z,{value:o,onChange:e=>s((0,aC.K)(av.Wo,e)??av.Wo.MAIN),className:"branch_force_merge_modal--conflictChoiceRadioGroup--FNW-W"},ep.createElement(aA.Z,{value:av.Wo.MAIN,labelClassName:sa},ep.createElement(ss,{value:av.Wo.MAIN})),ep.createElement(aA.Z,{value:av.Wo.BRANCH,labelClassName:sa},ep.createElement(ss,{value:av.Wo.BRANCH})))):null},"BranchForceMergeModal",iK.ZU.YES);var sd=n(20063),sc=n(46240),su=n(99737),sp=n(94910),sh=n(96808),sm=n(58652),sg=n(27703),sf=n(68860),s_=n(12495),sy=n.n(s_),sE=n(98750),sb=n(2245),sv=n(75224);n(83909);var sS=n(48661);function sI(e,r,n){return{stateInfo:e.stateInfo,symbol:(0,ax.i_)(null,null,e.symbol,r||"",n||(0,sv.lt)("")),actionIndexPath:function(e){if(!e)return[];let r=e.match(/\{(.*?)\}/);return!r||r.length<2?[]:r[1].trim().split(",").map(e=>parseFloat(e.trim()))}(e.actionIndexPath)}}ep.createContext(null),(0,sb.Mz)([e=>e.mirror.selectionProperties.stateGroupSelectionInfo,ac.sS,ac.XJ],function(e,r,n,i){var a;if(!e)return null;let o=e.mode;if(o===eT.iCO.NONE)return null;if(o===eT.iCO.NON_STATE_COMPONENTS)return{mode:o,numSelectedNonStateComponents:e.numSelectedNonStateComponents};let s=e.stateGroup,l=e.stateGroupModel,d=(null==(a=null==l?void 0:l.propertySortOrder)?void 0:a.length)===1,c=e.allStates.map(e=>sI(e,r,n));if(o===eT.iCO.STATE_GROUP)return{mode:o,stateGroup:s,stateGroupModel:l,allStates:c,modelIsOneDimensional:d};let u=e.selectedStates.map(e=>sI(e,r,n)),p=function(e,r,n){let i={};for(let a of e){if(void 0!==a.actionIndexPath&&void 0!==n&&a.actionIndexPath.some((e,r)=>e!==n[r]))continue;let{propertyValues:e}=a.stateInfo;if(e)for(let n of r)n in i&&i[n]!==e[n]?i[n]=i[n]&&e[n]?sS.oV:"":i[n]=e[n]||""}return i}(u,l.propertySortOrder||[],i);return eT.iCO.STATE,{mode:o,stateGroup:s,stateGroupModel:l,allStates:c,modelIsOneDimensional:d,selectedStates:u,selectedStatesPropertyValues:p}});let sT=[["yes","no"],["true","false"],["on","off"]].reduce((e,r)=>e.concat(r),[]);function sw(e){let r=e.split(","),n=[];for(let e of r){let r=e.trim().split("=");if(2!==r.length||!r[0]||!r[1])break;sT.indexOf(r[1].toLowerCase())>-1?n.push(e.trim()):n.push(r[1])}return n.length===r.length&&(e=n.join(", ")),e}var sC=n(80921),sA=n(11161),sN=n(64577),sO=n(27586),sR=n(24897),sP=n(61273);(0,t1.nF)(async(e,r)=>{var n;try{let e=eE.Ay.put(`/api/merge_requests/${r.mergeRequestKey}`,{closed:r.closed});await (null==(n=(0,ef.WB)())?void 0:n.optimisticallyUpdate({MergeRequest:{[r.mergeRequestId]:{closedAt:r.closed?new Date:null}}},e))}catch(n){e.dispatch(e3.F.enqueue({message:r.closed?(0,eb.t)("collaboration.branching.error_converting_merge_request_to_draft"):(0,eb.t)("collaboration.branching.error_submitting_merge_request"),type:"merge-request-close",error:!0}))}});let sL=(0,t1.nF)(async(e,r)=>{var n;let i=r.approved?"merge-request-approve":r.changesRequested?"merge-request-changes-requested":"";i&&e.dispatch(e3.F.enqueue({icon:t0.zX.SPINNER,message:(0,eb.t)("collaboration.branching.submitting_review"),type:i}));try{let a=eE.Ay.put(`/api/merge_requests/${r.mergeRequestKey}/reviewers`,{...null!=r.changesRequested&&{changes_requested:r.changesRequested},...null!=r.approved&&{approved:r.approved},...null!=r.notes&&{notes:r.notes}});await (null==(n=(0,ef.WB)())?void 0:n.optimisticallyUpdate({MergeRequestReviewer:{[r.mergeRequestReviewerId]:{...!r.approved&&r.changesRequested&&{changesRequestedAt:new Date},...r.approved&&{approvedAt:new Date},...null!=r.notes&&{notes:r.notes}}}},a));let o=r.approved?(0,eb.t)("collaboration.branching.approved_review"):r.changesRequested?(0,eb.t)("collaboration.branching.suggested_changes_on_review"):"";o&&i&&e.dispatch(e3.F.enqueue({icon:t0.zX.CHECK,message:o,type:i}))}catch(r){e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_leaving_review"),type:i,error:!0}))}}),sD=(0,t1.nF)(async(e,r)=>{var n;try{let e=eE.Ay.put(`/api/merge_requests/${r.mergeRequestKey}/reviewers`,{notes:r.notes});await (null==(n=(0,ef.WB)())?void 0:n.optimisticallyUpdate({MergeRequestReviewer:{[r.mergeRequestReviewerId]:{notes:r.notes}}},e))}catch(r){e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_updating_reviewer_comment"),type:"merge-request-update-notes",error:!0}))}}),sM=(0,t1.nF)(async(e,r)=>{var n;try{let e=eE.Ay.post(`/api/merge_requests/${r.mergeRequestKey}/${r.isApprove?"approve":"unapprove"}`);await (null==(n=(0,ef.WB)())?void 0:n.optimisticallyUpdate({MergeRequestReviewer:{[r.mergeRequestReviewerId]:{approvedAt:r.isApprove?new Date:null}}},e))}catch(n){e.dispatch(e3.F.enqueue({message:r.isApprove?(0,eb.t)("collaboration.branching.error_approving"):(0,eb.t)("collaboration.branching.error_removing_approval"),type:"merge-request-approve",error:!0}))}}),sk=(0,t1.nF)(async(e,r)=>{var n;try{let i=eE.Ay.put(`/api/merge_requests/${r.mergeRequestKey}`,{rerequest:!0,description:r.description,include_invited:"true"});await (null==(n=(0,ef.WB)())?void 0:n.optimisticallyUpdate({MergeRequest:{[r.mergeRequestId]:{description:r.description,requestedAt:new Date}}},i)),e.dispatch(e3.F.enqueue({icon:t0.zX.CHECK,message:(0,eb.t)("collaboration.branching.review_requested"),type:"merge-re-request"}))}catch(r){e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_re_sending_merge_request"),type:"merge-request-resend",error:!0}))}}),sx=(0,t1.nF)(async(e,r)=>{var n;try{let e=eE.Ay.put(`/api/merge_requests/${r.mergeRequestKey}`,{...r.mergeRequestPayload,include_invited:"true"});await (null==(n=(0,ef.WB)())?void 0:n.optimisticallyUpdate({MergeRequest:{[r.mergeRequestId]:{title:r.mergeRequestPayload.title,description:r.mergeRequestPayload.description}}},e))}catch(r){e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_updating_merge_request"),type:"merge-request-update",error:!0}))}}),sF=(0,t1.nF)(async(e,r)=>{let n=e.getState();e.dispatch(e3.F.enqueue({icon:t0.zX.SPINNER,message:(0,eb.t)("collaboration.branching.submitting_request"),type:"merge-request-submit"}));try{let{wasCreated:i}=await sU(r,n.openFile.key);e.dispatch(e3.F.enqueue({icon:i?t0.zX.CHECK:void 0,message:i?(0,eb.t)("collaboration.branching.request_submitted"):(0,eb.t)("collaboration.branching.a_merge_request_is_already_open_for_this_branch"),type:"merge-request-submit"}))}catch(n){e.dispatch(e3.F.enqueue({message:r.title?(0,eb.t)("collaboration.branching.error_submitting_merge_request"):(0,eb.t)("collaboration.branching.title_missing_from_merge_request"),type:"merge-request-submit",error:!0}))}}),sU=async(e,r)=>{let n=await eE.Ay.post("/api/merge_requests",{...e,branch_key:r,include_invited:"true"});return{mergeRequest:n.data.meta.merge_request,wasCreated:201===n.status}};var sB=n(91271),sV=n(99111),sH=n(79265),sG=n(56676),sW=n(35876);ep.memo(function({text:e,className:r,tooltipPropsWhenTruncated:n,onTruncationChange:i,multiline:a}){let o=ep.useRef(null),s=function({multiline:e,text:r,textRef:n,disabled:i}){let[a,o]=ep.useState(!1);return ep.useLayoutEffect(()=>{!i&&n.current&&(e?o(n.current.offsetHeight<n.current.scrollHeight):o(n.current.offsetWidth<n.current.scrollWidth))},[i,r,e,n]),a}({multiline:a,text:e,textRef:o});return ep.useEffect(()=>{null==i||i(s)},[i,s]),ep.createElement("span",{className:`end_truncated_text--truncatedText--lYsyo ${r??""} ${a?"end_truncated_text--multiline--UrSI8":""}`,ref:o,...s?n:{}},e)});var sz=n(94272),sK=n(60601),sj=n(93812),sY=n(45099),s$=n(74191),sq=n(90297),sZ=n(47908);let sX=[{position:0,color:{r:1,g:1,b:1,a:1}},{position:1,color:{r:1,g:1,b:1,a:0}}],sJ=sX.map(sZ.Ug),sQ=e=>{let r=sq.s.identity();return r.translate(.5,.5),e&&(s0(e.leftEndCap)||s0(e.rightEndCap))&&(e.angle>=90||e.angle<-90)?r.rotate(Math.PI):!e||e.height>0&&e.width/e.height<=3?(r.rotate(-Math.PI/2),e&&(e.angle<-45&&e.angle>=-135?r.rotate(Math.PI/2):e.angle<-135||e.angle>135?r.rotate(Math.PI):e.angle>45&&e.angle<=135&&r.rotate(-Math.PI/2))):(e.angle>45||e.angle<-135)&&r.rotate(Math.PI),e&&e.hasReflection&&r.rotate(Math.PI),r.translate(-.5,-.5),r.toFigMatrix()};function s0(e){if(!e)return!1;switch(e){case"ARROW_LINES":case"ARROW_EQUILATERAL":case"TRIANGLE_FILLED":case"CIRCLE_FILLED":case"DIAMOND_FILLED":return!0;case"ROUND":case"SQUARE":case"NONE":case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return!1}}function s1(e){return null!=e&&-1!==["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].indexOf(e)}new class{constructor(){this.clearCache=e=>{null!=e?delete this.cache[e]:this.cache={}},this.getId=(e,r,n)=>`${n}-${r}-${e}`,this.initPaint=(e,r,n,i,a,o)=>this.initPaintWithDefaultImagePaint(e,r,n,i,null,o??!1,a),this.getPaintStopsAndStopsVar=(e,r,n,i)=>{let a=i?[{position:0,color:n},{position:1,color:e}]:[{position:0,color:e},{position:1,color:n}],o=a.map(sZ.Ug);return r&&(o[i?1:0].colorVar=r),{stops:a,stopsVar:o}},this.initPaintWithDefaultImagePaint=(e,r,n,i,a,o,s)=>{let l={type:e,opacity:1,visible:!0,blendMode:"NORMAL"};if("SOLID"===e?l.color=r:s1(e)?(l.stops=sX,l.stopsVar=sJ,l.transform=sQ(s)):function(e){return null!=e&&-1!==["IMAGE","VIDEO"].indexOf(e)}(e)&&a&&("VIDEO"===e?this.transferVideoAttributes(a,l):this.transferImageAttributes(a,l)),!n)return l;let d=this.cachePaint(n,i);if(this.transferGeneralAttributes(d,l),"SOLID"===e)d.color?this.transferColorAttributes(d,l):d.stops&&d.stops.length&&this.transferColorAttributes(d.stops[0],l);else if(s1(e)){if(d.stops)this.transferGradientAttributes(d,l);else if(d.color){let e=function(e,r=!1){var n={...e,a:0};if((0,e2.kc)().gradient_tool_improvements&&!r){let r=(0,s$.qN)(e),i=r.v>=.5?r.v-.4:r.v+.4;n=(0,s$.kE)({...r,v:i})}return n}(d.color,o),r=(s&&s0(s.rightEndCap))??!1,n=(0,e2.kc)().gradient_tool_improvements??!1,{stops:i,stopsVar:a}=this.getPaintStopsAndStopsVar({...d.color,a:1},d.colorVar,e,!!n&&(o?!r:r));l.stops=i,l.stopsVar=a}}else"IMAGE"===e?d.image&&d.imageThumbnail&&(this.transferImageAttributes(d,l),l.transform=d.imageTransform):"VIDEO"===e&&d.video&&this.transferVideoAttributes(d,l);return l},this.cachePaint=(e,r)=>(this.cache[r]=this.cache[r]||e,s1(e.type)?this.transferGradientAttributes(e,this.cache[r]):"SOLID"===e.type?this.transferColorAttributes(e,this.cache[r]):"IMAGE"===e.type?(this.transferImageAttributes(e,this.cache[r]),this.cache[r].imageTransform=e.transform):"VIDEO"===e.type&&this.transferVideoAttributes(e,this.cache[r]),this.cache[r]),this.transferGeneralAttributes=(e,r)=>{r.opacity=e.opacity,r.blendMode=e.blendMode,r.visible=e.visible},this.transferColorAttributes=(e,r)=>{r.color=e.color},this.transferGradientAttributes=(e,r)=>{r.stops=e.stops,r.stopsVar=e.stopsVar,r.transform=e.transform},this.transferImageAttributes=(e,r)=>{r.image=e.image,r.imageThumbnail=e.imageThumbnail,r.animatedImage=e.animatedImage,r.animationFrame=e.animationFrame,r.imageScaleMode=e.imageScaleMode,r.rotation=e.rotation,r.scale=e.scale,r.paintFilter=e.paintFilter,r.imageShouldColorManage=e.imageShouldColorManage,r.video=void 0},this.transferVideoAttributes=(e,r)=>{r.imageThumbnail=e.imageThumbnail,r.animationFrame=e.animationFrame,r.imageScaleMode=e.imageScaleMode,r.rotation=e.rotation,r.scale=e.scale,r.paintFilter=e.paintFilter,r.video=e.video,r.image=void 0},this.clearCache()}};var s2=n(29680),s3=n(79702),s5=n(28654);new class{parse(e){let r=[];return e.split(/[ ,]+/g).forEach(e=>{if(!e.length)return;let n=parseFloat(e);if(!isFinite(n))throw Error("Could not parse dash input");n=Math.max(0,n),r.push(n)}),r.length%2==1&&(r=r.concat(r).slice(0,8)),r}getNudgeAmount(e){return e?10:1}incrementBy(e,r,n){let i=e.slice();for(let a=0;a<e.length;a++)n[a]&&(i[a]+=r,i[a]=Math.max(i[a],0));return i}isEqual(e,r){return(0,eg.c2)(e,r)}format(e){return null==e?"":e.map(e=>parseFloat(e.toFixed(2))).join(", ")}getDashRanges(e){let r=[],n=0;for(;;){let i=e.slice(n).match(/[^ ,]+/);if(!i||void 0===i.index)break;let a=n+i.index,o=a+i[0].length;r.push({start:a,end:o}),n=o+1}return r}getIncrementTargets(e,r){let{start:n,end:i}=r,a=this.getDashRanges(e),o={};for(let e=0;e<a.length;e++)a[e].end<n||a[e].start>i||(o[e]=!0);if(Object.keys(o).length>1)for(let e=0;e<a.length;e++)o[e]&&(i===a[e].start||a[e].end===n)&&delete o[e];return o}getSelection(e,r){let n={start:e.length,end:0},i=this.getDashRanges(e);for(let e in r)n.start=Math.min(n.start,i[parseInt(e)].start),n.end=Math.max(n.end,i[parseInt(e)].end);return n}};class s4{constructor(e){this.getPaint=e,this.format=e=>{switch(e){case"SOLID":return(0,eb.t)("fullscreen.properties_panel.solid");case"VIDEO":return(0,eb.t)("fullscreen.properties_panel.video");case"IMAGE":return null!=this.getPaint().animatedImage?(0,eb.t)("fullscreen.properties_panel.gif"):(0,eb.t)("fullscreen.properties_panel.image");case"GRADIENT_LINEAR":return(0,eb.t)("fullscreen.properties_panel.linear");case"GRADIENT_RADIAL":return(0,eb.t)("fullscreen.properties_panel.radial");case"GRADIENT_ANGULAR":return(0,eb.t)("fullscreen.properties_panel.angular");case"GRADIENT_DIAMOND":return(0,eb.t)("fullscreen.properties_panel.diamond");default:return""}}}}let s6="code_inspection_panels--swatch--k-GyP",s8="code_inspection_panels--inspectorRow--VL6Ua",s7="code_inspection_panels--paintInspector--F0bwe";class s9 extends ep.PureComponent{onMouseDown(e){if(2===e.detail){let r=window.getSelection(),n=document.createRange();n.selectNodeContents(e.currentTarget),r&&(r.removeAllRanges(),r.addRange(n)),e.stopPropagation()}}render(){return ep.createElement("span",{onMouseDown:this.onMouseDown},this.props.children)}}s9.displayName="TextSelectionGroup";class le extends ep.PureComponent{render(){return ep.createElement("div",{className:"code_inspection_panels--inspectionGroup--xesmI"},this.props.children)}}le.displayName="InspectionGroup";class lt extends ep.PureComponent{render(){return ep.createElement("div",{className:s8},this.props.name?`${this.props.name}: `:"",this.props.children)}}lt.displayName="PropertyInspector";class lr extends ep.PureComponent{formatMixed(e){return(0,eb.t)("inspect_panel.property.mixed")}render(){return ep.createElement(lt,{name:this.props.name},(0,sS.hS)(this.props.value)?this.format(this.props.value):this.formatMixed(this.props.value))}}lr.displayName="SelectionPropertyInspector";class ln extends ep.PureComponent{formatMixed(e,r){return(0,eb.t)("inspect_panel.property.mixed_value")}render(){return ep.createElement(lt,{name:this.props.name},(0,sS.hS)(this.props.value)?this.format(this.props.value,this.props.target):this.formatMixed(this.props.value,this.props.target))}}ln.displayName="TargetDependentSelectionPropertyInspector";let li=e=>parseFloat((null==e?0:e).toFixed(2)).toString(),la=e=>{let r=li(e);return -1===r.indexOf(".")?r+".0":r},lo=e=>`${li(e)}%`;class ls extends lr{format(e){return lo(e)}}new iz.cu;let ll=new class{constructor(){this.format=e=>e?e.replace(/_/g," ").toLowerCase().replace(/^./g,e=>e.toUpperCase()):""}},ld=class extends lr{format(e){return ll.format(e)}};class lc extends ep.PureComponent{render(){let{color:e,target:r}=this.props;switch(r){case eT.tzO.CSS:return ep.createElement(s9,null,(e.a<1?s5.F:aY.z5).format(e));case eT.tzO.ANDROID:return ep.createElement(s9,null,aY.z5.formatForAndroid(e));case eT.tzO.IOS:{let r=la(e.r),n=la(e.g),i=la(e.b),a=la(e.a);return ep.createElement("span",null,"rgba ",ep.createElement(s9,null,`${r}, ${n}, ${i}, ${a}`))}}}}lc.displayName="PlatformFormattedColor";class lu extends ep.PureComponent{render(){let{target:e,stop:r}=this.props;switch(e){case eT.tzO.CSS:return ep.createElement("div",{className:s8},ep.createElement(lc,{color:r.color,target:e})," @ ",ep.createElement(s9,null,lo(100*r.position)));case eT.tzO.ANDROID:case eT.tzO.IOS:return ep.createElement("div",{className:s8},ep.createElement(lc,{color:r.color,target:e})," @ ",ep.createElement(s9,null,la(r.position)))}}}lu.displayName="SelectableColorStop";class lp extends ep.PureComponent{render(){let e=s5.F.format(this.props.color);return ep.createElement("span",{className:s6,style:{background:e}})}}lp.displayName="ColorSwatch";class lh extends ep.PureComponent{render(){let e="linear-gradient(180deg, "+this.props.stops.map(e=>s5.F.format(e.color)).join(", ")+")";return ep.createElement("span",{className:s6,style:{background:e}})}}lh.displayName="GradientSwatch";class lm extends ep.Component{render(){let e=this.props.colorNameMap&&this.props.colorNameMap[s5.F.format(this.props.value)];return ep.createElement("div",{className:s7},ep.createElement(lp,{color:this.props.value}),ep.createElement("div",{className:s8},e&&`${e} (`,ep.createElement(lc,{color:this.props.value,target:this.props.target}),e&&")"))}}lm.displayName="ColorInspector";let lg=new class{constructor(){this.format=e=>{switch(e){case"FILL":return(0,eb.t)("fullscreen.properties_panel.image_scale.fill");case"FIT":return(0,eb.t)("fullscreen.properties_panel.image_scale.fit");case"STRETCH":return(0,eb.t)("fullscreen.properties_panel.image_scale.crop");case"TILE":return(0,eb.t)("fullscreen.properties_panel.image_scale.tile");default:return""}}}};async function lf({paint:e,fileKey:r}){var n;let i;if(!r)return null;let a=e.animatedImage||e.image;"VIDEO"===e.type&&e.video?i=e.video.hash:a&&a.hash&&(i=a.hash);let o="";return(i&&(o=Array.from(i).map(e=>(e<16?"0":"")+e.toString(16)).join("")),o)?"VIDEO"===e.type?(await t7.S.getVideosDownload({hexHash:o,fileKey:r})).data.meta.signed_url:(n=o,`/file/${r}/image/${n}`):null}class l_ extends ep.PureComponent{constructor(e){super(e),this.paintTypeFormatter=new s4(()=>this.props.paint),this.state={downloadUrl:""}}updateDownloadUrlForNewPaint(){lf({paint:this.props.paint,fileKey:this.props.openFileKey}).then(e=>{if(this.setState({downloadUrl:e}),null===e){console.error("No download args for paint type: "+this.props.paint.type);return}})}componentDidMount(){this.updateDownloadUrlForNewPaint()}componentDidUpdate(e,r,n){e.paint!==this.props.paint&&this.updateDownloadUrlForNewPaint()}downloadLinkFor(e){if(!this.props.openFileKey)return"";let r="VIDEO"===e.type?"mp4":null!=e.animatedImage?"gif":"png",n=`${function(e){let r=e.animatedImage||e.image,n="VIDEO"===e.type?"video":"image";return`${r&&r.name||n}`}(e)}.${r}`,i="IMAGE"===e.type||"VIDEO"===e.type;return this.state.downloadUrl&&i?ep.createElement("a",{href:this.state.downloadUrl,target:"_blank",rel:"noopener"},n):n}render(){let{paint:e,name:r}=this.props;switch(e.type){case"SOLID":{let n={...e.color,a:e.color.a*e.opacity};return ep.createElement("div",null,ep.createElement(lt,{name:r},ep.createElement(eb.Tx,{id:"inspect_panel.colors.solid"})),e.blendMode&&"NORMAL"!==e.blendMode&&ep.createElement(ld,{name:(0,eb.t)("inspect_panel.colors.blend"),value:e.blendMode}),this.props.children,ep.createElement(lm,{value:n,target:this.props.target,colorNameMap:this.props.colorNameMap}))}case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":{let n=this.paintTypeFormatter.format(e.type);return ep.createElement("div",null,ep.createElement(lt,{name:r},ep.createElement(eb.Tx,{id:"inspect_panel.colors.gradient",gradientType:n})),e.blendMode&&"NORMAL"!==e.blendMode&&ep.createElement(ld,{name:(0,eb.t)("inspect_panel.colors.blend"),value:e.blendMode}),this.props.children,ep.createElement("div",{className:s7},ep.createElement(lh,{stops:e.stops}),ep.createElement("div",null,e.stops.map((e,r)=>ep.createElement(lu,{key:r,stop:e,target:this.props.target})))))}case"IMAGE":case"VIDEO":return ep.createElement("div",null,ep.createElement(lt,{name:r},"IMAGE"===e.type?ep.createElement(eb.Tx,{id:"inspect_panel.images.image_type"}):ep.createElement(eb.Tx,{id:"proto.prototype_panel.video"})),ep.createElement(lt,{name:(0,eb.t)("inspect_panel.images.file_name")},this.downloadLinkFor(e)),e.blendMode&&"NORMAL"!==e.blendMode&&ep.createElement(ld,{name:(0,eb.t)("inspect_panel.colors.blend"),value:e.blendMode}),ep.createElement(lt,{name:(0,eb.t)("inspect_panel.images.scale_mode")},lg.format(e.imageScaleMode)),e.opacity<1&&ep.createElement(ls,{name:(0,eb.t)("inspect_panel.properties.opacity"),value:100*e.opacity}),this.props.children)}}}l_.displayName="PaintInspector";let ly=class extends lr{format(e){return ly.formatter.format(e)}};ly.formatter=new class{constructor(){this.format=e=>{switch(e){case"MIN":return(0,eb.t)("fullscreen.properties_panel.constraints.left");case"MAX":return(0,eb.t)("fullscreen.properties_panel.constraints.right");case"STRETCH":return(0,eb.t)("fullscreen.properties_panel.constraints.left_and_right");case"CENTER":return(0,eb.t)("fullscreen.properties_panel.constraints.center");case"SCALE":return(0,eb.t)("fullscreen.properties_panel.constraints.scale");default:return""}}}};let lE=class extends lr{format(e){return lE.formatter.format(e)}};lE.formatter=new class{constructor(){this.format=e=>{switch(e){case"MIN":return(0,eb.t)("fullscreen.properties_panel.constraints.top");case"MAX":return(0,eb.t)("fullscreen.properties_panel.constraints.bottom");case"STRETCH":return(0,eb.t)("fullscreen.properties_panel.constraints.top_and_bottom");case"CENTER":return(0,eb.t)("fullscreen.properties_panel.constraints.center");case"SCALE":return(0,eb.t)("fullscreen.properties_panel.constraints.scale");default:return""}}}},n(99142);var lb=n(4513),lv=n.n(lb),lS=n(87870),lI=n.n(lS),lT=n(70516),lw=n(55880),lC=n(84892),lA=((H=lA||{})[H.RAW=0]="RAW",H[H.STYLE=1]="STYLE",H);let lN=(()=>{let e=new iz.o1({normalizeFactor:360,min:0,max:1}),r=new iz.o1({normalizeFactor:100,min:0,max:1}),n=new iz.t6({min:0,max:1}),i=new iz.o1({normalizeFactor:255,min:0,max:1}),a={hsla:(n,i)=>`hsla(${e.format(n.h)}, ${r.format(n.s)}%, ${r.format(n.l)}%, ${i})`,hsba:(n,i)=>`hsba(${e.format(n.h)}, ${r.format(n.s)}%, ${r.format(n.v)}%, ${i})`,rgba:(e,r)=>`rgba(${i.format(e.r)}, ${i.format(e.g)}, ${i.format(e.b)}, ${r})`,uicolor:(e,r,i)=>i?`UIColor(${n.format(e.r)}, ${n.format(e.g)}, ${n.format(e.b)}, ${r})`:`UIColor(red: ${n.format(e.r)}, green: ${n.format(e.g)}, blue: ${n.format(e.b)}, alpha: ${r})`};return()=>{let e=(0,nk.Ku)();return ep.useCallback((r,n)=>{let i=Number(r.a).toLocaleString("en",{maximumFractionDigits:2});switch(e){case eT.NVY.HEX:let o=aY.TI.format(r,(null==n?void 0:n.hexCSSValue)?{withAlpha:1!==r.a}:(null==n?void 0:n.alphaInPercent)?{withAlpha:1!==r.a,showDot:!0}:void 0);return`#${o}`;case eT.NVY.RGB:return a.rgba(r,i);case eT.NVY.CSS:return s5.F.format(r);case eT.NVY.HSB:let s=(0,s$.qN)(r);return a.hsba(s,i);case eT.NVY.HSL:let l=(0,s$.oB)(r);return a.hsla(l,i);case eT.NVY.UIColor:return a.uicolor(r,i,(null==n?void 0:n.shortform)??!1)}},[e])}})(),lO=()=>"SOLID";function lR(e=0){return Number(e).toLocaleString("en",{maximumFractionDigits:2,useGrouping:!1})}function lP(){let e=(0,eJ.d4)(e=>e.mirror.objectsPanelRowRebuildCounter);return(0,lw.hr)((e,r)=>e,e)}function lL(e,r){return r?e.get(r):null}function lD({pxWidth:e,pxHeight:r,dataTestId:n}){let{unit:i}=iH(),a=(0,sY.sQ)()&&i===eT.tKW.SCALED,o=e=>(e??0).toLocaleString("en",{maximumFractionDigits:2}),s=o(e),l=o(r),d=ep.createElement("span",{"data-testid":`${n}Width`},s),c=ep.createElement("span",{"data-testid":`${n}Height`},l);return ep.createElement(ep.Fragment,null,d,"\u2009x\u2009",c,ep.createElement("span",{"data-testid":`${n}Unit`},a?" (px)":""))}function lM({assetInfo:e,media:r,dataTestId:n,shouldShowTypeLabel:i,hideDot:a}){var o,s,l,d;let c=(d=(null==(o=e.instancesGUIDs)?void 0:o[0])??e.assetId,lL(lP(),d)),u=(null==(s=null==c?void 0:c.size)?void 0:s.x)??0,p=(null==(l=null==c?void 0:c.size)?void 0:l.y)??0;if(r&&r.length>0){let e=r[0];u=e.width,p=e.height}return ep.createElement(lk,{assetType:e.type,pxWidth:u,pxHeight:p,dataTestId:n,hideDot:a,shouldShowTypeLabel:i})}function lk({assetType:e,pxWidth:r,pxHeight:n,dataTestId:i,hideDot:a,shouldShowTypeLabel:o}){let s=e&s3.PW.ASSET_VIDEO?(0,eb.t)("dev_handoff.assets.video"):e&s3.PW.ASSET_GIF?(0,eb.t)("dev_handoff.assets.gif"):e&s3.PW.ASSET_IMAGE?(0,eb.t)("dev_handoff.assets.image"):e&s3.PW.ASSET_ICON?(0,eb.t)("dev_handoff.assets.icon"):e&s3.PW.ASSET_COMPONENT?(0,eb.t)("dev_handoff.assets.instance"):void 0;return ep.createElement("span",null,o&&s,!a&&ep.createElement(ep.Fragment,null,"\xa0","\xb7 "),ep.createElement(lD,{pxWidth:r,pxHeight:n,dataTestId:i}))}(e=>{let r={prefix:"",suffix:"",delimiter:": ",quoted:!1};function n(e,n){let i="",a={...r,...n};return e.forEach(e=>{if(e[1]){let{prefix:r,suffix:n,delimiter:o,quoted:s}=e.length>2?{...a,...e[2]}:a,l=s?`"${e[1]}"`:e[1];i+=`${r}${e[0]}${o}${l}${n}
`}}),i}e.copyPairs=n;let i=["true","false","nil","null"];function a(e,r){return`var(--${function(e){var r;let n=e.replace(/[\u007F-\uFFFF]/g,"").replace(/\'/g,"").replace(/\"/g,"").replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ").trim().replace(/[\s\/]+/g,"-");if(n.match(/^[-A-Za-z0-9_]*$/))return n;let i=(r=n,lI()(r.replace(/['\u2019]/g,"")).reduce((e,r,n)=>n?e+lv()(r):e+r,"")).replace(/[A-Z]+(?![a-z])|[A-Z]|[0-9]+/g,(e,r)=>(0!==r?"-":"")+e.toLowerCase()).replace(/^[^A-Za-z0-9\-]+/,"");return""===i?"unnamed":i}(r)}, ${e})`}e.unquoteEnumerableValues=function(e){return e.map(e=>{let[r,n]=e;return"string"==typeof n&&i.includes(n.toLowerCase())?[r,n,{quoted:!1}]:e})};let o=(e,r,n)=>{let{paint:i}=e,{variable:o}=e.variable??{};switch(i.type){case"SOLID":if(1===n){let r=e.valueFormatter(e.colors[0],{hexCSSValue:!0});return o?a(r,o.name):r}return function(e,r){let n=eT.phr.convertGradientPaintToCSS(e.encodedPaint);return(r?n.replace(/(#[a-f0-9]{6})|(rgba\(\d{1,3}, \d{1,3}, \d{1,3}, \d\.\d{1,2})/gi,e=>a(e,r.name)):null)??n}(e,o);case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":case"GRADIENT_ANGULAR":return eT.phr.convertGradientPaintToCSS(e.encodedPaint)}};function s(e,r){var n;return null==(n=null==e?void 0:e.map(n=>o(n,r,(null==e?void 0:e.length)||0)))?void 0:n.join(",\n")}e.copyColors=s;let l={MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"},d=(e=[])=>e.flatMap(e=>e.type===lA.STYLE?e.paints:e),c="background";e.useCopyAllColors=function(e,r){let i=(0,eJ.d4)(e=>e.mirror.selectionProperties.numSelected)||0,a=d(e),u=ep.useCallback(()=>{if(1===i&&a){let e=new Set;if(a.forEach(r=>{r.paint.blendMode&&e.add(r.paint.blendMode)}),e.size<=1){let i=s(a,r),o=[];i&&o.push([c,i]);let d=[...e],u=d[0]?l[d[0]]:void 0;return u&&o.push(["background-blend-mode",u]),n(o,{suffix:";"})}}return n(a.reduce((e,n)=>{let i=n.paint.blendMode,a=i?l[i]:void 0;a&&e.push(["background-blend-mode",a]);let s=o(n,r,1),d=s?[c,s]:void 0;return d&&e.push(d),e},[]).filter(e=>e).map(e=>e),{suffix:";"})},[a,i,r]);return a?u:void 0};let u=(r,i,a,o)=>{let s=i.includes(" "),l=d(a),c=l.length>1||1===l.length&&"SOLID"!==l[0].paint.type,u=e.copyColors(l,r);if(!c&&!s)return`${o??"border"}: ${i} solid ${u}`;let p=s?[["border-width",i],["border-style","solid"]]:[[`${o??"border"}`,`${i} solid`]];return u&&p.push(c?["border-image-source",u]:["border-color",u]),n(p,{suffix:";\n"})};e.useStrokeCopyValue=function(e,r,n){let i=(0,nk.Ku)(),a=d(r);return ep.useMemo(()=>u(i,e,a,n),[i,e,a,n])},e.useCopyAllStrokes=function(e){let r=(0,nk.Ku)();return ep.useMemo(()=>e.map(e=>u(r,e.strokeWeight,e.strokeColors,e.borderCSSKey)).join("\n"),[r,e])};let p=e=>e.map(e=>void 0===e?"":`${e}px`),h=(r,i,a)=>{var o,s;if("FOREGROUND_BLUR"===r.type||"BACKGROUND_BLUR"===r.type)return n([["backdrop-filter",`blur(${r.radius}px)`]]);let l=e.copyColors(i,a);if(!r.offset)return;let d=p([lR(null==(o=r.offset)?void 0:o.x),lR(null==(s=r.offset)?void 0:s.y),lR(r.radius),lR(r.spread)]).join(" "),c=l?` ${l}`:"",u="INNER_SHADOW"===r.type?" inset":"";return n([["box-shadow",`${d}${c}${u}`]],{suffix:";"})};e.useCopyShadow=function(e){var r,n;let i=(0,nk.Ku)(),a=(r=e.color,function(e){let r=lN();return ep.useMemo(()=>e.map(({color:e,colorVar:n})=>{let i=[e],a={color:e,opacity:e.a,type:"SOLID"};return n&&(a.colorVar=n),{type:lA.RAW,encodedPaint:(0,lC.fZ)(a),paint:a,colors:i,typeFormatter:lO,valueFormatter:r}}),[e,r])}(ep.useMemo(()=>r?[{color:r,colorVar:void 0}]:[],[n,r])));return ep.useMemo(()=>h(e,a,i),[e,a,i])},e.useCopyAllShadows=function(e){let r=(0,nk.Ku)(),n=function(e,r){let n=lN();return ep.useMemo(()=>e.map(e=>{let i=r(e);if(!i)return{value:e,color:void 0};let a=[i],o={color:i,opacity:i.a,type:"SOLID"};return{value:e,color:{type:lA.RAW,encodedPaint:(0,lC.fZ)(o),paint:o,colors:a,typeFormatter:lO,valueFormatter:n}}}),[r,e,n])}(e,e=>e.color);return ep.useCallback(()=>n.filter(e=>e.color).map(e=>h(e.value,[e.color],r)).join("\n"),[n,r])};let m=(e,r,n)=>{switch(e){case"Linear":return"linear";case"Ease in":return"ease-in";case"Ease out":return"ease-out";case"Ease in and out":return"ease-in-out";case"Ease in back":return"cubic-bezier(0.3, -0.05, 0.7, -0.5)";case"Ease out back":return"cubic-bezier(0.45, 1.45, 0.8, 1)";case"Ease in and out back":return"cubic-bezier(0.7, -0.4, 0.4, 1.4)";default:if(void 0==e)return;if(r){if(n)return`{ mass: ${n[0]}, stiffness: ${n[1]}, damping: ${n[2]} }`;return e}return`cubic-bezier(${e})`}},g=e=>`${function(e,r){return e&&Number(e).toLocaleString("en",{maximumFractionDigits:2,useGrouping:!1})}(1e3*e,0)}ms`,f=r=>{let n=`// ${r.event}
`,i=r.action,a=[];return r.delay&&a.push(["animation-delay",g(r.delay)]),r.action&&(a.push([`// ${null==i?void 0:i.action}`,`"${(null==i?void 0:i.value)??""}"`]),(null==i?void 0:i.hasAnimation)&&(a.push(["// Animate",(null==i?void 0:i.animation)??""]),(null==i?void 0:i.isSpringTransition)?a.push(["// Spring",m(null==i?void 0:i.curve,null==i?void 0:i.isSpringTransition,null==i?void 0:i.curveFunction)]):(a.push(["animation-timing-function",m(null==i?void 0:i.curve)]),a.push(["animation-duration",g(i.duration??0)])))),n+e.copyPairs(a,{suffix:";"})};e.useCopyAllInteractions=function(e){return ep.useCallback(()=>e.map(e=>f(e)).join("\n"),[e])};let _=e=>{let r;let i=e.image.name,a=`${i}.${e.animatedImage?"gif":"png"}`;return n([[`// ${e.animatedImage?"GIF":"Image"}`,i],["background",`url("${a}")`],["background-size","FILL"==(r=e.imageScaleMode)?"cover":"FIT"==r?"contain":void 0],["opacity",e.opacity<1?e.opacity.toFixed(2):void 0],["background-blend-mode",l[e.blendMode]]],{suffix:";"})};e.useCopyImages=function(e){return ep.useCallback(()=>e.map(e=>_(e)).join("\n"),[e])}})(ed||(ed={}));var lx=n(84321),lF=n(49116),lU=n(73454);let lB=e=>e.visible&&!(0,aK.ty)(e.color),lV={background:"#383838"},lH={background:"#f5f5f5"},lG={};var lW=n(97306),lz=n(7956),lK=n(197),lj=n(19882),lY=n(20722),l$=n(96796);function lq(e){return ep.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M7.121 10.121 9.243 8 7.12 5.879"}))}function lZ(e){return ep.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinejoin:"round",d:"M8 3H4.5a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V7M8 3l4 4M8 3v3.5a.5.5 0 0 0 .5.5H12"}))}function lX(e){return ep.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},ep.createElement("mask",{id:"fpl-icon-16-home-a",fill:"#fff"},ep.createElement("path",{fillRule:"evenodd",d:"M8.646 2.548a1 1 0 0 0-1.293 0L3.354 5.93A1 1 0 0 0 3 6.695V12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 1 2 0v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V6.703a1 1 0 0 0-.353-.762l-4-3.393Z",clipRule:"evenodd"})),ep.createElement("path",{fill:"var(--color-icon)",d:"m7.353 2.547-.646-.763.646.763Zm1.293 0 .647-.762-.647.763ZM3.354 5.932l-.646-.763.646.763ZM4 13v-1 1Zm8 0v-1 1Zm.647-7.06.646-.762-.646.763ZM6 13v1-1Zm2-9.69 1.293-1.525a2 2 0 0 0-2.586-.001L8 3.31ZM4 6.696 8 3.31 6.706 1.784 2.708 5.168 4 6.695Zm0 0L2.708 5.168A2 2 0 0 0 2 6.695h2ZM4 12V6.695H2V12h2Zm0 0H2a2 2 0 0 0 2 2v-2Zm2 0H4v2h2v-2Zm2 0v-2H6v2h2Zm0-2V8a2 2 0 0 0-2 2h2Zm0 0h2a2 2 0 0 0-2-2v2Zm0 0v2h2v-2H8Zm4 2h-2v2h2v-2Zm0 0v2a2 2 0 0 0 2-2h-2Zm0-5.297V12h2V6.703h-2Zm0 0h2a2 2 0 0 0-.707-1.525L12 6.703ZM8 3.311l4 3.392 1.293-1.525-4-3.393-1.294 1.526ZM8 12a2 2 0 0 0 2 2v-2H8Zm-2 2a2 2 0 0 0 2-2H6v2Z",mask:"url(#fpl-icon-16-home-a)"}))}var lJ=n(1140);function lQ(e){return ep.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},ep.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M8.5 2.568c0-.295.252-.529.543-.478.347.061.684.152 1.009.27.277.1.379.43.231.685a.544.544 0 0 1-.652.227 4.962 4.962 0 0 0-.68-.181.544.544 0 0 1-.451-.523Zm-4.953 8.58a.543.543 0 0 1 .677.13c.154.177.32.344.498.498.196.17.259.453.13.677-.148.256-.484.332-.71.142a6.029 6.029 0 0 1-.737-.737c-.19-.226-.114-.562.142-.71Zm2.822 1.58a.544.544 0 0 0-.652.227.47.47 0 0 0 .231.685c.324.118.662.209 1.01.27a.47.47 0 0 0 .542-.478.544.544 0 0 0-.452-.522 4.967 4.967 0 0 1-.68-.182Zm5.49-9.323a.47.47 0 0 0-.71.142.544.544 0 0 0 .129.677c.177.154.344.32.498.498.17.196.453.259.677.13.256-.148.332-.484.142-.71a6.028 6.028 0 0 0-.737-.737Zm1.096 6.878a.47.47 0 0 0 .685-.231c.118-.324.209-.662.27-1.01a.47.47 0 0 0-.478-.542.544.544 0 0 0-.523.452 4.81 4.81 0 0 1-.181.679.544.544 0 0 0 .227.652Zm-.36 1.575c.19-.226.114-.562-.142-.71a.544.544 0 0 0-.677.13c-.154.177-.32.344-.498.498a.543.543 0 0 0-.13.677c.148.256.484.332.71.142.267-.224.513-.47.737-.737Zm-2.543 1.782c.277-.1.379-.43.231-.685a.544.544 0 0 0-.652-.227c-.22.076-.447.137-.68.182a.544.544 0 0 0-.451.522c0 .295.252.529.543.478a5.972 5.972 0 0 0 1.009-.27ZM5.717 3.045c.13.225.407.312.652.227.22-.076.447-.137.68-.181a.544.544 0 0 0 .45-.523c0-.295-.252-.529-.542-.478a5.972 5.972 0 0 0-1.009.27c-.277.1-.379.43-.231.685Zm-1.575.36c.226-.19.562-.114.71.142a.543.543 0 0 1-.13.677 5.03 5.03 0 0 0-.498.498.543.543 0 0 1-.677.13c-.256-.148-.332-.484-.142-.71.224-.267.47-.513.737-.737ZM3.045 5.717a.47.47 0 0 0-.685.231 5.957 5.957 0 0 0-.27 1.01.47.47 0 0 0 .478.542c.26 0 .473-.197.522-.452.045-.232.106-.46.182-.679a.544.544 0 0 0-.227-.652ZM2.568 8.5c-.295 0-.529.252-.478.543.061.347.152.685.27 1.009.1.277.43.379.685.231a.544.544 0 0 0 .227-.652 4.962 4.962 0 0 1-.182-.68.544.544 0 0 0-.522-.451Zm10.864-1a.544.544 0 0 1-.523-.452 4.98 4.98 0 0 0-.181-.679.544.544 0 0 1 .227-.652.47.47 0 0 1 .685.231c.118.324.209.662.27 1.01a.47.47 0 0 1-.478.542Z",clipRule:"evenodd"}))}function l0(e){return ep.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},ep.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 5a3 3 0 0 1 6 0v2.025c.57.116 1 .62 1 1.225v3.5c0 .69-.56 1.25-1.25 1.25h-5.5C4.56 13 4 12.44 4 11.75v-3.5C4 7.56 4.56 7 5.25 7H10V5a2 2 0 1 0-4 0 .5.5 0 0 1-1 0Zm.25 3a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25h-5.5Z",clipRule:"evenodd"}))}var l1=n(61726),l2=n(3910),l3=n(18549),l5=n(86653),l4=n(53234),l6=n(22739),l8=n(46481),l7=n(48425),l9=n(20341);n(62442);var de=n(31770);n(6573),n(57630);var dt=n(72429);let dr=(0,eF.eU)({});(0,eF.eU)({autoScroll:!1});var dn=n(43341),di=n(96328);let da="object_row--layerIcon--dTOdu",ds="object_row--indents--Ygab2",dl="object_row--indent--uZlad";var dd=n(84248);function dc({modeNames:e}){let r=(0,tJ.GS)();if(0===e.length)return null;let n=1===e.length?e[0]:e[0]+" + "+(e.length-1);return ep.createElement("div",{className:"object_row--pill--vjBgt ellipsis--ellipsis--Tjyfa","data-testid":"variable-mode-pill","data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("variables.mode_pill.tooltip",{listOfModes:(0,di.Yx)(e)})},!r&&ep.createElement(sR.B,{className:"object_row--pillIcon--giHMd",svg:dd.A}),ep.createElement("div",{className:"object_row--pillContent--mOEJM ellipsis--ellipsis--Tjyfa"},n))}var du=n(20396),dp=n(78762),dh=n(41944),dm=((G=dm||{}).Object="OBJECT",G.Webpage="WEBPAGE",G);(0,l5.xx)((e,r)=>{let n=1/0;return(0,dp.YI)(e,r,r=>{r&&(n=Math.min(n,(0,lW.F0)(e,r.guid)))}),n===1/0&&(n=0),n});var dg=n(49207),df=n(32023),d_=n(59476),dy=n(8974),dE=n(7018),db=n(77424),dv=n(79641),dS=n(38472),dI=n(11254),dT=n(4754),dw=n(8026),dC=n(33891),dA=n(64300),dN=n(63634),dO=n(54037),dR=n(16198),dP=n(43043),dL=n(77499),dD=n(62725),dM=n(68109),dk=n(98902),dx=n(51232),dF=n(21458),dU=n(81033),dB=n(51912),dV=n(87337),dH=n(82046),dG=n(71068),dW=n(71676),dz=n(4605),dK=n(39967),dj=n(53099),dY=n(17925),d$=n(53993),dq=n(12109),dZ=n(82354),dX=n(36902),dJ=n(16014),dQ=n(35534),d0=n(13601),d1=n(24204),d2=n(1127),d3=n(85645),d5=n(28099),d4=n(30351),d6=n(54593),d8=n(63699),d7=n(51395),d9=n(94891),ce=n(38894),ct=n(29005),cr=n(72661),cn=n(69688),ci=n(76449),ca=n(48844),co=n(28517),cs=n(96922),cl=n(13888),cd=n(31800),cc=n(91151),cu=n(952),cp=n(42284),ch=n(97447),cm=n(53696),cg=n(60257),cf=n(53560),c_=n(607),cy=n(44919),cE=n(18208);function cb(e){let r=e.stackMode;return"HORIZONTAL"===r||"VERTICAL"===r}function cv(e){return void 0!==e.objectsPanelThumbnailId}function cS(e){switch(e.stackMode){case"HORIZONTAL":if("WRAP"===e.stackWrap)switch(e.stackPrimaryAlignItems){case"MIN":case"SPACE_EVENLY":case"SPACE_BETWEEN":case void 0:return cr.A;case"CENTER":return ct.A;case"MAX":return cn.A;default:(0,eh.xb)(e.stackPrimaryAlignItems)}else switch(e.stackCounterAlignItems){case"BASELINE":case"MIN":case void 0:return d8.A;case"CENTER":return d6.A;case"MAX":return d4.A;default:(0,eh.xb)(e.stackCounterAlignItems)}case"VERTICAL":switch(e.stackCounterAlignItems){case"BASELINE":case"MIN":case void 0:return d9.A;case"CENTER":return d7.A;case"MAX":return ce.A;default:(0,eh.xb)(e.stackCounterAlignItems)}}return dL.A}class cI extends l4.o6{render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:dh.n},r="object_row--row--HIYa5 object_row--sectionHeader--zQXE-";return this.props.isParentSelected&&(r+=" object_row--parentSelected--3BKJf"),this.props.isDescendantOfSymbol&&(r+=" object_row--symbolChild---MVid"),this.props.isDescendantOfInstance&&(r+=" object_row--instanceChild--xUcM4"),ep.createElement("div",{className:r,style:e},function(e){let r=[];for(let n=0;n<e+1;n++)r.push(ep.createElement("span",{key:n,className:dl}));return ep.createElement("span",{className:ds},r)}(this.props.level),this.props.sectionType===eT.KjJ.FIXED?(0,eb.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,eb.t)("fullscreen.properties_panel.scrolls"))}}function cT(e){let r=tf.qo.instance.get(e.guid),n=r?r.responsiveNodeRange:null,i=!!r&&r.isPrimaryResponsiveNode;return n?ep.createElement("div",{className:eV.cx.flex.$},n&&ep.createElement("span",{className:eV.cx.colorTextSecondary.pr2.$},`${(e=>{if(!e)return"";let{minWidth:r,maxWidth:n}=e,i=n&&isFinite(n)?` \u2013 ${n}`:" + ";return`${r??1}${i}`})(n)}${i?" \xb7 ":""}`),i&&ep.createElement("span",{className:eV.cx.colorTextBrand.$},(0,eb.t)("sites.panel.main"))):null}cI.displayName="SectionRow";class cw extends ep.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let r=0;r<this.props.level+1;r++){let n=`[${r}]`,i=-1!==this.props.isLastMaskedAtLevels.indexOf(n),a=-1!==this.props.isMaskedAtLevels.indexOf(n),o=r===this.props.level&&this.props.mask,s=r===this.props.level&&this.props.hasChildren,l="object_row--mask--IWyZa";this.props.displayOrder===l9.kH.DOM&&(l+=" object_row--reversed--tdfT2"),o||a||i?i?e.push(ep.createElement(sR.B,{key:r,svg:s?dY.A:d$.A,className:l})):a?e.push(ep.createElement(sR.B,{key:r,svg:s?dj.A:dK.A,className:l})):o&&e.push(ep.createElement(sR.B,{key:r,svg:s?dW.A:dG.A,className:l})):e.push(ep.createElement("span",{key:r,className:dl})),s&&e.push(ep.createElement(l6.D8,{key:"expand-caret",recordingKey:l4.Pt(this.props,"expandCaret"),className:this.props.isExpanded?"object_row--expandCaretOpen---HMjs object_row--expandCaret--f1MjE object_row--indent--uZlad":"object_row--expandCaret--f1MjE object_row--indent--uZlad",onMouseDown:this.expandMouseDown,role:"presentation"},ep.createElement(l8.U,{svg:this.props.isExpanded?dg.A:df.A},this.props.isExpanded?ep.createElement(l$.O,null):ep.createElement(lq,null))))}return e}render(){return ep.createElement("span",{className:ds},this.renderNodeIndents())}}cw.displayName="Indents";let cC=new l3.q(750);(e=>{function r(e,r){var n;if(!e)return dJ.A;let i=e.type;switch((0,lW.GI)(e)&&(i="STAMP"),i){case"BOOLEAN_OPERATION":switch(e.booleanOperation){case"UNION":return dA.A;case"INTERSECT":return dw.A;case"SUBTRACT":return dC.A;case"XOR":return dN.A;default:return dJ.A}case"VECTOR":return cg.A;case"STAR":return ca.A;case"LINE":return dF.A;case"ELLIPSE":return dR.A;case"RECTANGLE":break;case"REGULAR_POLYGON":return dX.A;case"ROUNDED_RECTANGLE":return 0===e.cornerRadius?dJ.A:dQ.A;case"TEXT":return cp.A;case"SLICE":return d3.A;case"GROUP":case"FRAME":if((0,dt.oz)()&&cv(e)&&e.isResponsiveSet)return ep.createElement(lZ,null);if((0,dt.oz)()&&cv(e)&&(null==(n=e.parentNode)?void 0:n.isResponsiveSet))return e.size.x,!1;if(e.isStateGroup)return cl.A;if(cb(e))return cS(e);else if(e.resizeToFit)return dD.A;else return dL.A;case"MODULE":return cc.A;case"SYMBOL":if((0,e2.kc)().dse_templates_proto&&cv(e)&&e.isTemplate)return cc.A;if(cv(e)&&e.isState||(null==r?void 0:r.isStateGroup))return cd.A;return cl.A;case"INSTANCE":return dM.A;case"STICKY":return co.A;case"SHAPE_WITH_TEXT":return d1.A;case"CONNECTOR":return dO.A;case"STAMP":return ci.A;case"SECTION":return d0.A;case"WIDGET":{let r=e.guid?tf.qo.instance.get(e.guid.toString()):null;if(r&&"EMBED_WIDGET"===r.widgetId)return dP.A;if(r&&"LINK_PREVIEW_WIDGET"===r.widgetId)return dU.A;return cf.A}case"CANVAS":return dq.A;case"TABLE":return cu.A;case"SLIDE":return d5.A}return dJ.A}function n(e){let r=(0,l5.xx)((e,r)=>{let n;return(n=cC.get(e))&&n.thumbnailId===r||(n={thumbnailId:r,svg:de.NO(e)},cC.set(e,n)),n.svg}),{guid:n,node:i,isMenuIcon:a,isMenuIconPurple:s,className:l,editModeType:d,detachedInfo:c}=e,u=i?r(n,i.objectsPanelThumbnailId):"",p=null==i?void 0:i.hasEnabledAnimatedPaint,h=null==i?void 0:i.hasEnabledVideoPaint,m=null==i?void 0:i.isLiveObject;return ep.createElement(o,{className:l,node:i,isMenuIcon:a,isMenuIconPurple:s,thumbnailSrc:u,onDoubleClick:()=>{e.node&&(e.navigateAndPanTo?e.navigateAndPanTo(e.node.guid):eT.glU.panToNode(e.node.guid))},animated:p||h,staticImage:null==i?void 0:i.hasEnabledStaticImagePaint,editModeType:d,detachedInfo:c,isLiveObject:m,isDefaultResponsiveSet:e.isDefaultResponsiveSet})}e.defaultIconSrcForNode=r,e.LayerIcon=n,n.displayName="LayerIcon";let i=e=>e.mirror.sceneGraph;e.ConnectedLayerIcon=function(e){let r=(0,eJ.d4)(i);return ep.createElement(n,{...e,node:r.get(e.guid)||null})};class a extends ep.PureComponent{getAllPaints(e){return[...e.fillPaints||[],...e.strokePaints||[],...e.backgroundPaints||[]]}renderBaseIcon(){let{node:e,parentNode:r,isMenuIcon:n,isMenuIconPurple:i,className:a}=this.props;return ep.createElement(o,{className:a,node:e,parentNode:r,isMenuIcon:n,isMenuIconPurple:i,animated:this.hasEnabledAnimatedPaintNodeChange(e),staticImage:this.hasEnabledStaticPaintNodeChange(e)})}renderVariableIcon(){let{variableResolvedType:e}=this.props.node;return null==e?this.renderBaseIcon():ep.createElement(du.i,{type:e})}renderVariableCollectionIcon(){return ep.createElement(sR.B,{svg:cE.A,className:this.props.className,autosize:!0})}renderStyleIcon(){let{node:e,className:r}=this.props;switch(e.styleType){case"GRID":let n=oc(e);return ep.createElement(sR.B,{svg:n,className:r,autosize:!0,width:"10px"});case"FILL":return ep.createElement(sR.B,{svg:dE.A,className:r});case"EFFECT":return ep.createElement(sR.B,{svg:dy.A,className:r});case"TEXT":return ep.createElement(sR.B,{svg:db.A,className:r});default:return this.renderBaseIcon()}}hasEnabledAnimatedPaintNodeChange(e){for(let r of this.getAllPaints(e))if(r.animatedImage)return!0;return!1}hasEnabledStaticPaintNodeChange(e){for(let r of this.getAllPaints(e))if(r.image)return!0;return!1}render(){let{node:e,className:r}=this.props;return e.styleType?this.renderStyleIcon():"VARIABLE"===e.type?this.renderVariableIcon():"VARIABLE_SET"===e.type?this.renderVariableCollectionIcon():"CANVAS"===e.type?ep.createElement(sR.B,{svg:dv.A,className:r}):this.renderBaseIcon()}}e.NodeChangeIcon=a;class o extends ep.PureComponent{render(){let e,n;let{node:i,parentNode:a,animated:o,staticImage:s,thumbnailSrc:l,isMenuIcon:d,isMenuIconPurple:c,onDoubleClick:u,editModeType:p,detachedInfo:h,isLiveObject:m}=this.props;if(!i)return null;let g=da;l&&(g="object_row--customLayerIcon--SlCXj object_row--layerIcon--dTOdu"),d&&(g=c?"object_row--customComponentMenuLayerIcon--SWH-7 object_row--layerIcon--dTOdu":"object_row--customMenuLayerIcon--JK53S object_row--layerIcon--dTOdu");let f=!1;this.props.isDefaultResponsiveSet?e=ep.createElement(lX,null):i.mask?e=dz.A:(o||s)&&(0,lW.oY)(i.type)&&!(0,lW.GI)(i)?e=o?dk.A:dx.A:l?e=(0,sR.V)(l):p===eT.m1T.DEV_HANDOFF&&(null==h?void 0:h.status)==="loaded"&&"SYMBOL"!==i.type&&"INSTANCE"!==i.type?(e=d_.A,f=!0):m?e=dB.A:(e=r(i,a),n=function(e){if(e)switch(e.type){case"TEXT":return ch.A;case"STICKY":return cs.A;case"SHAPE_WITH_TEXT":return d2.A;case"FRAME":if(cb(e))return cS(e);break;case"CANVAS":return dZ.A}}(i));let _=!f&&"ABSOLUTE"===i.stackPositioning&&ep.createElement(sR.B,{className:"object_row--iconOverlay--gPp-S",svg:dT.A});return ep.createElement("span",{className:ek()(this.props.className||g,"object_row--iconWrapper--ivRSW"),onDoubleClick:u},"string"==typeof e?ep.createElement(l7.t,{svg:e,fallbackSvg:n}):ep.createElement("span",{style:{stroke:"none",fill:"none"}},e),_)}}e.LayerIconBase=o})(ec||(ec={}));let cA=ec.ConnectedLayerIcon,cN=ec.NodeChangeIcon;class cO extends l4.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=l4.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,r,n;return this.props.locked?(e=dV.A,r=dH.A,n=ep.createElement(lJ.s,null)):this.props.isAncestorLocked?(e=dS.A,n=ep.createElement(lQ,null)):(e=cm.A,n=ep.createElement(l0,null)),n=this.props.locked?ep.createElement(lJ.s,null):this.props.isAncestorLocked?ep.createElement(lQ,null):ep.createElement(l0,null),ep.createElement("div",{className:"object_row--lockIcon--dNgaR",onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},ep.createElement(l8.U,{svg:e,fallbackSvg:r},n))}}cO.displayName="LockIcon";class cR extends l4.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=l4.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,r;return this.props.isAncestorHidden&&this.props.visible?(e=dS.A,r=ep.createElement(lQ,null)):(e=this.props.visible?cy.A:c_.A,r=this.props.visible?ep.createElement(l1.l,null):ep.createElement(l2.f,null)),r=this.props.isAncestorHidden&&this.props.visible?ep.createElement(lQ,null):this.props.visible?ep.createElement(l1.l,null):ep.createElement(l2.f,null),ep.createElement("div",{className:"object_row--visibleIcon--llitv",onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},ep.createElement(l8.U,{svg:e},r))}}cR.displayName="VisibleIcon";let cP="dev_handoff_layers_row--layerName--CzJdZ text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",cL="dev_handoff_layers_row--containerRow--uZVzA",cD="dev_handoff_layers_row--layerIcon--8euym",cM="dev_handoff_layers_row--symbolName--LwyLl",ck=(0,eF.eU)(new Map);function cx(e){let{isHovered:r,selection:n}=(0,sz.R)(r=>({isHovered:r.mirror.appModel.hoveredNode===e.guid,selection:r.mirror.sceneGraphSelection})),i=ep.useRef(null);ep.useEffect(()=>{i.current&&e.isSelected&&i.current.scrollIntoView({block:"nearest"})},[e.isSelected]);let a="SYMBOL"===e.type||"INSTANCE"===e.type||e.isInstanceSublayer||e.isSymbolSublayer||cU.includes(e.type),o=["dev_handoff_layers_row--row--Sf-pu",e._className];e.isSelected&&o.push("dev_handoff_layers_row--selected--4S-YI"),r&&o.push("dev_handoff_layers_row--hovered--s8qfN"),a&&o.push("dev_handoff_layers_row--symbol--935Qs"),e.isExpanded(e.guid)&&o.push("dev_handoff_layers_row--expanded--r2n2e"),e.isAncestorSelected&&o.push("dev_handoff_layers_row--ancestorSelected--bXTWi"),0!==e.indentation&&o.push("dev_handoff_layers_row--childRow--wKJmA");let s=Array.from({length:e.indentation},(e,r)=>r+1);return ep.createElement("div",{onMouseDown:r=>{e.didSelectRow(e.guid);let i=Object.keys(n);if(rV.zl.set(lj.J,!1),r.metaKey){var a;n[a=e.guid]?tM.D$([a]):tM.Dh([a])}else r.shiftKey&&i.length>0?tM.GL(i[i.length-1],e.guid):eT.w3z.selectAndPanToNode(e.guid)},onDoubleClick:r=>e.isExpandable&&e.toggleExpanded(r,e.guid),onContextMenu:r=>e.openContextMenu(r,e.guid),onMouseEnter:()=>tM.Uc(e.guid),onMouseLeave:()=>tM.Uc(tM.Hr),role:"button",tabIndex:0,className:ek()(o),ref:i,"data-fullscreen-intercept":!0},s.map(e=>ep.createElement("div",{key:e,className:"dev_handoff_layers_row--indentation--B4znn"})),e.children)}function cF(e){return ep.createElement(sR.B,{onMouseDown:e.visible?r=>{var n;r.preventDefault(),r.stopPropagation(),null==(n=e.onMouseDown)||n.call(e,r)}:void 0,className:ek()("dev_handoff_layers_row--expandCaret--Dnb2t",e.visible&&"dev_handoff_layers_row--visible--r9uwE"),svg:e.expanded?dg.A:df.A,dataTestId:`devHandoffLayersRow.toggle-${e.name}`})}let cU=["TABLE","TABLE_CELL","WASHI_TAPE","STAMP","STICKY","SHAPE_WITH_TEXT","WIDGET"];function cB(e,r){let n=(null==e?void 0:e.type)??s3.PW.NOT_ASSET,i=n&(s3.PW.ASSET_IMAGE|s3.PW.ASSET_ICON);return r?i:n&s3.PW.ASSET_IMAGE}function cV(e){return"SYMBOL"===e||"INSTANCE"===e}function cH({guid:e}){let r=(0,rV.md)(ck).get(e);if(!r)return null;let n=r.state;return"added"===n?ep.createElement("div",{className:"dev_handoff_layers_row--added--G0neQ"}):"changed"===n?ep.createElement("div",{className:"dev_handoff_layers_row--changed--yAch4"}):"removed"===n?ep.createElement("div",{className:"dev_handoff_layers_row--removed--DpRR3"}):null}function cG(e){return ep.createElement(cx,{...e,_className:e.hasChildren?cL:void 0},ep.createElement(cF,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(e.guid),onMouseDown:r=>e.toggleExpanded(r,e.guid),name:e.name}),ep.createElement(cA,{className:cD,guid:e.guid}),ep.createElement("span",{className:cP},e.name," ",e.showGuids&&` (${e.guid})`),ep.createElement(cH,{guid:e.guid}))}function cW(e){return ep.createElement(cx,{...e,_className:cL},ep.createElement(cF,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(e.guid),onMouseDown:r=>e.toggleExpanded(r,e.guid),name:e.name}),ep.createElement(cA,{className:cD,guid:e.guid}),ep.createElement("span",{className:cP},e.name," ",e.showGuids&&` (${e.guid})`),ep.createElement(cH,{guid:e.guid}))}function cz(e){var r,n;let i;let a=(0,s2.eY)(),o=e.inheritedTextStyle;if(o){let e=eT.glU.getStyleNodeId(o.key,o.version);i=null==(r=a.get(e))?void 0:r.name}let s=e.isInstanceSublayer?e.name===(null==(n=e.textContent)?void 0:n.trim().replace(/\s+/gm," ")):e.autoRename;return ep.createElement(cx,{...e,_className:"dev_handoff_layers_row--textRow--jmbU1"},ep.createElement(cF,{visible:!1,expanded:!1,name:e.name}),ep.createElement(cA,{className:cD,guid:e.guid}),s?null:ep.createElement("span",{className:cP},e.name," ",e.showGuids&&` (${e.guid})`),ep.createElement("span",{className:"dev_handoff_layers_row--textContent--Pq04J text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.textContent),ep.createElement("span",{className:"dev_handoff_layers_row--styleName--gJxnU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"}," \xb7 ",i),ep.createElement(cH,{guid:e.guid}))}function cK(e){return ep.createElement(ep.Fragment,null,ep.createElement(cA,{className:ek()(cD,cM,{"dev_handoff_layers_row--constrainSize--TzqFN":!e.figJam}),guid:e.guid}),ep.createElement("span",{className:ek()(cP,cM)},e.name,e.showGuids&&` (${e.guid})`))}function cj(e){let r=e.guid;return ep.createElement(cx,{...e},ep.createElement(cF,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(r),onMouseDown:n=>e.toggleExpanded(n,r),name:e.name}),ep.createElement(cK,{guid:r,name:e.name,showGuids:e.showGuids}),ep.createElement(cH,{guid:e.guid}))}function cY(e){let r=e.guid;return ep.createElement(cx,{...e},ep.createElement(cF,{visible:!1,expanded:!1,onMouseDown:sK.lQ,name:e.name}),ep.createElement(cK,{guid:r,name:e.name,showGuids:e.showGuids,figJam:!0}),ep.createElement(cH,{guid:e.guid}))}function c$(e){let{assetInfo:r}=e;return r?ep.createElement(cq,{...e,assetInfo:r}):ep.createElement(cG,{...e})}function cq(e){let{assetInfo:r}=e,n=r.type&s3.PW.ASSET_IMAGE||e.hasEnabledStaticImagePaint,i=function({assetId:e,thumbnailVersion:r,width:n,height:i,scale:a}){var o;let s=function({assetId:e,width:r,height:n,scale:i}){return`${e}-${r}x${n}@${i}x`}({assetId:e,width:n,height:i,scale:a}),[l,d]=ep.useState(null==(o=lG[s])?void 0:o.url),c="dark"===function(e){let r=ep.useMemo(()=>new tf.qo,[]),n=function(e){let r=lP(),n=(0,eJ.d4)(lx.FZ),i=(0,eJ.d4)(lF.c5);return(0,ax.NY)(e,r,n,i)}(e),i=(0,e5.DP)(),a=function(e){let r=(0,eJ.d4)(e=>(function(e){let r=Object.keys(e);return 1!==r.length?null:r[0]||null})(e.mirror.sceneGraphSelection)),n=e??r;return n?(0,sj.ZC)(n):s3.PW.NOT_ASSET}(e);return ep.useMemo(()=>{var o;let s=(null==(o=null==n?void 0:n.containing_frame)?void 0:o.backgroundColor)??"";(null==n?void 0:n.type)===lU.PW.STATE_GROUP&&n.fill_color&&(s=n.fill_color);let l=i&&("light"===i||"dark"===i)?i:"dark",d="light"===l?"dark":"light";if(!e)return s&&!(0,aK.ty)(s)?(0,aK.HD)(s)?"dark":"light":l;if((0,e2.kc)().dt_component_bg_improvements){let r=eT.w3z.getApproximateNodeColor(e);if(r)return(0,aK.BU)(r,l)?d:l}if(s&&!(0,aK.ty)(s))return(0,aK.HD)(s)?"dark":"light";let c=function e(r,n,i){let a=lL(r,n);if(!a)return;let o=[];if(a.visible){if(i){o.push(...a.strokePaints.data);let e=a.fillPaints.data.filter(lB);if(e.length)return(0,aK.AW)(e)}else{let e=[...a.fillPaints.data,...a.strokePaints.data].filter(lB);if(e.length)return(0,aK.AW)(e)}}for(let n of a.childrenGuids){let a=e(r,n,i);if(a)return a}if(i)return(0,aK.AW)(o)}(r,e,!(a&s3.PW.ASSET_ICON));return c&&(0,aK.BU)(c,i)?d:l},[a,e,n,r,i])}(e)?lV:lH;return(ep.useEffect(()=>{let o=async()=>{var o;await (0,t6.Jr)().loadAllImagesUnder([e],eT.MoD.NON_ANIMATED_ONLY,"handoff.assetPreview");let[l,c]=eT.Vzr.generateThumbnailForNode(e,n,i,a,{});if(c.length>0){let e=null==(o=null==lG?void 0:lG[s])?void 0:o.url;e&&URL.revokeObjectURL(e);let n=URL.createObjectURL(new Blob([c]));lG[s]={url:n,version:r,error:null},d(n)}},l=!!(null==lG?void 0:lG[s]),c=l&&lG[s].version!==r,u=l&&!!lG[s].error;l&&(!c||u)||o().catch(e=>{lG[s]={error:e},console.error(e)})},[e,i,a,n,s,r]),l)?{url:l,backgroundStyle:c}:{backgroundStyle:c}}({assetId:e.guid,thumbnailVersion:r.thumbnailVersion,width:64,height:64,scale:2});return ep.createElement(cx,{...e,_className:"dev_handoff_layers_row--assetRow--k902I"},ep.createElement(cF,{visible:!1,expanded:!1,name:e.name}),ep.createElement(lY.J,{className:ek()("dev_handoff_layers_row--assetPreview--y0bCG",n?"dev_handoff_layers_row--imageAsset--MDn1s":"dev_handoff_layers_row--iconAsset--KHZWf"),style:i.backgroundStyle,src:i.url}),ep.createElement(ep.Fragment,null,cV(e.type)?ep.createElement(cK,{guid:e.guid,name:e.name,showGuids:!1}):ep.createElement(ep.Fragment,null,ep.createElement("span",{className:cP},e.name," ",e.showGuids&&` (${e.guid})`),ep.createElement("span",{className:"dev_handoff_layers_row--sizeInfo--Kiwb0 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},ep.createElement(lM,{assetInfo:r,dataTestId:"layerPanelAsset"})))))}function cZ(e){let r={};return(e||[]).forEach(e=>{e.guid&&(r[(0,to.dI)(e.guid)]=e)}),r}function cX(e){return e.canvasIsInternal&&!!e.displayNode.styleType}function cJ(e,r){return e&&e.name?e.name:r&&r.name?r.name:(0,eb.t)("collaboration.branching_node_treatments.unnamed_node")}function cQ(e){let{basis:r,change:n}=e,i=r;return i&&"REMOVED"!==i.phase||(i=n),ep.createElement(cN,{node:i})}ep.memo(e=>{let r=(0,lK.J2)((0,nk.UK)().showGuids),n=(0,lK.J2)(eT.Ez5.devHandoffState().automaticIconDetection),i=ep.useMemo(()=>eT.w3z.getOrAddAssetInfo(e.guid),[e.guid]),a=(0,s2.eY)().get(e.guid);if(!a)return null;let o=a.devToolsOrderedVisibleChildren,s=function(e,r,n){return cU.includes(e.type)?cY:n&&cB(n,r)?c$:cV(e.type)?cj:"FRAME"===e.type&&"NONE"!==e.stackMode?cW:"TEXT"===e.type?cz:cG}(a,n,i);if(!s)return null;let l=o.length>0&&!(i&&cB(i,n));return ep.createElement(s,{toggleExpanded:e.toggleExpanded,isExpanded:e.isExpanded,openContextMenu:e.openContextMenu,indentation:e.indentation,hasChildren:l,isSelected:e.isSelected,isAncestorSelected:e.isAncestorSelected,didSelectRow:e.didSelectRow,guid:a.guid,type:a.type,name:a.name,textContent:a.textContent,absoluteBoundingBox:a.absoluteBoundingBox,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,inheritedTextStyle:a.inheritedTextStyle,autoRename:a.autoRename,stackMode:a.inferredAutoLayoutResult?a.inferredAutoLayoutResult.stackMode:a.stackMode,isInstanceSublayer:a.isInstanceSublayer,isSymbolSublayer:a.isSymbolSublayer,isExpandable:!e.isRoot&&l,showGuids:r,assetInfo:i})});var c0=n(28229),c1=n(73226);let c2="component_props_treatment_definitions--componentPropRow--JGPw7",c3=e=>!(null==e?void 0:e.parentPropDefId),c5=e=>!c3(e),c4=e=>{switch(e){case"BOOL":return eT.J0O.BOOL;case"TEXT":return eT.J0O.TEXT;case"INSTANCE_SWAP":return eT.J0O.INSTANCE_SWAP;default:return null}},c6=(e,r)=>r?e&&JSON.stringify(e)===JSON.stringify(r)?(0,eb.t)("branching.chunk_details.no_changes"):e?(0,eb.t)("branching.chunk_details.property_changed"):(0,eb.t)("branching.chunk_details.property_added"):(0,eb.t)("branching.chunk_details.property_removed");function c8(e){let{renderDelta:r,oldValue:n,newValue:i,chunkViewType:a}=e,o=n??[],s=i??[],l=new Set([...o.map(e=>JSON.stringify(e.id)),...s.map(e=>JSON.stringify(e.id))]);return ep.createElement("div",{className:"component_props_treatment_definitions--componentPropDiffTable--v-hgJ"},Array.from(l).map(e=>{let n=o.find(r=>JSON.stringify(r.id)===e),i=n,l=null;if(r){let r=s.find(r=>JSON.stringify(r.id)===e);i=r,a!==c0.fE.CONFLICT_REVIEW&&(l=c6(n,r))}else if(!(null==i?void 0:i.type))return ep.createElement("div",{key:e,className:c2},"-");let d=i&&i.type?c4(i.type):null;return ep.createElement("div",{className:l?"component_props_treatment_definitions--componentPropRowWithLabel--p2qr0":c2,key:e},i&&d&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"component_props_treatment_definitions--componentPropDefName--PfHmt ellipsis--ellipsis--Tjyfa"},i.name),ep.createElement("div",{className:"component_props_treatment_definitions--componentPropTypeValue--hjyC-"},ep.createElement(l8.U,{svg:(0,c1.qe)(d),className:"component_props_treatment_definitions--componentPropIcon--068Ii"},(0,c1.zn)(d)),ep.createElement("span",{className:"component_props_treatment_definitions--componentPropTypeLabel--a5RDA ellipsis--ellipsis--Tjyfa"},(0,c1.xb)(d)))),l&&ep.createElement("div",{className:"component_props_treatment_definitions--componentPropDiffLabel--uZQyJ ellipsis--ellipsis--Tjyfa"},l))}))}function c7(e){let{renderDelta:r,oldValue:n,newValue:i,chunkViewType:a}=e,o=n??[],s=i??[];if(!o&&!s)return null;let l=!o.length||o.some(e=>c5(e)),d=!s.length||s.some(e=>c5(e)),c=!o.length||o.some(e=>c3(e)),u=!s.length||s.some(e=>c3(e));return l&&d||s.some(e=>c5(e))?r?ep.createElement(eb.Tx,{id:"branching.chunk_details.component_set_properties_changed"}):null:c&&u||s.some(e=>c3(e))?ep.createElement(c8,{oldValue:n,newValue:i,renderDelta:r,chunkViewType:a}):null}var c9=n(78655),ue=n(44171);let ut="chunk_diff_details--mainTitle--vdyvJ text--fontPos14--OL9Hp text--_fontBase--QdLsd",ur="chunk_diff_details--disclosure--vEErG",un="chunk_diff_details--caret--u2yzQ",ui="chunk_diff_details--leftRightContainer--b0GkS",ua="chunk_diff_details--fullWidthContainer--omBg2",uo="chunk_diff_details--left--aF7sL",us="chunk_diff_details--fieldName--3vTK7",ul="chunk_diff_details--fieldValue--3wOgr",ud="chunk_diff_details--right--Wx1G8",uc="chunk_diff_details--detailsColumnTreatments--S7L50",uu="chunk_diff_details--skipMargin--CW5U-",up="chunk_diff_details--propertyRow--XbRK9",uh="chunk_diff_details--propertyElement--NIJBh",um="chunk_diff_details--copyableChanges--1LoXJ",ug="treatment_definition_reusables--legoValueCell--V4fq0",uf="treatment_definition_reusables--legoPropertiesTable--Tn5wF",u_="treatment_definition_reusables--listLabel--k2Rsg",uy="treatment_definition_reusables--listItem--GSMpM";function uE(e,r,n,i){return"new"===i&&e in n?n[e]:r[e]}function ub(e,r){return void 0===e?r:"boolean"==typeof e?e?(0,eb.t)("collaboration.branching_node_treatments.value.true"):(0,eb.t)("collaboration.branching_node_treatments.value.false"):"number"==typeof e?e%1==0?Math.trunc(e).toString():e.toFixed(2).toString():e.toString()[0]+(0,c0.zX)(e.toString().slice(1))}function uv(e){return(0,c0.wR)(e,(e,r,n)=>ub(r,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),(e,r,n)=>ub(n,(0,eb.t)("collaboration.branching_node_treatments.value.removed")))}function uS(e,r){return(0,c0.wR)(e,"",(n,i,a)=>{var o;return o=r||e,void 0===i?(0,eb.t)("collaboration.branching_node_treatments.value.prefix_applied",{prefix:o()}):void 0===a?(0,eb.t)("collaboration.branching_node_treatments.value.prefix_removed",{prefix:o()}):(0,eb.t)("collaboration.branching_node_treatments.value.prefix_edited",{prefix:o()})})}function uI(e){return(0,c0.wR)(e,(e,r,n,i,a,o)=>{var s;return o&&o.has(e)&&(null==(s=o.get(e).previousChange)?void 0:s.name)||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")},(e,r,n,i,a,o)=>{var s;return o&&o.has(e)&&(null==(s=o.get(e).currentChange)?void 0:s.name)||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")})}function uT(e,r){return(0,c0.wR)(e,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(n,i,a)=>{var o;return o=r||e,!(0,to.fn)(i)&&(0,to.fn)(a)?(0,eb.t)("branching.chunk_details.guid_property_applied",{propertyLabel:o()}):(0,to.fn)(i)&&!(0,to.fn)(a)?(0,eb.t)("branching.chunk_details.guid_property_removed",{propertyLabel:o()}):(0,eb.t)("branching.chunk_details.guid_property_modified",{propertyLabel:o()})})}function uw(e,r){return(0,c0.wR)(e,(e,n,i)=>n?ep.createElement(r,{value:n}):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,n,i)=>i?ep.createElement(r,{value:i}):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))}function uC(e){var r,n,i,a;let{oldValues:o,newValues:s,header:l,RenderTable:d}=e,c=(0,eJ.wA)(),u={},p={};o.forEach(e=>{u[e.displayName||""]=e}),s.forEach(e=>{p[e.displayName||""]=e});let h=new Set([...Object.keys(u),...Object.keys(p)]),m=[];for(let e of h){let o=(null==(r=u[e])?void 0:r.displayValue)||(null==(n=p[e])?void 0:n.displayValue),s=(null==(i=u[e])?void 0:i.displayValue)!==(null==(a=p[e])?void 0:a.displayValue);o&&s&&m.push(e)}return m.length>0?d?ep.createElement(d,{header:l,oldValueMap:u,newValueMap:p,changedKeys:m}):ep.createElement("div",{className:uf},l&&ep.createElement("div",{className:ek()("treatment_definition_reusables--legoHeader--44Htf",ua)},l),m.map(e=>{var r,n,i,a;return ep.createElement("div",{key:e,className:ek()(ua)},ep.createElement("div",{className:ek()("chunk_diff_details--changedElement---NaHQ",uc)},ep.createElement("div",{className:ek()("treatment_definition_reusables--legoLabelCell--d4Sl6","chunk_diff_details--fieldNameLego--OdYt4")},(null==(r=u[e])?void 0:r.displayName)||(null==(n=p[e])?void 0:n.displayName))),ep.createElement("div",{className:ek()(ua,ug,uc,um),role:"button",tabIndex:0,onClick:()=>{var r;return(0,ue.WD)(null==(r=u[e])?void 0:r.displayValue,c)}},ep.createElement("div",{className:ul},(null==(i=u[e])?void 0:i.displayValue)||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))),ep.createElement("div",{className:ek()(ua,ug,uc,um),role:"button",tabIndex:0,onClick:()=>{var r;return(0,ue.WD)(null==(r=p[e])?void 0:r.displayValue,c)}},ep.createElement("div",{className:ul},(null==(a=p[e])?void 0:a.displayValue)||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))))})):null}function uA(e){let{properties:r}=e;return ep.createElement("table",{className:"treatment_definition_reusables--propertiesTable--EGsnN"},ep.createElement("tbody",null,r.map(({displayName:e,displayValue:r})=>ep.createElement("tr",{key:(0,aM.g)()},ep.createElement("td",{className:"treatment_definition_reusables--labelCell--qcOBA"},e),ep.createElement("td",{className:"treatment_definition_reusables--valueCell--hdmLL"},r||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))))))}let uN=new iz.LN;function uO(e){return`${aY.TI.format(e)} ${uN.format(e.a)}`}let uR={EMOJI:()=>(0,eb.t)("collaboration.branching_node_treatments.value.emoji"),GRADIENT_ANGULAR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.gradient_angular"),GRADIENT_DIAMOND:()=>(0,eb.t)("collaboration.branching_node_treatments.value.gradient_diamond"),GRADIENT_LINEAR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.gradient_linear"),GRADIENT_RADIAL:()=>(0,eb.t)("collaboration.branching_node_treatments.value.gradient_radial"),IMAGE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.image"),SOLID:()=>(0,eb.t)("collaboration.branching_node_treatments.value.solid"),VIDEO:()=>(0,eb.t)("collaboration.branching_node_treatments.value.video")},uP={PASS_THROUGH:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.pass_through"),NORMAL:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.normal"),DARKEN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.darken"),MULTIPLY:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.multiply"),LINEAR_BURN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.linear_burn"),COLOR_BURN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.color_burn"),LIGHTEN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.lighten"),SCREEN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.screen"),LINEAR_DODGE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.linear_dodge"),COLOR_DODGE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.color_dodge"),OVERLAY:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.overlay"),SOFT_LIGHT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.soft_light"),HARD_LIGHT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.hard_light"),DIFFERENCE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.difference"),EXCLUSION:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.exclusion"),HUE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.hue"),SATURATION:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.saturation"),COLOR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.color"),LUMINOSITY:()=>(0,eb.t)("collaboration.branching_node_treatments.value.blend_mode.luminosity")};function uL(e){let r=[];if(e.type){let n=uR[e.type]();r.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.fill_type"),displayValue:n})}return r.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.opacity"),displayValue:uN.format(e.opacity)}),e.color&&r.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.color"),displayValue:uO(e.color)}),e.stops&&(r=r.concat(e.stops.map((e,r)=>({displayName:(0,eb.t)("collaboration.branching_node_treatments.value.color_stop_index",{index:r+1}),displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.color_stop",{colorValue:uO(e.color),percentage:uN.format(e.position)})})))),r.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.blend_mode"),displayValue:e.blendMode&&uP[e.blendMode]()}),r.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.visibility"),displayValue:e.visible?(0,eb.t)("collaboration.branching_node_treatments.value.on"):(0,eb.t)("collaboration.branching_node_treatments.value.off")}),e.paintFilter&&r.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.image_filter"),displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.filter_applied")}),r}function uD(e){let r=e.value;return ep.createElement("div",null,r.map((e,r)=>ep.createElement("div",{className:uy,key:r},ep.createElement("div",{className:u_},`Fill ${r+1}`),ep.createElement(uA,{properties:uL(e)}))))}function uM(e){var r,n,i,a,o,s;return[{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.x"),displayValue:null==(n=null==(r=e.offset)?void 0:r.x)?void 0:n.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.y"),displayValue:null==(a=null==(i=e.offset)?void 0:i.y)?void 0:a.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.blur"),displayValue:null==(o=e.radius)?void 0:o.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.spread"),displayValue:null==(s=e.spread)?void 0:s.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.fill"),displayValue:e.color?uO(e.color):void 0},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.blend_mode"),displayValue:e.blendMode&&uP[e.blendMode]()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.visibility"),displayValue:e.visible?(0,eb.t)("collaboration.branching_node_treatments.value.on"):(0,eb.t)("collaboration.branching_node_treatments.value.off")}]}function uk(e,r,n){var i,a,o,s;let l={};if(null==e?void 0:e.entries){for(let d of e.entries)if(d.variableField&&(null==(a=null==(i=d.variableData)?void 0:i.value)?void 0:a.alias)){let e=(0,c9.dI)(null==(s=null==(o=d.variableData)?void 0:o.value)?void 0:s.alias);n.add(d.variableField),l[d.variableField]=eT.CWU.getVariableName(e,r)}}return l}let ux=(e,r)=>(0,c0.wR)(()=>e,(e,r,n)=>"lego-table",(n,i,a)=>{let o=new Set,s=uk(i,0,o),l=uk(a,1,o),d=[],c=[];for(let e of o)s[e]!==l[e]&&(d.push({displayName:e,displayValue:s[e]}),c.push({displayName:e,displayValue:l[e]}));return ep.createElement("div",{className:uf},ep.createElement(uC,{header:e,oldValues:d,newValues:c,RenderTable:r}))});function uF(e){return Math.round(100*e)/100}function uU(e){return{x:uF(e.x),y:uF(e.y)}}let uB=(e,r)=>(0,c0.wR)(()=>e,(e,r,n)=>"lego-table",(e,n,i)=>{let a=sq.s.fromFigMatrix(n),o=sq.s.fromFigMatrix(i),s=[],l=[],d=uU(a.offset()),c=uU(o.offset());(d.x!==c.x||d.y!==c.y)&&(s.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.position"),displayValue:`x: ${d.x}; y: ${d.y}`}),l.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.position"),displayValue:`x: ${c.x}; y: ${c.y}`}));let u=uU(a.toScale()),p=uU(o.toScale());(u.x!==p.x||u.y!==p.y)&&(s.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.scale"),displayValue:`x: ${u.x}; y: ${u.y}`}),l.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.scale"),displayValue:`x: ${p.x}; y: ${p.y}`}));let h=uF(a.toDegrees()),m=uF(o.toDegrees());return h!==m&&(s.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.rotation"),displayValue:`${h}\xb0`}),l.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.rotation"),displayValue:`${m}\xb0`})),ep.createElement("div",{className:uf},ep.createElement(uC,{oldValues:s,newValues:l,RenderTable:r}))}),uV=(e,r)=>(0,c0.wR)(()=>e,(e,r,n)=>"lego-table",(n,i,a)=>{let o=Math.max(i.length,a.length),s=[];for(let n=0;n<o;n++){let o=i[n]?uL(i[n]):[],l=a[n]?uL(a[n]):[],d=[a[n],i[n]].map((e,r)=>(function(e,r){var n,i;if(null==(i=null==(n=null==e?void 0:e.colorVar)?void 0:n.value)?void 0:i.alias){let n=(0,c9.dI)(e.colorVar.value.alias);return eT.CWU.getVariableName(n,r)}return null})(e,r));d[0]!==d[1]&&(l.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.value.node_type.variable"),displayValue:d[0]}),o.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.value.node_type.variable"),displayValue:d[1]})),s.push(ep.createElement(uC,{key:n,header:`${e} ${n+1}`,oldValues:o,newValues:l,RenderTable:r}))}return ep.createElement("div",{className:uf},s)}),uH=(e,r)=>(0,c0.wR)(()=>e,(e,r,n)=>"lego-table",(n,i,a)=>{var o,s;let l=i||[],d=a||[],c=Math.max(l.length,d.length),u=[];for(let n=0;n<c;n++){let i=l[n]?uM(l[n]):[],a=d[n]?uM(d[n]):[];(null==(o=l[n])?void 0:o.type)&&i.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.value.effect.effect_type"),displayValue:uG[l[n].type]()}),(null==(s=d[n])?void 0:s.type)&&a.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.value.effect.effect_type"),displayValue:uG[d[n].type]()}),u.push(ep.createElement(uC,{header:`${e} ${n+1}`,oldValues:i,newValues:a,RenderTable:r})),n+1<c&&u.push(ep.createElement("div",{className:"treatment_definition_reusables--divider--LBUd9"}))}return ep.createElement("div",{className:uf},u)}),uG={BACKGROUND_BLUR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.effect.background_blur"),DROP_SHADOW:()=>(0,eb.t)("collaboration.branching_node_treatments.value.effect.drop_shadow"),FOREGROUND_BLUR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.effect.foreground_blur"),INNER_SHADOW:()=>(0,eb.t)("collaboration.branching_node_treatments.value.effect.inner_shadow")};function uW(e){let r=e.value;return ep.createElement("div",null,r.map((e,r)=>ep.createElement("div",{className:uy,key:r},ep.createElement("div",{className:u_},e.type&&uG[e.type]()),ep.createElement(uA,{properties:uM(e)}))))}let uz={MIN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.layout_grid.min"),CENTER:()=>(0,eb.t)("collaboration.branching_node_treatments.value.layout_grid.center"),STRETCH:()=>(0,eb.t)("collaboration.branching_node_treatments.value.layout_grid.stretch"),MAX:()=>(0,eb.t)("collaboration.branching_node_treatments.value.layout_grid.max")},uK=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.type_details"),()=>(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),()=>(0,eb.t)("collaboration.branching_node_treatments.value.type_details_edited"));function uj(e){return(0,c0.wR)(e,(e,r,n)=>r?iz.wf.format(r):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>n?iz.wf.format(n):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))}function uY(){return(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.order"),"",(e,r,n)=>(null==r?void 0:r.sortPosition)!==(null==n?void 0:n.sortPosition)?(0,eb.t)("collaboration.branching_node_treatments.value.style_reordered"):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))}function u$(){return(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.order"),"",(e,r,n)=>r!==n?(0,eb.t)("collaboration.branching_node_treatments.value.style_reordered"):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))}let uq={FILL:{name:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_name")),symbolDescription:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.symbol_description")),description:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.description")),sortPosition:u$(),sharedStyleMasterData:uY(),fillPaints:uw(()=>(0,eb.t)("collaboration.branching_node_treatments.property.fill_details"),uD)},EFFECT:{name:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_name")),symbolDescription:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.symbol_description")),description:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.description")),sortPosition:u$(),sharedStyleMasterData:uY(),effects:uw(()=>(0,eb.t)("collaboration.branching_node_treatments.property.effect_details"),uW)},TEXT:{name:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_name")),symbolDescription:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.symbol_description")),description:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.description")),sortPosition:u$(),sharedStyleMasterData:uY(),fontName:(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font"),(e,r,n)=>r?`${r.family} ${r.style}`:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>n?`${n.family} ${n.style}`:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),fontSize:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_size")),lineHeight:uj(()=>(0,eb.t)("collaboration.branching_node_treatments.property.line_height")),letterSpacing:uj(()=>(0,eb.t)("collaboration.branching_node_treatments.property.letter_spacing")),paragraphSpacing:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.paragraph_spacing")),paragraphIndent:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.paragraph_indent")),listSpacing:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.list_spacing")),fontVariantCommonLigatures:uK,fontVariantContextualLigatures:uK,fontVariantDiscretionaryLigatures:uK,fontVariantHistoricalLigatures:uK,fontVariantOrdinal:uK,fontVariantSlashedZero:uK,fontVariantNumericFigure:uK,fontVariantNumericSpacing:uK,fontVariantNumericFraction:uK,fontVariantCaps:uK,fontVariantPosition:uK,toggledOnOTFeatures:uK,toggledOffOTFeatures:uK,fontVariations:uK,detachOpticalSizeFromFontSize:uK},GRID:{name:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_name")),symbolDescription:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.symbol_description")),description:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.description")),sortPosition:u$(),sharedStyleMasterData:uY(),layoutGrids:uw(()=>(0,eb.t)("collaboration.branching_node_treatments.property.layout_grid_details"),function(e){let r=e.value;return ep.createElement("div",null,r.map((e,r)=>{var n,i,a,o,s;let l="GRID"===e.pattern?"Grid":"X"===e.axis?"Columns":"Y"===e.axis?"Rows":null;if(!l)return null;let d="Grid"===l?[{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.size"),displayValue:null==(n=e.sectionSize)?void 0:n.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.color"),displayValue:e.color?uO(e.color):void 0}]:[{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.count"),displayValue:null==(i=e.numSections)?void 0:i.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.color"),displayValue:e.color?uO(e.color):void 0},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.type"),displayValue:e.type&&uz[e.type]()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.size"),displayValue:null==(a=e.sectionSize)?void 0:a.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.offset"),displayValue:null==(o=e.offset)?void 0:o.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.gutter"),displayValue:null==(s=e.gutterSize)?void 0:s.toString()},{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.visibility"),displayValue:e.visible?(0,eb.t)("collaboration.branching_node_treatments.value.on"):(0,eb.t)("collaboration.branching_node_treatments.value.off")}];return ep.createElement("div",{className:uy,key:r},ep.createElement("div",{className:u_},l),ep.createElement(uA,{properties:d}))}))})}},uZ=(0,c0.EY)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.prototype"),"",()=>(0,eb.t)("collaboration.branching_node_treatments.value.prototype_behavior_edited")),uX=(0,c0.EY)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.plugin_data"),"",()=>(0,eb.t)("collaboration.branching_node_treatments.value.plugin_data_edited")),uJ=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variations"),"",()=>(0,eb.t)("collaboration.branching_node_treatments.value.font_variations_edited")),uQ=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.widget_metadata"),"",()=>(0,eb.t)("collaboration.branching_node_treatments.value.widget_metadata_edited")),u0={[eT.mKm.FILL_CONTAINER]:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill"),[eT.mKm.FIXED]:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fixed"),[eT.mKm.HUG_CONTENT]:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.hug")},u1={BASELINE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.baseline"),CENTER:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.center"),MAX:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.max"),MIN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.min"),SPACE_EVENLY:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.space_between_legacy"),SPACE_BETWEEN:()=>(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.space_between")},u2={value:{x:0,y:0}},u3={value:{x:1/0,y:1/0}},u5=(e,r,n,i,a=!1)=>{var o,s,l,d,c,u,p,h,m,g,f,_;let y,E,b,v;let S={},I=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:0}),T=[I,I,I,I],w=!1,C=!1,A=0,N=(0,eb.t)("collaboration.branching_node_treatments.property.horizontal_sizing"),O=(0,eb.t)("collaboration.branching_node_treatments.property.vertical_sizing"),R=uE("stackMode",r,n,i),P=uE("stackWrap",r,n,i),L=!1;for(let r of e){let e="new"===i?r.newValue:r.oldValue,n="number"==typeof e&&a?parseFloat(e.toFixed(2)):e;switch(r.fieldName){case"stackMode":case"stackWrap":L=!0;break;case"stackSpacing":if("number"!=typeof n||S.spacing)break;S.spacing={displayName:(0,eb.t)("collaboration.branching_node_treatments.property.stack_spacing"),displayValue:n.toString()};break;case"stackCounterSpacing":if("number"!=typeof n||"HORIZONTAL"!==R||"WRAP"!==P)break;S.counterSpacing={displayName:(0,eb.t)("collaboration.branching_node_treatments.property.stack_counter_spacing"),displayValue:n.toString()};break;case"stackCounterAlignContent":"SPACE_BETWEEN"===n&&(S.counterSpacing={displayName:(0,eb.t)("collaboration.branching_node_treatments.property.stack_counter_spacing"),displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.space_between")});break;case"stackHorizontalPadding":if(w=!0,"number"!=typeof n)break;T[0]=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:n.toString()}),T[2]=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:n.toString()});break;case"stackVerticalPadding":if(w=!0,"number"!=typeof n)break;T[1]=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:n.toString()}),T[3]=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:n.toString()});break;case"stackPaddingRight":if(w=!0,"number"!=typeof n)break;T[2]=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:n.toString()});break;case"stackPaddingBottom":if(w=!0,"number"!=typeof n)break;T[3]=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:n.toString()});break;case"stackChildPrimaryGrow":n&&1===n&&(A+=1);break;case"stackPrimarySizing":{let e=n&&"RESIZE_TO_FIT"!==n&&"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"!==n?eT.mKm.FIXED:eT.mKm.HUG_CONTENT;"HORIZONTAL"===R?E=e:"VERTICAL"===R&&(y=e);break}case"stackChildAlignSelf":n&&"STRETCH"===n&&(A+=1);break;case"stackCounterSizing":{let e="RESIZE_TO_FIT"===n||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===n?eT.mKm.HUG_CONTENT:eT.mKm.FIXED;"HORIZONTAL"===R?y=e:"VERTICAL"===R&&(E=e);break}case"stackPrimaryAlignItems":if(C=!0,"string"!=typeof n)break;"HORIZONTAL"===R?v=u1[n]():"VERTICAL"===R&&(b=u1[n]());break;case"stackCounterAlignItems":if(C=!0,"string"!=typeof n)break;"HORIZONTAL"===R?b=u1[n]():"VERTICAL"===R&&(v=u1[n]());break;case"minSize":{let e=n??u2,a=("old"===i?r.newValue:r.oldValue)??u2;(null==(o=e.value)?void 0:o.x)!==(null==(s=a.value)?void 0:s.x)&&(S.minWidth={displayName:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.min_width"),displayValue:u6(null==(l=e.value)?void 0:l.x,0)}),(null==(d=e.value)?void 0:d.y)!==(null==(c=a.value)?void 0:c.y)&&(S.minHeight={displayName:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.min_height"),displayValue:u6(null==(u=e.value)?void 0:u.y,0)});break}case"maxSize":{let e=n??u3,a=("old"===i?r.newValue:r.oldValue)??u3;(null==(p=e.value)?void 0:p.x)!==(null==(h=a.value)?void 0:h.x)&&(S.maxWidth={displayName:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.max_width"),displayValue:u6(null==(m=e.value)?void 0:m.x,1/0)}),(null==(g=e.value)?void 0:g.y)!==(null==(f=a.value)?void 0:f.y)&&(S.maxHeight={displayName:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.max_height"),displayValue:u6(null==(_=e.value)?void 0:_.y,1/0)});break}case"stackPositioning":{let e=n??"AUTO";e!==(("old"===i?r.newValue:r.oldValue)??"AUTO")&&(S.stackPositioning={displayName:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.stack_positioning"),displayValue:e})}}}if(2===A?(S.vertical_sizing={displayName:O,displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill")},S.horizontal_sizing={displayName:N,displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill")}):1!==A||y&&y!==eT.mKm.HUG_CONTENT?1!==A||E&&E!==eT.mKm.HUG_CONTENT?1===A?(S.vertical_sizing={displayName:O,displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill_or_fixed")},S.horizontal_sizing={displayName:N,displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill_or_fixed")}):0===A&&(void 0!==E&&(S.horizontal_sizing={displayName:N,displayValue:u0[E]()}),void 0!==y&&(S.vertical_sizing={displayName:O,displayValue:u0[y]()})):S.vertical_sizing={displayName:O,displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill")}:S.horizontal_sizing={displayName:N,displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.fill")},L&&"string"==typeof R&&"string"==typeof P){let e=(()=>{switch(R){case"NONE":return(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.none");case"VERTICAL":return(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.vertical");case"HORIZONTAL":if("WRAP"===P)return(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.horizontal_wrap");return(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.horizontal")}})();S.direction={displayName:(0,eb.t)("collaboration.branching_node_treatments.property.direction"),displayValue:e}}return w&&(S.padding={displayName:(0,eb.t)("collaboration.branching_node_treatments.property.padding"),displayValue:(0,di.Yx)(T,"unit")}),(b||v||C)&&(S.align_items={displayName:(0,eb.t)("collaboration.branching_node_treatments.property.align_items"),displayValue:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")},b&&v?S.align_items.displayValue=(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.align_vertical_and_horizontal",{verticalAlignment:b,horizontalAlignment:v}):b?S.align_items.displayValue=b:v&&(S.align_items.displayValue=v)),S},u4=(e,r,n,i)=>ep.createElement(uA,{properties:Object.values(u5(e,r,n,i)),key:(0,aM.g)()});function u6(e,r){return e===r?(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.none"):(0,eb.t)("collaboration.branching_node_treatments.value.autolayout.px_amount",{value:e})}let u8=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.auto_layout_details"),(e,r,n)=>u4(e,r,n,"old"),(e,r,n)=>u4(e,r,n,"new")),u7=e=>(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.auto_layout_details"),(e,r,n)=>"lego-table",(r,n,i)=>{var a,o;let s=u5(r,n,i,"old",!0),l=u5(r,n,i,"new",!0),d=new Set([...Object.keys(s),...Object.keys(l)]),c=!1;for(let e of d)if((null==(a=s[e])?void 0:a.displayValue)!==(null==(o=l[e])?void 0:o.displayValue)){c=!0;break}return c?ep.createElement(uC,{header:(0,eb.t)("collaboration.branching_node_treatments.property.auto_layout_details"),oldValues:Object.values(s),newValues:Object.values(l),RenderTable:e}):null}),u9=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.hyperlink"),(e,r,n)=>(null==r?void 0:r.url)?r.url:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>(null==n?void 0:n.url)?n.url:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),pe=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.mention"),(e,r,n)=>(null==r?void 0:r.id)?to.dI(r.id):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>(null==n?void 0:n.id)?to.dI(n.id):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),pt=(e,r,n)=>{let i=uE("borderTopWeight",e,r,n)??0,a=uE("borderBottomWeight",e,r,n)??0,o=uE("borderLeftWeight",e,r,n)??0,s=uE("borderRightWeight",e,r,n)??0;return ep.createElement("div",{"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.branching_node_treatments.property.border_weights_tooltip"),style:{display:"inline-block"}},ub(i,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))+", "+ub(s,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))+", "+ub(a,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))+", "+ub(o,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")))},pr=(e,r,n)=>{let i=uE("rectangleTopLeftCornerRadius",e,r,n)??0,a=uE("rectangleTopRightCornerRadius",e,r,n)??0,o=uE("rectangleBottomRightCornerRadius",e,r,n)??0,s=uE("rectangleBottomLeftCornerRadius",e,r,n)??0;return ep.createElement("div",{"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.branching_node_treatments.property.radii_tooltip"),style:{display:"inline-block"}},ub(i,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))+", "+ub(a,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))+", "+ub(o,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))+", "+ub(s,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")))},pn=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.border_weights"),(e,r,n)=>pt(r,n,"old"),(e,r,n)=>pt(r,n,"new")),pi=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.radii"),(e,r,n)=>pr(r,n,"old"),(e,r,n)=>pr(r,n,"new")),pa=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.line_height"),(e,r,n)=>(null==r?void 0:r.units)&&r.value?r.value.toString()+" "+r.units.toString():(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>(null==n?void 0:n.units)&&n.value?n.value.toString()+" "+n.units.toString():(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),po=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_data"),(e,r,n)=>(null==r?void 0:r.characters)?r.characters:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>(null==n?void 0:n.characters)?n.characters:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),ps=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.letter_spacing"),(e,r,n)=>(null==r?void 0:r.units)&&r.value?r.value.toString()+" "+r.units.toString():(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>(null==n?void 0:n.units)&&n.value?n.value.toString()+" "+n.units.toString():(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"));function pl(e){return(r,n,i)=>{let a=uE("textTruncation",n,i,e)??"DISABLED",o=uE("maxLines",n,i,e),s=[{displayName:(0,eb.t)("collaboration.branching_node_treatments.property.text_truncation"),displayValue:p_[a]()}];return"DISABLED"!==a&&s.push({displayName:(0,eb.t)("collaboration.branching_node_treatments.property.max_lines"),displayValue:null==o?(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"):0===o?(0,eb.t)("collaboration.branching_node_treatments.value.max_lines.auto"):o.toFixed(0)}),ep.createElement(uA,{properties:s})}}let pd=(0,c0.de)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_truncation_details"),pl("old"),pl("new")),pc=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.size"),(e,r,n)=>{let i=uU(r);return i.x&&i.y?"x: "+i.x.toString()+"; y: "+i.y.toString():(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")},(e,r,n)=>{let i=uU(n);return i.x&&i.y?"x: "+i.x.toString()+"; y: "+i.y.toString():(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")}),pu=e=>{var r="";return e.map((e,n)=>{0!==n&&(r+=", "),r+=ub(e,"")}),r},pp=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.dash_pattern"),(e,r,n)=>r.length?pu(r):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>n.length?pu(n):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),ph=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_name"),(e,r,n)=>r?`${r.family} ${r.style}`:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>n?`${n.family} ${n.style}`:(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")),pm=(0,c0.wR)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.parent"),(e,r,n,i)=>{let a=el.getImmediateParentHierarchyNodeChange(i,eT.kz3.BASIS_PARENT),o=null==a?void 0:a.name;return to.aI(null==r?void 0:r.guid,null==n?void 0:n.guid)?(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"):o||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")},(e,r,n,i)=>{let a=el.getImmediateParentHierarchyNodeChange(i,eT.kz3.PARENT),o=null==a?void 0:a.name;return to.aI(null==r?void 0:r.guid,null==n?void 0:n.guid)?(0,eb.t)("collaboration.branching_node_treatments.value.node_reordered"):o||(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash")}),pg=(0,c0.oZ)(()=>(0,eb.t)("collaboration.branching_node_treatments.property.position_rotation_or_scale"),()=>(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),()=>(0,eb.t)("collaboration.branching_node_treatments.value.position_rotation_or_scale_changed")),pf={NONE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.none"),DOCUMENT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.document"),CANVAS:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.canvas"),GROUP:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.group"),FRAME:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.frame"),BOOLEAN_OPERATION:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.boolean_operation"),VECTOR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.vector"),STAR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.star"),LINE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.line"),ELLIPSE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.ellipse"),RECTANGLE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.rectangle"),REGULAR_POLYGON:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.regular_polygon"),ROUNDED_RECTANGLE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.rounded_rectangle"),TEXT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.text"),SLICE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.slice"),SYMBOL:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.symbol"),INSTANCE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.instance"),STICKY:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.sticky"),SHAPE_WITH_TEXT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.shape_with_text"),CONNECTOR:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.connector"),CODE_BLOCK:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.code_block"),WIDGET:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.widget"),STAMP:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.stamp"),MEDIA:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.media"),HIGHLIGHT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.highlight"),SECTION:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.section"),SECTION_OVERLAY:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.section_overlay"),WASHI_TAPE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.washi_tape"),VARIABLE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.variable"),VARIABLE_SET:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.variable_collection"),TABLE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.table"),TABLE_CELL:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.table_cell"),SLIDE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.slide"),SLIDE_ROW:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.frame"),SLIDE_GRID:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.frame"),ASSISTED_LAYOUT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.assisted_layout"),INTERACTIVE_SLIDE_ELEMENT:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.interactive_slide_element"),MODULE:()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.module"),VARIABLE_OVERRIDE:()=>"Variable override"},p_={DISABLED:()=>(0,eb.t)("collaboration.branching_node_treatments.value.text_truncation.disabled"),ENDING:()=>(0,eb.t)("collaboration.branching_node_treatments.value.text_truncation.ending")},py=new Map;function pE(e,r){var n,i,a,o;if(py.has(e))return py.get(e);let s=e===c0.FO.LEGO,l=s?u7(r):u8,d=s?uI:uT;return py.set(e,Object.freeze({name:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.node_name")),visible:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.visible")),locked:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.locked")),parentIndex:pm,transform:s?uB((0,eb.t)("collaboration.branching_node_treatments.value.position_rotation_or_scale_changed"),r):pg,description:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.description")),symbolDescription:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.symbol_description")),symbolLinks:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.symbol_links")),type:(n=()=>(0,eb.t)("collaboration.branching_node_treatments.property.type"),i=e=>pf[e](),(0,c0.wR)(n,(e,r,n)=>r?i(r):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>n?i(n):(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"))),booleanOperation:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.boolean")),horizontalConstraint:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.horizontal_constraints")),verticalConstraint:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.vertical_constraints")),hyperlink:u9,mention:pe,proportionsConstrained:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.resize_behavior")),inheritGridStyleID:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.grid_style")),layoutGrids:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.layout_grid")),inheritTextStyleID:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_style")),inheritFillStyleID:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.fill_style")),inheritFillStyleIDForStroke:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_style")),inheritEffectStyleID:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.effect_style")),inheritExportStyleID:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.export_style")),inheritFillStyleIDForBackground:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.background_style")),inheritStrokeStyleID:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_style")),styleIdForFill:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.fill_style")),styleIdForStrokeFill:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_style")),styleIdForText:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_style")),styleIdForEffect:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.effect_style")),styleIdForGrid:d(()=>(0,eb.t)("collaboration.branching_node_treatments.property.grid_style")),scrollBehavior:uZ,transitionType:uZ,transitionDuration:uZ,easingType:uZ,scrollDirection:uZ,transitionPreserveScroll:uZ,connectionType:uZ,interactionType:uZ,transitionTimeout:uZ,mediaHitTime:uZ,interactionMaintained:uZ,interactionDuration:uZ,overlayPositionType:uZ,transitionShouldSmartAnimate:uZ,overlayRelativePosition:uZ,overlayBackgroundInteraction:uZ,overlayBackgroundAppearance:uZ,keyTrigger:uZ,prototypeInteractions:uZ,prototypeStartNodeID:uZ,prototypeStartingPoint:uZ,videoPlayback:uZ,stackMode:l,stackSpacing:l,stackCounterSizing:l,stackPrimarySizing:l,stackChildPrimaryGrow:l,stackChildAlignSelf:l,stackPrimaryAlignItems:l,stackCounterAlignItems:l,stackHorizontalPadding:l,stackVerticalPadding:l,stackPaddingRight:l,stackPaddingBottom:l,stackPositioning:l,stackReverseZIndex:l,bordersTakeSpace:l,stackWrap:l,stackCounterSpacing:l,stackCounterAlignContent:l,minSize:l,maxSize:l,pluginData:uX,pluginRelaunchData:uX,stackPadding:null,stackJustify:null,codeBlockLanguage:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.code_block_language")),fontVariations:uJ,detachOpticalSizeFromFontSize:uJ,widgetMetadata:uQ,widgetPropertyMenuItems:uQ,widgetSyncedState:uQ,renderedSyncedState:uQ,pasteSource:null,widgetEvents:null,widgetInputBehavior:null,widgetCachedAncestor:uQ,widgetInputTextNodeType:null,pageType:null,interactiveSlideConfigData:null,interactiveSlideParticipantData:null,flappType:null,themeID:null,slideThemeData:null,slideThemeMap:null,slideTemplateFileKey:null,componentPropDefs:(a=()=>(0,eb.t)("collaboration.branching_node_treatments.property.properties"),(0,c0.wR)(a,(e,r,n,i,a)=>r?ep.createElement(c7,{oldValue:r,newValue:n,renderDelta:!1,chunkViewType:a}):"-",(e,r,n,i,a)=>n?ep.createElement(c7,{oldValue:r,newValue:n,renderDelta:!0,chunkViewType:a}):"-")),componentPropRefs:uT(()=>(0,eb.t)("collaboration.branching_node_treatments.property.properties")),componentPropAssignments:null,simplifyInstancePanels:(o=()=>(0,eb.t)("collaboration.branching_node_treatments.property.instance_simplification"),(0,c0.wR)(o,(0,eb.t)("collaboration.branching_node_treatments.value.empty_dash"),(e,r,n)=>n?(0,eb.t)("branching.chunk_details.added"):(0,eb.t)("branching.chunk_details.removed"))),propsAreBubbled:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.props_are_bubbled")),size:pc,guid:null,phase:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.phase")),opacity:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.opacity")),blendMode:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.blend_mode")),count:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.count")),dashPattern:pp,autoRename:null,backgroundEnabled:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.background_enabled")),mask:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.mask")),maskType:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.mask_type")),exportContentsOnly:null,maskIsOutline:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.mask_is_outline")),backgroundOpacity:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.background_opacity")),cornerRadius:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.corner_radius")),fontSize:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_size")),paragraphIndent:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.paragraph_indent")),paragraphSpacing:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.paragraph_spacing")),listSpacing:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.list_spacing")),starInnerScale:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.star_inner_scale")),miterLimit:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.miter_limit")),strokeWeight:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_weight")),textTracking:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_tracking")),strokeAlign:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_align")),strokeCap:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_cap")),strokeJoin:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_join")),textAlignHorizontal:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_align_horizontal")),textAlignVertical:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_align_vertical")),textCase:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_case")),textDecoration:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_decoration")),leadingTrim:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.leading_trim")),moduleType:null,hangingPunctuation:null,hangingList:null,fillPaints:s?uV((0,eb.t)("collaboration.branching_node_treatments.property.fill"),r):uw(()=>(0,eb.t)("collaboration.branching_node_treatments.property.fill_paints"),uD),strokePaints:s?uV((0,eb.t)("collaboration.branching_node_treatments.property.stroke_paint"),r):uw(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_paints"),uD),lineHeight:pa,fontName:ph,textData:po,effects:s?uH((0,eb.t)("collaboration.branching_node_treatments.property.effect"),r):uw(()=>(0,eb.t)("collaboration.branching_node_treatments.property.effect"),uW),handleMirroring:null,exportSettings:null,textAutoResize:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_auto_resize")),vectorData:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.vector_data")),styleID:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_id")),backgroundColor:null,fillGeometry:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.fill_geometry")),strokeGeometry:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stroke_geometry")),guidPath:null,symbolData:null,frameMaskDisabled:null,resizeToFit:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.resize_to_fit")),exportBackgroundDisabled:null,sharedSymbolReference:null,isSymbolPublishable:null,sharedSymbolMappings:null,derivedSymbolData:null,nestedInstanceResizeEnabled:null,sharedSymbolVersion:null,overrideLevel:null,fontVariantCommonLigatures:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_common_ligatures")),fontVariantContextualLigatures:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_contextual_ligatures")),fontVariantDiscretionaryLigatures:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_discretionary_ligatures")),fontVariantHistoricalLigatures:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_historical_ligatures")),fontVariantOrdinal:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_ordinal")),fontVariantSlashedZero:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_slashed_zero")),fontVariantNumericFigure:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_numeric_figure")),fontVariantNumericSpacing:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_numeric_spacing")),fontVariantNumericFraction:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_numeric_fraction")),fontVariantCaps:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_caps")),fontVariantPosition:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_variant_position")),guides:null,transitionNodeID:null,prototypeBackgroundColor:null,internalOnly:null,overriddenSymbolID:null,rectangleTopLeftCornerRadius:pi,rectangleTopRightCornerRadius:pi,rectangleBottomLeftCornerRadius:pi,rectangleBottomRightCornerRadius:pi,rectangleCornerRadiiIndependent:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.rectangle_radii_independent")),rectangleCornerToolIndependent:null,sharedComponentMasterData:null,cornerSmoothing:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.corner_smoothing")),styleType:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_type")),styleDescription:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.style_description")),unflatteningMappings:null,letterSpacing:ps,version:null,userFacingVersion:null,sharedStyleMasterData:null,sharedStyleReference:null,sortPosition:null,isPublishable:null,exportTextAsSVGText:null,isSoftDeletedStyle:null,isSoftDeleted:null,isNonUpdateable:null,isOverrideOverTextStyle:null,connectionURL:null,prototypeDevice:null,backgroundPaints:null,arcData:null,derivedSymbolDataLayoutVersion:null,navigationType:null,fontVersion:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.font_version")),textUserLayoutVersion:null,textExplicitLayoutVersion:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_explicit_layout_version")),textBidiVersion:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.text_bidi_version")),toggledOnOTFeatures:null,toggledOffOTFeatures:null,overrideKey:null,publishFile:null,sourceLibraryKey:null,publishID:null,key:null,componentKey:null,isC2:null,publishedVersion:null,containerSupportsFillStrokeAndCorners:null,isStateGroup:null,voiceEventPhrase:null,forceUnflatteningMappings:null,ancestorPathBeforeDeletion:null,stateGroupPropertyValueOrders:null,nodeGenerationData:null,derivedImmutableFrameData:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.derived_immutable_frame_data")),derivedImmutableFrameDataVersion:null,shapeWithTextType:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.value.node_type.shape_with_text")),connectorStart:null,connectorEnd:null,connectorLineStyle:null,connectorStartCap:null,connectorEndCap:null,connectorType:null,shapeUserHeight:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.shape_user_height")),overrideStash:null,overrideStashV2:null,internalEnumForTest:null,internalDataForTest:null,connectorControlPoints:null,connectorTextMidpoint:null,annotations:null,measurements:null,libraryMoveInfo:null,libraryMoveHistory:null,useAbsoluteBounds:null,stampData:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.stamp_data")),embedData:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.embed_data")),linkPreviewData:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.link_preview_data")),richMediaData:uS(()=>(0,eb.t)("collaboration.branching_node_treatments.property.rich_media_data")),textTruncation:pd,maxLines:pd,shapeTruncates:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.shape_truncates")),sectionContentsHidden:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.section_contents_hidden")),widgetTooltip:null,borderTopWeight:pn,borderBottomWeight:pn,borderLeftWeight:pn,borderRightWeight:pn,borderStrokeWeightsIndependent:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.border_stroke_weights_independent")),widgetHoverStyle:null,hasHadRTLText:null,emojiImageSet:null,slideThumbnailHash:null,isWidgetStickable:null,shouldHideCursorsOnWidgetHover:null,variableData:null,variableDataValues:null,variableConsumptionMap:s?ux((0,eb.t)("collaboration.branching_node_treatments.property.variables"),r):null,variableModeBySetMap:null,variableSetModes:null,variableSetID:null,backingVariableSetId:null,rootVariableKey:null,isCollectionExtendable:null,variableResolvedType:null,variableScopes:null,codeSyntax:null,fileAssetIds:null,derivedTextData:null,agendaPositionMap:null,agendaMetadataMap:null,migrationStatus:null,editInfo:null,documentColorProfile:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.document_color_profile")),accessibleHTMLTag:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.html_tag")),ariaRole:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.aria_role")),accessibleLabel:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.accessible_label")),ariaAttributes:uv(()=>(0,eb.t)("collaboration.branching_node_treatments.property.aria_attributes")),tableRowPositions:null,tableColumnPositions:null,tableRowHeights:null,tableColumnWidths:null,areSlidesManuallyIndented:null,detachedSymbolId:null,sevMoonlitLilyData:null,readingIndex:null,childReadingDirection:null,sectionStatusInfo:null,handoffStatusMap:null,developerRelatedLinks:null,slideActiveThemeLibKey:null,slideSpeakerNotes:null,diagramLayoutRuleType:null,diagramParentIndex:null,diagramLayoutPaused:null,editScopeInfo:null,sectionPresetInfo:null,semanticWeight:null,semanticItalic:null,isPageDivider:null,isResponsiveSet:null,defaultResponsiveSetId:null,responsiveSetSettings:null,behaviors:null})),py.get(e)}function pb(e){return"REMOVED"===e.phase}function pv(e){return"REMOVED"===e.phase}function pS(e,r){return e===c0.FO.TEST_SUITE||(e===c0.FO.LEGO?c0.yC[r]:c0.b2[r])}function pI({basis:e,changes:r,treatmentsConfig:n,chunkViewType:i,compareThumbnailSource:a=c0.FO.BRANCHING,chunk:o,changedStyles:s,isRootNode:l}){let d={},c=a===c0.FO.LEGO,u=c?eg.cF:eg.c2,p=a===c0.FO.TEST_SUITE;if(c&&pv(e)){let e="phase";d[e]={identifier:e,name:()=>(0,eb.t)("collaboration.branching_node_treatments.property.added_node"),oldValue:()=>"",newValue:()=>""}}else if(c&&pb(r)){let e="phase";d[e]={identifier:e,name:()=>(0,eb.t)("collaboration.branching_node_treatments.property.removed_node"),oldValue:()=>"",newValue:()=>""}}else{Object.keys(r).forEach(h=>{var m,g,f,_;if(c&&["inheritGridStyleID","inheritFillStyleID","inheritEffectStyleID","inheritFillStyleIDForStroke","inheritTextStyleID"].includes(h))return;let y=n[h];if(y&&pS(a,h)&&(p||!u(e[h],r[h]))&&y.treatmentType===c0.Rv.RENDER_SINGLE_PROPERTY){let n=e.stackMode!==r.stackMode,a="VERTICAL"===e.stackMode&&(!e.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackPrimarySizing)||"HORIZONTAL"===e.stackMode&&"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackCounterSizing,c="HORIZONTAL"===e.stackMode&&(!e.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackPrimarySizing)||"VERTICAL"===e.stackMode&&"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackCounterSizing;if(!n&&a&&"size"===h&&uF((null==(m=e.size)?void 0:m.x)??0)===uF((null==(g=r.size)?void 0:g.x)??0)||!n&&c&&"size"===h&&uF((null==(f=e.size)?void 0:f.y)??0)===uF((null==(_=r.size)?void 0:_.y)??0)||l&&"transform"===h)return;let u=y.renderOldValue(h,e[h],r[h],o,i,s),p=y.renderNewValue(h,e[h],r[h],o,i,s);(null==u?void 0:u.valueOf())!==(null==p?void 0:p.valueOf())&&(d[h]={identifier:h,name:()=>y.renderName(h),oldValue:()=>u,newValue:()=>p})}if(y&&y.treatmentType===c0.Rv.RENDER_DISPLAY_NODE_SINGLE_PROPERTY&&(c||to.dI(r.guid)===to.dI(o.displayNode.guid))&&(p||!u(e[h],r[h]))){let n=y.renderOldValue(h,e[h],r[h]),i=y.renderNewValue(h,e[h],r[h]);d[h]={identifier:h,name:()=>y.renderName(h),oldValue:()=>n,newValue:()=>i}}});let h={};Object.keys(r).forEach(i=>{let a=n[i];a&&a.treatmentType===c0.Rv.RENDER_MULTI_PROPERTY&&(h[a.identifier]=h[a.identifier]||[],h[a.identifier].push({treatment:a,fieldName:i,oldValue:e[i],newValue:r[i]}))},{}),Object.keys(h).forEach(n=>{let i=h[n];var a=!0;i.forEach(e=>{var r,n;(null==(r=e.oldValue)?void 0:r.toString())!==(null==(n=e.newValue)?void 0:n.toString())&&(a=!1)});let o=i[0],s=o.treatment,l=s.renderOldValue(i,e,r),u=s.renderNewValue(i,e,r);c&&null===u||!p&&a||(d[o.fieldName]={identifier:s.identifier,name:()=>s.renderName(i),oldValue:()=>l,newValue:()=>u})})}return Object.keys(n).map(e=>d[e]).filter(Boolean)}function pT({basis:e,changes:r,chunkViewType:n,compareThumbnailSource:i,chunk:a,changedStyles:o,isRootNode:s=!1,RenderTableDelegate:l}){return i!==c0.FO.LEGO&&(pb(r)||pv(e))?[]:pI({basis:e,changes:r,treatmentsConfig:pE(i,l),chunkViewType:n,compareThumbnailSource:i,chunk:a,changedStyles:o,isRootNode:s})}function pw(e,r){return function(e,r,n){let i=(function(e){if(Array.isArray(e))return e;let r=[],n=e=>{var i;e.value&&r.push(e.value),null==(i=e.children)||i.forEach(n)};return n(e),r})(e).reduce((e,i)=>{let{change:a,basis:o}=i,s=Object.keys(a).reduce((e,i)=>{let s=r[i];return s&&pS(n,i)&&s.treatmentType===c0.Rv.RENDER_MULTI_NODE&&(e[s.identifier]=e[s.identifier]||[],e[s.identifier].push({fieldName:i,treatment:s,oldValue:o[i],newValue:a[i]})),e},{});return Object.keys(s).forEach(r=>{e[r]=e[r]||[],e[r].push(s[r])}),e},{});return Object.values(r).map(e=>{if((null==e?void 0:e.treatmentType)===c0.Rv.RENDER_MULTI_NODE){let r=i[e.identifier];if(r)return delete i[e.identifier],function(e){let r=e[0][0];return r?{identifier:r.treatment.identifier,name:()=>r.treatment.renderName(e),oldValue:()=>r.treatment.renderOldValue(e),newValue:()=>r.treatment.renderNewValue(e)}:null}(r)}}).filter(Boolean)}(e,pE(r),r)}function pC(e,r,n,i,a,o){let s=e&&uq[e];return s?pI({basis:r,changes:n,treatmentsConfig:s,chunkViewType:i,compareThumbnailSource:o,chunk:a,isRootNode:!1}):[]}function pA(e){let{basis:r,change:n,changesToDisplay:i}=e,a=cJ(r,n),o=ep.useMemo(()=>({"data-tooltip":a,"data-tooltip-type":iL.Ib.TEXT}),[a]);return ep.createElement("div",{className:"chunk_diff_details--node--c80fZ"},ep.createElement("div",{className:"chunk_diff_details--nodeTitle--hzugs"},ep.createElement("span",{className:"chunk_diff_details--nodeIcon--ui-4E"},ep.createElement(cQ,{basis:r,change:n})),ep.createElement(sA.R,{className:"chunk_diff_details--truncTextPadRight--E-Ke0",text:a,tooltipPropsWhenTruncated:o}),ep.createElement(pP,{change:n,basis:r})),ep.createElement("div",null,ep.createElement(pL,{changesToDisplay:i})))}function pN({skipMargin:e}){return ep.createElement("span",{className:ek()("chunk_diff_details--removedLabel--h5i2C chunk_diff_details--label---p6Jd",{[uu]:e})},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.phase_removed"}))}function pO({skipMargin:e}){return ep.createElement("span",{className:ek()("chunk_diff_details--changedLabel--jqma6 chunk_diff_details--label---p6Jd",{[uu]:e})},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.phase_updated"}))}function pR({skipMargin:e}){return ep.createElement("span",{className:ek()("chunk_diff_details--addedLabel--gLd-C chunk_diff_details--label---p6Jd",{[uu]:e})},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.phase_created"}))}function pP(e){let{basis:r,change:n}=e;return pv(r)?ep.createElement(pR,null):pb(n)?ep.createElement(pN,null):ep.createElement(pO,null)}function pL(e){let{changesToDisplay:r}=e;return ep.createElement(ep.Fragment,null,r.map(e=>ep.createElement("div",{key:e.identifier,className:ek()(ui,up)},ep.createElement("div",{className:ek()(uo,uh)},ep.createElement("div",{className:ui},ep.createElement("div",{className:us},null==e?void 0:e.name()),ep.createElement("div",{className:"chunk_diff_details--leftRightContainerLeft--XQxsR"},ep.createElement("div",{className:ul},e.oldValue())))),ep.createElement("div",{className:ek()(ud,uh)},ep.createElement("div",{className:ul},e.newValue())))))}function pD(e){let{chunk:r,compareThumbnailSource:n}=e,[i,a]=ep.useState(!0),{change:o,basis:s}=e.pairedChanges[0],l=pC(r.displayNode.styleType,s,o,c0.fE.MERGE_REVIEW,r,n);return 0===l.length?null:ep.createElement(ep.Fragment,null,ep.createElement("div",{className:ut},ep.createElement("div",{className:ur,role:"button",tabIndex:0,onClick:()=>{a(!i)}},i?ep.createElement(sR.B,{svg:dg.A,className:un}):ep.createElement(sR.B,{svg:df.A,className:un}),ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.change_details"}))),ep.createElement("div",null,l.map(e=>ep.createElement("div",{className:up,key:(0,aM.g)()},ep.createElement("div",{className:ui},ep.createElement("div",{className:ek()(uo)},ep.createElement("div",{className:ui},ep.createElement("div",{className:ek()(uo,us)},e.name()),ep.createElement("div",{className:ud},ep.createElement("div",{className:ul},e.oldValue())))),ep.createElement("div",{className:ek()(ud,"chunk_diff_details--changesInset--DVnsf")},ep.createElement("div",{className:ul},e.newValue())))))))}function pM(e){let{pairedChanges:r,chunk:n,compareThumbnailSource:i}=e,[a,o]=ep.useState(!0),s=pw(r,i),l=(0,ag.WI)(r.map(e=>{let r=pT({basis:e.basis,changes:e.change,chunkViewType:c0.fE.MERGE_REVIEW,compareThumbnailSource:i,chunk:n,changedStyles:e.changedStyles});return r.length?{...e,changesToDisplay:r}:null}));return(Array.isArray(l)?0===l.length:function(e){let r=[e];for(;r.length>0;){let e=r.pop();if(e&&void 0!==e.value)return!1;r.push(...(null==e?void 0:e.children)||[])}return!0}(l))&&0===s.length||n&&n.phase===eT.Dje.REMOVED?null:ep.createElement(ep.Fragment,null,ep.createElement("div",{className:ut},ep.createElement("div",{className:ur,role:"button",tabIndex:0,onClick:()=>{o(!a)}},a?ep.createElement(sR.B,{svg:dg.A,className:un}):ep.createElement(sR.B,{svg:df.A,className:un}),ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.change_details"})))),a&&ep.createElement(ep.Fragment,null,ep.createElement("div",null,ep.createElement(pL,{changesToDisplay:s})),ep.createElement("div",{className:"chunk_diff_details--layersList--e9S0c"},Array.isArray(l)&&l.map(e=>ep.createElement(pA,{key:(0,to.dI)(e.change.guid),basis:e.basis,change:e.change,changesToDisplay:e.changesToDisplay})))))}let pk=ep.memo(function(e){let{basis:r,changes:n,chunk:i,compareThumbnailSource:a}=e,o=ep.useMemo(()=>cZ(r||[]),[r]);if(!n||!r)return null;let s=n.map(e=>({change:e,basis:o[(0,to.dI)(e.guid)]}));return ep.createElement("div",{className:"chunk_diff_details--chunkDiffDetails--jy2yz text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement("div",{className:"chunk_diff_details--divider--2Mr-q"}),cX(i)?ep.createElement(pD,{pairedChanges:s,chunk:i}):ep.createElement(pM,{pairedChanges:s,chunk:i,compareThumbnailSource:a}))});class px extends ep.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.error"}):ep.createElement(pk,{changes:this.props.changes,basis:this.props.basis,chunk:this.props.chunk,compareThumbnailSource:this.props.compareThumbnailSource})}}let pF="chunk_diff--overlayChunk--vY17L",pU="chunk_tile--itemRow--DBep5",pB="chunk_tile--faint--QrXp2",pV="chunk_tile--title--Jrj1k",pH="chunk_tile--stylePreviewContainer--dQhyt",pG="chunk_tile--textStylePreviewInverted--LQ72y";function pW({isDarkBackground:e,displayNode:r,shouldSkip:n}){let i=e?"chunk_diff--faintDarkBackground--wOnvP":"chunk_diff--faintLightBackground--d-LBw";if(n)return ep.createElement("div",{className:i},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.fallback_no_item"}));if(r&&a7(r)){let e=oc(r);return ep.createElement(sR.B,{svg:e,className:"chunk_diff--grid--80il5",autosize:!0,width:"40px"})}return ep.createElement("div",{className:i},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.fallback_missing_preview"}))}function pz({className:e,title:r,image:n,style:i,displayNode:a,displayNodeStyleType:o,isMainChunkCanvas:s,shouldSkip:l}){let d="dark"===(0,e5.DP)(),c=!l&&!(a&&a7(a))&&void 0===n,u=ou(o),p="TEXT"===o,h="FILL"===o,m=ek()({"chunk_diff--chunkImage--hEGkg":!0,[pH]:p||h}),g=ek()({[pG]:p&&d}),f=ep.useMemo(()=>n&&!(a&&a7(a))?{data:n.image,width:n.width,height:n.height,scale:(0,e2.kc)().branching_detail_view_zoom?u?2:4:2}:null,[n,a,u]),_=op(d,null==i?void 0:i.backgroundColor,o),y=f?ep.createElement(sG.ec,{className:m,canvasClassName:g,style:{...i},image:f}):ep.createElement("div",{style:i,className:m},ep.createElement(sW.x,{isLoading:c},()=>ep.createElement(pW,{isDarkBackground:_,displayNode:a,isMainChunkCanvas:s,shouldSkip:l})));return ep.createElement(sH.or,{containerStyle:e,isDarkBackground:_,title:r},y)}let pK=ep.memo(function(e){var r,n;let{chunkDetail:i}=e,[a,o]=ep.useState(sH.Ss.SIDE_BY_SIDE),[s,l]=ep.useState(.5),[d,c]=ep.useState(!0),u="CANVAS"===e.displayChunk.mainChunk.displayNode.type,p=e.displayChunk.mainChunk.displayNode.styleType,h=op("dark"===(0,e5.DP)(),e.beforeBackgroundColorStyle.backgroundColor,p)?"chunk_diff--beforeChunk---fPIR chunk_diff--_chunk--2CSwp":"chunk_diff--beforeChunkLightCanvas--jrMYC chunk_diff--beforeChunk---fPIR chunk_diff--_chunk--2CSwp";ep.useEffect(()=>{e.showOptions||o(sH.Ss.SIDE_BY_SIDE)},[e.showOptions]);let m=()=>{let r=!!e.beforeImage||!!e.afterImage;return ep.createElement(sH.BL,{isPreviewAvailable:r,showOptions:e.showOptions,view:a,onSideBySideClick:()=>o(sH.Ss.SIDE_BY_SIDE),onOverlayClick:()=>o(sH.Ss.OVERLAY)})};return ep.createElement("div",{className:"chunk_diff--container--YZ2OE"},a===sH.Ss.SIDE_BY_SIDE&&ep.createElement(sH.qW,{zoomPercentageOptions:(0,e2.kc)().branching_detail_view_zoom?[25,50,100,150]:[25,50,100],resetStateOnChangeValue:e.displayChunk.mainChunk.originalIndex,zoomOnMousePointer:!1},ep.createElement(pz,{className:h,style:e.beforeBackgroundColorStyle,title:ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.side_by_side_left_label"}),image:e.beforeImage,shouldSkip:e.displayChunk.mainChunk.phase===eT.Dje.CREATED,displayNode:null==(n=null==(r=e.chunkDetail)?void 0:r.diffBasis)?void 0:n.find(a7),displayNodeStyleType:p,isMainChunkCanvas:u}),ep.createElement(pz,{className:"chunk_diff--afterChunk--1K5OP chunk_diff--_chunk--2CSwp",style:e.beforeBackgroundColorStyle,title:ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.side_by_side_right_label"}),image:e.afterImage,shouldSkip:e.displayChunk.mainChunk.phase===eT.Dje.REMOVED,displayNode:e.displayChunk.mainChunk.displayNode,displayNodeStyleType:p,isMainChunkCanvas:u}),m()),a===sH.Ss.OVERLAY&&ep.createElement(sH.xY,{zoomPercentageOptions:(0,e2.kc)().branching_detail_view_zoom?[25,50,100,150]:[25,50,100],resetStateOnChangeValue:e.displayChunk.mainChunk.originalIndex,zoomOnMousePointer:!1},ep.createElement(pz,{image:e.beforeImage,style:e.beforeBackgroundColorStyle,className:pF,shouldSkip:e.displayChunk.mainChunk.phase===eT.Dje.CREATED,displayNodeStyleType:p,isMainChunkCanvas:u}),d&&ep.createElement(pz,{style:{...e.beforeBackgroundColorStyle,opacity:s},image:e.afterImage,className:pF,shouldSkip:e.displayChunk.mainChunk.phase===eT.Dje.REMOVED,displayNodeStyleType:p,isMainChunkCanvas:u}),ep.createElement(sH.u,{opacity:s,isAfterImageShown:d,onToggleClick:()=>c(!d),onOpacityChange:e=>l(e.a)}),m()),i?ep.createElement(px,{changes:i.nodeChanges,basis:i.diffBasis,chunk:e.displayChunk.mainChunk,compareThumbnailSource:e.compareThumbnailSource}):null)}),pj="chunk_phase--phaseLabel--jHaPR";var pY=n(19785),p$=n(36454);function pq(e){let r=["chunk_phase--phaseBadge--F19Lq"];e.className&&r.push(e.className);let n="chunk_phase--phaseIcon--w-X7b";switch(e.phase){case eT.Dje.UPDATED_LIBRARY:{r.push("chunk_phase--updatedLibrary--pFUV9");let i=(0,eb.t)("collaboration.branching_chunk.phase_updated_library");return ep.createElement("div",{className:r.join(" ")},ep.createElement(sR.B,{svg:dM.A,className:n,autosize:!0,width:"10px","data-tooltip-type":e.hideLabel?iL.Ib.TEXT:void 0,"data-tooltip":i}),!e.hideLabel&&ep.createElement("span",{className:pj},i))}case eT.Dje.CREATED:{r.push("chunk_phase--added--PSD48");let i=(0,eb.t)("collaboration.branching_chunk.phase_created");return ep.createElement("div",{className:r.join(" ")},ep.createElement(sR.B,{svg:p$.A,className:n,autosize:!0,width:"8px","data-tooltip-type":e.hideLabel?iL.Ib.TEXT:void 0,"data-tooltip":i}),!e.hideLabel&&ep.createElement("span",{className:pj},i))}case eT.Dje.REMOVED:{r.push("chunk_phase--removed--WDLhF");let i=(0,eb.t)("collaboration.branching_chunk.phase_removed");return ep.createElement("div",{className:r.join(" ")},ep.createElement(sR.B,{svg:pY.A,className:n,autosize:!0,width:"8px","data-tooltip-type":e.hideLabel?iL.Ib.TEXT:void 0,"data-tooltip":i}),!e.hideLabel&&ep.createElement("span",{className:pj},i))}case eT.Dje.UPDATED:{r.push("chunk_phase--edited--1KN2v");let i=(0,eb.t)("collaboration.branching_chunk.phase_updated");return ep.createElement("div",{className:r.join(" ")},ep.createElement(sR.B,{svg:dX.A,className:n,autosize:!0,width:"8px","data-tooltip-type":e.hideLabel?iL.Ib.TEXT:void 0,"data-tooltip":i}),!e.hideLabel&&ep.createElement("span",{className:pj},i))}case eT.Dje.UNMODIFIED:return null;default:(0,eh.xb)(e.phase)}}let pZ="chunk_property_changes--additionOrRemoval--7t5J4",pX=new Set(["guid","phase"]);function pJ(e){let{value:r}=e;return void 0===r?null:r&&"object"==typeof r||Array.isArray(r)?ep.createElement("div",{className:"chunk_property_changes--nestedValue--qJ45p"},ep.createElement(pQ,{value:r})):r.toString()}function pQ(e){let{value:r}=e;return void 0===r?null:Array.isArray(r)?ep.createElement("div",null,r.map((e,r)=>ep.createElement(pQ,{key:r,value:e}))):r&&"object"==typeof r?ep.createElement("div",null,Object.entries(r).map(([e,r])=>ep.createElement("div",{key:e,className:"chunk_property_changes--objectChangeObjectValue--7kJ9b"},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_node_value_denoter",propertyName:e,propertyValue:ep.createElement(pJ,{value:r})})))):ep.createElement("div",null,r.toString())}function p0(e){let{prevValue:r,newValue:n}=e;return ep.createElement("div",{className:"chunk_property_changes--objectChange--BL0gA"},r?ep.createElement("div",{className:"chunk_property_changes--objectChangeElemLeft--aAmuX"},ep.createElement(pQ,{value:r})):null,ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_changed_value_denoter"})),n?ep.createElement("div",{className:"chunk_property_changes--objectChangeElemRight--SKPdA"},ep.createElement(pQ,{value:n})):null)}function p1(e){let{prevValue:r,newValue:n}=e;return void 0!==r&&void 0!==n?ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_edited",prevValue:r.toString(),newValue:n.toString()}):void 0!==r?ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_removed",prevValue:r.toString()}):void 0!==n?ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_added",newValue:n.toString()}):null}function p2(e){let{prevValue:r,newValue:n}=e;if([r,n].some(Array.isArray)){let{removed:e,added:i}=function(e,r){let n=[],i=r?[...r]:[];return e&&e.forEach(e=>{let r=i.findIndex(r=>n3()(e,r));r>-1?i.splice(r,1):n.push(e)}),{removed:n,added:i}}(r,n);return ep.createElement("div",null,e.length?ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_node_removed_items"}),ep.createElement("div",{className:pZ},ep.createElement(pQ,{value:e}))):null,i.length?ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_node_added_items"}),ep.createElement("div",{className:pZ},ep.createElement(pQ,{value:i}))):null)}return[r,n].some(e=>e&&"object"==typeof e)?ep.createElement(p0,{prevValue:r,newValue:n}):ep.createElement(p1,{prevValue:r,newValue:n})}function p3(e){let{fieldName:r,prevValue:n,newValue:i}=e;return ep.createElement("div",{className:"chunk_property_changes--property--WdCvZ"},ep.createElement("div",{className:"chunk_property_changes--propertyTitle--ntp3n"},(0,di.Zr)((0,di._5)(r).split("_").join(" "))),ep.createElement("div",null,ep.createElement(p2,{prevValue:n,newValue:i})))}function p5(e){let{basis:r,changes:n}=e;if("REMOVED"===n.phase)return ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_node_removed"});let i=Object.keys(n).filter(e=>!pX.has(e));return ep.createElement(ep.Fragment,null,i.map(e=>ep.createElement(p3,{key:e,fieldName:e,prevValue:r[e],newValue:n[e]})))}function p4(e){let r=e.basis;return"REMOVED"===r.phase&&(r=e.changes),ep.createElement(cN,{node:r,className:"chunk_property_changes--nodeIcon--FOfdw"})}function p6(e){let{basis:r,changes:n}=e;return ep.createElement("div",{className:"chunk_property_changes--node--lx12y"},ep.createElement("div",{className:"chunk_property_changes--nodeTitle--r0xjW"},ep.createElement(p4,{basis:r,changes:n}),r&&r.name?r.name:n&&n.name?n.name:"Unnamed node"),ep.createElement("div",{className:"chunk_property_changes--nodeContents--YUPSE"},ep.createElement(p5,{changes:n,basis:r})))}function p8(e){let{basis:r,changes:n}=e,i=ep.useMemo(()=>{let e={};return(r||[]).forEach(r=>{r.guid&&(e[(0,to.dI)(r.guid)]=r)}),e},[r]);return n&&r?ep.createElement(sO.P,{className:"chunk_property_changes--scrollContainer--1xvIv"},ep.createElement("div",{className:"chunk_property_changes--chunkPropertyChanges---T6-3 text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement("div",{className:"chunk_property_changes--mainTitle--W8ykx"},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.property_change_non-previewable"})),ep.createElement("div",null,n.map(e=>ep.createElement(p6,{key:(0,to.dI)(e.guid),changes:e,basis:i[(0,to.dI)(e.guid)]}))))):null}class p7 extends ep.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.error"}):ep.createElement(p8,{changes:this.props.changes,basis:this.props.basis})}}class p9 extends ep.Component{constructor(e){super(e),this.calledOnAllChunksRendered=!1,this.tick=()=>{this.setState({maxIndex:this.state.maxIndex+this.props.chunkSize}),this.frameRequest=null,this.tickIfNeeded()},this.tickIfNeeded=()=>{if(!this.frameRequest){if(ep.Children.count(this.props.children)<this.state.maxIndex){this.props.onAllChunksRendered&&!this.calledOnAllChunksRendered&&(this.props.onAllChunksRendered(),this.calledOnAllChunksRendered=!0);return}this.frameRequest=requestAnimationFrame(this.tick)}},this.state={maxIndex:0},this.frameRequest=null}componentDidMount(){this.tickIfNeeded()}UNSAFE_componentWillReceiveProps(e){this.props.listKey!==e.listKey&&(this.setState({maxIndex:this.props.chunkSize}),this.tickIfNeeded())}componentDidUpdate(){this.tickIfNeeded()}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}render(){let e=ep.Children.toArray(this.props.children).slice(0,this.state.maxIndex);return ep.createElement("div",{className:this.props.className,ref:this.props.forwardedRef,style:this.props.style},e)}}p9.displayName="RenderListByChunks";var he=n(58064);let ht=ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.tile_preview_node_fallback"}),hr=ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.tile_empty_page_fallback"}),hn=ep.memo(function(e){let{displayNode:r,parentNode:n,image:i,onClick:a,comments:o,phase:s,isImageLoading:l,backgroundColorStyle:d}=e,c=r.name?sw(r.name):void 0,u=r.styleType,p="TEXT"===u,h="dark"===(0,e5.DP)(),m=ep.useRef(null),g=ep.useRef(null),[f,_]=ep.useState(null),[y,E]=ep.useState(null),b=e=>{if(!e||!m.current||!g.current)return{prefix:""};let r=m.current,n=g.current,i=document.createElement("div");if(i.setAttribute("style",`
          display: inline;
          white-space: nowrap;
        `),r.appendChild(i),i.innerText=e,i.getBoundingClientRect().width<=176)return r.removeChild(i),{prefix:e};let a="\u2026";i.getBoundingClientRect().width<=376&&(a="");let o="",s="",l=0,d=e.length-1,c=d;for(;c>0;){let r=e.slice(0,c);i.innerText=r;let{width:n}=i.getBoundingClientRect();if(n>=161&&n<=176){o=r;break}n<161?l=c:n>176&&(d=c),c=Math.floor((d+l)/2),o=r}r.removeChild(i),n.appendChild(i);let u=!0;l=c,d=e.length-1;let p=l;for(;p<d;){let r=`${a} ${e.slice(p)}`;i.innerText=r;let{width:n}=i.getBoundingClientRect();if(u&&n<200||n>=185&&n<=200){s=r;break}n<185?d=p:n>200&&(l=p),p=Math.floor((d+l)/2),u=!1,s=r}return n.removeChild(i),{prefix:o,suffix:s}};ep.useEffect(()=>{let{prefix:e,suffix:r}=b(c);_(e),r?E(r):E(null)},[c]);let v=ek()({"chunk_tile--container--mpddX chunk_tile--_containerBorder--kUoXs":!0,"chunk_tile--clickable---Aa4s":void 0!==a,"chunk_tile--disappear--kR8Vi":!f}),S=ek()({"chunk_tile--imageBox--D9uhw":!0,[pH]:p||"FILL"===u}),I=ek()({"chunk_tile--image--cMcns":!0,[pG]:p&&h}),T={textAlign:"left"};return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:v,onClick:a},ep.createElement("div",{className:S,style:d},l?ep.createElement(st.Qp,{className:"chunk_tile--loading--1mH3A",animationType:st.JR.LIGHT_SHIMMER}):i?ep.createElement("img",{srcSet:`${i} 2x`,className:I,draggable:!1,alt:""}):(()=>{let{displayNode:r}=e;if("GRID"===u){let e=oc(r);return ep.createElement(sR.B,{svg:e,className:"chunk_tile--gridIcon--BISRZ",autosize:!0,width:"40px"})}return"CANVAS"===r.type?ep.createElement("div",{className:pB},hr):ep.createElement("div",{className:pB},ht)})(),s!==eT.Dje.UNMODIFIED&&!l&&ep.createElement(pq,{phase:s,className:"chunk_tile--phase--TMVK0"}),o&&!l&&(()=>{let{comments:r}=e;return r?ep.createElement("div",{className:"chunk_tile--comments--pqFvU"},ep.createElement(sR.B,{svg:he.A,autosize:!0,width:"10px"}),r.length):ep.createElement(ep.Fragment,null)})()),ep.createElement("div",{className:"chunk_tile--detailBox--svIR3"},ep.createElement("div",{className:pU},ep.createElement(cN,{className:"chunk_tile--nodeIcon--fvcpD object_row--layerIcon--dTOdu",node:r,parentNode:n}),ep.createElement("div",{className:pV,ref:m,style:T,dir:"auto"},f)),ep.createElement("div",{className:y&&y.length>0?pU:""},ep.createElement("div",{className:pV,ref:g,style:T,dir:"auto"},y&&y.length>0&&y)),(!!e.affectedCount||!!e.variantCount)&&ep.createElement("div",{className:`${pB} chunk_tile--bottom---H91S`},!!e.variantCount&&ep.createElement(ep.Fragment,null,e.phase===eT.Dje.UPDATED||e.phase===eT.Dje.UPDATED_LIBRARY?ep.createElement(eb.Tx,{variantCount:e.variantCount,id:"collaboration.branching_chunk.tile_variants_changed"}):ep.createElement(eb.Tx,{variantCount:e.variantCount,id:"collaboration.branching_chunk.tile_variants"})),!!e.affectedCount&&!!e.variantCount&&ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.tile_variants_and_affected_items_separator"}),!!e.affectedCount&&ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.tile_affected_items",affectedCount:e.affectedCount})))))});var hi=n(76813);function ha({children:e,onClick:r}){let n=!!r;return ep.createElement("div",{className:ek()("chunk_row--container---E60d chunk_tile--_containerBorder--kUoXs",{"chunk_row--containerClickable--jquBH chunk_tile--clickable---Aa4s":n}),role:n?"button":void 0,tabIndex:n?0:-1,onClick:r},e)}function ho({assetName:e,icon:r}){return ep.createElement("div",{className:"chunk_row--assetLabel--SMLMR"},r&&ep.createElement("div",{className:"chunk_row--assetLabelIcon--dc4qL"},r),ep.createElement("span",null,e))}function hs({assetName:e,phase:r,onClick:n}){return ep.createElement(ha,{onClick:n},ep.createElement("div",{className:"variable_set_chunk_row--rowChildren--j9WwF"},ep.createElement("div",{className:"variable_set_chunk_row--rowLeftChildren--wqINC"},ep.createElement(ho,{assetName:e,icon:ep.createElement(sR.B,{svg:cE.A})}),ep.createElement(pq,{className:"variable_set_chunk_row--phase--RNlqr",phase:r})),ep.createElement("div",{className:"variable_set_chunk_row--rowRightChildren--lmXMC"},ep.createElement(hi.In,{icon:"chevron-right-32"}))))}let hl="chunk_section--caret--VCHP1",hd="chunk_section--systemImprovement--aPJZS",hc="chunk_section--questionMark--uQ9fS";var hu=n(91365);let hp=e=>"GRID"!==e.displayNode.styleType;function hh(e){let{group:r,pageIdToInfo:n,onChunkClick:i,images:a}=e,o=r.displayChunk.mainChunk,s=oh(o,n),l=to.dI(o.displayNode.guid),d=ep.useMemo(()=>i&&"index"in r?()=>{i(r)}:void 0,[i,r]),c=ep.useMemo(()=>o.phase!==eT.Dje.UNMODIFIED||function(e){if("SYMBOL"!==e.displayNode.type)return!1;let r=e.basisParentHierarchyGuids.map(r=>el.getParentHierarchyNodeChange(e.diffType,r,eT.kz3.BASIS_PARENT));for(let r of e.parentHierarchyGuids.map(r=>el.getParentHierarchyNodeChange(e.diffType,r,eT.kz3.PARENT)))if(r.isStateGroup)return!0;for(let e of r)if(e.isStateGroup)return!0;return!1}(o)?o.phase:eT.Dje.UPDATED,[o]),u=ep.useMemo(()=>a3(o),[o]);return ep.createElement(hn,{phase:c,backgroundColorStyle:s,displayNode:o.displayNode,parentNode:u,onClick:d,image:hp(o)?a[l]:null,key:l,isImageLoading:!(l in a),affectedCount:r.displayChunk.numAffectedChunks,variantCount:r.variantChunks.filter(e=>e.mainChunk.phase!==eT.Dje.UNMODIFIED).length})}var hm=((W=hm||{})[W.GRID=0]="GRID",W[W.LIST=1]="LIST",W);let hg=ep.memo(function(e){var r;let{displayGroups:n,onChangeVisibleGroups:i,onChunkClick:a,pageIdToInfo:o,displayType:s=0}=e,[l,d]=ep.useState(!e.initiallyCollapsed),[c,u]=ep.useState(Math.min(n.length,120)),p=c<n.length,h=ep.useRef(!1);e.initiallyCollapsed&&!h.current&&e.onAllChunksRendered&&(e.onAllChunksRendered(),h.current=!0);let m=()=>{d(!l)},g=e.displayGroups.map(e=>to.dI(e.displayChunk.mainChunk.displayNode.guid)).join(","),f=!!e.onChangeVisibleGroups,_=ep.useRef(new WeakMap),y=ep.useRef(new Set),E=ep.useRef(window.IntersectionObserver?new IntersectionObserver(r=>{if(f){let n=!1;for(let e of r){let r=_.current.get(e.target);if(r)for(let i of r)if(e.isIntersecting&&!y.current.has(i)){let e=y.current.size;y.current.add(i).size>e&&(n=!0)}else y.current.delete(i)&&(n=!0)}n&&e.onChangeVisibleGroups&&e.onChangeVisibleGroups(Array.from(y.current))}}):null),b=ep.useRef(window.IntersectionObserver?(r="chunk_section--stickyHeader--joj5o",new IntersectionObserver(e=>{for(let n of e)n.isIntersecting&&n.intersectionRatio<1&&n.intersectionRatio>0&&n.intersectionRect.height>0&&n.intersectionRect.height<n.boundingClientRect.height?n.target.classList.add(r):n.target.classList.remove(r)},{threshold:[0,1]})):null);return ep.useEffect(()=>{if(f&&!E.current){for(let e of n||[])y.current.add(e);i&&i(Array.from(y.current))}},[E,f,i,n]),ep.useEffect(()=>{let{current:e}=b,{current:r}=E;return()=>{r&&r.disconnect(),e&&e.disconnect()}},[E,b]),ep.createElement("div",{className:"chunk_section--container--fZyzH"},(()=>{let r=(e.systemImprovements||[]).length>0;return""!==e.header&&(0!==e.displayGroups.length||r)?ep.createElement("div",{className:"chunk_section--headerRow--7eHQl",ref:e=>{e&&b.current&&b.current.observe(e)}},ep.createElement("div",{className:"chunk_section--headerClickableArea----CMF",onClick:m},l?ep.createElement(sR.B,{svg:dg.A,className:hl}):ep.createElement(sR.B,{svg:df.A,className:hl}),e.icon&&ep.createElement(sR.B,{svg:e.icon,className:"chunk_section--headerIcon--zGp9Y"}),ep.createElement("div",{className:"chunk_section--header--sBtH5 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},e.header))):null})(),l&&(e.systemImprovements||[]).includes("file_improvement")&&ep.createElement("div",{className:hd},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.section_file_optimization"}),ep.createElement(sR.B,{svg:hu.A,className:hc,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.branching_chunk.section_file_optimization_tooltip"),autosize:!0,width:"11px"})),l&&(e.systemImprovements||[]).includes("interrupted_merge_recovery")&&ep.createElement("div",{className:hd},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.section_system_improvement"}),ep.createElement(sR.B,{svg:hu.A,className:hc,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.branching_chunk.section_system_improvement_tooltip"),autosize:!0,width:"11px"})),l&&e.displayGroups.length>0&&ep.createElement(p9,{chunkSize:5,className:1===s?"chunk_section--chunkList--SBKZz":"chunk_section--tilesGrid--K5qck",listKey:g,onAllChunksRendered:e.initiallyCollapsed?void 0:e.onAllChunksRendered},e.displayGroups.slice(0,c).map(r=>{let n=r.displayChunk.mainChunk,i=to.dI(n.displayNode.guid);return ep.createElement("div",{key:i,ref:e=>{e&&E.current&&f&&(E.current.observe(e),_.current.set(e,[r]))}},0===s?ep.createElement(hh,{group:r,pageIdToInfo:o,onChunkClick:a,images:e.images}):ep.createElement(hs,{assetName:r.displayChunk.mainChunk.displayNode.name??(0,eb.t)("variables.variable_collection"),phase:r.displayChunk.mainChunk.phase,onClick:a&&"index"in r?()=>a(r):void 0}))})),l&&p&&ep.createElement(eB.p6,{onClick:()=>{u(Math.min(c+120,n.length))},className:"chunk_section--nextPageButton--2PCoe"},(()=>{let e=Math.min(120,n.length-c);return ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.section_see_more",remainingChanges:e})})()))});var hf=n(159);let h_=ep.memo(function(e){let{displayGroupsByPage:r,pageIdToInfo:n,displayGroupsByStyle:i,displayGroupsByVariableSet:a,displayGroupsByLibrary:o,images:s,systemImprovements:l}=e,d=e=>`Local ${(0,ax.QT)(e)}`,c=r=>{var n;return(null==(n=e.fileKeyToFile[r])?void 0:n.name)||"Library changes"},[u,p]=ep.useState(1),h=ep.useRef(u),m=ep.useRef(null),g=ep.useCallback(()=>{m.current=null,p(h.current)},[h]),f=ep.useCallback(()=>{h.current+=1,m.current||(m.current=requestAnimationFrame(g))},[g]),_=0,y=(e.sortedPageIds?e.sortedPageIds:Object.keys(r)).map(i=>{var a;let o=r[i];return _+=o.length,{key:i,displayGroups:r[i],node:ep.createElement(hg,{onChangeVisibleGroups:e.onChangeVisibleGroups,displayGroups:o,header:null==(a=n[i])?void 0:a.name,images:s,pageIdToInfo:n,onChunkClick:e.onChunkClick,onAllChunksRendered:f,initiallyCollapsed:!1,key:i})}}),E=Object.keys(i).map(r=>{let a=i[r];return _+=a.length,{key:r,displayGroups:i[r],node:ep.createElement(hg,{onChangeVisibleGroups:e.onChangeVisibleGroups,displayGroups:a,onChunkClick:e.onChunkClick,header:d(r),images:s,pageIdToInfo:n,key:r,onAllChunksRendered:f,initiallyCollapsed:!1})}}),b=ep.useMemo(()=>(0,ag.Bq)(Object.values(a)),[a]),v=b.length?[{key:"variableSets",displayGroups:b,node:ep.createElement(hg,{onChangeVisibleGroups:e.onChangeVisibleGroups,displayGroups:b,displayType:hm.LIST,onChunkClick:e.onChunkClick,header:(0,eb.t)("variables.variable_collections"),images:s,pageIdToInfo:n,key:"variableSets",onAllChunksRendered:f,initiallyCollapsed:!1})}]:[];_+=v.length;let S=Object.keys(o).map(r=>{let i=o[r];return _+=i.length,{key:r,displayGroups:o[r],node:ep.createElement(hg,{onChangeVisibleGroups:e.onChangeVisibleGroups,displayGroups:i,header:c(r),images:s,icon:hf.A,pageIdToInfo:n,onChunkClick:e.onChunkClick,key:r,onAllChunksRendered:f,initiallyCollapsed:!1})}}),I=e.otherChanges&&e.otherChanges.length>0?[{key:"other",displayGroups:e.otherChanges,node:ep.createElement(hg,{onChangeVisibleGroups:e.onChangeVisibleGroups,displayGroups:e.otherChanges,header:"Other changes",images:s,pageIdToInfo:n,onChunkClick:e.onChunkClick,onAllChunksRendered:f,key:"other",initiallyCollapsed:!1})}]:[];e.otherChanges&&(_+=e.otherChanges.length);let T=(l&&l.length>0?[{key:"system",displayGroups:[],node:ep.createElement(hg,{onChangeVisibleGroups:sK.lQ,displayGroups:[],header:"System improvements",images:{},pageIdToInfo:{},onChunkClick:sK.lQ,onAllChunksRendered:sK.lQ,key:"system",initiallyCollapsed:!1,systemImprovements:l})}]:[...v,...y,...E,...S,...I]).slice(0,u);return ep.createElement("div",{className:"diff_summary--container--Z4AUc"},T.length>0?T.map((e,r)=>_>120&&0!==r?ep.cloneElement(e.node,{initiallyCollapsed:!0}):e.node):"No incoming changes to show.")}),hy="update_banner--button--lYM67",hE="update_banner--icon--wIDnp";var hb=n(71174),hv=((z=hv||{})[z.NO_UPDATES=0]="NO_UPDATES",z[z.CONFLICTING_UPDATES=1]="CONFLICTING_UPDATES",z[z.NON_CONFLICTING_UPDATES=2]="NON_CONFLICTING_UPDATES",z[z.CONFLICT_MERGE_BLOCKED=3]="CONFLICT_MERGE_BLOCKED",z[z.UNREAD_COMMENTS=4]="UNREAD_COMMENTS",z[z.DUPLICATED_GUIDS=5]="DUPLICATED_GUIDS",z);function hS(e){return ep.createElement("div",{className:"update_banner--container--vGcC6"},e.isLoading?ep.createElement(ep.Fragment,null,ep.createElement(e6.kt,{className:hE}),ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.calculating_conflicts"}))):ep.createElement(ep.Fragment,null,ep.createElement(sR.B,{svg:hb.A,className:hE}),ep.createElement("div",null,e.text),e.button))}function hI(e){var r,n;let{isLoading:i,isBlockingUpdate:a,isEditorOnRepo:o,numConflicts:s,canUpdate:l,unreadCommentCount:d}=e,c=r=>ep.createElement(eB.$$,{className:hy,onClick:e.switchToUpdateFromMain},r);switch(r=0!==s,n=!!d&&0!==d,e.hasDuplicateConflictingGuids?5:l?r?1:a?3:2:n?4:0){case 5:return ep.createElement(ep.Fragment,null);case 1:return ep.createElement(hS,{isLoading:i,text:(0,eb.t)("collaboration.branching_merge_modal.this_branch_has_conflicts_with_the_main_file",{numConflicts:s}),button:c((0,eb.t)("collaboration.branching_merge_modal.resolve_conflicts"))});case 3:if(o){let e=(0,eb.t)("collaboration.branching_merge_modal.updates_from_main_file_must_be_applied_before_merging");return ep.createElement(hS,{isLoading:i,text:e,button:c((0,eb.t)("collaboration.branching_merge_modal.update_from_main_file"))})}let u=(0,eb.t)("collaboration.branching_merge_modal.updates_from_main_file_must_be_applied_before_submitting_a_merge_request");return ep.createElement(hS,{isLoading:i,text:u,button:c((0,eb.t)("collaboration.branching_merge_modal.update_from_main_file"))});case 0:let p=(0,eb.t)("collaboration.branching_merge_modal.no_update_and_no_conflicts_from_main");return ep.createElement(hS,{isLoading:i,text:p,button:ep.createElement(ep.Fragment,null)});case 2:let h;let m=(0,eb.t)("collaboration.branching_merge_modal.updates_are_available_for_this_branch_but_you_can_merge_without_updating");return ep.createElement(hS,{isLoading:i,text:m,button:(h=(0,eb.t)("collaboration.branching_merge_modal.update_from_main_file"),ep.createElement(eB.nR,{className:hy,onClick:e.switchToUpdateFromMain},h))});case 4:return ep.createElement(hS,{isLoading:i,text:(0,eb.t)("collaboration.branching_merge_modal.you_have_unread_comments_on_this_branch",{unreadCommentCount:d||0}),button:ep.createElement(ep.Fragment,null)})}}let hT="branching_reviews_modals--input--0a8d0",hw="branching_reviews_modals--title--rB0Af",hC="branching_reviews_modals--button---sKiu",hA="branching_reviews_modals--footerButtons--np2D1";var hN=((K=hN||{}).APPROVED="approve",K.CHANGES_REQUESTED="suggest_changes",K);let hO=(0,iK.Ju)(function(e){var r,n,i;let a=(0,eJ.wA)(),[o,s]=ep.useState(e.mergeRequestReviewer.notes||""),[l,d]=ep.useState(e.mergeRequestReviewer.approved_at?"approve":e.mergeRequestReviewer.changes_requested_at?"suggest_changes":""),{inputRef:c,inputProps:{onChange:u,onFocus:p,onMouseLeave:h,onMouseUp:m,onKeyUp:g}}=function({select:e,onChange:r,onFocus:n,onMouseLeave:i,onMouseUp:a,onKeyUp:o,autoFocus:s}={}){let l=ep.useRef(null),d=ep.useRef(!1);ep.useLayoutEffect(()=>{var e,r;s&&(null==(e=l.current)||e.focus(),null==(r=l.current)||r.select())},[]);let c=ep.useMemo(()=>e??(()=>{var e;return null==(e=l.current)?void 0:e.select()}),[e]),u=ep.useCallback(()=>{let e=l.current;e&&d.current&&(e.selectionStart===e.selectionEnd&&c(),d.current=!1)},[c]),p=ep.useCallback(e=>{d.current=!0,null==n||n(e)},[n]),h=ep.useCallback(e=>{"Tab"===e.key&&(d.current=!0,u()),null==o||o(e)},[o,u]),m=ep.useCallback(e=>{d.current=!1,null==r||r(e)},[r]);return{inputRef:l,inputProps:{onFocus:p,onMouseUp:ep.useCallback(e=>{u(),null==a||a(e)},[a,u]),onMouseLeave:ep.useCallback(e=>{d.current=!1,null==i||i(e)},[i]),onKeyUp:h,onChange:m}}}({onChange:e=>{e.stopPropagation(),s(e.currentTarget.value)}});return ep.createElement(o$.Nb,{size:"small",title:(0,eb.t)("collaboration.branching_reviews.finish_your_review"),titleClassName:hw,hide:sK.lQ},ep.createElement(oj.s_,{dispatch:a}),ep.createElement(aA.z,{value:l,onChange:e=>{var r;d(e),null==(r=c.current)||r.focus()},className:"branching_reviews_modals--radioGroup--eWuSc"},ep.createElement(aA.Z,{value:"approve"},ep.createElement(eb.Tx,{id:"collaboration.branching_reviews.approve"})),ep.createElement(aA.Z,{value:"suggest_changes"},ep.createElement(eb.Tx,{id:"collaboration.branching_reviews.suggest_changes"}))),ep.createElement(sB.v,{className:hT,value:o,placeholder:(n=null==(r=e.mergeRequest.owner)?void 0:r.handle,i=e.mergeRequest.reviewers.length>1,n?i?(0,eb.t)("collaboration.branching_reviews.leave_a_comment_for_owner_and_other_reviewers",{ownerHandle:n}):(0,eb.t)("collaboration.branching_reviews.leave_a_comment_for_owner",{ownerHandle:n}):(0,eb.t)("collaboration.branching_reviews.leave_a_comment")),onChange:u,bypassModifiers:!0,focusToEnd:!0,ref:e=>{(null==e?void 0:e.textarea)&&(c.current=e.textarea)},onFocus:p,onMouseUp:m,onMouseLeave:h,onKeyUp:g}),ep.createElement("div",{className:hA},ep.createElement(eB.vd,{recordingKey:"leaveReviewModal",className:`${oq.pL} ${hC}`,onClick:()=>{a(sL({mergeRequestKey:e.mergeRequest.key,mergeRequestReviewerId:e.mergeRequestReviewer.id,changesRequested:"suggest_changes"===l,approved:"approve"===l,notes:o})),a(rH.Lo())},disabled:!l},ep.createElement(eb.Tx,{id:"collaboration.branching_reviews.submit"}))))},"leave-review-modal"),hR=(0,iK.Ju)(function(e){var r;let n=(0,eJ.wA)(),[i,a]=ep.useState((null==(r=e.existingMergeRequest)?void 0:r.description)||""),o=(0,eb.t)("collaboration.branching_reviews.add_context_optional"),s=e.existingMergeRequest?(0,eb.t)("collaboration.branching_reviews.give_reviewers_more_context_for_your_latest_changes"):(0,eb.t)("collaboration.branching_reviews.give_reviewers_more_context_for_your_changes");return ep.createElement(o$.Nb,{size:"small",title:(0,eb.t)("collaboration.branching_reviews.request_review"),titleClassName:hw,hide:sK.lQ},ep.createElement(oj.s_,{dispatch:n}),ep.createElement("div",{className:"branching_reviews_modals--titleSecondary--H8cmt"},s),ep.createElement(sB.v,{className:hT,value:i,placeholder:o,focusOnMount:!0,focusToEnd:!0,onChange:e=>{a(e.currentTarget.value)}}),ep.createElement("div",{className:hA},ep.createElement(eB.vd,{recordingKey:"requestReviewModal",className:`${oq.pL} ${hC}`,onClick:()=>{e.onRequestReview(i)}},ep.createElement(eb.Tx,{id:"collaboration.branching_reviews.send_to_reviewers",numReviewers:e.numReviewers}))))},"request-review-modal");var hP=n(64898),hL=n(33573),hD=n(63089),hM=n(98099);function hk(e){e.keyCode===sE.Uz.TAB&&(0,sE.sC)(e,sE.xH.SHIFT)||e.keyCode===sE.Uz.ENTER||e.keyCode===sE.Uz.SPACE||(0,rN.f7)(e,!0)}function hx(e){return ep.createElement(hF,{...e,role:"button"})}function hF({on:e,onChange:r,disabled:n,dataOnboardingKey:i,tooltipText:a,tooltipMaxWidth:o=400,toggleClassName:s,innerClassNameOverride:l,nubClassNameOverride:d,recordingKey:c,forwardEventsToFullscreen:u,"aria-labelledby":p,"aria-describedby":h,stopPropagationOnClick:m=!1,stopPropagationOnKeyDown:g,buttonRef:f,role:_,dataTestId:y}){let E=()=>!!(0,sS.gl)(e)||!e,b=(0,sS.gl)(e)?"mixed":e;return ep.createElement(l6.GG,{forwardedRef:f,recordingKey:c,className:ek()("toggle--toggleContainer--vS2j5",s),disabled:n,onClick:e=>{m&&e.stopPropagation(),n||r(E(),e)},onKeyDown:u?hk:g?e=>e.stopPropagation():void 0,"aria-describedby":h,"aria-labelledby":p,"aria-pressed":"button"===_?b:void 0,"aria-checked":"switch"===_?b:void 0,type:"button",role:_,onMouseDown:hM.dG,"data-onboarding-key":i,"data-tooltip-max-width":o,"data-tooltip-timeout-delay":50,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":a,"data-testid":y},(0,sS.gl)(e)?ep.createElement("div",{className:"toggle--toggleMixed--8rhV- toggle--_toggleState--AqpC3"},ep.createElement("div",{className:"toggle--toggleMixedBar--n0xuj"})):ep.createElement("div",{"data-testid":`${y}-inner`,className:l||(e?"toggle--toggleOn--RbOD7 toggle--_toggleState--AqpC3":"toggle--toggleOff--ODXMc toggle--_toggleState--AqpC3")},ep.createElement("div",{className:d||"toggle--toggleNub--lqxkE"})))}var hU=n(5113),hB=n(47131);function hV({name:e,resolvedType:r}){return ep.createElement("div",{className:"variable_name--root--GmUoS"},null!=r&&ep.createElement("div",{className:"variable_name--icon--z5cgt"},ep.createElement(du.i,{type:r})),ep.createElement("div",{className:"variable_name--name--qIvui"},"string"==typeof e?ep.createElement(hU.o,{text:e,showTooltip:hB.i.WHEN_TRUNCATED}):e))}var hH=n(95245);let hG="variables_diff--diffNameRoot--C6-Bm",hW="variables_diff--diffNamePhase--JDQul",hz="variables_diff--diffContainer--UeSzZ",hK="variables_diff--diffValue--CcMXG",hj="variables_diff--unchanged--PNiD3",hY="variables_diff--diffArrow--vL2T-";var h$=n(13557);function hq({name:e,resolvedType:r,phase:n}){return ep.createElement("div",{className:hG},ep.createElement(hV,{name:e,resolvedType:r}),ep.createElement("div",{className:hW},ep.createElement(pq,{phase:n,hideLabel:!0})))}function hZ({prev:e,next:r,phase:n}){return ep.createElement("div",{className:hz},e&&ep.createElement("div",{className:ek()({[hK]:!0,[hj]:!(r||n===eT.Dje.REMOVED)})},e),e&&r&&ep.createElement("div",{className:hY},ep.createElement(sR.B,{svg:h$.A})),r&&ep.createElement("div",{className:ek()({[hK]:!0,[hj]:!(e||n===eT.Dje.CREATED)})},r))}function hX({prev:e,next:r,phase:n}){let i=e===r?void 0:e;return ep.createElement("div",{className:hG},ep.createElement("div",{className:ek()(hz,"variables_diff--diffNameText--tD4YA")},i&&ep.createElement("div",{className:hK},i),i&&r&&ep.createElement("div",{className:hY},ep.createElement(sR.B,{svg:h$.A})),r&&ep.createElement("div",{className:hK},r)),ep.createElement("div",{className:hW},ep.createElement(pq,{phase:n,hideLabel:!0})))}function hJ({value:e}){return ep.createElement("div",{className:"variables_diff--colorValue--qYN3p"},ep.createElement(hD.J,{color:e}),ep.createElement("span",null,aY.TI.format(e)))}function hQ({value:e}){return ep.createElement("span",{"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":e},e)}function h0({value:e}){return ep.createElement(hQ,{value:String(e)})}function h1({value:e}){return ep.createElement("div",{className:"variables_diff--booleanValue--TPFPs"},ep.createElement(hx,{on:e,onChange:sK.lQ}),ep.createElement("span",null,e?(0,eb.t)("variables.values.boolean.true"):(0,eb.t)("variables.values.boolean.false")))}let h2=ep.forwardRef(({children:e,className:r,style:n,gridColumnSizes:i,stickyTop:a=!1,stickyRight:o=!1,stickyBottom:s=!1,stickyLeft:l=!1,...d},c)=>{let u=ep.useMemo(()=>"string"==typeof i?i:i.map(e=>"number"==typeof e?`${e}px`:e).join(" "),[i]);return ep.createElement("table",{...d,ref:c,className:ek()("spreadsheet--root--GoiEA",a&&"spreadsheet--stickyTop--ndU2j",o&&"spreadsheet--stickyRight--6ryUx",s&&"spreadsheet--stickyBottom--D4aGd",l&&"spreadsheet--stickyLeft--Liwg0",r),style:{gridTemplateColumns:u,...n}},ep.createElement("tbody",{className:"spreadsheet--body--a1SVF"},e))}),h3=ep.forwardRef(({children:e,className:r,style:n,...i},a)=>ep.createElement("tr",{...i,ref:a,className:ek()("spreadsheet--row--Qg6tf",r),style:n},e)),h5=ep.forwardRef(({children:e,className:r,style:n,...i},a)=>ep.createElement("td",{...i,ref:a,className:ek()("spreadsheet--cell--gq5PL",r),style:n},e));var h4=n(17110);let h6="variables_spreadsheet--hasPadding--teQJ7",h8=ep.forwardRef(function({children:e,gridColumnSizes:r,style:n},i){return ep.createElement(h2,{ref:i,className:"variables_spreadsheet--root--m6SQ8",gridColumnSizes:r,stickyTop:!0,stickyLeft:!0,style:n},e)}),h7=ep.forwardRef(function({"data-index":e,children:r,className:n,isHeader:i=!1,isSelected:a=!1,onContextMenu:o,onMouseDown:s,onMouseUp:l,style:d},c){return ep.createElement(h3,{ref:c,className:ek()({"variables_spreadsheet--row--kDRcv":!0,"variables_spreadsheet--header--5zFMo":i,"variables_spreadsheet--selected--Ys6-N":a,selected:a},n),style:d,"data-index":e,onMouseDown:s,onMouseUp:l,onContextMenu:o},ep.createElement(h4.y,{isSelected:a},r))}),h9=ep.forwardRef(function({children:e,style:r,hasPadding:n=!0,disabled:i=!1,onDoubleClick:a,onContextMenu:o,noBorderOnFocus:s=!1},l){return ep.createElement(h5,{ref:l,className:ek()({"variables_spreadsheet--cell--6pPKK":!0,[h6]:n,"variables_spreadsheet--disabled--itTpj":i,"variables_spreadsheet--cellFocusBorder--gWxtr variables_modal_value_input--inputCellFocus--vj5GD":!s}),style:r,onDoubleClick:i?void 0:a??void 0,onContextMenu:o},e)});ep.forwardRef(function({children:e,style:r,"data-index":n,hasPadding:i=!0},a){return ep.createElement("tr",{ref:a,className:"variables_spreadsheet--fullWidthRow--Xp54Q",style:r,"data-index":n},ep.createElement("td",{className:ek()({"variables_spreadsheet--fullWidthCell--aQpVo":!0,[h6]:i})},e))}),ep.forwardRef(function({top:e},r){return ep.createElement("tr",{className:"variables_spreadsheet--divider--oA75e",style:{transform:`translateY(${e}px)`},ref:r})});let me=ep.createContext(void 0);function mt({children:e,variableDiffMap:r}){let n=ep.useMemo(()=>{let e=Object.values(r),n=e.map(e=>e.prev),i=e.map(e=>e.next),a={};mn(i,(e,r)=>{let n=eT.CWU.getLocalVariableInfo(e)??eT.CWU.getSubscribedVariableInfo(e),i=(null==n?void 0:n.name)??(0,eb.t)("variables.missing_name"),o=eT.CWU.getVariableResolvedValue(e,r);mi(a,e,r,{name:i,value:o})});let o=(0,eF.eU)(()=>a);return{prev:(0,eF.eU)(()=>{oI(av.Kn.TO_SOURCE);let e={};return mn(n,(r,n)=>{let i=eT.CWU.getLocalVariableInfo(r)??eT.CWU.getSubscribedVariableInfo(r),a=(null==i?void 0:i.name)??(0,eb.t)("variables.missing_name"),o=eT.CWU.getVariableResolvedValue(r,n);mi(e,r,n,{name:a,value:o})}),oS(eT.sYL.BRANCH),e}),next:o}},[r]);return ep.createElement(me.Provider,{value:n},e)}let mr=(0,eF.eU)(void 0);function mn(e,r){var n,i,a;for(let o of e)for(let e of(null==(n=o.variableDataValues)?void 0:n.entries)??[])if((null==(i=e.variableData)?void 0:i.dataType)==="ALIAS"){let n=null==(a=e.variableData.value)?void 0:a.alias;n&&e.modeID&&r((0,c9.dI)(n),to.dI(e.modeID))}}function mi(e,r,n,i){e.hasOwnProperty(r)||(e[r]={}),e[r][n]=i}function ma({variableData:e,modeID:r,when:n}){var i,a,o,s,l;switch((0,eh.B1)(e.dataType),e.dataType){case"BOOLEAN":return(0,eh.B1)(null==(i=e.value)?void 0:i.boolValue),ep.createElement(h1,{value:e.value.boolValue});case"FLOAT":return(0,eh.B1)(null==(a=e.value)?void 0:a.floatValue),ep.createElement(h0,{value:e.value.floatValue});case"STRING":return(0,eh.B1)(null==(o=e.value)?void 0:o.textValue),ep.createElement(hQ,{value:e.value.textValue});case"COLOR":return(0,eh.B1)(null==(s=e.value)?void 0:s.colorValue),ep.createElement(hJ,{value:e.value.colorValue});case"ALIAS":return(0,eh.B1)(null==(l=e.value)?void 0:l.alias),ep.createElement(mo,{variableID:(0,c9.dI)(e.value.alias),modeID:to.dI(r),when:n});case"NODE_FIELD_ALIAS":case"EXPRESSION":case"MAP":case"SYMBOL_ID":case"FONT_STYLE":case"TEXT_DATA":case"INVALID":return ep.createElement(ep.Fragment,null);default:(0,eh.xb)(e.dataType)}}function mo({variableID:e,modeID:r,when:n}){let i=function(e,r,n){var i;let a=ep.useContext(me),o=null==a?void 0:a[n],s=(0,rV.md)(o??mr);return null==(i=null==s?void 0:s[e])?void 0:i[r]}(e,r,n);return i?ep.createElement(hH.w,{text:i.name,tooltip:i.name,thumbnailValue:i.value}):null}function ms({displayGroup:e}){let r=ep.useMemo(()=>{var r,n;function i(e){return null!=e.id&&null!=e.name&&null!=e.sortPosition}let{originalIndex:a,displayNode:o}=e.displayChunk.mainChunk,s=el.getChunkChanges(eT.sYL.BRANCH,a),l=(o.variableSetModes??[]).filter(i),d=((null==(r=s.diffBasis[0])?void 0:r.variableSetModes)??l).filter(i),c={};for(let e of l)c[to.dI(e.id)]={id:e.id,next:e,phase:eT.Dje.CREATED};for(let e of d){let r=to.dI(e.id);c.hasOwnProperty(r)?(c[r].prev=e,(null==(n=c[r].next)?void 0:n.name)===e.name?c[r].phase=eT.Dje.UNMODIFIED:c[r].phase=eT.Dje.UPDATED):c[r]={id:e.id,prev:e,phase:eT.Dje.REMOVED}}return Object.values(c).sort((e,r)=>{var n,i,a,o;let s=(null==(n=e.next)?void 0:n.sortPosition)??(null==(i=e.prev)?void 0:i.sortPosition)??"",l=(null==(a=r.next)?void 0:a.sortPosition)??(null==(o=r.prev)?void 0:o.sortPosition)??"";return-(0,hP.Ez)(s,l)})},[e.displayChunk.mainChunk]),n=ep.useMemo(()=>{let r=e.affectedChunks.sort((e,r)=>{let n=e.mainChunk.displayNode.sortPosition??"",i=r.mainChunk.displayNode.sortPosition??"";return-(0,hP.Ez)(n,i)}),n={};for(let e of r){let{variableId:r,originalIndex:i,displayNode:a}=e.mainChunk;if(null==r)continue;let o=el.getChunkChanges(eT.sYL.BRANCH,i);n[r]={prev:o.diffBasis[0],next:a,phase:e.mainChunk.phase}}return n},[e.affectedChunks]);return ep.createElement(mt,{variableDiffMap:n},ep.createElement(h8,{gridColumnSizes:`repeat(${r.length+1}, 280px) minmax(40px, 1fr)`},ep.createElement(h7,{isHeader:!0},ep.createElement(h9,null,(0,eb.t)("variables.authoring_modal.table.name_header")),r.map(e=>{var r,n;return ep.createElement(h9,{key:`mode--${to.dI(e.id)}`},ep.createElement(hX,{prev:null==(r=e.prev)?void 0:r.name,next:null==(n=e.next)?void 0:n.name,phase:e.phase}))}),ep.createElement(h9,null)),Object.entries(n).map(([e,n])=>ep.createElement(ml,{key:e,diff:n,variableSetModeDiffs:r}))))}function ml({diff:e,variableSetModeDiffs:r}){let{prev:n,next:i,phase:a}=e;return ep.createElement(h7,null,ep.createElement(h9,null,ep.createElement(hq,{name:i.name??(0,eb.t)("variables.missing_name"),phase:a,resolvedType:i.variableResolvedType})),r.map(e=>{let r=md(n,e.id),o=md(i,e.id),s=(0,hL.rY)(r,o),l=[eT.Dje.UNMODIFIED,eT.Dje.UPDATED].includes(e.phase)?a:e.phase;return ep.createElement(h9,{key:`value--${to.dI(e.id)}`},ep.createElement(ep.Suspense,{fallback:null},ep.createElement(hZ,{prev:r&&!s?ep.createElement(ma,{variableData:r,modeID:e.id,when:"prev"}):void 0,next:o&&ep.createElement(ma,{variableData:o,modeID:e.id,when:"next"}),phase:l})))}),ep.createElement(h9,null))}function md(e,r){var n,i,a;return null==(a=null==(i=null==(n=e.variableDataValues)?void 0:n.entries)?void 0:i.find(e=>to.aI(e.modeID,r)))?void 0:a.variableData}var mc=n(78931),mu=n(94912),mp=n(31827),mh=n(60832),mm=n(83894),mg=n(23746);n(10648),n(98812),n(92830);var mf=n(71e3);n(93771);var m_=n(45265),my=n(83423);(0,aj.hG)(m_.km),(0,aj.hG)(m_.hX);class mE extends ep.PureComponent{constructor(){super(...arguments),this.toggleDropdown=e=>{if(e.preventDefault(),e.stopPropagation(),this.props.showingDropdown)this.props.dispatch(iR.oB());else{let e;let r=n0.findDOMNode(this).getBoundingClientRect(),n=r.top>=window.innerHeight-200;e=this.props.isMultilevelDropdown?{targetRect:r}:{position:{top:n?"auto":r.top,bottom:n?36:"auto",left:this.props.isRightAligned?"auto":Math.min(r.left,window.innerWidth-180),right:this.props.isRightAligned?window.innerWidth-Math.max(r.right,180):"auto"}},this.props.dispatch(iR.j7({type:this.props.type,data:e}))}}}render(){return ep.createElement("div",{className:`${this.props.isDisabled?"multi_select_list--dropdownColumnDisabled--Ww1Nl table--column--974RA":"multi_select_list--dropdownColumn--n-MKQ table--column--974RA"} ${this.props.className?this.props.className:""}`,onClick:this.props.isDisabled?void 0:this.toggleDropdown,"data-tooltip-type":this.props.tooltip?iL.Ib.TEXT:void 0,"data-tooltip":this.props.tooltip?this.props.tooltip:void 0,"data-tooltip-show-above":!!this.props.tooltip||void 0,"data-testid":"dropdown-selector"},this.props.children,!this.props.isDisabled&&!this.props.hideChevron&&ep.createElement(sR.B,{className:`multi_select_list--chevron--v5fMB ${this.props.chevronClassName?this.props.chevronClassName:""}`,svg:my.A}))}}var mb=((j=mb||{}).NONE="NONE",j.UNASSIGNED="UNASSIGNED",j.WORKSPACE="WORKSPACE",j),mv=n(58867);let mS="expandable_multiline_container--container--cb5ml",mI="expandable_multiline_container--truncatedText--h5hOS";function mT(e){let{containerClassName:r,onExpandCallback:n,text:i}=e,[a,o]=ep.useState(!1),[s,l]=ep.useState(!1),d=ep.useRef(!1),c=ep.useRef(null),u=()=>!!c.current&&c.current.scrollHeight>c.current.clientHeight;ep.useLayoutEffect(()=>{(null==c?void 0:c.current)&&(c.current.style.setProperty("--NLines",`${e.defaultLines}`),c.current.className=mI),o(!1),d.current=!0,l(u())},[i,e.defaultLines,l]),ep.useLayoutEffect(()=>{d.current&&(l(u()),d.current=!1)},[]);let p=ep.useCallback(()=>{n?n(!a):o(!a)},[a,n]),h=a?"Show less":"Show more";return ep.createElement("div",{className:r?`${r} ${mS}`:mS},ep.createElement("div",{ref:c,className:a?"":mI},i),s&&ep.createElement("div",{className:"expandable_multiline_container--toggleToExpandPrompt--aiBqe",onClick:p},h))}let mw="reviewer_row--avatar--4cwsV",mC="reviewer_row--textButton--0YU7D",mA="reviewer_row--icon--dxdcf",mN="reviewer_row--dropdown--7Wu-Y",mO="sidebar_details--reviewersHeaderName--I1DlQ text--fontPos11--2LvXf text--_fontBase--QdLsd",mR="sidebar_details--dropdownHeader--6DyP-",mP="sidebar_details--resultsSection--GQUL9",mL="sidebar_details--sidebarIcon--J15D-",mD="sidebar_details--noResults--XFtLq";var mM=n(28859);let mk={textAlign:"left"};function mx(e){let r=e.fadedAvatar?"reviewer_row--fadedAvatar--WMoMz reviewer_row--avatar--4cwsV":mw;return ep.createElement(mG,{reviewer:e.reviewer,avatarClassName:r,user:e.user,inlineDescription:e.inlineDescription,description:e.description,button:e.button,editingNotes:e.editingNotes||!1,mergeRequest:e.mergeRequest||null,onSetEditingNotes:e.onSetEditingNotes||null,isReviewRequestor:!1,isInDropdown:e.isInDropdown})}function mF(e){return ep.createElement(mx,{user:e.user,inlineDescription:e.inlineDescription,description:e.description,className:e.className,fadedAvatar:e.fadedAvatar})}function mU(e){return ep.createElement(mx,{user:e.user,inlineDescription:e.inlineDescription,description:e.description||e.user.email,className:e.className,fadedAvatar:e.fadedAvatar,isInDropdown:!0})}function mB(e){let r=ep.createElement(eB.nR,{className:"reviewer_row--addButton--Mwgm-",onClick:e.onClickAdd},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.add"}));return ep.createElement(mx,{user:e.user,inlineDescription:e.inlineDescription,description:e.description,className:e.className,fadedAvatar:e.fadedAvatar,button:r})}function mV(e){let r=ep.createElement("div",{className:`${mL} reviewer_row--removeButton--z7LQy`,onClick:e.onClickRemove},ep.createElement(sR.B,{svg:pY.A,className:mA}));return ep.createElement(mx,{user:e.user,inlineDescription:e.inlineDescription,description:e.description,className:e.className,fadedAvatar:e.fadedAvatar,button:r})}function mH(e){let r=(0,nz.iZ)(),n=r&&r.id===e.user.id,i=(0,eJ.d4)(e=>e.dropdownShown),a=(0,eJ.wA)(),o="REVIEWER_MENU_DROPDOWN",s=(null==i?void 0:i.type)===o,[l,d]=ep.useState(!1);return ep.createElement(mx,{user:e.user,reviewer:e.reviewer,inlineDescription:n?(0,eb.t)("collaboration.branching_to_source.you"):void 0,description:e.description,className:e.className,fadedAvatar:e.fadedAvatar,editingNotes:l,onSetEditingNotes:d,mergeRequest:e.mergeRequest,button:!e.archivedBranch&&(()=>{let r=!!e.reviewer.approved_at||!!e.reviewer.changes_requested_at;if(n&&r)return ep.createElement(mE,{className:`${mL} ${s?"reviewer_row--menuButtonActive--DL6lu":"reviewer_row--menuButton--FgDs-"}`,dispatch:a,hideChevron:!0,showingDropdown:s,type:o},ep.createElement(sR.B,{svg:mM.A,className:mA}),s&&ep.createElement(mc.W.Dropdown,{className:mN,style:{top:i.data.position.top-(window.innerHeight-(0,aj.hG)(tQ.lli))/2-(0,aj.hG)(tQ.Gu0)}},ep.createElement(mc.W.Option,{onClick:()=>{d(!0)}},e.reviewer.notes?(0,eb.t)("collaboration.branching_to_source.edit_comment"):(0,eb.t)("collaboration.branching_to_source.add_comment"))))})()})}function mG(e){var r,n,i,a,o,s,l,d,c;let u=!e.isReviewRequestor,p=u&&(null==(r=e.reviewer)?void 0:r.notes)||!u&&(null==(n=e.mergeRequest)?void 0:n.description)||"",h=e.editingNotes,m=e.isReviewRequestor?null==(i=e.mergeRequest)?void 0:i.requested_at:(null==(a=e.reviewer)?void 0:a.changes_requested_at)||(null==(o=e.reviewer)?void 0:o.approved_at),[g,f]=ep.useState(p),_=(0,eJ.wA)();ep.useEffect(()=>{h||f(p)},[p,h]);let y=u&&e.reviewer?(0,sV.ED)(e.reviewer):void 0,E=u&&(null==(s=e.reviewer)?void 0:s.changes_requested_at)||u&&(null==(l=e.reviewer)?void 0:l.approved_at),b=E&&e.mergeRequest&&(null==(d=e.mergeRequest)?void 0:d.requested_at)&&(null==(c=e.mergeRequest)?void 0:c.requested_at)>E,v=()=>{e.onSetEditingNotes&&e.onSetEditingNotes(!1)},S=u?y===sV._V.CHANGES_REQUESTED?(0,eb.t)("collaboration.branching_to_source.suggest_changes"):(0,eb.t)("collaboration.branching_to_source.add_a_comment"):(0,eb.t)("collaboration.branching_to_source.add_context"),I=u?()=>{var r,n;u&&e.onSetEditingNotes&&e.onSetEditingNotes(!1),(!u||e.reviewer&&(null==(r=e.mergeRequest)?void 0:r.key))&&(!u||g!==(null==(n=e.reviewer)?void 0:n.notes))&&_(sD({mergeRequestKey:e.mergeRequest.key,mergeRequestReviewerId:u?e.reviewer.id:"",notes:g}))}:()=>{e.onSetEditingNotes&&e.onSetEditingNotes(!1),e.mergeRequest&&g!==e.mergeRequest.description&&_(sx({mergeRequestId:e.mergeRequest.id,mergeRequestKey:e.mergeRequest.key,mergeRequestPayload:{title:e.mergeRequest.title,description:g,reviewers:e.mergeRequest.reviewers.map(e=>e.user.id)}}))},T=ep.createElement("div",{className:"reviewer_row--name--BZgSS ellipsis--ellipsis--Tjyfa",style:mk,dir:"auto"},e.user.handle),w=ep.createElement("div",{className:u?"reviewer_row--inlineDescription--7CFiG reviewer_row--inlineDescriptionRequestor--xW0v5 text--fontPos11--2LvXf text--_fontBase--QdLsd":"reviewer_row--inlineDescriptionRequestor--xW0v5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},u?e.inlineDescription:(0,eb.t)("collaboration.branching_to_source.requested_a_review"));return ep.createElement("div",{className:e.isInDropdown?"reviewer_row--dropdownContainer--er3ds reviewer_row--container--V5wAE":"reviewer_row--container--V5wAE"},ep.createElement("div",{className:"reviewer_row--details--HaWjX"},ep.createElement("div",{className:"reviewer_row--topRow--HTOyr"},ep.createElement("div",{className:"reviewer_row--avatarWithName--6GuS6"},ep.createElement(mv.Ro,{className:e.avatarClassName,size:24,entity:e.user}),ep.createElement("div",{className:"reviewer_row--textDetails--qLBoJ"},ep.createElement("div",{className:"reviewer_row--title--ccY9Q ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.reviewer_description",reviewerName:T,requestFragment:w})),u&&e.description&&ep.createElement("div",{className:"reviewer_row--description--pBlVV text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.description))),u&&ep.createElement("div",{className:"reviewer_row--button--4nD5y"},e.button)),ep.createElement("div",{className:"reviewer_row--rowBody--GBkBh"},void 0!==y&&u&&b&&ep.createElement("div",{className:"reviewer_row--outdated--Ciuvu"},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.reviewed_older_version_of_branch"})),void 0!==y&&u&&ep.createElement("div",{className:"reviewer_row--statusBadge--N4PHD"},(0,sV.rK)(y,sC.vj.LARGE,!!b)),p&&!h&&ep.createElement(mT,{text:p,defaultLines:4,containerClassName:"reviewer_row--expandableContainer--hXobO"}),h&&ep.createElement("div",{className:"reviewer_row--editNotesContainer--q5NpK"},ep.createElement(sB.v,{className:"reviewer_row--editNotesTextarea--1TBy1",placeholder:S,value:g,onChange:e=>f(e.currentTarget.value),submit:I,maxLength:1e4,autoFocus:e.editingNotes,focusOnMount:!0,onEscape:v,bypassModifiers:!0,focusToEnd:!0,preventSubmitOnBlur:!0}),ep.createElement("div",{className:"reviewer_row--editNotesSubmitButtons--7nTpT"},ep.createElement(eB.nR,{className:mC,onClick:v},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.cancel"})),ep.createElement(eB.$$,{className:mC,onClick:I},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.save"})))),m&&ep.createElement("div",{className:"reviewer_row--timestamp--hUbn-"},(0,i_.A)(m).format("MMM DD YYYY h:mm a")))))}var mW=n(1191);function mz(e){let[r,n]=ep.useState(""),i=(0,mh.zW)(),[a,o]=ep.useState([]),[s,l]=ep.useState(),[d,c]=ep.useState(-1),[u,p]=ep.useState(!1),h=(0,eJ.wA)(),m=(e,r)=>{r.includes(e)&&(l(e),c(r.indexOf(e)))},g=(e,r)=>{e>=r.length||e<0||(l(r[e]),c(e))},f=()=>{l(void 0),c(-1)},_=new Set(e.reviewers.map(e=>e.user.id));ep.useEffect(()=>{let e=!1;return(async function(){return p(!0),await (0,mp.fG)(r,i,!1)})().then(r=>{e||(p(!1),r?o(r.mentions):o([]))}).catch(()=>{h(e3.F.enqueue({message:(0,eb.t)("collaboration.branching_to_source.an_error_occurred_fetching_your_contacts"),error:!0}))}),()=>{e=!0}},[r,i,o,h,p]);let y=r=>{_.has(r.id)?e.removeFromReviewers(r):e.addToReviewers(r)},E=Array.from(e.initialSuggestions.values()),b=a.filter(r=>!e.initialSuggestions.has(r.id)&&r.id!==e.currentUser.id),v=a.filter(r=>r.id!==e.currentUser.id),S=""===r?E.concat(b):v,I=r=>r.map(r=>{var n,i;return ep.createElement("div",{key:r.id,onMouseOver:()=>m(r,S)},ep.createElement(mc.W.CheckableOption,{className:r===s?"sidebar_details--dropdownOptionActive--oCpk4 sidebar_details--dropdownOption---YZT3":"sidebar_details--dropdownOption---YZT3",checked:_.has(r.id),onClick:()=>y(r)},ep.createElement(mU,{user:r,description:r.email?r.email:null==(i=null==(n=e.initialSuggestions)?void 0:n.get(r.id))?void 0:i.editorContext})))}),T=I(E),w=I(b),C=I(v),A=r=>{switch(r.keyCode){case sE.Uz.ESCAPE:r.preventDefault(),r.stopPropagation(),e.showDropdown(!1);break;case sE.Uz.DOWN_ARROW:g(d+1,S);break;case sE.Uz.UP_ARROW:g(d-1,S);break;case sE.Uz.ENTER:r.preventDefault(),r.stopPropagation(),y(S[d]);break;default:f()}};return(ep.useEffect(()=>(document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)})),e.currentUser)?ep.createElement("div",{className:"sidebar_details--reviewersDropdownWrapper--dpBnl"},ep.createElement(mc.W.Dropdown,{className:"sidebar_details--reviewersDropdown--EN261",style:{padding:0}},ep.createElement("div",{className:"sidebar_details--searchBarContainer--V4JUI"},ep.createElement(ep.Fragment,null,ep.createElement(mu.jq,{className:"sidebar_details--searchBar--q2Xmq",query:r,onChange:n,clearSearch:()=>n(""),onClose:()=>e.showDropdown(!1),focusOnMount:!0,hideXIcon:!1}))),(T.length>0||w.length>0)&&ep.createElement(sO.P,{className:"sidebar_details--searchResultsContainer--pbnRS",hideScrollbar:!0},""===r?ep.createElement(ep.Fragment,null,T.length>0&&ep.createElement("div",{className:mP},ep.createElement("div",{className:mR},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.search_suggested"})),T),w.length>0&&ep.createElement("div",{className:mP},ep.createElement("div",{className:mR},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.other_team_member"})),w)):ep.createElement(ep.Fragment,null,u?ep.createElement("div",{className:mD},ep.createElement(e6.qc,null)):0===C.length?ep.createElement("div",{className:mD},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.no_results_matching_query",query:r})):ep.createElement("div",{className:mP},C))))):null}function mK(e){let{reviewers:r,onAdd:n,onRemove:i,onApprove:a,readOnly:o}=e,s=new Set(e.reviewers.map(e=>e.user.id)),l=n4.M4.useFile(e.branchKey).data,d=(0,eJ.d4)(e=>e.repos[null==l?void 0:l.file_repo_id]),c=ep.useRef(null),u=(0,nz.iZ)(),p=function(e,r,n=3){return(0,su.Rs)(ay.Xw7,{repoId:e}).transform(e=>{var i,a,o;let s=(null==(i=(0,su.oA)(e.repo))?void 0:i.roles)||[],l=(null==(o=null==(a=(0,su.oA)(e.repo))?void 0:a.team)?void 0:o.roles)||[],d=new Map;for(let e of[...s,...l]){if(d.size>=n)break;if(!e.pending&&e.userId&&e.userId!==(null==r?void 0:r.id)&&e.user&&!d.has(e.userId)&&e.level>=sf.e6.EDITOR){let r="file_repo"===e.resourceType?mm.pl.EDITOR_ON_MAIN:mm.pl.EDITOR_ON_TEAM;d.set(e.userId,{...(0,mg.Um)(e.user),editorContext:r})}}return d})}(d.id,u).data||new Map,h=(0,eJ.d4)(e=>(0,i7.canEditFile)((null==l?void 0:l.key)||null,e))&&!o,m="enabled"===(0,sm.$n)().mergeBranch.status,[g,f]=ep.useState(!1),_=new Map(Array.from(p).filter(([e])=>!s.has(e))),y=r=>e.mergeRequestPersisted&&e.mergeRequestInDraft?h?ep.createElement(mV,{key:r.user.id,user:r.user,onClickRemove:()=>i(r.user)}):ep.createElement(mF,{user:r.user}):e.mergeRequestPersisted?ep.createElement(mH,{key:r.user.id,user:r.user,isApproved:!!r.approved_at,reviewer:r,archivedBranch:!!(null==l?void 0:l.trashed_at),canEditBranch:h,onClickToggleApprove:()=>a(r.user,!r.approved_at),onClickRemove:()=>i(r.user),mergeRequest:e.mergeRequest}):h?ep.createElement(mV,{key:r.user.id,user:r.user,onClickRemove:()=>i(r.user)}):ep.createElement(mF,{user:r.user});ep.useEffect(()=>{let e=e=>{let r=c.current;g&&r&&!r.contains(e.target)&&f(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}});let E=(e=>{let[r,n]=aw()(e,e=>!!e.approved_at),[i,a]=aw()(r,e=>e.user.id===(null==u?void 0:u.id)),[o,s]=aw()(n,e=>e.user.id===(null==u?void 0:u.id));return[...a,...i,...o,...s]})(r),b=g?`${mL} sidebar_details--toggleDropdownButtonActive--boFLx`:`${mL} sidebar_details--toggleDropdownButton--Ag9Ew`;return ep.createElement(sO.P,{className:"sidebar_details--reviewsSidebarContainer--27ITJ"},e.mergeRequest&&ep.createElement("div",{className:"sidebar_details--requesterWrapper--u6KrU"},ep.createElement(mY,{mergeRequest:e.mergeRequest||null,isBranchArchived:!!(null==l?void 0:l.trashed_at)})),ep.createElement("div",{className:"sidebar_details--reviewersWrapper--YzDlk"},ep.createElement("div",{className:"sidebar_details--reviewersHeader--VPeSw sidebar_details--reviewerRequesterHeader--s1rF6"},ep.createElement("span",{className:mO},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.reviewers"})),h&&ep.createElement("div",{className:b,onClick:e=>{e.stopPropagation(),f(e=>!e)}},ep.createElement(sR.B,{svg:mW.A,className:"sidebar_details--plusIcon--AHH1Y"}))),ep.createElement(ep.Fragment,null,g&&ep.createElement("div",{ref:c,className:"sidebar_details--reviewersDropdownAnchor--gUD8X"},ep.createElement(mz,{currentUser:u,initialSuggestions:p,reviewers:r,addToReviewers:n,removeFromReviewers:i,showDropdown:f})),0===r.length&&ep.createElement(mj,{canEditReviewers:h,canMerge:m,suggestionsSize:_.size,sourceFileName:d.name||(0,eb.t)("collaboration.branching_to_source.this_repository")}),ep.createElement("div",null,Array.from(E.values()).map(e=>ep.createElement(ep.Fragment,{key:e.user.id},y(e)))),h&&(!e.mergeRequestPersisted||0===e.reviewers.length)&&_.size>0&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"sidebar_details--suggestionsHeader--eJMo-"},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.suggested"})),Array.from(_.values()).map(e=>ep.createElement(mB,{key:e.id,user:e,description:e.editorContext,fadedAvatar:!0,onClickAdd:()=>n(e)}))))))}function mj(e){let r="";return r=e.canMerge?(0,eb.t)("collaboration.branching_to_source.add_people_to_approve_or_provide_feedback_on_your_changes_they_ll_get_notified_when_you_add_them"):e.canEditReviewers?e.suggestionsSize>0?(0,eb.t)("collaboration.branching_to_source.no_reviewers_add_suggestions.seat_rename",{fileName:e.sourceFileName}):(0,eb.t)("collaboration.branching_to_source.no_reviewers_add_no_suggestions.seat_rename",{fileName:e.sourceFileName}):(0,eb.t)("collaboration.branching_to_source.no_reviewers_added"),ep.createElement("div",{className:"sidebar_details--emptyState--j3RzZ"},r)}function mY(e){var r,n;let[i,a]=ep.useState(!1),o=(0,nz.iZ)(),s=o&&o.id===(null==(n=null==(r=e.mergeRequest)?void 0:r.owner)?void 0:n.id)&&!e.isBranchArchived,l=(0,eJ.d4)(e=>e.dropdownShown),d=(0,eJ.wA)(),c="REQUESTER_MENU_DROPDOWN",u=(null==l?void 0:l.type)===c;return e.mergeRequest&&e.mergeRequest.owner&&e.mergeRequest.requested_at?ep.createElement("div",{className:"sidebar_details--requestDetails--ION4d"},ep.createElement("div",{className:"sidebar_details--reviewerRequesterHeader--s1rF6"},ep.createElement("span",{className:mO},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.review_request"})),s&&ep.createElement(mE,{className:`${mL} ${u?"sidebar_details--menuButtonActive--URYRr reviewer_row--menuButtonActive--DL6lu":"sidebar_details--menuButton--3qxJE reviewer_row--menuButton--FgDs-"}`,dispatch:d,hideChevron:!0,showingDropdown:u,type:c},ep.createElement(sR.B,{svg:mM.A,className:mA}),u&&ep.createElement(mc.W.Dropdown,{className:mN,style:{top:l.data.position.top-(window.innerHeight-(0,aj.hG)(tQ.lli))/2-(0,aj.hG)(tQ.Gu0)}},ep.createElement(mc.W.Option,{onClick:()=>{a(!0)}},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.edit_description"}))))),ep.createElement(mG,{isReviewRequestor:!0,avatarClassName:mw,user:e.mergeRequest.owner,mergeRequest:e.mergeRequest,editingNotes:i,onSetEditingNotes:a})):null}var m$=n(64611);let mq="to_source_view--bold--9cOcI",mZ="to_source_view--footerButton--sMx6E";var mX=n(18301),mJ=n(5993),mQ=n(44890),m0=n(16679),m1=((Y=m1||{}).SUMMARY="summary",Y.DETAIL="detail",Y.AFFECTED_SUMMARY="affected_summary",Y.AFFECTED_DETAIL="affected_detail",Y.VARIANT_SUMMARY="variant_summary",Y.VARIANT_DETAIL="variant_detail",Y.VARIABLE_SET_DETAIL="variable_set_detail",Y);function m2(e,r){let n;return"affected_detail"===e.view?n=r[e.displayGroupIndex].affectedChunks[e.nestedDisplayChunkIndex]:"variant_detail"===e.view?n=r[e.displayGroupIndex].variantChunks[e.nestedDisplayChunkIndex]:null!==e.displayGroupIndex&&(n=r[e.displayGroupIndex].displayChunk),n}function m3(e){let r=(0,eJ.wA)(),n=ep.createElement("span",{className:mq},e.sourceFile.name),i=ep.createElement("span",{className:mq},e.branchFile.name),a=e.canMerge?e.mergeDisabled?ep.createElement("span",null,ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.conflicts_must_be_resolved_to_merge_this_branch",sourceFileName:n})):ep.createElement("span",null,ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.you_are_able_to_merge_this_branch_along_with_other_editors_of",sourceFileName:n})):e.fileMerge&&e.fileMerge.mergeResultCheckpointId?ep.createElement("span",null,ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.this_branch_was_merged_into",sourceFileName:n,relativeTimestamp:ep.createElement(sN.h1,{date:e.fileMerge.updatedAt})})):e.isBranchArchived?ep.createElement("span",null,ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.branch_was_archived",branchFileName:i,relativeTimestamp:e.branchFile.trashed_at?ep.createElement(sN.h1,{date:e.branchFile.trashed_at}):null})):ep.createElement("span",null,ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.only_editors_of_file_can_merge_this_branch",sourceFileName:n})),o=()=>{r(rH.to({type:hR,showModalsBeneath:!0,data:{numReviewers:e.numReviewers,existingMergeRequest:e.mergeRequest,onRequestReview:e.onRequestReview}}))},s=()=>{r(rH.to({type:hO,showModalsBeneath:!0,data:{mergeRequest:e.mergeRequest,mergeRequestReviewer:e.reviewer}}))},l=r=>r?ep.createElement(eB.$$,{className:mZ,type:"submit",onClick:e.onMerge,disabled:e.mergeDisabled},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.merge_branch"})):ep.createElement(eB.nR,{className:mZ,onClick:e.onMerge,disabled:e.mergeDisabled},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.merge_branch"})),d=(r,n)=>{let i=n?(0,eb.t)("collaboration.branching_to_source.resend_review_request"):(0,eb.t)("collaboration.branching_to_source.request_review");return r?ep.createElement(eB.$$,{className:mZ,type:"submit",onClick:o,disabled:e.requestReviewDisabled},i):ep.createElement(eB.nR,{className:mZ,onClick:o,disabled:e.requestReviewDisabled},i)},c=(e,r)=>{let n=r?(0,eb.t)("collaboration.branching_to_source.review_again"):(0,eb.t)("collaboration.branching_to_source.add_your_review");return e?ep.createElement(eB.$$,{className:mZ,onClick:s},n):ep.createElement(eB.nR,{className:mZ,onClick:s},n)},[u,p]=(()=>{var r=null,n=null;let i=(e.mergeRequest?(0,sV.yj)(e.mergeRequest):void 0)===sV._V.APPROVED;if(!e.reviewCreated&&e.canRequestReview)n=d(!0,!1),e.canMerge&&(r=l(!1));else if(e.reviewCreated&&e.isOwnerOfReview)n=d(!i,!0),e.canMerge&&(r=l(i));else if(e.reviewCreated&&e.reviewer&&e.mergeRequest){let a=e.reviewer.approved_at||e.reviewer.changes_requested_at,o=e.mergeRequest.requested_at||0,s=a&&a>o;n=c(!s,!!a),e.canMerge&&(r=l(i&&!!e.reviewer.approved_at&&!!s))}else e.canMerge&&(r=l(i));return[r,n]})(),h=!(u||p);return ep.createElement(aV.ak,null,h?ep.createElement("div",{className:"to_source_view--footerNoActions--3OQRg to_source_view--footer--cn1Of"},a):ep.createElement("div",{className:"to_source_view--footer--cn1Of"},ep.createElement("div",{className:"to_source_view--footerHelpWithActions--Rojjb"},a),u,p))}let m5=ep.memo(function(e){var r,n,i;let a=(0,eJ.wA)(),[o,s]=ep.useState({view:"summary",displayGroupIndex:null,nestedDisplayChunkIndex:null}),{branch:l,repo:d,source:c,openFileKey:u,fileKeyToFile:p,modalCloseIntent:h,mergeRequest:m,fileMerge:g}=e,f=(0,sm.$n)(),_="enabled"===f.mergeBranch.status,y="enabled"===f.updateBranch.status,E=(0,e2.kc)().branching_and_merging_debug??!1,b=ep.useContext(aV.ss),v=ep.useCallback(r=>{var n,i;switch(s(r),r.view){case"affected_detail":case"detail":case"variant_detail":(0,ex.sx)("View Chunk Detail",{numDisplayGroups:(null==(n=e.displayGroups)?void 0:n.length)??0,view:r.view,branchModalTrackingId:b});break;case"affected_summary":case"summary":case"variant_summary":(0,ex.sx)("View Chunk Summary",{numDisplayGroups:(null==(i=e.displayGroups)?void 0:i.length)??0,view:r.view,branchModalTrackingId:b})}},[s,e.displayGroups,b]),S=ep.useMemo(()=>m?{id:m.id,key:m.key,branch_file_key:m.branchFileKey,file_repo_id:m.fileRepoId,file_merge_id:m.fileMergeId,review_number:m.reviewNumber,title:m.title,description:m.description,closed_at:m.closedAt,created_at:m.createdAt,requested_at:m.requestedAt,owner:m.owner?{id:m.owner.id,handle:m.owner.handle,img_url:m.owner.imgUrl}:null,reviewers:m.reviewers.map(e=>({id:e.id,user_id:e.userId,approved_at:e.approvedAt,changes_requested_at:e.changesRequestedAt,notes:e.notes,user:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl}}))}:null,[m]),I=null==S?void 0:S.review_number,T=(0,nz.iZ)(),w=(0,eJ.d4)(e=>(0,i7.canEditFile)(l.key,e)),C=(null==(r=null==S?void 0:S.owner)?void 0:r.id)===(null==T?void 0:T.id),A=!!l.trashed_at,N=!A&&(!S&&w||!!S&&C),O=e=>{(0,ex.sx)("Merge Request Draft Edited",{branchKey:l.key,sourceKey:c.key,reviewCreatorId:null==T?void 0:T.id,reviewNumber:I,...e})},R=()=>{S&&(L!==S.title||M!==S.description)&&a(sx({mergeRequestId:S.id,mergeRequestKey:S.key,mergeRequestPayload:{title:L||l.name,description:M,reviewers:x.map(e=>e.user.id)}}))},P=e=>{S?a(sx({mergeRequestId:S.id,mergeRequestKey:S.key,mergeRequestPayload:{title:L,description:M,reviewers:e.map(e=>e.user.id)}})):F(e)},[L,D]=ep.useState((null==S?void 0:S.title)??l.name),[M,k]=ep.useState((null==S?void 0:S.description)??""),[x,F]=ep.useState((null==S?void 0:S.reviewers)??[]),U=e=>{(0,ex.sx)("Merge Request Reviewer Assigned",{reviewNumber:I,branchKey:l.key,sourceKey:c.key,assignerId:null==T?void 0:T.id,reviewerId:e.id})},B=e=>{(0,ex.sx)("Merge Request Reviewer Unassigned",{reviewNumber:I,branchKey:l.key,sourceKey:c.key,assignerId:null==T?void 0:T.id,reviewerId:e.id})},[V,H]=ep.useState([]),G=()=>"detail"===o.view||"affected_detail"===o.view||"variant_detail"===o.view,{allDisplayGroups:W,displayGroupsByPage:z,pageIdToInfo:K,displayGroupsByStyle:j,displayGroupsByVariableSet:Y,displayGroupsByLibrary:$,sortedPageIds:q}=ep.useMemo(()=>e.styleKeyToFileKey?od(e.displayGroups??[],e.styleKeyToFileKey,av.Kn.TO_SOURCE):od([],{},av.Kn.TO_SOURCE),[e.displayGroups,e.styleKeyToFileKey]),Z=function(e,r,n,i,a,o,s,l){let[d,c]=ep.useState(null),[u,p]=ep.useState({}),h=ep.useRef(new Set),m=ep.useRef(new Set),g=null==e?void 0:e.from_checkpoint_key,f=null==e?void 0:e.to_checkpoint_key,[_,y]=ep.useState(!1),[E,b]=ep.useState(null);ep.useEffect(()=>{l&&i.length&&(y(!1),ov(av.Kn.TO_SOURCE),oS(eT.sYL.BRANCH),y(!0))},[l,i]);let[v,S]=ep.useMemo(()=>{var e,r;let n;if(!i.length)return[[],null];let s=(e=oi(a),r=m.current,(n=(n=e).filter(e=>!r.has(to.dI(e.mainChunk.displayNode.guid)))).length||r.size||(n=oi(i).slice(0,20)),n),l=function(e,r,n){if("detail"===e.view||"affected_detail"===e.view||"variant_summary"===e.view||"variant_detail"===e.view){let i=m2(e,r);return i&&!n.has(to.dI(i.mainChunk.displayNode.guid))?i:null}}(o,i,h.current);for(let e of s)m.current.add(to.dI(e.mainChunk.displayNode.guid));return l&&h.current.add(to.dI(l.mainChunk.displayNode.guid)),[s,l]},[i,h,m,o,a]),I=ep.useContext(aV.ss);return(ep.useEffect(()=>{g&&f&&_&&setTimeout(async()=>{if(S){let e=oo(s,S.mainChunk),{nodeId:r,to:n,fromPromise:i}=function(e,r){let n=to.dI(e.mainChunk.displayNode.guid),i=ou(e.mainChunk.displayNode.styleType),a=[{id:void 0!==e.basisChunk?to.dI(e.basisChunk.displayNode.guid):n,backgroundColor:r,isStyle:i}],o=a2({nodes:[{id:n,backgroundColor:r,isStyle:i}],scale:(0,e2.kc)().branching_detail_view_zoom?i?4:8:void 0}),s=new Promise(async e=>{for(let e=0;e<5;e++)await (0,aR.yQ)();oI(av.Kn.TO_SOURCE);let r=a2({nodes:a,scale:(0,e2.kc)().branching_detail_view_zoom?i?4:8:void 0});oS(eT.sYL.BRANCH),e(r[0])});return{nodeId:n,to:o[0],fromPromise:s}}(S,e);p(e=>sy()({},e,{[r]:{to:n}}));let a=await i;p(e=>sy()({},e,{[r]:{from:a}}))}let[e,i]=await a6(v,r,n,g,I);e.then(e=>{c(r=>({...r,...e}))}).catch(e=>{b(e)}),i.then(e=>{c(r=>({...r,...e}))}).catch(e=>{b(e)})},"summary"===o.view?0:200)},[s,v,S,r,n,g,f,o,_,I]),E)?{status:"error",error:E}:{status:"loaded",summaryImages:d,detailImages:u}}(e.checkpointDiff,e.branchKey,c.key,W,V,o,K,e.isConflictDetectionLoading);if("error"===Z.status)throw Z.error;let{summaryImages:X,detailImages:J}=Z,Q=ep.useCallback(e=>{let r=W[e].displayChunk;r&&r.mainChunk.displayNode.isStateGroup?v({view:"variant_summary",displayGroupIndex:e,nestedDisplayChunkIndex:null}):r&&"VARIABLE_SET"===r.mainChunk.displayNode.type?v({view:"variable_set_detail",displayGroupIndex:e,nestedDisplayChunkIndex:null}):v({view:"detail",displayGroupIndex:e,nestedDisplayChunkIndex:null})},[W,v]),ee=!!X||0===W.length&&!e.isConflictDetectionLoading;(0,aV.tW)({isDoneLoading:ee,isDoneLoadingSourceDiff:e.hasSourceDiffLoaded,isDoneLoadingConflicts:!e.isConflictDetectionLoading,direction:av.Kn.TO_SOURCE,branchFileKey:l.key,sourceFileKey:l.source_file_key,fileRepoId:l.file_repo_id,displayGroups:e.displayGroups??[],conflictGroups:e.conflictGroups??[],modalCloseIntent:h,branchModalTrackingId:b,entryPointDirection:av.Kn.TO_SOURCE}),ep.useEffect(()=>{a((0,sP.Z4)())},[a]),ep.useEffect(()=>{S&&(F(S.reviewers),D(S.title??l.name),k(S.description??""))},[S,T,l]),ep.useEffect(()=>{if(!("detail"===o.view||"variant_summary"===o.view)||W.length<=1)return;let e=e=>{if(document.activeElement&&null!==o.displayGroupIndex)switch(e.keyCode){case sE.Uz.LEFT_ARROW:o.displayGroupIndex>0&&Q(o.displayGroupIndex-1),e.preventDefault();break;case sE.Uz.RIGHT_ARROW:o.displayGroupIndex<W.length-1&&Q(o.displayGroupIndex+1),e.preventDefault()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o,W,Q]),ep.useEffect(()=>{if(!E)return;let e="BranchPermissionsDebugger";return window[e]={logPermissions:function(){console.log(f)}},()=>{window[e]=void 0}},[f,E]);let et=ep.useCallback(async()=>{await oM(),a(rH.Ce());let e={branchKey:l.key,sourceKey:null==l?void 0:l.source_file_key,direction:av.Kn.FROM_SOURCE,backFileKey:l.key};a(iR.$T({view:"fullscreen",fileKey:l.key,editorType:tB.nT.Design,mergeParams:e}))},[a,l]),er=ep.useMemo(()=>{if(null===o.displayGroupIndex||"affected_summary"===o.view)return null;let e=m2(o,W);return e?e&&el.getChunkChanges(eT.sYL.BRANCH,e.mainChunk.originalIndex):null},[o,W]),en={direction:av.Kn.TO_SOURCE},ei=ep.useCallback(e=>Q(e.index),[Q]),ea=S&&(0,sV.yj)(S),eo=ea===sV._V.APPROVED,es=ea===sV._V.CHANGES_REQUESTED,ed=T&&x.find(e=>e.user_id===T.id),ec=e=>e.affectedChunks.map((e,r)=>({displayChunk:e,affectedChunks:[],variantChunks:[],index:r}));return ee&&e.checkpointDiff?0===W.length?ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement(aV.nS,null,ep.createElement("div",{className:m$.iG},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.no_changes_to_merge"}))))):ep.createElement("div",{className:m$.Kl},ep.createElement("div",{className:"summary"===o.view?m$.Xl:m$.ed},ep.createElement(aV.qj,null,(y||_)&&ep.createElement(hI,{numConflicts:(null==(n=e.conflictGroups)?void 0:n.length)??0,isLoading:e.isConflictDetectionLoading,isBlockingUpdate:e.isMergeBlocked,isEditorOnRepo:e.isEditorOnRepo,canUpdate:y,switchToUpdateFromMain:u===l.key?e.onSwitchToUpdateFromMain:et,unreadCommentCount:e.unreadCommentCount,hasDuplicateConflictingGuids:e.hasDuplicateConflictingGuids}),ep.createElement(aV.wy,null,ep.createElement(ev.fu,{name:eD.e0.BRANCHING_REVIEW_MODAL,properties:{fileKey:l.key,fileRepoId:l.file_repo_id,...en}},ep.createElement(aV.FA,{className:m$.kb},ep.createElement("div",{className:"to_source_view--reviewHeader--VyxPo"},ep.createElement("div",null,ep.createElement("div",null,ep.createElement(sR.B,{className:m$.UT,svg:mJ.A}),ep.createElement(sB.v,{className:N?"to_source_view--reviewTitleTextArea---bG23 text--fontPos14--OL9Hp text--_fontBase--QdLsd":"to_source_view--reviewTitle--8NELY to_source_view--reviewTitleTextArea---bG23 text--fontPos14--OL9Hp text--_fontBase--QdLsd",placeholder:(0,eb.t)("collaboration.branching_to_source.add_title"),value:L,onChange:e=>D(e.currentTarget.value),onBlur:()=>{S?R():O({titleEdited:!0,descriptionEdited:!1})},autoFocus:!S,maxLength:1e4,disableInput:!N})),ep.createElement("div",{className:"to_source_view--sourceText--Oqd53"},null==d?void 0:d.name," \xb7 ",ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.change",numChanges:W.length})),ep.createElement("div",{className:"to_source_view--statusIndicator--iUkm8"},(()=>{let r=e.openMergeRequest?(0,sV.z2)(e.openMergeRequest):null;return(0,sV.rK)(r,sC.vj.LARGE)})()))),ep.createElement(mK,{branchKey:e.branchKey,mergeRequestPersisted:!!S,mergeRequestInDraft:!!S&&!!S.closed_at,readOnly:!N,reviewers:x,onAdd:e=>{let r=x.concat([{id:"temp",user_id:e.id,approved_at:null,changes_requested_at:null,notes:null,user:e}]);F(r),P(r),U(e)},onRemove:e=>{let r=x.filter(r=>r.user.id!==e.id);F(r),P(r),B(e)},onApprove:(e,r)=>{let n=x.find(r=>r.user_id===e.id);S&&n&&a(sM({mergeRequestReviewerId:n.id,mergeRequestKey:S.key,isApprove:r}))},mergeRequest:S})),ep.createElement(sO.P,{className:m$.lq},ep.createElement(aV.nS,null,X&&ep.createElement("div",null,ep.createElement(h_,{onChunkClick:ei,onChangeVisibleGroups:H,displayGroupsByPage:z,sortedPageIds:q,pageIdToInfo:K,fileKeyToFile:p,displayGroupsByStyle:j,displayGroupsByVariableSet:Y,displayGroupsByLibrary:$,images:X})))))),ep.createElement(m3,{reviewCreated:!!S&&!S.closed_at,reviewChangesRequested:es,reviewApproved:eo,canMerge:_,fileMerge:g,canRequestReview:w,requestReviewDisabled:x.length<1||!w||!L,mergeDisabled:e.isMergeBlocked||e.isConflictDetectionLoading||!_,onMerge:e.onSubmit({pendingMessage:(0,eb.t)("collaboration.branching_to_source.merging_branch_name_changes",{branchName:l.name}),successMessage:(0,eb.t)("collaboration.branching_to_source.branch_merged"),checkpointDiff:e.checkpointDiff,defaultSavepointParams:{label:L,description:M}}),onRequestReview:r=>{if(a(rH.Lo()),S){let e=r!==(S.description||"");a(sk({mergeRequestId:S.id,mergeRequestKey:S.key,...e&&{description:r}}))}else a(sF({title:L,description:r,reviewers:x.map(e=>e.user.id)}));(0,e2.kc)().branching_request_close&&e.onCloseModal()},numReviewers:x.length,mergeRequest:S||void 0,isBranchArchived:A,reviewer:ed||void 0,isOwnerOfReview:!!(T&&(null==(i=null==S?void 0:S.owner)?void 0:i.id)===T.id),sourceFile:c,branchFile:l})),(()=>{let{displayGroupIndex:e}=o;if(null===e)return null;let r=m2(o,W),n=W[o.displayGroupIndex];if(!r||!n)return null;let i=sw(r.mainChunk.displayNode.name||""),{modified:a,unmodified:s}=ak(n),d=a.length>0||s.length>0,c=ec(n),u=J[to.dI(r.mainChunk.displayNode.guid)||""],p=null==u?void 0:u.from,h=null==u?void 0:u.to,m=(e,r,n,i)=>ep.createElement(ep.Fragment,null,ep.createElement("div",{className:o.view===e?m$.Wr:m$.LX,onClick:()=>{("detail"===o.view||o.view===r)&&v({...o,view:e})}},ep.createElement("div",{className:m$.Wd},n,i&&ep.createElement("div",{className:o.view===e?m$.sB:m$.OF}," "+i+" "))));return ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement(ev.fu,{name:eD.e0.BRANCH_DIFF_DETAIL,properties:{fileKey:l.source_file_key,fileRepoId:l.file_repo_id}},ep.createElement("div",{className:m$.WH,key:`${o.view}-${to.dI(r.mainChunk.displayNode.guid)}`},ep.createElement("div",{className:m$.Rm},ep.createElement("div",{className:m$.ho},ep.createElement(sR.B,{svg:mX.A,className:m$.j2,onClick:()=>{null!==o.nestedDisplayChunkIndex?v({...o,view:"affected_detail"===o.view?"affected_summary":"variant_summary",nestedDisplayChunkIndex:null}):v({...o,view:"summary",displayGroupIndex:null})}}),!r.mainChunk.displayNode.isStateGroup&&"variable_set_detail"!==o.view&&ep.createElement("div",{className:G()?m$.k2:m$.M9,onClick:()=>{("affected_summary"===o.view||"variant_summary"===o.view)&&v({...o,view:"detail"})}},i.length>80?ep.createElement(sA.R,{text:i,className:m$.W8}):ep.createElement("span",{dir:"auto"},i)),"variable_set_detail"===o.view&&ep.createElement("div",{className:m$.k2},ep.createElement("span",{dir:"auto"},i),ep.createElement("span",{className:m$.w5},(0,eb.t)("variables.diff.details_title_changed_variables",{numChangedVariables:r.numAffectedChunks}))),"variant_detail"!==o.view&&"affected_detail"!==o.view&&"variable_set_detail"!==o.view&&ep.createElement(ep.Fragment,null,d&&m("variant_summary","affected_summary",i),r.numAffectedChunks>0&&m("affected_summary","variant_summary",(0,eb.t)("collaboration.branching_to_source.affected_items"),r.numAffectedChunks))),ep.createElement("div",{className:m$.S1},"variable_set_detail"===o.view&&ep.createElement("span",{className:m$.w5},(0,eb.t)("variables.diff.only_changed_variables_are_shown")),ep.createElement(pq,{className:m$.ak,phase:r.mainChunk.phase}))),ep.createElement(sO.P,{className:m$.lq,innerClassName:m$.XA},(G()||"variant_summary"===o.view)&&ep.createElement(pK,{beforeImage:p,beforeBackgroundColorStyle:oh(r.mainChunk,K,!0),afterImage:h,afterBackgroundColorStyle:oh(r.mainChunk,K,!0),showOptions:r.mainChunk.phase!==eT.Dje.CREATED&&r.mainChunk.phase!==eT.Dje.REMOVED,displayChunk:r,chunkDetail:er,compareThumbnailSource:c0.FO.BRANCHING}),("affected_summary"===o.view||"variant_summary"===o.view)&&ep.createElement(ep.Fragment,null,(()=>{if("variant_summary"===o.view)return a.length+s.length===0?ep.createElement("div",{className:m$.Dn},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.all_variants_were_removed"})):ep.createElement("div",{className:m$.mK},a.length>0&&X&&ep.createElement(hg,{onChangeVisibleGroups:H,pageIdToInfo:K,images:X,displayGroups:a,header:(0,eb.t)("collaboration.branching_to_source.modified_variants",{variantCount:a.length}),onChunkClick:e=>v({...o,view:"variant_detail",nestedDisplayChunkIndex:e.index}),initiallyCollapsed:!1}),s.length>0&&X&&ep.createElement(hg,{onChangeVisibleGroups:H,pageIdToInfo:K,images:X,displayGroups:s,header:(0,eb.t)("collaboration.branching_to_source.unmodified_variants",{variantCount:s.length}),initiallyCollapsed:!0}))})(),(()=>{if("affected_summary"===o.view)return X?ep.createElement("div",{className:m$.es},ep.createElement(hg,{onChangeVisibleGroups:H,pageIdToInfo:K,displayGroups:c,header:(0,eb.t)("collaboration.branching_to_source.instances_affected",{chunkCount:n.displayChunk.numAffectedChunks}),images:X,icon:dM.A,onChunkClick:e=>v({...o,view:"affected_detail",nestedDisplayChunkIndex:e.index}),key:o.displayGroupIndex.toString(),initiallyCollapsed:!1})):null})()),"variable_set_detail"===o.view&&ep.createElement("div",{className:m$.tp},ep.createElement(ms,{displayGroup:n}))))),!!(0,e2.kc)().branching_and_merging_debug&&ep.createElement(aV.FA,{className:m$.pG},er?ep.createElement(p7,{changes:er.nodeChanges,basis:er.diffBasis}):(0,eb.t)("collaboration.branching_to_source.placeholder_for_non_previewable_changes"))),("detail"===o.view||"variant_summary"===o.view||"variable_set_detail"===o.view)&&ep.createElement(aV.ak,null,ep.createElement("div",{className:m$.G9},ep.createElement(sR.B,{svg:mQ.A,className:`${m$.ai} ${0===o.displayGroupIndex?m$.R:""}`,onClick:()=>Q(o.displayGroupIndex-1)}),ep.createElement("div",{className:m$.lT},ep.createElement(eb.Tx,{id:"collaboration.branching_to_source.group_m_of_n",groupIndex:o.displayGroupIndex+1,numGroups:W.length})),ep.createElement(sR.B,{svg:m0.A,className:`${m$.ai} ${o.displayGroupIndex===W.length-1?m$.R:""}`,onClick:()=>Q(o.displayGroupIndex+1)}))))})())):ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement(aV.nS,null,ep.createElement("div",{className:m$.FD},ep.createElement(si,{hasLoadedConflictDetection:!e.isConflictDetectionLoading,hasLoadedDiffs:!!e.checkpointDiff,ignoreConflictDetection:!y})))))});var m4=n(97642),m6=n(88276);let m8=(0,t1.nF)((e,r)=>{let n=(0,ab.m)(r.fileKey,r.label,r.description,e.dispatch);e.dispatch((0,ih.Q)({promise:n,fallbackError:(0,eb.t)("file_browser.file_browser_actions.must_be_online_to_save_version")}))});var m7=n(94517);let m9="savepoint_modal--modal--iY9zh text--fontPos11--2LvXf text--_fontBase--QdLsd",ge="savepoint_modal--subtitle--4TScL text--fontPos11--2LvXf text--_fontBase--QdLsd",gt="savepoint_modal--section--LOBIq",gr="savepoint-modal";(0,iK.qK)(gr,e=>{let r=e.modalShown,n=r.data&&r.data.description||"",i=r.data&&r.data.label||"",a=r.data&&r.data.savepointID,o=r.data&&r.data.isEditingMergeSavepoint||!1,s=(0,tJ.GS)(),l=!e.openFile.canEdit;return ep.createElement(gi,{recordingKey:"savepointModal",fileKey:e.openFile.key,isHistoryMode:e.mirror.appModel.topLevelMode===eA.lyf.HISTORY,editorType:e.openFile.editorType,editingSavepointID:a,label:i,dispatch:e.dispatch,description:n,isViewOnly:l,isEditingMergeSavepoint:o,isUI3:s})});let gn=class extends l4.uA{constructor(e){super(e),this.onConfirmSavepointModal=(e,r)=>{let n=e||"",i=r||"";this.props.editingSavepointID&&this.props.fileKey?(this.props.dispatch(m6.D({fileKey:this.props.fileKey,savepointID:this.props.editingSavepointID,label:n,description:i})),this.hideModal(),(0,ex.sx)("History Version Edited Information",{savepointId:this.props.editingSavepointID,labelLength:n.length,descriptionLength:i.length})):n.length>0&&this.props.fileKey&&(this.props.dispatch(m8({fileKey:this.props.fileKey,label:n,description:i})),this.hideModal(),(0,ex.sx)(`History Version Created from ${this.props.isHistoryMode?"History Mode":"Keyboard Shortcut"}`,{savepointId:this.props.editingSavepointID,labelLength:n.length,descriptionLength:i.length})),this.clearSavedInputs()},this.onKeyDownMulti=e=>{e.keyCode===sE.Uz.ENTER&&(e.ctrlKey||e.metaKey||e.altKey)&&(e.preventDefault(),this.hideModal(),this.onConfirmSavepointModal(this.state.label,this.state.description))},this.hideModal=()=>{this.props.dispatch(rH.Ce())},this.onSubmit=l4.P_(this,"submit",e=>{e.preventDefault(),this.onConfirmSavepointModal(this.state.label,this.state.description)}),this.onCancel=()=>{this.clearSavedInputs(),this.hideModal()},this.saveHistoryInputs=()=>{gn.keepSavepointModalInput=!0,gn.savedLabelInput=this.state.label,gn.savedDescriptionInput=this.state.description},this.clearSavedInputs=()=>{gn.keepSavepointModalInput=!1,gn.savedLabelInput="",gn.savedDescriptionInput=""},this.focusRef=e=>{e&&n0.findDOMNode(e).focus()},this.onLabelChange=e=>{let r=e.target.value;this.setState({label:r})},this.onLabelBlur=e=>{this.onLabelChange(e)},this.onDescriptionChange=e=>{let r=e.target.value;this.setState({description:r})},this.onDescriptionBlur=e=>{this.onDescriptionChange(e)},this.goHistoryMode=()=>{this.props.isHistoryMode||(this.props.dispatch((0,m7._b)()),this.saveHistoryInputs(),this.hideModal())},this.state={label:"",description:"",disableConfirm:!0}}setLabelAndDescriptionFromProps(e){this.state.label.length<1&&this.state.description.length<1&&(gn.keepSavepointModalInput?this.setState({label:gn.savedLabelInput,description:gn.savedDescriptionInput}):this.setState({label:this.props.label,description:this.props.description}))}componentDidMount(){this.setLabelAndDescriptionFromProps(this.props)}UNSAFE_componentWillReceiveProps(e){this.setLabelAndDescriptionFromProps(e)}render(){if(this.props.isViewOnly)return null;let e=this.state.disableConfirm;this.state.label&&this.state.label.length>0&&(e=!1);let r=ep.createElement(eb.Tx,{id:"collaboration.feedback.save_modal.save"}),n=ep.createElement(eb.Tx,{id:"collaboration.feedback.save_modal.cancel"}),i=this.props.editingSavepointID?this.props.isEditingMergeSavepoint?ep.createElement(eb.Tx,{id:"collaboration.feedback.save_modal.edit_merge_details"}):ep.createElement(eb.Tx,{id:"collaboration.feedback.save_modal.edit_version_information"}):ep.createElement(eb.Tx,{id:"collaboration.feedback.save_modal.add_to_version_history"}),a=ep.createElement(nJ.i,{displayAs:nJ.C.Block},ep.createElement("form",{onSubmit:this.onSubmit},ep.createElement("div",{className:this.props.isUI3?"savepoint_modal--formInputsContainer--1XFsf":void 0},ep.createElement("div",{className:gt},this.props.isEditingMergeSavepoint&&ep.createElement("div",{className:ge},ep.createElement(eb.Tx,{id:"collaboration.feedback.save_modal.merge_name_placeholder"})),ep.createElement(eB.ks,{className:"savepoint_modal--inputLabel---eunO",type:"input",name:"label",value:this.state.label,placeholder:(0,eb.t)("fullscreen.savepoint_modal.title"),onChange:this.onLabelChange,onBlur:this.onLabelBlur,onKeyDown:this.onKeyDownMulti,autoFocus:!0,recordingKey:l4.Pt(this.props,"title")})),ep.createElement("div",{className:this.props.isUI3?void 0:gt},this.props.isEditingMergeSavepoint&&ep.createElement("div",{className:ge},ep.createElement(eb.Tx,{id:"fullscreen.savepoint_modal.give_this_merge_a_description"})),ep.createElement(eB.ks,{className:"savepoint_modal--inputDescription--2qJMN",type:"textarea",name:"description",value:this.state.description,placeholder:(0,eb.t)("collaboration.feedback.save_modal.description_placeholder"),onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,onKeyDown:this.onKeyDownMulti,recordingKey:l4.Pt(this.props,"description")}))),ep.createElement("div",{className:this.props.isHistoryMode?"savepoint_modal--buttonRowWithoutHistoryLink--8AfVn savepoint_modal--buttonRow--ouNJ-":"savepoint_modal--buttonRow--ouNJ-"},!this.props.isHistoryMode&&ep.createElement("div",{className:"savepoint_modal--goHistoryLink--CNSmB blue_link--blueLink--9rlnd",onClick:this.goHistoryMode},ep.createElement(eb.Tx,{id:"fullscreen.savepoint_modal.show_full_version_history"})),ep.createElement(eB.e2,{reversed:!0},ep.createElement(eB.$$,{type:"submit",className:"savepoint_modal--confirmButton--nSgWL",disabled:e},r),ep.createElement(eB.nR,{type:"button",className:"savepoint_modal--cancelLink--OuJHv",onClick:this.onCancel},n)))));return this.props.isUI3?ep.createElement(iY.XV,{title:i,onClose:this.hideModal},ep.createElement("div",{className:m9},a)):ep.createElement(o$.aF,{size:"small",...this.props,className:m9},ep.createElement(oj.s_,{...this.props}),ep.createElement("div",{className:"savepoint_modal--title--AkWdk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},i),a)}},gi=gn;function ga(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a6 6 0 1 1-12 0 6 6 0 0 1 12 0Zm1 0a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm1 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",clipRule:"evenodd"}))}function go(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15.18 15.384a.5.5 0 0 0 .704-.064l2.5-3a.5.5 0 0 0 0-.64l-2.5-3a.5.5 0 1 0-.768.64L17.349 12l-2.233 2.68a.5.5 0 0 0 .064.704ZM8.82 8.616a.5.5 0 0 0-.704.064l-2.5 3a.5.5 0 0 0 0 .64l2.5 3a.5.5 0 1 0 .768-.64L6.651 12l2.233-2.68a.5.5 0 0 0-.064-.704Zm4.654.542a.5.5 0 1 0-.948-.316l-2 6a.5.5 0 1 0 .948.316l2-6Z",clipRule:"evenodd"}))}function gs(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15.338 9.098a.625.625 0 0 1 .191.863l-3.628 5.687a.625.625 0 0 1-1 .072l-2.748-3.174a.625.625 0 1 1 .944-.818l2.201 2.54 3.177-4.98a.625.625 0 0 1 .864-.19Z",clipRule:"evenodd"}))}function gl(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M8.5 6.5v11H9a6.5 6.5 0 0 0 6.5-6.5V6.5m-7 0-2 2m2-2 2 2m5-2 2 2m-2-2-2 2"}))}function gd(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M8.5 17.5v-2A3.5 3.5 0 0 1 12 12v0m0 0V6.5m0 5.5v0a3.5 3.5 0 0 1 3.5 3.5v2M12 6.5l-2 2m2-2 2 2"}))}function gc(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("circle",{cx:"6",cy:"12",r:"1.5",fill:"var(--color-icon)"}),ep.createElement("circle",{cx:"12",cy:"12",r:"1.5",fill:"var(--color-icon)"}),ep.createElement("circle",{cx:"18",cy:"12",r:"1.5",fill:"var(--color-icon)"}))}gi.displayName="SavepointModal",gi.keepSavepointModalInput=!1,gi.savedLabelInput="",gi.savedDescriptionInput="";var gu=n(26331);function gp(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M11.121 14.121 13.243 12 11.12 9.879"}))}function gh(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.002 19.837A7.901 7.901 0 0 0 19.9 12a7.9 7.9 0 1 0-8.898 7.837ZM12 18.9a6.9 6.9 0 1 0 0-13.8 6.9 6.9 0 0 0 0 13.8ZM9.5 12a.5.5 0 1 0 0 1h5a.5.5 0 0 0 0-1h-5Zm.5 3.5a.5.5 0 0 1 .5-.5h3a.5.5 0 1 1 0 1h-3a.5.5 0 0 1-.5-.5ZM8.5 9a.5.5 0 1 0 0 1h7a.5.5 0 0 0 0-1h-7Z",clipRule:"evenodd"}))}function gm(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.5v11M6.5 12h11"}))}function gg(e){return ep.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},ep.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M17 7 7 17M7 7l10 10"}))}let gf=new ta.b("loadedCompareChanges");var g_=n(83297),gy=n(63042),gE=n(9840),gb=n(73944);n(15009);var gv=n(44892),gS=n(56012);function gI(e,r){let n=e.map(r),i=-1;for(let e=0;e<n.length;e++)if(n[e]){if(-1!==i)return null;i=e}return -1===i?null:e[i]}n(63668);var gT=n(34945);let gw=e=>e.mirror.selectionProperties.componentProps,gC=(0,sb.Mz)([gT.dK,gT.qd],gB);(0,sb.Mz)([gT.dK,gT.qd],function(e,r){return(0,c1.xP)(r=>{var n;return null==(n=e.get(r))?void 0:n.containingModuleId},r)??void 0});let gA=(0,sb.Mz)([gT.dK,gT.qd],gV);(0,sb.Mz)([gT.dK,gT.qd],(e,r)=>{var n;let i=new Set;for(let a of r){let r=null==(n=e.get(a))?void 0:n.containingSymbolId;r&&i.add(r)}return Array.from(i)});let gN=()=>(0,sb.Mz)([gT.dK,(e,r)=>r],(e,r)=>gV(e,r)??gB(e,r));(()=>{let e=gN();return r=>e(r,(0,gT.qd)(r))})(),(0,sb.Mz)([gC,gA],(e,r)=>e??r);let gO=()=>(0,sb.Mz)([(e,r)=>r,gT.dK],(e,r)=>{let n=gI(e,e=>{let n=r.get(e);return!!n&&(0,ax.LI)(n)});for(let i of e){let e=r.get(i),a=(null==e?void 0:e.containingStateGroupId)??(null==e?void 0:e.containingSymbolId);if(a&&a!==n)return}return n??void 0}),gR=()=>(0,sb.Mz)([(e,r)=>r,gT.dK],(e,r)=>gI(e,e=>{let n=r.get(e);return!!n&&(0,ax.FS)(n)})??void 0);(()=>{let e=gO();return r=>e(r,(0,gT.qd)(r))})();let gP=()=>(0,sb.Mz)([gN(),gO()],(e,r)=>e??r),gL=()=>(0,sb.Mz)([gR()],e=>e),gD=(()=>{let e=gP();return r=>e(r,(0,gT.qd)(r))})();(0,sb.Mz)([gD,gT.dK],(e,r)=>e?r.get(e):null);let gM=(()=>{let e=gL();return r=>e(r,(0,gT.qd)(r))})();(0,sb.Mz)([gM,gT.dK],(e,r)=>e?r.get(e):null),(0,sb.Mz)([gw,gT.qd],(e,r)=>{if(e)return(0,c1.xP)(r=>{var n;return null==(n=e[r])?void 0:n.containingInstance},r)??void 0});let gk=(0,sb.Mz)([gw,gT.qd],(e,r)=>{if(e)return gG(e,r)}),gx=(0,sb.Mz)([gw,gT.qd,gT.dK],(e,r,n)=>{if(e)return gH(e,r,n)}),gF=()=>(0,sb.Mz)([gw,(e,r)=>r,gT.dK],(e,r,n)=>{if(!e)return;let i=[];for(let e of r){let r=n.get(e);if(!r||r.isLooseComponent||r.isState||r.isStateGroup)return;r.symbolId&&i.push(e)}return gH(e,i,n)??gG(e,i)});(0,sb.Mz)([gx,gk],(e,r)=>r??e);let gU=()=>(0,sb.Mz)([gT.dK,(e,r)=>r],(e,r)=>r.some(r=>{var n;return(null==(n=e.get(r))?void 0:n.isInstanceSublayer)??!1}));function gB(e,r){return(0,c1.xP)(r=>{var n;return null==(n=e.get(r))?void 0:n.containingSymbolId},r)??void 0}function gV(e,r){return(0,c1.xP)(r=>{var n;return null==(n=e.get(r))?void 0:n.containingStateGroupId},r)??void 0}function gH(e,r,n){return(0,c1.xP)(r=>{var i,a;let o=null==(i=e[r])?void 0:i.backingSymbol;if(o)return null==(a=n.get(o))?void 0:a.containingStateGroupId},r)??void 0}function gG(e,r){return(0,c1.xP)(r=>{var n,i;return(null==(n=e[r])?void 0:n.backingSymbol)??(null==(i=e[r])?void 0:i.containingInstanceBackingSymbol)},r)??void 0}(()=>{let e=gU();return r=>e(r,(0,gT.qd)(r))})(),(0,sb.Mz)([gT.F4],e=>e.some(e=>"SYMBOL"===e.type||!!e.isStateGroup));var gW=n(97395),gz=n(35691);let gK=()=>(0,gW.P8)([gw,gP(),gF()],(e,r,n)=>{if(!e)return[];let i=n??r;return i?function(e,r){var n;let i=null==(n=r[e])?void 0:n.stateGroupVariantProps;if(!i)return[];let a=(0,c1.aO)(e,r),o=(0,c1.f3)(e,r);return i.propertySortOrder.map(e=>{let r=o===eT.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR&&a.some(r=>r.name===e),n=i.propertyValues[e];return{name:e,values:n,type:eT.J0O.VARIANT,kind:gz.u.VARIANT,error:r?eT.uXg.CONFLICTING_NAMES_WITH_VARIANT_ERROR:eT.uXg.NONE}})}(i,e):[]}),gj=(()=>{let e=gK();return r=>e(r,(0,gT.qd)(r))})();(0,sb.Mz)([gj],e=>{let r=e.map(e=>e.name);return function(e,r){let n=RegExp(`^${e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")} [0-9]+$`),i=-1!==r.indexOf(e),a=r.reduce((r,a)=>n.test(a)?(i=!0,Math.max(parseInt(a.substr(e.length)),r)):r,1);return i?e+" "+(a+1).toString():e}((0,eb.t)("design_systems.component_properties.variant_property_default_name"),r)}),n4.M4.Query({fetch:async({componentKey:e})=>{try{let r=await gS.Z.getLibraryComponentV2Destination({componentKey:e});if(!r||!r.data||!r.data.meta)return null;return{nodeId:r.data.meta.node_id,fileKey:r.data.meta.file_key,component:r.data.meta.component,componentSet:r.data.meta.component_set}}catch(e){return null}},enabled:e=>e.enabled}),n4.M4.Query({fetch:async({statusResult:e})=>{if(!e||!e.componentKey||!e.canvasUrl)return{};let r=e.isVariant?e.dataStateGroupId:e.dataComponentId,n=e.dataStateGroupId??null,i=e.dataStorageKey,a=await gv.Eo.getCanvas({canvas_url:e.canvasUrl});if(!a)return{};let o=eT.glU.loadDetachedComponent(r??"",i,a,n);return o?{result:{...e,dataLocation:"temp-scene",dataComponentId:o}}:{}},enabled:e=>e.enabled}),n(64881);var gY=n(65514),g$=n(50769),gq=n(83990),gZ=n(96226),gX=n(43987),gJ=n(20289),gQ=n(47206),g0=n(72794);let g1=null;var g2=n(55328),g3=n(1730),g5=n(54294),g4=n(7033),g6=n(96846),g8=n(68870),g7=n(75827),g9=n(22631),fe=n(79296),ft=n(30637);let fr=console.error,fn=["log","error","assert","info","warn","clear"],fi={};for(let e of fn)fi[e]=console[e];let fa=0;var fo=n(29531),fs=n(24589),fl=n(20550),fd=n(70769),fc=n(91463),fu=n(22416),fp=n(20441),fh=n(78032);let fm=0;function fg(e){if(++fm>100)return;let{message:r,raw_stack:n,apiVersion:i,pluginID:a}=e,o={message:r,...(0,tG.I)(n),pluginID:a||"",version:i};(0,ex.sx)("plugin_generated_error",o)}async function ff(e){"cppvm"===e?await (0,fd.VA)():await (0,fh.N)()}async function f_(e){return(await ff(e),"cppvm"===e)?(0,g6.tn)():(0,g6.wt)()}let fy=(0,fe.n)(async e=>{let r;let{apiVersion:n,capabilities:i,code:a,command:o,deferRunEvent:s,disableSilenceConsole:l,enablePrivatePluginApi:d,enableProposedApi:c,errorHandler:u,isLocal:p,isWidget:h,name:m,openFileKey:g,parameterValues:f,permissions:_,pluginCounter:y,queryMode:E,securityCheckReporter:b,stats:v,testMessageHandler:S,triggeredFrom:I,userID:T,html:w,incrementalSafeApi:C,allowIncrementalUnsafeApiCalls:A,enableNativeJsx:N}=e,O=await f_(e.vmType);return h&&fl.z.didVmStart(window.performance.now()),O.setErrorHandler(r=>{let i="";try{i=O.toString(r.handle)}catch(e){i="Error: An error was thrown, but couldn't be converted into a string"}let a="";try{a=O.getStringProp(r.handle,"stack")}catch(e){a="Unable to get stack"}fg({message:i,raw_stack:a,pluginID:e.pluginID,apiVersion:n}),u&&u(i)}),O.setAbortHandler(i=>{r({message:"Plugin runtime aborted",isError:!0}),fg({message:"Plugin runtime aborted",raw_stack:i,pluginID:e.pluginID,apiVersion:n})}),O.setStats(v),{runResult:new Promise((u,R)=>{let P,L=[],D=async e=>{let r;for(let n of L)try{await n(e)}catch(e){r||(r=e)}if(L=[],r)throw r},M=e=>{L.includes(e)||L.push(e)};r=async e=>{let r;e&&e.isError&&(r=Error(e.message));try{await D(null==e?void 0:e.overriddenBy)}catch(e){throw r=r||e,e}finally{r?R(r):u(e&&e.message)}},l||function(){if(!((0,ft.nl)()||ft.b_||(0,e2.b5)())){if(0===fa){console.clear(),console.log("------- Clearing and silencing console.log from Figma -------");try{for(let e of fn)console[e]=()=>{}}catch(e){console.log("unable to silence console")}}fa++}}(),P=b?{type:"SECURITY_CHECK"}:h?{type:"WIDGET",noOpUI:!1}:{type:"PLUGIN",noOpUI:!1};let k=new aa.Pd(O,{addShutdownAction:M,allowedDomains:e.allowedDomains,apiMode:P,apiVersion:n,capabilities:i,closePlugin:r,code:a,command:o,deferRunEvent:s||!1,enablePrivatePluginApi:d,enableProposedApi:c,isLocal:p,name:m,openFileKey:g,parameterValues:f,pluginID:e.pluginID||"",pluginVersionID:e.pluginVersionID||"",queryMode:E,stats:v,titleIconURL:e.titleIconURL||"",triggeredFrom:I,userID:T,validatedPermissions:_,editorType:e.editorType,html:w,incrementalSafeApi:C,allowIncrementalUnsafeApiCalls:!!A,enableNativeJsx:N});k.createAPI(),M(()=>O.destroy()),l||M(()=>(function(){if(!(0,ft.nl)()&&!ft.b_&&0==--fa){try{for(let e of fn)console[e]=fi[e]}catch(e){console.log("unable to restore console")}console.log("------- Restoring console.log functionality in Figma --------")}})()),M(()=>ts.Y5.triggerAction("commit")),(0,aa._T)(O,v,m),function(e,r,n){if(!e.isEqual(e.undefined,e.getProp(e.global,"setTimeout")))return;let i=new Map,a=new Map,o=1;function s(r,n){if(e.isFunction(r)){for(let i of(e.retainHandle(r),n))e.retainHandle(i);let i=!1;return{release:()=>{if(!(i||e.isDestroyed()))for(let a of(i=!0,e.releaseHandle(r),n))e.releaseHandle(a)},callback:()=>{i||e.isDestroyed()||e.callFunction(r,e.global,...n)}}}{let n=e.toString(r);return{release:()=>{},callback:()=>e.evalCode(n)}}}e.setProp(e.global,"setTimeout",e.newFunction("setTimeout",(n,a,...l)=>{null!==r&&r.increment("setTimeout");let{release:d,callback:c}=s(n,l),u=e.toNumber(a),p=o++,h=setTimeout(()=>{i.delete(h),c(),d()},u);return i.set(p,{release:d,realId:h}),e.newNumber(p)})),e.setProp(e.global,"clearTimeout",e.newFunction("clearTimeout",n=>{null!==r&&r.increment("clearTimeout");let a=e.toNumber(n),o=i.get(a);return void 0!==o&&(i.delete(a),clearTimeout(o.realId),o.release()),e.undefined})),e.setProp(e.global,"setInterval",e.newFunction("setInterval",(n,i,...l)=>{null!==r&&r.increment("setInterval");let{release:d,callback:c}=s(n,l),u=e.toNumber(i),p=o++,h=setInterval(c,u);return a.set(p,{release:d,realId:h}),e.newNumber(p)})),e.setProp(e.global,"clearInterval",e.newFunction("clearInterval",n=>{null!==r&&r.increment("clearInterval");let i=e.toNumber(n),o=a.get(i);return void 0!==o&&(a.delete(i),clearInterval(o.realId),o.release()),e.undefined})),n(()=>{for(let{realId:e}of i.values())clearTimeout(e);for(let{realId:e}of(i.clear(),a.values()))clearInterval(e);a.clear()})}(O,v,M);let x=new g8.VY(e.pluginID||"",{allowedDomains:e.allowedDomains,isLocal:p});M(()=>x.destroyIframe()),function(e,r,n){e.isEqual(e.undefined,e.getProp(e.global,"fetch"))&&e.setProp(e.global,"fetch",e.newFunction("fetch",(i,a)=>{null!==r&&r.increment("fetch");let o=(0,fu.BK)({vm:e,handle:i,schema:fu.By.string,property:"url"}),s=(0,fu.Kb)((0,fu.BK)({vm:e,handle:a,schema:fc.CL,property:"init"})||{},{body:null,headersObject:{}});null==s.headers&&(s.headers=s.headersObject),delete s.headersObject;let{promise:l,resolve:d,reject:c}=e.newPromise(),u={...s,url:o};return e.registerPromise(n.fetch(u)).then(async r=>{let n=await r._blob.arrayBuffer(),i=e.deepWrap({headersObject:r.headersObject,ok:r.ok,redirected:r.redirected,status:r.status,statusText:r.statusText,type:r.type,url:r.url});e.defineFunction(i,"arrayBuffer","fetchResponse.arrayBuffer",()=>{let{promise:r,resolve:i}=e.newPromise();return i(e.newArrayBuffer(n)),r}),e.defineFunction(i,"text","fetchResponse.text",()=>{let{promise:r,resolve:i}=e.newPromise(),a=new TextDecoder;return i(e.deepWrap(a.decode(n))),r}),e.defineFunction(i,"json","fetchResponse.json",()=>{let{promise:r,resolve:i,reject:a}=e.newPromise(),o=new TextDecoder;try{let r=o.decode(n),a=JSON.parse(r);i(e.deepWrap(a))}catch(r){a(r instanceof SyntaxError?e.deepWrap({message:r.message}):e.deepWrap({message:"Error parsing JSON"}))}return r}),e.shallowFreezeObject(i),d(i)},r=>c(e.deepWrap({message:r.message}))),l}))}(O,v,x),(0,ft.nl)()&&function(e,r){let n=e.newObject();e.setProp(e.global,"__TEST__",n),r&&(e.defineFunction(n,"sendMessage",null,n=>(r.sendMessageToTest(e.toString(n)),e.undefined)),e.defineFunction(n,"onMessage",null,n=>{if(!e.isFunction(n))throw Error("onMessage handler must be a function");return e.retainHandle(n),r.sendMessageToPlugin=r=>{e.isDestroyed()||e.callFunction(n,e.undefined,e.newString(r))},e.undefined}),r.ready(()=>!e.isDestroyed())),e.shallowFreezeObject(n)}(O,S),b&&O.defineFunction(O.global,"reportSecurityResults","reportSecurityResults",e=>(b(O.toString(e)),O.undefined));let F=(0,g6.$s)();M(()=>F.destroy()),M(()=>{delete window.figma}),M((0,iB.qC)(e=>{v.stackInvariantsEnforced(e)})),new aa.Pd(F,{addShutdownAction:M,allowedDomains:e.allowedDomains,apiMode:{type:"CONSOLE_SHIM",uiHandle:k.getUiHandle()},apiVersion:n,capabilities:i,closePlugin:r,command:o,deferRunEvent:s||!1,enablePrivatePluginApi:d,enableProposedApi:c,isLocal:p,name:m,openFileKey:g,pluginID:e.pluginID||"",pluginVersionID:e.pluginVersionID||"",queryMode:E,stats:v,titleIconURL:e.titleIconURL,triggeredFrom:I,userID:T,validatedPermissions:_,editorType:e.editorType,html:w,incrementalSafeApi:C,enableNativeJsx:N}).createAPI();let U=a+"\n//# sourceURL=PLUGIN_"+y+"_SOURCE\n";setTimeout(async()=>{let n;if(!b&&(0,fo.Nq)()!==y){r({message:"Plugin already terminated",isError:!0});return}b||(eT.NfO.prepareToRunPlugin(),M(()=>eT.NfO.finishedRunningPlugin())),(0,e2.kc)().plugins_hack_preload_fonts&&await (0,fp.o)();try{if(n=O.evalTopLevelCode(U),h&&p){if(k.hasRegisteredWidget())(null==S?void 0:S.widgetRegistered)&&S.widgetRegistered();else throw Error("widget missing call to figma.widget.register")}}catch(n){let e="Unknown error";try{e=n+""}catch(e){}r({message:e,isError:!0});return}finally{v.markTime("timeToEvalTopLevelCodeMs")}if(e.isWidget&&fl.z.didEvalJSVM(),"FAILURE"===n.type){if((0,ft.nl)()){let e=O.toString(n.error.handle);r({message:e,isError:!0})}else r()}})}),closePlugin:r}}),fE=`const __html__ = (() => {
  let realString = null;
  const getRealString = () => {
    if (realString == null) {
      realString = figma.getHTMLString();
    }
    return realString;
  };
  return new Proxy(
    { __html__: true },
    {
      get(_, prop) {
        if (prop === '__html__') {
          return true;
        }
        if (typeof String.prototype[prop] === 'function') {
          return (...args) => String.prototype[prop].apply(getRealString(), args);
        }
        return getRealString()[prop];
      },
    },
  );
})();`.replace(/\n/g," ");async function fb(e){let r,n;let{apiVersion:i,checkSyntax:a,code:o,command:s,deferRunEvent:l,disableSilenceConsole:d,enablePrivatePluginApi:c,enableProposedApi:u,errorHandler:h,isLocal:m,isWidget:g,name:f,noConsoleError:_,openFileKey:y,parameterValues:E,permissions:b,pluginCounter:v,queryMode:S,securityCheckReporter:I,showRuntimeErrors:T,stats:w,testMessageHandler:C=p,triggeredFrom:A,userID:N,vmType:O,widgetAction:R,incrementalSafeApi:P,allowIncrementalUnsafeApiCalls:L,enableNativeJsx:D}=e,M=g?"widget":"plugin";if(w.markTime("timeToRunPluginCodeInternalMs"),"0.6.0"===i||"1.0.0"===i);else throw Error(`Unknown ${M} api version "${i}"`);if(T){let e;let n=(e=0,r=>{let n=r.startsWith("Error")?r.replace("Error","error"):r,i="";++e>1&&(i=` (${e} errors total)`),g?(0,nj.fR)(`Widget ${n}${i}`):(0,nj.fR)(`Plugin ${n}${i}`)});r=h?e=>{n(e),h(e)}:n}else r=h||(()=>{});let k=o;if(!(0,e2.kc)().plugins_remove_syntax_checking&&!1!==a){let e;try{e=await (0,fs.z)(o)}catch(e){}if(e&&!1===e.success){let{lineNumber:r,column:n,description:i}=e.error,a=`Syntax error on line ${r}: ${i}`,s=o.split("\n"),l="";if(r>=1&&r<=s.length&&n>=1&&n<100){let e=s[r-1].replace(/\t/g," ").slice(0,n+100);l+=`
${e}
${" ".repeat(n-1)}^`}throw _||fr(a+l),Error(a)}"realms"===O&&e&&e.success&&(k=(0,nj.Ms)(o,e.rangesToRemove))}let x=null;return{html:x,code:k}=(n=null,{code:k.replace(/^const __html__ = ("(.*?)([^\\]|^)");/,(e,r)=>(n=JSON.parse(r.split('"+"').join("")),fE)),html:n}),fy({allowedDomains:e.allowedDomains,apiVersion:i,capabilities:e.capabilities,checkSyntax:!1,code:k,command:s,deferRunEvent:l,disableSilenceConsole:d,enablePrivatePluginApi:c,enableProposedApi:u,errorHandler:r,isLocal:m,isWidget:g,name:f,openFileKey:y,parameterValues:E,permissions:b,pluginCounter:v,pluginID:e.pluginID,pluginRunID:"",pluginVersionID:e.pluginVersionID,queryMode:S,securityCheckReporter:I,showLaunchErrors:!1,showRuntimeErrors:!1,stats:w,testMessageHandler:C,titleIconURL:e.titleIconURL,triggeredFrom:A,userID:N,vmType:O,widgetAction:R,editorType:e.editorType,html:x,incrementalSafeApi:P,allowIncrementalUnsafeApiCalls:!!L,enableNativeJsx:D})}let fv=class{constructor(){this.runQueue=[],this.currentRunState=null,this.MAX_RESOLVE_ITERATIONS=10}enqueue(e){let{runPluginArgs:r,onStart:n,mode:i,reuseExistingRunState:a=!0}=e,{plugin:o}=r;if(!(0,lz.$A)(tu.D.getState().selectedView))return fA(r);if(o.manifest.containsWidget)throw Error("Cannot enqueue a plugin that contains a widget");let s=this.createTask(n),l=this.findExistingRunState(e);if(a&&l)this.log("enqueue","Found existing run state, pushing runTask onto existing runState",{existingRunState:l,runTask:s}),l.runTasks.push(s),l===this.currentRunState&&"settled"===l.status&&this.resolveAllPromises(this.currentRunState);else{let e={runPluginArgs:r,runTasks:[s],mode:i,status:"idle"};this.log("enqueue","Creating new run state and adding to queue",{runState:e}),this.addToQueue(e),this.runNextPlugin()}return s.promise}getCurrentRunStatusOrNull(){var e;return(null==(e=this.currentRunState)?void 0:e.status)??null}getRunQueueLength(){return this.runQueue.length}async runNextPlugin(){if(await this.maybeTerminatePluginBeforeRun(),(0,aE.hw)())return;let e=this.runQueue.shift();if(!e)return;this.currentRunState=e,this.prepPluginForRun(e.runPluginArgs.plugin);let r=this.runPlugin(e);await this.resolveAllPromises(e),await r,this.log("runNextPlugin","Finished running plugin",{runState:e}),this.runNextPlugin()}runPlugin(e){this.log("runNextPlugin","Running plugin",{runState:e});let{runPluginArgs:r}=e;return fA(r)}setRunPluginForTest(e){if(!(0,ft.nl)())throw Error("Cannot set run plugin for test when not running interaction tests");this.runPlugin=e}createTask(e){let r=()=>{},n=()=>{};return{promise:new Promise((e,i)=>{r=e,n=i}),resolve:r,reject:n,onStart:e}}async resolvePromise({resolve:e,reject:r,onStart:n}){try{let r=await (null==n?void 0:n());e(r)}catch(e){r(e)}}async resolveAllPromises(e){this.log("runNextPlugin","Resolving all promises",{runState:e}),e.status="resolving";let r=0;for(;r<this.MAX_RESOLVE_ITERATIONS;){let n=e.runTasks;if(0===n.length)break;e.runTasks=[],await Promise.allSettled(n.map(e=>this.resolvePromise(e))),r++}await this.maybeTerminatePluginAfterRunSettled(e),e.status="settled",this.log("runNextPlugin","Resolved all promises",{runState:e})}addToQueue(e){switch(this.log("addToQueue","Adding to queue",{toAdd:e}),e.mode){case"run-forever":case"run-and-terminate":this.runQueue.push(e);break;default:(0,eh.xb)(e.mode)}}async maybeTerminatePluginBeforeRun(){var e,r;let n=(0,aE.hw)();(0,e2.kc)().plugins_reset_run_state&&!n&&this.currentRunState&&(this.currentRunState=null),(!!n!=!!this.currentRunState||(null==(e=this.currentRunState)?void 0:e.status)==="settled"&&(null==(r=this.currentRunState)?void 0:r.runPluginArgs.plugin.plugin_id)===(null==n?void 0:n.plugin_id))&&(this.log("maybeTerminatePluginBeforeRun","Terminating plugin"),await this.terminatePlugin())}async maybeTerminatePluginAfterRunSettled(e){let{mode:r}=e;switch(this.log("maybeTerminatePluginAfterRunSettled","Maybe terminating plugin",{toMaybeTerminate:e}),r){case"run-forever":this.runQueue.length>0&&await this.terminatePlugin();break;case"run-and-terminate":await this.terminatePlugin();break;default:(0,eh.xb)(r)}}async terminatePlugin(){this.log("terminatePlugin","Terminating plugin"),this.currentRunState=null,await (0,aE.wY)(),await (0,aR.yQ)()}findExistingRunState({runPluginArgs:e,mode:r}){var n,i;let a=null==(n=this.currentRunState)?void 0:n.runPluginArgs.plugin.plugin_id;return a===e.plugin.plugin_id&&(null==(i=(0,aE.hw)())?void 0:i.plugin_id)===a?this.currentRunState:this.runQueue.find(n=>n.runPluginArgs.plugin.plugin_id===e.plugin.plugin_id&&n.mode===r)}isCurrentlyRunning({runPluginArgs:e,mode:r}){return!!this.findExistingRunState({runPluginArgs:e,mode:r})}prepPluginForRun(e){this.log("prepPluginForRun","Prepping plugin for run",{plugin:e}),(0,nZ.dW)(e,null),(0,iB.f$)(),(0,iB.n4)(),(0,iB.hY)()}log(e,r,n={}){if(!fv.debug)return;let i={currentRunState:this.currentRunState,runQueue:this.runQueue,runningPluginState:aE.iu,...n};aN.k.log("[PluginManager]",`[${e}]`,r,i)}};fv.instance=new fv,fv.debug=!1;var fS=n(47087),fI=n(50335);async function fT(e){let r;let n=`<script>
  function doIframeSecurityChecks() {
    // Edge seems to change the URL and origin of the page when you document.write()
    // a whole new page. The new URL looks something like http://{abc123.abcd-1234-5678-0123}/
    // with the {} escaped using percent encoding.
    if (document.location.origin !== "null" &&
        !/^https?\\:\\/\\/\\%7b[a-f0-9.-]+\\%7d$/.test(document.location.origin)) {
      return "Failed origin check: " + document.location.origin
    }
    // This doesn't ensure that we're sandboxed. But we want this to be true
    if (!document.location.href.startsWith('data:text/html,') &&
        !document.location.href.startsWith('data:text/html;base64,') &&
        !/^https?\\:\\/\\/\\%7b[a-f0-9.-]+\\%7d\\/$/.test(document.location.href)) {
      return "Failed location.href check: " + document.location.href
    }
    try {
      if (localStorage && localStorage["figma-extension-guard"] !== undefined) {
        return "Failed localStorage check"
      }
    } catch(ex) {}
    try {
      window.parent.document.body
      return "Failed DOM access check"
    } catch(ex) {}
    try {
      window.parent.someRandomProperty
      return "Failed JS heap access check"
    } catch(ex) {}
    return "ok"
  }
  let result
  try {
    result = doIframeSecurityChecks()
  } catch(ex) {
    result = ex + ''
  }
  window.parent.postMessage({ pluginMessage: result }, '*')
  </script>`,i=`
    function doMainThreadSecurityChecks() {
      // Modify a grab bag of prototype objects to try to modify prototypes outside
      // of the sandbox.
      // Grab prototype objects both through global property accesses, like
      // Array.prototype, through syntax access, like [].__proto__, and through
      // Object helpers, like Object.getPrototypeOf({}), in case
      // the realm API accidentally protects one but not the other.
      // Also grab prototypes for things that don't have named constructors, like
      // GeneratorFunction
      for (let obj of [Array.prototype,
                       String.prototype,
                       Function.prototype,
                       Object.prototype,
                       Date.prototype,
                       [].__proto__,
                       "".__proto__,
                       Math.__proto__,
                       (new Date()).__proto__,
                       ({}).__proto__,
                       (() => {}).__proto__,
                       (function*(){}).__proto__,
                       "(async () => {}).__proto__",
                       "(async function*(){}).__proto__",
                       Object.getPrototypeOf([]),
                       Object.getPrototypeOf(""),
                       Object.getPrototypeOf(Math),
                       Object.getPrototypeOf(new Date()),
                       Object.getPrototypeOf({}),
                       Object.getPrototypeOf(() => {}),
                       Object.getPrototypeOf(function*(){}),
                       "Object.getPrototypeOf(async () => {})",
                       "Object.getPrototypeOf(async function*(){})",
                       ]) {
        // Some syntaxes might not work in all browser versions. But we still want to protect the
        // ones where it does work.
        if (typeof obj === 'string') {
          try {
            obj = eval(obj)
          } catch(ex) {
            continue
          }
        }
        // Don't make it enumerable since adding enumerable properties on Object.prototype
        // will completely break Figma. And we want a breach here to prevent plugins from
        // running, not to prevent Figma from continuing to work
        Object.defineProperty(obj, 'hackedSandbox', {
          value: true,
          configurable: true,
          enumerable: false,
        })
      }
      function swallowErrors(cb) {
        try { return cb() }
        catch (e) { return false }
      }
      if (swallowErrors(() => window) ||
          swallowErrors(() => document) ||
          swallowErrors(() => localStorage)) {
        return "Browser globals accessible"
      }
      // Check if you can use eval or Function to break out of the sandbox
      if (swallowErrors(() => eval('window')) ||
          swallowErrors(() => eval('document')) ||
          swallowErrors(() => eval('localStorage')) ||
          swallowErrors(() => new Function('return window')()) ||
          swallowErrors(() => new Function('return document')()) ||
          swallowErrors(() => new Function('return localStorage')())) {
        return "Browser globals accessible"
      }
      if (figma.showUI.__proto__ !== Function.prototype) {
        return "APIs use unexpected prototype"
      }
      if ([].__proto__ !== Array.prototype) {
        return "Array use unexpected prototype"
      }
      return "ok"
    }
    let result
    try {
      result = doMainThreadSecurityChecks()
    } catch(ex) {
      result = ex + ''
    }
    if (result !== "ok") {
      reportSecurityResults(result)
      figma.closePlugin()
    }
    figma.showUI(${JSON.stringify(n)}, { visible: false })
    figma.ui.onmessage = result => {
      reportSecurityResults(result)
      figma.closePlugin()
    }
  `;eU.x4&&(eU.x4["figma-extension-guard"]="guard");let a="",{runResult:o}=await fb({allowedDomains:g8.gH,apiVersion:fI.pS,capabilities:[],checkSyntax:!1,code:i,command:"",disableSilenceConsole:!0,enablePrivatePluginApi:!1,enableProposedApi:!1,errorHandler:e=>{r=r||e||"unknown error"},isLocal:!0,isWidget:!1,name:"Security Checker",openFileKey:"",permissions:nj.qH.none(),pluginCounter:-1,pluginID:"",pluginRunID:"",pluginVersionID:"",queryMode:!1,securityCheckReporter:e=>{a=e},showLaunchErrors:!1,showRuntimeErrors:!1,stats:new g9.P,titleIconURL:"",triggeredFrom:void 0,userID:"",vmType:e,editorType:[],html:null,incrementalSafeApi:!1,enableNativeJsx:!1});await o;let s=!1;for(let e of[Array.prototype,Function.prototype,Object.prototype,Date.prototype,Object.getPrototypeOf(function*(){yield 0}),"Object.getPrototypeOf(async () => {})","Object.getPrototypeOf(async function*(){ yield 0 })"]){if("string"==typeof e)try{e=(0,eval)(e)}catch(e){continue}e.hackedSandbox&&(s=!0,delete e.hackedSandbox)}if(s)throw Error("Prototypes not isolated");if(void 0!==r)throw Error("Security checks triggered error");if("ok"!==a)throw Error(a)}async function fw(e,r){await ff(e),await Promise.all([g8.Yx.getInstanceLoading((0,g8.Ew)({triggeredFrom:void 0})),g8.Yx.getInstanceLoading((0,g8.Ew)({triggeredFrom:r}))]),"realms"===e&&(h||(h=fT("realms").catch(e=>{throw(0,ex.sx)("Plugin Sandbox Failure",{error:e+"",vm:"realms"}),e})),await h),"cppvm"===e&&(m||(m=fT("cppvm").catch(e=>{throw(0,ex.sx)("Plugin Sandbox Failure",{error:e+"",vm:"cppvm"}),e})),await m)}class fC extends Error{constructor(e){super(e)}}let fA=(0,fe.n)(async e=>{let r=(0,aE.mv)();aE.iu.currentPluginRunID=r;let n=new g9.P;aE.iu.stats=n;let i=e.plugin;(0,ex.sx)("Plugin Start Initiated",{pluginID:i.plugin_id,trigger:e.triggeredFrom,runMode:e.runMode,isWidget:e.isWidget,command:e.command,fileKey:e.openFileKey,orgId:(0,g4.I)()??null,pluginRunID:r,editorType:(0,nj.T)(),...(0,nY.ZQ)(i)?{pluginVersionID:"",source:"development",name:"<local plugin>"}:{pluginVersionID:i.id,source:"imported",name:i.name}});let{isCancelled:a}=await n.markDuration("waitForAllPagesMs",async()=>await (0,fS.y)(e));if(!a){if((0,nj.W4)(e.triggeredFrom)){if(!(0,nj.UH)(e.plugin))throw Error('Plugin not compatible to run in dev handoff panel. Make sure you have "dev" as an editorType and "inspect" as a capability in your manifest.json.');rV.zl.set(g5.d4,"LOADING"),rV.zl.set(il,io.PLUGIN)}e.isWidget||e.ignoreForRunLastPlugin||(g1=e),(0,aE.lM)(e.plugin),(0,aE.qR)(e.triggeredFrom),"default"===e.runMode&&(0,nj.W4)(e.triggeredFrom)&&(e.runMode="inspect"),(0,aE.Kd)(e.runMode);try{if((0,nY.ZQ)(e.plugin))try{let i=await fO(e,n,e.plugin);await fR({localPlugin:e.plugin,runPluginArgs:e,stats:n,pluginRunID:r,code:i})}catch(r){fr(r),fN(r,e.isWidget)}else try{let i=await fO(e,n,e.plugin);await function({pluginVersion:e,runPluginArgs:r,stats:n,pluginRunID:i,code:a}){let{command:o,queryMode:s,triggeredFrom:l,openFileKey:d,deferRunEvent:c,parameterValues:u,isWidget:p,widgetAction:h,forcePluginVersionId:m}=r,g=(0,g4.o8)();if(!g)throw new fC(r.isWidget?(0,eb.t)("plugins.cannot_run_widget_logged_out"):(0,eb.t)("plugins.cannot_run_plugin_logged_out"));if(e={...e,id:m||e.id},aE.iu.currentPluginRunID!==i)return;let f=tu.D.getState().selectedView.editorType,_={storeInRecentsKey:(0,gJ.B)(f),id:e.plugin_id,version:e.version,currentUserId:(0,g4.o8)()};p?tu.D.dispatch(nG.RH(_)):tu.D.dispatch(nG.gU(_));let y=tu.D.getState().publishedPlugins[e.plugin_id],E=(0,g2.m3)(y),b={pluginID:e.plugin_id,pluginVersionID:e.id,trigger:l,source:"imported",command:o,name:e.name,fileKey:d,pluginRunID:i,queryMode:s,deferRunEvent:!!c,runWithParameters:!!u,manifest:JSON.stringify(e.manifest),productType:(0,tB.Bu)(f),isWidget:p,isMonetized:E,paidStatus:function(e){let r=(0,g2.m3)(e),n=null==e?void 0:e.community_resource_payment;return r&&n?n.status===g3.G3.TRIALING?"trial":"paid":"none"}(y),widgetAction:h??null,isReadOnly:tu.D.getState().mirror.appModel.isReadOnly,editorType:(0,nj.T)(),incrementalMode:"dynamic-page"===e.manifest.documentAccess,isVsCode:(0,ia.T)(),orgId:(0,g4.I)()??null};return(0,ex.sx)("Plugin Start",b,p?{forwardToDatadog:!0}:{}),fP(fL({runPluginArgs:r,manifest:e.manifest,stats:n,isLocal:!1,customOverrides:{code:a,name:e.name,openFileKey:d,permissions:nj.qH.forInstalledPlugin(e),pluginID:e.plugin_id,pluginRunID:i,pluginVersionID:e.id,titleIconURL:e.redirect_icon_url,userID:g,enablePrivatePluginApi:!!(e.manifest.enablePrivatePluginApi&&e.is_private)}}))}({pluginVersion:e.plugin,runPluginArgs:e,stats:n,pluginRunID:r,code:i})}catch(r){r instanceof fC||(0,ey.$D)(tp.e.EXTENSIBILITY,r),fN(r,e.isWidget)}}finally{(0,aE.lM)(null),(0,aE.qR)(null),(0,aE.Kd)(null)}}});function fN(e,r){let n=(e instanceof fC?null==e?void 0:e.message:void 0)??(r?(0,eb.t)("plugins.error_loading_environment_widget"):(0,eb.t)("plugins.error_loading_environment_plugin"));(0,nj.fR)(n)}async function fO(e,r,n){let i;let a=(0,nY.ZQ)(n);try{if(ts.Y5.dispatch(e3.F.enqueue({message:(0,eb.t)("plugins.loading_plugin",{pluginName:n.name}),icon:t0.zX.SPINNER,type:"loading-plugin",delay:200,timeoutOverride:1/0})),(0,e2.kc)().plugins_parallelize_load_sandbox){let o=a?(0,g4.r_)():"cppvm",[s,l]=await Promise.all([(async()=>await (a?n.testCode?n.testCode:(0,nj.MB)(n.localFileId):r.markDuration("pluginCodeDownloadedMs",async()=>await g0.F.getAndCache(n,(0,g4.I)()))))(),(async()=>{await r.markDuration("loadSandboxAndRunSecurityChecksMs",async()=>{try{await fw(o,e.triggeredFrom)}catch(n){let r=e.isWidget?(0,eb.t)("plugins.error_loading_environment_widget"):(0,eb.t)("plugins.error_loading_environment_plugin");throw new fC(r)}})})()]);i=s}else i=a?n.testCode?n.testCode:await (0,nj.MB)(n.localFileId):await r.markDuration("pluginCodeDownloadedMs",async()=>await g0.F.getAndCache(n,(0,g4.I)()));if(!i){let r=e.isWidget?(0,eb.t)("plugins.no_code_found_for_widget"):(0,eb.t)("plugins.no_code_found_for_plugin");throw new fC(r)}return i}finally{ts.Y5.dispatch(e3.F.dequeue({matchType:"loading-plugin"}))}}async function fR({localPlugin:e,runPluginArgs:r,pluginRunID:n,stats:i,code:a}){let{command:o,isWidget:s,widgetAction:l,queryMode:d,triggeredFrom:c,openFileKey:u,deferRunEvent:p,parameterValues:h}=r,m=(0,g4.o8)();if(!m)throw new fC(s?(0,eb.t)("plugins.cannot_run_widget_logged_out"):(0,eb.t)("plugins.cannot_run_plugin_logged_out"));let g=tu.D.getState().selectedView.editorType;if(e.manifest){let r={pluginID:e.manifest.id||"",pluginVersionID:"",trigger:c,source:"development",command:o,name:"<local plugin>",fileKey:u,pluginRunID:n,queryMode:d,deferRunEvent:!!p,runWithParameters:!!h,manifest:JSON.stringify(e.manifest),productType:(0,tB.Bu)(g),isWidget:s,widgetAction:l??null,isReadOnly:tu.D.getState().mirror.appModel.isReadOnly,editorType:(0,nj.T)(),incrementalMode:"dynamic-page"===e.manifest.documentAccess,isVsCode:(0,ia.T)(),orgId:(0,g4.I)()??null};(0,ex.sx)("Plugin Start",r,s?{forwardToDatadog:!0}:{})}let f={storeInRecentsKey:(0,gJ.B)(g),id:String(e.localFileId),isDevelopment:!0,version:"",currentUserId:(0,g4.o8)()};s?tu.D.dispatch(nG.RH(f)):tu.D.dispatch(nG.gU(f));try{let o=e.testCode?e.manifest:await (0,nj.c2)(e.localFileId,{resourceType:s?"widget":"plugin",ignoreMissingEditorType:!0,isPublishing:!1}),l=fL({runPluginArgs:r,manifest:o,stats:i,isLocal:!0,customOverrides:{code:a,openFileKey:u,permissions:nj.qH.forLocalPlugin(e),enablePrivatePluginApi:!!o.enablePrivatePluginApi,pluginID:o.id||"",pluginRunID:n,pluginVersionID:"",titleIconURL:"",userID:m}});await fP(l)}catch(r){fr(r),(0,g7.pN)({shouldShowVisualBell:!0});let e=(r instanceof fC?null==r?void 0:r.message:void 0)??(s?(0,eb.t)("plugins.error_occured_while_running_widget"):(0,eb.t)("plugins.error_occured_while_running_plugin"));(0,nj.fR)(e)}}function fP(e){if(aE.iu.currentPluginRunID!==e.pluginRunID)return Promise.resolve();let r=e.stats;r.markTime("timeToRunPluginCodeStartMs");let n=e.isWidget?"widget":"plugin";(0,nj.WC)();let i=(0,fo.p1)();(0,fo.Tj)(i),(0,fo.Yd)();let a=new Promise(async(n,a)=>{if(await (0,aE.XF)({overriddenBy:e.triggeredFrom}),(0,fo.Nq)()!==i){n();return}let o=()=>(n(),Promise.resolve());(0,aE.Mt)(o);try{if(e.isWidget){let{widgetNodeID:r}=JSON.parse(e.command);aE.iu.currentWidget={widgetNodeID:r,pluginID:e.pluginID}}else aE.iu.currentWidget=void 0}catch{aE.iu.currentWidget=void 0}try{if((0,e2.kc)().plugins_parallelize_load_sandbox||await r.markDuration("loadSandboxAndRunSecurityChecksMs",async()=>{await fw(e.vmType,e.triggeredFrom)}),aO.eD&&(0,nj.CA)(e.permissions.permissions)&&(aE.iu.setMediaEnabled=!0,e.permissions.trustedPluginOrigin&&aO.eD&&(aE.iu.allowedPluginOrigin=e.permissions.trustedPluginOrigin,await aO.eD.addAllowedPluginOrigin(e.permissions.trustedPluginOrigin))),await (0,aR.fm)(0),(0,fo.Nq)()!==i){n();return}let{runResult:a,closePlugin:s}=await fb({...e,pluginCounter:i,html:null});if((0,fo.Nq)()===i){(0,aE.Mt)(s,{ignorePreviousCloseFunc:o}),o=s;let e=await a;e&&ts.Y5.dispatch(e3.F.enqueue({type:"plugins-supplied-message",message:e}))}n()}catch(e){a(e)}finally{i===(0,fo.Nq)()&&((0,aE.Mt)(null,{ignorePreviousCloseFunc:o}),(0,aE.nT)())}}).catch(r=>{if(e.noConsoleError||fr(r),e.showLaunchErrors){let n=(r instanceof fC?null==r?void 0:r.message:void 0)??(e.isWidget?(0,eb.t)("plugins.error_occured_while_running_widget"):(0,eb.t)("plugins.error_occured_while_running_plugin"));(0,nj.fR)(n)}else throw r}),o=()=>{let i={pluginID:e.pluginID,pluginVersionID:e.pluginVersionID,pluginRunID:e.pluginRunID,apiUsage:r.callCountsToJSON(),perfMetrics:r.perfMetricsToJSON(),ranWithParameters:r.ranWithParameters(),parameterCount:r.parameterCount(),isWidget:e.isWidget,trigger:e.triggeredFrom,stackInvariants:r.stackInvariantFieldsToJSON(),incrementalMode:e.incrementalSafeApi,numPagesLoaded:r.getNumPagesLoaded(),...r.getTimingMarks()},a={pluginDataHistogram:r.pluginDataHistogramToJSON(),pluginDataTotalSetSize:r.pluginDataTotalSetSize(),sharedPluginDataTotalSetSize:r.sharedPluginDataTotalSetSize(),pluginDataMaximumKeyCountExceeded:r.pluginDataMaximumKeyCountExceeded()};(0,ex.sx)("Plugin End",{...i,...a},{forwardToDatadog:!0}),e.pluginID&&r.hasResizedNodeWithMissingFont()&&((0,ex.sx)("Plugin resized node with missing font",{pluginID:e.pluginID}),console.warn(`This ${n} resized a node with missing fonts. Text layout for node will not be applied.`))};return a.then(o,o),a}function fL({manifest:e,isLocal:r,stats:n,runPluginArgs:i,customOverrides:a}){return{name:e.name,allowedDomains:function(e,r){let{networkAccess:n}=e;return n?r&&n.devAllowedDomains?n.allowedDomains.concat(n.devAllowedDomains):n.allowedDomains:g8.gH}(e,r),apiVersion:e.api,capabilities:e.capabilities??[],stats:n,checkSyntax:r,isLocal:r,disableSilenceConsole:r,enableProposedApi:r&&!!e.enableProposedApi,showLaunchErrors:!r,showRuntimeErrors:r,vmType:r?(0,g4.r_)():"cppvm",...a,command:i.command,queryMode:i.queryMode,triggeredFrom:i.triggeredFrom,openFileKey:i.openFileKey,deferRunEvent:i.deferRunEvent,parameterValues:i.parameterValues,isWidget:i.isWidget,editorType:i.plugin.manifest.editorType??[],incrementalSafeApi:"dynamic-page"===e.documentAccess,enableNativeJsx:!!(0,e2.kc)().ext_full_jsx}}(0,fe.n)(({newTriggeredFrom:e}={newTriggeredFrom:"runlast"})=>{let r=g1;r&&(0,nj.VQ)(r)&&(e&&(r.triggeredFrom=e),fv.instance.enqueue({mode:"run-forever",runPluginArgs:r}))});var fD=n(6193),fM=n(874),fk=n(45020),fx=n(51363),fF=n(79086);function fU(e,r=!1){let n=(0,i_.A)(new Date),i=(0,i_.A)(e);return i.isSame(n,"day")?(0,eb.t)("collaboration.feedback.time_hour_minutes",{time:i.toDate()}):i.isSame(n,"year")?(0,eb.t)("collaboration.feedback.time_date_minutes_without_year",{time:i.toDate()}):r?(0,eb.t)("collaboration.feedback.time_date_minutes",{time:i.toDate()}):(0,eb.t)("collaboration.feedback.date",{time:i.toDate()})}function fB(e,r){return e?ep.createElement(mv.Ro,{size:r,entity:{img_url:e}}):ep.createElement("div",{className:"diffing_compare_summary--noUserImage--XijV0"})}let fV="history_view--compareButton--F1uMy",fH="history_view--versionIcon--EmsT-",fG="history_view--label--xxM5j ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",fW="history_view--condensedLink--Jjeth blue_link--blueLink--9rlnd",fz="history_view--avatarNameRow--8dLtd history_view--timeRevised--c-FHF",fK="history_view--branchRight--Jxr1h history_view--baseIcon--6a1fz",fj="history_view--verticalLineRow--mvLaN",fY="history_view--firstVerticalLine--Dq7vi history_view--verticalLineRow--mvLaN",f$="history_view--firstVerticalLineBranch--EPt-P history_view--verticalLineRow--mvLaN",fq="history_view--noVerticalLine--LCDpF",fZ="history_view--lastVerticalLine--sWF7c history_view--verticalLineRow--mvLaN",fX="history_view--lastVerticalLineBranch--xbUgE history_view--verticalLineRow--mvLaN",fJ="history_view--compareButtonText---E-Ly";function fQ(){return(0,tJ.GS)()?ep.createElement(ga,null):ep.createElement("svg",{width:"5",height:"6",viewBox:"0 0 5 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"history_view--baseIcon--6a1fz"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 4.5C3.32843 4.5 4 3.82843 4 3C4 2.17157 3.32843 1.5 2.5 1.5C1.67157 1.5 1 2.17157 1 3C1 3.82843 1.67157 4.5 2.5 4.5ZM2.5 5.5C3.88071 5.5 5 4.38071 5 3C5 1.61929 3.88071 0.5 2.5 0.5C1.11929 0.5 0 1.61929 0 3C0 4.38071 1.11929 5.5 2.5 5.5Z",className:"history_view--bulletBorder--e4PPL"}),ep.createElement("circle",{cx:"2.5",cy:"3",r:"1.5",className:"history_view--bulletFill--oa--2"}))}var f0=n(27795),f1=n(84129),f2=n(46456),f3=n(48832),f5=n(48603),f4=n(96529),f6=n(47196),f8=n(95779),f7=n(40206),f9=n(60164),_e=n(24784),_t=n(20118),_r=n(50142);let _n=(0,aj.jz)(tQ.uj0),_i=(0,aj.jz)(tQ.QBm);function _a(e){return e.label?e.label:e.participating_users_array&&e.participating_users_array[0]?e.participating_users_array[0]:e.user.handle?e.user.handle:((0,ey.x1)("version","Verison history got user without a handle",{item:e}),(0,ey.$D)(tp.e.SCENEGRAPH_AND_SYNC,Error("Verison history got user without a handle")),"(unknown user)")}function _o(e){switch(e.item.view){case"branch_child_create":return ep.createElement(eb.Tx,{id:"collaboration.feedback.new_branch_created"});case"branch_child_merge":return ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_merged"});case"branch_child_update":return ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_updated_from_main_file"});case"branch_create":return ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_created"});case"branch_merge":return ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_merged_into_main_and_archived"});case"branch_update":return ep.createElement(eb.Tx,{id:"collaboration.feedback.updated_from_main"});case"branch_archive":return ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_archived"});case"branch_restore":return ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_restored"})}return ep.createElement(ep.Fragment,null,_a(e.item))}function _s(e){let{time:r}=e,n=ep.useMemo(()=>fU(r,!0),[r]),{onChange:i}=e;return ep.useEffect(()=>{i&&i(n)},[i,n]),ep.createElement(ep.Fragment,null,n)}class _l extends l4.uA{constructor(e){super(e),this.descriptionRef=ep.createRef(),this.onClick=l4.cZ(this,"click",()=>{setTimeout(()=>{this.props.isAllowedToChangeVersion()&&!this.props.isActive&&this.props.onSelect&&this.props.onSelect(this.props.versionId)},300)}),this.disabledOnClickHandler=l4.cZ(this,"click",()=>{setTimeout(()=>{var e;if((0,ex.sx)("CTA Clicked",{name:"Disabled Version History",teamId:null==(e=this.props.team)?void 0:e.id}),this.props.isStarterTeam){if(!this.props.team){(0,ey.$D)(tp.e.MONETIZATION,Error("Paywall: no team present"));return}this.props.dispatch(rH.to({type:f1.DV,data:{team:this.props.team,editorType:this.props.editorType,resource:fM.Bi.VERSION_HISTORY,currentPlan:gZ.F.Plan.STARTER,upsellPlan:gZ.F.Plan.PRO}}))}},300)}),this.onMouseEnter=e=>{let r=this.descriptionRef.current;r&&r.scrollHeight>r.clientHeight&&this.setState({hovered:!0})},this.onMouseLeave=e=>{this.setState({hovered:!1})},this.onDoubleClick=l4.cZ(this,"dblclick",()=>{this.props.onCreateSavepoint?this.props.onCreateSavepoint():this.props.onEditSavepoint&&this.props.onEditSavepoint(this.props.versionId)}),this.onMenuClick=l4.cZ(this,"contextmenu",e=>{this.props.onSavepointMenuCallback&&this.props.versionId!==m7.V_&&this.props.onSavepointMenuCallback(this.props.versionId,this.props.checkpointKey||"",e)}),this.onBranchClick=l4.cZ(this,"click",e=>{e.stopPropagation(),this.props.dispatch(iR.$T({view:"fullscreen",fileKey:this.props.branchFileKey,editorType:tB.nT.Design}))}),this.onCompareClick=l4.cZ(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.props.onCompareChanges&&this.props.isAllowedToChangeVersion()&&this.props.isCurrentVersionActive&&!this.props.isComparing&&this.props.onCompareChanges(this.props.versionId)},300)}),this.onCompareCurrent=l4.cZ(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.props.onCompareChangesFromCurrent&&this.props.isAllowedToChangeVersion()&&!this.props.isComparing&&this.props.onCompareChangesFromCurrent()},300)}),this.toggleSeeMore=e=>{e.preventDefault(),e.stopPropagation(),this.setState({longDescription:!this.state.longDescription})},this.ref=e=>{e&&(this.versionRowDiv=e)},this.generateEditorName=(e,r)=>ep.createElement("div",{className:"history_view--editsByEntryRevised--4rMiS history_view--editsByEntry--lEYvI history_view--time--ZlyBL ellipsis--ellipsis--Tjyfa","data-tooltip-type":iL.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-left":!0,"data-tooltip-max-width":1e3,key:`who_${e}`,dir:"auto"},r),this.generateBranchLink=e=>{if(!this.props.fileByKey||!this.props.branchFileKey)return null;{let r=this.props.fileByKey[this.props.branchFileKey];return r&&!r.deleted_at?ep.createElement("span",{className:"history_view--clickableBranchName--LB1py history_view--branchName--971Fg blue_link--blueLink--9rlnd",onClick:this.onBranchClick},e||(r.name??ep.createElement(eb.Tx,{id:"collaboration.feedback.branch"}))):ep.createElement("span",{className:"history_view--branchName--971Fg"},(null==r?void 0:r.name)??ep.createElement(eb.Tx,{id:"collaboration.feedback.branch"}))}},this.setFormattedTime=e=>{this.setState({formattedTime:e})},this.state={longDescription:!1,hovered:!1}}componentDidMount(){super.componentDidMount(),this.versionRowDiv&&this.props.isActive&&!this.props.first&&this.versionRowDiv.scrollIntoView(!1)}render(){var e,r,n,i,a;let o,s;let l=this.descriptionRef.current,d=!!(l&&(this.state.longDescription||l.scrollHeight>l.clientHeight||this.state.hovered)&&!this.props.isActive),c=fB(this.props.userUrl,15),u=this.props.versionId===m7.V_,p=!this.props.label&&!u&&!this.props.isLinked&&!this.props.isBranchingVersion,h=(null==(e=this.props.version)?void 0:e.frameCreated)||(null==(r=this.props.version)?void 0:r.frameEdited)||(null==(n=this.props.version)?void 0:n.lastViewed),m=p&&!h,g=this.props.isPreview?"history_view--itemPreview--3d9xl":"history_view--item--mDRQI";this.props.disabled&&!this.props.isStarterTeam&&(g="history_view--itemDisabled--dk38U "+g),u&&(g="history_view--itemTop--oxjkb "+g),this.props.isActive&&(g="history_view--itemActive--gCYfa "+g),this.props.onSelect&&(g="history_view--itemHover--kVjrl "+g);let f=this.props.isActive&&!u?"history_view--descriptionActive--My97y history_view--descriptionBase--Js2ry ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k":this.state.longDescription?"history_view--descriptionLong--ZDJoM history_view--descriptionBase--Js2ry ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k":d?"history_view--descriptionSeeMore--ek3hn history_view--descriptionBase--Js2ry ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k":"history_view--description--zuEXi history_view--descriptionBase--Js2ry ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",_=this.state.longDescription?ep.createElement(eb.Tx,{id:"collaboration.feedback.show_less"}):ep.createElement(eb.Tx,{id:"collaboration.feedback.show_more"}),y=[],E=0;if(this.props.participatingImagesDict){let e=Object.keys(this.props.participatingImagesDict).length;for(let[r,n]of Object.entries(this.props.participatingImagesDict))if(o=fB(n,15),s=this.generateEditorName(E,r),y.push(ep.createElement("span",{className:fz,key:r},(!this.props.first||"current_version"!=this.props.versionId)&&o,s)),++E>4&&E<e&&!this.props.isActive){y.push(ep.createElement("div",{className:"history_view--editsByOverflow--Np1gw history_view--editsByEntry--lEYvI history_view--time--ZlyBL",key:"number-additional-editors"},ep.createElement(eb.Tx,{id:"collaboration.feedback.num_editors_number_editor_count_more",numEditors:e-Number(E)})));break}}else this.props.user&&this.props.userUrl?(o=fB(this.props.userUrl,15),s=this.generateEditorName(E,this.props.user),y.push(ep.createElement("span",{className:fz,key:"branching-solo-editor"},(!this.props.first||"current_version"!=this.props.versionId)&&o,s))):m&&"file_multiplayer"===this.props.view&&"Figma System"===this.props.user&&y.push(ep.createElement("div",{className:"history_view--editsByFigmaSystem--gCuT6 history_view--editsByEntryRevised--4rMiS history_view--editsByEntry--lEYvI history_view--time--ZlyBL ellipsis--ellipsis--Tjyfa",key:"figma-system"},this.props.user));let b=fj;this.props.hideLine?b="":this.props.first&&this.props.last?b=fq:this.props.first?b=fY:this.props.last&&(b=fZ);let v=this.props.isUI3?void 0:c,S=null,I="text"in this.props?this.props.text.toLowerCase():void 0;m||(v="components published"===I||"published to community hub"===I?ep.createElement(l8.U,{className:"history_view--publish--LDh4z history_view--baseIcon--6a1fz",svg:_e.A,useOriginalSrcFills_DEPRECATED:!0},ep.createElement(ga,null)):ep.createElement(fQ,null)),m&&this.props.last&&(v=ep.createElement(fQ,null));let T=this.props.isUI3&&this.props.devModeActivity&&this.props.devModeActivity.length>0;if(T){let{status:e}=(0,gY.D)(this.props.devModeActivity);switch(e){case eO.zI.BUILD:v=ep.createElement(go,null),S=ep.createElement(eb.Tx,{id:"dev_handoff.status.ready_for_dev"});break;case eO.zI.COMPLETED:v=ep.createElement(gs,null),S=ep.createElement(eb.Tx,{id:"dev_handoff.status.completed"});break;default:v=ep.createElement(fQ,null)}}if(this.props.isBranchingVersion)switch(this.props.view){case"branch_child_create":v=ep.createElement(l8.U,{className:fK,svg:f6.A},ep.createElement(gl,null)),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_child_create",link:this.generateBranchLink()}),this.props.isPreview&&this.props.first&&!this.props.hideLine&&(b=f$),this.props.last&&(b=this.props.isUI3?"":fX);break;case"branch_child_merge":v=ep.createElement(l8.U,{className:"history_view--branchLeft--XGErQ history_view--baseIcon--6a1fz",svg:f4.A},ep.createElement(gd,null)),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.merged",link:this.generateBranchLink(this.props.label)});break;case"branch_child_update":v=ep.createElement(fQ,null),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_child_update",link:this.generateBranchLink()}),this.props.isPreview&&this.props.first&&!this.props.hideLine&&(b=f$),this.props.last&&(b=this.props.isUI3?"":fX);break;case"branch_merge":v=ep.createElement(l8.U,{className:"history_view--branchMergedAndArchived--P6nh5 history_view--baseIcon--6a1fz",svg:f7.A,useOriginalSrcFills_DEPRECATED:!0},ep.createElement(gd,null)),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_merge",link:this.generateBranchLink((0,eb.t)("collaboration.feedback.main_branch_name"))});break;case"branch_create":v=ep.createElement(l8.U,{className:"history_view--fromBranch--vLt3Y history_view--branchCreate--OQ8Ic history_view--baseIcon--6a1fz",svg:f5.A},ep.createElement(gl,null)),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_created"});break;case"branch_update":v=ep.createElement(l8.U,{className:fK,svg:f6.A},ep.createElement(gl,null)),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_updated_from",link:this.generateBranchLink((0,eb.t)("collaboration.feedback.main_branch_name"))});break;case"branch_archive":v=ep.createElement(l8.U,{className:"history_view--branchArchived--oRBHe history_view--baseIcon--6a1fz",svg:f3.A},ep.createElement(ga,null)),S=ep.createElement(eb.Tx,{id:"collaboration.feedback.branch_archived"});break;default:v=ep.createElement(fQ,null)}let w=[];(null==(i=this.props.version)?void 0:i.frameCreated)&&w.push(this.props.isSection?ep.createElement(eb.Tx,{id:"collaboration.feedback.compare_changes_modal.section_created"}):ep.createElement(eb.Tx,{id:"collaboration.feedback.compare_changes_modal.frame_created"})),(null==(a=this.props.version)?void 0:a.lastViewed)&&w.push(ep.createElement(eb.Tx,{id:"collaboration.feedback.compare_changes_modal.last_viewed_by_you"})),p&&!m&&this.props.time?w.push(ep.createElement("div",{className:"history_view--subtitleDate--IXZqm"},ep.createElement(_s,{time:this.props.time}))):"displayText"in this.props?w.push(this.props.displayText):w.push(this.props.text);let C=m&&this.props.time?this.renderTime(this.props.time,"history_view--timeAsLabel--sHxiz ellipsis--ellipsis--Tjyfa",this.props.showCompareChanges):ep.createElement(ep.Fragment,null,this.props.isBranchingVersion&&this.props.fileByKey&&this.props.branchFileKey?ep.createElement("div",{className:"history_view--branchLabel--XMfWg ellipsis--ellipsis--Tjyfa",dir:"auto"},S):T?ep.createElement("div",{className:fG,dir:"auto"},S):ep.createElement("div",{className:fG,dir:"auto"},w[0])),A=(0,gy.$J)(this.props.description),N=y.length>0&&ep.createElement("div",{className:"history_view--editors--cdSCa"},y),O=!p&&this.props.time&&ep.createElement("span",{className:"history_view--editsByList--T-jVZ history_view--timeRevised--c-FHF","data-tooltip-type":iL.Ib.TEXT,"data-tooltip":fU(this.props.time)}," ",ep.createElement(sN.h1,{onChange:this.setFormattedTime,date:this.props.time})),R=w.length>1||A||d||N||O,P=ep.createElement(ep.Fragment,null,w.length>1&&ep.createElement("div",{className:"history_view--labelOverflow--NJxp5"},w.slice(1).map((e,r)=>ep.createElement("div",{className:fG,dir:"auto",key:r},e))),(!this.props.isUI3||A)&&ep.createElement("div",{className:f,style:{paddingRight:this.getLabelRightPosition(this.props.showCompareChanges)},ref:this.descriptionRef,dir:"auto"},A),d&&ep.createElement("div",{className:"history_view--seeMore--eYlZF blue_link--blueLink--9rlnd",onClick:this.props.disabled?void 0:this.toggleSeeMore},ep.createElement("div",{className:"history_view--seeMoreText--MIUVH blue_link--blueLink--9rlnd"},_)),this.props.isUI3?ep.createElement(ep.Fragment,null,N,O,!O&&(N||l)&&ep.createElement("div",null)):ep.createElement("div",null,N,O)),L=this.props.isActive&&this.props.onSavepointMenuCallback&&!u&&ep.createElement(f0.K0,{onClick:this.props.disabled?void 0:this.onMenuClick,className:"history_view--dotsMenu--ErLks","data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.feedback.more_options"),recordingKey:l4.Pt(this.props,"versonContext")},ep.createElement(l8.U,{svg:f8.A},ep.createElement(gc,null)));return ep.createElement(ep.Fragment,null,(!m||this.props.showAutosaves)&&ep.createElement("div",{className:g,ref:this.ref,onClick:this.props.disabled?this.disabledOnClickHandler:this.onClick,onMouseEnter:this.props.disabled&&!this.props.isStarterTeam?void 0:this.onMouseEnter,onMouseLeave:this.props.disabled&&!this.props.isStarterTeam?void 0:this.onMouseLeave,onContextMenu:this.props.disabled?void 0:this.onMenuClick,onDoubleClick:this.props.disabled&&this.props.isStarterTeam?void 0:this.onDoubleClick},!this.props.isUI3&&ep.createElement("div",{className:b}),ep.createElement("div",{className:m?"history_view--itemInfoAutoRow--CZ96a":"history_view--itemInfo--x-Coi"},ep.createElement("div",{className:"history_view--versionInfo--Ru5mv"},ep.createElement("div",{className:R?"history_view--userInfo--I9Nj3":"history_view--userInfoSlim--vC9Iy history_view--userInfo--I9Nj3",style:{right:this.getLabelRightPosition(this.props.showCompareChanges)}},this.props.iconOverride?this.props.iconOverride(ep.createElement("div",{className:b})):this.props.isUI3?ep.createElement("div",{className:fH},ep.createElement("div",{className:b}),v):v,this.props.isUI3?ep.createElement("div",{className:"history_view--versionRowInfoRight--6ehVx"},ep.createElement("div",{className:"history_view--versionRowTextInfo--GQ2qf"},C,P),L):C),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!u&&!this.props.isComparingLoading&&!this.props.isComparing&&ep.createElement("div",{dir:"auto"},ep.createElement("button",{className:fV,onClick:this.onCompareClick},ep.createElement("div",{className:fJ},ep.createElement(eb.Tx,{id:"collaboration.feedback.compare"})))),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!u&&this.props.isComparingLoading&&!this.props.isComparing&&ep.createElement("div",{className:"history_view--comparingLoadingSpinner--DpBXv"},ep.createElement(e6.kt,null)),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!this.props.isComparingLoading&&this.props.isComparing&&ep.createElement("div",{dir:"auto"},ep.createElement("div",{className:"history_view--comparingText--QJKTH"},ep.createElement(eb.Tx,{id:"collaboration.feedback.comparing"})),ep.createElement("button",{className:fV,onClick:this.props.onDoneComparingClick},ep.createElement("div",{className:fJ},ep.createElement(eb.Tx,{id:"collaboration.feedback.done_version_history"})))),this.props.showCompareChanges&&!this.props.isCurrentVersionActive&&u&&!this.props.isComparingLoading&&!this.props.isComparing&&ep.createElement("div",{dir:"auto"},ep.createElement("button",{className:fV,onClick:this.onCompareCurrent},ep.createElement("div",{className:fJ},ep.createElement(eb.Tx,{id:"collaboration.feedback.compare"})))),!this.props.isUI3&&L),!this.props.isUI3&&P)))}renderTime(e,r,n){let i=ep.createElement(_s,{time:e,onChange:this.setFormattedTime});return ep.createElement("div",{className:r},i)}getLabelRightPosition(e){return e?"65px":"35px"}}function _d({shouldShowUpgradeLink:e,startUpgrade:r,hasRestrictedVersions:n}){return ep.createElement(ev.fu,{name:"Version History Paywall Panel"},ep.createElement("div",{className:"history_view--historyUpsellContainer--AUAjV"},ep.createElement(gE.E,{fontWeight:"semi-bold",i18nId:n?"upsell.history.need_to_travel_back_in_time":"upsell.history.everything_else_is_history"}),ep.createElement("div",null,e?ep.createElement(gE.E,{i18nId:"upsell.history.upsell_upgrade_description",i18nParams:{upgradeLink:ep.createElement(eB.Ph,{className:fW,onClick:r,trackingProperties:{trackingDescriptor:eG.c.UPGRADE,upsellSource:fD.b.HISTORY_UPSELL,canUserAccessProFeature:!1},trusted:!0},ep.createElement(gE.E,{i18nId:"upsell.history.upsell_upgrade"}))}}):ep.createElement(gE.E,{i18nId:"upsell.history.upsell_learn_more_description",i18nParams:{upgradeLink:ep.createElement(eB.Ph,{className:fW,href:"/pricing",trusted:!0,trackingProperties:{canUserAccessProFeature:!1}},ep.createElement(eb.Tx,{id:"upsell.history.learn_more"}))}}))))}function _c(){return ep.createElement(ep.Fragment,null,ep.createElement("span",{className:"history_view--hotkeys--T6TjZ"},e_.Ay.mac?ep.createElement(eb.Tx,{id:"collaboration.feedback.shortcut_mac"}):ep.createElement(eb.Tx,{id:"collaboration.feedback.shortcut"})))}_l.displayName="VersionRow";class _u extends l4.uA{constructor(e){super(e),this.label="",this.description="",this.hasLabeled=!1,this.autoExpandUnlabeledOnly=!0,this.autoExpandGroupId="",this.expandLast=!1,this.toggleAutoItemById=e=>{let r=new Set(this.state.expandedIds);r.has(e)||this.autoExpandUnlabeledOnly&&!this.hasLabeled||this.autoExpandGroupId===e?(r.delete(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!1),this.setState({autoExpandForCurrentSelection:!1})):(r.add(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!0)),this.autoExpandGroupId="",this.setState({expandedIds:r})},this.drawRows=(e,r,n,i)=>{let a=[],o=0,s=-1,l=-1,d=0,c=e.length-1-e.slice().reverse().findIndex(e=>(0,fF.p)(e)||e.label),u=e.length-1-e.slice().reverse().findIndex(e=>{var r,n,i,a;return(null==(r=this.props.user)?void 0:r.handle)&&((null==(i=e.participating_users_array)?void 0:i.includes(null==(n=this.props.user)?void 0:n.handle))||e.user.handle===(null==(a=this.props.user)?void 0:a.handle))});for(;o<e.length;){let r=e[o];if(r.label||(0,fF.p)(r)){let p=n&&(0===o&&r.disabled||0===a.length);d>0&&(this.renderAutoVersionBatch(a,e,s,l,n&&(r.disabled&&0===s||0===a.length),!1,this.state.showAutosaves,i),p=!1),a.push(this.renderRow(r,p,o===e.length-1||o===c&&!this.state.showAutosaves||o===u&&this.state.showOnlyUserVersionHistory,i)),d=0,s=-1,l=-1}else s<0&&(s=o),l=o,d++;o++}return d>0&&this.renderAutoVersionBatch(a,e,s,l,n&&(e[0].disabled&&0===s||0===a.length),r,this.state.showAutosaves,i),a},this.hasLabeledVersions=e=>{for(let r of e)if(r.label&&r.label.length>0)return!0;return!1},this.startLoadingVersion=e=>{this.props.dispatch(iR.$T({...this.props.selectedView,versionId:e.id})),this.props.dispatch(i6.Y6({mode:eA.Oin.KEEP_UI,type:fk.lF.SPINNER})),this.setState({isLoadingVersion:!0,loadingVersionId:e.id}),(0,ex.sx)("History Version Savepoint Viewed",{savepointId:e.id,savedAt:e.touched_at})},this.finishedLoadingVersion=()=>{let e=this.state.loadingVersionId;if(e&&e.length>0){let r=this.getVersionByID(e);if(r){let e;if(null!=r.label&&r.label.length>0)e=(0,eb.t)("collaboration.feedback.viewing_version",{label:r.label});else{let n=fU(r.touched_at);e=(0,eb.t)("collaboration.feedback.viewing_version",{label:n})}e.length>34&&(e=e.substring(0,34)+"\u2026"),this.props.dispatch(e3.F.enqueue({type:"versions",message:e}))}}this.setState({isLoadingVersion:!1,loadingVersionId:""})},this.loadVersionById=e=>{if(e===this.props.versionHistory.activeId)return;if(e===m7.V_){this.props.dispatch((0,m7.Nb)({id:m7.V_}));return}let r=this.getVersionByID(e);r&&this.loadVersion(r)},this.loadVersion=e=>{e.id!==this.props.versionHistory.activeId&&(this.startLoadingVersion(e),requestAnimationFrame(()=>{this.props.dispatch((0,m7.Nb)({id:e.id,nodeId:this.props.selectedView.nodeId,eventType:"LOAD_NEW_VERSION"}))}))},this.isAllowedToChangeVersion=()=>null===this.props.modalShown&&!(0,fo.hM)(),this.onKeyDown=l4.C0(this,"keydown",e=>{if(!this.props.dropdownShown){if(e.keyCode===sE.Uz.ESCAPE)this.props.modalShown||0!==Object.keys(this.props.mirror.sceneGraphSelection).length||this.props.dispatch((0,m7.Eg)());else if(e.keyCode===sE.Uz.UP_ARROW||e.keyCode===sE.Uz.DOWN_ARROW){if(!this.isAllowedToChangeVersion())return;let r=this.props.versionHistory.versions.length;this.setState({autoExpandForCurrentSelection:!0}),this.autoExpandGroupId="";let n=-1;if(this.props.versionHistory.activeId===m7.V_)e.keyCode===sE.Uz.DOWN_ARROW&&(n=0);else{let r=this.props.versionHistory.versions.findIndex(e=>e.id===this.props.versionHistory.activeId);-1!==r&&(n=e.keyCode===sE.Uz.UP_ARROW?r-1:r+1)}if(n<0){this.props.dispatch((0,m7.Nb)({id:m7.V_}));return}n>=r&&(n=r-1);let i=this.props.versionHistory.versions[n];i.disabled||this.loadVersion(i)}}}),this.startComparingChanges=e=>{this.props.dispatch(i6.Y6({mode:eA.Oin.KEEP_UI,type:fk.lF.SPINNER})),this.setState({isLoadingCompareChanges:!0,loadingCompareId:e.id})},this.finishedComparingChanges=()=>{let e=this.state.loadingCompareId;if(e&&e.length>0){let r=this.getVersionByID(e);if(!r)return;let n=null!=r.label&&r.label.length>0?r.label:fU(r.touched_at),i=(0,eb.t)("collaboration.feedback.comparing_changes_toast",{fromVersionLabel:n});i.length>56&&(i=i.substring(0,56)+"\u2026"),this.props.dispatch(e3.F.enqueue({type:"versions",message:i}))}this.setState({isLoadingCompareChanges:!1,loadingCompareId:""}),this.props.dispatch(i6.Y6({mode:eA.Oin.OFF}))},this.compareChangesById=e=>{if(e===m7.V_)return;if(e===this.props.versionHistory.compareId){this.props.dispatch((0,m7.vF)({fromVersionId:e}));return}let r=this.getVersionByID(e);r&&this.compareChanges(r)},this.compareChangesFromCurrent=()=>{let e=this.props.versionHistory.activeId;if(!e)return;let r=this.getVersionByID(e);r&&(this.props.dispatch((0,m7.Nb)({id:m7.V_})),this.compareChanges(r))},this.compareChanges=e=>{e.id!==this.props.versionHistory.compareId&&(this.startComparingChanges(e),requestAnimationFrame(()=>{this.props.dispatch((0,m7.vF)({fromVersionId:e.id}))}))},this.loadMore=()=>{this.expandLast=!0,this.props.dispatch((0,m7._h)({direction:g_.AS}))},this.startUpgrade=()=>{let e=this.getOpenFile(),r=e.teamId&&this.props.teams[e.teamId];if(!r){(0,ey.$D)(tp.e.MONETIZATION,Error("Paywall: no team present"));return}this.props.dispatch(rH.to({type:gb.V,data:{upsellSource:fD.b.HISTORY_UPSELL,teamId:r.id,openCheckoutInNewTab:!0}}))},this.restoreVersion=e=>{this.canEditFile()&&(this.props.dispatch(af.PF({fileKey:this.getOpenFile().key,versionId:e.id})),(0,ex.sx)("History Version Checkpoint Restored",{versionId:e.id,savedAt:e.touched_at}))},this.duplicateVersion=e=>{let r=this.getOpenFile(),n=(0,ew.xp)(r,(0,i7.getPermissionsState)(this.props));n?this.props.dispatch(rH.to({type:f1.DV,data:{team:n,resource:fM.vL.FILE,action:fx.ZN.DUPLICATE_FILES,editorType:r.editorType,currentPlan:gZ.F.Plan.STARTER,upsellPlan:gZ.F.Plan.PRO}})):(this.props.dispatch(af.YW({file:this.getOpenFile(),versionId:e.id})),(0,ex.sx)("History Version Checkpoint Duplicated",{versionId:e.id,savedAt:e.touched_at}))},this.clearVersion=e=>{this.props.dispatch(m6.D({fileKey:this.getOpenFile().key,savepointID:e,label:"",description:""}))},this.addSavepoint=()=>{this.canEditFile()&&this.props.dispatch(rH.to({type:gr,data:{}}))},this.editSavepoint=e=>{if(this.canEditFile()&&e){let r=this.getVersionByID(e);(null==r?void 0:r.label)&&(this.label=r.label),(null==r?void 0:r.description)&&(this.description=r.description),this.props.dispatch(rH.to({type:gr,data:{description:this.description,label:this.label,savepointID:e}}))}},this.dropdownCallback=(e,r)=>{let{version:n}=r;switch(e){case"savepoint-clear":this.clearVersion(n.id);break;case"savepoint-restore":this.restoreVersion(n);break;case"savepoint-duplicate":this.duplicateVersion(n);break;case"savepoint-edit":case"savepoint-label":this.editSavepoint(n.id);break;case"savepoint-compare":this.compareChangesFromCurrent();break;case"savepoint-link":try{this.props.dispatch(g$.zT({...this.props.selectedView,versionId:n.id})),this.props.dispatch(e3.F.enqueue({type:"link_copied_to_clipboard",message:(0,gq.A)("link-copied")}))}catch(e){this.props.dispatch(ih.s.error("Failed to copy link"))}}},this.getVersionByID=e=>{var r;let n=this.props.versionHistory,i=n.versions.find(r=>r.id===e);return(null==(r=n.linkedVersion)?void 0:r.id)===e?n.linkedVersion:i},this.onSavepointMenu=(e,r,n)=>{if(this.props.dropdownShown&&this.props.dropdownShown.type===e8.$O){n.preventDefault();return}n.stopPropagation(),n.preventDefault();let i=this.getVersionByID(e),{clientX:a,clientY:o}=n;this.props.dispatch(iR.j7({type:e8.$O,data:{clientX:a,clientY:o,version:i,callback:this.dropdownCallback,editName:i.label?"savepoint-edit":"savepoint-label",enableClear:i.label&&i.label.length>0}}))},this.onDoneComparingClick=l4.cZ(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.isAllowedToChangeVersion()&&this.props.versionHistory.compareId&&this.props.dispatch((0,m7.Nb)({id:m7.V_}))},300)}),this.renderRow=(e,r,n,i)=>{var a;let o=this.getOpenFile();return ep.createElement(_l,{key:`history-item-${e.id}`,description:e.description,label:e.label,disabled:e.disabled,text:_a(e),displayText:ep.createElement(_o,{item:e}),view:e.view?e.view:null,participatingImagesDict:e.participating_images_dict,time:e.edited_at,isActive:this.props.versionHistory.activeId===e.id,isCurrentVersionActive:this.props.versionHistory.activeId===m7.V_,isComparingLoading:this.state.loadingCompareId===e.id,isComparing:this.props.versionHistory.compareId===e.id,devModeActivity:e.dev_mode_activity,user:e.user&&e.user.handle,userUrl:e.user&&((0,fF.p)(e)||e.label)?e.user.img_url:null,clearVersion:this.clearVersion.bind(this,e.id),onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,versionId:e.id,checkpointKey:e.checkpoint_key,dispatch:this.props.dispatch,recordingKey:l4.Pt(this.props,"version",e.id),onSavepointMenuCallback:this.onSavepointMenu,onEditSavepoint:this.editSavepoint,first:r,last:n,isBranchingVersion:(0,fF.p)(e),fileByKey:this.props.fileByKey,branchFileKey:e.branch_file_key,showAutosaves:this.state.showAutosaves,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isStarterTeam:i,team:o.teamId?null==(a=this.props.teams)?void 0:a[o.teamId]:void 0,editorType:o.editorType,isUI3:this.props.isUI3})},this.onClose=()=>{if(this.props.onClose){this.props.onClose();return}this.props.dispatch((0,m7.Eg)())},this.state={isLoadingVersion:!1,loadingVersionId:"",isLoadingCompareChanges:!1,loadingCompareId:"",expandedIds:new Set,autoExpandForCurrentSelection:!1,showAutosaves:!0,showOnlyUserVersionHistory:!1}}renderAutoVersionBatch(e,r,n,i,a,o,s,l){let d;if(n<0||null===r||r.length<1)return;let c=r[n].id,u=this.state.expandedIds.has(c)||this.autoExpandUnlabeledOnly&&!this.hasLabeled;if(this.state.autoExpandForCurrentSelection)for(let e=n;e<=i;e++)r[e].id===this.props.versionHistory.activeId&&(u=!0,this.autoExpandGroupId=this.props.versionHistory.activeId);this.expandLast&&o&&(u||this.toggleAutoItemById(c),this.expandLast=!1);let p=i-n+1,h=!0;if(1===p&&(u=!0,h=!1),d=o&&(1===p||!u)?a?fq:fZ:a?fY:fj,h&&s&&e.push(ep.createElement(l6.D8,{key:`auto_row_${n}`,recordingKey:l4.Pt(this.props,`autoVersionBatch.${n}`),className:r[n].disabled?"history_view--autoSummaryDisabled--hq6dh history_view--autoSummary--Jaqfg":"history_view--autoSummary--Jaqfg",onClick:this.toggleAutoItemById.bind(this,c)},!this.props.isUI3&&ep.createElement("div",{className:d}),ep.createElement("div",{className:"history_view--autoHeader--fBnug"},this.props.isUI3?ep.createElement("div",{className:fH},ep.createElement("div",{className:d}),u?ep.createElement(gu.r,null):ep.createElement(gp,null)):ep.createElement(fQ,null),ep.createElement("div",{className:"history_view--autoInfo--5ma1e"},ep.createElement(eb.Tx,{id:"collaboration.feedback.autosave_count",count:p}),!this.props.isUI3&&ep.createElement(sR.B,{key:"expand-caret",className:u?"history_view--expandCaretOpen--W3ZUp history_view--expandCaret--1GiZ9":"history_view--expandCaret--1GiZ9",svg:u?dg.A:df.A}))))),u)for(let s=n;s<=i;s++)e.push(this.renderRow(r[s],a&&n===i,o&&s===i,l))}componentDidMount(){super.componentDidMount(),this.props.versionHistory.activeId||this.props.dispatch((0,m7.Nb)({id:m7.V_})),document.addEventListener("keydown",this.onKeyDown),ts.Y5.fromFullscreen.on("sceneGraphMirrorUpdate",this.finishedLoadingVersion),gf.on("loadedCompareChanges",this.finishedComparingChanges)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.onKeyDown),ts.Y5.fromFullscreen.removeListener("sceneGraphMirrorUpdate",this.finishedLoadingVersion),gf.removeListener("loadedCompareChanges",this.finishedComparingChanges)}getOpenFile(){let e=this.props.openFile;return null==e&&(0,ey.x1)("history","history view should only be possible to open when we have a file"),(0,eh.KF)(null!=e,"history view should only be possible to open when we have a file"),e}canEditFile(){var e;return null==(e=this.props.openFile)?void 0:e.canEdit}showCompareChanges(){return(0,e2.kc)().version_diffing&&this.props.selectedView.editorType!==tB.nT.Whiteboard&&this.props.selectedView.editorType!==tB.nT.DevHandoff}render(){var e;let r=this.getOpenFile(),n=r.team,i=this.props.versionHistory.versions.filter(e=>{var r,n,i,a;return!this.state.showOnlyUserVersionHistory||(null==(r=this.props.user)?void 0:r.handle)&&((null==(i=e.participating_users_array)?void 0:i.includes(null==(n=this.props.user)?void 0:n.handle))||e.user.handle===(null==(a=this.props.user)?void 0:a.handle))}),a=i.filter(e=>!e.disabled),o=i.filter(e=>e.disabled).slice(0,gX.cW);this.hasLabeled=this.hasLabeledVersions(a)||this.hasLabeledVersions(o);let s=null,l=(0,g_.u9)(this.props.versionHistory),d=!(0,gX.XX)(n)&&!this.props.currentUserOrgId&&(o.length>0||!l),c=!!n&&(0,i7.canEditTeam)(n.id,(0,i7.getPermissionsState)(this.props));d&&(s=ep.createElement(_d,{startUpgrade:this.startUpgrade,shouldShowUpgradeLink:c,hasRestrictedVersions:!!o.length}));let u=ep.createElement("div",{className:"history_view--loadMore--qL7Ua"},!this.props.versionHistory.loading&&(0,g_.u9)(this.props.versionHistory)&&ep.createElement("a",{className:"history_view--link--68jUI blue_link--blueLink--9rlnd",onClick:this.loadMore},ep.createElement(eb.Tx,{id:"collaboration.feedback.show_older"}))),p=this.props.versionHistory.docHasChanged&&!this.props.versionHistory.loading,h=this.props.versionHistory.linkedVersion,m=h&&a.some(e=>h.id===e.id),g=!this.state.showOnlyUserVersionHistory||(null==h?void 0:h.user.id)===(null==(e=this.props.user)?void 0:e.id),f=(0,lz.$A)(this.props.selectedView),_=(0,f2.C)(this.props.selectedView),y=!this.canEditFile(),E=a.map(e=>(0,fF.p)(e)||e.label?1:0).reduce((e,r)=>e+r,0);return ep.createElement("div",null,this.props.progressBarState.mode!==eA.Oin.ON_AND_LOCKED&&ep.createElement(ev.fu,{name:"Version History Panel",properties:{teamId:null==n?void 0:n.id}},ep.createElement("div",{className:ek()("history_view--container--qL7T1 nav_container--baseContainer--QideS overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",e8.Dm),style:f||_||this.props.isUI3?{width:f||this.props.isUI3?"100%":_n+_i,borderLeft:f?"unset":void 0,minWidth:_&&this.props.isUI3?"240px":"unset"}:{position:"fixed",top:"auto",bottom:"auto",width:_n+_i,height:"100%"}},ep.createElement(_p,{onClose:this.onClose,addSavepoint:this.addSavepoint,filterOptions:{showAutosaves:this.state.showAutosaves,setShowAutosaves:e=>this.setState({showAutosaves:e}),showOnlyUserVersionHistory:this.state.showOnlyUserVersionHistory,setShowOnlyUserVersionHistory:e=>this.setState({showOnlyUserVersionHistory:e})},isViewOnly:y}),ep.createElement("div",{"data-not-draggable":!0},ep.createElement("div",{className:"history_view--headerNoGap--w-y64"},!this.hasLabeled&&!y&&!f&&ep.createElement("div",{className:"history_view--hotkeyHelper--FS8rn"},ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.feedback.press_shortcut_to_add_to_version_history_while_editing",shortcut:ep.createElement(_c,null)}))),h&&!m&&g&&ep.createElement(_l,{description:h.description,label:h.label,versionId:h.id,onSavepointMenuCallback:this.onSavepointMenu,displayText:ep.createElement(eb.Tx,{id:"collaboration.feedback.get_version_text_linked_version_linked_version",versionText:ep.createElement(_o,{item:h})}),view:h.view?h.view:null,time:h.edited_at,isActive:this.props.versionHistory.activeId===h.id,isCurrentVersionActive:this.props.versionHistory.activeId===m7.V_,isComparingLoading:this.state.loadingCompareId===h.id,isComparing:this.props.versionHistory.compareId===h.id,userUrl:h.user.img_url,dispatch:this.props.dispatch,onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,isLinked:!0,first:!0,last:!0,isBranchingVersion:(0,fF.p)(h),checkpointKey:h.checkpoint_key,showAutosaves:this.state.showAutosaves,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isUI3:this.props.isUI3,editorType:r.editorType}),this.props.versionHistory.loading&&ep.createElement("div",{className:"history_view--spinner--pZOXp"},ep.createElement(e6.kt,null)),p&&ep.createElement(_l,{displayText:ep.createElement(eb.Tx,{id:"collaboration.feedback.current_version"}),view:null,isActive:this.props.versionHistory.activeId===m7.V_,isCurrentVersionActive:this.props.versionHistory.activeId===m7.V_,isComparingLoading:this.state.loadingCompareId===m7.V_,isComparing:!!this.props.versionHistory.compareId,userUrl:this.props.user.img_url,versionId:m7.V_,dispatch:this.props.dispatch,addSavepoint:this.addSavepoint,onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,first:!0,last:!1,recordingKey:l4.Pt(this.props,"currentVersion"),onCreateSavepoint:this.addSavepoint,onSavepointMenuCallback:this.onSavepointMenu,showAutosaves:this.state.showAutosaves,hideLine:0===a.length||!this.state.showAutosaves&&0===E,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isUI3:this.props.isUI3,editorType:r.editorType}),this.drawRows(a,0===o.length,!p),this.drawRows(o,!0,!1,c),s),0===o.length&&u))))}}function _p(e){let{onClose:r,addSavepoint:n,filterOptions:i,isViewOnly:a}=e,{toggleDropdown:o,dropdownTargetRef:s,isDropdownShown:l}=function(e){let r=(0,eJ.wA)(),n=ep.useMemo(()=>e||(0,aM.g)(),[e]),i=(0,eJ.d4)(e=>{var r;return(null==(r=e.dropdownShown)?void 0:r.type)===n}),a=ep.useMemo(()=>document.createElement("div"),[]);ep.useEffect(()=>(document.body.appendChild(a),()=>{document.body.removeChild(a)}),[a]);let o=ep.useRef(null),s=n0.findDOMNode(o.current),l=(null==s?void 0:s.getBoundingClientRect())||null,d=e=>{e.callback&&e.callback("",null,r)};return{toggleDropdown:()=>{i?r(iR.oB()):r(iR.j7({type:n}))},dropdownTargetRef:o,Dropdown:function(e){let n=(0,mf.UV)(e);return ep.createElement(ep.Fragment,null,i&&l&&n0.createPortal(ep.createElement(iD.j,{parentRect:l,dispatch:r,onSelectItem:d,...e,...n}),a))},isDropdownShown:i}}("FILTER_VERSIONS_DROPDOWN"),d=(0,tJ.GS)();ep.useEffect(()=>{},[l,s]);let c=()=>{null==i||i.setShowOnlyUserVersionHistory(!(null==i?void 0:i.showOnlyUserVersionHistory))},u=i?[ep.createElement(mc.W.CheckableOption,{key:"all",checked:!i.showOnlyUserVersionHistory,onClick:()=>i.showOnlyUserVersionHistory?c():null},ep.createElement(eb.Tx,{id:"collaboration.feedback.all_filter_text"})),ep.createElement(mc.W.CheckableOption,{key:"only_yours",disabled:a,checked:i.showOnlyUserVersionHistory,onClick:()=>i.showOnlyUserVersionHistory?null:c()},ep.createElement(eb.Tx,{id:"collaboration.feedback.only_yours_filter"})),ep.createElement(mc.W.Separator,{key:"sep"}),ep.createElement(mc.W.CheckableOption,{key:"autosaves",checked:i.showAutosaves,onClick:()=>{null==i||i.setShowAutosaves(!i.showAutosaves)}},ep.createElement(eb.Tx,{id:"collaboration.feedback.show_autosave_versions"}))]:[];return ep.createElement("div",{className:"history_view--headerContainer--pdCZp"},ep.createElement("div",{className:"history_view--headerTitle--MDJcn"},ep.createElement(eb.Tx,{id:"collaboration.feedback.version_history"})),ep.createElement("div",{className:d?eV.cx.flex.itemsCenter.gap4.$:eV.cx.flex.itemsCenter.$},i&&ep.createElement("div",{ref:s},ep.createElement(f0.YW,{selected:!!i.showOnlyUserVersionHistory,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.feedback.filter_tooltip"),onClick:o,onMouseDown:e=>l&&e.stopPropagation()},ep.createElement(l8.U,{svg:_t.A},ep.createElement(gh,null)))),l&&s.current&&ep.createElement(mf.Jz,{showPoint:!0,targetRect:s.current.getBoundingClientRect(),options:u,hideDropdown:o,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,propagateCloseClick:!0}),!a&&ep.createElement(f0.K0,{onClick:n,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.feedback.add_to_version_history_tooltip"),dataTestId:"versions-add-savepoint",recordingKey:l4.Pt(e,"plusVersion")},ep.createElement(l8.U,{svg:mW.A,fallbackSvg:f9.A},ep.createElement(gm,null))),ep.createElement(f0.K0,{onClick:r,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.feedback.close_tooltip"),recordingKey:"button-close"},ep.createElement(l8.U,{svg:_r.A},ep.createElement(gg,null)))))}_u.displayName="VersionHistoryView",(0,eJ.Ng)(i8.l$)(_u);let _h="file_restore_from_version_modal--fileRestoreText--XibjH";function _m(e){let r=e.version;return ep.createElement("div",{className:"file_restore_from_version_modal--fileRestoreRow--MmGRC"},ep.createElement("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--zq1Pp"},r.user&&ep.createElement(mv.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--UH8jp",size:30,entity:{img_url:r.user.img_url}}),e.connector&&ep.createElement("div",{className:"file_restore_from_version_modal--fileRestoreConnector---7ROB"})),ep.createElement("div",{className:"file_restore_from_version_modal--fileRestoreData--BTvid"},r.label&&ep.createElement("div",{className:"file_restore_from_version_modal--fileRestoreLabel---gvYX ellipsis--ellipsis--Tjyfa"},r.label||""),r.description&&ep.createElement("div",{className:_h},r.description),ep.createElement("div",{className:_h},ep.createElement(_s,{time:r.touched_at})),ep.createElement("div",{className:"file_restore_from_version_modal--fileRestoreUser--mY5li"},r.user?r.user.handle:"")),ep.createElement(eB.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--8Ks0z",trusted:!0},ep.createElement(eb.Tx,{id:"file_restore_from_version_modal.restore"})))}let _g="file-restore-from-version-modal";function _f(e){let r=(0,eJ.wA)(),n=n=>{(0,ex.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:n}),r(rH.Ce()),r(af.PF({fileKey:e.fig.key,versionId:n}))},i=e.versions.filter(e=>!e.disabled);return ep.createElement(iY.XV,{title:(0,eb.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{r(rH.Lo())}},ep.createElement("div",{className:"file_restore_from_version_modal--fileRestorePanel--fTzaw"},ep.createElement(sO.P,{width:396},i.map((e,r)=>ep.createElement(_m,{key:e.id,version:e,callback:()=>n(e.id),connector:r+1!==i.length})))))}(0,iK.qK)(_g,e=>{let r=e.modalShown,n=r.data.fig,i=r.data.versions;return ep.createElement(_f,{fig:n,versions:i})}),(0,t1.nF)((e,{fileKey:r,versionId:n})=>{m4.W.getVersion({fileKey:r,versionId:n}).then(({data:r})=>{let n=r.meta.version;e.dispatch(rH.to({type:gr,data:{description:n.description,label:n.label,savepointID:n.id,isEditingMergeSavepoint:!0}}))},()=>{e.dispatch(ih.s.error("An error occurred while retrieving the file history."))})});let __=(0,t1.nF)(async(e,{fileKey:r},{liveStore:n})=>{try{let{data:i}=await m4.W.getVersions({fileKey:r,pageSize:100}),a=await n.fetchFile(r),o=i.meta.versions;e.dispatch(rH.to({type:_g,data:{fig:a,versions:o}}))}catch(r){e.dispatch(ih.s.error("An error occurred while retrieving the file history."))}}),_y=(0,eF.eU)("off");var _E=n(80167),_b=n(60032);let _v=ep.memo(function(e){let{mainPickDisplayGroups:r,mainPickGUIDs:n,branchPickGUIDs:i,conflictDetection:a,branchKey:o,sourceKey:s,fromCheckpointKey:l,styleKeyToFileKey:d,pickedAllFromBranch:c,nonConflictDisplayGroups:u,didResolveConflicts:p,viewOnly:h}=e,{nonConflictingSourceChunkGUIDs:m,nonConflictingBranchChunkGUIDs:g,identicalChunkGUIDs:f}=a,[_,y]=ep.useState([]),E=(0,sg.ud)(),b=(0,eJ.d4)(e=>e.mirror.appModel.branchingSceneState),v=ep.useContext(aV.ss),{otherChanges:S,displayGroupsByPage:I,displayGroupsByStyle:T,displayGroupsByVariableSet:w,displayGroupsByLibrary:C,pageIdToInfo:A}=ep.useMemo(()=>(function(e,r,n){if(!(r.length>0))return{...od(e,n,av.Kn.FROM_SOURCE),otherChanges:[]};{let i=od(r,n,av.Kn.FROM_SOURCE);return{...i,otherChanges:e.map((e,r)=>({...e,index:i.allDisplayGroups.length+r}))}}})(u,r,d),[u,r,d]),N=u.length+r.length,O=ep.useMemo(()=>{let e=[];return!p&&0===N&&(e.push("file_improvement"),f.length>0&&e.push("interrupted_merge_recovery")),e},[p,N,f]);ep.useEffect(()=>{O.length>0&&(0,ex.sx)("System Improvements During Update",{branchKey:e.branchKey,sourceKey:e.sourceKey,checkpointDiffKey:e.checkpointDiffKey,fromCheckpointKey:e.fromCheckpointKey,displayGroups:N,identicalGuids:f.length,file_improvements:O.includes("file_improvement"),interrupted_merge_recovery:O.includes("interrupted_merge_recovery"),branchModalTrackingId:v},{forwardToDatadog:!0})},[O,e.sourceKey,e.branchKey,e.checkpointDiffKey,e.fromCheckpointKey,N,f,v]);let R=function(e,r,n,i,a,o,s,l,d){let[c,u]=ep.useState(!1),[p,h]=ep.useState(null),[m,g]=ep.useState(null),f=ep.useRef(new Set);(0,sd.h)(()=>{try{ow(e,r,n,i,a),u(!0)}catch(e){g(new _E.s("Failed to merge conflict resolution picks",{cause:e}))}});let _=ep.useContext(aV.ss);return(ep.useEffect(()=>{setTimeout(async function(){if(!c)return;let e=d.filter(e=>{let r=to.dI(e.mainChunk.displayNode.guid);return!f.current.has(r)&&(f.current.add(r),!0)});if(0===e.length)return;let[r,n]=await a6(e,o,s,l,_);r.then(e=>{h(r=>({...r,...e}))}),n.then(e=>{h(r=>({...r,...e}))})},0)},[c,o,l,s,d,_]),m)?{status:"error",error:m}:null===p?{status:"loading"}:{status:"loaded",images:p}}(n,i,m,g,f,o,s,l,_),[P,L]=(0,rV.fp)(_y);if(ep.useEffect(()=>{"loading"===P&&("loaded"===R.status||"error"===R.status)&&L("loaded")},[R,P,L]),"error"===R.status)throw R.error;let D=ep.useCallback(function(e){y(e.map(e=>e.displayChunk))},[y]),M=h||b!==eT.aTl.STAGED_BRANCH_TIP;return ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement(aV.FA,{className:m$.kb},ep.createElement("div",{className:"changes_review--noChanges--rnUZ3"},e.didResolveConflicts?ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"changes_review--reviewConflictChanges--nqttn changes_review--reviewChanges--uhXd5",onClick:e.uncompleteResolution},ep.createElement(sR.B,{svg:_b.A,className:"changes_review--reviewChevron--TWKyU",width:"10px",autosize:!0}),ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.review_changes"})),ep.createElement("div",null,c?ep.createElement(ep.Fragment,null,ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.you_chose_to_keep_all_changes_from_the_branch_for_conflicts"})),"\xa0",ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.continue_to_apply_non_conflicting_changes",changeCount:u.length}))):ep.createElement(ep.Fragment,null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.confirm_your_picks_as_well_as_additional_changes_that_may_be_pulled_into_your_file"})))):ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"changes_review--reviewChanges--uhXd5"},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.review_changes"})),ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.these_changes_have_been_made_to_the_main_file"})))),ep.createElement("div",{className:m$.P8},ep.createElement(eB.$$,{type:"submit",onClick:e.applyChanges,className:m$.qU,disabled:M},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.apply_changes"})))),ep.createElement(aV.nS,null,ep.createElement("div",{className:"changes_review--outerScrollContainer--XS-fm"},ep.createElement(sO.P,{className:"changes_review--scrollbar--8e66S"},ep.createElement(h_,{onChangeVisibleGroups:D,otherChanges:S,displayGroupsByPage:I,pageIdToInfo:A,fileKeyToFile:E,displayGroupsByStyle:T,displayGroupsByVariableSet:w,displayGroupsByLibrary:C,images:"loaded"===R.status?R.images:{},systemImprovements:O}))))))}),_S="conflict_details--mainTitle--Wtbbu",_I="conflict_details--leftRightContainer--un1h0",_T="conflict_details--left--57CcX",_w="conflict_details--right--1Z4Mt",_C="conflict_details--propertyRow--p9gqN",_A="conflict_details--fieldName--l1UGo";function _N(e){let{changesToDisplay:r}=e;return ep.createElement(ep.Fragment,null,r.map(e=>ep.createElement("div",{key:(0,aM.g)(),className:ek()(_I,_C)},ep.createElement("div",{className:ek()(_T,_A)},e.name()),ep.createElement("div",{className:_w},e.newValue()))))}function _O(e){let{basis:r,change:n,changesToDisplay:i}=e,a=cJ(r,n),o=ep.useMemo(()=>({"data-tooltip":a,"data-tooltip-type":iL.Ib.TEXT}),[a]);return ep.createElement("div",{className:"conflict_details--node--plrf8"},ep.createElement("div",{className:"conflict_details--nodeTitle--XX8s9"},ep.createElement("span",{className:"conflict_details--nodeIcon--hFdq4"},ep.createElement(cQ,{basis:r,change:n})),ep.createElement(sA.R,{text:a,tooltipPropsWhenTruncated:o})),ep.createElement("div",null,ep.createElement(_N,{changesToDisplay:i})))}function _R(e){let{chunk:r}=e,n=r.displayNode.styleType;if(0===e.pairedChanges.length)return null;let{change:i,basis:a}=e.pairedChanges[0],o=pC(n,a,i,c0.fE.CONFLICT_REVIEW,r);return 0===o.length?null:ep.createElement(ep.Fragment,null,ep.createElement("div",{className:_S},ep.createElement("div",{className:_T},ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.change_details"}))),ep.createElement("div",null,o.map(e=>ep.createElement("div",{className:_C,key:(0,aM.g)()},ep.createElement("div",{className:_I},ep.createElement("div",{className:ek()(_T,_A)},e.name()),ep.createElement("div",{className:_w},e.newValue()))))))}function _P(e){let{pairedChanges:r,chunk:n}=e,i=pw(r,c0.FO.BRANCHING),a=(0,ag.WI)(r.map(e=>{let r=pT({basis:e.basis,changes:e.change,chunkViewType:c0.fE.CONFLICT_REVIEW,compareThumbnailSource:c0.FO.BRANCHING,chunk:n});return r.length?{...e,changesToDisplay:r}:null}));return 0===a.length&&0===i.length||n.phase===eT.Dje.REMOVED?null:ep.createElement(ep.Fragment,null,ep.createElement("div",{className:_S},ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_chunk.change_details"}))),ep.createElement("div",null,ep.createElement(_N,{changesToDisplay:i})),ep.createElement("div",null,a.map(e=>ep.createElement(_O,{key:(0,to.dI)(e.change.guid),basis:e.basis,change:e.change,changesToDisplay:e.changesToDisplay}))))}let _L=ep.memo(function(e){let{basis:r,changes:n,chunk:i}=e,a=ep.useMemo(()=>cZ(r||[]),[r]);if(!i||!n||!r)return null;let o=(0,ag.WI)(n.map(e=>{let r=a[(0,to.dI)(e.guid)];return r?{change:e,basis:r}:null}));return ep.createElement("div",{className:"conflict_details--conflictDetails--yRU0y text--fontPos11--2LvXf text--_fontBase--QdLsd"},cX(i)?ep.createElement(_R,{pairedChanges:o,chunk:i}):ep.createElement(_P,{pairedChanges:o,chunk:i}))});function _D(e){var r;let n=ep.useMemo(()=>e.chunk?a3(e.chunk):void 0,[e.chunk]);return ep.createElement("div",{className:ek()({"chunk_title--chunkTitle--CeIJT":!0,"chunk_title--noBorder--Kk010":e.noBorder})},e.chunk?ep.createElement(ep.Fragment,null,ep.createElement(cN,{node:e.chunk.displayNode,parentNode:n,className:"chunk_title--headerIcon--kHPnp object_row--layerIcon--dTOdu"}),ep.createElement(sA.R,{text:sw(e.chunk.displayNode.name||"")})):ep.createElement(sA.R,{text:sw((null==(r=e.siblingChunk)?void 0:r.displayNode.name)||"")}))}let _M="selection_columns--selected--wv1-g";function _k(e){return ep.createElement("div",{className:ek()("selection_columns--columns--iPmSx",e.className)},ep.createElement("div",{className:ek()("selection_columns--leftChunk--uOUKy selection_columns--chunkItem--mJ8QX",e.choice===av.Wo.MAIN&&_M)},e.leftChildren),ep.createElement("div",{className:ek()("selection_columns--rightChunk--QxrFK selection_columns--chunkItem--mJ8QX",e.choice===av.Wo.BRANCH&&_M)},e.rightChildren))}function _x({children:e}){return ep.createElement("div",{className:"variable_collections_conflict_group_diff--row--5-C3N"},e)}function _F({mainChunk:e,branchChunk:r,choice:n}){var i,a;let o=(null==(i=null==e?void 0:e.displayNode.variableSetModes)?void 0:i.sort((e,r)=>-1*(0,hP.Ez)(e.sortPosition,r.sortPosition)))??[],s=(null==(a=null==r?void 0:r.displayNode.variableSetModes)?void 0:a.sort((e,r)=>-1*(0,hP.Ez)(e.sortPosition,r.sortPosition)))??[];function l({key:e,name:r}){return null==r?ep.createElement(_x,{key:e},null):ep.createElement(_x,{key:e},ep.createElement(eb.Tx,{id:"variables.diff.conflict_collection_name",collectionName:ep.createElement("strong",null,r)}))}function d({key:e,modes:r}){let n=(0,ag.RP)(r,e=>e.name).join(", ");return ep.createElement(_x,{key:e},ep.createElement(eb.Tx,{id:"variables.diff.conflict_modes",modeNames:ep.createElement("strong",null,n)}))}let{leftChildren:c,rightChildren:u}=function(){let n=[],i=[];return(null==e?void 0:e.displayNode.name)!==(null==r?void 0:r.displayNode.name)&&(n.push(l({key:"name-l",name:null==e?void 0:e.displayNode.name})),i.push(l({key:"name-r",name:null==r?void 0:r.displayNode.name}))),(0,eg.c2)(o,s)||(n.push(d({key:"mode-l",modes:o})),i.push(d({key:"mode-r",modes:s}))),{leftChildren:n,rightChildren:i}}();return ep.createElement("div",{className:"variable_collections_conflict_group_diff--chunksInConflict--L-iE9 conflict_group_diff--chunksInConflict--KY8CG"},ep.createElement(_k,{choice:n,leftChildren:c,rightChildren:u}))}var _U=n(89865),_B=n.n(_U),_V=n(72174);function _H({children:e}){return ep.createElement("div",{className:"variables_conflict_group_diff--modeValueRow--z0ENJ"},e)}function _G({mainChunk:e,mainVariableSetChunk:r,branchChunk:n,branchVariableSetChunk:i,choice:a}){var o,s;let l=(null==(o=r.displayNode.variableSetModes)?void 0:o.sort((e,r)=>-1*(0,hP.Ez)(e.sortPosition,r.sortPosition)))??[],d=_B()(l,e=>to.dI(e.id)),c=l.map(r=>{var n,i;return null==(i=null==(n=null==e?void 0:e.displayNode.variableDataValues)?void 0:n.entries)?void 0:i.find(e=>to.aI(e.modeID,r.id))}).filter(_V.Vq),u=(null==(s=i.displayNode.variableSetModes)?void 0:s.sort((e,r)=>-1*(0,hP.Ez)(e.sortPosition,r.sortPosition)))??[],p=_B()(u,e=>to.dI(e.id)),h=se(c,u.map(e=>{var r,i;return null==(i=null==(r=null==n?void 0:n.displayNode.variableDataValues)?void 0:r.entries)?void 0:i.find(r=>to.aI(r.modeID,e.id))}).filter(_V.Vq),e=>to.dI(e.modeID));function m({key:e,modeName:r,modeID:n,variableData:i}){return ep.createElement(_H,{key:e},ep.createElement("div",{className:"variables_conflict_group_diff--modeValueRowName--gNLKt"},r),ep.createElement(ma,{variableData:i,modeID:n,when:"next"}))}function g({key:e}){return ep.createElement(_H,{key:e},null)}let{leftChildren:f,rightChildren:_}=function(){let e=[],r=[];return h.forEach(([n,i],a)=>{n?e.push(m({key:to.dI(n.modeID),modeName:d[to.dI(n.modeID)].name??"",modeID:n.modeID,variableData:n.variableData})):e.push(g({key:a})),i?r.push(m({key:to.dI(i.modeID),modeName:p[to.dI(i.modeID)].name??"",modeID:i.modeID,variableData:i.variableData})):r.push(g({key:a}))}),{leftChildren:e,rightChildren:r}}();return ep.createElement("div",{className:"variables_conflict_group_diff--chunksInConflict--BU-Cf conflict_group_diff--chunksInConflict--KY8CG"},ep.createElement(_k,{choice:a,leftChildren:ep.createElement(_D,{chunk:e,siblingChunk:n,noBorder:!0}),rightChildren:ep.createElement(_D,{chunk:n,siblingChunk:e,noBorder:!0})}),ep.createElement(_k,{choice:a,leftChildren:f,rightChildren:_}))}let _W="conflict_group_diff--selected---jRD1 selection_columns--selected--wv1-g",_z="conflict_group_diff--diffHeaderTitle--13SSF text--fontPos14--OL9Hp text--_fontBase--QdLsd",_K="conflict_group_diff--diffHeaderLabel--lTGme text--fontPos11--2LvXf text--_fontBase--QdLsd",_j="conflict_group_diff--labelSelected--t2o7J",_Y="conflict_group_diff--conflictChoiceButton--8zSX-",_$="conflict_group_diff--buttonSelected--APgIv",_q="conflict_group_diff--selectionButtonContainer--a-APu",_Z="conflict_group_diff--buttonDeselected--KIEgX",_X="conflict_group_diff--buttonText--ZqijW",_J="conflict_group_diff--conflictGroupDiffContainer--JaBCV",_Q="conflict_group_diff--darkBackgroundText--W-o5I",_0="conflict_group_diff--lightBackgroundText--FduPR";var _1=n(4545),_2=n(33600);function _3({isDarkBackground:e,displayNode:r}){if(r&&a7(r)){let e=oc(r);return ep.createElement(sR.B,{svg:e,className:"conflict_group_diff--grid--ojJey",autosize:!0,width:"40px"})}return ep.createElement("span",{className:e?_Q:_0},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.preview_unavailable"}))}function _5(e){let{chunk:r,loading:n,imageData:i,imageBackgroundColor:a}=e,o=(null==r?void 0:r.phase)===eT.Dje.REMOVED,s=null==r?void 0:r.displayNode,l=(null==r?void 0:r.displayNode.styleType)==="TEXT",d=(null==r?void 0:r.displayNode.styleType)==="FILL",c="dark"===(0,e5.DP)(),u=r?oh(r,a,!1):{backgroundColor:a},p=op(c,a,null==r?void 0:r.displayNode.styleType),h=ek()({[pH]:l||d}),m=ek()({[pG]:l&&c}),g=ep.useMemo(()=>i&&i&&!(s&&a7(s))?{width:i.width,height:i.height,data:i.image,scale:2}:null,[i,s]);return!r||o?ep.createElement("div",{style:{backgroundColor:a},className:ek()(_J)},ep.createElement("span",{className:p?_Q:_0},r?o?(()=>{if(r&&r.displayNode.styleType&&"NONE"!==r.displayNode.styleType)return ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.this_style_was_removed"});switch(null==r?void 0:r.displayNode.type){case"CANVAS":return ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.this_page_was_removed"});case"FRAME":return ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.this_frame_was_removed"});case"SYMBOL":return ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.this_component_was_removed"});default:return ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.this_layer_was_removed"})}})():ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.preview_unavailable"}):ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.no_item"}))):ep.createElement("div",{className:ek()(_J),style:u},n&&ep.createElement(e6.kt,null),g&&ep.createElement(sG.ec,{image:g,className:h,canvasClassName:m}),(null==g||null==i)&&ep.createElement(_3,{isDarkBackground:p,displayNode:s}))}function _4(e){let{mainChunk:r,branchChunk:n,loadingImages:i,choice:a,mainImage:o,mainImageBackgroundColor:s,branchImage:l,branchImageBackgroundColor:d}=e;return r||n?ep.createElement(sG.Yz,{className:"conflict_group_diff--chunksInConflict--KY8CG",resetStateOnChangeValue:o,zoomPercentageOptions:[25,50,100],zoomOnMousePointer:!1},ep.createElement(_k,{choice:a,leftChildren:ep.createElement(_D,{chunk:r,siblingChunk:n}),rightChildren:ep.createElement(_D,{chunk:n,siblingChunk:r})}),ep.createElement(_k,{className:"conflict_group_diff--imagesContainer--PMkzp",choice:a,leftChildren:ep.createElement(_5,{imageBackgroundColor:s,chunk:r,loading:i,imageData:o}),rightChildren:ep.createElement(_5,{imageBackgroundColor:d,chunk:n,loading:i,imageData:l})}),ep.createElement(_k,{choice:a,leftChildren:ep.createElement(_L,{chunk:r,basis:(null==r?void 0:r.diffBasis)??[],changes:(null==r?void 0:r.nodeChanges)??[]}),rightChildren:ep.createElement(_L,{chunk:n,basis:(null==n?void 0:n.diffBasis)??[],changes:(null==n?void 0:n.nodeChanges)??[]})}),ep.createElement("div",{className:"conflict_group_diff--zoomSelector--mnStt"},ep.createElement(sG._5,null))):ep.createElement(ep.Fragment,null)}function _6(e){let{chooseForConflict:r,choice:n,group:i,loadingImages:a,mainImages:o,branchImages:s,viewOnly:l}=e,{sourceChunks:d,branchChunks:c}=i,u=ep.useCallback(e=>r(i,e),[r,i]),p=r=>{e.choice===r?u(void 0):u(r)};ep.useEffect(()=>{let e=e=>{if(!document.activeElement)return;let r=!0;switch(e.keyCode){case sE.Uz.BRACKET_LEFT:u(av.Wo.MAIN);break;case sE.Uz.BRACKET_RIGHT:u(av.Wo.BRANCH);break;default:r=!1}r&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u]);let h=ep.useMemo(()=>se(d,c,o9),[d,c]);return ep.createElement("div",{className:"conflict_group_diff--diffContainer--f6HUm"},ep.createElement("div",{className:"conflict_group_diff--diffHeader--5zDWw"},ep.createElement("div",{className:ek()("conflict_group_diff--diffHeaderLeft--jlkCd conflict_group_diff--diffHeaderItem--TWJfb",n===av.Wo.MAIN&&_W)},ep.createElement("div",{className:_z},ep.createElement(sA.R,{text:e.fileName,maxWidth:288})),ep.createElement("div",{className:ek()(_K,n===av.Wo.MAIN&&_j)},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.main"}))),ep.createElement("div",{className:ek()("conflict_group_diff--diffHeaderRight--9h2Uw conflict_group_diff--diffHeaderItem--TWJfb",n===av.Wo.BRANCH&&_W)},ep.createElement("div",{className:_z},ep.createElement(sR.B,{className:"conflict_group_diff--diffHeaderIcon--mn8Ej",svg:_1.A}),ep.createElement(sA.R,{text:e.branchName,maxWidth:264})),ep.createElement("div",{className:ek()(_K,n===av.Wo.BRANCH&&_j)},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.branch"})))),ep.createElement("div",{className:"conflict_group_diff--diffContents--vciWn"},ep.createElement(sO.P,{className:"conflict_group_diff--scrollContainer--SX-Xd",innerClassName:"conflict_group_diff--innerScrollContainer--VWi96"},h.map(([e,r])=>{let i=e?o9(e):void 0,l=r?o9(r):void 0,d=e?o[to.dI(e.displayNode.guid)]:void 0,c=r?s[to.dI(r.displayNode.guid)]:void 0;return ep.createElement(_8,{alignedChunks:h,branchChunk:r,branchImage:c,choice:n,key:`${i}:${l}`,loadingImages:a,mainChunk:e,mainImage:d})}))),!l&&ep.createElement("div",{className:"conflict_group_diff--diffFooter--EyZiZ"},ep.createElement("div",{className:ek()("conflict_group_diff--diffFooterLeft--gdTe1 conflict_group_diff--diffFooterItem--A5WYQ",n===av.Wo.MAIN&&_W)},ep.createElement(eB.p6,{type:"button",className:ek()(_Y,n===av.Wo.MAIN?_$:_Z),onClick:()=>{p(av.Wo.MAIN)}},ep.createElement("div",{className:_q},ep.createElement(sR.B,{svg:_2.A})),ep.createElement("div",{className:_X},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.keep_main"})))),ep.createElement("div",{className:ek()("conflict_group_diff--diffFooterRight--adX-Z conflict_group_diff--diffFooterItem--A5WYQ",n===av.Wo.BRANCH&&_W)},ep.createElement(eB.p6,{type:"button",className:ek()(_Y,n===av.Wo.BRANCH?_$:_Z),onClick:()=>{p(av.Wo.BRANCH)}},ep.createElement("div",{className:_q},ep.createElement(sR.B,{svg:_2.A})),ep.createElement("div",{className:_X},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.keep_branch"}))))))}function _8({alignedChunks:e,branchChunk:r,branchImage:n,choice:i,loadingImages:a,mainChunk:o,mainImage:s}){let l=function(){if(!o&&!r)return null;if("VARIABLE_SET"===(o??r).displayNode.type)return ep.createElement(_F,{mainChunk:o,branchChunk:r,choice:i});if("VARIABLE"===(o??r).displayNode.type){let[n,a]=e[0];return ep.createElement(_G,{mainChunk:o,mainVariableSetChunk:n,branchChunk:r,branchVariableSetChunk:a,choice:i})}return ep.createElement(_4,{mainChunk:o,branchChunk:r,choice:i,loadingImages:a,mainImage:null==s?void 0:s.image,mainImageBackgroundColor:(null==s?void 0:s.backgroundColor)||a8,branchImage:null==n?void 0:n.image,branchImageBackgroundColor:(null==n?void 0:n.backgroundColor)||a8})}();return l?ep.createElement("div",{className:"conflict_group_diff--conflictPair--DeI3v"},l):null}var _7=n(6247),_9=n(60262),ye=n(77869),yt=n(47245);function yr(e){let r=function(e){switch(e){case av.Wo.BRANCH:return(0,eb.t)("collaboration.branching_from_source.branch");case av.Wo.MAIN:return(0,eb.t)("collaboration.branching_from_source.main");default:return null}}(e.choice);return ep.createElement("div",{className:ek()("conflict_list--resolvedBadge--7rjR5 text--fontPos9--naThA text--_fontBase--QdLsd",r?null:"conflict_list--hiddenBadge--a3sEO")},ep.createElement(sR.B,{svg:ye.A,className:"conflict_list--checkIcon--GOZ0X"})," ",r)}function yn(e){let r=e.displayNode,n=sw(r.name||""),i=ep.useMemo(()=>({"data-tooltip":n,"data-tooltip-type":iL.Ib.TEXT}),[n]);return ep.createElement("div",{className:"conflict_list--rowChunkDisplay--r3So6"},ep.createElement("div",{className:"conflict_list--iconContainer--QHdJ2"},ep.createElement(cN,{className:"conflict_list--nodeIcon--63RSB object_row--layerIcon--dTOdu",node:r,parentNode:e.parentNode})),ep.createElement("div",{className:"conflict_list--conflictTitleTextContainer--HP4Hx"},ep.createElement(sA.R,{text:n,tooltipPropsWhenTruncated:i})))}function yi(e){var r;let{conflictGroup:n,numUniqueItems:i}=e;return i>1&&!n.titleNode?ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.num_unique_items_related_items",numUniqueItems:i}):ep.createElement(yn,{displayNode:n.titleNode||(null==(r=n.sourceChunks[0])?void 0:r.displayNode)||n.branchChunks[0].displayNode})}function ya(e){let r=ep.useMemo(()=>a3(e.chunk),[e.chunk]);return ep.createElement("div",{className:"conflict_list--conflictSubItem--JuGqp"},ep.createElement(yn,{displayNode:e.chunk.displayNode,parentNode:r}))}function yo(e){let{conflictGroup:r}=e,n=new Set;return ep.createElement(ep.Fragment,null,r.sourceChunks.map(e=>{let r=o9(e);return n.add(r),ep.createElement(ya,{key:r,chunk:e})}),r.branchChunks.map(e=>{let r=o9(e);return n.has(r)?null:ep.createElement(ya,{key:r,chunk:e})}))}function ys(e){let{setAllPicks:r}=e,n=[{displayText:(0,eb.t)("collaboration.branching_from_source.pick_main_file"),callback:()=>{r(av.Wo.MAIN)}},{displayText:(0,eb.t)("collaboration.branching_from_source.pick_branch"),callback:()=>{r(av.Wo.BRANCH)}}];return ep.createElement(_9.Q,{menuItems:n},ep.createElement("div",{className:"conflict_list--resolveAllDropdownLabel--H9AuM"},ep.createElement("div",{className:"conflict_list--resolveAllDropdownLabelText--SpMOs"},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.resolve_all"})),ep.createElement(sR.B,{svg:my.A})))}function yl(e){var r;let{conflictGroups:n,conflictGroupSections:i,picks:a,selectedConflict:o,selectConflict:s,setAllPicks:l,selectedSection:d,setSelectedSection:c,viewOnly:u}=e,p=ep.useRef(null),[h,m]=ep.useState(!0),[g,f]=ep.useState(0);ep.useLayoutEffect(()=>{p.current&&f(p.current.getClipContainer().clientHeight)},[h,p,f]);let _=n.reduce((e,r)=>a[r.id]?e+1:e,0);return ep.createElement("div",{className:"conflict_list--listContainer--6S3-Q"},ep.createElement("div",{className:"conflict_list--listHeader--JB3CG"},ep.createElement("div",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.num_conflicts",conflictCount:n.length,pickedCount:_})),!u&&ep.createElement("div",null,ep.createElement(ys,{setAllPicks:l}))),ep.createElement(ep.Fragment,null,ep.createElement(yd,{conflictGroupSections:i,currentSelection:d,setCurrentSelection:c,picks:a,isOpen:h,setIsOpen:m}),ep.createElement(sO.P,{className:"conflict_list--scrollContainer--SOS5e",ref:p},ep.createElement(yh,{key:null==(r=d[1][0])?void 0:r.id,picks:a,selectedConflict:o,selectConflict:s,sectionConflictGroups:d[1],listHeight:g}))))}function yd(e){let{conflictGroupSections:r,currentSelection:n,setCurrentSelection:i,picks:a,isOpen:o,setIsOpen:s}=e,l=r.length>1;return ep.createElement("div",{className:"conflict_list--pageSelectionContainer--si-pv"},ep.createElement("div",{className:"conflict_list--sectionHeader--jrojq"},ep.createElement("div",{className:"conflict_list--pageSelectionTitle--koWkI"},n[0]),l&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"conflict_list--sectionCloseOpenControl--lU2j5",onClick:()=>s(!o)},ep.createElement(sR.B,{svg:o?my.A:_b.A})))),ep.createElement("div",{className:ek()(o&&l?null:"conflict_list--sectionItemsHidden--qtvg9")},ep.createElement(sO.P,{scrollBarAlways:!1,className:"conflict_list--sectionItemsScrollContainer--1xKoi conflict_list--scrollContainer--SOS5e"},r.map(([e,r])=>{var o;return ep.createElement(yc,{key:null==(o=r[0])?void 0:o.id,pageName:e,isSelected:n[1][0].id===r[0].id,setToCurrentPage:()=>i([e,r]),conflicted:!r.every(e=>a[e.id])})}))))}function yc(e){let{pageName:r,isSelected:n,setToCurrentPage:i,conflicted:a}=e;return ep.createElement("div",{className:n?"conflict_list--pageRowSelected--s1QMe conflict_list--pageRow--as-Kw":"conflict_list--pageRow--as-Kw",onClick:()=>{i()}},ep.createElement(sR.B,{className:"conflict_list--pageRowSvg--SF5s1",svg:yt.A}),ep.createElement("div",{className:"conflict_list--pageName--xnoWb"},r),a&&ep.createElement("div",{className:"conflict_list--conflictedTag--2xAC5"},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.conflicted"})))}let yu=e=>az()(e.sourceChunks.map(o9).concat(e.branchChunks.map(o9))).length;function yp(e){let{conflictGroup:r,numUniqItems:n,choice:i,isSelected:a,onClick:o}=e;return ep.createElement("div",{className:ek()("conflict_list--rowItem--xCLbn",a?"conflict_list--selectedItem--i-v8a":null),onClick:o},ep.createElement("div",{className:"conflict_list--conflictTitle--vR197"},ep.createElement(yi,{conflictGroup:r,numUniqueItems:n}),i&&ep.createElement(yr,{choice:i})),n>1?ep.createElement("div",{className:"conflict_list--conflictSubItems--ZDAYQ"},ep.createElement(yo,{conflictGroup:r})):null)}function yh(e){let{sectionConflictGroups:r,picks:n,selectConflict:i,selectedConflict:a,listHeight:o}=e,s=ep.createRef(),l=ep.useMemo(()=>r.map(e=>[...e.sourceChunks,...e.branchChunks].some(e=>oe(e))?1:yu(e)),[r]);ep.useLayoutEffect(()=>{s.current&&s.current.scrollToItem(r.indexOf(a))},[a,s,r]);let d=ep.useCallback(({index:e,style:o})=>{let s=r[e],d=n[s.id];return ep.createElement("div",{style:o},ep.createElement(yp,{key:`conflict-${e}`,conflictGroup:s,numUniqItems:l[e],choice:d,onClick:()=>i(s),isSelected:s===a}))},[a,r,n,i,l]),c=e=>e>1?32*(e+1):32;return ep.createElement(_7._m,{ref:s,height:o,itemCount:r.length,itemSize:e=>c(l[e]),width:256,overscanCount:5},d)}function ym(e,r,n){oT(e,r);let i=n.map(e=>({...e,backgroundColor:eT.Egt.getNodePageBackgroundColor(e.id),isStyle:e.isStyle})),a=a2({nodes:i});oI(av.Kn.FROM_SOURCE);let o={};return a.forEach((e,r)=>{let n=i[r];o[n.id]={image:e,backgroundColor:n.backgroundColor}}),o}let yg=ep.memo(function(e){let{conflictDetection:r,picks:n,choosePicks:i,branchPickGUIDs:a,pickedAllFromBranch:o,styleKeyToFileKey:s,hasNonConflictDisplayGroups:l,viewOnly:d}=e,{conflictGroups:c}=r,u=(0,sg.ud)(),p=(0,eJ.d4)(e=>e.mirror.appModel.pagesList),h=ep.useMemo(()=>(function(e,r,n,i){let a={},o={},s={},l={},d={};e.forEach(e=>{let i=function(e,r,n){var i;let a,o;let{sourceChunks:s,branchChunks:l}=e,d=s.concat(l),c=null;if((0,e2.kc)().ds_publish_file_deprecation){let e=tu.D.getState();a=(0,ax.ah)(e.library.published.components),o=(0,ax.ah)(e.library.published.stateGroups)}for(let e of d){if(a9(e)&&e.displayNode.styleType)return"Styles";if(oe(e))return"Variables";if(ot(e,a,o)){let a=n[e.styleKey||""]||e.componentFileKey||"defaultKey",o=(null==(i=r[a])?void 0:i.name)||"Libraries";return{type:"Library",key:a,name:o}}{let r=oa(e),n=r.guid,i=r.name;if(c&&c.key!==n)return"Multipage";c={type:"Page",key:n,name:i}}}return c}(e,r,n);if(i&&"string"==typeof i)d[i]=d[i]||[],d[i].push(e);else if(i&&"Page"===i.type)o[i.key]=o[i.key]||[],o[i.key].push(e),a[i.key]=i.name;else if(i&&"Library"===i.type)l[i.key]=l[i.key]||[],l[i.key].push(e),s[i.key]=i.name;else throw Error("No section for conflict group")});let c=["Variables","Styles","Multipage"].filter(e=>d[e]).map(e=>[e,d[e]]),u=Object.keys(o),p=new Map(i.map((e,r)=>[e.nodeId,r]));u.sort((e,r)=>p.get(e)-p.get(r));let h=u.map(e=>[a[e],o[e]]),m=Object.keys(l).map(e=>[s[e],l[e]]);return c.concat(h).concat(m)})(c,u,s,p),[c,u,s,p]),m=ep.useMemo(()=>aI()(h,([e,r])=>r),[h]),[g,f]=ep.useState(0),[_,y]=ep.useState(h[0]),E=ep.useCallback(e=>{let r;let n=h.map(([e,r])=>r.length).map((r=0,e=>r+=e)).findIndex(r=>r>e);f(e),y(h[n])},[h,f,y]),[b,v]=ep.useState(!1),S=m[g],I=ep.useRef(null),[T,w]=ep.useState(null),C=function(e,r,n,i,a){let[o,s]=ep.useState({status:"loading",id:null}),[l,d]=ep.useState(!1),{mainGuidsToAlwaysApplyToGenerateImages:c,extraGuidsToApplyToGenerateMainImageFromDiff:u,branchGuidsToAlwaysApplyToGenerateImages:p,extraGuidsToApplyToGenerateBranchImageFromConflictDiff:h}=ep.useMemo(()=>(function(e,r,n){let{conflictGroups:i,nonConflictingBranchChunkGUIDs:a,nonConflictingSourceChunkGUIDs:o,identicalChunkGUIDs:s}=e,l=i.filter(e=>r[e.id]===av.Wo.BRANCH&&e!==n),d=i.filter(e=>r[e.id]===av.Wo.MAIN&&e!==n),c=az()(aI()(d,e=>o7(e,av.Wo.MAIN))),u=az()(aI()(l,e=>o7(e,av.Wo.BRANCH))),p=i.filter(e=>!r[e.id]),h=u.concat(a,s),m=c.concat(o),g=az()(aI()([n].concat(p),e=>o7(e,av.Wo.BRANCH)));return{mainGuidsToAlwaysApplyToGenerateImages:m,extraGuidsToApplyToGenerateMainImageFromDiff:az()(aI()([n].concat(p),e=>o7(e,av.Wo.MAIN))),branchGuidsToAlwaysApplyToGenerateImages:h,extraGuidsToApplyToGenerateBranchImageFromConflictDiff:g}})(e,r,n),[e,r,n]),m=ep.useContext(aV.ss);return(0,sd.h)(()=>{let e=setTimeout(()=>{try{ov(av.Kn.FROM_SOURCE),d(!0)}catch(e){s({status:"error",error:e})}},0);return()=>{clearTimeout(e)}}),ep.useEffect(()=>{if(!l||i.current===n.id)return;if("loading"===o.status){if(o.id===n.id)return;o.timer&&clearTimeout(o.timer)}let e=setTimeout(function(){try{let e=Date.now(),r=n.sourceChunks.length;(0,ey.Lo)("Branching","Generating conflict images",{conflictGroup:n.id,type:"main"}),(0,ex.sx)("Conflict Image Generation started",{branchModalTrackingId:m,numChunks:r,conflictGroupId:n.id,branch_key:a,...(0,om.Z_)()});let o=ym(c.concat(u),p,n.sourceChunks.map(e=>({id:to.dI(e.displayNode.guid),isStyle:void 0!==e.displayNode.styleType})));(0,ey.Lo)("Branching","Generating conflict images",{conflictGroup:n.id,type:"branch"});let l=ym(c,p.concat(h),n.branchChunks.map(e=>({id:to.dI(e.displayNode.guid),isStyle:void 0!==e.displayNode.styleType&&"NONE"!==e.displayNode.styleType})));i.current=n.id,s({status:"loaded",mainImages:o,branchImages:l}),(0,ex.sx)("Conflict Image Generation finished",{branchModalTrackingId:m,numChunks:r,conflictGroupId:n.id,durationMs:Date.now()-e,...(0,om.Z_)()})}catch(e){e instanceof el.InvalidStateTransitionError?"loading"===o.status&&o.timer&&clearTimeout(o.timer):s({status:"error",error:e})}},0);s({status:"loading",id:n.id,timer:e})},[c,u,p,h,n,i,o,l,m,a]),o}(r,n,S,I,e.branchKey);"error"===C.status&&w(C.error);let[A,N]=(0,rV.fp)(_y);ep.useEffect(()=>{"loading"===A&&"loaded"===C.status&&N("loaded")},[A,N,C]);let O=ep.useCallback(e=>{e>=m.length?E(0):e<0?E(m.length-1):E(e)},[m,E]),R=ep.useCallback(e=>{O(m.findIndex(r=>r.id===e.id))},[m,O]),P=ep.useCallback(e=>{y(e),e[1].includes(S)||O(m.findIndex(r=>r.id===e[1][0].id))},[y,S,O,m]),L=ep.useCallback(()=>{let e=(g+1)%m.length,r=m[e];for(;e!==g&&n[r.id];)e=(e+1)%m.length,r=m[e];E(e)},[g,m,n,E]),D=ep.useCallback(()=>{O(g+1)},[O,g]),M=ep.useCallback(()=>{O(g-1)},[O,g]);if(ep.useEffect(()=>{let e=e=>{if(!document.activeElement)return;let r=!0;switch(e.keyCode){case sE.Uz.UP_ARROW:M();break;case sE.Uz.DOWN_ARROW:D();break;case sE.Uz.SPACE:L();break;default:r=!1}r&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[D,M,L]),T)throw T;return ep.createElement(ep.Fragment,null,ep.createElement(aV.FA,{className:"conflict_resolution--sidebar--OkHAW"},ep.createElement("div",{className:m$.jA},ep.createElement(yl,{conflictGroups:c,conflictGroupSections:h,picks:n,selectedConflict:S,selectConflict:R,setAllPicks:function(e){i(c.map(r=>({group:r,choice:e}))),I.current=null},selectedSection:_,setSelectedSection:P,viewOnly:d})),!d&&ep.createElement("div",{className:m$.P8},o&&!l?ep.createElement(eB.$$,{type:"submit",onClick:function(n){if(!b){v(!0);try{ov(av.Kn.FROM_SOURCE);let{nonConflictingSourceChunkGUIDs:i,nonConflictingBranchChunkGUIDs:o,identicalChunkGUIDs:s}=r;oT(i,a.concat(o).concat(s),eT.BtE.STAGE),e.onSubmit(n)}catch(e){w(new _E.s("Failed to set all picks from branch",{cause:e}))}}},className:m$.qU,disabled:d||b},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.confirm_picks"})):ep.createElement(eB.$$,{type:"submit",onClick:e.completeResolution,className:m$.qU,disabled:!e.hasPicksForAll||b},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.next"})))),ep.createElement(aV.nS,null,ep.createElement(ev.fu,{name:eD.e0.BRANCHING_CONFLICT_GROUP,properties:{conflictGroup:S.id,conflictGroupIdx:g,conflictGroupCount:c.length}},ep.createElement(_6,{loadingImages:"loading"===C.status,group:S,choice:n[S.id],fileName:e.fileName,branchName:e.branchName,showOptions:!1,chooseForConflict:function(e,r){i([{group:e,choice:r}]),L()},mainImages:"loaded"===C.status?C.mainImages:{},branchImages:"loaded"===C.status?C.branchImages:{},viewOnly:d}))))}),yf=ep.memo(function(e){var r,n,i;let a=(0,eJ.wA)(),{conflictDetection:o,isConflictDetectionLoading:s,checkpointDiff:l,displayGroups:d,chunks:c,modalCloseIntent:u}=e,[p,h]=ep.useState({}),[m,g]=ep.useState(!1),f=ep.useMemo(()=>((null==o?void 0:o.conflictGroups)||[]).every(e=>!!p[e.id]),[o,p]),_=ep.useMemo(()=>!l||!!s||o&&o.conflictGroups.length>0&&!m,[o,m,s,l]),y=ep.useMemo(()=>o8(d??[],(null==o?void 0:o.conflictGroups)||[],(null==o?void 0:o.identicalChunkGUIDs)||[]),[d,o]),E=(0,e2.kc)().branching_and_merging_debug??!1;ep.useLayoutEffect(()=>{u&&o&&o.conflictGroups.length>0&&!m&&(0,ex.sx)("Exit Conflict Resolution Early",{branchFileKey:e.branch.key,sourceFileKey:e.branch.source_file_key,fileRepoId:e.branch.file_repo_id,numConflicts:o.conflictGroups.length})},[u]);let b=ep.useContext(aV.ss),[v,S]=(0,rV.fp)(_y);ep.useEffect(()=>(S("loading"),()=>S("off")),[S]),(0,aV.tW)({isDoneLoading:"loaded"===v,direction:av.Kn.FROM_SOURCE,branchFileKey:e.branch.key,sourceFileKey:e.branch.source_file_key,fileRepoId:e.branch.file_repo_id,displayGroups:d??[],conflictGroups:(null==o?void 0:o.conflictGroups)||[],modalCloseIntent:u,branchModalTrackingId:b,entryPointDirection:e.entryPointDirection||av.Kn.FROM_SOURCE});let I=(0,sm.$n)();if(ep.useEffect(()=>{if(!E)return;let e="BranchPermissionsDebugger";return window[e]={logPermissions:function(){console.log(I)}},()=>{window[e]=void 0}},[I,E]),!l||s||!o)return ep.createElement(aV.qj,null,ep.createElement("div",{className:m$.FD},ep.createElement(si,{hasLoadedConflictDetection:!s,hasLoadedDiffs:!!l})));let[T,w]=aw()((null==o?void 0:o.conflictGroups)||[],e=>p[e.id]===av.Wo.BRANCH),C=aI()(T,e=>o7(e,av.Wo.BRANCH)),A=new Set(aI()(w,e=>o7(e,av.Wo.MAIN))),N=(d??[]).filter(e=>A.has(to.dI(e.displayChunk.mainChunk.displayNode.guid))),O=T.length===((null==o?void 0:o.conflictGroups)||[]).length,R={direction:av.Kn.FROM_SOURCE},P={fileKey:e.branch.key,fileRepoId:e.repo.id};return ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement(sp.tH,{fallback:ep.createElement("div",{className:m$.oW},ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.changes_cannot_be_safely_applied"})),ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.to_continue_the_update_you_can_try_restoring_the_branch_to_a_previous_version"})),ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.for_more_help_please_contact_figma_support",supportEmailLink:ep.createElement("a",{href:`mailto:${(0,e2.W4)()}`,target:"_blank",className:m$.Be},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.figma_support"}))})),ep.createElement(eB.$$,{onClick:()=>{a(o0({hideModal:!0,mergeParams:{branchKey:e.branch.key,sourceKey:e.branch.source_file_key,direction:av.Kn.FROM_SOURCE,branchModalTrackingId:b},userInitiated:!0,reason:"show_version_history"})),a(__({fileKey:e.branch.key}))}},ep.createElement(eb.Tx,{id:"collaboration.branching_from_source.show_version_history"}))),boundaryKey:"ConflictResolutionView",sentryTags:{"bm.branchingFailureType":av.PW.UNHANDLED}},_?ep.createElement(ev.fu,{name:eD.e0.BRANCHING_CONFLICT_RESOLUTION_MODAL,properties:{...P,...R}},ep.createElement(yg,{chunks:c,conflictDetection:o,picks:p,choosePicks:function(e){let r={};e.forEach(e=>{r[e.group.id]=e.choice}),h(e=>({...e,...r}))},fileName:null==(r=e.repo)?void 0:r.name,branchKey:null==(n=e.branch)?void 0:n.key,branchName:null==(i=e.branch)?void 0:i.name,branchPickGUIDs:C,hasPicksForAll:f,completeResolution:function(){oI(av.Kn.FROM_SOURCE),g(!0)},onSubmit:e.onSubmit({pendingMessage:(0,eb.t)("collaboration.branching_from_source.keeping_changes_on_branch"),successMessage:(0,eb.t)("collaboration.branching_from_source.changes_kept"),checkpointDiff:l,conflictResolutionDetails:{branchPickGroups:T.length,mainPickGroups:w.length,nonConflictingGroups:y.length}}),hasNonConflictDisplayGroups:y.length>0,pickedAllFromBranch:O,styleKeyToFileKey:e.styleKeyToFileKey??{},viewOnly:"enabled"!==I.updateBranch.status})):ep.createElement(ev.fu,{name:eD.e0.BRANCHING_UPDATE_FROM_MAIN_MODAL,properties:{...P,...R}},ep.createElement(_v,{conflictDetection:o,mainPickDisplayGroups:N,mainPickGUIDs:Array.from(A),branchPickGUIDs:C,didResolveConflicts:w.length>0||T.length>0,checkpointDiffKey:l.key,branchKey:e.branch.key,fromCheckpointKey:l.from_checkpoint_key,sourceKey:e.branch.source_file_key,uncompleteResolution:function(){oI(av.Kn.FROM_SOURCE),g(!1)},applyChanges:e.onSubmit({pendingMessage:(0,eb.t)("collaboration.branching_from_source.applying_changes_from_main_file"),successMessage:(0,eb.t)("collaboration.branching_from_source.changes_applied"),checkpointDiff:l,conflictResolutionDetails:{branchPickGroups:T.length,mainPickGroups:w.length,nonConflictingGroups:y.length}}),styleKeyToFileKey:e.styleKeyToFileKey??{},pickedAllFromBranch:O,nonConflictDisplayGroups:y,viewOnly:"enabled"!==I.updateBranch.status})))))}),y_=(e,r,n)=>{let i="enabled"===n.mergeBranch.status,a="enabled"===n.updateBranch.status;if(!i&&!a||!e)return!1;let o=e.buggedConflictingGUIDs.sort()||[],s=e.identicalChunkGUIDs.sort()||[],l=(0,eg.c2)(o,s);return o.length>0&&!l};function yy(e){return ep.createElement("div",{className:m$.DD},e.mergeDirection===av.Kn.TO_SOURCE&&ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.title_merge_to_source"}),e.mergeDirection===av.Kn.FROM_SOURCE&&!e.sourceCheckpointKey&&ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.title_merge_from_source"}),e.mergeDirection===av.Kn.FROM_SOURCE&&null!=e.sourceCheckpointKey&&ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.title_merge_from_source_version"}))}function yE({mergeDirection:e,sourceCheckpointKey:r,onClose:n,children:i,isCloseHidden:a}){let o=ep.createElement(yy,{mergeDirection:e,sourceCheckpointKey:r});return ep.createElement(iY.XV,{title:o,maxWidth:1056,minWidth:1056,fixedCenter:!0,disableClickOutsideToHide:!0,onClose:n,headerClassName:m$.wx,containerClassName:m$.jT,innerContainerClassName:m$.Hb,focus:!0,isCloseHidden:a},i)}function yb(){return ep.createElement("div",{className:m$.oW},ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.refresh_required"})),ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.refresh_required_description"})),ep.createElement(eB.$$,{onClick:()=>{tl.Ay.reload("cannot parse diff")}},ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.refresh_required_action"})))}function yv(e){return(0,sd.h)(()=>{(0,ex.sx)("Branching Error Modal Shown",{direction:e.mergeDirection},{forwardToDatadog:!0})}),ep.createElement(yE,{mergeDirection:e.mergeDirection,sourceCheckpointKey:e.sourceCheckpointKey,isCloseHidden:!0},ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement("div",{className:m$.aI},ep.createElement("div",{className:m$.v2},e.mergeDirection===av.Kn.FROM_SOURCE?ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.unexpected_error_from_source"}):ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.unexpected_error_to_source"})),ep.createElement("div",{className:m$.rU},ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.for_help_please_contact_figma_support",supportEmailLink:ep.createElement("a",{href:`mailto:${(0,e2.W4)()}`,target:"_blank",className:m$.Be},ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.figma_support"}))})),ep.createElement(eB.$$,{onClick:()=>tl.Ay.reload("cannot parse diff"),className:m$.kd},ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.refresh_required_action"}))))))}let yS=0;function yI(e){let r=(0,eJ.d4)(e=>e.fileVersion),n=(0,eJ.d4)(e=>e.currentUserOrgId),i=(0,eJ.wA)(),[a,o]=ep.useState(null),[s,l]=ep.useState(!1),[d,c]=ep.useState(!1),[u,p]=ep.useState(null),{diffInfo:h,clientUpdateRequired:m,error:g,imageDebugState:f}=oR(eT.sYL.BRANCH,e.branchKey,e.sourceKey,e.direction,r,n,0,e.sourceCheckpointKey??null,!0),{diffInfo:_,clientUpdateRequired:y,error:E}=oR(eT.sYL.SOURCE,e.branchKey,e.sourceKey,e.direction,r,n,0,e.sourceCheckpointKey??null,!1);ep.useEffect(()=>{(0,eC.F4)(eT.rCR.MERGE_MODAL)},[]),ep.useEffect(()=>{m&&c(m),g&&p(g),y&&c(y),E&&p(E)},[m,g,y,E]);let b=ep.useContext(aV.ss);return ep.useEffect(()=>{if(!s&&null!=_.styleKeyToFileKey&&null!=h.styleKeyToFileKey&&null==a){let r=e.sourceKey,n=e.branchKey;l(!0);try{let i=el.getConflicts({branchKey:n,sourceKey:r,branchModalTrackingId:b,direction:e.direction});o(i),l(!1)}catch(r){(0,aL.HJ)(r,av.PW.ON_MODAL_OPEN,e.direction),i(e3.F.enqueue({message:"An error occurred while calculating conflicts",error:!0}))}}},[_.styleKeyToFileKey,h.styleKeyToFileKey,a,s,i,e.branchKey,e.sourceKey,b,e.direction]),ep.createElement(yT,{sourceDiffInfo:_,branchDiffInfo:h,conflictDetectionInfo:a,clientUpdateRequired:d,error:u,branchKey:e.branchKey,sourceKey:e.sourceKey,direction:e.direction,backFileKey:e.backFileKey,sourceCheckpointKey:e.sourceCheckpointKey,unreadCommentCount:e.unreadCommentCount,imageDebugState:f})}function yT(e){var r,n,i,a,o;let s;let l=(0,eJ.wA)(),[d,c]=ep.useState(e.direction),u=e.direction,[p,h]=ep.useState(null),[m,g]=ep.useState(!1),f=(0,eJ.d4)(ac.tB),_=(null==f?void 0:f.key)||null,y=(0,nz.iZ)(),E=(0,eJ.d4)(e=>e.roles),b=(0,su.Rs)(ay._iU,{branchFileKey:e.branchKey}),v="loaded"===b.status?(null==(r=b.data.file)?void 0:r.openMergeRequest)??null:null,S="loaded"===b.status?(null==(i=null==(n=b.data.file)?void 0:n.fileMerges)?void 0:i.find(e=>!!e.mergeResultCheckpointId&&0===e.direction))??null:null,I=v?v.mergeRequest:S?S.mergeRequest:null,T=null==f?void 0:f.fileRepoId,w=null==y?void 0:y.id,C=w&&T&&(null==(a=E.byRepoId[T])?void 0:a[w]),A=!!(C&&C.level>sf.e6.VIEWER),N=(0,e2.kc)().internal_only_debug_tools??!1,O=(0,eJ.d4)(e=>e.mirror.appModel.topLevelMode),R=(0,sm.$n)(),P=ep.useRef(!0);ep.useEffect(()=>{P.current?P.current=!1:j()},[_]),ep.useEffect(()=>{l(sh.Q.clearAll())},[l]),ep.useEffect(()=>(window.addEventListener("wheel",D,{capture:!0,passive:!1}),()=>window.removeEventListener("wheel",D,{capture:!0})),[]),ep.useEffect(()=>{I&&l(iR.$T({view:"fullscreen",editorType:tB.nT.Design,fileKey:e.branchKey,reviewNumber:I.reviewNumber??void 0}))},[l,e.branchKey,I]),ep.useEffect(()=>{O===eA.lyf.BRANCHING||p||h({navigationKey:null,reason:"not_in_branching_mode"})},[O,p]);let L=(0,sc.Xr)(rW.q);ep.useEffect(()=>(L(!0),(0,ey.kF)("bm.isMergeModalOpen",!0),()=>{L(!1),(0,ey.kF)("bm.isMergeModalOpen",void 0)}),[L]);let D=e=>{(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation())},M=e.sourceDiffInfo.checkpointDiff||null,k=e.sourceDiffInfo.displayGroups||null,x=e.sourceDiffInfo.styleKeyToFileKey||null,F=e.sourceDiffInfo.chunks||null,U=e.branchDiffInfo.checkpointDiff||null,B=e.branchDiffInfo.displayGroups||null,V=e.branchDiffInfo.styleKeyToFileKey||null,H=(null==(o=e.branchDiffInfo)?void 0:o.chunks)||null,G=e.conflictDetectionInfo,W=e.clientUpdateRequired,z=e.error,K=null===G;ep.useEffect(()=>{M&&d===av.Kn.FROM_SOURCE&&M.to_checkpoint_key===M.from_checkpoint_key&&(0,aL.HJ)(Error("No changes from main"),av.PW.ON_MODAL_OPEN,av.Kn.FROM_SOURCE)},[M,d]),ep.useEffect(()=>{if(!N)return;let e="BranchMergeDebugger";return window[e]={logBranchChunks:function(e){console.log(e?null==H?void 0:H.find(r=>to.dI(r.displayNode.guid)===e):H)},logSourceChunks:function(e){console.log(e?null==F?void 0:F.find(r=>to.dI(r.displayNode.guid)===e):F)},logBranchDisplayGroups:function(e){console.log(e?null==B?void 0:B.find(r=>to.dI(r.displayChunk.mainChunk.displayNode.guid)===e):B)},logSourceDisplayGroups:function(e){console.log(e?null==k?void 0:k.find(r=>to.dI(r.displayChunk.mainChunk.displayNode.guid)===e):k)},logConflicts:function(){console.log(G)},logConflictGroups:function(e){let r=(null==G?void 0:G.conflictGroups)||[];console.log(e?r.find(r=>r.sourceChunks.find(r=>to.dI(r.displayNode.guid)===e)||r.branchChunks.find(r=>to.dI(r.displayNode.guid)===e)||r.secondaryBranchChunkGUIDs.find(r=>r===e)||r.secondarySourceChunkGUIDs.find(r=>r===e)):r)}},()=>{window[e]=void 0}},[H,F,B,k,G,N]),ep.useEffect(()=>{p&&(l(o0({hideModal:!0,mergeParams:{branchKey:e.branchKey,sourceKey:e.sourceKey,direction:d,branchModalTrackingId:yS},userInitiated:!0,reason:p.reason})),p.navigationKey&&p.navigationKey!==_?l(iR.$T({view:"fullscreen",fileKey:p.navigationKey,editorType:tB.nT.Design})):l(iR.$T({view:"fullscreen",editorType:tB.nT.Design,fileKey:e.branchKey,reviewNumber:void 0})))},[l,p]);let j=ep.useCallback((e,r)=>{p||h({navigationKey:e,reason:r||"unknown_reason"})},[p]);z&&((0,aL.HJ)(z,av.PW.ON_MODAL_OPEN,d),console.error(z),l(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_generic"),error:!0})),j(e.backFileKey,"useDiff_failed_with_error"));let Y=n4.M4.useFile(e.branchKey).data,$=(0,eJ.d4)(e=>e.repos[null==Y?void 0:Y.file_repo_id]),q=n4.M4.useFile(null==$?void 0:$.default_file_key).data,Z=(0,sg.ud)(),X=ep.useCallback(()=>{oI(d),c(av.Kn.FROM_SOURCE),el.updateBranchingStagerDirection(av.Kn.FROM_SOURCE)},[c,d]),J=ep.useCallback(r=>async n=>{let{pendingMessage:i,successMessage:a,checkpointDiff:o,conflictResolutionDetails:s,defaultSavepointParams:c}=r;if(m||!o)return;g(!0);let u={branchKey:e.branchKey,sourceKey:e.sourceKey,toCheckpointKey:null==o?void 0:o.to_checkpoint_key,fromCheckpointKey:null==o?void 0:o.from_checkpoint_key,direction:d,defaultSavepointParams:c};n.preventDefault(),await l(oQ({mergeParams:u,checkpointDiff:o,pendingMessage:i,successMessage:a,conflictResolutionDetails:s,user:y,imageDebugState:e.imageDebugState,branchModalTrackingId:yS}))},[l,d,e.branchKey,e.sourceKey,m,y,e.imageDebugState]),Q=ep.useCallback(()=>{j(e.backFileKey,"user_closed_modal")},[j,e.backFileKey]),ee=y_(G,d,R),et=d===av.Kn.TO_SOURCE?ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.banner_review_conflicts"}):ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.banner_resolve_conflicts"});return W?(0,e2.kc)().branching_error_boundary?ep.createElement(yv,{mergeDirection:d,sourceCheckpointKey:e.sourceCheckpointKey}):ep.createElement(yE,{mergeDirection:d,sourceCheckpointKey:e.sourceCheckpointKey,onClose:Q},ep.createElement(aV.qj,null,ep.createElement(aV.wy,null,ep.createElement(ev.fu,{name:eD.e0.BRANCHING_REFRESH_REQUIRED,properties:{fileKey:Y.key,fileRepoId:Y.file_repo_id}},ep.createElement(yb,null))))):ep.createElement(yE,{mergeDirection:d,sourceCheckpointKey:e.sourceCheckpointKey,onClose:Q},ep.createElement(sp.tH,{fallback:ep.createElement("div",{className:m$.oW},ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.error"})),ep.createElement("p",null,ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.error_solution"}))),boundaryKey:"BranchMergeModalInner",sentryTags:{"bm.branchingFailureType":av.PW.UNHANDLED}},ee&&ep.createElement(ev.fu,{name:eD.e0.BRANCHING_CONFLICTING_GUIDS_BUG,properties:{fileKey:Y.key,fileRepoId:Y.file_repo_id,numToRemap:null==G?void 0:G.buggedConflictingGUIDs.length}},ep.createElement(hS,{isLoading:K,text:et,button:d===av.Kn.TO_SOURCE?(s=ep.createElement(eb.Tx,{id:"collaboration.branching_merge_modal.button_review_conflicts"}),ep.createElement(eB.$$,{className:hy,onClick:X},s)):ep.createElement(ep.Fragment,null)})),d===av.Kn.TO_SOURCE&&ep.createElement(m5,{branchKey:e.branchKey,onSubmit:J,openFile:j,displayGroups:B,checkpointDiff:U,hasSourceDiffLoaded:!!M,isConflictDetectionLoading:K,hasDuplicateConflictingGuids:ee,isMergeBlocked:(null==G?void 0:G.isMergeRequired)||!1,isEditorOnRepo:A,conflictGroups:(null==G?void 0:G.conflictGroups)??null,onSwitchToUpdateFromMain:X,styleKeyToFileKey:V,onCloseModal:Q,branch:Y,repo:$,source:q,openFileKey:_,fileKeyToFile:Z,modalCloseIntent:p,openMergeRequest:v,mergeRequest:I,fileMerge:S,unreadCommentCount:e.unreadCommentCount}),d===av.Kn.FROM_SOURCE&&ep.createElement(yf,{repo:$,branch:Y,chunks:F??[],displayGroups:k,checkpointDiff:M,conflictDetection:G,isConflictDetectionLoading:K,onSubmit:J,styleKeyToFileKey:x,modalCloseIntent:p,entryPointDirection:u})))}let yw=(0,iK.Ju)(function(e){return(0,sd.h)(()=>((0,ex.sx)("Branch Modal Opened",{branchKey:e.branchKey,sourceKey:e.sourceKey,direction:e.direction,branchModalTrackingId:yS,read_only:e.readOnly,...(0,om.Z_)()}),()=>{yS++})),ep.createElement(aV.ss.Provider,{value:yS},ep.createElement(yI,{...e}))},"BranchMergeModalWithDeferredConflicts",iK.ZU.YES);var yC=n(39423),yA=n(13695);function yN(e){return e.isRenaming?ep.createElement(yA.p,{className:`renamable_title--renameInput--kVdEz text--fontPos13--xW8hS text--_fontBase--QdLsd ${e.className||""}`,placeholderValue:e.placeholderValue,submit:e.submitTitle,cancel:e.cancelTitle}):ep.createElement("div",{className:`renamable_title--title--Z-8GR text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa ${e.className||""}`,onClick:e.onClick},e.title)}var yO=n(66206);let yR=(0,t1.nF)(async(e,r)=>{let n={key:r.branch.key,name:r.name,updated_at:new Date().toISOString()},i=eE.Ay.put(`/api/files/${r.branch.key}`,n);await (0,ef.WB)().optimisticallyUpdate({File:{[r.branch.key]:{key:r.branch.key,_name:r.name}}},i).catch(r=>{let n=r.data.message||(0,eb.t)("collaboration.branching.an_error_occurred_while_renaming_this_file");e.dispatch(ih.s.error(n))}),(0,eS.E9)("File Renamed",r.branch,{fileName:r.name})}),yP=(0,t1.nF)(async(e,r)=>{let n=eE.Ay.post("/api/files_batch/restore",{files:r.branches.map(e=>({key:e.key})),batch_fail_on_file_limit:!0}),i={File:{}};r.branches.forEach(e=>{let r={key:e.key,trashedAt:void 0};i.File[e.key]=r});try{let a=await (0,ef.WB)().optimisticallyUpdate(i,n);if(207===a.status){try{let r=a.data;e.dispatch(ih.s.error(r.message))}catch(n){e.dispatch(ih.s.error((0,eb.t)("collaboration.branching.error_restoring_branches",{branchCount:r.branches.length})))}return}e.dispatch(e3.F.enqueue({type:"file_restored",message:(0,eb.t)("collaboration.branching.branches_restored",{branchCount:r.branches.length})}))}catch({response:n}){try{let r=JSON.parse(n);e.dispatch(ih.s.error(r.message))}catch(n){e.dispatch(ih.s.error((0,eb.t)("collaboration.branching.error_restoring_branches",{branchCount:r.branches.length})))}}(0,eS.pf)("File Restored",r.branches)}),yL=(0,t1.nF)(async(e,r)=>{let n=eE.Ay.del("/api/files_batch",{files:r.branches.map(e=>({key:e.key})),trashed:r.trashed}),i={File:{}},a=new Date;r.branches.forEach(e=>{let n={key:e.key};r.trashed?n.trashedAt=a:n.deletedAt=a,i.File[e.key]=n});try{let a=await (0,ef.WB)().optimisticallyUpdate(i,n);if(207===a.status){try{let r=JSON.parse(a.response);e.dispatch(ih.s.error(r.message))}catch(r){e.dispatch(ih.s.error((0,eb.t)("collaboration.branching.an_error_occurred_while_deleting_these_files")))}return}let o={text:(0,eb.t)("collaboration.branching.undo_archive"),action:()=>{(0,yO.vA)(r.trashed,"undoDelete was called after deleteBranches(trashed: false) which should be impossible"),e.dispatch(yP({branches:r.branches})),e.dispatch(e3.F.dequeue({}))}};e.dispatch(e3.F.enqueue({type:"file_deleted",message:r.trashed?(0,eb.t)("collaboration.branching.branch_archived"):(0,eb.t)("collaboration.branching.branch_deleted"),button:r.trashed?o:void 0}))}catch({response:n}){try{let r=JSON.parse(n);e.dispatch(ih.s.error(r.message))}catch(n){e.dispatch(ih.s.error(r.trashed?(0,eb.t)("collaboration.branching.error_archiving_branches",{branchCount:r.branches.length}):(0,eb.t)("collaboration.branching.error_deleting_branches",{branchCount:r.branches.length})))}}let o=r.trashed?"File Trashed":"File Deleted";(0,eS.pf)(o,r.branches)});var yD=n(92542);function yM(e){return ep.createElement(ev.fu,{name:eD.e0.BRANCH_DELETE_CONFIRM_MODAL},ep.createElement(o$.Rw,{destructive:!0,confirmationTitle:(0,eb.t)("file_browser.delete_branch_forever.title"),confirmText:(0,eb.t)("file_browser.delete_branch_forever.confirm_text"),onConfirm:e.onConfirm},ep.createElement(eb.Tx,{id:"file_browser.delete_forever.warning",fileName:ep.createElement("span",{className:oq.Vq},e.fileName)}),ep.createElement("br",null)," ",ep.createElement("br",null),ep.createElement(eb.Tx,{id:"file_browser.cant_undo"})))}yM.displayName="BranchDeleteConfirmModal";let yk=(0,iK.Ju)(yM,"BranchDeleteConfirmModal",iK.ZU.YES),yx=(e,r)=>e?[r]:[];function yF(e){let r=ep.createElement("div",{className:"branch_row--subtitleUsername---eghJ text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.user.handle||""),n=ep.useMemo(()=>ep.createElement(sN.h1,{date:e.touchedAt}),[e.touchedAt]);return e.isMain||!e.isArchived?ep.createElement(eb.Tx,{id:"collaboration.branching.edited",userHandle:r,relativeTimestamp:n}):e.isMerged?ep.createElement(eb.Tx,{id:"collaboration.branching.merged_v2",userHandle:r,relativeTimestamp:n}):ep.createElement(eb.Tx,{id:"collaboration.branching.archived_v2",userHandle:r,relativeTimestamp:n})}function yU(e){let r=(0,eJ.wA)(),n=`branch-row-${e.branch.key}`,i=(0,eJ.d4)(e=>{var r;return(null==(r=e.dropdownShown)?void 0:r.type)===n}),a=(0,eJ.d4)(e=>{var r,n;return!!(null==(n=null==(r=e.dropdownShown)?void 0:r.data)?void 0:n.contextClick)}),o=(0,eJ.d4)(e=>{var r,n;return null==(n=null==(r=e.dropdownShown)?void 0:r.data)?void 0:n.targetRect}),s=ep.useRef(null),[l,d]=ep.useState(!1),{branch:c}=e,u=!e.isMain&&!e.isArchived&&c.canManage,p=!e.isMain&&e.isArchived&&c.canManage&&(!e.isMerged||!!(0,e2.kc)().branching_restore_branches),h=!e.isMain&&e.isArchived&&c.canManage,m=!e.isMain&&!e.isArchived&&c.canEdit,g=[...yx(u,ep.createElement(mc.W.OptionTracked,{key:"archive",onClick:()=>{r(yL({branches:[e.branch],trashed:!0}))},trackingProperties:{fileKey:e.branch.key,fileRepoId:e.branch.fileRepoId}},ep.createElement(eb.Tx,{id:"collaboration.branching.archive"}))),...yx(p,ep.createElement(mc.W.Option,{key:"restore",onClick:()=>{r(yP({branches:[e.branch]}))}},ep.createElement(eb.Tx,{id:"collaboration.branching.restore"}))),ep.createElement(mc.W.Option,{key:"copy-link",onClick:()=>{r(af.S({fileKey:e.branch.key,url:(0,aL.By)(e.branch,e.repo,"file").href,source:yD.d.FULLSCREEN_BRANCH}))}},ep.createElement(eb.Tx,{id:"collaboration.branching.copy_link"})),...yx(h,ep.createElement(mc.W.Option,{key:"delete",onClick:()=>{r(rH.to({type:yk,data:{fileName:e.branch.name,onConfirm:()=>r(yL({branches:[e.branch],trashed:!1}))}}))}},ep.createElement(eb.Tx,{id:"collaboration.branching.delete"}))),...yx(m,ep.createElement(mc.W.Option,{key:"rename",onClick:()=>{d(!0)}},ep.createElement(eb.Tx,{id:"collaboration.branching.rename"})))];return ep.createElement("div",{className:`branch_row--container--MD7zC ${e.isSelected?"branch_row--selected--qBm47":""}`,onContextMenu:e=>{if(e.preventDefault(),e.stopPropagation(),i)r(iR.oB());else{let i={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:0,height:0};r(iR.j7({type:n,data:{targetRect:i,contextClick:!0}}))}}},ep.createElement("div",{className:"branch_row--mainColumn--88gdl"},ep.createElement("div",{className:"branch_row--titleRow--Ckvrd text--fontPos12--YsUAh text--_fontBase--QdLsd"},ep.createElement(yN,{className:"branch_row--title--3n9K0 ellipsis--ellipsis--Tjyfa",isRenaming:l,submitTitle:n=>{d(!1),r(yR({branch:e.branch,name:n}))},cancelTitle:()=>{d(!1)},placeholderValue:e.name,title:e.name}),e.isCurrentBranch&&!l&&ep.createElement("span",{className:"branch_row--currentBranchIndicator--78nIx"},ep.createElement(eb.Tx,{id:"collaboration.branching.current_branch"})),!l&&ep.createElement("div",{className:"branch_row--branchStatus--FFzmU"},ep.createElement(sV.a$,{branchFileKey:e.branch.key,size:sC.vj.SMALL}))),e.isLoadingActivity?ep.createElement("div",{className:"branch_row--activityLoading--OM839"}):e.user&&ep.createElement(function(e){return ep.createElement("div",{className:"branch_row--subtitleRow--VZQWb"},ep.createElement(mv.Ro,{entity:e.user,size:12}),ep.createElement("div",{className:"branch_row--subtitleActivity--c-22X"},ep.createElement(yF,{user:e.user,isMain:e.isMain,isMerged:e.isMerged,isArchived:e.isArchived,touchedAt:e.touchedAt})))},{user:e.user,isMain:e.isMain,isMerged:e.isMerged,isArchived:e.isArchived,touchedAt:e.touchedAt})),ep.createElement("div",{className:"branch_row--buttonColumn--UJ-mZ"},!e.isCurrentBranch&&ep.createElement(eB.nR,{onClick:()=>{r(rH.Ce()),r(iR.$T({view:"fullscreen",fileKey:e.branch.key,editorType:tB.nT.Design})),(0,ex.sx)("Open File Click",{fileKey:e.branch.key,source:eD.e0.BRANCHES_MODAL,fileRepoId:e.branch.fileRepoId})}},ep.createElement(eb.Tx,{id:"collaboration.branching.open"}))),ep.createElement("div",{className:"branch_row--menuColumn--XSWVZ"},ep.createElement(f0.YW,{svg:mM.A,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),i)r(iR.oB());else{let e=s.current;r(iR.j7({type:n,data:{targetRect:(null==e?void 0:e.getBoundingClientRect())||null,contextClick:!1}}))}},"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.branching.options"),ref:s,selected:i&&!a})),i&&ep.createElement(mf.Cf,{targetRect:o,showPoint:!a,lean:a?"right":"left",leanPadding:a?0:-1,maxWidth:140,minWidth:140,disableDropdownScrollContainer:!0,propagateCloseClick:!0},g))}class yB extends l4.uA{constructor(e){super(e),this.styleOverrides=()=>({}),this.applyDefaultStyles=()=>!0,this.onClick=l4.cZ(this,"click",()=>{this.props.onClick&&this.props.onClick(this.props.tab)}),this.onMouseEnter=e=>{if(!this.props.onlyShowTooltipsWhenTruncated)return;let r=e.target;r.offsetWidth<r.scrollWidth?this.state.showTooltip||this.setState({showTooltip:!0}):this.state.showTooltip&&this.setState({showTooltip:!1})},this.state={showTooltip:!0}}render(){let e=this.applyDefaultStyles()?"tab--base--26PPx text--fontPos13--xW8hS text--_fontBase--QdLsd":"",r=this.styleOverrides().base,n=this.applyDefaultStyles()?"tab--unselected--u-2SW":"",i=this.styleOverrides().unselected;return this.props.disabled?this.props.tooltipText&&this.props.showTooltipWhenDisabled?(n=this.applyDefaultStyles()?"tab--disabledWithTooltip--2QX3R":"",i=this.styleOverrides().disabledWithTooltip):(n=this.applyDefaultStyles()?"tab--disabled--eOpvQ tab--disabledWithTooltip--2QX3R":"",i=this.styleOverrides().disabled):this.props.selectedTab===this.props.tab&&(n=this.applyDefaultStyles()?"tab--selected--u0OBe":"",i=this.styleOverrides().selected),ep.createElement("button",{"data-onboarding-key":this.props["data-onboarding-key"],className:`${e} ${r||""} ${n} ${i||""}`,onClick:this.onClick,onMouseEnter:this.props.onlyShowTooltipsWhenTruncated?this.onMouseEnter:void 0,"data-testid":this.props.dataTestId,"data-tooltip-type":iL.Ib.TEXT,"data-tooltip":this.state.showTooltip?this.props.tooltipText:void 0,"data-text":this.props.dataText},this.props.children)}}yB.displayName="Tab";var yV=(($=yV||{}).ACTIVE="active",$.YOURS="yours",$.ARCHIVED="archived",$);class yH extends yB{constructor(){super(...arguments),this.styleOverrides=()=>({base:"branches_modal--tabBase--cnVo0 text--fontPos12--YsUAh text--_fontBase--QdLsd",unselected:"branches_modal--tabUnselected--JOjhO",selected:"branches_modal--tabSelected--VZZyz"}),this.applyDefaultStyles=()=>!1}}function yG(e){return ep.createElement("div",{className:"branches_modal--emptyState---0H-Z"},e.text)}function yW(e){var r;let n=e.fileVersions.filter(e=>!e.user.isSystemUser).find(e=>7!==e.view);if(n){let i=n.checkpoint&&i_.A.utc(null==(r=n.checkpoint)?void 0:r.createdAt).toDate();return{file_key:e.key,user:n.user,is_merged:10===n.view,created_at:i&&i>n.updatedAt?i:n.updatedAt}}return{file_key:e.key,created_at:e.createdAt,user:e.creator,is_merged:!1}}function yz(){let e=(0,eJ.wA)(),r=ep.useCallback(()=>{e(rH.Ce())},[e]),[n,i]=ep.useState("active"),[a,o]=ep.useState(null),s=ep.useMemo(()=>({selectedTab:n,onClick:i}),[n,i]),l=(0,eJ.d4)(ac.sS),d=(0,eJ.d4)(ac.tB),c=(0,nz.iZ)(),u=(0,sm.$n)(),p=function(e){let r=(0,su.Rs)(ay.op7,{repoId:e},{enabled:null!==e}),n=ep.useMemo(()=>{var n;if("loaded"!==r.status||!e)return[];let{repo:i}=r.data;return((null==(n=r.data.repo)?void 0:n.files)||[]).filter(e=>i&&!(0,aL.Ns)(e,i)).map(e=>({...e,name:e._name||(0,eb.t)("fullscreen.filename_view.title_placeholder")}))},[r,e]),i=ep.useMemo(()=>{let e=n.map(yW)||[],r={};return e.filter(e=>!!e).forEach(e=>r[null==e?void 0:e.file_key]=e),r},[n]),a=ep.useMemo(()=>n.filter(e=>!e.deletedAt),[n]),o=ep.useMemo(()=>{let e=[...a];return e.sort((e,r)=>r.updatedAt.valueOf()-e.updatedAt.valueOf()),e},[a]),s=ep.useMemo(()=>o.filter(e=>{var r;return(null==(r=e.roleOnObjectForUser)?void 0:r.isOwnerOfResource)===!0}),[o]),l=ep.useMemo(()=>o.filter(e=>!(0,aL.ci)(e)),[o]),d=ep.useMemo(()=>o.filter(e=>(0,aL.ci)(e)),[o]);return ep.useMemo(()=>"loaded"!==r.status?r:{status:"loaded",errors:null,data:{activeBranches:l,archivedBranches:d,ownBranches:s,branchActivityByKey:i,repo:r.data.repo}},[r,l,d,s,i])}((null==d?void 0:d.fileRepoId)||""),h=ep.useMemo(()=>"loaded"===p.status?p.data.repo:null,[p]),m=ep.useMemo(()=>"loaded"===p.status?p.data.branchActivityByKey:{},[p]),{selectedBranches:g,emptyStateText:f}=ep.useMemo(()=>{switch(n){case"active":return{emptyStateText:ep.createElement(eb.Tx,{id:"collaboration.branching_modal.tab_active_empty_state"}),selectedBranches:"loaded"===p.status?p.data.activeBranches:[]};case"yours":return{emptyStateText:ep.createElement(eb.Tx,{id:"collaboration.branching_modal.tab_yours_empty_state"}),selectedBranches:"loaded"===p.status?p.data.ownBranches:[]};case"archived":return{emptyStateText:ep.createElement(eb.Tx,{id:"collaboration.branching_modal.tab_archived_empty_state"}),selectedBranches:"loaded"===p.status?p.data.archivedBranches:[]};default:(0,eh.xb)(n)}},[n,p]),_=ep.useMemo(()=>g.length<1,[g]),y="enabled"===u.createBranch.status,E=ep.useMemo(()=>g.filter(e=>!!h&&!(0,aL.Ns)(e,h)).map(e=>{let r=m[e.key];return ep.createElement(yU,{branch:e,key:e.key,name:e.name,user:null==r?void 0:r.user,touchedAt:null==r?void 0:r.created_at,repo:h,setSelected:()=>o(e.key),isSelected:a===e.key,isMain:!1,isArchived:!!e.trashedAt,isMerged:!!(null==r?void 0:r.is_merged),isCurrentBranch:l===e.key,isLoadingActivity:"loading"===p.status})}),[g,m,h,l,a,o,p.status]);return d&&c?ep.createElement(ev.fu,{name:eD.e0.BRANCHES_MODAL,properties:{fileRepoId:d.fileRepoId,fileKey:d.key}},ep.createElement(iY.XV,{onClose:r,closeOnEsc:!0,title:ep.createElement(eb.Tx,{id:"collaboration.branching_modal.title"}),headerClassName:"branches_modal--modalHeader--K6Htk text--fontPos14--OL9Hp text--_fontBase--QdLsd",containerClassName:"branches_modal--modalContainer--G1li4"},ep.createElement("div",{className:"branches_modal--tabs--HaRSo"},ep.createElement(yH,{...s,tab:"active"},ep.createElement(eb.Tx,{id:"collaboration.branching_modal.tab_active"})),ep.createElement(yH,{...s,tab:"yours"},ep.createElement(eb.Tx,{id:"collaboration.branching_modal.tab_yours"})),ep.createElement(yH,{...s,tab:"archived"},ep.createElement(eb.Tx,{id:"collaboration.branching_modal.tab_archived"})),y&&ep.createElement(f0.K0,{className:"branches_modal--addButton--aBvsW","data-tooltip-type":iL.Ib.TEXT,"data-tooltip":(0,eb.t)("collaboration.branching_modal.create_branch_tooltip"),svg:mW.A,fallbackSvg:f9.A,onClick:()=>{d&&e(yC.lY({trackingContextName:eD.e0.FILE_BROWSER,sourceFileKey:d.key,dispatchedFromEditor:!0}))}})),ep.createElement(sO.P,{className:"branches_modal--scrollContainer--Movwc"},_?ep.createElement(yG,{text:f}):ep.createElement("div",{className:"branches_modal--rows--SzwyN"},E)))):null}yz.displayName="BranchesModal";let yK=(0,iK.Ju)(yz,"BranchesModal");var yj=n(25698),yY=n.n(yj);let y$={0:"file_copy",1:"file_edit",2:"file_create",3:"file_default",4:"file_restore",5:"file_multiplayer",6:"file_savepoint",7:"branch_child_create",8:"branch_child_merge",9:"branch_create",10:"branch_merge",11:"branch_update",12:"branch_archive",13:"branch_restore"};function yq(e){return y$[e]??"file_default"}let yZ=(0,iK.Ju)(function({sourceKey:e,currentFileKey:r,onCheckpointSelected:n}){let i=(0,eJ.wA)(),a=(0,su.Rs)(ay.Stx,{fileKey:e}),[o,s]=ep.useState(void 0);ep.useEffect(()=>{t7.S.getSourceCheckpointCreatedAt({currentFileKey:r}).then(({data:e})=>{s(new Date(e.created_at))}).catch(e=>{i(ih.s.error("Unable to load file versions"))})},[r,s,i]);let[l,d]=ep.useState(null),c="loading"===a.status||void 0===o,u=[];if("loaded"===a.status){let{file:e}=a.data;e&&(u=e.fileVersions)}let p=u.filter(e=>{var r,n;return!(c||!(null==(r=e.checkpoint)?void 0:r.createdAt)||new Date(null==(n=e.checkpoint)?void 0:n.createdAt)<=o)}),h=yY()(p,["updatedAt"],["desc"]),m=h.map((e,r)=>{var n,i,a;let o=r===h.length-1,s=yq(e.view),c={user:e.user,label:e.label||void 0,view:s},u=_a(c);return ep.createElement(_l,{key:e.id,versionId:e.id,text:u,displayText:ep.createElement(_o,{item:c}),label:e.label||void 0,user:(null==(n=e.user)?void 0:n.name)||void 0,view:s,time:e.updatedAt,userUrl:e.label&&(null==(i=e.user)?void 0:i.imgUrl)||null,first:!1,last:o,isLinked:!1,showAutosaves:!0,isBranchingVersion:null==(a=yq(e.view))?void 0:a.startsWith("branch"),isActive:l===e,onSelect:()=>d(e),isAllowedToChangeVersion:()=>!0,dispatch:sK.lQ,editorType:null})}),g=ep.createElement(_l,{versionId:"current_version",text:"Latest version",displayText:ep.createElement(eb.Tx,{id:"collaboration.feedback.incremental_update_modal.latest_version"}),label:"Latest version",view:"file_default",userUrl:null,first:!0,last:!1,isLinked:!0,isActive:"latest"===l,onSelect:()=>d("latest"),isAllowedToChangeVersion:()=>!0,dispatch:sK.lQ,editorType:null});return ep.createElement(iY.Eo,{title:(0,eb.t)("collaboration.feedback.incremental_update_modal.title"),maxWidth:528,minWidth:528,fixedCenter:!0,onClose:()=>{i(rH.Ce())},onConfirm:()=>{var e;if(null===l)return;let r="latest"===l?"latest":null==(e=l.checkpoint)?void 0:e.key;r&&n(r)},focus:!0,disabled:null===l,confirmText:(0,eb.t)("collaboration.feedback.incremental_update_modal.confirm")},ep.createElement(sW.x,{isLoading:c},()=>ep.createElement("div",{className:"incremental_update_modal--container--EpZfV"},g,m)))},"IncrementalUpdateModal",iK.ZU.YES);(0,t1.nF)(async(e,r)=>{try{let n=await t7.S.getSourceFileUpdatedInfo({branchFileKey:r.branchFileKey});e.dispatch(af.yJ({file:n.data.meta.source}))}catch(e){console.error("Error fetching source file")}});let yX=(0,t1.nF)(async(e,r)=>{if(e.getState().mirror.appModel.topLevelMode!==eT.lyf.BRANCHING){if(ts.Y5.triggerAction("enter-branching-mode"),ts.Y5.triggerAction("show-design-panel"),await (0,a_.oJ)(eT.kul.JOINED),r.force){e.dispatch(rH.to({type:sl,data:{branchKey:r.branchKey,sourceKey:r.sourceKey,direction:r.direction,backFileKey:r.backFileKey}}));return}e.dispatch(rH.to({type:yw,data:{branchKey:r.branchKey,sourceKey:r.sourceKey,direction:r.direction,backFileKey:r.backFileKey,sourceCheckpointKey:r.sourceCheckpointKey,unreadCommentCount:r.unreadCommentCount,readOnly:r.readOnly}}))}}),yJ=(0,t1.nF)(async(e,r)=>{var n,i,a,o;let s=e.getState(),{openFile:l}=s;if(!l)return;await (0,aE.wY)();let[d,c]=await Promise.all([(0,ef.Ek)(ay.dDF,{key:r.branchKey}),(0,ef.Ek)(ay.dDF,{key:r.sourceKey})]),u=[];if(null==(i=null==(n=d.data)?void 0:n.file)?void 0:i.hasPermission){let n=r.branchKey===l.key;u.push((0,ab.m)(r.branchKey,"","",e.dispatch,n))}if(null==(o=null==(a=c.data)?void 0:a.file)?void 0:o.hasPermission){let n=r.sourceKey===l.key;u.push((0,ab.m)(r.sourceKey,"","",e.dispatch,n))}if(u.length>0){e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.saving_file"),type:"file-merge-save",icon:t0.zX.SPINNER}));try{await Promise.all(u),e.dispatch(e3.F.dequeue({matchType:"file-merge-save"}))}catch{e.dispatch(e3.F.dequeue({matchType:"file-merge-save"})),e.dispatch(e3.F.enqueue({message:(0,eb.t)("collaboration.branching.error_saving_file"),error:!0}));return}}let p={branchKey:r.branchKey,sourceKey:r.sourceKey,direction:r.direction,force:r.force,sourceCheckpointKey:r.sourceCheckpointKey,unreadCommentCount:r.unreadCommentCount,readOnly:s.mirror.appModel.isReadOnly};e.dispatch(yX(p))}),yQ=(0,t1.nF)((e,{direction:r,trackingContextName:n,force:i,sourceCheckpointKey:a,unreadCommentCount:o})=>{let s=e.getState(),l=(0,i8.d1)(s);l&&l.source_file_key&&(e.dispatch(yJ({branchKey:l.key,sourceKey:l.source_file_key,direction:r,force:i,sourceCheckpointKey:a,unreadCommentCount:o})),r===av.Kn.FROM_SOURCE&&(0,ex.sx)("Branch Update From Main Clicked",{trackingContext:n,fileKey:l.key,fileRepoId:l.file_repo_id,sourceCheckpointKey:a}))}),y0=(0,t1.nF)(e=>{let{openFile:r}=e.getState();r&&r.sourceFileKey&&r.sourceCheckpointId&&e.dispatch(rH.to({type:yZ,data:{sourceKey:r.sourceFileKey,currentFileKey:r.key,onCheckpointSelected:r=>{e.dispatch(yQ({direction:av.Kn.FROM_SOURCE,trackingContextName:eD.e0.BRANCHING_UPDATE_FROM_VERSION_MODAL,sourceCheckpointKey:"latest"===r?void 0:r}))}}}))}),y1=(0,t1.nF)((e,{trackingContextName:r})=>{let n=e.getState().openFile;if(!n||!n.sourceFile)return;let i=n.sourceFile;e.dispatch(iR.$T({view:"fullscreen",fileKey:i.key,editorType:tB.nT.Design})),(0,ex.sx)("Open File Click",{trackingContext:r,fileKey:i.key,fileRepoId:i.fileRepoId})}),y2=(0,t1.nF)((e,{trackingContextName:r})=>{let n=e.getState(),i=(0,i8.d1)(n);i&&(e.dispatch(rH.to({type:yK})),(0,ex.sx)("View Branches Clicked",{trackingContext:r,fileKey:i.key,fileRepoId:i.file_repo_id}))});var y3=n(55513),y5=n(16398),y4=n(75847),y6=n(66313),y8=n(69870),y7=n(78466),y9=n(1888);function Ee(e){return e_.Ay.mac&&"ar-SY"===e?"ars":e_.Ay.mac&&"en-US"===e?"en":e_.Ay.mac?e.replace("-","_"):e}let Et=["your","you're","lose","were","we're"];function Er(e,r){return e_.Ay.mac?r.filter(r=>!Et.includes(e.substring(r.start,r.end).toLowerCase())):r}async function En(){try{let{data:e}=await (0,y9.rO)("/spelling/get-languages");if(Array.isArray(e.result))return e.result}catch(e){}return[]}async function Ei(e,r){0!==e.length&&await (0,y9.vH)("/spelling/ignore-words",{words:e,language:r},"application/json")}async function Ea(){try{let{data:e}=await (0,y9.rO)("/spelling/get-languages");if(Array.isArray(e.result))return!0}catch(e){}return!1}async function Eo(){return!!await Ea()}class Es{constructor(){this.name="agent",this.language=""}async initialize(e,r){return this.setLanguage(e),await Ei(r,this.language)}async spellCheckText(e){let{data:r}=await (0,y9.vH)("/spelling/check",{text:e,language:this.language},"application/json");return Array.isArray(r.result)?Er(e,r.result):[]}async getSuggestionsForWord(e){let{data:r}=await (0,y9.vH)("/spelling/suggest",{text:e,language:this.language},"application/json");return!!Array.isArray(r.result)&&r.result}async setLanguage(e){return this.language=Ee(e),!0}async addWords(e){return await Ei(e,this.language)}}async function El(){if(aO.eD){let e=await aO.eD.spellingGetLanguages();return(0,ey.Lo)("Desktop app spellcheck support check","spellingGetLanguages",{type:typeof e,isArray:Array.isArray(e),isNull:null===e,isUndefined:void 0===e}),!!e}return!1}class Ed{constructor(){this.name="Desktop",this.language=""}async initialize(e,r){this.setLanguage(e),await aO.eD.spellingIgnore(r||[])}async getSuggestionsForWord(e){return await aO.eD.spellingSuggest(e,this.language)}async spellCheckText(e){let r=await aO.eD.spellingCheckSpelling(e,this.language);return Er(e,r)}async setLanguage(e){return this.language=Ee(e),!0}async addWords(e){await aO.eD.spellingIgnore(e,this.language)}}let Ec=new class{constructor(){this.SpellCheckWordsSchemaValidator=(0,tm.vh)()}getSpellCheckWords(){return this.SpellCheckWordsSchemaValidator.validate(async({xr:e})=>await e.get("/api/spell-check-words"))}},Eu="auto",Ep={"en-US":{dicURL:"https://figma.com/figma-spell-check-dictionaries/en_US_87b793e804079be9980473b9e9f4e75b.dic.gz",affURL:"https://figma.com/figma-spell-check-dictionaries/en_US_eaae9bae63b305440b412a48e1653a26.aff.gz"},"en-GB":{dicURL:"https://figma.com/figma-spell-check-dictionaries/en_GB_729537dc2b007c0e2b4fb1804516d703.dic.gz",affURL:"https://figma.com/figma-spell-check-dictionaries/en_GB_e8f2d38522a8a4ccf48dc814b4926a77.aff.gz"},"en-CA":{dicURL:"https://figma.com/figma-spell-check-dictionaries/en_CA_4c0d7bf95c46a2dfb12c10e48d2177c2.dic.gz",affURL:"https://figma.com/figma-spell-check-dictionaries/en_CA_eaae9bae63b305440b412a48e1653a26.aff.gz"},ru:{dicURL:"https://figma.com/figma-spell-check-dictionaries/ru_RU_4a8ee657162e6bde9ce7cbd8b4245459.dic.gz",affURL:"https://figma.com/figma-spell-check-dictionaries/ru_RU_f6c36a57e345fcdf76f8dccf598434c2.aff.gz"}};async function Eh(e){await new Promise(r=>setTimeout(r,e))}async function Em(e,r=500,n=5e3){let i=performance.now();for(;e();)if(await Eh(r),performance.now()-i>=n)throw Error("max sleep time reached")}var Eg=((q=Eg||{})[q.DESKTOP=0]="DESKTOP",q[q.AGENT=1]="AGENT",q[q.HUNSPELL=2]="HUNSPELL",q),Ef=((Z=Ef||{}).DESKTOP="spellCheckDesktopLanguage",Z.HUNSPELL="spellCheckHunspellLanguage",Z);function E_(e){switch(e){case Eg.DESKTOP:case Eg.AGENT:return"spellCheckDesktopLanguage";case Eg.HUNSPELL:return"spellCheckHunspellLanguage"}}function Ey(e){var r;return(null==(r=e.match(/[\p{Letter}\p{Mark}]/gu))?void 0:r.length)===1}function EE(e){let r=[],n=e.split(/(\s+)/).filter(e=>e),i=0,a="";for(let e of n)if(e.length>50||e.includes("@")||e.includes("://")||e.match(/\p{Number}/gu))r.push({text:e,index:i,skipSpellCheck:!0}),i+=e.length;else{let n=!1;for(let o=0;o<e.length;o++){let s=e[o],l=!1;Ey(s)?(a+=s,!function(e){var r;try{if((null==(r=e.match(/[\p{Script_Extensions=Latin}\p{Script_Extensions=Cyrillic}\p{Mark}]/gu))?void 0:r.length)===1)return!0;return!1}catch(e){return!0}}(s)&&(n=!0)):(s.match(/[\u2019\u0027]/gu)||"-"===s)&&o>0&&o<e.length-1&&Ey(e[o-1])&&Ey(e[o+1])?a+=s:l=!0,(l||o===e.length-1)&&(a&&(r.push({text:a,index:i,skipSpellCheck:n}),i+=a.length,a=""),l&&(i+=1))}}return r}async function Eb(){if((0,ft.nl)())return[];try{let e=await Ec.getSpellCheckWords();if(200===e.status){let{words:r}=e.data.meta;return r.map(e=>e.word)}}catch(e){}return[]}async function Ev(){try{let e=await fetch("https://figma.com/figma-spell-check-dictionaries/brand-words_9ee8fe6ad8a6c77912d1a4a3b425ea24.txt.gz");return(await e.text()).split("\n").filter(e=>e.length>0)}catch(e){}return[]}let ES=new class{constructor(){this._supportedLanguages=[],this._triedFetchingDesktopLanguages=!1}addLanguages(e){for(let r of e){let e=r.replace("_","-");"ars"===r&&(e="ar-SY"),this._supportedLanguages.push(e)}}getSupportedLanguages(){return this._supportedLanguages}supportsLanguage(e){return!!this._supportedLanguages&&this._supportedLanguages.includes(e)}async populateSupportedLanguages(e){let r=[],n=e_.Ay.mac?[Eu]:[];switch(e){case Eg.DESKTOP:{if(!aO.eD){(0,ey.$D)(tp.e.DESKTOP,Error("desktopApp is not defined, this should not happen as desktop spellcheck has already been initialized"));return}let i=await aO.eD.spellingGetLanguages();if((0,ey.Lo)("populateSupportedLanguages","desktopLanguages",{type:typeof i,isArray:Array.isArray(i),isNull:null===i,isUndefined:void 0===i}),void 0===i){if(!this._triedFetchingDesktopLanguages)return this._triedFetchingDesktopLanguages=!0,this.populateSupportedLanguages(e);i=[]}r=[...n,...i];break}case Eg.AGENT:r=[...n,...await En()];break;default:r=Object.keys(Ep)}this.addLanguages(r)}};function EI(){return ES.getSupportedLanguages()}function ET(e){let r=eU.x4&&eU.x4.getItem(e)||null;if(r&&ES.supportsLanguage(r))return r;let n=function(){let e=navigator.languages;return void 0!==e?e[0]:navigator.language}();return n&&ES.supportsLanguage(n)?n:ES.getSupportedLanguages()[0]??"en-US"}async function Ew(){return a||(a=await El()?Eg.DESKTOP:!(0,ft.nl)()&&await Eo()?Eg.AGENT:Eg.HUNSPELL),a}var EC=((X=EC||{})[X.NOT_STARTED=0]="NOT_STARTED",X[X.LOADING=1]="LOADING",X[X.FINISHED=2]="FINISHED",X);let EA=0;async function EN(e){return 1===EA?await Em(()=>2!==EA,50):(o||(EA=1,o=e||(await n.e(840).then(n.bind(n,45840))).loadModule),EA=2),o}async function EO(e,r){let n=await fetch(r),i=new Uint8Array(await n.arrayBuffer()),a=r.split("/");return e.mountBuffer(i,a[a.length-1])}async function ER(e,r,n){let i=await e(),[a,o]=await Promise.all([EO(i,r),EO(i,n)]);return i.create(a,o)}async function EP(e,r){let n=Object.keys(Ep).includes(r)?Ep[r]:Ep[0];return await ER(e,n.affURL,n.dicURL)}let EL=null,ED=null,EM=!1;async function Ek(e){if(await Em(()=>!!EM&&(!EM||null===EL)||(EM=!0,!1)),ED!==e&&Ex(),null===EL){let r=await EN();EL=await EP(r,e),ED=e}return EL}function Ex(){null==EL||EL.dispose(),EL=null,ED=null,EM=!1}async function EF(e,r){let n=await Ek(e);for(let e of r)null==n||n.addWord(e)}async function EU(e,r){let n=await Ek(r),i=EE(e),a=[];for(let e of i)!n||e.skipSpellCheck||n.spell(e.text)||a.push({start:e.index,end:e.index+e.text.length});return a}async function EB(e,r){let n=await Ek(r);return(null==n?void 0:n.suggest(e))||[]}async function EV(e,r){let n=await Ek(r);for(let r of e)null==n||n.addWord(r)}function EH(){return s||((s=new Worker(Fig.spellCheckWorkerURL)).onmessage=e=>{if("SPELL_CHECK_RESULT"===e.data.type){let r=e.data.messageId,n=EW[r];n&&(n(e.data.results),delete EW[r])}}),s}let EG=0,EW={};function Ez(e,r){return e?new Promise(n=>{let i=function(e){let r=EG++;return EW[r]=e,r}(n);r.messageId=i,e.postMessage(r)}):Promise.resolve({type:"SPELL_CHECK_RESULT",messageId:-1,results:null})}class EK{constructor(){this.name="Hunspell",this.language=""}async initialize(e,r){this.language=e;let n=await EH();n?await Ez(n,{type:"INIT",userIgnoreWords:r,language:e}):await EF(e,r)}async getSuggestionsForWord(e){let r=await EH();return r?await Ez(r,{type:"GET_SUGGESTIONS",word:e,language:this.language}):await EB(e,this.language)}async spellCheckText(e){let r=await EH();return r?await Ez(r,{type:"CHECK_SPELLING",text:e,language:this.language}):await EU(e,this.language)}async setLanguage(e){this.language=e;let r=await EH();return r?await Ez(r,{type:"SET_LANGUAGE",language:e}):(Ex(),Ek(e)),Promise.resolve(!0)}async addWords(e){let r=await EH();r?await Ez(r,{type:"ADD_WORDS",words:e,language:this.language}):await EV(e,this.language)}}var Ej=n(97551);let EY=class{constructor(){this.name="plugin",this.runningPlugin=null,this.onExitTextEditModeCallbackCalled=!1,this.reviewText=async e=>{var r,n;if((0,fo.hM)()&&(null==(r=g1)?void 0:r.command)!=="textreview")return[];this.startTextReviewPlugin();let i=(0,iB.Qx)(e),a=await Promise.race([i,new Promise(e=>{setTimeout(()=>e("timeout"),3e3)})]),o=null==(n=g1)?void 0:n.plugin,s=o&&(0,nY.ZQ)(o);if("timeout"===a){if(!(0,iB.IM)())return(0,aE.wY)(s?"Text review plugins must call on('textreview') upon running":void 0),[];a=await i}return a.map(e=>({start:e.start,end:e.end,color:e.color,suggestions:e.suggestions}))}}async onExitTextEditMode(){this.onExitTextEditModeCallbackCalled||(this.onExitTextEditModeCallbackCalled=!0,(0,iB.fS)()&&!await (0,iB.It)()&&(0,tM.Br)(null),(0,aE.wY)())}startTextReviewPlugin(){if(this.runningPlugin)return;let e=tu.D.getState(),r=E$(e);if(!(0,fo.hM)()&&r){let n=tu.D.subscribe(()=>{tu.D.getState().mirror.appModel.activeCanvasEditModeType!==eT.m1T.TEXT&&this.onExitTextEditMode()}),i=()=>{this.runningPlugin=null,n(),(0,nY.ZQ)(r)&&console.log(`Closing local text review plugin: ${r.name}`)};(0,nY.ZQ)(r)&&console.log(`Starting local text review plugin: ${r.name}`),this.onExitTextEditModeCallbackCalled=!1,this.runningPlugin=fv.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:r,command:"textreview",queryMode:!0,openFileKey:e.openFile.key,isWidget:!1,runMode:"textreview",triggeredFrom:"textreview"}}).then(i,i)}}static shouldUsePluginForSpellChecking(){return!!E$(tu.D.getState())}};function E$(e){var r;let{localPlugins:n,installedPluginVersions:i,mirror:{appModel:{activeTextReviewPlugin:a}}}=e,o=(0,Ej.CR)(e);if(!a)return null;let s=null;if("local"===a.type?s=Object.values(n).find(e=>e.localFileId===a.localFileId)??null:"published"===a.type&&(s=[...Object.values(i.plugins),...Object.values(o)].find(e=>!(0,nY.ZQ)(e)&&e.plugin_id===a.pluginId)??null),!s||!(null==(r=null==s?void 0:s.manifest.capabilities)?void 0:r.some(e=>"textreview"===e)))return null;let{canRun:l}=(0,nj.JT)({plugin:s});return l?s:null}EY.instance=new EY;let Eq=new class{constructor(){this._suggestionsCache=new l3.q(100),this._textReviewPluginRunner=new EY,this._currentPromise=null}async setCurrentImplementation(e,r){var n,i;let a=await Eb(),o=await Ev(),s=function(){var e;try{return EE((null==(e=tu.D.getState().user)?void 0:e.name)||"").filter(e=>e.text.length>0).map(e=>e.text)}catch(e){}return[]}();await e.initialize(r,[...a,...o,...s]),this._current=e;let l=await EI();console.log(`[spell-check] using implementation: ${null==(n=this._current)?void 0:n.name}. Current language: ${r}. Supported languages: ${l}`);let d=tu.D.getState().selectedView,c=(0,eS.Dc)(d.editorType);(0,ex.sx)("Spell Check Ready",{productType:c,language:r,implementationName:null==(i=this._current)?void 0:i.name,userIgnoreWordsCount:(a||[]).length})}get current(){return this._currentPromise||(this._currentPromise=(async()=>(await this.ensureImplementationLoaded(),this._current))()),this._currentPromise}async ensureImplementationLoaded(){if(this._current)return;let e=await Ew(),r=ET(E_(e));switch(e){case Eg.DESKTOP:await this.setCurrentImplementation(new Ed,r);break;case Eg.AGENT:await this.setCurrentImplementation(new Es,r);break;case Eg.HUNSPELL:await this.setCurrentImplementation(new EK,r)}}async getSuggestionsForWord(e){return this._suggestionsCache.has(e)?Promise.resolve(this._suggestionsCache.get(e)||[]):(await this.current).getSuggestionsForWord(e).then(r=>(this._suggestionsCache.set(e,r),r))}async spellCheckText(e){return(await this.current).spellCheckText(e)}async runTextReviewPlugin(e){return EY.shouldUsePluginForSpellChecking()?await this._textReviewPluginRunner.reviewText(e):[]}getAPIName(){var e;return(null==(e=this._current)?void 0:e.name)||"N/A"}shouldEnableWhenFirstActivated(){let e=navigator.languages||[navigator.language];return function(e,r){if(e)return!0;try{let e=r.map(e=>(e||"").toLowerCase()).map(e=>e.split("-")[0]);if(!(e.includes("en")||e.includes("ru")))return!1}catch(e){}return!0}(!!aO.eD,e)}reset(){this._current=void 0,this._currentPromise=null,this._suggestionsCache.reset()}};async function EZ(e){return await Eq.ensureImplementationLoaded(),Eq._suggestionsCache.reset(),Eq._current.setLanguage(e)}(e=>{function r(e,r,n){return{type:eT.xLh.SPRING,mass:e,stiffness:r,damping:n}}e.forLinear=function(e){return{type:eT.xLh.LINEAR,duration:e}},e.forBezier=function(e,r){return{type:eT.xLh.BEZIER,easingType:e,duration:r}},e.forOpacityOscillation=function(e,r,n,i){return{type:eT.xLh.OSCILLATION,numOscillations:e,lowValue:r,hiValue:n,duration:i}},e.forTransformOscillation=function(e,r,n,i){return{type:eT.xLh.OSCILLATION,numOscillations:e,lowValueTransform:r,hiValueTransform:n,duration:i}},e.forSpring=r,e.forSpringBounciness=function(e,r){return{type:eT.xLh.SPRING,bounciness:e,duration:r}},e.forGentleSpring=function(){return r(1,100,15)},e.forQuickSpring=function(){return r(1,300,20)},e.forBouncySpring=function(){return r(1,600,15)},e.forSlowSpring=function(){return r(1,80,20)}})(eu||(eu={}));let EX=0;function EJ(e){(0,aa.fv)().forEach(r=>{EX=r.setRelativeTransformWithAnimation({m00:1,m01:0,m02:r.relativeTransform.m02+300,m10:0,m11:1,m12:r.relativeTransform.m12+300},e)})}function EQ(){(0,aa.fv)().forEach(e=>{let r={...e.relativeTransform,m02:e.relativeTransform.m02+100,m12:e.relativeTransform.m12+100},n={...e.relativeTransform,m02:e.relativeTransform.m02-100,m12:e.relativeTransform.m12-100};EX=e.setRelativeTransformWithAnimation(e.relativeTransform,eu.forTransformOscillation(3,n,r,2))})}function E0(){0!==EX&&(eT.zuo.cancelAnimation(EX.toString()),EX=0)}var E1=n(69961),E2=n(94823),E3=n(51e3),E5=n(79145),E4=n(43742),E6=n(67129);let E8=(0,ep.createContext)("");function E7(){return[(0,ep.useId)(),E8.Provider]}function E9(){return(0,ep.useContext)(E8)}function be(e,r=!0){return(0,ep.useCallback)(n=>{"function"==typeof e?e(n):e&&(e.current=n),n&&(n.autofocus=r)},[e,r])}function bt(e){let r=(0,ep.useRef)(null);return(0,ep.useImperativeHandle)(e,()=>r.current,[]),r}var br=n(52894);let bn="utils-module--srOnly--AjgNi";function bi({children:e}){let r=(0,ep.useRef)(null),n=e=>r.current.contains(e.relatedTarget);return ep.createElement(ep.Fragment,null,ep.createElement(ba,{onFocus:e=>{let[i,a]=bs(r.current);bo(n(e)?a:i)}}),ep.createElement("div",{className:"utils-module--contents--iP8Hi",ref:r},e),ep.createElement(ba,{onFocus:e=>{let[i,a]=bs(r.current);bo(n(e)?i:a)}}))}function ba(e){return ep.createElement("div",{"aria-hidden":"true",tabIndex:0,onFocus:e.onFocus,className:bn})}function bo(e){e&&(e.focus(),"select"in e&&"function"==typeof e.select&&e.select())}function bs(e){let r=(0,br.Kr)(e,{getShadowRoot:!0});return[r[0],r[r.length-1]]}let bl={Label:function({children:e,autofocus:r=!1,...n}){let i=E9(),a=be(null,r);return ep.createElement("h2",{...n,ref:a,id:i,tabIndex:r?-1:void 0},e)}};var bd=n(49620);let bc=(0,ep.createContext)(null);function bu(){let{close:e}=(0,ep.useContext)(bc);return e}function bp(e){return e.scrollHeight>e.clientHeight}let bh=(0,ep.createContext)(null);function bm(){let{version:e}=(0,E4.DP)(),r=bu(),n=(0,bd.Lh)("close");return ep.createElement("div",{className:"dialog-common-module--close--SdSLW"},ep.createElement(E6.K,{onClick:()=>r({source:"button"}),"aria-label":n},"ui2"===e?ep.createElement(bg,null):ep.createElement(gg,null)))}function bg(){return ep.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},ep.createElement("path",{fill:"var(--color-icon)",fillRule:"nonzero",d:"m6 5.293 4.789-4.79.707.708-4.79 4.79 4.79 4.789-.707.707-4.79-4.79-4.789 4.79-.707-.707L5.293 6 .502 1.211 1.21.504 6 5.294z"}))}var bf=n(34468),b_=n(70394),by=n(12653),bE=n(64974);let bb="data-modals-open";function bv({open:e,onClose:r,preventUserClose:n=!1,recordingKey:i}){let a=(0,bE.Q)(r,{eventName:"close",recordingKey:i},[r]),[o,s]=function(e){let[r,n]=(0,ep.useState)(null),i=(0,ep.useRef)();i.current=r;let a=(0,ep.useRef)();return a.current=e,[(0,ep.useCallback)(e=>{if(null==e){i.current?.destroy(),n(null);return}e.addEventListener("keydown",e=>{"Escape"===e.key&&(e.stopImmediatePropagation(),a.current?.({source:"escape"}))},!0),n(new bI(e))},[]),r]}(n?void 0:a);return(0,ep.useLayoutEffect)(()=>{if(e&&s)return s.shown||(s.show(),function(e,r){let n=0,i=e.getAttribute(r);i&&(n=parseInt(i)),e.setAttribute(r,n+1)}(document.body,bb)),()=>{s.shown&&(s.hide(),function(e,r){let n=e.getAttribute(r);if(null==n)return;let i=parseInt(n)-1;i<=0?e.removeAttribute(r):e.setAttribute(r,i)}(document.body,bb))}},[s,e]),{preventUserClose:n,props:{ref:o,close:a,onPointerDown:function(e){!n&&e.target.matches("[data-backdrop]")&&a({source:"backdrop"})},onKeyDown:function(e){n||"Escape"!==e.code||(e.preventDefault(),a({source:"escape"}))}}}}let bS={Root:function({theme:e={},style:r,children:n,manager:i,...a}){let[o,s]=E7(),{close:l,...d}=i.props,c=(0,ep.useMemo)(()=>({close(e={source:"other"}){l(e)}}),[l]);return ep.createElement(s,{value:o},ep.createElement(bc.Provider,{value:c},ep.createElement("div",{role:"dialog","aria-modal":"true",...a,...d,...b_.r,className:eM("modal-primitive-module--root--qe-Ps",e.root,by.Dm),"aria-labelledby":o,tabIndex:-1},ep.createElement("div",{"data-backdrop":!0,className:e.backdrop}),ep.createElement("section",{className:e.contents,style:r},n))))},Label:bl.Label,useModal:bv,useUncontrolledModal:function({defaultOpen:e=!1,onClose:r}={}){let[n,i]=(0,ep.useState)(e),a=(0,ep.useCallback)(()=>i(!1),[]),o=(0,ep.useCallback)(()=>i(!0),[]);return{...bv({open:n,onClose:(0,ep.useCallback)(()=>{a(),r?.()},[a,r])}),open:o,close:a}},useClose:bu},bI=class extends bf.A{destroy(){return this.hide(),document.removeEventListener("click",this.handleTriggerClicks,!0),this.fire("destroy"),this}},bT="screen and (max-height: 20rem)",bw=matchMedia(`screen and (max-width: 32rem), ${bT}`),bC=matchMedia(`screen and (max-width: 22rem), ${bT}`),bA=matchMedia(bT),bN={"fit-content":void 0,sm:"modal-module--sm--njVM4",md:"modal-module--md--mzTHj",lg:"modal-module--lg--EdtCe"},bO={Root:function({children:e,width:r,...n}){let i,a;let o=function(e){let[r,n]=(0,ep.useState)(e.matches);return(0,ep.useEffect)(()=>{function r(e){n(e.matches)}return e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[e]),r}(function(e){switch(e){case"sm":return bA;case"md":return bC;case"lg":return bw}}("number"==typeof r||"fit-content"===r?"lg":r));"number"==typeof r?a={width:`${r/16}rem`}:i=bN[r];let s=n.manager.preventUserClose;return ep.createElement(bS.Root,{...n,style:a,"data-modal-fullscreen":o||void 0,theme:{root:eM("modal-module--root--SR7NX",i),contents:"modal-module--contents--ZJch7",backdrop:"modal-module--backdrop--j9EVx"}},e,!s&&ep.createElement(bm,null))},Contents:function({className:e,...r}){let n=(0,ep.useRef)(null),i=(0,ep.useRef)(null),a=(0,ep.useRef)(null),o=(0,ep.useMemo)(()=>({bodyRef:i,scrollRef:a}),[]),s=function(e,r,n){let[i,a]=(0,ep.useState)(!1);return!function(e,r){let n=(0,ep.useRef)(r);n.current=r;let i=Array.isArray(e)?e:[e];(0,ep.useLayoutEffect)(()=>{let e=new ResizeObserver(()=>{n.current()});for(let r of i)r.current&&e.observe(r.current);return()=>e.disconnect()},i)}([r,n],()=>{let n=bp(e.current),i=bp(r.current);(0,n0.flushSync)(()=>{a(n||i)})}),i}(n,i,a);return ep.createElement(bh.Provider,{value:o},ep.createElement("div",{ref:n,"data-body-scrolls":s||void 0,className:eM("dialog-common-module--contents--bvD1B",e),...r}))},Header:function(e){return ep.createElement("div",{"data-no-dead-zone":!0,className:"dialog-common-module--header--a9qbE"},e.children)},Title:function(e){return ep.createElement(bl.Label,{className:"dialog-common-module--title--3YAO1",...e})},HiddenTitle:function(e){return ep.createElement(bl.Label,{className:bn,...e})},Body:function({children:e,noPadding:r}){let n=(0,ep.useContext)(bh);return ep.createElement("div",{ref:n?.bodyRef,className:eM("dialog-common-module--body--QMo-4",{"dialog-common-module--bodyNoPadding--Y8X1I":r})},ep.createElement("div",{ref:n?.scrollRef},e))},Footer:function({children:e}){return ep.createElement("div",{"data-no-dead-zone":!0,className:"dialog-common-module--footer--N3l3-"},e)},ActionStrip:function({children:e}){return ep.createElement("div",{className:"dialog-common-module--actionStrip--DlDmP"},e)},useModal:bS.useModal,useUncontrolledModal:bS.useUncontrolledModal,useClose:bu};function bR(e){let r=E9()+"-desc";return ep.createElement("p",{className:eM("form-module--description--2LqzC utilities--bodyMedium--7-YGK",e.className),id:r},e.children)}let bP=(0,ep.forwardRef)(function(e,r){let n=bt(r),i=function({mixed:e,inputRef:r,onChange:n,recordingKey:i,...a}){let o=(0,ep.useRef)("mouse");(0,ep.useLayoutEffect)(()=>{r.current.indeterminate=e??!1},[r,e]);let s=(0,bE.Q)(n,{eventName:"change",recordingKey:i},[n]),l=(0,ep.useCallback)(e=>{o.current=0===e.screenX&&0===e.screenY?"keyboard":"mouse"},[]),d=(0,ep.useCallback)(r=>{let n=!!e||r.currentTarget.checked;s?.(n,{event:r,source:o.current})},[e,s]),{onBlur:c,onKeyDown:u,onKeyUp:p}=function(){let e=(0,ep.useRef)(!1);return{onBlur:(0,ep.useCallback)(()=>{e.current=!1},[]),onKeyDown:(0,ep.useCallback)(r=>{"Enter"===r.key&&(r.preventDefault(),e.current=!0)},[]),onKeyUp:(0,ep.useCallback)(r=>{"Enter"===r.key&&e.current&&(r.preventDefault(),r.currentTarget.click())},[])}}();return{...a,onClick:l,onChange:d,onKeyDown:u,onKeyUp:p,onBlur:c,tabIndex:0}}({...e,inputRef:n});return ep.createElement("input",{...b_.r,...i,type:"checkbox",ref:n})}),bL=(0,ep.forwardRef)(function({className:e,...r},n){return ep.createElement("span",{className:eM("manually-labeled-switch-module--root--OM19U",e),"data-disabled":!!r.disabled||void 0},ep.createElement(bP,{ref:n,...r,className:"manually-labeled-switch-module--checkbox--uhZqs"}),ep.createElement("span",{className:"manually-labeled-switch-module--visuals--aLqGT"}))}),bD=(0,ep.forwardRef)(function({label:e,children:r,...n},i){let a=!!r,[o,s]=E7();return ep.createElement(s,{value:o},ep.createElement("div",{className:"switch-module--root--5sU1t"},ep.createElement(bL,{...n,id:o+"-input","aria-describedby":a?o+"-desc":void 0,ref:i}),e,a&&ep.createElement(bR,{className:"switch-module--description--81w9v"},r)))}),bM=(0,ep.forwardRef)(function({children:e,...r},n){return ep.createElement("label",{...b_.r,ref:n,...r},e)}),bk=(0,ep.forwardRef)(function({className:e,htmlFor:r,children:n,...i},a){let o=E9();return ep.createElement(bM,{...i,ref:a,className:eM("form-module--label--07vOs utilities--bodyMedium--7-YGK",e),htmlFor:r??o+"-input"},n)});var bx=n(43632),bF=n(29906),bU=n(13029),bB=n(3537);function bV(e,r="forward"){let n;switch(r){case"forward":n=bH;break;case"reverse":n=bG;break;default:(0,eh.xb)(r)}return{[Symbol.iterator]:n.bind(null,e)}}function bH(e){let r=[e],n=e;return{next(){for(;0===r.length&&(null==n?void 0:n.parentElement);){let e=[...n.parentElement.children],i=e.indexOf(n);r.unshift(...e.slice(i+1)),n=n.parentElement}let e=r.shift();return e?(r.unshift(...e.children),{value:e}):{done:!0,value:void 0}}}}function bG(e){let r=e;return{next(){if(!r)return{done:!0,value:r};{let e={value:r};if(r.parentElement){let e=[...r.parentElement.children],n=e.indexOf(r);if(0===n)r=r.parentElement;else for(r=e[n-1];r.childElementCount>0;)r=r.children.item(r.childElementCount-1)}else r=void 0;return e}}}}var bW=n(38411);function bz({children:e,autoFocusRef:r}){let n=(0,ep.useRef)(null),i=(0,ep.useRef)(null),a=(0,ep.useRef)(null),o=(0,ep.useRef)(null),s=(0,ep.useRef)(),l=(0,ep.useRef)();return(0,ep.useEffect)(()=>{let e=e=>{var r;let l=i.current,d=a.current,c=o.current,u=e=>{let r=0;for(let n of e){if(n===l||n===d||n===c){if(3!=++r)continue;break}if((0,bB.B)(n))return n}return c},p=e.target;if(i.current===p){let e=u(bV(d,"reverse"));null==e||e.focus()}else if(a.current===p){let e=u(bV(l,"forward"));null==e||e.focus()}else if(null==(r=n.current)?void 0:r.contains(p))s.current=p;else{let e=!0;s.current&&(s.current.focus(),document.activeElement===s.current&&(e=!1)),e&&(null==c||c.focus())}};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)},[]),(0,ep.useEffect)(()=>{var e;return l.current=document.activeElement,(null==r?void 0:r.current)?r.current.focus():null==(e=o.current)||e.focus(),()=>{var e;null==(e=null==l?void 0:l.current)||e.focus()}},[r]),ep.createElement("div",{ref:n,className:"accessibility_settings--focusTrapContainer--Z-ABd"},ep.createElement("div",{className:bW.Q,ref:i,tabIndex:0}),ep.createElement("div",{className:bW.Q,ref:o,tabIndex:-1}),e,ep.createElement("div",{className:bW.Q,ref:a,tabIndex:0}))}function bK({children:e,onDismiss:r}){let n=(0,ep.useCallback)(e=>{!e.altKey&&!e.ctrlKey&&!e.metaKey&&"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),r())},[r]);return ep.createElement("div",{className:"accessibility_settings--mask--cZK6y"},ep.createElement("div",{role:"presentation",className:"accessibility_settings--maskContent--9cLFt",onKeyDown:n},e),ep.createElement("div",{role:"presentation",onClick:r,className:"accessibility_settings--maskBackdrop--roDr-"}))}function bj({children:e,autoFocusRef:r}){let n=(0,eJ.wA)(),i=(0,ep.useCallback)(()=>void n(rH.Lo()),[n]);return ep.createElement(bK,{onDismiss:i},ep.createElement(bz,{autoFocusRef:r},ep.createElement("div",{role:"dialog","aria-modal":!0,className:"accessibility_settings--dialog--AZrAI"},e)))}let bY=(0,iK.Ju)(function(e){return!function(e){let[r,n]=(0,E1.eR)(E1.nt.fplComponents);switch(n){case E1.gw.DEFAULT:return(0,e2.kc)()[e];case E1.gw.OVERRIDDEN:return r}}("fpl_modal")?ep.createElement(bq,null):ep.createElement(b$,{...e})},"ACCESSIBILITY_SETTINGS",iK.ZU.YES);function b$({open:e,onClose:r}){let n=(0,eJ.d4)(e=>e.selectedView.editorType),i=(0,ep.useCallback)(()=>{var e;n!==tB.nT.Whiteboard||(0,y5.FT)()||null==(e=(0,bU.lo)())||e.focus(),r()},[r,n]),a=bO.useModal({open:e,onClose:i});return ep.createElement(bO.Root,{manager:a,width:"md"},ep.createElement(bO.Contents,null,ep.createElement(bO.Header,null,ep.createElement(bO.Title,null,ep.createElement(eb.Tx,{id:"fullscreen.accessibility_settings.dialog_title"}))),ep.createElement(bO.Body,null,ep.createElement(bZ,null))))}function bq(){let e=(0,eJ.wA)(),r=(0,ep.useRef)(null),n=(0,eJ.d4)(e=>e.selectedView.editorType),i=(0,ep.useCallback)(()=>{var e;n!==tB.nT.Whiteboard||(0,y5.FT)()||null==(e=(0,bU.lo)())||e.focus()},[n]);return(0,ep.useEffect)(()=>i,[i]),ep.createElement(bj,{autoFocusRef:r},ep.createElement("div",{className:"accessibility_settings--settingsDialogWrapper--HqWql"},ep.createElement(bx.Y,{direction:"vertical",horizontalAlignItems:"stretch"},ep.createElement("div",{className:"accessibility_settings--settingsDialogTitle---du6P"},ep.createElement(bx.Y,null,ep.createElement("span",null,ep.createElement(gE.E,{fontWeight:"medium",i18nId:"fullscreen.accessibility_settings.dialog_title"})),ep.createElement(bx.M,null),ep.createElement(oj.Jn,{onClick:()=>e(rH.Lo())}))),ep.createElement("div",{className:eV.cx.p8.pt0.$},ep.createElement(bZ,{inputRef:r})))))}function bZ({inputRef:e}){let[r,n]=(0,bF.yR)(),i=(0,eJ.d4)(e=>e.screenreader.errorType),a=be(e),o=(0,bF.s5)();return ep.createElement("div",{className:eV.cx.pb8.$},ep.createElement(bD,{disabled:"platform_error"===i,checked:r,onChange:(e,{source:r})=>{o(e?bF.hu.TOGGLE_DOM_ON_MENU:bF.hu.TOGGLE_DOM_OFF_MENU,{isMouseEvent:"mouse"===r}),n(e)},label:ep.createElement(bk,null,ep.createElement(eb.Tx,{id:"fullscreen.accessibility_settings.enable_screenreader_label"})),ref:a},"platform_error"===i?(0,eb.t)("fullscreen.accessibility.platform_error"):(0,eb.t)("fullscreen.accessibility_settings.enable_screenreader_description_figjam_beta"),"render_error"===i&&ep.createElement("span",{role:"alert",className:eV.cx.block.mt8.$},ep.createElement(gE.E,{color:"danger",i18nId:"fullscreen.accessibility.dom_error"}))))}var bX=n(26732);let bJ=(()=>{if(eU.Co){let e="initialPathName";if(eU.Co[e])return eU.Co[e];eU.Co[e]=tl.Ay.location.pathname}return tl.Ay.location.pathname})();function bQ(){return!(0,em.GZ)()&&!aO.eD&&!!(((0,e2.Ay)().editing_file||(0,e2.Ay)().link_password_input)&&b0(b1)||b0(b2))}function b0(e){return e(bJ)&&e(tl.Ay.location.pathname)}function b1(e){return["/file/","/design/","/board/"].some(r=>e.startsWith(r))}function b2(e){let r=(0,oY.YP)(e);return r.length>=4&&"files"===r[1]&&"feed-posts"===r[2]&&!!r[3]}let b3="autoOpenInDesktopApp";function b5(){return eU.x4?eU.x4[b3]:void 0}function b4(e){eU.x4&&(eU.x4[b3]=e)}let b6="open_desktop_app_modal--inputContainer--FXaVV";(0,aj.hG)(tQ.oVP);class b8 extends ep.PureComponent{constructor(e){super(e),this.onClose=()=>{this.props.dispatch(i6.Z1()),b4("never")},this.onClickOpenInApp=()=>{this.props.dispatch(i6.Z1()),b4(this.state.alwaysChecked?"always":"never"),(0,y9.Sr)(location.href)},this.onClickAlwaysOpenDesktopApp=()=>{this.setState({alwaysChecked:!this.state.alwaysChecked})},this.state={alwaysChecked:"never"!==b5()}}static shouldShowOnce(){return bQ()&&void 0===b5()}static shouldAutoOpen(){return bQ()&&"always"===b5()}static toggleAutoOpen(){b4("always"===b5()?"never":"always")}static isAutoOpenEnabled(){return"always"===b5()}static enableAutoOpen(){b4("always")}static disableAutoOpenIfUnset(){void 0===b5()&&b4("never")}render(){return ep.createElement(oF.vx,{initialPosition:this.props.initialPosition,title:(0,eb.t)("desktop_open_views.open_in_desktop_modal.title"),headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},ep.createElement("div",{className:"open_desktop_app_modal--container--29JQS"},ep.createElement("div",{className:b6},ep.createElement(eB.tB,{id:"always-open-desktop-app",checked:this.state.alwaysChecked,onClick:this.onClickAlwaysOpenDesktopApp}),ep.createElement(eB.JU,{htmlFor:"always-open-desktop-app"},ep.createElement(eb.Tx,{id:"desktop_open_views.open_in_desktop_modal.always_open_in_app_checkbox"}))),ep.createElement("div",{className:b6},ep.createElement(eB.nR,{onClick:this.onClose},ep.createElement(eb.Tx,{id:"desktop_open_views.modal.dismiss_button"})),ep.createElement(eB.$$,{onClick:this.onClickOpenInApp},ep.createElement(eb.Tx,{id:"desktop_open_views.open_in_desktop_modal.open_in_app_button"})))))}}b8.displayName="OpenDesktopAppModal";var b7=((J=b7||{})[J.OLD=0]="OLD",J[J.FEB19=1]="FEB19",J);class b9{constructor(e,r,n,i){this.textUserLayoutVersion=e,this.intrinsicLineHeight=r,this.fontSize=n,this.lineHeight=i}withLineHeight(e){return new b9(this.textUserLayoutVersion,this.intrinsicLineHeight,this.fontSize,e)}}function ve(e,r){let n=(e,n)=>{var i;ts.Y5.updateSelectionProperties({textCase:e,fontVariantCaps:n},{shouldCommit:s3.zk.YES}),i="TEXT_CASE",s3.zk.YES!==s3.zk.NO&&tx.FZ.trackFromFullscreen("ee_track_user_action",{category:"TEXT",property:i,source:r})};"SMALL_CAPS"===e?n("ORIGINAL","SMALL"):"SMALL_CAPS_FORCED"===e?n("ORIGINAL","ALL_SMALL"):n(e,"NORMAL")}(0,l5.xx)(e=>new b9(null!=e.textUserLayoutVersion&&(0,sS.hS)(e.textUserLayoutVersion)?0===e.textUserLayoutVersion?0:1:sS.oV,e.intrinsicLineHeight??null,e.fontSize,e.lineHeight));var vt=n(47968),vr=n(89430),vn=n(74705),vi=n(54322),va=n(48169),vo=n(11443),vs=n(31828),vl=n(11978),vd=n(9798);let vc=new class{constructor(){this.MetaSchemaValidator=(0,tm.vh)(),this.GetTaskSchemaValidator=(0,tm.vh)(),this.AttachmentUploadUrlSchemaValidator=(0,tm.vh)()}getMeta(){return this.MetaSchemaValidator.validate(async({xr:e})=>await e.get("/api/bug_reports/meta",{},{retryCount:1}))}getGetTask(e){return this.GetTaskSchemaValidator.validate(async({xr:r})=>await r.get("/api/bug_reports/get_task",tm.td.toAPIParameters(e)))}getAttachmentUploadUrl(e){return this.AttachmentUploadUrlSchemaValidator.validate(async({xr:r})=>await r.get("/api/bug_reports/attachment_upload_url",tm.td.toAPIParameters(e)))}};n(11538),n(67837);var vu=((Q=vu||{}).USER="user",Q.EVENT="event",Q),vp=n(75551),vh=n.n(vp),vm=n(2691),vg=n.n(vm),vf=n(93160),v_=((ee=v_||{}).SDKReady="sdkReady",ee.Call="call",ee.SetProperty="setProperty",ee.GetProperty="getProperty",ee.SetContainerDimensions="setContainerDimensions",ee.Error="error",ee.GetPermissionToShowSurvey="getPermissionToShowSurvey",ee.SurveyClosed="surveyClosed",ee),vy=n(46935);let vE={sendMessage(){},listenForMatchingMessage:e=>Promise.resolve({type:e,content:{}}),setCallbacks(){},tearDown(){}};function vb(e,r){return"string"==typeof e&&(!r||r.test(e))?Date.parse(e):NaN}let vv={created_at:({user:e})=>{let r=vb(null==e?void 0:e.created_at);return Number.isNaN(r)?null==e?void 0:e.created_at:r},signup_date:({userAnalyticsData:e})=>{let r=vb(null==e?void 0:e.signup_date,/^\d{4}-\d{2}-\d{2}$/);return Number.isNaN(r)?null==e?void 0:e.signup_date:r},email_type:({userAnalyticsData:e})=>null==e?void 0:e.email_type,land_product:({userAnalyticsData:e})=>null==e?void 0:e.land_product,generation:({userAnalyticsData:e})=>null==e?void 0:e.generation,paid_status:({userAnalyticsData:e})=>null==e?void 0:e.paid_status,education_user:({userAnalyticsData:e})=>null==e?void 0:e.education_user,design_max_paid_role:({userAnalyticsData:e})=>null==e?void 0:e.design_max_paid_role,figjam_max_paid_role:({userAnalyticsData:e})=>null==e?void 0:e.figjam_max_paid_role,job_title:({userAnalyticsData:e})=>null==e?void 0:e.job_title,num_edit_days_30_day:({userAnalyticsData:e})=>null==e?void 0:e.num_edit_days_30_day,num_edit_days_60_day:({userAnalyticsData:e})=>null==e?void 0:e.num_edit_days_60_day,num_edit_days_90_day:({userAnalyticsData:e})=>null==e?void 0:e.num_edit_days_90_day,num_edits_30_day:({userAnalyticsData:e})=>null==e?void 0:e.num_edits_30_day,num_edits_60_day:({userAnalyticsData:e})=>null==e?void 0:e.num_edits_60_day,num_edits_90_day:({userAnalyticsData:e})=>null==e?void 0:e.num_edits_90_day,num_files_created:({userAnalyticsData:e})=>null==e?void 0:e.num_files_created,work_location:({userAnalyticsData:e})=>(null==e?void 0:e.work_location_no_answer)?"no_answer":(null==e?void 0:e.is_company)?"company":(null==e?void 0:e.is_agency)?"agency":(null==e?void 0:e.is_freelancer)?"freelancer":(null==e?void 0:e.is_founder)?"founder":(null==e?void 0:e.is_school)?"school":(null==e?void 0:e.is_bootcamp)?"bootcamp":void 0,expanded_usage_purpose:({userAnalyticsData:e})=>(null==e?void 0:e.expanded_usage_purpose_no_answer)?"no_answer":(null==e?void 0:e.is_work)?"work":(null==e?void 0:e.is_new_job_or_project)?"new_job_or_project":(null==e?void 0:e.is_fun)?"fun":(null==e?void 0:e.is_seeking_design_tool)?"seeking_design_tool":(null==e?void 0:e.is_sharing_with_team)?"sharing_with_team":(null==e?void 0:e.is_used_before)?"used_before":(null==e?void 0:e.is_not_sure)?"not_sure":(null==e?void 0:e.is_just_checking_out)?"just_checking_out":(null==e?void 0:e.is_using_it_for_school)?"is_using_it_for_school":(null==e?void 0:e.is_other)?"other":void 0,how_collab:({userAnalyticsData:e})=>(null==e?void 0:e.how_collab_no_answer)?"no_answer":(null==e?void 0:e.is_teammates)?"teammates":(null==e?void 0:e.is_clients)?"clients":(null==e?void 0:e.is_self)?"self":(null==e?void 0:e.is_students_and_educators)?"student_and_educators":void 0,used_figma_before:({userAnalyticsData:e})=>(null==e?void 0:e.used_figma_before_no_answer)?"no_answer":(null==e?void 0:e.is_first_time)?"first_time":(null==e?void 0:e.is_few_times)?"few_times":(null==e?void 0:e.is_many_times)?"many_times":void 0,what_brings_you_to_figma_today:({userAnalyticsData:e})=>(null==e?void 0:e.what_brings_you_to_figma_today_no_answer)?"no_answer":(null==e?void 0:e.is_learn_design)?"learn_design":(null==e?void 0:e.is_joining_team_project)?"joining_team_project":(null==e?void 0:e.is_testing_figma_for_team)?"testing_figma_for_team":(null==e?void 0:e.is_fun_gen1)?"fun_gen1":(null==e?void 0:e.is_giving_feedback_on_design)?"giving_feedback_on_design":(null==e?void 0:e.is_join_meeting_or_brainstorm)?"join_meeting_or_brainstorm":void 0},vS=class{static sendMessage(e){var r;if(!(null==(r=vS.iframe)?void 0:r.contentWindow)||!vS.iframeUrl){aN.k.warn("[Sprigma] Skipping sending because sandbox iframe is not ready:",e);return}if(!vS.isSDKReady){aN.k.debug("[Sprigma] Sprig SDK is not yet ready, sending message to queue"),vS.messageQueue.push(e),aN.k.debug("[Sprigma] Currently queued messages:",[...vS.messageQueue]);return}aN.k.debug(`[Sprigma] Sending message to sandbox at ${vS.iframeUrl}:`,e),vS.iframe.contentWindow.postMessage(e,vS.iframeUrl)}static updatePageUrl(e){e!==vS.pageUrl&&(aN.k.debug(`[Sprigma] Setting 'pageUrl' to ${e}`),vS.pageUrl=e,vS.sendMessage({type:v_.Call,content:{args:["trackPageView",e]}}))}static setUserData(e,r){let n=null==e?void 0:e.id;if(!n)return;aN.k.debug(`[Sprigma] Setting user ID to ${n}`),vS.sendMessage({type:v_.Call,content:{args:["setUserId",n]}});let i=vg()(vh()(vv,n=>n({user:e,userAnalyticsData:r})),e=>void 0!==e);Object.keys(i).length>0&&(aN.k.debug("[Sprigma] Syncing the following attributes to Sprig:",Object.keys(i)),vS.sendMessage({type:v_.Call,content:{args:["setAttributes",i]}}))}static processQueuedMessages(){let e;if(vS.messageQueue.length)for(aN.k.debug("[Sprigma] Processing queued messages:",[...vS.messageQueue]);e=vS.messageQueue.shift();)vS.sendMessage(e)}static listenForMatchingMessage(e,r,n){return new Promise((i,a)=>{let o=void 0!==n&&setTimeout(()=>{window.removeEventListener("message",s),a(Error("Timed out waiting for matching message"))},n),s=n=>{var a;if((null==(a=n.data)?void 0:a.type)!==e)return;let l=n.data;if(n.origin!==vS.iframeUrl){aN.k.warn(`[Sprigma] Ignoring message from unexpected origin ${n.origin}`);return}(!r||r(l))&&(aN.k.debug(`[Sprigma] Received matching message from sandbox at ${n.origin}:`,l),window.removeEventListener("message",s),o&&clearTimeout(o),i(l))};window.addEventListener("message",s)})}static onWindowResize(){aN.k.debug(`[Sprigma] Sending window dimensions to sandbox: height=${window.innerHeight} width=${window.innerWidth}`),vS.sendMessage({type:v_.Call,content:{args:["setWindowDimensions",window.innerWidth,window.innerHeight]}}),vS.windowWidth=window.innerWidth,vS.windowHeight=window.innerHeight,vS.updateScreenAreasToAvoid()}static setIframeDimensions({height:e,width:r}){vS.iframe&&(aN.k.debug(`[Sprigma] Updating sandbox iframe dimensions: height=${e??"unchanged"} width=${r??"unchanged"}`),void 0!==e&&(vS.iframe.height=e.toString()),void 0!==r&&(vS.iframe.width=r.toString()),vS.updateScreenAreasToAvoid())}static setScreenAreasToAvoid(e){vS.screenAreasToAvoid=e,vS.iframe&&vS.updateScreenAreasToAvoid()}static updateScreenAreasToAvoid(){let e;if(!vS.iframe)return;let r=parseInt(vS.iframe.width,10),n=parseInt(vS.iframe.height,10);if(0===vS.screenAreasToAvoid.length||0===r||0===n){vS.setDefaultIframePosition();return}let i={x:vS.windowWidth-r,y:vS.windowHeight-n,width:r,height:n},a=0,o=0;do for(let r of(e=!1,vS.screenAreasToAvoid)){let{rect:n,direction:s}=r,l=vI(i,n);void 0!==l&&(e=!0,"up"===s?(a+=l.height,i.y-=l.height):"left"===s&&(o+=l.width,i.x-=l.width))}while(e)if(!this.isWithinWindowBounds(i)){vS.setDefaultIframePosition();return}let s=vS.iframe.style;s.bottom=`${a}px`,s.right=`${o}px`}static setDefaultIframePosition(){if(!vS.iframe)return;let e=vS.iframe.style;e.bottom="0",e.right="0"}static isWithinWindowBounds(e){return e.x>=0&&e.y>=0&&e.x+e.width<=vS.windowWidth&&e.y+e.height<=vS.windowHeight}static async processIncomingRequestsForPermissionToShowSurvey(){if(!vS.isProcessingRequestsForPermissionToShowSurvey){for(vS.isProcessingRequestsForPermissionToShowSurvey=!0;vS.incomingRequestsForPermissionToShowSurvey.length>0;){let e=vS.incomingRequestsForPermissionToShowSurvey.shift();if(!e)continue;let r=vS.onAttemptToShowSurveyCallbacks.map(e=>e());aN.k.debug(`[Sprigma] Requesting permission to show survey ${e.content.surveyId}, handlers =`,vS.onAttemptToShowSurveyCallbacks),vS.sendMessage({type:v_.GetPermissionToShowSurvey,content:{surveyId:null==e?void 0:e.content.surveyId,canShow:await Promise.all(r).then(e=>e.every(e=>e)).catch(r=>(aN.k.error(`[Sprigma] Failed to get permission to show survey ${e.content.surveyId}, reason =`,r),!1))}})}vS.isProcessingRequestsForPermissionToShowSurvey=!1}}constructor(){async function e(){let r=await vS.listenForMatchingMessage(v_.SetContainerDimensions);0!==vS.instanceCount&&(r&&vS.setIframeDimensions(r.content),e())}async function r(){let e=await vS.listenForMatchingMessage(v_.Error);0!==vS.instanceCount&&(e&&(0,ex.sx)("sprig_sandbox_error",e.content),r())}async function n(){let e=await vS.listenForMatchingMessage(v_.GetPermissionToShowSurvey);if(0===vS.instanceCount){vS.incomingRequestsForPermissionToShowSurvey=[];return}e&&(vS.incomingRequestsForPermissionToShowSurvey.push(e),vS.processIncomingRequestsForPermissionToShowSurvey()),n()}async function i(){let e=await vS.listenForMatchingMessage(v_.SurveyClosed);0!==vS.instanceCount&&(e&&vS.onSurveyCloseCallbacks.forEach(e=>{e()}),i())}async function a(){let a;if(!vS.iframeUrl){aN.k.warn("[Sprigma] Skipping loading Sprig SDK because `sprig_iframe_url` is not set"),vS.iframe=null;return}let o=document.createElement("iframe");o.src=vS.iframeUrl,o.ariaHidden="true",o.tabIndex=-1,o.height="0",o.width="0",o.style.position="fixed",o.style.bottom="0",o.style.right="0",o.style.zIndex=vy.u_o.toString(),o.style.colorScheme="normal",o.style.transition="right 0.3s, bottom 0.3s",document.body.appendChild(o),vS.iframe=o,aN.k.debug("[Sprigma] Sandbox iframe injected into DOM");let s=setInterval(()=>{vS.updatePageUrl((0,vf.Br)(location.href))},100);vS.tearDownIframeCallback=()=>{aN.k.debug("[Sprigma] Sandbox iframe is tearing down as there are no users left"),window.removeEventListener("resize",vS.onWindowResize),vS.isSDKReady=!1,clearInterval(s),vS.iframe=void 0,document.body.removeChild(o)};try{a=await vS.listenForMatchingMessage(v_.SDKReady,void 0,1e4)}catch{(0,ex.sx)("sprig_sdk_loading_timeout",{threshold:1e4})}if(void 0===a||0===vS.instanceCount)return;vS.isSDKReady=!0,(0,ex.sx)("sprig_sdk_ready",{time_to_readiness:a.content.timeToReadinessInMs}),aN.k.info("[Sprigma] Sprig SDK is ready");let l=(0,ex.pp)();l&&(aN.k.debug(`[Sprigma] Setting anonymous ID to ${l}`),vS.sendMessage({type:v_.Call,content:{args:["setPartnerAnonymousId",l]}})),vS.setUserData((0,e2.Ay)().user_data,(0,e2.Ay)().user_analytics_data),vS.onWindowResize(),window.addEventListener("resize",vS.onWindowResize),e(),r(),n(),i(),vS.processQueuedMessages()}void 0===vS.iframe?a():aN.k.debug("[Sprigma] Sandbox iframe has already been initialized"),vS.instanceCount++}sendMessage(...e){vS.sendMessage(...e)}listenForMatchingMessage(...e){return vS.listenForMatchingMessage(...e)}setCallbacks({onAttemptToShowSurvey:e,onSurveyClose:r}){this.onAttemptToShowSurvey&&(vS.onAttemptToShowSurveyCallbacks=vS.onAttemptToShowSurveyCallbacks.filter(e=>e!==this.onAttemptToShowSurvey),this.onAttemptToShowSurvey=void 0),this.onSurveyClose&&(vS.onSurveyCloseCallbacks=vS.onSurveyCloseCallbacks.filter(e=>e!==this.onSurveyClose),this.onSurveyClose=void 0),e&&(this.onAttemptToShowSurvey=e,vS.onAttemptToShowSurveyCallbacks.push(e)),r&&(this.onSurveyClose=r,vS.onSurveyCloseCallbacks.push(r))}tearDown(){vS.instanceCount--,this.setCallbacks({onAttemptToShowSurvey:void 0,onSurveyClose:void 0}),0===vS.instanceCount&&vS.tearDownIframeCallback&&(vS.tearDownIframeCallback(),vS.tearDownIframeCallback=void 0)}};vS.iframeUrl=(0,e2.Ay)().sprig_iframe_url,vS.isSDKReady=!1,vS.messageQueue=[],vS.instanceCount=0,vS.incomingRequestsForPermissionToShowSurvey=[],vS.onAttemptToShowSurveyCallbacks=[],vS.onSurveyCloseCallbacks=[],vS.windowWidth=window.innerWidth,vS.windowHeight=window.innerHeight,vS.screenAreasToAvoid=[],vS.isProcessingRequestsForPermissionToShowSurvey=!1;let vI=(e,r)=>{let n=Math.max(e.x,r.x),i=Math.max(e.y,r.y),a=Math.min(e.x+e.width,r.x+r.width),o=Math.min(e.y+e.height,r.y+r.height),s=a-n,l=o-i;return s<=0||l<=0?void 0:{x:n,y:i,width:s,height:l}};function vT(){aN.k.warn("[Sprigma] Detected attempt to use Sprig where it hasn\u2019t been setup. This is a no-op")}(0,ep.createContext)({sendMessage(...e){vT(),vE.sendMessage(...e)},listenForMatchingMessage:e=>(vT(),vE.listenForMatchingMessage(e)),setCallbacks(...e){vT(),vE.setCallbacks(...e)},tearDown(...e){vT(),vE.tearDown(...e)}});let vw=(0,eF.eU)([]);(0,eF.eU)(null,(e,r,n)=>{let i=e(vw);r(vw,[...i,n])}),(0,eF.eU)(null,(e,r,n)=>{let i=e(vw),a=i.indexOf(n);-1!==a&&r(vw,i.slice(0,a).concat(i.slice(a+1)))});var vC=n(9831);let vA="bug_reporter_modal--modal--V8CL-",vN="bug_reporter_modal--label--2Af-p",vO="bug_reporter_modal--textInput--VxO4j",vR="bug_reporter_modal--successLink--1HN6S",vP="bug_reporter_modal--attachmentPreview--pXBtw";function vL(e){let r=(0,eJ.wA)(),n=ep.useRef(null),[i,a]=ep.useState(!1),o=async()=>{if(!n.current)return;let r=await n.current.stop();e.onProfilingFinish(r),a(!1)};return ep.createElement(ep.Fragment,null,ep.createElement(eB.e2,{className:"bug_reporter_modal--buttonGroupLeftAlign--rsxni"},ep.createElement(ox.$$,{disabled:i,onClick:()=>{if(!(0,e2.kc)()["js-profiling"]){r(e3.F.enqueue({message:"Please enable the js-profiling feature flag for yourself in order to collect a performance profile."}));return}i||("function"==typeof window.Profiler?(n.current=new window.Profiler({sampleInterval:1,maxBufferSize:1e4}),a(!0)):r(e3.F.enqueue({message:"Performance profiling is only available in Chromium browsers."})))},type:"button"},ep.createElement(eb.Tx,{id:"bug_reporter.profiler.start"})),ep.createElement(eB.nR,{disabled:!i,onClick:o,type:"button"},ep.createElement(eb.Tx,{id:"bug_reporter.profiler.stop"}))),i&&ep.createElement(eb.Tx,{id:"bug_reporter.profiler.collecting_profile"}))}var vD=n(33798),vM=n(81109),vk=n(89084),vx=n(32208),vF=n(75479),vU=n(85496);let vB=(0,eF.eU)(!1),vV=e=>e.map(e=>{let r=e.name.match(/((.*)\s+-\s+)?(.*)/);return{optionCategoryName:r&&r[2]||"Other",optionSubareaName:r&&r[3]||e.name,gid:e.gid}}).reduce((e,r)=>{let n=e.get(r.optionCategoryName);return n||(n=[],e.set(r.optionCategoryName,n)),n.push({name:r.optionSubareaName,gid:r.gid}),e},new Map),vH=e=>{let r=e.match(/app\.asana\.com\/\d\/\d+\/(\d+)/);if(!r||r.length<2)throw Error((0,eb.t)("bug_reporter.error_invalid_asana_url"));return r[1]};function vG(e){return!vW(e)}function vW(e){return"error"in e}let vz={gid:"",name:"Pick an option"},vK="bugReporter",vj=(0,eF.eU)(!0),vY=(0,eF.eU)(""),v$=(0,eF.eU)(""),vq=(0,eF.eU)(""),vZ=(0,eF.eU)(vz),vX=(0,eF.eU)(vz),vJ=(0,eF.eU)(!1),vQ=ep.createElement("div",{className:"bug_reporter_modal--testWarning--2XO-z"},"WARNING: because the title begins with TEST: your bug will be routed to the ",ep.createElement("a",{className:"bug_reporter_modal--warningLink--Gqqm8",href:"https://app.asana.com/0/1203643376438098/list",target:"_blank"},ep.createElement(eb.Tx,{id:"bug_reporter.warning_asana_board"})));function v0(e){let r=(0,iP.U)(),n=(0,eJ.wA)(),i=(0,vi.Av)(),{windowInnerHeight:a}=(0,vr.l)(),[o,s]=(0,rV.fp)(vY),[l,d]=(0,rV.fp)(v$),[c,u]=(0,rV.fp)(vq),[p,h]=(0,rV.fp)(vZ),[m,g]=(0,rV.fp)(vX),[f,_]=(0,rV.fp)(vJ),[y,E]=ep.useState(!0),[b,v]=ep.useState(!1),[S,I]=ep.useState([]),[T,w]=ep.useState(void 0),C=a-(i+oF.uF+vo.Ug)-vo.lc;(0,sd.h)(()=>{!0===f&&(A(),_(!1))});let A=()=>{E(!0),I([]),e.clearForm()},N=()=>!!(!e.isSubmitting&&l.trim()&&c.trim())&&(!e.isNewReport||!!p.gid&&!!m.gid),O=r=>{if(r)try{let n=vH(r);e.attachFromTask(n)}catch(e){n(e3.F.enqueue({message:`${e}`,error:!0}))}},R=l4.AF(l4.Pt(vK,"link-input"),"change",e=>{let r=e.target.value;s(r),""===r&&A()}),P=l4.AF(l4.Pt(vK,"title-input"),"change",e=>{d(e.target.value)}),L=l4.AF(l4.Pt(vK,"description-input"),"change",e=>{u(e.target.value)}),D=l4.qP(l4.Pt(vK,"severity-input")??"","change",e=>{h(e)}),M=l4.qP(l4.Pt(vK,"product-area-input")??"","change",e=>{g(e)}),k=ep.useCallback(e=>{let r=[],i=[];for(let n of e)if(n.size>52428800)i.push(n.name);else{let e=URL.createObjectURL(n);r.push({fileContent:n,url:e,name:n.name,type:n.type})}if(i.length>0){let e=`Error: files could not be attached (over 50MB limit): [${i.join(", ")}].`;console.error(e),n(e3.F.enqueue({error:!0,message:e}))}return r},[n]),x=e=>{if(e.files.length>0){let r=k([...e.files]);I(e=>[...e,...r])}v(!1)},F=l4.AF(l4.Pt(vK,"include-filekey-input"),"change",e=>{E(e.currentTarget.checked)}),U=l4.of(vK,"submit",r=>{r.preventDefault(),N()&&e.submitBugReport(l,c,p,m,y,S,T)}),B=(e,r)=>{let n=e.target;"Enter"===e.key&&(e.metaKey||e.ctrlKey?U(e):("description"!==r&&e.preventDefault(),"asanaInput"===r&&O(o))),"Escape"===e.key&&n&&n.blur()},V=l4.v_(l4.Pt(vK,"asanaInput"),"keydown",e=>{B(e,"asanaInput")});return ep.createElement(va.Y,{className:ek()(b&&"bug_reporter_modal--dragTarget--PzWPP"),isDragTarget:()=>!0,onTargetDragEnter:()=>{v(!0)},onTargetDragLeave:()=>{v(!1)},onTargetDrop:e=>x(e)},b&&ep.createElement("div",{className:"bug_reporter_modal--dragOverlay---tMtc"},ep.createElement(sR.B,{svg:vD.A}),ep.createElement(eb.Tx,{id:"bug_reporter.drop_attachments"})),ep.createElement(sO.P,{maxHeight:C,hideScrollbar:b},ep.createElement("form",{onSubmit:U,onPaste:e=>{if(e.clipboardData.files.length>0){let r=k([...e.clipboardData.files]);I(e=>[...e,...r])}},className:ek()(vA,b&&"bug_reporter_modal--modalDragging--YuLUg")},ep.createElement("div",{className:"bug_reporter_modal--asanaSection--71SIy"},ep.createElement(dn.JU,{className:"bug_reporter_modal--asanaHint--I0Tif"},ep.createElement(eb.Tx,{id:"bug_reporter.asana_hint"})),ep.createElement(eB.ks,{className:vO,placeholder:(0,eb.t)("bug_reporter.modal.asana_link_placeholder"),value:o,onChange:R,onPaste:e=>{let r=e.clipboardData.getData("text");try{vH(r),O(r)}catch{}},onKeyDown:V,maxLength:150})),ep.createElement("div",null,ep.createElement(dn.JU,{className:vN},ep.createElement(eb.Tx,{id:"bug_reporter.modal.title"})),ep.createElement(eB.ks,{className:vO,placeholder:(0,eb.t)("bug_reporter.modal.title_placeholder"),autoFocus:!0,onKeyDown:e=>B(e,"title"),value:l,onChange:P,maxLength:150})),ep.createElement("div",null,ep.createElement(dn.JU,{className:vN},ep.createElement(eb.Tx,{id:"bug_reporter.modal.severity"})),ep.createElement(iM.l6,{id:"bug_reporter_select_severity",dispatch:n,property:p,onChange:D,dropdownShown:r,formatter:{format:e=>e.name,isEqual:(e,r)=>e.gid===r.gid}},0===e.severityOptions.length&&ep.createElement(iM.c$,{key:"loading",disabled:!0},ep.createElement(eb.Tx,{id:"bug_reporter.modal.loading"})),e.severityOptions.map(e=>ep.createElement(iM.c$,{value:e,key:e.gid},e.name)))),ep.createElement("div",null,ep.createElement(dn.JU,{className:vN},ep.createElement(eb.Tx,{id:"bug_reporter.modal.product_area"})),ep.createElement(iM.l6,{id:"bug_reporter_select_product_area",dispatch:n,property:m,onChange:M,dropdownShown:r,formatter:{format:e=>e.name,isEqual:(e,r)=>e.gid===r.gid}},(()=>{if(0===e.productAreaGroups.size)return ep.createElement(iM.c$,{value:null,key:"loading",disabled:!0},ep.createElement(eb.Tx,{id:"bug_reporter.modal.loading"}));let r=[];return e.productAreaGroups.forEach((e,n)=>{r.push(ep.createElement(iM.c$,{value:null,key:n,disabled:!0},n)),e.forEach(e=>r.push(ep.createElement(iM.c$,{value:e,key:e.gid},e.name))),r.push(ep.createElement(iM.sK,{key:`${n}.divider`}))}),r.pop(),r})())),ep.createElement("div",null,ep.createElement(dn.JU,{className:vN},ep.createElement(eb.Tx,{id:"bug_reporter.modal.description"})),ep.createElement(eB.ks,{className:[vO,"bug_reporter_modal--textArea--CzoUf"].join(" "),placeholder:(0,eb.t)("bug_reporter.modal.description_placeholder"),type:"textarea",value:c,onChange:L,onKeyDown:e=>B(e,"description"),maxLength:1e3})),ep.createElement("div",null,ep.createElement(dn.JU,{className:vN},ep.createElement(eb.Tx,{id:"bug_reporter.modal.images_and_videos"})),ep.createElement(v1,{attachmentFiles:S,setAttachmentFiles:I,validateInputFiles:k})),ep.createElement("div",null,(0,e2.kc)().in_app_performance_profiling&&ep.createElement(ep.Fragment,null,ep.createElement(dn.JU,{className:vN},ep.createElement(eb.Tx,{id:"bug_reporter.profiler.title"})),ep.createElement(vL,{onProfilingFinish:e=>{w(e)}}),T&&ep.createElement(eb.Tx,{id:"bug_reporter.profiler.profile_attached"}))),"fullscreen"===e.selectedView.view&&ep.createElement("div",{className:"bug_reporter_modal--checkboxContainer--CWL2-"},ep.createElement(nQ.S,{checked:y,onChange:F,label:(0,eb.t)("bug_reporter.modal.include_filekey")}),ep.createElement("div",{className:"bug_reporter_modal--checkboxInfo--XiaW-"},ep.createElement(sR.B,{svg:vx.A}),ep.createElement("div",{className:"bug_reporter_modal--checkboxTooltip--tIWTn"},ep.createElement(eb.Tx,{id:"bug_reporter.modal.include_filekey_info"})))),l.startsWith("TEST:")&&vQ,ep.createElement(eB.e2,{className:"bug_reporter_modal--buttonGroup--tQlZ-"},ep.createElement(eB.nR,{onClick:e.onClose,type:"button"},ep.createElement(eb.Tx,{id:"bug_reporter.modal.cancel"})),ep.createElement(eB.$$,{type:"submit",disabled:!N()},(0,eb.t)("bug_reporter.modal.submit"))))))}function v1(e){let{attachmentFiles:r,setAttachmentFiles:n,validateInputFiles:i}=e,a=ep.useRef(null),o=ep.useCallback(()=>{a.current&&(a.current.value="")},[]),s=ep.useCallback(()=>{var e;let r=(null==(e=a.current)?void 0:e.files)||null;if(null===r||0===r.length)return;let s=i([...r]);n(e=>[...e,...s]),o()},[o,i,n]),l=(e,r,i)=>{e.preventDefault(),n(e=>(e.splice(r,1),[...e])),URL.revokeObjectURL(i)};return ep.createElement("div",{className:"bug_reporter_modal--attachmentSection--t-gf-"},r.length>0&&r.map((e,r)=>ep.createElement("div",{className:"bug_reporter_modal--attachmentContainer--XtbdG bug_reporter_modal--attachmentSize--HLvfi",key:r},ep.createElement("div",null,e.type.startsWith("image")?ep.createElement("img",{className:vP,alt:e.name,key:r,src:e.url}):ep.createElement("video",{className:vP,key:r,src:e.url}),ep.createElement("div",{className:"bug_reporter_modal--overlay--27tuj bug_reporter_modal--flexCenter--4wKHZ"})),ep.createElement("button",{onClick:n=>l(n,r,e.url)},ep.createElement(sR.B,{className:"bug_reporter_modal--removeIcon--a8Bv2",svg:vU.A})))),ep.createElement("label",{className:"bug_reporter_modal--fileUpload--R3LW- bug_reporter_modal--flexCenter--4wKHZ bug_reporter_modal--attachmentSize--HLvfi",htmlFor:"file-upload"},ep.createElement(sR.B,{svg:vk.A})),ep.createElement("input",{id:"file-upload",type:"file",accept:"image/png, image/jpeg, image/gif, video/mp4, video/quicktime",ref:a,onChange:s,multiple:!0,hidden:!0}))}function v2(e){let r=(0,eJ.wA)(),n=l4.rf(l4.Pt(vK,"asana-link"),"click",()=>{});return ep.createElement("div",{className:vA},ep.createElement("div",{className:"bug_reporter_modal--successHeader--AM-rR"},ep.createElement(eb.Tx,{id:"bug_reporter.success_message"})),ep.createElement("div",{className:"bug_reporter_modal--linkSection--gq4vQ"},ep.createElement("div",{className:vR},ep.createElement(sR.B,{svg:vF.A}),ep.createElement(eB.CY,{onClick:n,href:e.taskUrl,target:"_blank",trusted:!0},ep.createElement(eb.Tx,{id:"bug_reporter.asana_link"}))),ep.createElement("div",{className:vR},ep.createElement(sR.B,{svg:vM.A}),ep.createElement(eB.CY,{onClick:()=>{r(lT.lW({stringToCopy:e.taskUrl}))},trusted:!0},ep.createElement(eb.Tx,{id:"bug_reporter.copy_link"})))),e.isNewReport&&ep.createElement("div",null,ep.createElement(eb.Tx,{id:"bug_reporter.urgent_bug_info",notifyTheRelevantOncall:ep.createElement(eB.CY,{href:"https://go/find-oncall",target:"_blank",trusted:!0},ep.createElement(eb.Tx,{id:"bug_reporter.notify_oncall"}))})),e.slackUrl&&ep.createElement("div",null,ep.createElement(eB.vx,{className:"bug_reporter_modal--openSlackButton---N1SM",href:e.slackUrl,target:"blank",type:"button"},ep.createElement(eb.Tx,{id:"bug_reporter.open_slack_discussion"}))),e.submissionErrorMessages.length>0&&e.submissionErrorMessages.map(e=>ep.createElement("p",{key:e},e.toString())))}let v3=(0,iK.Ju)(function(){let e=(0,eJ.d4)(e=>e.multiplayer.allUsers.length),r=(0,eJ.d4)(e=>{var r;return null==(r=e.user)?void 0:r.id}),n=(0,vl._6)(),i=(0,eJ.wA)(),{windowInnerHeight:a}=(0,vr.l)(),o=(0,vC.ow)()&&!e_.Ay.isIpad,[s,l]=ep.useState([]),[d,c]=(0,rV.fp)(vY),u=(0,sc.Xr)(v$),p=(0,sc.Xr)(vq),h=(0,sc.Xr)(vZ),m=(0,sc.Xr)(vX),[g,f]=ep.useState(new Map),_=(0,sc.Xr)(vJ),[y,E]=(0,rV.fp)(vj),[b,v]=ep.useState(!1),[S,I]=ep.useState(!1),T=ep.useRef(""),w=ep.useRef(""),C=ep.useRef(""),A=ep.useRef(""),N=ep.useRef(""),O=ep.useRef([]),R=ep.useRef(null),P=ep.useRef(0),L=(0,sc.Xr)(vB),D=()=>{i(rH.Ce())},M=(0,vd.f)("seen_bug_reporter_modal");(0,sd.h)(()=>{M||i(vs.b({seen_bug_reporter_modal:!0})),L(!0)}),ep.useEffect(()=>{(async()=>{try{let{data:e}=await vc.getMeta();l(e.meta.severity),f(vV(e.meta.product_area))}catch(e){i(e3.F.enqueue({message:`Could not fetch field metadata: ${e}`,error:!0}))}})()},[i]);let k=()=>vc.getGetTask({taskGid:T.current}).then(({data:e})=>e).catch(e=>{var r;let n=`Couldn't fetch task details from Asana. ${e.data.message}`;e instanceof eE.Dr&&(null==(r=e.data)?void 0:r.message)&&(n=e.data.message),i(e3.F.enqueue({message:n,error:!0}))}),x=async e=>{if(0===e.length)return{attachments:[],errorMessages:[]};let r=e.map(async e=>{try{return{uuid:await U(e.fileContent,e.type),name:e.name}}catch(r){return{error:`Please add attachment ${e.name} directly in Asana instead. ${r}`}}}),n=await Promise.all(r);return O.current=n.filter(vW).map(({error:e})=>e),{attachments:n.filter(vG),errorMessages:n.filter(vW).map(({error:e})=>e)}},F=async e=>{if(!e)return{attachments:[],errorMessages:[]};try{return{attachments:[{uuid:await U(JSON.stringify(e),"application/json"),name:"profile.json"}],errorMessages:[]}}catch(e){return{attachments:[],errorMessages:[`Please record a profile directly in dev tools instead. ${e}`]}}},U=async(e,r)=>{let n=await vc.getAttachmentUploadUrl({fileType:r});if(200!==n.status)throw Error("Failed to get presigned upload URL from S3");let{upload_url:i,fields:a,uuid:o}=n.data.meta,s=new FormData;for(let e in a)s.append(e,a[e]);if(s.append("content-type",r),s.append("file",e),204!==(await fetch(i,{method:"post",body:s})).status)throw Error("Failed to upload attachment to S3");return o},B=async(a,o,s,l,c,u,p)=>{var h,m,g;I(!0),A.current=a,N.current=o,i(e3.F.enqueue({type:"bug-reporter-submitting",message:(0,eb.t)("bug_reporter.submitting_visual_bell"),timeoutType:"exact",timeoutOverride:4e3,icon:t0.zX.SPINNER})),i(e3.F.enqueue({type:"bug-reporter-submitting-long",message:(0,eb.t)("bug_reporter.long_submitting_visual_bell"),delay:4e3,icon:t0.zX.SPINNER}));let f={env:(0,e2.tl)().cluster_name,user_agent:navigator.userAgent,view:n.view,user_id:r,org_id:(0,e2.tl)().org_id,tracking_session_id:(0,e2.tl)().tracking_session_id,release_commit:(0,e2.tl)().release_manifest_git_commit,device_info:(0,vn.N)(),num_people_in_file:e};"fullscreen"===n.view?(f.editor_type=(0,tB.Bu)(n.editorType),c&&(f.file_key=n.fileKey,f.url=window.location.href)):f.url=window.location.href;let E={title:a,severity:s.gid,product_area:l.gid,description:o,metadata:f},b=[x(u),F(p)],[S,L]=await Promise.all(b);S.attachments.length>0&&(E.attachments=S.attachments),L.attachments.length>0&&(E.profileUuid=L.attachments[0].uuid),(S.errorMessages.length||L.errorMessages.length)&&(O.current=[...S.errorMessages,...L.errorMessages]);try{let e=y?await eE.Ay.post("/api/bug_reports",E):await eE.Ay.put("/api/bug_reports/update_task",{...E,task_gid:T.current=vH(d)});if(e.status>=200&&e.status<300)i(e3.F.dequeue({matchType:"bug-reporter-submitting"})),i(e3.F.dequeue({matchType:"bug-reporter-submitting-long"})),w.current=e.data.meta.task_url,T.current=e.data.meta.task_gid,y||(C.current=e.data.meta.slack_url),P.current=(null==(m=null==(h=R.current)?void 0:h.getCurrentContentSize())?void 0:m.y)||0,v(!0),_(!0),I(!1);else throw Error(`Request failed with code ${e.status}.`)}catch(r){i(e3.F.dequeue({matchType:"bug-reporter-submitting"})),i(e3.F.dequeue({matchType:"bug-reporter-submitting-long"}));let e=r.message;r instanceof eE.Dr&&(null==(g=r.data)?void 0:g.message)&&"string"==typeof r.data.message&&(e=r.data.message),i(e3.F.enqueue({message:`${e}. Couldn't submit report. Try again or use /bug in Slack.`,error:!0})),I(!1)}},V=async e=>{T.current=e,E(!1);let r=await k();r&&(u(r.meta.title),p(r.meta.description),h(r.meta.severity??vz),m(r.meta.product_area??vz))};return ep.createElement(oF.vx,{ref:R,title:(0,eb.t)("help_widget.menu.report_issue"),initialPosition:(()=>{let e=o?vo.lc:vo.Ug,r=vo.lc;return b&&(r=a-(P.current+oF.uF)-vo.lc),new ok.Mi(e,r)})(),initialConstraints:{x:"right",y:b?"top":"bottom"},onClose:D,recordingKey:vK,headerClassName:"bug_reporter_modal--draggableModalHeader--0xz5X",dragHeaderOnly:!0},b?ep.createElement(v2,{isNewReport:y,taskUrl:w.current,taskGid:T.current,slackUrl:C.current,title:A.current,description:N.current,submissionErrorMessages:O.current}):ep.createElement(v0,{isNewReport:y,selectedView:n,severityOptions:s,productAreaGroups:g,attachFromTask:V,submitBugReport:B,onClose:D,clearForm:()=>{E(!0),u(""),p(""),m(vz),h(vz),T.current="",c("")},isSubmitting:S}))},"BugReporterModal");var v5=n(15408),v4=n(47506),v6=n(60187),v8=n(65723),v7=n(85575);let v9="https://help.figma.com/hc/articles/360039825114",Se="user_color_profile_modal--radioOption--mxz6m",St="user_color_profile_modal--spacer--QQeWl",Sr="user_color_profile_modal--link--ELp0D",Sn=(e,r)=>{switch(e){case v7.M.SRGB:return{text:(0,eb.t)("fullscreen.color_management.user_color_profile_modal.info.srgb_supported"),type:"info"};case v7.M.DISPLAY_P3:switch(r.status){case"SupportedNatively":case"SupportedWithPolyfill":return{text:(0,eb.t)("fullscreen.color_management.user_color_profile_modal.info.display_p3_supported"),type:"info"};case"ClientNotSupported":let n=r.diagnostics&&"client"in r.diagnostics&&"desktop-app"===r.diagnostics.client?(0,eb.t)("fullscreen.color_management.user_color_profile_modal.client_type.desktop_app"):(0,eb.t)("fullscreen.color_management.user_color_profile_modal.client_type.browser");if(r.diagnostics&&"shouldRestartDesktopAppInManagedColorSpace"in r.diagnostics&&r.diagnostics.shouldRestartDesktopAppInManagedColorSpace)return{text:(0,eb.t)("fullscreen.color_management.beta.warning.desktop_unmanaged"),type:"warning"};return{text:(0,eb.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.client",{client:n}),type:"warning"};case"MonitorNotSupported":if(r.diagnostics&&"alternativeMonitorName"in r.diagnostics&&r.diagnostics.alternativeMonitorName)return{text:(0,eb.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.alternative_display",{displayName:r.diagnostics.alternativeMonitorName}),type:"warning"};return{text:(0,eb.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.display"),type:"warning"}}}},Si="user-color-profile",Sa={srgbOption:`${Si}-srgb-option`,p3Option:`${Si}-p3-option`,supportDetailsWarningIcon:`${Si}-warning-icon`,supportDetailsInfoIcon:`${Si}-info-icon`},So=(0,eF.eU)(!1),Ss=(0,iK.Ju)(function(){let e=(0,eJ.wA)(),r=(0,v8.jK)(),n=function(e){switch(e){case v7.M.DEFAULT:case v7.M.SRGB:return v7.M.SRGB;case v7.M.DISPLAY_P3:return v7.M.DISPLAY_P3}}(r.colorProfilePreference),i=Sn(n,(0,v6.Av)()),a=function(e){switch(e){case v7.M.SRGB:return(0,eb.t)("fullscreen.color_management.user_color_profile_modal.options.srgb.description");case v7.M.DISPLAY_P3:return(0,eb.t)("fullscreen.color_management.user_color_profile_modal.options.display_p3.description")}}(n),[o,s]=(0,rV.fp)(So);return ep.useEffect(()=>(o||s(!0),()=>{o&&((0,v4.YQ)({id:"user_color_profile_modal_closed"}),s(!1))}),[s,o]),ep.createElement(ev.fu,{name:"color_management_user_color_profile_modal"},ep.createElement(iY.XV,{title:(0,eb.t)("fullscreen.color_management.user_color_profile_modal.title"),minWidth:320,maxWidth:320,onClose:()=>{e((0,rH.AS)())}},ep.createElement("div",{className:"user_color_profile_modal--modal--H7Wks"},ep.createElement("label",{className:"user_color_profile_modal--radioGroupLabel--vCOMC"},ep.createElement(gE.E,null,ep.createElement(eb.Tx,{id:"fullscreen.color_management.user_color_profile_modal.options.label"}))),ep.createElement(aA.z,{isHorizontal:!0,className:"user_color_profile_modal--radioGroup--LlxIx",value:n,onChange:e=>{(0,v8.it)({colorProfilePreference:e,id:r.id})}},ep.createElement(aA.Z,{className:Se,value:v7.M.SRGB,dataTestId:Sa.srgbOption},(0,eb.t)("fullscreen.color_management.user_color_profile_modal.options.srgb.value")),ep.createElement(aA.Z,{className:Se,value:v7.M.DISPLAY_P3,dataTestId:Sa.p3Option},(0,eb.t)("fullscreen.color_management.user_color_profile_modal.options.display_p3.value"))),ep.createElement(gE.E,{color:"secondary"},a),ep.createElement("div",{className:St}),ep.createElement(gE.E,{color:"secondary"},ep.createElement(eb.Tx,{id:"fullscreen.color_management.user_color_profile_modal.descriptions.affected_files"})),ep.createElement("span",{style:{whiteSpace:"pre"}}," "),ep.createElement(eB.Ph,{trusted:!0,href:v9,target:"_blank",className:Sr},ep.createElement(eb.Tx,{id:"rcs.rcs_shared.learn_more"})),ep.createElement("div",{className:St}),ep.createElement("div",{className:"user_color_profile_modal--divider--zXJdK"}),ep.createElement("div",{className:"user_color_profile_modal--bottomSupportContainer--bcsV6"},ep.createElement(hi.In,{icon:"warning"===i.type?"warning-32":"info-32",dataTestId:"warning"===i.type?Sa.supportDetailsWarningIcon:Sa.supportDetailsInfoIcon}),ep.createElement("span",null,i.text,"warning"===i.type&&ep.createElement(ep.Fragment,null,ep.createElement("span",{style:{whiteSpace:"pre"}}," "),ep.createElement(eB.Ph,{trusted:!0,href:v9,target:"_blank",className:Sr},ep.createElement(eb.Tx,{id:"rcs.rcs_shared.learn_more"}))))))))},"user_color_profile_modal");var Sl=n(62531);let Sd="debug-missing-fonts-modal";(0,iK.qK)(Sd,e=>ep.createElement(Sc,{...e,recordingKey:"debugMissingFontsModal"}));class Sc extends ep.Component{constructor(e){super(e),this.onFontFamilyChange=e=>{this.setState({fontFamily:e.currentTarget.value})},this.onFontStyleChange=e=>{this.setState({fontStyle:e.currentTarget.value})},this.onSubmit=()=>{this.state.fontFamily&&this.state.fontStyle&&(Sl.l7.user("set-missing-font",()=>{ts.Y5.setMissingFont(this.state.fontFamily,this.state.fontStyle)}),this.props.dispatch(rH.Ce()))},this.state={fontFamily:"Have Fun",fontStyle:"Bold"}}render(){return ep.createElement(o$.aF,{size:"small",title:"Set missing font on selected text",onKeyDown:e=>{e.keyCode===sE.Uz.ENTER&&this.onSubmit()}},ep.createElement(oj.s_,{...this.props}),ep.createElement("p",null,"Font family"),ep.createElement(dn.ks,{value:this.state.fontFamily,onChange:this.onFontFamilyChange,placeholder:"Font family",recordingKey:l4.Pt(this.props,"fontFamily"),required:!0}),ep.createElement("p",null,"Font style"),ep.createElement(dn.ks,{value:this.state.fontStyle,onChange:this.onFontStyleChange,recordingKey:l4.Pt(this.props,"fontStyle"),placeholder:"Font style",required:!0}),ep.createElement(eB.$$,{onClick:this.onSubmit,recordingKey:l4.Pt(this.props,"setMissingFontButton")},"Set missing font"))}}Sc.displayName="DebugMissingFontsModal";var Su=n(56217),Sp=n(25719),Sh=n(45519),Sm=n(25651);function Sg(e){return document.querySelector(`[data-element-target=${e}]`)}var Sf=n(60289);n(1922);var S_=n(11080),Sy=n(2232),SE=n(88706),Sb=((et=Sb||{}).STICKY="STICKY",et.STAMP="STAMP",et.PAN="PAN",et.ZOOM="ZOOM",et);let Sv=Object.values(Sb),SS=(0,SE.um)({onboardingCanShow:!1,shownTooltips:new Set(Sv)},(e,r)=>{switch(r.type){case"INITIALIZE_ONBOARDING":{let r=new Set(Sv);return{...e,onboardingCanShow:!0,shownTooltips:r}}case"DISMISS_ONBOARDING":return{...e,shownTooltips:new Set};case"DISMISS_TOOLTIP":{let n=new Set([...e.shownTooltips]);return n.delete(r.tooltip),{...e,shownTooltips:n}}case"SHOW_TOOLTIP":{let n=new Set([...e.shownTooltips]);return n.add(r.tooltip),{...e,shownTooltips:n}}}});function SI(){return(0,rV.md)(SS).onboardingCanShow}(0,eF.eU)(e=>{let{onboardingCanShow:r,shownTooltips:n}=e(SS);return r&&!n.size});var ST=n(62693);function Sw(e){return ep.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"8",viewBox:"0 0 11 8",fill:"none"},ep.createElement("path",{d:"M1 3.5L4 6.5L9.5 1",stroke:"white",strokeWidth:"2",strokeDasharray:"12",strokeDashoffset:"12",ref:e.checkmarkRef}))}function SC(e){return ep.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"13",viewBox:"0 0 11 8",fill:"none"},ep.createElement("path",{d:"M1 3.5L4 6.5L9.5 1",stroke:"white",strokeWidth:"2",strokeDasharray:"13",strokeDashoffset:"13",ref:e.checkmarkRef}))}var SA=((er=SA||{}).SMALL="small",er.MEDIUM="medium",er);let SN={small:{borderRadius:"32px",bubbleEndSize:"25px",bubbleShadowSize:"43px",bubbleShadowEndSize:"55px",bounceBottom:"7px",bounceTop:"-18px",bounceEnd:"0px",strokeDashoffset:12,strokeDashoffsetMiddle:7},medium:{borderRadius:"27px",bubbleEndSize:"41px",bubbleShadowSize:"74px",bubbleShadowEndSize:"95px",bounceBottom:"16px",bounceTop:"0px",bounceEnd:"8px",strokeDashoffset:13,strokeDashoffsetMiddle:7}},SO="bubble--hideBubble---1zJf";function SR(e){let{shouldAnimate:r,parentRect:n,size:i,hidePointer:a,onClose:o}=e,s=n.left+n.width/2;return ep.createElement("div",{className:ek()("bubble--bubbleVerticallyCentered--AKpcw",{[SO]:e.hideBubble}),style:{left:s}},ep.createElement(SP,{size:i,textContent:e.textContent,hidePointer:a,onClose:o,hideBubble:e.hideBubble,shouldAnimate:r}))}function SP(e){let r=ep.useRef(null),n=ep.useRef(null),i=ep.useRef(null),a=ep.useRef(null),o=ep.useRef(null),s=ep.useRef(null),[l,d]=ep.useState(!1),{playAnimations:c}=function(e,r){var n;let[i,a]=ep.useState([]),[o,s]=ep.useState(!1),{positionContainerRef:l,bubbleRef:d,bubbleShadowRef:c,textRef:u,checkmarkRef:p,closeButtonRef:h}=r,m=(null==(n=d.current)?void 0:n.getBoundingClientRect().width)||0;return ep.useLayoutEffect(()=>{let r=new KeyframeEffect(u.current,[{offset:0,opacity:1},{offset:1,opacity:0}],{duration:150,fill:"forwards"}),n=new KeyframeEffect(h.current,[{offset:0,opacity:1},{offset:1,opacity:0}],{duration:150,fill:"forwards"}),i=new KeyframeEffect(d.current,[{offset:0,opacity:1},{offset:1,opacity:0}],{delay:150,duration:50,pseudoElement:"::before",easing:"ease-out",fill:"forwards"}),o=new KeyframeEffect(d.current,[{offset:0,opacity:1},{offset:1,opacity:0}],{delay:150,duration:50,pseudoElement:"::after",easing:"ease-out",fill:"forwards"}),s=new KeyframeEffect(d.current,[{offset:0,width:m+"px",borderRadius:"3px",backgroundColor:"var(--color-bg-figjam-tertiary)"},{offset:.2,borderRadius:SN[e].borderRadius,backgroundColor:"var(--color-bg-figjam-tertiary)"},{offset:.9,borderRadius:SN[e].borderRadius,height:SN[e].bubbleEndSize,backgroundColor:"var(--color-bg-figjam-tertiary)"},{offset:1,width:SN[e].bubbleEndSize,height:SN[e].bubbleEndSize,borderRadius:SN[e].borderRadius,backgroundColor:"var(--color-text-figjam)"}],{delay:150,duration:350,easing:"cubic-bezier(0,0,.57,1.30)",fill:"forwards"}),g=new KeyframeEffect(d.current,[{offset:0,backgroundColor:"var(--color-bg-figjam-tertiary)"},{offset:.9,backgroundColor:"var(--color-bg-figjam-tertiary)"},{offset:1,backgroundColor:"var(--color-text-figjam)"}],{delay:150,duration:350,fill:"forwards"}),f=new KeyframeEffect(l.current,[{offset:0,transform:"translateY(0)",easing:"ease-out"},{offset:.4,transform:`translateY(${SN[e].bounceBottom})`},{offset:.45,transform:`translateY(${SN[e].bounceBottom})`,easing:"cubic-bezier(0,0,.3,1.1)"},{offset:.7,transform:`translateY(${SN[e].bounceTop})`},{offset:.75,transform:`translateY(${SN[e].bounceTop})`,easing:"ease-in"},{offset:1,transform:`translateY(${SN[e].bounceEnd})`}],{delay:500,duration:1e3,fill:"forwards"}),_=new KeyframeEffect(c.current,[{offset:0,opacity:0,width:SN[e].bubbleEndSize,height:SN[e].bubbleEndSize},{offset:.5,opacity:0,width:SN[e].bubbleEndSize,height:SN[e].bubbleEndSize},{offset:.7,width:SN[e].bubbleShadowSize,height:SN[e].bubbleShadowSize,opacity:"50%",easing:"ease-in"},{offset:1,width:SN[e].bubbleShadowEndSize,height:SN[e].bubbleShadowEndSize,opacity:0}],{delay:500,duration:1e3,fill:"forwards"});a([r,n,i,o,s,g,f,_,new KeyframeEffect(p.current,[{offset:0,strokeDashoffset:SN[e].strokeDashoffset},{offset:.1,strokeDashoffset:SN[e].strokeDashoffset,easing:"ease-in"},{offset:.4,strokeDashoffset:SN[e].strokeDashoffsetMiddle,easing:"ease-out"},{offset:.5,strokeDashoffset:0},{offset:1,strokeDashoffset:0}],{delay:500,duration:1e3,fill:"forwards"}),new KeyframeEffect(d.current,[{offset:0,opacity:1},{offset:1,opacity:0}],{delay:2250,duration:300,fill:"forwards"})].map(e=>new Animation(e,document.timeline)))},[e,m,l,d,c,u,p,h]),ep.useEffect(()=>{o&&Promise.all(i.map(e=>e.finished)).then(()=>{var e;null==(e=l.current)||e.remove()})},[o,i,l]),{playAnimations:ep.useCallback(()=>{i.forEach(e=>{e.playbackRate=1,e.play()}),s(!0)},[i]),reverseAnimations:ep.useCallback(()=>{i.forEach(e=>{e.playbackRate=-1,e.play()})},[i])}}(e.size,{positionContainerRef:r,bubbleRef:n,bubbleShadowRef:i,textRef:a,checkmarkRef:o,closeButtonRef:s}),u=SI();return ep.useEffect(()=>{e.shouldAnimate&&u&&!l&&(c(),d(!0))},[e.shouldAnimate,e.hideBubble,u,l,c]),ep.createElement("div",{ref:r,className:ek()({[SO]:e.hideBubble})},ep.createElement("div",{className:"bubble--bubbleShadow--eA35B",ref:i}),ep.createElement("div",{className:ek()("bubble--bubble--wAXmZ",{"bubble--pointer--gruAw":!e.hidePointer}),ref:n},ep.createElement("div",{className:"bubble--checkmark--8-vvX"},e.size===SA.SMALL?ep.createElement(Sw,{checkmarkRef:o}):ep.createElement(SC,{checkmarkRef:o})),ep.createElement("span",{className:"bubble--textContent--dFa2u",ref:a},e.textContent),ep.createElement("div",{ref:s},ep.createElement(oj.Jn,{className:ek()("bubble--closeButton--cS8xW",{"bubble--hide--ylxwm":l}),onClick:e.onClose}))))}let SL="participant_onboarding_stamp_tooltip";function SD(e){let r=(0,sc.Xr)(SS),n=function(){let e=(0,ST.FL)();return SI()&&!e}(),i=function(e){let r=function(e){let r=(0,rV.md)(SS);return r.onboardingCanShow&&r.shownTooltips.has(e)}(e),n=(0,e1.Z)(r);return!r&&n}(Sb.STAMP),a=(0,eJ.d4)(ac.sS);return ep.createElement(ev.fu,{name:SL,enabled:n,properties:{file_key:a,product_type:"figjam"}},ep.createElement(SR,{size:SA.SMALL,parentRect:e.parentRect,textContent:ep.createElement("span",{className:"tooltips--text--uzK7B text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(eb.Tx,{id:"whiteboard.delightful_toolbar.participant_onboarding.react_with_stamps",boldText:ep.createElement("span",{className:eV.cx.fontBold.$},ep.createElement(eb.Tx,{id:"whiteboard.delightful_toolbar.participant_onboarding.stamps_bolded"}))})),onClose:()=>{r({type:"DISMISS_TOOLTIP",tooltip:Sb.STAMP}),(0,eS.Cu)({context:SL,text:"dismiss",file_key:a,product_type:"figjam"})},shouldAnimate:i,hideBubble:!n}))}function SM({toolType:e,inactiveIcon:r,hoveredIcon:n,activeIcon:i,isHovered:a,isSelected:o}){return ep.createElement(Sx,{toolType:e},ep.createElement("div",{className:"dlt_hoverable_icon--centeredIcon--clLyK"},o?i:a?n:r))}let Sk=ep.createContext({enableHiding:!1,visibleTool:"text"});function Sx({toolType:e,children:r}){let n=ep.useContext(Sk);return ep.createElement(ep.Fragment,null,n.enableHiding&&n.visibleTool!==e?null:r)}var SF=n(19001);let SU=class{static getMotionDivId(e){return`dlt-${e}-motion-div`}static getAnimationState(e){let r=document.querySelector(`[data-testid="${SU.getMotionDivId(e)}"]`);return(null==r?void 0:r.getAttribute("data-test-animate-state"))||""}};SU.RECORD_DETAILED_EVENTS=!1;var SB=n(58200);function SV({className:e,disabled:r,isDragging:n,children:i,"aria-hidden":a}){return ep.createElement("div",{"aria-disabled":r,"aria-hidden":a,className:ek()(SB.F0,{[e||""]:!!e,[SB.FK]:r,[SB.Bx]:n,[SB.i9]:!e_.Ay.safari}),"data-fullscreen-intercept":!0},i)}let SH=(0,ep.forwardRef)(({toolType:e,isSelected:r,onClick:n,children:i,tooltipOffset:a={offsetX:0,offsetY:12},tooltipLocation:o="above",className:s,recordingKey:l,onboardingKey:d,ButtonLayout:c=SV,isDisabled:u=!1,clickOnMouseDown:p=!1,inTabOrder:h=!0,ariaLabel:m,isHovered:g,isEnabledForViewers:f=!1,onMouseEnter:_,onMouseMove:y,onMouseLeave:E,onTouchStart:b,onTouchEnd:v,hasOpenSubmenu:S,testId:I,...T},w)=>{let{state:C,dispatch:A}=(0,ep.useContext)(SF.nS),N=(0,ST.hv)({isEnabledForViewers:f})||u,O=C.draggedTool===e,R=m||T["data-tooltip"],P=e=>{e.preventDefault(),e.stopPropagation(),C.shouldFinishClick&&!p&&n(e)};return ep.createElement(l6.D8,{className:ek()(SB.Zh,SB.$y,{[SB.ll]:N}),recordingKey:l,onMouseEnter:_,onMouseMove:y,onMouseLeave:E,onTouchStart:b,onTouchEnd:v,onPointerDown:N?void 0:e=>{if(e.preventDefault(),e.stopPropagation(),p?(n(e),A({type:"cancel drag"})):A({type:"start click"}),!SU.RECORD_DETAILED_EVENTS)return l4.aH},onClick:N?void 0:P,"data-tooltip-type":O?null:T["data-tooltip-type"],"data-tooltip-submenu-open":S,"data-tooltip":T["data-tooltip"],"data-tooltip-offset-x":T["data-tooltip-offset-x"]??a.offsetX,"data-tooltip-offset-y":T["data-tooltip-offset-y"]??a.offsetY,"data-tooltip-show-above":"above"===o||void 0,"data-tooltip-show-below":"below"===o||void 0,"data-tooltip-show-left":"left"===o||void 0,"data-tooltip-bottom-flip-margin":T["data-tooltip-bottom-flip-margin"],"data-onboarding-key":d,"data-fullscreen-intercept":!0,"data-testid":I},ep.createElement(c,{className:s,isHovering:g,isSelected:r,disabled:N,isDragging:O,"aria-hidden":!0},i),ep.createElement(l6.D8,{className:ek()(SB.yG,SB.dR,{[SB.ll]:N,[SB.vu]:r,[SB.Lt]:"select"===e,[SB.sD]:"hand"===e}),onClick:N?void 0:P,onKeyDown:N?void 0:e=>{e.keyCode===sE.Uz.ENTER&&C.shouldFinishClick&&!p&&n(e)},forwardedRef:w,role:function(e,r){let n;return e.shouldDemoteDlt?n="presentation":r&&(n="button"),n}(C,h),tabIndex:h&&!N?0:-1,"aria-hidden":!h,"aria-label":R&&h?function(e){try{return(0,gq.A)(e)||e}catch(r){return e}}(R):void 0,"aria-disabled":N,"data-fullscreen-intercept":!0}))}),SG=(0,ep.forwardRef)(({children:e,hasExtraLongHoverTime:r,...n},i)=>{let{isHovered:a,hoverTarget:o,onMouseEnter:s,onMouseMove:l,onMouseLeave:d,onTouchStart:c,onTouchEnd:u}=function(e=sK.lQ,r=!1,n=!0){let{state:i}=(0,ep.useContext)(SF.nS),[a,o]=(0,ep.useState)({isHovered:!1,hoverTarget:null}),s=(0,ep.useRef)(0);(0,ep.useEffect)(()=>{i.draggedTool||o({isHovered:!1,hoverTarget:null})},[i.draggedTool]),(0,ep.useEffect)(()=>()=>clearTimeout(s.current),[]);let l=(0,ep.useCallback)(e=>{if(r?(o({isHovered:!1,hoverTarget:null}),clearTimeout(s.current),s.current=setTimeout(()=>{o({isHovered:!0,hoverTarget:e.target})},400)):o({isHovered:!0,hoverTarget:e.target}),!SU.RECORD_DETAILED_EVENTS)return l4.aH},[r]),d=(0,ep.useCallback)(e=>{a.isHovered&&e.target!==a.hoverTarget&&o({isHovered:!0,hoverTarget:e.target})},[a.hoverTarget,a.isHovered]),c=(0,ep.useCallback)(()=>{if(clearTimeout(s.current),o({isHovered:!1,hoverTarget:null}),!SU.RECORD_DETAILED_EVENTS)return l4.aH},[]),u=(0,ep.useCallback)(e=>{e.preventDefault(),n&&o({isHovered:!0,hoverTarget:e.target})},[n]),p=(0,ep.useCallback)(r=>{r.preventDefault(),i.shouldFinishClick&&e(r),n&&o({isHovered:!1,hoverTarget:null})},[n,i.shouldFinishClick,e]);return{...a,onMouseEnter:l,onMouseLeave:c,onMouseMove:d,onTouchStart:u,onTouchEnd:p}}(n.onClick,r),p="function"==typeof e?e(a,o):e;return ep.createElement(SH,{...n,ref:i,isHovered:a,onMouseEnter:s,onMouseLeave:d,onMouseMove:l,onTouchStart:c,onTouchEnd:u},p)});(0,ev.tf)(SG);var SW=n(48959);n(98371);var Sz=n(84968),SK=n(73),Sj=n(87392),SY=n(68702);n(40871);var S$=((en=S$||{}).FEATURE_DISABLED="featureDisabled",en.ELIGIBLE_WITH_MOVE_FILE_TO_PAID_TEAM="eligibleWithMoveFileToPaidTeam",en.ELIGIBLE_WITH_UPGRADE="eligibleWithUpgrade",en.ELIGIBLE="eligible",en);let Sq="delightful-toolbar-stamp-button",SZ=(0,aj.jz)(tQ.tui),SX={padBottom:30,height:512},SJ=100*SX.padBottom/SX.height,SQ=`calc(${SJ}% + -14px)`,S0=`translateY(${SQ})`;function S1({onClickToOpenWheel:e,leaveVotingSessionAndCloseWheel:r,numVotesRemaining:n,hasRemainingVotes:i}){let[a,o]=(0,ep.useState)(!1),s=i&&!e_.Ay.isIpad;S2({shouldOpenWheelOnHover:s,isHovered:a});let l=i?SB.rf:SB.he;return ep.createElement("button",{className:ek()(SB.tS,l),onMouseEnter:()=>!e_.Ay.isIpad&&o(!0),onMouseLeave:()=>!e_.Ay.isIpad&&o(!1),onClick:()=>{s||(i?e():r())},tabIndex:-1},i?ep.createElement("span",{className:SB._V},ep.createElement(eb.Tx,{id:"voting.delightful_toolbar.votes_remaining",numVotes:n})):ep.createElement(ep.Fragment,null,ep.createElement(sR.B,{className:SB.oE,svg:_2.A}),ep.createElement("span",{className:SB._V},ep.createElement(eb.Tx,{id:"voting.delightful_toolbar.no_votes_remaining"}))))}function S2({shouldOpenWheelOnHover:e,isHovered:r}){let n=e&&r;(0,ep.useEffect)(()=>{if(!n)return;let e=setTimeout(()=>S4({source:"peeking_vote_wheel_hover",openedViaHover:!0}),100);return()=>clearTimeout(e)},[n])}function S3({onClickToOpenWheel:e,isStampToolSelected:r,hasRemainingVotes:n}){let[i,a]=(0,ep.useState)(!1),o=ep.useRef(null),s=S5(),l=function({isHidden:e,wheelRef:r}){let[n,i]=ep.useState(!1);return ep.useEffect(()=>{if(e){i(!0);return}let n=r.current;if(!n){i(!1);return}let a=()=>{i(!1),n.removeEventListener("transitionend",a)};return n.addEventListener("transitionend",a),()=>{n.removeEventListener("transitionend",a)}},[e,r]),e||n}({isHidden:s,wheelRef:o}),d=n&&!e_.Ay.isIpad;S2({shouldOpenWheelOnHover:d,isHovered:i}),(0,ep.useEffect)(()=>{let e=o.current;if(!e)return;let r={transform:`${S0} scale(1.05)`},n={transform:`${S0} scale(1)`},i=new Animation(new KeyframeEffect(e,[{transform:"translateY(100%) scale(0.1)"},r],{duration:450,easing:"ease-out"})),a=new Animation(new KeyframeEffect(e,[r,n],{duration:200,easing:"ease-in-out"})),s=new Animation(new KeyframeEffect(e,[n,n],{duration:400})),l=new Animation(new KeyframeEffect(e,[n,{}],{duration:300,easing:"cubic-bezier(0.37, 0, 0.48, 1.33)"}));return i.play(),i.finished.then(()=>a.play()).catch(()=>{}),a.finished.then(()=>s.play()).catch(()=>{}),s.finished.then(()=>l.play()).catch(()=>{}),()=>{i.cancel(),s.cancel(),l.cancel()}},[o]);let c=!(r||n);return ep.createElement("div",{className:SB.$},ep.createElement("button",{ref:o,tabIndex:-1,className:ek()(SB.uA,{[SB.hA]:c,[SB.wj]:s,[SB.tq]:l,[SB.FP]:!n}),onMouseEnter:()=>!e_.Ay.isIpad&&a(!0),onMouseLeave:()=>!e_.Ay.isIpad&&a(!1),onClick:()=>!d&&e()}))}function S5(){return(0,eJ.d4)(e=>"WHEEL"===e.multiplayerEmoji.type&&["STAMP1","STAMP2"].includes(e.multiplayerEmoji.wheelType))}function S4({source:e,openedViaHover:r=!1}){let n=Sg(Sq),i=Sg(Sy.HY);if(n||i){let a=n?n.getBoundingClientRect():i.getBoundingClientRect(),o=a.x+a.width/2,s=a.y-116-14-SZ;l.handleShortcutPressWithType({viewportX:o,viewportY:s,source:e,openedViaHover:r,wheelType:"STAMP"}),l.handleShortcutRelease(o,s)}}(0,ep.memo)(function(){let e=(0,eJ.wA)(),r=S5(),n=(0,eJ.d4)(e=>{var r,n;return(null==(n=null==(r=null==e?void 0:e.mirror)?void 0:r.appModel)?void 0:n.currentTool)===eA.NLJ.STAMP})||r,i=(0,Sf.XM)(),a=function(){var e;let r=(0,eJ.d4)(e=>e.mirror.appModel.votingSessionInfo),n=ts.BI.getUserId(),i=n&&(null==(e=r.userIdToVoteStampIds[n])?void 0:e.length)||0;return r.userVoteLimit-i}(),o=a>0,s=(0,eJ.d4)(e=>e.universalInsertModal.showing),d=(0,SW.bu)(),c=ep.useRef(null),u=(0,ep.useCallback)(()=>{i&&e(Sm.H1({votingStage:eT.W8Y.NOT_JOINED})),e(Sh.Ho())},[e,i]),p=(0,ep.useCallback)(()=>{r?l.closeWheel():S4({source:Sy.fK})},[r]);return ep.createElement("div",{"data-element-target":Sq,className:ek()(SB.Zh,SB.Bm),ref:c},(null==c?void 0:c.current)&&ep.createElement(SD,{parentRect:c.current.getBoundingClientRect()}),ep.createElement(SG,{toolType:"stamp",recordingKey:(0,Sy.hx)("stamp"),isSelected:n,className:SB.iE,onClick:p,"data-tooltip-type":iL.Ib.LOOKUP,"data-tooltip":"set-tool-stamp",onboardingKey:"stamp",tooltipLocation:i?"below":"above",tooltipOffset:i?{offsetX:0,offsetY:-14}:void 0,"data-tooltip-bottom-flip-margin":i?0:void 0,hasOpenSubmenu:!1},e=>ep.createElement(SM,{toolType:"stamp",inactiveIcon:ep.createElement(S_.oV,null),hoveredIcon:ep.createElement(S_.mS,null),activeIcon:ep.createElement(S_.dF,null),isSelected:n,isHovered:e})),i&&!s&&!d&&ep.createElement(ep.Fragment,null,ep.createElement(S1,{leaveVotingSessionAndCloseWheel:u,onClickToOpenWheel:p,numVotesRemaining:a,hasRemainingVotes:o}),ep.createElement(S3,{onClickToOpenWheel:p,isStampToolSelected:n,hasRemainingVotes:o})))});var S6=n(89584);let S8=[{action:"regenerate-all-instances"},{action:"regenerate-missing-thumbnails",flags:["design"],featureFlags:["regenerate_thumbnails_action"],searchOnly:!0,isLowPriorityMatch:!0},{action:"update-instance-layout-version",featureFlags:["instance_layout_version_swapsize"]},{action:"detach-all-instances"},{action:"repair-selected-instances"},{action:"repair-state-group-versions"},{action:"repair-variable-connections",flags:["design","whiteboard","slides"]},{action:"repair-variable-mode-values",flags:["design","whiteboard","slides"],featureFlags:["internal_only_debug_tools"]},{action:"restore-soft-deleted-variable-sets",flags:["design"],featureFlags:["show_internal_only_canvas","internal_only_debug_tools"]},{action:"remove-orphaned-variables",flags:["design","whiteboard","slides"],featureFlags:["internal_only_debug_tools"]},{action:"reresolve-variable-references",flags:["design","whiteboard","slides"]},{action:"regenerate-component-props"},{action:"relink-instances-to-local-component"},{action:"find-shared-instances-need-relinking"},{action:"calculate-deleted-components-published-version"},{action:"clear-component-props-data-for-selection"},{action:"prune-invalid-component-prop-refs"},{action:"update-via-instance-swap",featureFlags:["ds_update_via_instance_swap"],callback:(e,r,n)=>{!function(e,r){let{instance:n}=tf.qo,i=Object.keys(e),a=e=>{let r=e.symbolId;if(!r)return null;let i=n.get(r);if(!i)return null;if(i.isState){let e=i.parentNode;if(!e)return null;if(e.isStateGroup&&e.stateGroupKey)return{type:"STATE_GROUP",key:e.stateGroupKey}}else if(i.componentKey)return{type:"COMPONENT",key:i.componentKey};return null},o=i.map(e=>n.get(e)).reduce((e,r)=>{if(!r)return e;for(let[i,a]of("INSTANCE"===r.type&&e.push(r),r.findAllWithCriteria({types:["INSTANCE"]})||[])){let r=n.guidFromDeveloperFriendlyId(i),a=n.get(r);a&&e.push(a)}return e},[]).reduce((e,r)=>{let n=a(r);return n&&(e[n.key]=n),e},Object.create(null)),s=n.get("0:0");if(!s)return;let l=s.findAllWithCriteria({types:["INSTANCE"]}).reduce((e,[r,i])=>{let s=n.guidFromDeveloperFriendlyId(r),l=n.get(s);if(!l)return e;let d=a(l);if(!d)return e;let{key:c}=d;return o[c]&&(e[c]||(e[c]=[]),e[c].push(l)),e},Object.create(null))||{},d=[],c=()=>{console.log("[Update via instance swap] Updated all instances of:",d.map(e=>[e.name,e.type,e.isStateGroup?e.stateGroupKey:e.componentKey])),0===d.length?r(e3.F.enqueue({message:"Nothing to update"})):1===d.length?r(e3.F.enqueue({message:`Updated all instances of ${d[0].name}`})):r(e3.F.enqueue({message:`Updated all instances of ${d.length} components, including ${d[d.length-1].name}`}))};Promise.all(Object.values(o).map(async({key:e,type:r})=>{let i="COMPONENT"===r?await (0,aa.$C)(e):await (0,aa.$f)(e),a=n.get(i);if(!a)return;d.push(a);let o=(a.isStateGroup?a.reversedChildrenGuids.map(e=>n.get(e)).filter(e=>!!e):[a]).reduce((e,r)=>(r.componentKey&&(e[r.componentKey]=r),e),Object.create(null));for(let r of l[e]||[]){if(!r.symbolId)continue;let e=n.get(r.symbolId);(null==e?void 0:e.componentKey)&&o[e.componentKey]&&r.swapComponent(o[e.componentKey])}})).then(c).catch(c)}(tu.D.getState().mirror.sceneGraphSelection,n)}},{action:"backup-all-overrides"},{action:"repair-missing-override-keys",featureFlags:["internal_only_debug_tools"]},{action:"repair-corrupt-override-keys-for-selected",featureFlags:["ds_new_repair_for_corrupt_keys","internal_only_debug_tools"]},{action:"restore-soft-deleted-selection",featureFlags:["show_internal_only_canvas","internal_only_debug_tools"]}].map(e=>({...e,flags:e.flags??["design"],searchOnly:!0,isLowPriorityMatch:!0,isRepairCommand:!0}));function S7(e){return"action"in e||"callback"in e}function S9(e){return"separator"in e}function Ie(e){return"header"in e}function It(e){return e.action||e.name}let Ir="edit-menu";n(3907),n(63067);var In=n(20848),Ii=n.n(In);class Ia{constructor(e,r,n,i){this.compileHighlightForMenuItem=()=>{let e="";for(let r=0;r<this.result.length;r++){let n=this.result[r],i=r%2?"1":"0";e+=Array(n.length+1).join(i)}return e},this.equals=e=>JSON.stringify(this)===JSON.stringify(e),this.result=e,this.score=r,this.text=n,this.highlight=i}}class Io{constructor(e,r){this.isValidQuery=()=>!!this.forwardRegex||!!this.backwardRegex,this.matchAgainst=e=>{let r=[];return e.forEach(e=>{let n=this.matchAgainstText(e);n&&(n.highlight=n.compileHighlightForMenuItem(),r.push(n))}),r.sort((e,r)=>e.score>r.score||e.score===r.score&&e.text<r.text?-1:1)},this.matchAgainstText=e=>{if(!this.isValidQuery())return null;let r=this.forwardRegex.exec(e),n=this.backwardRegex.exec(this.reverseText(e));if(!r||!n)return null;let i=r.slice(1),a=n.slice(1).map(e=>this.reverseText(e)).reverse(),o=this.scoreMatch(i),s=this.scoreMatch(a);return new Ia(o>=s?i:a,Math.max(o,s),e)},this.compileRegularExpression=(e,r)=>{let n="^(.*)",i=!1;for(let a of e)(r||a>="A"&&a<="Z"||a>="a"&&a<="z"||a>="0"&&a<="9")&&(n+=`(${a})(.*?)`,i=!0);return i?new RegExp(n+="$",r?"iu":"i"):null},this.reverseText=e=>{let r="";for(let n=e.length-1;n>=0;n--)r+=e[n];return r},this.scoreMatch=e=>{let r="",n=0;for(let i=0;i<e.length;i++){let a=e[i];i%2&&(""===r?(n+=10,1===i&&n++):" "===r.slice(-1)&&(n+=10)),r=a}return n},this.forwardRegex=this.compileRegularExpression(e,r),this.backwardRegex=this.compileRegularExpression(this.reverseText(e),r)}}class Is{constructor(e,r){this.score=e,this.text=r}}var Il=((ei=Il||{}).VISIBLE="VISIBLE",ei.HIDDEN="HIDDEN",ei);class Id{constructor(e){this.matchAgainstText=(e,r)=>{let n=0,i=e.toLowerCase().indexOf(this.query);return i>-1&&(n=100-Math.min(i,100),"VISIBLE"===r&&(n+=100)),new Is(n,e)},this.perfectScore=()=>this.matchAgainstText(this.query,"VISIBLE").score,this.query=e.toLowerCase()}}let Ic=["ungroup-selection","group-selection","create-section-from-selection","replace-selected-frame-with-section","replace-selected-section-with-frame","bring-to-front","send-to-back","detach-instance","frame-selection","create-symbol","flip-horizontal","find-symbol","publish-selection","publish-changes-to-library","copy-text","mask-selection","place","send-backward","paste-properties","toggle-locked-for-selected-nodes","copy-as-svg","bring-forward","flatten-selection","outline-stroke","toggle-ui","copy-properties","copy-as-png","stack-selection","rename-selection","flip-vertical","find-inspiration","inspect-fragment","reset-symbol","toggle-variables","detach-deleted-variables","reset-variable-modes","export-all-frames-to-pdf","export-selected-exportables","export-selected-video","export-selection-or-current-page","new-design","new-whiteboard","enter-inspect-mode","enter-design-mode","new-from-templates","unstack-selection","open-preferences-modal","copy-as-css","copy-as-css-recursive","toggle-shown-for-selected-nodes","toggle-shown-layout-grids","toggle-rulers","toggle-stack-debug-mode","toggle-stack-shadows","toggle-dynamic-insertion-points","toggle-auto-fill-full-width-children","toggle-auto-segment-selection","toggle-alu-visual-indicators","toggle-alu-hints","new-from-sketch","toggle-version-history","convert-to-raster","create-savepoint","restore-symbol-or-state-group","toggle-snapping-to-pixels","open-account-settings","toggle-menu","push-changes-to-main","show-nudge-amount-picker","redo","duplicate-in-place","toggle-outlines","toggle-outline-mode-hidden-layers","toggle-outline-mode-object-bounds","toggle-grid","toggle-pixel-preview","toggle-show-artboard-outlines","collapse-layers","toggle-show-slices","toggle-show-comments","toggle-show-annotations","set-tool-default-figjam","select-same-style","select-same-fill","open-shortcuts","toggle-resource-use","toggle-memory-usage-indicator","select-same-font","select-same-text","select-same-instance","select-same-variant","toggle-multiplayer-cursors","toggle-show-masks","select-all","zoom-reset","round-to-pixels","toggle-sidebar","open-font-settings","toggle-snapping-to-geometry","toggle-snapping-to-objects","zoom-to-fit","pack-vertical","open-help","live-boolean-subtract","back-to-files","toggle-layers","text-upper-case","set-default-style","toggle-keyboard-zoom-to-selection","crop-image","pack-horizontal","open-tutorials","live-boolean-union","text-original-case","toggle-bold","rotate-90-counterclockwise","zoom-to-selection","toggle-invert-zoom","rotate-180","toggle-sticky-tools","select-same-stroke","text-toggle-underline","unlock-all","detach-all-instances","distribute-horizontal-spacing","text-font-size-increase","align-horizontal-center","select-all-text","toggle-google-fonts","set-tool-frame","toggle-viewport-overlay-hiding","tidy-up","delete-and-heal-selection","align-vertical-center","rotate-90-clockwise","text-lower-case","toggle-publish","toggle-layer-hover","toggle-flip-during-resize","select-inverse","text-toggle-strikethrough","align-left","distribute-vertical-spacing","text-toggle-italic","select-same-effect","toggle-annotations","live-boolean-intersect","set-tool-arrow","swap-fill-and-stroke","open-release-notes","page-next","resize-to-fit","text-font-size-decrease","align-top","live-boolean-xor","set-tool-slice","join-selection","toggle-copy-renaming","page-previous","remove-fill","remove-interactions-on-selection","toggle-library","previous-artboard","republish-selected-components","open-legal-summary","smooth-join-selection","distribute-horizontal-center","set-tool-comments","toggle-smart-quotes","align-bottom","set-tool-type","focus-mode","focus-mode-exit","canvas-search","canvas-search-next","canvas-search-prev","canvas-search-replace","next-artboard-same-zoom","next-artboard","align-right","text-line-height-increase","text-bold-increase","remove-stroke","unhide-all","set-tool-rectangle","text-letter-spacing-increase","distribute-vertical-center","text-align-center","text-line-height-decrease","set-tool-line","distribute-left","text-letter-spacing-decrease","text-bold-decrease","toggle-help-widget","hide-sibling-layers","set-tool-star","text-align-justified","text-align-left","distribute-bottom","toggle-frame-clipping","distribute-top","text-align-middle","distribute-right","text-align-top","open-support-forum","set-tool-hand","set-tool-regular-polygon","text-align-right","set-tool-pen","text-align-bottom","set-tool-pencil","toggle-perf-hud","toggle-fake-mp-activity","toggle-tsmer-config","set-tool-sticky","paste-to-replace","set-tool-paint-bucket","set-tool-connector-elbowed","set-tool-connector-straight","set-tool-bend","set-tool-shape-whiteboard-ellipse","set-tool-shape-whiteboard-rounded-rectangle","set-tool-shape-whiteboard-diamond","set-tool-shape-whiteboard-triangle-down","toggle-pen-tool-avoid-single-handles","select-next-sibling","select-child","set-tool-ellipse","select-parent","set-opacity-0","set-opacity-5","set-opacity-1","select-previous-sibling","set-tool-shape-whiteboard-square","set-tool-shape-whiteboard-triangle-up","select-matching","toggle-custom-cursor","set-tool-washi-tape","set-tool-table","sort-by-text-content","sort-by-stamps","sort-by-author","sort-by-color","create-feed-post","convert-to-thumbnail-frame","delete-selection","deselect-all","previous-artboard-same-zoom","set-tool-default","set-tool-scale","show-inspect-panel","show-design-panel","show-prototype-panel","toggle-prototyping-info","toggle-dropper","toggle-use-numbers-for-opacity","undo","zoom-in","zoom-out","republish-auto-layout-components","repair-selected-instances","repair-state-group-versions","repair-variable-connections","reresolve-variable-references","relink-instances-to-local-component","restore-autolayout-position","find-shared-instances-need-relinking","regenerate-all-instances","regenerate-missing-thumbnails","backup-all-overrides","update-instance-layout-version","text-relayout","select-broken-fixed-scrolling-nodes","toggle-show-guids","debug-toggle-figma-scope","debug-print-as-test-code","debug-print-vector-network-as-test-code","force-publish-state-group","toggle-layers-dom-order","toggle-canvas-search-debug","toggle-accessibility-dom-debug","purge-all-memory","toggle-debug-layout-logs","toggle-debug-doc-sync-logs","toggle-debug-user-sync-logs","toggle-debug-page-sync-logs","debug-incremental-loading-all-pages","debug-incremental-loading-current-only","calculate-deleted-components-published-version","text-set-directionality-ltr","text-set-directionality-rtl","text-set-directionality-ltr-qa","text-set-directionality-rtl-qa","text-upgrade-explicit-layout-version","text-upgrade-to-bidi","debug-inspect-layer-figma-scope","set-image-as-profile-picture","reset-transform","plugins-menu-use-local-related-link-plugin","debug-toggle-diagram-layout-paused"],Iu={};function Ip(e){return e&&e in Iu?Iu[e]:0}Ic.forEach((e,r)=>{Iu[e]=Ic.length-r});var Ih=n(2665);class Im{constructor(e){this.MAX_TIMESTAMPS=10,this.timestamps=e.timestamps,this.count=e.count}scoreTimestamp(e){let{hoursAgo:r,daysAgo:n}=this.timeAgo(e);return r<.5?100:r<4?70:n<1?50:n<7?30:n<30?20:n<90?10:0}timeAgo(e){let r=(Date.now()-e)/1e3/60/60;return{hoursAgo:r,daysAgo:r/24}}score(){if(0===this.timestamps.length)return 0;let e=this.timestamps.reduce((e,r)=>e+this.scoreTimestamp(r),0);return this.count*(e/this.timestamps.length)}debugScore(){let e=this.count,r=this.timestamps.map(e=>{let{hoursAgo:r,daysAgo:n}=this.timeAgo(e);return{timestamp:e,hoursAgo:r,daysAgo:n,score:this.scoreTimestamp(e)}}),n=r.reduce((e,{score:r})=>e+r,0);return{count:e,timestampScores:r,summedTimestampScores:n,numTimestamps:this.timestamps.length,actionScore:this.score()}}serialize(){return{timestamps:this.timestamps,count:this.count}}addUsage(){let e=Date.now();this.timestamps=[e,...this.timestamps].slice(0,this.MAX_TIMESTAMPS),this.count+=1}}class Ig{constructor(e){for(let r in this.frecencyByAction=new Map,e)this.frecencyByAction.set(r,new Im(e[r]))}data(e){return this.frecencyByAction.get(e)??null}addUsage(e){let r=this.data(e),n=r??new Im({timestamps:[],count:0});return n.addUsage(),this.frecencyByAction.set(e,n),!r}serialize(){let e={};return this.frecencyByAction.forEach((r,n)=>{e[n]=r.serialize()}),e}}class If{constructor(e){for(let r in this.frecencyByQuery=new Map,e){let n=new Map;for(let i in e[r]){let a=e[r][i]??{timestamps:[],count:0};n.set(i,new Im(a))}this.frecencyByQuery.set(r,n)}}addUsage(e,r){let n=this.frecencyByQuery.get(e)??new Map,i=n.get(r)??null,a=i??new Im({timestamps:[],count:0});return a.addUsage(),n.set(r,a),this.frecencyByQuery.set(e,n),!i}data(e,r){var n;return(null==(n=this.frecencyByQuery.get(e))?void 0:n.get(r))??null}serialize(){let e={};return this.frecencyByQuery.forEach((r,n)=>{e[n]={},r.forEach((r,i)=>{e[n][i]=r.serialize()})}),e}}function I_(e){if("plugins-menu-item"===e.name)return e.args.plugin_search_string;let r=It(e);return(0,gq.A)("displayForQuickCommand"in e&&e.displayForQuickCommand?e.displayForQuickCommand:r,e.args).slice(0,20)}let Iy=(0,rV.E3)("frecencyHistory",{numItems:0,userIds:{}},{subscribeToChanges:!1},{debounceTime:1e3});class IE{constructor({json:e,setJson:r,userId:n,fullscreenEditorType:i}){this.MAX_ENTRIES=5e3,this.numItems=e.numItems,this.userIds=e.userIds,this.setJson=r,this.fullscreenEditorType=i??"none",this.userId=n??"anonymous",this.cachedActions=this.initActions(),this.cachedQueries=this.initQueries()}addUsage(e,r){let n=this.getActions();n.addUsage(e)&&this.incrementTotalItems();let i=this.getQueries();i.addUsage(r,e)&&this.incrementTotalItems(),this.userIds[this.userId]={...this.userIds[this.userId],[this.fullscreenEditorType]:{actions:n.serialize(),queries:i.serialize()}},this.numItems>this.MAX_ENTRIES&&this.prune(),this.save()}prune(){let e=Object.entries(this.userIds).flatMap(([e,r])=>Reflect.ownKeys(r).flatMap(n=>{let i=r[n];if(!i)return[];let{actions:a,queries:o}=i,s=Object.entries(a).flatMap(([r,{timestamps:i}])=>({userId:e,editorType:n,action:r,timestamp:i[0]})),l=Object.entries(o).flatMap(([r,i])=>Object.entries(i).flatMap(([i,{timestamps:a}])=>({userId:e,editorType:n,action:i,query:r,timestamp:a[0]})));return s.concat(l)}));e.sort((e,r)=>e.timestamp-r.timestamp);let r=this.MAX_ENTRIES/2;for(let n=0;n<r;n++){let{userId:r,editorType:i,action:a,query:o}=e[n],s=this.userIds[r][i];s&&(void 0!==o?delete s.queries[o][a]:delete s.actions[a],this.userIds[r][i]=s,this.numItems-=1)}}incrementTotalItems(){this.numItems+=1}initActions(){var e,r;return new Ig((null==(r=null==(e=this.userIds[this.userId])?void 0:e[this.fullscreenEditorType])?void 0:r.actions)??{})}initQueries(){var e,r;return new If((null==(r=null==(e=this.userIds[this.userId])?void 0:e[this.fullscreenEditorType])?void 0:r.queries)??{})}getActions(){return this.cachedActions}getQueries(){return this.cachedQueries}save(){try{this.setJson({numItems:this.numItems,userIds:this.userIds}),Ib=this}catch(e){(0,ey.x1)("error","Failed to save frecency data",e,{reportAsSentryError:!0})}}setMaxEntriesForTesting(e){(0,ft.Lg)()&&(this.MAX_ENTRIES=e)}}let Ib=null;var Iv=n(65482),IS=n(48467);n(28325);let II="legacy_fullscreen_menu_item";var IT=((ea=IT||{}).AI="ai",ea);let Iw={sort(e,r,n){let i=r.fullscreenMenuAction,a=n.fullscreenMenuAction;return i.menuActionType&&a.menuActionType&&"run-local-plugin"===i.menuActionType&&"run-installed-plugin"===a.menuActionType||void 0!==i.stringMatchScore&&void 0!==a.stringMatchScore&&void 0!==i.popularityScore&&void 0!==a.popularityScore&&(i.stringMatchScore>a.stringMatchScore||i.stringMatchScore===a.stringMatchScore&&i.popularityScore>a.popularityScore)?-1:1}};class IC{constructor(e){this.factors=e;let r=e.reduce((e,r)=>e+r.weight,0);if(1!==r)throw Error(`Total weight must be 1, but was ${r}`)}scoreFactor(e,r,n){return n.normalizedScore(e,r)*n.weight}score(e,r){return this.factors.reduce((n,i)=>{let a=i.normalizedScore(e,r);if(a<0||a>1)throw Error(`Normalized score for '${i.name}' must be between 0 and 1, but was ${a}`);return n+this.scoreFactor(e,r,i)},0)}sort(e,r,n){return this.score(e,r)>this.score(e,n)?-1:1}debugData(e,r){let n=this.score(e,r),i=`- Total Score: ${n.toFixed(2)}`;return{score:n,details:["Weighted sort (w=weight, s=score):",i,...this.factors.sort((n,i)=>this.scoreFactor(e,r,i)-this.scoreFactor(e,r,n)).map(n=>{let i=n.normalizedScore(e,r),a=n.debugInfo&&n.debugInfo(e,r)||"";return`- ${n.name}: w=${n.weight} x s=${i.toFixed(2)} = ${this.scoreFactor(e,r,n).toFixed(2)} ${a}`})].join("\n")}}}let IA=new l3.q(1e3);function IN(e,r){let n=r.fullscreenMenuAction.stringMatchedAgainst,i=r.fullscreenMenuAction.stringMatchScore;if(!n||!i)return 0;let a=IA.get(n);if(!a){let e=new Io(n).matchAgainstText(n);IA.set(n,(null==e?void 0:e.score)??1),a=(null==e?void 0:e.score)??1}return i/a}function IO(e,r){let n=r.fullscreenMenuAction.substringMatchedAgainst,i=r.fullscreenMenuAction.substringMatchScore;if(!n||!i)return 0;let a=new Id(n).perfectScore();return 0===a?0:i/a}let IR={normalizedScore:(e,r)=>Math.max(IN(e,r),IO(e,r)),weight:.4,name:"String match",debugInfo(e,r){let n=IN(e,r),i=IO(e,r);return i>0?`Fuzzy match: ${n.toFixed(2)}, Synonym match: ${i.toFixed(2)}`:""}},IP={normalizedScore(e,r){var n;return(null==(n=r.fullscreenMenuAction.tags)?void 0:n.includes(IT.AI))?1:0},weight:.1,name:"isAI"},IL={normalizedScore:(e,r)=>r.fullscreenMenuAction.disabled?0:1,weight:.3,name:"isEnabled"};class ID{constructor(e,r,n,i){for(let a of(this.searchMap={},this.searchMapKeys=[],this.includeDisabled=!1,this.acceptsUnicode=!1,this.queryStringMap={},this.includeDisabled=!!(i&&i.includeDisabled),this.acceptsUnicode=!!(i&&i.acceptsUnicode),n.forEach(n=>this.addFigmaMenuItemsToSearchMap(e,r,n)),this.searchMapKeys=Object.keys(this.searchMap),this.searchMapKeys)){let e=this.searchMap[a],r=e.queryString?`${e.queryString} ${a}`:a;this.queryStringMap[r]=e}}isDisabled(e,r){var n;return r.disabled?r.disabled:!(r.name||(0,E5.Yh)(e,r.action))&&(null==(n=r.quickAction)||!n.alwaysEnabled)}addFigmaMenuItemsToSearchMap(e,r,n){if(!n||S9(n)||Ie(n)||"render"in n||!function(e,r){if(!e||!r.isSearching&&S7(e)&&e.searchOnly)return!1;if(e.flags){if(e.flags.indexOf("!ship")>-1)return!1;if(e.flags.indexOf("!desktop")>-1){if(aO.y3())return!1}else if(e.flags.indexOf("desktop")>-1&&!aO.y3())return!1;if(e.flags.indexOf("recovery")>-1){if(!r.selectedView.isRecoveryMode)return!1}else if(e.flags.indexOf("!recovery")>-1&&r.selectedView.isRecoveryMode)return!1;let n=!r.isReadOnly&&!(0,lz.$A)(r.selectedView)||(0,ft.nl)();if(e.flags.indexOf("!edit")>-1){if(n)return!1}else if(e.flags.indexOf("edit")>-1&&!n)return!1;if(e.flags.indexOf("!dev_handoff")>-1&&r.selectedView.editorType===tB.nT.DevHandoff||e.flags.indexOf("!limited_dev_mode")>-1&&r.isLimitedDevMode||e.flags.indexOf("!whiteboard")>-1&&((0,Iv.Rh)(II,{tags:"!whiteboard"}),r.selectedView.editorType===tB.nT.Whiteboard)||e.flags.indexOf("!slides")>-1&&r.selectedView.editorType===tB.nT.Slides||e.flags.indexOf("!sites")>-1&&r.selectedView.editorType===tB.nT.Sites||e.flags.indexOf("drafts")>-1&&((0,Iv.Rh)(II,{tags:"drafts"}),!ts.Y5.isInDrafts())||e.flags.indexOf("view_restricted")>-1&&ts.Y5.isCopyExportRestricted())return!1;let i=e.flags.includes("design"),a=e.flags.includes("whiteboard"),o=e.flags.includes("dev_handoff"),s=e.flags.includes("slides");if(i||a||o||s)switch(r.selectedView.editorType){case tB.nT.Sites:case tB.nT.Design:if(!i)return!1;break;case tB.nT.Whiteboard:if(!a)return!1;break;case tB.nT.DevHandoff:if(!o)return!1;break;case tB.nT.Slides:if(!s)return!1}if(e.flags.indexOf("!desktop_os_menu")>-1&&r.isDesktopMenu||e.flags.indexOf("desktop_os_menu")>-1&&!r.isDesktopMenu)return!1;let l=ew.ck();if(e.flags.indexOf("!integration")>-1&&l||e.flags.indexOf("integration")>-1&&!l)return!1}return!!S9(e)||(Ie(e)?((0,Iv.Rh)(II,{tags:"header"}),!0):!(null!=e.platforms&&!function(e){for(let r of e){if("mac"===r&&e_.cX()||"linux"===r&&e_.j9())return!0;if("windows"===r&&e_.uF())return!0;if("!ipad"===r&&!e_.wg())return!0}return!1}(e.platforms)||e.featureFlags&&!e.featureFlags.every(e=>(0,e2.kc)()[e])||e.notFeatureFlags&&e.notFeatureFlags.some(e=>(0,e2.kc)()[e]))&&(!e.experiments||!!e.experiments.every(({flag:e,treatment:r})=>(0,IS.P)(e).defaultValue(!1).treatment(r,!0).get())||((0,Iv.Rh)(II,{tags:"experiments"}),!1)))}(n,{isDesktopMenu:!1,isReadOnly:e.isReadOnly,isSearching:!0,selectedView:r}))return;let i="children"in n;if(!S7(n)||i||n.hideForQuickCommand||this._addToIndexInternal(n),"plugins-menu"!==n.name&&"widgets-menu"!==n.name&&i)for(let i of((0,eh.KF)(null!=n.children,"this should be the type of menu groups that has FullscreenMenuItem as children"),n.children))this.addFigmaMenuItemsToSearchMap(e,r,i)}_addToIndexInternal(e){let{itemDisplayText:r,searchItem:n}=function(e){let r=It(e),n=(0,gq.A)(e.displayForQuickCommand?e.displayForQuickCommand:r,e.args),i={fullscreenMenuAction:e,queryString:"",searchKey:n};if("plugins-menu-item"===e.name){let r=e.args.plugin_search_string;i.searchKey=r,n=r}return e.isRepairCommand&&(0,e2.kc)().internal_only_debug_tools&&(i.queryString="repair"),e.searchSynonyms&&!(0,e2.kc)().qa_search_frecency&&(i.queryString=[i.queryString,...e.searchSynonyms].join(" ")),{itemDisplayText:n,searchItem:i}}(e);this.searchMap[r]=n}getItem(e,r){if(!(r in this.searchMap))return;let n={...this.searchMap[r].fullscreenMenuAction};return n.disabled=this.isDisabled(e,n),n}_buildSearchResult(e,r,n,i){let a={...r.fullscreenMenuAction};return a.stringMatchScore=void 0!==a.isLowPriorityMatch&&a.isLowPriorityMatch?0:(null==n?void 0:n.score)||0,a.stringMatchedAgainst=(null==n?void 0:n.text)||"",a.substringMatchScore=(null==i?void 0:i.score)||0,a.substringMatchedAgainst=(null==i?void 0:i.text)||"",a.popularityScore=Ip(a.action),a.highlight=(null==n?void 0:n.highlight)||"",a.disabled=this.isDisabled(e,a),{...r,fullscreenMenuAction:{...a}}}_searchByFuzzyMatchAndSubstringMatch(e,r){if(!r)return[];let n=new Io(r,this.acceptsUnicode);if(!n.isValidQuery())return[];let i=new Id(r),a=[];for(let[r,o]of Object.entries(this.queryStringMap)){let s=n.matchAgainstText(r),l=(null==s?void 0:s.score)||0,d=[];for(let e of(d.push(i.matchAgainstText(r,Il.VISIBLE)),o.fullscreenMenuAction.searchSynonyms||[])){let r=i.matchAgainstText(e,Il.HIDDEN);d.push(r)}let c=Ii()(d,e=>e.score),u=(null==c?void 0:c.score)||0;(l>0||u>0)&&a.push(this._buildSearchResult(e,o,s,c))}return a}_searchByFuzzyMatch(e,r){let n=new Io(r,this.acceptsUnicode);if(!n.isValidQuery())return[];let i=[],a=n.matchAgainst(Object.keys(this.queryStringMap));if(a.length)for(let r of a){if((0,e2.kc)().qa_search_frecency&&r.score<1)continue;let n={...this.queryStringMap[r.text]};i.push(this._buildSearchResult(e,n,r))}return i}_searchForSearchItem(e,r){if(!r)return[];let n=[];n=(0,e2.kc)().qa_search_frecency?this._searchByFuzzyMatchAndSubstringMatch(e,r):this._searchByFuzzyMatch(e,r);let i=(0,e2.kc)().qa_search_frecency?function({actions:e,queries:r}){return new IC([IR,{normalizedScore(r,n){var i,a;let o=I_(n.fullscreenMenuAction);return(a=(null==(i=e.data(o))?void 0:i.score())??0)/(a+1e3)},weight:.1,name:"Action Frecency"},{normalizedScore(e,n){var i,a;let o=I_(n.fullscreenMenuAction);return(a=(null==(i=r.data(e,o))?void 0:i.score())??0)/(a+1e3)},weight:.1,name:"Query Frecency"},IP,IL])}(function(){let e=rV.zl.get(Ih.N).data,r=rV.zl.get(vC.u8);return Ib&&Ib.userId===e&&Ib.fullscreenEditorType===r||(Ib=new IE({json:rV.zl.get(Iy),setJson:e=>rV.zl.set(Iy,e),userId:e,fullscreenEditorType:r})),{actions:Ib.getActions(),queries:Ib.getQueries()}}()):Iw;return n=n.sort((e,n)=>i.sort(r,e,n)),this.includeDisabled||(n=n.filter(e=>!e.fullscreenMenuAction.disabled)),n}search(e,r){return this._searchForSearchItem(e,r).map(e=>e.fullscreenMenuAction)}searchIncludeKey(e,r){return this._searchForSearchItem(e,r).map(e=>[e.searchKey,e.fullscreenMenuAction])}list(e){let r=this.searchMapKeys.map(r=>{let n={...this.searchMap[r].fullscreenMenuAction};return n.popularityScore=Ip(n.action),n.disabled=this.isDisabled(e,n),n});return r.sort((e,r)=>(r.popularityScore||0)-(e.popularityScore||0)),r}map(e){let r={};return this.searchMapKeys.forEach(n=>{let i={...this.searchMap[n].fullscreenMenuAction};i.popularityScore=Ip(i.action),i.disabled=this.isDisabled(e,i),r[i.name||i.action||n]=i}),r}}let IM="None",Ik={ALT:256,META:512,SHIFT:1024,CONTROL:2048,RIGHTALT:4096};class Ix{constructor(e){this.getFullscreenMenuItem=e=>{var r;let n=null==(r=this.store)?void 0:r.getState();if(!n){console.warn("[CustomKeyboardShortcuts] no state found");return}if("fullscreen"!==n.selectedView.view){console.warn("[CustomKeyboardShortcuts] attempted to dispatch an action outside of fullscreen");return}let i=function(e){var r;let n=(0,tB.oD)(e.selectedView.editorType);return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,allSavedPlugins:{},recentlyUsedPlugins:(0,Ej.gS)((0,tB.wN)(n),e.recentlyUsed,e.localPlugins),localExtensions:e.localPlugins,orgEntity:(0,Ej.Jl)(e),org:(0,id.td)(e.currentUserOrgId,e.orgById)??null,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,gQ.GP)(e),editorType:(0,tB.wN)(n),widgetSelectionInfo:null==(r=e.mirror.selectionProperties)?void 0:r.selectedWidgetInfo,activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,publishedWidgets:e.publishedWidgets}}(n),o=function(e,{fullscreenMemoryWarningLevel:r,unreadCommentCount:n,pluginAndWidgetMenuArgs:i,isRecovery:o}){let s=(0,Sz.ZT)(e)||null;return function(e){var r;let{fileMenuArgs:n,pluginAndWidgetMenuArgs:i,additionalDebugItems:o,theme:s,backToFileArgs:l,zoomArgs:d,publishingModalArgs:c}=e;return[...l.shouldShowBackToFiles?[{callback:(e,r,n,i)=>{var a;if(null==i||i.preventDefault(),(0,ex.sx)("Back to files button clicked",{source:"fullscreen_menu"}),!(0,nV.LR)()){if(i.metaKey||1===i.button){let e=tu.D.getState().openFile,r=(null==(a=null==e?void 0:e.project)?void 0:a.id)||null;(0,y4.N5)(tu.D.getState().folders,r)?(0,y3.Wq)((0,E3.EE)(r,(null==e?void 0:e.parentOrgId)??null),n):(0,y3.Wq)("/",n)}else n(i6.eH()),n(iR.oB())}},name:"back-to-files",recordingKey:"back-to-files","data-onboarding-key":"back-to-files",disabled:l.isDisabled},{separator:!0}]:[],{action:"toggle-menu",hideForQuickCommand:!0,iconType:"search"},{separator:!0},...n?function(e,r,n,i,a){var o,s;let l=[{action:"place",flags:["edit","design","slides"]},{action:"import",flags:["edit","whiteboard"]},{separator:!0},...(0,e2.tl)().integration_host?[]:[{name:"save-as",callback:(e,n,i)=>{ri(t8.SaveLocalFile,r,i,e,["0:0"],"save-as"),i5("fig_file_save_as")},flags:["view_restricted","!recovery"]}],{action:"create-savepoint",flags:["edit","!integration","!recovery"]},{action:"toggle-version-history",flags:["edit","!integration","!recovery"],property:"topLevelMode"},{separator:!0},{action:"export-selected-exportables",callback:(e,r,n)=>{ts.Y5.triggerAction(e,{source:"menu"})},flags:["view_restricted","design","dev_handoff","!recovery","!limited_dev_mode"]},{action:"export-selection-or-current-page",callback:(e,r,n)=>{ts.Y5.triggerAction(e,{source:"menu"})},flags:["view_restricted","whiteboard","!limited_dev_mode"]},{name:"export-all-frames-to-pdf",callback:(e,n,i)=>{ri(t8.Export,r,i,e,[eT.CUU.getCurrentPage(eT.Sie.REDUX)||""],"export-all-frames-to-pdf")},flags:["view_restricted","design","dev_handoff","slides","!recovery","!limited_dev_mode"]},{separator:!0},...(o=eD.e0.EDITOR_MENU,n===eA.lyf.BRANCHING||eA.Ez5.uiState().isRecovery.getCopy()?[]:(0,ag.WI)(["hidden"!==e.viewBranchDiff.status&&"hidden"===e.mergeBranch.status?{name:"view-branch-diff",flags:["design"],disabled:"disabled"===e.viewBranchDiff.status,callback:(e,r,n)=>{n(yQ({direction:av.Kn.TO_SOURCE,trackingContextName:o}))}}:null,"hidden"!==e.mergeBranch.status?{name:"merge-branch",flags:["design","!integration"],disabled:"disabled"===e.mergeBranch.status,callback:(e,r,n)=>{n(yQ({direction:av.Kn.TO_SOURCE,trackingContextName:o,unreadCommentCount:a}))}}:null,"hidden"!==e.mergeBranch.status?{name:"merge-branch-force",searchOnly:!0,flags:["design","!integration"],featureFlags:["branching_and_merging_force"],callback:(e,r,n)=>{n(yQ({direction:av.Kn.TO_SOURCE,trackingContextName:o,force:!0}))}}:null,"hidden"!==e.viewSourceDiff.status&&"hidden"===e.updateBranch.status?{name:"view-source-diff",flags:["design"],disabled:"disabled"===e.viewSourceDiff.status,callback:(e,r,n)=>{n(yQ({direction:av.Kn.FROM_SOURCE,trackingContextName:o}))}}:null,"hidden"!==e.updateBranch.status?{name:"update-branch",flags:["design","!integration"],disabled:"disabled"===e.updateBranch.status,callback:(e,r,n)=>{n(yQ({direction:av.Kn.FROM_SOURCE,trackingContextName:o}))}}:null,"hidden"!==e.updateBranch.status?{name:"update-branch-force",searchOnly:!0,flags:["design","!integration"],featureFlags:["branching_and_merging_force"],callback:(e,r,n)=>{n(yQ({direction:av.Kn.FROM_SOURCE,trackingContextName:o,force:!0}))}}:null,"hidden"!==e.updateBranch.status?{name:"update-branch-from-version",searchOnly:!0,flags:["design","!integration"],featureFlags:["branching_incremental_updates"],disabled:"disabled"===e.updateBranch.status,callback:(e,r,n)=>{n(y0({}))}}:null])),...(s=eD.e0.EDITOR_MENU,(0,ag.WI)(["hidden"!==e.createBranch.status?{name:"create-branch",flags:["design","!integration"],disabled:"disabled"===e.createBranch.status,callback:(r,n,i)=>{let a;switch(e.createBranch.status){case"upsell-org-seat":a=yC.oj({trackingContextName:s,dispatchedFromEditor:!0});break;case"upsell-org":a=yC.j0({trackingContextName:s});break;case"hidden":case"disabled":case"enabled":a=yC.lY({trackingContextName:s,dispatchedFromEditor:!0});break;default:(0,eh.xb)(e.createBranch.status)}i(a)}}:null,"hidden"!==e.openBranchSource.status?{name:"open-branch-source",flags:["design"],disabled:"disabled"===e.openBranchSource.status,callback:(e,r,n)=>{n(y1({trackingContextName:s}))}}:null,"hidden"!==e.viewBranches.status&&n!==eA.lyf.BRANCHING?{name:"view-branches",flags:["design"],disabled:"disabled"===e.viewBranches.status,callback:(e,r,n)=>{n(y2({trackingContextName:s}))}}:null])),...{isOrgMember:i}.isOrgMember?[{action:"create-feed-post",flags:["design","whiteboard","edit","!recovery"],featureFlags:["xr_debounce_threshold"]}]:[],{separator:!0},{action:"quit",flags:["!ship"]}];return[{name:"file-menu",flags:["design","dev_handoff","!integration"],children:[{action:"new-design",iconType:"external_link"},{action:"new-whiteboard",iconType:"external_link"},{action:"new-slides",iconType:"external_link",featureFlags:["piper"]},{action:"new-from-sketch"},{separator:!0},...l]},{name:"file-menu",flags:["whiteboard","!integration"],children:[{action:"new-whiteboard",iconType:"external_link"},{action:"new-design",iconType:"external_link"},{action:"new-slides",iconType:"external_link",featureFlags:["piper"]},{separator:!0},...l]},{name:"file-menu",flags:["slides","!integration"],children:[{action:"new-slides",iconType:"external_link"},{action:"new-design",iconType:"external_link"},{action:"new-whiteboard",iconType:"external_link"},{separator:!0},...l]},{name:"file-menu",flags:["integration","slides"],children:l}]}(n.branchingActionsStatus,n.saveAsState,n.topLevelMode,n.isOrgMember,n.unreadCommentCount):[],{name:Ir,flags:["!edit","!dev_handoff"],children:[{action:"undo",flags:["recovery"]},{action:"redo",flags:["recovery"]},{separator:!0},{action:"focus-mode",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"focus-mode-exit",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"canvas-search"},{action:"canvas-search-next"},{action:"canvas-search-prev"},{separator:!0},{action:"toggle-dropper"},{action:"copy-properties",flags:["view_restricted"]},{separator:!0},{action:"select-all"},{action:"deselect-all"},{action:"select-inverse"},{separator:!0},{action:"select-matching"},{name:"select-all-with-menu-options",flags:["design"],children:[{action:"select-same-style",flags:["design"]},{action:"select-same-fill",flags:["design"]},{action:"select-same-stroke",flags:["design"]},{action:"select-same-effect",flags:["design"]},{action:"select-same-text",flags:["design"]},{action:"select-same-font",flags:["design"]},{action:"select-same-instance",flags:["design"]},{action:"select-same-variant",flags:["design"]}]}]},{name:Ir,flags:["!edit","dev_handoff"],children:[{name:"copy",flags:["desktop_os_menu"]},{name:"paste",flags:["desktop_os_menu"]},{name:"cut",flags:["desktop_os_menu"]},{action:"copy-as-menu",flags:["view_restricted"],children:[{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"}]},{separator:!0},{action:"focus-mode",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"focus-mode-exit",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"canvas-search"},{action:"canvas-search-next"},{action:"canvas-search-prev"},{separator:!0},{action:"select-all"},{action:"deselect-all"}]},{name:Ir,flags:["edit","!dev_handoff"],children:[{action:"undo"},{action:"redo"},{separator:!0},{name:"cut",flags:["desktop_os_menu"]},{name:"copy",flags:["desktop_os_menu"]},{action:"copy-as-menu",flags:["view_restricted"],children:[{action:"copy-text",flags:["design","slides"]},{action:"copy-as-css",flags:["design"],callback:()=>{(0,ex.sx)("edit_menu_copy_as_css_clicked")}},{action:"copy-as-css-recursive",flags:["design"],callback:()=>{(0,ex.sx)("edit_menu_copy_as_css_all_layers_clicked")}},{action:"copy-as-svg",flags:["design"]},{action:"copy-as-png"}]},{name:"paste",flags:["desktop_os_menu"]},{action:"paste-over-selection"},{action:"paste-to-replace"},{action:"duplicate-in-place"},{action:"delete-selection"},{separator:!0},{action:"focus-mode",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"focus-mode-exit",flags:["design"],searchOnly:!0,featureFlags:["ce_multi_edit_focus_mode"]},{action:"canvas-search"},{action:"canvas-search-next"},{action:"canvas-search-prev"},{action:"canvas-search-replace"},{separator:!0},{action:"set-default-style",flags:["design"]},{action:"copy-properties",flags:["design"]},{action:"paste-properties",flags:["design"]},{separator:!0},{action:"toggle-dropper",flags:["design"]},{separator:!0},{action:"select-all"},{action:"select-matching",flags:["design"]},{action:"deselect-all"},{action:"select-inverse"},{name:"select-all-with-menu-options",flags:["design"],children:[{action:"select-same-style",flags:["design"]},{action:"select-same-fill",flags:["design"]},{action:"select-same-stroke",flags:["design"]},{action:"select-same-effect",flags:["design"]},{action:"select-same-text",flags:["design"]},{action:"select-same-font",flags:["design"]},{action:"select-same-instance",flags:["design"]},{action:"select-same-variant",flags:["design"]}]}]},{name:"view-menu",children:[{action:"toggle-grid",flags:["design","dev_handoff"],property:(0,nk.UK)().renderGrid,propertyValue:!0,displayForQuickCommand:"show-pixel-grid"},{action:"toggle-show-dot-grid",flags:["whiteboard"],property:(0,nk.UK)().showDotGrid,propertyValue:!0,displayForQuickCommand:"toggle-show-dot-grid"},{action:"toggle-shown-layout-grids",flags:["edit","design","slides","dev_handoff"],property:(0,nk.UK)().showFrameGrids,propertyValue:!0,displayForQuickCommand:"show-layout-grids"},{action:"toggle-shown-layout-grids",flags:["!edit","design","slides","dev_handoff"],property:(0,y6.d)().showFrameGridsViewOnly,propertyValue:!0,displayForQuickCommand:"show-layout-grids"},{action:"toggle-rulers",flags:["design","dev_handoff"],property:(0,nk.UK)().renderRulers,propertyValue:!0,displayForQuickCommand:"show-rulers"},{action:"toggle-stack-debug-mode",flags:["design"],property:(0,nk.UK)().stackInsertionDebugMode,propertyValue:!0,displayForQuickCommand:"toggle-stack-debug-mode",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-stack-shadows",flags:["design"],property:(0,nk.UK)().renderStackShadows,propertyValue:!0,displayForQuickCommand:"toggle-stack-shadows",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-dynamic-insertion-points",flags:["design"],property:(0,nk.UK)().renderDynamicInsertionPoints,propertyValue:!0,displayForQuickCommand:"toggle-dynamic-insertion-points",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-auto-fill-full-width-children",flags:["design"],property:(0,nk.UK)().shouldSetFullWidthChildToFill,propertyValue:!0,displayForQuickCommand:"toggle-auto-fill-full-width-children",featureFlags:["ce_al_experiments_disabled"]},{action:"toggle-auto-segment-selection",flags:["design"],property:(0,nk.UK)().shouldAutoSegmentSelection,propertyValue:!0,displayForQuickCommand:"toggle-auto-segment-selection",featureFlags:["auto_auto_layout"]},{action:"toggle-alu-visual-indicators",flags:["design"],property:(0,nk.UK)().renderALUVisualIndicators,propertyValue:!0,displayForQuickCommand:"toggle-alu-visual-indicators",featureFlags:["ce_al_experiments_on"]},{action:"toggle-alu-hints",flags:["design"],property:(0,nk.UK)().renderALUHints,propertyValue:!0,displayForQuickCommand:"toggle-alu-hints",featureFlags:["ce_al_experiments_on"]},{action:"toggle-show-slices",flags:["design"],property:(0,nk.UK)().showSlices,propertyValue:!0,displayForQuickCommand:"show-slices"},{action:"toggle-show-comments",flags:["design","dev_handoff","slides"],property:"showComments",propertyValue:!0,displayForQuickCommand:"show-comments",hideForQuickCommand:e_.Ay.isIpadNative},{action:"toggle-show-annotations",flags:["dev_handoff"],property:eT.Ez5.uiState().showAnnotations,propertyValue:!0,displayForQuickCommand:"show-annotations",hideForQuickCommand:e_.Ay.isIpadNative},{name:"outline-mode",flags:["design","dev_handoff"],children:[{action:"toggle-outlines",property:(0,y6.d)().showOutlines,propertyValue:!0,shortcutText:(0,E5.c1)(tu.D.getState().mirror.appModel.keyboardShortcuts,"toggle-outlines-with-migration-notice")||(0,E5.c1)(tu.D.getState().mirror.appModel.keyboardShortcuts,"toggle-outlines")},{separator:!0},{action:"toggle-outline-mode-hidden-layers",property:(0,y6.d)().showOutlineHiddenLayers,propertyValue:!0,displayForQuickCommand:"toggle-outline-mode-hidden-layers-qc"},{action:"toggle-outline-mode-object-bounds",property:(0,y6.d)().showOutlineObjectBounds,propertyValue:!0,displayForQuickCommand:"toggle-outline-mode-object-bounds-qc"}]},{action:"toggle-pixel-preview",flags:["design","dev_handoff"],property:(0,nk.UK)().activeCanvasPixelPreview,propertyValue:!0,displayForQuickCommand:"show-pixel-preview"},{action:"toggle-show-masks",flags:["design"],property:(0,nk.UK)().showMasks,propertyValue:!0,displayForQuickCommand:"show-mask-outlines"},{action:"toggle-show-artboard-outlines",flags:["design"],property:(0,nk.UK)().showArtboardOutlines,propertyValue:!0,displayForQuickCommand:"show-frame-outlines"},{action:"toggle-memory-usage-indicator",property:eT.Ez5.uiState().showMemoryUsage,flags:["design"],propertyValue:!0},{action:"toggle-resource-use",property:eT.Ez5.uiState().renderResourceUse,flags:["whiteboard"],propertyValue:!0},{action:"toggle-icon-detection",property:eT.Ez5.devHandoffState().automaticIconDetection,propertyValue:!0,flags:["dev_handoff","!limited_dev_mode"]},{action:"toggle-dropper",flags:["dev_handoff"]},{separator:!0},{action:"toggle-ui",property:"showUi",propertyValue:!0},{action:"toggle-multiplayer-cursors",property:"hideMultiplayerCursors",propertyValue:!1},eT.Ez5.uiState().isUI3.getCopy()?{action:"toggle-sidebar",property:eT.Ez5.uiState().leftPanelCollapsedUI3,propertyValue:!1,flags:["dev_handoff","whiteboard"]}:{action:"toggle-sidebar",property:(0,nk.UK)().showSidebar,propertyValue:!0,flags:["dev_handoff"]},{action:"enter-design-mode",flags:["dev_handoff"]},{action:"enter-inspect-mode",flags:["!dev_handoff","!recovery","!slides","!sites"],disabled:(0,y8.MP)()},{action:"panels-menu",flags:["design","view_restricted","!dev_handoff"],children:[{action:"toggle-layers"},{action:"toggle-publish"},{action:"show-design-panel"},{action:"show-prototype-panel",notFeatureFlags:["prototype_modality"]},{action:"toggle-prototyping-info",searchOnly:!0,flags:["edit"]},{action:"toggle-prototyping-info",searchOnly:!0,flags:["!edit"],displayForQuickCommand:"toggle-prototyping-information"},{action:"show-inspect-panel",flags:["!edit"]},{action:"toggle-variables"},{separator:!0},eT.Ez5.uiState().isUI3.getCopy()?{action:"toggle-sidebar",property:eT.Ez5.uiState().leftPanelCollapsedUI3,propertyValue:!1}:{action:"toggle-sidebar",property:(0,nk.UK)().showSidebar,propertyValue:!0}]},{separator:!0},{action:"zoom-in",disabled:!(null==d?void 0:d.canZoomIn)},{action:"zoom-out",disabled:!(null==d?void 0:d.canZoomOut)},{action:"zoom-reset"},{action:"zoom-to-fit"},{action:"zoom-to-selection"},{separator:!0},{action:"page-previous",flags:["design","whiteboard","dev_handoff"]},{action:"page-next",flags:["design","whiteboard","dev_handoff"]},{action:"previous-artboard",flags:["design","dev_handoff"]},{action:"next-artboard",flags:["design","dev_handoff"]},{action:"previous-artboard-same-zoom",flags:["design","dev_handoff"]},{action:"next-artboard-same-zoom",flags:["design","dev_handoff"]},{separator:!0},{name:"interface-scale-menu",flags:["desktop_os_menu"]},{separator:!0},{name:"toggle-full-screen",flags:["desktop_os_menu"]},{name:"always-show-tabs-when-presenting",flags:["desktop_os_menu"]}]},{name:"object-menu",flags:["!dev_handoff"],children:[{action:"frame-selection",flags:["design","edit"]},{action:"group-selection",flags:["edit"]},{action:"ungroup-selection",flags:["edit"]},{separator:!0},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{separator:!0},{action:"create-section",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"mask-selection",flags:["design","edit","slides"],get displayText(){switch(eT.Ez5.editorState().selectionIsMask.getCopy()){case eT.F84.OFF:case eT.F84.MIXED:return(0,eb.t)("fullscreen_actions.mask-selection");case eT.F84.ON:return(0,eb.t)("fullscreen.menu.remove_mask")}}},{action:"create-comment",flags:["whiteboard","edit"],searchOnly:!0},{action:"create-sticky",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"create-text-node",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"create-ellipse",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"create-diamond",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"create-triangle",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"create-rounded-rectangle",flags:["whiteboard","edit"],searchOnly:!0,callback:()=>{(0,y5.FT)()}},{action:"create-responsive-set",flags:["design"],featureFlags:["sites"],searchOnly:!0},{action:"convert-table-to-sticky-grid",flags:["whiteboard","edit"],searchOnly:!0},{get name(){return ts.Y5.getFileThumbnailMenuItemName()},callback:()=>ts.Y5.handleFileThumbnailMenuItem(),get disabled(){return ts.Y5.disableFileThumbnailMenu()},flags:["edit"]},{separator:!0},{action:"stack-selection",flags:["design","edit"]},{action:"create-symbol",flags:["design","edit"]},{action:"create-template",flags:["design","edit"],featureFlags:["dse_templates_proto"]},{action:"create-module",flags:["design","edit"],featureFlags:["dse_editor_templates_v1","dse_module_publish"]},{action:"reset-symbol",flags:["design","edit"]},{action:"detach-instance",flags:["design","edit"]},{action:"main-component",flags:["design"],children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]}]},{separator:!0},{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit"]},{action:"send-backward",flags:["edit"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"rotate-180",flags:["edit"]},{action:"rotate-90-counterclockwise",flags:["edit"]},{action:"rotate-90-clockwise",flags:["edit"]},{separator:!0},{action:"flatten-selection",flags:["design","edit","slides"]},{action:"outline-stroke",flags:["design","edit"],shortcutText:(0,E5.c1)(tu.D.getState().mirror.appModel.keyboardShortcuts,"outline-stroke-with-migration-notice")||(0,E5.c1)(tu.D.getState().mirror.appModel.keyboardShortcuts,"outline-stroke")},{name:"boolean-menu",flags:["design","edit"],children:[{action:"live-boolean-union"},{action:"live-boolean-subtract"},{action:"live-boolean-intersect"},{action:"live-boolean-xor"}]},{action:"convert-to-raster",flags:["design","edit"]},{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["design","edit"]},{action:"toggle-locked-for-selected-nodes",flags:["edit"]},{action:"unlock-all",flags:["whiteboard","edit"]},{action:"hide-sibling-layers",flags:["design","edit"]},{action:"collapse-layers",flags:["design","edit"]},{separator:!0},{action:"remove-fill",flags:["design","edit"]},{action:"remove-stroke",flags:["design","edit"]},{action:"swap-fill-and-stroke",flags:["design","edit"]},{action:"remove-interactions-on-selection",flags:["design","edit"]}]},{name:"text-menu",flags:["edit","!dev_handoff"],children:[{action:"toggle-bold"},{action:"text-toggle-italic"},{action:"text-toggle-underline"},{action:"text-toggle-strikethrough"},{action:"text-edit-hyperlink"},{action:"text-upgrade-to-bidi",searchOnly:!0},{action:"text-upgrade-explicit-layout-version",featureFlags:["ce_textlinedata_styleid"],searchOnly:!0},{separator:!0},{action:"text-toggle-unordered-list"},{action:"text-toggle-ordered-list"},{separator:!0},{action:"text-align-menu",children:[{action:"text-align-left"},{action:"text-align-center"},{action:"text-align-right"},{action:"text-align-justified",flags:["design","slides"]},{separator:!0,flags:["design","slides"]},{action:"text-align-top",flags:["design","slides"]},{action:"text-align-middle",flags:["design","slides"]},{action:"text-align-bottom",flags:["design","slides"]}]},{action:"text-adjust-menu",children:[{action:"text-indent-list"},{action:"text-dedent-list"},{action:"text-font-size-increase",flags:["design","slides"]},{action:"text-font-size-decrease",flags:["design","slides"]},{action:"text-bold-increase",flags:["design"]},{action:"text-bold-decrease",flags:["design"]},{action:"text-line-height-increase",flags:["design"]},{action:"text-line-height-decrease",flags:["design"]},{action:"text-letter-spacing-increase",flags:["design"]},{action:"text-letter-spacing-decrease",flags:["design"]}]},{action:"text-case-menu",flags:["design"],children:[{action:"text-original-case",callback:()=>{ve("ORIGINAL","menu")},flags:["design"]},{action:"text-upper-case",callback:()=>{ve("UPPER","menu")},flags:["design"]},{action:"text-lower-case",callback:()=>{ve("LOWER","menu")},flags:["design"]},{action:"text-title-case",callback:()=>{ve("TITLE","menu")},flags:["design"],searchOnly:!0},{action:"text-small-caps",callback:()=>{ve("SMALL_CAPS","menu")},flags:["design"],searchOnly:!0},{action:"text-forced-small-caps",callback:()=>{ve("SMALL_CAPS_FORCED","menu")},flags:["design"],searchOnly:!0}]},{action:"text-directionality-menu",children:[{action:"text-set-directionality-ltr",hideForQuickCommand:!0},{action:"text-set-directionality-rtl",hideForQuickCommand:!0},{action:"text-set-directionality-ltr-qa",searchOnly:!0},{action:"text-set-directionality-rtl-qa",searchOnly:!0}]},{separator:!0},{name:"spell-check-menu",flags:["design","whiteboard","slides"],children:[{action:"toggle-spell-check",flags:["design","whiteboard","slides"],propertyValue:!0,property:(0,nk.UK)().spellCheckPreference},{separator:!0},...function(){let e=EI(),r=(0,y7.Gq)().getPrimaryLocale(!1),n=Intl&&Intl.DisplayNames?new Intl.DisplayNames((0,y7.Gq)().getPrimaryLocale(!1),{type:"language",languageDisplay:"standard"}):void 0,i=e=>{if(e===Eu)return(0,eb.t)("spell_check.auto_detect_language_display_text");try{return n&&n.of(e)||e}catch(e){}return e};return e.sort((e,n)=>e===Eu?-1:n===Eu?1:i(e).localeCompare(i(n),r||"en")),e.map(e=>({recordingKey:`spell-check-dictionary-option-${e}`,action:"redo-spell-checking",displayText:i(e),args:{language:i(e)},flags:["!desktop_os_menu"],get checked(){let r=a,n=E_(void 0!==r?r:Eg.HUNSPELL);return(0,nk.UK)().spellCheckPreference.getCopy()&&ET(n)===e},callback:async()=>{var r;r=E_(await Ew()),eU.x4&&(eU.x4.setItem(r,e),new nF.P().sendToOtherTabs(r)),await EZ(e)}}))}()]}]},{name:"arrange-menu",flags:["edit","!dev_handoff"],children:[{action:"round-to-pixels",flags:["design"]},{separator:!0},{action:"align-left"},{action:"align-horizontal-center"},{action:"align-right"},{action:"align-top"},{action:"align-vertical-center"},{action:"align-bottom"},{separator:!0},{action:"tidy-up"},{separator:!0},{action:"pack-horizontal",flags:["design"]},{action:"pack-vertical",flags:["design"]},{separator:!0},{action:"distribute-horizontal-spacing"},{action:"distribute-vertical-spacing"},{separator:!0},{action:"distribute-left",flags:["design"]},{action:"distribute-horizontal-center",flags:["design"]},{action:"distribute-right",flags:["design"]},{action:"distribute-top",flags:["design"]},{action:"distribute-vertical-center",flags:["design"]},{action:"distribute-bottom",flags:["design"]}]},{name:"vector-menu",flags:["edit","design","!dev_handoff"],children:[{action:"join-selection"},{action:"smooth-join-selection"},{action:"delete-and-heal-selection"}]},{separator:!0},{action:"browse-all-resources-modal",flags:["whiteboard","slides","edit"],searchOnly:!0},{action:"set-tool-code-block",flags:["whiteboard","edit"],searchOnly:!0},{name:"preferences-menu",children:[{name:"dev-handoff-code-settings-language",flags:["dev_handoff","!limited_dev_mode"],children:(r=tu.D.getState().mirror.appModel,[i0("dev-handoff-css-language",nH.uz,r),{name:"dev-handoff-ios-language-group",children:[i0("dev-handoff-swiftui-language",nH.p,r),i0("dev-handoff-uikit-language",nH.Ap,r)]},{name:"dev-handoff-android-language-group",children:[i0("dev-handoff-compose-language",nH.LK,r),i0("dev-handoff-xml-language",nH.NU,r)]}])},{name:"dev-handoff-code-settings-unit",flags:["dev_handoff","!limited_dev_mode"],children:function(e){let r=e.devHandoffCodeLanguage;return"first-party"!==r.type?[]:[i1("dev-handoff-code-settings-unit-pixel","dev-handoff-code-settings-unit-pixel-quick-command",eT.tKW.PIXEL,e),i1("dev-handoff-code-settings-unit-scaled","dev-handoff-code-settings-unit-scaled-quick-command",eT.tKW.SCALED,e,{scaledUnit:function(e){switch(e){case nH.uz:return(0,eb.t)("dev_handoff.alternative_units.rem_unit");case nH.LK:case nH.NU:return(0,eb.t)("dev_handoff.alternative_units.dp_unit");case nH.p:case nH.Ap:return(0,eb.t)("dev_handoff.alternative_units.pt_unit");default:return(0,eb.t)("dev_handoff.alternative_units.rem_unit")}}(r.id)}),{name:"dev-handoff-code-settings-unit-settings",callback:(e,r,n)=>{n((0,rH.to)({type:iQ}))}}]}(tu.D.getState().mirror.appModel)},{separator:!0,flags:["dev_handoff","!limited_dev_mode"]},{action:"toggle-snapping-to-geometry",property:(0,nk.UK)().snapToGeometry,propertyValue:!0,flags:["edit","design"]},{action:"toggle-snapping-to-objects",property:(0,nk.UK)().snapToObjects,propertyValue:!0,flags:["edit","design"]},{action:"toggle-snapping-to-pixels",property:(0,nk.UK)().snapToPixelGrid,propertyValue:!0,flags:["edit","design"]},{action:"toggle-snapping-to-dots",property:(0,e2.kc)().figjam_snap_to_dot_grid_reset?(0,nk.UK)().snapToDotGridStagingReset:(0,nk.UK)().snapToDotGrid,propertyValue:!0,flags:["edit","whiteboard"]},{separator:!0,flags:["edit"]},{action:"toggle-sticky-tools",property:(0,nk.UK)().stickyTools,propertyValue:!0,flags:["design","dev_handoff"],hideForQuickCommand:!0},{action:"disable-pinch-zoom-fix",property:(0,nk.UK)().disablePinchZoomFix,propertyValue:!0,platforms:["windows"],hideForQuickCommand:!0},{action:"toggle-layer-hover",property:(0,nk.UK)().layerHover,propertyValue:!0,flags:["design","dev_handoff"],hideForQuickCommand:!0},{action:"toggle-copy-renaming",property:(0,nk.UK)().copyRenaming,propertyValue:!0,flags:["edit","design"],hideForQuickCommand:!0},{action:"toggle-annotations",property:(0,nk.UK)().renderAnnotations,propertyValue:!0,flags:["design"],hideForQuickCommand:!0},{action:"toggle-viewport-overlay-hiding",property:(0,nk.UK)().temporarilyHideViewportOverlay,propertyValue:!0,flags:["design"],hideForQuickCommand:!0},{action:"toggle-smart-quotes",property:(0,nk.UK)().smartQuotes,propertyValue:!0,flags:["edit","design"],hideForQuickCommand:!0},{action:"toggle-flip-during-resize",property:(0,nk.UK)().flipDuringResize,propertyValue:!0,flags:["edit","design"],hideForQuickCommand:!0},{separator:!0,flags:["edit","whiteboard"]},{action:"toggle-keyboard-zoom-to-selection",property:(0,nk.UK)().keyboardZoomToSelection,propertyValue:!0,hideForQuickCommand:!0},{action:"toggle-invert-zoom",property:(0,nk.UK)().invertZoom,propertyValue:!0,hideForQuickCommand:!0},{action:"toggle-ctrl-click-context-menu",property:(0,nk.UK)().ctrlClickContextMenu,propertyValue:!0,hideForQuickCommand:!0},{separator:!0,flags:["edit","whiteboard"]},{action:"toggle-cursor-high-five-wiggle",property:(0,nk.UK)().cursorHighFiveWiggle,propertyValue:!0,flags:["whiteboard"],hideForQuickCommand:!0},{action:"toggle-use-numbers-for-opacity",property:eT.Ez5.editorState().useNumbersForOpacity,propertyValue:!0,flags:["edit","design","slides"],hideForQuickCommand:!0},{action:"toggle-use-old-outline-shortcuts",property:(0,nk.UK)().useOldOutlineShortcuts,propertyValue:!0,featureFlags:["ce_outline_mode_shortcut_pref"],flags:["design","dev_handoff"],hideForQuickCommand:!0},{name:"open-links-in-desktop-app",get checked(){return b8.isAutoOpenEnabled()},callback:()=>{b8.toggleAutoOpen()},flags:["!desktop"],get platforms(){return b8.shouldShowOnce()?[]:["mac","windows"]}},...(0,vt.go)(),{name:"show-templates-for-new-figjam-files",get checked(){return!(0,S6.J)()},callback:(e,r,n)=>{n((0,S6.x)({hide:!(0,S6.J)(),triggeredFrom:"fullscreen_menu"}))},flags:["whiteboard"]},{separator:!0,featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"]},{action:"toggle-scroll-wheel-zoom",featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],hideForQuickCommand:e_.Ay.isIpad,"data-onboarding-key":nx.oi.ZOOM,callback:()=>{nB({navigationPreference:"mouse-scroll-wheel-zoom",enabled:!(0,nk.UK)().scrollWheelZoom.getCopy()})},checked:(0,nk.UK)().scrollWheelZoom.getCopy()},{action:"toggle-right-click-pan",featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],hideForQuickCommand:e_.Ay.isIpad,"data-onboarding-key":nx.oi.PAN,callback:()=>{nB({navigationPreference:"right-click-drag-to-pan",enabled:!(0,nk.UK)().rightClickPan.getCopy()})},checked:(0,nk.UK)().rightClickPan.getCopy()},{separator:!0,featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],flags:["!edit"]},{separator:!0,flags:["edit"]},{separator:!0,flags:["dev_handoff"]},{name:"theme-menu-option",flags:["design","dev_handoff","slides"],children:[{name:"theme-light-mode",checked:"light"===s,displayForQuickCommand:"theme-light-mode-quick-command",hideCheckForQuickCommand:!0,callback:(e,r,n)=>{n(E2.Qh({theme:"light",userInitiated:!0}))},searchSynonyms:["theme"]},{name:"theme-dark-mode",checked:"dark"===s,displayForQuickCommand:"theme-dark-mode-quick-command",hideCheckForQuickCommand:!0,callback:(e,r,n)=>{n(E2.Qh({theme:"dark",userInitiated:!0}))},searchSynonyms:["theme"]},{name:"theme-system",checked:"system"===s,displayForQuickCommand:"theme-system-quick-command",hideCheckForQuickCommand:!0,callback:(e,r,n)=>{n(E2.Qh({theme:"system",userInitiated:!0}))}}]},...function(){let e=Object.values(E1.nt),r=e.filter(e=>e.canOverride()),n=()=>e.filter(e=>e.isOverridden(tu.D.getState().userFlags));if(0===r.length)return[];let i=[];return r.forEach(e=>{let r=e.getName();i.push({name:"lab-menu-item-enable",searchOnly:!0,args:{labName:r},get checked(){return e.getEffectiveValue(tu.D.getState().userFlags)},callback:(r,n,i)=>{e.toggleValue(tu.D.getState(),i,"quick_actions")}}),i.push({name:"lab-menu-item",hideForQuickCommand:!0,args:{labName:r},get checked(){return e.getEffectiveValue(tu.D.getState().userFlags)},callback:(r,n,i)=>{e.toggleValue(tu.D.getState(),i,"fullscreen_menu")}})}),i.push({separator:!0}),i.push({name:"lab-menu-reset",disabled:0===n().length,callback(e,r,i){let a=n();a.forEach(e=>e.resetToDefault(tu.D.getState(),i)),i(e3.F.enqueue({message:(0,eb.t)("lab.menu.changed_to_default",{count:a.length})}))}}),[{name:"labs",children:i}]}(),{name:"user-color-profile-menu-option",displayForQuickCommand:"user-color-profile-quick-action",callback:(e,r,n)=>{n((0,rH.to)({type:Ss}))}},...(0,tz.xt)(),{name:"accessibility-settings",flags:(0,e2.u4)("a11y_design_dom_mirror",["design","whiteboard"],["whiteboard"]),callback:(e,r,n)=>{n((0,rH.to)({type:bY}))}},{action:"show-nudge-amount-picker",flags:["edit","design"]}]},{action:"open-preferences-modal",flags:["design"]},{separator:!0},{get name(){return ts.Y5.getDesktopAppMenuItemName()},callback:e=>ts.Y5.handleDesktopAppMenuItem(e),flags:["!desktop"],platforms:["mac","windows"]},{name:"figma-account-menu",children:[{action:"open-help",iconType:"external_link"},{action:"open-shortcuts"},{action:"open-support-forum",iconType:"external_link"},{action:"open-tutorials",iconType:"external_link"},{action:"open-release-notes",iconType:"external_link"},{action:"open-font-settings",flags:["!desktop","!integration","design"],iconType:"external_link"},{separator:!0},{name:"troubleshooting-menu",flags:["desktop_os_menu"]},{separator:!0},{action:"open-legal-summary",iconType:"external_link"},{action:"open-account-settings",flags:["!integration"],iconType:"external_link"},{name:"sign-out",flags:["!integration"],callback:(e,r,n)=>{n(at.S5())},hideForQuickCommand:!0}]},{action:"set-tool-mindmap-tree-nucleus",flags:["whiteboard","edit"],featureFlags:["figjam_mindmaps_entry_enable"],searchOnly:!0},{action:"set-tool-arrow",flags:["design"],searchOnly:!0},{action:"set-tool-default",flags:["design"],searchOnly:!0},{action:"set-tool-default-figjam",flags:["whiteboard"],searchOnly:!0},{action:"set-tool-hand",searchOnly:!0},{action:"set-tool-comments",searchOnly:!0,disabled:e_.Ay.isIpadNative},{action:"spotlight-me",searchOnly:!0},{action:"follow-presenter",searchOnly:!0},...S8,{action:"restore-autolayout-position",flags:["design"],searchOnly:!0,isLowPriorityMatch:!0},{action:"republish-selected-components",flags:["design"],searchOnly:!0},{action:"component-insert",flags:["design"],searchOnly:!0},{action:"republish-auto-layout-components",flags:["design"],searchOnly:!0,isLowPriorityMatch:!0},{action:"select-broken-fixed-scrolling-nodes",flags:["design"],searchOnly:!0,isLowPriorityMatch:!0},{action:"text-relayout",searchOnly:!0,isLowPriorityMatch:!0},{action:"disable-all-unframed-masks",flags:["whiteboard"],searchOnly:!0},{action:"resize-to-fit",flags:["design"],searchOnly:!0},{action:"toggle-frame-clipping",flags:["design"],searchOnly:!0},{action:"set-tool-bend",flags:["edit","design"],searchOnly:!0},{action:"set-tool-ellipse",flags:["edit","design"],searchOnly:!0},{action:"set-tool-frame",flags:["edit","design"],searchOnly:!0},{action:"set-tool-line",flags:["edit","design"],searchOnly:!0},{action:"set-tool-paint-bucket",flags:["edit"],searchOnly:!0},{action:"set-tool-pen",flags:["edit","design"],searchOnly:!0},{action:"set-tool-pencil",flags:["edit","design"],searchOnly:!0},{name:"set-tool-marker",shortcutText:"M",callback:()=>{ts.Y5.triggerAction("set-tool-pencil")},flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-rectangle",flags:["edit","design"],searchOnly:!0},{action:"set-tool-regular-polygon",flags:["edit","design"],searchOnly:!0},{action:"set-tool-scale",flags:["edit","design"],searchOnly:!0},{action:"set-tool-slice",flags:["edit","design"],searchOnly:!0},{action:"set-tool-star",flags:["edit","design"],searchOnly:!0},{action:"set-tool-sticky",flags:["edit","whiteboard"],searchOnly:!0},{name:"set-tool-stamp",flags:["edit","whiteboard"],searchOnly:!0,callback:(e,r,n)=>{S4({source:"quick-actions"})}},{action:"set-tool-connector-elbowed",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-connector-straight",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-square",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-ellipse",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-diamond",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-triangle-up",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-triangle-down",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-shape-whiteboard-rounded-rectangle",flags:["edit","whiteboard"],searchOnly:!0},{action:"set-tool-type",flags:["edit"],searchOnly:!0},{action:"set-tool-eraser",flags:["whiteboard"],searchOnly:!0},{action:"set-tool-highlighter",flags:["whiteboard"],searchOnly:!0},{action:"toggle-custom-cursor",flags:["whiteboard"],featureFlags:["multiplayer_figjam_fun_cursors"],searchOnly:!0},{action:"set-tool-washi-tape",flags:["edit","whiteboard"],searchOnly:!0},{action:"sort-by-text-content",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"sort-by-stamps",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"sort-by-color",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"sort-by-author",flags:["edit","whiteboard"],searchOnly:!0,featureFlags:["figjam_sort_by"]},{action:"set-tool-table",flags:["edit","whiteboard"],searchOnly:!0},{action:"open-timer",flags:["whiteboard"],searchOnly:!0,callback:()=>{rV.zl.set(SK.Qs,{type:"OPEN"}),(0,ex.sx)(Sj.Fn.OPEN,{source:Sj.OO.QUICK_ACTIONS}),(0,SY.D)(()=>{rV.zl.set(SK.Qs,{type:"CLOSE"})})}},{action:"toggle-help-widget",searchOnly:!0,property:(0,nk.UK)().hideHelpWidget,propertyValue:!0},{action:"toggle-multiplayer-cursors",searchOnly:!0,property:"hideMultiplayerCursors",propertyValue:!1},{action:"unlock-all",flags:["edit"],searchOnly:!0},{action:"unhide-all",flags:["edit","design"],searchOnly:!0},{action:"toggle-library",flags:["edit"],searchOnly:!0},{action:"crop-image",flags:["edit"],searchOnly:!0},{action:"reset-transform",flags:["edit","design","whiteboard","slides"],searchOnly:!0,isLowPriorityMatch:!0},{action:"copy-link",flags:["edit","design","whiteboard","slides"],searchOnly:!0},{action:"sites-copy-link",flags:["sites"],searchOnly:!0},{name:"report-issue",featureFlags:["bug_reporter"],callback:(e,r,n)=>{n((0,rH.to)({type:v3,data:{},showModalsBeneath:!0}))},searchOnly:!0,searchSynonyms:["report a bug"]},{name:"set-commit-sha",featureFlags:["set_frontend_commit_sha"],callback:(e,r,n)=>{n((0,rH.to)({type:Su.sS,data:{},showModalsBeneath:!0}))},searchOnly:!0},{name:"debug-menu",flags:(0,e2.kc)().internal_only_debug_tools?[]:["!ship"],children:[{action:"add-default-cell-styles-to-tables",searchOnly:!0},{action:"toggle-memory-usage-indicator",property:eT.Ez5.uiState().showMemoryUsage,flags:["design"],propertyValue:!0},{name:"download-memory-profile",featureFlags:["memory_profiling_local"],callback:async()=>{window.MemoryDebug&&await window.MemoryDebug.downloadPprof(),alert("Profile downloaded!")}},{action:"toggle-resource-use",property:eT.Ez5.uiState().renderResourceUse,propertyValue:!0},{action:"debug-toggle-show-canvas-axis",property:eT.Ez5.uiState().showCanvasXYAxis,propertyValue:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-toggle-show-mouse-position",property:eT.Ez5.uiState().showMousePosition,propertyValue:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-toggle-whiteboard-pdf-import-node-replacement",property:(0,nk.UK)().disableWhiteboardPdfImportNodeReplacement,propertyValue:!1,isLowPriorityMatch:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-selection"},{action:"change-document-color-profile-to-display-p3",displayForQuickCommand:"change-document-color-profile-to-display-p3-quick-action"},{action:"change-document-color-profile-to-srgb",displayForQuickCommand:"change-document-color-profile-to-srgb-quick-action"},{action:"assign-document-color-profile-legacy",displayForQuickCommand:"assign-document-color-profile-legacy-quick-action",featureFlags:["ee_color_management_debug"]},{action:"toggle-recording-interactions"},{action:"toggle-perf-hud"},{action:"toggle-fake-mp-activity"},{action:"toggle-tsmer-config"},{action:"toggle-debug-doc-sync-logs",isLowPriorityMatch:!0},{action:"toggle-debug-user-sync-logs",isLowPriorityMatch:!0},{action:"toggle-debug-page-sync-logs",isLowPriorityMatch:!0},{action:"debug-incremental-loading-all-pages",isLowPriorityMatch:!0},{action:"debug-incremental-loading-current-only",isLowPriorityMatch:!0},{action:"toggle-debug-layout-logs",isLowPriorityMatch:!0},{action:"toggle-show-guids",property:(0,nk.UK)().showGuids,propertyValue:!0,isLowPriorityMatch:!0},{action:"debug-toggle-figma-scope",property:(0,nk.UK)().showFigmaScope,propertyValue:!0,isLowPriorityMatch:!0,featureFlags:["internal_only_debug_tools"]},{action:"debug-print-as-test-code",isLowPriorityMatch:!0},{action:"debug-print-vector-network-as-test-code",isLowPriorityMatch:!0},{action:"force-publish-state-group",isLowPriorityMatch:!0,featureFlags:["ds_force_publish_cmd"]},{action:"toggle-canvas-search-debug",property:(0,nk.UK)().canvasSearchDebug,propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-accessibility-dom-debug",property:(0,nk.UK)().accessibilityDomDebug,flags:["whiteboard"],propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-fpl-debug",property:(0,nk.UK)().fplDebug,propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-show-quick-command-rank-debug",property:(0,nk.UK)().showQuickCommandRankDebug,propertyValue:!0},{action:"toggle-show-immutable-frame-sublayers",flags:["design"],property:(0,nk.UK)().showImmutableFrameSublayers,propertyValue:!0},{action:"toggle-force-publish-flattened",property:"forcePublishFlattened",propertyValue:!0},{action:"toggle-pen-tool-avoid-single-handles",property:(0,nk.UK)().penToolAvoidSingleHandles,propertyValue:!0},{action:"purge-all-memory",isLowPriorityMatch:!0},{action:"export-for-framer",flags:["design"]},{action:"simulate-back-to-files",flags:["!integration"]},{action:"test-multiplayer-upgrade"},{action:"test-multiplayer-reject-too-old"},{action:"test-multiplayer-reject-invalid-permissions"},{action:"test-multiplayer-reject-not-logged-in"},{action:"test-multiplayer-reject-too-many-connections"},{action:"download-webgl-trace",featureFlags:["webgl_recorder"]},{action:"print-render-tree"},{action:"print-image-diagnostics"},{action:"test-action"},{action:"toggle-display-dirty-rects",property:(0,nk.UK)().toggleDisplayDirtyRects,propertyValue:!0},{action:"toggle-display-dirty-tiles",property:(0,nk.UK)().toggleDisplayDirtyTiles,propertyValue:!0},{action:"toggle-display-gpu-metrics",property:(0,nk.UK)().toggleDisplayGpuMetrics,propertyValue:!0},{name:"set-missing-font",callback:()=>ts.Y5.dispatch(rH.$O({type:Sd,data:{}}))},{name:"detach-multiplayer",callback:(e,r,n)=>{(0,a_.K7)()}},{name:"reattach-multiplayer",callback:(e,r,n)=>{(0,a_.dh)()}},{name:"abandon-reattach",callback:(e,r,n)=>{(0,a_.IZ)()}},{action:"reflow-immutable-frames",searchOnly:!0},{action:"swap-nodes",searchOnly:!0,featureFlags:["ce_swap_nodes"]},{action:"toggle-overlay-ui-rendering",property:(0,y6.d)().overlayUiRendering,propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-allow-time-sliced-edit-rendering-optimization",property:(0,y6.d)().allowTimeSlicedEditRenderingOptimization,flags:["whiteboard"],propertyValue:!0,isLowPriorityMatch:!0},{action:"toggle-sync-cursor-rendering",property:(0,y6.d)().syncCursorRenderingToSceneGraph,flags:["whiteboard"],propertyValue:!0,isLowPriorityMatch:!0},{name:"apply-palette-to-selection",callback:Sp.db,flags:["whiteboard"],isLowPriorityMatch:!0},{action:"similar-includes-matching",flags:["design"],property:(0,nk.UK)().similarIncludesMatching,propertyValue:!0},{action:"toggle-similar-highlights",flags:["design"],property:(0,nk.UK)().toggleSimilarHighlights},{name:"toggle-figment-debugger",searchOnly:!0,featureFlags:["figment_debugger"],callback:bX.Y},{action:"debug-toggle-diagram-layout-paused",featureFlags:["figjam_mindmaps_behavior_enable"],searchOnly:!0},{action:"debug-magic-link-ai-model",featureFlags:["prototype_ai_magic_link","internal_only_debug_tools"],searchOnly:!0},{action:"test-independent-layer-animation"},{action:"test-independent-layer-animation-eased",featureFlags:["fullscreen_flanimations"]},{action:"test-independent-layer-animation-opacity",featureFlags:["fullscreen_flanimations"]},{name:"typescript-animations",children:[{name:"test-typescript-bezier-animation",featureFlags:["fullscreen_flanimations"],callback:()=>{EJ(eu.forBezier(eT.mgy.INOUT_CUBIC,2))}},{name:"test-typescript-oscillating-opacity-animation",featureFlags:["fullscreen_flanimations"],callback:()=>{var e;e=eu.forOpacityOscillation(2,.25,1,2),(0,aa.fv)().forEach(r=>{EX=r.setOpacityWithAnimation(.25,e)})}},{name:"test-typescript-jiggle-animation",featureFlags:["fullscreen_flanimations"],callback:EQ},{name:"test-typescript-spring-animation",featureFlags:["fullscreen_flanimations"],callback:()=>{EJ(eu.forBouncySpring())}},{name:"test-typescript-spring-animation-low-bounciness",featureFlags:["fullscreen_flanimations"],callback:()=>{EJ(eu.forSpringBounciness(.2,2))}},{name:"test-typescript-spring-animation-high-bounciness",featureFlags:["fullscreen_flanimations"],callback:()=>{EJ(eu.forSpringBounciness(.8,2))}}]},{name:"cancel-last-animation",featureFlags:["fullscreen_flanimations"],callback:E0},{action:"test-non-independent-layer-animation",featureFlags:["fullscreen_flanimations"]},{action:"toggle-noodles-without-dragging",property:(0,nk.UK)().toggleNoodlesWithoutDragging,featureFlags:["prototype_on_canvas_improvements"],searchOnly:!0,propertyValue:!0},{action:"toggle-debug-show-magic-link-clustering",property:(0,nk.UK)().toggleDebugShowMagicLinkClustering,featureFlags:["prototype_ai_magic_link"],searchOnly:!0,propertyValue:!0},...o||[]]},{action:"select-all-text",flags:["design"],searchOnly:!0},{action:"select-parent",searchOnly:!0},{action:"select-child",searchOnly:!0},{action:"select-next-sibling",flags:["design"],searchOnly:!0},{action:"select-previous-sibling",flags:["design"],searchOnly:!0},{action:"rename-selection",flags:["design"],searchOnly:!0},{action:"set-opacity-1",flags:["design"],searchOnly:!0},{action:"set-opacity-5",flags:["design"],searchOnly:!0},{action:"set-opacity-0",flags:["design"],searchOnly:!0},{action:"unstack-selection",flags:["design"],searchOnly:!0},{action:"create-multiple-symbols",flags:["design"],searchOnly:!0},{action:"create-multiple-symbols-and-state-group",flags:["design"],searchOnly:!0},{action:"publish-selection",flags:["design"],searchOnly:!0},{action:"publish-changes-to-library",flags:["design"],searchOnly:!0,disabled:c.isPublishingModalDisabled},{action:"reset-variable-modes",flags:["design"],searchOnly:!0},{action:"detach-deleted-variables",flags:["design"],searchOnly:!0},{action:"back-to-files",callback:(e,r,n)=>{n(i6.eH())},searchOnly:!0,flags:["!desktop","!integration"]},{action:"present-as-prototype",searchOnly:!0,flags:["design","dev_handoff"]},{action:"toggle-inline-preview",searchOnly:!0,flags:["design","dev_handoff"]},{action:"present-slides-audience-view",searchOnly:!0,flags:["slides"]},{action:"present-slides-presenter-view",searchOnly:!0,flags:["slides"]},{action:"simplify-selected-instance-panels",callback:(e,r,n)=>{eT.glU.setSimplifyInstancePanels(!0)},searchOnly:!0,flags:["edit","design"]},{name:"check-network-compatibility",callback:(e,r,n)=>(0,v5.x9)(n),searchOnly:!0},{name:"run-auto-auto-layout",featureFlags:["auto_auto_layout_debug"],callback:(e,r)=>{let n=ao();(0,nM.runMSALOnSelection)(n)},searchOnly:!0},{name:"run-auto-auto-layout-skip-responsive",featureFlags:["auto_auto_layout_debug"],callback:(e,r)=>{let n=ao();(0,nM.runMSALOnSelection)(n,{skipResponsive:!0})},searchOnly:!0},{name:"run-set-responsive-settings",featureFlags:["auto_auto_layout_debug"],callback:(e,r)=>{let n=ao();(0,nM.makeResponsiveV2)(n)},searchOnly:!0},{name:"run-auto-auto-layout-with-section-detection",featureFlags:["auto_auto_layout_debug"],callback:(e,r)=>{ap()},searchOnly:!0},{name:"run-auto-auto-layout-section-detection",featureFlags:["auto_auto_layout"],callback:(e,r)=>{ah()},searchOnly:!0},{action:"content-fill",flags:["design"],searchOnly:!0}]}({fileMenuArgs:{branchingActionsStatus:(0,sm.gW)((0,ac.tB)(e),(0,i7.getPermissionsState)(e),e.selectedView.editorType,r,e.mirror.appModel.topLevelMode,e.mirror.appModel.multiplayerSessionState,o,s),saveAsState:e.saveAsState,topLevelMode:e.mirror.appModel.topLevelMode,unreadCommentCount:n,isOrgMember:(0,i7.canMemberOrg)(e.currentUserOrgId,e)},pluginAndWidgetMenuArgs:i,theme:e.theme.themePreference,backToFileArgs:{shouldShowBackToFiles:!1},zoomArgs:{canZoomIn:(0,E5.Yh)(e.mirror.appModel,"zoom-in"),canZoomOut:(0,E5.Yh)(e.mirror.appModel,"zoom-out")},publishingModalArgs:{isPublishingModalDisabled:(0,lx.LD)(e)}})}(n,{isRecovery:!1,fullscreenMemoryWarningLevel:rA.Wy.SAFE,unreadCommentCount:void 0,pluginAndWidgetMenuArgs:i});return new ID(n.mirror.appModel,n.selectedView,[...o]).getItem(n.mirror.appModel,e)},this.getCallback=e=>{var r;let n=this.getFullscreenMenuItem(e);return n&&n.callback&&(null==(r=this.store)?void 0:r.dispatch)?(console.log("[CustomKeyboardShortcut] found action and running callback",{menuItem:n,itemDisplayText:e}),()=>n.callback(It(n),n.args,this.store.dispatch)):(console.warn("[CustomKeyboardShortcut] could not find item for given action",{menuItem:n,itemDisplayText:e}),null)},this.store=e.store}getCustomKeyboardShortcuts(){if(!this.store)return[];let{userFlags:e}=this.store.getState();if(!E1.nt.customKeyboardShortcuts.getEffectiveValue(e))return[];let r=function(){var e;let r=tz.dZ.get((0,tz.v7)())||"UNKNOWN",n=rq.y.isApple()?"mac":"!mac";return(null==(e=(function(){let e;if(!eU.x4)return{};let r=eU.x4.getItem("customKeyboardShortcuts");if(!r)return{};try{e=JSON.parse(r)}catch(e){console.error("[Custom Keyboard Shortcuts] Failed to parse from local storage",e)}return e}()??{})[r])?void 0:e[n])??{}}(),n=[];return Object.entries(r).forEach(([e,{type:r,action:i}])=>{let a;try{a=this.getKeyboardShortcutFromText(e,null)}catch(e){a=null}let o=nD.get(r);if(null===a||void 0===o){console.warn("[CustomKeyboardShortcuts] unable to parse shortcut or shortcutActionType",{actionType:o,text:e});return}n.push({keyboardShortcut:a,type:o,action:i})}),console.log("[CustomKeyboardShortcuts] received request to fetch custom keyboard shortcuts",{shortcutsStorage:r,shortcuts:n}),n}dispatchAction(e){console.log("[CustomKeyboardShortcuts] received request to dispatch",{action:e});let r=this.getCallback(e);return!!r&&(r(),!0)}getDisplayStringFromKey(e){let r=rq.y.isApple();switch(e.toUpperCase()){case"'":return"\u2032";case"-":return"\u2013";case"ESCAPE":return"\u238B";case"ENTER":return"\u21A9";case"RETURN":return"\u23CE";case"TAB":return"\u21E5";case"LEFT":return"\u2190";case"RIGHT":return"\u2192";case"UP":return"\u2191";case"DOWN":return"\u2193";case"DELETE":return"\u2326";case"BACKSPACE":return"\u232B";case"CAPS LOCK":return"\u21EA";case"CONTROL":return r?"\u2303":"Ctrl";case"ALT":case"RIGHTALT":return r?"\u2325":"Alt";case"SHIFT":return r?"\u21E7":"Shift";case"META":return r?"\u2318":rq.y.isWindows()?"Win":"Meta";default:return e}}getKeyboardShortcutFromText(e,r){let n=IM,i=0,a=e.split("+");for(let e of(a.length>0&&""===a[a.length-1]&&(a.pop(),a.length>0&&(a[a.length-1]=a[a.length-1]+"+")),a)){if(""===e)continue;let r=Ik[e.toUpperCase()];if(e===IM||r&&(i&r)>0)return null;if(r&&(7936&r)!=0)i|=r;else{if(n!==IM)return null;n=e}}return n===IM&&0===i?null:{key:n,modifierMask:i,originalText:e,displayName:r}}getTextFromKeyboardShortcut(e){let r=rq.y.isApple(),n=(e.displayName?this.getKeyboardShortcutFromText(e.displayName,null):null)??e,i=[];return 2048&n.modifierMask&&i.push(this.getDisplayStringFromKey("Control")),256&n.modifierMask&&i.push(this.getDisplayStringFromKey("Alt")),1024&n.modifierMask&&i.push(this.getDisplayStringFromKey("Shift")),512&n.modifierMask&&i.push(this.getDisplayStringFromKey("Meta")),4096&n.modifierMask&&i.push(this.getDisplayStringFromKey("RightAlt")),n.key!==IM&&i.push(this.getDisplayStringFromKey(n.key)),r?i.join(""):i.join("+")}}var IF=n(29020);class IU{triggerChange(){tf.qo.instance.triggerChange()}triggerAdd(e){tf.qo.instance.triggerAddCallbacks(e)}triggerDelete(e){tf.qo.instance.triggerDeleteCallbacks(e)}}var IB=n(92106),IV=n(33369);n(75515);var IH=n(33739);let IG={fetchFontFile:function(e,r,n){var i;let a=tu.D.getState(),o=performance.now(),s={source:e,id:r,postscriptName:n,fileKey:(null==(i=a.openFile)?void 0:i.key)||null,teamId:function(e){let{selectedView:r,folders:n}=e;return"team"===r.view?r.teamId:"folder"===r.view&&n[r.folderId]?n[r.folderId].team_id:null}(a),orgId:a.currentUserOrgId||null};return(0,IH.M1)(s).then(e=>{if((0,e2.kc)().ce_track_font_fetch_time){let r="";r=s.source===eT.jXp.LOCAL?"N/A":s.id,(0,ex.sx)("font_fetch_time",{...s,id:r,fetch_time_ms:performance.now()-o,font_size_bytes:e.length})}return e})},fetchFontFileWithoutPickerInfo:function(e,r,n){return Promise.reject()}};var IW=n(23766),Iz=n(46394),IK=n(39316),Ij=n(60973),IY=n(74985),I$=n(82088);class Iq extends rK{allocationFailed(e,r,n,i,a,o,s,l,d,c){var u;this._receivedFailedAllocation||(this._receivedFailedAllocation=!0,u={...this.oomState({heapMemoryMode:e,heapMemoryLimit:r,mallocHighWatermark:n,currentAllocatedBytes:i,maxAllocatedBytes:a,failedSize:o,fontBytes:s,migration:l,migrationFrom:d,migrationTo:c}),appType:"mobile_file_viewer"},(0,IB.x)(u,!0),console.error("MobileFileViewer: allocationFailed"))}}let IZ={tsApisForCpp:{CommonApp:()=>({...IY.LO,...(0,tH.Nk)(),appType:()=>eT.uCV.FullscreenApp}),OOMHelpers:()=>new Iq,WebReporting:()=>i,PlatformInfo:()=>rq.y,FontManagerJs:()=>IG,WebAsync:()=>I$.F,ImageTsBindings:()=>t6.j5,SceneGraphHookBindings:()=>c,SitesJsBindings:()=>IK.u,SlidesTsBindings:()=>new nT,FigmaApp:()=>ts.Y5,WebMultiplayer:()=>ts.r1,Comments:()=>tc.lS,KeyboardShortcutBindings:()=>d,AutoLayoutBindings:()=>new nm,WebSelection:()=>new na,WebUserSyncing:()=>new no,EmojiWheelBindings:()=>new r5,PluginCallbacks:()=>new nt,WidgetBindings:()=>new nb,VideoTsBindings:()=>new nh,JsKiwiSerialization:()=>new nE,PDFImportBindings:()=>new ne,CanvasSearchBindings:()=>new r2,AccessibilityBindings:()=>new nv,HandoffScenegraphBindings:()=>new ny,RichTextBindings:()=>IW.m,AutosaveSessionBindings:()=>new r0,JsBindingsTestHelpers:()=>new r1,InteractionBindings:()=>new nO,SpellCheckAPIBindings:()=>new nr,VariablesBindingsWeb:()=>new nR,VariablesMirrorBindings:()=>new nP,HandoffBindings:()=>new r6,HandoffCallbacks:()=>new r8,JSTextLayout:()=>Ij.Q,ScaleToolAPIBindings:()=>Iz.h,EmojiTsBindings:()=>new r3,MentionsTsBindings:()=>new r9,ActiveEditActionsBindings:()=>new rQ,EditScopeWebBindings:()=>new nf,StateManagementBindings:()=>new nL,ColorManagementBindings:()=>new np,WhiteboardTemplatePreviewTsBindings:()=>new ns,FrameDistributionTrackerBindings:()=>new nS,WhiteboardTsBindings:()=>new nl,ColorRampBindings:()=>new nA,WhiteboardAnalyticsTsBindings:()=>new nI,CurrentUserInfo:()=>new ng,ExperimentBuildersTsBindings:()=>new nw,ZipImpl:()=>new nc,CoreUtils:()=>IV.x,SummaryBindings:()=>new nC,MissingFontsTrackerJs:()=>new n_,StatsigConfigBindings:()=>new nd,WhiteboardThemeTsBindings:()=>new nu,QuickActionsBindings:()=>new nn},tsapi_init:eT.LQj,tsapi_set:eT.fsn};class IX extends ni{buildMultiplayerUrl(e,r,n,i,a,o,s,l,d,c,u){if(!e)throw Error("buildMultiplayerUrl: fileKey must be defined");let p=new URL(mpGlobal.url({fileKey:e,role:"viewerWithCpp",nodeIds:o,suppressDecodeErrors:!1,connectionType:function(e){switch(e){case eT.J5D.INITIAL_LOAD:return"initial-load";case eT.J5D.NEW_FILE:return"new-file";case eT.J5D.RECONNECT:return"reconnect"}}(d)}));return r&&p.searchParams.append("snapshot-hash",r),n&&p.searchParams.append("reconnect-key",n),i&&p.searchParams.append("reconnect-sequence-number",String(i)),a&&p.searchParams.append("testMode",a),s&&p.searchParams.append("initialFileVersion",`${s}`),c&&p.searchParams.append("force-upgrade","1"),u&&p.searchParams.append("previousLoadMode",`${u}`),p.toString()}isWindowActive(){return!document.hidden}startMonitorInterval(){(0,t9.AW)()}handleMultiplayerSignal(e,r){("force-refresh"===e||"too-many-connections"===e||"message-decode-failure"===e||"invalid-permissions"===e||"not-logged-in"===e||"client-too-old"===e||"schema-validation-failure"===e)&&tl.Ay.reload("Multiplayer got force-refresh signal")}handleSceneGraphValidationFailure(){throw Error("should not be handling scene graph validation failure in mobile")}socketBufferedAmount(){return(null==ty?void 0:ty.bufferedAmount)||0}readyToAcceptAutosaveChanges(){return!1}reconnectingStarted(){rY.Ug()}reconnectingSucceeded(){rY.Dg()}}class IJ extends rJ(rX(nN)){constructor(e,r){super(),this._openFile=e,this._editorType=r,this._readyStartTime=0,this.updateMirror=()=>{var e;let r=null==(e=tM.XP().appModelChanges)?void 0:e.pagesList;if(r){let e=r.map(e=>({name:e.name,id:e.nodeId}));(0,tF.kk)().trigger("pagesChange",e)}},this.loadAndStartFullscreenIfNecessary=(0,td.Kt)(async()=>{this._readyStartTime=Math.round(window.performance.now()),tF.O1.fullscreenEvents.loadAndStartFullscreenIfNecessary=this._readyStartTime,IF.m?(await this.WebContext.readyPromise,await this.onReady(),eT.glU.debugMacAppIsStartingFullscreen(),document.body.parentElement.style.backgroundColor="transparent"):(await (0,tk.e3)(IZ),await this.onReady())}),this.getCurrentFileName=()=>"Untitled",this.isCopyExportRestricted=()=>!0,this.addStackOverflowListener(),this.registerViewportChangedCallback()}onFrame(){super.onFrame(),this.updateMirror()}registerViewportChangedCallback(){this.viewport.on("onSetViewport",e=>{(0,tF.kk)().trigger("viewportChanged",{offset:{x:e.offsetX,y:e.offsetY},zoomScale:e.zoomScale})})}addStackOverflowListener(){window.addEventListener("error",e=>{(e.message.includes("RangeError: Maximum call stack size exceeded")||e.message.includes("InternalError: too much recursion"))&&this.FullscreenCrashHandlers.fullscreenCrashed({type:"stack-overflow"},!0)})}isUserPresent(){return!1}documentIsLoaded(){super.documentIsLoaded(),(0,tF.kk)().trigger("sceneDidCompleteInitialLoad"),(0,tF.kk)().trigger("documentIsLoaded"),"figFile"===this._openFile.type&&rY.Dd(this._openFile.fileKey,this._editorType)}fullscreenIsReady(){if(!this._fullscreenIsReady){let e=window.performance.now(),r=(e-this._readyStartTime).toFixed(1);console.log(`[Fullscreen] Mobile File Viewer Ready in ${r}ms`),tF.O1.fullscreenEvents.fullscreenIsReady=Math.round(e),function(){window.DebuggingHelpers=eT.Ubo,window.DebuggingHelpers.websocket={break:tO,unbreak:tR},window.DebuggingHelpers.setMemoryUsagePercent=rA.rq,window.DebuggingHelpers.setOOM=()=>{window.dispatchEvent(new Event("oom_trigger"))},window.DebuggingHelpers.getMemoryBreakdown=()=>eT.P2e&&eT.hMR?{imageMemory:eT.P2e.getImageMemory(),wasmHeapReserved:(0,eC.le)(),jsBuffers:eT.hMR.getJsBufferMemory(),rendererGpuMemory:eT.P2e.getRendererGpuMemory()}:{},(0,e2.kc)().editor_expose_save_local_copy&&(window.DebuggingHelpers.saveLocalCopy=()=>{let e=tu.D.getState();ri(t8.SaveLocalFile,e.saveAsState,tu.D.dispatch,"save-as",["0:0"],"save-as")});let e=eT.Ubo.reportError,r=eT.Ubo.simulateNullNodeAccess;(0,e2.kc)().internal_only_debug_tools&&(window.DebuggingHelpers.webReport=e=>{(0,tG.u)(()=>(0,ey.x1)("bindings",`DebuggingHelpers report: ${e}`))},window.DebuggingHelpers.cppReport=r=>{(0,tG.u)(()=>e(r))},window.DebuggingHelpers.fakeNodeError=()=>{(0,tG.u)(()=>r())}),delete window.DebuggingHelpers.reportError,delete window.DebuggingHelpers.simulateNullNodeAccess}(),rY.Ts()}tE||(tE=!0,ts.Y5.fromFullscreen.on(t_+":connect",tw),ts.Y5.fromFullscreen.on(t_+":disconnect",tC),ts.Y5.fromFullscreen.on(t_+":send",tA)),tL||(tL=!0,ts.Y5.fromFullscreen.on(tP+":send",tD)),tM.n_(new Set([tM.HN.AppModel])),this.reparentRootElement(this.containerElement),window.addEventListener("online",()=>eT.Ez5.uiState().isOffline.set(!1)),window.addEventListener("offline",()=>eT.Ez5.uiState().isOffline.set(!0)),this._fullscreenIsReady=!0,this._readyPromiseResolve&&this._readyPromiseResolve(),eT.glU.showingProgressBar(eA.Oin.OFF)}navigateToURL(e,r){return Promise.resolve(tl.Ay.redirect(e,"_blank"))}handleUserClickOnHyperlink(e,r){if(r===eT.PHu.COPY_TO_CLIPBOARD&&e.startsWith("mailto:")||e.startsWith("tel:"))(0,tV.iV)(e,"HyperlinkCanvas");else{let r=new URL(e,location.href);r&&tl.Ay.postRedirect(`/exit?url=${encodeURIComponent(r.href)}`,"_blank")}}openFileKeyPromise(){return this._openFile&&"figFile"===this._openFile.type?Promise.resolve(this._openFile.fileKey):Promise.reject("No open file key")}openFilePromise(){return this._openFile?Promise.resolve(this._openFile):Promise.reject(Error("No open file"))}sourceFileKeyPromise(){return Promise.resolve(null)}isInWorkshopMode(){return!1}isNavigatorClipboardWriteSupported(){return!1}pinchZoomFixDisabled(){return!1}}var IQ=n(39319);let I0="mobile_viewer_app--dropdown--05tUd",I1="mobile_viewer_app--viewer--HqAcq",I2="mobile_viewer_app--zoomIcon--hcGPa",I3="mobile_viewer_app--disabled--5gNEQ";class I5{constructor(e,r,n){this.openFile=e,this.editorType=r,this.nodeIds=n}beforeFullscreenLoaded(){let e=this.openFile.fileKey;(0,ey.kF)("file.key",e),IQ.N.loadTimer.logOpenFileAction(e),mpGlobal.preconnect(mpGlobal.url({fileKey:e,nodeIds:this.nodeIds,role:"viewerWithCpp",suppressDecodeErrors:!1,connectionType:"initial-load"}))}afterFullscreenLoaded(){eT.glU.openFileWithServerMetadata({metadata:{file_key:this.openFile.fileKey,source_file_key:null},startInCommentsMode:!1,newFile:!1,selectedNodeId:this.nodeIds,fallbackStateGroupId:null,urlViewport:null,additionalTopPadding:null,mainComponentLink:!1,shouldConnectToMultiplayer:mpGlobal.shouldConnectToMultiplayer,preserveUrlNodeId:!1,enableVirtualNodes:!!(0,e2.kc)().mobile_file_viewer_virtual}),eT.glU.setEditorType(this.editorType)}}class I4{constructor(e,r){this.hubFileRequest=null,this.openFile=e,this.hubFile=r}beforeFullscreenLoaded(){(0,ey.kF)("hub_file.id",this.hubFile.id),this.hubFileRequest=eE.Ay.crossOriginGetAny(this.hubFile.redirect_canvas_url,null,{responseType:"arraybuffer"})}async afterFullscreenLoaded(){let e=null;try{let r=null;if(this.hubFileRequest&&(r=await this.hubFileRequest),!r)throw Error("empty response");e=r.data}catch(e){console.error("MobileFileViewer: hub file request failed",e);return}(0,t6.Jr)().setMinimumImagePriority(-1),eT.glU.loadFigFileFromBuffer(e,eT.m1T.PREVIEW);let r=(0,tB.wy)(this.hubFile.viewer_mode);eT.glU.setEditorType(r)}}class I6{constructor(e){this.viewerEvents=new ta.b("viewerProxy"),this._viewerElement=e,this._viewerElement.classList.add("mobile_viewer_app--cppViewer--0B2qL"),this.setScrollToPan((0,tF.lT)()),ts.Y5.reparentRootElement(this._viewerElement)}viewport(){return{...ts.Y5.viewport,offset:{x:0,y:0},zoomScale:0}}watchBoundsForNodes(e){}adjustZoom(e,r){let n=ts.Y5.getViewportInfo().zoomScale*e;eT.glU.setCanvasZoomScale(n)}setZoom(e,r){eT.glU.setCanvasZoomScale(e)}getZoomBounds(){return{min:.015625,max:256}}setScrollToPan(e){e?this._viewerElement.classList.remove(e8.ZR):this._viewerElement.classList.add(e8.ZR)}initializeFreeFitMode(){eT.glU.triggerAction("zoom-to-selection",void 0)}getBackgroundColor(){return{r:229,g:229,b:229,a:1}}setCurrentPageId(e){tf.qo.instance.setCurrentPageFromNodeAsync(e)}getCanvasSpaceCommentLocations(e){eT.glU.getCanvasSpaceCommentLocations(e)}pageIdForNodeId(e){return eT.glU.getPageIdFromNode(e)}setCanvasSpaceCenter(e){eT.glU.setCanvasSpaceCenter(e.x,e.y)}resetZoomToFitCanvasContent(){eT.glU.triggerAction("zoom-to-fit",void 0)}on(e,r){this.viewerEvents.on(e,r)}trigger(e,r){this.viewerEvents.trigger(e,r)}}var I8=n(24755),I7=((eo=I7||{}).FILE="file",eo.PROTOTYPE="prototype",eo);function I9(e){let{access_type:r,accessed_via:n}=e,i=ep.useMemo(()=>{let r={icon:dV.A,message:function(e){switch(e){case"file":return(0,eb.t)("proto.embeds.visible_to_people_invited_to_this_file");case"prototype":return(0,eb.t)("proto.embeds.visible_to_people_invited_to_this_prototype")}}(e.type)},i={icon:dV.A,message:n?(0,eb.t)("proto.embeds.visible_to_org_name",{orgName:n.name}):(0,eb.t)("proto.embeds.visible_to_everyone_in_your_org")};return{edit:null,view:null,org_edit:i,org_view:i,inherit:r,invite_only:r,workspace_edit:null,workspace_view:null}},[n,e.type]);if(!r)return null;let a=i[r];if(!a)return null;let{icon:o,message:s}=a;return ep.createElement("div",{className:"embed_documentation_footer--documentationAccessLevel--a1Kwf"},ep.createElement(sR.B,{className:"embed_documentation_footer--documentationAccessLevelIcon--G-bLc",svg:o}),ep.createElement("span",{className:"embed_documentation_footer--documentationAccessLevelReason--H-eVa ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},s))}function Te(e){let r=`/${e.isPrototype?"proto":"file"}/${e.fileKey}${e.params.startsWith("?")?e.params:`?${e.params}`}`;return ep.createElement("a",{className:"embed_documentation_footer--documentationFooter--cRlI0",target:"_blank",rel:"noopener",href:r,onClick:()=>{(0,ex.sx)("IFrame Mobile Viewer Document Footer Clicked",{fileKey:e.fileKey,kind:e.isPrototype?"proto":"file",embed_host:(0,tF.jr)().embed_host})}},ep.createElement("div",{className:"embed_documentation_footer--documentationFooterRight--llo4e"},ep.createElement(I9,{...e,type:e.isPrototype?"prototype":"file"})),ep.createElement("div",{className:"embed_documentation_footer--documentationFooterLeft--LSi6J"},ep.createElement(sR.B,{className:"embed_documentation_footer--documentationFooterIcon--KNE1D",svg:I8.A}),ep.createElement("span",{className:"embed_documentation_footer--documentationFooterTitle--cJTEV ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.fileName),e.touchedAt&&ep.createElement("span",{className:"embed_documentation_footer--documentationFooterUpdatedAt--AroJM text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(eb.Tx,{id:"proto.embeds.last_edited",relativeTime:ep.createElement(sN.h1,{date:e.touchedAt})}))))}var Tt=n(12512),Tr=n(11339),Tn=n(48520),Ti=n(25085),Ta=n(55906),To=n(20248),Ts=n(71250),Tl=n(48292);(0,ey.kF)("entrypoint","mobile_viewer_iframe");class Td extends ep.PureComponent{constructor(e){super(e),this.adjustZoomIn=()=>{(0,ex.sx)("IFrame Mobile Viewer Zoom In",{fileKey:this.props.fileKey,source:"click",embed_host:(0,tF.jr)().embed_host}),this.props.adjustZoom(1.5)},this.adjustZoomOut=()=>{(0,ex.sx)("IFrame Mobile Viewer Zoom Out",{fileKey:this.props.fileKey,source:"click",embed_host:(0,tF.jr)().embed_host}),this.props.adjustZoom(.666)},this.toggleFullscreen=()=>{(0,ex.sx)("IFrame Mobile Viewer Toggle Fullscreen",{fileKey:this.props.fileKey,source:"click",embed_host:(0,tF.jr)().embed_host}),this.props.toggleFullscreen()},this.setCurrentPageId=e=>{var r;this.setState({currentPageId:e}),null==(r=this.props.viewer)||r.setCurrentPageId(e)},this.state={currentPageId:null}}isInFullScreenMode(){let e=!0;return null==document.fullscreenElement&&(e=!1),e}zoomControls({isCommunity:e,zoomInDisabled:r,zoomOutDisabled:n}){function i({children:e}){return ep.createElement("div",{className:"mobile_viewer_app--zoomer--BGKst mobile_viewer_app--_embedControlBorder--0GJsY"},e)}function a({onClick:e}){return ep.createElement("div",{role:"button",tabIndex:0,className:n?I3:void 0,onClick:e},ep.createElement(l7.t,{svg:Tr.A,autosize:!0,className:I2,fallbackSvg:Tn.A}))}function o({onClick:e}){return ep.createElement("div",{role:"button",tabIndex:0,className:r?I3:void 0,onClick:e},ep.createElement(l7.t,{svg:Ti.A,autosize:!0,className:I2,fallbackSvg:Ta.A}))}return e?ep.createElement(i,null,ep.createElement(a,{onClick:this.adjustZoomOut}),ep.createElement(function({zoomScale:e}){return ep.createElement("div",{className:"mobile_viewer_app--zoomScale--0yHoK"},ep.createElement(eb.Tx,{id:"mobile_file_viewer_iframe.zoom_percent",zoomPercent:~~(100*(e||0))}))},{zoomScale:this.props.zoomScale}),ep.createElement(o,{onClick:this.adjustZoomIn})):ep.createElement(i,null,ep.createElement(o,{onClick:this.adjustZoomIn}),ep.createElement(a,{onClick:this.adjustZoomOut}))}render(){let{backgroundColor:e,fileName:r,zoomScale:n,zoomBounds:i,fileKey:a,touchedAt:o,chromeStyle:s,nodeId:l,fileEditorType:d}=this.props,c=!!(n&&i&&n>=i.max),p=!!(n&&i&&n<=i.min),h=e&&(0,aK.HD)((0,aK.sN)(aK.Uv,e)),m=`?type=${d}`,g=l?`'&node-id=${l}`:"",f=`${m}${g}`,_="DOCUMENTATION"===s,y="COMMUNITY_HUB"===s;return ep.createElement("div",{className:y?"mobile_viewer_app--iframeContainerCommunity---v9i5 mobile_viewer_app--iframeContainer--fHdYg":"mobile_viewer_app--iframeContainer--fHdYg"},ep.createElement(Tu,{backgroundColor:e,attachViewer:this.props.attachViewer},y&&ep.createElement(Tp,{adtlClassName:_?"mobile_viewer_app--mobileMenuWithDocumentationFooter--jjNNv":void 0,pages:this.props.pages,viewer:this.props.viewer,setCurrentPageId:this.setCurrentPageId,currentPageId:this.state.currentPageId}),!y&&ep.createElement("a",{target:"_blank",rel:"noopener",href:"/"},ep.createElement(sR.B,{className:h?"mobile_viewer_app--wordmarkLight--BPz3A":"mobile_viewer_app--wordmark--FSxXx",svg:Tl.A})),em.R7.fullscreen&&!function(){if(null==u)try{u=window.location!==window.parent.location&&window.location.hostname===window.parent.location.hostname}catch(e){u=!1}return u}()&&!y&&ep.createElement("div",{className:"mobile_viewer_app--fullscreen--igzCw mobile_viewer_app--_embedControlBorder--0GJsY"},ep.createElement(sR.B,{svg:this.isInFullScreenMode()?Ts.A:To.A,onClick:this.toggleFullscreen,className:"mobile_viewer_app--fullscreenIcon--e8320"})),this.zoomControls({isCommunity:y,zoomInDisabled:c,zoomOutDisabled:p})),_&&ep.createElement(Te,{...this.props.accessData,fileKey:a,isPrototype:!1,params:f,fileName:r,touchedAt:o}))}}function Tc(e){return ep.createElement("div",{className:"mobile_viewer_app--iframeContainerNoControls--iuz2b mobile_viewer_app--iframeContainer--fHdYg"},ep.createElement(Tu,{backgroundColor:e.backgroundColor,attachViewer:e.attachViewer,viewerStyle:e.viewerStyle}))}function Tu(e){return ep.createElement("div",{className:"mobile_viewer_app--iframeMobileApp--xe50p"},ep.createElement("div",{className:I1,ref:e.attachViewer,style:e.viewerStyle}),e.children)}class Tp extends ep.PureComponent{constructor(e){super(e),this.state={showDropdown:!1}}selectPage(e){this.props.setCurrentPageId(e),this.setState({showDropdown:!1})}render(){var e,r,n;let i=this.props.pages&&this.props.pages.length>1,a=this.props.currentPageId?null==(e=this.props.pages.find(e=>e.id===this.props.currentPageId))?void 0:e.name:null==(n=null==(r=this.props.pages)?void 0:r[0])?void 0:n.name,o=a?ep.createElement(ep.Fragment,null,ep.createElement("span",{className:"mobile_viewer_app--dropdownPagePrefix--Rw11h"},ep.createElement(eb.Tx,{id:"mobile_file_viewer_iframe.page_dropdown",pageName:a})),ep.createElement(sR.B,{svg:Tt.A,className:"mobile_viewer_app--caret--OqCVe",title:(0,eb.t)("mobile_file_viewer_iframe.page_dropdown_aria_label"),ariaLabel:(0,eb.t)("mobile_file_viewer_iframe.page_dropdown_aria_label"),role:"img"})):(0,eb.t)("mobile_file_viewer_iframe.page_none_selected_dropdown");return i?ep.createElement(ep.Fragment,null,ep.createElement("div",{role:"menu",tabIndex:0,onClick:()=>this.setState({showDropdown:!this.state.showDropdown}),className:"mobile_viewer_app--dropdownLabel--d9exo ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"+(this.props.adtlClassName?` ${this.props.adtlClassName}`:"")},o),this.state.showDropdown&&ep.createElement(mc.W.Dropdown,{className:I0},this.props.pages.map(e=>ep.createElement(mc.W.Option,{key:e.id,onClick:this.selectPage.bind(this,e.id)},e.name)))):ep.createElement(ep.Fragment,null)}}function Th(e){let r=e.pages&&e.pages.length>1;if(!e.signedIn)return ep.createElement(mc.W.Dropdown,{className:I0},ep.createElement(mc.W.Option,{href:"/login"},ep.createElement(eb.Tx,{id:"mobile_file_viewer_menu.log_in_or_create_account_action"})));{let n=tQ.Gu0?(0,aj.hG)(tQ.Gu0):24,i=r?Math.min(.7*window.innerHeight,e.pages.length*n):0;return ep.createElement(mc.W.Dropdown,{className:I0},ep.createElement(mc.W.CheckableOption,{checked:!1,href:"/files"},ep.createElement(eb.Tx,{id:"mobile_file_viewer_menu.back_to_files_action"})),ep.createElement(mc.W.Separator,null),ep.createElement(mc.W.CheckableOption,{checked:!1,href:"/settings"},ep.createElement(eb.Tx,{id:"mobile_file_viewer_menu.account_settings_action"})),ep.createElement(mc.W.CheckableOption,{checked:!1,href:"/logout"},ep.createElement(eb.Tx,{id:"mobile_file_viewer_menu.log_out_action"})),r&&ep.createElement(mc.W.Separator,null),r&&ep.createElement(mc.W.Option,{disabled:!0},ep.createElement(eb.Tx,{id:"mobile_file_viewer_menu.pages_section"})),ep.createElement(sO.P,{height:i,hideScrollbar:!0},r&&e.pages.map(r=>ep.createElement(mc.W.CheckableOption,{checked:r.id===e.currentPageId,key:r.id,onClick:()=>r.id&&e.setCurrentPageId(r.id)},r.name))))}}Tp.displayName="MobileMenu";var Tm=n(77777);(0,ey.kF)("entrypoint","mobile_viewer_app");let Tg=(0,ew.ck)();class Tf extends ep.PureComponent{constructor(e){super(e),this.fullscreenRatio=1,this.messagePort=null,this.sendViewerStateUpdatesToParent=e=>{var r;null==(r=this.messagePort)||r.postMessage({viewerState:e})},this.sendViewerCanvasInteractionToParent=(e,r)=>{var n;null==(n=this.messagePort)||n.postMessage({canvasInteraction:{type:e,pt:r}})},this.sendKeydownToParent=e=>{var r;null==(r=this.messagePort)||r.postMessage({keydown:{key:e.key}})},this.bindEventsToViewer=e=>{let r=this.props.searchParams.embed_host;e.on("pagesChange",e=>{this.setState(r=>{var n,i;return r.currentPageId?null==e.find(e=>e.id===r.currentPageId)?{pages:e||[],currentPageId:(null==(i=e[0])?void 0:i.id)||null}:{pages:e||[],currentPageId:r.currentPageId}:{pages:e||[],currentPageId:(null==(n=e[0])?void 0:n.id)||null}}),this.sendViewerStateUpdatesToParent({pages:e})}),this.setState({viewer:e,zoomBounds:e.getZoomBounds()}),e.on("viewportChanged",e=>{this.setState({zoomScale:e.zoomScale,offset:e.offset}),this.sendViewerStateUpdatesToParent({viewport:e})}),e.on("canvasMouseDown",e=>this.sendViewerCanvasInteractionToParent("canvasMouseDown",e)),e.on("canvasMouseMove",e=>this.sendViewerCanvasInteractionToParent("canvasMouseMove",e)),e.on("canvasMouseDrag",e=>this.sendViewerCanvasInteractionToParent("canvasMouseDrag",e)),e.on("canvasMouseUp",e=>this.sendViewerCanvasInteractionToParent("canvasMouseUp",e)),e.on("too-many-connections",()=>{this.setState({fileBusy:!0})}),e.on("documentIsLoaded",()=>{window.DebuggingHelpers&&(window.DebuggingHelpers.documentIsLoaded=!0),tF.O1.handleDocumentIsLoaded()}),e.on("sceneDidCompleteInitialLoad",()=>{e.initializeFreeFitMode();let r=e.getBackgroundColor();this.setBackgroundColor(r||eL.o),this.setState({showProgressBar:!1}),parent.postMessage("LOAD_FINISHED","*"),e.on("backgroundColorChange",this.setBackgroundColor),e.on("prototypeBackgroundColorChange",this.setBackgroundColor),tF.O1.handleViewerLoaded();var n,i,a=null;this.props.searchParams["node-id"]&&(a=e.pageIdForNodeId(this.props.searchParams["node-id"])),!a&&this.state.pages.length>0&&(a=this.state.pages[0].id),a&&this.setState({currentPageId:a});let o=(0,eN.Jg)();(null==o?void 0:o.handleCompleteInitialLoad)&&o.handleCompleteInitialLoad(),null==(i=(n=this.props).onBindEventsToViewer)||i.call(n,e)}),e.on("urlClicked",em.jJ),void 0===r&&setTimeout(()=>{this.props.user_data&&eE.Ay.post(`/api/files/${this.props.file_key}/view`).catch(()=>{})},4e3)},this.attachViewer=e=>{var r,n;let i=(0,eN.Jg)();(null==i?void 0:i.updateTrackingSessionId)&&i.updateTrackingSessionId(this.props.tracking_session_id),null==(n=(r=this.props).onAttachViewer)||n.call(r,e),((0,tF.uj)(new I6(e)),ts.Y5.onReady().then(()=>(0,tF.kk)())).then(e=>{this.bindEventsToViewer(e),tF.O1.handleAfterConnectTo({entry:"FileViewer",connectionType:this.props.hub_file?"file":"multiplayer",fullscreen:"CppFileViewer",logViewerWaiting:!1})}).catch(e=>{console.error("Cpp Mobile File Viewer failed to load",e)})},this.onMenuButtonClick=e=>{this.setState({menuShown:!this.state.menuShown}),e.stopPropagation()},this.onPageClick=()=>{this.setState({menuShown:!1})},this.adjustZoom=e=>{var r;null==(r=this.state.viewer)||r.adjustZoom(e,eP.UG)},this.exitHandler=()=>{null==document.webkitFullscreenElement&&null==document.fullscreenElement&&this.adjustZoom(1/this.fullscreenRatio)},this.onWindowBlur=()=>{this.setState({menuShown:!1})},this.onKeydown=e=>{this.sendKeydownToParent(e)},this.setBackgroundColor=e=>{e&&this.setState({backgroundColor:e})},this.setCurrentPageId=e=>{var r;this.setState({currentPageId:e}),null==(r=this.state.viewer)||r.setCurrentPageId(e)},this.receiveTransferMessagePortMessage=e=>{"TRANSFER_MESSAGE_PORT"===e.data.type&&(this.messagePort=e.ports[0],this.messagePort.onmessage=this.handleViewerMessage)},this.handleViewerMessage=e=>{var r,n,i,a,o,s,l,d,c,u,p,h,m,g;let f=e.data.type,_=e.data.params;if(f){if(f===tF.cu.ADJUST_ZOOM){let{scale:e,animationDuration:i}=_;if(!e){console.error("Invalid params for type");return}null==(n=null==(r=this.state)?void 0:r.viewer)||n.adjustZoom(e,i||eP.UG)}else if(f===tF.cu.SET_ZOOM){let{scale:e,animationDuration:r}=_;if(!e){console.error("Invalid params for type");return}null==(a=null==(i=this.state)?void 0:i.viewer)||a.setZoom(e,r||eP.UG)}else if(f===tF.cu.SET_CANVAS_SPACE_CENTER){let{location:e,animationDuration:r}=_;if(!e||!e.x&&0!==e.x||!e.y&&0!==e.y){console.error("Invalid params for type");return}null==(s=null==(o=this.state)?void 0:o.viewer)||s.setCanvasSpaceCenter(e,r||eP.UG)}else if(f===tF.cu.RESET_ZOOM_TO_FIT_CANVAS_CONTENT)null==(d=null==(l=this.state)?void 0:l.viewer)||d.resetZoomToFitCanvasContent();else if(f===tF.cu.SET_CURRENT_PAGE_ID){let{currentPageId:e}=_;if(!e){console.error("Invalid params for type");return}this.setState({currentPageId:e}),null==(u=null==(c=this.state)?void 0:c.viewer)||u.setCurrentPageId(e)}else if(f===tF.cu.SET_COMMENT_MODE){let{showFullscreenComments:e}=_;e?null==(p=eT.glU)||p.triggerAction("set-tool-comments",void 0):null==(h=eT.glU)||h.triggerAction("set-tool-default",void 0)}else if(f===tF.cu.SET_CURSOR_STYLE){let{cursorStyle:e}=_;if(!e){console.error("Invalid params for type");return}this.setState({cursorStyle:e})}else if(f===tF.cu.SET_SCROLL_TO_PAN){let{scrollToPan:e}=_;if("boolean"!=typeof e){console.error("Invalid params for type");return}null==(g=null==(m=this.state)?void 0:m.viewer)||g.setScrollToPan(e)}else console.error("Invalid type",f),(0,eh.xb)(f)}},this.toggleFullscreen=()=>{var e;let r=document.documentElement,n=Math.min(screen.width/window.innerWidth,screen.height/window.innerHeight),i=!0;r.requestFullscreen?null==document.fullscreenElement?r.requestFullscreen():(document.exitFullscreen(),i=!1):r.webkitRequestFullscreen&&(null==document.webkitFullscreenElement?r.webkitRequestFullscreen():(document.webkitExitFullscreen(),i=!1)),i&&(this.adjustZoom(n),this.fullscreenRatio=n),(0,tF.lT)()||null==(e=this.state.viewer)||e.setScrollToPan(i)},this.state={menuShown:!1,fileBusy:!1,backgroundColor:e.background_color||null,viewer:null,zoomBounds:null,zoomScale:null,offset:null,pages:[],currentPageId:null,showProgressBar:!0,cursorStyle:"move"},eR=null!=this.props.searchParams["mobile-optimizations"],(0,ey.kF)("mobileFileViewerType","cpp"),function(e,r){let n=null;if(e.file_key){let i=(0,tB.wy)(e.editor_type),a=r["node-id"]||"",o=to.fn(to.sH(a))?a:"";n=new I5({type:"figFile",fileKey:e.file_key},i,o)}else e.hub_file&&(n=new I4({type:"hubFile",hubFileId:e.hub_file.id},e.hub_file));if(!n){console.error("MobileFileViewer: no loader defined to load file");return}n.beforeFullscreenLoaded(),function(e){let r=(0,tB.fB)((0,tB.wy)(e.editorType));(0,tH.g3)({canLoadImageResource:!0,canLoadFontResource:!1,isInPrototypeViewer:!1,appIsReadOnly:!0,appIsRecovery:!1,appCanRenderHyperlinkHoverUI:!1,appCanRenderMultiplayerOrSelectionUI:!1,appCanRenderScrollbars:!1,appCanRenderSceneGraphUI:!1,actionStateDisableUpdates:!0,requestVariableMirroring:!1,onlyRenderTopLevelFrameOfSelection:e.isEmbed,clickOnlyComments:!0,allowToggleCommentsWhenLoggedOut:!0,requireInteractionForFocus:!0,appCanInteractWithWidgetEmbedsAndLinkPreviews:!1}),(0,ts.s$)(new IJ(e.openFile,r)),(0,ts.$q)(new IX),(0,tc.T6)(),tc.on("mousedown",e=>{(0,tF.kk)().trigger("canvasMouseDown",e)}),tc.on("mousemove",e=>{(0,tF.kk)().trigger("canvasMouseMove",e)}),tc.on("mouseup",e=>{(0,tF.kk)().trigger("canvasMouseUp",e)}),i=new tU({openFile:e.openFile,editorType:e.editorType}),d=new Ix({useNumbersForOpacity:!0,editorType:r}),c=new IU,(eR||e_.Ay.ios||e_.Ay.android||e_.Ay.mac&&navigator.maxTouchPoints>0)&&(0,t6.Jr)().setImageMaxSize(2048),IF.m&&(window.webAppWantsEventAtPoint=(e,r)=>r<48)}({openFile:n.openFile,isEmbed:null!=r.embed_host,editorType:e.editor_type}),ts.Y5.loadAndStartFullscreenIfNecessary().then(()=>{eT.vXe.updateFontList(IH.eM),eT.glU.setShowUI(!1),n.afterFullscreenLoaded()},e=>{console.error("MobileFileViewer: failed to load file",e)})}(e,e.searchParams)}componentDidMount(){document.addEventListener("webkitfullscreenchange",this.exitHandler),document.addEventListener("fullscreenchange",this.exitHandler),window.addEventListener("blur",this.onWindowBlur),em.GZ()&&(window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.receiveTransferMessagePortMessage));let e=window.FigmaMobile;e&&(e._get_memory_stats=()=>{var e,r,n,i,a,o;let s=(null==(e=eT.P2e)?void 0:e.getImageMemory())||{};return{metadata:JSON.parse(JSON.stringify({coreJsBufferMemory:(null==(r=eT.hMR)?void 0:r.getJsBufferMemory())||0,coreLocalMaxUsedHeapMemory:(null==(n=eT.hMR)?void 0:n.getLocalMaxUsedHeapMemory())||0,coreMaxUsedHeapMemory:(null==(i=eT.hMR)?void 0:i.getMaxUsedHeapMemory())||0,coreTotalUsedHeapMemory:(null==(a=eT.hMR)?void 0:a.getTotalUsedHeapMemory())||0,fullscreenCompressedImages:s.compressedImages||0,fullscreenUncompressedImagesArrayBuffers:s.uncompressedArrayBuffer||0,fullscreenUncompressedImagesImageBitmap:s.uncompressedImageBitmap||0})),reservedWasmMemory:(0,eC.le)()||0,rendererGpuMemory:(null==(o=eT.P2e)?void 0:o.getRendererGpuMemory())||0}});let r=window.FigmaMobile;r&&(r._select_page=this.setCurrentPageId,r._get_page_id_for_node_id=e=>{var r;return(null==(r=this.state.viewer)?void 0:r.pageIdForNodeId(e))??null},r._page_id_for_node_id=e=>new Promise(r=>{var n;return r((null==(n=this.state.viewer)?void 0:n.pageIdForNodeId(e))??null)}),r._override_document_visibility_state=ti.R)}componentWillUnmount(){document.removeEventListener("webkitfullscreenchange",this.exitHandler),document.removeEventListener("fullscreenchange",this.exitHandler),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("message",this.receiveTransferMessagePortMessage),window.removeEventListener("keydown",this.onKeydown)}componentDidUpdate(e,r){var n;if(!(0,eg.c2)(r.pages,this.state.pages)||r.currentPageId!==this.state.currentPageId){this.props.onSetCurrentPage&&this.state.currentPageId&&this.props.onSetCurrentPage(this.state.currentPageId);let e=window.FigmaMobile;(null==e?void 0:e.updatePages)&&e.updatePages({fileKey:this.props.file_key,fileName:this.props.name,editorType:this.props.editor_type,isTryFile:(null==(n=this.props.file)?void 0:n.is_try_file)||!1,pages:this.state.pages.length>0?this.state.pages.map(e=>({id:e.id||"",name:e.name||null})):null!==this.state.currentPageId?[{id:this.state.currentPageId,name:"Page 1"}]:[],currentPageId:this.state.currentPageId||null})}let i={};r.pages!==this.state.pages&&(i.pages=this.state.pages),r.currentPageId!==this.state.currentPageId&&(i.currentPageId=this.state.currentPageId||void 0),this.sendViewerStateUpdatesToParent(i)}render(){var e,r,n,i,a;if(em.GZ()){let r=!!this.props.searchParams.community_viewer;return(r&&(null==(e=this.state.viewer)||e.setScrollToPan(!0)),this.props.searchParams.hide_ui)?ep.createElement(ep.Fragment,null,ep.createElement(eI.jO,null),ep.createElement(Tc,{backgroundColor:this.state.backgroundColor,attachViewer:this.attachViewer,viewerStyle:{cursor:this.state.cursorStyle}})):ep.createElement(ep.Fragment,null,ep.createElement(eI.jO,null),ep.createElement(Td,{adjustZoom:this.adjustZoom,toggleFullscreen:this.toggleFullscreen,attachViewer:this.attachViewer,chromeStyle:r?"COMMUNITY_HUB":"DOCUMENTATION",nodeId:this.props.searchParams["node-id"]||"",fileKey:this.props.file_key,fileName:this.props.name,fileEditorType:this.props.editor_type,viewer:this.state.viewer,backgroundColor:this.state.backgroundColor,touchedAt:this.props.touched_at,zoomBounds:this.state.zoomBounds,zoomScale:this.state.zoomScale,pages:this.state.pages,accessData:this.props.accessData}))}let o=this.props.editor_type===eO._Y.WHITEBOARD?eO._Y.WHITEBOARD:eO._Y.DESIGN,s=this.state.showProgressBar,l=window.FigmaMobile,d={offsetX:(null==(r=this.state.offset)?void 0:r.x)??0,offsetY:(null==(n=this.state.offset)?void 0:n.y)??0,zoomScale:this.state.zoomScale||1,x:0,y:0,width:window.innerWidth,height:window.innerHeight,isZooming:!1,isPanning:!1};return ep.createElement(ep.Fragment,null,ep.createElement(eI.jO,null),s?null:ep.createElement(tn,{viewportInfo:d}),(0,ev.T8)(ep.createElement(ep.Fragment,null,e_.uG&&this.props.user_data&&!(0,em.GZ)()&&ep.createElement(e$,{userIdForTracking:null==(i=this.props.user_data)?void 0:i.id,isCompact:!0}),ep.createElement("div",{className:"mobile_viewer_app--mobileApp--E94N-",onClick:this.onPageClick},!l&&!this.props.searchParams.hide_ui&&ep.createElement("div",{className:"mobile_viewer_app--header--rI5yL"},ep.createElement(eX.L,{selected:this.state.menuShown,svg:Tm.A,onClick:this.onMenuButtonClick,enabled:!this.state.showProgressBar,hidden:Tg,className:s?"mobile_viewer_app--loadingTopBarAction--oYpLE":""}),ep.createElement("div",{className:`mobile_viewer_app--fileName--lJOAZ text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa ${s?"mobile_viewer_app--loadingFileName--7cF8h":""}`},this.props.name),this.state.menuShown&&ep.createElement(Th,{signedIn:!!this.props.user_data,pages:this.state.pages,viewer:this.state.viewer,setCurrentPageId:this.setCurrentPageId,currentPageId:this.state.currentPageId})),this.state.showProgressBar&&ep.createElement(tr.z2,{editorType:o,progressBarMode:eA.Oin.HIDE_UI}),ep.createElement("div",{className:I1,ref:this.attachViewer}),this.state.fileBusy&&ep.createElement("div",{className:"mobile_viewer_app--warning--6iv2f"},ep.createElement(eb.Tx,{id:"mobile_file_viewer.offline_err"})))),eD.e0.MOBILE_VIEWER,{fileKey:this.props.file_key}),!s&&ep.createElement(te,{selectedView:this.props.selectedView,onPageLoadingFinish:(null==(a=this.props.selectedView)?void 0:a.view)==="mobileViewer"?e=>{(0,eS.ds)("page_loading_overlay",this.props.file_key,{selectedView:this.props.selectedView,fileByKey:{}},{timeElapsedMs:e})}:void 0}))}}function T_(){var e;null==(e=eT.h3O)||e.detach();let r=document.getElementById("fullscreen-root");null==r||r.remove()}function Ty(e){let r=e.file;return(0,tt.ox)({onCanvasExpired:T_,file:{key:r.key,fileRepoId:r.file_repo_id,sourceFileKey:r.source_file_key}}),ep.createElement(Tf,{...e})}function TE(e){let r=e.file,n=(0,ef.WB)();if(!r||!n)return ep.createElement(Tf,{...e});{let n={...e,file:r};return ep.createElement(Ty,{...n})}}Tf.displayName="MobileViewer"},85091:(e,r,n)=>{"use strict";let i;n.d(r,{O1:()=>p,cu:()=>g,jr:()=>m,kk:()=>c,lT:()=>h,uj:()=>u});var a=n(11617),o=n(98977),s=n(79940),l=n(56029);let d=null;function c(){if(!d)throw Error("MobileFileViewer: viewerInstance is null");return d}function u(e){d=e}let p=new l.Se;function h(){return!(a.GZ()&&null==m().fullscreen)}function m(){return(0,s.v6)(o.Ay.location.search)}var g=((i=g||{}).SET_CANVAS_SPACE_CENTER="SET_CANVAS_SPACE_CENTER",i.SET_CURRENT_PAGE_ID="SET_CURRENT_PAGE_ID",i.ADJUST_ZOOM="ADJUST_ZOOM",i.SET_ZOOM="SET_ZOOM",i.RESET_ZOOM_TO_FIT_CANVAS_CONTENT="RESET_ZOOM_TO_FIT_CANVAS_CONTENT",i.SET_COMMENT_MODE="SET_COMMENT_MODE",i.SET_CURSOR_STYLE="SET_CURSOR_STYLE",i.SET_SCROLL_TO_PAN="SET_SCROLL_TO_PAN",i)},80771:(e,r,n)=>{"use strict";n.d(r,{hO:()=>i.h});var i=n(89768);n(48511),n(56370),n(39616),n(51140)},91592:(e,r,n)=>{"use strict";n.d(r,{qB:()=>N});var i=n(54332),a=n.n(i),o=n(41563),s=n.n(o),l=n(31664),d=n(38580),c=n(74626),u=n(67409),p=n(80771),h=n(7918),m=n(86450);(0,d.eU)(null),(0,d.eU)(null),(0,d.eU)(null),(0,d.eU)(null),(0,d.eU)(e=>{let r=e(w),n=e(C),i=e(A),a=e(m.R9);return(0,h.nX)(r,n,i,a??void 0)});let g=(0,d.eU)(e=>e(f)),f=(0,c.M2)((0,d.eU)([]));(0,d.eU)(e=>{let r=e(g);return r.length>0?r[r.length-1]:null});let _=(0,d.eU)(null);(0,d.eU)(e=>e(w)),(0,d.eU)(e=>e(C)),(0,d.eU)(e=>e(A)),(0,d.eU)(e=>{if(e(p.hO.isFragmentSearchAtom))return[u.WY.CREATOR,u.WY.SPACE];let r=e(w);return r&&-1===h.a_.indexOf(r.value)?Object.values(u.WY).filter(e=>e!==u.WY.CREATOR):Object.values(u.WY)}),(0,d.eU)(e=>{if(e(p.hO.isFragmentSearchAtom))return[u.qy.FOLDER,u.qy.TEAM];let r=e(w);return y((null==r?void 0:r.value)||null)});let y=e=>e===u.$L.USERS||e===u.$L.TEAMS?[u.qy.ORG]:e===u.$L.PROJECTS?[u.qy.TEAM,u.qy.ORG]:e===u.$L.PLUGINS||e===u.$L.WIDGETS?[]:[u.qy.FOLDER,u.qy.TEAM,u.qy.ORG];(0,d.eU)(e=>{let r=e(C),n=e(A),i=e(m.BA);return i?h.a_:E(r,n,i)}),(0,d.eU)(e=>E(e(C),e(A),e(m.BA)));let E=(e,r,n)=>{let i=n?h.a_.concat(u.$L.ALL_FILES):h.a_,a=i.concat([u.$L.USERS,u.$L.PROJECTS,u.$L.TEAMS]);if(e&&e.value.length>0)return i;if(r&&!(0,h.wG)(r.value)){let e=r.value[u.qy.FOLDER].length>0,n=r.value[u.qy.TEAM].length>0;if(r.value[u.qy.ORG].length>0)return a;if(n)return i.concat([u.$L.PROJECTS]);if(e)return i}return a},b=(0,c.Iz)(e=>(0,d.eU)(r=>e===u.WY.RESOURCE?r(w):e===u.WY.CREATOR?r(C):e===u.WY.SPACE?r(A):null,(r,n,i)=>{if(!e)return null;let a=!i||(0,h.II)(i);if(e===u.WY.RESOURCE?n(w,a?null:i):e===u.WY.CREATOR?n(C,a?null:i):e===u.WY.SPACE&&n(A,a?null:i),r(_)&&n(_,null),a){let i=r(f);n(f,i.filter(r=>r.type!==e))}else{let a=r(f),o=[],s=[];if(e===u.WY.RESOURCE){let e=(0,h.Nz)(u.WY.RESOURCE,a),r={type:u.WY.RESOURCE,value:i.value};s=[...a],-1===e?s.push(r):s[e]=r,o=S(r,s)}else if(e===u.WY.CREATOR)o=I(s=v(r(w),i,r(A),a));else if(e===u.WY.SPACE){let e=r(w),n=r(C),l=r(m.BA);s=v(e,n,i,a),o=T(i,n,l,s)}n(f,s.filter(e=>!(0,l.Jj)(o,e))),o.forEach(e=>{if(e.type===u.WY.RESOURCE)n(w,null);else if(e.type===u.WY.CREATOR)n(C,null);else if(e.type===u.WY.SPACE){let i={...r(A)};i.value[e.spaceType]=[],n(A,i)}})}})),v=(e,r,n,i)=>{let o=[];if(e&&o.push({type:u.WY.RESOURCE,value:e.value}),r&&!(0,h.II)(r)&&r.value.forEach(e=>o.push({type:u.WY.CREATOR,value:e})),n&&!(0,h.II)(n)){let e=n.value;for(let r of Object.values(u.qy))for(let n of e[r]){let e=(0,h.KI)(r,n);e&&o.push(e)}}let d=[];i.forEach(e=>{(0,l.Jj)(o,e)&&d.push(e)});let c=a()(o,d,s());return d.push(...c),d},S=(e,r)=>{let n=[],i=y(e.value);return r.filter(r=>{r.type===u.WY.SPACE&&-1===i.indexOf(r.spaceType)&&n.push(r),r.type===u.WY.CREATOR&&e.value!==u.$L.ALL_FILES&&e.value!==u.$L.DESIGN_FILES&&e.value!==u.$L.FIGJAM_FILES&&e.value!==u.$L.SLIDES&&n.push(r)}),n},I=e=>{let r=[];return e.forEach(e=>{e.type===u.WY.RESOURCE&&e.value!==u.$L.DESIGN_FILES&&e.value!==u.$L.FIGJAM_FILES&&e.value!==u.$L.SLIDES&&e.value!==u.$L.ALL_FILES&&r.push(e)}),r},T=(e,r,n,i)=>{let a=[],o=E(r,e,n);return i.forEach(e=>{e.type===u.WY.RESOURCE&&-1===o.indexOf(e.value)&&a.push(e)}),a};(0,d.eU)(e=>{},(e,r)=>{e(g).forEach(e=>{r(b(e.type),null)}),r(m.R9,null)});let w=(0,d.eU)(null),C=(0,d.eU)(null),A=(0,d.eU)(null);function N(){let e=c.zl.get(g),r=[],n=[],i=[],a=[],o=[];return e.forEach(e=>{switch(e.type){case u.WY.CREATOR:r.push(e.value.id);break;case u.WY.SPACE:switch(e.spaceType){case u.qy.FOLDER:n.push(e.value.id);break;case u.qy.TEAM:i.push(e.value.id);break;case u.qy.ORG:a.push(e.value.id)}break;case u.WY.RESOURCE:o.push(e.value)}}),{facet_creator_ids:r,facet_folder_ids:n,facet_team_ids:i,facet_org_ids:a,facet_resource_types:o}}(0,c.Iz)(e=>(0,d.eU)(r=>{switch(e){case u.WY.RESOURCE:let n=r(w);return n?(0,h.Mu)(n.value):"";case u.WY.CREATOR:let i=r(C);return i?(0,h.hV)(i):"";case u.WY.SPACE:let a=r(A);return a&&!(0,h.wG)(a.value)?(0,h.zJ)(a):"";default:return""}}))},86450:(e,r,n)=>{"use strict";n.d(r,{BA:()=>s,R9:()=>o});var i=n(38580),a=n(29928);(0,a.bt)(e=>e.search.parameters.query),(0,i.eU)(""),(0,a.bt)(e=>e.search.parameters.searchScope),(0,a.bt)(e=>e.search.parameters.searchModelType);let o=(0,i.eU)(null);(0,a.bt)(e=>e.search.parameters.facetFilters);let s=(0,a.bt)(e=>"search"===e.selectedView.view);(0,a.bt)(e=>e.search.responses),(0,a.bt)(e=>e.search.searchPreviewOrder)},86571:(e,r,n)=>{"use strict";n.d(r,{gr:()=>d,sD:()=>s});var i,a,o,s,l,d,c,u=n(15009),p=n(87918);function h(e,r){function n(r,n){return r.startsWith(e)?n(r.slice(e.length)):null}function i(e){return r.fromString(e)}function a(e){return n(e,e=>i(e)?null:p.sH(e))}function o(e){return n(e,e=>i(e))}function s(r){return e+p.dI(r)}function l(n){return e+r.toString(n)}return{toString:function(e){return e},toKiwi:function(e){return n(e,e=>{let r=i(e);if(r)return{assetRef:r};let n=p.sH(e);if(n)return{guid:n}})??{guid:p.Hr}},toGuidObjIfLocal:a,toGuidStrIfLocal:function(e){return n(e,e=>i(e)?null:e)},toRefIfSubscribed:o,fromString:function(e){return n(e,r=>p.sH(r)||i(r)?e:null)},fromLocalNodeIdObj:s,fromLocalNodeIdStr:function(r){return p.sH(r)?e+r:null},fromRef:l,fromKiwi:function(e){if(!e)return null;let{guid:n,assetRef:i}=e;if(n&&!i)return s(n);if(!n&&i){let e=r.fromKiwi(i);if(e)return l(e)}return null},isValid:function(e){let n=a(e);if(n)return p.fn(n);let i=o(e);return!!i&&r.isValid(i)}}}(e=>{let r=h("SymbolId:",u.Uw);e.INVALID=r.fromLocalNodeIdStr(p.AD),e.toString=r.toString,e.toKiwi=r.toKiwi,e.toGuidObjIfLocal=r.toGuidObjIfLocal,e.toGuidStrIfLocal=r.toGuidStrIfLocal,e.toRefIfSubscribed=r.toRefIfSubscribed,e.fromString=r.fromString,e.fromLocalNodeIdObj=r.fromLocalNodeIdObj,e.fromLocalNodeIdStr=r.fromLocalNodeIdStr,e.fromRef=r.fromRef,e.fromKiwi=r.fromKiwi,e.isValid=r.isValid})(i||(i={})),(e=>{let r=h("StateGroupId:",u.Kj);e.INVALID=r.fromLocalNodeIdStr(p.AD),e.toString=r.toString,e.toKiwi=r.toKiwi,e.toGuidObjIfLocal=r.toGuidObjIfLocal,e.toGuidStrIfLocal=r.toGuidStrIfLocal,e.toRefIfSubscribed=r.toRefIfSubscribed,e.fromString=r.fromString,e.fromLocalNodeIdObj=r.fromLocalNodeIdObj,e.fromLocalNodeIdStr=r.fromLocalNodeIdStr,e.fromRef=r.fromRef,e.fromKiwi=r.fromKiwi,e.isValid=r.isValid})(a||(a={})),(e=>{let r=h("StyleId:",u.$y);e.INVALID=r.fromLocalNodeIdStr(p.AD),e.toString=r.toString,e.toKiwi=r.toKiwi,e.toGuidObjIfLocal=r.toGuidObjIfLocal,e.toGuidStrIfLocal=r.toGuidStrIfLocal,e.toRefIfSubscribed=r.toRefIfSubscribed,e.fromString=r.fromString,e.fromLocalNodeIdObj=r.fromLocalNodeIdObj,e.fromLocalNodeIdStr=r.fromLocalNodeIdStr,e.fromRef=r.fromRef,e.fromKiwi=r.fromKiwi,e.isValid=r.isValid,e.fromBindingsObj=function(r){return r.guid?(0,e.fromLocalNodeIdStr)(r.guid):(0,e.fromRef)(r.ref)}})(o||(o={})),(e=>{let r=h("VariableID:",u.M4);e.INVALID=r.fromLocalNodeIdStr(p.AD),e.toString=r.toString,e.toKiwi=r.toKiwi,e.toGuidObjIfLocal=r.toGuidObjIfLocal,e.toGuidStrIfLocal=r.toGuidStrIfLocal,e.toRefIfSubscribed=r.toRefIfSubscribed,e.fromString=r.fromString,e.fromLocalNodeIdObj=r.fromLocalNodeIdObj,e.fromLocalNodeIdStr=r.fromLocalNodeIdStr,e.fromRef=r.fromRef,e.fromKiwi=r.fromKiwi,e.isValid=r.isValid})(s||(s={})),(e=>{let r=h("VariableOverrideId:",u.cI);e.INVALID=r.fromLocalNodeIdStr(p.AD),e.toString=r.toString,e.toKiwi=r.toKiwi,e.toGuidObjIfLocal=r.toGuidObjIfLocal,e.toGuidStrIfLocal=r.toGuidStrIfLocal,e.toRefIfSubscribed=r.toRefIfSubscribed,e.fromString=r.fromString,e.fromLocalNodeIdObj=r.fromLocalNodeIdObj,e.fromLocalNodeIdStr=r.fromLocalNodeIdStr,e.fromRef=r.fromRef,e.fromKiwi=r.fromKiwi,e.isValid=r.isValid})(l||(l={})),(e=>{let r="VariableSetID:",n=h("VariableCollectionId:",u.iV),i=h(r,u.iV);function a({current:e,deprecated:n}){return i=>i.startsWith(r)?n(i):e(i)}e.INVALID=n.fromLocalNodeIdStr(p.AD),e.toString=n.toString,e.toKiwi=a({current:n.toKiwi,deprecated:i.toKiwi}),e.toGuidObjIfLocal=a({current:n.toGuidObjIfLocal,deprecated:i.toGuidObjIfLocal}),e.toGuidStrIfLocal=a({current:n.toGuidStrIfLocal,deprecated:i.toGuidStrIfLocal}),e.toRefIfSubscribed=a({current:n.toRefIfSubscribed,deprecated:i.toRefIfSubscribed}),e.fromString=a({current:n.fromString,deprecated:i.fromString}),e.fromLocalNodeIdObj=n.fromLocalNodeIdObj,e.fromLocalNodeIdStr=n.fromLocalNodeIdStr,e.fromRef=n.fromRef,e.fromKiwi=n.fromKiwi,e.isValid=a({current:n.isValid,deprecated:i.isValid})})(d||(d={})),(e=>{let r=h("ModuleId:",u.UG);e.INVALID=r.fromLocalNodeIdStr(p.AD),e.toString=r.toString,e.toKiwi=r.toKiwi,e.toGuidObjIfLocal=r.toGuidObjIfLocal,e.toGuidStrIfLocal=r.toGuidStrIfLocal,e.toRefIfSubscribed=r.toRefIfSubscribed,e.fromString=r.fromString,e.fromLocalNodeIdObj=r.fromLocalNodeIdObj,e.fromLocalNodeIdStr=r.fromLocalNodeIdStr,e.fromRef=r.fromRef,e.fromKiwi=r.fromKiwi,e.isValid=r.isValid})(c||(c={}))},15009:(e,r,n)=>{"use strict";var i,a,o,s,l,d,c,u,p;function h(e){return e}function m(e){return e}function g(e){return e}function f(e){return e}function _(e){return e}function y(e){return e}function E(e){return e}function b(e){return e}function v(e){return e}function S(e){return e}function I(e){return e}function T(e){return e}function w(e){return e}function C(e){return e}function A(e){return e}function N(e){return e}function O(e){return e}function R(e){return e}function P({key:e,version:r}){return`${h.toString(e)}/${S.toString(r)}`}function L(e){let r=e.split("/");if(2!==r.length)return null;let[n,i]=r;return n&&i?{key:n,version:i}:null}function D({key:e,version:r}){return e&&r?{key:e,version:r}:null}function M(e,r){return e&&r?e.key===r.key&&e.version===r.version:e===r}function k({key:e,version:r}){return!!(e&&r)}n.d(r,{$y:()=>l,F7:()=>I,IA:()=>C,Kj:()=>s,M4:()=>d,Pg:()=>R,Po:()=>f,Rf:()=>T,UG:()=>p,Uw:()=>o,Vt:()=>O,cI:()=>c,ey:()=>y,iV:()=>u,ii:()=>m,mW:()=>v,n3:()=>_,nK:()=>A,o5:()=>w,q:()=>g,sg:()=>h,yG:()=>b}),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(h||(h={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(m||(m={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(g||(g={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(f||(f={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(_||(_={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(y||(y={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(E||(E={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(b||(b={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(v||(v={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(S||(S={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(I||(I={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(T||(T={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(w||(w={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(C||(C={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(A||(A={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(N||(N={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(O||(O={})),(e=>{e.INVALID=e(""),e.toString=function(e){return e}})(R||(R={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(i||(i={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(a||(a={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(o||(o={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(s||(s={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(l||(l={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(d||(d={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(c||(c={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(u||(u={})),(e=>{e.toString=P,e.fromString=L,e.fromKiwi=D,e.isEqual=M,e.isValid=k})(p||(p={}))},44525:(e,r,n)=>{"use strict";let i,a;var o=n(52800),s=n(74011),l=n(9511),d=((i=d||{})[i.Text=0]="Text",i[i.FrameOrGroup=1]="FrameOrGroup",i[i.Component=2]="Component",i[i.Instance=3]="Instance",i[i.Image=4]="Image",i[i.Shape=5]="Shape",i[i.Other=6]="Other",i[i.MatchCase=7]="MatchCase",i[i.WholeWords=8]="WholeWords",i);let c={[l.D1Y.TEXT]:0,[l.D1Y.FRAME_OR_GROUP]:0,[l.D1Y.COMPONENT]:0,[l.D1Y.INSTANCE]:0,[l.D1Y.IMAGE]:0,[l.D1Y.SHAPE]:0,[l.D1Y.OTHER]:0};var u=((a=u||{})[a.PREV=-1]="PREV",a[a.NONE=0]="NONE",a[a.NEXT=1]="NEXT",a),p=n(61459);(0,s.hR)(null,{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.hR)({total:0},{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE,equalityFn:Object.is}),(0,s.hR)(null,{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.hR)(new Map,{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.hR)(new Set,{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.hR)(new Set,{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.hR)({...c},{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.hR)({styles:[]},{changeFileBehavior:s.hW.RESET_VALUE_ON_FILE_CHANGE}),(0,s.x6)({paints:p.XQ,strokeWeight:p.qB},e=>o.glU.updatePencilStyle(e),{changeFileBehavior:s.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),(0,s.x6)({paints:p.Dq,strokeWeight:24},e=>o.glU.updateHighlighterStyle(e),{changeFileBehavior:s.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),(0,s.x6)(p.BD,e=>o.glU.updateToolStyles({stickyColor:e}),{changeFileBehavior:s.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),(0,s.x6)(p.n6,e=>o.glU.updateToolStyles({shapeColor:e}),{changeFileBehavior:s.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),(0,s.x6)(p.LX,e=>o.glU.updateToolStyles({connectorToolColor:e}),{changeFileBehavior:s.hW.SHARE_SAME_VALUE_FOR_ALL_FILES}),(0,s.x6)({shapeWithTextType:"ELLIPSE",connectorToolLineStyle:"ELBOWED",connectorToolEndCap:"ARROW_LINES"},e=>o.glU.updateToolStyles(e),{changeFileBehavior:s.hW.SHARE_SAME_VALUE_FOR_ALL_FILES})},61870:(e,r,n)=>{"use strict";n.d(r,{I:()=>i});var i,a=n(67249),o=n(98977),s=n(208),l=n(81388),d=n(39863),c=n(80820),u=n(20741);async function p(e,r){await s.Ay.post("/api/session/clear_cont").catch(()=>{}),r?o.Ay.unsafeRedirectMsTeams(e):o.Ay.redirect(e)}(e=>{e.init=(0,a.N)("AUTH_INIT"),e.realtimeInit=(0,a.N)("AUTH_REALTIME_INIT"),e.setAuthToLoading=(0,a.N)("AUTH_SET_AUTH_LOADING"),e.signIn=(0,a.N)("AUTH_SIGN_IN"),e.signUpExtraInfo=(0,a.N)("AUTH_SIGN_UP_EXTRA_INFO"),e.signUpExtraInfoGoogle=(0,a.N)("AUTH_SIGN_UP_EXTRA_INFO_GOOGLE"),e.signUpGoBack=(0,a.N)("AUTH_SIGN_UP_GO_BACK"),e.signUp=(0,a.N)("AUTH_SIGN_UP"),e.resetPassword=(0,a.N)("AUTH_RESET_PASSWORD"),e.resendCode=(0,a.N)("AUTH_RESEND_CODE"),e.validateCode=(0,a.N)("VALIDATE_CODE"),e.sendEmailSamlStart=(0,a.N)("AUTH_SEND_EMAIL_SAML_START"),e.showForm=(0,a.N)("AUTH_SHOW_FORM"),e.sendPasswordReset=(0,a.N)("AUTH_SEND_PASSWORD_RESET"),e.showError=(0,a.N)("AUTH_SHOW_ERROR"),e.clearError=(0,a.N)("AUTH_CLEAR_ERROR"),e.complete=(0,a.N)("AUTH_COMPLETE"),e.changeEmail=(0,a.N)("AUTH_CHANGE_EMAIL"),e.clickedSAMLSignIn=(0,a.N)("AUTH_CLICKED_SAML_SIGN_IN"),e.changeName=(0,a.N)("AUTH_CHANGE_NAME"),e.toggleSMS=(0,a.N)("AUTH_TOGGLE_SMS"),e.requireTwoFactor=(0,a.N)("AUTH_REQUIRE_TWO_FACTOR"),e.changeJob=(0,a.N)("AUTH_CHANGE_JOB"),e.changeUsagePurpose=(0,a.N)("AUTH_CHANGE_USAGE_PURPOSE"),e.changeOptInEmail=(0,a.N)("AUTH_CHANGE_OPT_IN_EMAIL"),e.changeLocale=(0,a.N)("AUTH_CHANGE_LOCALE"),e.sendValidationEmail=(0,a.N)("AUTH_SEND_VALIDATION_EMAIL"),e.setGoogleIdToken=(0,a.N)("AUTH_SET_GOOGLE_ID_TOKEN"),e.setGoogleTokenType=(0,a.N)("AUTH_SET_GOOGLE_TOKEN_TYPE"),e.samlStartFromSession=(0,a.N)("AUTH_SAML_START_FROM_SESSION"),e.emailOnly=(0,a.N)("AUTH_EMAIL_ONLY"),e.redeem=(0,a.N)("AUTH_REDEEM"),e.redeemReset=(0,a.N)("AUTH_REDEEM_RESET"),e.setRedirectUrl=(0,a.N)("AUTH_SET_REDIRECT_URL"),e.redeemTeamJoinLink=(0,c.nF)((e,{token:r,userId:n},{loadingKey:i})=>{let a=s.Ay.defaults.headers;n&&(a={...s.Ay.defaults.headers,"X-Figma-User-ID":n});let o=s.Ay.post("/api/team_join_link/redeem",{token:r},{headers:a});(0,u.N)(o,e,i),o.then(({data:e})=>{if(e&&e.meta)return p(e.meta.redirect_target)}).catch(r=>{console.error(r);let n=(0,d.Jv)(r,(0,d.t)("auth.team_join_link.error_on_redeem"));return e.dispatch(l.s.error(n))})}),e.setSignupSource=(0,a.N)("AUTH_SET_SIGNUP_SOURCE"),e.googleSignupSkipExtraInfo=(0,a.N)("AUTH_GOOGLE_SIGNUP_SKIP_EXTRA_INFO"),e.setAuthOrigin=(0,a.N)("AUTH_SET_ORIGIN")})(i||(i={}))},45356:(e,r,n)=>{"use strict";n.d(r,{MZ:()=>h,g6:()=>p,q_:()=>g});var i=n(84934);n(33537);var a=n(22509);n(98977);var o=n(66712);n(96328);var s=n(208),l=n(95847),d=n(39863),c=n(80820),u=n(61870);function p(e,r,n={},a={}){(0,i.sx)("Auth Actions",{eventSubtype:e,origin:r,googleFedCmEnabled:(0,o.kc)().google_federated_cm??!1,cookiesAllowed:!!navigator.cookieEnabled,...n},{batchRequest:!1,...a})}function h(){return null===document.querySelector('[data-component-name="auth-view"]')}let m=(0,c.nF)((e,{resp:r})=>{let n,i;let a=e.getState();console.error(r);let o=r.data;if(o&&o.reason&&"object"==typeof o.reason&&"two_factor"===o.reason.missing){let r;e.dispatch(u.I.toggleSMS(o.reason.sms)),o.reason.phone_number&&(r=(0,d.t)("auth.two-factor.sms-hint",{phoneNumber:o.reason.phone_number})),e.dispatch(u.I.requireTwoFactor({required:!0,hint:r}));return}let s=(0,d.Jv)(r,(null==o?void 0:o.message)||(0,d.t)("auth.default-error"));if((null==o?void 0:o.reason)==="account_unverified"){e.dispatch(u.I.showForm({formState:l.qB.VALIDATE_EMAIL}));return}if((null==o?void 0:o.reason)==="account_suspended"){window.location.href="/blocked.html";return}r&&401===r.status?n=l.By.UNAUTHORIZED:r&&400===r.status?n=l.By.BAD_REQUEST:r&&404===r.status&&"no_saml"===o.reason?n=l.By.NO_SAML:r&&404===r.status&&"magic_link_login_no_account"===o.reason?n=l.By.MAGIC_LINK_LOGIN_NO_ACCOUNT:r&&403===r.status&&"saml_required"===o.reason&&(n=l.By.SAML_REQUIRED),a.auth.formState===l.qB.SIGN_IN&&a.auth.twoFactorRequired?i=l.RE.TOTP_KEY:a.auth.formState===l.qB.RESET_PASSWORD?i=l.RE.PASSWORD:o&&o.reason&&"object"==typeof o.reason&&("password"===o.reason.missing||"password"===o.reason.invalid)?i=l.RE.PASSWORD:a.auth.formState===l.qB.SAML_START&&(i=l.RE.EMAIL),a.auth.formState===l.qB.SIGN_UP_EXTRA_INFO&&(o.reason&&"object"==typeof o.reason&&"uniqueness"===o.reason.invalid?e.dispatch(u.I.showForm({formState:l.qB.SIGN_IN})):e.dispatch(u.I.showForm({formState:l.qB.SIGN_UP}))),a.auth.formState===l.qB.VERIFY_HUMAN&&a.auth.prevForm!==l.qB.VERIFY_HUMAN&&e.dispatch(u.I.showForm({formState:a.auth.prevForm})),e.dispatch(u.I.showError({message:s,errorType:n,invalidInput:i}))}),g=(0,c.nF)((e,{formId:r})=>{p("sms_recover_attempt",e.getState().auth.origin);let n=document.getElementById(r),i=(0,a.t)(n);s.Ay.post("/api/session/sms_recover",i).then(({data:r})=>{p("sms_recover_success",e.getState().auth.origin),r&&r.meta&&e.dispatch(u.I.requireTwoFactor({required:!0,hint:(0,d.t)("auth.two-factor.code-hint-confirmation",{phoneNumber:r.meta.phone_number})}))}).catch(r=>e.dispatch(m({resp:r})))})},95847:(e,r,n)=>{"use strict";let i,a,o,s,l,d,c;n.d(r,{By:()=>p,DP:()=>f,GF:()=>m,RE:()=>h,V7:()=>_,qB:()=>u,vR:()=>g});var u=((i=u||{}).SIGN_IN="sign_in",i.CHECK_EMAIL_MAGIC_LINK_SIGN_IN_AFTER_PASSWORD="check_email_magic_link_sign_in_after_password",i.SAML_START="saml_start",i.SIGN_UP="sign_up",i.SIGN_UP_EXTRA_INFO="sign_up_extra_info",i.FORGOT_PASSWORD="forgot_password",i.SENT_PASSWORD_RESET="sent_password_reset",i.RESET_PASSWORD="reset_password",i.VALIDATE_EMAIL="validate_email",i.VALIDATE_CODE="validate_code",i.APP_AUTH_GRANT="app_auth_grant",i.APP_AUTH_REDEEM="app_auth_redeem",i.SSO_GATE="sso_gate",i.EMAIL_ONLY="email_only",i.ACCOUNT_PICKER="account_picker",i.JOIN_ORG="join_org",i.VERIFY_HUMAN="verify_human",i),p=((a=p||{})[a.UNAUTHORIZED=0]="UNAUTHORIZED",a[a.BAD_REQUEST=1]="BAD_REQUEST",a[a.NO_SAML=2]="NO_SAML",a[a.SAML_REQUIRED=3]="SAML_REQUIRED",a[a.MAGIC_LINK_LOGIN_NO_ACCOUNT=4]="MAGIC_LINK_LOGIN_NO_ACCOUNT",a),h=((o=h||{}).EMAIL="email",o.PASSWORD="password",o.VERIFICATION_CODE="verification_code",o.TOTP_KEY="totp_key",o.JOB_TITLE="job_title",o.USAGE_PURPOSE="usage_purpose",o),m=((s=m||{}).WORK="For work",s.PERSONAL="For personal use",s.EDU="For teaching or taking a class",s),g=((l=g||{}).GOOGLE="google",l.SAML="saml",l),f=((d=f||{}).DESKTOP="desktop",d.MIRROR="mirror",d.MOBILE="mobile",d.VSCODE="vscode",d.VSCODE_INSIDERS="vscode-insiders",d.VSCODE_CURSOR="vscode-cursor",d.FIGJAM_MOBILE="figjam_mobile",d),_=((c=_||{}).ACCESS_TOKEN="access_token",c.ID_TOKEN="id_token",c)},15054:(e,r,n)=>{"use strict";n.d(r,{Z:()=>p});var i=n(11855),a=n(29019),o=n.n(a),s=n(17068),l=n(61870),d=n(95847),c=n(5e4),u=n(39863);function p(e){var r;let[n]=i.useState(()=>(0,s.k4)([{displayName:(0,u.t)("auth.extra-info.job-type.design"),value:"design"},{displayName:(0,u.t)("auth.extra-info.job-type.software-development"),value:"software-development"},{displayName:(0,u.t)("auth.extra-info.job-type.marketing"),value:"marketing"},{displayName:(0,u.t)("auth.extra-info.job-type.product-management"),value:"product-management"},{displayName:(0,u.t)("auth.extra-info.job-type.user-research"),value:"user-research"},{displayName:(0,u.t)("auth.extra-info.job-type.education"),value:"education"}]).concat({displayName:(0,u.t)("auth.extra-info.job-type.other"),value:"other"})),[a,p]=i.useState(((r=e.jobTitle).charAt(0).toUpperCase()+r.slice(1)).replace("-"," ")),h=`${e.label??(0,u.t)("auth.extra-info.what-kind-of-work")} * `,m=(0,u.t)("auth.extra-info.what-kind-of-work-required");return i.createElement(c.D5,{label:h,ariaLabel:m,className:o()("job_type_dropdown--jobTitleDropdown--HK1HG",e.overrideClassName),name:"jobTitle",value:a,onChange:e.onChange?e.onChange:r=>{e.dispatch(l.I.changeJob({value:r})),p(r),e.invalidInput===d.RE.JOB_TITLE&&r&&e.dispatch(l.I.clearError())},options:n,responseHasError:e.responseHasError,error:i.createElement(c.Kw,{hasError:!e.jobTitle,errorMessage:(0,u.t)("auth.extra-info.errors.please-provide-job-function")})})}},75103:(e,r,n)=>{"use strict";n.d(r,{F0:()=>g,Wv:()=>y,ZH:()=>_,gK:()=>f});var i=n(11855),a=n(88507),o=n(33537),s=n(62557),l=n(86640),d=n(61870),c=n(95847),u=n(46689),p=n(39863),h=n(87348),m=n(71131);function g(e){let r=`${m.hF} ${m.wk} ${e.className||""}`,n={...e,className:r};return i.createElement(u.ks,{...(0,s.d)(n)})}function f(e){let r=`${e.isInvalid?m.aY:""}`,n={...e,className:r};return delete n.isInvalid,i.createElement(g,{...(0,s.d)(n)})}function _(e){let[r,n]=(0,i.useState)(null),s=(0,a.wA)(),u=(0,a.d4)(e=>e.auth.formState),g=(0,a.d4)(e=>e.auth.clickedSAMLSignIn),_=(0,a.d4)(e=>e.auth.email),y=(0,a.d4)(e=>e.auth.invalidInput),E=e=>{e&&u===c.qB.SIGN_IN&&s(d.I.showForm({formState:c.qB.SAML_START}))},b=async e=>{var r,n;if(s(d.I.changeEmail({value:e})),!g&&(0,o.xf)(e))try{let i=null==(r=(0,l.Q_)())?void 0:r.getItem(`SIGN-IN ${e}`);if(i){E("true"===i);return}let{data:a}=await h.F.getOrgSamlConfigRequired({email:e});null==(n=(0,l.Q_)())||n.setItem(`SIGN-IN ${e}`,a.meta.saml_sso_only),E(!!a.meta.saml_sso_only)}catch(e){u===c.qB.SAML_START&&s(d.I.showForm({formState:c.qB.SIGN_IN}))}},v=()=>{let e=_.split("@")[0];b(`${e}@${r}`),n(null)},S=e.placeholder??(0,p.t)("auth.email-input-placeholder");return i.createElement(i.Fragment,null,i.createElement(f,{onChange:e=>b(e.currentTarget.value),onBlur:r=>{var i;if(null==(i=e.onBlur)||i.call(e,r,!0),e.showDomainSuggestions){let e=_.split("@")[1];n((0,o.bs)(e))}},value:_,name:c.RE.EMAIL,placeholder:S,type:"email",id:"email",autoComplete:"username",autoCapitalize:"off",autoCorrect:"off",isInvalid:c.RE.EMAIL===y,"aria-label":(0,p.t)("auth.email-input-aria-label")}),r&&i.createElement("div",{"data-testid":"domain-suggestion",className:m.rt},i.createElement(p.Tx,{id:"auth.email-domain-suggestion-prompt",domainSuggestion:i.createElement("a",{onClick:()=>v(),className:m.nf},r)})))}function y(e){let[r,n]=(0,i.useState)(""),o=(0,a.wA)(),s=(0,a.d4)(e=>e.auth.invalidInput),l=e.placeholder??(0,p.t)("auth.password-input-placeholder");return i.createElement(f,{name:c.RE.PASSWORD,type:"password",placeholder:l,autoCapitalize:"off",autoCorrect:"off",autoComplete:"current-password",id:"current-password",value:r,onChange:function(e){n(e.currentTarget.value),o(d.I.setGoogleIdToken({googleIdToken:null}))},onBlur:e.onBlur,isInvalid:s===c.RE.PASSWORD})}},80921:(e,r,n)=>{"use strict";let i,a,o;n.d(r,{Ex:()=>g,vj:()=>h,zE:()=>p});var s=n(11855),l=n(35283),d=n(24897),c=n(46965),u=n(59696),p=((i=p||{})[i.INVERT=0]="INVERT",i[i.DEFAULT=1]="DEFAULT",i[i.TOOLBAR=2]="TOOLBAR",i[i.TERTIARY=3]="TERTIARY",i[i.SUCCESS=4]="SUCCESS",i[i.WARNING=5]="WARNING",i[i.DANGER=6]="DANGER",i[i.DESIGN=7]="DESIGN",i[i.COMPONENT=8]="COMPONENT",i[i.FIGJAM=9]="FIGJAM",i[i.BRAND=10]="BRAND",i[i.DISABLED=11]="DISABLED",i[i.INFORMATIONAL=12]="INFORMATIONAL",i[i.LIGHT=13]="LIGHT",i[i.TOOLBAR_SELECTED=14]="TOOLBAR_SELECTED",i),h=((a=h||{})[a.SMALL=0]="SMALL",a[a.LARGE=1]="LARGE",a[a.EXTRA_LARGE=2]="EXTRA_LARGE",a),m=((o=m||{}).PRO_TRIAL_EXPIRED="Pro trial expired badge",o.PRO_TRIAL="Pro trial badge",o.FREE="Free badge",o.LOCKED="Locked Team Badge",o.PROFESSIONAL="Professional badge",o);class g extends s.PureComponent{render(){let e=this.props.size||0,r={0:c.ZN,1:c.v,2:c.TT}[e],n=function(e,r=!1){switch(e){case 0:return r?c._W:c.sM;case 1:return r?c.Dt:c.JR;case 3:return r?c.Dt:c.uS;case 4:return r?c.Pu:c.xi;case 5:return r?c.KK:c.M6;case 6:return r?c.FZ:c.B4;case 7:return r?c.yZ:c.C0;case 8:return r?c.rw:c.zB;case 9:return r?c.ko:c.Iv;case 10:return r?c.rL:c.Xo;case 2:return r?c.vg:c.rJ;case 14:return c.vT;case 12:return r?c.Dt:c.Fw;case 11:return r?c.Dt:c.Uu;case 13:return r?c.gL:c._X;default:(0,l.xb)(e,"cases exhausted: this shouldn't happen")}}(this.props.color,this.props.subtle),i=this.props.subtle?c.aK:"",a=`${r} ${n} ${i} ${this.props.className||""}`;return s.createElement("span",{"data-tooltip-type":this.props.dataTooltipType,"data-tooltip":this.props.dataTooltip,"data-tooltip-show-above":this.props.dataTooltipShowAbove,"data-tooltip-show-below":this.props.dataTooltipShowBelow,"data-tooltip-show-right":this.props.dataTooltipShowRight,"data-tooltip-max-width":this.props.dataTooltipMaxWidth,"data-tooltip-timeout-delay":this.props.dataTooltipTimeout,"data-tooltip-offset-x":this.props.dataTooltipShowRight?8:0,"data-testid":this.props.dataTestId,className:a,onClick:this.props.onClick,role:this.props.onClick?"button":void 0,tabIndex:this.props.onClick?0:void 0},this.props.icon,"function"!=typeof this.props.text?this.props.text:s.createElement(this.props.text,null),this.props.onClose&&s.createElement(d.B,{className:c.eD,onClick:this.props.onClose,svg:u.A}))}}},68137:(e,r,n)=>{"use strict";n.d(r,{$$:()=>s,nR:()=>d,pz:()=>c,vd:()=>l});var i=n(11855),a=n(72517),o=n(3453);function s(e){let{className:r,...n}=e;return i.createElement("button",{className:`${o.xZ} ${r}`,type:"button",...n},e.children)}let l=(0,a.tf)(s);function d(e){let{className:r,...n}=e;return i.createElement("button",{className:`${o.HM} ${r}`,type:"button",...n},e.children)}function c(e){let{className:r,...n}=e;return i.createElement("button",{className:`${o.AJ} ${r}`,type:"button",...n},e.children)}(0,a.tf)(d)},11161:(e,r,n)=>{"use strict";n.d(r,{R:()=>s});var i=n(11855),a=n(60945);let o="center_truncated_text--fixedSize--7beVW",s=i.memo(function({text:e,className:r,maxWidth:n,postfix:s,postElement:l,tooltipPropsWhenTruncated:d,onTruncationChange:c}){let u=i.useRef(null),p=i.useRef(null),h=i.useRef(null),m=i.useRef(null),g=(0,a.w)(u),[f,_]=i.useState(!1);i.useEffect(()=>{null==c||c(f)},[c,f]),i.useLayoutEffect(()=>{var e,r,n,i;if(p.current&&g){let a=(null==(r=null==(e=h.current)?void 0:e.getBoundingClientRect())?void 0:r.width)??0,o=(null==(i=null==(n=m.current)?void 0:n.getBoundingClientRect())?void 0:i.width)??0;_(p.current.scrollWidth>Math.ceil(g.width-a-o))}},[e,g]);let y=n?`${n}px`:"100%";return i.createElement("div",{ref:u,style:{width:y},className:`${r} center_truncated_text--truncateContainer--N-24F`,...f?d:{}},i.createElement("p",{className:"center_truncated_text--truncateGroup--Fw18Y"},i.createElement("span",{ref:p,className:l?"center_truncated_text--truncateLeftWithPostElem--a-9Fx":"center_truncated_text--truncateLeft--zdylN"},e),f&&i.createElement("span",{className:"center_truncated_text--truncateRight--YK15u","aria-hidden":"true"},"\u200B",i.createElement("span",{className:"center_truncated_text--truncateRightContent--v1ra4"},e)),s&&i.createElement("span",{ref:h,className:o},s),l&&i.createElement("span",{ref:m,className:o},l)))})},99569:(e,r,n)=>{"use strict";n.d(r,{Jn:()=>f,i0:()=>_,s_:()=>y});var i=n(11855),a=n(39689),o=n(98750),s=n(53234),l=n(22739),d=n(39863),c=n(62275),u=n(72517),p=n(87392),h=n(46481),m=n(54797),g=n(30834);let f=(0,u.tf)(({onMouseDown:e,onClick:r,className:n,svg:c,disabled:u,dataOnboardingKey:f,useOriginalSrcFills_DEPRECATED:_=!1,dataTestId:y="close-button","aria-label":E=(0,d.t)("general.close"),...b})=>{let v=(0,p.$3)(),S=c||g.A;return i.createElement(l.GG,{"data-onboarding-key":f,className:`${m.Nk} ${n||""}`,onMouseDown:e,onClick:v?void 0:r,onPointerDown:v?r:void 0,role:"button",type:"button","aria-label":E,recordingKey:(0,s.Pt)(b,"closeButton"),dataTestId:y,"data-not-draggable":!0,onKeyDown:e=>{e.keyCode===o.Uz.ESCAPE&&e.currentTarget.blur()},disabled:u},i.createElement(h.U,{svg:S,useOriginalSrcFills_DEPRECATED:_},i.createElement(a.A,null)))});f.displayName="CloseButton";let _=function(e){return i.createElement("div",{className:m.J_,style:{...e.customStyle},"data-testid":"modal-upper-right-corner"},i.createElement(f,{...e}))},y=function(e){return i.createElement(_,{...e,onClick:()=>{var r;e.dispatch(c.Lo()),null==(r=e.onClose)||r.call(e)}})}},79265:(e,r,n)=>{"use strict";let i;n.d(r,{or:()=>I,BL:()=>C,u:()=>A,xY:()=>w,qW:()=>T,Ss:()=>S});var a=n(11855),o=n(67129);function s(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 12c0-.066.054-.358.313-.825a5.9 5.9 0 0 1 1.12-1.414C8.443 8.816 9.956 8 12 8c2.045 0 3.558.816 4.566 1.76.508.477.88.98 1.121 1.415.258.467.313.76.313.825 0 .066-.055.358-.313.825-.24.435-.613.938-1.12 1.414C15.557 15.184 14.044 16 12 16c-2.045 0-3.558-.816-4.566-1.76a5.9 5.9 0 0 1-1.121-1.415C6.055 12.358 6 12.065 6 12Zm-1 0c0-1.25 2.333-5 7-5s7 3.75 7 5-2.333 5-7 5-7-3.75-7-5Zm8 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"}))}function l(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 9c.276 0 .533.223.641.477.044.102.1.218.172.348.24.435.613.938 1.121 1.414C8.442 12.184 9.954 13 12 13c2.045 0 3.558-.816 4.566-1.76.508-.477.88-.98 1.121-1.415.072-.13.128-.246.171-.348.11-.254.366-.477.642-.477s.495.225.417.49c-.202.682-.77 1.65-1.705 2.514l1.142 1.142a.5.5 0 0 1-.708.708l-1.217-1.218a7.422 7.422 0 0 1-1.89.958l.446 1.785a.5.5 0 0 1-.97.242l-.443-1.77A8.15 8.15 0 0 1 12 14a8.15 8.15 0 0 1-1.572-.15l-.443 1.771a.5.5 0 0 1-.97-.242l.446-1.785a7.421 7.421 0 0 1-1.89-.958l-1.217 1.218a.5.5 0 0 1-.708-.708l1.142-1.142c-.935-.864-1.503-1.832-1.705-2.514-.078-.265.14-.49.417-.49Z",clipRule:"evenodd"}))}var d=n(29019),c=n.n(d),u=n(39863),p=n(26055),h=n(28229),m=n(64759),g=n(24897),f=n(56676);let _="comparison_container--imagesContainerWrapper--YmGHm",y="comparison_container--optionsSelectorOption--qMZHZ",E="comparison_container--selected--PauKH";var b=n(10105),v=n(52990),S=((i=S||{}).SIDE_BY_SIDE="side-by-side",i.OVERLAY="overlay",i);function I(e){let{title:r,containerStyle:n,isDarkBackground:i,children:o}=e;return a.createElement("div",{className:n},r&&a.createElement("div",{className:i?"comparison_container--darkBackgroundHeader--MioyC comparison_container--_comparableHeader--Dv0bF":"comparison_container--lightBackgroundHeader--cU4sH comparison_container--_comparableHeader--Dv0bF"},a.createElement("p",null,r)),o)}function T(e){let{children:r,resetStateOnChangeValue:n,zoomPercentageOptions:i,zoomOnMousePointer:o}=e;return a.createElement("div",{className:"comparison_container--sideBySideContainer--7MUFx"},a.createElement("div",{className:c()(e.compareThumbnailSource===h.FO.LEGO||e.compareThumbnailSource===h.FO.COMPARE_CHANGES?"comparison_container--previewImagesLego--s-Xt3":"comparison_container--previewImages--x5Lj5","comparison_container--previewImagesFullHeight--FTmoM")},a.createElement(f.Yz,{zoomPercentageOptions:i,resetStateOnChangeValue:n,className:_,zoomOnMousePointer:o},r)))}function w(e){let{children:r,resetStateOnChangeValue:n,zoomPercentageOptions:i,zoomOnMousePointer:o}=e;return a.createElement("div",{className:"comparison_container--overlayContainer--ubNJs"},a.createElement(f.Yz,{className:c()("comparison_container--overlayInner--S2dXd",_),zoomPercentageOptions:i,resetStateOnChangeValue:n,zoomOnMousePointer:o},r))}function C(e){let{isPreviewAvailable:r,showOptions:n,view:i,onSideBySideClick:o,onOverlayClick:s,additionalStyles:l}=e;return r?a.createElement(a.Fragment,null,n&&a.createElement("div",{className:"comparison_container--optionsSelector--irMl4"},a.createElement("button",{"aria-label":(0,u.t)("collaboration.branching.side_by_side"),className:c()(y,"side-by-side"===i&&E,"comparison_container--leftOption--n-kTR",!!l&&l),onClick:o},a.createElement(u.Tx,{id:"collaboration.branching.side_by_side"})),a.createElement("button",{"aria-label":(0,u.t)("collaboration.branching.overlay"),className:c()(y,"overlay"===i&&E,"comparison_container--rightOption--tJz4u",!!l&&l),onClick:s},a.createElement(u.Tx,{id:"collaboration.branching.overlay"}))),a.createElement(f._5,{className:"comparison_container--optionsZoom--bIAxA",keyboardShortcutsEnabled:!0})):null}function A(e){let r=(0,p.GS)(),{opacity:n,isAfterImageShown:i,onToggleClick:d,onOpacityChange:c}=e;return a.createElement("div",{className:"comparison_container--overlayOptionsContainer--JOrMq"},r?a.createElement("div",{className:"comparison_container--toggleOverlayImageShownButtonWrapper--dneqH"},a.createElement(o.K,{"aria-label":i?(0,u.t)("collaboration.branching.overlay_hide_after_image"):(0,u.t)("collaboration.branching.overlay_show_after_image"),onClick:d},i?a.createElement(s,null):a.createElement(l,null))):a.createElement("div",{className:"comparison_container--toggleOverlayImageShownButton--uqpnQ",onClick:d},a.createElement(g.B,{svg:i?v.A:b.A})),a.createElement(m.x,{width:150,color:{h:0,s:0,v:0,a:n},containerClass:"comparison_container--opacitySlider--h4DxV",changeCallback:c}))}},56676:(e,r,n)=>{"use strict";n.d(r,{ec:()=>M,Yz:()=>L,_5:()=>k});var i=n(11855),a=n(9388),o=n(67129),s=n(27457);function l(e){return i.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},i.createElement("path",{stroke:"var(--color-icon)",d:"M6 12h12"}))}var d=n(29019),c=n.n(d),u=n(60945),p=n(20063),h=n(38580),m=n(74626),g=n(98750),f=n(55887),_=n(72174),y=n(72206),E=n(92766),b=n(24897),v=n(39863),S=n(26055),I=n(90297),T=n(31770),w=n(89973),C=n(19785),A=n(1191);let N=e=>(0,_.sR)(i.useContext(O),`Cannot use ${e} component outside of a ZoomPanContext!`),O=i.createContext(null),R=(0,h.eU)(void 0);function P(e,r){let n=Number.MAX_VALUE;for(let i of e){let{containerDimensions:e,paddingPixels:a,imageWidth:o,imageHeight:s}=i,l=r?r.width:o,d=r?r.height:s;if(l<=0||d<=0)continue;let c=e.width-2*a,u=e.height-2*a;c<=0||u<=0||(n=Math.min(n,100*Math.min(c/l,u/d)))}return n}function L(e){let{zoomOnMousePointer:r}=e,n=i.useMemo(()=>e.zoomPercentageOptions.sort((e,r)=>e-r),[e.zoomPercentageOptions]),a=e.initialZoomPercentage??100,o={x:e.initialX??0,y:e.initialY??0},[s,l]=i.useState(!0),[d,c]=i.useState(!0),[u,h]=i.useState({zoomPercentage:a,position:o}),{zoomPercentage:g,position:_}=u,y=i.useCallback(e=>{h(r=>({...r,zoomPercentage:e}))},[]),E=i.useCallback(e=>{h(r=>({...r,position:e}))},[]),b=(0,m.md)(R),[v,S]=i.useState(!1),[I,T]=i.useState(null),[C,A]=i.useState(new Set),[N,L]=i.useState(!1);i.useEffect(()=>{if(N&&(!s||0===C.size||b)){c(!1);return}let e=P(C);e<Number.MAX_VALUE&&(y(Math.min(e,100)),L(!0),c(!1))},[s,C,N,b,y]),i.useEffect(()=>{if(!b)return;let e=P(C,b);E({x:-(b.x+b.width/2),y:-(b.y+b.height/2)}),l(!1),y(Math.min(e,100))},[b,C,y,E]),i.useLayoutEffect(()=>{c(!0),b||(l(!0),y(a),E(o))},[e.resetStateOnChangeValue,y]);let D=i.useCallback(e=>{let n,i,a,o;for(let{containerDimensions:s,imageWidth:l,imageHeight:d}of(n=i=Number.MIN_SAFE_INTEGER,a=o=Number.MAX_SAFE_INTEGER,C)){if(l<=0&&d<=0)continue;let c=(s.width+l*e/100-10)/2,u=(s.height+d*e/100-10)/2;r?(n=Math.max(Number.MIN_SAFE_INTEGER,n!==Number.MIN_SAFE_INTEGER?Math.min(n,-c):-c),i=Math.max(Number.MIN_SAFE_INTEGER,i!==Number.MIN_SAFE_INTEGER?Math.min(i,-u):-u),a=Math.min(Number.MAX_SAFE_INTEGER,a!==Number.MAX_SAFE_INTEGER?Math.max(a,c):c),o=Math.min(Number.MAX_SAFE_INTEGER,o!==Number.MAX_SAFE_INTEGER?Math.max(o,u):u)):(n=Math.max(n,-c),i=Math.max(i,-u),a=Math.min(a,c),o=Math.min(o,u))}return{xmin:n,ymin:i,xmax:a,ymax:o}},[C,r]);i.useEffect(()=>{let{xmin:e,ymin:r,xmax:n,ymax:i}=D(g);h(a=>({...a,position:{x:(0,f.qE)(a.position.x,e,n),y:(0,f.qE)(a.position.y,r,i)}}))},[g,D]);let[M,k]=i.useState(!1),x=e=>{k(e.ctrlKey)};(0,p.h)(()=>(document.addEventListener("keydown",x),document.addEventListener("keyup",x),()=>{document.removeEventListener("keyup",x),document.removeEventListener("keydown",x)}));let F=e=>{e.preventDefault(),S(!1),T(null)},U=i.useCallback(e=>{if(e.stopPropagation(),e.preventDefault(),e.ctrlKey||e.metaKey){let i=e=>(0,f.qE)(e,n[0]||10,n[n.length-1]||400);return l(!1),h(({position:n,zoomPercentage:a})=>{let o=i(a/100*(0,w.Z)(e,M)*100);if(r){let r=Array.from(C).find(r=>r.containerPosition.x<e.clientX&&r.containerPosition.y<e.clientY&&r.containerPosition.x+r.containerDimensions.width>e.clientX&&r.containerPosition.y+r.containerDimensions.height>e.clientY);if(r){let i=e.clientX-r.containerPosition.x-r.containerDimensions.width/2,s=e.clientY-r.containerPosition.y-r.containerDimensions.height/2,l=(i-n.x)*(1-o/a),d=(s-n.y)*(1-o/a),{xmin:c,ymin:u,xmax:p,ymax:h}=D(o);return{zoomPercentage:o,position:{x:(0,f.qE)(n.x+l,c,p),y:(0,f.qE)(n.y+d,u,h)}}}}return{zoomPercentage:o,position:n}}),!1}h(({position:r,zoomPercentage:n})=>{let{xmin:i,ymin:a,xmax:o,ymax:s}=D(n);return{zoomPercentage:n,position:{x:(0,f.qE)(r.x-e.deltaX,i,o),y:(0,f.qE)(r.y-e.deltaY,a,s)}}})},[C,n,D,M,r]);i.useEffect(()=>(document.addEventListener("mouseup",F),()=>{document.removeEventListener("mouseup",F)}));let B=i.useRef(null);return i.useEffect(()=>{let e=B.current;if(e)return e.addEventListener("wheel",U,{capture:!0,passive:!1}),()=>e.removeEventListener("wheel",U,{capture:!0})},[U]),i.createElement("div",{ref:B,onMouseUp:F,className:e.className},i.createElement(O.Provider,{value:{zoomPercentageOptions:n,zoomPercentage:g,position:_,containers:C,isFitZoom:s,isLoading:d,setZoomPercentage:y,setPosition:E,setContainers:A,setIsFitZoom:l,setIsLoading:c,initialZoomPercentage:a,handleMouseDown:e=>{e.preventDefault(),S(!0),T({x:e.clientX-_.x,y:e.clientY-_.y})},handleMouseUp:F,handleMouseMove:e=>{if(v&&null!==I){e.stopPropagation();let{xmin:r,ymin:n,xmax:i,ymax:a}=D(g);E({x:(0,f.qE)(e.clientX-I.x,r,i),y:(0,f.qE)(e.clientY-I.y,n,a)})}}}},e.children))}function D({canvasRef:e,containerRef:r,containerStyle:n,containerClassName:a,canvasClassName:o,handleMouseMove:s,handleMouseDown:l,isDrawn:d,children:u}){return i.createElement("div",{className:c()(a,"zoom_pan--zoomPanCanvasContainer--jmggV"),style:n,ref:r,onMouseDown:l,onMouseMove:s},!d&&i.createElement(E.kt,{className:"zoom_pan--loading--4jFeo"}),i.createElement("canvas",{ref:e,className:c()(o,"zoom_pan--zoomPanCanvasCanvas--Oue5T")}),u&&i.createElement("div",{style:{zIndex:1,width:"100%",height:"100%",overflow:"clip"}},u))}function M(e){let{Overlay:r}=e,{data:n,width:o,height:s,scale:l}=e.image,d=i.useRef(null),c=(0,u.w)(d)??u.c,p=i.useRef(null),h=24*l,{zoomPercentage:m,position:g,setContainers:f,handleMouseDown:_,handleMouseMove:E,isLoading:b}=N("ZoomPanCanvasContainer"),[v,S]=i.useState(!1);i.useEffect(()=>{var r;let n=(null==(r=d.current)?void 0:r.getBoundingClientRect())??{x:0,y:0},i={containerPosition:{x:n.x,y:n.y},containerDimensions:c,imageNode:a.findDOMNode(p.current),imageHeight:s/l,imageWidth:o/l,paddingPixels:e.paddingPixels??10};return f(e=>new Set([...e,i])),()=>{f(e=>(e.delete(i),e))}},[f,s,o,l,c,e.paddingPixels]);let w=i.useMemo(()=>n instanceof HTMLImageElement?(0,T.oI)(n):(0,T.Q1)(n,new y.Mi(o,s)),[n,o,s]),C=Math.floor(o*m/100),A=Math.floor(s*m/100),O=i.useMemo(()=>{let e=Math.floor(o*m/100),r=Math.floor(s*m/100),n=document.createElement("canvas");n.width=e+2*h,n.height=r+2*h;let i=n.getContext("2d");return m<=25?i.imageSmoothingQuality="medium":m<=50&&(i.imageSmoothingQuality="low"),i.clearRect(0,0,n.width,n.height),i.drawImage(w,h,h,C,A),n},[w,m,h,o,s,C,A]),R=i.useCallback((e,r)=>[e/2-o/2*m/100,r/2-s/2*m/100],[o,s,m]),[P,L]=i.useState(void 0);return i.useEffect(()=>{if(!d.current||0===O.width||0===O.height||!c||b)return;let e=c.width,n=c.height,i=a.findDOMNode(p.current),u=i.getContext("2d"),m=window.devicePixelRatio||1,f=m*l,_=e*f,y=n*f;i.width!==_||i.height!==y?(i.width=_,i.height=y,i.style.width=e+"px",i.style.height=n+"px",u.scale(m,m)):u.clearRect(0,0,_,y);let[E,T]=R(e*l,n*l),w=Math.floor(E+g.x*l)-h,N=Math.floor(T+g.y*l)-h;if(u.drawImage(O,w,N),r){let e=C/o,r=A/s,n=I.s.identity();n.translate((w+h)/l,(N+h)/l),n.scale(e,r),L(n)}v||S(!0)},[g.x,g.y,O,R,d,h,l,b,c,v,m,C,A,o,s,r]),i.createElement(D,{canvasRef:p,containerRef:d,containerStyle:e.style,containerClassName:e.className,canvasClassName:e.canvasClassName,handleMouseDown:_,handleMouseMove:E,isDrawn:v},r&&P&&i.createElement(r,{transform:P}))}function k(e){let r=(0,S.GS)(),{zoomPercentage:n,setZoomPercentage:a,isFitZoom:d,setIsFitZoom:c,setPosition:u,zoomPercentageOptions:p}=N("ZoomSelectorToolbar"),h=(0,m.fp)(R)[1];i.useEffect(()=>{if(!e.keyboardShortcutsEnabled)return;let r=e=>{if(!e.metaKey&&!e.ctrlKey)return;let r=!0;switch(e.keyCode){case g.Uz.DASH:I();break;case g.Uz.EQUALS:E();break;default:r=!1}r&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)});let f=e=>{let r=0,i=p.length-1;for(;r<=i;){let e=Math.floor((r+i)/2);if(p[e]===n)return e;p[e]>n?i=e-1:r=e+1}return e?i:r},_=n>=p[p.length-1],y=n<=p[0],E=()=>{_||(c(!1),a(p[f(!0)+1]))},I=()=>{y||(c(!1),a(p[f(!1)-1]))},T=(e,r,n,a,d)=>d?i.createElement("div",{className:"zoom_pan--zoomSelectorButtonContainer--jVp1Q"},i.createElement(o.K,{"aria-label":"ZOOM_IN"===r?(0,v.t)("collaboration.branching.zoom_in"):(0,v.t)("collaboration.branching.zoom_out"),disabled:a,onClick:n},"ZOOM_IN"===r?i.createElement(s.e,null):i.createElement(l,null))):i.createElement("button",{"aria-label":"ZOOM_IN"===r?(0,v.t)("collaboration.branching.zoom_in"):(0,v.t)("collaboration.branching.zoom_out"),className:a?"zoom_pan--zoomSelectorButtonDisabled--MWZWz":"zoom_pan--zoomSelectorButtonEnabled--ILrv-",onClick:n},i.createElement(b.B,{svg:e,useOriginalSrcFills_DEPRECATED:!0}));return i.createElement("div",{className:e.className},i.createElement("div",{className:"zoom_pan--zoomSelectorContainer--GvvA8"},T(C.A,"ZOOM_OUT",I,y,r),i.createElement("button",{onClick:()=>{h(void 0),d?a(100):u({x:0,y:0}),c(!d)},className:"zoom_pan--zoomSelectorValue--sKFmC"},d?(0,v.t)("collaboration.branching.fit"):`${Math.round(n)}%`),T(A.A,"ZOOM_IN",E,_,r)))}},48169:(e,r,n)=>{"use strict";n.d(r,{Y:()=>l});var i=n(11855),a=n(97666),o=n(53234);let s={left:!1,upper:!1,upperQuarter:!1,lowerQuarter:!1,middleVerticalHalf:!1};class l extends o.o6{constructor(e){super(e),this.firstDragEnter=!1,this.secondDragEnter=!1,this.dragQuadrant={...s},this.targetContainerBounds=null,this.invalidateTargetContainerBounds=()=>{this.targetContainerBounds=null},this.scrollListener=(0,a.s)(this.invalidateTargetContainerBounds),this.onDragEndOrDrop=()=>{this.firstDragEnter=!1,this.secondDragEnter=!1,this.dragQuadrant={...s},this.targetContainerBounds=null},this.getDragQuadrant=e=>{let r=this.targetContainerBounds;if(!this.targetContainerBounds&&this.targetContainer.current&&(r=this.targetContainerBounds=this.targetContainer.current.getBoundingClientRect()),!r)return null;let n=e.clientX<r.left+r.width/2,i=e.clientY<r.top+r.height/2,a=e.clientY<r.top+r.height/4,o=e.clientY>r.top+.75*r.height;return{left:n,upper:i,upperQuarter:a,lowerQuarter:o,middleVerticalHalf:!a&&!o}},this.updateDragQuadrant=e=>{if(!this.props.onTargetDragQuadrantUpdate)return;let r=this.getDragQuadrant(e);r&&(!this.dragQuadrant||r.left!==this.dragQuadrant.left||r.upper!==this.dragQuadrant.upper||r.upperQuarter!==this.dragQuadrant.upperQuarter||r.lowerQuarter!==this.dragQuadrant.lowerQuarter||r.middleVerticalHalf!==this.dragQuadrant.middleVerticalHalf)&&(this.props.onTargetDragQuadrantUpdate(r),this.dragQuadrant=r)},this.acceptDrag=e=>(this.updateDragQuadrant(e),!!(e.dataTransfer&&this.props.isDragTarget(e.dataTransfer,this.dragQuadrant))&&(e.preventDefault(),e.stopPropagation(),!0)),this.onDragEnter=e=>{var r,n;this.firstDragEnter?this.secondDragEnter=!0:(this.firstDragEnter=!0,this.acceptDrag(e)&&(null==(n=(r=this.props).onTargetDragEnter)||n.call(r,e.dataTransfer,this.dragQuadrant)))},this.onDragLeave=e=>{var r,n;this.secondDragEnter?this.secondDragEnter=!1:this.firstDragEnter&&(this.firstDragEnter=!1),!this.firstDragEnter&&!this.secondDragEnter&&this.acceptDrag(e)&&(null==(n=(r=this.props).onTargetDragLeave)||n.call(r,e.dataTransfer))},this.onDrop=o.aQ(this,"drop",e=>{var r,n;this.acceptDrag(e)&&(null==(n=(r=this.props).onTargetDrop)||n.call(r,e.dataTransfer,this.dragQuadrant),this.onDragEndOrDrop())}),this.targetContainer=this.props.forwardedRef??i.createRef()}componentDidMount(){super.componentDidMount(),document.addEventListener("dragend",this.onDragEndOrDrop),document.addEventListener("drop",this.onDragEndOrDrop),window.addEventListener("scroll",this.scrollListener,!0)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("dragend",this.onDragEndOrDrop),document.removeEventListener("drop",this.onDragEndOrDrop),window.removeEventListener("scroll",this.scrollListener,!0)}render(){let e={...this.props};return delete e.recordingKey,delete e.forwardedRef,delete e.isDragTarget,delete e.onTargetDragEnter,delete e.onTargetDragQuadrantUpdate,delete e.onTargetDragLeave,delete e.onTargetDrop,delete e.onDragEnter,delete e.onDragOver,delete e.onDragLeave,delete e.onDrop,i.createElement("div",{ref:this.targetContainer,onDragEnter:this.onDragEnter,onDragOver:this.acceptDrag,onDragLeave:this.onDragLeave,onDrop:this.onDrop,...e},this.props.children)}}l.displayName="DragTarget"},78931:(e,r,n)=>{"use strict";n.d(r,{W:()=>i});var i,a=n(11855),o=n(29019),s=n.n(o),l=n(86994),d=n(98750),c=n(55942),u=n(60601),p=n(53234),h=n(30637),m=n(24897),g=n(87626),f=n(38269),_=n(59927),y=n(72517),E=n(98099);let b="dropdown--check--AFEmZ";var v=n(47245),S=n(83423);(e=>{function r(e){let[r,n]=a.useState(e.focusContainerOnMount?-1:0),i=a.useMemo(()=>a.Children.toArray(e.children||e.options).filter(e=>"boolean"!=typeof e),[e.children,e.options]),o=(0,a.useRef)(Array(i.length)),s=a.useRef(document.activeElement);(0,a.useEffect)(()=>{let e=o.current[r];e&&(e.tabIndex=0,e.focus())},[r,o]);let l=a.useCallback((e,r)=>{let i=o.current[e];i&&(i.tabIndex=-1,i.focus()),n(r)},[]),d=a.useCallback(()=>{let e=r-1;for(let r of o.current)if(null==o.current[e])e=e-1<0?o.current.length-1:e-1;else break;l(r,e)},[r,l]),c=a.useCallback(()=>{let e=r+1;for(let r of o.current)if(null==o.current[e])e=e+1>=o.current.length?0:e+1;else break;l(r,e)},[r,l]);return{childrenComponents:i,getSetChildRef:e=>{var r;return"boolean"!=typeof(r=i[e])&&(r.type===I||r.type===w)&&r.props.disabled?u.lQ:r=>o.current[e]=r},onKeyDown:n=>{var i,a,u;switch(n.stopPropagation(),n.nativeEvent&&n.nativeEvent.stopImmediatePropagation(),n.key){case"Escape":e.autofocusPrevElementOnEsc&&(null==(i=s.current)||i.focus()),e.hideDropdown();break;case"Tab":e.autofocusPrevElementOnTab&&(null==(a=s.current)||a.focus()),e.hideDropdown();break;case" ":case"Enter":{let n=o.current[r];n&&n.click(),e.autofocusPrevElementOnSelect&&(null==(u=s.current)||u.focus());break}case"Left":case"ArrowLeft":"horizontal"===e.orientation&&d();break;case"Up":case"ArrowUp":"horizontal"!==e.orientation&&d();break;case"Right":case"ArrowRight":"horizontal"===e.orientation&&c();break;case"ArrowDown":case"Down":"horizontal"!==e.orientation&&c();break;case"Home":case"PageUp":l(r,0);break;case"End":case"PageDown":l(r,o.current.length-1)}},onFocus:e=>{if(e&&e.target){let n=o.current.indexOf(e.target);n>=0&&l(r,n)}}}}function n(e){let{childrenComponents:n,getSetChildRef:i,onKeyDown:s,onFocus:l}=r(e);return a.createElement(o,{id:e.id,onClick:e.onClick,style:e.style,stopScrollPropagation:e.stopScrollPropagation,shouldRenderAutocompleteStyles:e.shouldRenderAutocompleteStyles,onKeyDown:s,tabIndex:-1},a.Children.map(n,(e,r)=>a.cloneElement(e,{buttonRef:i(r),onFocus:l})))}function i(e,r){let[n,i]=a.useState(null);return a.useEffect(()=>{let n=e.current;if(n){let e=n.getBoundingClientRect(),a=r.left,o=r.top;a<8?a=8:a+e.width>window.innerWidth-8&&(a=window.innerWidth-8-e.width),o<8?o=8:o+e.height>window.innerHeight-8&&(o=window.innerHeight-8-e.height),i([a,o])}},[e,r.left,r.top]),a.useMemo(()=>n?{...r,left:n[0],top:n[1]}:{...r,visibility:"hidden"},[n,r])}e.DropdownSelector=function(e){let[r,i]=a.useState(!1);return a.createElement("div",{className:s()("dropdown--selector---rQom",e.className,r&&"dropdown--selectedContainer--FfpmL",e.shouldRenderAutocompleteStyles&&"dropdown--autocompleteStyles--SEsMH"),...e.notDraggable?{"data-not-draggable":!0}:{}},"label"in e&&a.createElement("div",{className:s()("dropdown--selectorContainer--oYPKx",e.noBorder&&"dropdown--noBorder--b29D8",e.noRightPadding&&"dropdown--noRightPadding--Sj7-3"),onClick:()=>i(!r),role:"menu",tabIndex:0},a.createElement("div",{className:"dropdown--selectorLabel--c6uMM"},!!e.iconLabel&&a.createElement("div",{className:"dropdown--selectorIconLabel--Db3I9"},e.iconLabel),a.createElement("p",null,e.label)),a.createElement(m.B,{className:"dropdown--selectorChevron--33EO7",svg:S.A})),"dropdownButton"in e&&a.createElement(e.dropdownButton,{onClick:()=>i(!r)}),r&&a.createElement(a.Fragment,null,a.createElement("div",{className:s()("dropdown--selectorChildren--lHCNB",e.dropdownOptionsClassName,e.rightAlignOptions&&"dropdown--rightAlign--WbkBv",e.optionsBelowSelector&&"dropdown--optionsBelowSelector--HLU-d"),onClick:e.stayOpenOnSelect?void 0:()=>i(!r),role:"menu",tabIndex:0},a.createElement(y.fu,{name:e.menuTrackingContextName||"",enabled:!!e.menuTrackingContextName,properties:e.menuTrackingProperties},a.createElement(n,{options:e.options,hideDropdown:()=>i(!1),shouldRenderAutocompleteStyles:e.shouldRenderAutocompleteStyles}))),a.createElement(P,{closeDropdown:()=>i(!1)})))},e.useDropdownAutofocus=r,e.DropdownWithAutofocus=n,e.useDropdownKeepOnScreen=i,e.DropdownWithKeepOnScreenAndScrim=a.forwardRef(function({style:e,...r},n){let o=a.useRef(null),s=i(o,e);return a.createElement(N,{dropdownRef:(0,c.A)(o,n),style:s,...r})});class o extends p.o6{constructor(){super(...arguments),this.preventDefault=e=>{e.preventDefault()},this.stopPropagation=e=>{e.stopPropagation()},this.stopPropagationForPointerDown=e=>{(0,E.ft)()&&this.stopPropagation(e)},this.onClick=p.cZ(this,"click",e=>{if(!this.props.onClick)return p.aH;this.props.onClick(e)})}render(){return a.createElement("div",{tabIndex:this.props.tabIndex??0,role:"menu",id:this.props.id,className:s()("dropdown--dropdown--gWtNr _overlayBase--_overlayBase--Rkj8l",this.props.className,{"dropdown--positionAbsolute--eaecv":this.props.positionAbsolute,"dropdown--positionFixed--NBWuZ":this.props.positionFixed,"dropdown--autocompleteOptionsStyles--j-JOT":this.props.shouldRenderAutocompleteStyles,[_.s4]:this.props.preventZoom}),onClick:this.onClick,onMouseDown:this.stopPropagation,onScroll:this.props.stopScrollPropagation?this.stopPropagation:this.props.onScroll,onWheel:this.props.preventZoom?void 0:this.stopPropagation,onTouchStart:this.stopPropagation,onPointerDown:this.stopPropagationForPointerDown,onContextMenu:this.preventDefault,onKeyDown:this.props.onKeyDown,style:this.props.style,"data-cancel-insertable-resource-drag-and-drop":!0,ref:this.props.dropdownRef,"aria-labelledby":this.props["aria-labelledby"],"data-onboarding-key":this.props.dataOnboardingKey,"data-testid":this.props["data-testid"],onFocus:this.props.onFocus},this.props.children)}}o.displayName="Dropdown",e.Dropdown=o;class I extends p.o6{constructor(){super(...arguments),this.mouseOverTimestamp=0,this.state={hover:!1},this.onDragStart=e=>{e.preventDefault()},this.onPointerOver=e=>{this.props.onPointerOver&&this.props.onPointerOver(),this.setState({hover:!0}),this.props.onHover&&this.props.onHover(!0),this.props.href||(this.mouseOverTimestamp=Number(e.timeStamp))},this.onPointerOut=e=>{this.props.onPointerOut&&this.props.onPointerOut(),this.setState({hover:!1}),this.props.onHover&&this.props.onHover(!1)},this.onPointerUp=p.cZ(this,"mouseup",e=>{if(!this.props.href){if(this.props.onPointerUp){this.props.onPointerUp(e);return}if(Number(e.timeStamp)-this.mouseOverTimestamp>20){let r=e.target;null!=r.click&&(this.mouseUpTimer=setTimeout(r.click.bind(r),1))}}}),this.onTouchEnd=e=>{let r=e.target;if(r.click&&(e.preventDefault(),r&&e.changedTouches)){let n=e.changedTouches[0];document.elementFromPoint(n.clientX,n.clientY)===r&&r.click()}},this.onClick=p.cZ(this,"click",e=>{var r,n;this.props.href&&(0,d.oJ)(e)||(this.props.href?(0,l.e)(this.props.href,e):clearTimeout(this.mouseUpTimer),null==(n=(r=this.props).onClick)||n.call(r,e))})}render(){let e=s()(this.props.disabled?"dropdown--optionDisabled--gymi1 dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":{"dropdown--optionHover--cIoXg dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":this.state.hover||this.props.simulateHover,"dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":!0},this.props.className);return a.createElement("a",{tabIndex:-1,role:"role"in this.props?this.props.role??"menuitem":"menuitem",id:this.props.id,ref:this.props.buttonRef,onFocus:this.props.onFocus,"data-search-click-action":this.props["data-search-click-action"],className:e,href:this.props.href,target:this.props.target,rel:"noopener",onClick:this.props.disabled?void 0:this.onClick,onPointerUp:this.props.disabled?void 0:this.onPointerUp,onPointerOver:this.props.disabled?void 0:this.onPointerOver,onPointerOut:this.props.disabled?void 0:this.onPointerOut,onMouseDown:this.props.onMouseDown,onDragStart:this.onDragStart,onTouchEnd:this.onTouchEnd,"data-dropdown-tooltip":this.props.tooltip,"data-onboarding-key":this.props.onboardingKey,"data-testid":this.props.recordingKey,"data-fullscreen-intercept":this.props["data-fullscreen-intercept"],"aria-disabled":this.props.disabled,"aria-checked":"aria-checked"in this.props?this.props["aria-checked"]:void 0},this.props.children)}}I.displayName="Option",e.Option=I,e.OptionTracked=(0,y.tf)(I);class T extends a.PureComponent{constructor(){super(...arguments),this.onClick=e=>{e.stopPropagation()}}render(){let e="dropdown--separator--DjJDx";return this.props.className&&(e+=` ${this.props.className}`),a.createElement("div",{className:e,onClick:this.onClick,style:this.props.style,role:"presentation","data-testid":this.props.dataTestId??"dropdown-separator"},a.createElement("div",{className:"dropdown--separatorLine--Ezaxg"}))}}T.displayName="Separator",e.Separator=T,(e=>{e.Checkmark="Checkmark",e.Checkbox="Checkbox"})(e.CheckableDisplayType||(e.CheckableDisplayType={}));class w extends p.o6{render(){return a.createElement(I,{...this.props,className:s()("dropdown--checkableOption--fXf1m","Checkbox"===this.props.displayType&&this.props.nested&&"dropdown--nested--oDkYT",this.props.className),"aria-checked":this.props.checked,role:"role"in this.props?this.props.role:void 0},"Checkbox"===this.props.displayType?a.createElement("span",{className:b,"data-preferred-theme":"dark"},a.createElement(g.S,{disabled:this.props.disabled,checked:this.props.checked,mixed:this.props.mixed})):this.props.checked?a.createElement(m.B,{className:b,svg:v.A,dataTestId:"dropdown-check-icon"}):a.createElement("span",{className:b}),this.props.children)}}w.displayName="CheckableOption",w.defaultProps={displayType:"Checkmark"},e.CheckableOption=w;class C extends p.o6{render(){return a.createElement(w,{...this.props},a.createElement("div",null,this.props.primaryText),!!this.props.secondaryText&&a.createElement("div",{className:"dropdown--twoColumnRight--jvL0g"},this.props.secondaryText))}}e.CheckableTwoColumnOption=C,e.CheckableOptionTrackable=(0,y.tf)(w),e.CheckableTwoColumnOptionTrackable=(0,y.tf)(C);class A extends p.o6{render(){return a.createElement(I,{...this.props},a.createElement("div",{className:"dropdown--twoRowContainer--aMjaq"},a.createElement("div",{className:"dropdown--twoRowTop--UhaAQ"},this.props.primaryText),a.createElement("div",{className:"dropdown--twoRowBottom--bAbjE"},this.props.secondaryText)))}}e.TwoRowOption=A;class N extends p.o6{render(){return a.createElement(a.Fragment,null,a.createElement(o,{...this.props}),R(this.props)?a.createElement(P,{closeDropdown:this.props.closeDropdown,recordingKey:"dropdownModalScrim"}):a.createElement(P,{dispatch:this.props.dispatch,recordingKey:"dropdownModalScrim"}))}}N.displayName="DropdownWithScrim",e.DropdownWithScrim=N;let O=e=>{e.preventDefault()},R=e=>!!e.closeDropdown;class P extends p.o6{constructor(){super(...arguments),this.mouseMotionSinceMouseDown=0,this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY=5,this.closeDropdown=()=>{R(this.props)?this.props.closeDropdown():this.props.dispatch(f.oB())},this.onMouseDown=p.cZ(this,"mousedown",e=>{this.mouseMotionSinceMouseDown=0,this.closeDropdown(),e.stopPropagation()}),this.onMouseMove=p.cZ(this,"mousemove",e=>{if((0,h.PN)()){if(!(this.mouseMotionSinceMouseDown<this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY))return p.aH;this.mouseMotionSinceMouseDown+=this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY}else this.mouseMotionSinceMouseDown+=Math.abs(e.nativeEvent.movementX),this.mouseMotionSinceMouseDown+=Math.abs(e.nativeEvent.movementY)}),this.onMouseUp=p.cZ(this,"mouseup",e=>{this.mouseMotionSinceMouseDown>=this.MENU_CLOSE_MOUSE_MOVE_SENSITIVITY&&(this.closeDropdown(),e.stopPropagation())})}render(){return a.createElement("div",{className:"dropdown--dropdownModalScrim--4dwM1",onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:O,"data-does-not-dismiss-modal":!0})}}e.DropdownModalScrim=P})(i||(i={}))},46689:(e,r,n)=>{"use strict";n.d(r,{$$:()=>C,C3:()=>G,CY:()=>es,JU:()=>ei,Kz:()=>ec,Lf:()=>er,M7:()=>U,NY:()=>Z,N_:()=>ea,Ph:()=>eo,Us:()=>el,VE:()=>ed,cw:()=>F,e2:()=>T,jG:()=>eu,ks:()=>Q,nD:()=>O,nR:()=>R,ny:()=>I,p6:()=>L,pY:()=>$,qM:()=>k,rb:()=>j,s6:()=>D,tB:()=>en,tM:()=>P,u4:()=>w,vd:()=>A,vv:()=>N,vx:()=>K,wG:()=>J});var i=n(11855),a=n(2008),o=n(29019),s=n.n(o),l=n(86994),d=n(98750),c=n(62557),u=n(53234),p=n(59838),h=n(24897),m=n(46481),g=n(98606),f=n(72517),_=n(88022),y=n(10954),E=n(3453),b=n(47245),v=n(26815);let S=null;function I(e){S=e}function T(e){return i.createElement("div",{className:s()(E.GC,e.reversed&&E.zi,e.className)},e.children)}class w extends u.uA{constructor(){super(...arguments),this.onKeyDown=e=>{S&&S(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===d.Uz.ESCAPE&&e.target.blur())},this.onClick=u.cZ(this,"click",e=>{this.props.onClick&&this.props.onClick(e)}),this.onPointerDown=u.Am(this,"pointerdown",e=>{this.props.onPointerDown&&this.props.onPointerDown(e)})}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let r=this.props.dataTestId;return delete e.defaultClass,delete e.recordingKey,delete e.dataTestId,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),this.props.onPointerDown&&this.props.recordingKey&&(e.onPointerDown=this.onPointerDown),i.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":r},this.props.children)}}w.displayName="ButtonBase";class C extends i.Component{render(){let{fullWidth:e,...r}=this.props;return i.createElement(w,{defaultClass:s()(E.xZ,e&&E.Ij),...r})}}C.displayName="ButtonPrimary";let A=(0,f.tf)(C);class N extends i.Component{render(){let{fullWidth:e,...r}=this.props;return i.createElement(w,{defaultClass:s()(E.fY,e&&E.Ij),...r})}}N.displayName="BigButtonPrimary";let O=(0,f.tf)(N);class R extends i.Component{render(){return i.createElement(w,{defaultClass:E.HM,type:"button",...this.props})}}R.displayName="ButtonSecondary";let P=(0,f.tf)(R);class L extends i.Component{render(){let{fullWidth:e,...r}=this.props;return i.createElement(w,{defaultClass:s()(E.xJ,e&&E.Ij),type:"button",...r})}}L.displayName="BigButtonSecondary",(0,f.tf)(L);class D extends i.Component{render(){return i.createElement(w,{defaultClass:E.oC,type:"button",...this.props})}}D.displayName="ButtonSecondaryNegative",(0,f.tf)(D);class M extends i.Component{render(){return i.createElement(w,{defaultClass:E.ky,type:"button",...this.props})}}M.displayName="ButtonNegative";let k=(0,f.tf)(M);class x extends i.Component{render(){return i.createElement(w,{defaultClass:E.OK,type:"button",...this.props})}}x.displayName="BigButtonNegative";class F extends i.Component{render(){return i.createElement(w,{defaultClass:E.I2,...this.props})}}F.displayName="ButtonWhite";let U=(0,f.tf)(F);class B extends i.Component{render(){return i.createElement(w,{defaultClass:E.rd,...this.props})}}B.displayName="ButtonInverse";class V extends i.Component{render(){let{fullWidth:e,...r}=this.props;return i.createElement(w,{defaultClass:s()(E.FO,e&&E.Ij),...r})}}V.displayName="BigButtonInverse",(0,f.tf)(V);class H extends i.Component{render(){return i.createElement(w,{defaultClass:E.OY,...this.props})}}H.displayName="ButtonGreen";class G extends i.Component{render(){let{customClassName:e,...r}=this.props;return i.createElement(w,{defaultClass:E.Iw,className:e,...r})}}G.displayName="ButtonGrey",(0,f.tf)(H);class W extends i.Component{render(){return i.createElement(w,{defaultClass:this.props.solidWhenDisabled?E.dy:E.sY,...this.props})}}W.displayName="BigButtonGreen",(0,f.tf)(W);class z extends i.Component{render(){return i.createElement(w,{defaultClass:E.yT,...this.props})}}z.displayName="BigButtonBlack",(0,f.tf)(z);class K extends i.Component{render(){let e=`${E.xZ} ${this.props.className||""}`,r={...this.props,className:e,rel:"noopener"};return i.createElement("a",{...r},this.props.children)}}K.displayName="ButtonLink";let j=(0,f.tf)(K);class Y extends i.Component{render(){let{fullWidth:e,...r}=this.props,n=s()(E.fY,this.props.fullWidth&&E.Ij),a=`${n} ${this.props.className||""}`;return r={...r,className:a,rel:"noopener"},i.createElement("a",{...r},this.props.children)}}Y.displayName="ButtonLink";let $=(0,f.tf)(Y);class q extends i.Component{render(){let e=`${E.HM} ${this.props.className||""}`,r={...this.props,className:e,rel:"noopener"};return i.createElement("a",{...r},this.props.children)}}q.displayName="ButtonSecondaryLink";let Z=(0,f.tf)(q);class X extends i.Component{render(){let e=`${E.hz} ${this.props.className||""}`,r={...this.props,className:e,rel:"noopener"};return i.createElement("a",{...r},this.props.children)}}X.displayName="BigButtonSecondaryLink",(0,f.tf)(X);let J=118,Q=i.forwardRef(function({className:e,...r},n){return i.createElement(p.L,{className:s()(E._Z,e),...(0,c.d)(r),ref:n})});(0,f.h3)(Q);class ee extends i.Component{render(){let e=`${E.ki} ${this.props.className||""}`,r={...this.props,className:e};return i.createElement(p.L,{...r})}}ee.displayName="BigTextInput";let et=(0,f.h3)(p.L);class er extends i.Component{render(){return i.createElement("div",{className:this.props.className||(this.props.disabled?E.d1:E.ri)},i.createElement("label",{htmlFor:this.props.htmlName,className:s()(E.dQ,{[E.QC]:this.props.value,[E.z3]:this.props.hasError})},this.props.label),this.props.trackingFieldName&&i.createElement(et,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:this.props.type||"text",maxLength:this.props.maxLength||50,onKeyPress:this.props.onKeyPress,onChange:this.props.onChange,onBlur:this.props.onBlur,onFocus:this.props.onFocus,trackingFieldName:this.props.trackingFieldName,trackingPopulationLevel:this.props.value?_._R.POPULATED_COMPLETE:_._R.NOT_POPULATED,dataTestId:this.props.dataTestId,required:this.props.required}),!this.props.trackingFieldName&&i.createElement(p.L,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:this.props.type||"text",maxLength:this.props.maxLength||50,onKeyPress:this.props.onKeyPress,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,dataTestId:this.props.dataTestId,required:this.props.required}),this.props.tooltip&&i.createElement(h.B,{className:E.G,svg:v.A,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":this.props.tooltip,"data-tooltip-timeout-delay":300}))}}class en extends i.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{e.keyCode===d.Uz.TAB&&this.setState({showFocus:!0})},this.documentMouseDown=e=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${E.kv} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${E.hP}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let{svgOverride:e,classOverride:r,checked:n,...o}=this.props;return i.createElement("div",{className:E.HI},i.createElement("input",{...o,type:"checkbox",onFocus:this.onFocus,className:r||this.classNameForInput(),checked:n}),n?i.createElement("div",{className:E.Eg},i.createElement(m.U,{svg:e??b.A},i.createElement(a.l,null))):null)}}function ei(e){let r=`${E.Pf} ${e.className||""}`;return i.createElement("label",{...e,className:r})}en.displayName="Checkbox";let ea=y.N,eo=(0,f.tf)(ea);class es extends i.Component{render(){let{trusted:e,className:r,...n}=this.props,a=`${E.MH} ${r||""}`,o={...n,className:a,rel:e?"noopener":"noopener nofollow noreferrer ugc",onClick:e=>{this.props.onClick&&this.props.onClick(e),this.props.href&&(0,l.e)(this.props.href,e)}};return i.createElement("a",{...o},this.props.children)}}es.displayName="Link";let el=(0,f.tf)(es);class ed extends i.Component{render(){let e=`${E.X7} ${this.props.className||""}`,r={...this.props,className:e};return i.createElement("select",{...r})}}function ec(e){return"x"===e.direction?i.createElement("div",{style:{width:8*e.multiple},"aria-hidden":"true"}):i.createElement("div",{style:{height:8*e.multiple},"aria-hidden":"true"})}function eu(e){return i.createElement(w,{defaultClass:s()(E._d,e.className),...e})}ed.displayName="BigSelect",ec.displayName="Spacing",(0,f.tf)(h.B),(0,f.tf)(e=>i.createElement("a",{...e},e.children)),(0,f.tf)(eu)},73058:(e,r,n)=>{"use strict";n.d(r,{z:()=>l,Z:()=>d});var i=n(11855),a=n(98750),o=n(53234),s=n(98606);class l extends o.uA{render(){return i.createElement("div",{className:`${this.props.isHorizontal?"radio--horizontalRadioGroup--YtVoa":"radio--radioGroup--AnkmY"} ${this.props.className||""}`,role:"radiogroup","data-testid":this.props.dataTestId},i.Children.map(this.props.children,e=>(null==e?void 0:e.type)===d?i.cloneElement(e,{_isChecked:this.props.value===e.props.value,_onChange:this.props.onChange}):e))}}l.displayName="RadioGroup";class d extends o.o6{constructor(){super(...arguments),this.documentKeyDown=e=>{this.props._onChange&&(e.keyCode===a.Uz.SPACE||e.keyCode===a.Uz.ENTER)&&this.props._onChange(this.props.value)},this.onClick=o.cZ(this,"click",()=>{this.props._onChange&&!this.props.disabled&&this.props._onChange(this.props.value)})}render(){let e=this.props.disabled?"radio--labelDisabled--lIJQQ radio--label--wzl7r":"radio--label--wzl7r";this.props.labelClassName&&(e+=` ${this.props.labelClassName}`);let r=this.props._isChecked?"radio--iconChecked--R-eCa radio--icon---zaTQ":"radio--icon---zaTQ";this.props.iconClassName&&(r+=` ${this.props.iconClassName}`),this.props.disabled&&(r+=" radio--iconDisabled--fmY5f");let n=this.props.tooltipText?{"data-tooltip-type":s.Ib.TEXT,"data-tooltip":this.props.tooltipText,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}:{};return i.createElement("div",{className:`radio--radioOption--IE2UQ ${this.props.className||""}`,onClick:this.onClick,role:"radio","aria-checked":this.props._isChecked,"data-testid":this.props.dataTestId,"data-onboarding-key":this.props.dataOnboardingKey},i.createElement("div",{className:r,tabIndex:this.props.disabled?-1:this.props.tabIndex??0,onFocus:()=>{document.addEventListener("keydown",this.documentKeyDown)},onBlur:()=>{document.removeEventListener("keydown",this.documentKeyDown)}}),i.createElement("div",{...n,className:e},this.props.children))}}d.displayName="RadioOption"},5e4:(e,r,n)=>{"use strict";n.d(r,{D5:()=>I,Kw:()=>b});var i=n(11855),a=n(29019),o=n.n(a),s=n(59407),l=n(21725),d=n.n(l),c=n(24897);let u="branded_inputs--responseError--0Rnex",p="branded_inputs--visuallyHidden--eWRcb",h="branded_inputs--label--iXBJS",m="branded_inputs--fieldset--aXu-w",g="branded_inputs--dropdownItem--UH-fv",f="branded_inputs--dropdownItemHighlight--PDKz9",_="branded_inputs--textInputShort--n-LRu branded_inputs--baseInput--9quGy",y="branded_inputs--textInputOpen--bL-5v";var E=n(44776);function b(e){return i.createElement(i.Fragment,null,e.hasError&&i.createElement("div",{className:"branded_inputs--responseErrorMessage--00LCe"},e.errorMessage))}i.forwardRef(function(e,r){let n=`__${e.name}`;return i.createElement("fieldset",{ref:r,className:m},i.createElement("label",{className:o()(h,e.inlineLabel&&p),htmlFor:n},e.label),i.createElement("select",{className:o()("branded_inputs--dropdown--aW5mG",e.responseHasError&&u),id:n,name:e.name,onChange:e.onChange,onFocus:e.onFocus,onBlur:e.onBlur,value:e.value||""},i.createElement("option",{disabled:!!e.value},e.inlineLabel?e.label:""),Object.keys(e.options).map(r=>i.createElement("option",{value:r,key:r},e.options[r]))),e.error)}),i.forwardRef(function(e,r){let n=`__${e.name}`;return i.createElement("fieldset",{ref:r,className:m},i.createElement("label",{className:h,htmlFor:n},e.label),i.createElement("textarea",{className:o()("branded_inputs--textarea--HdEZB branded_inputs--baseInput--9quGy",e.responseHasError&&u),onChange:e.onChange,onBlur:e.onBlur,id:n,name:e.name,value:e.value}),e.error)}),i.forwardRef(function(e,r){let n=`__${e.name}`;return i.createElement("fieldset",{ref:r,className:m},i.createElement("label",{className:h,htmlFor:n},e.label),i.createElement("input",{className:o()(_,e.className,e.responseHasError&&u),disabled:e.disabled,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,onKeyDown:e.onKeyDown,onKeyDownCapture:e.onKeyDownCapture,id:n,type:"text",name:e.name,value:e.value}),e.children,e.error)});let v=e=>e?"string"==typeof e?e:e.displayName:"",S=e=>e?"string"==typeof e?e:e.value:"";function I(e){let[r,n]=i.useState(!1),{isOpen:a,selectedItem:l,getToggleButtonProps:d,getMenuProps:h,highlightedIndex:m,getItemProps:_}=(0,s.WM)({items:e.options,itemToString:v,onSelectedItemChange({selectedItem:r}){let i=S(r);e.onChange(i),n(!0)}});return i.createElement("div",{className:o()("branded_inputs--selectInput--ChYuH branded_inputs--baseInput--9quGy",a&&y,!a&&e.responseHasError&&u,e.className)},i.createElement("button",{type:"button","aria-haspopup":"listbox",...d({className:"branded_inputs--dropdownToggle--9mnsV"})},i.createElement("div",{className:r?"branded_inputs--selectText--8h6Gu":"branded_inputs--selectLabel--S-on4","aria-label":e.ariaLabel},v(l)||e.label),i.createElement(c.B,{svg:E.A,className:"branded_inputs--dropdownIcon--PIirP"})),i.createElement("div",{className:o()("branded_inputs--dropdownContainer--tc58P",!a&&p)},i.createElement("ul",{...h()},a&&e.options.map((e,r)=>i.createElement("li",{key:S(e),..._({item:e,index:r,className:o()(m===r&&f,g)})},v(e))))))}i.forwardRef(function(e,r){let[n,a]=i.useState([]),l=i.useRef(null),c=r=>!!e.defaultOption&&(!e.maxListSizeToRevealDefaultOption||r.length<=e.maxListSizeToRevealDefaultOption),E=()=>{let r=e.options.sort().slice(0,100);c(r)&&r.unshift(e.defaultOption),a(r)},{isOpen:b,getToggleButtonProps:v,getLabelProps:S,getMenuProps:I,getInputProps:T,getItemProps:w,getComboboxProps:C,openMenu:A,highlightedIndex:N}=(0,s.Bp)({selectedItem:e.value,items:n,onSelectedItemChange({selectedItem:r}){e.onChange(r||"")},onIsOpenChange:({isOpen:e,selectedItem:r})=>{e&&!r&&E()},onInputValueChange:r=>{if(r.inputValue.trim().length>0){let n=RegExp(d()(r.inputValue),"i"),i=e.options.filter(e=>n.test(e)).sort().slice(0,100);c(i)&&i.unshift(e.defaultOption),a(i)}else E()}}),O=()=>{(!e.value||e.defaultOption&&e.defaultOption===e.value)&&E()};return i.createElement("fieldset",{ref:r,className:m},i.createElement("label",{...S({className:h})},e.label),i.createElement("div",{...C({className:"branded_inputs--dropdownComboBox--Y6mtn"})},i.createElement("input",{...T({className:o()(_,b&&y,!b&&e.responseHasError&&u,e.className),ref:l,disabled:e.disabled,onBlur:e.onBlur,onClick:()=>{O(),A()}})}),i.createElement("button",{...v({onClick:()=>{O(),l.current.select()},disabled:e.disabled,className:"branded_inputs--typeaheadDropdownToggle--eqlAT",type:"button"})})),i.createElement("div",{className:o()("branded_inputs--typeaheadDropdownContainer--GRTvu",!b&&p)},i.createElement("ul",{...I({className:"branded_inputs--dropdownList--EVb3S"})},n.map((e,r)=>i.createElement("li",{className:o()(N===r&&f,0===r&&n.length>1&&c(n)?"branded_inputs--dropdownItemFixedBottom--mhlYc":g),key:e,...w({item:e,index:r})},e)))),e.children,!b&&e.error)}),i.forwardRef(function(e,r){let n=`__${e.name}`;return i.createElement("fieldset",{ref:r,className:m},i.createElement("label",{className:h,htmlFor:n},e.label),i.createElement("input",{type:"file",id:n,name:e.name,onChange:e.onChange}),e.error)})},64577:(e,r,n)=>{"use strict";n.d(r,{Ak:()=>u,JD:()=>p,h1:()=>h});var i=n(11855),a=n(35283),o=n(81912),s=n(96328),l=n(39863),d=n(78466);function c(e,r){return"ja"===e?"narrow":r}function u(e,r="long",n=(0,d.Gq)().getPrimaryLocale(!1)){r=c(n,r);let a=i.useMemo(()=>new Intl.RelativeTimeFormat(n,{style:r}),[n,r]),[o,s]=i.useState(()=>_(e)),[l,u]=i.useState(()=>f(a,e));return i.useEffect(()=>{u(f(a,e))},[e,a]),i.useEffect(()=>{s(_(e))},[e]),function(e,r){let n=i.useRef(),a=i.useRef(e);i.useEffect(()=>{a.current=e},[e]),i.useEffect(()=>(r>0&&(n.current=setInterval(()=>a.current(),r)),()=>{window.clearInterval(n.current)}),[r])}(()=>{o>0&&null!==e&&(u(f(a,e)),s(_(e)))},o),l||""}function p(e,r="long",n=(0,d.Gq)().getPrimaryLocale(!1)){return r=c(n,r),f(new Intl.RelativeTimeFormat(n,{style:r}),e)||""}function h(e){let r=u(e.date,e.style,e.locale),{onChange:n}=e;return i.useEffect(()=>{null==n||n(r)},[n,r]),i.createElement("span",{className:e.className||"",title:e.title},e.capitalize?(0,s.Zr)(r):r)}function m(e,r){switch(r){case"second":return 1e3*e;case"minute":return 6e4*e;case"hour":return 36e5*e;case"day":return 864e5*e;case"month":return 2592e6*e;case"year":return 31536e6*e;default:(0,a.wc)(`Unsupported relative time unit (${r})`)}}let g=Object.values({s:{min:0,max:m(45,"second"),factor:m(1,"second"),unit:"second"},m:{min:m(45,"second"),max:m(90,"second"),unit:"minute"},mm:{min:m(90,"second"),max:m(45,"minute"),factor:m(1,"minute"),unit:"minute"},h:{min:m(45,"minute"),max:m(90,"minute"),unit:"hour"},hh:{min:m(90,"minute"),max:m(22,"hour"),factor:m(1,"hour"),unit:"hour"},d:{min:m(22,"hour"),max:m(36,"hour"),factor:m(1,"day"),unit:"day"},dd:{min:m(36,"hour"),max:m(26,"day"),factor:m(1,"day"),unit:"day"},M:{min:m(26,"day"),max:m(45,"day"),unit:"month"},MM:{min:m(45,"day"),max:m(320,"day"),factor:m(1,"month"),unit:"month"},yy:{min:m(320,"day"),max:void 0,factor:m(1,"year"),unit:"year"}});function f(e,r=new Date){var n;let i;if(null===r)return"Invalid Date";i="string"==typeof r||"number"==typeof r?o.A.utc(r).toDate():r;let a=new Date;if(isNaN(i.getTime()))return i.toString();let s=i.getTime()-a.getTime(),c=Math.abs(s),u=s<0;for(let r of g)if(c>=r.min){if(r.max&&c>=r.max)continue;if(c<m(45,"second"))return(0,l.t)("general.time.just_now_past");let i=e.format((u?-1:1)*(r.factor?Math.round(c/r.factor):1),r.unit);return(null==(n=(0,d.Gq)())?void 0:n.pseudoLocale)&&(i=(0,d.Gq)().getPseudoLocalizedDynamicString(i)),i}return"Invalid Date"}function _(e){if(!e)return 0;let r=Math.abs(o.A.utc(e).diff(new Date));return r<m(1,"hour")?m(30,"second"):r<m(1,"day")?m(30,"minute"):m(6,"hour")}},11443:(e,r,n)=>{"use strict";n.d(r,{Ug:()=>o,lc:()=>s});var i=n(91408),a=n(60168);(0,i.jz)(a.pXQ);let o=(0,i.jz)(a.aqw),s=(0,i.jz)(a.h4P)},42822:(e,r,n)=>{"use strict";let i,a;n.d(r,{LE:()=>c,oS:()=>u,y1:()=>d});var o=n(11855),s=n(35283),l=n(34834),d=((i=d||{})[i.DESIGN=0]="DESIGN",i[i.DESIGN_AND_DEV_MODE=1]="DESIGN_AND_DEV_MODE",i[i.DEV_MODE=2]="DEV_MODE",i[i.DEV_MODE_SELECTED=3]="DEV_MODE_SELECTED",i[i.WHITEBOARD=4]="WHITEBOARD",i[i.PUBLISHED=5]="PUBLISHED",i[i.PROTOTYPE=6]="PROTOTYPE",i[i.TEMPLATE=7]="TEMPLATE",i[i.REPO=8]="REPO",i[i.SLIDES=9]="SLIDES",i[i.SITES=10]="SITES",i),c=((a=c||{})[a.LARGE=0]="LARGE",a[a.MEDIUM=1]="MEDIUM",a[a.SMALL=2]="SMALL",a);function u(e){let r;let n=e.size??0;switch(e.type){case 0:r=o.createElement(m,{size:n});break;case 1:r=o.createElement(g,null);break;case 2:r=o.createElement(f,null);break;case 3:r=o.createElement(f,{selected:!0});break;case 4:r=o.createElement(_,{size:n});break;case 5:r=o.createElement(h,{size:n});break;case 6:r=o.createElement(p,{size:n});break;case 7:r=o.createElement(b,{size:n,svgOptions:e.svgOptions});break;case 8:r=o.createElement(v,{size:n});break;case 9:r=o.createElement(y,{size:n});break;case 10:r=o.createElement(E,{size:n});break;default:(0,s.xb)(e.type)}return o.createElement("div",{"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],className:e.className},r)}function p(e){let r="var(--color-iconprototypefile, #E6E6E6)",n="var(--color-iconprototypefilesecondary, black)";return 2===e.size?o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0_1019308_55963)"},o.createElement("path",{d:"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z",fill:r}),o.createElement("path",{d:"M6 11.5V4.5L12 8L6 11.5Z",fill:n})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_1019308_55963"},o.createElement("rect",{width:"16",height:"16",fill:"white"})))):o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",className:l.tU},o.createElement("circle",{cx:"16",cy:"16",r:"12",fill:r}),o.createElement("path",{d:"M13 21.5V10.5L22 16L13 21.5Z",fill:n}))}function h(e){return 2===e.size?o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M1 3C1 1.89543 1.89543 1 3 1H13C14.1046 1 15 1.89543 15 3V13C15 14.1046 14.1046 15 13 15H3C1.89543 15 1 14.1046 1 13V3Z",fill:"var(--color-iconpublishedfile, #2c2c2c)"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.42809 5.94824L8.4163 5.94487L5.93954 5.23713L7.81094 7.11265C7.84908 7.10727 7.88805 7.10449 7.92768 7.10449C8.38608 7.10449 8.75769 7.47692 8.75769 7.93634C8.75769 8.39576 8.38608 8.76819 7.92768 8.76819C7.46927 8.76819 7.09766 8.39576 7.09766 7.93634C7.09766 7.89736 7.10033 7.859 7.10551 7.82144L5.24201 5.95383L5.90568 8.27402L5.91639 8.31146L5.92416 8.34963C6.11456 9.28536 6.94108 9.98642 7.92622 9.98642C8.15158 9.98642 8.36652 9.95019 8.56673 9.88397L9.15269 9.69017L9.58863 10.1271L10.2943 10.8343L10.838 10.2893L10.1189 9.56871L9.68985 9.13868L9.87373 8.55969C9.93575 8.36438 9.96962 8.15529 9.96962 7.93633C9.96962 6.98187 9.3191 6.17937 8.43996 5.95132L8.42809 5.94824ZM12.2506 10.2893L11.0006 11.5421L10.2943 12.25L9.58793 11.5421L8.88074 10.8334C8.58052 10.9327 8.25963 10.9864 7.92622 10.9864C6.45479 10.9864 5.22725 9.9399 4.94424 8.54903L3.82397 4.6326L3.5 3.5L4.63269 3.82367L8.69105 4.98335C10.0017 5.32333 10.9696 6.51654 10.9696 7.93633C10.9696 8.25918 10.9196 8.57032 10.8268 8.86238L12.2506 10.2893Z",fill:"var(--color-icon-onbrand, white)"})):1===e.size?o.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0_3022_62326)"},o.createElement("rect",{width:"24",height:"24",rx:"4",fill:"#2C2C2C"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9464 7.68575L12.9346 7.68238L6.56175 5.86133L10.8434 10.151C11.0417 10.0543 11.2645 10 11.5 10C12.3284 10 13 10.6716 13 11.5C13 12.3284 12.3284 13 11.5 13C10.6716 13 10 12.3284 10 11.5C10 11.2723 10.0507 11.0565 10.1415 10.8632L5.86781 6.58163L7.61385 12.6858L7.62457 12.7232L7.63233 12.7614C8.035 14.7403 9.78217 16.2262 11.8709 16.2262C12.3463 16.2262 12.8019 16.1497 13.2273 16.009L13.8132 15.8152L14.2492 16.2521L16.015 18.0218L18.026 16.0063L16.239 14.2155L15.81 13.7855L15.9938 13.2065C16.1254 12.7921 16.1968 12.3497 16.1968 11.8886C16.1968 9.86928 14.8204 8.17187 12.9583 7.68883L12.9464 7.68575ZM19.4386 16.0063L16.7213 18.7297L16.0151 19.4374L16.015 19.4375L16.0149 19.4374L15.3086 18.7297L13.5413 16.9584C13.0159 17.1322 12.4544 17.2262 11.8709 17.2262C9.29588 17.2262 7.14769 15.3948 6.65241 12.9608L4.44897 5.2576L4.125 4.125L5.25769 4.44867L13.2093 6.72087C15.5029 7.31583 17.1968 9.40395 17.1968 11.8886C17.1968 12.4536 17.1092 12.9981 16.9469 13.5092L19.4386 16.0063Z",fill:"var(--color-icon-ondesign, white)"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_3022_62326"},o.createElement("rect",{width:"24",height:"24",fill:"white"})))):o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},o.createElement("path",{fill:"var(--color-iconpublishedfile, #2c2c2c)",d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z"}),o.createElement("path",{fill:"var(--color-icon-onbrand, white)",fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 12.9953L16.8466 12.992L12.4437 11.7366L15.7009 14.9938C15.8169 14.954 15.9412 14.9324 16.0707 14.9324C16.6993 14.9324 17.2089 15.442 17.2089 16.0707C17.2089 16.6993 16.6993 17.2089 16.0707 17.2089C15.442 17.2089 14.9324 16.6993 14.9324 16.0707C14.9324 15.9412 14.954 15.8169 14.9938 15.7009L11.7425 12.4496L12.9443 16.6419L12.9548 16.6784L12.9625 16.7156C13.26 18.1592 14.5397 19.2442 16.0707 19.2442C16.4199 19.2442 16.7541 19.1882 17.0659 19.0854L17.6507 18.8924L18.0862 19.3279L19.3171 20.5588L20.5858 19.2901L19.3411 18.0455L18.9107 17.615L19.0954 17.035C19.1918 16.7321 19.2443 16.4085 19.2443 16.0707C19.2443 14.5951 18.2363 13.3524 16.8699 12.9983L16.8582 12.9953ZM21.2929 18.583L22 19.2901L21.2929 19.9972L20.0242 21.2659L19.3171 21.973L18.61 21.2659L17.3791 20.035C16.9676 20.1708 16.5277 20.2442 16.0707 20.2442C14.0558 20.2442 12.3744 18.8165 11.983 16.9175L10.3246 11.1324L10 10L11.1329 10.323L17.1208 12.0303C18.9175 12.4959 20.2443 14.1283 20.2443 16.0707C20.2443 16.5127 20.1756 16.9386 20.0482 17.3384L21.2929 18.583Z"}),o.createElement("path",{fill:"var(--color-iconpublishedfilesecondary, #787878)",d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z"}))}function m(e){return 2===e.size?o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{className:l.XD,d:"M1 3C1 1.89543 1.89543 1 3 1H13C14.1046 1 15 1.89543 15 3V13C15 14.1046 14.1046 15 13 15H3C1.89543 15 1 14.1046 1 13V3Z"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.42809 5.94824L8.4163 5.94487L5.93954 5.23713L7.81094 7.11265C7.84908 7.10727 7.88805 7.10449 7.92768 7.10449C8.38608 7.10449 8.75769 7.47692 8.75769 7.93634C8.75769 8.39576 8.38608 8.76819 7.92768 8.76819C7.46927 8.76819 7.09766 8.39576 7.09766 7.93634C7.09766 7.89736 7.10033 7.859 7.10551 7.82144L5.24201 5.95383L5.90568 8.27402L5.91639 8.31146L5.92416 8.34963C6.11456 9.28536 6.94108 9.98642 7.92622 9.98642C8.15158 9.98642 8.36652 9.95019 8.56673 9.88397L9.15269 9.69017L9.58863 10.1271L10.2943 10.8343L10.838 10.2893L10.1189 9.56871L9.68985 9.13868L9.87373 8.55969C9.93575 8.36438 9.96962 8.15529 9.96962 7.93633C9.96962 6.98187 9.3191 6.17937 8.43996 5.95132L8.42809 5.94824ZM12.2506 10.2893L11.0006 11.5421L10.2943 12.25L9.58793 11.5421L8.88074 10.8334C8.58052 10.9327 8.25963 10.9864 7.92622 10.9864C6.45479 10.9864 5.22725 9.9399 4.94424 8.54903L3.82397 4.6326L3.5 3.5L4.63269 3.82367L8.69105 4.98335C10.0017 5.32333 10.9696 6.51654 10.9696 7.93633C10.9696 8.25918 10.9196 8.57032 10.8268 8.86238L12.2506 10.2893Z",fill:"var(--color-icon-ondesign, white)"})):1===e.size?o.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0_3022_62357)"},o.createElement("rect",{width:"24",height:"24",rx:"4",fill:"#0D99FF"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9464 7.68575L12.9346 7.68238L6.56175 5.86133L10.8434 10.151C11.0417 10.0543 11.2645 10 11.5 10C12.3284 10 13 10.6716 13 11.5C13 12.3284 12.3284 13 11.5 13C10.6716 13 10 12.3284 10 11.5C10 11.2723 10.0507 11.0565 10.1415 10.8632L5.86781 6.58163L7.61385 12.6858L7.62457 12.7232L7.63233 12.7614C8.035 14.7403 9.78217 16.2262 11.8709 16.2262C12.3463 16.2262 12.8019 16.1497 13.2273 16.009L13.8132 15.8152L14.2492 16.2521L16.015 18.0218L18.026 16.0063L16.239 14.2155L15.81 13.7855L15.9938 13.2065C16.1254 12.7921 16.1968 12.3497 16.1968 11.8886C16.1968 9.86928 14.8204 8.17187 12.9583 7.68883L12.9464 7.68575ZM19.4386 16.0063L16.7213 18.7297L16.0151 19.4374L16.015 19.4375L16.0149 19.4374L15.3086 18.7297L13.5413 16.9584C13.0159 17.1322 12.4544 17.2262 11.8709 17.2262C9.29588 17.2262 7.14769 15.3948 6.65241 12.9608L4.44897 5.2576L4.125 4.125L5.25769 4.44867L13.2093 6.72087C15.5029 7.31583 17.1968 9.40395 17.1968 11.8886C17.1968 12.4536 17.1092 12.9981 16.9469 13.5092L19.4386 16.0063Z",fill:"var(--color-icon-ondesign, white)"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_3022_62357"},o.createElement("rect",{width:"24",height:"24",fill:"white"})))):o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},o.createElement("path",{className:l.XD,d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 12.9953L16.8466 12.992L12.4437 11.7366L15.7009 14.9938C15.8169 14.954 15.9412 14.9324 16.0707 14.9324C16.6993 14.9324 17.2089 15.442 17.2089 16.0707C17.2089 16.6993 16.6993 17.2089 16.0707 17.2089C15.442 17.2089 14.9324 16.6993 14.9324 16.0707C14.9324 15.9412 14.954 15.8169 14.9938 15.7009L11.7425 12.4496L12.9443 16.6419L12.9548 16.6784L12.9625 16.7156C13.26 18.1592 14.5397 19.2442 16.0707 19.2442C16.4199 19.2442 16.7541 19.1882 17.0659 19.0854L17.6507 18.8924L18.0862 19.3279L19.3171 20.5588L20.5858 19.2901L19.3411 18.0455L18.9107 17.615L19.0954 17.035C19.1918 16.7321 19.2443 16.4085 19.2443 16.0707C19.2443 14.5951 18.2363 13.3524 16.8699 12.9983L16.8582 12.9953ZM21.2929 18.583L22 19.2901L21.2929 19.9972L20.0242 21.2659L19.3171 21.973L18.61 21.2659L17.3791 20.035C16.9676 20.1708 16.5277 20.2442 16.0707 20.2442C14.0558 20.2442 12.3744 18.8165 11.983 16.9175L10.3246 11.1324L10 10L11.1329 10.323L17.1208 12.0303C18.9175 12.4959 20.2443 14.1283 20.2443 16.0707C20.2443 16.5127 20.1756 16.9386 20.0482 17.3384L21.2929 18.583Z",fill:"var(--color-icon-ondesign, white)"}),o.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"var(--color-icondesignfilesecondary, #9bd5fd)"}))}function g(){return o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0_126_32431)"},o.createElement("path",{d:"M7 28.2725H25C25.5523 28.2725 26 27.8247 26 27.2725V10.1867C26 9.92146 25.8946 9.6671 25.7071 9.47957L20.7929 4.56535C20.6054 4.37782 20.351 4.27246 20.0858 4.27246H7C6.44772 4.27246 6 4.72018 6 5.27246V27.2725C6 27.8247 6.44772 28.2725 7 28.2725Z",fill:"var(--color-bg-design, #0d99ff)"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 13.2677L16.8466 13.2644L12.4437 12.0091L15.7009 15.2663C15.8169 15.2265 15.9412 15.2049 16.0707 15.2049C16.6993 15.2049 17.2089 15.7145 17.2089 16.3431C17.2089 16.9718 16.6993 17.4814 16.0707 17.4814C15.442 17.4814 14.9324 16.9718 14.9324 16.3431C14.9324 16.2137 14.954 16.0893 14.9938 15.9734L11.7425 12.7221L12.9443 16.9144L12.9548 16.9509L12.9625 16.9881C13.26 18.4317 14.5397 19.5167 16.0707 19.5167C16.4199 19.5167 16.7541 19.4607 17.0659 19.3578L17.6507 19.1649L18.0862 19.6004L19.3171 20.8313L20.5858 19.5626L19.3411 18.318L18.9107 17.8875L19.0954 17.3074C19.1918 17.0046 19.2443 16.6809 19.2443 16.3431C19.2443 14.8676 18.2363 13.6249 16.8699 13.2708L16.8582 13.2677ZM21.2929 18.8555L22 19.5626L21.2929 20.2697L20.0242 21.5384L19.3171 22.2455L18.61 21.5384L17.3791 20.3075C16.9676 20.4432 16.5277 20.5167 16.0707 20.5167C14.0558 20.5167 12.3744 19.0889 11.983 17.1899L10.3246 11.4049L10 10.2725L11.1329 10.5955L17.1208 12.3028C18.9175 12.7684 20.2443 14.4008 20.2443 16.3431C20.2443 16.7851 20.1756 17.2111 20.0482 17.6109L21.2929 18.8555Z",fill:"var(--color-icon-ondesign, white)"}),o.createElement("path",{d:"M20.5 8.77246V6.68667V4.27246L22.2071 5.97957L24.2929 8.06535L26 9.77246H23.5858H21.5C20.9477 9.77246 20.5 9.32475 20.5 8.77246Z",fill:"var(--color-icondesignfilesecondary, #9bd5fd)"}),o.createElement("rect",{x:"18.5667",y:"17.8391",width:"13.8667",height:"13.8667",rx:"6.93333",fill:"var(--color-bg-handoff, #14AE5C)"}),o.createElement("rect",{x:"18.5667",y:"17.8391",width:"13.8667",height:"13.8667",rx:"6.93333",stroke:"var(--color-bg)",strokeWidth:"0.866667"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.9064 26.9361L21.3519 24.8635L21.1792 24.6332L21.3519 24.4029L22.9067 22.3299H23.8663L22.1388 24.6332L23.866 26.9361H22.9064ZM24.5473 26.9361L26.2747 22.3299H27.0946L25.3672 26.9361H24.5473ZM28.0887 26.9361H27.129L28.8562 24.6332L27.1288 22.3299H28.0884L29.6431 24.4029L29.8158 24.6332L29.6431 24.8635L28.0887 26.9361Z",fill:"var(--color-icon-ondesign, white)"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_126_32431"},o.createElement("rect",{width:"32",height:"32",fill:"var(--color-icon-ondesign, white)",transform:"translate(0 0.272461)"}))))}function f(e){return e.selected?o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M7 27.9999H25C25.5523 27.9999 26 27.5522 26 26.9999V9.9142C26 9.64898 25.8946 9.39463 25.7071 9.20709L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44771 4 6 4.44771 6 5V26.9999C6 27.5522 6.44771 27.9999 7 27.9999Z",fill:"#008043"}),o.createElement("path",{d:"M20.5 8.50035V6.41457V4.00037L22.2071 5.70747L24.2929 7.79325L26 9.50035H23.5858H21.5C20.9477 9.50035 20.5 9.05263 20.5 8.50035Z",fill:"#85E0A3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6718 20.1257L9.26719 16.9195L9 16.5633L9.26718 16.207L11.6719 13.0007H13.1563L10.4844 16.5633L13.1562 20.1257H11.6718ZM14.2098 20.1257L16.8817 13.0007H18.1499L15.478 20.1257H14.2098ZM19.6876 20.1257H18.2032L20.875 16.5633L18.2031 13.0007H19.6875L22.0922 16.207L22.3594 16.5633L22.0922 16.9195L19.6876 20.1257Z",fill:"white"})):o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M7 27.9999H25C25.5523 27.9999 26 27.5522 26 26.9999V9.9142C26 9.64898 25.8946 9.39463 25.7071 9.20709L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44771 4 6 4.44771 6 5V26.9999C6 27.5522 6.44771 27.9999 7 27.9999Z",fill:"#14AE5C"}),o.createElement("path",{d:"M20.5 8.50047V6.41469V4.00049L22.2071 5.70759L24.2929 7.79337L26 9.50047H23.5858H21.5C20.9477 9.50047 20.5 9.05276 20.5 8.50047Z",fill:"#85E0A3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6721 20.1255L9.26743 16.9193L9.00024 16.5631L9.26743 16.2068L11.6721 13.0005H13.1565L10.4846 16.563L13.1564 20.1255H11.6721ZM14.21 20.1255L16.8819 13.0005H18.1501L15.4783 20.1255H14.21ZM19.6878 20.1255H18.2034L20.8752 16.563L18.2034 13.0005H19.6877L22.0924 16.2068L22.3596 16.5631L22.0924 16.9193L19.6878 20.1255Z",fill:"white"}))}function _(e){return 2===e.size?o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{className:l.bF,d:"M1 3C1 1.89543 1.89543 1 3 1H13C14.1046 1 15 1.89543 15 3V13C15 14.1046 14.1046 15 13 15H3C1.89543 15 1 14.1046 1 13V3Z"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.18907 3.60057L3.45361 3.45345L3.6007 4.18891L4.14615 6.9163L4.17584 7.06475L4.28289 7.1718L10.1112 13.0001C10.5017 13.3906 11.1349 13.3906 11.5254 13.0001L13.0001 11.5254C13.3906 11.1348 13.3906 10.5017 13.0001 10.1111L7.17182 4.28288L7.06478 4.17584L6.91634 4.14614L4.18907 3.60057ZM5.09705 6.57175L4.72837 4.72827L6.57175 5.09702L7.13379 5.65906L5.65906 7.13376L5.09705 6.57175ZM6.36616 7.84086L7.8409 6.36617L12.293 10.8183L10.8183 12.293L6.36616 7.84086Z",fill:"var(--color-icon-onfigjam, white)"})):1===e.size?o.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0_3022_62349)"},o.createElement("rect",{width:"24",height:"24",rx:"4",fill:"#9747FF"}),o.createElement("path",{d:"M7.49078 11.0263L15.8491 19.3847C16.2397 19.7752 16.8728 19.7752 17.2634 19.3847L19.3846 17.2634C19.7751 16.8729 19.7751 16.2397 19.3846 15.8492L11.0262 7.49084M7.49078 11.0263L5.67769 9.21321L4.76767 4.76782L9.21315 5.67775L11.0262 7.49084M7.49078 11.0263L11.0262 7.49084",stroke:"var(--color-icon-ondesign, white)"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_3022_62349"},o.createElement("rect",{width:"24",height:"24",fill:"white"})))):o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},o.createElement("path",{className:l.bF,d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2966 20.8616C19.4811 21.0461 19.7802 21.0461 19.9647 20.8616L21.0059 19.8205C21.1903 19.636 21.1903 19.3369 21.0059 19.1524L15.0579 13.2045L13.3487 14.9137L19.2966 20.8616ZM12.6416 14.2066L11.7021 13.2671L11.2748 11.1305L13.4113 11.5578L14.3508 12.4974L12.6416 14.2066ZM11.0623 10.0682L13.9043 10.6366L21.713 18.4453C22.288 19.0203 22.288 19.9526 21.713 20.5276L20.6718 21.5687C20.0968 22.1438 19.1645 22.1438 18.5895 21.5687L10.7809 13.7601L10.2125 10.9181L10 9.85578L11.0623 10.0682Z",fill:"var(--color-icon-onfigjam, white)"}),o.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"var(--color-iconfigjamfilesecondary, #C599FF)"}))}function y(e){return null}function E(e){return null}function b(e){var r,n,i,a,s,d;return 2===e.size?o.createElement("svg",{width:"16",height:"16",viewBox:(null==(r=e.svgOptions)?void 0:r.viewBox)||"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M1 3C1 1.89543 1.89543 1 3 1H13C14.1046 1 15 1.89543 15 3V13C15 14.1046 14.1046 15 13 15H3C1.89543 15 1 14.1046 1 13V3Z",className:l.bF}),o.createElement("mask",{id:(null==(n=e.svgOptions)?void 0:n.id)+"template_msk_sm",fill:"var(--color-icon-onfigjam, white)"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 4H13V12H3V4ZM4 5H12V7.00004H4V5ZM12 8.00004H7V11H12V8.00004ZM6 11H4V8.00004H6V11Z"})),o.createElement("path",{d:"M4 5V4H3V5H4ZM12 5H13V4H12V5ZM12 7.00004V8.00004H13V7.00004H12ZM4 7.00004H3V8.00004H4V7.00004ZM3 4V3H2V4H3ZM13 4H14V3H13V4ZM13 12V13H14V12H13ZM3 12H2V13H3V12ZM12 8.00004H13V7.00004H12V8.00004ZM7 8.00004V7.00004H6V8.00004H7ZM7 11H6V12H7V11ZM12 11V12H13V11H12ZM6 11V12H7V11H6ZM4 11H3V12H4V11ZM4 8.00004V7.00004H3V8.00004H4ZM6 8.00004H7V7.00004H6V8.00004ZM4 6H12V4H4V6ZM11 5V7.00004H13V5H11ZM5 7.00004V5H3V7.00004H5ZM12 7.00004H7V9.00004H12V7.00004ZM6 8.00004V11H8V8.00004H6ZM7 12H12V10H7V12ZM13 11V8.00004H11V11H13ZM6 10H4V12H6V10ZM5 11V8.00004H3V11H5ZM4 9.00004H6V7.00004H4V9.00004ZM5 8.00004V11H7V8.00004H5ZM12 6.00004H4V8.00004H12V6.00004ZM4 12V4H2V12H4ZM3 5H13V3H3V5ZM12 4V12H14V4H12ZM13 11H3V13H13V11Z",fill:"var(--color-icon-onfigjam, white)",mask:`url(#${(null==(i=e.svgOptions)?void 0:i.id)+"template_msk_sm"})`})):0===e.size?o.createElement("svg",{width:"32",height:"32",viewBox:(null==(a=e.svgOptions)?void 0:a.viewBox)||"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l.bF},o.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z"}),o.createElement("mask",{id:(null==(s=e.svgOptions)?void 0:s.id)+"template_msk_lg",fill:"var(--color-icon-onfigjam, white)"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 12H22V22H10V12ZM11 13H21V15H11V13ZM21 16H14V21H21V16ZM13 21V16H11V21H13Z"})),o.createElement("path",{d:"M21 13H22V12H21V13ZM11 13V12H10V13H11ZM21 15V16H22V15H21ZM11 15H10V16H11V15ZM10 12V11H9V12H10ZM22 12H23V11H22V12ZM22 22V23H23V22H22ZM10 22H9V23H10V22ZM21 16H22V15H21V16ZM14 16V15H13V16H14ZM14 21H13V22H14V21ZM21 21V22H22V21H21ZM13 21V22H14V21H13ZM13 16H14V15H13V16ZM11 16V15H10V16H11ZM11 21H10V22H11V21ZM21 12H11V14H21V12ZM22 15V13H20V15H22ZM10 13V15H12V13H10ZM21 15H14V17H21V15ZM13 16V21H15V16H13ZM14 22H21V20H14V22ZM22 21V16H20V21H22ZM14 21V16H12V21H14ZM13 15H11V17H13V15ZM10 16V21H12V16H10ZM11 22H13V20H11V22ZM11 16H21V14H11V16ZM11 22V12H9V22H11ZM22 11H10V13H22V11ZM23 22V12H21V22H23ZM10 23H22V21H10V23Z",fill:"var(--color-icon-onfigjam, white)",mask:`url(#${(null==(d=e.svgOptions)?void 0:d.id)+"template_msk_lg"})`}),o.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"var(--color-iconfigjamfilesecondary, #C599FF)"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},o.createElement("g",{clipPath:"url(#clip0_3268_73108)"},o.createElement("rect",{width:"24",height:"24",rx:"4",fill:"#9747FF"}),o.createElement("mask",{id:"path-2-inside-1_3268_73108",fill:"white"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7H18V9.7H8.96991H6V7ZM5 10.7V9.7V7V6H6H18H19V7V17V18H18H6H5V17V10.7ZM6 10.7H8.46991V17H6V10.7ZM9.46991 17H18V10.7H9.46991V17Z"})),o.createElement("path",{d:"M18 7H19V6H18V7ZM6 7V6H5V7H6ZM18 9.7V10.7H19V9.7H18ZM6 9.7H5V10.7H6V9.7ZM5 6V5H4V6H5ZM19 6H20V5H19V6ZM19 18V19H20V18H19ZM5 18H4V19H5V18ZM8.46991 10.7H9.46991V9.7H8.46991V10.7ZM6 10.7V9.7H5V10.7H6ZM8.46991 17V18H9.46991V17H8.46991ZM6 17H5V18H6V17ZM9.46991 17H8.46991V18H9.46991V17ZM18 17V18H19V17H18ZM18 10.7H19V9.7H18V10.7ZM9.46991 10.7V9.7H8.46991V10.7H9.46991ZM18 6H6V8H18V6ZM19 9.7V7H17V9.7H19ZM8.96991 10.7H18V8.7H8.96991V10.7ZM6 10.7H8.96991V8.7H6V10.7ZM5 7V9.7H7V7H5ZM6 10.7V9.7H4V10.7H6ZM4 7V9.7H6V7H4ZM4 6V7H6V6H4ZM6 5H5V7H6V5ZM18 5H6V7H18V5ZM19 5H18V7H19V5ZM20 7V6H18V7H20ZM20 17V7H18V17H20ZM20 18V17H18V18H20ZM18 19H19V17H18V19ZM6 19H18V17H6V19ZM5 19H6V17H5V19ZM4 17V18H6V17H4ZM4 10.7V17H6V10.7H4ZM8.46991 9.7H6V11.7H8.46991V9.7ZM9.46991 17V10.7H7.46991V17H9.46991ZM6 18H8.46991V16H6V18ZM5 10.7V17H7V10.7H5ZM9.46991 18H18V16H9.46991V18ZM19 17V10.7H17V17H19ZM18 9.7H9.46991V11.7H18V9.7ZM8.46991 10.7V17H10.4699V10.7H8.46991Z",fill:"white",mask:"url(#path-2-inside-1_3268_73108)"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_3268_73108"},o.createElement("rect",{width:"24",height:"24",fill:"white"}))))}function v(e){return m(e)}},13695:(e,r,n)=>{"use strict";n.d(r,{p:()=>l});var i=n(11855),a=n(58145),o=n(55942),s=n(53234);let l=i.forwardRef(function(e,r){let n=e.recordingKey||"",l=i.useRef(null),d=(0,a.Z)(l.current);i.useEffect(()=>{let r=l.current;r&&!d&&(r.value||(e.usePlaceholderAttribute||(r.value=e.placeholderValue||""),e.noDefaultFocus||(r.focus(),r.select())))},[l,d,e.noDefaultFocus,e.placeholderValue,e.usePlaceholderAttribute]);let{submit:c,cancel:u}=e,p=s.qP(n,"submit",e=>{l.current&&c(e,l.current)}),h=i.useCallback(()=>{var e;if(!l.current)return;let r=null==(e=l.current)?void 0:e.value;if(r){p(r);return}u(l.current)},[l,u,p]),m=s.AF(e.recordingKey||"","change",e=>{}),g=s.iQ(n,"blur",()=>{l.current&&(l.current.value!==e.placeholderValue?h():u(l.current))}),f=s.v_(n,"keydown",r=>{var n;if(l.current)switch(r.keyCode){case 13:r.stopPropagation(),h();break;case 27:r.stopPropagation(),u(l.current);break;default:if(e.dontPropagateKeyDown){r.stopPropagation();return}null==(n=e.onKeyDown)||n.call(e,r)}}),_=i.useCallback(e=>{e.stopPropagation(),e.preventDefault()},[]),y=i.useMemo(()=>(0,o.A)(l,r),[l,r]);return i.createElement("input",{ref:y,className:`input--input--IPk3x ${e.className||""}`,onChange:m,onBlur:e.onBlur||g,onKeyDown:f,onClick:_,placeholder:e.usePlaceholderAttribute?e.placeholderValue:void 0,maxLength:e.maxLength,style:e.style,dir:"auto"})})},17609:(e,r,n)=>{"use strict";n.d(r,{S:()=>a});var i=n(11855);class a extends i.PureComponent{render(){let e=["\u2318","\u2325","\u21E7","\u2303"];return i.createElement("span",{className:this.props.className},this.props.shortcut.split("").map((r,n)=>{let a=-1!==e.indexOf(r)?"keyboard_shortcut--keyboardShortcutSpaced--CdtGb keyboard_shortcut--keyboardShortcut--iwYPv":"keyboard_shortcut--keyboardShortcut--iwYPv";return i.createElement("span",{key:n,className:a},r)}))}}a.displayName="KeyboardShortcut"},24459:(e,r,n)=>{"use strict";let i;n.d(r,{JR:()=>s,Qp:()=>c,Wi:()=>d});var a=n(11855);let o="loading_content--loadingPrimary--HsesM";var s=((i=s||{}).SHIMMER="shimmer",i.SHIMMER_ON_MENU="shimmer_on_menu",i.LIGHT_SHIMMER="light_shimmer",i.NO_SHIMMER="no_shimmer",i);let l=e=>{switch(e){case"shimmer":default:return"loading_content--shimmerAnimation--qZjRw";case"light_shimmer":return"loading_content--lightShimmerAnimation--Iz23-";case"shimmer_on_menu":return"loading_content--shimmerOnMenuAnimation--U9c8t loading_content--shimmerAnimation--qZjRw";case"no_shimmer":return}};function d(e){return a.createElement("div",{style:{...e.style??{},opacity:e.opacity?`${e.opacity}%`:"100%"},className:`${"shimmer_on_menu"===e.animationType?"loading_content--loadingTextOnMenu--WrELp loading_content--loadingText--MFUIw":"loading_content--loadingText--MFUIw"} ${e.primary?o:""} ${e.className||""}`,"data-testid":e.dataTestId},a.createElement("div",{className:l(e.animationType)}))}function c(e){return a.createElement("div",{style:{opacity:e.opacity?`${e.opacity}%`:"100%"},className:`loading_content--loadingImage--eB8Kt ${e.primary?o:""} ${e.className||""}`,"data-testid":e.dataTestId},a.createElement("div",{className:l(e.animationType)}))}},92766:(e,r,n)=>{"use strict";n.d(r,{a_:()=>f,qc:()=>h,dW:()=>g,nt:()=>m,kt:()=>p});var i=n(11855),a=n(29019),o=n.n(a),s=n(24897);let l="loading_spinner--svgContainer--KOY5x",d="loading_spinner--centered--pql-M";var c=n(27882),u=n(31450);class p extends i.Component{render(){let e="loading_spinner--sizeSmall--CN0gS";switch(this.props.size){case"medium":e="loading_spinner--sizeMedium--J1-SL";break;case"large":e="loading_spinner--sizeLarge--MeIU0";break;case"custom":e=null}return i.createElement("span",{className:o()("loading_spinner--root--vwYfu",e,this.props.shouldMatchTextColor?"loading_spinner--matchTextColor--BmEuU":"loading_spinner--grayColor--GhzPN",this.props.className||""),"data-testid":this.props.testId},this.props.imageBacked?i.createElement("img",{alt:"Loading",className:l,src:"data:image/svg+xml;base64,"+btoa(c.A)}):i.createElement(s.B,{svg:this.props.altIcon||c.A,className:l,autosize:!this.props.altIcon,dataTestId:"loading-spinner"}))}}function h(e){return i.createElement("div",{className:d},i.createElement(p,{...e}))}function m(){return i.createElement("div",{className:d},i.createElement(p,{size:"large"}))}function g(e){return i.createElement(p,{imageBacked:!0,...e})}p.displayName="LoadingSpinner";class f extends i.PureComponent{render(){return i.createElement("span",{className:`loading_spinner--blueSpinner--trQsm loading_spinner--root--vwYfu ${this.props.className||""}`},i.createElement(s.B,{svg:u.A,className:l}))}}f.displayName="BlueLoadingSpinner"},35876:(e,r,n)=>{"use strict";n.d(r,{x:()=>d});var i=n(11855),a=n(86459),o=n(92766);function s(e){return e.isLoading?i.createElement("div",{className:e.className},i.createElement(o.kt,null)):e.children()}function l(e){switch(e.state.status){case a.r.FAILURE:if(e.failure)return i.createElement(e.failure,null);return i.createElement("div",{className:e.className},i.createElement(o.kt,null));case a.r.LOADING:return i.createElement("div",{className:e.className},i.createElement(o.kt,null));case a.r.SUCCESS:return e.children(e.state.value)}}function d(e){return"isLoading"in e?i.createElement(s,{...e}):i.createElement(l,{...e})}},27586:(e,r,n)=>{"use strict";n.d(r,{P:()=>u});var i=n(11855),a=n(29019),o=n.n(a),s=n(86653),l=n(63706),d=n(53234),c=n(59927);class u extends d.uA{constructor(){super(...arguments),this.scrollingTimeout=null,this.trackHeight=0,this.trackTop=0,this.scrollHeight=0,this.scrollTop=0,this.handleResize=()=>{if(this.updateOverscrollMinHeight(),this.recomputeScrollbar(),this.props.useBottomPinning){let e=this.scrollContainer,r=this.lastContentHeight,n=this.lastParentHeight,i=e.offsetHeight,a=e.scrollTop;n>0&&a+1>=r-n&&(e.scrollTop=this.scrollContent.offsetHeight-i),this.lastParentHeight=i}},this.outerResizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver=new ResizeObserver(this.handleResize),this.lastParentHeight=0,this.lastContentHeight=0,this.state={canScroll:!1,canScrollUp:!1,canScrollDown:!1,scrollbarTop:0,scrollbarHeight:0,overscrollHeight:0},this.scrollTo=e=>{this.scrollContainer&&(this.scrollContainer.scrollTop=e)},this.scrollToTop=()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=0)},this.scrollToBottom=()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=this.scrollContainer.scrollHeight)},this.getScrollTop=()=>this.scrollContainer?this.scrollContainer.scrollTop:0,this.getScrollContainer=()=>this.scrollContainer,this.getClipContainer=()=>this.clipContainer,this.getScrollHeight=()=>this.scrollHeight,this.getScrollContainerTop=(0,s.xx)(()=>this.scrollContainer.getBoundingClientRect().top),this.getScrollContainerBottom=(0,s.xx)(()=>this.scrollContainer.getBoundingClientRect().bottom),this.getTrackHeight=()=>this.trackHeight,this.setClipContainer=e=>{e&&(this.clipContainer=e)},this.setScrollContainer=e=>{this.outerResizeObserver.disconnect(),e&&(this.scrollContainer=e,this.props.scrollContainerRef&&(this.props.scrollContainerRef.current=e),this.props.initialScrollTop&&(this.scrollContainer.scrollTop=this.props.initialScrollTop),this.outerResizeObserver.observe(e),this.recomputeScrollbar())},this.setScrollContent=e=>{this.resizeObserver.disconnect(),e&&(this.scrollContent=e,this.resizeObserver.observe(e))},this.onScroll=()=>{var e,r;let n=this.scrollTop;this.scrollTop=this.scrollContainer.scrollTop,this.recomputeScrollbar(),null==(r=(e=this.props).onScroll)||r.call(e,this.scrollTop,this.getStateSnapshot()),this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(()=>{this.scrollingTimeout=null},200),this.lastContentHeight=this.scrollContent.offsetHeight,this.props.enableOverscroll&&!(this.scrollTop>=n)&&this.state.overscrollHeight>this.scrollContent.clientHeight&&this.updateOverscrollMinHeight()},this.recomputeScrollbar=()=>{this.scrollingTimeout||(this.trackHeight=this.scrollContainer.clientHeight,this.scrollHeight=this.scrollContainer.scrollHeight,this.trackTop=this.scrollContainer.getBoundingClientRect().top);let e=0===this.scrollHeight?0:Math.max(this.trackHeight*(this.trackHeight/this.scrollHeight),42),r=this.scrollHeight>this.trackHeight,n=this.scrollTop>10,i=this.scrollTop<this.scrollHeight-this.trackHeight-10,a=0;if(r){let r=this.scrollHeight-this.trackHeight,n=this.trackHeight-e;a=this.scrollTop/r*n}(this.state.scrollbarTop!==a||this.state.scrollbarHeight!==e)&&this.setState({scrollbarTop:a,scrollbarHeight:e,canScroll:r,canScrollUp:n,canScrollDown:i})},this.isDraggingScrollbar=()=>null!=this.state.startDragScrollTop&&null!=this.state.startDragY,this.onScrollBarMouseDown=e=>{e.stopPropagation(),e.preventDefault(),this.setState({startDragY:e.clientY,startDragScrollTop:this.scrollTop})},this.onTrackMouseDown=e=>{e.stopPropagation(),e.preventDefault();let r=Math.min(Math.max(0,e.clientY-this.trackTop-this.state.scrollbarHeight/2),this.trackHeight)/this.trackHeight*this.scrollHeight;this.scrollContainer.scrollTop=r,this.setState({startDragY:e.clientY,startDragScrollTop:this.scrollTop}),this.recomputeScrollbar()},this.onTrackMouseWheel=e=>{let r;(e=>{e[e.DOM_DELTA_PIXEL=0]="DOM_DELTA_PIXEL",e[e.DOM_DELTA_LINE=1]="DOM_DELTA_LINE",e[e.DOM_DELTA_PAGE=2]="DOM_DELTA_PAGE"})(r||(r={}));let n=0;0===e.deltaMode?n=e.deltaY:1===e.deltaMode?n=10*e.deltaY:2===e.deltaMode&&(n=100*e.deltaY),this.scrollContainer.scrollTop+=n},this.onMouseMove=e=>{this.isDraggingScrollbar()&&(this.nextClientY=e.clientY,l.Ay.safari?null==this.nextFrameRequested&&(this.nextFrameRequested=requestAnimationFrame(this.scrollByNextClientY)):this.scrollByNextClientY())},this.nextClientY=0,this.nextFrameRequested=null,this.scrollByNextClientY=()=>{let{startDragY:e,startDragScrollTop:r}=this.state;if(null!=e&&null!=r){let n=this.nextClientY-e,i=this.scrollHeight*(n/this.trackHeight);(n>0&&this.nextClientY>=this.trackTop||n<0&&this.nextClientY<=this.trackTop+this.trackHeight)&&(this.scrollContainer.scrollTop=r+i,this.recomputeScrollbar()),this.nextFrameRequested=null}},this.onMouseUp=()=>{this.setState({startDragScrollTop:void 0,startDragY:void 0})},this.onMouseDown=d.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}UNSAFE_componentWillUpdate(e,r){this.recomputeScrollbar(),this.props.onCanScrollChange&&this.state.canScroll!==r.canScroll&&this.props.onCanScrollChange(r.canScroll)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.resizeObserver.disconnect(),this.outerResizeObserver.disconnect()}getStateSnapshot(){return{trackHeight:this.trackHeight,trackTop:this.trackTop,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,scrollContainerScrollTop:this.scrollContainer.scrollTop,scrollContainerScrollLeft:this.scrollContainer.scrollLeft,componentState:this.state}}updateOverscrollMinHeight(){var e;if(this.props.enableOverscroll){let r=null==(e=this.scrollContainer)?void 0:e.matches(":hover"),n=this.scrollTop>=this.scrollContent.clientHeight,i=Math.max(!r||n||0===this.scrollTop?0:Math.ceil(this.scrollTop)+this.scrollContainer.clientHeight,this.scrollContent.clientHeight);this.setState({overscrollHeight:i})}}render(){let e=o()("scroll_container--scrollContainer--DYS0c scroll_container--full--CiWTy",{"scroll_container--horizontalScrollingEnabled--yhrnC":this.props.minContentWidth&&!this.props.horizontalScrollingDisabled,"scroll_container--verticalScrollingDisabled--swGL9":this.props.scrollingDisabled}),r=this.props.allowScrollAndZoomOver?this.state.canScroll?c.ZR:"":c.s4;return i.createElement("div",{className:o()(this.props.className,"scroll_container--clipContainer--5rNO2",r),style:{width:this.props.width,height:this.props.height,minWidth:this.props.minContentWidth,maxHeight:this.props.maxHeight},onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown?this.onMouseDown:void 0,onPointerDown:this.props.onPointerDown,ref:this.setClipContainer,role:"none","data-non-interactive":!0},i.createElement("div",{role:"none",ref:this.setScrollContainer,id:this.props.containerId,className:o()(e,{"scroll_container--propagateScrolling--ZuMmX":!!this.props.minContentWidth},{"scroll_container--scrollShadowTop--iFgEd":this.props.enableScrollShadow&&this.state.canScrollUp&&!this.state.canScrollDown,"scroll_container--scrollShadowBottom--xsUjO":this.props.enableScrollShadow&&this.state.canScrollDown&&!this.state.canScrollUp,"scroll_container--scrollShadowBoth--ehH-a":this.props.enableScrollShadow&&this.state.canScrollUp&&this.state.canScrollDown,"scroll_container--scrollShadowCommon--LB95H":this.props.enableScrollShadow&&(this.state.canScrollUp||this.state.canScrollDown)}),onScroll:this.onScroll,"data-non-interactive":!0},i.createElement("div",{style:this.props.enableOverscroll?{minHeight:this.state.overscrollHeight}:void 0,className:"scroll_container--full--CiWTy",role:"none","data-non-interactive":!0},i.createElement("div",{className:this.props.innerClassName,id:this.props.contentId,ref:this.setScrollContent,role:this.props.role,"data-non-interactive":!0},this.props.children))),!this.props.hideScrollbar&&this.state.canScroll&&i.createElement("div",{className:this.isDraggingScrollbar()?o()("scroll_container--trackDragging--z3nre scroll_container--track--2dtYS",{"scroll_container--trackDraggingBorder--lALJT":!this.props.disableScrollbarBorder}):o()("scroll_container--track--2dtYS",{"scroll_container--trackBorder--3DZ1D":!this.props.disableScrollbarBorder}),onMouseDown:this.onTrackMouseDown,onWheel:this.onTrackMouseWheel,role:"none"},i.createElement("div",{className:this.props.scrollBarAlways?"scroll_container--scrollBarAlways--QT2o- scroll_container--scrollBar--B0ZQQ":"scroll_container--scrollBar--B0ZQQ",style:{transform:`translate3d(0px, ${this.state.scrollbarTop}px, 0)`,height:this.state.scrollbarHeight},onMouseDown:this.onScrollBarMouseDown,role:"none"})))}}u.displayName="ScrollContainer"},28322:(e,r,n)=>{"use strict";n.d(r,{a:()=>o});var i=n(11855),a=n(9388);class o extends i.PureComponent{constructor(){super(...arguments),this.scrollSentinel=i.createRef(),this.intersectionObserver=null,this._isIntersecting=!1,this.initialIntersectionState=null}get isIntersecting(){return this._isIntersecting}componentDidMount(){if(window.IntersectionObserver){this.intersectionObserver=new IntersectionObserver(e=>{var r,n;let i=e[0];i&&(this.props.onInitialLoad&&null===this.initialIntersectionState&&(this.initialIntersectionState=i.isIntersecting,this.props.onInitialLoad(this.initialIntersectionState)),i.isIntersecting!==this._isIntersecting&&(this._isIntersecting=i.isIntersecting,null==(n=(r=this.props).onIntersectionChange)||n.call(r,i)))},{root:this.props.rootRef?a.findDOMNode(this.props.rootRef.current):null,rootMargin:this.props.rootMargin});let e=this.scrollSentinel.current;e&&this.intersectionObserver.observe(e)}}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}render(){return i.createElement("div",{ref:this.scrollSentinel,className:this.props.className,style:this.props.style})}}},94912:(e,r,n)=>{"use strict";n.d(r,{jq:()=>U,ne:()=>x});var i=n(11855),a=n(82683),o=n(29019),s=n.n(o),l=n(91408),d=n(20063),c=n(58145),u=n(98750),p=n(53234),h=n(22739),m=n(59838),g=n(24897),f=n(30949),_=n(39863),y=n(1114),E=n(76813),b=n(26055),v=n(83942),S=n(98606),I=n(7956),T=n(27795),w=n(70588),C=n(60168);let A="search--xIcon--EHnd9",N="search--searchInput__OLD--m2Hef text--fontPos13--xW8hS text--_fontBase--QdLsd",O="search--searchIconNonToolbar--Fy305 search--searchIcon--0Agiv";var R=n(21784),P=n(977),L=n(3475),D=n(30834),M=n(61807),k=n(72240);function x(e,r){let n=i.useCallback(e=>{setTimeout(()=>{S.current&&(S.current.focus(),e&&S.current.select())},0)},[]),a=i.useCallback(()=>{S.current&&S.current.blur()},[]),o=i.useCallback(()=>{S.current&&S.current.select()},[]);i.useImperativeHandle(r,()=>({focus:n,blur:a,select:o,searchInput:S.current}));let[s,l]=i.useState(!1),[h,m]=i.useState(!1),[g,f]=i.useState(void 0),{onFocus:_,onClick:y}=e,E=i.useCallback(()=>{_&&_(),m(!0)},[_]),b=i.useRef(!1),S=i.useRef(null),I=i.useCallback(e=>{b.current=document.activeElement!==e.target},[]),T=i.useCallback(()=>{var e;b.current&&(null==(e=S.current)||e.select(),E())},[E]),w=i.useCallback(()=>{e.onBlur&&e.onBlur(),m(!1)},[e]),C=p.AF(e.recordingKey,"change",r=>{let n=r.target;e.onChange(n.value)}),A=i.useCallback(r=>{var n;if(!(e.isKeyDownHandled&&e.isKeyDownHandled(r))){if(" "===r.key&&r.stopPropagation(),r.keyCode===u.Uz.ESCAPE){null==(n=S.current)||n.blur();return}(0,v.jr)(r,v.W0.NO)}},[e]),N=i.useCallback((e=!1)=>{e&&l(!0),n(),y&&y()},[n,y]),O=p.rf(e.recordingKey,"click",r=>{r.stopPropagation(),e.clearSearch(),l(!1),n()}),R=p.v_(e.recordingKey,"keydown",r=>{r.stopPropagation(),e.clearSearch(),l(!1),n()}),P=(0,c.Z)(e.isFocused);return i.useEffect(()=>{P||!0!==e.isFocused?!0===P&&!1===e.isFocused&&a():n()},[a,n,P,e.isFocused]),(0,d.h)(()=>{e.focusOnMount&&S.current&&(S.current.focus(),E()),e.selectTextOnMount&&S.current&&S.current.select()}),{loggedOutSearchBarActivated:s,inputFocused:h,placeholderWidth:g,setPlaceholderWidth:f,searchInputRef:S,onMouseDown:I,onMouseUp:T,onSearchClick:N,onClearSearchClick:O,onClearSearchKeyDown:R,onFocus:_,onBlur:w,onClick:y,onSearchKeyDown:A,onSearchChange:C}}let F=i.forwardRef((e,r)=>{let n=(0,b.GS)(),{searchInputRef:o,onMouseDown:s,onMouseUp:l,onClearSearchClick:d,onFocus:c,onBlur:u,onClick:p,onSearchKeyDown:h,onSearchChange:f}=x(e,r),E=(0,I.ks)(),v=E?"search--searchContainerDevHandoff--UdxhX search--searchContainer__OLD--sgLH8":"search--searchContainer__OLD--sgLH8";return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${v} ${e.className||""}`},e.withUI3Icon?i.createElement(a.h,{className:e.iconClassName}):i.createElement(g.B,{className:e.iconClassName??"search--searchIcon--0Agiv",svg:R.A}),i.createElement(m.L,{ref:o,placeholder:e.placeholder||(0,_.t)("general.search"),className:N,value:e.query,onMouseDown:s,onMouseUp:l,onFocus:c,onBlur:u,onClick:p,onChange:f,onKeyDown:h,spellCheck:!1,style:y.sx.if(e.hasTransparentBackground,y.sx.add({background:"transparent"})).if(E||e.smallFont,y.sx.if(n,y.sx.textBodyMedium,y.sx.font11.$)).$,disabled:e.disabled,dataTestId:"search-bar-input",maxInputLength:e.maxInputLength}),!!e.query&&!e.hideXIcon&&i.createElement(g.B,{dataTestId:"search-x-icon",className:A,svg:D.A,onClick:d}))});i.forwardRef((e,r)=>{let{inputFocused:n,placeholderWidth:a,setPlaceholderWidth:o,searchInputRef:s,onMouseDown:l,onMouseUp:d,onSearchClick:c,onClearSearchClick:u,onFocus:p,onBlur:h,onClick:f,onSearchKeyDown:y,onSearchChange:E}=x(e,r),b=e.placeholder||(0,_.t)("general.search"),v=`${e.className||""} ${n?"search--expandingSearchBoxContainerFocused__OLD--9RvVB search--_expandingSearchBoxContainerBase__OLD--xzd77 search--searchContainer__OLD--sgLH8":"search--expandingSearchBoxContainer__OLD--lw8HK search--_expandingSearchBoxContainerBase__OLD--xzd77 search--searchContainer__OLD--sgLH8"}`;return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:v},i.createElement(g.B,{className:O,svg:R.A,onClick:()=>c()}),i.createElement(m.L,{ref:s,placeholder:b,className:N,value:e.query,onMouseDown:l,onMouseUp:d,onFocus:p,onBlur:h,onClick:f,onChange:E,onKeyDown:y,style:{width:n?void 0:a},spellCheck:!1}),i.createElement("div",{className:"search--hiddenPlaceholderText--qpke4",ref:e=>o(null==e?void 0:e.getBoundingClientRect().width)},b),!!e.query&&!e.hideXIcon&&i.createElement(g.B,{className:A,svg:D.A,onClick:u}))}),i.forwardRef((e,r)=>{let n=i.createRef();return i.useImperativeHandle(r,()=>n.current),i.createElement("div",{className:"search--emphasizedSearchBarContainer--kvNHW",onMouseDown:()=>{var e;return null==(e=n.current)?void 0:e.focus()},role:"presentation"},i.createElement(F,{...e,smallFont:!0,hasTransparentBackground:!0,className:s()(f.cx.wFull.$,e.className),ref:n}))}),i.forwardRef((e,r)=>{let{inputFocused:n,placeholderWidth:a,searchInputRef:o,onMouseDown:s,onMouseUp:l,onClearSearchClick:d,onFocus:c,onBlur:u,onClick:p,onSearchKeyDown:h,onSearchChange:f}=x(e,r),y=e.placeholder||(0,_.t)("general.search"),E=`${e.className||""} search--searchContainerWithSelection--r0tlF search--_expandingSearchBoxContainerBase--yD-0y search--searchContainer--w9UTd`,b=e.query.length>0?"search--searchInputNonEmpty--hLWlJ search--searchInput--pCitq text--fontPos13--xW8hS text--_fontBase--QdLsd":"search--searchInput--pCitq text--fontPos13--xW8hS text--_fontBase--QdLsd";return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:E,onMouseDown:e=>{s(e),e.target.matches("input")||e.preventDefault()},onMouseUp:l,role:"presentation"},i.createElement(g.B,{className:"search--searchIconBrowseIAWithSelection--acKis search--searchIcon--0Agiv",svg:R.A}),i.createElement(m.L,{ref:o,placeholder:y,className:b,value:e.query,onFocus:c,onBlur:u,onClick:p,onChange:f,onKeyDown:h,style:{width:n?void 0:a},spellCheck:!1}),!!e.query&&!e.hideXIcon&&i.createElement(g.B,{className:A,svg:D.A,onClick:d}))}),i.forwardRef((e,r)=>{let{inputFocused:n,placeholderWidth:a,setPlaceholderWidth:o,searchInputRef:s,onMouseDown:l,onMouseUp:d,onClearSearchClick:c,onFocus:u,onBlur:p,onClick:h,onSearchKeyDown:f,onSearchChange:y}=x(e,r),b=e.placeholder||(0,_.t)("general.search"),v=`${e.className||""} search--searchContainerSidebarWithSelection--I54MO search--_expandingSearchBoxSidebarContainerBase--Mj7Ol search--searchContainerSidebar--JLCAb`,S=e.query.length>0?"search--searchInputSidebarNonEmpty--ttUA- search--searchInputSidebar--7Ekhx text--fontPos11--2LvXf text--_fontBase--QdLsd":"search--searchInputSidebar--7Ekhx text--fontPos11--2LvXf text--_fontBase--QdLsd";return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:v,onMouseDown:e=>{l(e),e.target.matches("input")||e.preventDefault()},onMouseUp:d,role:"presentation"},i.createElement(E.In,{icon:"search-32"}),i.createElement(m.L,{ref:s,placeholder:b,className:S,value:e.query,onFocus:u,onBlur:p,onClick:h,onChange:y,onKeyDown:f,style:{width:n?void 0:a},spellCheck:!1}),i.createElement("div",{className:"search--hiddenPlaceholderTextBrowseIA--R0-yC search--hiddenPlaceholderText--qpke4 text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",ref:e=>o(Math.max(50,null==e?void 0:e.getBoundingClientRect().width))},b),!!e.query&&!e.hideXIcon&&i.createElement(g.B,{className:A,svg:D.A,onClick:c}))}),i.forwardRef((e,r)=>{let{searchInputRef:n,onMouseDown:a,onMouseUp:o,onFocus:s,onBlur:l,onClick:d,onSearchKeyDown:c,onSearchChange:u}=x(e,r);return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:"search--communityLandingSearchContainer--po6oO search--searchContainer__OLD--sgLH8"},i.createElement(m.L,{ref:n,placeholder:e.placeholder||(0,_.t)("general.search"),className:"search--communityLandingSearchInput--Mtiu3 search--searchInput__OLD--m2Hef text--fontPos13--xW8hS text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd",value:e.query,onMouseDown:a,onMouseUp:o,onFocus:s,onBlur:l,onChange:u,onClick:d,onKeyDown:c,spellCheck:!1}),i.createElement(g.B,{className:"search--searchIconCommunityLanding--niwhx search--searchIcon--0Agiv",svg:P.A,onClick:e.onSubmit}))}),i.forwardRef((e,r)=>{let{searchInputRef:n,onMouseDown:a,onMouseUp:o,onClearSearchClick:l,onFocus:d,onBlur:c,onClick:u,onSearchKeyDown:h,onSearchChange:f}=x(e,r);return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:s()(e.className||"search--searchInputWrapper__DEPRECATED--wJWa2",{"search--margin12__DEPRECATED--WB5po search--_base__DEPRECATED--ye-Kq":!e.extraSpacing,"search--margin24__DEPRECATED--lBmfZ search--_base__DEPRECATED--ye-Kq":e.extraSpacing,"search--searchIconHidden--Vbsd9":e.hideSearchIcon})},!e.hideSearchIcon&&i.createElement(g.B,{svg:L.A,className:"search--searchIcon__DEPRECATED--0dgCG"}),i.createElement(m.L,{ref:n,placeholder:e.placeholder||(0,_.t)("design_systems.publishing_modal.search_placeholder"),className:e.query?"search--searchInput__DEPRECATED--aPTRH":"search--searchInputEmpty__DEPRECATED--tF1oC search--searchInput__DEPRECATED--aPTRH",value:e.query,onMouseDown:a,onMouseUp:o,onFocus:d,onBlur:c,onClick:u,onChange:f,onKeyDown:h,spellCheck:!1,dataTestId:e.dataTestId}),!!e.query&&!e.hideXIcon&&i.createElement(T.Me,{recordingKey:p.Pt(e,"closeX"),svg:D.A,onClick:l,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,_.t)("search.search_bar.clear")}))});let U=i.forwardRef((e,r)=>{let{searchInputRef:n,onMouseDown:a,onMouseUp:o,onClearSearchClick:s,onFocus:l,onBlur:d,onClick:c,onSearchKeyDown:u,onSearchChange:f}=x(e,r);return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`search--reviewerSearchContainer--Oysoz search--searchContainer__OLD--sgLH8 ${e.className||""}`},i.createElement(g.B,{svg:L.A,className:O}),i.createElement(m.L,{ref:n,placeholder:e.placeholder||(0,_.t)("general.search"),className:"search--reviewerSearchInput--Cjz6x search--searchInput__OLD--m2Hef text--fontPos13--xW8hS text--_fontBase--QdLsd",value:e.query,onMouseDown:a,onMouseUp:o,onFocus:l,onBlur:d,onClick:c,onChange:f,onKeyDown:u,spellCheck:!1,style:e.hasTransparentBackground?{background:"transparent"}:void 0}),i.createElement(h.D8,{className:"search--searchClear--k4kLx",onClick:s,recordingKey:p.Pt(e,"clearSearch")},!!e.query&&i.createElement(_.Tx,{id:"collaboration.branching_to_source.clear"})),!e.hideXIcon&&i.createElement("div",{className:"search--xIconContainer--P3xzW"},i.createElement(g.B,{className:A,svg:D.A,onClick:e.onClose})))});i.forwardRef((e,r)=>{let{loggedOutSearchBarActivated:n,searchInputRef:a,onMouseDown:o,onMouseUp:s,onSearchClick:d,onClearSearchClick:c,onFocus:u,onBlur:p,onClick:h,onSearchKeyDown:f,onSearchChange:y}=x(e,r);return i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`search--searchContainerLoggedOut--F6zij ${e.className||""}`},!n&&!e.query&&i.createElement("div",{className:"search--searchButton--onNDz",onClick:()=>d(!0)},i.createElement(g.B,{className:"search--searchIconLoggedOut--DaftF",svg:P.A})),(n||!!e.query)&&i.createElement("div",{className:"search--searchInputContainerLoggedOut--J3jHx"},i.createElement(m.L,{ref:a,placeholder:e.placeholder||(0,_.t)("general.search"),className:"search--searchInputLoggedOut--R6brd search--searchInput__OLD--m2Hef text--fontPos13--xW8hS text--_fontBase--QdLsd",value:e.query,onMouseDown:o,onMouseUp:s,onFocus:u,onBlur:p,onClick:h,onChange:y,onKeyDown:f,autoFocus:!0,spellCheck:!1}),i.createElement(w.z,{query:`(min-width: ${(0,l.hG)(C.tgj)}px)`},i.createElement(g.B,{className:A,svg:M.A,onClick:c})),i.createElement(w.z,{query:`(max-width: ${(0,l.hG)(C.tgj)-1}px)`},i.createElement(g.B,{className:A,svg:k.A,onClick:c}))))}),i.forwardRef((e,r)=>{let n=i.createRef();return i.useImperativeHandle(r,()=>n.current),i.createElement("div",{className:"search--adminSettingsTableSearchBarContainer--5mbJd",style:e.styleOverrides,onMouseDown:()=>{var e;return null==(e=n.current)?void 0:e.focus()},role:"presentation"},i.createElement(F,{...e,smallFont:!0,className:s()(f.cx.wFull.$,e.className),ref:n}))})},24897:(e,r,n)=>{"use strict";n.d(r,{B:()=>c,V:()=>d});var i=n(11855),a=n(29019),o=n.n(a),s=n(53234),l=n(14189);function d(e){return e}class c extends s.o6{constructor(){super(...arguments),this.spanRef=i.createRef(),this.onClick=s.cZ(this,"click",e=>{this.props.onClick(e)}),this.onMouseDown=s.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)}),this.onPointerUp=s.Am(this,"pointerup",e=>{this.props.onPointerUp(e)})}render(){let e=this.props.svg;if(null==e)return null;e.default&&(e=e.default);let r=e,n={...this.props};delete n.svg,delete n.useOriginalSrcFills_DEPRECATED,delete n.recordingKey,delete n.title,delete n.ariaLabel,delete n.ariaHidden,delete n.role,delete n.dataTestId,delete n.svgClassName,delete n.innerSpanRef,delete n.svgWidth,this.props.onClick&&this.props.recordingKey&&(n.onClick=this.onClick),this.props.onMouseDown&&this.props.recordingKey&&(n.onMouseDown=this.onMouseDown),this.props.onPointerUp&&this.props.recordingKey&&(n.onPointerUp=this.onPointerUp);let a=this.props.useOriginalSrcFills_DEPRECATED?"":"svg-container";this.props.className&&(a+=` ${this.props.className}`);let s=o()("svg",this.props.svgClassName),d=`<svg class="${s}" `;this.props.svgWidth&&(d+=`style="width: ${this.props.svgWidth}" `),this.props.title&&(d+=`title="${this.props.title}" `);let c="button"===this.props.role;!c&&this.props.ariaLabel&&(d+=`aria-label="${this.props.ariaLabel}" `),this.props.ariaHidden&&(d+='aria-hidden="true" '),r=r.replace("<svg ",d);let{autosize:u,...p}=n;if(!0===u){a+=` ${l.U}`;let e=p.style?{...p.style}:{};e.height=n.height,e.width=n.width,p.style=e}return i.createElement("span",{ref:e=>{this.spanRef.current=e,this.props.innerSpanRef&&(this.props.innerSpanRef.current=e)},role:this.props.role,dangerouslySetInnerHTML:{__html:r},"aria-label":c&&this.props.ariaLabel?this.props.ariaLabel:void 0,...p,className:a,"data-testid":this.props.dataTestId,"aria-hidden":this.props.ariaHidden})}}c.displayName="Svg"},46481:(e,r,n)=>{"use strict";n.d(r,{U:()=>d});var i=n(11855),a=n(42700),o=n(43742),s=n(24897),l=n(48425);function d({svg:e,fallbackSvg:r,recordingKey:n,children:d,fix_me_removeThisPropAndProvideUI3Icon:c,...u}){let{version:p}=(0,o.DP)();return"ui3"===p?d||i.createElement(a.V,null):r?i.createElement(l.t,{svg:e,fallbackSvg:r,...u}):i.createElement(s.B,{svg:e,recordingKey:n,...u})}},48425:(e,r,n)=>{"use strict";n.d(r,{t:()=>s});var i=n(11855),a=n(24897);let o=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 2), screen and (min-resolution: 2dppx)");class s extends i.PureComponent{constructor(){super(...arguments),this.state={matches:o.matches},this.onMediaQueryListChange=e=>{this.setState({matches:e.matches})}}componentDidMount(){o.addListener(this.onMediaQueryListChange)}componentWillUnmount(){o.removeListener(this.onMediaQueryListChange)}render(){let{svg:e,fallbackSvg:r,...n}=this.props,o=!this.state.matches&&r?r:e;return i.createElement(a.B,{svg:o,...n})}}},5113:(e,r,n)=>{"use strict";n.d(r,{o:()=>d});var i=n(11855),a=n(29019),o=n.n(a),s=n(19101),l=n(47131);let d=i.memo(function({text:e,className:r,lastClassName:n,showTooltip:a=l.i.WHEN_TRUNCATED,truncate:d="end"}){let c;let u=e.trim(),p=u.lastIndexOf("/"),h=u.lastIndexOf(" ");c=p>0?p:h>0?h:Math.round(.75*u.length);let m=u.substring(0,c),g=u.substring(c),f=i.useRef(null),_=(0,l.m)(e,a,f);return i.createElement("div",{className:o()("segmented_truncated_text--container--UfrDb",r),"aria-label":e,..._},m.length>0&&i.createElement("div",{ref:f,className:o()({"segmented_truncated_text--firstTruncateStart--GYFkA segmented_truncated_text--_first--T44MY":"start"===d,"segmented_truncated_text--firstTruncateEnd--NIilH segmented_truncated_text--_first--T44MY":"end"===d})},i.createElement(s.e,{condition:"start"===d,wrapper:e=>i.createElement("span",{className:"segmented_truncated_text--directionFix--tjJBa"},e)},i.createElement(i.Fragment,null,m))),i.createElement("div",{className:o()("segmented_truncated_text--last--a3vi9",n)},g))})},47131:(e,r,n)=>{"use strict";let i;n.d(r,{i:()=>s,m:()=>l});var a=n(11855),o=n(98606),s=((i=s||{})[i.NEVER=0]="NEVER",i[i.ALWAYS=1]="ALWAYS",i[i.WHEN_TRUNCATED=2]="WHEN_TRUNCATED",i);function l(e,r,n){let[i,s]=a.useState(1===r);return a.useLayoutEffect(()=>{2===r?s(null!=n.current&&n.current.scrollWidth>n.current.clientWidth):s(1===r)},[n,r]),i?{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":e}:{}}},11538:(e,r,n)=>{"use strict";let i,a;n.d(r,{EA:()=>_,Zu:()=>E,cQ:()=>y});var o=n(66712),s=n(74626),l=n(88706),d=n(38580),c=n(86640);let u="pref";var p=((a=p||{}).UNLOADED="unloaded",a.NO="no",a.YES="yes",a);function h(){return void 0===i&&(i=(0,c.OZ)()),i}function m(){let e=h();if(e)return e.get(u)}async function g(e="background"){try{return await scheduler.postTask(()=>m(),{priority:e})}catch{return}}let f=(0,s.M2)((0,l.t_)(()=>m()));window.addEventListener("focus",async()=>{s.zl.set(f,await g())}),(0,d.eU)(e=>{switch(e(f)){case l.Ut:case void 0:return"unloaded";case null:return"no";default:return"yes"}});let _=(0,d.eU)(e=>{let r=e(f);switch(r){case l.Ut:case void 0:return!1;case null:return"explicit"!==(0,o.bg)();default:return r.a}}),y=(0,d.eU)(e=>{let r=e(f);switch(r){case l.Ut:case void 0:return!1;case null:return!(0,o.bg)();default:return r.m}}),E=(0,d.eU)(e=>{let r=e(f);switch(r){case l.Ut:case void 0:return!1;case null:return"explicit"!==(0,o.bg)();default:return r.f}});(0,d.eU)(0)},47506:(e,r,n)=>{"use strict";n.d(r,{YQ:()=>l,az:()=>s});var i=n(38580),a=n(74626);class o{constructor(){this.listenerMap=new Map}addEventListener(e,r){this.listenerMap.get(e)||this.listenerMap.set(e,new Set),this.getListenersSet(e).add(r)}removeEventListener(e,r){var n;null==(n=this.getListenersSet(e))||n.delete(r)}getListenersSet(e){return this.listenerMap.get(e)}handleEvent(e){let r=this.listenerMap.get(e.id);null==r||r.forEach(r=>{r(e)})}}let s=(0,i.eU)(()=>new o);function l(e){a.zl.get(s).handleEvent(e)}},87918:(e,r,n)=>{"use strict";n.d(r,{AD:()=>a,EP:()=>s,Hr:()=>i,aI:()=>d,dI:()=>c,fn:()=>l,sH:()=>u,x7:()=>o});let i={sessionID:-1,localID:-1},a="-1:-1",o="[-1:-1]",s=["-1:-1"];function l(e){return!!e&&(0|e.localID)>=0&&(0|e.sessionID)>=0}function d(e,r){return e&&r?e.sessionID===r.sessionID&&e.localID===r.localID:e===r}function c(e){return e?`${0|e.sessionID}:${0|e.localID}`:null}function u(e){if(!e)return null;let r=e.split(":");if(!r||2!==r.length)return null;let n=-1,i=-1;try{n=parseInt(r[0]),i=parseInt(r[1])}catch(e){return null}return isFinite(n)&&isFinite(i)?{sessionID:n,localID:i}:null}},39863:(e,r,n)=>{"use strict";n.d(r,{Jv:()=>E,TT:()=>y,Tx:()=>g,dS:()=>b,t:()=>f});var i=n(11855),a=n(84934),o=n(17068),s=n(66712),l=n(76621),d=n(4783),c=n(72631),u=n(79296),p=n(78466),h=n(48241);let m=(0,u.D)((e,r)=>(0,p.Gq)().getContent(e,r)),g=i.memo(function(e){let{id:r,...n}=e,a=m(r,n);return i.createElement(i.Fragment,null,(0,o.Bq)(a).map((e,r)=>i.createElement(i.Fragment,{key:r},e)))});function f(e,r){return(0,o.Bq)(m(e,r)).join("")}let _=(0,u.D)(async e=>{var r;let n=null==(r=document.getElementById("web"===e?"dictionaryUrl":"web_english"===e?"englishDictionaryUrl":"dbDictionaryUrl"))?void 0:r.getAttribute("href");if(n){let e=3,r=[200,100,0];do try{r[e-1]>0&&await new Promise(n=>setTimeout(n,r[e-1]));let i=await fetch(n);if(!i.ok)throw Error(`Unable to fetch dictionary: ${i.statusText}`);return await i.json()}catch(r){if(0==--e)throw r}while(e>0)}});async function y(e=!1,r=null){let n,i,o;let u=r??(0,s.mm)();c.XZ.i18nLocale=u[0];try{let[r,s,u]=await Promise.all([(0,c.ZO)("fetchI18nPreloadDict",async()=>{n=await _("web")}).then(e=>e.duration).catch(e=>{(0,l.$D)(d.e.GROWTH_PLATFORM,e)}),(0,c.ZO)("fetchEnglishPreloadDict",async()=>{var e;try{i=await _("web_english")}catch(i){if(function(){let e=navigator.userAgent;for(let r of["PetalBot","Naver","lin.ee"])if(e.includes(r))return!0;return!1}())return;let r="unknown",n=null==(e=document.getElementById("englishDictionaryUrl"))?void 0:e.getAttribute("href");if(n){let e=n.split("/");r=e[e.length-1]}throw(0,a.sx)("english_entry_dict_failure",{message:"string"==typeof i?i:i instanceof Error?i.message:"Unknown",dictionary:r}),i}}).then(e=>e.duration),e?(0,c.ZO)("fetchI18nDbString",async()=>{o=await _("db")}).then(e=>e.duration):0]);r&&(c.XZ.i18nFetchPreloadedDictMs=Math.round(r)),c.XZ.i18nFetchPreloadedEnglishDictMs=Math.round(s),c.XZ.i18nFetchPreloadedDbDictMs=Math.round(u)}catch(e){throw console.warn(e),n=void 0,o=void 0,e}(0,p.lR)(u,h.Q$,n,o,i)}function E(e,r){var n,i;if(null==(n=null==e?void 0:e.data)?void 0:n.i18n){let r=e.data.i18n,n=f(r.id,r.params);if(n)return n}return r||(null==(i=null==e?void 0:e.data)?void 0:i.message)}function b(e,r=(0,p.Gq)().getPrimaryLocale(!1)){return r===h.Xn?e:`/${r}${e}`}},75224:(e,r,n)=>{"use strict";n.d(r,{$A:()=>l,hH:()=>o,lt:()=>a});var i=n(81540);function a(e){return e}function o(e){return e.file_key}let s=new Map;function l(e){if(s.has(e))return s.get(e);let r="lk-"+(0,i.blake2bHex)(e);return s.set(e,r),r}},72900:(e,r,n)=>{"use strict";n.d(r,{$:()=>i});var i,a=n(67249);(e=>{e.enqueueFront=(0,a.N)("NOTIFICATION_ENQUEUE_FRONT"),e.enqueue=(0,a.N)("NOTIFICATION_ENQUEUE"),e.dequeue=(0,a.N)("NOTIFICATION_DEQUEUE"),e.clearAll=(0,a.N)("NOTIFICATIONS_CLEAR_ALL")})(i||(i={}))},82064:(e,r,n)=>{"use strict";n.d(r,{M:()=>o,N:()=>i});var i,a=n(67249);function o(){return`${Date.now().toString(36)}-${Math.random().toString(36).substring(2)}`}(e=>{e.searchSelected=(0,a.N)("SEARCH_SELECTED"),e.startSearch=(0,a.N)("SEARCH_START_SESSION"),e.endSession=(0,a.N)("SEARCH_END_SESSION"),e.restoreSession=(0,a.N)("SEARCH_RESTORE_SESSION"),e.sessionSeeMoreClick=(0,a.N)("SEARCH_SESSION_SEE_MORE_CLICK"),e.sessionEnteredSearchView=(0,a.N)("SEARCH_SESSION_ENTERED_SEARCH_VIEW"),e.sessionEnteredSearchViewViaEnter=(0,a.N)("SEARCH_SESSION_ENTERED_SEARCH_VIEW_VIA_ENTER"),e.incrementQueryCount=(0,a.N)("SEARCH_INCREMENT_QUERY_COUNT")})(i||(i={}))},1114:(e,r,n)=>{"use strict";n.d(r,{sx:()=>i});let i=new(n(13868)).r},56029:(e,r,n)=>{"use strict";n.d(r,{Se:()=>u,Su:()=>p});var i=n(84934),a=n(66712),o=n(76621),s=n(52800),l=n(60640);function d(){return window.performance?window.performance.now():Date.now()}let c=(0,n(79296).D)(()=>(""+Math.random()).substr(2));class u{constructor(){this._lastConnectToMs=-1,this._scheduledTimeouts=[],this._domContentLoaded=-1,this._livegraphStartTime=-1,this._multiplayerStartTime=-1,this._multiplayerSatisfiedTime=-1,this._liveGraphSubscriptionLoaded=-1,this._multiplayerFirstResponse=-1,this._multiplayerFirstFinish=-1,this._iflCompleted=-1,this._sentViewerConnectToMetric=!1,this._connectArgs=null,this._isInEmbed=self!==top,this.reportedAbandon=!1,this.enableProfiling=!1,this.fullscreenEvents={loadAndStartFullscreenIfNecessary:-1,fullscreenIsReady:-1},this.reportViewerAbandon=()=>{let e=this._connectArgs;if(this.reportedAbandon||this.renderingEventsReported||"Preview"===e.entry&&!this.wasInlinePreviewModalOpenedSinceViewerLoaded)return;let r=Math.round(performance.now())-e.afterConnectTo;(0,i.sx)("Viewer Abandon",{entry:e.entry,connectionType:e.connectionType,abandonTime:r},{forwardToDatadog:!0,sendAsBeacon:!0}),this.reportedAbandon=!0},this.renderingEventsMaxSize=10,this.renderingEvents=[],this.renderingEventsReported=!1,this.handleDOMContentLoaded=()=>{this._domContentLoaded=this.now(),this.mark("dom_content_loaded"),i.az.trackDefinedEvent("prototype.dom_content_loaded",{time:this._domContentLoaded})},this.handleDocumentIsLoaded=()=>{var e;let r={};(null==(e=this._connectArgs)?void 0:e.fullscreen)!=="None"&&(r={...this.fullscreenEvents,...l.xK.getEventsToReport(!1)});let n={domContentLoaded:this._domContentLoaded,preloadedTabStart:window.preloadedTabStart,androidProtoPreloadedTabStart:window.androidProtoPreloadedTabStart,androidProtoFsPreloaded:window.androidProtoFsPreloaded,documentIsLoaded:this.now(),connectAttemptID:this._lastConnectToID,...this._connectArgs,...r};(0,i.sx)("Viewer Document Is Loaded",n)},this.wasViewerLoadReported=!1,this.handleViewerLoaded=e=>{if(this.clearScheduledTimeouts(),(0,o.ED)("Load Time Tracker","handleViewerLoaded",{lastConnectToMs:this._lastConnectToMs,lastConnectToID:this._lastConnectToID}),this._lastConnectToMs>=0&&null!=this._lastConnectToID){this.handleTabSwitchOrLoadChange("visible"===document.visibilityState,!1);let r={delaySecondsSinceConnect:(d()-this._lastConnectToMs)/1e3,domContentLoaded:this._domContentLoaded,preloadedTabStart:window.preloadedTabStart,androidProtoFsPreloaded:window.androidProtoFsPreloaded,androidProtoPreloadedTabStart:window.androidProtoPreloadedTabStart,connectAttemptID:this._lastConnectToID,timeNow:this.now(),visibleLoadTime:this._totalVisibleLoadTime,wasBackgroundedOnceWhileLoading:this._wasBackgroundedOnceWhileLoading,isStatsigBootstrapFlagOn:(0,a.w0)().statsig_client_bootstrap??!0,hasStatsigBootstrapValues:!!(0,a.Ay)().statsig_bootstrap_values,isUsingStatsigClientSDK:(0,a.w0)().statsig_client_sdk_enabled??!0,isUsingStatsigPrefetch:(0,a.w0)().statsig_client_enable_prefetch??!0};if(this._connectArgs){let n=r.timeNow-r.domContentLoaded,a={...r,entry:this._connectArgs.entry,connectionType:this._connectArgs.connectionType,isInEmbed:this._isInEmbed,loadTimeMs:n,lastLoaded:e};this.mark("viewer_loaded"),this.measure("viewer_loaded_measure","dom_content_loaded","viewer_loaded"),i.az.trackDefinedEvent("prototype.viewer_loaded",a)}this._lastConnectToMs=-1,this.wasViewerLoadReported=!0}else(0,o.x1)("load","Unexpected Viewer Loaded event without Viewer Connect To report")},this.handleFontListLoaded=e=>{let r={...this._connectArgs,domContentLoaded:this._domContentLoaded,connectAttemptID:this._lastConnectToID,timeNow:this.now()};(0,i.sx)("Viewer Font List Loaded",r)},this.computeLoadTimeSinceDomContentLoaded=(e=this.now())=>window.androidProtoFsPreloaded&&window.androidProtoPreloadedTabStart&&e>=window.androidProtoPreloadedTabStart?e-window.androidProtoPreloadedTabStart+window.androidProtoFsPreloaded-this._domContentLoaded:e-this._domContentLoaded,this.handleAfterConnectTo=e=>{this._lastConnectToMs=d(),this._lastConnectToID=c(),(0,o.ED)("Load Time Tracker","handleAfterConnectTo",{lastConnectToMs:this._lastConnectToMs,lastConnectToID:this._lastConnectToID}),this._connectArgs={...e,afterConnectTo:this.now()};let r={domContentLoaded:this._domContentLoaded,preloadedTabStart:window.preloadedTabStart,androidProtoFsPreloaded:window.androidProtoFsPreloaded,androidProtoPreloadedTabStart:window.androidProtoPreloadedTabStart,connectAttemptID:this._lastConnectToID,...this._connectArgs};if((!this._sentViewerConnectToMetric||(0,a.kc)().prototype_connectto_debug)&&(i.az.trackDefinedEvent("prototype.viewer_connect_to",{...r,isInEmbed:this._isInEmbed}),this._sentViewerConnectToMetric=!0),this.renderingEventsReported=!1,this.renderingEvents=[],this.clearScheduledTimeouts(),e.logViewerWaiting)for(let e of[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90]){let r=setTimeout(()=>{let r=(d()-this._lastConnectToMs)/1e3;(0,i.sx)("Viewer Waiting",{waitedAtLeastSeconds:e,delaySecondsSinceConnect:r,connectAttemptID:this._lastConnectToID})},1e3*e);this._scheduledTimeouts.push(r)}let n=setTimeout(()=>{var e,r;let n=(d()-this._lastConnectToMs)/1e3;(0,i.sx)("Viewer Waiting",{waitedAtLeastSeconds:60,delaySecondsSinceConnect:n,connectAttemptID:this._lastConnectToID,entry:null==(e=this._connectArgs)?void 0:e.entry,connectionType:null==(r=this._connectArgs)?void 0:r.connectionType,isInEmbed:this._isInEmbed},{forwardToDatadog:!0})},6e4);this._scheduledTimeouts.push(n),window.addEventListener("pagehide",this.reportViewerAbandon),this.reportedAbandon=!1,document.addEventListener("visibilitychange",()=>{let e="visible"===document.visibilityState,r=!1;this._lastConnectToMs>=0&&null!=this._lastConnectToID&&(r=!this.wasViewerLoadReported),this.handleTabSwitchOrLoadChange(e,r)}),this.handleTabSwitchOrLoadChange("visible"===document.visibilityState,!0)},this.wasInlinePreviewModalOpenedSinceViewerLoaded=!1,this._wasBackgroundedOnceWhileLoading=!1,this._totalVisibleLoadTime=0,this._wasVisiblyLoading=!1,this._lastTabSwitchOrLoadChange=-1,this.handleTabSwitchOrLoadChange=(e,r)=>{r&&(this._wasBackgroundedOnceWhileLoading=this._wasBackgroundedOnceWhileLoading||!e);let n=e&&r;if(!this._wasVisiblyLoading&&n)this._lastTabSwitchOrLoadChange=this.now();else{if(!this._wasVisiblyLoading||n)return;this._totalVisibleLoadTime+=this.now()-this._lastTabSwitchOrLoadChange}this._lastTabSwitchOrLoadChange=this.now(),this._wasVisiblyLoading=n},this.clearScheduledTimeouts=()=>{for(let e of this._scheduledTimeouts)clearTimeout(e);this._scheduledTimeouts=[]}}now(){return Math.round(performance.now())}mark(e){this.enableProfiling&&performance.mark(e)}measure(e,r,n){this.enableProfiling&&performance.measure(e,r,n)}handleDocumentRenderStart(){!this.renderingEventsReported&&this.renderingEvents.length<this.renderingEventsMaxSize&&this.renderingEvents.push([this.now(),-1])}handleDocumentRenderStop(){var e,r,n,a,l;if(this.renderingEventsReported)return;let d=this.renderingEvents.length-1;if(d>=0&&-1===this.renderingEvents[d][1]&&(this.renderingEvents[d][1]=this.now()),(0,o.ED)("Load Time Tracker","handleDocumentRenderStop",{lastIndex:d}),window.removeEventListener("pagehide",this.reportViewerAbandon),this.renderingEvents.length>=this.renderingEventsMaxSize){let d={},c=!0,u=0,p=0;this.renderingEvents.forEach((e,r)=>{c=c&&e[0]>=u&&e[1]>=e[0];let n=`frame.${r}.start`,i=`frame.${r}.stop`;d[n]=e[0],d[i]=e[1],p+=e[1]-e[0],u=e[1]}),d.total=c?p:-1,d.connectAttemptID=this._lastConnectToID,d.totalUsedHeapMemory=null==(e=s.hMR)?void 0:e.getTotalUsedHeapMemory(),d.maxUsedHeapMemory=null==(r=s.hMR)?void 0:r.getMaxUsedHeapMemory(),this.wasViewerLoadReported||(null==(n=this._connectArgs)?void 0:n.entry)!=="Prototype"||(0,o.x1)("load","Unexpected Viewer Rendering First Frames event without Viewer Loaded report");let h=this.computeLoadTimeSinceDomContentLoaded(),m={...d,timeToFirstFrame:h,avgFirstTenFramesRenderingTimeMs:p/this.renderingEvents.length,entry:null==(a=this._connectArgs)?void 0:a.entry,connectionType:null==(l=this._connectArgs)?void 0:l.connectionType,isInEmbed:this._isInEmbed};(0,i.sx)("Viewer Rendering First Frames",m,{forwardToDatadog:!0}),this.renderingEventsReported=!0,this.renderingEvents=[]}}handleLivegraphConnectionOpened(){-1===this._livegraphStartTime&&(this._livegraphStartTime=this.now(),this.mark("livegraph_subscription_started"),this.measure("livegraph_subscription_started_measure","dom_content_loaded","livegraph_subscription_started")),i.az.trackDefinedEvent("prototype.livegraph_subscription_started",{timeSinceDomContentLoaded:this.computeLoadTimeSinceDomContentLoaded(this._livegraphStartTime)})}handleLivegraphConnectionResponded(){let e=this.now();-1===this._liveGraphSubscriptionLoaded&&(this._liveGraphSubscriptionLoaded=e,this.mark("livegraph_subscription_loaded"),this.measure("livegraph_subscription_loaded_measure","dom_content_loaded","livegraph_subscription_loaded")),i.az.trackDefinedEvent("prototype.livegraph_subscription_loaded",{timeSinceDomContentLoaded:this.computeLoadTimeSinceDomContentLoaded(e),responseTime:e-this._livegraphStartTime})}handleMultiplayerOpenConnection(){-1===this._multiplayerStartTime&&(this._multiplayerStartTime=this.now(),this.mark("multiplayer_connection_start"),this.measure("multiplayer_connection_start_measure","dom_content_loaded","multiplayer_connection_start")),i.az.trackDefinedEvent("prototype.multiplayer_connection_start",{timeSinceDomContentLoaded:this.computeLoadTimeSinceDomContentLoaded(this._multiplayerStartTime)})}handleMultiplayerFirstResponse(){-1===this._multiplayerFirstResponse&&(this._multiplayerFirstResponse=this.now(),this.mark("multiplayer_first_response"),this.measure("multiplayer_first_response_measure","dom_content_loaded","multiplayer_first_response")),i.az.trackDefinedEvent("prototype.multiplayer_first_response",{timeSinceDomContentLoaded:this.computeLoadTimeSinceDomContentLoaded(),responseTime:this.now()-this._multiplayerStartTime})}handleMultiplayerIFLSatisfied(){-1===this._multiplayerFirstFinish&&(this._multiplayerFirstFinish=this.now(),this.mark("multiplayer_first_finish"),this.measure("multiplayer_first_finish_measure","dom_content_loaded","multiplayer_first_finish")),-1===this._multiplayerSatisfiedTime&&(this._multiplayerSatisfiedTime=this.now()),i.az.trackDefinedEvent("prototype.multiplayer_first_finish",{timeSinceDomContentLoaded:this.computeLoadTimeSinceDomContentLoaded(),responseTime:this.now()-this._multiplayerStartTime})}handleIFLCompleted(){-1===this._iflCompleted&&(this._iflCompleted=this.now(),this.mark("ifl_completed"),this.measure("ifl_completed_measure","dom_content_loaded","ifl_completed")),i.az.trackDefinedEvent("prototype.ifl_completed",{timeSinceDomContentLoaded:this.computeLoadTimeSinceDomContentLoaded(),responseTime:this.now()-this._multiplayerSatisfiedTime})}setWasInlinePreviewModalOpenedSinceViewerLoaded(e){this.wasInlinePreviewModalOpenedSinceViewerLoaded=e}}let p=new u},72429:(e,r,n)=>{"use strict";n.d(r,{Vj:()=>a,cJ:()=>o,oz:()=>i});let i=function(){return!1},a=function(){return!1},o=function(){return!1}},54660:(e,r,n)=>{"use strict";let i,a;n.d(r,{M:()=>ty});var o,s,l={};n.r(l),n.d(l,{container:()=>eA,darkOptionBase:()=>eO,inputtableOption:()=>eR,inputtableOptionText:()=>eP,optionResultBar:()=>eL,question:()=>eN,resultsButton:()=>eF,resultsLabel:()=>ex,votableOption:()=>eM,winningInputtableOption:()=>eD,winningResultBar:()=>eU,winningVotableOption:()=>ek});var d={};n.r(d),n.d(d,{container:()=>eB,inputtableOption:()=>eH,inputtableOptionText:()=>eG,optionResultBar:()=>eW,question:()=>eV,resultsButton:()=>e$,resultsLabel:()=>eY,votableOption:()=>eK,winningInputtableOption:()=>ez,winningResultBar:()=>eq,winningVotableOption:()=>ej});var c={};n.r(c),n.d(c,{container:()=>eZ,inputtableOption:()=>eJ,inputtableOptionText:()=>eQ,optionResultBar:()=>e0,question:()=>eX,resultsButton:()=>e4,resultsLabel:()=>e5,votableOption:()=>e2,winningInputtableOption:()=>e1,winningResultBar:()=>e6,winningVotableOption:()=>e3});var u=n(11855),p=n(52800),h=n(74505),m=n(41860),g=n(57630),f=n(29928),_=n(197),y=n(89865),E=n.n(y),b=n(55880);function v(e){return function({nodeId:r}){let n=(0,u.useCallback)((e,n)=>{let i=m.qo.instance.get(r);i&&i.setInteractiveSlideConfigData(e,n)},[r]),i=(0,u.useCallback)(e=>{let n=m.qo.instance.get(r);n&&n.deleteInteractiveSlideConfigData(e)},[r]),a=(0,u.useCallback)((e,n)=>{let i=m.qo.instance.get(r);i&&i.setInteractiveSlideParticipantData(e,n)},[r]),o=(0,u.useCallback)(()=>{let e=m.qo.instance.get(r);e&&e.resetInteractiveSlideParticipantData()},[r]),s=(0,b.Fk)((e,r)=>{let n=e.get(r);return n?n.interactiveSlideConfigData:null},r),l=(0,b.Fk)((e,r)=>{let n=e.get(r);return n?n.interactiveSlideParticipantData:null},r);return s&&l?u.createElement(e,{configData:s,participantData:l,setConfigData:n,setParticipantData:a,resetParticipantData:o,deleteConfigData:i,isViewer:!1,isPresenter:!1,recordingKey:`flapp.${r}`,nodeId:r}):null}}function S(e){return function({viewer:r,nodeId:n}){let i=(0,b.x3)((e,r)=>{let n=e.getPrototypeNode(r);return n?e.nodeInteractiveSlideConfigData(n):null},n),a=(0,b.x3)((e,r)=>{let n=e.getPrototypeNode(r);return n?e.nodeInteractiveSlideParticipantData(n):null},n);if(!i||!a)return null;let o=(e,n,i)=>{r.setInteractiveSlideConfigData(e,n,i)},s=(e,n,i)=>{r.setInteractiveSlideParticipantData(e,n,i)},l=r.isPresenterSession();return u.createElement(e,{configData:i,participantData:a,setConfigData:(e,r)=>o(n,e,r),setParticipantData:(e,r)=>s(n,e,r),recordingKey:`flapp.${n}`,isViewer:!0,isPresenter:l,nodeId:n})}}function I(e){return u.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},u.createElement("path",{stroke:"var(--color-icon)",d:"M19.75 10.701c1 .577 1 2.02 0 2.598l-10.5 6.062A1.5 1.5 0 0 1 7 18.062V5.938a1.5 1.5 0 0 1 2.25-1.3l10.5 6.063Z"}))}var T=n(29019),w=n.n(T),C=n(75515),A=n(30949),N=n(39863),O=n(1114),R=n(63508),P=n(69468),L=n(62531),D=n(29680),M=n(60178),k=n(35283);let x=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM"],F=e=>x.some(r=>e.startsWith(r));function U(e,r,n){let i=r.x/r.y,a=e.x/e.y;(0,k.vA)(.01>Math.abs(i-a),`Expected ${i} \u2248 ${a}`);let o=e.x/r.x;return{x:n.x*o,y:n.y*o}}let B=e=>{let r=R.hY[e];return(0,k.B1)(r,"getDeviceImageIdealSize must take in a valid presetIdentifier"),{x:r.imageSize.x/r.scaleFactor,y:r.imageSize.y/r.scaleFactor}},V="inline_preview_modal--iframeContainer--ylTh5",H="inline_preview_device_frames--previewDeviceImage--pSzed";function G({children:e,initialViewerSize:r,isDeviceFrameShown:n,prototypeDevice:i,isInlinePreview:a}){let o="data:,",s="",l={},d=!1,c=1,h=!1;if(n){(0,k.B1)(i,"prototypeDevice should be set when device frame is shown");let{presetIdentifier:e,rotation:n}=i,u=R.hY[e];if(a){let e=null==u?void 0:u.inlinePreviewInfo;(0,k.B1)(e,"inlinePreviewDeviceData should exist since device is supported for inline preview")}o=u.url,d=F(e),h=n===p.xOL.CCW_90;let m=u.getI18nDeviceName(),g=u.getI18nStyleName();s=`${m} (${g})`;let{idealDeviceSize:f,framePresetSize:_,offset:y}=function(e,r){let n=e=>({x:e.y,y:e.x}),{framePresetSize:i,offset:a}=R.hY[e],o=B(e),s=r===p.xOL.CCW_90,l={x:o.x-i.x-a.x,y:a.y};return s?{idealDeviceSize:n(o),framePresetSize:n(i),offset:n(l)}:{idealDeviceSize:o,framePresetSize:i,offset:a}}(e,n),E=U(r,_,f);c=E.x/E.y;let b=U(r,_,y),v={x:r.x/E.x*100,y:r.y/E.y*100},S={x:b.x/E.x*100,y:b.y/E.y*100};l={position:"absolute",width:`${v.x}%`,height:`${v.y}%`,left:`${S.x}%`,top:`${S.y}%`}}let m=n?"inline_preview_device_frames--previewDeviceContainer--fNvYG":V,g=w()({[V]:!0,"inline_preview_device_frames--fillGapsBetweenDeviceAndIframe--DuNNK":n,"inline_preview_device_frames--hideCornersForOverlyRoundedDevice--Rn1BM":d});return u.createElement("div",{className:m},n&&(h?(()=>{let e=1/c;return u.createElement("div",{style:{aspectRatio:c}},u.createElement("img",{src:o,className:w()("inline_preview_device_frames--rotatedHorizontal--5yjwl","inline_preview_device_frames--positionRotatedHorizontalDeviceFrame--mPJzu",H),style:{width:`${100*e}%`},alt:s,"data-testid":"inline-preview-device-image"}))})():u.createElement("img",{src:o,className:H,alt:s,"data-testid":"inline-preview-device-image"})),u.createElement("div",{style:l,className:g},e))}var W=n(88507),z=n(84934);n(44780);var K=n(11617),j=n(17333);n(13654),n(98977);var Y=n(66712),$=n(98750);n(88169),n(99737);var q=n(63706),Z=n(53234);n(76621),n(96328),n(5984),n(30637);var X=n(22739),J=n(24897);n(38908);function Q({onClick:e,recordingKey:r,label:n,svg:i,variant:a,tabIndex:o,forwardedRef:s,disabled:l=!1}){let d="padded-focus-halo"===a?styles.imageButtonWithPaddedFocusHalo:styles.imageButton;return React.createElement(RecordableButton,{className:d,disabled:l,onClick:e,"aria-label":n,recordingKey:r,tabIndex:o,forwardedRef:s,"data-fullscreen-intercept":!0},i)}n(56029);var ee=n(92592),et=n(80820),er=n(67249);(0,et.nF)(e=>{var r,n;K.R7.fullscreen&&(e.getState().appWindow.inFullScreenMode?(null==(r=j.eD)||r.setFullScreen(!1),K.R7.getFullscreenElement()?K.R7.exitFullscreenFunc():e.dispatch(en())):(null==(n=j.eD)||n.setFullScreen(!0),K.R7.requestFullscreenFunc.call(document.documentElement)))}),(0,er.N)("WINDOW_DID_ENTER_FULL_SCREEN");let en=(0,er.N)("WINDOW_DID_EXIT_FULL_SCREEN");var ei=n(74626),ea=n(88706);n(11978);var eo=((i=eo||{})[i.DISPATCH_WINDOW_OPEN=0]="DISPATCH_WINDOW_OPEN",i[i.SET_READY_FOR_MESSAGES=1]="SET_READY_FOR_MESSAGES",i[i.CLOSE_WINDOW=2]="CLOSE_WINDOW",i);let es=(0,ea.um)({readyForMessages:!1},(e,r)=>{switch(r.type){case 0:{if(e.pvWindow)return e;let n=function(e,r){if(""===r){ee.F.enqueue({message:(0,N.t)("slides.presenter_view.unknown_error"),error:!0});return}let n=(()=>{let e=r.split("/")[4];return(0,K.FJ)(r,`presenter-view-${e}`,"height=720,width=1280,left=0,top=0,popup=yes")})();if(null===n){let n={text:(0,N.t)("slides.presenter_view.open_popup"),action:()=>{ei.zl.set(es,{type:0,dispatch:e,url:r})}};e(ee.F.enqueue({message:(0,N.t)("slides.presenter_view.pop_up_error"),error:!0,button:n})),ei.zl.set(es,{type:2})}return n}(r.dispatch,r.url);if(n)return{pvWindow:n,readyForMessages:!1};return{readyForMessages:!1}}case 1:if(e.pvWindow)return{...e,readyForMessages:!0};return{readyForMessages:!1};case 2:return{readyForMessages:!1}}});n(75350),n(44682);var el=n(38269);n(93017),(0,er.N)("INTERACTION_TEST_HIDE_RECORDER"),(0,er.N)("INTERACTION_TEST_SHOW_RECORDER"),n(56390),n(98083),n(86640);var ed=n(60707),ec=n(97666);class eu{constructor(e){for(let r of(this.reported=!1,this.initializationStart=null,this.events={},["applyNodeChanges","multiplayerMessageSize","initializePrototypeLib","viewerSceneDidCompleteInitialLoad","transferSentToWorker","transferMemory","transferMemorySize"]))e[r]=e[r]||[],e[r].push(this)}reset(){this.events={}}start(e){this.logTime(e+"Start"),"initializePrototypeLib"===e&&(this.initializationStart=performance.now())}end(e){this.logTime(e+"End")}logValue(e,r){this.events[e]=r}logTime(e){this.events[e]=Math.round(performance.now())}report(){var e,r,n;this.logTime("reportedAt");let i={version:2,firstReport:!this.reported,totalUsedHeapMemory:null==(e=p.hMR)?void 0:e.getTotalUsedHeapMemory(),maxUsedHeapMemory:null==(r=p.hMR)?void 0:r.getMaxUsedHeapMemory(),fileKey:null==(n=(0,C.hk)())?void 0:n.openFileKey(),...this.events};setTimeout(()=>{(0,z.sx)("Prototype Lib Loaded",i),this.reported=!0})}}class ep{constructor(e){for(let r of(this.startTimes={},this.meta={},this.track=(0,ec.s)(e=>{(0,Y.kc)().prototype_lib_perf_report&&(0,z.sx)("Prototype Lib Function",e)},200),["applyNodeChanges","getNodeChangesForSwap","multiplayerMessageSize"]))e[r]=e[r]||[],e[r].push(this)}reset(){this.startTimes={},this.meta={}}logValue(e,r){this.meta[e]=r}start(e){this.startTimes[e]=performance.now()}end(e){if(void 0!==this.startTimes[e]){let r=p.hMR.getTotalUsedHeapMemory(),n=p.hMR.getMaxUsedHeapMemory(),i={name:e,start:this.startTimes[e],end:performance.now(),totalUsedHeapMemory:r,maxUsedHeapMemory:n,...this.meta};this.track(i),this.reset()}}}(e=>{let r={},n=new ep(r);e.loadTimer=new eu(r);let i=[n,e.loadTimer];e.reset=function(){for(let e of i)e.reset()},e.start=function(e){var n;null==(n=r[e])||n.forEach(r=>r.start(e))},e.end=function(e){var n;null==(n=r[e])||n.forEach(r=>r.end(e))},e.logValue=function(e,n){var i;null==(i=r[e])||i.forEach(r=>r.logValue(e,n))};let a=!0;e.reportOOM=function(r){if(!a)return;a=!1;let n=e.loadTimer.initializationStart?Math.round(performance.now()-e.loadTimer.initializationStart):0,i={totalMemoryInBytes:(0,ed.le)(),failedSize:r,currentAllocatedBytes:p.hMR.getTotalUsedHeapMemory(),maxAllocatedBytes:p.hMR.getMaxUsedHeapMemory(),timeSinceInitialization:n,is64BitBrowser:q.Ay.is64BitBrowser};(0,z.sx)("Prototype Lib Out Of Memory",i)}})(o||(o={})),(e=>{let r=null;e.setLoadTimeTracker=function(e){r=e},e.getLoadTimeTracker=function(){return r}})(s||(s={})),n(87623),n(26911),n(9511),n(37499),n(5328),n(35682),n(93212),n(41437),n(92542),n(79453),n(28527),n(94500),n(49774),n(33861),n(59403),n(55258),n(53381),n(50252),n(33615),n(64434);var eh=n(33011),em=n(54322);n(46689);let eg=class{constructor(e,r){this._isUIShown=e,this._inCommentsMode=!1,this._rcsUserFlags=[],this._hideUITask=new eh.W,this.handleProgressBarStoppedShowing=()=>{this.showUiAndScheduleFade()},this.onWindowFocus=()=>{this.showUiAndScheduleFade()},this.didEnterCommentsMode=()=>{this._hideUITask.reset(),this._setUIShown(!0),this._inCommentsMode=!0},this.didLeaveCommentsMode=()=>{this._inCommentsMode&&(this._inCommentsMode=!1,this.showUiAndScheduleFade())},this.didRscUserFlagsUpdate=e=>{this._rcsUserFlags=e},this.handleUnhideUI=()=>{this.showUiAndScheduleFade()},this.handlePageMouseDownOrTouchStart=e=>{"CURRENT_TLF"===e.type||"DEVICE_FRAME"===e.type?this._setUIShown(!1):"PROTOTYPE_BACKGROUND"===e.type&&(this._hideUITask.reset(),this._isUIShown()?this._setUIShown(!1):this.showUiAndScheduleFade())},this.handleHotspotClicked=()=>{this._setUIShown(!1)},this.handlePageMouseMove=(e,r)=>{let n=e.clientY,i=window.innerHeight-e.clientY,a=85>Math.abs(window.innerWidth/2+r/2-e.clientX)&&i<60;n<(0,em.bG)()?this.showUiAndScheduleFade():a?this.showUiAndScheduleFade():this.scheduleFadeIfNecessary()},this.handleHeaderOrFooterMove=e=>{this._hideUITask.reset(),this._isUIShown()||this._setUIShown(!0),e.stopPropagation()},this.handleHeaderOrFooterBlur=e=>{this.scheduleFadeIfNecessary()},this.handleHeaderOrFooterFocus=e=>{this._hideUITask.reset(),this._setUIShown(!0)},this.handleKeyDown=(e,r)=>{(r&&this._isUIShown()||e.keyCode===$.Uz.ESCAPE)&&this.showUiAndScheduleFade()},this.teardown=()=>{this._hideUITask.reset()},this.showUiAndScheduleFade=()=>{this._isUIShown()||this._setUIShown(!0),this._hideUITask.reset(),this.scheduleFadeIfNecessary()},this.scheduleFadeIfNecessary=()=>{this._hideUITask.isScheduled()||this._hideUITask.scheduleOnce(()=>{this._setUIShown(!1)},eg.FADE_DELAY_MS)},this._setUIShown=e=>{let n=!e&&this._inCommentsMode,i=!e&&this._rcsUserFlags.reduce((e,r)=>e||eg.RCS_SHOWN_ON_UI.has(r),!1);n||i||r(e)}}};eg.FADE_DELAY_MS=q.rr?1e3:2e3,eg.RCS_SHOWN_ON_UI=new Set(["seen_synchronous_collaboration_onboarding"]),n(24187);(0,et.nF)((e,{nodeId:r,startingPointNodeId:n,forceReplaceState:i})=>{let a=e.getState().selectedView;e.dispatch(el.$T({...a,nodeId:r,startingPointNodeId:n,forceReplaceState:i}))});function ef({configData:e,nodeId:r,setConfigData:n,isViewer:i,isActivated:a,setActivate:o}){let s=(0,C.hk)(),l="true"===e.deviceFrameShown?function(e){let r=R.hY[e.deviceFramePreset??""];return r?{type:p.XQq.PRESET,size:r.framePresetSize,presetIdentifier:r.presetIdentifier,rotation:e_(e.deviceFrameRotation)}:null}(e):null,d=u.useCallback(e=>{var n;if(r!==e.nodeId)return;let i=document.getElementById("embedded-prototype-"+r);!i||(null==s?void 0:s.isPresenterSession())||null==(n=i.contentWindow)||n.postMessage({type:"SET_OBSERVING_SESSION_ID",data:{sessionId:null!=e.presenterSessionId?e.presenterSessionId:-1}},"*")},[r,s]);(0,C.O5)(s,"embeddedPrototypeChange",d),(0,u.useEffect)(()=>{let e=e=>{if(e.origin===location.origin&&(!e.source||!("frameElement"in e.source)||null==e.source.frameElement||e.source.frameElement.id==="embedded-prototype-"+r)){if(s&&"PRESENTER_SESSION_ID"===e.data.type&&s.handleEmbeddedPrototypeChange(r,e.data.data.sessionId),!i&&"EMBED_PROTO_ASPECT_RATIO"===e.data.type){let n=m.qo.instance.get(r),i=e.data.data.aspectRatio;n&&i&&L.l7.system("resizing-embed",()=>{n.resizeWithConstraints(n.size.x,Math.floor(n.size.x/i)),n.proportionsConstrained=!0})}if(!i&&"EMBED_PROTO_DEVICE"===e.data.type){let r=e.data.data;r&&r.device?L.l7.system("embed-deviceframe",()=>{n("deviceFrameShown",""!==r.device.presetIdentifier&&"PRESET"===r.device.type?"true":"false"),n("deviceFramePreset",r.device.presetIdentifier),n("deviceFrameRotation",r.device.rotation)}):L.l7.system("embed-deviceframe",()=>{n("deviceFrameShown","false"),n("deviceFramePreset",""),n("deviceFrameRotation","NONE")})}}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[s,r,n,i]),(0,u.useEffect)(()=>()=>{null==s||s.handleEmbeddedPrototypeChange(r,-1)},[s,r]);let c=(0,M.TA)(),h=(0,u.useMemo)(()=>(function(e,r){let n;if(!e)return null;try{n=new URL(e)}catch(e){return null}return n.searchParams.append("bare-ui","1"),n.searchParams.append("scaling","fit-width"),n.searchParams.append("needsAlpha","1"),n.searchParams.append("inline-viewer","1"),r&&n.searchParams.append("fuid",r),n})(e.url,c),[e.url,c]),g=(null==l?void 0:l.rotation)===p.xOL.CCW_90?{x:(null==l?void 0:l.size.y)??eE.size.y,y:(null==l?void 0:l.size.x)??eE.size.x}:{x:(null==l?void 0:l.size.x)??eE.size.x,y:(null==l?void 0:l.size.y)??eE.size.y},f=(0,D.KH)();return(0,u.useEffect)(()=>{null!=o&&(f&&1===Object.keys(f).length&&f[r]?o(!0):o(!1))},[a,o,f,r]),u.createElement("div",{className:w()("embed--container--KRhyf")},u.createElement(G,{initialViewerSize:g,isDeviceFrameShown:null!=l&&l.type===p.XQq.PRESET&&""!==l.presetIdentifier,prototypeDevice:l,isInlinePreview:!1},a&&e.url?u.createElement("iframe",{id:`embedded-prototype-${r}`,loading:"eager",className:"embed--iframe--6z9Fq",src:null==h?void 0:h.toString(),title:(0,N.t)("slides.flapp.embed.title"),allow:"autoplay; encrypted-media; picture-in-picture; fullscreen;",sandbox:"allow-scripts allow-same-origin"}):null,!a&&o?u.createElement("div",{className:A.cx.wFull.hFull.flex.justifyCenter.itemsCenter.cursorPointer.$},u.createElement(I,{className:A.cx.colorIconOninverse.font24.$,style:O.sx.w100.h100.$})):null))}let e_=e=>{switch(e){case"NONE":default:return p.xOL.NONE;case"CCW_90":return p.xOL.CCW_90}},ey=P.eo[0],eE={type:p.XQq.PRESET,size:ey.framePresetSize,presetIdentifier:ey.presetIdentifier,rotation:p.xOL.NONE};var eb=n(77859);let ev={type:"EMBED",EditorFlapp:v(function(e){let[r,n]=(0,u.useState)(!1);return u.createElement(ef,{...{...e,isActivated:r,setActivate:n}})}),ViewerFlapp:S(function(e){return u.createElement(ef,{...{...e,isActivated:!0}})}),InlineControl:v(function({configData:e,setConfigData:r}){let[n,i]=(0,u.useState)(!1),[a,o]=(0,u.useState)("");(0,u.useEffect)(()=>{(null==e?void 0:e.url)&&o(null==e?void 0:e.url)},[null==e?void 0:e.url]);let s=(0,u.useMemo)(()=>(0,ec.s)(e=>{L.l7.user("update-embed-url",()=>{r("url",e)})},500),[r]);return u.createElement(u.Fragment,null,u.createElement(eb.$n,{onClick:()=>i(e=>!e),className:A.cx.wAuto.flex.alignCenter.justifyCenter.$},u.createElement("span",{className:A.cx.pr12.$},u.createElement(N.Tx,{id:"slides.flapp.embed.url"}))),n?u.createElement("input",{value:a,onChange:e=>{o(e.target.value),s(e.target.value)}}):null)})};var eS=n(3910),eI=n(61726),eT=n(2008),ew=n(59838),eC=n(81388);let eA="poll-dark--container---vY5z poll--_containerBase--B684d",eN="poll-dark--question--36J8q poll--_questionBase--QRZ2A text--fontPos48--H177Q text--_fontBase--QdLsd",eO="poll-dark--darkOptionBase--3ImhC",eR="poll-dark--inputtableOption--Q-PDx poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd poll-dark--darkOptionBase--3ImhC",eP="poll-dark--inputtableOptionText--K5ppq poll--_optionTextBase--QUCuN",eL="poll-dark--optionResultBar--O3IzO poll--_optionResultBarBase--Joo-o",eD="poll-dark--winningInputtableOption--funOR poll-dark--inputtableOption--Q-PDx poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd poll-dark--darkOptionBase--3ImhC",eM="poll-dark--votableOption--GsTBB poll--_votableOptionBase---FS17 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd poll-dark--darkOptionBase--3ImhC",ek="poll-dark--winningVotableOption--2Ov-f poll-dark--votableOption--GsTBB poll--_votableOptionBase---FS17 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd poll-dark--darkOptionBase--3ImhC",ex="poll-dark--resultsLabel--uts-R poll--_resultsLabelBase--yVOXS text--fontPos24--YppUD text--_fontBase--QdLsd",eF="poll-dark--resultsButton--NQJc- poll--_resultsButtonBase--uepBH text--fontPos24--YppUD text--_fontBase--QdLsd",eU="poll-dark--winningResultBar--kk0bm poll-dark--optionResultBar--O3IzO poll--_optionResultBarBase--Joo-o",eB="poll-light--container--4iFri poll--_containerBase--B684d",eV="poll-light--question--CPzsa poll--_questionBase--QRZ2A text--fontPos48--H177Q text--_fontBase--QdLsd",eH="poll-light--inputtableOption--RbdhX poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",eG="poll-light--inputtableOptionText--Aq1Wr poll--_optionTextBase--QUCuN",eW="poll-light--optionResultBar--z9qeP poll--_optionResultBarBase--Joo-o",ez="poll-light--winningInputtableOption--B---f poll-light--inputtableOption--RbdhX poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",eK="poll-light--votableOption--3Iix1 poll--_votableOptionBase---FS17 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",ej="poll-light--winningVotableOption--8lh2w poll-light--votableOption--3Iix1 poll--_votableOptionBase---FS17 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",eY="poll-light--resultsLabel--y6syr poll--_resultsLabelBase--yVOXS text--fontPos24--YppUD text--_fontBase--QdLsd",e$="poll-light--resultsButton--bMgic poll--_resultsButtonBase--uepBH text--fontPos24--YppUD text--_fontBase--QdLsd",eq="poll-light--winningResultBar---mykM poll-light--optionResultBar--z9qeP poll--_optionResultBarBase--Joo-o",eZ="poll-translucent--container--0MSJf poll--_containerBase--B684d",eX="poll-translucent--question--aiBAG poll--_questionBase--QRZ2A text--fontPos48--H177Q text--_fontBase--QdLsd",eJ="poll-translucent--inputtableOption--2otV2 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",eQ="poll-translucent--inputtableOptionText--rC1V1 poll--_optionTextBase--QUCuN",e0="poll-translucent--optionResultBar--ETpT3 poll--_optionResultBarBase--Joo-o",e1="poll-translucent--winningInputtableOption--L49x9 poll-translucent--inputtableOption--2otV2 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",e2="poll-translucent--votableOption--qxVEE poll--_votableOptionBase---FS17 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",e3="poll-translucent--winningVotableOption--2ATUu poll-translucent--votableOption--qxVEE poll--_votableOptionBase---FS17 poll--_optionBase--BRwaQ text--fontPos24--YppUD text--_fontBase--QdLsd",e5="poll-translucent--resultsLabel--Lo218 poll--_resultsLabelBase--yVOXS text--fontPos24--YppUD text--_fontBase--QdLsd",e4="poll-translucent--resultsButton--MiH9- poll--_resultsButtonBase--uepBH text--fontPos24--YppUD text--_fontBase--QdLsd",e6="poll-translucent--winningResultBar--qRdif poll-translucent--optionResultBar--ETpT3 poll--_optionResultBarBase--Joo-o";var e8=((a=e8||{}).Light="LIGHT",a.Dark="DARK",a.Translucent="TRANSLUCENT",a);let e7="LIGHT";function e9(e){let r=[];for(let n=0;n<6;n++){let i=e[`option${n}`];void 0!==i&&r.push(i)}return r}function te({resultsShown:e,setResultsShown:r,resultsButtonStyle:n}){return u.createElement(X.GG,{className:n,onClick:()=>r(!e),recordingKey:"resultsButton"},e?u.createElement(u.Fragment,null,u.createElement(eS.f,{height:"32px",width:"32px"}),u.createElement(N.Tx,{id:"slides.flapp.poll.hide_results"})):u.createElement(u.Fragment,null,u.createElement(eI.l,{height:"32px",width:"32px"}),u.createElement(N.Tx,{id:"slides.flapp.poll.show_results"})))}function tt({totalVotes:e,resultsLabelStyle:r}){let n=0===e?(0,N.t)("slides.flapp.poll.no_votes"):(0,N.t)("slides.flapp.poll.num_votes",{totalVotes:e});return u.createElement("div",{className:r},n)}function tr({children:e,isWinningVote:r,isUserVote:n,percentage:i,resultsShown:a,optionResultBarStyle:o,winningResultBarStyle:s}){return u.createElement(u.Fragment,null,a&&u.createElement("div",{className:r?s:o,style:{width:`${i}%`}}),e,u.createElement("div",{className:"poll--optionResultContainer--WKBMg"},n&&u.createElement(eT.l,{height:"32px",width:"32px"}),a&&u.createElement("div",{className:"poll--optionResult--90wqC"},`${i}%`)))}function tn({configData:e,participantData:r,setConfigData:n,setParticipantData:i,deleteConfigData:a,isViewer:o,isPresenter:s,recordingKey:l,containerStyle:d,questionStyle:c,inputtableOptionStyle:p,inputtableOptionTextStyle:h,optionResultBarStyle:m,votableOptionStyle:g,resultsLabelStyle:f,resultsButtonStyle:_,winningResultBarStyle:y,winningInputtableOptionStyle:E,winningVotableOptionStyle:b}){let v=(0,W.wA)(),S=(0,M.TA)(),I=e.question||"",T=e9(e),C="true"===e.resultsShown,[O,R]=u.useState(!1),P=u.useMemo(()=>[],[]);(0,u.useEffect)(()=>{if(O&&P.length>0){let e=P.slice(-1)[0];e&&e.current&&e.current.focus()}},[T.length,P,O]);let D=L.nc.user("slides-update-poll-question",e=>{n("question",e.target.value)}),k=L.nc.user("slides-update-poll-question",e=>{n("question",e.clipboardData.getData("text"))}),x=e=>`option${e}`,F=L.nc.user("slides-update-poll-option",(e,r)=>{n(x(e),r.currentTarget.value)}),U=L.nc.user("slides-update-poll-option",(e,r)=>{n(x(e),r.clipboardData.getData("text"))}),B=L.nc.user("slides-update-poll-options",(e,r)=>{e===T.length-1&&("Enter"===r.key&&T.length<6?(n(x(e+1),""),R(!0)):T.length>2&&0===T[e].length&&("Backspace"===r.key||"Delete"===r.key)&&(a&&(a(x(e)),r.preventDefault()),R(!0)))}),V=e=>{n("resultsShown",e?"true":"false")},{totalVotes:H,votePercentages:G,winningVoteIndexes:K,userVoteIndex:j}=function(e,r,n){let i=e9(r),a=i.map((e,r)=>{let i=`option${r}`;return Object.values(n).filter(e=>e===i).length}),o=a.reduce((e,r)=>e+r,0),s=i.map((e,r)=>Math.round(100*(a[r]/o||0))),l=Math.max(...a),d=a.reduce((e,r,n)=>r===l&&0!==r?[...e,n]:e,[]),c=e&&n[e]||null;return{voteCounts:a,votePercentages:s,totalVotes:o,winningVoteIndexes:d,userVoteIndex:Number((null==c?void 0:c.charAt(c.length-1))||-1)}}(S,e,r),Y=L.nc.system("slides-update-poll-votes",e=>{let r=function(){let e=(0,z.pp)();if(void 0!==e)return`VISITOR-${e}`}();if(!r){v(eC.s.error((0,N.t)("slides.flapp.poll.vote_failure")));return}i(r,`option${e}`)});return u.createElement("div",{className:o?"poll--presentationPollContainer--WaDkB poll--pollContainer--3mDNR":"poll--pollContainer--3mDNR"},u.createElement("div",{className:d},o?u.createElement("div",{className:c},I):u.createElement(ew.L,{type:"text",className:c,value:I,placeholder:(0,N.t)("slides.flapp.poll.question_placeholder"),onChange:D,onPaste:k,recordingKey:Z.Pt(l,"questionInput")}),u.createElement("div",{className:"poll--optionContainer--ds9OS"},T.map((e,r)=>{let n=u.createRef();P.push(n);let i=-1!==K.indexOf(r);return o?u.createElement(X.GG,{key:r,className:i&&C?b:g,onClick:()=>Y(r),recordingKey:Z.Pt(l,`option${r}`)},u.createElement(tr,{isWinningVote:i,isUserVote:r===j,percentage:G[r],resultsShown:C,optionResultBarStyle:m,winningResultBarStyle:y},u.createElement("div",{className:h},e))):u.createElement("div",{key:r,className:i&&C?E:p},u.createElement(tr,{isWinningVote:i,isUserVote:r===j,percentage:G[r],resultsShown:C,optionResultBarStyle:m,winningResultBarStyle:y},u.createElement(ew.L,{className:h,type:"text",value:e,placeholder:(0,N.t)("slides.flapp.poll.option_placeholder"),onChange:e=>F(r,e),onKeyDown:e=>B(r,e),onPaste:e=>U(r,e),ref:n,recordingKey:Z.Pt(l,`optionInput${r}`)})))}),u.createElement("div",{className:"poll--pollBottom--SIDf8"},u.createElement(tt,{totalVotes:H,resultsLabelStyle:f}),u.createElement(te,{resultsShown:C,setResultsShown:e=>V(e),resultsButtonStyle:w()(_,{[A.cx.invisible.$]:!s})})))))}function ti({configData:e,participantData:r,setConfigData:n,setParticipantData:i,deleteConfigData:a,isViewer:o,isPresenter:s,recordingKey:p,nodeId:h}){let m;let g=e.pollTheme||e7;return m="DARK"===g?l:"TRANSLUCENT"===g?c:d,u.createElement(tn,{configData:e,participantData:r,setConfigData:n,setParticipantData:i,deleteConfigData:a,isViewer:o,isPresenter:s,nodeId:h,containerStyle:m.container,questionStyle:m.question,inputtableOptionStyle:m.inputtableOption,inputtableOptionTextStyle:m.inputtableOptionText,optionResultBarStyle:m.optionResultBar,votableOptionStyle:m.votableOption,resultsLabelStyle:m.resultsLabel,resultsButtonStyle:m.resultsButton,winningResultBarStyle:m.winningResultBar,winningInputtableOptionStyle:m.winningInputtableOption,winningVotableOptionStyle:m.winningVotableOption,recordingKey:p})}var ta=n(59735);function to({configData:e,setConfigData:r}){let n=u.useMemo(()=>{if(!e)return 0;let r=0;for(let n in e)if(n.startsWith("option")){let e=parseInt(n.split("option")[1]);e>r&&(r=e)}return r+1},[e]),i=n>=6;return u.createElement(eb.$n,{onClick:L.nc.user("add-poll-option",()=>{r("option"+n,"")}),recordingKey:"addOption",className:A.cx.wAuto.flex.alignCenter.justifyCenter.$,buttonStyle:{width:"110px"},buttonChildrenStyle:{width:"100%"},disabled:i,tooltip:i?(0,N.t)("slides.inline_menu.poll_max_options_reached"):(0,N.t)("slides.inline_menu.poll_add_options")},u.createElement(J.B,{svg:ta.A,className:A.cx.w40.h40.flex.itemsCenter.contentCenter.colorIconMenu.$}),u.createElement("span",{className:A.cx.pr12.$},u.createElement(N.Tx,{id:"slides.inline_menu.add_option"})))}var ts=n(37771),tl=n(18413),td=n(62459),tc=n(20234);function tu(e){switch(e){case e8.Light:return td.A;case e8.Dark:return tl.A;case e8.Translucent:return tc.A}}function tp({configData:e,setConfigData:r}){let n=(null==e?void 0:e.pollTheme)||e7,[i,a]=u.useState(!1);return u.createElement(ts.Fn,{value:n,onChange:L.nc.user("set-poll-theme",e=>{r("pollTheme",e)}),renderButton:({onClick:e,onKeyDown:r,activeOptionId:i,active:a})=>u.createElement(eb.K0,{tooltip:(0,N.t)("slides.flapp.poll.theme"),svg:tu(n),onPointerDown:e,onKeyDown:r,ariaActiveDescendant:i,active:a?"NORMAL":"NONE",recordingKey:"pollThemeControl",role:"combobox"}),options:[e8.Dark,e8.Light,e8.Translucent],renderOption:({value:e,onClick:r,isSelected:n,id:a,isFocused:o})=>u.createElement(eb.K0,{id:a,key:String(e),svg:tu(e),onPointerUp:e=>{i&&r(e)},active:n?"LOUD":"NONE",focused:o,role:"option",recordingKey:(0,Z.Pt)("pollThemeControl",function(e){switch(e){case e8.Light:return"light";case e8.Dark:return"dark";case e8.Translucent:return"translucent"}}(e))}),onToggleMenuOpen:a})}var th=n(84800);let tm={type:"POLL",EditorFlapp:v(ti),ViewerFlapp:S(ti),InlineControl:v(function({configData:e,setConfigData:r,resetParticipantData:n}){return u.createElement(u.Fragment,null,u.createElement(to,{configData:e,setConfigData:r}),u.createElement(eb.wv,null),u.createElement(tp,{configData:e,setConfigData:r}),u.createElement(eb.wv,null),u.createElement(eb.K0,{tooltip:(0,N.t)("slides.inline_menu.reset_results"),svg:th.A,onClick:L.nc.user("reset-poll-participant-data",()=>{n&&n()}),recordingKey:"resetParticipantData"}))})},tg=E()([ev,tm],"type"),tf={type:"DEFAULT",EditorFlapp:()=>null,ViewerFlapp:()=>null,InlineControl:()=>null};function t_(e){return e.startsWith("Embed")?"EMBED":"POLL"}function ty({viewportInfo:e}){return u.createElement("div",{className:"flapp_overlay--flappContainerMobileViewer--25-Uu"},u.createElement(tE,{viewportInfo:e}))}function tE({viewportInfo:e,selection:r,activeUserAction:n}){let i=(0,_.J2)(p.Ez5.flappData().nodeIds),[a,o]=(0,u.useState)({}),s=(0,_.J2)(p.Ez5.singleSlideView().focusedSlideId);(0,u.useEffect)(()=>{if(!i.length)return;let{currentNodePosition:e}=(0,h.EE)("Flapps",i,e=>{o(r=>{let n=m.qo.instance.get(e.nodeId),i=null==n?void 0:n.findContainingSlideOrSelf();return n&&e.position&&i?{...r,[e.nodeId]:{guid:e.nodeId,slideId:i,position:e.position,type:t_(n.name)}}:r})});return o(Object.entries(e).reduce((e,[r,n])=>{let i=m.qo.instance.get(r),a=null==i?void 0:i.findContainingSlideOrSelf();return i&&(null==n?void 0:n.position)&&a&&(e[r]={guid:r,slideId:a,position:n.position,type:t_(i.name)}),e},{})),()=>(0,h.lB)("Flapps")},[i]);let l=p.Ez5.singleSlideView().isSingleSlideViewFocused();return u.createElement(u.Fragment,null,Object.values(a).map(i=>!l||l&&i.slideId===s?u.createElement(tb,{key:i.guid,element:i,viewportInfo:e,selection:r,activeUserAction:n}):null))}function tb({element:e,viewportInfo:r,selection:n,activeUserAction:i}){if(!e||!e.position||!r)return u.createElement(u.Fragment,null);let a=(0,g.Yb)(r,e.position),o=n&&n[e.guid]&&i===p.QOV.DEFAULT,s=m.qo.instance.get(e.guid);return s?u.createElement("div",{className:"flapp_overlay--elementContainer--b1Khv",title:s.name,style:{position:"fixed",width:e.position.width,height:e.position.height,transform:`translate(${r.x+a.x}px, ${r.y+a.y}px) rotate(${e.position.angle}deg) scale(${r.zoomScale})`,transformOrigin:"top left",pointerEvents:o?"inherit":"none"}},u.createElement(tv,{element:e})):null}function tv({element:e}){let{EditorFlapp:r}=tg[e.type]||tf;return u.createElement(r,{type:e.type,nodeId:e.guid})}(0,f.bt)(e=>e.mirror.sceneGraphSelection),(0,f.bt)(e=>e.mirror.appModel.activeUserAction)},53381:(e,r,n)=>{"use strict";n.d(r,{i:()=>i});let i=function(){return!1}},67528:(e,r,n)=>{"use strict";n.d(r,{F4:()=>o,UM:()=>s,Vf:()=>a,_g:()=>l,cZ:()=>d,r:()=>c});let i=(0,n(38580).eU)("CLEARED"),a=null,o=null,s=null,l=i,d=null,c=function(){return{publishState:"CLEARED",publishInProgress:!1}}},43632:(e,r,n)=>{"use strict";n.d(r,{Y:()=>m,M:()=>g});var i=n(11855),a=n(27390);let o={cornerRadius:0},s={strokeColor:"transparent",strokeWidth:0},l={width:"fill-parent",height:"fill-parent"};var d=n(72174),c=n(35283),u=n(99531);let p="__AUTOLAYOUT_IGNORE_SPACING__";function h(e){switch(e){case"center":return"center";case"end":return"flex-end";case"start":return"flex-start";case"baseline":return"baseline";case"space-between":return"space-between";case"stretch":return"stretch";default:(0,c.xb)(e)}}let m=i.forwardRef(function(e,r){let{dataTestId:n,children:c,...m}=e,g=i.useRef(null);i.useImperativeHandle(r,()=>g.current),i.useLayoutEffect(()=>{for(let e=0;e<g.current.children.length;e++){let r=g.current.children[e];"absolute"===window.getComputedStyle(r).position&&r.classList.add(p)}},[]);let f=function(e){let r={},{cornerRadius:n,padding:i,width:a,height:o,direction:s,spacing:l,verticalAlignItems:d,horizontalAlignItems:c,backgroundColor:m}=e;return(Object.assign(r,function(e){let r={},{strokeColor:n,strokeWidth:i}=e;return(0!==i.top||0!==i.right||0!==i.bottom||0!==i.left)&&(r.borderWidth=`${i.top}px ${i.right}px ${i.bottom}px ${i.left}px`,r.borderStyle="solid",r.borderColor=(0,u.Uw)(n)),r}(e)),r.boxSizing="border-box",n.some(e=>0!==e)&&(r.borderRadius=n.map(e=>`${e}px`).join(" ")),(0!==i.top||0!==i.right||0!==i.bottom||0!==i.left)&&(r.padding=`${i.top}px ${i.right}px ${i.bottom}px ${i.left}px`),"number"==typeof a?(r.width=a,r.minWidth=a):"fill-parent"===a?r.width="100%":"hug-contents"===a?r.width="max-content":a.endsWith("%")&&(r.width=a),"number"==typeof o?(r.height=o,r.minHeight=o):"fill-parent"===o?r.height="100%":"hug-contents"===o?r.height="max-content":o.endsWith("%")&&(r.height=o),m&&(r.backgroundColor=(0,u.K)(m)),r.display="flex",r.flexDirection="vertical"===s?"column":"row","horizontal"===s?(r.justifyContent=h(c),r.alignItems=h(d)):"vertical"===s&&(r.justifyContent=h(d),r.alignItems=h(c)),"auto"===l)?r.justifyContent="space-between":Object.assign(r,{[`> *:not(.${p}) ~ *:not(.${p})`]:{["horizontal"===s?"marginLeft":"marginTop"]:"number"==typeof l?`${l}px`:l}}),r}(function(e){var r,n,i;let a={};for(let o in e)switch(o){case"padding":a.padding=(i=e.padding,(0,d.uy)(i)?{top:0,right:0,bottom:0,left:0}:"number"==typeof i?{top:i,right:i,bottom:i,left:i}:"vertical"in i||"horizontal"in i?{top:i.vertical??0,bottom:i.vertical??0,right:i.horizontal??0,left:i.horizontal??0}:{top:i.top??0,right:i.right??0,bottom:i.bottom??0,left:i.left??0});break;case"strokeWidth":a.strokeWidth=(r=e.strokeWidth,(0,d.uy)(r)?{top:0,right:0,bottom:0,left:0}:"number"==typeof r?{top:r,right:r,bottom:r,left:r}:{top:r.top??0,right:r.right??0,bottom:r.bottom??0,left:r.left??0});break;case"cornerRadius":a.cornerRadius=(n=e.cornerRadius,(0,d.uy)(n)?[0,0,0,0]:"number"==typeof n?[n,n,n,n]:[n.topLeft??0,n.topRight??0,n.bottomRight??0,n.bottomLeft??0]);break;default:a[o]=e[o]}return a}({...{...o,...s,...l,...function(e){let r=e.direction??"horizontal";return{direction:r,spacing:8,padding:0,horizontalAlignItems:"start",verticalAlignItems:"horizontal"===r?"center":"start"}}(m),backgroundColor:"transparent",dataTestId:""},...m}));return i.createElement("div",{ref:g,className:(0,a.css)(f),children:c,"data-testid":n})});function g({minSize:e=0}){return i.createElement("div",{"aria-hidden":"true",className:p,style:{flexGrow:1,flexShrink:0,flexBasis:e}})}},94443:(e,r,n)=>{"use strict";n.d(r,{n:()=>s});var i=n(11855),a=n(58867),o=n(34279);function s({team:e,size:r=o.P.MEDIUM,shape:n="SQUARE",fallbackDisplay:s=o.U.FIRST_CHARACTER,avatarSvg:l,fallbackSvg:d,svgSizeRatio:c,opacity:u}){return i.createElement(a.w7,{entity:e,size:r,hideFallbackInitial:s===o.U.HIDDEN,shape:n,avatarSvg:l,fallbackSvg:d,svgSizeRatio:c,opacity:u})}},34279:(e,r,n)=>{"use strict";let i,a;n.d(r,{P:()=>o,U:()=>s});var o=((i=o||{})[i.XSMALL=10]="XSMALL",i[i.SMALL=14]="SMALL",i[i.SMALL16=16]="SMALL16",i[i.MEDIUM20=20]="MEDIUM20",i[i.MEDIUM=24]="MEDIUM",i[i.MEDIUM28=28]="MEDIUM28",i[i.LARGE=32]="LARGE",i[i.LARGE40=40]="LARGE40",i[i.XLARGE=48]="XLARGE",i),s=((a=s||{})[a.FIRST_CHARACTER=0]="FIRST_CHARACTER",a[a.HIDDEN=1]="HIDDEN",a)},74989:(e,r,n)=>{"use strict";n.d(r,{H:()=>s});var i=n(11855),a=n(58867),o=n(34279);function s({user:e,size:r=o.P.MEDIUM,fallbackDisplay:n=o.U.FIRST_CHARACTER}){return i.createElement(a.Ro,{entity:e,size:r,hideFallbackInitial:n===o.U.HIDDEN,shape:"CIRCLE"})}},66387:(e,r,n)=>{"use strict";n.d(r,{$:()=>i.$n});var i=n(1707);(0,n(72517).tf)(i.$n)},87626:(e,r,n)=>{"use strict";n.d(r,{S:()=>m});var i=n(11855);function a(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{fill:"var(--color-icon)",d:"M4 8a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Z"}))}var o=n(2008),s=n(29019),l=n.n(s),d=n(22739),c=n(46481),u=n(1771),p=n(47245),h=n(24736);let m=i.forwardRef((e,r)=>{let{label:n,description:s,checked:m=!1,mixed:g=!1,disabled:f,onChange:_,onKeyDown:y,recordingKey:E}=e,b=i.useRef(null);i.useImperativeHandle(r,()=>b.current),i.useEffect(()=>{b.current&&(b.current.indeterminate=g)},[g]);let v=(0,i.useId)(),S=`${v}-check`,I=`${v}-desc`,T=g?h.A:m?p.A:null;return i.createElement("div",{className:"checkbox--checkLabelDescriptionContainer--NjaZ4"},i.createElement("div",{className:"checkbox--checkAndLabelContainer--v09nP"},i.createElement("div",{className:"checkbox--checkWrapper--nHmJ0"},i.createElement(d.u2,{className:l()("checkbox--input--dQMU-",{"checkbox--filled--WJH3o":m||g}),id:S,type:"checkbox",checked:m,onChange:_,onKeyDown:y,disabled:f,forwardedRef:b,recordingKey:E,"aria-describedby":s?I:void 0}),T&&i.createElement("div",{className:"checkbox--svg---GjIJ","aria-hidden":!0},i.createElement(c.U,{svg:T},g?i.createElement(a,null):i.createElement(o.l,null)))),n&&i.createElement("label",{className:"checkbox--label--ev6kh",htmlFor:S},i.createElement(u.EY,{...e.truncateLabel??{},fontSize:11,color:f?"disabled":"default"},n))),s&&i.createElement("div",{className:"checkbox--description--AZF1u",id:I},i.createElement(u.EY,{fontSize:11,color:f?"disabled":"secondary"},s)))})},99531:(e,r,n)=>{"use strict";n.d(r,{K:()=>a,TD:()=>l,Uw:()=>o,jk:()=>s});var i=n(10250);function a(e){switch(e){case"transparent":return e;case"default":return"var(--color-bg, var(--fallback-color-bg))";default:return`var(--color-bg-${e}, var(--fallback-color-bg-${e}))`}}function o(e){switch(e){case"transparent":return e;case"default":return"var(--color-border, var(--fallback-color-border))";default:return`var(--color-border-${e}, var(--fallback-color-border-${e}))`}}function s(e){return"default"===e?"var(--color-text, var(--fallback-color-text))":`var(--color-text-${e}, var(--fallback-color-text-${e}))`}function l(e){return"default"===e?"var(--color-icon, var(--fallback-color-icon))":`var(--color-icon-${e}, var(--fallback-color-icon-${e}))`}[...i.UP],[...i.Yw]},51608:(e,r,n)=>{"use strict";n.d(r,{j:()=>i,n:()=>a});let i=null;function a(e){i=e}},9840:(e,r,n)=>{"use strict";n.d(r,{E:()=>i.EY});var i=n(1771)},25719:(e,r,n)=>{"use strict";n.d(r,{$R:()=>s,db:()=>l});var i=n(38580),a=n(74626);n(9225),n(39863),n(92592),n(52800);var o=n(88633);n(34716),(0,i.eU)(-1),(0,i.eU)([]),(0,i.eU)(!1);let s=(0,i.eU)(void 0);function l(){let e=a.zl.get(s);if(!e)return;let r=e.base;if(!r)return;let n=(0,o.fv)().filter(e=>"STICKY"===e.type||"SHAPE_WITH_TEXT"===e.type||"SECTION"===e.type||"CONNECTOR"===e.type||"VECTOR"===e.type||"HIGHLIGHT"===e.type),i=new Map;n.forEach(e=>{let r=e.fills.length>0?e.fills[0].color:void 0,n=e.strokePaints.data.length>0?e.strokePaints.data[0].color:void 0,a=r||n;a&&(i.has(a)?i.set(a,i.get(a)+1):i.set(a,1))});let l=Array.from(i.entries()).sort((e,r)=>r[1]-e[1]),d=new Map,c=r.sort(()=>Math.random()-.5);l.forEach((e,r)=>{d.set(e[0],c[r%c.length])}),n.forEach(e=>{if(e.fills.length>0){let r=e.fills[0].color,n=r?d.get(r):void 0;n&&(e.fills=[{type:"SOLID",color:n}])}else if(e.strokePaints.data.length>0){let r=e.strokePaints.data[0].color,n=r?d.get(r):void 0;n&&(e.strokePaints={data:[{type:"SOLID",color:n}],blobs:[]})}})}(0,i.eU)(0)},75888:(e,r,n)=>{"use strict";n.d(r,{IA:()=>l,Wv:()=>d,_r:()=>c});var i=n(11855);let a={isPopoverOpen:!1},o=i.createContext({state:a,dispatch:()=>{}});function s(e,r){return"set popover open"===r.type?{...e,isPopoverOpen:r.payload}:e}let l=i.memo(function(e){let[r,n]=(0,i.useReducer)(s,a),l=(0,i.useMemo)(()=>({state:r,dispatch:n}),[r,n]);return i.createElement(o.Provider,{value:l},e.children)});function d(){return(0,i.useContext)(o)}function c(){return!d().state.isPopoverOpen}},11080:(e,r,n)=>{"use strict";let i;n.d(r,{dF:()=>_,mS:()=>f,oV:()=>g});var a=n(11855),o=n(29019),s=n.n(o),l=n(63706),d=n(30949),c=n(58200);a.forwardRef(({color:e,toolOrder:r=1,shouldAnimate:n=!0},i)=>a.createElement("div",{className:s()(c.fg,{[c.mL]:2===r,[c.ac]:3===r})},a.createElement("div",{className:s()(c.C0,c.UJ,{[c.bQ]:1===r,[c.yD]:2===r,[c.T5]:3===r,[c.i0]:n&&!l.Ay.safari}),style:{backgroundColor:e},ref:i},a.createElement("svg",{width:"48",height:"41",viewBox:"0 0 48 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:c.yR},a.createElement("path",{d:"M48 0C48 14.0001 9.5 8.00008 9.5 8.00008C9.5 8.00008 14 41.0001 0.000976562 41.0001H48V0Z",fill:"black",fillOpacity:"0.16"}))))),a.forwardRef(({color:e,toolbarIconScale:r=1,toolOrder:n=1,shouldAnimate:i=!0,isReversing:o=!1},d)=>{let u=1===n||2===n&&i&&!o;return a.createElement("div",{className:s()({[c.z6]:!0,[c.qF]:2===n,[c.mK]:3===n,[c.iD]:4===n}),style:{width:152*r,height:152*r}},a.createElement("div",{className:s()({[c.UJ]:!0,[c.Sq]:!0,[c.cj]:u,[c.LI]:1===n,[c.nS]:2===n,[c.ZY]:3===n,[c.dB]:4===n,[c.i0]:i&&!l.Ay.safari,[c.cb]:l.Ay.safari,[c.BE]:o&&!l.Ay.safari,[c.RH]:!o}),style:{backgroundColor:e,top:16*r,left:39*r,width:104*r,height:104*r},ref:d},u?a.createElement("div",{className:c.Du},a.createElement("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute"}},a.createElement("g",{filter:"url(#filter0_f_2512_16752)"},a.createElement("path",{d:"M40.5001 48.5C7.70012 42.1 4.83347 56.8333 7.50014 65L104 65L104 1L55.5 1C33.5 1.4 36.3334 32.8334 40.5001 48.5Z",fill:e,className:c.cq})),a.createElement("defs",null,a.createElement("filter",{id:"filter0_f_2512_16752",x:"-6.26074",y:"-12",width:"123.261",height:"90",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"6.5",result:"effect1_foregroundBlur_2512_16752"})))),a.createElement("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:e,className:c.cq}),a.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:"url(#paint0_linear_2512_16751)"}),a.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:"url(#paint1_linear_2512_16751)",fillOpacity:"0.16"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_2512_16751",x1:"0.000488251",y1:"52.0005",x2:"88.6172",y2:"52.0005",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.18"})),a.createElement("linearGradient",{id:"paint1_linear_2512_16751",x1:"260",y1:"234.5",x2:"6",y2:"18.5",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"0.718538",stopOpacity:"0"}),a.createElement("stop",{offset:"1"}))))):null))});var u=((i=u||{})[i.DEFAULT=1]="DEFAULT",i[i.INITIAL_DRAG_ON_DLT=2]="INITIAL_DRAG_ON_DLT",i[i.DRAG_ON_CANVAS=3]="DRAG_ON_CANVAS",i[i.DRAG_RETURN_TO_DLT=4]="DRAG_RETURN_TO_DLT",i);a.forwardRef(({color:e,toolbarIconScale:r=1,toolOrder:n=1,shouldAnimate:i=!0,stickyAnimationState:o=1},l)=>{let d=4===n,u=4===o,p=16,h=25;r<1&&(d?(p=24,h=32):p=19);let m={[c.Sk]:1===n,[c.gz]:2===n,[c.eB]:3===n,[c.ID]:d};return a.createElement("div",{className:s()({[c.qF]:2===n,[c.mK]:3===n,[c.iD]:d}),style:{width:116*r,height:116*r}},a.createElement("div",{className:s()({...m,[c.ZJ]:!0,[c.B4]:(!i||4===o)&&1===n||3===o&&2===n,[c.dB]:d,[c.i0]:3===o,[c.BE]:u,[c.rh]:!u&&!i&&2===n}),style:{top:p*r,left:h*r,width:104*r,height:104*r},ref:l},a.createElement("div",{className:s()({[c.uh]:!0,[c.WX]:!0})},a.createElement("svg",{className:c.SN,width:104*r,height:104*r,viewBox:"-20 -20 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",null,a.createElement("path",{className:s()(c.Wq,{[c.cq]:!0}),style:{clipPath:`url(#stickyMaskV3-${n})`},d:"M0.459717 0.680176L104.46 0.680243V104.68H0.459717V2.09514V0.680176Z",fill:e}),a.createElement("g",{className:c.BN},a.createElement("mask",{id:`stickyCurlMaskV3-${n}`,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:84,height:84},a.createElement("path",{d:"M31.9819 3.8766C34.7398 1.38156 38.3262 7.51147e-07 42.0452 2.10768e-06L104 2.47061e-05V104H3.61353e-05L3.37915e-06 39.4677C1.22757e-06 35.2289 1.7934 31.188 4.9367 28.3443L31.9819 3.8766Z",fill:"white"})),a.createElement("g",{mask:`url(#stickyCurlMaskV3-${n})`},a.createElement("path",{d:"M104 6.74129e-05L54.8928 48.5492L0 104V0L104 6.74129e-05Z",fill:e,className:c.cq}),a.createElement("g",{filter:"url(#stickyCurlBlurFilter)"},a.createElement("rect",{x:"-26",y:"50.6831",width:"96.831",height:"16.7797",transform:"rotate(-41.9127 -26 50.6831)",fill:"black",fillOpacity:"0.3"})),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.526 4.26953L3.2583 29.8513C10.3683 23.4168 26.3782 24.6229 26.3782 24.6229C26.3782 24.6229 25.0586 10.1224 31.526 4.26953Z",fill:e,className:c.cq}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.5262 4.26953L3.25854 29.8513C10.3686 23.4168 26.3784 24.6229 26.3784 24.6229C26.3784 24.6229 25.0588 10.1224 31.5262 4.26953Z",fill:"url(#paint0_linear_221_5067)"})))),a.createElement("defs",null,a.createElement("clipPath",{id:`stickyMaskV3-${n}`},a.createElement("path",{className:c.cP,d:"M50.9701 6.74129e-05L104.97 0V104H0.970459V46.9909L50.9701 6.74129e-05Z",fill:"#C20000"}),a.createElement("path",{className:c.dP,d:"M32.2236 3.8766C34.9815 1.38156 38.5679 7.51147e-07 42.2869 2.10768e-06L104.242 2.47061e-05V104H0.241735L0.241703 39.4677C0.2417 35.2289 2.0351 31.188 5.1784 28.3443L32.2236 3.8766Z",fill:"#2400FF"}),a.createElement("rect",{x:"250",y:"520",width:"1",height:"1"})),a.createElement("filter",{xmlns:"http://www.w3.org/2000/svg",id:`sticky_shadow-${n}`,x:"0",y:"0",width:"200%",height:"200%",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"1.5"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_276_2240"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",null),a.createElement("feGaussianBlur",{stdDeviation:"4"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_276_2240",result:"effect2_dropShadow_276_2240"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_276_2240",result:"shape"})),a.createElement("filter",{id:"stickyCurlBlurFilter",x:"-58",y:"-45.9995",width:"147.267",height:"141.169",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"16",result:"effect1_foregroundBlur_221_5067"})),a.createElement("linearGradient",{id:"paint0_linear_221_5067",x1:"18.1477",y1:"15.5989",x2:"25.7005",y2:"25.3824",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),a.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"})))))))});let p="#699BF7",h="#B3B3B3";function m({toolbarIconScale:e,children:r}){return a.createElement("svg",{fill:"none",height:144*e,width:144*e,viewBox:"0 0 144 144",xmlns:"http://www.w3.org/2000/svg",className:s()(c.WX,{[c.$d]:!0})},r)}function g(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function f(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function _(){return a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"white"}))}a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{ref:n,fill:e,className:c.cq,d:"M109.821 18.253A3 3 0 00106.916 16H11.87a3 3 0 00-2.906 3.747l25.215 98.001A3 3 0 0037.084 120h95.046a3 3 0 002.906-3.748l-25.215-98z"}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{ref:n,fill:e,className:c.cq,d:"M34.179 18.253A3 3 0 0137.084 16h95.046a3 3 0 012.906 3.747l-25.215 98.001a3 3 0 01-2.905 2.252H11.87a3 3 0 01-2.906-3.748l25.215-98z"}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{ref:n,fill:e,className:c.cq,d:"M68.787 118.279c1.324 2.295 5.102 2.295 6.426 0l56.403-97.77c1.195-2.072-.542-4.509-3.213-4.509H15.597c-2.67 0-4.408 2.437-3.213 4.508l56.403 97.771z"}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1,shouldDrawStroke:n},i)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{ref:i,fill:e,className:c.cq,d:"M68.787 17.721c1.324-2.295 5.102-2.295 6.426 0l56.403 97.771c1.195 2.071-.542 4.508-3.213 4.508H15.597c-2.67 0-4.408-2.437-3.213-4.508l56.403-97.77z"}),a.createElement("path",{d:"M130.75 115.992L130.75 115.992C131.134 116.658 131.057 117.364 130.645 117.942C130.223 118.534 129.432 119 128.403 119H15.5971C14.5693 119 13.7776 118.534 13.3555 117.942C12.9431 117.364 12.8659 116.658 13.2503 115.992L13.2503 115.992L69.6533 18.221C70.0992 17.4482 70.9999 17 72.0001 17C73.0004 17 73.9011 17.4482 74.347 18.221L130.75 115.992Z",stroke:"black",strokeOpacity:"0.13",strokeWidth:"2",className:d.cx.if(!n,d.cx.hidden).$}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1,shouldDrawStroke:n},i)=>a.createElement(m,{toolbarIconScale:r},a.createElement("circle",{cx:"72",cy:"72",r:"64",fill:e,className:c.cq,ref:i}),a.createElement("circle",{cx:"72",cy:"72",r:"62",fill:"none",stroke:"#000000",strokeOpacity:"0.13",strokeWidth:"2",className:d.cx.if(!n,d.cx.hidden).$}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("rect",{x:"8",y:"20",width:"128",height:"104",rx:"40",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("rect",{x:"16",y:"32",width:"112",height:"80",rx:"40",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("g",{clipPath:"url(#clip0)"},a.createElement("rect",{width:"79.374",height:"79.374",x:"15.874",y:"71.874",fill:e,className:c.cq,ref:n,rx:"3.175",transform:"rotate(-45 15.874 71.874)"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0"},a.createElement("path",{fill:"#fff",d:"M0 0H112V112H0z",transform:"translate(16 16)"}))))),a.forwardRef(({color:e=p,toolbarIconScale:r=1,shouldDrawStroke:n},i)=>a.createElement(m,{toolbarIconScale:r},a.createElement("rect",{x:"16",y:"16",width:"112",height:"112",fill:e,className:c.cq,ref:i,rx:"3.23077"}),a.createElement("rect",{x:"16",y:"16",width:"110",height:"110",fill:"none",stroke:"#000000",strokeOpacity:"0.13",strokeWidth:"2",rx:"3.23077",className:d.cx.if(!n,d.cx.hidden).$}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("rect",{x:"16",y:"28",width:"112",height:"24",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 28.923V28.9231V30.1138C16.0601 30.1856 16.1242 30.2584 16.1926 30.3322C16.8824 31.076 17.9455 31.8465 19.3911 32.6163C22.2796 34.1545 26.5043 35.5903 31.753 36.8181C42.2352 39.2703 56.595 40.8462 72.0002 40.8462C87.4054 40.8462 101.765 39.2703 112.247 36.8181C117.496 35.5903 121.721 34.1545 124.609 32.6163C126.055 31.8465 127.118 31.076 127.808 30.3322C127.876 30.2586 127.94 30.1859 128 30.1141V28.9231C128 21.7859 102.928 16 72 16C41.0721 16 16.0001 21.7858 16 28.923ZM128 32.8361C127.295 33.376 126.471 33.8907 125.549 34.3816C122.441 36.0366 118.027 37.5202 112.703 38.7656C102.04 41.2599 87.523 42.8462 72.0002 42.8462C56.4774 42.8462 41.9602 41.2599 31.2975 38.7656C25.9738 37.5202 21.559 36.0366 18.4511 34.3816C17.5291 33.8907 16.7052 33.3758 16 32.8358V115.077C16 122.214 41.0721 128 72 128C102.928 128 128 122.214 128 115.077V32.8361Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("rect",{x:"92",y:"16",width:"30",height:"98",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.734 64.6922C110.734 78.1641 112.117 90.7123 114.261 99.8663C115.334 104.451 116.587 108.133 117.923 110.644C118.592 111.901 119.257 112.817 119.891 113.407C120.188 113.683 120.463 113.874 120.717 114H120.75H120.75C126.963 114 132 92.062 132 65C132 37.938 126.963 16 120.75 16H120.75H119.867C119.24 16.5906 118.584 17.4993 117.923 18.7405C116.587 21.252 115.334 24.9336 114.261 29.5182C112.117 38.6721 110.734 51.2203 110.734 64.6922ZM117.254 16C116.874 16.5381 116.508 17.142 116.158 17.8012C114.705 20.5314 113.405 24.4026 112.314 29.0621C110.128 38.3965 108.734 51.1021 108.734 64.6922C108.734 78.2822 110.128 90.9879 112.314 100.322C113.405 104.982 114.705 108.853 116.158 111.583C116.649 112.507 117.169 113.322 117.72 114H23.25H22.7811V113.958C16.7854 112.888 12 91.3779 12 65C12 38.6221 16.7854 17.1124 22.7811 16.0418V16H23.25H117.254Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M108 16H102V40V44H119.5H132V40H117.857L108 16Z",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106 16V37.5C106 39.9853 108.015 42 110.5 42L132 42V40H132V117C132 118.657 130.657 120 129 120H15C13.3432 120 12 118.657 12 117V40H12V19C12 17.3432 13.3431 16 15 16L106 16Z M132 40H111C109.343 40 108 38.6569 108 37V16L132 40Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M12.1764 37H78V39H12L12.1764 37Z",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2735 17.9549C19.7103 16.7797 20.8319 16 22.0856 16H67.9146C69.1683 16 70.2898 16.7797 70.7266 17.9549L77.805 37H78.0001H12.1953L19.2735 17.9549Z M12 39H129C130.657 39 132 40.3431 132 42V117C132 118.657 130.657 120 129 120H15C13.3431 120 12 118.657 12 117V39Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.825 31H11.1751C9.11354 31 7.59918 32.9715 8.0945 35.0106L27.3025 110.463C27.653 111.906 28.924 112.92 30.3831 112.92H113.617C115.076 112.92 116.347 111.906 116.698 110.463L135.906 35.0106C136.401 32.9715 134.886 31 132.825 31Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.2603 48.8289L74.8382 18.1385C73.7284 16.4493 71.2511 16.4493 70.1413 18.1385L51.7195 48.8289C51.3354 49.4134 50.7472 49.8337 50.0698 50.0076L14.5248 57.5829C12.5231 58.0968 11.7423 60.523 13.0688 62.1078L37.2107 88.5999C37.6704 89.1492 37.903 89.8531 37.8609 90.5682L34.3002 125.894C34.1806 127.929 36.2 129.41 38.1052 128.685L71.4895 114.399C72.1339 114.154 72.8457 114.154 73.49 114.399L106.874 128.685C108.779 129.41 110.799 127.929 110.679 125.894L107.118 90.5682C107.077 89.8531 107.309 89.1492 107.769 88.5999L131.911 62.1078C133.237 60.523 132.457 58.0968 130.455 57.5829L94.9096 50.0076C94.2325 49.8337 93.6443 49.4134 93.2603 48.8289Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M120.45 27H23.55C22.1417 27 21 28.1454 21 29.5583V86.4924C21 87.408 21.4877 88.2538 22.2789 88.7102L70.7289 116.66C71.5159 117.113 72.4841 117.114 73.2711 116.66L121.721 88.7102C122.512 88.2538 123 87.408 123 86.4924V29.5583C123 28.1454 121.858 27 120.45 27Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M122.802 26H21.1977C19.7551 26 18.4531 26.8662 17.8933 28.1982L0.280966 70.1061C-0.0936546 70.9975 -0.0936559 72.0025 0.280965 72.8939L17.8933 114.802C18.4531 116.134 19.7551 117 21.1977 117H122.802C124.245 117 125.547 116.134 126.107 114.802L143.719 72.8939C144.094 72.0025 144.094 70.9975 143.719 70.1061L126.107 28.1982C125.547 26.8662 124.245 26 122.802 26Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M129.24 59.4647L74.475 16.7477C73.1969 15.7508 71.4046 15.7508 70.1265 16.7477L15.3612 59.4647C14.1752 60.3897 13.7044 61.9638 14.1876 63.388L34.9562 124.601C35.4429 126.035 36.7893 127 38.304 127H106.298C107.812 127 109.159 126.035 109.645 124.601L130.414 63.388C130.897 61.9638 130.426 60.3897 129.24 59.4647Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.8699 16H49.1301C48.3125 16 47.5284 16.3248 46.9503 16.9029L16.9029 46.9503C16.3248 47.5284 16 48.3125 16 49.1301V94.8699C16 95.6875 16.3248 96.4716 16.9029 97.0497L46.9503 127.097C47.5284 127.675 48.3125 128 49.1301 128H94.8699C95.6875 128 96.4716 127.675 97.0497 127.097L127.097 97.0497C127.675 96.4716 128 95.6875 128 94.8699V49.1301C128 48.3125 127.675 47.5284 127.097 46.9503L97.0497 16.9029C96.4716 16.3248 95.6875 16 94.8699 16Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.1111 47.1099V18.8718C47.1111 17.2857 48.3969 16 49.9829 16H94.0171C95.6031 16 96.8889 17.2857 96.8889 18.8718V46.632C96.8889 46.6325 96.8896 46.6325 96.8901 46.6325H125.128C126.714 46.6325 128 47.9182 128 49.5043V94.0171C128 95.6031 126.714 96.8889 125.128 96.8889H96.8894C96.8889 96.8889 96.8889 96.8896 96.8889 96.8901V125.128C96.8889 126.714 95.6031 128 94.0171 128H49.9829C48.3969 128 47.1111 126.714 47.1111 125.128V96.8894C47.1111 96.8889 47.1104 96.8889 47.1099 96.8889H18.8718C17.2857 96.8889 16 95.6031 16 94.0171V49.9829C16 48.3969 17.2857 47.1111 18.8718 47.1111H47.1106C47.1111 47.1111 47.1111 47.1104 47.1111 47.1099Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("rect",{x:"15.3628",y:"29.8053",width:"113.274",height:"84.3894",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.84961 32.354C8.84961 30.9462 9.99052 29.8053 11.3983 29.8053H17.062V114.195H11.3983C9.99052 114.195 8.84961 113.054 8.84961 111.646V32.354Z M18.7611 114.195V29.8053H125.239V114.195H18.7611Z M126.938 114.195V29.8053H132.602C134.01 29.8053 135.15 30.9462 135.15 32.354V111.646C135.15 113.054 134.01 114.195 132.602 114.195H126.938Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 31.9044C3 28.2578 6.22596 25.4544 9.83687 25.963L136.837 43.8517C139.798 44.2688 142 46.8027 142 49.793V112C142 115.314 139.314 118 136 118H9C5.68629 118 3 115.314 3 112V31.9044Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.8014 70.724L8.31687 37.526C7.36024 35.695 8.68491 33.5 10.7466 33.5H112.245C113.225 33.5 114.13 34.0241 114.62 34.8749L135.632 70.6249C136.122 71.4758 136.122 72.5242 135.632 73.3751L114.62 109.125C114.13 109.976 113.225 110.5 112.245 110.5H10.7466C8.68491 110.5 7.36024 108.305 8.31687 106.474L27.8014 73.276C28.219 72.4768 28.219 71.5232 27.8014 70.724Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.129 70.5542L11.8756 36.4458C10.776 34.4464 12.2225 32 14.5043 32H106.561C107.609 32 108.582 32.5478 109.126 33.4447L132.065 70.4447C132.645 71.4006 132.645 72.5994 132.065 73.5553L109.126 110.555C108.582 111.452 107.609 112 106.561 112H14.5043C12.2225 112 10.776 109.554 11.8756 107.554L33.129 73.4458C33.6241 72.5455 33.6241 71.4545 33.129 70.5542Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M8 24.41C8 23.0789 9.07886 22 10.41 22H133.59C134.921 22 136 23.0789 136 24.4095V109.272C136 110.813 134.515 111.919 133.037 111.477L117.877 106.938C101.942 102.167 84.7341 104.324 70.4706 112.88C55.667 121.76 37.6577 123.527 21.4094 117.693L9.33252 113.356C8.53306 113.069 8 112.312 8 111.462V24.41Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M8 24.2588C8 23.0112 9.01116 22 10.2588 22H124.706C125.954 22 126.965 23.0112 126.965 24.2588V28.5255H18.2902C16.214 28.5255 14.5255 30.2092 14.5255 32.2897V106.223L9.51678 104.587L9.49722 104.581C8.60912 104.317 8 103.501 8 102.574V24.2588Z",fill:e,className:c.cq,ref:n}),a.createElement("path",{d:"M18.2902 30.0314H133.741C134.989 30.0314 136 31.0426 136 32.2897V111.827C136 113.272 134.608 114.309 133.223 113.894L119.014 109.64C104.079 105.168 87.9508 107.19 74.5823 115.209C60.7075 123.532 43.8282 125.188 28.5994 119.72L17.2803 115.655C16.531 115.386 16.0314 114.676 16.0314 113.88V32.2897C16.0314 31.0422 17.0444 30.0314 18.2902 30.0314Z",fill:e,className:c.cq}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M8.94141 70.0367L59.3021 28.0736C60.95 26.7503 63.3967 27.9234 63.3967 30.037V50.1764C63.3967 50.1765 63.3968 50.1767 63.3969 50.1769V50.1769C63.3971 50.177 63.3973 50.1771 63.3974 50.1771H133.482C134.873 50.1771 136 51.3044 136 52.6951V91.3049C136 92.6956 134.873 93.823 133.482 93.823H63.3974C63.3973 93.823 63.3971 93.8231 63.3969 93.8232V93.8232C63.3968 93.8233 63.3967 93.8235 63.3967 93.8237V113.963C63.3967 116.077 60.95 117.25 59.3021 115.926L8.9414 73.9634C7.6862 72.9554 7.6862 71.0446 8.94141 70.0367Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M12.5068 70.5597C11.8311 71.4272 11.8311 72.5728 12.5068 73.4403L47.1369 117.894C48.7381 119.95 52.3844 118.949 52.3844 116.454V99.4781H129C130.657 99.4781 132 98.135 132 96.4781V48.7638C132 47.107 130.657 45.7638 129 45.7638H52.3844V27.5458C52.3844 25.0508 48.7381 24.05 47.1369 26.1055L12.5068 70.5597Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M135.059 73.9634L84.6979 115.926C83.05 117.25 80.6033 116.077 80.6033 113.963V93.8237C80.6033 93.8235 80.6032 93.8233 80.6031 93.8232V93.8232C80.6029 93.8231 80.6028 93.823 80.6026 93.823H10.518C9.12736 93.823 8 92.6956 8 91.3049V52.6951C8 51.3044 9.12736 50.1771 10.518 50.1771H80.6026C80.6027 50.1771 80.6029 50.177 80.6031 50.1769V50.1769C80.6032 50.1767 80.6033 50.1765 80.6033 50.1764V30.037C80.6033 27.9234 83.05 26.7503 84.6979 28.0736L135.059 70.0367C136.314 71.0446 136.314 72.9554 135.059 73.9634Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M131.493 70.5597C132.169 71.4272 132.169 72.5728 131.493 73.4403L96.8631 117.894C95.2619 119.95 91.6156 118.949 91.6156 116.454V99.4781H15C13.3432 99.4781 12 98.135 12 96.4781V48.7638C12 47.107 13.3432 45.7638 15 45.7638H91.6156V27.5458C91.6156 25.0508 95.2619 24.05 96.8631 26.1055L131.493 70.5597Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("circle",{cx:"72",cy:"72",r:"48.5",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{d:"M23.5 72C23.5 59.2726 28.4024 47.6903 36.422 39.0383L69.8739 72.4902L36.9016 105.472C28.5983 96.7676 23.5 84.9792 23.5 72Z M71.9949 70.3686L38.5281 36.9017C47.2323 28.5984 59.0207 23.5 72 23.5C84.9743 23.5 96.7586 28.5945 105.462 36.8921L71.9949 70.3686Z M74.1162 72.4899L107.569 39.0281C115.594 47.6811 120.5 59.2676 120.5 72C120.5 84.9793 115.402 96.7677 107.098 105.472L74.1162 72.4899Z M71.9952 74.6115L104.962 107.578C96.3097 115.598 84.7274 120.5 72 120.5C59.2725 120.5 47.6901 115.598 39.0381 107.578L71.9952 74.6115Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("circle",{cx:"71.9978",cy:"71.9978",r:"48.475",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{d:"M70.5 70.5H23.5228C24.3003 44.9064 44.9064 24.3003 70.5 23.5228V70.5Z M73.5 70.5V23.5228C99.0937 24.3003 119.7 44.9064 120.477 70.5H73.5Z M73.5 73.5H120.477C119.7 99.0937 99.0937 119.7 73.5 120.477V73.5Z M70.5 73.5V120.477C44.9064 119.7 24.3003 99.0937 23.5228 73.5H70.5Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M8 43.5V84.2344C8 98.0415 19.1929 109.234 33 109.234H33.4992C33.4994 109.234 33.4996 109.235 33.4997 109.235V109.235C33.4999 109.235 33.5 109.235 33.5 109.235V121.505C33.5 124.734 37.147 126.624 39.7975 124.769L61.9993 109.235V109.235C62.0001 109.235 62.001 109.234 62.002 109.234H111C124.807 109.234 136 98.0415 136 84.2344V43.5C136 29.6929 124.807 18.5 111 18.5H33C19.1929 18.5 8 29.6929 8 43.5Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M128 50V80.5754C128 92.7257 118.15 102.575 106 102.575H60.4126V102.575C60.4117 102.575 60.411 102.576 60.4103 102.577L42.151 115.27C39.9715 117.123 36.972 115.234 36.972 112.007L36.9715 102.576C36.9715 102.576 36.9717 102.576 36.9718 102.575C36.9718 102.575 36.9719 102.575 36.9718 102.575H26.486C20.6947 102.575 16 97.8807 16 92.0894V50C16 37.8497 25.8497 28 38 28H106C118.15 28 128 37.8497 128 50Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=p,toolbarIconScale:r=1},n)=>a.createElement(m,{toolbarIconScale:r},a.createElement("path",{d:"M8 31.8206C8 30.3939 9.15626 29.2377 10.583 29.2377H133.417C134.844 29.2377 136 30.3939 136 31.8206V112.179C136 113.606 134.844 114.762 133.417 114.762H10.583C9.15626 114.762 8 113.606 8 112.179V31.8206Z",fill:"white",fillOpacity:"0.8"}),a.createElement("path",{d:"M8 31.8206C8 30.3939 9.15626 29.2377 10.583 29.2377H15.4619V36.6996H8V31.8206Z M17.1839 36.6996V29.2377H133.417C134.844 29.2377 136 30.3939 136 31.8206V36.6996H17.1839Z M17.1839 38.4215H136V112.179C136 113.606 134.844 114.762 133.417 114.762H17.1839V38.4215Z M15.4619 38.4215V114.762H10.583C9.15626 114.762 8 113.606 8 112.179V38.4215H15.4619Z",fill:e,className:c.cq,ref:n}))),a.forwardRef(({color:e=h,toolbarIconScale:r=1},n)=>a.createElement("svg",{width:31*r,height:34*r,viewBox:"0 0 32 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.7929 1.70711C22.4024 1.31658 22.4024 0.683417 22.7929 0.292893C23.1834 -0.0976311 23.8166 -0.0976311 24.2071 0.292893L30.2071 6.29289C30.5976 6.68342 30.5976 7.31658 30.2071 7.70711L24.2071 13.7071C23.8166 14.0976 23.1834 14.0976 22.7929 13.7071C22.4024 13.3166 22.4024 12.6834 22.7929 12.2929L27.0858 8H20.6834C17.922 8 15.6834 10.2386 15.6834 13V27C15.6834 30.866 12.5494 34 8.68341 34H1.5C0.947715 34 0.5 33.5523 0.5 33C0.5 32.4477 0.947715 32 1.5 32H8.68341C11.4448 32 13.6834 29.7614 13.6834 27V13C13.6834 9.13401 16.8174 6 20.6834 6H27.0858L22.7929 1.70711Z",fill:e,ref:n}))),a.forwardRef(({color:e=h,toolbarIconScale:r=1},n)=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:28*r,height:30*r,viewBox:"0 0 28 30",fill:"none"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8987 2.17466C17.3465 2.18604 16.8897 1.74765 16.8783 1.19548C16.8669 0.643314 17.3053 0.186467 17.8575 0.175085L26.341 0.000216699C26.8931 -0.011165 27.35 0.427228 27.3614 0.979396L27.5362 9.46288C27.5476 10.015 27.1092 10.4719 26.5571 10.4833C26.0049 10.4947 25.548 10.0563 25.5367 9.50409L25.4197 3.82765L1.73377 29.4084C1.35854 29.8137 0.725841 29.838 0.320597 29.4628C-0.0846483 29.0875 -0.108983 28.4548 0.266244 28.0496L24.3476 2.04173L17.8987 2.17466Z",fill:e,ref:n})))},2232:(e,r,n)=>{"use strict";n.d(r,{HY:()=>a,fK:()=>o,hx:()=>s}),n(11855),n(88507),n(29019);var i=n(53234);n(40908),n(48661),n(58200);let a="delightful-toolbar",o="delightful_toolbar";function s(e){return i.Pt("delightfulToolbar",e)}},61459:(e,r,n)=>{"use strict";n.d(r,{BD:()=>c,Dq:()=>d,LX:()=>p,XQ:()=>s,n6:()=>u,qB:()=>l});var i=n(28654),a=n(52800),o=n(22957);let s=[{type:"SOLID",color:(0,o.BV)(a.daH.BLACK,"base")}],l=3,d=[{type:"SOLID",color:(0,o.BV)(a.daH.HIGHLIGHT_YELLOW,"highlight")}],c=(0,o.BV)(a.daH.STICKY_GRAY_LIGHT,"sticky"),u=i.F.parse((0,o.Mr)(a.daH.VIOLET_LIGHT)),p=(0,o.BV)(a.daH.GRAY,"baseLight")},62693:(e,r,n)=>{"use strict";let i;n.d(r,{FF:()=>T,hv:()=>w,FL:()=>A,rD:()=>I,oV:()=>S,bz:()=>C});var a=n(11855),o=n(88507),s=n(63706),l=n(9831),d=n(6949);n(66712);var c=n(38580);n(99737);var u=n(35682),p=n(94687);n(99506),n(79453),n(43067),n(28467),n(94517),n(83986);var h=n(47807),m=n(208);new class{constructor(){this.RecentsSchemaValidator=(0,h.vh)(),this.TeamBrowseFromSize10SchemaValidator=(0,h.vh)(),this.SearchPaginatedSchemaValidator=(0,h.vh)()}getRecents(e){return this.RecentsSchemaValidator.validate(async({xr:r})=>await r.get(`/api/templates/${e.orgId}/recents`,{file_keys:e.fileKeys}))}getTeamBrowsePaginated(e){return this.TeamBrowseFromSize10SchemaValidator.validate(async({xr:r})=>await r.get(`/api/templates/${e.orgId}/team/${e.teamId}/browse`,h.td.toAPIParameters({from:e.from,size:e.size})))}getSearchPaginated(e){let{orgId:r,...n}=e;return this.SearchPaginatedSchemaValidator.validate(({xr:r})=>r.get(`/api/templates/${e.orgId}/search`,h.td.toAPIParameters(n)))}getFilteredTeamTemplates(e){let{orgId:r,...n}=e;return m.Ay.post(`/api/templates/${r}/browse`,n)}};var g=((i=g||{}).NOT_ENABLED="NOT_ENABLED",i.CAN_PUBLISH="CAN_PUBLISH",i.FILE_IN_DRAFTS="FILE_IN_DRAFTS",i.FILE_IN_DRAFTS_CANNOT_MOVE="FILE_IN_DRAFTS_CANNOT_MOVE",i.DISABLED_IN_SETTINGS="DISABLED_IN_SETTINGS",i.CANNOT_PUBLISH="CANNOT_PUBLISH",i);(0,c.eU)(null);var f=n(52800);function _(){return!!(0,o.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===f.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId)}var y=n(29680);n(58145),n(11978),a.createContext(null);var E=n(54905),b=n(19001),v=n(48959);function S(){let e=(0,y.aV)(),r=(0,l.ow)(),n=(0,E.Td)(),i=(0,o.d4)(e=>!!e.user);return!e&&r&&n&&!s.Ay.isIpadNative&&i}function I(){let e=(0,y.aV)(),r=(0,l.ow)(),n=_(),i=(0,o.d4)(e=>!!e.user);return!e&&r&&n&&!s.Ay.isIpadNative&&i}function T(){let e=(0,o.d4)(e=>{var r;return null==(r=e.mirror)?void 0:r.appModel.showUi}),r=(0,l.ow)(),n=(0,o.d4)(e=>{var r;return null==(r=e.mirror)?void 0:r.appModel.isReadOnly}),i=S(),a=I();return r&&e&&(!n||i||a)}function w(e={}){let{isEnabledForViewers:r}=e,n=(0,y.aV)(),i=(0,E.Td)(),a=_();return n||i&&!r||a&&!r}function C(){let e=function(){let e=(0,p.sZ)(),r=(0,u.q5)(),n=null==r?void 0:r.template;return n&&n&&!n.unpublishedAt&&e&&e.are_custom_templates_allowed?n:null}(),r=(0,d.hC)(),n=(0,E.Td)();return!!e&&r&&n}function A(){let{state:e}=a.useContext(b.nS),r=e.submenu.tool,n=(0,v.sT)();return!!r||n}},48785:(e,r,n)=>{"use strict";var i=n(52800);n(11080),i.daH.BLACK,i.daH.GRAY_DARK,i.daH.GRAY_LIGHT,i.daH.RED,i.daH.ORANGE,i.daH.YELLOW,i.daH.GREEN,i.daH.BLUE,i.daH.VIOLET,i.daH.WHITE,Array.from(new Map([["SQUARE",i.NLJ.SHAPE_WHITEBOARD_SQUARE],["ELLIPSE",i.NLJ.SHAPE_WHITEBOARD_ELLIPSE],["ROUNDED_RECTANGLE",i.NLJ.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE],["DIAMOND",i.NLJ.SHAPE_WHITEBOARD_DIAMOND],["TRIANGLE_UP",i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP],["TRIANGLE_DOWN",i.NLJ.SHAPE_WHITEBOARD_TRIANGLE_DOWN],["PARALLELOGRAM_RIGHT",i.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT],["PARALLELOGRAM_LEFT",i.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT],["ENG_DATABASE",i.NLJ.SHAPE_WHITEBOARD_ENG_DATABASE],["ENG_QUEUE",i.NLJ.SHAPE_WHITEBOARD_ENG_QUEUE],["ENG_FILE",i.NLJ.SHAPE_WHITEBOARD_ENG_FILE],["ENG_FOLDER",i.NLJ.SHAPE_WHITEBOARD_ENG_FOLDER],["TRAPEZOID",i.NLJ.SHAPE_WHITEBOARD_TRAPEZOID],["STAR",i.NLJ.SHAPE_WHITEBOARD_STAR],["SHIELD",i.NLJ.SHAPE_WHITEBOARD_SHIELD],["HEXAGON",i.NLJ.SHAPE_WHITEBOARD_HEXAGON],["PENTAGON",i.NLJ.SHAPE_WHITEBOARD_PENTAGON],["OCTAGON",i.NLJ.SHAPE_WHITEBOARD_OCTAGON],["PLUS",i.NLJ.SHAPE_WHITEBOARD_PLUS],["PREDEFINED_PROCESS",i.NLJ.SHAPE_WHITEBOARD_PREDEFINED_PROCESS],["MANUAL_INPUT",i.NLJ.SHAPE_WHITEBOARD_MANUAL_INPUT],["CHEVRON",i.NLJ.SHAPE_WHITEBOARD_CHEVRON],["DOCUMENT_SINGLE",i.NLJ.SHAPE_WHITEBOARD_DOCUMENT_SINGLE],["DOCUMENT_MULTIPLE",i.NLJ.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE],["ARROW_LEFT",i.NLJ.SHAPE_WHITEBOARD_ARROW_LEFT],["ARROW_RIGHT",i.NLJ.SHAPE_WHITEBOARD_ARROW_RIGHT],["SUMMING_JUNCTION",i.NLJ.SHAPE_WHITEBOARD_SUMMING_JUNCTION],["OR",i.NLJ.SHAPE_WHITEBOARD_OR],["SPEECH_BUBBLE",i.NLJ.SHAPE_WHITEBOARD_SPEECH_BUBBLE],["INTERNAL_STORAGE",i.NLJ.SHAPE_WHITEBOARD_INTERNAL_STORAGE],["MINDMAP_TREE_NUCLEUS",i.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS]]),([e,r])=>[r,e])},28406:(e,r,n)=>{"use strict";n.d(r,{FR:()=>l,P$:()=>o,YI:()=>s});var i=n(66712),a=n(37499);function o(e){return e?e.isPaused?e.timeRemainingMs:e.timeRemainingMs-performance.now()+e.timeOrigin:-1/0}function s(e){return e<10?`0${e}`:`${e}`}function l(){let e=(0,a.F4)();return(0,i.kc)().figjam_ui2_overhaul?!!(null==e?void 0:e.shouldShowTimerOnTheLeft):!(null==e?void 0:e.shouldOptimizeForIpadApp)||!!(null==e?void 0:e.shouldShowTimerOnTheLeft)}},87392:(e,r,n)=>{"use strict";let i,a;n.d(r,{$3:()=>c,Fn:()=>l,OO:()=>d}),n(11855),n(88507),n(39683);var o=n(63706);n(25651),n(52800),n(60289);var s=n(37499);n(68517),n(73),n(68702),n(40871);var l=((i=l||{}).OPEN="meetings_panel_open",i.CLOSE="meetings_panel_close",i),d=((a=d||{}).MEETINGS_TOOLBAR="meetings_toolbar",a.MEETINGS_MINIMIZED="meetings_minimized",a.MEETINGS_PANEL="meetings_panel",a.INSERTS_MENU="inserts_menu",a.QUICK_ACTIONS="quick_actions",a.IPAD_MENU="ipad_menu",a.MAKE_SOMETHING_V2_ONBOARDING="make_something_v2_onboarding",a);function c(){let e=(0,s.F4)();return(null==e?void 0:e.shouldOptimizeForIpadApp)||o.Ay.isIpad}},68702:(e,r,n)=>{"use strict";n.d(r,{D:()=>d,W:()=>l});var i=n(66712),a=n(52800);let o=[],s={left:null,right:null};function l(e,r){let n=s[e];n&&n(),s[e]=r}function d(e){let r=!a.Ez5.uiState().isUI3.getCopy()&&!(0,i.kc)().figjam_ui2_overhaul;0===o.length&&l(r?"left":"right",()=>{o.forEach(e=>e()),o=[]}),o.push(e)}},22957:(e,r,n)=>{"use strict";let i;n.d(r,{BV:()=>F,V_:()=>U,AF:()=>B,Cz:()=>H,TS:()=>M,Cn:()=>k,Mr:()=>V,zS:()=>x}),n(27367);var a=n(66712),o=n(39863),s=n(28654),l=n(52800),d=n(76621),c=n(4783),u=n(81779),p=((i=p||{})[i.YELLOW=0]="YELLOW",i[i.ORANGE=1]="ORANGE",i[i.RED=2]="RED",i[i.PINK=3]="PINK",i[i.VIOLET=4]="VIOLET",i[i.INDIGO=5]="INDIGO",i[i.COBALT=6]="COBALT",i[i.BLUE=7]="BLUE",i[i.TEAL=8]="TEAL",i[i.GREEN=9]="GREEN",i[i.OLIVE=10]="OLIVE",i[i.GRAY=11]="GRAY",i);let h=new Map([[l.daH.YELLOW,0],[l.daH.ORANGE,1],[l.daH.RED,2],[l.daH.PINK,3],[l.daH.VIOLET,4],[l.daH.INDIGO,5],[l.daH.COBALT,6],[l.daH.BLUE,7],[l.daH.TEAL,8],[l.daH.GREEN,9],[l.daH.OLIVE,10],[l.daH.GRAY,11]]),m=new Map;function g(e,r){0===m.size&&function(){var e;let r=null==(e=l.DV9)?void 0:e.getWhiteboardUI3ColorRamps();if(r)for(let[e,n]of r.entries()){let r={[l.Hdj.V100]:n[0],[l.Hdj.V200]:n[1],[l.Hdj.V300]:n[2],[l.Hdj.V400]:n[3],[l.Hdj.V500]:n[4],[l.Hdj.V600]:n[5],[l.Hdj.V700]:n[6],[l.Hdj.V800]:n[7],[l.Hdj.V900]:n[8],[l.Hdj.V1000]:n[9]},i=h.get(e);if(void 0===i){(0,d.$D)(c.e.FIGJAM_CORE,Error(`The ${e} WhiteboardColor doesn't exist in the FigJam UI3 color ramp map from C++`));continue}m.set(i,r)}}();let n=m.get(e);return n?n[r]:((0,d.$D)(c.e.FIGJAM_CORE,Error(`The ${e} ColorRampName doesn't exist in the figjamUI3ColorsFromCpp map`)),u.t1f)}function f({colorsToCSS:e,lightDisplayColors:r,darkDisplayColors:n}){return{COLOR_TO_CSS:e,CSS_TO_COLOR:new Map(Array.from(e,([e,r])=>[r,e])),LIGHT_DISPLAY:r??e,DARK_DISPLAY:n??e}}let _=f({colorsToCSS:new Map([[l.daH.BLACK,u.jRe],[l.daH.GRAY_DARK,u.vhn],[l.daH.RED,u.N06],[l.daH.ORANGE,u.qmD],[l.daH.YELLOW,u.Sb0],[l.daH.GREEN,u.RO$],[l.daH.BLUE,u.k0u],[l.daH.VIOLET,u.ztz],[l.daH.WHITE,u.t1f]]),lightDisplayColors:void 0,darkDisplayColors:new Map([[l.daH.BLACK,u.Wsi],[l.daH.GRAY_DARK,u._ML],[l.daH.BLUE,u.jcP],[l.daH.VIOLET,u.mOe],[l.daH.WHITE,u.azl],[l.daH.RED,u.AfN],[l.daH.ORANGE,u.n7z],[l.daH.YELLOW,u.p57],[l.daH.GREEN,u.iow]])});function y(e=!1){var r;return(null==(r=l.Ez5)?void 0:r.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette&&!e?f({colorsToCSS:new Map([[l.daH.YELLOW,g(p.YELLOW,l.Hdj.V500)],[l.daH.ORANGE,g(p.ORANGE,l.Hdj.V500)],[l.daH.RED,g(p.RED,l.Hdj.V500)],[l.daH.PINK,g(p.PINK,l.Hdj.V500)],[l.daH.VIOLET,g(p.VIOLET,l.Hdj.V500)],[l.daH.INDIGO,g(p.INDIGO,l.Hdj.V500)],[l.daH.COBALT,g(p.COBALT,l.Hdj.V500)],[l.daH.BLUE,g(p.BLUE,l.Hdj.V500)],[l.daH.TEAL,g(p.TEAL,l.Hdj.V500)],[l.daH.GREEN,g(p.GREEN,l.Hdj.V500)],[l.daH.OLIVE,g(p.OLIVE,l.Hdj.V500)],[l.daH.GRAY,g(p.GRAY,l.Hdj.V500)],[l.daH.WHITE,u.t1f]]),lightDisplayColors:void 0,darkDisplayColors:void 0}):_}let E=f({colorsToCSS:new Map([[l.daH.GRAY,u.Z6Z],[l.daH.GRAY_LIGHT,u.xri],[l.daH.RED_LIGHT,u.Pom],[l.daH.ORANGE_LIGHT,u.isV],[l.daH.YELLOW_LIGHT,u.Qwb],[l.daH.GREEN_LIGHT,u.bug],[l.daH.BLUE_LIGHT,u.oWd],[l.daH.VIOLET_LIGHT,u.PyT]]),lightDisplayColors:void 0,darkDisplayColors:new Map([[l.daH.GRAY,u._ML],[l.daH.GRAY_LIGHT,u.A4R],[l.daH.BLUE_LIGHT,u.X8K],[l.daH.VIOLET_LIGHT,u.eNb],[l.daH.RED_LIGHT,u._PR],[l.daH.ORANGE_LIGHT,u.LLI],[l.daH.YELLOW_LIGHT,u.fUI],[l.daH.GREEN_LIGHT,u.c6S]])});function b(){var e;return(null==(e=l.Ez5)?void 0:e.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette?f({colorsToCSS:new Map([[l.daH.YELLOW_LIGHT,g(p.YELLOW,l.Hdj.V300)],[l.daH.ORANGE_LIGHT,g(p.ORANGE,l.Hdj.V300)],[l.daH.RED_LIGHT,g(p.RED,l.Hdj.V300)],[l.daH.PINK_LIGHT,g(p.PINK,l.Hdj.V300)],[l.daH.VIOLET_LIGHT,g(p.VIOLET,l.Hdj.V300)],[l.daH.INDIGO_LIGHT,g(p.INDIGO,l.Hdj.V300)],[l.daH.COBALT_LIGHT,g(p.COBALT,l.Hdj.V300)],[l.daH.BLUE_LIGHT,g(p.BLUE,l.Hdj.V300)],[l.daH.TEAL_LIGHT,g(p.TEAL,l.Hdj.V300)],[l.daH.GREEN_LIGHT,g(p.GREEN,l.Hdj.V300)],[l.daH.OLIVE_LIGHT,g(p.OLIVE,l.Hdj.V300)],[l.daH.GRAY_LIGHT,g(p.GRAY,l.Hdj.V300)]]),lightDisplayColors:void 0,darkDisplayColors:void 0}):E}let v=f({colorsToCSS:new Map([[l.daH.STICKY_GRAY,u.oK_],[l.daH.STICKY_RED,u.SWq],[l.daH.STICKY_ORANGE,u.B95],[l.daH.STICKY_YELLOW,u.Pp8],[l.daH.STICKY_GREEN,u.k7k],[l.daH.STICKY_BLUE,u.JIO],[l.daH.STICKY_VIOLET,u._xV],[l.daH.STICKY_PINK,u.JIG],[l.daH.STICKY_GRAY_LIGHT,u.Uwv]]),lightDisplayColors:new Map([[l.daH.STICKY_GRAY_LIGHT,u.FQK],[l.daH.STICKY_GRAY,u.fhv],[l.daH.STICKY_BLUE,u.yGx],[l.daH.STICKY_VIOLET,u.DN5],[l.daH.STICKY_RED,u.pZ4],[l.daH.STICKY_PINK,u.i4b],[l.daH.STICKY_ORANGE,u.Q2j],[l.daH.STICKY_YELLOW,u.iUm],[l.daH.STICKY_GREEN,u.h3h]]),darkDisplayColors:new Map([[l.daH.STICKY_GRAY_LIGHT,u.PQh],[l.daH.STICKY_GRAY,u.T2K],[l.daH.STICKY_BLUE,u.o$v],[l.daH.STICKY_VIOLET,u.ZzJ],[l.daH.STICKY_RED,u.$bS],[l.daH.STICKY_PINK,u.Q1z],[l.daH.STICKY_ORANGE,u.aT2],[l.daH.STICKY_YELLOW,u.K4N],[l.daH.STICKY_GREEN,u.nLX]])});function S(){var e;return(null==(e=l.Ez5)?void 0:e.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette?f({colorsToCSS:new Map([[l.daH.STICKY_YELLOW,g(p.YELLOW,l.Hdj.V400)],[l.daH.STICKY_ORANGE,g(p.ORANGE,l.Hdj.V400)],[l.daH.STICKY_RED,g(p.RED,l.Hdj.V400)],[l.daH.STICKY_PINK,g(p.PINK,l.Hdj.V400)],[l.daH.STICKY_VIOLET,g(p.VIOLET,l.Hdj.V400)],[l.daH.STICKY_INDIGO,g(p.INDIGO,l.Hdj.V400)],[l.daH.STICKY_COBALT,g(p.COBALT,l.Hdj.V400)],[l.daH.STICKY_BLUE,g(p.BLUE,l.Hdj.V400)],[l.daH.STICKY_TEAL,g(p.TEAL,l.Hdj.V400)],[l.daH.STICKY_GREEN,g(p.GREEN,l.Hdj.V400)],[l.daH.STICKY_OLIVE,g(p.OLIVE,l.Hdj.V400)],[l.daH.STICKY_GRAY,g(p.GRAY,l.Hdj.V400)]]),lightDisplayColors:void 0,darkDisplayColors:void 0}):v}let I=f({colorsToCSS:new Map([[l.daH.HIGHLIGHT_GRAY,u.PNM],[l.daH.HIGHLIGHT_RED,u.vDw],[l.daH.HIGHLIGHT_ORANGE,u.Ah3],[l.daH.HIGHLIGHT_YELLOW,u.wO8],[l.daH.HIGHLIGHT_GREEN,u.Tdi],[l.daH.HIGHLIGHT_BLUE,u.qHh],[l.daH.HIGHLIGHT_VIOLET,u.fVX],[l.daH.HIGHLIGHT_WHITE,u.nG7]]),lightDisplayColors:new Map([[l.daH.HIGHLIGHT_RED,u.qtk],[l.daH.HIGHLIGHT_YELLOW,u.DE6],[l.daH.HIGHLIGHT_GREEN,u.evO],[l.daH.HIGHLIGHT_BLUE,u.vYY],[l.daH.HIGHLIGHT_VIOLET,u.gnN],[l.daH.HIGHLIGHT_ORANGE,u.xuz],[l.daH.HIGHLIGHT_GRAY,u.ANi],[l.daH.HIGHLIGHT_WHITE,u.wlp]]),darkDisplayColors:new Map([[l.daH.HIGHLIGHT_RED,u.qtk],[l.daH.HIGHLIGHT_YELLOW,u.DE6],[l.daH.HIGHLIGHT_GREEN,u.evO],[l.daH.HIGHLIGHT_BLUE,u.vYY],[l.daH.HIGHLIGHT_VIOLET,u.gnN],[l.daH.HIGHLIGHT_ORANGE,u.xuz],[l.daH.HIGHLIGHT_GRAY,u.ANi],[l.daH.HIGHLIGHT_WHITE,u.wlp]])}),T=f({colorsToCSS:new Map([[l.daH.BLACK,u.jRe],[l.daH.RED,u.N06],[l.daH.ORANGE,u.qmD],[l.daH.YELLOW,u.Sb0],[l.daH.GREEN,u.RO$],[l.daH.BLUE,u.k0u],[l.daH.VIOLET,u.ztz],[l.daH.WHITE,u.t1f]]),lightDisplayColors:void 0,darkDisplayColors:new Map([[l.daH.BLACK,u.Wsi],[l.daH.BLUE,u.jcP],[l.daH.VIOLET,u.mOe],[l.daH.WHITE,u.azl],[l.daH.RED,u.AfN],[l.daH.ORANGE,u.n7z],[l.daH.YELLOW,u.p57],[l.daH.GREEN,u.iow]])});function w(){var e;return(null==(e=l.Ez5)?void 0:e.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette?f({colorsToCSS:new Map([[l.daH.BLACK,u.jRe],[l.daH.RED,g(p.RED,l.Hdj.V800)],[l.daH.ORANGE,g(p.ORANGE,l.Hdj.V800)],[l.daH.YELLOW,g(p.YELLOW,l.Hdj.V800)],[l.daH.GREEN,g(p.GREEN,l.Hdj.V800)],[l.daH.BLUE,g(p.BLUE,l.Hdj.V800)],[l.daH.VIOLET,g(p.VIOLET,l.Hdj.V800)],[l.daH.WHITE,u.t1f]]),lightDisplayColors:void 0,darkDisplayColors:void 0}):T}l.daH.BLACK,l.daH.WHITE,l.daH.GRAY_DARK,l.daH.GRAY,l.daH.GRAY_LIGHT,l.daH.BLUE,l.daH.BLUE_LIGHT,l.daH.VIOLET,l.daH.VIOLET_LIGHT,l.daH.RED,l.daH.RED_LIGHT,l.daH.ORANGE,l.daH.ORANGE_LIGHT,l.daH.YELLOW,l.daH.YELLOW_LIGHT,l.daH.GREEN,l.daH.GREEN_LIGHT,l.daH.PINK,l.daH.PINK_LIGHT,l.daH.INDIGO,l.daH.INDIGO_LIGHT,l.daH.COBALT,l.daH.COBALT_LIGHT,l.daH.TEAL,l.daH.TEAL_LIGHT,l.daH.OLIVE,l.daH.OLIVE_LIGHT,l.daH.STICKY_GRAY_LIGHT,l.daH.STICKY_GRAY,l.daH.STICKY_BLUE,l.daH.STICKY_VIOLET,l.daH.STICKY_RED,l.daH.STICKY_PINK,l.daH.STICKY_ORANGE,l.daH.STICKY_YELLOW,l.daH.STICKY_GREEN,l.daH.STICKY_COBALT,l.daH.STICKY_INDIGO,l.daH.STICKY_TEAL,l.daH.STICKY_OLIVE,l.daH.HIGHLIGHT_RED,l.daH.HIGHLIGHT_YELLOW,l.daH.HIGHLIGHT_GREEN,l.daH.HIGHLIGHT_BLUE,l.daH.HIGHLIGHT_VIOLET,l.daH.HIGHLIGHT_ORANGE,l.daH.HIGHLIGHT_GRAY,l.daH.HIGHLIGHT_WHITE;let C=[l.daH.YELLOW,l.daH.ORANGE,l.daH.RED,l.daH.PINK,l.daH.VIOLET,l.daH.INDIGO,l.daH.COBALT,l.daH.BLUE,l.daH.TEAL,l.daH.GREEN,l.daH.OLIVE,l.daH.GRAY,l.daH.WHITE],A=[l.daH.BLACK,l.daH.GRAY_DARK,l.daH.RED,l.daH.ORANGE,l.daH.YELLOW,l.daH.GREEN,l.daH.BLUE,l.daH.VIOLET,l.daH.WHITE],N=[l.daH.YELLOW_LIGHT,l.daH.ORANGE_LIGHT,l.daH.RED_LIGHT,l.daH.PINK_LIGHT,l.daH.VIOLET_LIGHT,l.daH.INDIGO_LIGHT,l.daH.COBALT_LIGHT,l.daH.BLUE_LIGHT,l.daH.TEAL_LIGHT,l.daH.GREEN_LIGHT,l.daH.OLIVE_LIGHT,l.daH.GRAY_LIGHT],O=[l.daH.GRAY,l.daH.GRAY_LIGHT,l.daH.RED_LIGHT,l.daH.ORANGE_LIGHT,l.daH.YELLOW_LIGHT,l.daH.GREEN_LIGHT,l.daH.BLUE_LIGHT,l.daH.VIOLET_LIGHT],R=[l.daH.BLACK,l.daH.RED,l.daH.ORANGE,l.daH.YELLOW,l.daH.GREEN,l.daH.BLUE,l.daH.VIOLET,l.daH.WHITE],P=[l.daH.STICKY_GRAY,l.daH.STICKY_RED,l.daH.STICKY_ORANGE,l.daH.STICKY_YELLOW,l.daH.STICKY_GREEN,l.daH.STICKY_BLUE,l.daH.STICKY_VIOLET,l.daH.STICKY_PINK,l.daH.STICKY_GRAY_LIGHT],L=[l.daH.STICKY_YELLOW,l.daH.STICKY_ORANGE,l.daH.STICKY_RED,l.daH.STICKY_PINK,l.daH.STICKY_VIOLET,l.daH.STICKY_INDIGO,l.daH.STICKY_COBALT,l.daH.STICKY_BLUE,l.daH.STICKY_TEAL,l.daH.STICKY_GREEN,l.daH.STICKY_OLIVE,l.daH.STICKY_GRAY],D=[l.daH.HIGHLIGHT_GRAY,l.daH.HIGHLIGHT_RED,l.daH.HIGHLIGHT_ORANGE,l.daH.HIGHLIGHT_YELLOW,l.daH.HIGHLIGHT_GREEN,l.daH.HIGHLIGHT_BLUE,l.daH.HIGHLIGHT_VIOLET,l.daH.HIGHLIGHT_WHITE];function M(e){var r,n,i;switch(e){case"widget":case"base":return((null==(r=l.Ez5)?void 0:r.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette?C:A).map(e=>F(e,"base"));case"baseLight":return((null==(n=l.Ez5)?void 0:n.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette?N:O).map(e=>F(e,"baseLight"));case"sticky":return((null==(i=l.Ez5)?void 0:i.uiState().isUI3.getCopy())&&(0,a.kc)().unified_index_v3_figjam_palette?L:P).map(e=>F(e,"sticky"));case"highlight":return D.map(e=>F(e,"highlight"));case"pencilUI3":return R.map(e=>F(e,"pencilUI3"))}}function k(e){return"base"===e}function x(e,r,n=l.daH.CUSTOM){let i;let a=s.F.format(e);switch(r){case"widget":case"base":i=y().CSS_TO_COLOR.get(a);break;case"baseLight":i=b().CSS_TO_COLOR.get(a);break;case"sticky":i=S().CSS_TO_COLOR.get(a);break;case"highlight":i=I.CSS_TO_COLOR.get(a);break;case"pencilUI3":i=w().CSS_TO_COLOR.get(a)}return i??n}function F(e,r){let n;switch(r){case"widget":case"base":n=y().COLOR_TO_CSS.get(e);break;case"baseLight":n=b().COLOR_TO_CSS.get(e);break;case"sticky":n=S().COLOR_TO_CSS.get(e);break;case"highlight":n=I.COLOR_TO_CSS.get(e);break;case"pencilUI3":n=w().COLOR_TO_CSS.get(e)}return n?s.F.parse(n):void 0}function U(e,r="base",n=(0,o.t)("whiteboard.colors.custom")){let i=Array.isArray(e)?e[0]:e,a=x(i,r);return"base"===r&&a===l.daH.CUSTOM&&(a=x(i,"baseLight")),function(e){switch(e){case l.daH.BLACK:return(0,o.t)("whiteboard.colors.black");case l.daH.WHITE:return(0,o.t)("whiteboard.colors.white");case l.daH.GRAY_DARK:return(0,o.t)("whiteboard.colors.dark_gray");case l.daH.GRAY:return(0,o.t)("whiteboard.colors.gray");case l.daH.GRAY_LIGHT:return(0,o.t)("whiteboard.colors.light_gray");case l.daH.YELLOW:return(0,o.t)("whiteboard.colors.yellow");case l.daH.YELLOW_LIGHT:return(0,o.t)("whiteboard.colors.light_yellow");case l.daH.ORANGE:return(0,o.t)("whiteboard.colors.orange");case l.daH.ORANGE_LIGHT:return(0,o.t)("whiteboard.colors.light_orange");case l.daH.RED:return(0,o.t)("whiteboard.colors.red");case l.daH.RED_LIGHT:return(0,o.t)("whiteboard.colors.light_red");case l.daH.PINK:return(0,o.t)("whiteboard.colors.pink");case l.daH.PINK_LIGHT:return(0,o.t)("whiteboard.colors.light_pink");case l.daH.VIOLET:return(0,o.t)("whiteboard.colors.violet");case l.daH.VIOLET_LIGHT:return(0,o.t)("whiteboard.colors.light_violet");case l.daH.INDIGO:return(0,o.t)("whiteboard.colors.indigo");case l.daH.INDIGO_LIGHT:return(0,o.t)("whiteboard.colors.light_indigo");case l.daH.COBALT:return(0,o.t)("whiteboard.colors.cobalt");case l.daH.COBALT_LIGHT:return(0,o.t)("whiteboard.colors.light_cobalt");case l.daH.BLUE:return(0,o.t)("whiteboard.colors.blue");case l.daH.BLUE_LIGHT:return(0,o.t)("whiteboard.colors.light_blue");case l.daH.TEAL:return(0,o.t)("whiteboard.colors.teal");case l.daH.TEAL_LIGHT:return(0,o.t)("whiteboard.colors.light_teal");case l.daH.GREEN:return(0,o.t)("whiteboard.colors.green");case l.daH.GREEN_LIGHT:return(0,o.t)("whiteboard.colors.light_green");case l.daH.OLIVE:return(0,o.t)("whiteboard.colors.olive");case l.daH.OLIVE_LIGHT:return(0,o.t)("whiteboard.colors.light_olive");case l.daH.STICKY_GRAY_LIGHT:return(0,o.t)("whiteboard.colors.light_gray");case l.daH.STICKY_GRAY:return(0,o.t)("whiteboard.colors.gray");case l.daH.STICKY_BLUE:return(0,o.t)("whiteboard.colors.blue");case l.daH.STICKY_VIOLET:return(0,o.t)("whiteboard.colors.violet");case l.daH.STICKY_RED:return(0,o.t)("whiteboard.colors.red");case l.daH.STICKY_PINK:return(0,o.t)("whiteboard.colors.pink");case l.daH.STICKY_ORANGE:return(0,o.t)("whiteboard.colors.orange");case l.daH.STICKY_YELLOW:return(0,o.t)("whiteboard.colors.yellow");case l.daH.STICKY_GREEN:return(0,o.t)("whiteboard.colors.green");case l.daH.STICKY_COBALT:return(0,o.t)("whiteboard.colors.cobalt");case l.daH.STICKY_INDIGO:return(0,o.t)("whiteboard.colors.indigo");case l.daH.STICKY_TEAL:return(0,o.t)("whiteboard.colors.teal");case l.daH.STICKY_OLIVE:return(0,o.t)("whiteboard.colors.olive");case l.daH.HIGHLIGHT_RED:return(0,o.t)("whiteboard.colors.pink");case l.daH.HIGHLIGHT_YELLOW:return(0,o.t)("whiteboard.colors.yellow");case l.daH.HIGHLIGHT_GREEN:return(0,o.t)("whiteboard.colors.green");case l.daH.HIGHLIGHT_BLUE:return(0,o.t)("whiteboard.colors.blue");case l.daH.HIGHLIGHT_VIOLET:return(0,o.t)("whiteboard.colors.violet");case l.daH.HIGHLIGHT_ORANGE:return(0,o.t)("whiteboard.colors.orange");case l.daH.HIGHLIGHT_GRAY:return(0,o.t)("whiteboard.colors.gray");case l.daH.HIGHLIGHT_WHITE:return(0,o.t)("whiteboard.colors.white");default:return}}(a)??n}function B(e,r="base"){let n=e+1;switch(r){case"highlight":return(0,o.t)("whiteboard.colors.palette.highlight",{index:n});case"baseLight":return(0,o.t)("whiteboard.colors.palette.light",{index:n});default:return(0,o.t)("whiteboard.colors.palette.base",{index:n})}}function V(e,r="rgba(255, 255, 255, 1)"){return y().COLOR_TO_CSS.get(e)??r}function H(e,r,n){let i;let a={...e,a:1},o=x(a,r);if(o===l.daH.NONE||o===l.daH.CUSTOM)return s.F.format(a);switch(r){case"baseLight":i=b();break;case"sticky":i=S();break;case"highlight":i=I;break;case"pencilUI3":i=w();break;default:i=y()}return("light"===n?i.LIGHT_DISPLAY.get(o):i.DARK_DISPLAY.get(o))??s.F.format(a)}[u.jRe,u.xri,u.N06,u.Sb0,u.RO$].map(e=>s.F.parse(e))},89584:(e,r,n)=>{"use strict";n.d(r,{J:()=>u,x:()=>p});var i=n(84934),a=n(38329),o=n(63706),s=n(80820),l=n(31828);let d=o.Ay.isIpad||o.Ay.isIpadNative;function c(){return d?"hide_figjam_templates_picker":"hide_figjam_starter_kit"}function u(){let e=c();return!!a.D&&!!a.D.getState().userFlags[e]}let p=(0,s.nF)((e,r)=>{var n,a;let{userFlag:o=c(),hide:s,triggeredFrom:d}=r,{dispatch:u}=e,p=(null==(n=e.getState().openFile)?void 0:n.key)||null;u(l.b({[o]:s})),a={fileKey:p,setting:o,value:s,triggeredFrom:d},(0,i.sx)("templates_preference_updated",a)})},85867:(e,r,n)=>{"use strict";n.d(r,{E:()=>c});var i=n(11855),a=n(29019),o=n(70394),s=n(43111),l=n(64974);let d=(0,i.createContext)(!1),c=(0,s.d)("ButtonPrimitive",({type:e="button",...r},n)=>{let{Tag:c,tagProps:u}=(0,s.q)(r,{},"button"),{className:p,...h}=function({onClick:e,recordingKey:r,actionOnPointerDown:n,...a}){let o=(0,i.useContext)(d),s=(0,i.useRef)(!1),c=(0,l.Q)(r=>{e?.(r)},{eventName:"click",recordingKey:r},[e,a.disabled]),u=(0,i.useCallback)(e=>{a.disabled||s.current||c(e),s.current=!1},[c,a.disabled]),p=(0,i.useCallback)(e=>{0===e.button&&"mouse"===e.pointerType&&(u(e),s.current=!0)},[u]),h=(0,i.useCallback)(()=>{s.current=!1},[]);return o||!n?{...a,onClick:u}:{...a,onPointerDown:p,onPointerLeave:h,onClick:u}}(u);return i.createElement(c,{className:a("button-reset-module--buttonReset--Njg3k",p),type:e,...o.r,...h,ref:n},r.children)})},67129:(e,r,n)=>{"use strict";n.d(r,{K:()=>h});var i={};n.r(i),n.d(i,{ghost:()=>d,icon:()=>p,iconButton:()=>u,secondary:()=>c});var a=n(11855),o=n(29019),s=n(85867),l=n(43111);let d="icon-button-module--ghost--wAJdz",c="icon-button-module--secondary--EjqKT",u="icon-button-module--iconButton--9kqf- base-icon-button-module--baseIconButton--qZbFM",p="icon-button-module--icon--AmhPW base-icon-button-module--icon--jsZJB",h=(0,l.d)("IconButton",function({children:e,variant:r,...n},l){return a.createElement(s.E,{...n,ref:l,className:o(u,i[r??"ghost"])},a.createElement("span",{"aria-hidden":!0,className:p},e))})},96796:(e,r,n)=>{"use strict";n.d(r,{O:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M5.879 7.121 8 9.243l2.121-2.122"}))}},3910:(e,r,n)=>{"use strict";n.d(r,{f:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.159 6.058c-.14-.292.103-.558.427-.558.38 0 .43.08.571.307.032.05.068.109.113.175.232.338.588.738 1.053 1.121C5.257 7.873 6.54 8.5 8 8.5s2.743-.628 3.677-1.397a5.634 5.634 0 0 0 1.053-1.121l.11-.168c.147-.235.197-.314.574-.314.324 0 .566.266.427.558-.234.491-.718 1.12-1.397 1.706l.972 1.459a.5.5 0 1 1-.832.554l-.94-1.41a7.17 7.17 0 0 1-1.59.784l.431 1.728a.5.5 0 0 1-.97.242l-.43-1.718a6.168 6.168 0 0 1-2.17 0l-.43 1.718a.5.5 0 0 1-.97-.242l.432-1.728a7.168 7.168 0 0 1-1.59-.784l-.941 1.41a.5.5 0 0 1-.832-.554l.972-1.459c-.68-.586-1.163-1.215-1.397-1.706Z",clipRule:"evenodd"}))}},1140:(e,r,n)=>{"use strict";n.d(r,{s:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("rect",{width:"6",height:"4",x:"5",y:"8",fill:"var(--color-icon-tertiary)",rx:".25"}),i.createElement("mask",{id:"fpl-icon-16-lock-locked-a",fill:"#fff"},i.createElement("path",{fillRule:"evenodd",d:"M10 6v1H6V6a2 2 0 1 1 4 0ZM5 7.025V6a3 3 0 0 1 6 0v1.025c.57.116 1 .62 1 1.225v3.5c0 .69-.56 1.25-1.25 1.25h-5.5C4.56 13 4 12.44 4 11.75v-3.5c0-.605.43-1.11 1-1.225Z",clipRule:"evenodd"})),i.createElement("path",{fill:"var(--color-icon)",d:"M10 7v1h1V7h-1ZM6 7H5v1h1V7Zm-1 .025.199.98L6 7.842v-.817H5Zm6 0h-1v.817l.801.163.199-.98ZM11 7V6H9v1h2ZM6 8h4V6H6v2ZM5 6v1h2V6H5Zm3-3a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V3Zm3 3a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2ZM4 7v.025h2V7H4Zm0-1v1h2V6H4Zm4-4a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2V2Zm4 4a4 4 0 0 0-4-4v2a2 2 0 0 1 2 2h2Zm0 1V6h-2v1h2Zm0 .025V7h-2v.025h2Zm-1.199.98A.25.25 0 0 1 11 8.25h2a2.25 2.25 0 0 0-1.801-2.205l-.398 1.96ZM11 8.25v3.5h2v-3.5h-2Zm0 3.5a.25.25 0 0 1-.25.25v2A2.25 2.25 0 0 0 13 11.75h-2Zm-.25.25h-5.5v2h5.5v-2Zm-5.5 0a.25.25 0 0 1-.25-.25H3A2.25 2.25 0 0 0 5.25 14v-2ZM5 11.75v-3.5H3v3.5h2Zm0-3.5a.25.25 0 0 1 .199-.245L4.8 6.045A2.25 2.25 0 0 0 3 8.25h2Z",mask:"url(#fpl-icon-16-lock-locked-a)"}))}},61726:(e,r,n)=>{"use strict";n.d(r,{l:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},i.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.035 8.07A.931.931 0 0 1 3.01 8a.931.931 0 0 1 .026-.07c.044-.102.12-.242.235-.412a5.635 5.635 0 0 1 1.053-1.121C5.257 5.627 6.54 5 8 5s2.743.628 3.677 1.397c.465.383.821.783 1.053 1.121.116.17.191.31.235.413L12.99 8a.957.957 0 0 1-.026.07c-.044.102-.12.242-.235.412a5.637 5.637 0 0 1-1.053 1.121C10.743 10.373 9.46 11 8 11s-2.743-.628-3.677-1.397A5.635 5.635 0 0 1 3.27 8.482a2.449 2.449 0 0 1-.235-.413ZM2 8c0-1 2.5-4 6-4s6 3 6 4-2.5 4-6 4-6-3-6-4Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}},26331:(e,r,n)=>{"use strict";n.d(r,{r:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},i.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M9.879 11.121 12 13.243l2.121-2.122"}))}},27457:(e,r,n)=>{"use strict";n.d(r,{e:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},i.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.5v11M6.5 12h11"}))}},82683:(e,r,n)=>{"use strict";n.d(r,{h:()=>a});var i=n(11855);function a(e){return i.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},i.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 10.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-.956 4.206a5.5 5.5 0 1 1 .662-.662.5.5 0 0 1 .148.102l3 3a.5.5 0 1 1-.707.707l-3-3a.5.5 0 0 1-.103-.147Z",clipRule:"evenodd"}))}},35387:(e,r,n)=>{"use strict";n.d(r,{A:()=>M});var i=n(11855),a=n(29019),o=n(12653);let s={x:0,y:0};function l(e){return{x:e.clientX,y:e.clientY}}function d(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function c(e,r){return(e.x-r.x)**2+(e.y-r.y)**2}function u(e){return Math.sqrt(c(s,e))}function p(e,r){return e.x>r.left&&e.x<r.right&&e.y>r.top&&e.y<r.bottom}let h="use-drag-module--draggingBody--ZeVp9",m={mouse:8,pen:16,touch:16};function g(e){return m[e]??m.mouse}var f=n(70394);function _(e,r,n){return Math.min(Math.max(e,r),n)}function y(e,r,n){let i=e+r,a=Math.sign(r),o=(-1===a?Math.ceil:1===a?Math.floor:Math.round)(i/n)*n;return Math.abs(e-o)<Number.EPSILON?i:o}let E="undefined"==typeof window?"":window.navigator.userAgent,b=/macintosh/i.test(E),v=/ipad|iphone|ipod/.test(E),S=b||v,I=/firefox|iceweasel|fxios/i.test(E),T=!I&&/chrome|crios|crmo/i.test(E);!S||I||T||/safari|applewebkit/i.test(E);var w=n(64974);function C(e,r,n){return((e=_(e,r,n))-r)/(n-r)}function A(e){return`${(100*e).toFixed(2)}%`}function N(e,r,n,i){return _(Math.round(e/r)*r,n,i)}let O=(0,i.createContext)(null),R=(0,i.createContext)(null),P={Root:(0,i.forwardRef)(function(e,r){let{className:n,style:m,children:E,min:b,max:v,step:I,bigStep:T,value:A,valueText:P,defaultValue:L,onChange:D,disabled:M=!1,hints:k=null,loop:x=!1,"aria-label":F,"aria-labelledby":U,...B}=function({onChange:e,recordingKey:r,...n}){let i=(0,w.Q)(e,{eventName:"change",recordingKey:r},[e]);return{...n,onChange:i}}(e),V=(0,i.useRef)(null),[H,G]=function(){let e=(0,i.useRef)(null),[,r]=(0,i.useState)(null),n=(0,i.useCallback)(n=>{e.current=n,r(n)},[]);return[e,n]}(),W=(0,i.useRef)(!1),[z,K]=(0,i.useState)(!1),j=(0,i.useRef)(!1),Y=N(A,I,b,v),$=(0,i.useMemo)(()=>({min:b,max:v}),[b,v]),q=(0,i.useMemo)(()=>({value:Y,registerThumbRef:G}),[Y,G]);function Z(e,r,n=!1){M||e===Y||(n&&(j.current=!0),D?.(e,{event:r,commit:!1}))}function X(e){(!M||j.current)&&(D?.(Y,{event:e,commit:!0}),j.current=!1)}let[J,Q]=function(e={}){let r=(0,i.useRef)(s),n=(0,i.useRef)(null),m=(0,i.useRef)(null),f=(0,i.useRef)(0),[_,y]=(0,i.useState)(!1);if(e.disabled)return[!1,e=>e||{}];function E(e){r.current=e(r.current)}function b(e){var n,i;return n=l(e),i=r.current,{x:n.x-i.x,y:n.y-i.y}}function v(r,n){y(!0),n.setPointerCapture(r.pointerId),n.setAttribute("data-pointer-capture",""),document.body.classList.add(h),"mouse"!==r.pointerType&&document.addEventListener("touchmove",o.wo,{passive:!1}),e.onDragStart?.(r);let i=b(r);e.onDrag?.(Object.assign(r,{delta:i}),{updateStart:E})}function S(r,i){if(r.pointerId!==n.current)return;if(i&&m.current){m.current=null,n.current=null;return}r.target.removeAttribute("data-pointer-capture"),document.removeEventListener("touchmove",o.wo),document.body.classList.remove(h),i||window.getSelection()?.empty(),y(!1),n.current=null;let a=b(r);e.onDragEnd?.(Object.assign(r,{cancelled:i,delta:a}))}function I(n){var i,a,o,s;if(!e.deadZone||!m.current)return!1;let h="pointermove"===n.type,_=b(n),y=u(_)<g(n.pointerType);if(h&&y)return!0;if("mouse"!==(i=n).pointerType&&performance.now()-f.current>900||function(e){let r=window.getSelection();return!!(r&&!r.isCollapsed&&r.toString().length>0&&(e.contains(r.anchorNode)||e.contains(r.focusNode)))}(i.currentTarget)||("LABEL"===(a=i.target).nodeName&&(a=a.querySelector("input")??a),("TEXTAREA"===(o=a).nodeName||"INPUT"===o.nodeName&&/^(text|search|url|tel|password)$/i.test(o.type))&&a.selectionStart!==a.selectionEnd))return S(n,!0),!0;if(y){let e=function(e,r,n){if(!p(e,n)||p(r,n))return null;let i=r.x-e.x,a=r.y-e.y,o=i>=0?n.right:n.left,s=a>=0?n.bottom:n.top;if(0===i)return{x:e.x,y:s};if(0===a)return{x:o,y:e.y};let l=a/i,d=e.y-l*e.x,u={x:o,y:l*o+d},h={x:(s-d)/l,y:s};return c(u,e)<c(h,e)?u:h}(r.current,l(n),n.currentTarget.getBoundingClientRect());if(!e)return!0;r.current=d(e)}else{let e=function(e,r){var n;let i=(n=u(e),{x:e.x/n,y:e.y/n});return r?"number"==typeof r?{x:i.x*r,y:i.y*r}:{x:i.x*r.x,y:i.y*r.y}:i}(_,g(n.pointerType));r.current=d({x:(s=r.current).x+e.x,y:s.y+e.y})}return v(n,m.current),m.current=null,!0}let T={onPointerDown(i){if(null!=n.current||!e.customButtonCheck&&i.button!==o.w3.LEFT||i.target.hasAttribute("data-temporary-fpl-no-drag"))return;let a=e.onBeforeDrag?.(i);if(!1===a)return;i.stopPropagation(),r.current=d(l(i)),n.current=i.pointerId,f.current=performance.now();let s=a instanceof Element?a:i.currentTarget;if(e.deadZone&&!(0,o.NC)(i)&&!i.target.hasAttribute("data-no-dead-zone")){m.current=s;return}window.getSelection()?.empty(),v(i,s)},onPointerMove(r){if(r.pointerId!==n.current||I(r))return;let i=b(r);e.onDrag?.(Object.assign(r,{delta:i}),{updateStart:E})},onPointerLeave(e){e.pointerId===n.current&&I(e)},onPointerUp(r){S(r,!!e.deadZone&&null!=m.current)},onLostPointerCapture(r){"touch"!==r.pointerType&&document.pointerLockElement!==r.target&&S(r,!!e.deadZone&&null!=m.current)},onPointerCancel(e){S(e,!0)},onMouseDown:o.dG,className:a("use-drag-module--base--rBDbf",o.Dm,{"use-drag-module--dragging--vK2pC":_})};return[_,e=>(function(e,r){if(!r)return e;let n={...e};for(let i in r)n[i]?i.match(/^on[A-Z]/)?n[i]=(...n)=>{e[i]?.(...n),r[i]?.(...n)}:"className"===i?n[i]=a(n[i],r[i]):"style"===i?n[i]={...n[i],...r[i]}:n[i]=r[i]:n[i]=r[i];return n})(T,e)]}({disabled:M,onDragStart(){K(!0),W.current=!1},onDrag(e){let r=S&&e.ctrlKey||W.current;Z(N(function(e,r,n,i){if(!r||0===r.length)return e;let[a,o]=function(e,r){let n=e[0],i=r(n);for(let a=1;a<e.length;++a){let o=e[a],s=r(o);s<i&&(i=s,n=o)}return[n,i]}(r.map(e=>C(e,n,i)),r=>Math.abs(r-e));return o<=.02?a:e}(function(e,r,n){let i=r.getBoundingClientRect(),a=n.getBoundingClientRect();return(e.clientX-i.left-a.width/2)/(i.width-a.width)}(e,V.current,H.current),r?null:k,b,v)*(v-b)+b,I,b,v),e)},onDragEnd:X});return i.createElement(O.Provider,{value:$},i.createElement(R.Provider,{value:q},i.createElement("div",{...f.r,...B,ref:V,style:{...m,"--slider-thumb-width":`${H.current?.offsetWidth??0}px`},className:a(n,"slider-primitive-module--root--8DSmy"),"data-dragging":J||void 0,"data-focus-visible":!z||void 0},i.createElement("div",{ref:r,...Q({className:"slider-primitive-module--hitbox--uMZwS"}),onKeyDown:function(e){J||K(!1);let r=Y;switch(e.code){case"ArrowRight":case"ArrowUp":r=y(r,e.shiftKey?T:I,I);break;case"ArrowLeft":case"ArrowDown":r=y(r,-1*(e.shiftKey?T:I),I);break;case"PageUp":r=y(r,T,I);break;case"PageDown":r=y(r,-1*T,I);break;case"Home":r=b;break;case"F4":case"End":r=v;break;case"Backspace":case"Delete":(0,o.Ju)(e),null!=L&&(r=L);break;case"KeyS":(0,o.Ju)(e),W.current=!0;return;case"Escape":(0,o.Ju)(e),e.currentTarget.blur();return;default:return}(0,o.Ju)(e),x&&(r=function(e,r,n,i){if(e<r)for(e+=i;e<=r;)e+=n;else if(e>n)for(e-=i;e>=n;)e-=n;return e}(r,b,v,I)),Z(r=_(r,b,v),e,!0)},onKeyUp:function(e){"KeyS"===e.code&&(W.current=!1)},onBlur:e=>{K(!1),j.current&&X(e)},role:"slider",tabIndex:0,"aria-valuemin":b,"aria-valuemax":v,"aria-valuenow":Y,"aria-valuetext":P||void 0,"aria-disabled":M||void 0,"aria-label":F,"aria-labelledby":U}),E)))}),Thumb:function({style:e,...r}){let{min:n,max:a}=L(O,"SliderPrimitive.Thumb"),{value:o,registerThumbRef:s}=L(R,"SliderPrimitive.Thumb"),l=A(C(o,n,a));return i.createElement("div",{...r,ref:s,style:{...e,left:l,transform:"translateX(-50%)"}})},Range:function({start:e,end:r,style:n,...a}){let{min:o,max:s}=L(O,"SliderPrimitive.Range");if(e>r){let n=r;r=e,e=n}let l=A(C(e,o,s)),d=A(1-C(r,o,s));return i.createElement("div",{...a,style:{...n,left:l,right:d}})},Point:function({value:e,style:r,...n}){let{min:a,max:o}=L(O,"SliderPrimitive.Point"),s=A(C(e,a,o));return i.createElement("div",{...n,style:{...r,left:s}})}};function L(e,r){let n=(0,i.useContext)(e);if(null===n)throw Error(`null context: ${r} must be nested within SliderPrimitive.Root`);return n}var D=n(49620);let M=(0,i.forwardRef)(function({style:e,rangeAnchor:r,mixed:n,...o},s){let l=o.value!==o.defaultValue,d=(0,D.Lh)("mixed");return i.createElement(P.Root,{ref:s,...o,style:e,className:"slider-module--root--yJPQr","data-range":null!=r||void 0,"data-mixed":n||void 0,valueText:n?d:void 0},null!=r&&i.createElement(P.Range,{className:"slider-module--range--ML8l2",start:r,end:o.value}),o.hints?.map((e,r)=>i.createElement(P.Point,{className:a("slider-module--dot--NUVOZ",{"slider-module--main--Ea8i4":e===o.defaultValue}),value:e,key:r})),i.createElement(P.Thumb,{className:a("slider-module--thumb--D3mo1",{"slider-module--modified--OApDi":l})}))})},49620:(e,r,n)=>{"use strict";n.d(r,{Lh:()=>o});var i=n(11855);let a=(0,i.createContext)({close:"Close",mixed:"Mixed"});function o(e){return(0,i.useContext)(a)[e]}},70394:(e,r,n)=>{"use strict";n.d(r,{r:()=>i});let i={"data-fpl-component":""}},12653:(e,r,n)=>{"use strict";var i;n.d(r,{Dm:()=>a,Ju:()=>o,NC:()=>d,dG:()=>l,w3:()=>i,wo:()=>s});let a="js-fullscreen-prevent-event-capture";function o(e){e.preventDefault(),e.stopPropagation()}function s(e){e.preventDefault()}function l(e){e.stopPropagation()}function d(e){return e.target===e.currentTarget}!function(e){e[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD"}(i||(i={}))},43111:(e,r,n)=>{"use strict";n.d(r,{d:()=>a,q:()=>o});var i=n(11855);function a(e,r){let n=i.forwardRef(r);return n.displayName=e,Object.defineProperty(n,"name",{value:e}),n}function o(e,r,n){let{as:i=n,asOnlyProps:a={},...o}=e;return{Tag:i,tagProps:{...o,...r,...a}}}},64974:(e,r,n)=>{"use strict";n.d(r,{Q:()=>o});var i=n(11855);let a=(0,i.createContext)({useInteraction:e=>e});function o(e,r,n){let{useInteraction:o}=(0,i.useContext)(a),s=o((0,i.useMemo)(()=>e,n),r);return e?s:e}}}]);

//# debugId=9e27f3ca-d05d-5315-b760-a08cc32ff043

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2a41fe27f4211c1de913f9389143b0e7f78f5390/175-06c4cbd50a039cee.min.js.map