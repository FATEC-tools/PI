"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="16947444-5e1f-566f-9b81-7d82ba3002ed")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[187],{17076:(e,t,n)=>{n.d(t,{A9:()=>N,Ac:()=>B,Gm:()=>f,H1:()=>h,Hq:()=>M,In:()=>p,K0:()=>i,Kz:()=>k,OI:()=>b,P8:()=>A,QW:()=>F,TM:()=>L,UB:()=>D,UI:()=>v,XV:()=>w,YG:()=>c,Yh:()=>E,ar:()=>I,bp:()=>a,cV:()=>s,el:()=>u,ft:()=>U,hM:()=>g,iH:()=>o,iZ:()=>P,im:()=>_,kQ:()=>W,m6:()=>C,q6:()=>l,rS:()=>r,rs:()=>d,uN:()=>S,vc:()=>y,x$:()=>R,yd:()=>m,yk:()=>T,yq:()=>O,zr:()=>x});let i="plugin_tiles--publishedIcon--y-Ikr",l="plugin_tiles--developmentPluginDotsIcon--cg1O-",a="plugin_tiles--developmentPluginTile--FydP6",r="plugin_tiles--developmentPluginTileMetadataContainer--gfR-P",o="plugin_tiles--developmentPluginErrorName--yj1wE plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",c="plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",s="plugin_tiles--developmentPluginFilePath--j9l0U text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",d="plugin_tiles--developmentFolderIcon--SoGUp",u="plugin_tiles--developmentPluginTileMetadataContainer__OLD--2kyZc",m="plugin_tiles--developmentPluginWarningIcon--NBesu",_="plugin_tiles--developmentPluginIcon--Kl-2F",p="plugin_tiles--developmentPluginMetadata--GqmX3",E="plugin_tiles--iconButtonSelectedForWidget--79v2p",f="plugin_tiles--developmentPluginDropdown--KEULS",g="plugin_tiles--developmentPluginErrorModalText--PEqEP",h="plugin_tiles--developmentPluginErrorModalFooter--SISR1",v="plugin_tiles--publishedPluginMoreIcon--tQ1c9",C="plugin_tiles--spotlightPluginTile--Gglp2 plugin_tiles--_pluginTileBase--HvkF8 text--fontPos11--2LvXf text--_fontBase--QdLsd",b="plugin_tiles--spotlightPluginsListContainer--JAkwJ plugin_tiles--_container--jAD59",w="plugin_tiles--spotlightMetadataContainer--lFOPM",N="plugin_tiles--spotlightPluginTileIcon--3s1tl plugin--pluginIconBase--yAG5F",T="plugin_tiles--spotlightPluginTileIconContainer--cuocl",y="plugin_tiles--spotlightPluginTileName--6eroa text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",I="plugin_tiles--spotlightPluginTileDescription--jc0y4 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",R="plugin_tiles--basePluginManagementTileContainer--WzHwT",k="plugin_tiles--basePluginManagementTileTextContainer--oFEuj",P="plugin_tiles--basePluginManageTileTitle--hLcWv plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",A="plugin_tiles--basePluginManagementTileFlex--4p4pV",D="plugin_tiles--basePluginManagementTileSubTitle--5CYIJ plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",S="plugin_tiles--basePluginManagementTileSubTitleMobile--9hKOo text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",O="plugin_tiles--basePluginManagementTileIconContainer--d1qwn",x="plugin_tiles--basePluginManagementTileIcon--WtleX",M="plugin_tiles--basePluginManagementOptionsIcon--gddMS",L="plugin_tiles--developmentPluginTileIconContainer--DyZMP plugin_tiles--basePluginManagementTileIcon--WtleX",F="plugin_tiles--warningIcon--B8Ug7",U="plugin_tiles--codeTagIcon--35Bhn",B="plugin_tiles--worldIcon--w-2nj",W="plugin_tiles--svg16--Z1gZw"},44173:(e,t,n)=>{n.d(t,{A9:()=>H,DD:()=>h,EI:()=>v,Ec:()=>B,En:()=>b,Ew:()=>j,FN:()=>_,FS:()=>E,Kk:()=>N,Li:()=>l,PI:()=>L,Qs:()=>x,SH:()=>I,SZ:()=>f,VA:()=>M,Vt:()=>A,Zc:()=>y,Zm:()=>d,_u:()=>r,aR:()=>P,bm:()=>m,dC:()=>u,dh:()=>k,e0:()=>C,eD:()=>s,gJ:()=>O,gv:()=>W,hQ:()=>S,k1:()=>G,km:()=>V,lN:()=>F,ni:()=>T,qd:()=>i,sU:()=>a,t4:()=>D,tJ:()=>p,uX:()=>w,vE:()=>g,wZ:()=>U,xG:()=>c,xf:()=>R,yT:()=>o});let i="block_kit_row--rowContainer--blE-e",l="block_kit_row--rowContainerRevamp--yfW80",a="block_kit_row--rowTop--V9LTX",r="block_kit_row--rowBottom--MUjVt",o="block_kit_row--rowBottomStructuredView--FMX0O",c="block_kit_row--acceptButton--a8hGz",s="block_kit_row--rejectButton--KOYG6",d="block_kit_row--unreadDot--nGsUe",u="block_kit_row--unreadBlueDot--4x8W8 block_kit_row--unreadDot--nGsUe",m="block_kit_row--unreadDotStructuredView--5etXA",_="block_kit_row--unreadBlueDotStructuredView--ZD5sy block_kit_row--unreadDotStructuredView--5etXA",p="block_kit_row--metadataContainer--VXyxj",E="block_kit_row--textContainer--k9trX",f="block_kit_row--titleAndTimestamp--jCbMC",g="block_kit_row--timestamp--5jHxO",h="block_kit_row--title--RyhFW",v="block_kit_row--usersContainer--m9QMX",C="block_kit_row--usersContainerStructuredView---DFXa",b="block_kit_row--iconInvert--ZLK5r",w="block_kit_row--secondaryUser--Zbyj5",N="block_kit_row--icon--Gau-9",T="block_kit_row--iconImg--Sw8ei",y="block_kit_row--resource--1nT--",I="block_kit_row--primaryUser--0OplU",R="block_kit_row--primaryUserRevamp--MMzIv",k="block_kit_row--secondaryUserRevamp--UuMHC",P="block_kit_row--quickReplyChevronContainer--SK1rE",A="block_kit_row--quickReplyChevron--smu6R",D="block_kit_row--chevronIcon--RUUy2",S="block_kit_row--contentContainer--xYiON text--fontPos11--2LvXf text--_fontBase--QdLsd",O="block_kit_row--contentContainerRevamp--D0Z0z text--fontPos11--2LvXf text--_fontBase--QdLsd",x="block_kit_row--content--DjH--",M="block_kit_row--subtitle--tTR9W",L="block_kit_row--fromNow--qYB7e",F="block_kit_row--planDivider--po3BY",U="block_kit_row--notificationDescription--6aMEh ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",B="block_kit_row--notificationDescriptionStructuredView--4sKju ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",W="block_kit_row--reacjiNotificationStructuredView--TWxtz",H="block_kit_row--emojiUnicode--s9gXM",V="block_kit_row--imagePreview---NMyQ",G="block_kit_row--htmlTextBlock--w691R",j="block_kit_row--square--LWlEB"},391758:(e,t,n)=>{n.d(t,{Ee:()=>p,FR:()=>E,I3:()=>w,JX:()=>g,O9:()=>d,OL:()=>N,P2:()=>i,Pu:()=>a,Uz:()=>r,WI:()=>f,db:()=>_,g4:()=>c,gy:()=>u,ix:()=>l,jG:()=>b,n$:()=>h,nf:()=>C,pg:()=>o,sJ:()=>v,u6:()=>m,wx:()=>s});let i="user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",l="user_notifications_dropdown--dropdownChevronContainer--SAlt4",a="user_notifications_dropdown--dropdownChevron--ZvAmn",r="user_notifications_dropdown--arrowRight--yyaYz",o="user_notifications_dropdown--dropdownContainerEmptyState--9URCY user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",c="user_notifications_dropdown--loadingContainer--gztC3",s="user_notifications_dropdown--header--VmRgJ",d="user_notifications_dropdown--orgName--hsl6y ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",u="user_notifications_dropdown--unread---qSyA",m="user_notifications_dropdown--filterToggleButtons--durwj",_="user_notifications_dropdown--filterToggleButton--O-mT7",p="user_notifications_dropdown--filterToggleButtonSelected--Z7F8s",E="user_notifications_dropdown--unreadToggleBar--LB14C",f="user_notifications_dropdown--filterToggleBar--um0WE user_notifications_dropdown--unreadToggleBar--LB14C",g="user_notifications_dropdown--requestTabBanner--vR0cD",h="user_notifications_dropdown--requestTabBannerCloseButton--BhUQ6",v="user_notifications_dropdown--dateHeader--mWn2d",C="user_notifications_dropdown--link--tPMj9 text--fontPos11--2LvXf text--_fontBase--QdLsd",b="user_notifications_dropdown--scrollContainer--eFxLZ",w="user_notifications_dropdown--scrollContainerWithPlan--D2j-0",N="user_notifications_dropdown--emptyRow--hHiSY"},687348:(e,t,n)=>{n.d(t,{JX:()=>c,P0:()=>o,S:()=>s,VM:()=>l,h_:()=>r,oQ:()=>a,tJ:()=>i});let i="figjam_plugin_detail_in_editor--metadataContainer--qQ5Hi",l="figjam_plugin_detail_in_editor--coverImageNotDraggable---pwfP",a="figjam_plugin_detail_in_editor--resourceUsageDetails--SGXXh",r="figjam_plugin_detail_in_editor--description--a03k0 text--fontPos13--xW8hS text--_fontBase--QdLsd",o="figjam_plugin_detail_in_editor--communityLinkBase--9ekc6",c="figjam_plugin_detail_in_editor--communityLinkIcon---FG3j text--fontPos11--2LvXf text--_fontBase--QdLsd",s="figjam_plugin_detail_in_editor--loadingSpinner--D-Bwn browse_resources_modal--loadingSpinner--pMJQa"},701283:(e,t,n)=>{n.d(t,{Kk:()=>o,XI:()=>u,iG:()=>i,iU:()=>s,m5:()=>c,o1:()=>d,rV:()=>r,s:()=>l,xT:()=>a});let i="notification--centeredContainer--KOKEL",l="notification--topCenterNotification---nbgh notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",a="notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",r="notification--bottomRightNotificationHelpIconHidden--plZlM notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",o="notification--icon--ZWNx5",c="notification--iconError--aqnJU notification--icon--ZWNx5",s="notification--message--6GSx7",d="notification--actions--GUX-p",u="notification--action--v-pvn"},251288:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(411855),l=n(629019),a=n.n(l),r=n(939863),o=n(498606),c=n(365292);function s({height:e="24"}){return i.createElement("div",{className:a()("in_review_badge--inReviewBadge--6j9Uu"),"data-tooltip-type":o.Ib.TEXT,"data-tooltip":(0,r.t)("community.plugins.this_resource_is_in_review_by_figma_moderators_and_will_be_available_publicly_once_approved")},i.createElement(c.Ex,{height:e},i.createElement("span",{className:a()({"in_review_badge--heightSixteen--aD6ev text--fontPos9--naThA text--_fontBase--QdLsd":"16"===e})},i.createElement(r.Tx,{id:"community.plugins.in_review"}))))}},367935:(e,t,n)=>{function i(e){return e.is_widget}function l(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function a(e){return void 0!==e.duplicate_count}n.d(t,{AS:()=>i,bT:()=>l,zj:()=>a})},884484:(e,t,n)=>{n.d(t,{NV:()=>b,OX:()=>C,Pt:()=>w,qi:()=>y,qu:()=>T,x2:()=>N});var i=n(188507);if(443==n.j)var l=n(935283);var a=n(939863),r=n(545941),o=n(71425),c=n(57879),s=n(662275),d=n(483990),u=n(860178),m=n(31629),_=n(215822),p=n(555328),E=n(813408),f=n(376485),g=n(749449),h=n(180881),v=n(774620);function C(e){let t;let n=(0,i.wA)(),l=(0,u.TA)();if(!e||l!==e.creator.id)return null;if((0,r.AC)(e))t=(0,a.t)("community.plugins.cancel_review");else if((0,p.m3)(e)){if((0,r.Pg)(e))return null;t=(0,a.t)("community.resource.delist")}else t=(0,a.t)("community.resource.unpublish");return{displayText:t,callback:()=>{n((0,s.to)({type:h.H,data:{plugin:e},showModalsBeneath:!0}))}}}function b(e,t){let n=(0,i.wA)();if(e&&!(0,f.ZQ)(e))return null;let l=e&&!e.error?t?(0,a.t)("community.plugins.publish_new_version"):(0,a.t)("community.resource.publish"):t?t.is_widget?(0,a.t)("community.plugins.edit_resource_details.widget"):(0,a.t)("community.plugins.edit_resource_details.plugin"):void 0;return l?{displayText:l,callback:()=>{n((0,c.r)({localFileId:null==e?void 0:e.localFileId,publishedPluginId:null==t?void 0:t.id,entryPoint:E.k2.EDITOR}))}}:null}function w(e,t){let n=(0,i.wA)();if(!e||!t)return null;switch(e){case f.ho.LOAD:return{action:()=>{let e=t.localFileId;n((0,o.JZ)({resourceType:(0,f.k0)(t)?"widget":"plugin",localFileIdToRemove:e}))},msg:(0,a.t)("universal_insert.missing_manifest"),buttonText:(0,a.t)("universal_insert.locate")};case f.ho.VALIDATE:case f.ho.PARSE:return{action:()=>{n((0,s.to)({type:v.K,data:{localPlugin:t}}))},msg:(0,a.t)("universal_insert.manifest_error"),buttonText:(0,a.t)("universal_insert.see_details")};default:(0,l.xb)(e)}}function N(e,t,n){let l=(0,i.wA)();return{displayText:(0,a.t)("universal_insert.manage_permissions"),callback:()=>{n&&n();let i=e&&(0,f.ZQ)(e)?e.localFileId:void 0;l((0,c.r)({localFileId:i,publishedPluginId:null==t?void 0:t.id,initialTab:g.KM.PERMISSIONS,entryPoint:E.k2.EDITOR}))}}}function T(e){let t=(0,m.M)();return e&&(0,f.ZQ)(e)?{displayText:(0,d.A)((0,_.YQ)()),callback:()=>{t&&t.openExtensionDirectory(e.localFileId)}}:null}function y(e,t){return{displayText:e?(0,a.t)("universal_insert.remove_local_version"):(0,a.t)("universal_insert.remove"),callback:t}}},611047:(e,t,n)=>{let i;n.d(t,{LP:()=>d,qQ:()=>l,qv:()=>u});var l,a=n(411855),r=n(776250),o=n(96328),c=n(809840),s=n(99506);let d="cover";var u=((i=u||{}).COMPONENT_PUBLISHING="component_publishing",i.VIDEO="video",i.PASSWORD_PROTECTION="password_protection",i.AUDIO="audio",i.UNLIMITED_PAGES="unlimited_pages",i.PROTOTYPE_ONLY_LINKS="prototype_only_links",i.OPEN_SESSIONS="open_sessions",i.UNLIMITED_PROJECTS="unlimited_projects",i.PRIVATE_PROJECTS="private_projects",i.UNLIMITED_FILES="unlimited_files",i);let m={cover:{onboardingKey:d,imgSrc:"https://static.figma.com/uploads/cade95b7d3141da5e4c22a879de339d5b57b05aa",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.description",fontSize:11,color:"secondary"}),hoverTitle:null},password_protection:{onboardingKey:"password_protection",imgSrc:"https://static.figma.com/uploads/b56379c61007d4c119dc3a32fc936ac07f5d13d5",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.hover_text",fontSize:12,fontWeight:"semi-bold"})},component_publishing:{onboardingKey:"component_publishing",imgSrc:"https://static.figma.com/uploads/1138b4f97bb51f61ed9b2bac008de9038dfbcf75",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.hover_text",fontSize:12,fontWeight:"semi-bold"})},audio:{onboardingKey:"audio",imgSrc:"https://static.figma.com/uploads/312167c9a97cd378f0a20d09d03376b27283dae9",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.hover_text",fontSize:12,fontWeight:"semi-bold"})},open_sessions:{onboardingKey:"open_sessions",imgSrc:"https://static.figma.com/uploads/1ee3e88ccb237a207e896dba4a67af081259590d",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.hover_text",fontSize:12,fontWeight:"semi-bold"})},unlimited_pages:{onboardingKey:"unlimited_pages",imgSrc:"https://static.figma.com/uploads/cdb490f97220f8598d6b342c873569c68ac2370e",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.hover_text",fontSize:12,fontWeight:"semi-bold"})},video:{onboardingKey:"video",imgSrc:"https://static.figma.com/uploads/0e9be58e80f8d577fc4b1028f07a903bca68c970",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.hover_text",fontSize:12,fontWeight:"semi-bold"})}},_={component_publishing:"seen_pro_onboarding_component_publishing_overlay",video:"seen_pro_onboarding_video_overlay",password_protection:"seen_pro_onboarding_password_protection_overlay",audio:"seen_pro_onboarding_audio_overlay",unlimited_pages:"seen_pro_onboarding_unlimited_pages_overlay",prototype_only_links:"seen_pro_onboarding_prototype_only_links_overlay",open_sessions:"seen_pro_onboarding_open_sessions_overlay",unlimited_files:"seen_pro_onboarding_unlimited_files_overlay",unlimited_projects:"seen_pro_onboarding_unlimited_projects_overlay",private_projects:"seen_pro_onboarding_private_projects_overlay"};(e=>{e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID="Pro Trials V3: Actively Triggered Onboarding Blocked",e.getOnboardingStepUserFlag=function(e){return _[e]},e.getOnboardingStepTrackingContext=function(e){return`Pro Trials V3 Onboarding: ${(0,o.vE)(e)}`},e.getOnboardingStepTriggerEventId=function(e){return`triggered_pro_trials_v3_${e}_onboarding`},e.trackActivelyTriggeredOnboardingStepBlocked=function(t,n){(0,r.sx)(e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID,{blockedOnboardingFeature:n,blockingOverlayId:t})},e.getOnboardingCardsStackContentProps=function({editorType:e,isVoiceEnabled:t,isWorkshopModeEnabled:n}){let i=[d,"password_protection","component_publishing","unlimited_pages","video"];t&&i.push("audio");let l=[d,"password_protection"];return t&&l.push("audio"),n&&l.push("open_sessions"),(({[s._Y.DESIGN]:i,[s._Y.SLIDES]:i,[s._Y.SITES]:i,[s._Y.WHITEBOARD]:l})[e]||[]).map(e=>m[e])}})(l||(l={}))},741477:(e,t,n)=>{n.d(t,{E:()=>a});var i=n(302245);let l=(0,i.Mz)(e=>e.dropdownShown,e=>null==e?void 0:e.type),a=e=>(0,i.Mz)(l,t=>t===e)},410613:(e,t,n)=>{let i;n.d(t,{JG:()=>r,pw:()=>l});var l,a=((i=a||{})[i.TEXT=0]="TEXT",i[i.FILE_COMMENT=1]="FILE_COMMENT",i[i.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",i[i.INVITE_FILE=3]="INVITE_FILE",i[i.INVITE_FOLDER=4]="INVITE_FOLDER",i[i.INVITE_TEAM=5]="INVITE_TEAM",i[i.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",i[i.AT_MENTION=8]="AT_MENTION",i[i.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",i[i.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",i[i.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",i[i.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",i[i.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",i[i.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",i[i.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",i[i.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",i[i.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",i[i.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",i[i.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED",i[i.FILE_COMMENT_REACTION=20]="FILE_COMMENT_REACTION",i[i.HUB_PROFILE_FOLLOWED=21]="HUB_PROFILE_FOLLOWED",i[i.HUB_RESOURCE_PUBLISHER_ADDED=22]="HUB_RESOURCE_PUBLISHER_ADDED",i[i.HUB_RESOURCE_PUBLISHER_REMOVED=23]="HUB_RESOURCE_PUBLISHER_REMOVED",i[i.HUB_RESOURCE_COMMENT=24]="HUB_RESOURCE_COMMENT",i[i.HUB_RESOURCE_COMMENT_REPLY=25]="HUB_RESOURCE_COMMENT_REPLY",i[i.INVITE_FILE_REPO=26]="INVITE_FILE_REPO",i[i.FILE_ROLE_REQUEST_CREATED=27]="FILE_ROLE_REQUEST_CREATED",i[i.MERGE_REQUEST_REVIEWER_ADDED=28]="MERGE_REQUEST_REVIEWER_ADDED",i[i.MERGE_REQUEST_APPROVED=29]="MERGE_REQUEST_APPROVED",i[i.MERGE_REQUEST_APPROVAL_REVOKED=30]="MERGE_REQUEST_APPROVAL_REVOKED",i[i.BRANCH_MERGED=31]="BRANCH_MERGED",i[i.BRANCH_ARCHIVED=32]="BRANCH_ARCHIVED",i[i.COMMUNITY_MENTION=33]="COMMUNITY_MENTION",i[i.FILE_ROLE_REQUEST_APPROVED=34]="FILE_ROLE_REQUEST_APPROVED",i[i.MERGE_REQUEST_REVIEWER_INVITED_ADDED=35]="MERGE_REQUEST_REVIEWER_INVITED_ADDED",i[i.ORG_JOIN_REQUEST_CREATED=36]="ORG_JOIN_REQUEST_CREATED",i[i.HUB_WIDGET_LIKED=37]="HUB_WIDGET_LIKED",i[i.HUB_WIDGET_INSTALLED=38]="HUB_WIDGET_INSTALLED",i[i.MERGE_REQUEST_CHANGES_REQUESTED=39]="MERGE_REQUEST_CHANGES_REQUESTED",i[i.ORG_JOIN_REQUEST_APPROVED_TO_SHARER=40]="ORG_JOIN_REQUEST_APPROVED_TO_SHARER",i[i.HUB_PLUGIN_USED=41]="HUB_PLUGIN_USED",i[i.HUB_WIDGET_USED=42]="HUB_WIDGET_USED",i[i.PRO_ACCOUNT_TYPE_REQUEST_CREATED=43]="PRO_ACCOUNT_TYPE_REQUEST_CREATED",i[i.PRO_ACCOUNT_TYPE_REQUEST_APPROVED=44]="PRO_ACCOUNT_TYPE_REQUEST_APPROVED",i[i.PRO_ACCOUNT_TYPE_REQUEST_DENIED=45]="PRO_ACCOUNT_TYPE_REQUEST_DENIED",i[i.INVITE_TEAM_REMINDER=46]="INVITE_TEAM_REMINDER",i[i.PLUGIN_PUBLISHER_ADDED=47]="PLUGIN_PUBLISHER_ADDED",i[i.RESOURCE_SOLD=48]="RESOURCE_SOLD",i[i.INVITE_FILE_REMINDER=49]="INVITE_FILE_REMINDER",i[i.BATCHED_FILE_COMMENT=50]="BATCHED_FILE_COMMENT",i[i.FEED_POST_COMMENT=51]="FEED_POST_COMMENT",i[i.FEED_POST_AT_MENTION=52]="FEED_POST_AT_MENTION",i[i.FEED_POST_REACTION=53]="FEED_POST_REACTION",i[i.RESOURCE_PUBLISH=54]="RESOURCE_PUBLISH",i[i.FEED_COMMENT_REACTION=55]="FEED_COMMENT_REACTION",i[i.FEED_POST_DESCRIPTION_AT_MENTION=56]="FEED_POST_DESCRIPTION_AT_MENTION",i[i.BATCHED_FEED_POST=57]="BATCHED_FEED_POST",i[i.BATCHED_FEED_COMMENT_REACTION=58]="BATCHED_FEED_COMMENT_REACTION",i[i.RESOURCE_SUBSCRIPTION_PRICE_INCREASE=60]="RESOURCE_SUBSCRIPTION_PRICE_INCREASE",i[i.FEED_POLL_CLOSE=61]="FEED_POLL_CLOSE",i[i.FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT=63]="FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT",i);let r="0";(e=>{(e=>{(e.Block||(e.Block={})).ATTACHMENT_TYPES=new Set(["BodyAndThumbnailAttachment","ActionableAttachment","ClientActionableAttachment","BodyAttachment"])})(e.BlockKit||(e.BlockKit={}))})(l||(l={}))},18993:(e,t,n)=>{let i;n.d(t,{aY:()=>O,X_:()=>B,JA:()=>W,bE:()=>S});var l=n(411855),a=n(188507),r=n(935283),o=n(966712),c=n(646240),s=n(418956),d=n(499737),u=n(662275),m=n(756085),_=n(335682),p=n(694687),E=n(860178),f=n(99506),g=n(279453),h=n(215822),v=n(829632),C=n(802257),b=n(507956),w=n(630949),N=n(939863),T=n(175290),y=n(553015),I=n(809840),R=n(237870),k=n(585878),P=((i=P||{}).STOP_AUTO_RUN_FROM_USER="stop-auto-run-from-user",i.STOP_AUTO_RUN_FROM_ORG="stop-auto-run-from-org",i.CONFIRM_REPLACE="confirm-replace",i.ENABLE_AUTO_RUN="enable-auto-run",i);let A=(0,R.Ju)(function({commonShowModalArgs:e,newPluginName:t,autoRunModalType:n}){let i,o;let c=()=>{C.s.updateUserAutoRunPluginId(e.pluginID,f.xw.NONE),d(u.Lo())},s=()=>d(u.Lo()),d=(0,a.wA)(),m=(0,p.sZ)()||null,_={currentAutoRunPluginName:l.createElement(I.E,{fontWeight:"bold"},e.currentAutoRunPluginName)},E={orgName:l.createElement(I.E,null,(null==m?void 0:m.name)||""),orgPluginName:l.createElement(I.E,{fontWeight:"bold"},e.orgPluginName)},g={orgPluginName:l.createElement(I.E,{fontWeight:"bold"},e.orgPluginName),newPluginName:l.createElement(I.E,{fontWeight:"bold"},t),orgName:l.createElement(I.E,null,(null==m?void 0:m.name)||"")};switch(n){case"stop-auto-run-from-user":i=l.createElement(l.Fragment,null,l.createElement(I.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_desc",i18nParams:_}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(y.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.cancel")),l.createElement(y.$,{variant:"primary",onClick:()=>{c(),d((0,u.to)({type:A,data:{commonShowModalArgs:e,autoRunModalType:"enable-auto-run"}}))}},(0,N.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;case"enable-auto-run":i=l.createElement(l.Fragment,null,l.createElement(I.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.enable_auto_run_desc",i18nParams:E}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(y.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.dont_enable")),l.createElement(y.$,{variant:"primary",onClick:()=>{C.s.updateUserAutoRunPluginId(e.pluginID,f.xw.INHERIT),d(u.Lo())}},(0,N.t)("dev_handoff.autorun_confirm_modal.enable_auto_run")))));break;case"confirm-replace":i=l.createElement(l.Fragment,null,l.createElement(I.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.confirm_replace",i18nParams:g}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(y.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.cancel")),l.createElement(y.$,{variant:"primary",onClick:()=>{C.s.updateUserAutoRunPluginId(e.pluginID,f.xw.OVERRIDE),d(u.Lo())}},(0,N.t)("dev_handoff.autorun_confirm_modal.replace")))));break;case"stop-auto-run-from-org":i=l.createElement(l.Fragment,null,l.createElement(I.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_from_org",i18nParams:E}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(y.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.cancel")),l.createElement(y.$,{variant:"primary",onClick:c},(0,N.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;default:(0,r.xb)(n)}switch(n){case"stop-auto-run-from-user":case"stop-auto-run-from-org":o=(0,N.t)("dev_handoff.autorun_confirm_modal.title_stop_auto_run");break;case"confirm-replace":o=(0,N.t)("dev_handoff.autorun_confirm_modal.title_replace_auto_run");break;case"enable-auto-run":o=(0,N.t)("dev_handoff.autorun_confirm_modal.title_enable_auto_run",{pluginName:e.orgPluginName});break;default:(0,r.xb)(n)}return l.createElement(k.XV,{title:o,onClose:()=>d(u.Lo()),maxWidth:360},l.createElement("div",{className:w.cx.p16.$,"data-testid":"autorun-confirm-modal"},i))},"AutoRunConfirmModal");var D=n(554294);function S(e){var t,n,i,s;let d=(null==e?void 0:e.plugin_id)??"",m=(null==e?void 0:e.name)??"",_=x(),p=L(),E=(0,b.ks)(),g=E&&(null==(t=_.plugin)?void 0:t.plugin_id)===d,h=(0,c.Xr)(D.Lx),v=M(),w=(0,a.wA)();return{isPluginSetToAutoRun:g,callback:l.useCallback(()=>{var e,t,n,i,l;if(!E||(h(!0),!(0,o.kc)().dev_mode_auto_run_plugin||!_.loaded||!p.loaded))return;let a=null==(e=v.autoRunPrefs)?void 0:e.autoRunPluginBehavior,c={pluginID:d,orgPluginName:(null==(n=null==(t=p.autoRunPrefs)?void 0:t.autoRunPlugin.currentPluginVersion)?void 0:n.name)||"",currentAutoRunPluginName:(null==(i=_.plugin)?void 0:i.name)||""};switch(a){case void 0:case f.xw.NONE:C.s.updateUserAutoRunPluginId(d,f.xw.OVERRIDE);break;case f.xw.OVERRIDE:d!==(null==(l=_.plugin)?void 0:l.plugin_id)?C.s.updateUserAutoRunPluginId(d,f.xw.OVERRIDE):p.autoRunPrefs?w((0,u.to)({type:A,data:{commonShowModalArgs:c,autoRunModalType:P.STOP_AUTO_RUN_FROM_USER}})):C.s.updateUserAutoRunPluginId(d,f.xw.NONE);break;case f.xw.INHERIT:p.autoRunPrefs?d!==p.autoRunPrefs.autoRunPluginId?w((0,u.to)({type:A,data:{commonShowModalArgs:c,newPluginName:m,autoRunModalType:P.CONFIRM_REPLACE}})):w((0,u.to)({type:A,data:{commonShowModalArgs:c,autoRunModalType:P.STOP_AUTO_RUN_FROM_ORG}})):C.s.updateUserAutoRunPluginId(d,f.xw.OVERRIDE);break;default:(0,r.xb)(a)}},[E,h,_.loaded,null==(n=_.plugin)?void 0:n.name,null==(i=_.plugin)?void 0:i.plugin_id,p.loaded,p.autoRunPrefs,null==(s=v.autoRunPrefs)?void 0:s.autoRunPluginBehavior,d,w,m])}}function O(e){return e&&(0,h.UH)(e)}function x(){var e,t,n,i;let l=M(),a=L(),r=null==(e=(0,p.sZ)())?void 0:e.id,c=null==(t=(0,E.iZ)())?void 0:t.id;if(!(0,o.kc)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!(l.loaded&&a.loaded))return{loaded:!1,plugin:null};let s=null;switch(null==(n=l.autoRunPrefs)?void 0:n.autoRunPluginBehavior){case f.xw.NONE:s=null;break;case f.xw.OVERRIDE:s=l.autoRunPrefs.autoRunPlugin;break;case f.xw.INHERIT:default:s=(null==(i=a.autoRunPrefs)?void 0:i.autoRunPlugin)??null}let d=s?(0,m.mf)(s,r??"",c??"",null)??null:null;return{loaded:!0,plugin:O(d)?d:null}}function M(){let e=(0,E.iZ)();return F((0,d.Rs)(g.Sc8,{targetOrgId:null,targetUserId:(null==e?void 0:e.id)??""},{enabled:!!(null==e?void 0:e.id)}))}function L(e){let t=(0,p.sZ)(),n=!!(t&&t.bigma_enabled),i=(0,d.Rs)(g.Sc8,{targetOrgId:(null==t?void 0:t.id)??"",targetUserId:null},{enabled:n});return n?F(i,e):{loaded:!0,autoRunPrefs:null}}function F(e,t){if("loaded"!==e.status)return{loaded:!1,autoRunPrefs:null};let n=e.data.pluginPreferences,i=!!(t||(null==n?void 0:n.autoRunEnabled));return n&&n.autoRunPluginId&&n.autoRunPlugin&&i?{loaded:!0,autoRunPrefs:{autoRunPluginId:n.autoRunPluginId,autoRunPluginBehavior:n.autoRunBehavior,autoRunPlugin:n.autoRunPlugin}}:{loaded:!0,autoRunPrefs:null}}async function U(e,t,n){(0,o.kc)().dev_mode_auto_run_plugin&&(n(!0),await v.R.instance.enqueue({runPluginArgs:{plugin:e,command:"",queryMode:!1,runMode:"default",triggeredFrom:"auto-run",openFileKey:t,isWidget:!1,ignoreForRunLastPlugin:!0},mode:"run-forever"}))}function B(){let e=(0,b.ks)(),t=(0,_.tS)(),n=(0,m.YN)(),i=x(),[l,a]=(0,s.fp)(D.Lx);if(!e||l||!i.loaded)return;let r=i.plugin;if(!r){a(!0);return}O(r)&&t&&n(r)&&U(r,t,a)}function W(){var e;let t=L(!0),n=(0,p.dq)();if(!(0,o.kc)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!t.loaded)return{loaded:!1,plugin:null};let i=(null==(e=t.autoRunPrefs)?void 0:e.autoRunPlugin)??null,l=i?(0,m.mf)(i,n??"",null,null)??null:null;return{loaded:!0,plugin:O(l)?l:null}}},802257:(e,t,n)=>{n.d(t,{s:()=>a});var i=n(547807),l=n(27087);let a=new class{updateOrgPreferences(e,t){let{preferences:n,...i}=t,a={preferences:n};return e.bigma_enabled?(a.auto_run_plugin_id=i.auto_run_plugin_id,a.auto_run_enabled=i.auto_run_enabled,a.codegen_enabled=i.codegen_enabled,a.pinned_plugins_enabled=i.pinned_plugins_enabled):!1===i.pinned_plugins_enabled&&(a.pinned_plugins_enabled=!1),l.Ay.post(`/api/plugin_preferences/org/${e.id}`,a)}updateUserAutoRunPluginId(e,t){return l.Ay.put("/api/plugin_preferences/user",i.td.toAPIParameters({autoRunBehavior:t,autoRunPluginId:e}))}}},749336:(e,t,n)=>{n.d(t,{d:()=>x});var i=n(411855),l=n(188507),a=n(776250),r=n(499737),o=n(860601),c=n(743282),s=n(493323),d=n(827586),u=n(939863),m=n(501114),_=n(553015),p=n(975350),E=n(103907),f=n(696097),g=n(259927),h=n(654034),v=n(860178),C=n(279453),b=n(531827),w=n(440535),N=n(91425),T=n(238559),y=n(113292),I=n(728268),R=n(636662),k=n(57289),P=n(448879),A=n(757207);let D="quick_reply_thread_view--headerButton--wmkPJ",S=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},O=null,x=(0,i.forwardRef)((e,t)=>{let n=(0,r.Rs)(C.Uhm,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return i.createElement("div",{className:"quick_reply_thread_view--container--WPlnN",ref:t},i.createElement("div",{className:"quick_reply_thread_view--column--UrAD4"},i.createElement("div",{className:"quick_reply_thread_view--header--BHlje"},i.createElement("div",{className:D},!e.hideOverflowMenu&&i.createElement(_.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose})),i.createElement("div",{className:"quick_reply_thread_view--fileName--S2twU"},"loaded"===n.status&&n.data.file&&n.data.file.name),i.createElement("div",{className:D},e.hideOverflowMenu?i.createElement(_.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose}):i.createElement("div",{style:{display:"none"}},i.createElement(_.$,{icon:"dots-32",variant:"text"})))),i.createElement(M,{quickReplyInfo:e.quickReplyInfo,result:n,hideOverflowMenu:e.hideOverflowMenu})))});function M(e){let t=(0,v.iZ)();return t?"loading"===e.result.status||"disabled"===e.result.status?i.createElement(s.qc,{size:"medium"}):"errors"===e.result.status?i.createElement("div",{className:"quick_reply_thread_view--errorState--Re4UD"},(0,u.t)("quick_reply.unable_to_load_thread")):null==e.result.data.file?i.createElement("div",null,(0,u.t)("quick_reply.unable_to_load_thread")):i.createElement(L,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,hideOverflowMenu:e.hideOverflowMenu}):null}function L(e){var t,n,r,o,c,s;let[d,m]=(0,i.useState)(!1),{quickReplyInfo:g,result:v,user:C}=e,{fileKey:w,threadId:N}=g,T=(0,f.dr)({args:{fileKey:w,rootId:N},subscription:v}),y=(0,l.wA)(),{file:I}=v.data,R=(0,i.useMemo)(()=>{var e,t,n,i;return(0,b.mp)({currentOrgId:null==(e=I.org)?void 0:e.id,teamId:null==(t=I.team)?void 0:t.id,fileKey:w,isOrgGuest:(null==(i=null==(n=I.org)?void 0:n.currentOrgUser)?void 0:i.permission)==="guest",users:[]})},[null==(t=I.org)?void 0:t.id,null==(n=I.team)?void 0:n.id,w,null==(o=null==(r=I.org)?void 0:r.currentOrgUser)?void 0:o.permission]),{mobileCommentThread:k}=I,P=k.find(e=>e.id===N),A=(0,l.d4)(e=>e.comments.savingCommentUuids),D=(0,l.d4)(e=>e.comments.lgPendingUuidToServerIdMap);if(!P)return i.createElement("div",null,(0,u.t)("quick_reply.unable_to_load_thread"));let x=k.map(e=>(0,h.G9)(C.id,P,e,h.gj,A,D,e.attachments)),M={id:P.id,key:w,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:x,messageMeta:x[0].message_meta,page:(null==(c=P.clientMeta)?void 0:c.pageId)||null,isActive:!0,replyCount:k.length-1,isCanvasMention:!1,pageName:(null==(s=P.clientMeta)?void 0:s.pageId)||null,sidebarItemType:"comment-thread"},L={api:T,status:v.status,data:S,threads:{status:v.status,data:[M],errors:v.errors},errors:v.errors,isResolvedLoaded:!0,isUnresolvedLoaded:!0};return i.createElement(E.j9.Provider,{value:L},i.createElement("div",{className:"quick_reply_thread_view--mouseContainer--qyIpH",onMouseEnter:()=>{O=setTimeout(()=>{T.commentReceipts&&!d&&(y(p.AY({receiptsAPI:T.commentReceipts,thread:M})),(0,a.sx)("Comment Thread Read",{commentThreadId:N,threadType:"file_browser_quick_reply"}),m(!0))},1e3)},onMouseLeave:()=>{O&&clearTimeout(O)}},i.createElement("div",{className:"quick_reply_thread_view--preview--I47Ds"},i.createElement("img",{src:P.thumbnailUrl||void 0,className:"quick_reply_thread_view--previewImage--gSK-n",alt:"thumbnail"}),i.createElement("a",{href:g.deeplink??`/file/${w}?fuid=${C.id}&#${N}`,className:"quick_reply_thread_view--openFileButton--RBtVz"},i.createElement(_.$,{variant:"text",icon:"new-window-32"}))),i.createElement(U,{loadedComments:x,user:C,quickReplyInfo:g,commentMentionables:R,hideOverflowMenu:e.hideOverflowMenu})))}function F(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.dropdownShown||null),n=(0,v.iZ)(),a=(0,N.v)();if(!t||t.type!==g.VJ)return null;let{comment:r,parentRect:o,thread:c,isUnread:s}=t.data;return i.createElement(I.V,{dispatch:e,comment:r,parentRect:o,currentUser:n,isUnread:s,thread:c,copyLink:a})}function U(e){let{loadedComments:t,user:n,quickReplyInfo:a,commentMentionables:r,hideOverflowMenu:s}=e,{fileKey:_,threadId:f}=a,g=(0,l.wA)();(0,i.useEffect)(()=>{g(p.Fm({threadId:f}))},[g,f]);let h=(0,l.d4)(e=>e.comments.typeahead),v=(0,l.d4)(e=>e.comments.editingComment),C=(0,l.d4)(e=>e.dropdownShown||null),b=(0,l.d4)(e=>{var t;return null==(t=e.comments.activeThread)?void 0:t.id}),N=(0,l.d4)(e=>e.comments.threads),D=b&&N[b]||null,S=(null==D?void 0:D.reply.messageMeta)||[],{submitReply:O,updateMessage:x,submitEdit:M}=function(e){var t;let n=(0,l.wA)(),a=(0,E.I_)().writeAPI,r=null==(t=(0,E._9)())?void 0:t.threads;return{submitReply:i.useCallback(e=>{if(!a){console.error("Calling submitReply with no write API");return}r&&"loaded"===r.status&&r.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(t,i,l,r)=>p.dB(a,n,t,i,l,r,e.uuid,P.y),n(p.lV({...e,commentsWriteApi:a,commentsConfiguration:P.y})))},[n,r,a]),updateMessage:i.useCallback(t=>{n(p.k7({threadId:e,messageMeta:t}))},[n,e]),submitEdit:i.useCallback((e,t)=>{n(p._v({comment:e,messageMeta:t}))},[n])}}(f),L=(0,y._B)(),U=i.useRef(null),B=i.useRef(null),W=i.useRef(null),[H,V]=i.useState(null),[G,j]=i.useState(i.useRef(null)),$=i.useRef(null),q=0,z=0,Q=0;$.current&&$.current.offsetParent&&(q=$.current.offsetWidth,z=$.current.offsetLeft,Q=$.current.offsetParent.clientHeight-$.current.offsetTop);let Y=e=>e||{x:0,y:0},Z=i.useRef(null);(0,i.useEffect)(()=>{Z.current&&Z.current.scrollToBottom()},[]);let K=[...new Set(t.map(e=>e.user.handle))],X=t.find(e=>e.id===f);return X?i.createElement(i.Fragment,null,i.createElement("div",{style:m.sx.flex1.$}),i.createElement(d.P,{className:"quick_reply_thread_view--bottomAnchoredScrollContainer--5-F87",useBottomPinning:!0,ref:Z,enableScrollShadow:!0},i.createElement("div",{className:"quick_reply_thread_view--reverseColumn--ur8Yx"},t.slice().reverse().map((e,l)=>i.createElement(I.I,{editorRef:W,key:`thread-comment-${e.id}`,dispatch:g,user:n,thread:{comments:t,key:_,id:f},setHyperlinkLocation:V,hyperlinkLocation:H,setHyperlinkEditorRef:j,comment:e,typeahead:h,mentionables:r,prevAuthor:0===l?null:t[l-1].user_id,index:l,editingComment:v,submitEdit:M,dropdownShown:C,viewportPositionFromClientPosition:Y,editorOnInsert:L.editorOnInsert,editorOnClear:L.editorOnClear,threadPosition:{x:0,y:0},setIsEditorFocused:o.lQ,showEditedIndicator:!!e.edited_at,hideOverflowMenu:s,hideReactions:!1,hideEmojiPicker:!1,allowAttachments:!1,hideResolve:!1,setResolved:o.lQ,mountInputFocused:!0,editorType:"comment-editor-thread",isQuickReplyThreadView:!0})))),i.createElement(R.K,{editorRef:B,dispatch:g,user:n,typeahead:h,mentionables:r,threadPosition:null,messageMeta:S,submitText:(0,u.t)("comments.reply"),placeholderText:(0,u.t)("comments.reply"),setHyperlinkLocation:V,hyperlinkLocation:H,setHyperlinkEditorRef:j,onCancel:o.lQ,onSubmit:()=>{O({threadId:f,threadUuid:X.uuid||void 0,uuid:(0,c.g)()})},onComposeFocus:void 0,editorOnInsert:L.editorOnClear,editorOnClear:L.editorOnInsert,viewportPositionFromClientPosition:Y,isDisabled:!1,mountInputFocused:!0,updateMessage:x,setIsEditorFocused:o.lQ,isEmojiPickerDisabled:null!==v,hideEmojiPicker:!1,allowAttachments:!1,recordingKey:w.Dw.quickReply,className:A.MJ,threadId:f,fileKey:_,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:K,replyContainerRef:$}),i.createElement(T.rf,{decoratorsRef:U,onClear:L.onClear,onInsert:L.onInsert,width:q,direction:k.ri.UPWARDS,positionFromBottom:{left:z,bottom:Q}}),i.createElement(F,null)):null}},933464:(e,t,n)=>{n.d(t,{Pq:()=>eo,jZ:()=>es,ke:()=>l,kt:()=>er,sp:()=>r,tY:()=>a});var i,l,a,r,o=n(411855),c=n(109388),s=n(188507),d=n(629019),u=n.n(d);n(776250);var m=n(563706),_=n(563042),p=n(799569),E=n(268537),f=n(946689),g=n(395771),h=n(574176),v=n(348425),C=n(505113),b=n(939863),w=n(251288),N=n(545941),T=n(71425),y=n(738269),I=n(662275),R=n(902139),k=n(672517),P=n(756085),A=n(318812),D=n(31629),S=n(215822),O=n(555328),x=n(498606),M=n(978527),L=n(771e3),F=n(488578),U=n(7959),B=n(33876),W=n(103567),H=n(632788),V=n(758137),G=n(350913),j=n(943089),$=n(17076),q=n(769533),z=n(362679),Q=n(13556),Y=n(665150),Z=n(961803),K=n(331536),X=n(12747),J=n(237494),ee=n(215877),et=n(551034),en=n(132623),ei=n(247866),el=n(583288);function ea(e){switch(e){case"plugins-menu-dev-create-new":return(0,b.t)("fullscreen.plugins_menu.new_plugin");case"widgets-menu-dev-create-new":return(0,b.t)("fullscreen.plugins_menu.new_widget");case"widgets-menu-dev-import-from-manifest":return(0,b.t)("fullscreen.plugins_menu.import_widget_from_manifest");case"plugins-menu-dev-import-from-manifest":return(0,b.t)("fullscreen.plugins_menu.import_plugin_from_manifest");case"plugins-menu-open-directory-mac":return(0,b.t)("fullscreen.plugins_menu.open_directory_mac");case"plugins-menu-open-directory-win":return(0,b.t)("fullscreen.plugins_menu.open_directory_win");case"plugins-menu-open-directory-vscode":return(0,b.t)("fullscreen.plugins_menu.open_directory_vscode");default:return""}}let er="CREATE_PLUGIN_DROPDOWN";function eo(e){var t;let n=(0,s.wA)(),i=(0,s.d4)(e=>e.dropdownShown),l=e.resourceType===O.bD.WIDGET;return(null==(t=null==i?void 0:i.data)?void 0:t.targetRect)?o.createElement(L.Cf,{minWidth:163,targetRect:null==i?void 0:i.data.targetRect,lean:e.lean,propagateCloseClick:!0},o.createElement(E.W.Option,{onClick:t=>{t.stopPropagation(),n(R.KE()),n(I.to({type:V.h,data:{resourceType:e.resourceType||O.bD.PLUGIN}}))}},ea(l?"widgets-menu-dev-create-new":"plugins-menu-dev-create-new")),o.createElement(E.W.Option,{onClick:e=>{e.stopPropagation(),n((0,T.JZ)({resourceType:l?"widget":"plugin"}))}},ea(l?"widgets-menu-dev-import-from-manifest":"plugins-menu-dev-import-from-manifest"))):null}let ec=class extends o.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,shouldShowErrorModal:!1},this.isWidget=!!(null==(i=this.props.plugin.manifest)?void 0:i.containsWidget),this.onPublish=()=>{this.props.onPublishClick&&this.props.onPublishClick(this.props.plugin.localFileId)},this.onDelete=()=>{this.props.dispatch(T.qR(this.props.plugin.localFileId))},this.onClick=()=>{this.props.onTileClick?this.props.onTileClick():this.onRevealLocally()},this.onRevealLocally=()=>{(0,D.M)().openExtensionDirectory(this.props.plugin.localFileId)},this.showError=()=>{this.setState({shouldShowErrorModal:!0})},this.hideError=()=>{this.setState({shouldShowErrorModal:!1})},this.tileDropdownType=this.isWidget?ec.DEVELOPMENT_PLUGIN_DROPDOWN:ec.DEVELOPMENT_WIDGET_DROPDOWN,this.onContextMenu=e=>{this.props.dispatch(y.j7({type:this.tileDropdownType,data:{type:"context",localFileId:this.props.plugin.localFileId,clientX:e.clientX,clientY:e.clientY}}))},this.shouldShowContextMenu=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"context"===this.props.dropdownShown.data.type,this.shouldShowPointingDropdown=()=>null!=this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"pointing"===this.props.dropdownShown.data.type,this.onDotsClick=()=>{this.props.dispatch(y.j7({type:this.tileDropdownType,data:{type:"pointing",localFileId:this.props.plugin.localFileId}}))},this.dotsIconRef=e=>{this.dotsIconEl=c.findDOMNode(e)},this.onMouseEnter=()=>{this.setState({isMouseOver:!0})},this.onMouseLeave=()=>{this.setState({isMouseOver:!1})}}render(){let e=o.createElement(o.Fragment,null,o.createElement(E.W.Option,{onClick:this.onPublish},o.createElement(b.Tx,{id:"community.plugins.publish_new_version"})),o.createElement(E.W.Option,{onClick:this.onRevealLocally},ea((0,S.YQ)())),o.createElement(E.W.Separator,null),o.createElement(E.W.Option,{onClick:this.onDelete},o.createElement(b.Tx,{id:"community.permissions_modal_publish_tab.footer.remove"}))),{name:t,error:n}=this.props.plugin,i=this.isWidget?(0,b.t)("community.plugins.widget"):(0,b.t)("community.plugins.plugin");return o.createElement("div",{className:$.bp},o.createElement("div",{className:n?$.rS:$.el,onClick:n?this.showError:this.onClick,onContextMenu:this.onContextMenu,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n?o.createElement("div",{className:$.yd},o.createElement(v.t,{svg:ei.A})):this.isWidget?o.createElement("div",{className:$.im},this.props.isPublished?o.createElement("img",{className:$.K0,src:`/community/icon?resource_type=widget&resource_id=${this.props.plugin.plugin_id}`,alt:""}):o.createElement(v.t,{svg:Z.A})):o.createElement("div",{className:$.im},o.createElement(v.t,{svg:ee.A,fallbackSvg:et.A})),o.createElement("div",{className:$.In},o.createElement("div",{className:n?$.iH:$.YG},t,this.props.isPublished?o.createElement(v.t,{svg:Y.A}):null),n&&this.state.isMouseOver?o.createElement(C.o,{className:$.cV,text:"Error: "+n.text}):o.createElement(g.R,{className:$.cV,text:this.props.plugin.localFilePath.replace("/manifest.json","")})),n&&o.createElement(h.B,{className:$.rs,svg:m.Ay.mac?K.A:X.A})),o.createElement(U.YW,{svg:z.A,fallbackSvg:Q.A,className:u()($.q6,this.shouldShowPointingDropdown()?$.Yh:""),onClick:this.onDotsClick,ref:this.dotsIconRef,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,b.t)("community.plugins.options"),selected:this.shouldShowPointingDropdown()}),this.shouldShowContextMenu()&&o.createElement(E.W.Dropdown,{className:$.Gm,style:{left:this.props.dropdownShown.data.clientX,top:this.props.dropdownShown.data.clientY}},e),this.shouldShowPointingDropdown()&&o.createElement(L.Cf,{className:$.Gm,minWidth:122,targetRect:this.dotsIconEl.getBoundingClientRect(),propagateCloseClick:!0},e),this.state.shouldShowErrorModal&&o.createElement(F.aF,{size:"small",title:(0,b.t)("community.plugins.plugin_or_widget_issue",{resourceType:i})},o.createElement(p.s_,{...this.props}),o.createElement("div",{className:$.hM},this.props.plugin.error?this.props.plugin.error.text:null==n?void 0:n.text),o.createElement("div",{className:$.H1},o.createElement(f.$$,{onClick:this.hideError},o.createElement(b.Tx,{id:"general.done"})))))}},es=ec;function ed(e){return o.createElement("div",{className:e.containerClassName||$.x$,onContextMenu:e.onOptionsClick,onClick:e.onClick||(e=>e.preventDefault())},o.createElement(j.li.IconAndBadgeContainer,{className:$.yq},o.createElement("div",{className:$.zr},e.pluginIcon),e.showEditorTypeIcon&&o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:e.editorType,is16x16:!0}))),o.createElement("div",{className:$.Kz},o.createElement("div",{className:$.P8},o.createElement("div",{className:$.iZ},e.title),e.titleSuffix),o.createElement("div",{className:m.rr?$.uN:$.UB},"string"==typeof e.subTitle?(0,_.$J)(e.subTitle):e.subTitle)),o.createElement("div",{className:$.Hq},o.createElement(U.YW,{ref:e.optionsIconRef,svg:z.A,fallbackSvg:Q.A,className:$.UI,onClick:e.onOptionsClick,selected:e.isSelected,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,b.t)("community.plugins.options"),disabled:e.disabled})))}es.DEVELOPMENT_PLUGIN_DROPDOWN="DEVELOPMENT_PLUGIN_DROPDOWN",es.DEVELOPMENT_WIDGET_DROPDOWN="DEVELOPMENT_WIDGET_DROPDOWN",(l||(l={})).Tile=function(e){let t=(0,A.U)(),n=(null==t?void 0:t.type)===H.lD&&t.data.localFileId===e.plugin.localFileId,i=(0,s.wA)(),l=o.useRef(null);return o.createElement(o.Fragment,null,o.createElement(ed,{pluginIcon:o.createElement("div",{className:$.TM},e.plugin.error?o.createElement(h.B,{className:$.QW,svg:el.A}):o.createElement(v.t,{className:$.ft,svg:q.A})),editorType:e.plugin.manifest.editorType||[],showEditorTypeIcon:e.showEditorTypeIcon,onOptionsClick:t=>{if(t.stopPropagation(),n){i(y.oB());return}let a=l.current;i(y.j7({type:H.lD,data:{localFileId:e.plugin.localFileId,targetRect:a.getBoundingClientRect()}}))},optionsIconRef:l,isSelected:n,title:e.plugin.name,subTitle:o.createElement(B.A,{localResource:e.plugin,publishedResource:void 0}),disabled:!1,containerClassName:e.containerClassName,onClick:e.onClick}),n&&o.createElement(H.T9,{localResource:e.plugin}))},(e=>{function t(e){var t;if((0,N.AC)(e))return o.createElement(w.L,{height:"16"});if((0,S.Rt)(e)){let n=null==(t=e.roles.org)?void 0:t.name;return o.createElement(h.B,{svg:J.A,className:$.kQ,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":n?(0,b.t)("community.plugins.private_for_plugin_org_name",{orgName:n}):(0,b.t)("community.plugins.private_for_plugin_org")})}if(e.roles.is_public)return o.createElement(h.B,{className:$.Ac,svg:en.A,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,b.t)("community.plugins.published_to_community")})}e.Tile=function(e){let n=(0,A.U)(),i=(null==n?void 0:n.type)===H.lD&&n.data.pluginId===e.plugin.id&&n.data.targetRect,l=(0,s.wA)(),a=o.useRef(null),r=(0,S.uF)(e.plugin),c=(0,P.WK)(e.plugin.id),d=o.useCallback(()=>t(e.plugin),[e.plugin])();return o.createElement(o.Fragment,null,o.createElement(ed,{containerClassName:e.containerClassName,onClick:e.onClick,pluginIcon:o.createElement(M.V,{plugin:r}),editorType:r.manifest.editorType||[],showEditorTypeIcon:!0,onOptionsClick:()=>{if(i){l(y.oB());return}let t=a.current;l(y.j7({type:H.lD,data:{pluginId:e.plugin.id,targetRect:t.getBoundingClientRect()}}))},optionsIconRef:a,disabled:!!e.plugin.unpublished_at,isSelected:i,title:r.name,titleSuffix:d,subTitle:o.createElement(B.A,{localResource:c,publishedResource:e.plugin})}),i&&o.createElement(H.T9,{publishedResource:e.plugin,viewResource:()=>{l(y.$T({view:"communityHub",subView:"plugin",publishedPluginId:e.plugin.id})),l(I.Ce())}}))},e.PluginManagementTitleBadge=t})(a||(a={})),(r||(r={})).Tile=function(e){let t=(0,S.uF)(e.plugin);return o.createElement("div",{className:e.containerClassName??$.x$},o.createElement(j.li.IconAndBadgeContainer,{className:$.yq},o.createElement("div",{className:$.zr},o.createElement(M.V,{plugin:t})),o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:t.manifest.editorType,is16x16:!0}))),o.createElement("div",{className:$.Kz},o.createElement(W.PE,{resource:e.plugin})))},(0,k.tf)(function({plugin:e,className:t,onClick:n}){let i=(0,S.uF)(e),l=(0,s.wA)();return o.createElement("a",{className:t||$.m6,"data-plugin-id":e.id,key:e.id,onClick:t=>{t.metaKey||(t.preventDefault(),null==n||n(),l(y.$T({view:"communityHub",subView:"plugin",publishedPluginId:e.id})))},href:(0,G.ho)(e.id)},o.createElement(j.li.IconAndBadgeContainer,{className:$.yk},o.createElement("div",{className:$.A9},o.createElement(M.V,{plugin:i})),o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:i.manifest.editorType,is16x16:!0}))),o.createElement("div",{className:$.XV},o.createElement("div",{className:$.vc},i.name),o.createElement("div",{className:$.ar},(0,N.G8)(i,_.$J))))})},368361:(e,t,n)=>{let i;n.d(t,{R:()=>X});var l=n(411855),a=n(188507),r=n(776250),o=n(540193),c=n(748185),s=n(201888),d=n(517333),u=n(799569),m=n(946689),_=n(493323),p=n(827586),E=n(939863),f=n(410424),g=n(74021),h=n(941381),v=n(225266),C=n(446686),b=n(57879),w=n(944682),N=n(662275),T=n(445092),y=n(115826),I=n(756085),R=n(27703),k=n(860178),P=n(820642),A=n(691205),D=n(596607),S=n(555328),O=n(813408),x=n(754168),M=n(237870),L=n(488578),F=n(548593),U=n(761939),B=n(933464),W=n(133648),H=n(227565);let V=(0,F.rw)();function G(e){let[t,n]=l.useState();return l.useEffect(()=>{(0,s.oU)(location.href).then(e=>n(e))},[]),l.createElement("div",{className:H.bx},l.createElement("div",{className:H.Uz},e.tab===U.gr.PLUGINS?(0,E.t)("community.universal_posting_modal.desktop_callout.plugins"):(0,E.t)("community.universal_posting_modal.desktop_callout.widgets")),l.createElement(m.N_,{onClick:()=>{(0,r.sx)(t?"community_publish_open_desktop_clicked":"community_publish_get_desktop_clicked",{resourceType:e.tab===U.gr.PLUGINS?S.bD.PLUGIN:S.bD.WIDGET}),t&&(0,s.Sr)(location.href)},href:t?void 0:"https://www.figma.com/downloads/",className:H.nf,target:"_blank",trusted:!0},void 0===t?"":t?` ${(0,E.t)("community.universal_posting_modal.desktop_open")}`:` ${(0,E.t)("community.universal_posting_modal.desktop_get")}`))}function j(e){return e.selectedTab===U.gr.FILES?l.createElement(U.fV,{activeFileKey:e.activeFileKey,setActiveFile:e.setActiveFile,deselectActiveFile:e.deselectActiveFile,filterFn:e.filterFn}):e.selectedTab===U.gr.PLUGINS?l.createElement(q,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource}):l.createElement($,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource})}function $(e){let{invitedWidgets:t,pendingReviewWidgets:n,approvedWidgets:i,developmentWidgets:a}=(0,I.E$)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return d.eD?t.length+n.length+i.length+a.length===0?l.createElement(U.n6,{tab:U.gr.WIDGETS}):l.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>l.createElement(B.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>l.createElement(B.ke.Tile,{plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...n,...i].map(t=>l.createElement(B.tY.Tile,{key:t.id,plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):l.createElement(G,{tab:U.gr.WIDGETS})}function q(e){let{invitedPlugins:t,pendingReviewPlugins:n,approvedPlugins:i,developmentPlugins:a}=(0,I.LR)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return d.eD?a.length+n.length+i.length+t.length===0?l.createElement(U.n6,{tab:U.gr.PLUGINS}):l.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>l.createElement(B.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>l.createElement(B.ke.Tile,{plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...n,...i].map(t=>l.createElement(B.tY.Tile,{key:t.id,plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):l.createElement(G,{tab:U.gr.PLUGINS})}function z(e){return d.eD?l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.plugin_info.available",{numPlugins:e.numPlugins})):l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.plugin_info.unavailable"))}function Q(e){return d.eD?l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.widget_info.available",{numWidgets:e.numWidgets})):l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.widget_info.unavailable"))}function Y(e){let t;let n=(0,a.d4)(e=>e.user.email),i=(0,a.d4)(e=>e.orgById);if((0,a.d4)(e=>(0,D.Yj)(e))){let a=e.currentOrgId&&i[e.currentOrgId]?i[e.currentOrgId].name:null;t=l.createElement("div",{className:H.Js},a&&l.createElement(l.Fragment,null,a,l.createElement("span",null,"\xa0\xb7\xa0")),n)}else t=l.createElement("div",{className:H.Js},n);return l.createElement("div",{className:H.Yk},e.selectedTab===U.gr.FILES&&(0===e.numFiles?l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.file_info.available",{numFiles:e.numFiles})):l.createElement(U.IW,{query:e.searchQuery,setQuery:e.setSearchQuery,setSearchResults:e.setSearchResults})),e.selectedTab===U.gr.PLUGINS&&l.createElement(z,{numPlugins:e.numPlugins}),e.selectedTab===U.gr.WIDGETS&&l.createElement(Q,{numWidgets:e.numWidgets}),t)}function Z(e){let t=(0,a.wA)(),n=(0,k.Pc)(),i=[],o={[U.gr.FILES]:(0,E.t)("community.view_bar.files"),[U.gr.PLUGINS]:(0,E.t)("community.view_bar.plugins"),[U.gr.WIDGETS]:(0,E.t)("community.view_bar.widgets")};return Object.keys(o).forEach(a=>{let c=o[a];i.push(l.createElement(V,{tab:a,mobileNavTabTitle:c,selectedTab:e.selectedTab,key:a,onClick:()=>{e.activeSearchQuery&&(t(T._z({})),t(T.ky())),(0,r.sx)("publish_type_changed",{userId:n.id,resourceType:c}),e.setSelectedTab(a)}},c))}),l.createElement("div",{className:H.Lm},l.createElement("div",{className:H.KE},i),l.createElement(u.s_,{className:H.g8,dispatch:()=>{(0,r.sx)("community_publish_modal",{step:y.M.CLOSED}),t(N.Ce())}}))}var K=((i=K||{})[i.Fetched=0]="Fetched",i[i.Fetching=1]="Fetching",i[i.NeverFetched=2]="NeverFetched",i);let X=(0,M.Ju)(function(e){let t=(0,k.Pc)(),n=(0,a.wA)(),i=(0,a.d4)(e=>!!e.user),s=(0,a.d4)(e=>e.currentUserOrgId),d=(0,o.ql)(s,c.xBc.CAN_PUBLISH_TO_COMMUNITY),u="loaded"===d.status,[D,M]=l.useState(2),[F,B]=l.useState({}),V=(0,I.Im)(),G=(0,R.ud)(),$=(0,I.CI)(),q=(0,I.Dy)(),z=Object.keys(G).length;(0,A.IT)((0,h.se)()),(0,A.IT)((0,h.fd)()),l.useEffect(()=>{n(T._z({})),i&&(n(g._J()),n(v.aq()));let e=document.body.style.overflowY;return document.body.style.overflowY="hidden",()=>{document.body.style.overflowY=e}},[]),l.useEffect(()=>{if(!u||2!==D)return;let e=d.data.map(e=>e.key);0!==e.length&&(M(1),x.S.getHubFileDuplicates({fileKeys:e}).then(e=>{B(e.data.meta),M(0)}))},[D,u,d.data]);let Q=e=>!F[e.key],K=()=>{eo&&n(T.ky()),(0,r.sx)("community_publish_modal",{user:t.id,step:y.M.CLOSED}),n(N.Ce())},X=async e=>{await n(f.rH({fileKey:e}))},J=async e=>{e&&(et(e),G[e.key]||n(w.yJ({file:e})),await X(e.key))},[ee,et]=l.useState(null),en=()=>et(null),[ei,el]=l.useState(null),[ea,er]=l.useState(U.gr.FILES),[eo,ec]=l.useState(""),[es,ed]=l.useState([]);if(!i)return l.createElement(l.Fragment,null);let eu=u&&0===D;return l.createElement(L.Nb,{size:"any",className:H.aq,hide:K},l.createElement(Z,{activeSearchQuery:eo,selectedTab:ea,setSelectedTab:er}),l.createElement(Y,{selectedTab:ea,currentOrgId:s,searchQuery:eo,setSearchQuery:ec,setSearchResults:e=>{ed(e.filter(e=>Q(e.model)))},numPlugins:$,numWidgets:q,numFiles:z}),l.createElement(p.P,{className:H.jG,hideScrollbar:!0},!eu&&l.createElement("div",{className:H.g4},l.createElement(_.kt,{size:"small"})),eo&&l.createElement(U.fp,{activeSearchQuery:eo,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:J,deselectActiveFile:en,searchResults:es}),eu&&!eo&&l.createElement(j,{selectedTab:ea,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:J,deselectActiveFile:en,activeResource:ei,setActiveResource:el,deselectActiveResource:()=>el(null),filterFn:Q})),l.createElement("div",{className:H.qr},l.createElement("div",{className:H.PJ},(0,E.t)("community.universal_posting_modal.footer.choose_resource"),l.createElement(m.CY,{href:"https://help.figma.com/hc/articles/360040035974-Publish-Community-files",target:"_blank",trusted:!0},(0,E.t)("community.universal_posting_modal.footer.learn_more"))),l.createElement("div",{className:H.GC},l.createElement(W.M4,{onClick:K},(0,E.t)("general.cancel")),l.createElement(W.UC,{disabled:ea===U.gr.FILES?!ee:ea===U.gr.PLUGINS||ea===U.gr.WIDGETS?!ei:void 0,onClick:()=>{if(ea===U.gr.FILES)ee&&((0,r.sx)("community_publish_modal",{user:t.id,step:y.M.DETAILS,resourceType:S.bD.HUB_FILE,fileKey:ee.key,fileName:ee.name}),n((0,C.t)({fileKey:ee.key,isFullscreenOpen:!1,entryPoint:O.k2.UNIVERSAL_POSTING,canvasThumbnailPromise:(0,P.$2)(ee.key,t),source:e.source})),et(null));else if((ea===U.gr.PLUGINS||ea===U.gr.WIDGETS)&&ei){let e="localFileId"in ei?ei:V[ei.id],i=e.localFileId;(0,r.sx)("community_publish_modal",{user:t.id,step:y.M.DETAILS,resourceType:ea===U.gr.PLUGINS?S.bD.PLUGIN:S.bD.WIDGET,pluginId:e.plugin_id,pluginName:e.name,localFileId:i}),n((0,b.r)({localFileId:i,entryPoint:O.k2.UNIVERSAL_POSTING})),el(null)}}},(0,E.t)("general.next")))))},"Universal Posting Modal")},602834:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(411855),l=n(860601);let a=i.createContext({shouldShowChevron:e=>!1,onClick:()=>!1,onMouseEnter:l.lQ,onMouseMove:l.lQ})},883601:(e,t,n)=>{let i,l;n.d(t,{A_:()=>A,An:()=>k,HH:()=>D,Pl:()=>$,_1:()=>q,_2:()=>j,bs:()=>Q,dB:()=>K,fq:()=>et,s$:()=>X,sE:()=>R.A,sv:()=>F,x7:()=>J});var a=n(411855),r=n(188507),o=n(296210),c=n.n(o),s=n(934480),d=n(946689),u=n(564577),m=n(574176),_=n(881388),p=n(939863),E=n(178466),f=n(67294),g=n(168039);if(443==n.j)var h=n(959232);var v=n(395116),C=n(977468),b=n(58024),w=n(127391),N=n(140908),T=n(602834),y=n(986312),I=n(44173);if(443==n.j)var R=n(163119);function k(e){return a.createElement("span",{className:I.k1,dangerouslySetInnerHTML:{__html:c().sanitize(e.block.html_text)}})}function P(e){let t=(0,s.UF)(e.block.emoji_shortcode)[0];return t.meta?a.createElement("span",{className:I.A9},t.unicode):a.createElement(a.Fragment,null)}function A(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?a.createElement(k,{key:t,block:e}):a.createElement(P,{key:t,block:e})):[]}function D(e){let{block:t,size:n}=e;return a.createElement(C.Ro,{entity:{...t,id:t.entity_id},size:n,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function S(e){let{block:t}=e;return a.createElement("div",{className:`${I.km} ${y.h3}`,style:{background:`url(${(0,h.A)()})`}},a.createElement("div",{className:`${y.iT}`,style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:n,blue:i,alpha:l}=e;return`rgba(${255*t|0}, ${255*n|0}, ${255*i|0}, ${l})`})(t.background_color)}},a.createElement("div",{className:y.xn,style:{backgroundImage:`url(${t.img_url})`}})))}function O(e){let{block:t}=e;return a.createElement("div",{className:I.Ew},a.createElement("div",{className:I.km,style:{backgroundImage:`url(${t.img_url})`}}))}function x(e){let{avatars:t}=e;return 0===t.length?null:t.length>1?a.createElement("div",{className:I.EI},a.createElement("div",{className:I.uX},a.createElement(D,{block:t[1],size:f.Pf.MEDIUM})),a.createElement("div",{className:I.SH},a.createElement(D,{block:t[0],size:f.Pf.MEDIUM}))):a.createElement("div",{className:I.EI},a.createElement(D,{block:t[0],size:f.Pf.LARGE}))}function M(e){let{avatars:t,icon:n}=e;return 0===t.length?null:t.length>1?a.createElement("div",{className:I.e0},a.createElement("div",{className:I.dh},a.createElement(D,{block:t[1],size:f.Pf.MEDIUM})),a.createElement("div",{className:I.xf},a.createElement(D,{block:t[0],size:f.Pf.MEDIUM})),n&&a.createElement(L,{icon:n})):a.createElement("div",{className:I.e0},a.createElement(D,{block:t[0],size:f.Pf.LARGE}),n&&a.createElement(L,{icon:n}))}function L(e){let{icon:t}=e,n="dark"===(0,g.DP)();return a.createElement("div",{className:I.Kk},"ImageThumbnailBlock"===t._block_type?a.createElement("img",{className:`${I.ni} ${n?I.En:""}`,src:t.img_url,alt:""}):a.createElement(P,{block:t}))}function F(e){let t=(0,r.wA)(),{block:n,callbacks:i,isPrimary:l=!0}=e,o=async()=>{let e=i.buildNotificationActionRequest(n.notification_action);await e.then(({data:e})=>{if(n.hide_after_action)i.hideNotification();else if(i.followLinkIfPossible(),e.meta.updated_notification_blob){let t=e.meta.updated_notification_blob;i.updateNotification(t.notification_id,t)}},()=>{let e="resolve"===n.notification_action?(0,p.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,p.t)("user_notification.an_error_occurred_while_removing_this_notification");t(_.s.error(e))})},c=A([n.text]);return l?a.createElement(d.$$,{className:I.xG,onClick:o},c):a.createElement(d.nR,{className:I.eD,onClick:o},c)}function U(e){let{block:t,actionBlockCallbacks:n}=e;return a.createElement("div",{className:I._u},a.createElement(F,{block:t.secondary_action,callbacks:n,isPrimary:!1}),a.createElement(F,{block:t.primary_action,callbacks:n,isPrimary:!0}))}function B(e){let{block:t,plan:n,shouldShowChevron:i}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return a.createElement(W,{block:t,plan:n,shouldShowChevron:i});case"SplitlineTitleAndBodyBlock":return a.createElement(H,{block:t,shouldShowChevron:i})}}function W(e){let{block:t,plan:n,shouldShowChevron:i}=e;return a.createElement(a.Fragment,null,a.createElement("div",{className:I.hQ},a.createElement("div",{className:I.Qs},a.createElement("div",null,A(t.title)),a.createElement("div",{className:I.tJ},a.createElement("div",{className:I.FS},t.description&&a.createElement("div",{className:I.wZ},A(t.description)),a.createElement("div",{className:I.PI},n&&a.createElement(a.Fragment,null,a.createElement(w.H,{entityId:n.id.toString(),entityName:n.name,imgUrl:n.img_url||void 0}),(0,b.gN)(n.name,21),a.createElement("div",{className:I.lN},"\xb7")),a.createElement(u.h1,{date:t.created_at,style:"short"}))),i&&a.createElement("div",{className:I.Vt},a.createElement(m.B,{svg:R.A,className:I.t4}))))),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return a.createElement(D,{block:e,size:f.Pf.XLARGE});case"ImageThumbnailBlock":return a.createElement(O,{block:e});case"FileThumbnailBlock":return a.createElement(S,{block:e})}})())}function H(e){let{block:t,shouldShowChevron:n}=e;return a.createElement("div",{className:I.gJ},a.createElement("div",{className:I.SZ},a.createElement("div",{className:I.DD},A(t.title)),a.createElement(z,{createdAt:t.created_at})),a.createElement("div",{className:I.tJ},a.createElement("div",{className:I.VA},A(t.subtitle)),t.description&&a.createElement("div",{className:I.Ec},A(t.description)),n&&a.createElement("div",{className:I.aR},a.createElement("div",{className:I.Vt},a.createElement(m.B,{svg:R.A,className:I.t4})))))}function V(e){let{notification:t}=e;return(0,N.ro)()?a.createElement(G,{notification:t,children:e.children}):a.createElement("div",{className:I.sU},t.is_unread?a.createElement("div",{className:(0,v.fN)()?I.dC:I.Zm}):null,a.createElement(x,{avatars:t.avatars}),e.children)}function G(e){let{notification:t}=e;return a.createElement("div",{className:I.sU},t.is_unread?a.createElement("div",{className:(0,v.fN)()?I.FN:I.bm}):null,a.createElement(M,{avatars:t.avatars,icon:t.icon}),e.children)}function j(e){let{attachment:t,notification:n,dontShowPlanIcon:i}=e;return a.createElement(V,{notification:n},a.createElement(B,{block:t.body,plan:!0===i?void 0:n.plan}))}function $(e){let{attachment:t,notification:n,dontShowPlanIcon:i}=e,{shouldShowChevron:l}=a.useContext(T.H);return a.createElement(V,{notification:n},a.createElement(B,{block:t.body,plan:!0===i?void 0:n.plan,shouldShowChevron:l(n)}))}function q(e){let{attachment:t,notification:n,actionBlockCallbacks:i}=e;return a.createElement(a.Fragment,null,a.createElement(V,{notification:n},a.createElement(B,{block:t.body,plan:n.plan})),a.createElement(U,{block:t.actions,actionBlockCallbacks:i}))}function z(e){let{createdAt:t}=e,n=Q(t),i=(0,u.Ak)(t,"narrow");if("today"!==n){let e=new Date(t),n={};n=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},i=new Intl.DateTimeFormat((0,E.Gq)().getPrimaryLocale(!1),n).format(e)}return a.createElement("div",{className:I.vE},i)}function Q(e){let t=new Date(e),n=new Date,i=new Date(n);return(i.setDate(n.getDate()-1),Y(t,n))?"today":Y(t,i)?"yesterday":t>=new Date(n.getFullYear(),n.getMonth(),n.getDate()-7)?"last_week":"older"}function Y(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var Z=((i=Z||{}).TODAY="today",i.YESTERDAY="yesterday",i.LAST_WEEK="last_week",i.OLDER="older",i);let K={today:a.createElement(p.Tx,{id:"user_notifications.today"}),yesterday:a.createElement(p.Tx,{id:"user_notifications.yesterday"}),last_week:a.createElement(p.Tx,{id:"user_notifications.last_7_days"}),older:a.createElement(p.Tx,{id:"user_notifications.older"})};function X(e){return e.preferred_attachments.length>0&&"ActionableAttachment"===e.preferred_attachments[0]._block_type}function J(e){return X(e)?"actionable":"actioned"}var ee=((l=ee||{}).ACTIONABLE="actionable",l.ACTIONED="actioned",l);let et={actionable:a.createElement(p.Tx,{id:"user_notifications.pending"}),actioned:a.createElement(p.Tx,{id:"user_notifications.done"})}},732695:(e,t,n)=>{n.d(t,{td:()=>W,IP:()=>G,fd:()=>i,he:()=>V,ql:()=>H});var i,l=n(411855),a=n(188507),r=n(629019),o=n.n(r),c=n(297666),s=n(517333),d=n(179479),u=n(358145),m=n(27087),_=n(799569),p=n(946689),E=n(493323),f=n(827586),g=n(939863),h=n(392592),v=n(738269),C=n(988022),b=n(860178),w=n(309798),N=n(395116),T=n(369351),y=n(58024),I=n(140908),R=n(883601),k=n(476619),P=n(241809),A=n(248521),D=n(966712),S=n(860601),O=n(572206),x=n(749336),M=n(602834),L=n(561899);let F=class{constructor(){this.circularBuffer=new P.C(F.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(e,t){t-this.lastTimestamp>F.THROTTLE_DURATION_MS&&(this.circularBuffer.push(e),this.lastTimestamp=t)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new O.Mi(window.innerWidth,window.innerHeight)}};function U(e){var t,n;let[i,a]=(0,l.useState)(null),[r,o]=(0,l.useState)(0),c=l.useRef(S.lQ),s=l.useRef(null),d=l.useRef(null),u=l.useRef({notificationId:"",mouseLocationHistory:new F,scheduledShowQuickReply:void 0,scheduledMarkAsRead:void 0});(0,l.useEffect)(()=>{d.current&&d.current.addEventListener("mouseover",e=>{var t;clearTimeout(null==(t=u.current)?void 0:t.scheduledShowQuickReply)})},[i]);let m=()=>{var e;clearTimeout(null==(e=u.current)?void 0:e.scheduledMarkAsRead),u.current.scheduledMarkAsRead=setTimeout(()=>{c.current()},1e3)},_=l.useMemo(()=>{function e(e,t,n){let i=window.innerWidth>900&&window.innerHeight>650;u.current.notificationId=e.notification_id,i&&(0,L.UC)(e)?(a((0,L.AS)(e)),o(t),c.current=n):(a(null),c.current=S.lQ),u.current.mouseLocationHistory.clear()}return{shouldShowChevron:()=>!1,onClick:e=>!1,onMouseEnter:(t,n,i)=>{var l,a,r;let o=!1;if(n.notification_id!==u.current.notificationId&&d.current){let e=d.current.getBoundingClientRect(),n=new O.Mi(e.left,e.top),i=new O.Mi(e.left,e.bottom),l=[u.current.mouseLocationHistory.getLocation50msAgo(),n,i];o=(0,A.y)(new O.Mi(t.clientX,t.clientY),l)}let c=t.target;o?(a=()=>{e(n,c.getBoundingClientRect().bottom,i)},clearTimeout(null==(r=u.current)?void 0:r.scheduledShowQuickReply),u.current&&(u.current.scheduledShowQuickReply=setTimeout(a,500))):(clearTimeout(null==(l=u.current)?void 0:l.scheduledShowQuickReply),e(n,c.getBoundingClientRect().bottom,i))},onMouseMove:e=>{u.current.mouseLocationHistory.push(new O.Mi(e.clientX,e.clientY),e.timeStamp)}}},[d]);if(!(0,D.kc)().desktop_quickreply_filebrowser)return l.createElement(l.Fragment,null,e.children);let p=Math.max(0,r-((null==(t=s.current)?void 0:t.getBoundingClientRect().y)??0)-((null==(n=d.current)?void 0:n.getBoundingClientRect().height)??640));return l.createElement(l.Fragment,null,l.createElement("div",{className:"quick_reply_switcher--hoverContainer--XEskB",ref:s},i&&l.createElement("div",{className:"quick_reply_switcher--quickReplyContainer--3Xnku",style:{top:p,maxHeight:640,minHeight:450},onMouseEnter:()=>{m()},onMouseLeave:()=>{var e;clearTimeout(null==(e=u.current)?void 0:e.scheduledMarkAsRead)}},l.createElement(x.d,{quickReplyInfo:i,onClose:()=>a(null),closeIcon:"x-32",hideOverflowMenu:!0,ref:d}))),l.createElement(M.H.Provider,{value:_},e.children))}F.BUFFER_CAPACITY=10,F.DESIRED_DURATION_MS=50,F.THROTTLE_DURATION_MS=F.DESIRED_DURATION_MS/F.BUFFER_CAPACITY;var B=n(391758);let W="-1";function H(e,t){let n=(0,a.wA)(),i=(0,a.d4)(e=>e.user.id),r=(0,a.d4)(e=>e.user.community_profile_id),o=(0,a.d4)(e=>e.authedUsers.byId[i].plans),u=l.useMemo(()=>void 0===o?new Map:new Map(o.map(e=>[e.plan_id,e.is_org])),[o]),_=(0,a.d4)(e=>e.userNotifications.userBellStates),p=(0,a.d4)(e=>e.userNotifications.communityProfileBellStates),E=(0,a.d4)(e=>e.selectedView.view),[f,C]=(0,l.useState)(new Map),[b,y]=(0,l.useState)(!0),[R,k]=(0,l.useState)(!1),P=(0,I.Ow)(),A=!!(0,w.f)("land_on_request_filter_in_notification_bell"),D=(0,d.F)(p),S=(0,d.F)(_);l.useEffect(()=>{let l=(0,c.s)(()=>{var l,a;e?r&&(D.current[r]&&n((0,N.X2)({isBellStateHigh:!1,userInitiated:!0,profileId:r})),T.sr.getCommunityServerDriven({currentView:E}).then(({data:e})=>{O(e.meta)}).catch(e=>{n(h.F.enqueue({message:(0,g.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),n(v.oB())})):((null==(a=null==(l=S.current)?void 0:l[i])?void 0:a[W])&&n((0,N.Zo)({isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:W,userId:i})),T.sr.getServerDrivenPlan({currentPlanId:t,currentView:E,isPlanOrg:u.get(t)||!1}).then(({data:e})=>{O(e.meta)}).catch(e=>{n(h.F.enqueue({message:(0,g.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),n(v.oB())}))},800,!0);y(!0),l()},[t,D,E,n,e,S,u,r,i]);let O=e=>{let t=new Map,n=!1;e.forEach(e=>{t.set(e.notification_id,e),!n&&e.filters.is_priority&&(n=!0)}),k(n),C(t),y(!1)},x=l.useMemo(()=>{if(P){let e=(0,N.Dd)();return!A&&R&&((0,N.hI)("priority"),e="priority"),b||R||"priority"!==e||((0,N.hI)("all"),e="all"),e}return"all"},[R,A,P,b]);return{notificationFeedMap:f,isFetchingNotifications:b,initFilter:x,markAllAsReadFn:()=>{(e?m.Ay.post("/api/user_notifications/community/mark_read",{currentView:E,source:s.S8?"desktopbell":"web"}):m.Ay.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:E,is_plan_org:u.get(t)||!1,source:s.S8?"desktopbell":"web"})).then(()=>{C(new Map(Array.from(f,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{n(h.F.enqueue({message:(0,g.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{C(new Map(f.set(e,t)))}}}function V(e,t){return e.filter(e=>!t.includes(e.notification_id))}function G(e){let t;let[n,r]=(0,l.useState)(W),{notificationFeedMap:c,isFetchingNotifications:s,markAllAsReadFn:d,updateNotification:m,initFilter:_}=H(!!e.inCommunity,n),[p,E]=(0,l.useState)([]),[f,g]=(0,l.useState)(_),h=(0,u.Z)(f),v=(0,I.ro)(),b=(0,a.wA)(),T=!!(0,w.f)("land_on_request_filter_in_notification_bell"),R=V([...c.values()],p);l.useEffect(()=>{g(_)},[_]),l.useEffect(()=>{let e=(0,N.Dd)();f!==h&&f===e&&(0,C.qD)({name:"user_notifications_filter_viewed",filter_type:f,dropdown_location:"web"})},[h,f]);let k=e=>{e.stopPropagation()},P=e=>{e===y.aT&&(e=W),(0,C.FE)(e,"notifications",void 0),r(e)};switch(f){case"unread":t=R.filter(e=>e.is_unread);break;case"priority":t=R.filter(e=>e.filters.is_priority);break;default:t=R}return l.createElement("div",{className:o()(0!==c.size||s?B.P2:B.pg,e.containerClassName,{[B.Uz]:e.arrowRight}),onMouseDown:k,onClick:k},l.createElement(U,null,l.createElement(i.Header,{selectedPlan:n,onPlanFilterUpdate:e=>P(e),inCommunity:!!e.inCommunity,showMarkAllAsRead:j(s,R)&&!v,markAllAsReadFn:d}),!!v&&l.createElement(i.FilterToggle,{notificationFilter:f,toggleNotificationFilter:e=>{(0,C.Cu)({filter_type:e},"user_notifications_filter_clicked"),T||"priority"===e||(0,N.ED)(b),(0,N.hI)(e),g(e)},isFetchingNotifications:s,notifications:R,markAllAsReadFn:d}),l.createElement(i.Feed,{notifications:t,currentPlanFilter:n===W?y.aT:n,currentNotificationFilter:f,hiddenNotificationIds:p,setHiddenNotificationIds:E,isFetchingNotifications:s,inCommunity:e.inCommunity,fillParent:!1,updateNotificationCallback:m})))}function j(e,t){return!e&&t.some(e=>e.is_unread)}(e=>{function t(){let e=(0,a.wA)();return l.createElement("div",{className:B.JX},l.createElement(g.Tx,{id:"user_notifications.find_requests_here"}),l.createElement(_.Jn,{className:B.n$,onClick:()=>{(0,N.ED)(e)}}))}function n(e){return(0,I.ro)()?l.createElement("div",{className:B.sJ},R.dB[e.notificationDateGroup]):null}function i(e){return(0,I.Ow)()?l.createElement("div",{className:B.sJ},R.fq[e.notificationPriorityGroup]):null}e.Feed=function(e){var r;let o=!!(0,w.f)("land_on_request_filter_in_notification_bell"),c=(0,b.Pc)(),s=(0,a.d4)(e=>{var t;return c?null==(t=e.authedUsers.byId[c.id])?void 0:t.plans:null}),d=t=>{e.setHiddenNotificationIds([...e.hiddenNotificationIds,t])},u=!1;if(c&&!e.inCommunity&&(null==s?void 0:s.length)===1&&(u=!0,e.currentPlanFilter===y.aT)){let t=s[0].plan_id;for(let n of e.notifications)if((null==(r=n.plan)?void 0:r.id.toString())!==t){u=!1;break}}if(e.isFetchingNotifications)return l.createElement("div",{className:B.g4},l.createElement(E.kt,null));if(0===e.notifications.length)return l.createElement("div",{className:B.OL},l.createElement(g.Tx,{id:"user_notifications.dropdown.no_notifications"}));{let a,r;"priority"===e.currentNotificationFilter&&e.notifications.sort((e,t)=>Number((0,R.s$)(t))-Number((0,R.s$)(e)));let c=e.inCommunity?B.jG:B.I3,s=e=>{let t;let i=null;try{t=(0,k.z)(e);let r=(0,R.bs)(t.body.created_at);r!==a&&(a=r,i=l.createElement(n,{key:`date-${e.notification_id}`,notificationDateGroup:r}))}catch(e){console.error("Skipping date header, unsupported notification")}return i},m=e=>{let t=null,n=(0,R.x7)(e);return n!==r&&(r=n,t=l.createElement(i,{key:`priority-${e.notification_id}`,notificationPriorityGroup:n})),t};return l.createElement(f.P,{className:`${e.fillParent?"":c}`},l.createElement("div",null,!o&&"priority"===e.currentNotificationFilter&&l.createElement(t,null),e.notifications.map(t=>{let n=null;return n="priority"===e.currentNotificationFilter?m(t):s(t),l.createElement(l.Fragment,{key:`row-container-${t.notification_id}`},n,l.createElement(k.r,{key:`row-${t.notification_id}`,notification:t,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:u,currentPlanFilter:e.currentPlanFilter,currentNotificationFilter:e.currentNotificationFilter,inDesktopTray:e.inDesktopTray,onHide:()=>d(t.notification_id)}))})))}},e.UnreadBar=function(e){return j(e.isFetchingNotifications,e.notifications)?l.createElement("div",{className:B.FR},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return l.createElement("div",{className:B.gy},(0,g.t)("user_notifications.unread_count",{unreadCount:t}))}(e.notifications),j(e.isFetchingNotifications,e.notifications)&&l.createElement(p.N_,{onClick:e.markAllAsReadFn,className:B.nf,trusted:!0},l.createElement(g.Tx,{id:"user_notifications.dropdown.mark_all_as_read"}))):null},e.DateHeader=n,e.PriorityHeader=i,e.Header=function(e){return l.createElement("div",{className:B.wx},e.inCommunity?l.createElement("div",{className:B.O9},(0,g.t)("user_notification.community_notifications")):l.createElement(l.Fragment,null,l.createElement(y.jy,{currentPlanFilter:e.selectedPlan===W?y.aT:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate})),e.children,e.showMarkAllAsRead&&l.createElement(p.N_,{onClick:e.markAllAsReadFn,className:B.nf,trusted:!0},l.createElement(g.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))},e.FilterToggle=function(e){let t=(0,I.Ow)(),n=e.notifications.some(e=>e.filters.is_priority);return e.isFetchingNotifications?null:l.createElement("div",{className:B.WI},l.createElement("div",{className:B.u6},l.createElement("button",{className:o()({[B.db]:!0,[B.Ee]:"all"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("all")}},(0,g.t)("user_notification.all")),!!t&&n&&l.createElement("button",{className:o()({[B.db]:!0,[B.Ee]:"priority"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("priority")}},function(e){let t=e.reduce((e,t)=>e+Number((0,R.s$)(t)),0);return 0===t?(0,g.t)("user_notifications.requests_empty"):(0,g.t)("user_notifications.requests_toggle_count",{actionableCount:t})}(e.notifications)),l.createElement("button",{className:o()({[B.db]:!0,[B.Ee]:"unread"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("unread")}},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,g.t)("user_notifications.unread_empty"):(0,g.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications))),j(e.isFetchingNotifications,e.notifications)&&l.createElement(p.N_,{onClick:e.markAllAsReadFn,className:B.nf,trusted:!0},l.createElement(g.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))}})(i||(i={}))},476619:(e,t,n)=>{n.d(t,{r:()=>X,z:()=>K});var i=n(411855),l=n(188507),a=n(776250),r=n(966712),o=n(738269),c=n(507877),s=n(988022),d=n(694687),u=n(594901),m=n(707465),_=n(410613),p=n(369351),E=n(517333),f=n(398977),g=n(881388),h=n(939863),v=n(140908),C=n(602834),b=n(883601),w=n(564577),N=n(574176),T=n(501114),y=n(67294),I=n(395116);function R(e){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return i.createElement(M,null);case"FileCommentReplyNotifV2":return i.createElement(A,null);case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return i.createElement(O,null);case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":return i.createElement(S,null);case"MergeRequestReviewerInviteNotif":case"MergeRequestChangesRequestedNotif":case"BranchMergedNotif":case"MergeRequestApprovedNotif":return i.createElement(P,null);case"FileRoleRequestCreatedNotif":return i.createElement(D,null);case"FileRoleRequestApprovedNotif":return i.createElement(k,null);default:return i.createElement(x,null)}}function k(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{d:"M15.6255 6.13281L7.89111 13.8672L4.37549 10.3516",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round","stroke-linejoin":"round"}))}function P(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{d:"M3.85107 5.89014H5.73195C7.11699 5.89014 8.23979 7.01294 8.23979 8.39798V9.65192C8.23979 11.037 9.36259 12.1598 10.7476 12.1598H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),i.createElement("path",{d:"M11.3745 5.89014H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),i.createElement("path",{d:"M12.6279 9.33838L15.1358 12.1597L12.6279 14.981",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}))}function A(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.38054 5.05103V7.60525C4.38054 9.95246 6.28333 11.8552 8.63054 11.8552H13.6551L11.3566 14.1538L12.0637 14.8609L15.2158 11.7088L15.5693 11.3552L15.2158 11.0017L12.0637 7.84958L11.3566 8.55669L13.6551 10.8552H8.63054C6.83562 10.8552 5.38054 9.40017 5.38054 7.60525V5.05103H4.38054Z",fill:"black","fill-opacity":"0.9"}))}function D(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.1417 4.1958C9.24166 4.1958 8.34668 4.45436 7.66874 5.0415C6.97965 5.6383 6.56494 6.53183 6.56494 7.69164C6.56494 7.96778 6.7888 8.19164 7.06494 8.19164C7.34109 8.19164 7.56494 7.96778 7.56494 7.69164C7.56494 6.78674 7.87894 6.18236 8.32341 5.79741C8.77904 5.40281 9.42246 5.1958 10.1417 5.1958C10.8431 5.1958 11.4156 5.42272 11.8075 5.78266C12.196 6.13946 12.4352 6.65163 12.4352 7.28679C12.4352 7.77431 12.3292 8.13884 12.1429 8.44619C11.9522 8.76066 11.6578 9.0475 11.231 9.34707C10.5893 9.79743 10.1119 10.201 9.81658 10.7353C9.51761 11.276 9.43932 11.8868 9.43932 12.6712C9.43932 12.9473 9.66318 13.1712 9.93932 13.1712C10.2155 13.1712 10.4393 12.9473 10.4393 12.6712C10.4393 11.9365 10.5177 11.5339 10.6917 11.2191C10.8694 10.8977 11.1815 10.6035 11.8054 10.1656C12.2952 9.82188 12.7093 9.44073 12.998 8.96464C13.2909 8.48143 13.4352 7.93284 13.4352 7.28679C13.4352 6.38355 13.0873 5.60023 12.4839 5.04613C11.884 4.49518 11.0598 4.1958 10.1417 4.1958ZM9.98822 14.3041C9.54639 14.3041 9.18822 14.6623 9.18822 15.1041C9.18822 15.546 9.54639 15.9041 9.98822 15.9041C10.43 15.9041 10.7882 15.546 10.7882 15.1041C10.7882 14.6623 10.43 14.3041 9.98822 14.3041Z",fill:"black","fill-opacity":"0.9"}))}function S(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.499 4.375C10.499 4.09886 10.2752 3.875 9.99902 3.875C9.72288 3.875 9.49902 4.09886 9.49902 4.375V9.50004H4.37402C4.09788 9.50004 3.87402 9.7239 3.87402 10C3.87402 10.2762 4.09788 10.5 4.37402 10.5H9.49902V15.625C9.49902 15.9011 9.72288 16.125 9.99902 16.125C10.2752 16.125 10.499 15.9011 10.499 15.625V10.5H15.624C15.9002 10.5 16.124 10.2762 16.124 10C16.124 9.7239 15.9002 9.50004 15.624 9.50004H10.499V4.375Z",fill:"black","fill-opacity":"0.9"}))}function O(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.91379 10C4.91379 7.19097 7.19097 4.91379 10 4.91379C12.809 4.91379 15.0862 7.19097 15.0862 10C15.0862 12.809 12.809 15.0862 10 15.0862C7.19097 15.0862 4.91379 12.809 4.91379 10ZM10 3.91379C6.63868 3.91379 3.91379 6.63868 3.91379 10C3.91379 13.3613 6.63868 16.0862 10 16.0862C13.3613 16.0862 16.0862 13.3613 16.0862 10C16.0862 6.63868 13.3613 3.91379 10 3.91379ZM10.0001 13.2931C8.42095 13.2931 7.10142 12.1816 6.78116 10.6983H7.81524C8.11062 11.6233 8.97713 12.2931 10.0001 12.2931C11.023 12.2931 11.8896 11.6233 12.1849 10.6983H13.219C12.8988 12.1816 11.5792 13.2931 10.0001 13.2931ZM13.0426 8.82457C13.0426 9.23593 12.7091 9.5694 12.2978 9.5694C11.8864 9.5694 11.5529 9.23593 11.5529 8.82457C11.5529 8.41321 11.8864 8.07974 12.2978 8.07974C12.7091 8.07974 13.0426 8.41321 13.0426 8.82457ZM7.70199 9.5694C8.11335 9.5694 8.44682 9.23593 8.44682 8.82457C8.44682 8.41321 8.11335 8.07974 7.70199 8.07974C7.29064 8.07974 6.95717 8.41321 6.95717 8.82457C6.95717 9.23593 7.29064 9.5694 7.70199 9.5694Z",fill:"black","fill-opacity":"0.9"}))}function x(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 4.25C6.82436 4.25 4.25 6.82436 4.25 10V12.8281V13.2241V15.25C4.25 15.5261 4.47386 15.75 4.75 15.75H10C13.1756 15.75 15.75 13.1756 15.75 10C15.75 6.82436 13.1756 4.25 10 4.25ZM5.25 10C5.25 7.37665 7.37665 5.25 10 5.25C12.6234 5.25 14.75 7.37665 14.75 10C14.75 12.6234 12.6234 14.75 10 14.75H5.25V10Z",fill:"black"}))}function M(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{d:"M10.2364 15.625C9.38253 15.625 8.61522 15.4936 7.93448 15.2309C7.25375 14.9682 6.67304 14.589 6.19235 14.0934C5.71464 13.6007 5.3474 13.0066 5.09063 12.3109C4.83685 11.6152 4.70996 10.8375 4.70996 9.97761C4.70996 9.13565 4.83834 8.37132 5.09511 7.68461C5.35487 6.99791 5.7236 6.40824 6.2013 5.91561C6.682 5.42297 7.25524 5.04379 7.92105 4.77807C8.58984 4.50936 9.33327 4.375 10.1513 4.375C10.9515 4.375 11.6681 4.51533 12.301 4.79598C12.934 5.07365 13.4729 5.45283 13.9178 5.93352C14.3626 6.41421 14.7015 6.96208 14.9344 7.57713C15.1702 8.18919 15.2882 8.82962 15.2882 9.49841C15.2882 9.92237 15.2553 10.3404 15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8248 12.3288 11.7382 12.1019 11.7143 11.8183H11.6696C11.574 12.0332 11.4397 12.2303 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304C10.3753 12.9349 10.0842 12.9827 9.75275 12.9737C9.37656 12.9648 9.03769 12.8812 8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735C7.76131 11.7989 7.60158 11.4809 7.49111 11.1196C7.38064 10.7554 7.32541 10.3628 7.32541 9.94178C7.32541 9.53573 7.38661 9.16103 7.50903 8.81768C7.63442 8.47432 7.8061 8.17426 8.02405 7.9175C8.24499 7.66073 8.50325 7.45621 8.79883 7.30394C9.09442 7.15167 9.41239 7.06359 9.75275 7.03971C10.0573 7.01881 10.3379 7.04867 10.5947 7.12928C10.8515 7.20691 11.0694 7.32036 11.2486 7.46965C11.4277 7.61893 11.5561 7.78762 11.6337 7.97572H11.6785V7.16511H12.4085V11.3167C12.4085 11.6302 12.4697 11.875 12.5921 12.0512C12.7175 12.2243 12.9146 12.3109 13.1833 12.3109C13.5087 12.3109 13.773 12.2049 13.976 11.9929C14.182 11.778 14.3328 11.4615 14.4283 11.0435C14.5239 10.6225 14.5716 10.1045 14.5716 9.48945C14.5716 9.02369 14.5059 8.57285 14.3746 8.13694C14.2462 7.69805 14.0581 7.292 13.8103 6.91879C13.5625 6.5426 13.2579 6.21417 12.8967 5.93352C12.5354 5.64988 12.1219 5.42894 11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928C6.32969 6.83818 6.0147 7.36216 5.79376 7.97124C5.57282 8.57733 5.46235 9.25358 5.46235 10C5.46235 10.7554 5.57282 11.4376 5.79376 12.0467C6.0147 12.6558 6.33267 13.1768 6.74768 13.6097C7.16567 14.0426 7.67025 14.3755 8.26141 14.6084C8.85258 14.8413 9.51838 14.9577 10.2588 14.9577C10.5872 14.9577 10.9097 14.9249 11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263C12.3578 14.5337 12.5697 14.4427 12.731 14.3531L12.9594 14.9801C12.7384 15.0995 12.4757 15.2085 12.1711 15.307C11.8696 15.4056 11.5501 15.4832 11.2127 15.5399C10.8784 15.5966 10.5529 15.625 10.2364 15.625ZM9.8468 12.2706C10.2529 12.2706 10.5947 12.1766 10.8724 11.9885C11.15 11.8004 11.359 11.5302 11.4994 11.1778C11.6427 10.8255 11.7143 10.4016 11.7143 9.90595C11.7143 9.40734 11.6382 8.99681 11.4859 8.67436C11.3367 8.35191 11.1232 8.11306 10.8455 7.9578C10.5708 7.79956 10.2454 7.72044 9.8692 7.72044C9.50494 7.72044 9.18548 7.82046 8.9108 8.0205C8.6391 8.21756 8.42563 8.48179 8.27037 8.8132C8.1181 9.14461 8.04197 9.50886 8.04197 9.90595C8.04197 10.3269 8.10914 10.7166 8.2435 11.0748C8.38084 11.4331 8.58237 11.7227 8.8481 11.9437C9.11681 12.1616 9.44971 12.2706 9.8468 12.2706Z",fill:"black","fill-opacity":"0.9"}),i.createElement("path",{d:"M5.02027 12.3369L5.02018 12.3366C4.76295 11.6315 4.63496 10.8449 4.63496 9.97761C4.63496 9.12799 4.76452 8.3546 5.02486 7.65835L5.02496 7.65808C5.28808 6.96247 5.66213 6.36389 6.14746 5.86339L6.14762 5.86323C6.63592 5.36279 7.21807 4.97789 7.89317 4.70844C8.57194 4.43573 9.32501 4.3 10.1513 4.3C10.9603 4.3 11.6874 4.44189 12.3313 4.72735C12.9731 5.00892 13.5206 5.39394 13.9728 5.88258C14.4242 6.37034 14.7682 6.92644 15.0045 7.5504C15.2436 8.17117 15.3632 8.82067 15.3632 9.49841C15.3632 9.92616 15.3301 10.348 15.2638 10.7639M5.02027 12.3369L15.1897 10.7524M5.02027 12.3369C5.28036 13.0415 5.65295 13.6448 6.1385 14.1456L6.19235 14.0934M5.02027 12.3369L6.19235 14.0934M15.2638 10.7639C15.2638 10.764 15.2637 10.7641 15.2637 10.7642L15.1897 10.7524M15.2638 10.7639C15.2638 10.7638 15.2638 10.7637 15.2638 10.7637L15.1897 10.7524M15.2638 10.7639C15.2001 11.1819 15.0893 11.562 14.9308 11.9036C14.7706 12.2485 14.5478 12.5261 14.262 12.7343L14.2615 12.7346C13.9713 12.9428 13.6071 13.0442 13.1743 13.0442C12.9451 13.0442 12.7192 13.0071 12.4968 12.9329L12.4956 12.9325C12.2718 12.8537 12.0792 12.7258 11.9186 12.5495L11.9177 12.5485L11.9177 12.5485C11.7887 12.4014 11.7048 12.2174 11.6633 11.9997M15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8368 12.3425 11.7525 12.138 11.7213 11.8855C11.7032 11.9242 11.6838 11.9622 11.6633 11.9997M11.6633 11.9997C11.5726 12.165 11.4582 12.319 11.3204 12.4616L11.32 12.462C11.139 12.6461 10.9168 12.7918 10.6548 12.8997M11.6633 11.9997C11.6555 11.9586 11.6491 11.9163 11.6443 11.8728C11.5509 12.0667 11.4249 12.2455 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304M11.6561 5.2707C12.1219 5.42894 12.5354 5.64988 12.8967 5.93352C13.2579 6.21417 13.5625 6.5426 13.8103 6.91879C14.0581 7.292 14.2462 7.69805 14.3746 8.13694C14.5059 8.57285 14.5716 9.02369 14.5716 9.48945C14.5716 10.1045 14.5239 10.6225 14.4283 11.0435M11.6561 5.2707L10.6261 12.8304M11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928L11.6561 5.2707ZM14.4283 11.0435L14.3552 11.0268C14.2614 11.437 14.1152 11.7393 13.9218 11.941L13.9218 11.9411C13.7346 12.1366 13.4907 12.2359 13.1833 12.2359C12.9321 12.2359 12.761 12.1561 12.6533 12.0078C12.5431 11.8488 12.4835 11.6212 12.4835 11.3167V7.16511V7.09011H12.4085H11.6785H11.6035V7.16511V7.75548C11.5245 7.63092 11.4219 7.51647 11.2966 7.41203C11.1087 7.25548 10.8816 7.1377 10.6168 7.0576C10.3501 6.97393 10.0601 6.94344 9.74762 6.96488L9.7475 6.96489C9.39726 6.98947 9.06935 7.08021 8.76449 7.23727C8.46017 7.39404 8.19431 7.60464 7.9672 7.86858L7.96687 7.86896C7.74271 8.13304 7.56676 8.44098 7.43857 8.79195L7.43838 8.79249C7.31278 9.14479 7.25041 9.52812 7.25041 9.94178C7.25041 10.3694 7.30652 10.7694 7.41934 11.1414L7.41939 11.1416C7.53221 11.5105 7.69577 11.8366 7.91062 12.119L7.91094 12.1194C8.12927 12.4023 8.39274 12.6258 8.70101 12.7892L8.70129 12.7893C9.01409 12.9535 9.36447 13.0395 9.75097 13.0487M14.4283 11.0435C14.3328 11.4615 14.182 11.778 13.976 11.9929L11.2252 15.6139M14.4283 11.0435L14.3552 11.0269C14.4491 10.6131 14.4966 10.1011 14.4966 9.48945C14.4966 9.03085 14.432 8.58731 14.3028 8.15858L14.3026 8.158C14.1763 7.7262 13.9913 7.32706 13.7478 6.96028L13.7476 6.96005C13.5044 6.59082 13.2055 6.26844 12.8507 5.99275L12.8503 5.99251C12.4962 5.71446 12.0903 5.49742 11.632 5.34171L11.6319 5.34167C11.178 5.18647 10.6728 5.10834 10.1155 5.10834C9.42541 5.10834 8.80087 5.2248 8.24082 5.45645C7.68019 5.68833 7.19801 6.01964 6.79349 6.45052C6.39192 6.88144 6.08202 7.3965 5.86426 7.99681L5.86422 7.99692C5.64671 8.5936 5.53735 9.26099 5.53735 10C5.53735 10.7481 5.64675 11.4215 5.86426 12.0211C6.08191 12.6211 6.39456 13.1329 6.80172 13.5577C7.21183 13.9824 7.7072 14.3094 8.2889 14.5386C8.86999 14.7675 9.52626 14.8827 10.2588 14.8827C10.5822 14.8827 10.8996 14.8504 11.2109 14.7857L11.2117 14.7856C11.5282 14.7235 11.8141 14.6468 12.0698 14.5556L12.0701 14.5556C12.3306 14.4638 12.5383 14.3743 12.6945 14.2875L12.7714 14.2449L12.8014 14.3274L13.0298 14.9544L13.052 15.0153L12.995 15.0461C12.7691 15.1682 12.502 15.2788 12.1942 15.3784C11.8889 15.4781 11.5659 15.5566 11.2252 15.6139M9.75097 13.0487C9.75089 13.0487 9.75081 13.0487 9.75073 13.0487L9.75275 12.9737L9.75097 13.0487ZM9.75097 13.0487C10.0905 13.0579 10.3924 13.009 10.6548 12.8997M10.6548 12.8997C10.6548 12.8997 10.6549 12.8997 10.6549 12.8996L10.6261 12.8304M10.6548 12.8997C10.6547 12.8997 10.6547 12.8997 10.6546 12.8998L10.6261 12.8304M11.6696 11.8183V11.822L11.6678 11.8222C11.6684 11.8209 11.669 11.8196 11.6696 11.8183ZM11.6696 11.8183L11.6767 11.8214L11.7143 11.8183M11.6696 11.8183H11.7143M11.7143 11.8183V11.8382L11.7162 11.839C11.7155 11.8321 11.7149 11.8252 11.7143 11.8183ZM11.2252 15.6139C10.887 15.6712 10.5574 15.7 10.2364 15.7C9.37484 15.7 8.59816 15.5674 7.90748 15.3009C7.21721 15.0344 6.62718 14.6494 6.13851 14.1456L6.19235 14.0934M11.2252 15.6139L6.19235 14.0934M8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735L8.73614 12.7229ZM11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263L11.2262 14.8592ZM11.4299 11.1496L11.4297 11.1501C11.2942 11.4903 11.094 11.7478 10.8303 11.9264C10.5675 12.1044 10.2411 12.1956 9.8468 12.1956C9.46442 12.1956 9.14906 12.0911 8.89571 11.8857C8.64116 11.674 8.44684 11.3956 8.31364 11.0483C8.1828 10.6993 8.11697 10.3187 8.11697 9.90595C8.11697 9.5188 8.19111 9.16545 8.3384 8.84478C8.48876 8.52391 8.69439 8.27011 8.95483 8.08121L8.95495 8.08113C9.21586 7.89112 9.5196 7.79544 9.8692 7.79544C10.2347 7.79544 10.5467 7.87224 10.8081 8.02279L10.8081 8.02279L10.8089 8.02326C11.0712 8.16991 11.2744 8.39601 11.4179 8.70587L11.4181 8.70639C11.5642 9.01566 11.6393 9.41429 11.6393 9.90595C11.6393 10.3947 11.5686 10.8085 11.4299 11.1496Z",stroke:"black","stroke-opacity":"0.9","stroke-width":"0.15"}))}var L=n(44173);let F=/(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s(?:and\s(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s)?/,U=/<b>(.*?)<\/b>.*?(?=\s*in\s)/,B=/made you (an? )?(\w+)/i,W=/<b>(.*?)<\/b>/g;function H(e){let{avatars:t,notification_type:n}=e;return 0===t.length?null:t.length>1?i.createElement("div",{className:L.e0},i.createElement("div",{className:L.uX},i.createElement(b.HH,{block:t[1],size:y.Pf.MEDIUM28})),i.createElement("div",{className:L.SH},i.createElement(b.HH,{block:t[0],size:y.Pf.MEDIUM28})),i.createElement("div",{className:L.Kk},n&&R(n))):i.createElement(i.Fragment,null,i.createElement("div",{className:L.e0},i.createElement(b.HH,{block:t[0],size:y.Pf.LARGE40}),i.createElement("div",{className:L.Kk},n&&R(n))))}function V(e){let{attachment:t,notification:n}=e,l=t.body;return i.createElement("div",{className:L.hQ},i.createElement("div",null,function(e,t){if(!e)return null;let n={html_text:"",_block_type:"HtmlTextBlock"},l={html_text:"",_block_type:"HtmlTextBlock"},a={html_text:"",_block_type:"HtmlTextBlock"};return e.map(e=>{if("HtmlTextBlock"===e._block_type){let i=e.html_text.match(U),r=e.html_text.match(W)||[];if(i&&"BatchedFileCommentNotif"===t){let e=i[0].trim();""===n.html_text&&(n={html_text:e}),l={html_text:r[r.length-1].replace(/<\/?b>/g,"")}}else if(t&&Q.includes(t)){if(r.length>=3){""===n.html_text&&(n={html_text:r[0]});let e=r[r.length-1].replace(/<\/?b>/g,""),t=r[r.length-2].replace(/<\/?b>/g,"");l={html_text:`${t} -> ${e}`}}}else""===n.html_text&&(n={html_text:r[0]}),l={html_text:r[r.length-1].replace(/<\/?b>/g,"")};a=t&&function(e,t){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return{html_text:"Mentioned you"};case"FileCommentReplyNotifV2":return{html_text:"Replied"};case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return{html_text:"Reacted"};case"FileCommentNotifV2":case"FeedPostCommentNotifV2":return{html_text:"Commented"};case"MergeRequestReviewerInviteNotif":return{html_text:"Requested review"};case"MergeRequestChangesRequestedNotif":return{html_text:"Suggested changes"};case"BranchMergedNotif":return{html_text:"Merged"};case"MergeRequestApprovedNotif":return{html_text:"Approved branch"};case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":let n=t.match(B);if(n&&n.length>2)return{html_text:`Made you ${n[2]}`};if(t.includes("shared"))return{html_text:"Shared"};return{html_text:"Invited you"};case"FileRoleRequestCreatedNotif":let i=t.includes("edit")?"edit":"view";return{html_text:t.includes("wants")?`Requested ${i} access`:`Can now ${i}`};case"FileRoleRequestApprovedNotif":return{html_text:t.includes("edit")?"You can edit":"You can view"};case"BatchedFileCommentNotif":case"BatchedFeedCommentReactionNotif":let l=t.match(F),a="";if(l){let e=l[1],t=l[2];if(a=`${e} ${t}`,l[3]){let e=l[3],t=l[4];a+=` and ${e} ${t}`}}return{html_text:a}}}(t,e.html_text)||a}}),i.createElement(i.Fragment,null,i.createElement("div",{className:L.Zc},i.createElement(b.An,{block:n})),i.createElement("div",{className:L.Zc},i.createElement(b.An,{block:a})," \xb7 ",i.createElement(b.An,{block:l})))}(l.title,n.notification_type)),l.description&&i.createElement("div",{className:L.Ec},i.createElement("span",{className:L.gv},(0,b.A_)(function(e){if(!e)return[];let t=e.find(e=>"ReacjiBlock"===e._block_type);return t?[t,{html_text:" to: ",_block_type:"HtmlTextBlock"}]:[]}(l.title))),(0,b.A_)(l.description)))}function G(e){let{notification:t,createdAt:n}=e,l=function(e){if(e.includes("just now"))return"now";let t=e.split(" "),n=t[0],i=t[1].charAt(0);return"mo."===t[1]&&(i+="o"),`${n}${i}`}((0,w.Ak)(n,"short"));return i.createElement("div",{className:L.sU},i.createElement("div",{className:L.vE},l),t.is_unread?i.createElement("div",{className:(0,I.fN)()?L.FN:L.bm}):null,i.createElement(H,{avatars:t.avatars,notification_type:t.notification_type}),e.children)}function j(e){let{attachment:t,notification:n}=e;return i.createElement(G,{notification:n,createdAt:t.body.created_at},i.createElement(V,{attachment:t,notification:n}))}function $(e){let{attachment:t,notification:n}=e,{shouldShowChevron:l}=i.useContext(C.H);return i.createElement(G,{notification:n,createdAt:t.body.created_at},i.createElement(V,{attachment:t,notification:n}),l(n)&&i.createElement(N.B,{svg:b.sE,style:T.sx.absolute.hFull.flex.itemsCenter.add({right:"-16px",height:"100%",fill:"var(--color-icon)"}).$}))}function q(e){let{attachment:t,notification:n,actionBlockCallbacks:l}=e;return i.createElement(i.Fragment,null,i.createElement(G,{notification:n,createdAt:t.body.created_at},i.createElement(V,{attachment:t,notification:n})),i.createElement(z,{block:t.actions,actionBlockCallbacks:l}))}function z(e){let{block:t,actionBlockCallbacks:n}=e;return i.createElement("div",{className:L.yT},i.createElement(b.sv,{block:t.secondary_action,callbacks:n,isPrimary:!1}),i.createElement(b.sv,{block:t.primary_action,callbacks:n,isPrimary:!0}))}let Q=["MergeRequestReviewerInviteNotif","MergeRequestChangesRequestedNotif","BranchMergedNotif","MergeRequestApprovedNotif"],Y=[...Q,"AtMentionCommentNotif","CanvasAtMentionNotif","AtMentionInviteNotif","FeedPostAtMention","FileCommentReplyNotifV2","FileCommentReactionNotifV2","FeedPostCommentNotifV2","FeedCommentReactionNotifV","FeedPostReactionNotifV2","FileCommentNotifV2","InviteFolderNotif","InviteFileNotif","InviteTeamNotif","InviteFileRepoNotif","InviteFileReminderNotif","FileRoleRequestCreatedNotif","FileRoleRequestApprovedNotif","BatchedFileCommentNotif","BatchedFeedCommentReactionNotif"];var Z=n(58024);function K(e){let t=e.preferred_attachments.find(e=>_.pw.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function X(e){let t;let n=(0,l.wA)(),[_,w]=(0,i.useState)(!1),N=(0,l.Pj)(),T=(0,d.sZ)(),y=(0,l.d4)(e=>e.selectedView.view),I=(0,u.FC)(),{onClick:R,onMouseEnter:k,onMouseMove:P}=i.useContext(C.H),A=(0,v.ro)(),D=e.notification;try{t=K(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let S=()=>{var t;if(D.deeplink){let i=D.deeplink.href;if(i.includes("project")){let t=i.split("project/")[1];(0,s.xr)("file_browser_folder_click",t,null,I,{selectedView:"notifications",planFilterId:e.currentPlanFilter===Z.aT?null:e.currentPlanFilter})}else if(i.includes("team")){let t=i.split("team/")[1];(0,s._J)("file_browser_team_click",t,I,{selectedView:"notifications",planFilterId:e.currentPlanFilter===Z.aT?null:e.currentPlanFilter})}else if(i.includes("file/")){let t=i.split("file/")[1].split("/")[0];n(c.UN({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===Z.aT?void 0:e.currentPlanFilter||void 0}}))}if(n(o.oB()),D.deeplink.use_unsafe)f.Ay.unsafeRedirect(i,E.eD?void 0:"_blank");else if(e.inDesktopTray)f.Ay.redirect(i);else{let e=new URL(i);try{let l=(0,m.vU)(N.getState(),e.pathname);if("teamFeed"===l.view){T&&(null==(t=D.plan)?void 0:t.id.toString())===T.id?n(o.$T(l)):f.Ay.redirect(i,E.eD?void 0:"_blank");return}f.Ay.redirect(i,E.eD?void 0:"_blank");return}catch{f.Ay.redirect(i,E.eD?void 0:"_blank")}}}},O=e=>{e.stopPropagation()},x=()=>{w(!0),e.onHide&&e.onHide()},M=(e,t=y)=>p.sr.updateNotification({notification_id:D.notification_id,notification_action:e,currentView:t}),F=(t,n)=>{try{switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:S,buildNotificationActionRequest:M};return i.createElement(b._1,{attachment:t,notification:n,actionBlockCallbacks:l})}case"ClientActionableAttachment":return i.createElement(b.Pl,{attachment:t,notification:n});case"BodyAndThumbnailAttachment":case"BodyAttachment":return i.createElement(b._2,{attachment:t,notification:n,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),x()}};return!_&&i.createElement("div",{className:A?L.Li:L.qd,onClick:i=>{(0,a.sx)("file_browser_notification_clicked",{notification_id:D.notification_id,notification_type:D.notification_type,actionable:"ActionableAttachment"===t._block_type,selectedView:y,plan_filter:e.currentPlanFilter,notification_filter:e.currentNotificationFilter}),O(i);let l=R(D);"ActionableAttachment"!==t._block_type&&M("resolve").then(({data:t})=>{if(l||S(),t.meta.updated_notification_blob){let n=t.meta.updated_notification_blob;e.updateNotificationCallback(n.notification_id,n)}},e=>{n(g.s.error((0,h.t)("user_notification.an_error_occurred_while_clicking_this_notification")))})},onMouseDown:O,onMouseEnter:t=>{k(t,D,()=>{M("resolve",y+"_quickreply").then(({data:t})=>{if(t.meta.updated_notification_blob){let n=t.meta.updated_notification_blob;e.updateNotificationCallback(n.notification_id,n)}})})},onMouseMove:e=>{P(e)}},(0,r.kc)().structured_view_notifications?((t,n)=>{try{var l,a;if(l=n.notification_type,Y.includes(l)&&(null==(a=(0,r.Ay)().user_data)?void 0:a.locale)==="en")switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:S,buildNotificationActionRequest:M};return i.createElement(q,{attachment:t,notification:n,actionBlockCallbacks:l})}case"ClientActionableAttachment":return i.createElement($,{attachment:t,notification:n});case"BodyAndThumbnailAttachment":return i.createElement(j,{attachment:t,notification:n,dontShowPlanIcon:e.dontShowPlanIcon})}else F(t,n)}catch(e){console.error(`Unable to render attachment: ${t}`),x()}})(t,D):F(t,D))||null}},58024:(e,t,n)=>{n.d(t,{aT:()=>E,jy:()=>g,gN:()=>f});var i=n(411855),l=n(109388),a=n(188507),r=n(268537),o=n(574176),c=n(939863),s=n(860178),d=n(771e3);let u="notifs_plan_filter--boldTitle---Yao3",m="notifs_plan_filter--autoTruncate--JBaGp ellipsis--ellipsis--Tjyfa";var _=n(783423),p=n(533600);let E="ALL_PLANS_FILTER";function f(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function g({currentPlanFilter:e,onPlanFilterUpdate:t}){var n;let[g,h]=i.useState(!1),v=(0,i.useRef)(null),C=(0,i.useRef)(null),b=(0,s.iZ)(),w=(0,a.d4)(e=>{var t;return b?null==(t=e.authedUsers.byId[b.id])?void 0:t.plans:null});if(!b||!w||w.length<=1)return i.createElement("span",{className:u},(0,c.t)("user_notification.all_notifications"));let N=w.map(e=>e.plan_id);N.unshift(E);let T=(e,t)=>e===E?(0,c.t)("user_notification.all_notifications"):t[e],y=w.reduce((e,t)=>(e[t.plan_id]=t.name,e),{}),I=(e,n)=>{e.stopPropagation(),t(n),h(!1)},R=N.map(t=>i.createElement(r.W.Option,{key:t,onClick:e=>{I(e,t)}},t===e&&i.createElement(o.B,{svg:p.A}),i.createElement("span",{className:`${t===e?"notifs_plan_filter--planNameChecked--DRs5Z":"notifs_plan_filter--planNameUnchecked--j9H7f"} ${m}`},T(t,y))));return i.createElement("div",{className:"notifs_plan_filter--planFilterContainer--btOEf",ref:v},i.createElement("div",null,i.createElement("button",{ref:C,onClick:()=>{h(!g)},className:"notifs_plan_filter--dropdownButton--sKKXq"},i.createElement("span",{className:[u,m].join(" ")},f(T(e,y),35)),i.createElement(o.B,{svg:_.A,className:"notifs_plan_filter--chevronIcon--WGm81"})),C.current&&g&&i.createElement(d.Cf,{targetRect:null==(n=l.findDOMNode(C.current))?void 0:n.getBoundingClientRect(),type:d.it.DEFAULT,lean:"right",minWidth:120,disableDropdownScrollContainer:!0,closeDropdown:()=>h(!1)},R)))}},706638:(e,t,n)=>{let i;n.d(t,{P:()=>M,v:()=>D});var l=n(411855),a=n(188507),r=n(539321);if(443==n.j)var o=n(395096);var c=n(776250),s=n(358145),d=n(395900),u=n(268537),m=n(493323),_=n(135876),p=n(827586),E=n(32863),f=n(574176),g=n(939863),h=n(738269),v=n(852800),C=n(15859),b=n(318812),w=n(29680),N=n(463592),T=n(103271),y=n(406158),I=n(771e3),R=n(780634);if(443==n.j)var k=n(949207);if(443==n.j)var P=n(156238);if(443==n.j)var A=n(432023);var D=((i=D||{}).LOADED="post-to-feed-view-loaded",i.SELECT_NODE="post-to-feed-select-node",i);function S(e){return l.createElement("div",{className:null!==e.isSelectedIdx?R.El:R.Vs,onClick:e.onClick,role:"button",tabIndex:0,ref:t=>{t&&e.observe(t)},"data-observer-guid":e.node.guid},l.createElement("div",{className:R.h3,style:{backgroundColor:e.backgroundColor}},l.createElement(_.x,{isLoading:!e.thumbnailUrl},()=>l.createElement("img",{className:R.xn,src:e.thumbnailUrl,alt:"",draggable:!1}))),l.createElement("div",{className:R.JO},l.createElement("div",{className:R.qp},e.node.name)),null!==e.isSelectedIdx&&1!==e.totalNumSelected&&l.createElement("div",{className:R.Jx},e.isSelectedIdx+1))}function O(e){let{toggleSelectNode:t}=e,n=(e.pageNode&&(0,r.colorToHex)(e.pageNode.backgroundColor))??"",[i,a]=l.useState(!1),o=l.useCallback(i=>{t(i,{pageId:e.pageNode.guid,pageBackgroundColor:n})},[t,e.pageNode.guid,n]);return l.createElement("div",{className:R.RW},e.showCollapsibleHeader&&l.createElement("div",{className:R.Vr,onClick:()=>a(e=>!e),role:"button",tabIndex:0},i?l.createElement(f.B,{svg:A.A,className:R.Rq}):l.createElement(f.B,{svg:k.A,className:R.Rq}),e.pageNode.name,"\xa0",l.createElement("span",{className:R.Du},"\xb7 ",e.nodes.length)),!i&&l.createElement("div",{className:R.Mc},e.nodes.map(t=>{var i,a,r;let c=(null==(i=e.selectedNodeGuids)?void 0:i.indexOf(t.guid))??null;return l.createElement(S,{key:`node-${t.guid}`,node:t,thumbnailUrl:(null==(a=e.thumbnailByGuid[t.guid])?void 0:a.url)??"",backgroundColor:n,isSelectedIdx:-1===c?null:c,onClick:()=>o(t.guid),totalNumSelected:(null==(r=e.selectedNodeGuids)?void 0:r.length)??null,observe:e.observe})})))}let x="feed-post-page-selector-menu";function M(){let e=l.useCallback((e,t)=>{let n=window.parent;window.self.origin===n.origin&&n&&n.postMessage({type:e,data:t})},[]),t=l.useRef(new d.jk("feed_post_to_file_load",{}));l.useEffect(()=>{t.current.start()},[]);let n=(0,w.aV)(),i=(0,w.eY)(),r=(0,a.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});l.useEffect(()=>{if(!n){t.current.stop();let n=t.current.getElapsedTime();(0,c.sx)("team_feed.post_from_file.file_load",{elapsedMs:n,fileKey:r}),e("post-to-feed-view-loaded",!0)}},[n,e,r]);let _=(0,a.d4)(e=>e.mirror.appModel.pagesList),k=l.useMemo(()=>_.reduce((e,t)=>({...e,[t.nodeId]:i.get(t.nodeId)}),{}),[_,i]),A=(0,a.wA)(),D=l.useMemo(()=>Object.values(k).flatMap(e=>e?e.uiOrderedChildren.map(t=>{let n=i.get(t);return n&&("FRAME"===n.type||"SECTION"===n.type)?{...n,pageId:e.guid,name:null==n?void 0:n.name}:null}).filter(e=>e):[]).filter(e=>null!==e),[k,i]),S=l.useMemo(()=>{let e={};for(let t of D)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[D]),M=l.useMemo(()=>new N.Ef(D,{keys:["name"]}),[D]),[L,F]=l.useState(""),[U,B]=l.useState(null),[W]=(0,o.A)(L,200),H=l.useCallback(e=>{B(M.search(e))},[M]),V=l.useMemo(()=>{if(null===U)return null;let e={};for(let t of U)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[U]);l.useEffect(()=>{""!==W&&H(W)},[W,H]);let G=(0,b.U)(),j=l.useRef(null),[$,q]=l.useState(null);l.useEffect(()=>{if($||!i||!S||0===Object.keys(S).length)return;let e=i.get(Object.keys(S)[0]);e&&q(e)},[$,S,i]);let[z,Q]=l.useState({}),[Y,Z]=l.useState([]),K=(0,s.Z)(Y),X=l.useRef(null),[J,ee]=l.useState([]),et=l.useCallback(e=>{let t=[];e.forEach(e=>{var n;if(e.isIntersecting&&e.target instanceof HTMLElement){let i=null==(n=e.target.dataset)?void 0:n.observerGuid;i&&t.push(i)}}),ee(t)},[]),en=l.useMemo(()=>new IntersectionObserver(et,{threshold:[.25]}),[et]),ei=l.useCallback(e=>{en&&en.observe(e)},[en]),[el,ea]=l.useState({});l.useEffect(()=>{if(0===J.length)return;let e=J.filter(e=>!el[e]);0!==e.length&&(0,C.Jr)().loadAllImagesUnder(e,v.MoD.NON_ANIMATED_ONLY,"feed.postFromFile").then(()=>{e.forEach(e=>{setTimeout(()=>{ea(t=>{if(t[e])return t;let n=(0,y.BO)(e);return{...t,[e]:{url:URL.createObjectURL(new Blob([n])),data:n}}})},0)})})},[J,el]),l.useEffect(()=>{Y!==K&&e("post-to-feed-select-node",Y.map(e=>({guid:e,thumbnail:el[e].data,backgroundColor:z[e]})))},[K,Y,e,el,z]);let er=l.useCallback((e,t)=>{el[e]&&(Q(n=>t.pageBackgroundColor?{...n,[e]:t.pageBackgroundColor}:n),Z(t=>t.includes(e)?t.filter(t=>e!==t):t.length>=T.e3?t:[...t,e]))},[el]);return S&&0===Object.keys(S).length?l.createElement("div",{className:R.se},(0,g.t)("fig_feed.no_top_level_nodes")):$?l.createElement("div",{className:R.kL},l.createElement("div",{className:R.Y},l.createElement(E.IW,{query:L,className:R.ON,onChange:F,clearSearch:()=>{F(""),B(null)},focusOnMount:!1,iconClassName:R.qc,placeholder:(0,g.t)("fig_feed.search_frames")}),""===L&&l.createElement(l.Fragment,null,l.createElement("div",{role:"button",ref:j,onClick:()=>{(null==G?void 0:G.type)===x?A(h.oB()):A(h.j7({type:x}))},tabIndex:0,className:R.YZ},l.createElement("div",null,$.name),l.createElement(f.B,{svg:P.A,width:"8px",autosize:!0})),j.current&&(null==G?void 0:G.type)===x&&l.createElement(I.Cf,{showPoint:!1,targetRect:j.current.getBoundingClientRect(),propagateCloseClick:!0},Object.keys(S).map(e=>l.createElement(u.W.CheckableOption,{key:e,onClick:()=>q(k[e]),checked:$.guid===e},k[e].name))))),l.createElement(p.P,{hideScrollbar:!0,className:R.jG,innerClassName:R.hu,scrollContainerRef:X},""===L&&l.createElement(O,{pageNode:$,nodes:S[$.guid]||[],thumbnailByGuid:el,selectedNodeGuids:Y,toggleSelectNode:er,observe:ei}),""!==L&&(null===V?l.createElement("div",{className:R.Do},l.createElement(m.kt,{size:"large"})):Object.entries(V).length>0?Object.entries(V).map(([e,t])=>l.createElement(O,{key:e,pageNode:k[e],nodes:t,thumbnailByGuid:el,selectedNodeGuids:Y,toggleSelectNode:er,showCollapsibleHeader:!0,observe:ei})):l.createElement("div",{className:R.Lp},l.createElement("div",null,l.createElement(g.Tx,{id:"fig_feed.no_frames_matching",searchQuery:l.createElement(l.Fragment,null,l.createElement("span",{className:R.ZF},L))})))))):null}},984226:(e,t,n)=>{n.d(t,{f:()=>E});var i=n(411855),l=n(96328),a=n(574176),r=n(939863),o=n(547733),c=n(466636),s=n(555328),d=n(498606),u=n(794412),m=n(110354);function _(e){return i.createElement("div",{className:"detail_engagement_row--engagementItem--Kpp0Y","data-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip-show-immediately":e["data-tooltip-show-immediately"]},e.children)}function p(){return i.createElement("div",{className:"detail_engagement_row--engagementDivider--t0laO"})}function E({resource:e}){let t=e.unique_run_count??0,n=(0,s.PM)(e),E=(0,s.zF)(e),f=(()=>{if(n)return i.createElement(o.Cg,{resource:e});if(E)return i.createElement(o.Gb,null);let t=(0,c.Lt)({resource:e,payment:e.community_resource_payment});return e.monetized_resource_metadata&&t?i.createElement(o.sw,{metadata:e.monetized_resource_metadata}):null})(),g=(0,l.$M)(t),h=(0,l.$M)(e.like_count);return i.createElement("div",{className:"detail_engagement_row--detailEngagementRow--JLmtH"},i.createElement(_,{"data-tooltip":(0,r.t)("community.try.people_like_this",{numPeople:e.like_count,numPeopleStr:h}),"data-tooltip-type":d.Ib.TEXT},i.createElement(a.B,{svg:m.A}),h),i.createElement(p,null),i.createElement(_,{"data-tooltip":(0,r.t)("community.try.people_use_this",{numPeople:t,numPeopleStr:g}),"data-tooltip-type":d.Ib.TEXT},i.createElement(a.B,{svg:u.A}),g),!!f&&i.createElement(i.Fragment,null,i.createElement(p,null),i.createElement(_,null,f)))}},33876:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(411855),l=n(188507),a=n(395771),r=n(630949),o=n(809840),c=n(71425),s=n(884484),d=n(17076);function u({localResource:e,publishedResource:t}){let{error:n,localFilePath:l}=e||{},r=(0,s.Pt)(null==n?void 0:n.type,e);if(!e&&t)return i.createElement(_,{resource:t});if(!e||null==l)return null;if(!n)return i.createElement(a.R,{className:d.cV,text:l.replace("/manifest.json","")});if(!r)return null;let{action:c,msg:u,buttonText:p}=r;return i.createElement(i.Fragment,null,i.createElement(o.E,{color:"danger"},u),i.createElement(m,{onClick:c,isError:!0},p))}function m({children:e,onClick:t,isError:n}){return i.createElement("button",{onClick:e=>{e.stopPropagation(),t()},className:r.cx.underline.bgTransparent.with({colorTextDanger:n,colorTextSecondary:!n}).$},e)}function _({resource:e}){let t=(0,l.wA)();return i.createElement("div",{className:d.cV},i.createElement(m,{onClick:()=>{t((0,c.JZ)({resourceType:e.is_widget?"widget":"plugin"}))}},i.createElement(o.E,{i18nId:"universal_insert.locate_local_version_text"})))}},103567:(e,t,n)=>{n.d(t,{JB:()=>p,PE:()=>g,R_:()=>_,WZ:()=>E,e2:()=>f});var i=n(411855),l=n(188507),a=n(768137),r=n(946689),o=n(939863),c=n(175290),s=n(809840),d=n(225266),u=n(215822);function m(e){return{...e.is_widget?{widget_id:e.id}:{plugin_id:e.id},src:d.Nn.INVITE_TILE}}function _(e){let t=(0,l.wA)(),n=m(e);return()=>t((0,d.dx)(n))}function p(e){let t=(0,l.wA)(),n=m(e);return()=>t((0,d.MZ)(n))}function E({resource:e}){let t=_(e),n=p(e);return i.createElement(c.Y,null,i.createElement(a.nR,{onClick:e=>{e.stopPropagation(),n()}},i.createElement(o.Tx,{id:"community.detail_view.decline"})),i.createElement(r.$$,{onClick:e=>{e.stopPropagation(),t()}},i.createElement(o.Tx,{id:"community.detail_view.accept"})))}function f({resource:e}){let t=(0,u.uF)(e),n=e.creator,l=e.is_widget?"widget":"plugin",a=`/community/${l}/${e.id}`;return i.createElement(s.E,null,i.createElement(o.Tx,{id:"universal_insert.invited_you_to_publish",ownerName:i.createElement(s.E,{fontWeight:"bold"},n.handle),resourceName:i.createElement(r.CY,{href:a,onClick:e=>{e.stopPropagation()},target:"_blank",trusted:!0},i.createElement(s.E,{fontWeight:"bold"},t.name))}))}function g({resource:e}){return i.createElement(c.Y,{direction:"vertical"},i.createElement(f,{resource:e}),i.createElement(E,{resource:e}))}},172226:(e,t,n)=>{n.d(t,{ak:()=>U,cH:()=>B,xl:()=>F});var i=n(411855),l=n(188507),a=n(966712),r=n(812115),o=n(268537),c=n(210954),s=n(493323),d=n(827586),u=n(574176),m=n(939863),_=n(71425),p=n(941381),E=n(662275),f=n(672517),g=n(756085),h=n(269167),v=n(170786),C=n(813648),b=n(318812),w=n(737499),N=n(336599),T=n(215822),y=n(288300),I=n(555328),R=n(237870),k=n(96557),P=n(771e3),A=n(984226),D=n(927206),S=n(491815),O=n(16774),x=n(488578),M=n(687348);if(443==n.j)var L=n(270951);function F(e){let t=(0,l.d4)(e=>e.universalInsertModal),n=e.id,_=(0,l.d4)(e=>e.publishedWidgets[n]),R=(0,h.gn)(_),x=(0,l.wA)(),F=Object.values((0,g.yQ)()).find(t=>t.plugin_id===e.id),W=!!(0,g.bh)().find(t=>t.id===e.id)&&!F,H=(0,l.d4)(e=>{var t,n;return null==(n=null==(t=e.dropdownShown)?void 0:t.data)?void 0:n.targetRect}),V=(0,b.U)(),G=(null==V?void 0:V.type)===B&&V.data.widgetId===n,j=(0,S.cX)().currentTab,$=(0,y.V)(j),q=(0,w.Kx)(),z=(null==q?void 0:q.shouldOptimizeForIpadApp)||(0,a.kc)().cmty_m10n_test_apple_os;i.useEffect(()=>{_||x(p.af({id:n,resourceType:I.bD.WIDGET}))},[n,x,_]);let Q=(0,O.b)();if((0,N.oh)(p.af.loadingKeyForPayload({id:n,resourceType:I.bD.WIDGET}))&&!_)return i.createElement(s.kt,{className:M.S});if(!_)return null;let Y=(0,T.uF)(_);return i.createElement(f.fu,{name:"detail",properties:{resourceId:e.id,isMonetized:(0,I.m3)(_),resourceType:I.bD.WIDGET,editorType:"figjam"}},i.createElement(d.P,{height:(0,S.mS)(t.pinned,500,S.s3)},i.createElement("div",{className:M.tJ},R&&i.createElement(D.cu,null),i.createElement("img",{className:e.onInsertableWidgetMouseDown?void 0:M.VM,onMouseDown:t=>{var n;return null==(n=e.onInsertableWidgetMouseDown)?void 0:n.call(e,t,Y)},src:Y.redirect_cover_image_url||"",alt:`${Y.name}`,width:C.gR,height:C.gR/2}),i.createElement("div",{className:M.oQ},i.createElement(A.f,{resource:_})),i.createElement("div",{className:M.h_},i.createElement(r.R,{fallback:null,errorFallback:null,value:Y.description})))),!z&&i.createElement(c.N,{className:M.P0,href:`/community/widget/${n}`,target:"_blank",trusted:!0},i.createElement(u.B,{svg:L.A,className:M.JX}),i.createElement(m.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})),G&&H&&i.createElement(P.Cf,{targetRect:H,lean:"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==F?void 0:F.error)||W?i.createElement(o.W.Option,{onClick:()=>{F&&F.error?x((0,E.to)({type:k.r,data:{error:F.error,dispatch:x,resourceType:I.bD.WIDGET},showModalsBeneath:!0})):x((0,E.to)({type:U,data:{dispatch:x},showModalsBeneath:!0}))}},i.createElement(m.Tx,{id:"whiteboard.inserts.in_development_version_error_dropdown"})):i.createElement(o.W.Option,{onClick:()=>{(0,v.j)({pluginID:Y.plugin_id,widgetName:Y.name,pluginVersionID:"",triggeredFrom:$}),Q()}},i.createElement(m.Tx,{id:"whiteboard.inserts.in_development_version_dropdown"})),i.createElement(o.W.Option,{onClick:()=>{(0,v.j)({pluginID:Y.plugin_id,widgetName:Y.name,pluginVersionID:Y.id,triggeredFrom:$}),Q()}},i.createElement(m.Tx,{id:"whiteboard.inserts.published_version_dropdown"}))))}let U=(0,R.Ju)(function({dispatch:e}){return i.createElement(x.Rw,{confirmationTitle:(0,m.t)("whiteboard.inserts.widget_development_error_modal_title"),content:(0,m.t)("whiteboard.inserts.widget_development_error_modal_description"),onConfirm:()=>{e((0,_.JZ)({resourceType:"widget"})),e(E.Lo())},confirmText:(0,m.t)("whiteboard.inserts.widget_development_import_manifest"),size:"small",disableClickOutsideToHide:!0,hideOnConfirm:!1,cancelText:(0,m.t)("whiteboard.inserts.widget_development_error_modal_close"),hideCancel:!1,popStack:!0})},"FigjamPublishedDevelopmentWidgetErrorModal",R.ZU.YES),B="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU"},632788:(e,t,n)=>{n.d(t,{EJ:()=>x,Gq:()=>S,NR:()=>P,T9:()=>L,_n:()=>O,lD:()=>F,ms:()=>U,yW:()=>M});var i=n(411855),l=n(188507),a=n(517333),r=n(966712),o=n(268537),c=n(939863),s=n(71425),d=n(970516),u=n(662275),m=n(884484),_=n(756085),p=n(170786),E=n(813648),f=n(318812),g=n(694687),h=n(215822),v=n(555328),C=n(376485),b=n(18993),w=n(756689),N=n(96557),T=n(350913),y=n(507956),I=n(206074),R=n(771e3),k=n(172226);function P(e){let t=(0,l.wA)(),n=(0,_.ZT)()[e.widgetId],r=(0,h.uF)(n),s=(0,_.WK)(e.widgetId),d=(0,_.Ud)(e.widgetId),m=a.eD&&!!d&&!s;return i.createElement(R.Cf,{targetRect:e.targetRect,lean:e.lean||"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==s?void 0:s.error)||m?i.createElement(o.W.Option,{onClick:()=>{s&&s.error?t((0,u.to)({type:N.r,data:{error:s.error,dispatch:t,resourceType:v.bD.WIDGET},showModalsBeneath:!0})):t((0,u.to)({type:k.ak,data:{dispatch:t},showModalsBeneath:!0}))}},"\u26A0 ",i.createElement(c.Tx,{id:"universal_insert.in_development_version"})):i.createElement(o.W.Option,{onClick:()=>{(0,p.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:"",triggeredFrom:"universal-insert"})}},i.createElement(c.Tx,{id:"universal_insert.in_development_version"})),i.createElement(o.W.Option,{onClick:()=>{(0,p.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:r.id,triggeredFrom:"universal-insert"})}},i.createElement(c.Tx,{id:"universal_insert.published_version"})))}function A({pluginId:e,preferences:t}){let{pinnedPlugins:n,pinPlugin:i,unpinPlugin:l}=t;return n.find(t=>t.plugin_id===e)?{displayText:(0,c.t)("dev_handoff.inspect_panel.unpin"),callback:()=>{l(e)}}:{displayText:(0,c.t)("dev_handoff.inspect_panel.pin"),callback:()=>{i(e)}}}function D({plugin:e}){let{callback:t,isPluginSetToAutoRun:n}=(0,b.bE)(e??null);return(0,b.aY)(e)&&(0,r.kc)().dev_mode_auto_run_plugin?{displayText:(0,c.t)("dev_handoff.inspect_panel.auto_run"),callback:t,isChecked:n}:null}function S(e){let t=(0,l.wA)(),n=(0,f.U)(),a=(0,y.ks)(),r=(0,w.VR)(),o=(0,g.sZ)(),s=(0,_.ll)(),u=D({plugin:e.plugin}),m=i.useCallback(()=>{t(d.S({url:e.resourceType===v.vt.PLUGIN?(0,T.ab)(e.resourceId):(0,T.ox)(e.resourceId)}))},[t,e.resourceType,e.resourceId]),p=[];return(e.resourceType===v.vt.PLUGIN&&((0,h.Th)(e.plugin,o,s)&&r.loaded&&p.push(A({pluginId:e.plugin.plugin_id,preferences:r})),u&&p.push(u)),p.push({displayText:(0,c.t)("universal_insert.copy_link"),callback:m}),n)?a?i.createElement(U,{parentRect:null==n?void 0:n.data.targetRect,items:p,autoHeight:!0,minWidth:u?220:void 0}):i.createElement(U,{parentRect:null==n?void 0:n.data.targetRect,lean:"left",minWidth:64,items:p}):null}let O="DROPDOWN_TYPE_SAVED_AND_RECENT_ACTIONS_DROPDOWN";function x(e){let t=(0,f.U)(),n=(0,w.VR)(),l=(0,y.ks)(),a=(0,g.sZ)(),r=(0,_.ll)(),o=D({plugin:e.plugin}),s=[];return(s.push({displayText:(0,c.t)("universal_insert.view_details"),callback:e.viewResource}),l&&((0,h.Th)(e.plugin,a,r)&&n.loaded&&s.push(A({pluginId:e.plugin.plugin_id,preferences:n})),o&&s.push(o)),t)?l?i.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:s,autoHeight:!0}):i.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:s}):null}let M="DROPDOWN_TYPE_PLUGIN_USER_OPTIONS_DROPDOWN";function L(e){var t;if(!e.localResource&&!e.publishedResource)throw Error("Either localResource or publishedResource is required");let n=(0,y.ks)(),a=(0,l.wA)(),r=(0,f.U)(),o=Object.values((0,_.$1)()).find(t=>{var n;return t.plugin_id===(null==(n=e.publishedResource)?void 0:n.id)}),d=(0,w.VR)(),u=D({plugin:e.publishedResource?(0,h.uF)(e.publishedResource):null}),p=e.localResource||o,g=(0,_.B7)(p?p.plugin_id:e.publishedResource.id),v=(0,_.Ud)(p?p.plugin_id:e.publishedResource.id),b=e.publishedResource||g||v,N=!!(null==b?void 0:b.versions[b.current_plugin_version_id]),T=b?b.is_widget:null==p?void 0:p.manifest.containsWidget,I=(0,E.LR)(),R=(0,m.NV)(p,b),k=(0,m.OX)(b),P=(0,m.x2)(p,b,I),S=(0,m.qu)(p),O=(0,m.qi)(N,()=>{p&&a(s.qR(null==p?void 0:p.localFileId))});if(!r||!r.data.targetRect)return null;let x=[];(p&&!p.error||b)&&x.push(R),N&&e.viewResource&&x.push({displayText:(0,c.t)("universal_insert.view_details"),callback:e.viewResource}),N&&x.push(P),p&&(null==(t=p.error)?void 0:t.type)!==C.ho.LOAD&&x.push(S),p||x.push({displayText:(0,c.t)("universal_insert.locate_local_version"),callback:()=>{(0,s.JZ)({resourceType:T?"widget":"plugin"})}});let M=[];b&&N&&d.loaded&&n&&M.push(A({pluginId:b.id,preferences:d})),N&&u&&M.push(u);let L=[];p&&L.push(O),k&&L.push(k);let F=x.some(Boolean)&&(L.some(Boolean)||M.some(Boolean))&&{displayText:"",separator:!0},B=L.some(Boolean)&&M.some(Boolean)&&{displayText:"",separator:!0};return i.createElement(U,{parentRect:r.data.targetRect,lean:"left",minWidth:u?220:120,rootAndSubmenuMaxWidth:u?void 0:190,disableDropdownScrollContainer:!0,hidePointWhenContentOffScreen:!0,dataTestId:"developmentResourceOptionDropdown",items:[...x,F,...M,B,...L].filter(e=>!!e)})}let F="DROPDOWN_TYPE_DEVELOPMENT_RESOURCE_OPTIONS_DROPDOWN";function U(e){let t=(0,l.wA)();return i.createElement(I.j,{...e,dispatch:t,showPoint:!0,type:R.it.DEFAULT,onSelectItem:e=>{e.callback&&e.callback("",null,t)}})}},636967:(e,t,n)=>{let i;n.d(t,{X8:()=>O,$c:()=>D});var l=n(411855),a=n(188507),r=n(629019),o=n.n(r),c=n(860601),s=n(313496),d=n(574176),u=n(630949),m=n(939863),_=n(67294),p=n(134279),E=n(896474),f=n(809840),g=n(738269),h=n(119198),v=n(672517),C=n(988022),b=n(860178),w=n(99506),N=n(741477),T=n(984968),y=n(945020),I=n(851363),R=n(206074),k=n(771e3),P=n(873327),A=n(875531),D=((i=D||{}).DESIGN="FILE_CREATION_DROPDOWN_DESIGN",i.WHITEBOARD="FILE_CREATION_DROPDOWN_WHITEBOARD",i.DESKTOP_NEW_TAB="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB",i);let S={FILE_CREATION_DROPDOWN_DESIGN:"file_creation_dropdown--newDesignFileDropdown--6yoKF file_creation_dropdown--newFileToolbarDropdown--7cOhM",FILE_CREATION_DROPDOWN_WHITEBOARD:"file_creation_dropdown--newWhiteboardFileDropdown--mIejm file_creation_dropdown--newFileToolbarDropdown--7cOhM",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"file_creation_dropdown--newFileDropdown--lq76d file_creation_dropdown--newFileToolbarDropdown--7cOhM"};function O({buttonText:e,dataTestId:t,dropdownType:n,teamsWithEditableProjects:i,hideOnDesktop:r,hideOnMobile:d,onSelectOverride:_}){var p;let E=(0,a.wA)(),f=[{displayText:(0,m.t)("file_browser.tool_bar.file_creation_dropdown_display_text"),preventDismissOnSelected:!0,render:()=>l.createElement(x,{teamsWithEditableProjects:i,dropdownType:n,onSelectOverride:_,dispatch:E})}],h=(0,a.d4)((0,N.E)(n)),C=l.useRef(null),b=S[n],w="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB"===n;return l.createElement(l.Fragment,null,l.createElement(s.g,{buttonClassName:o()(u.cx.flex.itemsCenter.justifyCenter.$,"file_creation_dropdown--newFileToolbarDropdown--7cOhM",b,{"file_creation_dropdown--hideOnDesktop--Wz3cb":r,"file_creation_dropdown--hideOnMobile--dDtxr":d}),dataTestId:t,isShowingDropdown:!1,isOnBrandColor:!w,onClick:()=>{h||E(g.j7({type:n}))},ref:C},e),C.current&&h&&l.createElement(v.fu,{name:"File Creation Dropdown Display",properties:{fileCreationDefaultsDropdownType:n}},l.createElement("div",{className:u.cx.if(!w,u.cx.fixed).$},l.createElement(R.j,{showPoint:!0,lean:"center",type:k.it.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:224,minWidth:224,autoHeight:!0,onSelectItem:c.lQ,hidePointWhenContentOffScreen:!0,items:f,parentRect:null==(p=C.current)?void 0:p.getBoundingClientRect(),dispatch:E}))))}function x({teamsWithEditableProjects:e,dropdownType:t,onSelectOverride:n,dispatch:i}){let a=(0,P.Bq)(),r=(0,b.TA)(),[o,c]=l.useState(!1),s=(e,n)=>{i(g.oB()),i(h.zE({state:a,editorType:M[t],team:e?(0,I.Z_)(e):void 0,folderId:n,from:y.f6.FILE_BROWSER_TOPBAR_RECENTS,openNewFileIn:y.ai.SAME_TAB,callback:e=>{(0,C.Cu)({userId:r,fileKey:e},L[t])},inFileCreationDefaultsExp:!0}))},v=l.useMemo(()=>o?e:e.slice(0,3),[o,e]);return l.createElement(l.Fragment,null,l.createElement("div",{className:"file_creation_dropdown--dropdownHeader--7xo8- text--fontPos11--2LvXf text--_fontBase--QdLsd"},"FILE_CREATION_DROPDOWN_DESIGN"===t?l.createElement(m.Tx,{id:"file_browser.tool_bar.create_new_design_file_in"}):"FILE_CREATION_DROPDOWN_WHITEBOARD"===t?l.createElement(m.Tx,{id:"file_browser.tool_bar.create_new_figjam_board_in"}):l.createElement(m.Tx,{id:"desktop_new_tab.create_new_file_in"})),v.map(e=>{if(e.projects&&e.projects[0]){let a=e.projects[0],r=(0,I.Z_)(e),o=(0,T.rR)(r,{type:T.sK.ADD_FIGJAM_FILE}),c=(0,T.rR)(r,{type:T.sK.ADD_DESIGN_FILE}),d="FILE_CREATION_DROPDOWN_DESIGN"===t?!c:"FILE_CREATION_DROPDOWN_WHITEBOARD"===t&&!o,m=n?()=>{n({team:e,project:a}),i(g.oB())}:()=>s(e,a.id);return l.createElement(F,{key:e.id,dropdownType:t,folderId:e.projects[0].id,icon:l.createElement("div",{className:u.cx.h16.w16.flex.itemsCenter.justifyCenter.$},l.createElement(_.nl,{size:{imgSize:_.Pf.SMALL,fallbackSize:_.Pf.XSMALL},fallbackDisplay:p.U.HIDDEN,team:{id:e.id}})),text:l.createElement(f.E,{truncate:!0},e.name," / ",e.projects[0].path),onClick:m,isRestricted:d})}}),!o&&e.length>3&&l.createElement("div",{className:"file_creation_dropdown--seeMoreProjects--8dwNL"},l.createElement(F,{dropdownType:t,icon:l.createElement(d.B,{svg:A.A}),text:l.createElement(m.Tx,{id:"file_browser.tool_bar.see_all_editable_projects",numberOfEditableProjects:e.length}),onClick:()=>c(!o)})),l.createElement("div",{className:"file_creation_dropdown--horizontalDivider--orhs0"}),l.createElement("div",null,l.createElement(F,{dropdownType:t,icon:l.createElement(E.In,{icon:"page-16"}),text:l.createElement(f.E,{i18nId:"sidebar.drafts",truncate:!0}),onClick:n?()=>{n(null),i(g.oB())}:()=>s()})))}let M={FILE_CREATION_DROPDOWN_DESIGN:w._Y.DESIGN,FILE_CREATION_DROPDOWN_WHITEBOARD:w._Y.WHITEBOARD,FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:w._Y.DESIGN},L={FILE_CREATION_DROPDOWN_DESIGN:"toolbar_design_created",FILE_CREATION_DROPDOWN_WHITEBOARD:"toolbar_figjam_created",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"toolbar_file_created"};function F({icon:e,text:t,onClick:n,isRestricted:i}){return l.createElement("div",{role:"link",className:"file_creation_dropdown--projectCreationListOption--8eCLi",tabIndex:0,onClick:n},l.createElement("div",{className:u.cx.flex.flexRow.wFull.overflowHidden.$},l.createElement("div",{className:u.cx.flex.itemsCenter.flexRow.gap12.wFull.overflowHidden.$},l.createElement("div",{className:u.cx.flex.w16.h16.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},e),l.createElement("p",{className:u.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},t))),i&&l.createElement(E.In,{icon:"info-32"}))}},313496:(e,t,n)=>{n.d(t,{g:()=>s});var i=n(411855),l=n(629019),a=n.n(l),r=n(574176),o=n(630949),c=n(783423);let s=i.forwardRef((e,t)=>{let n=o.cx.h16.w16.ml1.flex.justifyCenter.itemsCenter.with({colorIconOnbrand:e.isOnBrandColor,colorIcon:!e.isOnBrandColor}).$;return i.createElement("button",{className:a()("dropdown_button--button--BR3bZ",e.buttonClassName,{"dropdown_button--active--ZkglI":e.isShowingDropdown}),onClick:e.onClick,ref:t,"data-testid":e.dataTestId,"aria-label":e["aria-label"]},e.children,i.createElement(r.B,{svg:c.A,className:n}))})},395771:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(411855),l=n(498606);class a extends i.PureComponent{constructor(){super(...arguments),this.textContainerRef=i.createRef(),this.getFittingText=()=>{if(!this.textContainerRef.current)return null;let e=this.textContainerRef.current,t=e.getBoundingClientRect().width,{text:n}=this.props,i=document.createElement("p");if(i.className=this.props.className||"",i.setAttribute("style",`
      display: inline;
      white-space: nowrap;
    `),e.appendChild(i),i.innerText=n,i.getBoundingClientRect().width<=t)return e.removeChild(i),n;let l="";for(let e=0;e<n.length;e+=1){let a=`...${n.slice(n.length-e)}`;i.innerText=a;let{width:r}=i.getBoundingClientRect();if(r>t)break;l=a}return e.removeChild(i),l}}componentDidMount(){this.forceUpdate()}render(){let e=this.getFittingText();return i.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"},"data-tooltip-type":this.props.text!==e?l.Ib.TEXT:void 0,"data-tooltip":this.props.text!==e?this.props.text:void 0,"aria-label":this.props.text},i.createElement("p",{className:this.props.className},e))}}a.displayName="FrontTruncatedText"},457215:(e,t,n)=>{n.d(t,{To:()=>o,hK:()=>r});var i=n(939863);function l(){return[{text:(0,i.t)("help_widget.collective_upsells.fullscreen.unlimited_creation"),id:"unlimited_creation"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.shared_design_systems"),id:"shared_design_systems"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.advanced_prototyping"),id:"advanced_prototyping"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.enhanced_privacy"),id:"enhanced_privacy"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.decision_making_tools"),id:"decision_making_tools"}]}function a(){return{unlimited_creation:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.description"),imgSrc:"https://static.figma.com/uploads/c342f4d4d591928504af7cfabbb30556617d9acb",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#Projects",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.description"),imgSrc:"https://static.figma.com/uploads/fd06e0abcc52d324ff782bcfce9c21844ab0a946",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#files",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.description"),imgSrc:"https://static.figma.com/uploads/f2009c194bd4ada5fcef6c54ea0063d7daa3627f",url:"https://help.figma.com/hc/articles/15300412458647-Explore-FigJam-files",loadingColor:"var(--color-bg-component-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.description"),imgSrc:"https://static.figma.com/uploads/68ef770df03dec9fa3e69f2b40df9eec6d4e6166",url:"https://help.figma.com/hc/articles/360038006754-View-a-file-s-version-history",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.description"),imgSrc:"https://static.figma.com/uploads/91999ee4abb04a50873c16d23383f724e24b13ed",url:"https://help.figma.com/hc/articles/360038511293-Create-and-manage-pages",loadingColor:"var(--color-bg-brand-tertiary)"}],shared_design_systems:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.description"),imgSrc:"https://static.figma.com/uploads/a645a186fea60ff15fd9e1878bd52ceaae425a57",url:"https://help.figma.com/hc/articles/360025508373-Publish-a-library",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.description"),imgSrc:"https://static.figma.com/uploads/1c2427045d0b2ce56265271afb85de51b7742364",url:"https://help.figma.com/hc/articles/15343816063383-Modes-for-variables",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.description"),imgSrc:"https://static.figma.com/uploads/13ec0b16486b7a7882491385ef8dff27b4046be7",url:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",loadingColor:"var(--color-bg-warning-tertiary)"}],advanced_prototyping:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.description"),imgSrc:"https://static.figma.com/uploads/8aaf35d51fab3b28f40abbc1cca114bad73c6104",url:"https://help.figma.com/hc/articles/15253194385943-Use-expressions-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.description"),imgSrc:"https://static.figma.com/uploads/d70fae15738cd8f3e03df3997823c315ef4e9d9b",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRHGN8K801ZZCPV99FA",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.description"),imgSrc:"https://static.figma.com/uploads/eed92994038b1d31ae0a6b55518a5f93bb8494c6",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRG38YKPARR7J436DTG",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.description"),imgSrc:"https://static.figma.com/uploads/72d301c7668fe485cfb7bb82e2a2e6d7cdcbaf82",url:"https://help.figma.com/hc/articles/8878274530455-Use-videos-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"}],enhanced_privacy:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.description"),imgSrc:"https://static.figma.com/uploads/f0f0b3f8cdca6efd146423bd62bd6d28938bde97",url:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.description"),imgSrc:"https://static.figma.com/uploads/373e72d04adfa59a21741a98e48dcbcbf706cd34",url:"https://help.figma.com/hc/articles/13839214115607-Professional-plan-permissions#projects",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.description"),imgSrc:"https://static.figma.com/uploads/abfb7962b2a669d9bddbc39ef9ce2f11d858fcc7",url:"https://help.figma.com/hc/articles/360040531773",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.description"),imgSrc:"https://static.figma.com/uploads/a093bcd98a4261ab49ea734a6d6284cfc4ace6b9",url:"https://help.figma.com/hc/articles/10250387712407-Transfer-a-project-or-team-to-a-different-company",loadingColor:"var(--ramp-pink-100-light)"}],decision_making_tools:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.description"),imgSrc:"https://static.figma.com/uploads/42dacd2ef787d922ed8a0ab58dcfe3e57df42eb0",url:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.description"),imgSrc:"https://static.figma.com/uploads/9c0d1a0fdad559ef908062c6cbfa4703859b882e",url:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.description"),imgSrc:"https://static.figma.com/uploads/7b5794979bea63a4b3588a8da1ce3ebc94ee9dfc",url:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session",loadingColor:"var(--ramp-pale_blue-200-light)"}]}}function r(){return{panelTabs:l(),contents:a(),panelTitle:(0,i.t)("help_widget.collective_upsells.fullscreen.panel_tab_header"),contentTitle:(0,i.t)("help_widget.collective_upsells.fullscreen.content_title"),ctaPrimaryText:(0,i.t)("help_widget.collective_upsells.fullscreen.upgrade_btn")}}function o(){return{panelTabs:l(),contents:a(),panelTitle:(0,i.t)("pro_onboarding.pro_feature_modal.as_a_professional_team_you_get"),ctaPrimaryText:(0,i.t)("pro_onboarding.pro_feature_modal.got_it")}}},476932:(e,t,n)=>{let i;n.d(t,{n:()=>T,I:()=>C});var l=n(411855),a=n(188507),r=n(629019),o=n.n(r),c=n(711117),s=n(799569),d=n(630949),u=n(175290),m=n(553015),_=n(809840),p=n(101505),E=n(672517),f=n(820113),g=n(622139),h=n(205371),v=n(488578),C=((i=C||{})[i.SMALL=0]="SMALL",i[i.LARGE=1]="LARGE",i);function b({headerText:e,descriptionText:t,imgSrc:n,loadingColor:i}){return l.createElement(u.Y,{direction:"vertical",verticalAlignItems:"start",strokeColor:"default",strokeWidth:1,cornerRadius:6,spacing:0,height:"fill-parent"},l.createElement(l.Suspense,{fallback:l.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardPlaceholder--j3U6P",style:{backgroundColor:i}})},l.createElement("img",{alt:e,className:"fullscreen_help_upsells_modal_base--cardImage--HNMiP",src:n,width:189,height:146})),l.createElement("div",{className:d.cx.p12.pl10.pr10.flex.flexColumn.gap2.$},l.createElement(_.E,{fontSize:13,fontWeight:"medium",color:"default"},e),l.createElement("div",{className:d.cx.minH32.$},l.createElement(_.E,{fontSize:11,color:"secondary"},t))))}function w({isClickable:e,url:t,...n}){return e&&void 0!==t?l.createElement(E.L0,{href:t,target:"_blank",className:"fullscreen_help_upsells_modal_base--clickableCard--056mH",trackingProperties:{card:n.headerText}},l.createElement(b,{...n})):l.createElement(b,{...n})}function N(){let e=(0,f.LN)(),t=new f.vr(e);return l.createElement(u.Y,{padding:14,direction:"vertical",verticalAlignItems:"end"},l.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainer--XWuz1"},l.createElement("div",{className:d.cx.wHalf.flex.flexColumn.gap8.$},l.createElement(_.E,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figma_design",color:"design",fontSize:11,fontWeight:"semi-bold"}),l.createElement(_.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,h.ok)(g.tY.ANNUAL,e)))),l.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainerDivider--zsPMB"}),l.createElement("div",{className:d.cx.wHalf.flex.flexColumn.gap8.$},l.createElement(_.E,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figjam",color:"figjam",fontSize:11,fontWeight:"semi-bold"}),l.createElement(_.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,h.hH)(g.tY.ANNUAL,e))))),l.createElement("div",{className:d.cx.p4.pt0.$},l.createElement(_.E,{i18nId:"help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename",color:"secondary",fontSize:11})))}function T({panelTabs:e,panelTitle:t,modalProps:n,contentTitle:i,contents:r,ctaPrimaryText:f,clickPrimaryBtn:g,secondaryBtn:h,dismissModal:C,showPricing:b=!0,panelTitleSize:T=0,cardsClickable:y}){let[I,R]=(0,l.useState)(e[0].id),k=(0,a.wA)(),P=1===T?l.createElement("div",{className:d.cx.p16.pt14.pb36.$},l.createElement(_.E,{fontSize:18,fontWeight:"semi-bold"},t)):l.createElement("div",{className:d.cx.p16.pt14.pb4.$},l.createElement(_.E,{fontSize:13,color:"secondary"},t)),A=e.map(e=>l.createElement(E.jm,{role:"button",tabIndex:0,key:e.id,className:o()("fullscreen_help_upsells_modal_base--panelTabs--WjAUp",I===e.id&&"fullscreen_help_upsells_modal_base--panelTabsActive--cM4NL"),onClick:()=>{R(e.id)},trackingProperties:{tab:e.id,prevTab:I}},l.createElement(_.E,{fontSize:13},e.text))),D=r[I].map((e,t)=>l.createElement(w,{key:I+e.headerText+t,isClickable:y,...e}));return l.createElement(E.fu,{name:"FullscreenHelpUpsellsModalBase"},l.createElement(v.Nb,{size:900,className:"fullscreen_help_upsells_modal_base--largeModal--8j2D0",...n,hide:C},l.createElement(c.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},l.createElement(u.Y,{verticalAlignItems:"start",height:604,spacing:0},l.createElement(u.Y,{direction:"vertical",width:230,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},l.createElement(u.M,{minSize:16}),l.createElement(u.Y,{direction:"vertical",height:"fill-parent",spacing:0},t&&P,A),b&&l.createElement(N,null)),l.createElement(u.Y,{direction:"vertical",height:"fill-parent",spacing:0},l.createElement("div",{className:d.cx.pl32.pt24.pb20.$},i&&l.createElement(_.E,{fontSize:20,fontWeight:"semi-bold"},i),l.createElement(s.s_,{customStyle:{right:"8px",top:"8px"},dispatch:k,onClose:C,trackingProperties:{trackingDescriptor:p.c.CLOSE}})),l.createElement("div",{className:d.cx.wFull.hFull.overflowAuto.$},l.createElement("div",{className:d.cx.pl32.pb24.$},l.createElement(u.Y,{spacing:16,verticalAlignItems:"start",direction:"vertical"},l.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardGrid--Yss71"},D)))),l.createElement(u.Y,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},h,l.createElement(m.V,{variant:"primary",onClick:g},f)))))))}},112967:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(411855),l=n(629019),a=n.n(l),r=n(30637),o=n(630949);function c(e){let t=i.useRef(null),n=i.useRef(null);i.useEffect(()=>{if(t.current&&!n.current&&!(0,r.Lg)()){let i=document.getElementById(e.loadingElementId);n.current=i.cloneNode(!0)??null,t.current.appendChild(n.current)}},[e.loadingElementId,t]);let l={animationDelay:`${e.delay??0}ms`};return i.createElement(i.Fragment,null,i.createElement("div",{ref:t,className:a()(e.loadingElementClassName,o.cx.eventsNone.absolute.top0.left0.right0.bottom0.overflowHidden.opacity1.$,{"loading_page--fadeOut--Ho-om":e.loaded}),style:l}),e.loaded&&e.children)}}}]);

//# debugId=16947444-5e1f-566f-9b81-7d82ba3002ed

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/59edcf80d2b9f7fd441113766edde5a49faad2b8/187-1d7450dffa6607bb.min.js.map