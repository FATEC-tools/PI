"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e209af6c-0b93-55c9-b3b5-f1fce1466b56")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8044],{821150:(e,t,n)=>{n.d(t,{$9:()=>s,BZ:()=>i,Gv:()=>p,Lq:()=>I,PE:()=>r,Pj:()=>g,SI:()=>m,_Z:()=>a,hj:()=>v,ig:()=>d,mj:()=>u,ow:()=>l,s1:()=>y,uO:()=>o,vL:()=>c});let i="styles_properties_form--styleNameAndDescriptionContainer--L2pn-",l="styles_properties_form--styleDescriptionLabel--ErQ6b",r="styles_properties_form--styleDescriptionContainer--NtXrJ",a="styles_properties_form--textInput--rWj8- raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",o="styles_properties_form--expandingTextInput--E7usn",s="styles_properties_form--textPreviewContainer---jjb4 styles_properties_form--previewContainer--SH1Yk",d="styles_properties_form--gridAndEffectPreviewContainer--9q2FM styles_properties_form--previewContainer--SH1Yk",u="styles_properties_form--loadedFillPreviewContainer--36WiC styles_properties_form--fillPreviewSize--GiUdz",c="styles_properties_form--loadingFillPreviewContainer--WPdS6 styles_properties_form--fillPreviewSize--GiUdz",p="styles_properties_form--stylePreview--tJF78",g="styles_properties_form--textStylePreview--Jp6WQ",m="styles_properties_form--textStylePreviewInverted--GeC3b",v="styles_properties_form--fillStylePreview--xOVAg styles_properties_form--fillPreviewSize--GiUdz",I="styles_properties_form--loading--0A0hy",y="styles_properties_form--isLoaded--2czdf"},708071:(e,t,n)=>{n.d(t,{H:()=>i});let i=n(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},792199:(e,t,n)=>{n.d(t,{n:()=>y});var i=n(776250),l=n(395900),r=n(27087),a=n(939863),o=n(582064),s=n(392592),d=n(580857),u=n(357611),c=n(971120),p=n(508567),g=n(566083),m=n(709495);let v=e=>e===c.L.BrowseResourceTypes.FILES?"/api/feed/files":e===c.L.BrowseResourceTypes.PLUGINS?"/api/feed/plugins":e===c.L.BrowseResourceTypes.WIDGETS?"/api/feed/widgets":"/api/feed/mixed",I="community_search_duration";function y(){let e={editor_type:u.k.Editors.ALL,following:!1,price:g.C.ALL,tags:[],pagination:null,sort_by:"popular",query:"",category:null,creators:d.Z.ALL,capability_type:void 0};function t(e,t,n,i){let l={sort_by:n.sort_by,editor_type:n.editor_type,query:n.query,price:n.price,creators:n.creators,session_id:e,query_id:t,resource_type:i.resourceType},{limit:r,isPreview:a}=i;return r&&!isNaN(r)&&(l.max_num_results=r),a&&(l.limit_associations=!0),p.$W.getCommunityResources(l)}let n={sort:t=>(e.sort_by=t,n),filter:t=>(t.sort_by&&(e.sort_by=t.sort_by||m.e.Shared.POPULAR),"editor_type"in t&&t.editor_type&&(e.editor_type=t.editor_type),"following"in t&&t.following&&(e.following=t.following),"price"in t&&t.price&&(e.price=t.price),"creators"in t&&t.creators&&(e.creators=t.creators),"tags"in t&&t.tags&&(e.tags=t.tags),"pagination"in t&&t.pagination&&(e.pagination=t.pagination),"category"in t&&t.category&&(e.category=t.category),"capability_type"in t&&t.capability_type&&(e.capability_type=t.capability_type),"query"in t&&t.query&&(e.query=t.query),n),browse:function(t,n){let i=v(t),l=function(e){let t={sort_by:e.sort_by,tags:e.tags,pagination:e.pagination,editor_type:e.editor_type||u.k.Editors.ALL,category:e.category,price:e.price,creators:e.creators};return e.following&&(t.following=e.following),e.price&&(t.price=e.price),e.editor_type&&(t.editor_type=e.editor_type),e.creators&&(t.creators=e.creators),e.capability_type&&(t.capability_type=e.capability_type),t}(e);return i+=`?${new URLSearchParams(l).toString()}&include_tags=true&include_versions=true`,n&&(i+=`&page_size=${n}`),(0,r.k9)(i)},searchResourcesAndProfiles:n=>(r,d)=>{var u;let c=new l.jk(I,{});c.start();let g=(null==(u=d().search)?void 0:u.sessionId)||"unattributed",m=(0,o.M)();return Promise.all([t(g,m,e,n),function(e,t,n,i){let{profileLimit:l}=i,r={query:n.query,sessionId:e,queryId:t,maxNumResults:l||50};return p.$W.getHubProfiles(r)}(g,m,e,n)]).then(t=>{"unattributed"!==g&&r(o.N.incrementQueryCount());let l=c.stop();return(0,i.sx)(I,{elapsedMs:l,resourceResultCount:t[0].data.meta.results.length,profileResultCount:t[1].data.meta.results.length,query:e.query,isPreview:!!n.isPreview},{forwardToDatadog:!0}),t}).catch(e=>(r(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))},searchResources:(n={resourceType:"mixed"})=>(i,l)=>{var r;let d=(null==(r=l().search)?void 0:r.sessionId)||"unattributed";return t(d,(0,o.M)(),e,n).then(e=>("unattributed"!==d&&i(o.N.incrementQueryCount()),e)).catch(e=>(i(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))}};return n}},543949:(e,t,n)=>{n.d(t,{Ko:()=>w,aM:()=>_,iO:()=>f});var i=n(411855),l=n(38580);if(443==n.j)var r=n(646240);var a=n(939863),o=n(164185),s=n(251960),d=n(849291),u=n(852800),c=n(843495),p=n(813648),g=n(254527),m=n(397065),v=n(76158),I=n(746806),y=n(463546),E=n(970332);let _=(0,l.eU)(!1),w=(0,l.eU)(!1);function f(e){let t=(0,p.LR)(),n=(0,r.Xr)(w),l=(0,r.Xr)(_),{uniqueId:f}=(0,d.e)({overlay:y.aM2,priority:m.N.OVERRIDING_MODAL});return(0,s.E)(f,"CTA Clicked",t=>{var n;(null==(n=null==t?void 0:t.properties)?void 0:n.trackingContext)==="Editor > universal-insert > plugin > Recents and saved > From Community"&&e.onNext()}),(0,s.E)(f,g.Wo,()=>{e.onNext()}),i.useEffect(()=>(n(!0),l(!0),()=>{l(!1)}),[n,l]),i.useEffect(()=>{(0,c.wr)(),u.glU.triggerAction("component-insert",null),(0,o.s)({initialX:0,initialY:0,initialFdResourceTab:v.s.PLUGIN})},[]),i.createElement("div",{"data-testid":"tooltips-plus-plugins-step","data-does-not-dismiss-modal":!0},i.createElement(E.VF,{dismissModal:()=>{e.onClose(),t()},disableHighlight:!0,hideCloseButton:e.hideCloseButton,targetKey:"community_feed_header",title:i.createElement(a.Tx,{id:"tooltips_plus_onboarding.plugin_step.title"}),trackingContextName:"Tooltips+ Plugin Step",lowerLeftText:i.createElement(E.uY,{currentStepNum:e.currentStepNum,totalNumSteps:e.totalNumSteps,useLoadingBar:e.useLoadingBar}),onPrimaryCtaClick:()=>{e.onNext(),t()},onSecondaryCtaClick:()=>{e.onPrevious(),t()},pointsTo:"designPanel",arrowPosition:I.F_.LEFT_TITLE},i.createElement(a.Tx,{id:"tooltips_plus_onboarding.plugin_step.text"})))}},552993:(e,t,n)=>{let i;n.d(t,{_W:()=>g,nN:()=>p});var l=n(411855),r=n(629019),a=n.n(r),o=n(939863),s=n(203008),d=n(498606),u=n(583718),c=n(179494),p=((i=p||{}).DETAIL="detail",i.TILE="title",i.FIGJAM_PLUGIN_ROW="figjam_plugin_row",i);function g(e){let{isSavedForUser:t,save:n,unsave:i}=(0,u.QK)(e.resourceId,e.resourceType);return l.createElement(m,{onClick:e=>{t?i():n(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function m(e){let t="title"===e.parentView?a()(c.YB,{[c.Xb]:!e.isSaved,[c.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?a()([c.k7,c._P],{[c.Xb]:!e.isSaved,[c.ez]:e.isSaved}):c.k7,{SaveIcon:n,SaveIconFilled:i}=l.useMemo(()=>"title"===e.parentView?{SaveIcon:s.TI,SaveIconFilled:s.rc}:{SaveIcon:s.Jv,SaveIconFilled:s.$O},[e.parentView]);return l.createElement("button",{className:t,onClick:e.onClick,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e.isSaved?(0,o.t)("community.saves.remove_from_saves"):(0,o.t)("community.saves.save")},l.createElement("div",null,e.isSaved?l.createElement(i,null):l.createElement(n,null)))}},583718:(e,t,n)=>{n.d(t,{Bj:()=>m,QK:()=>g,Vw:()=>v});var i=n(411855),l=n(188507),r=n(499737),a=n(923716),o=n(756085),s=n(269167),d=n(813648),u=n(279453),c=n(336599),p=n(555328);function g(e,t){var n,a;let c=(0,o.Be)(),g=t===p.vt.PLUGIN?c.plugins[e]:c.widgets[e],m=(0,s.xp)(e),v=(0,s.aQ)(e),I=(0,l.d4)(t=>t.publishedPlugins[e]?m:v),y=(0,l.d4)(e=>e.currentUserOrgId),E=(0,r.Rs)(u.BB3,{orgId:y}),_=i.useMemo(()=>{var t,n,i;return null==(i=null==(n=null==(t=E.data)?void 0:t.currentUser)?void 0:n.installedPlugins.find(t=>t.pluginId===e))?void 0:i.id},[null==(a=null==(n=E.data)?void 0:n.currentUser)?void 0:a.installedPlugins,e]),{unsave:w,save:f}=(0,d._i)(e,t,I,_);return{unsave:w,save:f,isSavedForUser:!!(g&&"user"===g.installed_by),isSavedForOrg:!!(g&&"org"===g.installed_by),version:g}}function m(e){let t=!!e&&"user"===e.installed_by,n=!!e&&"org"===e.installed_by,{save:l,unsave:r}=(0,d._i)(e.plugin_id,p.vt.PLUGIN),a=i.useCallback((e,i)=>{n||(t?r(i):l(e,i))},[n,t,r,l]);return{isSavedForUser:t,isSavedForOrg:n,onSaveClick:a}}function v(e){let t=(0,l.wA)(),n=(0,l.d4)(t=>t.communityHub.categories?t.communityHub.categories[e]:[]),r=a.et.loadingKeyForPayload({categoryType:e}),o=(0,c.oh)(r),s=(0,c.mC)(r);return i.useEffect(()=>{o||s||t(a.et({categoryType:e}))}),{categories:n,isLoading:o,hasResolved:s}}},76154:(e,t,n)=>{let i;n.d(t,{Cg:()=>eN,GJ:()=>eY,R7:()=>ey,dr:()=>e$,ff:()=>eT,tO:()=>eG,yG:()=>eH});var l=n(411855),r=n(188507),a=n(629019),o=n.n(a),s=n(517333),d=n(418956);if(443==n.j)var u=n(860601);var c=n(572174),p=n(563042),g=n(946689),m=n(723325),v=n(574176),I=n(348425),y=n(630949),E=n(939863),_=n(501114),w=n(175290),f=n(365292),b=n(408552),C=n(251288),T=n(760835),h=n(466636),R=n(545941),N=n(738269),P=n(931828),F=n(235629),k=n(672517),B=n(780700),S=n(756085),A=n(988022),x=n(269167),D=n(641638),L=n(662531),O=n(170786),M=n(318812),U=n(694687),j=n(99506),V=n(215822),W=n(555328),G=n(376485),z=n(498606),$=n(18993),H=n(978527),Y=n(464628),q=n(399932),Z=n(933464),J=n(943089),K=n(507956),Q=n(206074),X=n(227795),ee=n(543949),et=n(927206);if(443==n.j)var en=n(503733);var ei=n(33876),el=n(103567),er=n(552993),ea=n(172226),eo=n(632788),es=n(760445),ed=n(76158),eu=n(179494),ec=n(292164),ep=n(362679),eg=n(13556);if(443==n.j)var em=n(665150);if(443==n.j)var ev=n(111431);var eI=n(237494),ey=((i=ey||{}).COMMUNITY="community",i.RECENT="recent",i.DEVELOPMENT="development",i.DEVELOPMENT_MISSING_LOCAL="development_missing_local",i.ORG_PRIVATE="org_private",i.SAVED="saved",i.INVITED="invited",i);function eE(e){var t,n;let i=(0,r.d4)(e=>e.orgById);if(e.resource.is_private){let r=(null==(t=e.resource)?void 0:t.org_id)&&(null==(n=i[e.resource.org_id])?void 0:n.name);return l.createElement(v.B,{svg:eI.A,className:eu.kQ,"data-tooltip-type":z.Ib.TEXT,"data-tooltip":r?(0,E.t)("community.plugins.private_for_plugin_org_name",{orgName:r}):(0,E.t)("community.plugins.private_for_plugin_org")})}return l.createElement(l.Fragment,null)}let e_=l.createContext(null);function ew(){return(0,c.sR)(l.useContext(e_),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let ef=l.createContext(null);function eb(){return(0,c.sR)(l.useContext(ef),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function eC(e,t,n){let i=l.useRef(null),r=l.useCallback(()=>{i.current&&i.current.click()},[i]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationItem:s}=(0,m.M3)({path:t||[0],fauxClick:r,id:e}),d=n&&t&&t.length>=2&&t[0]===es.B6&&0===t[1];return l.useEffect(()=>{d&&(null==s||s.fauxFocus())},[d,s]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationButtonRef:i}}function eT({resourceId:e,type:t,keyboardNavigationPath:n,shouldFocusFirstItem:i}){let r;let{activeTab:a,viewResource:o}=(0,es.IT)(),s=(0,S.$1)(),d="development"===t?Object.values(s).find(t=>String(t.localFileId)===e):null,u=null==d?void 0:d.plugin_id,c=l.useCallback(()=>o({id:u??e}),[e,o,u]),p=l.useMemo(()=>a===ed.s.WIDGET?{viewWidgetDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:i}:{viewPluginDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:i},[a,n,c,i]);if(a===ed.s.WIDGET){switch(t){case"community":r=l.createElement(ej,{widgetId:e});break;case"recent":r=l.createElement(eD,{widgetId:e,type:"recent"});break;case"development":r=l.createElement(eM,{localFileId:e});break;case"development_missing_local":r=l.createElement(eM,{widgetId:e});break;case"org_private":r=l.createElement(eO,{widgetId:e});break;case"saved":r=l.createElement(eL,{widgetId:e,type:"saved"});break;case"invited":r=l.createElement(eU,{widgetId:e});break;default:return null}return l.createElement(e_.Provider,{value:p},r)}switch(t){case"community":r=l.createElement(eR,{pluginId:e});break;case"recent":r=l.createElement(eh,{pluginId:e});break;case"development":r=l.createElement(eB,{localFileId:e});break;case"development_missing_local":r=l.createElement(eB,{pluginId:e});break;case"org_private":r=l.createElement(eS,{pluginId:e});break;case"saved":r=l.createElement(eF,{pluginId:e,type:"saved"});break;case"invited":r=l.createElement(eP,{pluginId:e});break;default:return null}return l.createElement(ef.Provider,{value:p},r)}function eh({pluginId:e}){let t=(0,S.b4)()[e],n=(0,S.cW)()[e],i=(0,x.tw)(n);return t?(0,G.ZQ)(t)?l.createElement(eB,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:l.createElement(eF,{pluginId:t.plugin_id,type:"recent"}):null}function eR(e){let t=(0,S.cW)()[e.pluginId];if(e.plugin&&(t=e.plugin),!t)return null;let n=(0,V.uF)(t),{description:i,tagline:r}=n,a=(0,es.fO)(t),o=l.createElement(l.Fragment,null,l.createElement("div",{className:eu.y7},(0,R.G8)({tagline:r,description:i},p.$J)),l.createElement("div",{className:eu.Yl},a));return l.createElement(ex,{pluginVersion:n,subheader:o,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eN({plugin:e,ctaButton:t,onClick:n}){let i={viewPluginDetails:u.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return l.createElement(ef.Provider,{value:i},l.createElement(eR,{pluginId:e.id,plugin:e,ctaButton:t,alwaysShowCta:!0,isDevModeWizard:!0,onClick:n}))}function eP(e){let t=(0,S.cW)()[e.pluginId],n=(0,r.wA)(),i=l.useCallback(()=>{n(N.oB())},[n]);if(!t)return null;let a=(0,V.uF)(t),{description:o,tagline:s}=a,d=l.createElement(l.Fragment,null,l.createElement("div",{className:eu.Pg},(0,R.G8)({tagline:s,description:o},p.$J)),l.createElement("div",{className:eu.Yl},(0,es.fO)(t)));return l.createElement(l.Fragment,null,l.createElement(ex,{pluginVersion:a,subheader:d,pluginId:e.pluginId,onClick:i,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:l.createElement(el.PE,{resource:t})}))}let eF=l.memo(function(e){let t=(0,S.Be)(),n=t.plugins[e.pluginId]||t.orgPlugins[e.pluginId],i=(0,S.b4)()[e.pluginId],r=(0,S.cW)()[e.pluginId],a=l.useMemo(()=>"recent"===e.type?i:"org_private"===e.type?(0,V.uF)(r):n,[n,e.type,r,i]),o=(0,M.U)(),s=(null==o?void 0:o.type)===eo._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,d=eH(e.pluginId,e.type);return l.createElement(ek,{pluginId:e.pluginId,type:e.type,dropdownIsShown:s,runOptionsDropdownIsShown:d,version:a})}),ek=l.memo(function(e){var t;let{dropdownIsShown:n,version:i}=e,a=(0,r.wA)(),{viewPluginDetails:o}=eb(),s=l.useCallback(t=>{t.stopPropagation(),n?a(N.oB()):a(N.j7({type:eo._n,data:{pluginId:e.pluginId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[n,a,e.pluginId,e.type]),d=(0,B.dR)(e.pluginId,"universal-insert"),u=(0,B.Gt)(e.pluginId,"universal-insert"),c=(0,F.t0)(e.pluginId,u,d),p=c.length>0,g=e.runOptionsDropdownIsShown&&p,m=l.useRef(null),{validatePublishedPluginInOrgAllowlist:v,isPluginBlockedByAllowlist:I}=(0,S.j1)(e.pluginId),y=(0,B.RK)(e.pluginId),E=l.useCallback(t=>{if(null==t||t.stopPropagation(),v()){if(p){g?a(N.oB()):a(e$({pluginId:e.pluginId,tileType:e.type}));return}y?u():d(),a(P.b({seen_published_plugin_onboarding_modal:!0})),a(P.b({seen_development_plugin_onboarding_modal:!0}))}},[v,p,y,a,g,e.pluginId,e.type,u,d]),_=null==(t=m.current)?void 0:t.getBoundingClientRect();if(!i)return null;let w=!!(g&&_)||n,f=l.createElement(er._W,{resourceId:e.pluginId,resourceType:W.vt.PLUGIN,parentView:er.nN.TILE,isFauxFocused:w});return l.createElement("div",null,l.createElement(ex,{pluginVersion:i,pluginId:e.pluginId,onOptionsClick:s,optionsButtonIsActive:n,onClick:E,showOnClickDropdownChevron:p,secondaryIcon:l.createElement(eE,{resource:i}),primaryCTAButton:f,isFauxFocused:w,visuallyDisabled:I}),l.createElement("div",{ref:m}),g&&_&&l.createElement(Q.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:_,dispatch:a}),n&&l.createElement(eo.EJ,{viewResource:o,plugin:i}))});function eB(e){var t;let n=(0,r.wA)(),i=(0,S.nl)({allowNonVsCodePluginsInVsCode:!0}),a=e.localFileId?i[e.localFileId]:void 0,o=a?a.plugin_id:e.pluginId,s=(0,S.kd)({includePendingPublishers:!1}).find(e=>e.id===o),d=s?(0,V.uF)(s):void 0,u=(0,M.U)(),{viewPluginDetails:c}=eb(),p=(null==u?void 0:u.type)===eo.lD&&(null==u?void 0:u.data.localFileId)===e.localFileId&&(null==u?void 0:u.data.pluginId)===o,g=l.useCallback(t=>{if(t.stopPropagation(),p)n(N.oB());else{let i=t.currentTarget.getBoundingClientRect();n(N.j7({type:eo.lD,data:{localFileId:e.localFileId,pluginId:o,targetRect:i}}))}},[n,e.localFileId,o,p]),m=(0,B.Gt)(o,"universal-insert"),I=(0,B.dR)(o,"universal-insert"),y=(0,F.t0)(o,m,I),_=y.length>0,w=l.useRef(null),b=null==(t=w.current)?void 0:t.getBoundingClientRect(),C=eH(o,e.isRecentTile?"recent_development":"development")&&_,T=l.useCallback(()=>{if(_){C?n(N.oB()):o&&n(e$({pluginId:o,tileType:e.isRecentTile?"recent_development":"development"}));return}I()},[_,I,C,n,o,e.isRecentTile]);if(!a&&!s)return null;let h=l.createElement(ei.A,{localResource:a,publishedResource:s}),P=s&&(0,R.AC)(s),k=s&&(null==d?void 0:d.redirect_icon_url),A=s&&!P?s.roles.is_public?em.A:eI.A:void 0,x=l.createElement(f.Ex,{height:"16"},l.createElement("span",null,l.createElement(E.Tx,{id:"universal_insert.development"})));return l.createElement(l.Fragment,null,l.createElement(ex,{pluginVersion:d,localPlugin:a,subheader:h,icon:k?void 0:l.createElement(v.B,{svg:ev.A,className:eu.Bx}),secondaryIcon:x,pluginId:o,onOptionsClick:g,onClick:T,optionsButtonIsActive:p,showOnClickDropdownChevron:_,showEditorTypeIcon:!1,publishingStatusIcon:A,inReview:P}),l.createElement("div",{ref:w}),C&&b&&l.createElement(Q.j,{showPoint:!1,lean:"center",items:y,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n}),p&&(a?l.createElement(eo.T9,{localResource:a,viewResource:c}):l.createElement(eo.T9,{publishedResource:s,viewResource:c})))}function eS(e){return(0,S.cW)()[e.pluginId]?l.createElement(eF,{pluginId:e.pluginId,type:"org_private"}):null}function eA({pluginId:e,name:t,icon:n,iconUrl:i}){let[r,a]=l.useState(!!n);return l.createElement("div",{className:o()(r?eu.lP:eu.vt)},n||l.createElement(H.V,{plugin:{name:t,plugin_id:e,redirect_icon_url:i??""},loading:"lazy",alt:`${t} icon`,onLoad:()=>a(!0)}))}function ex(e){var t,n,i,r;let a;let s=(null==(t=e.pluginVersion)?void 0:t.name)??(null==(n=e.localPlugin)?void 0:n.name)??"",u=null==(i=e.pluginVersion)?void 0:i.redirect_icon_url,{isPluginSetToAutoRun:c}=(0,$.bE)(e.pluginVersion??null),p=e.localPlugin?e.localPlugin.manifest.editorType:null==(r=e.pluginVersion)?void 0:r.manifest.editorType,g=!e.subheader,{viewPluginDetails:m,keyboardNavigationPath:T,shouldFocusFirstItem:h}=eb(),{setKeyboardNavigationElement:R,isFauxFocused:N,keyboardNavigationButtonRef:P}=eC(`plugin_${s}`,T,!!h),F=(0,k.j6)(),B=(0,d.md)(ee.aM),L=(0,x.ul)(e.pluginId),O=Object.values((0,S.$1)()).find(t=>String(t.plugin_id)===e.pluginId),M=(0,V.uF)(L),j=(0,V.pk)(M),W=(0,x.EO)(L)&&!O,G=(0,x.OY)(L),H=(0,x.gn)(L)&&!O,Y=(0,U.sZ)(),q=(0,S.ll)(),Z=!O&&(0,D.BF)({org:Y,extensionVersion:M??e.pluginVersion,isWidget:!1,allowlistedExtensions:q}),Q=e.isCommunityPreview&&!Z&&!e.isDevModeWizard,en=W&&!G?l.createElement(eq,{plugin:L,hideFreeTrialBadge:!0}):H?l.createElement(et.ur,null):Q?l.createElement(eG,{pluginId:e.pluginId,buttonRef:P}):void 0,ei=(0,b.QP)({resource:L,height:"16",validBadges:[b.op.FREEMUM,b.op.OFF_PLATFORM,b.op.PURCHASED]});l.useEffect(()=>{B&&e.pluginId&&(0,A.qD)({name:(F.name||"")+" > plugin tile view",pluginId:e.pluginId})},[B,e.pluginId,F.name]);let el=e.metadataOverrideNode??l.createElement(l.Fragment,null,l.createElement("div",{className:eu.FV},l.createElement(w.Y,{spacing:4},l.createElement("div",{className:o()(eu.B6,{[y.cx.colorTextDisabled.$]:e.visuallyDisabled})},s),c&&l.createElement(f.Ex,{height:"16"},(0,E.t)("universal_insert.auto_run")),e.inReview&&l.createElement(C.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,ei&&!H&&l.createElement("div",{className:eu.UK},ei),e.publishingStatusIcon&&l.createElement("div",{className:y.cx.colorIcon.$},l.createElement(I.t,{svg:e.publishingStatusIcon})),e.showOnClickDropdownChevron&&l.createElement(v.B,{svg:ec.A,className:eu.o2})),e.subheader&&l.createElement("div",{className:eu.ZK},e.subheader)),en&&l.createElement("div",{className:eu.D1},en),e.onOptionsClick&&l.createElement(X.K0,{svg:ep.A,fallbackSvg:eg.A,className:e.optionsButtonIsActive?eu.F$:eu.D1,onClick:e.onOptionsClick,"data-tooltip-type":z.Ib.TEXT,"data-tooltip":(0,E.t)("universal_insert.more_options")}),e.primaryCTAButton&&l.createElement("div",{style:_.sx.add({alignSelf:"center"}).$},e.primaryCTAButton)),er=function(e,t){if((0,K.ks)());else if(e&&t)return!0;return!1}(e.showEditorTypeIcon,p),ea=(0,K.ks)();a=er?l.createElement(J.li.IconAndBadgeContainer,null,l.createElement(eA,{pluginId:e.pluginId,name:s,iconUrl:u,icon:e.icon}),l.createElement(J.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},l.createElement(J.dn,{editorType:p,is16x16:!0}))):ea&&j?l.createElement(J.li.IconAndBadgeContainer,null,l.createElement(eA,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:u}),l.createElement(J.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},l.createElement(J.cC,null))):l.createElement(eA,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:u});let eo=()=>{if((0,A.Cu)({trackingContext:F.name,pluginId:e.pluginId}),W&&!G||Z){m();return}if(e.onClick){e.onClick();return}m()};return l.createElement("div",{className:o()(g?eu.$C:eu.MJ,N||e.isFauxFocused?eu.c6:void 0,e.isDevModeWizard?eu.NH:void 0),onClick:eo,role:"button",tabIndex:0,ref:T?R:void 0},l.createElement("button",{onClick:e=>{e.stopPropagation(),eo()},ref:Q?void 0:P,"data-testid":"plugin-tile-button"}),l.createElement("div",{className:eu.ot},e.isNotification&&l.createElement("div",{className:eu.Vx}),a),el)}function eD(e){let t=(0,S.YO)()[e.widgetId],n=(0,S.ZT)()[e.widgetId],i=(0,x.tw)(n);return t?(0,G.ZQ)(t)?l.createElement(eM,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:l.createElement(eL,{widgetId:e.widgetId,type:"recent"}):null}function eL(e){var t;let n=(0,r.wA)(),{viewWidgetDetails:i}=ew(),a=(0,S.ZT)()[e.widgetId],o=(0,S.Be)().widgets[e.widgetId],d=(0,S.YO)()[e.widgetId],u="recent"===e.type?d:"org_private"===e.type?(0,V.uF)(a):o,c=(0,M.U)(),p=(null==c?void 0:c.type)===eo._n&&c.data.widgetId===e.widgetId&&c.data.targetRect&&c.data.viewType===e.type,g=(0,S.Ud)(e.widgetId),m=l.useRef(null),v=(0,S.WK)(e.widgetId),I=s.eD&&!!g&&!v,y=!!v||I,E=(0,M.U)(),_=l.useRef(null),w=(null==c?void 0:c.type)===ea.cH&&c.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:f}=(0,S.Ys)(e.widgetId),b=l.useCallback(t=>{if(y){if(t.preventDefault(),t.stopPropagation(),w)n(N.oB());else{let i=t.currentTarget.getBoundingClientRect();n(N.j7({type:ea.cH,data:{targetRect:i,widgetId:e.widgetId}}))}}},[n,e.widgetId,w,y]),C=l.useCallback(()=>{(0,O.j)({pluginID:e.widgetId,widgetName:u.name,pluginVersionID:u.id,triggeredFrom:"universal-insert"})},[u,e.widgetId]),T=l.useCallback(e=>{y?b(e):L.l7.user("insert-published-widget",()=>{C()})},[C,b,y]),h=l.useCallback(t=>{t.stopPropagation(),p?n(N.oB()):n(N.j7({type:eo._n,data:{widgetId:e.widgetId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[p,n,e.widgetId,e.type]);if(!u)return null;if((0,G.ZQ)(u))return l.createElement(eM,{localFileId:u.localFileId.toString()});let R=null==(t=_.current)?void 0:t.getBoundingClientRect(),P=!!(E&&R)||p,F=l.createElement(er._W,{resourceId:e.widgetId,resourceType:W.vt.WIDGET,parentView:er.nN.TILE,isFauxFocused:P});return l.createElement("div",null,l.createElement(eW,{widget:u,localWidget:v,subheader:(0,es.CF)(u),iconUrl:u.redirect_snapshot_url??void 0,widgetId:e.widgetId,useHorizontalLayout:!0,optionsButtonIsActive:p,onOptionsClick:h,onClick:T,secondaryIcon:l.createElement(eE,{resource:u}),primaryCTAButton:F,isFauxFocused:P,visuallyDisabled:f}),l.createElement("div",{ref:m}),E&&R&&l.createElement(eo.NR,{targetRect:R,widgetId:e.widgetId,lean:"center"}),p&&l.createElement(eo.EJ,{viewResource:i,plugin:u}))}function eO(e){return(0,S.ZT)()[e.widgetId]?l.createElement(eL,{widgetId:e.widgetId,type:"org_private"}):null}function eM(e){let t=(0,r.wA)(),n=(0,S.yQ)(),i=l.useMemo(()=>e.localFileId?n[e.localFileId]:void 0,[n,e.localFileId]),a=(0,S.jg)(),o=i?i.plugin_id:e.widgetId,s=(0,S.bh)({includePendingPublishers:!1}),d=l.useMemo(()=>Object.values(s).find(e=>e.id===o),[s,o]),u=l.useMemo(()=>d&&d.current_plugin_version_id?d.versions[d.current_plugin_version_id]:void 0,[d]),c=(0,M.U)(),{viewWidgetDetails:p}=ew(),g=(null==c?void 0:c.type)===Z.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&(null==c?void 0:c.data.isRecentTile)===e.isRecentTile&&(null==c?void 0:c.data.localFileId)===e.localFileId&&(null==c?void 0:c.data.pluginId)===o&&(null==c?void 0:c.data.targetRect),m=l.useCallback(n=>{if(n.stopPropagation(),g)t(N.oB());else{let i=n.currentTarget.getBoundingClientRect();t(N.j7({type:Z.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:i}}))}},[t,e.localFileId,o,e.isRecentTile,g]),v=l.useCallback(()=>{i&&(0,O.j)({pluginID:i.plugin_id,widgetName:i.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[i]);if(!i&&!d)return null;let I=l.createElement(ei.A,{localResource:i,publishedResource:d}),y=d&&(0,R.AC)(d),E=d&&(0,V.uF)(d).redirect_snapshot_url||e.localFileId&&a[e.localFileId]&&a[e.localFileId].metadata.widgetSnapshotImageSrc||en.J,_=d&&!y?d.roles.is_public?em.A:eI.A:void 0;return l.createElement(l.Fragment,null,l.createElement(eW,{widget:u,localWidget:i,subheader:I,iconUrl:E,widgetId:o,onClick:()=>v(),onOptionsClick:m,optionsButtonIsActive:g,useHorizontalLayout:!0,showEditorTypeIcon:!1,publishingStatusIcon:_,inReview:y}),g&&(i?l.createElement(eo.T9,{localResource:i,viewResource:p}):l.createElement(eo.T9,{publishedResource:d,viewResource:p})))}function eU(e){let{widgetId:t}=e,n=(0,S.ZT)()[t]??null;if(!n)return null;let i=(0,V.uF)(n),{redirect_snapshot_url:r,manifest:a}=i;return l.createElement(eW,{widget:i,iconUrl:r??void 0,widgetId:n.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:a.editorType,isNotification:!0,metadataOverrideNode:l.createElement(el.PE,{resource:n})})}function ej(e){let t=(0,x.J$)(e.widgetId);if(!t)return null;let n=(0,V.uF)(t),i=(0,es.fO)(t),r=l.createElement(l.Fragment,null,l.createElement("div",{className:eu.rz},(0,R.G8)(n,p.$J)),l.createElement("div",{className:eu.Yl},i));return l.createElement(eW,{widget:n,subheader:r,iconUrl:n.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eV({useHorizontalLayout:e=!1,onIconClick:t,disabled:n,iconUrl:i="",widget:a,publishedWidget:o,keyboardNavigationButtonRef:s}){let d=l.useMemo(()=>e?[b.op.PRICE]:[b.op.PURCHASED,b.op.OFF_PLATFORM,b.op.FREEMUM,b.op.PRICE],[e]),u=(0,r.d4)(e=>e.authedActiveCommunityProfile);return l.createElement("div",{className:e?eu.Zv:eu.Cq,onClick:t,role:"button",tabIndex:0},n?l.createElement(Y.z,{src:i,context:j._Y.DESIGN}):l.createElement(q._,{widget:a,src:i,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:s,context:j._Y.DESIGN}),l.createElement("div",{className:eu.VJ},(0,b.$3)({resource:o,authedActiveCommunityProfile:u,validBadges:d,height:e?"16":"24"})))}let eW=l.memo(function(e){let t=e.localWidget??e.widget??V.lT,{viewWidgetDetails:n,keyboardNavigationPath:i,shouldFocusFirstItem:r}=ew(),{setKeyboardNavigationElement:a,isFauxFocused:s,keyboardNavigationButtonRef:d}=eC(`widget_${t.name}`,i,!!r),u=(0,S.ZT)()[e.widgetId],c=(0,x.EO)(u),p=(0,x.gn)(u),g=u?(0,V.uF)(u):null,m=t.name;(null==g?void 0:g.name)&&(null==g?void 0:g.name)!==""&&(m=null==g?void 0:g.name);let v=(0,U.sZ)(),f=(0,S.U6)(),b=!e.localWidget&&(0,D.BF)({org:v,extensionVersion:g??e.widget,isWidget:!0,allowlistedExtensions:f}),T=!!(c||b),h=(0,k.j6)(),R=T?void 0:e=>e.stopPropagation(),N=e.metadataOverrideNode??l.createElement(l.Fragment,null,l.createElement("div",{className:eu.QF},l.createElement("div",{className:eu.JW},l.createElement(w.Y,{spacing:4,verticalAlignItems:"center"},l.createElement("div",{className:o()(eu.Y2,{[y.cx.colorTextDisabled.$]:e.visuallyDisabled})},m),e.inReview&&l.createElement(C.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&l.createElement("div",{className:y.cx.colorIcon.$},l.createElement(I.t,{svg:e.publishingStatusIcon})),p&&l.createElement("div",{className:eu.Y9},l.createElement(et.xY,null)))),l.createElement("div",{className:eu.ML},e.subheader)),e.onOptionsClick&&l.createElement(X.K0,{svg:ep.A,fallbackSvg:eg.A,className:e.optionsButtonIsActive?eu.F$:eu.D1,onClick:e.onOptionsClick,"data-tooltip-type":z.Ib.TEXT,"data-tooltip":(0,E.t)("universal_insert.more_options")}),e.primaryCTAButton&&l.createElement("div",{style:_.sx.add({alignSelf:"center"}).$},e.primaryCTAButton));return l.createElement("div",{className:o()(e.useHorizontalLayout?eu.Gy:eu.BG,s?eu.c6:void 0),onClick:t=>{(0,A.Cu)({trackingContext:h.name,widgetId:e.widgetId}),T?n():e.onClick?e.onClick(t):n()},role:"button",tabIndex:0,ref:i?a:void 0,"data-testid":"widget-tile"},l.createElement("div",{className:eu.ot},e.isNotification&&l.createElement("div",{className:eu.Vx}),e.showEditorTypeIcon?l.createElement(J.li.IconAndBadgeContainer,null,l.createElement(eV,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d}),l.createElement(J.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget"},l.createElement(J.dn,{editorType:e.editorType,is16x16:!0}))):l.createElement(eV,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d})),N)});function eG(e){var t;let n=(0,r.wA)(),i=l.useRef(null),a=(0,M.U)(),o=(0,S.JI)(),s=(0,K.ks)(),d=(0,B.dR)(e.pluginId,"universal-insert"),u=(0,B.Gt)(e.pluginId,"universal-insert"),c=(0,F.t0)(e.pluginId,u,d),p=c.length>0,m=eH(e.pluginId,"community"),I=p&&(null==a?void 0:a.type)===e.dropdownShownType&&(null==a?void 0:a.data.pluginId)===e.pluginId,y=m||I,{validatePublishedPluginInOrgAllowlist:_}=(0,S.j1)(e.pluginId),w=(0,B.RK)(e.pluginId),f=l.useCallback(t=>{if(t.stopPropagation(),_()){if(p){y?n(N.oB()):(e.dropdownShownType&&n(N.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),n(e$({pluginId:e.pluginId,tileType:"community"})));return}w?u():d(),n(P.b({seen_published_plugin_onboarding_modal:!0})),n(P.b({seen_development_plugin_onboarding_modal:!0}))}},[_,p,w,n,y,e.dropdownShownType,e.pluginId,u,d]);if(s&&!o)return null;let b=null==(t=i.current)?void 0:t.getBoundingClientRect(),C=e.usePrimaryButtonStyles?l.createElement(g.$$,{onClick:f,className:eu.lI},l.createElement(E.Tx,{id:"universal_insert.run"}),p&&l.createElement(v.B,{svg:ec.A,className:eu.sI})):l.createElement("button",{className:eu.lO,onClick:f,ref:e.buttonRef},l.createElement(E.Tx,{id:"universal_insert.run"}),p&&l.createElement(v.B,{svg:ec.A,className:eu.zZ}));return l.createElement("div",{className:e.usePrimaryButtonStyles?eu.od:void 0,"data-testid":"run-plugin-button"},l.createElement("div",{ref:i},C),y&&b&&l.createElement(Q.j,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n,lean:"left"}))}let ez="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function e$(e){return N.j7({type:ez,data:e})}function eH(e,t){let n=(0,M.U)();return(null==n?void 0:n.type)===ez&&n.data.pluginId===e&&t===n.data.tileType}function eY(e){var t;let n=(0,r.wA)(),i=(0,S.ZT)()[e.widgetId],a=(0,S.WK)(e.widgetId),o=(0,S.Ud)(e.widgetId),d=s.eD&&!!o&&!a,u=!!a||d,c=(0,M.U)(),p=(null==c?void 0:c.type)===ea.cH&&c.data.widgetId===e.widgetId,m=l.useRef(null),I=l.useCallback(t=>{if(u){if(t.preventDefault(),t.stopPropagation(),p)n(N.oB());else{let i=t.currentTarget.getBoundingClientRect();n(N.j7({type:ea.cH,data:{targetRect:i,widgetId:e.widgetId}}))}}},[n,e.widgetId,p,u]),y=l.useCallback(()=>{let e=(0,V.uF)(i);(0,O.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[i]),_=l.useCallback(e=>{u?I(e):L.l7.user("insert-published-widget",()=>{y()})},[y,I,u]);if(!i)return null;let w=l.createElement(g.$$,{onClick:_,className:eu.lI},l.createElement(E.Tx,{id:"universal_insert.add"}),u&&l.createElement(v.B,{svg:ec.A,className:eu.sI})),f=null==(t=m.current)?void 0:t.getBoundingClientRect();return l.createElement("div",{className:eu.od},l.createElement("div",{ref:m},w),p&&f&&l.createElement(eo.NR,{targetRect:f,widgetId:e.widgetId}))}function eq(e){let t=(0,x.lt)(e.plugin);return e.plugin.monetized_resource_metadata?l.createElement("div",{className:eu.y2},l.createElement("div",{className:eu.lO},(0,h.bV)(e.plugin.monetized_resource_metadata)),!e.hideFreeTrialBadge&&(0,h.Lt)({resource:e.plugin,payment:t})&&l.createElement(T.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}},324666:(e,t,n)=>{function i(){return null}n.d(t,{GO:()=>p,H5:()=>l,Mr:()=>y,Qc:()=>o,go:()=>a,j8:()=>g,jK:()=>I,kD:()=>r,l:()=>c,li:()=>u,mh:()=>v,oT:()=>m,rC:()=>s,rf:()=>d});let l=i,r=i,a=i,o=i,s=i,d=i,u=i,c=i,p=i,g=i,m=i,v=i,I=i,y=i}}]);

//# debugId=e209af6c-0b93-55c9-b3b5-f1fce1466b56

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/95dfd14aa7f781083e33d36c521a587033fa64ec/8044-d1f91eb34368771f.min.js.map