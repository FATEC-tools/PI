"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c4bc8009-cb73-5d51-ac9d-ba72f5c7337d")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8964],{388505:(e,t,a)=>{a.d(t,{$g:()=>m,DI:()=>i,Eh:()=>r,GK:()=>s,J1:()=>c,KV:()=>n,b:()=>l,cr:()=>g,jG:()=>d,kz:()=>u,nW:()=>p,o8:()=>_,u1:()=>o,wv:()=>v});let l="universal_upgrade_sequence--closeButton--S-6M2",s="universal_upgrade_sequence--modalTitle--1nrY9 text--fontPos18--rYXJb text--_fontBase--QdLsd",n="universal_upgrade_sequence--modalSubtitle--cMqzE text--fontPos14--OL9Hp text--_fontBase--QdLsd",r="universal_upgrade_sequence--createTeamInput--MuDzz basic_form--labeledInputGroup--aeD6L text--fontPos14--OL9Hp text--_fontBase--QdLsd",o="universal_upgrade_sequence--spinner--K-cVF",c="universal_upgrade_sequence--tileUpgradeButton--xeNnN",i="universal_upgrade_sequence--nextButtonSmall--LG9cZ universal_upgrade_sequence--nextButton--jDx3Q",m="universal_upgrade_sequence--createTeamSection--V3vtF",d="universal_upgrade_sequence--scrollContainer--8KeVt",u="universal_upgrade_sequence--scrollContainerTopBorder--Aeveh",_="universal_upgrade_sequence--scrollContainerBottomBorder--dWxc4",p="universal_upgrade_sequence--teamTileContainer--uef0R org_self_serve--teamLargeTileContainer--0-UBG",g="universal_upgrade_sequence--teamTile--giMxy org_self_serve--teamTileLarge--0FsN1 text--fontPos14--OL9Hp text--_fontBase--QdLsd",v="universal_upgrade_sequence--lastTeamTile--jYkbS universal_upgrade_sequence--teamTile--giMxy org_self_serve--teamTileLarge--0FsN1 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},152495:(e,t,a)=>{a.r(t),a.d(t,{UniversalUpgradeSequence:()=>R});var l=a(411855),s=a(188507),n=a(517333),r=a(799569),o=a(946689),c=a(939863),i=a(738269),m=a(507877),d=a(662275),u=a(995852),_=a(672517),p=a(820113),g=a(243987),v=a(622139),E=a(637590),h=a(720608),f=a(488578),T=a(297666),x=a(218881),N=a(27087),S=a(848044),y=a(659838),b=a(493323),C=a(980820),I=a(936500),P=a(902957),k=a(349410),L=a(988022),B=a(860178),M=a(693223),w=a(344950),q=a(388505);let z=(0,C.nF)((e,{teamName:t,selectedView:a,currency:l,onSuccess:s,onError:n,onBillingCompleteRedirectInfo:r})=>{let o;N.Ay.post("/api/teams/create",{team_name:t}).then(({data:t})=>(o="team"in t.meta?t.meta.team:t.meta,e.dispatch(P.bE({team:o})),(0,L._J)("Team Created",o.id,e.getState()),w.G.getTeam({teamId:o.id}))).then(({data:t})=>{for(let a of t.meta)e.dispatch(I.bE({role:a}));s(),e.dispatch(u.WX({teamId:o.id,selectedView:a,newTeam:!0,currency:l,...r?{onBillingCompleteRedirectInfo:r}:{}}))}).catch(()=>{n()})});function A(e){let t=(0,s.wA)(),a=(0,B.TA)(),n=(0,s.d4)(M.P),r=(0,s.d4)(e=>e.roles.byTeamId),[i,m]=l.useState(!1),[u,_]=l.useState(!1),[g,v]=l.useState(""),E=(0,p.LN)(),h=(0,x.I7)("starter_team_loophole_experiment_m0"),f=(0,x.I7)("starter_team_loophole_experiment_m1"),N=()=>{t(d.Ce())},C=(0,T.s)(()=>{m(!0),g?t(z({teamName:g,selectedView:e.selectedView,currency:E,onSuccess:N,onError:()=>{m(!1),_(!0)},onBillingCompleteRedirectInfo:e.onBillingCompleteRedirectInfo})):(m(!1),_(!0))});return a&&!(0,k.e5)({userId:a,teams:Object.values(n),rolesByTeamId:r,getM0Config:h.getConfig,getM1Config:f.getConfig})?l.createElement("div",{"data-testid":"createTeamToUpgradeView"},l.createElement("p",{className:q.KV},l.createElement(c.Tx,{id:"universal_upgrade_sequence.subtitle"})),u&&l.createElement(l.Fragment,null,l.createElement(S.I,{message:(0,c.t)("universal_upgrade_sequence.error"),marginTop:16}),l.createElement(o.Kz,{multiple:1})),l.createElement(o.Kz,{multiple:2}),l.createElement("div",{className:q.$g},l.createElement("div",{className:q.Eh},l.createElement(y.L,{placeholder:(0,c.t)("universal_upgrade_sequence.team_name.placeholder"),value:g||"",onChange:e=>{v(e.target.value)},required:!0,maxLength:255})),l.createElement(o.vd,{className:q.DI,disabled:!g||i,onClick:C},i?l.createElement(b.kt,{className:q.u1}):l.createElement(c.Tx,{id:"universal_upgrade_sequence.next"})))):null}var K=a(252011),D=a(602449);class F extends l.Component{constructor(){super(...arguments),this.state={step:"selectTeam",currency:(0,p.LN)()},this.popModal=()=>{this.props.dispatch(d.Lo())},this.hideModal=()=>{var e,t;this.props.dispatch(d.Ce()),null==(t=(e=this.props).onDone)||t.call(e)},this.selectTeam=e=>{let{dispatch:t,selectedView:a}=this.props;t("teamUpgrade"===a.view?i.$T({...a,teamFlowType:E.SC.UPGRADE_EXISTING_TEAM,teamId:e.id,paymentStep:(0,h.kR)(a.paymentStep,E.SC.UPGRADE_EXISTING_TEAM,a.billingPeriod||null,this.props.promo,a.planType||E.Sc.UNDETERMINED,this.props.promo?v.tn.CONFIRM_PAY:v.tn.CHOOSE_PLAN),billingPeriod:this.props.billingPeriod||this.props.commonPageState.payment.billingPeriod}):u.WX({teamId:e.id,selectedView:a,newTeam:!1,currency:this.state.currency,billingPeriod:this.props.billingPeriod,onBillingCompleteRedirectInfo:this.props.onBillingCompleteRedirectInfo,openInNewTab:this.props.openInNewTab})),this.hideModal()},this.chooseProPlan=()=>{0===(0,g.PS)(this.props.permissionState).length?(this.props.dispatch(m.Dw({openInNewTab:!n.eD})),this.setState({step:"createTeam"})):this.setState({step:"selectTeam"})}}componentDidMount(){this.props.plan===K.I.PRO&&this.chooseProPlan()}renderSelectTeamStep(){let e=(0,g.PS)(this.props.permissionState);return l.createElement(_.fu,{name:"Upgrade Select Team Modal"},l.createElement(f.Nb,{hide:this.popModal,size:436},l.createElement("h1",{className:q.GK},l.createElement(c.Tx,{id:"universal_upgrade_sequence.title"})),l.createElement(r.Jn,{className:q.b,onClick:this.popModal,innerText:(0,c.t)("universal_upgrade_sequence.close_modal")}),l.createElement(o.Kz,{multiple:2}),l.createElement(D.I,{eligibleTeams:e,selectTeam:this.selectTeam}),l.createElement(o.Kz,{multiple:2}),l.createElement(A,{selectedView:this.props.selectedView,onBillingCompleteRedirectInfo:this.props.onBillingCompleteRedirectInfo})))}render(){return"selectTeam"===this.state.step?this.renderSelectTeamStep():l.createElement(l.Fragment,null)}}F.displayName="UniversalUpgradeSequence";let R=(0,s.Ng)(e=>({commonPageState:e,permissionState:e,selectedView:e.selectedView,promo:e.payment.promo}))(F)},602449:(e,t,a)=>{a.d(t,{I:()=>u});var l=a(411855),s=a(946689),n=a(827586),r=a(939863),o=a(101505),c=a(672517),i=a(243987),m=a(977468),d=a(388505);function u({customUpgradeText:e,eligibleTeams:t,selectTeam:a,numDesignFilesPerTeam:u,showEditorCount:_=!0}){let[p,g]=(0,l.useState)(!1),[v,E]=(0,l.useState)(!1);l.useEffect(()=>{g(t.length>=5)},[t]);let h=`${d.jG}`;p&&(h+=` ${d.o8}`),v&&(h+=` ${d.kz}`);let f=t[t.length-1],T=u&&u.length===t.length;return l.createElement(n.P,{onScroll:(e,a)=>{let l=t.length>=5,s=l&&0!==e,n=l&&e+a.trackHeight!==a.scrollHeight;n!==p&&g(n),s!==v&&E(s)},className:h,scrollingDisabled:!1},l.createElement("div",{className:d.nW},t.map((t,n)=>l.createElement(c.jm,{key:t.id,className:t===f?d.wv:d.cr,onClick:()=>a(t),trackingProperties:{teamId:t.id,trackingDescriptor:o.c.UPGRADE},innerText:"Upgrade"},l.createElement("div",{className:"org_self_serve--teamInfo--NZwPd"},l.createElement(m.Ro,{className:"org_self_serve--teamIcon--pyVIW",entity:t,size:40,shape:"SQUARE"}),l.createElement("div",{className:"org_self_serve--teamText--LOruA"},l.createElement("p",{className:"org_self_serve--teamName--H89GM text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.name),l.createElement("p",{className:"org_self_serve--teamEditors--MBtOb text--fontPos11--2LvXf text--_fontBase--QdLsd"},!T&&_&&l.createElement(r.Tx,{id:"universal_upgrade.select_team.editor_count.seat_rename",editors:t.editors}),T&&u&&l.createElement(r.Tx,{id:"universal_upgrade.select_team.files_per_team_figma_files_used",numFilesUsed:u[n],numFreeFilesAllowed:i.WW})))),l.createElement(s.nR,{className:d.J1,dataTestId:"select_team.upgrade"},e??l.createElement(r.Tx,{id:"universal_upgrade.select_team.upgrade"}))))))}},505189:(e,t,a)=>{a.r(t),a.d(t,{UpgradeContactSalesModal:()=>B});var l=a(411855),s=a(188507),n=a(297666),r=a(367253),o=a(27087),c=a(799569),i=a(848044),m=a(946689),d=a(574176),u=a(939863),_=a(662275),p=a(349410),g=a(672517),v=a(300874),E=a(237870),h=a(908968),f=a(488578),T=a(7584);let x="upgrade_contact_sales_modal--closeButton--tSoDt";var N=a(783423),S=a(339290);let y=()=>[{name:(0,u.t)("universal_upgrade.1_10"),value:"1-10"},{name:(0,u.t)("universal_upgrade.11_50"),value:"11-50"},{name:(0,u.t)("universal_upgrade.51_250"),value:"51-250"},{name:(0,u.t)("universal_upgrade.251_1_k"),value:"251-1K"},{name:(0,u.t)("universal_upgrade.1_k_5_k"),value:"1K-5K"},{name:(0,u.t)("universal_upgrade.5_k_10_k"),value:"5K-10K"},{name:(0,u.t)("universal_upgrade.10_k_50_k"),value:"10K-50K"},{name:(0,u.t)("universal_upgrade.50_k_100_k"),value:"50K-100K"},{name:(0,u.t)("universal_upgrade.100_k"),value:"100K+"}],b=()=>l.createElement(l.Fragment,null,l.createElement("option",{value:"",disabled:!0},(0,u.t)("universal_upgrade.company_size")),y().map(e=>l.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),C=()=>[{name:(0,u.t)("contact_sales.topic.request_a_sales_demo_or_talk_to_sales"),value:"request_a_sales_demo_or_talk_to_sales"},{name:(0,u.t)("contact_sales.topic.billing_and_invoicing"),value:"billing_and_invoicing"},{name:(0,u.t)("contact_sales.topic.technical_and_product_support"),value:"technical_and_product_support"},{name:(0,u.t)("contact_sales.topic.educators_and_students"),value:"educators_and_students"}],I=()=>l.createElement(l.Fragment,null,l.createElement("option",{value:"",disabled:!0},(0,u.t)("contact_sales.which_topic_best_fits_your_needs")),C().map(e=>l.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),P=()=>[{name:(0,u.t)("contact_sales.product.design"),value:"design"},{name:(0,u.t)("contact_sales.product.figjam"),value:"figjam"},{name:(0,u.t)("contact_sales.product.dev_mode"),value:"dev_mode"},{name:(0,u.t)("contact_sales.product.all_products"),value:"all_products"}],k=()=>l.createElement(l.Fragment,null,l.createElement("option",{value:"",disabled:!0},(0,u.t)("contact_sales.which_product_are_you_most_interested_in")),P().map(e=>l.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),L=(0,E.Ju)(function({hideModal:e}){return l.createElement(g.fu,{name:"Upgrade Contact Sales Success Modal"},l.createElement(f.Nb,{hide:e,size:480},l.createElement("div",{className:"upgrade_contact_sales_modal--successModalWrapper--x82rW"},l.createElement("div",{className:"upgrade_contact_sales_modal--successModalTitle--YEf9E upgrade_contact_sales_modal--modalTitle--Qvyl- text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(d.B,{className:"upgrade_contact_sales_modal--successIcon--sRlqE",svg:S.A}),l.createElement(u.Tx,{id:"universal_upgrade.contact_sales.thank_you"})),l.createElement(c.Jn,{className:x,onClick:e,innerText:"close"})),l.createElement("div",{className:"upgrade_contact_sales_modal--successModalText--71FmX text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(u.Tx,{id:"universal_upgrade.contact_sales.sales_will_reach_out"}))))},"ContactSalesSuccessModal");function B(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.user),[E,S]=(0,l.useState)({email:(null==a?void 0:a.email)??"",name:(null==a?void 0:a.handle)??"",overridePlaceholderText:e.overridePlaceholderText,freeText:"",result:void 0,companyName:void 0,companySize:"",jobTitle:"",topic:"",product:"",phone:"",formErrors:{}}),y=(0,p.Mx)(),C=()=>{t(_.Lo())},P=()=>{t((0,_.to)({type:L,data:{hideModal:()=>t(_.Ce())}}))},B=()=>({email:E.email,name:E.name,company_name:E.companyName,topic:E.topic,product:E.product,phone:E.phone,message:E.freeText,source:e.source,form_name:"topic_v1"}),M=()=>({email:E.email,name:E.name,company_name:E.companyName,company_size:E.companySize,job_title:E.jobTitle,message:E.freeText,source:e.source,form_name:"topic_control"}),w=(0,n.s)(()=>{let t={},a=(0,u.t)("universal_upgrade.this_field_is_required");if(E.email?(0,r.xf)(E.email)||(t.email=(0,u.t)("universal_upgrade.please_provide_a_valid_email_address")):t.email=a,E.name||(t.name=a),E.companyName||(t.companyName=a),y?(E.topic||(t.topic=a),E.product||(t.product=a)):e.source===v.Bi.VARIABLES_MODES?E.jobTitle||(t.jobTitle=a):E.companySize||(t.companySize=a),S(e=>({...e,formErrors:t,result:void 0})),0===Object.keys(t).length){let e=y?B():M();o.Ay.post("/api/form_post/org-lead-gen",e).then(()=>{S(e=>({...e,result:"success"})),P()}).catch(()=>S(e=>({...e,result:"error"})))}}),q=e=>E.formErrors[e]?"upgrade_contact_sales_modal--error--cYtEz basic_form--labeledInputGroup--aeD6L":void 0,z=e=>{let t=E.formErrors[e];return t?l.createElement("div",{"data-testid":"form-error",className:"upgrade_contact_sales_modal--errorMessage--rMLJd text--fontPos11--2LvXf text--_fontBase--QdLsd"},t):null},A=(e,t,a=!1)=>l.createElement(l.Fragment,null,l.createElement(m.Lf,{htmlName:t,label:e,value:E[t]||"",onChange:e=>{let a={[t]:e.target.value};S(e=>({...e,...a}))},disabled:a,className:q(t)}),z(t)),K=(e,t,a)=>{let s=q(t)||T.Os;return l.createElement(l.Fragment,null,l.createElement("div",{className:s},l.createElement("div",{className:"upgrade_contact_sales_modal--select--9gFoe address_form--selectRowFull--8DtEB"},l.createElement(m.VE,{name:t,placeholder:e,defaultValue:"","data-testid":`${t}-select`,onChange:e=>{let a={[t]:e.target.value};S(e=>({...e,...a}))},required:!0},a),l.createElement(d.B,{className:T.nO,svg:N.A}))),z(t))};return l.createElement(g.fu,{name:"Upgrade Contact Sales Modal"},l.createElement(f.Nb,{className:"upgrade_contact_sales_modal--contactSalesModal--2MR1X",hide:C,size:480},l.createElement("div",{className:"upgrade_contact_sales_modal--titleWrapper--vDPOx"},l.createElement("h1",{className:"upgrade_contact_sales_modal--modalTitle--Qvyl- text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(u.Tx,{id:"universal_upgrade.contact_sales_title"})),l.createElement(c.Jn,{className:x,onClick:C,innerText:"close"})),l.createElement("div",{className:"upgrade_contact_sales_modal--modalBody--XpCf4"},"error"===E.result&&l.createElement(l.Fragment,null,l.createElement(i.I,{message:(0,u.t)("universal_upgrade.there_was_an_error_processing_your_information_please_try_again")}),l.createElement(m.Kz,{multiple:.5})),y?l.createElement("fieldset",null,A((0,u.t)("universal_upgrade.email_address"),"email"),A((0,u.t)("universal_upgrade.full_name"),"name"),A((0,u.t)("universal_upgrade.company_name"),"companyName"),K((0,u.t)("contact_sales.which_topic_best_fits_your_needs"),"topic",I()),K((0,u.t)("contact_sales.which_product_are_you_most_interested_in"),"product",k()),A((0,u.t)("contact_sales.phone_number_optional"),"phone")):l.createElement("fieldset",null,A((0,u.t)("universal_upgrade.email_address"),"email"),A((0,u.t)("universal_upgrade.full_name"),"name"),A((0,u.t)("universal_upgrade.company_name"),"companyName"),e.source===v.Bi.VARIABLES_MODES?A((0,u.t)("universal_upgrade.job_title"),"jobTitle"):K((0,u.t)("universal_upgrade.company_size"),"companySize",b())),l.createElement(m.Kz,{multiple:1}),l.createElement("p",null,l.createElement(u.Tx,{id:"universal_upgrade.how_can_we_help_optional"})),l.createElement(m.Kz,{multiple:1}),l.createElement(h.v,{className:"upgrade_contact_sales_modal--freeTextInput--O6-W0 text--fontPos13--xW8hS text--_fontBase--QdLsd",value:E.freeText,onChange:e=>S(t=>({...t,freeText:e.target.value})),placeholder:E.overridePlaceholderText??(0,u.t)("universal_upgrade.e_g_i_m_looking_to_set_up_a_demo_of_figma"),maxLength:500})),l.createElement("div",{className:"upgrade_contact_sales_modal--modalFooter--HBxAu"},l.createElement(m.tM,{onClick:C},l.createElement(u.Tx,{id:"general.cancel"})),l.createElement(m.vd,{onClick:w},l.createElement(u.Tx,{id:"universal_upgrade.submit"})))))}}}]);

//# debugId=c4bc8009-cb73-5d51-ac9d-ba72f5c7337d

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/95dfd14aa7f781083e33d36c521a587033fa64ec/billing-fd887ec9ea663921.min.js.map