
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="bdf643fb-b6ed-58ae-8231-2c8c498e1a66")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7748],{620268:(e,t,a)=>{"use strict";a.d(t,{DD:()=>i,ME:()=>m,Nr:()=>n,Sl:()=>o,Ui:()=>r,h_:()=>s,pq:()=>l,qr:()=>d,t3:()=>c,uK:()=>_,vR:()=>u});let r="resource_cards--cardContainer--dagKQ",n="resource_cards--card--j2AeO",l="resource_cards--info--7v-s9",i="resource_cards--title--9uxRY text--fontPos16--oMC-G text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",s="resource_cards--description--NQQ-r text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",o="resource_cards--image--V7Y8-",c="resource_cards--pluginImage--NgYbh resource_cards--image--V7Y8-",d="resource_cards--footer--cRSOS text--fontPos13--xW8hS text--_fontBase--QdLsd",m="resource_cards--profile--YLut5",u="resource_cards--profileName--Uvden",_="resource_cards--attributes--9cUYC"},831949:(e,t,a)=>{"use strict";a.d(t,{$h:()=>m,D9:()=>o,Ev:()=>i,G:()=>_,OC:()=>d,Rc:()=>c,UH:()=>u,hV:()=>l,jQ:()=>n,tJ:()=>r,tx:()=>s});let r="metadata--metadataContainer--lqQo2 text--fontPos13--xW8hS text--_fontBase--QdLsd",n="metadata--licensing--0Rs3a",l="metadata--flagAsInappropriate--D5SPq",i="metadata--supportInfo--bQ8pM ellipsis--ellipsis--Tjyfa",s="metadata--shareLinkText--IDDPA",o="metadata--creatorPolicyModalContainer--ViWny",c="metadata--creatorPolicyButton---0Cls metadata--shareLinkText--IDDPA",d="metadata--creatorPolicyModalContents--IzL0k",m="metadata--creatorPolicyModalCreatorName--uXQp-",u="metadata--paymentInfoContainer--NiHuJ",_="metadata--infoIcon--LE6OB"},817749:(e,t,a)=>{"use strict";a.d(t,{Pc:()=>n,Pr:()=>r,Tc:()=>l});let r="tags_container--tagsHeader--6f339 text--fontPos14--OL9Hp text--_fontBase--QdLsd",n="tags_container--tagsContainer--M7709",l="tags_container--tag--40TSY text--fontPos13--xW8hS text--_fontBase--QdLsd"},596049:(e,t,a)=>{"use strict";a.d(t,{RZ:()=>r,_q:()=>l,zC:()=>n});let r="comment_confirm_modals--reportContentWrapper--Nseo6",n="comment_confirm_modals--reportContentText--QZrcs",l="comment_confirm_modals--blockContentText--6aU5U"},727475:(e,t,a)=>{"use strict";a.d(t,{_M:()=>o,bv:()=>l,cI:()=>r,nf:()=>n,q3:()=>i,zc:()=>s});let r="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",l="community_hub_banner--boldText--jhtS9",i="community_hub_banner--bannerIcon--GVQKO",s="community_hub_banner--iconContainer--Szb1y",o="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},249064:(e,t,a)=>{"use strict";a.d(t,{Ce:()=>l,Qw:()=>r,ar:()=>n});let r="community_nav_heading--titleText--k-KMb text--fontPos13--xW8hS text--_fontBase--QdLsd",n="community_nav_heading--titleTextDisabled--83pxo",l="community_nav_heading--titleTextDesktopMargin--dhJKl"},674858:(e,t,a)=>{"use strict";a.d(t,{$:()=>N,$h:()=>h,$y:()=>c,CX:()=>g,Eq:()=>l,Lv:()=>u,MS:()=>p,T1:()=>d,XV:()=>s,Y6:()=>f,a1:()=>b,eP:()=>o,ed:()=>i,h:()=>w,j2:()=>y,jX:()=>_,k3:()=>v,mV:()=>S,rb:()=>m,ri:()=>E,tT:()=>k,v2:()=>n,wH:()=>C,yl:()=>r,zd:()=>T,zr:()=>x});let r="ai_modal--modal---W2Hc",n="ai_modal--oneClickPromptGrid--fMJeL",l="ai_modal--oneClickPromptSection--K-kml",i="ai_modal--disclaimer--IuMPI",s="ai_modal--topBar--osYDW",o="ai_modal--modalV2--uHVNF",c="ai_modal--oneClickPromptGridV2--yc8rD",d="ai_modal--generateButtonContainer--TZ5A4",m="ai_modal--topBarV2--kJAjC",u="ai_modal--generateContainer--ZVdnf",_="ai_modal--generateContainerV2--vAeZh",p="ai_modal--boxShadow--Vnbhg",g="ai_modal--hrLeft--trcI7",E="ai_modal--hrRight--rxij6",f="ai_modal--menuOptionContainer--OY41l",h="ai_modal--oneClickButton--VqeLK",v="ai_modal--oneClickIcon--J1-2k",b="ai_modal--oneClickAiIcon--fQNmm",y="ai_modal--backIcon--rSfoM",w="ai_modal--suggestion--qf9pk",T="ai_modal--suggestionV2--Us2t6",x="ai_modal--secondaryButton--weULP",C="ai_modal--selected--S4ORY",N="ai_modal--promptBoxShimmer--1S-Xe",k="ai_modal--templateCtaV2--n1GTF",S="ai_modal--oneClickText--36sek"},791617:function(e){var t;t=function(){return function(e,t){var a=t.prototype,r=a.format;a.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return r.bind(this)(e);var n=this.$utils(),l=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return a.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return a.ordinal(t.week(),"W");case"w":case"ww":return n.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return r.bind(this)(l)}}},e.exports=t()},951089:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(411855);function n(){return r.createElement("svg",{className:"svg",width:"38",height:"57",viewBox:"0 0 38 57",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#1abcfe",stroke:"none"}),r.createElement("path",{d:"M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#0acf83",stroke:"none"}),r.createElement("path",{d:"M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z",fillRule:"nonzero",fillOpacity:"1",fill:"#ff7262",stroke:"none"}),r.createElement("path",{d:"M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#f24e1e",stroke:"none"}),r.createElement("path",{d:"M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#a259ff",stroke:"none"}))}},558936:(e,t,a)=>{"use strict";a.d(t,{AU:()=>n,MP:()=>i,nr:()=>s,vW:()=>l,x0:()=>o});var r=a(38580);let n=(0,r.eU)({}),l=(0,r.eU)({idx:-1}),i=(0,r.eU)({}),s=(0,r.eU)({idx:-1});function o(e){return"model"in e}},392922:(e,t,a)=>{"use strict";a.d(t,{H:()=>b});var r=a(411855),n=a(188507),l=a(966712),i=a(939863),s=a(611886),o=a(351226),c=a(837324),d=a(162895),m=a(662275),u=a(694687),_=a(860178),p=a(215822),g=a(239671),E=a(407844),f=a(164795),h=a(146555);if(443==a.j)var v=a(967063);function b(e){let t=(0,_.iZ)(),a=(0,u.sZ)(),b=(0,n.wA)(),[y,w]=r.useState(!0),T=e.resource,x=(0,p.uF)(T),C=(0,h.o)(x,a,g.nT.Whiteboard);if(!y||!t||!(0,l.kc)().community_hub_admin_reviewer)return r.createElement(r.Fragment,null);function N(t){return"hub_file"===(0,c.Vm)(e.resource)}let k=N(e.resource)?r.createElement(i.Tx,{id:"community.duplicate.duplicate"}):r.createElement(i.Tx,{id:"community.detail_view.try_it_out"}),S={id:f.om.communityResourceInReviewBanner,bannerType:f.x1.INFO,icon:v.A,mainText:(0,i.t)("community.resource.admin_bypass_payment_banner.viewing_as_community_reviewer_admin"),description:r.createElement(i.Tx,{id:"community.resource.admin_bypass_payment_banner.you_are_viewing_this_page_as_an_admin_reviewer"}),button:{buttonText:k,onClick:()=>{if(N(e.resource)){let t=s.M.onDuplicateHubFile(e=>{b((0,m.to)({type:o._,data:{payload:e}}))},{adminReviewerOverride:!0});b(t(e.resource))}else b(d.aI({resource:T,fullscreenEditorType:C,isPlaygroundFile:!!(x.playground_fig_file||C===g.nT.DevHandoff)}))}},dismissible:!0,positionStatic:!0};return r.createElement(E.C,{content:S,editorType:g.nT.Design,onDismiss:()=>w(!1)})}},385422:(e,t,a)=>{"use strict";a.d(t,{S:()=>S});var r=a(411855),n=a(188507),l=a(776250),i=a(881388),s=a(939863),o=a(206144),c=a(952540),d=a(662275),m=a(931828),u=a(611978),_=a(860178),p=a(239671),g=a(583894),E=a(59530),f=a(407844),h=a(946689),v=a(493323),b=a(164795),y=a(478398),w=a(971951),T=a(894513),x=a(10388),C=a(247866);function N({isLoading:e,text:t}){return r.createElement("span",{style:{position:"relative"}},e?r.createElement("div",{className:w.sl},r.createElement(v.kt,{shouldMatchTextColor:!0})):void 0,r.createElement("span",{style:{opacity:e?0:1}},t))}var k=a(607121);function S(e){let[t,a]=r.useState(!1),[v,w]=r.useState(!1),S=(0,n.wA)(),I=(0,n.d4)(e=>e.userFlags),A=(0,_.iZ)(),L=(0,u._6)(),[R,O]=r.useState(!1),D=v||e.isFirstTimeLoading,F="isFirstTimeLoading"in e;if(R&&!F||!A)return r.createElement(r.Fragment,null);let{stripe_account_status:M}=A;if(!M||M===g.P5.NONE)return r.createElement(r.Fragment,null);let P=M===g.P5.ACCEPTED||D?{userFlag:E.WE,bannerContent:function({isLoading:e,onClick:t,showCTA:a}){let n=r.createElement(h.CY,{className:y.$J,target:"_blank",href:"https://help.figma.com/hc/articles/12730712101783",trusted:!0},(0,s.t)("community.seller.how_does_it_work"));return{id:b.om.communityM10nApprovalBanner,bannerType:b.x1.INFO,mainText:(0,s.t)("community.seller.good_news"),icon:x.A,button:a?{buttonText:r.createElement(N,{isLoading:e,text:(0,s.t)("community.seller.set_up_stripe")}),onClick:t,className:y.mj}:void 0,description:r.createElement(s.Tx,{id:"community.seller.youre_eligible_with_link",howDoesItWorkLink:n}),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{w(!0),S((0,d.to)({type:k.s,data:{setupStripeCallback:e=>{w(!1),e||S(i.s.error((0,s.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},showCTA:!F})}:M===g.P5.STARTED_ONBOARDING?{userFlag:E.BY,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nFinishSetupBanner,bannerType:b.x1.INFO,icon:T.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.finish_set_up")}),onClick:e,className:y.mj}:void 0,mainText:(0,s.t)("community.seller.finish_stripe_setup"),description:(0,s.t)("community.seller.few_steps_left_stripe"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{a(!0),S(c.j({callback:()=>a(!1),user:A,selectedView:L}))},showCTA:!F})}:M===g.P5.DISABLED?{userFlag:E.Q7,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nAdtlInfoNeededBanner,bannerType:b.x1.WARN,icon:C.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.visit_stripe")}),onClick:e,className:y.mj}:void 0,mainText:(0,s.t)("community.seller.stripe_needs_your_attention"),description:(0,s.t)("community.seller.you_can_resolve"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{},showCTA:!F})}:void 0;if(!P)return r.createElement(r.Fragment,null);let{userFlag:B,bannerContent:U}=P,W=()=>{var e;null==(e=(0,o.ik)())||e(m.b({[B]:!0}))};return I[B]&&!F?r.createElement(r.Fragment,null):r.createElement(f.C,{containerClassName:F?y.hL:void 0,content:U,editorType:p.nT.Design,onDismiss:()=>{W(),O(!0),(0,l.sx)("cmty_m10n_banner_dismissed",{userFlag:B})}})}},699651:(e,t,a)=>{"use strict";let r;a.d(t,{u:()=>Z});var n=a(411855),l=a(188507),i=a(966712),s=a(385422),o=a(860601),c=a(939863),d=a(99506),m=a(401730),u=a(239671),_=a(407844),p=a(164795),g=a(967063);function E(e){let{hasPublisherAdminAccess:t,resource:a}=e,r=(()=>{var e,r,l;if(t)return a.publishing_status===d.KB.DELISTED_CREATOR_STRIPE_DISABLED?n.createElement(c.Tx,{id:"community.resource.delisted_stripe_issues"}):(null==(e=null==a?void 0:a.monetized_resource_metadata)?void 0:e.is_subscription)?n.createElement(c.Tx,{id:"community.resource.delisted_prev_purchasers_can_still_access__subscription"}):n.createElement(c.Tx,{id:"community.resource.delisted_prev_purchasers_can_still_access"});if(null==(r=null==a?void 0:a.community_resource_payment)?void 0:r.subscription_expires_at){let e=new Date(a.community_resource_payment.subscription_expires_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return n.createElement(c.Tx,{id:"community.resource.delisted_you_ll_continue_to_have_access_until",dateString:e})}return(null==(l=null==a?void 0:a.community_resource_payment)?void 0:l.status)===m.G3.SUCCEEDED?n.createElement(c.Tx,{id:"community.resource.delisted_you_ll_continue_to_have_access_to_it"}):n.createElement(c.Tx,{id:"community.resource.if_you_have_questions_reach_out_to_creator"})})(),l={id:p.om.communityResourceInReviewBanner,bannerType:p.x1.WARN,icon:g.A,mainText:(0,c.t)("community.resource.delisted_title"),description:r,dismissible:!1,positionStatic:!0};return n.createElement(_.C,{content:l,editorType:u.nT.Design,onDismiss:o.lQ})}var f=a(837324),h=a(860178);function v(e){if(!(0,h.iZ)())return n.createElement(n.Fragment,null);let t="hub_file"===(0,f.Vm)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_file"):"plugin"===(0,f.Vm)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_plugin"):"widget"===(0,f.Vm)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_widget"):n.createElement(n.Fragment,null),a={id:p.om.communityResourceInReviewBanner,bannerType:p.x1.WARN,icon:g.A,mainText:(0,c.t)("community.seller.this_page_is_private"),description:t,dismissible:!1,positionStatic:!0};return n.createElement(_.C,{content:a,editorType:u.nT.Design,onDismiss:o.lQ})}function b(e){if(!(0,h.iZ)())return n.createElement(n.Fragment,null);let t="hub_file"===(0,f.Vm)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.hub_file"):"plugin"===(0,f.Vm)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.plugin"):"widget"===(0,f.Vm)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.widget"):n.createElement(n.Fragment,null),a={id:p.om.communityResourceInReviewBanner,bannerType:p.x1.WARN,icon:g.A,mainText:(0,c.t)("community.resource.unpublished_banner.your_resource_is_unpublished"),description:t,dismissible:!1,positionStatic:!0};return n.createElement(_.C,{content:a,editorType:u.nT.Design,onDismiss:o.lQ})}var y=a(545941),w=a(986323),T=a(782501),x=a(691205),C=a(555328);let N=a(392922).H;function k(e){let t={id:p.om.communityResourceInReviewBanner,bannerType:p.x1.WARN,icon:g.A,mainText:(0,c.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"),description:(0,c.t)("community.resource.admin_blocked_resource_banner.you_can_only_view_this_page_as_an_admin"),dismissible:!1,positionStatic:!0};return n.createElement(_.C,{content:t,onDismiss:o.lQ})}var S=a(398977),I=a(313496),A=a(848680),L=((r=L||{}).EDIT_THIS_PAGE="edit_this_page",r.OPEN_ORIGINAL_FILE="open_original_file",r.UNPUBLISH="unpublish",r.DELIST="delist",r.MANAGE_RESOURCE="manage_resource",r),R=a(410424),O=a(941381),D=a(446686),F=a(57879),M=a(738269),P=a(662275),B=a(672517),U=a(988022),W=a(820642),V=a(741477),G=a(813408),$=a(143678),j=a(237870),H=a(350913),q=a(206074),Y=a(488578),z=a(109361);let K="MANAGE_RESOURCE_DROPDOWN_TYPE",J=(0,j.Ju)(Y.Rw);function Q(e){var t;let{resource:a,fileKey:r}=e,i=(0,l.wA)(),s=n.useRef(null),d=(0,l.d4)((0,V.E)(K)),m=(0,l.d4)(e=>e.currentUserOrgId),g=(0,A.S)(),E=(0,f.U0)(a),v=(0,C.U)(e.resource)?$.e0.COMMUNITY_HUB_FILE:(0,C.xQ)(a)?$.e0.COMMUNITY_HUB_WIDGET:$.e0.COMMUNITY_HUB_PLUGIN,b=(0,h.iZ)();if(n.useEffect(()=>{(0,C.U)(e.resource)?i((0,R.ts)({hubFileId:e.resource.id})):i((0,O.af)({id:e.resource.id,resourceType:(0,C.I0)(e.resource)?C.bD.PLUGIN:C.bD.WIDGET}))},[i,e.resource,m]),!b)return null;let w=(0,C.m3)(a),T=[],x=(0,c.t)("community.resource.edit_this_page");if(T.push({displayText:x,callback:()=>{(0,C.U)(a)?((0,U.Cu)({name:L.EDIT_THIS_PAGE,hubFileId:a.id,isMonetized:w,text:x,trackingContext:$.e0.COMMUNITY_HUB_FILE,...g,has_carousel_media_nudge:E}),r&&i((0,D.t)({fileKey:r,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:G.k2.RESOURCE_PAGE,...g,canvasThumbnailPromise:(0,W.$2)(r,b)}))):((0,U.Cu)({pluginId:a.id,name:L.EDIT_THIS_PAGE,isMonetized:w,text:x,trackingContext:v,...g,has_carousel_media_nudge:E}),i((0,F.r)({publishedPluginId:a.id,entryPoint:G.k2.RESOURCE_PAGE})))}}),(0,C.U)(a)){let e=(0,c.t)("community.hub_files.open_original_file");if(T.push({displayText:e,callback:()=>{(0,U.Cu)({name:L.OPEN_ORIGINAL_FILE,hubFileId:a.id,isMonetized:w,text:e,trackingContext:$.e0.COMMUNITY_HUB_FILE,...g,has_carousel_media_nudge:E}),S.Ay.redirect(`/file/${r}`,"_blank")}}),!(0,y.Pg)(a)){T.push({displayText:"",disabled:!0,separator:!0});let e=(0,c.t)(w?"community.resource.delist":"community.resource.unpublish");T.push({displayText:e,callback:()=>{(0,U.Cu)({name:w?L.DELIST:L.UNPUBLISH,hubFileId:a.id,isMonetized:w,text:e,trackingContext:$.e0.COMMUNITY_HUB_FILE}),i((0,P.to)({type:J,data:{confirmationTitle:w?(0,c.t)("community.hub_files.delist_file_from_community_hub"):(0,c.t)("community.hub_files.remove_file_from_community_hub"),content:w?(0,c.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,c.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:w?(0,c.t)("community.resource.delist"):(0,c.t)("community.resource.unpublish"),cancelText:(0,c.t)("general.cancel"),onConfirm:()=>{i((0,R.ax)({hubFileId:a.id,redirectLink:(0,H.bL)(a.publisher.profile_handle)}))},destructive:!0}}))}})}}let N=n.createElement(I.g,{ref:s,buttonClassName:"show_resource_creator_banner--manageResourceCTA--lYOcA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{d||((0,U.Cu)({name:L.MANAGE_RESOURCE,resourceId:a.id,has_carousel_media_nudge:E,trackingContext:v,...g}),i((0,M.j7)({type:K})))},isShowingDropdown:!1},(0,c.t)("community.resource.manage_resource")),k={id:p.om.CommunityResourceCreatorBanner,bannerType:p.x1.INFO,icon:z.A,iconSize:"large",mainText:(0,c.t)("community.resource.your_resource_is_live"),description:E?(0,C.U)(a)?(0,c.t)("community.resource.next_we_recommend_adding_more_images"):(0,C.xQ)(a)?(0,c.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,c.t)("community.plugins.widget")}):(0,c.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,c.t)("community.plugins.plugin")}):void 0,dismissible:!1,positionStatic:!0,button:{type:p.MA.CUSTOM,element:N}};return n.createElement(B.fu,{name:"RDP Creator Banner",properties:{name:"rdp_creator_banner",resourceId:a.id,resourceType:(0,f.Vm)(a),hasCarouselMediaNudge:E}},n.createElement(_.C,{content:k,editorType:u.nT.Design,onDismiss:o.lQ}),s.current&&d&&n.createElement(q.j,{dispatch:i,items:T,showPoint:!0,parentRect:null==(t=s.current)?void 0:t.getBoundingClientRect(),onSelectItem:e=>{e.callback&&e.callback("",null,i)},minWidth:120}))}function Z(e){var t;let{resource:a}=e,r=(0,l.d4)(e=>(0,T.MK)(e,a)),o=(0,l.d4)(e=>(0,C.U)(a)?(0,T.cN)(e,a,r):(0,T.Wd)(e,a)),c=(0,C.Uz)(a)?null==(t=a.fig_file_metadata)?void 0:t.key:null,d=x.M4.File.useValue(c),m=!!c&&!!d,u=(0,l.d4)(e=>(0,C.I0)(a)||(0,C.xQ)(a)?(0,w.A)(e,a):null);return(0,i.kc)().community_hub_admin&&(0,y.lT)(a)?n.createElement(k,{resource:a}):(0,i.kc)().community_hub_admin_reviewer&&(0,C.m3)(a)?n.createElement(N,{resource:a}):a.publishing_status?o&&(0,y.AC)(a)?n.createElement(v,{resource:a}):(0,y.Pg)(a)?n.createElement(E,{hasPublisherAdminAccess:o,resource:a}):o&&m?n.createElement(Q,{resource:a,fileKey:c}):o||(0,w.E3)(u)?n.createElement(Q,{resource:a}):n.createElement(s.S,null):n.createElement(b,{resource:a})}},890993:(e,t,a)=>{"use strict";a.d(t,{i:()=>P});var r=a(411855),n=a(188507),l=a(563706),i=a(776621),s=a(304783),o=a(119198),c=a(662275),d=a(988022),m=a(99506),u=a(945020),_=a(873327),p=a(435898),g=a(211041),E=a(799569),f=a(939863),h=a(629019),v=a.n(h);let b="lazy_input--lazyInput--uH0Ln";class y extends r.PureComponent{constructor(e){super(e),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)},this.onChange=e=>{this.procrastinate(),this.setState({value:e.target.value}),this.props.onChange(e)},this.state={value:this.props.value}}componentDidMount(){var e;this.props.autoFocus&&(null==(e=this.props.innerRef)?void 0:e.current)&&this.props.innerRef.current.focus()}UNSAFE_componentWillReceiveProps(e){this.updateIfNotLazy(e.value)}componentWillUnmount(){this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(e){this.procrastinating?this.setState({requestedValue:e}):this.state.value!==e&&this.setState({value:e,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let e={...this.props};return delete e.delay,delete e.innerRef,e.value=this.state.value,e.onChange&&(e.onChange=this.onChange),null==e.value&&(e.value=void 0),e.className?e.className=`${e.className} ${b}`:e.className=b,e}render(){return r.createElement("input",{...this.getProps(),ref:this.props.innerRef,dir:"auto"})}}y.displayName="LazyInput",y.defaultProps={type:"text",delay:1e3};let w=r.forwardRef((e,t)=>r.createElement(y,{...e,innerRef:t}));var T=a(3453);class x extends r.Component{constructor(){super(...arguments),this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e),27===e.keyCode&&e.target.blur()},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)}}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let t=this.props.dataTestId;return delete e.defaultClass,delete e.dataTestId,this.props.onClick&&(e.onClick=this.onClick),r.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":t},this.props.children)}}x.displayName="ButtonBase";class C extends r.Component{render(){let{fullWidth:e,...t}=this.props;return r.createElement(x,{defaultClass:v()(T.xZ,e&&T.Ij),...t})}}C.displayName="ButtonPrimary";class N extends r.Component{render(){let e=this.props;return r.createElement(x,{defaultClass:T.HM,type:"button",...e})}}N.displayName="ButtonSecondary",r.forwardRef(function({className:e,...t},a){return r.createElement(w,{className:v()(T._Z,e),...t,ref:a})});class k extends r.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{9===e.keyCode&&this.setState({showFocus:!0})},this.documentMouseDown=()=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${T.kv} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${T.hP}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let e=this.props.classOverride||this.classNameForInput(),t={...this.props,className:e};return delete t.classOverride,r.createElement("input",{type:"checkbox",onFocus:this.onFocus,...t})}}k.displayName="Checkbox";var S=a(237870),I=a(488578);let A=(0,S.Ju)(function(e){return r.createElement(I.aF,{title:r.createElement("div",{className:"feature_not_available_modal--title--kPAVe text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement(f.Tx,{id:"community.collections.this_feature_isnt_available"})),className:"feature_not_available_modal--modalContainer--Etu7A"},r.createElement(E.s_,{dispatch:e.dispatch}),r.createElement("div",{className:"feature_not_available_modal--modalBody--Dhwo0 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement(f.Tx,{id:"community.collections.this_feature_isnt_available_body"})," ",r.createElement("a",{className:"feature_not_available_modal--learnMore--L4kDU modal--blueLink--9GcJu blue_link--blueLink--9rlnd",target:"_blank",href:"https://help.figma.com/hc/en-us/articles/17725942479127-Access-or-opt-out-of-AI-features"},r.createElement(f.Tx,{id:"community.collections.learn_more"}))),r.createElement("div",{className:"feature_not_available_modal--buttonContainer--9-Zwv"},r.createElement(C,{onClick:()=>{e.dispatch(c.Ce())}},r.createElement(f.Tx,{id:"general.got_it"}))))}," FeatureNotAvailableModal"),L=(0,S.Ju)(function(e){return r.createElement(I.aF,{className:"head_to_desktop_modal--modalContainer--BRiSA"},r.createElement(E.s_,{dispatch:e.dispatch}),r.createElement("img",{width:"100%",alt:(0,f.t)("community.collections.head_to_desktop"),src:"https://static.figma.com/uploads/f95cfc857cdc5c164958966add0665b69673667c"}),r.createElement("div",{className:"head_to_desktop_modal--modalBody--n9Et8 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("h1",{className:"head_to_desktop_modal--title--kJAKG text--fontPos18--rYXJb text--_fontBase--QdLsd"},r.createElement(f.Tx,{id:"rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"})),r.createElement("p",null,r.createElement(f.Tx,{id:"community.collections.head_to_desktop"})),r.createElement("button",{className:"head_to_desktop_modal--gotIt--StOau",onClick:()=>{e.dispatch(c.Ce())}},r.createElement(f.Tx,{id:"general.got_it"}))))}," HeadToDesktopModal");var R=a(999021),O=a(375360),D=a(152462),F=a(620268);function M({title:e,description:t,imageUrl:a,onClick:n}){let i=(0,l.o4)();return r.createElement("div",{className:v()(F.Ui,"figjam_ai_card--cardContainer--kCDdk"),"data-testid":"collection-figjam-ai-card"},r.createElement("div",{className:v()(F.Nr,"figjam_ai_card--card--KTu46")},i?r.createElement("div",{className:"figjam_ai_card--mobileOverlay--EhOsZ"},r.createElement("button",{className:v()("figjam_ai_card--invisibleButton--LuV4E"),onClick:n})):r.createElement("div",{className:"figjam_ai_card--overlayContainer--dDIiY"},r.createElement("div",{className:"figjam_ai_card--overlay--g6q4O"}),r.createElement("button",{className:v()("figjam_ai_card--ctaButton--wveh5",D.jx,D.tt,D.hh),onClick:n},r.createElement(f.Tx,{id:"community.collections.generate"}))),r.createElement(O.tL,{title:e,description:t}),r.createElement(R.c,{srcSet:"",src:a,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:e,className:v()(F.Sl,"figjam_ai_card--image--L-R2C"),imageProps:{onLoad:e=>e.currentTarget.style.opacity="1"}})))}function P({title:e,description:t,imageUrl:a,prompt:E,promptCategory:f}){let h=(0,n.wA)(),v=(0,_.Bq)(),b=(0,l.o4)(),y=(0,g.yT)(),w=(e,t)=>{h(o.zE({state:v,from:u.f6.COMMUNITY_COLLECTIONS_PAGE,editorType:m._Y.WHITEBOARD,team:void 0,openNewFileIn:u.ai.NEW_TAB,figjamAiNewFileData:{prompt:e,subtitle:e,useCaseCategory:t,entrypoint:p.fV.COMMUNITY}}))};return r.createElement(M,{onClick:()=>{(0,d.Cu)({name:"community_collections_figjam_ai",prompt:E,title:e,description:t,promptCategory:f,isMobile:`${b}`}),b?h((0,c.to)({type:L,data:{dispatch:h}})):y?h((0,c.to)({type:A,data:{dispatch:h}})):Object.values(p.es).includes(f)?w(E,f):(0,i.$D)(s.e.COMMUNITY,Error(`Invalid use case category (${f}) for figjam ai card: ${e}`))},title:e,description:t,imageUrl:a})}},375360:(e,t,a)=>{"use strict";a.d(t,{rS:()=>g,tL:()=>v});var r=a(411855);if(443==a.j)var n=a(860601);var l=a(999021),i=a(939863),s=a(674694),o=a(240411),c=a(766648),d=a(568424),m=a(837324),u=a(672517),_=a(555328),p=a(620268);function g({resource:e,title:t,description:a}){switch((0,m.Vm)(e)){case _.vt.HUB_FILE:return r.createElement(E,{hubFile:e,title:t,description:a,key:e.id});case _.vt.WIDGET:return r.createElement(f,{widget:e,title:t,description:a,key:e.id});case _.vt.PLUGIN:return r.createElement(h,{plugin:e,title:t,description:a,key:e.id});default:return null}}function E({hubFile:e,title:t,description:a}){let l=(0,m.qD)(e),i=(0,m._t)({resource:e});return r.createElement("div",{className:p.Ui,"data-testid":"collection-resource-card"},r.createElement(u.L0,{className:p.Nr,href:i,trackingEventName:"community_collections",trackingProperties:{name:"hub_file_card_clicked",href:i},target:"_blank"},r.createElement(v,{title:t??l.name,description:a??l.description}),r.createElement(s.Xy,{className:p.Sl,image:e.thumbnail_url,hubFileId:e.id,onLoad:n.lQ,alt:l.name,resizedThumbnailUrls:e.resized_thumbnail_urls})),r.createElement(b,{resource:e}))}function f({widget:e,title:t,description:a}){let n=(0,m.qD)(e),i=(0,m._t)({resource:e});return r.createElement("div",{className:p.Ui,"data-testid":"collection-resource-card"},r.createElement(u.L0,{className:p.Nr,href:i,trackingEventName:"community_collections",trackingProperties:{name:"widget_card_clicked",href:i},target:"_blank"},r.createElement(v,{title:t??n.name,description:a??n.description}),r.createElement(l.c,{srcSet:"",src:n.redirect_snapshot_url||n.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:n.name,className:p.Sl,imageProps:{onLoad:e=>e.target.style.opacity="1"}})),r.createElement(b,{resource:e}))}function h({plugin:e,title:t,description:a}){let n=(0,m.qD)(e),i=(0,m._t)({resource:e});return r.createElement("div",{className:p.Ui,"data-testid":"collection-resource-card"},r.createElement(u.L0,{className:p.Nr,href:i,trackingEventName:"community_collections",trackingProperties:{name:"plugin_card_clicked",href:i},target:"_blank"},r.createElement(l.c,{srcSet:"",src:n.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:n.name,className:p.t3,imageProps:{onLoad:e=>e.target.style.opacity="1"}}),r.createElement(v,{title:t??n.name,description:a??n.description})),r.createElement(b,{resource:e}))}function v({title:e,description:t}){return r.createElement("div",{className:p.pq},r.createElement("div",{className:p.DD},e),r.createElement("div",{className:p.h_},r.createElement(d._,{description:t})))}function b({resource:e}){var t,a;return r.createElement("div",{className:p.qr},r.createElement("div",{className:p.ME},r.createElement(c.Lf,{publishers:(null==(t=e.community_publishers)?void 0:t.accepted)||[]}),r.createElement("div",{className:p.vR},r.createElement(i.Tx,{id:"community.cards.by"}),r.createElement(c.Iq,{publishers:(null==(a=e.community_publishers)?void 0:a.accepted)||[],removeByLabel:!0,openInNewTab:!0}))),r.createElement("div",{className:p.uK},r.createElement(o.cz,{resource:e,currentUserLiked:!1}),r.createElement(o.i8,{resource:e})))}},256508:(e,t,a)=>{"use strict";a.d(t,{o6:()=>o,k:()=>c});var r=a(691205),n=a(167807),l=a(547807);let i=new class{constructor(){this.CollectionPageSchemaValidator=(0,l.vh)()}getCollectionPageByUrlSlug(e,t){return this.CollectionPageSchemaValidator.validate(async({xr:a})=>await a.get(`/api/collection_pages/${e}?is_template_url=${t}`))}},s=new class{constructor(){this.CollectionPageSchemaValidator=(0,l.vh)()}getCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.get(`/api/admin/collection_pages/${e}`))}updateCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.put(`/api/admin/collection_pages/${e.urlSlug}`,l.td.toAPIParameters(e.collectionPage||{})))}deleteCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.del(`/api/admin/collection_pages/${e.urlSlug}`))}createCollectionPage(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.post("/api/admin/collection_pages",l.td.toAPIParameters(e.collectionPage||{})))}},o=r.M4.Query({fetch:async({urlSlug:e,isTemplateUrl:t})=>(await i.getCollectionPageByUrlSlug(e,t)).data.meta});r.M4.Query({fetch:async({urlSlug:e})=>(await s.getCollectionPageByUrlSlug(e)).data.meta}),r.M4.Mutation(async({urlSlug:e,collectionPage:t})=>(await s.updateCollectionPageByUrlSlug({urlSlug:e,collectionPage:t})).data.meta),r.M4.Mutation(async({urlSlug:e})=>(await s.deleteCollectionPageByUrlSlug({urlSlug:e})).data.meta),r.M4.Mutation(async e=>(await s.createCollectionPage({collectionPage:e})).data.meta),r.M4.PaginatedQuery({fetch:(0,n.ER)(()=>"/api/admin/collection_pages",8)});let c=r.M4.PaginatedQuery({fetch:(0,n.ER)(()=>"/api/collection_pages",8)})},62258:(e,t,a)=>{"use strict";let r;a.d(t,{X:()=>eD});var n=a(411855),l=a(188507),i=a(697551),s=a(782501),o=a(560718),c=a(860178),d=a(776250),m=a(183297),u=a(493323);function _(e){let t=n.useRef(null);return n.useEffect(()=>{let a=()=>{var a;window.innerHeight<((null==(a=t.current)?void 0:a.getBoundingClientRect().bottom)||1/0)||e.onScrollToBottom()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[e]),n.createElement("div",{ref:t},e.children,e.showLoader&&n.createElement("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8"},n.createElement(u.kt,null)))}function p(e){let{onScrollToBottom:t,children:a,showLoader:r}=e;return n.createElement(_,{onScrollToBottom:t,children:a,showLoader:r})}p.displayName="WithInfiniteScroll";var g=a(135876),E=a(428322),f=a(939863),h=a(848680),v=a(837324),b=a(612776),y=a(609271),w=a(63397),T=a(107877),x=a(820642),C=a(555328),N=a(323667),k=a(738269),S=a(994988),I=a(318812),A=a(459343),L=a(206074);let R="comments_view--loader--tz-FD",O="comments-sort-dropdown",D="SHOW_RESOLVED",F=function({labelClassName:e,includeShowResolved:t,isLoggedIn:a}){var r;let i=(0,l.wA)(),s=(0,I.U)(),o=(0,l.d4)(e=>e.communityHub.comments.activeFeedType),c=(0,l.d4)(e=>e.communityHub.comments.showResolved),m=n.useRef(null),[u,_]=n.useState(null),p=(null==s?void 0:s.type)===O,g={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},E=e=>{switch(e){case g.ALL:return(0,f.t)("community.comments.all");case g.ME:return(0,f.t)("community.comments.your_comments");case g.COMMENTS:return(0,f.t)("community.comments.comments_only");case g.RATINGS_REVIEWS:return(0,f.t)("community.comments.reviews_only");default:return""}},h=null==(r=null==s?void 0:s.data)?void 0:r.targetRect;n.useEffect(()=>{h&&_(h)},[h]);let v=Object.keys(g).filter(e=>a||e!==C.Qv.ME).filter(e=>e!==C.Qv.RATINGS_REVIEWS&&e!==C.Qv.COMMENTS).map(e=>({displayText:E(g[e]),name:e,isChecked:e===o}));return t&&(v.push({displayText:"",separator:!0,name:void 0}),v.push({displayText:(0,f.t)("community.comments.show_resolved"),isChecked:c,name:D})),n.createElement("div",null,n.createElement("div",{onClick:e=>{e.stopPropagation();let t=m.current;p?i(k.oB()):t&&(_(t.getBoundingClientRect()),i(k.j7({type:O})))},className:e||"comments_view--commentsSortLabel--mpkGD"},E(g[o]),n.createElement(A.c,{className:"comments_view--commentsSortChevron--989-q",dispatch:i,dropdownKey:O,showingDropdown:p,divRef:m,toggleOnClick:!0})),p&&u&&n.createElement(L.j,{dispatch:i,items:v,parentRect:u,onSelectItem:e=>{(0,d.sx)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===D?i(S.mH(!c)):i(w.Zj(e.name)))},minWidth:164,showPoint:!0}))};var M=a(629019),P=a.n(M),B=a(564577),U=a(574176),W=a(498480);function V(){return n.createElement(W.Ex,{text:(0,f.t)("community.comments.creator"),color:W.zE.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var G=a(498606);let $="comment_tile--commentContainerFadeOut--AMWrR",j="comment_tile--nextSiblingCommentReset--4shUj",H="comment_tile--iconButton--MZmz1";function q(e){return document.querySelector(`[data-comment-id="${e}"]`)}let Y={fadeOut:async(e,t)=>{t||(t={resetNextComment:!1});let a=q(e);if(!a)return;let r=a.getBoundingClientRect();a.classList.add($);let n=a.nextSibling;return n&&(n.style.marginTop=`-${r.height-1}px`),await new Promise(e=>setTimeout(e,Y.ANIMATION_LENGTH)),t.resetNextComment&&Y.resetNextComment(null==n?void 0:n.dataset.commentId),null==n?void 0:n.dataset.commentId},resetNextComment:e=>{let t=e&&q(e);t&&(t.classList.add(j),t.style.marginTop="0px",setTimeout(()=>t.classList.remove(j),50))},fadeIn:e=>{let t=document.querySelector(`[data-comment-id="${e}"]`);if(!t)return;t.classList.remove($);let a=t.nextSibling;a&&(a.style.marginTop="0px")},ANIMATION_LENGTH:400};var z=a(227795),K=a(977468),J=a(400333),Q=a(392592),Z=a(970516),X=a(662275),ee=a(707465),et=a(124780),ea=a(965837),er=a(688734),en=a(946689),el=a(67294),ei=a(237870),es=a(488578),eo=a(596049);let ec=(0,ei.Ju)(function(e){let t=e.reportType===o.nI.REPORT_AND_HIDE,a=t?(0,f.t)("community.comments.report_and_hide_author_name_s_comment",{authorName:e.comment.author.name}):(0,f.t)("community.comments.report_author_name_s_comment",{authorName:e.comment.author.name}),r=n.createElement("p",{className:eo.zC},t?(0,f.t)("community.comments.this_will_flag_the_comment_for_review_and_hide_it_for_everyone"):(0,f.t)("community.comments.this_will_flag_the_comment_for_review")," ",(0,f.t)("community.comments.comment_author_will_not_be_notified",{authorName:e.comment.author.name})," ",n.createElement(f.Tx,{id:"community.comments.please_read_our_link_before_reporting",link:n.createElement(en.CY,{href:"https://help.figma.com/hc/articles/360038510573-Figma-Community-Guidelines",target:"_blank",trusted:!0},n.createElement(f.Tx,{id:"community.community_guidelines"}))}));return n.createElement(es.Rw,{confirmationTitle:a,confirmText:(0,f.t)("community.comments.report"),onConfirm:()=>e.onReport(e.comment.id),destructive:!0},n.createElement("div",{className:eo.RZ,"data-testid":"comment-confirm-report-modal-content"},n.createElement(el.H8,{user:e.comment.author,size:el.Pf.LARGE}),r))},"CommentConfirmReportModal");var ed=((r=ed||{}).COPY_LINK="Copy link",r.EDIT="Edit",r.DELETE="Delete",r.DELETE_THREAD="Delete thread",r.FOLLOW_PROFILE="Follow",r.UNFOLLOW_PROFILE="Unfollow",r.BLOCK_PROFILE_COMMENTING="Restrict user's comments",r.UNBLOCK_PROFILE_COMMENTING="Unrestrict user's comments",r.REPORT_COMMENT="Report",r.REPLY="Reply",r);function em(e){return{name:e,displayText:function(e){switch(e){case"Copy link":return(0,f.t)("community.comments.copy_link");case"Edit":return(0,f.t)("community.comments.edit");case"Delete":return(0,f.t)("community.comments.delete");case"Delete thread":return(0,f.t)("community.comments.delete_thread");case"Follow":return(0,f.t)("community.follow.follow");case"Unfollow":return(0,f.t)("community.follow.unfollow");case"Restrict user's comments":return(0,f.t)("community.comments.restrict_user_s_comments");case"Unrestrict user's comments":return(0,f.t)("community.comments.unrestrict_user_s_comments");case"Report":return(0,f.t)("community.comments.report_comment");case"Reply":return(0,f.t)("community.comments.reply")}}(e)}}let eu=(0,l.Ng)(e=>({resourcePagePath:(0,ee.Np)(e,e.selectedView)}))(function(e){let t=(0,l.wA)(),a=(0,c.iZ)(),r=()=>{var t;null==(t=e.onEdit)||t.call(e)},i=()=>{e.onDelete&&t((0,X.to)({type:ea.h,data:{onConfirm:()=>e.onDelete()}}))},s=()=>{t(Z.lW({stringToCopy:(0,et.tE)(e.resourcePagePath,e.comment.id)}))},m=(r,n)=>{t(w._8({blockedProfileId:n,profileId:r,onSuccess:()=>{t(S.BV({authorId:n,removeCommentsCallback:async e=>{e.map(e=>Y.fadeOut(e.id,{resetNextComment:!0})),await new Promise(e=>setTimeout(e,Y.ANIMATION_LENGTH))}})),t(Q.F.enqueue({message:(0,f.t)("community.comments.restricted_this_user_s_comments"),type:"profile-restricted-change"})),(0,d.sx)("comment_profile_restricted",{restricted_by_profile_id:null==a?void 0:a.community_profile_id,restricted_profile_id:n,entry_point:"comment",comment_id:e.comment.id})}}))},u=(a,r)=>{t(w.dL({blockedProfileId:r,profileId:a,onSuccess:()=>{t(Q.F.enqueue({message:(0,f.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,f.t)("community.comments.undo"),action:()=>{m(a,r)}}})),(0,d.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:a,unrestricted_profile_id:r,comment_id:e.comment.id,entry_point:"comment"})}}))},_=()=>{var a;let{profileIdToAdminResourceAs:r}=e,n=null==(a=e.comment)?void 0:a.author.id;r&&n&&t((0,X.to)({type:er.H,data:{onBlock:()=>m(r,n),confirmationTitle:(0,f.t)("community.comments.remove_comment_and_restrict_user"),confirmButtonText:(0,f.t)("community.comments.remove_and_restrict")}}))},p=e=>{t(w.e6(e))},g=e=>{t(w.X2(e))},E=async a=>{let r=await Y.fadeOut(a);t(S.eG({commentId:a,userIsAdmin:!!e.userIsAdmin,onFinish:e=>{e?Y.fadeIn(a):r&&Y.resetNextComment(r)}}))},h=e=>{t((0,X.to)({type:ec,data:{comment:e,reportType:o.nI.REPORT_AND_HIDE,onReport:E}}))},v=e=>{t((0,X.to)({type:ec,data:{comment:e,reportType:o.nI.REPORT,onReport:E}}))};return n.createElement(L.j,{dispatch:t,items:e.items,showPoint:!0,parentRect:e.parentRect,onSelectItem:(t,a)=>{var n;"Edit"===t.name?r():"Delete"===t.name||"Delete thread"===t.name?i():"Copy link"===t.name?s():"Follow"===t.name&&e.comment.author.id?p(e.comment.author.id):"Unfollow"===t.name&&e.comment.author.id?g(e.comment.author.id):"Restrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?_():"Unrestrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?u(e.profileIdToAdminResourceAs,e.comment.author.id):"Report"===t.name?e.userIsAdmin?h(e.comment):v(e.comment):"Reply"===t.name&&(null==(n=e.onReply)||n.call(e))},minWidth:96,dataTestId:"comment-menu"})});function e_(e){let t=[em(ed.EDIT),em(e.isThreadParent?ed.DELETE_THREAD:ed.DELETE)];return e.hideCopyLink||t.push(em(ed.COPY_LINK)),n.createElement(eu,{comment:e.comment,parentRect:e.parentRect,items:t,onEdit:e.onEdit,onDelete:e.onDelete})}function ep(e){let t=[];return e.canReplyToComment&&t.push(em(ed.REPLY)),e.hideCopyLink||t.push(em(ed.COPY_LINK)),t.push(em(e.author.is_restricted_by_current_user?ed.UNBLOCK_PROFILE_COMMENTING:ed.BLOCK_PROFILE_COMMENTING)),t.push(em(ed.REPORT_COMMENT)),n.createElement(eu,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,comment:e.comment,parentRect:e.parentRect,items:t,onDelete:e.onDelete,onReply:e.onReply,userIsAdmin:!0})}function eg(e){let t=[];return e.userExists&&t.push(em(ed.REPORT_COMMENT)),e.hideCopyLink||t.unshift(em(ed.COPY_LINK)),n.createElement(eu,{comment:e.comment,parentRect:e.parentRect,items:t})}function eE(e){var t;let a=(0,c.iZ)(),r=(0,l.d4)(e=>e.authedActiveCommunityProfile),s=(0,l.d4)(t=>t.communityHub.comments.commentsById[e.comment.id]),d=(0,l.d4)(e=>e.communityHub.comments.authorsById[s.author.id]),m=(t=o.ej.COMMUNITY,!!a&&t===o.ej.COMMUNITY&&!(0,i.cs)(r)&&s.author.profile_handle===a.community_profile_handle),u=(null==r?void 0:r.id)===e.profileIdToAdminResourceAs;return m?n.createElement(e_,{comment:s,parentRect:e.parentRect,onEdit:()=>e.onEdit(s),onDelete:()=>e.onDelete(s),hideCopyLink:e.hideCopyLink,isThreadParent:e.isThreadParent}):e.profileIdToAdminResourceAs&&u?n.createElement(ep,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,author:d,comment:s,parentRect:e.parentRect,onDelete:e.onDelete,hideCopyLink:e.hideCopyLink,canReplyToComment:!!e.onReply,onReply:()=>{var t;return null==(t=e.onReply)?void 0:t.call(e,s)}}):n.createElement(eg,{comment:s,parentRect:e.parentRect,userExists:!!a,hideCopyLink:e.hideCopyLink})}var ef=a(503457);let eh=(0,ef.kf)("lazy_create_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(8662),a.e(1876),a.e(5343),a.e(5284),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,815988))).CreateCommentComposer})}),ev=(0,ef.kf)("lazy_edit_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(8662),a.e(1876),a.e(5343),a.e(5284),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,439827))).EditCommentComposer})}),eb=(0,ef.kf)("lazy_reply_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(8662),a.e(1876),a.e(5343),a.e(5284),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,711379))).ReplyCommentComposer})});(0,ef.kf)("lazy_comment_editable_typeahead",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(8662),a.e(1876),a.e(5343),a.e(5284),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,815988))).CommentEditableTypeahead})});var ey=a(95779),ew=a(210105);function eT(e){let{comment:t,author:a,userIsAuthor:r,isAuthorAcceptedPublisher:i}=e,[s,c]=n.useState(!1),m=n.useRef(null),u=(0,l.d4)(e=>e.dropdownShown),_=(0,l.wA)(),[p,g]=n.useState(!1),[E,v]=n.useState(null),b=n.useCallback(()=>{(null==u?void 0:u.type)===o.Ng&&_(k.oB())},[u,_]);n.useEffect(()=>(window.addEventListener("scroll",b,!1),()=>{window.removeEventListener("scroll",b,!1)}),[b]);let y=(0,h.S)(),w={};if(y&&(w.searchSessionId=y.searchSessionId),!t||!a)return n.createElement(n.Fragment,null);let T=async()=>{let a=await Y.fadeOut(t.id);_(S.Tu({commentId:t.id,commentType:e.commentType,onFinish:e=>{e?Y.fadeIn(t.id):Y.resetNextComment(a)}}))},x=e=>{e.preventDefault(),e.stopPropagation(),_(k.$T({view:"communityHub",subView:"handle",handle:a.profile_handle}))};if(p)return n.createElement(ev,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:t.id,message:t.message,messageMeta:t.message_meta??[],onComplete:()=>{(0,d.sx)(N.E,{commentId:null==t?void 0:t.id,message:null==t?void 0:t.message,userId:a.primary_user_id,profileId:a.id,resourceType:e.resourceType,resourceId:e.resourceId,...w},{forwardToDatadog:!0}),g(!1)}});let C=e.selected&&!e.isCreatorReply,I=t.reply_count,A=!!(u&&u.type===o.Ng&&u.data.commentId===t.id),L=!!t.hidden_at&&!r,R=`/@${a.profile_handle}`;return n.createElement("div",{className:P()(C?"comment_tile--tempSelectedCommentTile--eo1zi comment_tile--selectedCommentTile--9xoJJ comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v":"comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v",{"comment_tile--creatorReplySelectedParent--aVNCs comment_tile--creatorReply--OO0It":!!e.selected&&e.isCreatorReply,"comment_tile--creatorReply--OO0It":!e.selected&&e.isCreatorReply,"comment_tile--noSeparator--RL2vm":e.hideSeparator}),"data-comment-id":t.id,role:"button",tabIndex:0},n.createElement("a",{className:"comment_tile--commentAvatarContainer--e8z35",onClick:x,href:R},n.createElement(K.Ro,{entity:a,size:32,className:"comment_tile--commentAvatar--5xfu2 community_hub_view--creatorInsetBorder--qcys- community_hub_view--creatorInsetBorderNoHover--OWBJS"})),n.createElement("div",{className:e.hideSeparator||C?"comment_tile--commentContentWrapperNoBorder--Poey3 comment_tile--commentContentWrapper--L2vv2":"comment_tile--commentContentWrapper--L2vv2"},n.createElement("div",{className:"comment_tile--commentContent--QUN--"},n.createElement("div",{className:"comment_tile--commentMetaAndOptions--Avk6k"},n.createElement("div",null,n.createElement("a",{className:"comment_tile--commentAuthorLink--3Q-Ty ellipsis--ellipsis--Tjyfa",onClick:x,href:R},n.createElement("span",{className:"comment_tile--commentAuthor--X2tiN text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.name),n.createElement("span",{className:"comment_tile--commentAuthorHandle--qrjUX comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},`@${a.profile_handle}`)),i&&n.createElement(V,null),n.createElement("span",{className:"comment_tile--commentMetaDivider--pzekb text--fontPos13--xW8hS text--_fontBase--QdLsd"},"\xb7"),n.createElement(B.h1,{className:"comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd",date:t.created_at})),n.createElement("div",{className:"comment_tile--commentOptions--hNQQM"},L&&n.createElement(U.B,{className:"comment_tile--isHiddenIcon--isUzt",svg:ew.A}),n.createElement("div",{className:H},n.createElement(z.K0,{svg:ey.A,ref:m,onClick:e=>{let a=m.current;u?b():a&&(v(a.getBoundingClientRect()),_(k.j7({type:o.Ng,data:{commentId:t.id}}))),e.stopPropagation()},className:A?"comment_tile--iconButtonSelected--CaL6y raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":H,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,f.t)("community.comments.comment_actions")})))),n.createElement("div",{className:L?"comment_tile--messageIsHidden--e-XiE comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd":"comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(J.HH,{messageMeta:t.message_meta??[],className:"comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",showEditedIndicator:!!t.edited_at,commentId:t.id})),s&&n.createElement("div",{className:"comment_tile--replyComposerContainer--Cfzby"},n.createElement(eb,{fallback:null,errorFallback:null,commentType:e.commentType,parentId:t.id,resourceId:e.resourceId,resourceType:e.resourceType,onSuccessCallback:()=>c(!1),onComplete:()=>c(!1)})))),A&&E&&n.createElement(eE,{parentRect:E,comment:t,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,onEdit:()=>{g(!0)},onDelete:T,hideCopyLink:!!t.parent_id,isThreadParent:I>0,onReply:0===t.reply_count?()=>{c(!0)}:void 0}))}let ex=(0,l.Ng)((e,t)=>{var a,r;let{comments:n}=e.communityHub,l=n.commentsById[t.id],i=t.replyId?n.commentsById[t.replyId]:void 0;if(!l)return{user:e.user||null};let s=n.authorsById[l.author.id],o=n&&n.selectedCommentId===l.id,c=i?n.authorsById[i.author.id]:void 0;return{user:e.user||null,comment:l,creatorReply:i,replyAuthor:c,author:s,userIsResponder:(null==c?void 0:c.id)===(null==(a=e.user)?void 0:a.community_profile_id),userIsAuthor:s.id===(null==(r=e.user)?void 0:r.community_profile_id),selected:o}})(function(e){return n.createElement(n.Fragment,null,n.createElement(eT,{id:e.id,user:e.user,comment:e.comment,author:e.author,selected:e.selected,userIsAuthor:e.userIsAuthor,commentType:e.commentType,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator||!!e.creatorReply,resourceType:e.resourceType,resourceId:e.resourceId}),!!e.replyId&&n.createElement(eT,{id:e.replyId,user:e.user,comment:e.creatorReply,author:e.replyAuthor,selected:e.selected,userIsAuthor:e.userIsResponder,commentType:e.commentType,isAuthorAcceptedPublisher:!0,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator,isCreatorReply:!!e.replyId,resourceType:e.resourceType,resourceId:e.resourceId}))});function eC(){return n.createElement("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"}))}ex.displayName="CommentTile";let eN="comments_list--emptyStateWrapper--utBdd",ek="comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd";function eS(e){var t;let a=(0,l.d4)(e=>e.communityHub.comments.commentsById),r=(0,l.d4)(e=>e.communityHub.comments.showResolved),c=(0,l.d4)(e=>(0,i.cs)(e.authedActiveCommunityProfile)),{parentCommentIds:d,replies:m}=function(e,t){let a=[],r={};return e.forEach(e=>{if(t[e]){let{parent_id:n}=t[e];n&&t[n]?r[n]=e:n||a.push(e)}}),{parentCommentIds:a,replies:r}}(e.comments,a),u=r?d:d.reduce((e,t)=>{var r;return(null==(r=a[t])?void 0:r.resolved_at)||e.push(t),e},[]),_=(0,v.Vm)(e.resource);if(0===u.length&&!e.hasSelectedComment&&e.resource.comments_setting!==o.Ni.ALL_DISABLED)return n.createElement(eI,{isTeamOrOrgProfileActive:c});let p=[];if((_===C.vt.PLUGIN||_===C.vt.WIDGET)&&(null==(t=e.resource)?void 0:t.versions)&&e.resource.current_plugin_version_id){let t=e.resource,r=t.versions[t.current_plugin_version_id].id;u.forEach(l=>{let i=a[l],o=null==i?void 0:i.resource_version_id,c=t.versions[o];if(o&&c){if(o!==r){let e=new Date(c.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=o===r&&c?void 0:`Version ${c.version} \xb7 ${e}`,a=p.pop();a&&p.push(n.cloneElement(a,{hideSeparator:!0})),p.push(n.createElement("div",{key:`divider-${o}`,className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),r=o}p.push(n.createElement(ex,{key:l,id:l,replyId:m[l],isAuthorAcceptedPublisher:(0,s.PR)(i,e.resource),commentType:e.commentType,resourceType:_,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}))}})}else p=u.map(t=>{let r=a[t];return n.createElement(ex,{key:t,id:t,replyId:m[t],isAuthorAcceptedPublisher:(0,s.PR)(r,e.resource),commentType:e.commentType,resourceType:_,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs})});return n.createElement(n.Fragment,null,p)}function eI({isTeamOrOrgProfileActive:e}){return e?n.createElement("div",{className:eN},n.createElement(eC,null),n.createElement("div",{className:ek},n.createElement(f.Tx,{id:"community.comments.to_comment_switch_to_your_personal_profile"}))):n.createElement("div",{className:eN},n.createElement(eC,null),n.createElement("div",{className:ek},n.createElement(f.Tx,{id:"community.comments.your_kudos_and_feedback_are_welcome"})),n.createElement("div",{className:"comments_list--emptyStateSubheader--L5hsL text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(f.Tx,{id:"community.comments.share_your_thoughts_using_the_comment_box_above"}),n.createElement("br",null)))}var eA=a(975350);function eL(e){let t=(0,l.wA)(),a=e.className?e.className:e.isShowing?"new_comments_toast--newCommentsToast--LpAPa text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L":"new_comments_toast--newCommentsToastHidden--QFXlr new_comments_toast--newCommentsToast--LpAPa text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L";return n.createElement("div",{className:a},n.createElement("div",{className:"new_comments_toast--text--yQ1Nw"},n.createElement(f.Tx,{id:"community.comments.new_comments"})),n.createElement("div",{className:"new_comments_toast--cta---bSfb",onClick:a=>{a.stopPropagation(),t(eA.UU()),t(w._F()),e.onRefresh()}},n.createElement(f.Tx,{id:"community.comments.refresh"})))}let eR=!1;function eO(e){var t;let a;let r=(0,l.wA)(),s=(0,c.iZ)(),[o,u]=(0,n.useState)(!1),[_,k]=(0,n.useState)(!1),S=(0,b.o5)({isLoggedOut:!1}),[I,A]=(0,n.useState)(!0),L=n.useRef(null),O=(0,l.d4)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,x.t0)(e.selectedView.fullscreenState)),D=(0,l.d4)(e=>e.communityHub.comments.activeFeedType),M=(0,l.d4)(e=>e.communityHub.comments.newCommentsQueue),P=(0,l.d4)(e=>e.communityHub.comments.feeds),{feed:B,pagination:U}=n.useMemo(()=>P[D]||{feed:[]},[P,D]),W=(0,l.d4)(e=>e.communityHub.comments.selectedCommentId),V=(0,l.d4)(e=>e.selectedView.commentThreadId),G=(0,l.d4)(e=>{var t;return!!(null==(t=e.user)?void 0:t.community_profile_id)}),$=W||V,j=D===C.Qv.ALL?e.numCommentsForResource:null==(t=P[D])?void 0:t.totalNumberOfComments,{resource:H}=e,q=(0,v.Vm)(H),Y=M.length>0,z=()=>{if(eR)return;eR=!0,u(!0);let e={resourceId:H.id,resourceType:q,selectedCommentId:$,pagination:U,activeFeedType:D,numCommentsForResource:j,pageSizeOverride:S()?T.zn:T.VK};r(w.p4({...e,onSuccess:e=>{r(w.vr(e)),eR=!1,u(!1)},onError:()=>{eR=!1,u(!1)}}))},K=void 0===U&&(0,i.e5)(H);n.useEffect(()=>{K&&z()},[D,K]);let J=!!U,Q=null==U?void 0:U.selected_comment;n.useEffect(()=>{I&&Q&&(L.current&&window.scroll({left:0,top:L.current.offsetTop-36,behavior:"smooth"}),A(!1))},[I,Q]),n.useEffect(()=>{r(w.cO())},[H.id]);let Z=()=>J&&(0,m.u9)({pagination:U})&&z(),X=B.filter(e=>{var t;return e!==(null==(t=null==U?void 0:U.selected_comment)?void 0:t.id)});(null==U?void 0:U.selected_comment)&&X.unshift(null==U?void 0:U.selected_comment.id);let ee=(0,h.S)(),et={};return(ee&&(et.searchSessionId=ee.searchSessionId),(0,i.e5)(H))?n.createElement(n.Fragment,null,n.createElement("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:L},!e.commentingIsRestricted&&n.createElement(eh,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:q,resourceId:H.id,onSuccessCallback:e=>{(0,d.sx)(N.d,{commentId:null==e?void 0:e.id,message:null==e?void 0:e.message,userId:null==s?void 0:s.id,profileId:null==s?void 0:s.community_profile_id,resourceType:q,resourceId:H.id,...et})}}),n.createElement("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"comments_view--numCommentsForResource--J0QKb"},(a=j||0,(0,f.t)("community.comments.pluralize_comments",{numComments:a}))),!O&&!e.commentingIsRestricted&&n.createElement(F,{includeShowResolved:!1,isLoggedIn:G})),n.createElement(E.a,{onIntersectionChange:e=>{_||(k(!0),(0,d.sx)("Community Comments Section Impressed",{resourceType:q,resourceId:H.id}))}}),n.createElement(y.hJ,null,n.createElement(g.x,{isLoading:void 0===U,className:R},()=>n.createElement(p,{onScrollToBottom:Z,showLoader:o&&(0,m.u9)({pagination:U})},n.createElement(eS,{comments:X,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hasSelectedComment:!!(null==U?void 0:U.selected_comment)})))),n.createElement(y.XY,null,n.createElement(g.x,{isLoading:void 0===U,className:R},()=>n.createElement(n.Fragment,null,n.createElement(eS,{comments:X,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}),(0,m.u9)({pagination:U})&&n.createElement("div",{className:"comments_view--mobileLoadMore--tqxIs text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:Z},n.createElement(f.Tx,{id:"community.comments.load_more_comments"})))))),n.createElement("div",{className:"comments_view--notifications--ZuAh9"},n.createElement(eL,{onRefresh:()=>{var e;let t=null==(e=L.current)?void 0:e.offsetTop;t&&window.scrollY>t&&window.scroll({top:t,left:0,behavior:"smooth"})},isShowing:Y}))):null}function eD({resource:e}){var t;let a=(0,c.iZ)(),r=(0,l.d4)(t=>(0,s.MK)(t,e))>=s.Cw.ADMIN&&((null==(t=(0,i.cV)(e))?void 0:t.id)||(null==a?void 0:a.community_profile_id))||null,d=(0,l.d4)(e=>e.authedActiveCommunityProfile);return n.createElement(eO,{commentType:o.ej.COMMUNITY,resource:e,numCommentsForResource:e.comment_count,profileIdToAdminResourceAs:r,commentingIsRestricted:!(0,i.LI)(a,e)||(0,i.cs)(d)})}},401980:(e,t,a)=>{"use strict";a.d(t,{aX:()=>J,aj:()=>z,m9:()=>er,I8:()=>en});var r=a(411855),n=a(753178),l=a(776250),i=a(517333),s=a(966712),o=a(752553),c=a(574176),d=a(939863),m=a(460845),u=a(977539),_=a(320063),p=a(34503);let g="community_collections--bannerContainer--7yGIP",E="community_collections--copyButton--Mb-fA text--fontPos13--xW8hS text--_fontBase--QdLsd",f="community_collections--resourcePreviewRow--wcOSC",h="community_collections--resourcePreview--QDaaf",v="community_collections--breadcrumbTrailContainer--uibe8",b="community_collections--breadcrumbTrail--JQcAW",y="community_collections--breadcrumbArrow--bv6Ia",w="community_collections--parentBreadcrumb--fhqqK community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",T="community_collections--childBreadcrumb--X4qf6 community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",x="community_collections--shelfPreview--Lvszp",C="community_collections--leftSide--71Jj2",N="community_collections--shelfPreviewHalf--rgTft community_collections--shelfPreview--Lvszp",k="community_collections--footerContainer--OI6W4";function S({page:e}){let t=r.useRef(null),a=function(e,t=4,a=540){let[n,l]=r.useState(t),i=r.useCallback(()=>{if(window.innerWidth<=a){l(t);return}let r=e.current.children[1];if(0===r.children.length){l(0);return}let n=r.children[0].getBoundingClientRect().width;l(Math.floor(r.getBoundingClientRect().width/n))},[e,l,t,a]);return(0,_.h)(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i))),n}(t),n=(0,p.Lb)(e);return r.createElement("div",{className:"community_collections--communityShelfAllPageRow--xw1Ut",ref:t},r.createElement("div",{className:"community_collections--communityShelfAllPageHeader--pbqhx"},r.createElement("div",{className:"community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement("div",{className:"community_collections--communityShelfAllPageSubTitle--sP1yP text--fontPos12--YsUAh text--_fontBase--QdLsd"}),r.createElement("div",{className:"community_collections--communityShelfAllPageTitle--r8QHx ellipsis--ellipsis--Tjyfa text--fontPos24--YppUD text--_fontBase--QdLsd"},e.title)),r.createElement(m.N_,{to:e.is_template_url?`/community/templates/${e.url_slug}`:`/community/collections/${e.url_slug}`,className:"community_collections--communityShelfAllPageHeaderRightSide--UQUv8 community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.shelves.show_more"}))),r.createElement(u.J,{resources:n.slice(0,a),adtlClassName:"community_collections--allCollectionsResourceGrid--jMwuQ feed_page--feedGrid--Wm-8Q"}))}var I=a(256508),A=a(674694),L=a(233562),R=a(837324),O=a(612776),D=a(222085),F=a(385422),M=a(686257),P=a(567582),B=a(382842),U=a(206144),W=a(781779),V=a(637961),G=a(694953);let $=r.createElement("svg",{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1 1L5 4.91111L1 9",strokeWidth:"2"})),j=r.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0304 9.53033L8.00006 16.5607L3.46973 12.0303L4.53039 10.9697L8.00006 14.4393L13.9697 8.46967L15.0304 9.53033Z",fill:"white"})),H=r.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52469 13.6568L8.17634 11.0052L8.88345 11.7123L6.2318 14.3639C4.96259 15.6331 2.90481 15.6331 1.6356 14.3639C0.366401 13.0947 0.366401 11.0369 1.6356 9.76772L4.28726 7.11607L4.99436 7.82317L2.34271 10.4748C1.46403 11.3535 1.46403 12.7781 2.34271 13.6568C3.22139 14.5355 4.64601 14.5355 5.52469 13.6568ZM11.7119 8.88383L11.0048 8.17673L13.6564 5.52507C14.5351 4.6464 14.5351 3.22177 13.6564 2.34309C12.7777 1.46441 11.3531 1.46442 10.4744 2.34309L7.82279 4.99474L7.11568 4.28764L9.76733 1.63599C11.0365 0.366784 13.0943 0.366784 14.3635 1.63599C15.6327 2.90519 15.6327 4.96298 14.3635 6.23218L11.7119 8.88383ZM6.26126 10.5043L10.5039 6.26164L9.73787 5.49561L5.49523 9.73825L6.26126 10.5043Z",fill:"white"})),q={Blue:W.wRm,"Multiplayer Yellow":W.KsR,Teal:W.Dmn,"Hot Pink":W.FXh,Redish:W.uAC,Green:W.zo1,Purple:W.A8q,"Dark Blue":W.WGG,"FigJam Primary":W.L2H},Y=Object.keys(q)[0];function z(){let{urlSlug:e}=(0,n.g)();return r.createElement(r.Fragment,null,r.createElement(Q,{urlSlug:e}))}function K({isLoading:e,collectionPages:t}){if(!t.length&&e)return null;let a=t.filter(e=>!(0,p.CV)(e));return r.createElement(r.Fragment,null,a.map(e=>r.createElement(S,{key:e.url_slug,page:e})))}function J(){let[e,t]=(0,o.IT)((0,I.k)("")),a="loading"===e.status||!!e.isFetchingNextPage,n=(0,O.o5)({isLoggedOut:!1});return r.createElement(r.Fragment,null,r.createElement(F.S,null),r.createElement("div",{className:"community_collections--allCollectionsPage--YFBlU"},r.createElement("div",{className:"community_collections--allCollectionsHeaderContainer--9UL5p"},r.createElement("h1",{className:"community_collections--allCollectionsHeader--L0frM text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI"},r.createElement(d.Tx,{id:"community.categories.figma_community_collections"})),r.createElement("h2",{className:"community_collections--allCollectionsSubHeader--Ww0AY text--fontPos18--rYXJb text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.categories.check_out_collections_of_some_of_our_favorite_design_files_plugins_and_creators_from_figma_community"}))),r.createElement("div",{className:v},r.createElement("ul",{className:b},r.createElement("li",{className:w},r.createElement("a",{href:"/community"},r.createElement(d.Tx,{id:"community.view_bar.home"}))),r.createElement("div",{className:y},$),r.createElement("li",{className:T},r.createElement(d.Tx,{id:"community.shelves.all_collections"})))),r.createElement(K,{isLoading:a,collectionPages:e.data||[]}),n()?r.createElement(B.A,{onClick:e=>{e.preventDefault(),t.fetchNextPage()},isLoading:a,isMoreToFetch:!!e.hasNextPage}):r.createElement(r.Fragment,null,a&&r.createElement(L.y$,null),!!e.hasNextPage&&r.createElement(M.a,{callback:e=>{e[0].isIntersecting&&t.fetchNextPage()}})),n()&&!(0,i.y3)()&&r.createElement("div",{className:k},r.createElement(P.A,null))))}function Q(e){var t;let{urlSlug:a,profileTile:n,onSetShelf:l}=e,[s,o]=r.useState(null),c=(0,O.o5)({isLoggedOut:!1}),m=()=>{D.A.getCommunityShelves({urlSlug:a}).then(({data:e})=>{l&&l(e.meta[0]),o(e.meta[0])}).catch(()=>{})};if(r.useEffect(()=>{m()},[a]),!s)return r.createElement(r.Fragment,null);let _=r.createElement("div",{className:g},r.createElement("div",{className:v},r.createElement("ul",{className:b},r.createElement("li",{className:w},r.createElement("a",{href:"/community"},r.createElement(d.Tx,{id:"community.view_bar.home"}))),r.createElement("div",{className:y},$),r.createElement("li",{className:w},r.createElement("a",{href:"/community/collections"},r.createElement(d.Tx,{id:"community.shelves.all_collections"}))),r.createElement("div",{className:y},$),r.createElement("li",{className:T,style:{color:q[(null==(t=s.shelf_meta.banner)?void 0:t.color)||Y]}},r.createElement("a",{href:window.location.href},(0,d.Yd)(s.i18n_meta.title,s.title)))))),p=r.createElement("div",{className:"community_collections--gridContainer--PkTIN"},r.createElement("div",{className:V.IB},r.createElement("div",{className:"community_collections--feed--71Y8R feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(u.J,{resources:s.shelf_content,profileTile:n}))));return r.createElement(r.Fragment,null,r.createElement(F.S,null),r.createElement(X,{shelf:s}),_,p,c()&&!(0,i.y3)()&&r.createElement("div",{className:k},r.createElement(P.A,null)))}function Z(e){let{isMobileScreen:t}=e,[a,n]=r.useState(!1);return a?r.createElement("button",{className:E},t?j:r.createElement(d.Tx,{id:"community.view_bar.copied"})):r.createElement("button",{className:E,onClick:()=>{n(!0),(0,R.lW)(window.location.href),setTimeout(()=>n(!1),1e3)}},t?H:r.createElement(d.Tx,{id:"community.view_bar.copy_link"}))}function X(e){var t;let{shelf:a,bannerStyle:n}=e,[l,i]=r.useState(window.innerWidth),[o,m]=r.useState(null);ee(o);let u=a?new Date(null==a?void 0:a.updated_at):new Date;r.useEffect(()=>{let e=()=>{i(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let _=q[(null==(t=null==a?void 0:a.shelf_meta.banner)?void 0:t.color)||Object.keys(q)[0]];return r.createElement("div",{className:n||g,ref:e=>m(e)},r.createElement("div",{className:"community_collections--banner--S2zb2 text--fontPos13--xW8hS text--_fontBase--QdLsd",style:{background:`linear-gradient(45deg, ${_}, ${_}80)`}},r.createElement("div",{className:"community_collections--bannerLeft--1oEnB"},r.createElement("div",{className:"community_collections--info--7PVz2"},a&&r.createElement(r.Fragment,null,r.createElement("div",{className:"community_collections--subtitle--dm958 text--fontPos12--YsUAh text--_fontBase--QdLsd community_collections--marginX--8hpWs"},(0,d.Yd)(a.i18n_meta.subtitle,a.subtitle)),r.createElement("h1",{className:"community_collections--title--cqPZt text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI community_collections--marginX--8hpWs text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,d.Yd)(a.i18n_meta.title,a.title)),r.createElement("p",{className:"community_collections--description--cjsSf community_collections--marginX--8hpWs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,d.Yd)(a.i18n_meta.description,a.description))),r.createElement("div",{className:"community_collections--meta--Z25Vv"},r.createElement("div",{className:"community_collections--metaLeft--9gNAe"},r.createElement("div",{className:"community_collections--curatedImage--YDOQy community_collections--metaSpace--9Jcor"},r.createElement(c.B,{svg:G.A,width:"15px",height:"15px",useOriginalSrcFills_DEPRECATED:!0})),r.createElement("div",{className:"community_collections--curated--fHhRS"},r.createElement(d.Tx,{id:"community.view_bar.curated_by"}),"\xa0"),r.createElement("a",{className:"community_collections--figmaLink--4hdDG community_collections--metaSpace--9Jcor",href:`${(0,s.tl)().figma_url}/@figma`},r.createElement(d.Tx,{id:"community.view_bar.figma"}))),r.createElement("div",{className:"community_collections--metaRight--hhG9k"},r.createElement("div",{className:"community_collections--separator--OfDbC community_collections--metaSpace--9Jcor"},"\u2022\xa0"),r.createElement("div",{className:"community_collections--updateDate--vgkWS"},r.createElement(d.Tx,{id:"community.view_bar.updated_date",date:u.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})),r.createElement(Z,{isMobileScreen:l<=540}))))),r.createElement("div",{className:"community_collections--bannerRight--CuT0Z"},(null==a?void 0:a.shelf_content)&&r.createElement(ea,{resources:a.shelf_content}))))}function ee(e){r.useEffect(()=>{let t=null==e?void 0:e.querySelectorAll(`.${h}`),a=setInterval(()=>{null==t||t.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1.03) translateX(-3px)",setTimeout(()=>{e.style.transform="scale(1)"},400)},100*t)})},4e3);return()=>clearTimeout(a)},[e])}function et({resource:e}){let t=(0,R.qD)(e),a="current_hub_file_version_id"in e,n=e.thumbnail_url;return r.createElement("div",{className:h},a?r.createElement(A.Xy,{hubFileId:e.id,image:n,alt:t.name,onLoad:e=>e.target.style.opacity="1",resizedThumbnailUrls:e.resized_thumbnail_urls}):r.createElement("img",{alt:t.name,src:n}))}function ea(e){let t=e.resources.filter(e=>e&&("current_hub_file_version_id"in e||"current_plugin_version_id"in e));return r.createElement("div",{className:"community_collections--previewTransformContainer--8b6Bh"},r.createElement("div",{className:f},!!t[0]&&r.createElement(et,{resource:t[0]}),!!t[1]&&r.createElement(et,{resource:t[1]})),r.createElement("div",{className:"community_collections--previewRowMiddle--jwXWH community_collections--resourcePreviewRow--wcOSC"},!!t[2]&&r.createElement(et,{resource:t[2]}),!!t[3]&&r.createElement(et,{resource:t[3]})),r.createElement("div",{className:f},!!t[4]&&r.createElement(et,{resource:t[4]}),!!t[5]&&r.createElement(et,{resource:t[5]})))}function er({shelf:e,size:t="full"}){var a;let n=e.shelf_content,[i,s]=r.useState(null);ee(i);let o=q[null==(a=e.shelf_meta.banner)?void 0:a.color];return r.createElement(U.A6,{to:`/community/collections/${e.url_slug}`,onClick:()=>{(0,l.sx)("hub_landing_collection_clicked",{name:e.title,shelf_id:e.id})},className:"full"===t?x:N,onRef:e=>s(e),style:{background:`linear-gradient(45deg, ${o}, ${o}80)`}},r.createElement("div",{className:C},r.createElement("div",{className:"community_collections--shelfTitle--ZhR7Y text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},(0,d.Yd)(e.i18n_meta.title,e.title)),r.createElement("div",{className:"community_collections--numberOfResources--qV7Zd"},1===n.length?(0,d.t)("community.profiles.resources_lower_singular",{num:n.length}):(0,d.t)("community.profiles.resources_lower_plural",{num:n.length}))),r.createElement("div",{className:"community_collections--rightSide--H91sR"},r.createElement(ea,{resources:n})))}function en({title:e,subtitle:t,href:a,size:n="full"}){return r.createElement("a",{href:a,onClick:()=>{(0,l.sx)("hub_landing_collection_clicked",{name:"COMMUNITY_SHELF_OVERRIDE",shelf_id:"COMMUNITY_SHELF_OVERRIDE"})},className:"full"===n?x:N,style:{background:W.BYv}},r.createElement("div",{className:C},r.createElement("div",{className:"community_collections--shelfOverrideTitle--3d053 community_collections--shelfTitle--ZhR7Y text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},e),r.createElement("div",{className:"community_collections--shelfOverrideTitleSubtitle--ZEjZB"},t)),r.createElement("div",{className:"community_collections--shelfOverrideRight--zDYXf"},r.createElement(el,null)))}function el(){return r.createElement("svg",{width:"304",height:"184",viewBox:"0 0 304 184",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M147.616 128.41C157.428 147.488 185.646 138.125 210.641 107.496C235.636 76.8678 247.944 36.572 238.132 17.4934C228.32 -1.58531 200.103 7.77784 175.107 38.4065C172.992 40.9987 170.967 43.6602 169.04 46.3721C171.103 34.8412 170.541 24.6682 166.852 17.4947C157.039 -1.58397 128.822 7.77917 103.827 38.4078C101.712 40.9992 99.6884 43.6597 97.7611 46.3707C99.8246 34.8401 99.2625 24.6672 95.5731 17.4938C85.7609 -1.58481 57.5438 7.77833 32.5485 38.407C7.55318 69.0357 -4.7551 109.331 5.05717 128.41C14.8694 147.489 43.0865 138.126 68.0818 107.497C70.1965 104.906 72.2204 102.245 74.1478 99.5341C72.0843 111.065 72.6464 121.238 76.3357 128.411C86.148 147.49 114.365 138.126 139.36 107.498C141.476 104.906 143.5 102.244 145.428 99.5322C143.365 111.063 143.927 121.236 147.616 128.41Z",fill:"#F24E1E"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M212.629 10.2588C201.47 13.9616 188.313 23.8064 175.882 39.0388C173.781 41.6134 171.77 44.2572 169.855 46.9516L168.055 46.196C170.102 34.7594 169.507 24.8436 165.963 17.9521C163.623 13.4037 160.226 10.6062 156.092 9.36412C151.93 8.11391 146.921 8.41087 141.348 10.2601C130.189 13.963 117.033 23.8078 104.602 39.0401C102.502 41.6139 100.491 44.2568 98.5762 46.9502L96.7768 46.1946C98.8235 34.7583 98.2283 24.8427 94.684 17.9512C92.3447 13.4028 88.9479 10.6054 84.8133 9.36328C80.6518 8.11307 75.6425 8.41003 70.0695 10.2593C58.9104 13.9621 45.754 23.8069 33.3233 39.0393C20.9045 54.257 11.642 71.8734 6.7064 88.032C1.75351 104.247 1.22332 118.769 5.94648 127.953C8.28574 132.501 11.6826 135.299 15.8171 136.541C19.9787 137.791 24.988 137.494 30.561 135.645C41.72 131.942 54.8764 122.097 67.3071 106.865C69.4075 104.291 71.418 101.648 73.3329 98.9547L75.1323 99.7103C73.0856 111.147 73.6808 121.062 77.2251 127.954C79.5644 132.502 82.9612 135.3 87.0957 136.542C91.2573 137.792 96.2666 137.495 101.84 135.646C112.999 131.943 126.155 122.098 138.586 106.866C140.687 104.291 142.698 101.647 144.613 98.9528L146.413 99.7084C144.366 111.145 144.961 121.061 148.506 127.952C150.845 132.501 154.242 135.298 158.376 136.54C162.538 137.791 167.547 137.494 173.12 135.644C184.279 131.941 197.436 122.097 209.866 106.864C222.285 91.6466 231.548 74.0302 236.483 57.8716C241.436 41.6564 241.966 27.1343 237.243 17.9507C234.904 13.4023 231.507 10.6049 227.372 9.36279C223.211 8.11258 218.202 8.40953 212.629 10.2588ZM227.948 7.44735C232.645 8.8584 236.455 12.045 239.022 17.036C244.111 26.9311 243.393 42.0962 238.396 58.4558C233.382 74.872 223.992 92.7178 211.416 108.129C198.851 123.525 185.401 133.676 173.75 137.543C167.918 139.478 162.471 139.859 157.801 138.456C153.104 137.045 149.294 133.858 146.727 128.867C143.347 122.294 142.535 113.409 143.816 103.431C142.622 105.019 141.395 106.587 140.135 108.13C127.571 123.526 114.121 133.678 102.469 137.544C96.6372 139.479 91.1902 139.86 86.5203 138.457C81.8233 137.046 78.0134 133.859 75.4465 128.868C72.0661 122.296 71.2547 113.411 72.5356 103.433C71.3421 105.02 70.1154 106.587 68.8567 108.129C56.2921 123.526 42.8423 133.677 31.1909 137.543C25.3586 139.478 19.9116 139.859 15.2417 138.456C10.5447 137.045 6.7348 133.859 4.16792 128.868C-0.921191 118.972 -0.20337 103.807 4.79364 87.4478C9.80793 71.0316 19.1972 53.1858 31.7738 37.7748C44.3383 22.3784 57.7882 12.2273 69.4396 8.36107C75.2718 6.42579 80.7188 6.04492 85.3888 7.44785C90.0857 8.8589 93.8956 12.0455 96.4625 17.0365C99.8429 23.6093 100.654 32.4943 99.3735 42.4718C100.567 40.8848 101.794 39.3181 103.052 37.7756C115.617 22.3793 129.067 12.2281 140.718 8.3619C146.55 6.42663 151.997 6.04575 156.667 7.44868C161.364 8.85974 165.174 12.0464 167.741 17.0373C171.122 23.6102 171.933 32.4953 170.652 42.473C171.846 40.8851 173.073 39.3176 174.333 37.7743C186.897 22.378 200.347 12.2268 211.999 8.36057C217.831 6.42529 223.278 6.04442 227.948 7.44735Z",fill:"black"}),r.createElement("path",{d:"M96 66.7273C96 63.0119 99.0119 60 102.727 60H259.273C262.988 60 266 63.0119 266 66.7273V176.273C266 179.988 262.988 183 259.273 183H102.727C99.0119 183 96 179.988 96 176.273V66.7273Z",fill:"#C7B9FF"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95 66.7273C95 62.4596 98.4596 59 102.727 59H259.273C263.54 59 267 62.4596 267 66.7273V176.273C267 180.54 263.54 184 259.273 184H102.727C98.4596 184 95 180.54 95 176.273V66.7273ZM102.727 61C99.5642 61 97 63.5642 97 66.7273V176.273C97 179.436 99.5642 182 102.727 182H259.273C262.436 182 265 179.436 265 176.273V66.7273C265 63.5642 262.436 61 259.273 61H102.727Z",fill:"black"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M222.804 76.7872C231.159 84.8098 229.021 98.1384 220.865 107.133C211.503 117.458 185.865 140.208 142.374 151.933C141.619 154.697 141.945 155.947 142.133 156.29C142.182 156.38 142.362 156.709 143.248 157.083C144.236 157.501 145.97 157.905 148.801 157.932C154.509 157.985 163.294 156.503 176.108 152.578C188.825 148.683 205.132 142.501 225.746 133.457C228.959 132.046 232.708 133.509 234.118 136.722C235.528 139.936 234.066 143.684 230.852 145.094C209.975 154.254 193.18 160.64 179.83 164.729C166.576 168.789 156.328 170.71 148.683 170.639C141.239 170.57 134.337 168.525 130.982 162.385C129.702 160.045 129.195 157.535 129.188 155.018C119.267 156.995 108.542 158.378 97 158.948V146.214C110.138 145.527 122.115 143.728 132.961 141.191C137.996 130.75 147.523 118.738 156.927 108.416C167.503 96.8081 178.776 86.4229 185.313 81.646C200.07 70.8623 214.275 68.5973 222.804 76.7872ZM150.806 136.071C155.077 129.949 160.511 123.352 166.322 116.974C176.594 105.699 187.224 95.9894 192.811 91.9066C206.489 81.9114 212.672 84.6768 214.002 85.954C215.507 87.3984 216.976 92.5033 211.451 98.5965C204.25 106.538 184.467 124.531 150.806 136.071Z",fill:"#5551FF"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M219.096 80.6492C224.565 85.9004 223.946 95.7643 216.899 103.536C207.922 113.437 182.289 136.295 138.228 147.481C136.322 152.362 136.001 156.235 137.435 158.858C138.843 161.434 142.196 163.225 148.751 163.285C155.275 163.346 164.676 161.679 177.676 157.698C190.66 153.72 207.172 147.453 227.897 138.359C228.403 138.138 228.993 138.368 229.215 138.873C229.437 139.379 229.206 139.969 228.701 140.191C207.934 149.303 191.345 155.602 178.261 159.61C165.193 163.613 155.561 165.349 148.733 165.285C141.936 165.222 137.617 163.362 135.68 159.817C133.964 156.678 134.322 152.561 135.882 148.061C123.921 150.942 110.638 152.955 96 153.631V151.628C111.02 150.928 124.593 148.807 136.757 145.787C140.982 135.729 150.735 123.163 160.885 112.022C171.333 100.554 182.335 90.4534 188.472 85.9689C202.774 75.5174 213.599 75.3718 219.096 80.6492ZM139.219 145.159C143.588 135.68 152.703 123.972 162.364 113.369C172.764 101.953 183.665 91.9589 189.652 87.5836C203.784 77.2563 213.347 77.9023 217.711 82.0919C222.101 86.3078 222.051 94.8775 215.417 102.193C206.759 111.742 181.941 133.953 139.219 145.159Z",fill:"black"}),r.createElement("path",{d:"M278.125 77.4464L290.034 89.3067C291.55 90.8162 291.55 93.277 290.034 94.7865L248.589 136.063L228.134 139.095L231.178 118.723L272.623 77.4464C274.151 75.9369 276.61 75.9369 278.125 77.4464Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M273.329 78.151C273.328 78.1514 273.328 78.1518 273.328 78.1521L232.119 119.193L229.322 137.913L248.115 135.128L289.326 94.0837C290.452 92.9625 290.452 91.1307 289.326 90.0095L277.418 78.1492C276.295 77.0307 274.469 77.0261 273.329 78.151ZM271.918 76.7406C273.835 74.8476 276.925 74.8434 278.833 76.7436L290.742 88.6039C292.647 90.5017 292.647 93.5915 290.742 95.4893L249.063 136.998L226.947 140.276L230.237 118.252L271.915 76.7436L271.918 76.7406Z",fill:"black"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M264.598 85.4659L282.009 102.806L280.594 104.212L263.183 86.8715L264.598 85.4659Z",fill:"black"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.318 9.00002L119.409 9.00002L119.409 7.00002L183.318 7.00002L183.318 9.00002Z",fill:"black"}),r.createElement("path",{d:"M183.378 1.68184L189.742 8.0458L183.378 14.4098L177.014 8.0458L183.378 1.68184Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.378 0.492611L190.931 8.0458L183.378 15.599L175.825 8.0458L183.378 0.492611ZM183.378 2.87106L178.203 8.0458L183.378 13.2205L188.553 8.0458L183.378 2.87106Z",fill:"black"}),r.createElement("path",{d:"M114.423 1.68184L120.787 8.0458L114.423 14.4098L108.059 8.0458L114.423 1.68184Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M114.423 0.492611L121.976 8.0458L114.423 15.599L106.87 8.0458L114.423 0.492611ZM114.423 2.87106L109.248 8.0458L114.423 13.2205L119.598 8.0458L114.423 2.87106Z",fill:"black"}),r.createElement("path",{d:"M19.7957 138.699C19.1525 141.099 16.685 142.524 14.2844 141.881C11.8838 141.238 10.4592 138.77 11.1024 136.369C11.7456 133.969 14.2132 132.544 16.6138 133.187C19.0144 133.831 20.439 136.298 19.7957 138.699Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.355 134.153C14.4879 133.653 12.5687 134.761 12.0684 136.628C11.5681 138.495 12.6761 140.415 14.5433 140.915C16.4104 141.415 18.3296 140.307 18.8299 138.44C19.3302 136.573 18.2221 134.654 16.355 134.153ZM10.1366 136.111C10.9227 133.177 13.9386 131.435 16.8727 132.221C19.8067 133.008 21.5479 136.024 20.7617 138.958C19.9756 141.892 16.9597 143.633 14.0256 142.847C11.0916 142.06 9.35037 139.045 10.1366 136.111Z",fill:"black"}),r.createElement("path",{d:"M92.1143 138.699C91.4711 141.099 89.0036 142.524 86.603 141.881C84.2024 141.238 82.7778 138.77 83.421 136.369C84.0642 133.969 86.5318 132.544 88.9324 133.187C91.333 133.831 92.7576 136.298 92.1143 138.699Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.6736 134.153C86.8065 133.653 84.8873 134.761 84.387 136.628C83.8867 138.495 84.9948 140.415 86.8619 140.915C88.729 141.415 90.6482 140.307 91.1485 138.44C91.6488 136.573 90.5407 134.654 88.6736 134.153ZM82.4552 136.111C83.2413 133.177 86.2572 131.435 89.1913 132.221C92.1253 133.008 93.8665 136.024 93.0803 138.958C92.2942 141.892 89.2783 143.633 86.3442 142.847C83.4102 142.06 81.669 139.045 82.4552 136.111Z",fill:"black"}),r.createElement("path",{d:"M88.7506 8.67605C88.1073 11.0767 85.6398 12.5013 83.2392 11.858C80.8386 11.2148 79.414 8.74728 80.0572 6.34668C80.7005 3.94608 83.168 2.52146 85.5686 3.1647C87.9692 3.80794 89.3938 6.27546 88.7506 8.67605Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85.3098 4.13063C83.4427 3.63033 81.5235 4.73837 81.0232 6.6055C80.5229 8.47263 81.631 10.3918 83.4981 10.8921C85.3652 11.3924 87.2844 10.2844 87.7847 8.41724C88.285 6.5501 87.177 4.63093 85.3098 4.13063ZM79.0914 6.08786C79.8776 3.1538 82.8934 1.4126 85.8275 2.19878C88.7615 2.98496 90.5028 6.00081 89.7166 8.93487C88.9304 11.8689 85.9145 13.6101 82.9805 12.824C80.0464 12.0378 78.3052 9.02193 79.0914 6.08786Z",fill:"black"}),r.createElement("path",{d:"M155.858 8.67605C155.215 11.0767 152.747 12.5013 150.347 11.858C147.946 11.2148 146.521 8.74728 147.165 6.34668C147.808 3.94608 150.275 2.52146 152.676 3.1647C155.077 3.80794 156.501 6.27546 155.858 8.67605Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152.417 4.13063C150.55 3.63033 148.631 4.73837 148.131 6.6055C147.63 8.47263 148.738 10.3918 150.606 10.8921C152.473 11.3924 154.392 10.2844 154.892 8.41724C155.392 6.5501 154.284 4.63093 152.417 4.13063ZM146.199 6.08786C146.985 3.1538 150.001 1.4126 152.935 2.19878C155.869 2.98496 157.61 6.00081 156.824 8.93487C156.038 11.8689 153.022 13.6101 150.088 12.824C147.154 12.0378 145.413 9.02193 146.199 6.08786Z",fill:"black"}),r.createElement("path",{d:"M230.024 8.67605C229.38 11.0767 226.913 12.5013 224.512 11.858C222.112 11.2148 220.687 8.74728 221.33 6.34668C221.973 3.94608 224.441 2.52146 226.842 3.1647C229.242 3.80794 230.667 6.27546 230.024 8.67605Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.583 4.13063C224.716 3.63033 222.796 4.73837 222.296 6.6055C221.796 8.47263 222.904 10.3918 224.771 10.8921C226.638 11.3924 228.557 10.2844 229.058 8.41724C229.558 6.5501 228.45 4.63093 226.583 4.13063ZM220.364 6.08786C221.151 3.1538 224.166 1.4126 227.1 2.19878C230.034 2.98496 231.776 6.00081 230.99 8.93487C230.203 11.8689 227.187 13.6101 224.253 12.824C221.319 12.0378 219.578 9.02193 220.364 6.08786Z",fill:"black"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.6687 155.218C42.2328 165.084 51.2898 172.375 62.0694 172.375C64.5186 172.375 66.8789 171.999 69.0943 171.301L79.9128 181.997L94.7794 167.299L84.037 156.679C84.7893 154.424 85.1963 152.015 85.1963 149.511C85.1963 138.472 77.2828 129.26 66.7582 127.117L28.4318 116.255L39.6687 155.218Z",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.974 114.807L38.7039 155.48C41.3847 165.771 50.8312 173.37 62.0694 173.37C64.4085 173.37 66.6715 173.04 68.8126 172.425L79.9128 183.4L96.1979 167.299L85.1746 156.401C85.8393 154.219 86.1963 151.905 86.1963 149.511C86.1963 137.999 77.9541 128.399 66.9962 126.15L26.974 114.807ZM29.8895 117.702L66.5205 128.084L66.5576 128.091C76.6302 130.142 84.1963 138.957 84.1963 149.511C84.1963 151.907 83.8069 154.211 83.0879 156.366L82.8929 156.95L93.3609 167.299L79.9128 180.595L69.3698 170.171L68.7925 170.353C66.6736 171.02 64.415 171.381 62.0694 171.381C51.7531 171.381 43.0887 164.403 40.6369 154.969L40.6336 154.956L29.8895 117.702Z",fill:"black"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.1635 117.875L62.0701 151.74L63.4834 150.325L29.5768 116.46L28.1635 117.875Z",fill:"black"}),r.createElement("ellipse",{cx:"6",cy:"6.00051",rx:"6",ry:"6.00051",transform:"matrix(-3.177e-07 1 1 -1.11224e-07 54.6849 143.038)",fill:"black"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M292.423 36.1591C284.431 34.3605 278.14 28.0689 276.341 20.0767C274.542 28.0689 268.251 34.3605 260.259 36.1591C268.251 37.9577 274.542 44.2493 276.341 52.2415C278.14 44.2493 284.431 37.9577 292.423 36.1591Z",fill:"#699BF7"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M277.341 17.812L277.341 7.56818H277.341H275.341H275.341L275.341 17.812L275.341 17.8671C275.31 27.3937 267.328 35.1591 257.421 35.1591H249.432V35.1591H249.432V37.1591H257.421C267.333 37.1591 275.318 44.9318 275.341 54.4646C275.341 54.4785 275.341 54.4923 275.341 54.5062L275.341 64.75H275.341H277.341H277.341L277.341 54.5062C277.341 54.4923 277.341 54.4785 277.341 54.4646C277.364 44.9318 285.349 37.1591 295.261 37.1591L303.25 37.1591V35.1591H295.261C285.354 35.1591 277.372 27.3937 277.341 17.8671L277.341 17.812ZM288.926 36.1591C283 34.2289 278.306 29.6653 276.341 23.8847C274.376 29.6653 269.682 34.2289 263.756 36.1591C269.682 38.0893 274.376 42.6529 276.341 48.4336C278.306 42.6529 283 38.0893 288.926 36.1591Z",fill:"black"}))}},895587:(e,t,a)=>{"use strict";a.d(t,{s:()=>g});var r=a(411855),n=a(188507),l=a(939863),i=a(351226),s=a(837324),o=a(662275),c=a(988022),d=a(697551),m=a(860178),u=a(555328),_=a(498606),p=a(920392);function g({resource:e,viewContext:t}){let a=(0,n.wA)(),g=(0,m.iZ)(),E=Object.values((0,n.d4)(e=>(0,d.Tm)(e))).filter(t=>(0,u.I0)(e)&&t.plugins_whitelist_enforced||(0,u.xQ)(e)&&t.widgets_whitelist_enforced),f=(e,t)=>{a((0,o.to)({type:p.WR,data:{extensionId:e.id,orgId:t,extensionType:(0,u.I0)(e)?"plugin":"widget",isAllowed:!1,source:"community"}}))};return r.createElement("button",{className:"approve_button--buttonContainer--lDvpx cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{if((0,c.Cu)({viewContext:t,resourceId:e.id,resourceType:(0,s.Vm)(e),allowlistOrgs:E.length},"approve-button-clicked"),1===E.length){f(e,E[0].id);return}if(!g)return;let r=E.map(e=>({orgId:e.id,workspaceName:e.name,user:g,userId:(null==g?void 0:g.id)||""}));a((0,o.to)({type:i._,data:{payload:{extension:e,workspaces:r,onSelectWorkspace:t=>{f(e,t.orgId)},mode:"manage_allowlist"}}}))},"data-testid":"approve-button","data-onboarding-key":"approve-button","data-tooltip-type":_.Ib.TEXT},r.createElement(l.Tx,{id:"community.plugins.approve_ellipsis"}))}},751297:(e,t,a)=>{"use strict";let r;a.d(t,{F:()=>c,x:()=>d});var n=a(411855),l=a(946689),i=a(939863),s=a(831949),o=((r=o||{}).FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",r.FREE_PLUGIN_LICENSE="https://www.figma.com/community-resource-license/",r.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",r.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",r.APPLE_RESOURCE_LICENSE="https://developer.apple.com/apple-design-resources-license/",r);function c({isMonetizedResource:e,isHubFile:t,isAppleResource:a,isFigmaResource:r}){return r?null:n.createElement("div",{className:s.jQ},n.createElement(i.Tx,{id:"community.detail_view.licensed_under_license_type",licenseType:n.createElement(d,{isMonetizedResource:e,isHubFile:t,isAppleResource:a})}))}function d({isMonetizedResource:e,isHubFile:t,isAppleResource:a}){let r={"https://creativecommons.org/licenses/by/4.0/":"CC BY 4.0","https://www.figma.com/community-resource-license/":(0,i.t)("community.detail_view.plugin_license"),"https://www.figma.com/community-free-resource-license/":(0,i.t)("community.detail_view.free_plugin_license"),"https://www.figma.com/community-paid-resource-license/":(0,i.t)("community.detail_view.paid_resource_license"),"https://developer.apple.com/apple-design-resources-license/":(0,i.t)("community.detail_view.apple_resource_license")},s="https://www.figma.com/community-resource-license/";return s=a?"https://developer.apple.com/apple-design-resources-license/":e?"https://www.figma.com/community-paid-resource-license/":t?"https://creativecommons.org/licenses/by/4.0/":"https://www.figma.com/community-free-resource-license/",n.createElement(l.CY,{href:s,trusted:!0},r[s])}},342646:(e,t,a)=>{"use strict";a.d(t,{G:()=>p});var r=a(411855),n=a(188507),l=a(654923),i=a(466636),s=a(225266),o=a(782501),c=a(860178),d=a(820642),m=a(215822),u=a(555328),_=a(624618);function p({resource:e}){var t;let a=(0,n.wA)(),p=(0,n.d4)(e=>e.authedActiveCommunityProfile),g=(0,n.d4)(t=>(0,o.MK)(t,e)),E=o.Gl.includes(g)&&((null==(t=e.community_publishers)?void 0:t.accepted)||[]).length>1&&(null==p?void 0:p.primary_user_id),f=r.useCallback(()=>{(0,u.U)(e)?a((0,s.bb)({hub_file_id:e.id})):(0,u.xQ)(e)?a((0,s.bb)({widget_id:e.id})):a((0,s.bb)({plugin_id:e.id}))},[a,e]),h=(0,u.m3)(e),v=(0,l.I)(e),b=(0,c.iZ)(),y=(0,u.U)(e)?(0,d.a6)(e):(0,m.uF)(e);return r.createElement(r.Fragment,null,E&&r.createElement(_.d,{onClick:f,className:"metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd"}),h&&(0,i.QQ)(v)&&r.createElement(_.NY,{resource:e,payment:v}),h&&b&&(0,i.QQ)(v)&&(0,i.C)(v)&&r.createElement(_.EV,{user:b,name:y.name,monetizedResource:e.monetized_resource_metadata}))}},956917:(e,t,a)=>{"use strict";a.d(t,{T:()=>x});var r=a(411855),n=a(776250),l=a(22332),i=a(630949),s=a(939863),o=a(566083),c=a(609271),d=a(709495),m=a(580857),u=a(357611),_=a(971120),p=a(198181),g=a(209552);let E="feed_controls--feedFilterDropdown--0rv-X dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd";function f({onUpdate:e,value:t,isSearch:a}){return r.createElement(g.A5,{name:(0,s.t)("community.landing_page.dropdown_filter__creators"),onUpdate:([t])=>{e(t)},options:function(e){let t=!e&&(0,p.M)();return[[{key:m.Z.ALL,label:(0,s.t)("community.view_bar.all_creators")},t?{key:m.Z.FOLLOWING,label:(0,s.t)("community.view_bar.following")}:null,{key:m.Z.FIGMA_PARTNER,label:(0,s.t)("community.view_bar.figma_partners_only")}].filter(Boolean)]}(!!a),initialValues:[t],adtlClassName:E})}var h=a(153054);function v({onUpdate:e,value:t,resourceType:a}){return r.createElement(g.A5,{name:(0,s.t)("community.landing_page.dropdown_filter__editor"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:E,dataOnboardingKey:h.o0,onClick:()=>{(0,n.sx)(h.FQ)},options:function(e){let t=e===_.L.BrowseResourceTypes.MIXED||e===_.L.BrowseResourceTypes.PLUGINS,a=e===_.L.BrowseResourceTypes.FILES;return[[{key:u.k.Editors.ALL,label:(0,s.t)("community.landing_page.sort.all_products")},{key:u.k.Editors.FIGMA,label:(0,s.t)("community.view_bar.figma")},t?{key:u.k.Editors.DEV_MODE,label:(0,s.t)("community.view_bar.dev_mode")}:null,a?{key:u.k.Editors.PROTOTYPE,label:(0,s.t)("community.view_bar.figma_prototype")}:null,{key:u.k.Editors.FIGJAM,label:(0,s.t)("community.view_bar.fig_jam")}].filter(Boolean)]}(a)})}function b({onUpdate:e,value:t}){return r.createElement(g.A5,{name:(0,s.t)("community.landing_page.dropdown_filter__paid"),onUpdate:([t])=>{e(t)},adtlClassName:E,initialValues:[t],options:[[{key:o.C.ALL,label:(0,s.t)("community.landing_page.sort.paid_and_free")},{key:o.C.PAID,label:(0,s.t)("community.landing_page.sort.paid")},{key:o.C.FREE,label:(0,s.t)("community.landing_page.sort.free")}]]})}function y({onUpdate:e,value:t,isSearch:a,editorType:n}){return r.createElement(g.A5,{name:(0,s.t)("community.landing_page.dropdown_filter__resource_type"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:E,options:[function(e,t){if(!e&&t===u.k.Editors.DEV_MODE)return[{key:_.L.BrowseResourceTypes.PLUGINS,label:(0,s.t)("community.view_bar.plugins")}];let a=[{key:_.L.BrowseResourceTypes.MIXED,label:(0,s.t)("community.view_bar.all_resources")},{key:_.L.BrowseResourceTypes.FILES,label:(0,s.t)("community.view_bar.files")},{key:_.L.BrowseResourceTypes.PLUGINS,label:(0,s.t)("community.view_bar.plugins")},{key:_.L.BrowseResourceTypes.WIDGETS,label:(0,s.t)("community.view_bar.widgets")}];return e&&a.push({key:"profiles",label:(0,s.t)("community.view_bar.creators")}),a}(a,n)]})}function w({onUpdate:e,value:t,isSearch:a,price:n}){return r.createElement(g.A5,{name:(0,s.t)("community.curated_page.sort"),onUpdate:([t])=>e(t),initialValues:[t],options:function(e,t){let a=[[{key:d.e.Shared.POPULAR,label:(0,s.t)("community.landing_page.sort.trending")},{key:d.e.Shared.ALL_TIME,label:(0,s.t)("community.curated_page.popular")},{key:d.e.Shared.PUBLISHED_AT,label:(0,s.t)("community.landing_page.sort.recent")}]];return e&&(a[0].unshift({key:d.e.Search.RELEVANCY,label:(0,s.t)("community.landing_page.sort.relevancy")}),t!==o.C.FREE&&(a[0]=a[0].concat([{key:d.e.Search.PRICE_DESC,label:(0,s.t)("community.landing_page.sort.price_high_to_low")},{key:d.e.Search.PRICE_ASC,label:(0,s.t)("community.landing_page.sort.price_low_to_high")}]))),a}(a,n)})}var T=a(860168);function x({filterState:e,onUpdate:t,containerRef:a,context:p}){let{resourceType:g,editorType:E=u.k.Editors.ALL,price:h,sortBy:x,creators:C=m.Z.ALL}=e,N=(0,l.N)(`(max-width: ${T._C6})`);return r.createElement("div",{className:"feed_controls--feedFilterControls--eiYSY","data-resource-type":g,ref:a,"data-feed-filter-context":p},r.createElement("div",{className:"feed_controls--leftSideControls--Xr-DO"},"redesigned-category"===p&&r.createElement("div",{className:i.cx.flex.itemsCenter.font14.fontMedium.$},r.createElement(s.Tx,{id:"categories.filter_by"})),r.createElement(c.Ay,{mediaQuery:`(min-width: ${T.glm})`},"profiles"!==g&&r.createElement(v,{onUpdate:e=>{let a=[{key:"editorType",value:e}];"search"!==p&&e===u.k.Editors.DEV_MODE&&a.push({key:"resourceType",value:_.L.BrowseResourceTypes.PLUGINS}),t(a),(0,n.sx)("editor_type_filter_changed",{editor_type:e,from:E})},value:E,resourceType:g})),("explore"===p||"redesigned-homepage"===p||"redesigned-category"===p||N)&&r.createElement(y,{onUpdate:e=>{t([{key:"resourceType",value:e}]),(0,n.sx)("resource_type_filter_changed",{resource_type:e,from:g})},value:g,isSearch:"search"===p,editorType:E}),r.createElement(b,{onUpdate:e=>{let a=[{key:"price",value:e}];e===o.C.FREE&&(x===d.e.Search.PRICE_ASC||x===d.e.Search.PRICE_DESC)&&a.push({key:"sortBy",value:d.e.Shared.POPULAR}),t(a),(0,n.sx)("price_filter_changed",{price:e,from:h})},value:h}),"redesigned-category"!==p&&r.createElement(c.Ay,{mediaQuery:`(min-width: ${T.ltq})`},r.createElement(f,{onUpdate:e=>{t([{key:"creators",value:e}]),(0,n.sx)("creators_filter_changed",{creators:e,from:C})},value:C,isSearch:"search"===p}))),"redesigned-category"!==p&&"profiles"!==g&&r.createElement(w,{onUpdate:e=>{t([{key:"sortBy",value:e}]),(0,n.sx)("ranking_type_filter_changed",{ranking_type:e})},value:x,isSearch:"search"===p,price:h}))}},977539:(e,t,a)=>{"use strict";a.d(t,{J:()=>h,K:()=>f});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(848680),o=a(837324),c=a(612776),d=a(672517),m=a(555328),u=a(686257);function _({children:e}){return r.createElement(r.Fragment,null,e)}var p=a(684359),g=a(637961);let E=e=>{let t={};return e.filter(e=>{let a="model"in e?e.model.id:e.id;return!t[a]&&(t[a]=!0,!0)})};function f(e="normal"){return"rows"===e?g.bu:"profile"===e?g._1:"compact"===e?g.en:g.z3}function h({resources:e,adtlClassName:t,showAsTable:a=!1,showMoreCallback:l,onIntersectionChange:f,viewContext:h="feedResourceGrid",TileWrapper:v=_}){let b=(0,c.X5)(),y=(0,n.d4)(e=>e.authedActiveCommunityProfile),w=(0,s.S)(),T=r.useMemo(()=>E(e),[e]);return r.createElement(d.fu,{name:h},r.createElement("div",{className:i()(t||g.z3,{[g.wS]:b})},T.map((e,t)=>"is_widget"in e?e.is_widget?r.createElement(v,{key:`widget-${e.id}`,resourceId:e.id,resourceType:m.vt.WIDGET,resourceName:(0,o.qD)(e).name},r.createElement(p.bN,{key:`widget-${e.id}`,index:t,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==f?void 0:f(e,t),trackingInfo:w,subView:h})):a?r.createElement(v,{key:`pluginRow-${e.id}`,resourceId:e.id,resourceType:m.vt.PLUGIN,resourceName:(0,o.qD)(e).name},r.createElement(p.mb,{key:`pluginRow-${e.id}`,index:t,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==f?void 0:f(e,t),trackingInfo:w,isOrgTeamBrowsing:!!((null==y?void 0:y.team_id)||(null==y?void 0:y.org_id))})):r.createElement(v,{key:`plugin-${e.id}`,resourceId:e.id,resourceType:m.vt.PLUGIN,resourceName:(0,o.qD)(e).name},r.createElement(p.cS,{index:t,key:`plugin-${e.id}`,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==f?void 0:f(e,t),trackingInfo:w,subView:h})):"resources"in e?r.createElement(v,{key:`profileRow-${e.model.id}`,resourceId:e.model.id,resourceType:"profile",resourceName:e.model.name},r.createElement(p.Yw,{index:t,key:`profileRow-${e.model.id}`,resource:e,animationIndex:t%30,authedActiveCommunityProfile:y,trackingInfo:w})):"profile_handle"in e?r.createElement(v,{key:`profile-${e.id}`,resourceId:e.id,resourceType:"profile",resourceName:e.name},r.createElement(p.UG,{key:`profile-${e.id}`,resource:e})):r.createElement(v,{key:`file-${e.id}`,resourceId:e.id,resourceType:m.vt.HUB_FILE,resourceName:(0,o.qD)(e).name},r.createElement(p.Cv,{index:t,key:`file-${e.id}`,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==f?void 0:f(e,t),trackingInfo:w,subView:h})))),e.length>0&&l&&r.createElement(u.a,{callback:e=>{e[0].isIntersecting&&l()}}))}},791418:(e,t,a)=>{"use strict";a.d(t,{p:()=>y});var r=a(411855),n=a(630949),l=a(939863),i=a(896474),s=a(482075),o=a(629019),c=a.n(o),d=a(574176),m=a(232655),u=a(206144),_=a(672517);let p="mobile_flyout_item--mobileFlyoutItem--7KYhr text--fontPos20--Bcz97 text--_fontBase--QdLsd";function g({navItem:e,onClose:t}){let a={trackingEventName:"mobile_flyout_item_select",trackingProperties:{path:e.path},...e.trackingProps};return r.createElement("div",{className:p},r.createElement(_.L0,{key:e.key,href:e.path,onClick:a=>{e.onClick&&e.onClick(a),(0,u.qG)(e.path,a),t()},className:c()(n.cx.colorText.block.$,e.className??""),...a},e.text))}var E=a(949207);function f({isExpanded:e,toggleExpanded:t,navItemGroup:a,onClose:l}){let i=r.useRef(null);return r.useEffect(()=>{var t;if(e&&(null==(t=i.current)?void 0:t.style.maxHeight)==="0px"){let e=0;i.current.childNodes.forEach(t=>{t instanceof HTMLElement&&(e+=t.offsetHeight)}),i.current.style.maxHeight=`${e}px`}else!e&&i.current&&(i.current.style.maxHeight="0px")},[e]),r.createElement("div",{className:p},r.createElement("button",{onClick:t,className:n.cx.flex.justifyStart.alignLeft.colorText.itemsCenter.$},a.text,r.createElement(d.B,{svg:E.A,className:c()("mobile_flyout_item_group--mobileFlyoutItemGroupCaret--lbbaU",{"mobile_flyout_item_group--mobileFlyoutItemGroupCaretExpanded--P269f":e}),svgClassName:n.cx.w8.h8.$,style:{fill:(0,m.TD)("default")}})),r.createElement("div",{ref:i,className:"mobile_flyout_item_group--mobileFlyoutSubItems--Ze8c7"},a.children.map(e=>r.createElement(g,{key:e.key,navItem:e,onClose:l}))))}var h=a(234269),v=a(137466);function b({navItems:e,onClose:t,trackingContext:a}){let[l,i]=r.useState(!1);r.useEffect(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",i(!0),()=>{document.body.style.overflow=e}},[]);let[s,o]=r.useState(null),p={name:"mobile_flyout",...a};return r.createElement(r.Fragment,null,r.createElement("div",{className:"mobile_flyout--mobileFlyoutContainer--Z9i-T",onClick:e=>{e.stopPropagation(),t()}},r.createElement("div",{className:c()("mobile_flyout--mobileFlyout--YX14z",{"mobile_flyout--mobileFlyoutMounted--RUFmS":l}),onClick:e=>e.stopPropagation()},r.createElement(_.fu,{...p},r.createElement("div",{className:n.cx.flex.justifyBetween.itemsCenter.$},r.createElement(d.B,{svg:h.A,className:"mobile_flyout--communitySvgContainer--R6Qs9",style:{fill:(0,m.TD)("default")},svgClassName:n.cx.w32.h32.$,onClick:e=>{(0,u.qG)("/community",e,!1),t()}}),r.createElement(d.B,{svg:v.A,svgWidth:"18px",onClick:t,style:{fill:(0,m.TD)("default")}})),r.createElement("div",{className:n.cx.flex.flexWrap.flexColumn.gap2.pt32.$},e.map(e=>"children"in e?r.createElement(f,{key:e.key,isExpanded:s===e.key,toggleExpanded:()=>o(s===e.key?null:e.key),navItemGroup:e,onClose:t}):r.createElement(g,{key:e.key,navItem:e,onClose:t})))))))}function y(){let e=(0,s.s9)("mobile"),[t,a]=r.useState(!1),o=e.reduce((e,{category:t,dropdownCategories:a})=>{if(a.length>0){let r=a.map(e=>({key:e.urlSlug,text:e.text,path:`/community/category/${e.urlSlug}`,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:e.urlSlug}}}));return r.push({key:t.urlSlug,text:t.allText?t.allText:(0,l.t)("categories.all"),path:`/community/category/${t.urlSlug}`,className:n.cx.underline.$,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:t.urlSlug}}}),[...e,{key:t.urlSlug,text:t.text,children:r}]}return[...e,{key:t.urlSlug,text:t.text,path:`/community/category/${t.urlSlug}`}]},[{key:"home",text:(0,l.t)("community.view_bar.home"),path:"/community"}]);return r.createElement("div",{"data-testid":"flyout-category-selector",className:n.cx.p12.flexShrink0.$},t&&r.createElement(b,{navItems:o,onClose:()=>{a(!1)},trackingContext:{name:"community_mobile_nav_flyout"}}),r.createElement("button",{className:n.cx.flex.gap6.flexNowrap.fontMedium.colorText.$,onClick:()=>a(!0)},r.createElement(i.In,{icon:"workspace-16"}),r.createElement("span",{className:n.cx.font13.$},r.createElement(l.Tx,{id:"community.view_bar.browse"}))))}},567582:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var r=a(411855),n=a(330654),l=a(574176),i=a(939863),s=a(175290),o=a(672517);let c="footer--divider--srDs2";var d=a(686352);let m=n.object({label:n.string(),url:n.string()});function u(){let e=[{title:(0,i.t)("community.footer.popular_searches"),items:[{label:(0,i.t)("community.footer.resume"),url:"/community/category/resume-templates"},{label:(0,i.t)("community.footer.mobile_apps"),url:"/community/category/mobile-apps"},{label:(0,i.t)("community.footer.presentations"),url:"/community/category/presentations"},{label:(0,i.t)("community.footer.ui_kits"),url:"/community/category/ui-kits"},{label:(0,i.t)("community.footer.standup_template"),url:"/community/category/team-meetings"}]},{title:(0,i.t)("community.footer.most_used"),items:[{label:"Material Design Icons",url:"/community/file/878585965681562011"},{label:"Apple Design Resources",url:"/community/file/1248375255495415511"},{label:"Figma auto layout playground",url:"/community/file/784448220678228461"},{label:"Anima - Figma to React, HTML",url:"/community/plugin/857346721138427857/anima-figma-to-react-html-react-html-in-devmode"},{label:"Ant Design Open Source",url:"/community/file/831698976089873405"}]},{title:(0,i.t)("community.footer.top_collections"),items:[{label:(0,i.t)("community.collections.instagram_templates"),url:"/community/collections/instagram-mockup-designs"},{label:(0,i.t)("community.collections.landing_page"),url:"/community/collections/landing-page-design-examples"},{label:(0,i.t)("community.collections.email_design_inspiration"),url:"/community/templates/email-design-inspiration"},{label:(0,i.t)("community.collections.laptop_mockups"),url:"/community/templates/laptop-mockups"},{label:(0,i.t)("community.collections.arrow_designs"),url:"/community/collections/arrow-designs"}]},{title:(0,i.t)("community.footer.top_categories"),items:[{label:(0,i.t)("categories.design_templates"),url:"/community/category/design-templates"},{label:(0,i.t)("categories.libraries"),url:"/community/category/libraries"},{label:(0,i.t)("categories.icons"),url:"/community/category/icons"},{label:(0,i.t)("categories.development"),url:"/community/category/development"},{label:(0,i.t)("categories.brainstorming"),url:"/community/category/brainstorming"}]}];function t({href:e,children:t}){return r.createElement(o.L0,{href:e,trackingEventName:"cmty_footer",trackingProperties:{name:"footer_link_clicked",link:e}},t)}return r.createElement("div",{className:"footer--footer--tuKBS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"community-footer"},r.createElement("div",{className:"footer--sectionsContainer--BR5as"},e.map(e=>r.createElement(s.Y,{key:e.title,direction:"vertical",padding:{right:16}},r.createElement("div",{className:"footer--sectionTitle--pM53E"},e.title),e.items.map(e=>r.createElement(t,{key:e.url,href:e.url},e.label))))),r.createElement(s.Y,{direction:"vertical",spacing:16},r.createElement(t,{href:"/"},r.createElement(l.B,{svg:d.A,className:"footer--wordmark--CrA9E"})),r.createElement("div",null,r.createElement("span",null,r.createElement(i.Tx,{id:"community.footer.copyright"})),r.createElement("span",{className:c},"\u2022"),r.createElement(t,{href:"/sitemaps/figma-community-index.xml"},r.createElement(i.Tx,{id:"community.footer.site_map"})),r.createElement("span",{className:c},"\u2022"),r.createElement(t,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},r.createElement(i.Tx,{id:"community.footer.community_guidelines"})),r.createElement("span",{className:c},"\u2022"),r.createElement(t,{href:"/community-terms"},r.createElement(i.Tx,{id:"community.footer.terms_of_service"})))))}n.object({title:n.string(),items:n.array(m)})},243808:(e,t,a)=>{"use strict";a.d(t,{a:()=>k});var r=a(411855),n=a(126049),l=a(91408),i=a(22332),s=a(939863),o=a(742580),c=a(209552),d=a(753178);a(563706);var m=a(913270);a(358145),a(976203);var u=a(188507),_=a(776250),p=a(498750),g=a(574176),E=a(582064),f=a(558936),h=a(206144),v=a(839538),b=a(848680),y=a(837324),w=a(440248),T=a(159696);function x({query:e,inSearchPath:t,onChange:a,onSubmit:n,inputPlaceholder:l,context:i,className:o,searchIconClassName:c,closeIconClassName:d}){let m=(0,u.wA)(),x=(0,b.S)(!0),C=(0,r.useRef)(null),{renderedOrder:N,renderedSelectedIdx:k,resources:S,setResources:I,selectedIdx:A,setSelectedIdx:L}=(0,v.W)(i),R=(0,r.useCallback)(()=>{L({idx:-1})},[L]);return r.createElement("div",{className:o,tabIndex:0,onFocus:()=>{null!==C.current&&C.current.focus(),m(E.N.startSearch({entryPoint:"community"}))}},r.createElement(g.B,{svg:w.A,className:c}),r.createElement("input",{type:"text",value:e,spellCheck:!1,placeholder:l??(0,s.t)("community.search.search_community"),ref:C,onChange:e=>{let r=e.currentTarget.value;a(r),t&&r&&n(r)},onBlur:R,onKeyDown:r=>{var l,i,s,o;let c=r.currentTarget.value.trim();if("Enter"===r.key){if(r.preventDefault(),k>=0&&A.type){let t=null==(l=S[A.type])?void 0:l[A.idx],r=(0,f.x0)(t)?`/@${t.model.profile_handle}`:(0,y._t)({resource:t,trackingInfo:x});(0,h.VJ)(r),null==(i=C.current)||i.blur(),a(""),I({}),m(E.N.endSession()),(0,_.sx)("search_result_clicked",{query:e,resourceType:null==(s=N[k])?void 0:s.type,scope:"community",is_preview:!0,index:k,entry_point:"community_via_enter",...x})}else n(c),t&&!c?m(E.N.endSession()):!t&&c&&m(E.N.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))}else if("Escape"===r.key)null==(o=C.current)||o.blur();else if(r.keyCode===p.Uz.RIGHT_ARROW||r.keyCode===p.Uz.DOWN_ARROW||r.keyCode===p.Uz.LEFT_ARROW||r.keyCode===p.Uz.UP_ARROW){r.preventDefault();let e=k===N.length-1?k:k+1,t=k<=0?k:k-1;switch(r.keyCode){case p.Uz.RIGHT_ARROW:case p.Uz.DOWN_ARROW:L(N[e]||{idx:-1});break;case p.Uz.LEFT_ARROW:case p.Uz.UP_ARROW:L(N[t]||{idx:-1})}}},required:!0}),e&&e.length>0&&r.createElement(g.B,{svg:T.A,className:d,onClick:()=>{a(""),t&&n(""),m(E.N.endSession())}}))}var C=a(987981),N=a(860168);function k({isRedesignedHomepage:e}){let t=(0,i.N)(`(max-width: ${N.Ero})`),a=(0,i.N)(`(max-width: ${N.ikM})`),{onSubmit:u,inSearchPath:_}=function(){let e=(0,d.W6)(),t=(0,m.UH)(),a=!!(t&&(0,o.OE)(t));return{history:e,onSubmit:r=>{r.length?e.push(function({query:e,view:t,inSearchPath:a}){let r={...m.qd,editor_type:(null==t?void 0:t.editor_type)||m.qd.editor_type,resourceType:(null==t?void 0:t.resourceType)||m.qd.resourceType,price:(null==t?void 0:t.price)||m.qd.price,query:e};return a&&(r.sort_by=(null==t?void 0:t.sort_by)||m.qd.sort_by),(0,m.Mc)(r)}({query:r,view:t,inSearchPath:a})):a&&e.push("/community")},inSearchPath:a}}(),[p,g]=r.useState(""),E=(0,n.A)(u,400),f=r.useCallback(()=>{g("")},[]),h=!p||_||(e?a:t)?null:r.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageDropdownContentsPositionWrapper--qJcZD":void 0},r.createElement(C.G,{query:p,clearSearchInput:f,context:o.PF.LANDING,width:(0,l.jz)(N.eZi)}));return r.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageSearchContainer--x42a- text--fontPos13--xW8hS text--_fontBase--QdLsd":"homepage_dropdown_search_input--homepageDropdownSearchContainer--OEViU"},r.createElement(c.ms,{preview:h,className:e?"homepage_dropdown_search_input--redesignedHomepageDropdown--AsdzI dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd":"homepage_dropdown_search_input--dropdown--qY5GH dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},r.createElement(x,{onChange:g,onSubmit:E,query:p,inSearchPath:_,inputPlaceholder:(0,s.t)("community.search.search_everything_in_community"),context:o.PF.LANDING,className:e?"homepage_dropdown_search_input--redesignedSearchInput--CoAYJ text--fontPos11--2LvXf text--_fontBase--QdLsd":"homepage_dropdown_search_input--searchInput--8x2Cp text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageSearchIcon--RcD8I":"homepage_dropdown_search_input--searchIcon--55Xdx",closeIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageCloseIcon--8bE70":"homepage_dropdown_search_input--closeIcon--iurnp"})))}},382842:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(411855),n=a(946689),l=a(939863),i=a(233562);let s="load_more_pagination_button--loadMoreButtonWrapper--nNqNo";function o({onClick:e,isLoading:t,isMoreToFetch:a}){return t?r.createElement("div",{className:s},r.createElement(i.y$,null)):a?r.createElement("div",{className:s},r.createElement(n.tM,{onClick:e},r.createElement(l.Tx,{id:"community.landing_page.load_more"}))):null}},226900:(e,t,a)=>{"use strict";a.d(t,{z:()=>n});var r=a(411855);function n(e){return r.createElement("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa"},e.title&&r.createElement("div",{className:"metadata_section--subheader--Zk7ID"},e.title),r.createElement("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children))}},987981:(e,t,a)=>{"use strict";a.d(t,{G:()=>G});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(776250),o=a(966712),c=a(939863),d=a(582064),m=a(839538),u=a(848680),_=a(792199),p=a(233562),g=a(837324),E=a(913270),f=a(709495),h=a(742580),v=a(367935),b=a(978527),y=a(56714),w=a(296045),T=a(408552),x=a(206144);let C="search_dropdown--meta--a-aV4",N="search_dropdown--pluginOrWidgetTilePreview--Rfef1",k="search_dropdown--section--VJbkB",S="search_dropdown--sectionTitle--x7FyO",I="search_dropdown--title--eiIIy",A="search_dropdown--authorRow--Uk00Y",L="search_dropdown--authorRowText--vsAii",R="search_dropdown--authorRowAvatar--jFZyx",O="search_dropdown--resourceRowExtension--v4dY8 search_dropdown--resourceRow--P-Lig",D="search_dropdown--hover--stEGe";function F({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:n}){return e&&0!==e.length?r.createElement("div",{className:k},r.createElement("div",{className:S},r.createElement(c.Tx,{id:"community.view_bar.creators"})),r.createElement(M,{profiles:e.map(e=>e.model),onResourceClick:t,onResourceHover:a,selectedIdx:n})):null}function M({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:n}){return r.createElement("div",{className:"search_dropdown--resourceRowProfiles--bz2ck"},e.map((e,l)=>r.createElement("div",{onMouseEnter:()=>a(l),key:e.id,className:i()({[D]:n===l})},r.createElement(P,{profile:e,onResourceClick:t}))))}function P({profile:e,onResourceClick:t}){return r.createElement("div",{className:"search_dropdown--profile--HRd2s",key:e.id},r.createElement(x.A6,{to:`/@${e.profile_handle}`,className:"search_dropdown--resourceRowProfile--HScpw",onClick:()=>{document.activeElement.blur(),t()}},r.createElement(w.e,{adtlClassName:"search_dropdown--profileRowAvatar--TOSBT",entity:e,size:40}),r.createElement("div",{className:"search_dropdown--profileRowName--oRTAf ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.name),r.createElement("div",{className:"search_dropdown--profileRowProfileHandle--DuEYR ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},"@",e.profile_handle)))}function B({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:l}){let s=(0,n.d4)(e=>e.authedActiveCommunityProfile),o=(0,u.S)(!0);return e&&0!==e.length?r.createElement("div",{className:k},r.createElement("div",{className:S},r.createElement(c.Tx,{id:"community.view_bar.widgets"})),e.slice(0,4).map((e,n)=>{let c=(0,g.qD)(e);return r.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:i()({[D]:l===n})},r.createElement(x.A6,{to:(0,g._t)({resource:e,trackingInfo:o}),className:O,onClick:()=>{document.activeElement.blur(),t()}},r.createElement(b.V,{plugin:c,className:N,alt:c.name,onError:e=>e.target.src=g.ZD}),r.createElement("div",{className:C},r.createElement("div",{className:I},c.name),r.createElement("div",{className:A},e.community_publishers.accepted.map(e=>r.createElement(w.e,{key:e.id,entity:e,size:16,adtlClassName:R})),r.createElement("div",{className:L},(0,p.Lj)(e)))),(0,T.$3)({resource:e,authedActiveCommunityProfile:s})))})):null}function U({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:l}){let s=(0,n.d4)(e=>e.authedActiveCommunityProfile),o=(0,u.S)(!0);return e&&0!==e.length?r.createElement("div",{className:k},r.createElement("div",{className:S},r.createElement(c.Tx,{id:"community.view_bar.plugins"})),e.slice(0,4).map((e,n)=>{let c=(0,g.qD)(e);return r.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:i()({[D]:l===n})},r.createElement(x.A6,{to:(0,g._t)({resource:e,trackingInfo:o}),className:O,onClick:()=>{document.activeElement.blur(),t()}},r.createElement("img",{src:c.redirect_icon_url,className:N,alt:c.name,onError:e=>e.target.src=g.ZD}),r.createElement("div",{className:C},r.createElement("div",{className:I},c.name),r.createElement("div",{className:A},e.community_publishers.accepted.map(e=>r.createElement(w.e,{key:e.id,entity:e,size:16,adtlClassName:R})),r.createElement("div",{className:L},(0,p.Lj)(e)))),(0,T.$3)({resource:e,authedActiveCommunityProfile:s})))})):null}function W({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:l}){let s=(0,n.d4)(e=>e.authedActiveCommunityProfile),d=(0,u.S)(!0);if(!e||0===e.length)return null;let m=(0,o.kc)().cmty_thumbnail_16x9_ar;return r.createElement("div",{className:k},r.createElement("div",{className:S},r.createElement(c.Tx,{id:"community.view_bar.files"})),e.slice(0,4).map((e,n)=>{let o=(0,g.qD)(e);return r.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:i()({[D]:l===n})},r.createElement(x.A6,{to:(0,g._t)({resource:e,trackingInfo:d}),className:"search_dropdown--resourceRow--P-Lig",onClick:()=>{document.activeElement.blur(),t()}},r.createElement("img",{src:e.thumbnail_url,className:m?"search_dropdown--fileTilePreview16x9---1A4y":"search_dropdown--fileTilePreview--uCbva",alt:o.name,onError:e=>e.target.src=g.ZD}),r.createElement("div",{className:C},r.createElement("div",{className:I},o.name),r.createElement("div",{className:A},e.community_publishers.accepted.map(e=>r.createElement(w.e,{key:e.id,entity:e,size:16,adtlClassName:R})),r.createElement("div",{className:L},(0,p.Lj)(e)))),(0,T.$3)({resource:e,authedActiveCommunityProfile:s})))}))}let V=function(e,t){let a;return(...t)=>new Promise(r=>{clearTimeout(a),a=setTimeout(()=>{r(e.apply(e,t))},250)})}((e,t)=>t((0,_.n)().filter({query:e,sort_by:f.e.Search.RELEVANCY}).searchResourcesAndProfiles({resourceType:"mixed",limit:8,isPreview:!0,profileLimit:3})),0);function G(e){var t,a,l,o;let{query:_,context:p,width:g,clearSearchInput:f}=e,{resources:b,setResources:w,selectedIdx:T,setSelectedIdx:C}=(0,m.W)(p),N=(0,n.wA)(),k=(0,u.S)(!0),S=null==k?void 0:k.searchSessionId,I=r.useCallback(()=>{N(d.N.sessionSeeMoreClick({})),(0,s.sx)("search_show_all_clicked",{query:_,scope:"community",entry_point:"community",...k})},[N,_,k]);r.useEffect(()=>{_&&V(_,N).then(([e,t])=>{let a=e.data.meta.results.map(e=>e.model);w({files:a.filter(e=>(0,v.zj)(e)),plugins:a.filter(e=>(0,v.bT)(e)).map(y.I$),widgets:a.filter(e=>(0,v.AS)(e)).map(y.I$),creators:t.data.meta.results.slice(0,3)}),C({idx:-1});let r=p===h.PF.LANDING?"searchPreviewLanding":"searchPreview";(0,s.sx)("search_query_result",{query:_,responseCounts:a.length,scope:"community",entry_point:"community",context:r,searchSessionId:S})}).catch(()=>{})},[_,N,S,p,w,C]);let A=r.useCallback(e=>{(0,s.sx)("search_result_clicked",{query:_,resourceType:e,scope:"community",is_preview:!0,entry_point:"community",...k}),f(),w({}),N(d.N.endSession())},[_,N,k,w,f]),L=r.useCallback((e,t)=>{b[t]&&!((b[t]??[]).length<e)&&C({idx:e,type:t})},[b,C]);if(!_)return null;let R=(null==(t=b.files)?void 0:t.length)||(null==(a=b.widgets)?void 0:a.length)||(null==(l=b.plugins)?void 0:l.length)||(null==(o=b.creators)?void 0:o.length),O=(0,E.Mc)({...E.qd,query:_});return r.createElement("div",{className:i()("search_dropdown--searchDropdown--HqMrn",{"search_dropdown--searchDropdownLanding--HJ002":p===h.PF.LANDING,"search_dropdown--categoryNavDropdownResponsiveWidth--HzoIl":"small-responsive"===g}),style:"small-responsive"!==g?{width:`${g}px`}:void 0},r.createElement(W,{resources:b.files,onResourceClick:()=>A("files"),onResourceHover:e=>L(e,"files"),selectedIdx:(null==T?void 0:T.type)==="files"?null==T?void 0:T.idx:null}),r.createElement(U,{resources:b.plugins,onResourceClick:()=>A("plugins"),onResourceHover:e=>L(e,"plugins"),selectedIdx:(null==T?void 0:T.type)==="plugins"?null==T?void 0:T.idx:null}),r.createElement(B,{resources:b.widgets,onResourceClick:()=>A("widgets"),onResourceHover:e=>L(e,"widgets"),selectedIdx:(null==T?void 0:T.type)==="widgets"?null==T?void 0:T.idx:null}),r.createElement(F,{profiles:b.creators,onResourceClick:()=>A("profiles"),onResourceHover:e=>L(e,"creators"),selectedIdx:(null==T?void 0:T.type)==="creators"?null==T?void 0:T.idx:null}),R?r.createElement("div",{className:"search_dropdown--searchAllLink--VCaxM text--fontPos12--YsUAh text--_fontBase--QdLsd"},r.createElement(x.A6,{to:O,onClick:I},r.createElement(c.Tx,{id:"community.search.show_all_search_results"}))):null)}},99399:(e,t,a)=>{"use strict";a.d(t,{Sk:()=>k,M5:()=>A});var r=a(411855),n=a(188507),l=a(753178),i=a(126049),s=a(776250),o=a(358145),c=a(498750),d=a(563706),m=a(574176),u=a(939863),_=a(582064),p=a(896474),g=a(558936),E=a(206144),f=a(839538),h=a(848680),v=a(976203),b=a(837324),y=a(913270),w=a(742580);a(860178);var T=a(209552),x=a(987981),C=a(639685),N=a(159696);function k(e){let{onSubmit:t,pathname:a,isMobile:n}=e,l=(0,y.zX)(a)===y.hX.SEARCH,[s,c]=r.useState("");r.useEffect(()=>{let e=(0,y.wl)();e&&(0,w.OE)(e)&&e.query&&c(e.query)},[]);let d=(0,i.A)(t,n?600:400),m=r.useCallback(()=>{c("")},[]);!function(e,t){let a=(0,o.Z)(e);r.useEffect(()=>{e!==y.hX.SEARCH&&a!==e&&t()},[e,t,a])}(a,m);let _=(0,v.j)(),p="show-desktop"===_?(0,u.t)("community.search.placeholder"):(0,u.t)("community.search.placeholder.search_for_a_resource");if(n)return r.createElement(I,{onChange:c,onSubmit:d,query:s,inSearchPath:l,inputPlaceholder:p});{let e=s&&!l&&window.innerWidth>800?r.createElement(x.G,{query:s,clearSearchInput:m,context:w.PF.NAV,width:_?"small-responsive":void 0}):null;return r.createElement(T.ms,{preview:e,className:"search_input--searchBoxContainer--im-rr dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},r.createElement(S,{onChange:c,onSubmit:d,query:s,inSearchPath:l,inputPlaceholder:p,context:w.PF.NAV}))}}function S(e){let{query:t,inSearchPath:a,onChange:l,onSubmit:i,context:o}=e,d=(0,n.wA)(),v=r.useRef(null),{renderedOrder:y,renderedSelectedIdx:w,resources:T,setResources:x,selectedIdx:C,setSelectedIdx:k}=(0,f.W)(o),S=r.useCallback(()=>{k({idx:-1})},[k]),I=(0,h.S)(!0);return r.createElement("div",{className:"search_input--searchBox--03-WO text--fontPos13--xW8hS text--_fontBase--QdLsd",tabIndex:0,onFocus:()=>{null!==v.current&&v.current.focus(),d(_.N.startSearch({entryPoint:"community"}))}},r.createElement(p.In,{icon:"search-large-32"}),r.createElement("input",{type:"text",value:t,spellCheck:!1,placeholder:e.inputPlaceholder||(0,u.t)("community.search.search_community"),ref:v,onChange:e=>{let t=e.currentTarget.value;l(t),a&&t&&i(t)},onBlur:S,onKeyDown:e=>{var r,n,o,m;let u=e.currentTarget.value.trim();if("Enter"===e.key){if(e.preventDefault(),w>=0&&C.type){let e=null==(r=T[C.type])?void 0:r[C.idx],a=(0,g.x0)(e)?`/@${e.model.profile_handle}`:(0,b._t)({resource:e,trackingInfo:I});(0,E.VJ)(a),null==(n=v.current)||n.blur(),l(""),x({}),d(_.N.endSession()),(0,s.sx)("search_result_clicked",{query:t,resourceType:null==(o=y[w])?void 0:o.type,scope:"community",is_preview:!0,index:w,entry_point:"community_via_enter",...I})}else i(u),a&&!u?d(_.N.endSession()):!a&&u&&d(_.N.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))}else if("Escape"===e.key)null==(m=v.current)||m.blur();else if(e.keyCode===c.Uz.RIGHT_ARROW||e.keyCode===c.Uz.DOWN_ARROW||e.keyCode===c.Uz.LEFT_ARROW||e.keyCode===c.Uz.UP_ARROW){e.preventDefault();let t=w===y.length-1?w:w+1,a=w<=0?w:w-1;switch(e.keyCode){case c.Uz.RIGHT_ARROW:case c.Uz.DOWN_ARROW:k(y[t]||{idx:-1});break;case c.Uz.LEFT_ARROW:case c.Uz.UP_ARROW:k(y[a]||{idx:-1})}}},required:!0}),t&&t.length>0&&r.createElement(m.B,{svg:N.A,className:"search_input--closeIcon--9YDAe",onClick:()=>{l(""),a&&i(""),d(_.N.endSession())}}))}function I(e){let{query:t,inSearchPath:a,onChange:l,onSubmit:i}=e,s=r.useRef(null),o=(0,n.wA)(),[c,d]=r.useState(!1);return r.createElement("div",{className:"search_input--mobileSearchContainer--lpxm7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement("button",{onClick:()=>{var e;c?o(_.N.endSession()):(null==(e=s.current)||e.focus(),o(_.N.startSearch({entryPoint:"community"}))),d(!c)}},r.createElement(m.B,{className:"search_input--searchIcon--qJgOx",svg:C.A})),r.createElement("div",{className:"search_input--searchInput--oFDQ-"},r.createElement("input",{type:"text",value:t,spellCheck:!1,ref:s,placeholder:e.inputPlaceholder||(0,u.t)("community.search.search_community"),onChange:e=>{let t=e.currentTarget.value;l(t),a&&t&&i(t)},onKeyDown:e=>{var t,r;let n=e.currentTarget.value.trim();"Enter"===e.key?(e.preventDefault(),i(n),null==(t=s.current)||t.blur(),a&&!n?o(_.N.endSession()):!a&&n&&o(_.N.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))):"Escape"===e.key&&(null==(r=s.current)||r.blur())},required:!0}),r.createElement("button",{className:"search_input--clearInput--2nSCV",onClick:e=>{l(""),e.preventDefault()}},"\xd7")))}function A(e){let{history:t,onSubmit:a}=function(){let e=(0,l.W6)(),t=(0,y.UH)(),a=!!(t&&(0,w.OE)(t));return{history:e,onSubmit:r=>{r.length?e.push(function({query:e,view:t,inSearchPath:a}){let r={...y.qd,editor_type:(null==t?void 0:t.editor_type)||y.qd.editor_type,resourceType:(null==t?void 0:t.resourceType)||y.qd.resourceType,price:(null==t?void 0:t.price)||y.qd.price,query:e};return a&&(r.sort_by=(null==t?void 0:t.sort_by)||y.qd.sort_by),(0,y.Mc)(r)}({query:r,view:t,inSearchPath:a})):a&&e.push("/community")},inSearchPath:a}}(),n=e.isMobile??d.Ay.mobile;return r.createElement(k,{isMobile:n,onSubmit:a,pathname:t.location.pathname})}},629850:(e,t,a)=>{"use strict";a.d(t,{J:()=>u});var r=a(411855),n=a(91408),l=a(981952),i=a(630949),s=a(482075),o=a(672517),c=a(209552),d=a(206144),m=a(860168);function u(){let e=!(0,l.R)((0,n.jz)(m.ZI8)),t=(0,s.s9)(e?"expanded":"collapsed");return r.createElement("div",{"data-testid":"nav-category-selector",className:i.cx.flex.flexRow.justifyCenter.flexBasisAuto.flexShrink0.$},t.map(({category:e,dropdownCategories:t},a)=>r.createElement(_,{parentCategory:e,dropdownCategories:t,key:a})))}function _({parentCategory:e,dropdownCategories:t}){let[a,n]=r.useState(!1),[l,s]=r.useState(0),m=`/community/category/${e.urlSlug}`,u=r.createElement("div",{className:a?"nav_category_selector--navCategorySelectorTextHover--EsRcW nav_category_selector--navCategorySelectorText--TdbiR text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_category_selector--navCategorySelectorText--TdbiR text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text);return r.createElement("div",{onMouseEnter:()=>{n(!0)},onMouseMove:()=>{a||n(!0)},onMouseLeave:()=>{n(!1)}},r.createElement(c.So,{key:`${e.urlSlug}-${l}`,preview:r.createElement("div",{className:"nav_category_selector--navdropdownCategoriesContainer--JESG1"},t.map((e,t)=>{let a=`/community/category/${e.urlSlug}`;return r.createElement(o.fu,{name:"Global Nav Category",properties:{slug:e.urlSlug},key:t},r.createElement(o.L0,{trackingEventName:"community_global_nav_category_clicked",href:a,onClick:e=>{(0,d.qG)(a,e),s(l+1),n(!1)},className:"nav_category_selector--navDropdownCategory--laaCI text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text))}))},"more"===e.urlSlug?u:r.createElement(o.fu,{name:"Global Nav Category",properties:{slug:e.urlSlug}},r.createElement(o.L0,{trackingEventName:"community_global_nav_category_clicked",className:i.cx.colorText.noWrap.$,href:m,onClick:e=>(0,d.qG)(m,e)},u))))}},678353:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(411855),n=a(776250),l=a(939863),i=a(971120),s=a(206144),o=a(817749);function c({tags:e,resourceType:t,optionalTitle:a,disableHeader:c}){return 0===e.length?r.createElement(r.Fragment,null):r.createElement(r.Fragment,null,!c&&r.createElement("h3",{className:o.Pr},a||r.createElement(l.Tx,{id:"community.detail_view.tags"})),r.createElement("div",{className:o.Pc},e.map(e=>{let a=`/community/tag/${e}`;return t!==i.L.BrowseResourceTypes.MIXED&&(a+=`/${t}`),r.createElement(s.A6,{key:e,to:a,onClick:()=>{(0,n.sx)("Tag clicked",{text:e,tab:t})}},r.createElement("div",{className:o.Tc},e))})))}},568424:(e,t,a)=>{"use strict";a.d(t,{_:()=>d,u:()=>m});var r=a(411855),n=a(296210),l=a.n(n),i=a(981952),s=a(939863),o=a(107877);let c="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function d({description:e}){let t=r.useRef(null);return r.useEffect(()=>{var a;if(!t.current)return;let r=document.createElement("div");r.innerHTML=l().sanitize(e);let n=o.Ep.map(e=>`:not(${e})`).join("");for(let e of r.querySelectorAll(n))null==(a=e.parentNode)||a.removeChild(e);t.current.innerHTML=r.innerHTML},[t,e]),r.createElement("div",{ref:t})}function m({description:e,hideDivider:t=!1}){let a=r.useRef(null),[n,l]=r.useState(!1),[m,u]=r.useState(!1),_=(0,i.R)(o.YW)?o.dz:o.Un;return r.useEffect(()=>{a.current&&a.current.getBoundingClientRect().height>_&&(l(!0),u(!0))},[_]),r.createElement(r.Fragment,null,r.createElement("div",{style:n?{maxHeight:`${_}px`}:{},className:n?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:a},r.createElement(d,{description:e}),!n&&m&&r.createElement("div",{className:c,onClick:()=>{l(!0)},role:"button",tabIndex:0},r.createElement(s.Tx,{id:"community.detail_view.show_less"}))),n&&r.createElement("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:c,onClick:()=>{l(!1)},role:"button",tabIndex:0},r.createElement(s.Tx,{id:"community.detail_view.read_more"}))),!t&&r.createElement("div",{className:"truncated_description_view--divider--RK37w"}))}},897088:(e,t,a)=>{"use strict";a.d(t,{N:()=>n,b:()=>r});let r=12,n=10},839538:(e,t,a)=>{"use strict";a.d(t,{W:()=>s});var r=a(411855);if(443==a.j)var n=a(418956);var l=a(558936),i=a(742580);function s(e){let t=e===i.PF.LANDING?l.MP:l.AU,a=e===i.PF.LANDING?l.nr:l.vW,[s,o]=(0,n.fp)(t),[c,d]=(0,n.fp)(a),m=r.useMemo(()=>["files","plugins","widgets","creators"].reduce((e,t)=>{let a=((null==s?void 0:s[t])??[]).map((e,a)=>({type:t,idx:a})).slice(0,4);return e.concat(a)},[]),[s]),u=r.useMemo(()=>m.findIndex(e=>e.type===(null==c?void 0:c.type)&&e.idx===(null==c?void 0:c.idx)),[m,c]);return{renderedOrder:m,renderedSelectedIdx:u,resources:s,setResources:o,selectedIdx:c,setSelectedIdx:d}}},976203:(e,t,a)=>{"use strict";a.d(t,{j:()=>i});var r=a(22332),n=a(612776),l=a(860168);function i(){let e=(0,n.kc)({is_logged_out:!1}),t=(0,n.ye)({is_logged_out:!1});return(0,r.N)(`(max-width: ${l.dxy})`)?t()?"show-mobile":"show-none":e()?"show-desktop":"show-none"}},482075:(e,t,a)=>{"use strict";a.d(t,{IJ:()=>i,hV:()=>s,s9:()=>l});var r=a(411855),n=a(939863);function l(e){return r.useMemo(()=>[{category:{urlSlug:"libraries",text:(0,n.t)("categories.libraries"),allText:(0,n.t)("categories.all_libraries")},dropdownCategories:[{urlSlug:"ui-kits",text:(0,n.t)("categories.ui_kits")},{urlSlug:"wireframes",text:(0,n.t)("categories.wireframes")}]},{category:{urlSlug:"design-templates",text:(0,n.t)("categories.design_templates"),allText:(0,n.t)("categories.all_design_templates")},dropdownCategories:[{urlSlug:"desktop-apps-websites",text:(0,n.t)("categories.desktop_apps_websites")},{urlSlug:"mobile-apps",text:(0,n.t)("categories.mobile_apps")},{urlSlug:"presentations",text:(0,n.t)("categories.presentations")},{urlSlug:"resume-templates",text:(0,n.t)("categories.resumes")},{urlSlug:"portfolio-templates",text:(0,n.t)("categories.portfolios")}]},"expanded"===e||"mobile"===e?{category:{urlSlug:"design-tools",text:(0,n.t)("categories.design_tools"),allText:(0,n.t)("categories.all_design_tools")},dropdownCategories:[{urlSlug:"accessibility",text:(0,n.t)("categories.accessibility")},{urlSlug:"editing-effects",text:(0,n.t)("categories.editing_effects")},{urlSlug:"file-organization",text:(0,n.t)("categories.file_organization")},{urlSlug:"import-export",text:(0,n.t)("categories.import_export")},{urlSlug:"prototyping-animation",text:(0,n.t)("categories.prototyping_animation")}]}:null,"expanded"===e||"mobile"===e?{category:{urlSlug:"visual-assets",text:(0,n.t)("categories.visual_assets"),allText:(0,n.t)("categories.all_visual_assets")},dropdownCategories:[{urlSlug:"fonts-typography",text:(0,n.t)("categories.fonts_typography")},{urlSlug:"illustrations",text:(0,n.t)("categories.illustrations")},{urlSlug:"shapes-colors",text:(0,n.t)("categories.shapes_colors")},{urlSlug:"stock-photography",text:(0,n.t)("categories.stock_photography")}]}:null,{category:{urlSlug:"whiteboarding",text:(0,n.t)("categories.whiteboarding"),allText:(0,n.t)("categories.all_whiteboarding")},dropdownCategories:[{urlSlug:"brainstorming",text:(0,n.t)("categories.brainstorming")},{urlSlug:"diagramming",text:(0,n.t)("categories.diagramming")},{urlSlug:"fun-games",text:(0,n.t)("categories.fun_games")},{urlSlug:"strategic-planning",text:(0,n.t)("categories.strategic_planning")},{urlSlug:"team-meetings",text:(0,n.t)("categories.team_meetings")}]},..."mobile"===e?[{category:{urlSlug:"icons",text:(0,n.t)("categories.icons")},dropdownCategories:[]},{category:{urlSlug:"development",text:(0,n.t)("categories.development")},dropdownCategories:[]},{category:{urlSlug:"education",text:(0,n.t)("categories.education")},dropdownCategories:[]}]:[{category:{urlSlug:"more",text:(0,n.t)("categories.more")},dropdownCategories:[{urlSlug:"education",text:(0,n.t)("categories.education")},{urlSlug:"development",text:(0,n.t)("categories.development")},{urlSlug:"icons",text:(0,n.t)("categories.icons")},"expanded"===e?null:{urlSlug:"design-tools",text:(0,n.t)("categories.design_tools")},"expanded"===e?null:{urlSlug:"visual-assets",text:(0,n.t)("categories.visual_assets")}].filter(e=>null!=e)}]].filter(e=>null!=e),[e])}function i(){let e=l("expanded");return r.useMemo(()=>{let t=new Set;return e.forEach(e=>{let{category:a,dropdownCategories:r}=e;t.add(a.urlSlug),r.forEach(e=>{t.add(e.urlSlug)})}),t},[e])}function s(){let e=l("expanded");return r.useMemo(()=>{let t={};return e.forEach(({category:e,dropdownCategories:a})=>{t[e.urlSlug]=e.text,a.forEach(e=>{t[e.urlSlug]=e.text})}),t},[e])}},349804:(e,t,a)=>{"use strict";if(a.d(t,{Jm:()=>o,Vn:()=>i,sF:()=>s}),443==a.j)var r=a(935283);var n=a(939863),l=a(742580);function i(e,t){switch(e){case l.LJ.inspiration:return{title:(0,n.t)("community.categories.inspiration"),subhead:(0,n.t)("community.categories.banner.inspiration")};case l.LJ.jamSessions:return{title:(0,n.t)("community.categories.team_syncs"),subhead:(0,n.t)("community.categories.banner.jam_sessions")};case l.LJ.designSystems:return{title:(0,n.t)("community.categories.design_systems"),subhead:t()?(0,n.t)("categories.design_systems_subheader"):(0,n.t)("community.categories.banner.design_systems")};case l.LJ.visualAssets:return{title:(0,n.t)("community.categories.visual_assets"),subhead:t()?(0,n.t)("categories.visual_assets_subheader"):(0,n.t)("community.categories.banner.visual_assets")};case l.LJ.development:return{title:(0,n.t)("community.categories.development"),subhead:t()?(0,n.t)("categories.development_subheader"):(0,n.t)("community.categories.banner.development")};case l.LJ.accessibility:return{title:(0,n.t)("categories.accessibility"),subhead:(0,n.t)("categories.accessibility_subheader")};case l.LJ.brainstorming:return{title:(0,n.t)("categories.brainstorming"),subhead:(0,n.t)("categories.brainstorming_subheader")};case l.LJ.classroomActivities:return{title:(0,n.t)("categories.classroom_activities"),subhead:(0,n.t)("categories.classroom_activities_subheader")};case l.LJ.designTemplates:return{title:(0,n.t)("community.categories.design_templates"),subhead:(0,n.t)("categories.design_templates_subheader")};case l.LJ.designTools:return{title:(0,n.t)("community.categories.design_tools"),subhead:(0,n.t)("categories.design_tools_subheader")};case l.LJ.desktopAppsWebsites:return{title:(0,n.t)("categories.desktop_apps_websites"),subhead:(0,n.t)("categories.desktop_apps_websites_subheader")};case l.LJ.diagramming:return{title:(0,n.t)("categories.diagramming"),subhead:(0,n.t)("categories.diagramming_subheader")};case l.LJ.editingEffects:return{title:(0,n.t)("categories.editing_effects"),subhead:(0,n.t)("categories.editing_effects_subheader")};case l.LJ.education:return{title:(0,n.t)("community.categories.education"),subhead:(0,n.t)("categories.education_subheader")};case l.LJ.fileOrganization:return{title:(0,n.t)("categories.file_organization"),subhead:(0,n.t)("categories.file_organization_subheader")};case l.LJ.fontsTypography:return{title:(0,n.t)("categories.fonts_typography"),subhead:(0,n.t)("categories.fonts_typography_subheader")};case l.LJ.funGames:return{title:(0,n.t)("categories.fun_games"),subhead:(0,n.t)("categories.fun_games_subheader")};case l.LJ.icons:return{title:(0,n.t)("community.categories.icons"),subhead:(0,n.t)("categories.icons_subheader")};case l.LJ.illustrations:return{title:(0,n.t)("categories.illustrations"),subhead:(0,n.t)("categories.illustrations_subheader")};case l.LJ.importExport:return{title:(0,n.t)("categories.import_export"),subhead:(0,n.t)("categories.import_export_subheader")};case l.LJ.libraries:return{title:(0,n.t)("categories.libraries"),subhead:(0,n.t)("categories.libraries_subheader")};case l.LJ.mobileApps:return{title:(0,n.t)("categories.mobile_apps"),subhead:(0,n.t)("categories.mobile_apps_subheader")};case l.LJ.portfolios:return{title:(0,n.t)("categories.portfolios"),subhead:(0,n.t)("categories.portfolios_subheader")};case l.LJ.presentations:return{title:(0,n.t)("categories.presentations"),subhead:(0,n.t)("categories.presentations_subheader")};case l.LJ.prototypingAnimation:return{title:(0,n.t)("categories.prototyping_animation"),subhead:(0,n.t)("categories.prototyping_animation_subheader")};case l.LJ.resumes:return{title:(0,n.t)("categories.resumes"),subhead:(0,n.t)("categories.resumes_subheader")};case l.LJ.shapesColors:return{title:(0,n.t)("categories.shapes_colors"),subhead:(0,n.t)("categories.shapes_colors_subheader")};case l.LJ.stockPhotography:return{title:(0,n.t)("categories.stock_photography"),subhead:(0,n.t)("categories.stock_photography_subheader")};case l.LJ.strategicPlanning:return{title:(0,n.t)("categories.strategic_planning"),subhead:(0,n.t)("categories.strategic_planning_subheader")};case l.LJ.teamMeetings:return{title:(0,n.t)("categories.team_meetings"),subhead:(0,n.t)("categories.team_meetings_subheader")};case l.LJ.tutorials:return{title:(0,n.t)("categories.tutorials"),subhead:(0,n.t)("categories.tutorials_subheader")};case l.LJ.uiKits:return{title:(0,n.t)("categories.ui_kits"),subhead:(0,n.t)("categories.ui_kits_subheader")};case l.LJ.wireframes:return{title:(0,n.t)("categories.wireframes"),subhead:(0,n.t)("categories.wireframes_subheader")};case l.LJ.whiteboarding:return{title:(0,n.t)("community.categories.whiteboarding"),subhead:(0,n.t)("categories.whiteboarding_subheader")};default:(0,r.xb)(e)}}function s(e){return Object.values(l.LJ).includes(e)?e:null}function o(){return[{category:l.LJ.designTemplates,src:"https://static.figma.com/uploads/f35144ac6be1301b0c300fdb5ba0761f85d610da",mobileSrc:"https://static.figma.com/uploads/d09077ccb81fdbb9d927f28eab6d6aff62def241",text:(0,n.t)("categories.homepage_highlight.design_templates")},{category:l.LJ.uiKits,src:"https://static.figma.com/uploads/44c5ef91f096da061d47298742f4a07d322fcd70",mobileSrc:"https://static.figma.com/uploads/e75a2c26e22d2a14238146af47dcfd040cd1f761",text:(0,n.t)("categories.homepage_highlight.ui_kits")},{category:l.LJ.icons,src:"https://static.figma.com/uploads/12cea3d845a2aebb7027af6890160caeb7e4ce9f",mobileSrc:"https://static.figma.com/uploads/478f606904a2341a2b01fb2ef3cafb9f63b29f79",text:(0,n.t)("categories.homepage_highlight.icons")},{category:l.LJ.designTools,src:"https://static.figma.com/uploads/404bbfd2c09daf145970196f3d762807fd711299",text:(0,n.t)("categories.homepage_highlight.design_tools")},{category:l.LJ.visualAssets,src:"https://static.figma.com/uploads/8857bb67fa108380ce502139054754c89feb9f3e",mobileSrc:"https://static.figma.com/uploads/3a887f58127d5e03c61c7884b9fce47ae6c6c16b",text:(0,n.t)("categories.homepage_highlight.visual_assets")},{category:l.LJ.whiteboarding,src:"https://static.figma.com/uploads/e1915a29a858e7c0d717471cf0108aeba02c7dbe",mobileSrc:"https://static.figma.com/uploads/bfeb514427f6279d7e6b4902a38fd7f576b394e4",text:(0,n.t)("categories.homepage_highlight.whiteboarding")}]}},34503:(e,t,a)=>{"use strict";let r;a.d(t,{A3:()=>w,AZ:()=>T,CV:()=>y,KP:()=>f,Lb:()=>b,TP:()=>o,us:()=>h,wD:()=>v});var n=a(330654),l=a(837324),i=a(555328),s=a(813408),o=((r=o||{}).BUNDLE_SECTION="bundle_section",r.HERO_SECTION="hero_section",r);let c=n.object({title:n.string(),description:n.string().optional(),imageUrl:n.string().url(),prompt:n.string(),category:n.string()});n.object({figjam_ai:n.array(c).nullable()});let d=n.object({hub_file_id:n.string().optional(),plugin_id:n.string().optional(),widget_id:n.string().optional(),title:n.string().optional(),description:n.string().optional()}),m=n.object({resources:n.array(d).nullish(),resource:d.nullish()}).nonstrict(),u=n.object({title:n.string().nullable(),description:n.string().nullable(),meta:m,position:n.number(),section_type:n.nativeEnum(o),created_at:n.string().nullable(),updated_at:n.string().nullable()}),_=u.extend({resources:n.array(n.custom())}),p=u.extend({resource:n.custom().nullable()}),g=n.object({question:n.string(),answer:n.string()}),E=n.object({faqs:g.nullish(),breadcrumb_text:n.string().nullish()}).nonstrict();function f(e,t){var a;let r=(0,l.Vm)(e);return(null==(a=null==t?void 0:t.resources)?void 0:a.length)?(null==t?void 0:t.resources).find(t=>r===i.vt.HUB_FILE?(null==t?void 0:t.hub_file_id)===e.id:r===i.vt.PLUGIN?(null==t?void 0:t.plugin_id)===e.id:r===i.vt.WIDGET?(null==t?void 0:t.widget_id)===e.id:void 0):(null==t?void 0:t.resource)?null==t?void 0:t.resource:void 0}function h(e){return"published"===e.publishing_status&&!!e.latest_published_at}function v(e){try{return/^\/community\/templates\/.+$/.test(new URL(e).pathname)}catch{return!1}}function b(e){let{resources:t}=e.sections.reduce(({resources:e,resourceIds:t},a)=>{if("bundle_section"===a.section_type)for(let r of a.resources)(null==r?void 0:r.id)&&!t.has(r.id)&&(t.add(r.id),e.push(r));else if("hero_section"===a.section_type){let r=a.resource;r&&!t.has(r.id)&&(e.push(r),t.add(r.id))}return{resources:e,resourceIds:t}},{resources:[],resourceIds:new Set});return t}function y(e){for(let t of e.sections)if("bundle_section"===t.section_type&&t.meta.hasOwnProperty("figjam_ai"))return!0;return!1}n.object({title:n.string().nullable(),description:n.string().nullable(),header_img_url:n.string().url().nullable(),meta_title:n.string().nullable(),meta_description:n.string().nullable(),thumbnail_url:n.string().url().nullable(),meta:E,url_slug:n.string(),sections:n.array(n.union([_,p])),profile:s.bo,publishing_status:n.string(),latest_published_at:n.string().nullable(),created_at:n.string().nullable(),updated_at:n.string().nullable(),is_template_url:n.boolean(),faqs:n.array(g).nullable()});let w={"ui-kits":"ui-kits","2023-presentation-templates":"presentations","2023-resume-templates":"resume-templates","plugins-accessibility":"accessibility","org-chart-templates":"diagramming","plugins-tidy-cleanup":"file-organization","flow-chart-templates":"diagramming",icons:"icons","build-and-play":"fun-games","figjam-plugins":"whiteboarding",widgets:"team-meetings",typography:"fonts-typography","favorite-educational":"education","favorite-graphic-resources":"visual-assets",workshops:"brainstorming",diagramming:"diagramming",meetings:"team-meetings",engineering:"development",planning:"strategic-planning",brainstorms:"brainstorming",education:"education","favorite-team-bonding":"team-meetings",fun:"fun-games","graphic-resources":"visual-assets","how-teams-jam":"team-meetings","figjam-team-bonding":"team-meetings",educational:"education"},T={"world-emoji-day-2021":"world-emoji-day","config2021-sessions":"config-sessions","holidays-2022":"holidays","config-2022-speaker-decks":"config-speaker-decks","schema-2022-speaker-decks":"schema-speaker-decks","social-media":"instagram-mockup-designs","pride-2021":"pride-posters"}},560990:(e,t,a)=>{"use strict";a.d(t,{F:()=>eC});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(627776),o=a(517333),c=a(22332),d=a(418956),m=a(574176),u=a(232655),_=a(791418),p=a(629850),g=a(976203),E=a(697551),f=a(808521),h=a(983317),v=a(441748),b=a(550246),y=a(638998),w=a(18519),T=a(939863),x=a(913270),C=a(738269),N=a(661976),k=a(249064);function S(){let e=(0,n.wA)(),t=(0,w.G)(),a=(0,x.Li)()&&t;return r.createElement("div",{className:i()(k.Qw,{[k.ar]:a,[k.Ce]:o.eD}),onClick:()=>{(0,x.Li)()?window.scrollTo({top:0,behavior:"smooth"}):e(C.$T({view:"communityHub",subView:"landing",tab:null,category:N.Li}))}},r.createElement(T.Tx,{id:"navbar.navbar.community_title"}))}var I=a(981952),A=a(966712),L=a(630949),R=a(320063),O=a(946689),D=a(101505),F=a(849291),M=a(582947),P=a(397065),B=a(195907),U=a(340514),W=a(463546);let V="community_deprecate_browse_as_admin_overlay--linkInline--s97vP",G=(0,M.r1)(B.T8);function $(){let e=(0,d.md)(G),{show:t,isShowing:a,complete:n}=(0,F.e)({overlay:W.k07,priority:P.N.SECONDARY_MODAL},[e]);(0,R.h)(()=>{var e,a,r,n;(null==(a=null==(e=(0,A.Ay)())?void 0:e.user_data)?void 0:a.created_at)&&new Date(null==(n=null==(r=(0,A.Ay)())?void 0:r.user_data)?void 0:n.created_at)<new Date("2024-04-11")&&t({canShow:e=>!e})});let l=r.createElement(O.CY,{className:V,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/4404108672663-Manage-team-and-organization-profiles",trusted:!0},r.createElement(T.Tx,{id:"community.deprecate_browse_as_admin_overlay.managing_profiles_link"})),i=r.createElement(O.CY,{className:V,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/4404239055127-Save-plugins-and-widgets-for-an-organization",trusted:!0},r.createElement(T.Tx,{id:"community.deprecate_browse_as_admin_overlay.saving_plugins_link"}));return r.createElement(U.rq,{isShowing:a,targetKey:"cmty-deprecate-browse-as-admin-nux",trackingContextName:"community_deprecate_browse_as_admin_nux",disableHighlight:!0,title:r.createElement(T.Tx,{id:"community.deprecate_browse_as_admin_overlay.title"}),description:r.createElement(T.Tx,{id:"community.deprecate_browse_as_admin_overlay.body",managingProfilesLink:l,savingPluginsLink:i}),emphasized:!0,primaryCta:{label:r.createElement(T.Tx,{id:"general.got_it"}),ctaTrackingDescriptor:D.c.GOT_IT,type:"button",onClick:n},userFlagOnShow:B.T8,onClose:n})}var j=a(402609);function H(){return r.createElement(r.Fragment,null,r.createElement(j.p,null,r.createElement($,null)),r.createElement("div",{className:"deprecate_browse_as_admin_nux--deprecateBrowseAsAdminSpacer--uu-rP","data-onboarding-key":"cmty-deprecate-browse-as-admin-nux"}))}var q=a(776250),Y=a(810014);function z(e){return r.createElement(Y.L,{className:L.cx.h48.$,...e})}var K=a(26096),J=a(327115);function Q(){let e=(0,n.wA)();return r.createElement(z,{onboardingKey:B.vM,svg:K.A,fallbackSvg:J.A,enabled:!0,textStyle:L.cx.font13.pl8.pr16.$,onClick:t=>{if(t.stopPropagation(),t.preventDefault(),(0,q.sx)("community_browser_navbar_action_clicked"),t.metaKey)return;let a={view:"communityHub",subView:"searchAndBrowse",data:(0,x.Gu)()};e(C.$T(a))}})}var Z=a(502614),X=a(411916),ee=a(860178),et=a(643067),ea=a(498606),er=a(410613),en=a(297666),el=a(27087),ei=a(493323),es=a(827586),eo=a(392592),ec=a(395116),ed=a(369351),em=a(476619),eu=a(391758);function e_(e){let t=(0,n.wA)(),a=(0,ee.Pc)(),l=(0,n.d4)(e=>e.userNotifications.userBellStates),s=(0,n.d4)(e=>e.userNotifications.communityProfileBellStates),c=(0,n.d4)(e=>e.selectedView.view),[d,m]=(0,r.useState)(new Map),[u,_]=(0,r.useState)(!0);(0,R.h)(()=>{_(!0),g()});let p=e=>{let t=new Map;e.forEach(e=>{t.set(e.notification_id,e)}),m(t),_(!1)},g=(0,en.s)(()=>{var r;if(e.inCommunity){if(a&&a.community_profile_id){if(s[a.community_profile_id]){let e={isBellStateHigh:!1,userInitiated:!0,profileId:a.community_profile_id};t((0,ec.X2)(e))}ed.sr.getCommunityServerDriven({currentView:c}).then(({data:e})=>{p(e.meta)}).catch(e=>{t(eo.F.enqueue({message:(0,T.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),t(C.oB())})}}else{let n=e.currentOrgId,i=n||er.JG;if(a&&(null==(r=null==l?void 0:l[a.id])?void 0:r[i])){let e={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:i,userId:null==a?void 0:a.id};t((0,ec.Zo)(e))}ed.sr.getServerDriven({currentOrgId:n||"",currentView:c}).then(({data:e})=>{p(e.meta)}).catch(e=>{t(eo.F.enqueue({message:(0,T.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),t(C.oB())})}},800,!0);return r.createElement("div",{className:e.containerClassNameOverride?e.containerClassNameOverride:i()(0!==d.size||u?eu.P2:eu.pg,e.containerClassName,{[eu.Uz]:e.arrowRight}),onMouseDown:e=>{e.stopPropagation()}},r.createElement(ep,{notifications:[...d.values()],title:e.title,isFetchingNotifications:u,inCommunity:e.inCommunity,fillParent:e.fillParent,showHeaderOnlyWhenUnread:e.showHeaderOnlyWhenUnread,updateNotificationCallback:(e,t)=>{m(new Map(d.set(e,t)))},containerClassNameOverride:e.containerClassNameOverride,titleFn:e.titleFn,markAllAsReadFn:()=>{let a=e.inCommunity?"/api/user_notifications/community/mark_read":"/api/user_notifications/mark_read",r={current_org_id:e.currentOrgId,currentView:c,source:o.S8?"desktopbell":"web"};el.Ay.post(a,r).then(()=>{m(new Map(Array.from(d,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{t(eo.F.enqueue({message:(0,T.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})}}),e.renderDropdownChevron&&r.createElement("div",{className:eu.ix},r.createElement("div",{className:eu.Pu})))}function ep(e){let t=()=>!e.isFetchingNotifications&&0!==e.notifications.length&&e.notifications.some(e=>e.is_unread);return r.createElement(r.Fragment,null,(!e.showHeaderOnlyWhenUnread||t())&&r.createElement("div",{className:eu.wx,onClick:e=>{e.stopPropagation()}},r.createElement("div",{className:eu.O9},e.title||e.titleFn&&e.titleFn(e.notifications)||(0,T.t)("user_notifications.notifications")),t()&&r.createElement(O.N_,{onClick:e.markAllAsReadFn,className:eu.nf,trusted:!0},r.createElement(T.Tx,{id:"user_notifications.dropdown.mark_all_as_read"}))),e.isFetchingNotifications?r.createElement("div",{className:eu.g4},r.createElement(ei.kt,null)):0===e.notifications.length?r.createElement("div",{className:eu.OL},r.createElement(T.Tx,{id:"user_notifications.dropdown.no_notifications"})):r.createElement(es.P,{className:`${e.fillParent?"":eu.jG}`},r.createElement("div",null,e.notifications.map((t,a)=>r.createElement(em.r,{key:a,notification:t,updateNotificationCallback:e.updateNotificationCallback})))))}var eg=a(601538),eE=a(279006);let ef="navbar-user-notifications-dropdown";function eh(){var e,t;let a=(0,n.wA)(),l=(0,n.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===ef}),i=(0,ee.Pc)(),s=(0,n.d4)(e=>(0,X.Pt)(e)),o=(0,n.d4)(e=>e.userNotifications),c=(0,n.d4)(e=>e.currentUserOrgId),d=(0,n.d4)(e=>e.orgById),m=(0,n.d4)(e=>e.userStateLoaded),u=(0,E.UP)(),_=(0,E.kc)(),p=(0,n.d4)(e=>(0,et.kY)(e)),g=!1;if(u)_&&(g=o&&!l&&!!o.communityProfileBellStates[_.id]);else{let a=c||er.JG;g=o&&!l&&!!(null==(t=null==(e=o.userBellStates)?void 0:e[i.id])?void 0:t[a])}return r.createElement("div",{"data-onboarding-key":eg.Ro,"data-tooltip-type":ea.Ib.TEXT,"data-tooltip":p?(0,T.t)("navbar.navbar.notifications_disabled_tooltip"):void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},r.createElement("div",{className:p?"notification_button--disabledMainRedDotAndTopBarActionContainer--amipL notification_button--mainRedDotAndTopBarActionContainer--vWJzZ red_dot--redDotAndIconContainer--6eFns":"notification_button--mainRedDotAndTopBarActionContainer--vWJzZ red_dot--redDotAndIconContainer--6eFns"},r.createElement(z,{enabled:m,svg:eE.A,svgStyle:g&&(0,A.kc)().notif_bell_animation&&"notification_button--bellRing--YE7yB"||void 0,onClick:()=>{if(l){a(C.oB());return}a(C.j7({type:ef})),(0,q.sx)("notification_dropdown_opened",{source:"Web"})}},g&&((0,A.kc)().notif_bell_seasonal?r.createElement("div",{className:"notification_button--seasonalNotificationRedDot--ccYlF"},"\u2764\uFE0F"):r.createElement("div",{className:"notification_button--mainNotificationRedDot--OgWnZ red_dot--baseRedDot--AZelu"}))),l&&r.createElement("div",{className:"notification_button--notificationsDropdownContainer--nnjAP"},r.createElement(e_,{currentOrgId:c,orgById:d,inCommunity:u,title:s,arrowRight:!0}))))}var ev=a(355039);function eb(e){let t=(0,E.kc)(),a=!e.inCommunity,l=(0,I.R)(600),i=(0,n.d4)(e=>"search"===e.selectedView.view),s=(0,n.d4)(e=>Object.keys((0,E.Tm)(e)).length+Object.keys((0,E.eg)(e,e.user.id)).length>0);return r.createElement("div",{className:L.cx.flex.itemsCenter.flexRow.$},e.inCommunity&&(0,A.kc)().cmty_deprecate_browse_as_admin&&(!e.isMobile||!l)&&s&&r.createElement(H,null),e.searchComponent&&e.searchComponent,e.inCommunity&&!(0,A.kc)().cmty_deprecate_browse_as_admin&&(!e.isMobile||!l)&&s&&r.createElement(ev.A,null),e.inCommunity&&!e.isMobile&&!!t&&!i&&r.createElement(Z.i,null),!e.inCommunity&&r.createElement(Q,null),a&&r.createElement(eh,null))}var ey=a(860168);let ew="navbar--searchComponentContainer--pubuF";var eT=a(257818),ex=a(440248);function eC({CommunityHeadingComponent:e=S,SearchComponent:t=v.vd}){let a=(0,E.UP)(),l=!!o.eD||(0,s.ce)(),w=(0,c.N)(`(max-width: ${ey._C6})`),T=(0,g.j)(),x=(0,n.d4)(e=>e.communityHub.showingCommunityAdminBanner),[C,N]=(0,d.fp)(h.A),k=r.useRef(null);r.useLayoutEffect(()=>{var e;N(null==(e=k.current)?void 0:e.getBoundingClientRect())},[N]);let[I,A]=r.useState(!1),L=r.createElement(r.Fragment,null,I?r.createElement("div",{className:i()(ew,"navbar--searchComponentWidthOverride--pGpOv")},r.createElement(t,{isMobile:w})):r.createElement("button",{onClick:()=>A(!0)},r.createElement(m.B,{svg:w?eT.A:ex.A,style:{fill:(0,u.TD)("default")}})));return r.createElement(r.Fragment,null,r.createElement("div",{className:"navbar--navbarContainer--TcAQk"},r.createElement("div",{className:"navbar--leftNav--8v0ZB"},r.createElement("div",{className:"navbar--accountAndNotificationsContainer--CQt6v"},r.createElement(b.X,{hideNotifications:w})),a&&r.createElement(r.Fragment,null,l&&r.createElement("div",{className:"navbar--navigationChevronsContainer--7KQiM"},r.createElement(y.GY,null)),"show-mobile"===T?r.createElement(_.p,null):r.createElement("div",{className:"navbar--communityHeadingContainer--L4G5H"},r.createElement(e,null)))),"show-desktop"===T&&r.createElement(p.J,null),"show-desktop"!==T&&!w&&r.createElement("div",{className:ew},r.createElement(t,{isMobile:w})),r.createElement("div",{className:"navbar--rightActions--bGoir"},r.createElement(eb,{inCommunity:a,profileEntryRef:k,searchComponent:r.createElement(r.Fragment,null,"show-desktop"===T&&L,"show-desktop"!==T&&w&&r.createElement(t,{isMobile:w})),isMobile:w}))),a&&x&&r.createElement(f.r,null))}},952540:(e,t,a)=>{"use strict";a.d(t,{j:()=>m});var r=a(776250),n=a(517333),l=a(398977),i=a(27087),s=a(980820),o=a(320741),c=a(583894),d=a(677664);let m=(0,s.nF)(async(e,t,{loadingKey:a})=>{var s;let m=t.user.stripe_account_status===c.P5.STARTED_ONBOARDING?"stripe_onboarding_continue":"stripe_onboarding_start";(0,r.sx)(m,{userId:t.user.id,entrypoint:t.selectedView.subView});try{let r=i.Ay.post("/api/community/seller/onboard",{accepted_seller_tos:!0,is_desktop:!!n.eD,first_name:t.firstName,last_name:t.lastName,address:t.address,vat_id:t.vatId});(0,o.N)(r,e,a);let c=await r;if(!(null==(s=null==c?void 0:c.data)?void 0:s.meta)){t.callback(!1);return}let m=c.data.meta;n.eD?e.dispatch((0,d.RK)({rawInput:m})):l.Ay.unsafeRedirect(m),setTimeout(()=>{t.callback(!0)},1e3)}catch(e){t.callback(!1)}})},986323:(e,t,a)=>{"use strict";let r;a.d(t,{A:()=>s,E3:()=>c,jT:()=>o});var n=a(99506),l=a(596607),i=((r=i||{})[r.NONE=0]="NONE",r[r.PENDING=1]="PENDING",r[r.ACCEPTED=2]="ACCEPTED",r[r.ADMIN=3]="ADMIN",r);function s(e,t){let{user:a}=e,{plugin_publishers:r}=t;if(!r||!a)return 0;let{accepted:i,pending:s}=r;if(i.some(e=>e.id===a.id))return 2;if(s&&s.some(e=>e.id===a.id))return 1;let o=(0,l.xw)(e);return o&&o.permission===n._D.ADMIN&&o.org_id===t.org_id?3:0}function o(e){return 1===e}function c(e){return 2===e||3===e}},216671:(e,t,a)=>{"use strict";function r(e,t){var a;return!!(null==(a=t.repos[e])?void 0:a.trashed_at)}a.d(t,{i:()=>r})},323667:(e,t,a)=>{"use strict";a.d(t,{E:()=>n,d:()=>r});let r="community_comment_creation",n="community_comment_edit"},688734:(e,t,a)=>{"use strict";a.d(t,{H:()=>c});var r=a(411855),n=a(946689),l=a(939863),i=a(237870),s=a(488578),o=a(596049);let c=(0,i.Ju)(function(e){return r.createElement(s.Rw,{confirmationTitle:e.confirmationTitle,confirmText:e.confirmButtonText,onConfirm:e.onBlock,destructive:!0},r.createElement("div",null,r.createElement("p",{className:o._q},r.createElement(l.Tx,{id:"community.comments.this_will_remove_their_comments_from_all_your_community_files_and_plugins_it_also_prevents_them_from_leaving_comments_on_your_resources_or_mentioning_you_in_the_future"})),r.createElement("p",{className:o._q},r.createElement(l.Tx,{id:"community.comments.link_about_managing_restricted_commenters",link:r.createElement(n.CY,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},r.createElement(l.Tx,{id:"community.comments.learn_more"}))}))))},"CommentConfirmBlockModal")},354438:(e,t,a)=>{"use strict";a.d(t,{H:()=>_});var r=a(411855),n=a(188507);a(966712);var l=a(946689),i=a(574176),s=a(939863),o=a(662275),c=a(744426),d=a(727475),m=a(514931);class u extends r.Component{constructor(){super(...arguments),this.getBannerText=()=>{var e,t,a,r,n;let l={strongText:"",ctaPreText:""},i=(0,s.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),o=(0,s.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");return l={strongText:(0,s.t)("community.banner.this_is_the_figma_community"),ctaPreText:i},this.props.profile?((null==(e=this.props.user)?void 0:e.community_profile_handle)?this.props.profile.id===(null==(t=this.props.user)?void 0:t.community_profile_id)?l.strongText=(0,s.t)("community.banner.this_is_your_figma_community_profile"):(l.strongText="",l.ctaPreText=""):l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_profile"),l.ctaPreText=o):this.props.selectedView&&"communityHub"===this.props.selectedView.view&&("hubFile"===this.props.selectedView.subView?(l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_file"),l.ctaPreText=o):"plugin"===this.props.selectedView.subView?(l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_plugin"),l.ctaPreText=o):"widget"===this.props.selectedView.subView&&(l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_widget"),l.ctaPreText=o)),this.props.user?(this.props.user.community_profile_handle?this.props.selectedView&&"communityHub"===this.props.selectedView.view&&(null==(a=this.props.selectedView)?void 0:a.subView)==="plugin"&&(l.showPluginDocsCta=!0):l.showProfileCta=!0,(null==(r=this.props.selectedView)?void 0:r.view)==="communityHub"&&(null==(n=this.props.selectedView)?void 0:n.subView)==="landing"||(l.ctaPreText="")):l.showAccountCta=!0,l},this.onProfileCreateClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.user&&this.props.dispatch(o.to({type:c.S3,data:{userId:this.props.user.id}}))}}render(){let{strongText:e,ctaPreText:t,showPluginDocsCta:a,showProfileCta:n,showAccountCta:o}=this.getBannerText();return e||t||a||n||o?r.createElement("div",{className:this.props.className||""},r.createElement("div",{className:d.cI},r.createElement("div",{className:d.zc},r.createElement(i.B,{svg:m.A,className:d.q3})),r.createElement("span",null,r.createElement("span",{className:d.bv},e," "),r.createElement("span",null,t," "),n&&r.createElement(r.Fragment,null,r.createElement(s.Tx,{id:"community.banner.to_follow_creators_and_like_resources",link:r.createElement(l.N_,{onClick:this.onProfileCreateClick,className:d.nf,trusted:!0},(0,s.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," ")})),o&&r.createElement(l.N_,{href:"https://www.figma.com/signup",target:"_blank",className:d.nf,trusted:!0},(0,s.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "),a&&r.createElement(r.Fragment,null,r.createElement(s.Tx,{id:"community.banner.to_create_your_own_plugin",link:r.createElement(l.N_,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:d.nf,trusted:!0},(0,s.t)("community.banner.visit_the_docs"),"\xa0\u2192"," ")}))))):null}}u.displayName="CommunityBetaPromoBannerInner";let _=(0,n.Ng)((e,t)=>({selectedView:e.selectedView,user:e.user}))(u)},713274:(e,t,a)=>{"use strict";a.d(t,{kz:()=>tC,c7:()=>tT,kd:()=>tx});var r,n,l,i,s={};a.r(s),a.d(s,{Left:()=>eR,Right:()=>eO});var o={};a.r(o),a.d(o,{Left:()=>eD,Right:()=>eF});var c={};a.r(c),a.d(c,{Left:()=>eM,Right:()=>eP});var d={};a.r(d),a.d(d,{Left:()=>eB,Right:()=>eU});var m={};a.r(m),a.d(m,{Left:()=>eW,Right:()=>eV});var u=a(411855),_=a(188507),p=a(753178),g=a(460845),E=a(629019),f=a.n(E),h=a(517333),v=a(18519),b=a(939863),y=a(776250);a(157663);var w=a(297666),T=a(860601),x=a(776621);a(218881);var C=a(304783),N=a(27087),k=a(582064),S=a(574176),I=a(566083),A=a(971120),L=a(927092),R=a(117688),O=a(236705),D=a(754961),F=a(83958);let M={files:R.A,plugins:O.A,widgets:F.A,profiles:L.A,mixed:D.A};function P(e){if(e.isError)return null;let t=u.createElement("span",{className:"empty_search_state--bold--s4eFD"},e.query);switch(e.resourceType){case A.L.SearchResourceTypes.FILES:if(e.view.price===I.C.FREE)return u.createElement(b.Tx,{id:"community.search.empty_state_hub_files_free",query:t});if(e.view.price===I.C.PAID)return u.createElement(b.Tx,{id:"community.search.empty_state_hub_files_paid",query:t});return u.createElement(b.Tx,{id:"community.search.empty_state_hub_files",query:t});case A.L.SearchResourceTypes.PLUGINS:if(e.view.price===I.C.FREE)return u.createElement(b.Tx,{id:"community.search.empty_state_public_plugins_free",query:t});if(e.view.price===I.C.PAID)return u.createElement(b.Tx,{id:"community.search.empty_state_public_plugins_paid",query:t});return u.createElement(b.Tx,{id:"community.search.empty_state_public_plugins",query:t});case A.L.SearchResourceTypes.WIDGETS:if(e.view.price===I.C.FREE)return u.createElement(b.Tx,{id:"community.search.empty_state_public_widgets_free",query:t});if(e.view.price===I.C.PAID)return u.createElement(b.Tx,{id:"community.search.empty_state_public_widgets_paid",query:t});return u.createElement(b.Tx,{id:"community.search.empty_state_public_widgets",query:t});case A.L.SearchResourceTypes.PROFILES:return u.createElement(b.Tx,{id:"community.search.empty_state_creators",query:t});case A.L.SearchResourceTypes.MIXED:default:if(e.view.price===I.C.FREE)return u.createElement(b.Tx,{id:"community.search.no_resources_matching_free",query:t});if(e.view.price===I.C.PAID)return u.createElement(b.Tx,{id:"community.search.no_resources_matching_paid",query:t});return u.createElement(b.Tx,{id:"community.search.no_resources_matching",query:t})}}function B(e){return u.createElement("div",{className:"empty_search_state--emptyState--2TAUS search_results_view--emptyState--nKgFF tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd"},u.createElement(S.B,{className:"empty_search_state--emptyStateIllustrations--BnydB search_results_view--emptyStateIllustrations--lO7cp",svg:M[e.resourceType],useOriginalSrcFills_DEPRECATED:!0}),u.createElement("div",{className:"empty_search_state--emptyStateTextWrapper--n2j3d search_results_view--emptyStateTextWrapper--cDRSr"},u.createElement("div",{className:"empty_search_state--emptyStateText--Bv9hN search_results_view--emptyStateText--Wonq4 ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},u.createElement(P,{...e}))))}var U=a(678353),W=a(482075),V=a(28567);function G({category:e,tagsFromResources:t,resourceType:a}){let[r,n]=u.useState([]),l=(0,W.IJ)(),i=!!(e&&!l.has(e));u.useEffect(()=>{e&&i&&V.c.getBySlug({slug:e}).then(e=>{var t,a;return n((null==(a=null==(t=e.data)?void 0:t.meta)?void 0:a.tags)??[])}).catch(()=>n([]))},[e,i]);let s=i?r:t;return s.length>0?u.createElement("div",null,u.createElement("hr",null),u.createElement(U.A,{tags:s.slice(0,10),resourceType:a,optionalTitle:(0,b.t)("community.right_bar.related_tags")})):u.createElement(u.Fragment,null)}var $=a(567582),j=a(382842),H=a(349804),q=a(792199),Y=a(233562),z=a(837324),K=a(178466);function J(e){var t,a;let r=null==(t=(0,K.Gq)())?void 0:t.getPrimaryLocale(!1);if(r&&["ja","fr","de"].includes(r)){let t=null==(a=(0,K.Gq)())?void 0:a.getDictionary(r),n=null==t?void 0:t.getDynamicString(e.i18n_meta.title),l=null==t?void 0:t.getDynamicString(e.i18n_meta.description);if(e.title&&!n||e.description&&!l)return!1}return!0}var Q=a(612776),Z=a(913270),X=a(609271),ee=a(742580),et=a(672517),ea=a(988022),er=a(555328),en=a(143678),el=a(222085),ei=a(320063),es=a(22332),eo=a(418956),ec=a(107877),ed=a(101505),em=a(849291),eu=a(582947),e_=a(860178),ep=a(397065),eg=a(195907),eE=a(520607),ef=a(463546);let eh=(0,eu.r1)(eg.Xt);function ev(){let e=(0,eo.md)(eh),t=(0,e_.iZ)(),a=(0,_.d4)(e=>e.authedActiveCommunityProfile),r=(0,es.N)(`(max-width: ${ec.YW-1}px)`),{show:n,isShowing:l,complete:i}=(0,em.e)({overlay:ef.cJy,priority:ep.N.DEFAULT_MODAL},[e]);return(0,ei.h)(()=>{!r&&a&&a.has_published&&n({canShow:e=>!e})}),u.createElement(eE._l,{isShowing:l,title:u.createElement(b.Tx,{id:"community.modal.creator_carousel_nux.add_image_and_video_previews"}),description:u.createElement(b.Tx,{id:"community.modal.creator_carousel_nux.drive_eyeballs_and_engagement"}),media:u.createElement(eE.B$,{width:400,src:"https://static.figma.com/uploads/02d9c70dd6cacb66d38819ec23ce6f1b6202e13d",alt:"An illustration of a carousel of images and videos",aspectRatio:.82}),primaryCta:{type:"link",label:u.createElement(b.Tx,{id:"community.modal.creator_carousel_nux.update_my_resources"}),href:`/@${null==a?void 0:a.profile_handle}`,ctaTrackingDescriptor:ed.c.UPDATE_MY_RESOURCES,trackingProperties:{userId:null==t?void 0:t.id}},secondaryCta:{type:"link",label:u.createElement(b.Tx,{id:"community.learn_more"}),href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",ctaTrackingDescriptor:ed.c.LEARN_MORE,trackingProperties:{userId:null==t?void 0:t.id,profileId:null==a?void 0:a.id}},trackingContextName:"community_creator_carousel_media_nux",userFlagOnShow:eg.Xt,clickOutsideToHide:!0,onClose:i,closeButtonColor:"dark"})}var eb=a(153054),ey=a(402609);let ew=u.memo(function(){return u.createElement(u.Fragment,null,u.createElement(ey.p,{featureFlag:"cmty_rdp_creator_modal"},u.createElement(ev,null)),u.createElement(ey.p,null,u.createElement(eb.tU,null)))});var eT=a(56714),ex=a(966712);let eC={All:({active:e})=>u.createElement("svg",{width:"19",height:"19",viewBox:"-1 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e?u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM12 0C11.4477 0 11 0.447715 11 1V7C11 7.55228 11.4477 8 12 8H18C18.5523 8 19 7.55228 19 7V1C19 0.447715 18.5523 0 18 0H12Z",fill:"var(--color-icon-selected, #0D99FF)"}):u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM13 6V2H17V6H13ZM11 1C11 0.447715 11.4477 0 12 0H18C18.5523 0 19 0.447715 19 1V7C19 7.55228 18.5523 8 18 8H12C11.4477 8 11 7.55228 11 7V1Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Files:e=>u.createElement("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-0.000976562 0.00390625H11.4132L17.999 6.58969V22.0039H-0.000976562V0.00390625ZM1.99902 2.00391V20.0039H15.999V8.00391H9.99902V2.00391H1.99902ZM11.999 3.41812L14.5848 6.00391H11.999V3.41812Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Plugins:e=>u.createElement("svg",{width:"18",height:"24",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C7.12831 2 6 3.10615 6 4.29412C6 4.80364 6.18423 5.32346 6.52975 5.77907C6.86869 6.22599 6.8635 6.76903 6.69667 7.1662C6.52648 7.57138 6.10414 8 5.46502 8H1.99902V21.9961H16V19.6417C15.4694 19.8705 14.8924 20 14.2942 20C11.6161 20 10 17.5466 10 15C10 12.4534 11.6161 10 14.2942 10C14.8924 10 15.4694 10.1295 16 10.3583V8H12.535C11.8959 8 11.4735 7.57138 11.3033 7.1662C11.1365 6.76903 11.1313 6.22599 11.4703 5.77907C11.8158 5.32346 12 4.80364 12 4.29412C12 3.10615 10.8717 2 9 2ZM4 4.29412C4 1.61609 6.45341 0 9 0C11.5466 0 14 1.61609 14 4.29412C14 4.89237 13.8705 5.46938 13.6417 6H16.125C17.1605 6 18 6.83947 18 7.875V11.465C18 12.1041 17.5714 12.5264 17.1662 12.6966C16.769 12.8635 16.226 12.8687 15.7791 12.5297C15.3235 12.1842 14.8037 12 14.2942 12C13.1062 12 12 13.1283 12 15C12 16.8717 13.1062 18 14.2942 18C14.8037 18 15.3235 17.8158 15.7791 17.4703C16.226 17.1313 16.769 17.1365 17.1662 17.3034C17.5714 17.4736 18 17.8959 18 18.535V22.1211C18 23.1566 17.1605 23.9961 16.125 23.9961H1.87402C0.838488 23.9961 -0.000976562 23.1566 -0.000976562 22.1211V7.875C-0.000976562 6.83947 0.838488 6 1.87402 6H4.35834C4.12951 5.46938 4 4.89237 4 4.29412Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Widgets:e=>u.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 10.5854L3.5146 8.485V5.51451V3.51451H5.5146H8.48509L10.5854 1.41421L11.9996 0L13.4138 1.41421L15.5141 3.51451H18.4846H20.4846V5.51451V8.485L22.585 10.5854L23.9992 11.9996L22.585 13.4138L20.4846 15.5142V18.4845V20.4845H18.4846H15.5143L13.4138 22.585L11.9996 23.9992L10.5854 22.585L8.48491 20.4845H5.5146H3.5146V18.4845V15.5142L1.41421 13.4138L0 11.9996L1.41421 10.5854ZM5.5146 8.485V5.51451H8.48509H9.31352L9.8993 4.92872L11.9996 2.82843L14.0999 4.92872L14.6857 5.51451H15.5141H18.4846V8.485V9.31343L19.0704 9.89921L21.1708 11.9996L19.0704 14.1L18.4846 14.6858V15.5142V18.4845H15.5143H14.6859L14.1001 19.0703L11.9996 21.1708L9.89912 19.0703L9.31334 18.4845H8.48491H5.5146V15.5142V14.6858L4.92882 14.1L2.82843 11.9996L4.92882 9.89921L5.5146 9.31343V8.485ZM13.2526 8.65802L13.9111 7.90544L12.4059 6.58843L11.7474 7.34101L8.24742 11.341L6.79623 12.9995H9H12.7962L10.7474 15.341L10.0889 16.0936L11.5941 17.4106L12.2526 16.658L15.7526 12.658L17.2038 10.9995H15H11.2038L13.2526 8.65802Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Union:e=>u.createElement("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C14 8.20914 12.2091 10 10 10C7.79086 10 6 8.20914 6 6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6ZM16 6C16 9.31371 13.3137 12 10 12C6.68629 12 4 9.31371 4 6C4 2.68629 6.68629 0 10 0C13.3137 0 16 2.68629 16 6ZM2.25203 22C3.14012 18.5495 6.27232 16 10 16C13.7277 16 16.8599 18.5495 17.748 22H2.25203ZM10 14C14.8379 14 18.8734 17.4355 19.8 22C19.9311 22.6462 20 23.3151 20 24H18H2H0C0 23.3151 0.0688605 22.6462 0.200036 22C1.12658 17.4355 5.16208 14 10 14Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"}))};var eN=a(385422),ek=a(401980),eS=a(243808),eI=a(935283),eA=a(630949),eL=a(232655);function eR(){return u.createElement("svg",{width:"472",height:"195",viewBox:"0 0 472 195",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{x:"156.25",y:"38.625",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"233.375",y:"38.625",width:"77.125",height:"77.125",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"387.625",y:"7.1875",width:"77.125",height:"77.125",fill:"#FFC700"}),u.createElement("line",{x1:"464.562",y1:"2.76204",x2:"464.562",y2:"88.9962",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"469.371",y1:"84.1871",x2:"383.379",y2:"84.1871",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"387.386",y1:"2.00374",x2:"387.386",y2:"88.9963",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"471.375",y1:"6.01131",x2:"381.375",y2:"6.01131",stroke:"#1ABCFE",strokeWidth:"4.00748"}),u.createElement("rect",{x:"460.555",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"460.555",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"383.379",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"383.379",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"2",y:"115.75",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"79.125",y:"115.75",width:"77.125",height:"77.125",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"156.25",y:"115.75",width:"77.125",height:"77.125",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"310.5",y:"115.75",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"387.625",y:"115.75",width:"77.125",height:"77.125",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M443.301 75.5558L406.702 53.9287L415.066 97.4249L423.825 78.5966L443.301 75.5558Z",fill:"#0FA958",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function eO(){return u.createElement("svg",{width:"467",height:"164",viewBox:"0 0 467 164",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 464.75 6.9375)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 310.5 6.9375)",fill:"#5551FF"}),u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 233.375 84.0625)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 79.125 6.9375)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 464.75 84.0625)",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 156.25 84.0625)",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 156.25 6.9375)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("line",{x1:"310.125",y1:"2.76204",x2:"310.125",y2:"88.9962",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"314.934",y1:"84.1871",x2:"228.941",y2:"84.1871",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"232.949",y1:"2.00374",x2:"232.949",y2:"88.9963",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"316.938",y1:"6.01131",x2:"226.938",y2:"6.01131",stroke:"#1ABCFE",strokeWidth:"4.00748"}),u.createElement("rect",{x:"306.117",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"306.117",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"228.941",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"228.941",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M288.864 71.7589L252.264 50.1318L260.629 93.628L269.388 74.7998L288.864 71.7589Z",fill:"#FFC700",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function eD(){return u.createElement("svg",{width:"473",height:"154",viewBox:"0 0 473 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{x:"2",y:"2.125",width:"208.314",height:"149.75",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"209.439",y:"2.125",width:"117.322",height:"149.75",fill:"black",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"325.888",y:"2.125",width:"73.4513",height:"149.75",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"398.464",y:"2.125",width:"39.871",height:"149.75",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"460",y:"2.125",width:"10.3354",height:"149.75",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"438.544",y:"2.125",width:"21.456",height:"149.75",fill:"black",stroke:"black",strokeWidth:"4"}))}function eF(){return u.createElement("svg",{width:"473",height:"154",viewBox:"0 0 473 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{x:"-2",y:"2",width:"208.314",height:"149.75",transform:"matrix(-1 0 0 1 469 0.125)",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"-2",y:"2",width:"117.322",height:"149.75",transform:"matrix(-1 0 0 1 261.561 0.125)",fill:"black",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"-2",y:"2",width:"73.4513",height:"149.75",transform:"matrix(-1 0 0 1 145.112 0.125)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"-2",y:"2",width:"39.871",height:"149.75",transform:"matrix(-1 0 0 1 72.5356 0.125)",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"-2",y:"2",width:"10.3354",height:"149.75",transform:"matrix(-1 0 0 1 11 0.125)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"-2",y:"2",width:"21.456",height:"149.75",transform:"matrix(-1 0 0 1 32.4561 0.125)",fill:"black",stroke:"black",strokeWidth:"4"}))}function eM(){return u.createElement("svg",{width:"537",height:"451",viewBox:"0 0 537 451",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M11.3019 135.706L133.568 250.696L18.7181 295.903L133.568 275.354L0 406.867L174.703 275.354L258.934 450.795L221.928 275.354H343.166L212.681 250.696L330.836 144.869L181.857 232.417V0L151.305 224.618L11.3019 135.706Z",fill:"url(#paint0_radial_103_24084)"}),u.createElement("path",{d:"M373.8 169.202L340.564 90.6895L351.161 173.056L304.659 163.682L346.826 186.543L293.842 255.422L365.13 200.03L536.64 338.644L392.104 186.543L451.35 179.318H389.695L451.35 134.04L373.8 169.202Z",fill:"url(#paint1_radial_103_24084)"}),u.createElement("circle",{cx:"458.033",cy:"308.894",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),u.createElement("circle",{cx:"282.28",cy:"301.394",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),u.createElement("circle",{cx:"362.949",cy:"246.645",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),u.createElement("mask",{id:"path-6-inside-1_103_24084",fill:"white"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M394.22 255.553C401.807 257.55 407.405 264.494 407.405 272.753C407.405 274.634 407.114 276.448 406.576 278.15L414.841 286.465L403.482 297.894L395.276 289.638C393.533 290.217 391.669 290.53 389.733 290.53C381.193 290.53 374.068 284.436 372.42 276.334L364.031 246.894L394.22 255.553Z"})),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M394.22 255.553C401.807 257.55 407.405 264.494 407.405 272.753C407.405 274.634 407.114 276.448 406.576 278.15L414.841 286.465L403.482 297.894L395.276 289.638C393.533 290.217 391.669 290.53 389.733 290.53C381.193 290.53 374.068 284.436 372.42 276.334L364.031 246.894L394.22 255.553Z",fill:"black"}),u.createElement("path",{d:"M394.22 255.553L393.393 258.437L393.424 258.446L393.456 258.454L394.22 255.553ZM406.576 278.15L403.715 277.245L403.168 278.977L404.448 280.265L406.576 278.15ZM414.841 286.465L416.969 288.58L419.071 286.465L416.969 284.35L414.841 286.465ZM403.482 297.894L401.354 300.008L403.482 302.149L405.609 300.008L403.482 297.894ZM395.276 289.638L397.404 287.523L396.094 286.206L394.331 286.791L395.276 289.638ZM372.42 276.334L375.36 275.736L375.337 275.623L375.306 275.512L372.42 276.334ZM364.031 246.894L364.858 244.01L359.666 242.52L361.146 247.716L364.031 246.894ZM410.405 272.753C410.405 263.109 403.866 254.99 394.984 252.652L393.456 258.454C399.747 260.11 404.405 265.879 404.405 272.753H410.405ZM409.436 279.055C410.066 277.063 410.405 274.945 410.405 272.753H404.405C404.405 274.324 404.162 275.832 403.715 277.245L409.436 279.055ZM416.969 284.35L408.703 276.035L404.448 280.265L412.714 288.58L416.969 284.35ZM405.609 300.008L416.969 288.58L412.714 284.35L401.354 295.779L405.609 300.008ZM393.148 291.753L401.354 300.008L405.609 295.779L397.404 287.523L393.148 291.753ZM389.733 293.53C391.995 293.53 394.177 293.164 396.221 292.486L394.331 286.791C392.888 287.27 391.344 287.53 389.733 287.53L389.733 293.53ZM369.481 276.931C371.404 286.391 379.726 293.53 389.733 293.53L389.733 287.53C382.66 287.53 376.731 282.48 375.36 275.736L369.481 276.931ZM375.306 275.512L366.916 246.071L361.146 247.716L369.535 277.156L375.306 275.512ZM363.204 249.777L393.393 258.437L395.047 252.669L364.858 244.01L363.204 249.777Z",fill:"white",mask:"url(#path-6-inside-1_103_24084)"}),u.createElement("path",{d:"M367.264 250.143L389.735 272.754",stroke:"white",strokeWidth:"3",strokeLinecap:"square"}),u.createElement("ellipse",{cx:"389.734",cy:"272.752",rx:"4.81949",ry:"4.84851",fill:"white"}),u.createElement("path",{d:"M272.238 393.9C294.732 391.899 334.115 378.874 311.688 342.79C295.857 317.321 285.747 304.98 286.497 305.858C297.105 318.265 323.138 341.176 339.969 336.402C356.8 331.628 361.085 283.532 362.997 252.463C365.32 277.522 366.906 336.522 394.8 342.868C422.243 349.111 450.082 317.3 455.043 312.928C442.807 331.127 424.316 351.43 441.424 379.972",stroke:"#00B6FF",strokeWidth:"3"}),u.createElement("defs",null,u.createElement("radialGradient",{id:"paint0_radial_103_24084",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(183.912 250.696) rotate(121.695) scale(220.979 253.632)"},u.createElement("stop",{stopColor:"#FFC700"}),u.createElement("stop",{offset:"0.494792",stopColor:"#0FA958"}),u.createElement("stop",{offset:"1",stopColor:"#5551FF"})),u.createElement("radialGradient",{id:"paint1_radial_103_24084",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(362.722 183.171) rotate(82.355) scale(144.826 152.449)"},u.createElement("stop",{offset:"0.385417",stopColor:"#FFC700"}),u.createElement("stop",{offset:"1",stopColor:"#F24E1E"}))))}function eP(){return u.createElement("svg",{width:"1007",height:"1093",viewBox:"0 0 1007 1093",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M260.143 521.692L479.291 587.106L234.859 770.317L498.091 623.995L443.116 1070.24L560.336 642.077L881.672 822.209L610.845 578.704L771.227 469.052L621.977 526.901L786.897 352.502L563.506 517.379L593.509 351.799L529.208 502.686L379.469 287.177L501.865 527.345L166.001 224.874L485.471 557.147L260.143 521.692Z",fill:"url(#paint0_radial_103_24085)"}),u.createElement("g",{filter:"url(#filter0_d_103_24085)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M302.781 607.509L256.003 584.469L306.264 563.842L292.821 585.477L302.781 607.509Z",fill:"#699BF7"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M302.781 607.509L256.003 584.469L306.264 563.842L292.821 585.477L302.781 607.509Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),u.createElement("g",{filter:"url(#filter1_d_103_24085)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M380.833 595.712L329.686 585.564L372.896 552.632L365.511 577.009L380.833 595.712Z",fill:"#0FA958"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M380.833 595.712L329.686 585.564L372.896 552.632L365.511 577.009L380.833 595.712Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),u.createElement("g",{filter:"url(#filter2_d_103_24085)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.792 656.145L331.265 611.253L384.616 621.513L361.522 632.256L357.792 656.145Z",fill:"#FFC700"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.792 656.145L331.265 611.253L384.616 621.513L361.522 632.256L357.792 656.145Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),u.createElement("g",{filter:"url(#filter3_d_103_24085)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M459.247 558.782L409.878 575.567L430.833 525.442L436.626 550.245L459.247 558.782Z",fill:"#FF8577"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M459.247 558.782L409.878 575.567L430.833 525.442L436.626 550.245L459.247 558.782Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),u.createElement("g",{filter:"url(#filter4_d_103_24085)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M257.111 654.631L228.113 611.294L281.955 618.552L259.498 630.571L257.111 654.631Z",fill:"#A259FF"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M257.111 654.631L228.113 611.294L281.955 618.552L259.498 630.571L257.111 654.631Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),u.createElement("g",{filter:"url(#filter5_d_103_24085)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.888 596.282L163.468 570.668L214.802 552.877L200.173 573.729L208.888 596.282Z",fill:"#F24E1E"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.888 596.282L163.468 570.668L214.802 552.877L200.173 573.729L208.888 596.282Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),u.createElement("defs",null,u.createElement("filter",{id:"filter0_d_103_24085",x:"252.355",y:"560.693",width:"60.6101",height:"61.9267",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),u.createElement("filter",{id:"filter1_d_103_24085",x:"326.131",y:"548.626",width:"61.493",height:"61.2878",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),u.createElement("filter",{id:"filter2_d_103_24085",x:"328.281",y:"609.152",width:"64.1537",height:"63.2747",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),u.createElement("filter",{id:"filter3_d_103_24085",x:"407.211",y:"520.583",width:"59.4585",height:"69.392",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),u.createElement("filter",{id:"filter4_d_103_24085",x:"225.016",y:"609.363",width:"64.7163",height:"61.4958",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),u.createElement("filter",{id:"filter5_d_103_24085",x:"159.833",y:"549.941",width:"61.8401",height:"61.6191",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),u.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),u.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),u.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),u.createElement("radialGradient",{id:"paint0_radial_103_24085",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(496.741 590.327) rotate(48.298) scale(348.57 458.853)"},u.createElement("stop",{stopColor:"#C7B9FF"}),u.createElement("stop",{offset:"0.442708",stopColor:"#A259FF"}),u.createElement("stop",{offset:"1",stopColor:"#F24E1E"}))))}function eB(){return u.createElement("svg",{width:"521",height:"319",viewBox:"0 0 521 319",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("circle",{cx:"385.693",cy:"125.504",r:"123.504",fill:"#F24E1E",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M52.9055 139.988C27.9488 177.475 -6.64662 251.82 54.6258 249.304C115.898 246.788 178.221 199.847 194.166 170.276C173.436 208.721 184.926 263.226 254.88 251.083C316.952 240.309 364.773 188.366 388.297 166.014",stroke:"#699BF7",strokeWidth:"40",strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M52.9055 139.988C27.9488 177.475 -6.64662 251.82 54.6258 249.304C115.898 246.788 178.221 199.847 194.166 170.276C173.436 208.721 184.926 263.226 254.88 251.083C316.952 240.309 364.773 188.366 388.297 166.014",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"387.312",cy:"166.185",r:"6",transform:"rotate(-9.84695 387.312 166.185)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"193.181",cy:"170.447",r:"6",transform:"rotate(-9.84695 193.181 170.447)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"491.568",y:"190.826",width:"30.2725",height:"127.353",transform:"rotate(30 491.568 190.826)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M400.38 197.37C401.812 204.318 407.964 209.543 415.336 209.543C417.009 209.543 418.618 209.274 420.124 208.777L427.215 215.868L437.032 206.051L429.89 198.91C430.356 197.447 430.607 195.889 430.607 194.272C430.607 187.165 425.754 181.193 419.181 179.488L393.124 172.059L400.38 197.37Z",fill:"white"}),u.createElement("path",{d:"M393.124 172.059L419.181 179.488C425.754 181.193 430.607 187.165 430.607 194.272C430.607 195.889 430.356 197.447 429.89 198.91L437.032 206.051L427.215 215.868L420.124 208.777C418.618 209.274 417.009 209.543 415.336 209.543C407.964 209.543 401.812 204.318 400.38 197.37L393.124 172.059ZM393.124 172.059L415.271 194.206",stroke:"#010101",strokeWidth:"4.03072"}),u.createElement("path",{d:"M417.985 197.307C416.359 198.934 413.722 198.934 412.095 197.307C410.469 195.681 410.469 193.044 412.095 191.417C413.722 189.791 416.359 189.791 417.985 191.417C419.612 193.044 419.612 195.681 417.985 197.307Z",fill:"#010101"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.57 196.12L198.234 177.603L205.395 214.844L212.895 198.723L229.57 196.12Z",fill:"#FFC700",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}))}function eU(){return u.createElement("svg",{width:"637",height:"493",viewBox:"0 0 637 493",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M242.772 199.176L252.022 208.426C253.199 209.603 253.199 211.522 252.022 212.699L219.832 244.889L203.944 247.254L206.309 231.366L238.499 199.176C239.686 197.999 241.595 197.999 242.772 199.176Z",fill:"white",stroke:"#010101",strokeWidth:"3.96975",strokeMiterlimit:"10"}),u.createElement("path",{d:"M245.239 219.502L231.716 205.979",stroke:"#010101",strokeWidth:"3.96975",strokeMiterlimit:"10"}),u.createElement("path",{d:"M532.457 107.727C548.515 86.3731 567.225 75.0246 583.592 79.4101C612.631 87.1912 623.295 141.558 607.41 200.842C591.525 260.125 555.107 301.877 526.067 294.095C509.7 289.71 499.171 270.527 495.941 244.005C479.884 265.359 461.173 276.707 444.807 272.322C428.44 267.936 417.91 248.753 414.681 222.232C398.623 243.585 379.913 254.933 363.546 250.548C347.179 246.163 336.65 226.979 333.42 200.458C317.363 221.811 298.652 233.16 282.285 228.774C253.246 220.993 242.582 166.626 258.467 107.343C274.352 48.059 310.771 6.30786 339.81 14.0889C356.177 18.4744 366.706 37.6577 369.936 64.1791C385.993 42.8256 404.704 31.4772 421.071 35.8627C437.437 40.2481 447.967 59.4314 451.196 85.9528C467.254 64.5993 485.965 53.2509 502.331 57.6364C518.698 62.0218 529.228 81.2051 532.457 107.727Z",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M9.63464 342.858L195.981 255.931L401.597 254.09L426.517 364.125L239.429 447.779L34.5546 452.894L9.63464 342.858Z",fill:"#FFC700",stroke:"black",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"10 10"}),u.createElement("circle",{cx:"196.113",cy:"253.995",r:"6",transform:"rotate(-7.60757 196.113 253.995)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M447.446 278.889L416.111 260.373L423.272 297.613L430.771 281.493L447.446 278.889Z",fill:"#F24E1E",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}),u.createElement("circle",{cx:"402.247",cy:"254.603",r:"6",transform:"rotate(-7.60757 402.247 254.603)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M133.241 273.047C166.416 277.441 196.871 254.11 201.265 220.935V220.935C205.659 187.761 182.328 157.306 149.153 152.912V152.912C115.978 148.518 85.5232 171.849 81.1294 205.024V205.024C76.7355 238.198 100.067 268.653 133.241 273.047V273.047Z",fill:"#F24E1E",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}),u.createElement("circle",{cx:"115.939",cy:"225.334",r:"6.45657",transform:"rotate(-61.7169 115.939 225.334)",fill:"black"}),u.createElement("circle",{cx:"137.589",cy:"185.095",r:"6.45657",transform:"rotate(-61.7169 137.589 185.095)",fill:"black"}),u.createElement("path",{d:"M161.201 175.804C181.733 186.851 189.421 212.451 178.374 232.983C167.327 253.515 141.727 261.203 121.195 250.156",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function eW(){return u.createElement("svg",{width:"844",height:"366",viewBox:"0 0 844 366",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("line",{x1:"35.2456",y1:"139.013",x2:"35.2456",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"113.179",y1:"139.013",x2:"113.179",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"191.112",y1:"139.013",x2:"191.112",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"269.045",y1:"139.013",x2:"269.045",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"346.979",y1:"139.013",x2:"346.979",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"424.913",y1:"139.013",x2:"424.913",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"502.845",y1:"139.013",x2:"502.845",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"580.779",y1:"139.013",x2:"580.779",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"623",y1:"191.511",x2:"7.02628e-08",y2:"191.511",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"623",y1:"269.444",x2:"7.02628e-08",y2:"269.444",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("path",{d:"M65.4941 327.517C113.327 378.566 230.289 316.421 315.476 231.234C421.959 124.751 572.474 -19.274 534.232 119.137C495.989 257.548 534.214 269.718 572.65 250.706C642.363 216.225 829.282 85.5026 823.317 2",stroke:"#699BF7",strokeWidth:"40"}),u.createElement("path",{d:"M65.4941 327.517C113.327 378.566 230.289 316.421 315.476 231.234C421.959 124.751 572.474 -19.274 534.232 119.137C495.989 257.548 534.214 269.718 572.65 250.706C642.363 216.225 829.282 85.5026 823.317 2",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M574.755 42.7954L476.867 227.568",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"532.653",cy:"119.466",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"529.495",cy:"64.0318",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M564.832 273.997L509.497 244.032",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M384.243 135.254L247.411 325.065",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"315.827",cy:"230.336",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"536.863",cy:"259.105",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{cx:"68.4764",cy:"185.777",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M73.3884 191.04L144.962 277.7",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"380.033",y:"130.343",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"240.394",y:"325.065",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"503.181",y:"236.3",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"564.229",y:"273.49",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"472.306",y:"225.073",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"571.597",y:"38.0688",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("rect",{x:"144.962",y:"277.7",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.264 258.676L321.34 237.448L329.55 280.141L338.147 261.661L357.264 258.676Z",fill:"#FF8577",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function eV(){return u.createElement("svg",{width:"672",height:"328",viewBox:"0 0 672 328",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("line",{x1:"93.0057",y1:"71.0366",x2:"93.0057",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"170.939",y1:"71.0366",x2:"170.939",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"248.872",y1:"71.0366",x2:"248.872",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"326.806",y1:"71.0366",x2:"326.806",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"404.739",y1:"71.0366",x2:"404.739",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"482.673",y1:"71.0366",x2:"482.673",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"560.605",y1:"71.0366",x2:"560.605",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"638.539",y1:"71.0366",x2:"638.539",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"671.786",y1:"123.534",x2:"57",y2:"123.534",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("line",{x1:"671.786",y1:"201.467",x2:"57",y2:"201.467",stroke:"#FF8577",strokeWidth:"2"}),u.createElement("path",{d:"M58.2804 22.7119L61.298 25.3185C69.9321 32.7766 82.5891 33.3689 91.8903 26.7502L95.141 24.4369L96.0406 28.3084C98.6146 39.3855 108.504 47.258 119.944 47.3364L123.942 47.3638L122.38 51.0213C117.91 61.4864 121.255 73.632 130.463 80.3775L133.681 82.7351L130.254 84.7817C120.449 90.6375 115.971 102.417 119.431 113.253L120.64 117.04L116.657 116.694C105.26 115.704 94.6704 122.618 91.0604 133.406L89.7987 137.176L86.781 134.569C78.1469 127.111 65.49 126.519 56.1888 133.138L52.938 135.451L52.0384 131.58C49.4645 120.502 39.5751 112.63 28.1355 112.552L24.1374 112.524L25.6995 108.867C30.1689 98.4015 26.8245 86.256 17.6161 79.5104L14.3977 77.1528L17.8248 75.1062C27.6304 69.2505 32.1084 57.471 28.6484 46.6348L27.4392 42.8476L31.4222 43.1937C42.8186 44.184 53.4086 37.27 57.0187 26.4822L58.2804 22.7119Z",fill:"black"}),u.createElement("line",{x1:"141.187",y1:"3.2513",x2:"141.187",y2:"147.72",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"146.075",y1:"143.187",x2:"2.00378",y2:"143.187",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"6.01119",y1:"2.00374",x2:"6.01119",y2:"147.72",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"148.078",y1:"6.01106",x2:"4.57764e-05",y2:"6.01106",stroke:"black",strokeWidth:"4.00748"}),u.createElement("rect",{x:"137.18",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"137.18",y:"139.18",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"2.00374",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"2.00374",y:"139.18",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"542.577",y1:"121.081",x2:"542.577",y2:"325.085",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"547.841",y1:"320.516",x2:"344.394",y2:"320.516",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"348.401",y1:"119.333",x2:"348.401",y2:"325.085",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("line",{x1:"549.845",y1:"123.34",x2:"342.39",y2:"123.34",stroke:"black",strokeWidth:"4.00748"}),u.createElement("rect",{x:"538.57",y:"119.333",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"538.57",y:"316.509",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"344.394",y:"119.333",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("rect",{x:"344.394",y:"316.509",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),u.createElement("path",{d:"M446.118 146.843L494.54 164.468L520.306 209.094L511.357 259.841L471.883 292.964H420.353L380.878 259.841L371.93 209.094L397.695 164.468L446.118 146.843Z",fill:"#FF8577",stroke:"black",strokeWidth:"4"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.183 146.845C177.183 152.244 179.645 157.068 183.507 160.256C184.791 161.315 184.791 163.618 183.507 164.678C179.645 167.865 177.183 172.689 177.183 178.088C177.183 187.686 184.963 195.467 194.561 195.467C199.96 195.467 204.784 193.005 207.972 189.142C209.031 187.859 211.334 187.859 212.394 189.142C215.581 193.005 220.405 195.467 225.804 195.467C235.402 195.467 243.183 187.686 243.183 178.088C243.183 172.689 240.721 167.865 236.858 164.678C235.575 163.618 235.575 161.315 236.858 160.256C240.721 157.068 243.183 152.244 243.183 146.845C243.183 137.248 235.402 129.467 225.804 129.467C220.405 129.467 215.581 131.929 212.394 135.791C211.334 137.075 209.031 137.075 207.972 135.791C204.784 131.929 199.96 129.467 194.561 129.467C184.963 129.467 177.183 137.248 177.183 146.845Z",fill:"#A259FF"}),u.createElement("path",{d:"M236.858 164.677C240.721 167.865 243.183 172.689 243.183 178.088C243.183 187.686 235.402 195.466 225.804 195.466C220.405 195.466 215.581 193.004 212.394 189.142C211.334 187.858 209.031 187.858 207.972 189.142C204.784 193.004 199.96 195.466 194.561 195.466C184.963 195.466 177.183 187.686 177.183 178.088C177.183 172.689 179.645 167.865 183.507 164.677C184.791 163.618 184.791 161.315 183.507 160.255C179.645 157.068 177.183 152.244 177.183 146.845C177.183 137.247 184.963 129.466 194.561 129.466C199.96 129.466 204.784 131.928 207.972 135.791C209.031 137.074 211.334 137.074 212.394 135.791",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 237.92 161.337)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 185.894 161.337)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 185.894 161.338)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 210.183 189.335)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 210.183 137.176)",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M261.062 199.952C262.617 207.497 269.297 213.17 277.303 213.17C279.119 213.17 280.867 212.878 282.502 212.339L290.202 220.039L300.862 209.379L293.107 201.624C293.613 200.036 293.886 198.344 293.886 196.587C293.886 188.871 288.615 182.385 281.478 180.534L253.183 172.467L261.062 199.952Z",fill:"white"}),u.createElement("path",{d:"M253.183 172.467L281.478 180.534C288.615 182.385 293.886 188.871 293.886 196.587C293.886 198.344 293.613 200.036 293.107 201.624L300.862 209.379L290.202 220.039L282.502 212.339C280.867 212.878 279.119 213.17 277.303 213.17C269.297 213.17 262.617 207.497 261.062 199.952L253.183 172.467ZM253.183 172.467L277.232 196.516",stroke:"#010101",strokeWidth:"4.37696"}),u.createElement("path",{d:"M280.18 199.883C278.414 201.65 275.55 201.65 273.784 199.883C272.018 198.117 272.018 195.254 273.784 193.488C275.55 191.721 278.414 191.721 280.18 193.488C281.946 195.254 281.946 198.117 280.18 199.883Z",fill:"#010101"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.658 157.595L68.7344 136.367L76.9446 179.06L85.5417 160.58L104.658 157.595Z",fill:"#699BF7",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}))}(e=>{e.Left=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87343)"},u.createElement("rect",{width:"472",height:"140",fill:"#A259FF"}),u.createElement("path",{d:"M251 39.6665C274.932 39.6665 294.333 20.2655 294.333 -3.66684L207.667 -3.66684C207.667 20.2655 227.068 39.6665 251 39.6665Z",fill:"#C7B9FF",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M229.667 155L229.667 126.667C229.667 115.069 239.069 105.667 250.667 105.667C262.265 105.667 271.667 115.069 271.667 126.667L271.667 155L229.667 155Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M249.667 103.667C285.013 103.667 313.667 75.0132 313.667 39.667L185.667 39.667C185.667 75.0132 214.321 103.667 249.667 103.667Z",fill:"#F24E1E",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M449.895 169.389H451.895V167.389V119.725V117.725H449.895H319.166H317.166V119.725V167.389V169.389H319.166H449.895ZM292.967 114.467L293.955 119.631L296.649 115.116L304.137 102.567L317.846 98.8076L322.384 97.5631L318.339 95.1594L289.369 77.9473L285.548 75.6772L286.383 80.0425L292.967 114.467Z",fill:"#C7B9FF",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87343"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87333)"},u.createElement("rect",{width:"472",height:"140",fill:"#A259FF"}),u.createElement("path",{d:"M226.957 53.3712L222.013 58.3412L217.043 53.3712C204.404 40.7347 187.262 33.6358 169.389 33.6358C151.516 33.6358 134.375 40.7347 121.735 53.3712C109.099 66.0109 102 83.1521 102 101.025C102 118.898 109.099 136.039 121.735 148.679L126.705 153.649L121.735 158.592C109.424 171.298 102.602 188.335 102.742 206.026C102.881 223.718 109.971 240.645 122.481 253.155C134.991 265.665 151.918 272.755 169.609 272.894C187.301 273.034 204.338 266.212 217.043 253.9L222.013 248.93L226.957 253.9C239.596 266.537 256.738 273.636 274.611 273.636C292.484 273.636 309.625 266.537 322.265 253.9C334.901 241.261 342 224.119 342 206.246C342 188.373 334.901 171.232 322.265 158.592L317.295 153.649L322.265 148.679C334.576 135.973 341.398 118.936 341.259 101.245C341.119 83.5538 334.029 66.6265 321.519 54.1165C309.009 41.6064 292.082 34.5167 274.391 34.3773C256.699 34.2378 239.662 41.0599 226.957 53.3712Z",fill:"#FFC700",stroke:"black","stroke-width":"2.66667","stroke-miterlimit":"10"}),u.createElement("path",{d:"M24.6543 25.6665L23.3209 25.6665L23.3209 26.9998L23.3209 74.664L23.3209 75.9973L24.6543 75.9973L155.383 75.9973L156.717 75.9973L156.717 74.664L156.717 26.9998L156.717 25.6665L155.383 25.6665L24.6543 25.6665ZM180.928 80.0476L180.269 76.605L178.473 79.6148L170.847 92.3941L156.88 96.2243L153.854 97.0539L156.551 98.6564L185.521 115.868L188.069 117.382L187.512 114.472L180.928 80.0476Z",fill:"#F24E1E",stroke:"black","stroke-width":"2.66667","stroke-linecap":"square"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87333"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(r||(r={})),(e=>{e.Left=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87265)"},u.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),u.createElement("g",{"clip-path":"url(#clip1_1398_87265)"},u.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),u.createElement("path",{d:"M216.98 91.371C203.817 78.2406 203.356 55.1192 213.28 29.0543C187.149 38.9545 163.97 38.4947 150.806 25.3639C137.644 12.2341 137.182 -10.8858 147.104 -36.9493C120.976 -27.0514 97.7993 -27.5122 84.637 -40.6419C60.2075 -65.0111 79.5285 -123.795 127.792 -171.938C176.055 -220.082 234.984 -239.356 259.413 -214.987C272.575 -201.857 273.037 -178.737 263.115 -152.673C289.243 -162.571 312.42 -162.11 325.582 -148.981C338.745 -135.85 339.207 -112.729 329.283 -86.664C355.413 -96.5642 378.593 -96.1044 391.756 -82.9736C404.919 -69.8436 405.381 -46.7231 395.458 -20.659C421.586 -30.5571 444.763 -30.0964 457.926 -16.9666C482.355 7.4026 463.034 66.1861 414.771 114.33C366.508 162.474 307.579 181.747 283.149 157.378C269.987 144.248 269.525 121.127 279.448 95.0634C253.32 104.962 230.143 104.501 216.98 91.371Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linejoin":"bevel"}),u.createElement("rect",{x:"180",y:"263",width:"243",height:"243",rx:"121.5",transform:"rotate(-180 180 263)",fill:"#F24E1E",stroke:"black","stroke-width":"4"}))),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87265"},u.createElement("rect",{width:"472",height:"140",fill:"white"})),u.createElement("clipPath",{id:"clip1_1398_87265"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87129)"},u.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),u.createElement("path",{d:"M344.478 -7.11549L312.621 -38.8252L324.306 -50.4559L356.183 -18.7254L359.594 -15.3302V-20.1429L359.594 -64.9997H376.128V-20.1611V-15.3484L379.539 -18.7436L411.398 -50.4559L423.082 -38.8252L391.226 -7.11551L387.793 -3.69804H392.637H437.708L437.708 12.741H392.639H387.795L391.228 16.1585L423.088 47.8713L411.403 59.5019L379.539 27.784L376.128 24.3887V29.2014V74.0466H359.594V29.1832V24.3705L356.183 27.7657L324.3 59.5019L312.615 47.8713L344.475 16.1585L347.908 12.741H343.064H298V-3.69802H343.067H347.911L344.478 -7.11549Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M168.98 259.371C155.817 246.241 155.356 223.119 165.28 197.054C139.149 206.955 115.97 206.495 102.806 193.364C89.644 180.234 89.182 157.114 99.1044 131.051C72.9764 140.949 49.7993 140.488 36.637 127.358C12.2075 102.989 31.5285 44.2054 79.7916 -3.93848C128.055 -52.0824 186.984 -71.3557 211.413 -46.9865C224.575 -33.8568 225.037 -10.7368 215.115 15.3267C241.243 5.4288 264.42 5.88956 277.582 19.0193C290.745 32.1497 291.207 55.2711 281.283 81.336C307.413 71.4358 330.593 71.8956 343.756 85.0264C356.919 98.1564 357.381 121.277 347.458 147.341C373.586 137.443 396.763 137.904 409.926 151.033C434.355 175.403 415.034 234.186 366.771 282.33C318.508 330.474 259.579 349.747 235.149 325.378C221.987 312.248 221.525 289.127 231.448 263.063C205.32 272.962 182.143 272.501 168.98 259.371Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linejoin":"bevel"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87129"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(n||(n={})),(e=>{e.Left=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87379)"},u.createElement("rect",{width:"472",height:"140",fill:"#0FA958"}),u.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M252.19 108.907C255.189 103.713 253.409 97.0711 248.215 94.0723L183.806 56.8857L248.215 19.6991C253.409 16.7002 255.189 10.0586 252.19 4.86454C249.191 -0.329552 242.55 -2.10917 237.356 0.889641L172.945 38.077L172.945 -36.2968C172.945 -42.2944 168.083 -47.1564 162.086 -47.1564C156.088 -47.1564 151.226 -42.2944 151.226 -36.2968L151.226 38.0756L86.8181 0.889663C81.624 -2.10915 74.9824 -0.329529 71.9836 4.86455C68.9848 10.0586 70.7644 16.7003 75.9585 19.6991L140.368 56.8857L75.9588 94.0722C70.7647 97.071 68.9851 103.713 71.9839 108.907C74.9827 114.101 81.6243 115.88 86.8184 112.882L151.226 75.6959L151.226 150.068C151.226 156.066 156.088 160.928 162.086 160.928C168.083 160.928 172.945 156.066 172.945 150.068L172.945 75.6944L237.355 112.882C242.549 115.88 249.191 114.101 252.19 108.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M81.2996 103.705L243.098 10.9396",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M162.301 153.344L162.301 -39.5731",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M243.098 103.705L81.2992 10.9396",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"80.5331",cy:"9.95459",rx:"3.275",ry:"3.275",transform:"rotate(-60 80.5331 9.95459)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"243.192",cy:"9.95459",rx:"3.275",ry:"3.275",transform:"rotate(-60 243.192 9.95459)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"80.5331",cy:"103.839",rx:"3.275",ry:"3.275",transform:"rotate(-60 80.5331 103.839)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"243.192",cy:"103.839",rx:"3.275",ry:"3.275",transform:"rotate(-60 243.192 103.839)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"162.301",cy:"57.2265",rx:"3.275",ry:"3.275",transform:"rotate(180 162.301 57.2265)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M60.5349 126.638L59.4836 127.836L61.0658 127.639L73.4791 126.095L83.238 133.382L84.3815 134.236L84.2026 132.82L80.7086 105.168L80.5397 103.831L79.651 104.844L60.5349 126.638Z",fill:"#699BF7",stroke:"black","stroke-width":"1.21296","stroke-linecap":"square"}),u.createElement("path",{d:"M261.665 78.6089L264.618 74.2591L259.52 75.5464L247.936 78.4721L237.84 72.7217L233.751 70.3925L234.912 74.953L241.789 101.964L242.885 106.271L245.382 102.594L261.665 78.6089Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),u.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M448.19 216.907C451.189 211.713 449.409 205.071 444.215 202.072L379.806 164.886L444.216 127.699C449.41 124.7 451.189 118.059 448.19 112.865C445.192 107.67 438.55 105.891 433.356 108.89L368.945 146.077L368.945 71.7032C368.945 65.7056 364.083 60.8436 358.086 60.8436C352.088 60.8436 347.226 65.7056 347.226 71.7032L347.226 146.076L282.818 108.89C277.624 105.891 270.983 107.67 267.984 112.865C264.985 118.059 266.765 124.7 271.959 127.699L336.368 164.886L271.959 202.072C266.765 205.071 264.985 211.713 267.984 216.907C270.983 222.101 277.625 223.88 282.819 220.882L347.226 183.696L347.226 258.068C347.226 264.066 352.088 268.928 358.086 268.928C364.083 268.928 368.945 264.066 368.945 258.068L368.945 183.694L433.356 220.882C438.55 223.88 445.191 222.101 448.19 216.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M277.3 211.705L439.098 118.94",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M358.301 261.344L358.301 68.4269",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M439.098 211.705L277.299 118.94",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"276.533",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 276.533 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"439.192",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 439.192 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"358.27",cy:"71.3432",rx:"3.275",ry:"3.275",transform:"rotate(180 358.27 71.3432)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M371.094 99.6343L373.385 104.367L374.818 99.3084L378.077 87.8131L388.105 81.9452L392.167 79.5684L387.637 78.2937L360.806 70.744L356.528 69.5401L358.464 73.5405L371.094 99.6343Z",fill:"#F24E1E",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87379"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87420)"},u.createElement("rect",{width:"472",height:"140",fill:"#0FA958"}),u.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M200.19 216.907C203.189 211.713 201.409 205.071 196.215 202.072L131.806 164.886L196.216 127.699C201.41 124.7 203.189 118.059 200.19 112.865C197.192 107.67 190.55 105.891 185.356 108.89L120.945 146.077L120.945 71.7032C120.945 65.7056 116.083 60.8436 110.086 60.8436C104.088 60.8436 99.2262 65.7056 99.2262 71.7032L99.2262 146.076L34.8183 108.89C29.6243 105.891 22.9826 107.67 19.9838 112.865C16.985 118.059 18.7646 124.7 23.9587 127.699L88.3679 164.886L23.959 202.072C18.7649 205.071 16.9853 211.713 19.9841 216.907C22.9829 222.101 29.6246 223.88 34.8186 220.882L99.2262 183.696L99.2262 258.068C99.2262 264.066 104.088 268.928 110.086 268.928C116.083 268.928 120.945 264.066 120.945 258.068L120.945 183.694L185.356 220.882C190.55 223.88 197.191 222.101 200.19 216.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M29.2998 211.705L191.098 118.94",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M110.301 261.344L110.301 68.4269",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M191.098 211.705L29.2995 118.94",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"28.5333",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 28.5333 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"191.192",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 191.192 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"110.27",cy:"71.3432",rx:"3.275",ry:"3.275",transform:"rotate(180 110.27 71.3432)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M123.094 99.6343L125.385 104.367L126.818 99.3084L130.077 87.8131L140.105 81.9452L144.167 79.5684L139.637 78.2937L112.806 70.744L108.528 69.5401L110.464 73.5405L123.094 99.6343Z",fill:"#F24E1E",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),u.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M344.19 51.9068C347.189 46.7127 345.409 40.0711 340.215 37.0723L275.806 -0.114263L340.216 -37.3009C345.41 -40.2998 347.189 -46.9414 344.19 -52.1355C341.192 -57.3296 334.55 -59.1092 329.356 -56.1104L264.945 -18.923L264.945 -93.2968C264.945 -99.2944 260.083 -104.156 254.086 -104.156C248.088 -104.156 243.226 -99.2944 243.226 -93.2968L243.226 -18.9244L178.818 -56.1103C173.624 -59.1091 166.983 -57.3295 163.984 -52.1355C160.985 -46.9414 162.765 -40.2997 167.959 -37.3009L232.368 -0.114268L167.959 37.0722C162.765 40.071 160.985 46.7127 163.984 51.9067C166.983 57.1008 173.625 58.8804 178.819 55.8816L243.226 18.6959L243.226 93.0683C243.226 99.066 248.088 103.928 254.086 103.928C260.083 103.928 264.945 99.066 264.945 93.0683L264.945 18.6944L329.356 55.8817C334.55 58.8805 341.191 57.1009 344.19 51.9068Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M173.3 46.7046L335.098 -46.0604",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M254.301 96.3438L254.301 -96.5731",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M335.098 46.7046L173.299 -46.0604",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"172.533",cy:"46.8389",rx:"3.275",ry:"3.275",transform:"rotate(-60 172.533 46.8389)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"335.192",cy:"46.8389",rx:"3.275",ry:"3.275",transform:"rotate(-60 335.192 46.8389)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"254.301",cy:"0.226465",rx:"3.275",ry:"3.275",transform:"rotate(180 254.301 0.226465)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("ellipse",{cx:"254.301",cy:"93.8915",rx:"3.275",ry:"3.275",transform:"rotate(180 254.301 93.8915)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M151.487 68.7187L148.02 72.6713L153.238 72.0223L165.095 70.5473L174.404 77.4987L178.175 80.3143L177.585 75.6455L174.091 47.9929L173.534 43.5836L170.603 46.9248L151.487 68.7187Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),u.createElement("path",{d:"M353.665 21.6089L356.618 17.2591L351.52 18.5464L339.936 21.4721L329.84 15.7217L325.751 13.3925L326.912 17.953L333.789 44.9637L334.885 49.2706L337.382 45.5936L353.665 21.6089Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87420"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(l||(l={})),(e=>{e.Left=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87353)"},u.createElement("rect",{width:"472",height:"140",fill:"#C7B9FF"}),u.createElement("rect",{x:"-2",y:"2",width:"346",height:"120",transform:"matrix(-1 0 0 1 313 68)",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 352.312 28.8362)",fill:"#0FA958",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"416.607",y:"-31.0491",width:"119.361",height:"119.361",transform:"rotate(90 416.607 -31.0491)",fill:"#699BF7"}),u.createElement("rect",{x:"428.647",y:"79.8606",width:"20.4918",height:"20.4918",transform:"rotate(90 428.647 79.8606)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"305.287",y:"80.2695",width:"20.4918",height:"20.4918",transform:"rotate(90 305.287 80.2695)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"416.607",y:"-31.0491",width:"119.361",height:"119.361",transform:"rotate(90 416.607 -31.0491)",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M460.572 -13.3277H462.572V-11.3277V27.5356V29.5356H460.572H353.981H351.981V27.5356V-11.3277V-13.3277H353.981H460.572ZM332.257 31.7537L333.244 26.5897L335.939 31.1045L341.968 41.2087L353.003 44.2345L357.541 45.479L353.495 47.8827L329.874 61.9167L326.053 64.1868L326.888 59.8215L332.257 31.7537Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87353"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return u.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{"clip-path":"url(#clip0_1398_87366)"},u.createElement("rect",{width:"472",height:"140",fill:"#C7B9FF"}),u.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 120.967 88.1804)",fill:"#FFC700",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 160.312 48.8362)",fill:"#0FA958",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"506",y:"-11",width:"119",height:"401",transform:"rotate(90 506 -11)",fill:"#699BF7"}),u.createElement("rect",{x:"112.68",y:"100.319",width:"20.4918",height:"20.4918",transform:"rotate(90 112.68 100.319)",fill:"white",stroke:"black","stroke-width":"4"}),u.createElement("rect",{x:"506",y:"-11",width:"119",height:"401",transform:"rotate(90 506 -11)",stroke:"black","stroke-width":"4"}),u.createElement("path",{d:"M268.572 6.67235H270.572V8.67235V47.5356V49.5356H268.572H161.981H159.981V47.5356V8.67235V6.67235H161.981H268.572ZM140.257 51.7537L141.244 46.5897L143.939 51.1045L149.968 61.2087L161.003 64.2345L165.541 65.479L161.495 67.8827L137.874 81.9167L134.053 84.1868L134.888 79.8215L140.257 51.7537Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1398_87366"},u.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(i||(i={}));var eG=a(206144);function e$({category:e}){if(!e.child_categories)return u.createElement(u.Fragment,null);let t=e.child_categories.filter(e=>"other"!==e.title.toLowerCase()).map(e=>({to:`/community/category/${e.url_slug}`,title:e.title,translatedTitle:(0,b.Yd)(e.i18n_meta.title,e.title),urlSlug:e.url_slug}));return u.createElement("div",{className:"category_links_container--subcategoriesContainer--6e1tK"},t.map(({to:e,title:t,translatedTitle:a,urlSlug:r})=>u.createElement(et.L0,{key:e,trackingEventName:"cmty_category",trackingProperties:{category_slug:r,text:t,to:e},href:e,onClick:t=>(0,eG.qG)(e,t),className:"category_links_container--subcategory--Wzmn3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},a)))}var ej=a(860168);let eH="category_banner--inspiration--3bIzd",eq="category_banner--jamSessions--vJ4cZ";var eY=a(171603),ez=a(890710);function eK({categorySlug:e,isRedesignEnabled:t,category:a}){let _,p;let g=(0,Q.kc)({is_logged_out:!1}),{title:E,subhead:h}=(0,H.Vn)(e,g),v=(0,es.N)(`(max-width: ${ej._C6})`),{parent_category:y}=a||{parent_category:null};if(t)return a?u.createElement("div",{className:"category_banner--categoryBannerRedesign--Ri6Fg"},u.createElement("div",{className:"category_banner--headerContainer--Wysim"},u.createElement("div",{className:f()("category_banner--categoryHeaderRedesign--NN5On text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[eA.cx.flexColumn.$]:v})},y&&u.createElement(u.Fragment,null,u.createElement(et.L0,{href:`/community/category/${y.url_slug}`,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:y.url_slug,from_category_slug:e,is_mobile:v},className:"category_banner--categoryBannerParent--bx7AV",onClick:e=>(0,eG.qG)(`/community/category/${y.url_slug}`,e)},v?u.createElement("div",{className:"category_banner--mobileBackButton--hZ3hI"},u.createElement(S.B,{svg:ez.A,style:{fill:(0,eL.TD)("default")}})):(0,b.Yd)(y.i18n_meta.title,y.title)),!v&&u.createElement(S.B,{svg:eY.A,style:{fill:(0,eL.TD)("default")}})),u.createElement("h1",null,(0,b.Yd)(a.i18n_meta.title,a.title))),u.createElement("p",{className:"category_banner--categoryDescriptionRedesign--chvSi text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,b.Yd)(a.i18n_meta.description,a.description))),u.createElement(e$,{category:a})):null;switch(e){case ee.LJ.inspiration:p=c,_=eH;break;case ee.LJ.jamSessions:p=d,_=eq;break;case ee.LJ.libraries:case ee.LJ.uiKits:case ee.LJ.wireframes:p=i,_="category_banner--uiLibraries--T5U0M";break;case ee.LJ.icons:p=l,_="category_banner--icons--IU4dA";break;case ee.LJ.designTemplates:case ee.LJ.mobileApps:case ee.LJ.desktopAppsWebsites:case ee.LJ.presentations:case ee.LJ.portfolios:case ee.LJ.resumes:p=r,_="category_banner--designTemplates--iqlp-";break;case ee.LJ.development:p=o,_="category_banner--development--OFgah";break;case ee.LJ.designTools:case ee.LJ.accessibility:case ee.LJ.prototypingAnimation:case ee.LJ.editingEffects:case ee.LJ.fileOrganization:case ee.LJ.importExport:case ee.LJ.designSystems:p=s,_="category_banner--designSystems--uK9rN";break;case ee.LJ.visualAssets:p=m,_="category_banner--visualAssets--2yC2P";break;case ee.LJ.stockPhotography:case ee.LJ.fontsTypography:case ee.LJ.shapesColors:case ee.LJ.illustrations:p=c,_=eH;break;case ee.LJ.whiteboarding:case ee.LJ.teamMeetings:case ee.LJ.brainstorming:case ee.LJ.strategicPlanning:case ee.LJ.diagramming:case ee.LJ.funGames:p=d,_=eq;break;case ee.LJ.education:case ee.LJ.tutorials:case ee.LJ.classroomActivities:p=n,_="category_banner--education--RSGHj";break;default:(0,eI.xb)(e)}return u.createElement("div",{className:f()("category_banner--categoryBanner--Fb7-F",_)},(null==p?void 0:p.Left)&&u.createElement("div",{className:"category_banner--leftAsset--IQySQ"},u.createElement(p.Left,null)),(null==p?void 0:p.Right)&&u.createElement("div",{className:"category_banner--rightAsset--2oXpu"},u.createElement(p.Right,null)),u.createElement("div",{className:"category_banner--center--LmTeM"},u.createElement("h1",{className:"category_banner--categoryHeader--4BBTx text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},E),u.createElement("p",{className:"category_banner--categoryDescription--8mD9D text--fontPos16--oMC-G text--_fontBase--QdLsd"},h)))}function eJ({category:e}){return e&&e.extended_description?u.createElement("div",{className:"category_extended_description--extendedDescriptionContainer--TTPGo"},u.createElement("div",{className:"category_extended_description--title--hucIj text--fontPos24--YppUD text--_fontBase--QdLsd"},u.createElement(b.Tx,{id:"categories.about"})),u.createElement("p",{className:"category_extended_description--extendedDescription--KngAg text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,b.Yd)(e.i18n_meta.extended_description,e.extended_description))):null}let eQ={inspiration:()=>u.createElement("svg",{width:"1459",height:"324",viewBox:"0 0 1459 324",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M188.884 18.2137L181.546 24.0426C160.548 40.7201 130.751 40.9056 109.524 24.4909L102.105 18.7539L99.623 27.7521C92.5223 53.4977 68.5363 71.0281 41.6481 70.1236L32.2506 69.8074L35.5736 78.5379C45.0816 103.518 36.0691 131.697 13.7901 146.648L6.00358 151.874L13.8621 157.002C36.347 171.674 45.7505 199.739 36.5906 224.835L33.3892 233.606L42.7815 233.173C69.6548 231.933 93.8825 249.164 101.341 274.819L103.947 283.785L111.286 277.956C132.283 261.279 162.08 261.093 183.308 277.508L190.726 283.245L193.208 274.247C200.309 248.501 224.295 230.971 251.183 231.875L260.581 232.191L257.258 223.461C247.75 198.481 256.762 170.302 279.041 155.351L286.828 150.125L278.969 144.997C256.484 130.325 247.081 102.26 256.241 77.1642L259.442 68.3932L250.05 68.8263C223.176 70.0655 198.949 52.8352 191.491 27.1802L188.884 18.2137Z",fill:"#F5EAC1"}),u.createElement("path",{d:"M1136.58 151.451L1130.5 150.482C1113.11 147.711 1099.81 133.365 1098.34 115.807L1097.83 109.671L1092.37 112.46C1076.76 120.438 1057.64 116.598 1046.15 103.177L1042.14 98.4869L1039.38 103.967C1031.5 119.648 1013.86 127.781 996.742 123.623L990.759 122.17L991.761 128.249C994.627 145.643 985.208 162.641 968.995 169.335L963.328 171.674L967.703 176.03C980.22 188.493 982.621 207.864 973.506 222.852L970.32 228.091L976.396 229.059C993.783 231.83 1007.09 246.176 1008.55 263.734L1009.06 269.87L1014.52 267.082C1030.14 259.103 1049.26 262.943 1060.75 276.364L1064.76 281.054L1067.51 275.574C1075.39 259.893 1093.03 251.761 1110.15 255.918L1116.14 257.371L1115.13 251.292C1112.27 233.898 1121.69 216.9 1137.9 210.206L1143.57 207.867L1139.19 203.511C1126.68 191.049 1124.28 171.677 1133.39 156.689L1136.58 151.451Z",fill:"#F5EAC1"}),u.createElement("path",{d:"M397.23 28.8459L386.931 65.1193L424.18 59.2601L392.975 80.4273L425.276 99.8821L387.765 96.0387L400.003 131.704L373.739 104.649L360.189 139.837L357.46 102.229L324.461 120.475L346.545 89.9112L309.539 82.6771L346.102 73.4593L322.403 44.1303L356.337 60.5713L357.035 22.8707L372.462 57.2775L397.23 28.8459Z",fill:"#F5EAC1"}),u.createElement("path",{d:"M640.41 134.329L568.617 171.87L632.8 221.307L553.673 203.917L571.063 283.044L521.626 218.861L484.085 290.654L487.47 209.709L412.565 240.575L467.188 180.744L389.968 156.24L470.27 145.518L426.866 77.1101L495.274 120.514L505.996 40.2114L530.5 117.432L590.331 62.8088L559.465 137.714L640.41 134.329Z",fill:"#F5EAC1"}),u.createElement("path",{d:"M1296.83 279.147L1280.48 196.035L1205.9 236.207L1253.11 165.877L1171.97 141.552L1255.08 125.2L1214.91 50.6275L1285.24 97.8342L1309.57 16.6973L1325.92 99.8089L1400.49 59.6368L1353.29 129.968L1434.42 154.293L1351.31 170.644L1391.48 245.217L1321.15 198.01L1296.83 279.147Z",fill:"#F5EAC1"}),u.createElement("path",{d:"M1445.71 196.33L1443.91 196.084C1438.77 195.377 1434.75 191.232 1434.21 186.064L1434.02 184.258L1432.43 185.115C1427.88 187.567 1422.21 186.557 1418.74 182.673L1417.53 181.315L1416.75 182.949C1414.53 187.623 1409.38 190.134 1404.3 189.017L1402.53 188.626L1402.86 190.413C1403.82 195.523 1401.15 200.596 1396.41 202.673L1394.75 203.399L1396.07 204.655C1399.84 208.25 1400.67 213.947 1398.08 218.425L1397.18 219.99L1398.97 220.237C1404.12 220.943 1408.13 225.088 1408.68 230.256L1408.87 232.062L1410.46 231.205C1415.01 228.753 1420.68 229.763 1424.15 233.647L1425.36 235.005L1426.14 233.371C1428.36 228.697 1433.51 226.187 1438.59 227.303L1440.36 227.694L1440.03 225.908C1439.07 220.797 1441.74 215.724 1446.48 213.647L1448.13 212.921L1446.81 211.665C1443.04 208.07 1442.21 202.373 1444.81 197.895L1445.71 196.33Z",fill:"#F5EAC1"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1425.59 78.6869L1401.63 64.5322L1407.11 93L1412.84 80.6771L1425.59 78.6869Z",fill:"#F24E1E",stroke:"black",strokeWidth:"3",strokeLinecap:"square"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.04591 251.421L31 237.266L25.5254 265.734L19.7928 253.411L7.04591 251.421Z",fill:"#FFC700",stroke:"black",strokeWidth:"3",strokeLinecap:"square"})),jamSessions:()=>u.createElement("svg",{width:"1463",height:"246",viewBox:"0 0 1463 246",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M589.454 215.779C901.627 279.456 1071.64 104 1096.18 74C1120.72 44 1108.45 -14 1054.25 17C1000.05 48 812 379 1381 169",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round"}),u.createElement("path",{d:"M65 104C98 76.3331 189.2 19.3998 290 12.9998C390.8 6.59978 235.333 143 145 212",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round"}),u.createElement("circle",{cx:"65.0001",cy:"103.742",r:"8.11361",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M24.7973 86.5857C16.5726 84.8907 10.3886 77.6085 10.3886 68.8819C10.3886 66.9025 10.7067 64.9974 11.2947 63.2149L2.90114 54.8213L14.5211 43.2017L22.9741 51.6547C24.7056 51.1032 26.5504 50.8058 28.4646 50.8058C36.876 50.8058 43.9456 56.551 45.963 64.3315L54.7571 95.1743L24.7973 86.5857Z",fill:"#C7B9FF"}),u.createElement("path",{d:"M54.7571 95.1743L45.963 64.3315C43.9456 56.551 36.876 50.8058 28.4646 50.8058C26.5504 50.8058 24.7056 51.1032 22.9741 51.6547L14.5211 43.2017L2.90114 54.8213L11.2947 63.2149C10.7067 64.9974 10.3886 66.9025 10.3886 68.8819C10.3886 77.6085 16.5726 84.8907 24.7973 86.5857L54.7571 95.1743ZM54.7571 95.1743L28.5422 68.9595",stroke:"#010101",strokeWidth:"3.89795"}),u.createElement("path",{d:"M24.8718 65.7462C22.9466 67.6714 22.9466 70.7928 24.8718 72.718C26.7971 74.6433 29.9184 74.6433 31.8437 72.718C33.7689 70.7928 33.7689 67.6714 31.8437 65.7462C29.9184 63.821 26.7971 63.821 24.8718 65.7462Z",fill:"#010101"}),u.createElement("path",{d:"M429 169C367 208 307.627 269.517 404.998 216.436C502.37 163.356 617.328 60.8719 662.636 16.2652",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("circle",{cx:"660.745",cy:"18.1439",r:"8.11361",fill:"white",stroke:"black",strokeWidth:"4"}),u.createElement("path",{d:"M1446.51 91.4852L1459.1 104.072C1460.7 105.674 1460.7 108.286 1459.1 109.887L1415.29 153.692L1393.67 156.91L1396.89 135.29L1440.7 91.4852C1442.31 89.8832 1444.91 89.8832 1446.51 91.4852Z",fill:"#C7B9FF",stroke:"black",strokeWidth:"4",strokeMiterlimit:"10"}),u.createElement("path",{d:"M1449.87 119.144L1431.47 100.742",stroke:"black",strokeWidth:"4",strokeMiterlimit:"10"})),designSystems:()=>u.createElement("svg",{width:"1464",height:"266",viewBox:"0 0 1464 266",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M1212.75 74.4323C1212.75 37.0856 1182.47 6.81006 1145.13 6.81006C1119.67 6.81005 1097.49 20.8803 1085.96 41.6693C1074.42 20.8803 1052.25 6.81005 1026.79 6.81005C989.443 6.81005 959.167 37.0856 959.167 74.4323L959.167 192.771C959.167 230.118 989.443 260.393 1026.79 260.393C1052.25 260.393 1074.42 246.323 1085.96 225.534C1097.49 246.323 1119.67 260.393 1145.13 260.393C1182.47 260.393 1212.75 230.118 1212.75 192.771L1212.75 74.4323Z",fill:"#CFE2FF"}),u.createElement("path",{d:"M894.545 260.394C931.892 260.394 962.167 230.118 962.167 192.771C962.167 167.311 948.097 145.138 927.308 133.602C948.097 122.066 962.167 99.8924 962.167 74.4324C962.167 37.0857 931.892 6.81014 894.545 6.81014L776.206 6.81013C738.859 6.81013 708.584 37.0856 708.584 74.4324C708.584 99.8924 722.654 122.066 743.443 133.602C722.654 145.138 708.584 167.311 708.584 192.771C708.584 230.118 738.859 260.394 776.206 260.394L894.545 260.394Z",fill:"#CFE2FF"}),u.createElement("path",{d:"M711.584 74.4324C711.584 37.0857 681.308 6.81018 643.961 6.81018C618.501 6.81018 596.328 20.8805 584.792 41.6694C573.256 20.8805 551.083 6.81018 525.623 6.81018C488.276 6.81018 458 37.0857 458 74.4324L458 192.771C458 230.118 488.276 260.394 525.623 260.394C551.083 260.394 573.256 246.323 584.792 225.534C596.328 246.323 618.501 260.394 643.962 260.394C681.308 260.394 711.584 230.118 711.584 192.771L711.584 74.4324Z",fill:"#CFE2FF"}),u.createElement("path",{d:"M1395.71 260.394C1433.06 260.394 1463.33 230.118 1463.33 192.771C1463.33 167.311 1449.26 145.138 1428.47 133.602C1449.26 122.066 1463.33 99.8924 1463.33 74.4324C1463.33 37.0857 1433.06 6.81014 1395.71 6.81014L1277.37 6.81013C1240.03 6.81013 1209.75 37.0856 1209.75 74.4324C1209.75 99.8924 1223.82 122.066 1244.61 133.602C1223.82 145.138 1209.75 167.311 1209.75 192.771C1209.75 230.118 1240.03 260.394 1277.37 260.394L1395.71 260.394Z",fill:"#CFE2FF"}),u.createElement("path",{d:"M73.6222 6.47272C36.2755 6.47272 5.99997 36.7482 5.99997 74.095C5.99997 99.555 20.0703 121.729 40.8592 133.264C20.0703 144.8 5.99997 166.974 5.99997 192.434C5.99997 229.781 36.2755 260.056 73.6222 260.056H191.961C229.308 260.056 259.583 229.781 259.583 192.434C259.583 166.974 245.513 144.8 224.724 133.264C245.513 121.729 259.583 99.555 259.583 74.095C259.583 36.7482 229.308 6.47272 191.961 6.47272L73.6222 6.47272Z",fill:"#CFE2FF"}),u.createElement("rect",{x:"6.70825",y:"7.47266",width:"251.584",height:"251.584",stroke:"#18A0FB",strokeWidth:"2"}),u.createElement("rect",{x:"10.4165",y:"11.1812",width:"9.4165",height:"9.4165",transform:"rotate(-180 10.4165 11.1812)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),u.createElement("rect",{x:"264",y:"11.1812",width:"9.4165",height:"9.4165",transform:"rotate(-180 264 11.1812)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),u.createElement("rect",{x:"10.4165",y:"264.765",width:"9.4165",height:"9.4165",transform:"rotate(-180 10.4165 264.765)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),u.createElement("rect",{x:"264",y:"264.765",width:"9.4165",height:"9.4165",transform:"rotate(-180 264 264.765)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"})),visualAssets:()=>u.createElement("svg",{width:"1508",height:"315",viewBox:"0 0 1508 315",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M242.538 163.371L237.078 157.94L242.538 152.479C256.421 138.593 264.22 119.76 264.22 100.124C264.22 80.4878 256.421 61.6555 242.538 47.7689V47.7689C228.651 33.8857 209.819 26.0865 190.183 26.0865C170.547 26.0865 151.714 33.8857 137.828 47.7689L132.367 53.2292L126.936 47.7689C112.977 34.243 94.2593 26.7479 74.8226 26.9011C55.386 27.0543 36.7889 34.8436 23.0446 48.5878C9.30042 62.332 1.51118 80.9292 1.35798 100.366C1.20478 119.803 8.69986 138.52 22.2257 152.479L27.6862 157.94L22.2257 163.371C8.34253 177.257 0.543337 196.09 0.543339 215.726C0.54334 235.362 8.34253 254.195 22.2257 268.081V268.081C36.1124 281.964 54.9447 289.764 74.581 289.764C94.2172 289.764 113.049 281.964 126.936 268.081L132.367 262.621L137.828 268.081C151.787 281.607 170.504 289.102 189.941 288.949C209.378 288.796 227.975 281.007 241.719 267.262C255.463 253.518 263.253 234.921 263.406 215.484C263.559 196.048 256.064 177.33 242.538 163.371V163.371Z",fill:"#C7B9FF"}),u.createElement("path",{d:"M1183.43 163.371L1177.97 157.94L1183.43 152.479C1197.31 138.593 1205.11 119.76 1205.11 100.124C1205.11 80.4878 1197.31 61.6555 1183.43 47.7689V47.7689C1169.54 33.8857 1150.71 26.0865 1131.08 26.0865C1111.44 26.0865 1092.61 33.8857 1078.72 47.7689L1073.26 53.2292L1067.83 47.7689C1053.87 34.243 1035.15 26.7479 1015.71 26.9011C996.278 27.0543 977.681 34.8436 963.937 48.5878C950.193 62.332 942.404 80.9292 942.25 100.366C942.097 119.803 949.592 138.52 963.118 152.479L968.578 157.94L963.118 163.371C949.235 177.257 941.436 196.09 941.436 215.726C941.436 235.362 949.235 254.195 963.118 268.081V268.081C977.005 281.964 995.837 289.764 1015.47 289.764C1035.11 289.764 1053.94 281.964 1067.83 268.081L1073.26 262.621L1078.72 268.081C1092.68 281.607 1111.4 289.102 1130.83 288.949C1150.27 288.796 1168.87 281.007 1182.61 267.262C1196.36 253.518 1204.14 234.921 1204.3 215.484C1204.45 196.048 1196.96 177.33 1183.43 163.371V163.371Z",fill:"#C7B9FF"}),u.createElement("path",{d:"M501.892 187.405C466.396 257.794 410.868 300.947 378.862 284.807C346.855 268.667 348.877 197.698 384.373 127.309C419.868 56.9209 475.396 13.7674 507.403 29.9076C539.409 46.0479 537.387 117.017 501.892 187.405Z",fill:"#C7B9FF"}),u.createElement("path",{d:"M1442.78 187.405C1407.29 257.794 1351.76 300.947 1319.75 284.807C1287.75 268.667 1289.77 197.698 1325.27 127.309C1360.76 56.9209 1416.29 13.7674 1448.29 29.9076C1480.3 46.0479 1478.28 117.017 1442.78 187.405Z",fill:"#C7B9FF"}),u.createElement("circle",{cx:"753.883",cy:"157.925",r:"131.839",fill:"#C7B9FF"})),development:()=>u.createElement("svg",{width:"1470",height:"262",viewBox:"0 0 1470 262",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{y:"0.0859375",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"224",y:"0.0859375",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"283.5",y:"0.0859375",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"378.088",y:"0.0859375",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),u.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{x:"786.973",y:"0.0859375",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1010.97",y:"0.0859375",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1070.47",y:"0.0859375",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1165.06",y:"0.0859375",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),u.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 0.0859375)",fill:"#E5E5E5"}),u.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{x:"699.946",y:"47.0859",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"890.803",y:"47.0859",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"941.499",y:"47.0859",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1022.09",y:"47.0859",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 47.0859)",fill:"#E5E5E5"}),u.createElement("rect",{y:"47.0859",width:"84.6588",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"103.829",y:"47.0859",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"154.526",y:"47.0859",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"235.119",y:"47.0859",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{y:"94.0859",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"224",y:"94.0859",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"283.5",y:"94.0859",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"378.088",y:"94.0859",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),u.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{x:"786.973",y:"94.0859",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1010.97",y:"94.0859",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1070.47",y:"94.0859",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1165.06",y:"94.0859",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),u.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 94.0859)",fill:"#E5E5E5"}),u.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{x:"699.946",y:"141.086",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"890.803",y:"141.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"941.499",y:"141.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1022.09",y:"141.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 141.086)",fill:"#E5E5E5"}),u.createElement("rect",{y:"141.086",width:"84.6588",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"103.829",y:"141.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"154.526",y:"141.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"235.119",y:"141.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{x:"699.946",y:"188.086",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"890.803",y:"188.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"941.499",y:"188.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1022.09",y:"188.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 188.086)",fill:"#E5E5E5"}),u.createElement("rect",{y:"188.086",width:"135.355",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"154.526",y:"188.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"235.119",y:"188.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{y:"235.086",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"224",y:"235.086",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"283.5",y:"235.086",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"378.088",y:"235.086",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),u.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{x:"786.973",y:"235.086",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1010.97",y:"235.086",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1070.47",y:"235.086",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),u.createElement("rect",{x:"1165.06",y:"235.086",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),u.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 235.086)",fill:"#E5E5E5"}),u.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 235.086)",fill:"#E5E5E5"}))};function eZ(){return u.createElement("svg",{width:"1184",height:"295",viewBox:"0 0 1184 295",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M75.7461 191.521C154.454 118.349 215.495 50.7749 291.372 85.2805C338 106.485 355.642 176.088 305.924 219.099C349.842 181.107 406 49.0993 508 85.2805C572.99 108.334 585.608 180.397 560 219.099C608.673 172.524 671.254 69.4188 798.142 106.485C860.139 124.596 885.978 177.065 832.648 219.099C964.991 114.788 1010 106.485 1108.25 106.485",stroke:"#699BF7",strokeWidth:"150",strokeLinecap:"round",strokeLinejoin:"round"}))}let eX={inspiration:()=>u.createElement("svg",{width:"27",height:"39",viewBox:"0 0 27 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{left:"-10px"}},u.createElement("path",{d:"M1 13.374C1 6.5395 6.54048 0.999023 13.375 0.999023C20.2095 0.999023 25.75 6.5395 25.75 13.374C25.75 17.611 23.6216 21.351 20.3711 23.5832C19.2107 24.38 18.9467 25.7943 18.8744 27.03C18.8361 27.6841 18.8481 28.3925 18.8675 29.1018C18.8718 29.2571 18.8764 29.4124 18.8811 29.568C18.8882 29.808 18.8954 30.0486 18.9013 30.2904H7.85764C7.85909 30.2455 7.86058 30.2002 7.86208 30.1543C7.89007 29.2997 7.92352 28.2781 7.87593 27.3867C7.83845 26.6848 7.75039 25.9592 7.5497 25.3166C7.35163 24.6823 7.00831 24.0154 6.37892 23.5832C3.1284 21.351 1 17.611 1 13.374Z",fill:"#FFC700",stroke:"black",strokeWidth:"2"}),u.createElement("rect",{x:"7.875",y:"30.3115",width:"11.0625",height:"7.6875",fill:"#F5F5F5",stroke:"black",strokeWidth:"2"}),u.createElement("rect",{x:"7.875",y:"34.0824",width:"11.0625",height:"3.9169",fill:"#F5F5F5",stroke:"black",strokeWidth:"2"})),jamSessions:()=>u.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{left:"-15px"}},u.createElement("path",{d:"M8.5536 1.65821L1.65811 8.55372C0.780501 9.43133 0.780501 10.8621 1.65811 11.7397L25.6559 35.7375L37.5 37.5001L35.7374 25.6561L11.7396 1.65821C10.8546 0.780597 9.43121 0.780597 8.5536 1.65821Z",fill:"#A259FF",stroke:"#010101",strokeWidth:"2",strokeMiterlimit:"10"}),u.createElement("path",{d:"M6.71445 16.8108L16.7959 6.72934",stroke:"#010101",strokeWidth:"2",strokeMiterlimit:"10"})),designSystems:()=>u.createElement("svg",{width:"39",height:"39",viewBox:"-5 0 44 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 37.9993 19.5231)",fill:"#0FA958",stroke:"black",strokeWidth:"2"}),u.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 19.5217 1.04504)",fill:"#5551FF",stroke:"black",strokeWidth:"2"}),u.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 19.5217 19.5231)",fill:"#FFC700",stroke:"black",strokeWidth:"2"})),visualAssets:()=>u.createElement("svg",{width:"54",height:"41",viewBox:"0 0 54 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.70544 11.1925C1.70544 14.2998 3.1224 17.0762 5.34542 18.9107C6.08429 19.5205 6.08429 20.8461 5.34544 21.4558C3.12247 23.2903 1.70555 26.0667 1.70555 29.1739C1.70555 34.6979 6.18363 39.176 11.7076 39.176C14.8149 39.176 17.5913 37.7591 19.4258 35.5361C20.0355 34.7973 21.361 34.7973 21.9708 35.5361C23.8053 37.759 26.5816 39.1759 29.6888 39.1759C35.2128 39.1759 39.6909 34.6978 39.6909 29.1738C39.6909 26.0666 38.274 23.2902 36.0511 21.4557C35.3122 20.846 35.3122 19.5205 36.051 18.9108C38.2739 17.0763 39.6908 14.3 39.6908 11.1927C39.6908 5.66874 35.2127 1.19066 29.6887 1.19066C26.5815 1.19066 23.8052 2.60752 21.9707 4.83042C21.361 5.56924 20.0354 5.56922 19.4257 4.83038C17.5912 2.60738 14.8148 1.19043 11.7075 1.19043C6.18353 1.19043 1.70544 5.66851 1.70544 11.1925Z",fill:"#FF8577"}),u.createElement("path",{d:"M36.0507 18.9108C35.3119 19.5205 35.3119 20.846 36.0507 21.4557C38.2736 23.2902 39.6906 26.0666 39.6906 29.1738C39.6906 34.6978 35.2125 39.1759 29.6885 39.1759C26.5812 39.1759 23.8049 37.759 21.9704 35.5361C21.3607 34.7973 20.0352 34.7973 19.4254 35.5361C17.5909 37.7591 14.8146 39.176 11.7073 39.176C6.18327 39.176 1.70518 34.6979 1.70518 29.1739C1.70518 26.0667 3.1221 23.2903 5.34507 21.4558C6.08393 20.8461 6.08392 19.5205 5.34506 18.9107C3.12204 17.0762 1.70508 14.2998 1.70508 11.1925C1.70508 5.66851 6.18316 1.19043 11.7072 1.19043C14.8145 1.19043 17.5908 2.60738 19.4254 4.83038C20.0351 5.56922 21.3606 5.56924 21.9703 4.83042",stroke:"black",strokeWidth:"2"}),u.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 36.662 19.5335)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),u.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 20.6981 6.28331)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),u.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 6.71913 19.5335)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),u.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 20.6981 35.6471)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),u.createElement("path",{d:"M28.9806 26.7571C29.8755 31.0997 33.7205 34.3648 38.3281 34.3648C39.3732 34.3648 40.3791 34.1969 41.3202 33.8864L45.752 38.3182L51.8871 32.1829L47.4239 27.7198C47.7151 26.8055 47.8722 25.8315 47.8722 24.8208C47.8722 20.3796 44.8387 16.6469 40.7306 15.5817L24.4458 10.9385L28.9806 26.7571Z",fill:"white"}),u.createElement("path",{d:"M24.4458 10.9385L40.7306 15.5817C44.8387 16.6469 47.8722 20.3796 47.8722 24.8208C47.8722 25.8315 47.7151 26.8055 47.4239 27.7198L51.8871 32.1829L45.752 38.3182L41.3202 33.8864C40.3791 34.1969 39.3732 34.3648 38.3281 34.3648C33.7205 34.3648 29.8755 31.0997 28.9806 26.7571L24.4458 10.9385ZM24.4458 10.9385L38.2871 24.7798",stroke:"#010101",strokeWidth:"2"}),u.createElement("path",{d:"M39.9841 26.7178C38.9676 27.7343 37.3195 27.7343 36.303 26.7178C35.2865 25.7013 35.2865 24.0532 36.303 23.0367C37.3195 22.0202 38.9676 22.0202 39.9841 23.0367C41.0006 24.0532 41.0006 25.7013 39.9841 26.7178Z",fill:"#010101"})),development:()=>u.createElement("svg",{width:"61",height:"41",viewBox:"0 0 61 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M36.2556 1.09681C44.2775 1.09681 50.1487 7.51627 50.7359 14.543C56.0886 16.1282 60 21.064 60 26.9137C60 34.043 54.2016 39.8221 47.0486 39.8221H13.2312C5.9146 39.8221 0.999512 35.0384 0.999512 29.0651C0.999512 24.0698 4.5294 19.1616 9.63362 18.3082C9.63362 9.70275 17.5486 6.1171 23.3045 8.98537C25.4632 4.68233 30.1058 1.09668 36.2558 1.09668L36.2556 1.09681Z",fill:"#0FA958",stroke:"black",strokeWidth:"2"}),u.createElement("path",{d:"M15.5087 23.5748L21.5532 17.5302L22.7621 18.7392L17.9265 23.5748L22.7621 28.4104L21.5532 29.6193L15.5087 23.5748Z",fill:"black",stroke:"black",strokeWidth:"0.740592"}),u.createElement("path",{d:"M45.6095 23.5759L39.5649 29.6205L38.356 28.4116L43.1917 23.5759L38.356 18.7403L39.5649 17.5314L45.6095 23.5759Z",fill:"black",stroke:"black",strokeWidth:"0.740592"}),u.createElement("rect",{x:"35.0591",y:"14.0024",width:"1.70966",height:"21.1997",transform:"rotate(30 35.0591 14.0024)",fill:"black",stroke:"black",strokeWidth:"0.740592"}))},e0="category_pills--categoryPills--NvJUW",e1="category_pills--tagPill--B9Rpd text--fontPos18--rYXJb text--_fontBase--QdLsd",e2="category_pills--categoryPillWrapper--pY-nZ",e4="category_pills--categoryPill--8D9Dk text--fontPos18--rYXJb text--_fontBase--QdLsd",e3="category_pills--hashtag--oj-tu";function e8(e){let{onMouseEnter:t,onMouseLeave:a,hoverIndex:r}=e,n=e=>(0,Z.MU)({...(0,Z.wl)(),category:e}),l=e=>(0,Z.MU)({...(0,Z.wl)(),tags:[e]}),i=e=>()=>(0,y.sx)("community_hub_landing_pill_clicked",{name:e}),s=-1===r?eZ:Object.values(eQ)[r];return u.createElement("div",{className:"category_pills--categoryPillsScrollWrapper--mB4hZ"},u.createElement(s,null),u.createElement("div",{className:"category_pills--categoryPillsOverflowWrapper--8yftR"},u.createElement("div",{className:e0},u.createElement("div",{className:e2,onMouseEnter:()=>t(0),onMouseLeave:()=>a(-1)},u.createElement(g.N_,{className:f()(e4,"category_pills--categoryPill1--bqL7u"),to:n(ee.LJ.inspiration),onClick:i(ee.LJ.inspiration)},u.createElement(b.Tx,{id:"community.categories.inspiration"})),u.createElement(eX.inspiration,null)),u.createElement("div",{className:e2,onMouseEnter:()=>t(1),onMouseLeave:()=>a(-1)},u.createElement(g.N_,{className:f()(e4,"category_pills--categoryPill2--wxuPY"),to:n(ee.LJ.jamSessions),onClick:i(ee.LJ.jamSessions)},u.createElement(b.Tx,{id:"community.categories.team_syncs"})),u.createElement(eX.jamSessions,null)),u.createElement("div",{className:e2,onMouseEnter:()=>t(2),onMouseLeave:()=>a(-1)},u.createElement(g.N_,{className:f()(e4,"category_pills--categoryPill3--kMg7b"),to:n(ee.LJ.designSystems),onClick:i(ee.LJ.designSystems)},u.createElement(b.Tx,{id:"community.categories.design_systems"})),u.createElement(eX.designSystems,null)),u.createElement("div",{className:e2,onMouseEnter:()=>t(3),onMouseLeave:()=>a(-1)},u.createElement(g.N_,{className:f()(e4,"category_pills--categoryPill4--A2OAr"),to:n(ee.LJ.visualAssets),onClick:i(ee.LJ.visualAssets)},u.createElement(b.Tx,{id:"community.categories.visual_assets"})),u.createElement(eX.visualAssets,null)),u.createElement("div",{className:e2,onMouseEnter:()=>t(4),onMouseLeave:()=>a(-1)},u.createElement(g.N_,{className:f()(e4,"category_pills--categoryPill5--SmCTl"),to:n(ee.LJ.development),onClick:i(ee.LJ.development)},u.createElement(b.Tx,{id:"community.categories.development"})),u.createElement(eX.development,null))),u.createElement("div",{className:e0},u.createElement(g.N_,{className:e1,to:l("icons"),onClick:i("icons")},u.createElement("span",{className:e3},"#"),u.createElement(b.Tx,{id:"community.categories.icons"})),u.createElement(g.N_,{className:e1,to:l("accessibility"),onClick:i("accessibility")},u.createElement("span",{className:e3},"#"),u.createElement(b.Tx,{id:"community.categories.accessibility"})),u.createElement(g.N_,{className:e1,to:l("web"),onClick:i("web")},u.createElement("span",{className:e3},"#"),u.createElement(b.Tx,{id:"community.categories.web"})),u.createElement(g.N_,{className:e1,to:l("mobile"),onClick:i("mobile")},u.createElement("span",{className:e3},"#"),u.createElement(b.Tx,{id:"community.categories.mobile"})),u.createElement(g.N_,{className:e1,to:l("wireframe"),onClick:i("wireframe")},u.createElement("span",{className:e3},"#"),u.createElement(b.Tx,{id:"community.categories.wireframe"})))))}var e5=a(956917),e6=a(977539),e9=a(563706);let e7="tag_and_search_header--tagOrSearchHeaderContainer--i-UIA text--fontPos16--oMC-G text--_fontBase--QdLsd",te="tag_and_search_header--tagOrSearchHeaderInnerWrapper--Pb-dS",tt=(e,t)=>e.resourceType===A.L.SearchResourceTypes.MIXED?u.createElement(b.Tx,{id:"community.landing_page.query_header__mixed",query:t}):e.resourceType===A.L.SearchResourceTypes.PLUGINS?u.createElement(b.Tx,{id:"community.landing_page.query_header__plugins",query:t}):e.resourceType===A.L.SearchResourceTypes.FILES?u.createElement(b.Tx,{id:"community.landing_page.query_header__files",query:t}):e.resourceType===A.L.SearchResourceTypes.WIDGETS?u.createElement(b.Tx,{id:"community.landing_page.query_header__widgets",query:t}):e.resourceType===A.L.SearchResourceTypes.PROFILES?u.createElement(b.Tx,{id:"community.landing_page.query_header__profiles",query:t}):u.createElement(b.Tx,{id:"community.landing_page.query_header",query:t});function ta({tags:e,view:t}){let a=tt(t,e.map(e=>u.createElement("strong",{key:e},"#",e)));return u.createElement("div",{className:e7},u.createElement("h1",{className:te},a))}function tr({query:e,view:t,error:a}){return u.createElement("div",{className:f()({[e7]:!0,"tag_and_search_header--mobileSearchHeaderContainer--gWJWx":e9.Ay.mobile})},u.createElement("h1",{className:te},a?u.createElement(b.Tx,{id:"community.error.could_not_complete_search",error:u.createElement("strong",null,a)}):tt(t,u.createElement("strong",null,e))))}var tn=a(637961);let tl=["HubFile","Plugin","Widget","FreeHubFile","FreePlugin","FreeWidget","MonetizedHubFile","MonetizedPlugin","MonetizedWidget"],ti={resourceType:"resourceType",editorType:"editor_type",price:"price",creators:"creators",sortBy:"sort_by"},ts=e=>({resourceType:e.resourceType,editorType:e.editor_type,price:e.price,creators:e.creators,sortBy:e.sort_by}),to=(e,t)=>{let a=t.getBoundingClientRect(),r=t.closest(`.${tn.pz}`).getBoundingClientRect();e.style.width=a.width+"px",e.style.height=a.height+"px",e.style.top=a.y-r.y+"px"};function tc({view:e,tagsFromResources:t,resourceCounts:a,history:r}){(0,ex.kc)().statsig_aa_flag_web_cmtysidebar;let n=[eC.All,eC.Files,eC.Plugins,eC.Widgets,eC.Union],l=u.useRef(null);u.useEffect(()=>{if(l.current&&e.resourceType){let e=l.current.parentNode.querySelector(`.${tn.vu}`);to(l.current,e)}},[e.resourceType]);let i=[[A.L.BrowseResourceTypes.MIXED,(0,b.t)("community.view_bar.all")],[A.L.BrowseResourceTypes.FILES,(0,b.t)("community.view_bar.files_and_templates")],[A.L.BrowseResourceTypes.PLUGINS,(0,b.t)("community.view_bar.plugins")],[A.L.BrowseResourceTypes.WIDGETS,(0,b.t)("community.view_bar.widgets")]];return"string"==typeof e.query&&i.push(["profiles",(0,b.t)("community.view_bar.creators")]),u.createElement("div",{className:tn.pz},u.createElement("div",{className:tn.w,ref:l}),u.createElement("ul",null,i.map(([t,l],i)=>{let s=(0,Z.MU)({...(0,Z.wl)(),resourceType:t}),o=n[i],c="query"in e?u.createElement("span",{className:tn.fw},a[t]??0):null;return u.createElement("a",{key:t,href:s,onClick:a=>{a.preventDefault(),r.push(s),(0,y.sx)("resource_type_filter_changed",{resource_type:t,from:e.resourceType})}},u.createElement("li",{className:e.resourceType===t?tn.vu:""},u.createElement(o,{active:e.resourceType===t}),u.createElement("span",{className:tn.rt},l),c))})),(0,ee.Iw)(e)&&u.createElement(G,{category:e.category,resourceType:e.resourceType,tagsFromResources:t}))}let td=new Date;function tm(){let e,t;let[a,r]=u.useState(-1);switch(a){case 0:e=u.createElement(b.Tx,{id:"community.landing_page.word.spark"}),t=u.createElement(b.Tx,{id:"community.categories.banner.inspiration"});break;case 1:e=u.createElement(b.Tx,{id:"community.landing_page.word.fun"}),t=u.createElement(b.Tx,{id:"community.categories.banner.jam_sessions"});break;case 2:e=u.createElement(b.Tx,{id:"community.landing_page.word.structure"}),t=u.createElement(b.Tx,{id:"community.categories.banner.design_systems"});break;case 3:e=u.createElement(b.Tx,{id:"community.landing_page.word.life"}),t=u.createElement(b.Tx,{id:"community.categories.banner.visual_assets"});break;case 4:e=u.createElement(b.Tx,{id:"community.landing_page.word.power"}),t=u.createElement(b.Tx,{id:"community.categories.banner.development"});break;default:e=null,t=null}return u.createElement(u.Fragment,null,u.createElement(X.Ay,{mediaQuery:"(max-width: 1023px)"},u.createElement("h1",{className:tn.tt},u.createElement(b.Tx,{id:"community.landing_page.welcome_to_figma_community"})),u.createElement("h2",{className:tn.AJ},u.createElement(b.Tx,{id:"community.landing_page.subhead.explore_thousands_of_free_and_paid_templates_widgets_and_plugins"}))),u.createElement(X.Ay,{mediaQuery:"(min-width: 1024px)"},e?u.createElement("h1",{className:tn.tt},u.createElement(b.Tx,{id:"community.landing_page.add_a_little_magic",magic:u.createElement("span",{"data-color":["--color-text-assistive","--color-text-figjam","--color-text-brand","--color-text-danger","--color-text-success"][a]||"--color-bg-brand",className:tn.GE},e)})):u.createElement("h1",{className:tn.tt},u.createElement(b.Tx,{id:"community.landing_page.welcome_to_figma_community"})),u.createElement("h2",{className:tn.AJ},t||(0,b.t)("community.landing_page.subhead.explore_thousands_of_free_and_paid_templates_widgets_and_plugins"))),u.createElement(eS.a,null),u.createElement(e8,{onMouseEnter:e=>{r(e),td=new Date},onMouseLeave:()=>{let e=new Date;setTimeout(()=>{e>td&&r(-1)},300)},hoverIndex:a}))}let tu={files:0,plugins:0,widgets:0,mixed:0,profiles:0},t_=function(){let e=[],t={};return{push:(a,r)=>{let n=a.pathname+a.search,l=t[n];if(l||e.push(n),t[n]={...l||{},state:r},e.length>10){let a=e.shift();delete t[a]}},get:e=>{let a=t[e.pathname+e.search];if(a)return a}}}();function tp({onClick:e,isLoading:t,isMoreToFetch:a}){let r=(0,Q.o5)({isLoggedOut:!1});return t?u.createElement("div",{className:tn.V3},u.createElement(Y.y$,null)):r()?u.createElement(j.A,{onClick:e,isLoading:!1,isMoreToFetch:a}):null}class tg extends u.Component{constructor(e){super(e),this.feedAppWrapper=null,this.hasLoadedFirstTimeForView=!1,this.impressedResourcesForView=new Set,this.impressedResourcesLoggingBuffer=[],this.state={resources:[],resourceCounts:tu,searchResponse:void 0,searchError:void 0,shelves:void 0,pagination:void 0,tags:[],profiles:[],isActivelyLoadingRequest:!1,category:void 0},this.feedContentRef=u.createRef(),this.filterControlsRef=u.createRef(),(0,Z.au)(this.props.view)||(document.title=(0,z.vC)(this.props.view)),this.sendResourceImpressions=(0,w.s)(()=>{if(0===this.impressedResourcesLoggingBuffer.length)return;let{view:e}=this.props,{trackingContext:t,properties:a}=this.getTrackingProps();(0,y.sx)("hub_impressed_resources",{impressedItems:this.impressedResourcesLoggingBuffer.map(({id:e})=>e),impressedItemTypes:this.impressedResourcesLoggingBuffer.map(({type:e})=>e),sort:e.sort_by,resourceType:e.resourceType,trackingContext:t,...a}),this.impressedResourcesLoggingBuffer=[]},1e3)}componentDidMount(){this.queryWithParamsAndUpdateState(void 0),(0,ee.OE)(this.props.view)&&this.props.dispatch(k.N.startSearch({entryPoint:"community"}))}showFeedAsTable(){var e,t;return(null==(e=this.props.view)?void 0:e.resourceType)===A.L.BrowseResourceTypes.PLUGINS||(null==(t=this.props.view)?void 0:t.resourceType)===A.L.SearchResourceTypes.PROFILES}componentDidUpdate(e,t){var a,r,n;(0,_.bN)(this.props.view,e.view)?t_.push(this.props.history.location,this.state):(this.hasLoadedFirstTimeForView=!1,this.queryWithParamsAndUpdateState(e.view),(0,Z.au)(this.props.view)||(document.title=(0,z.vC)(this.props.view)),this.sendAndResetResourceImpressions()),(null==(a=this.state.category)?void 0:a.meta_title)!==(null==(r=t.category)?void 0:r.meta_title)&&(document.title=(0,z.vC)(this.props.view,null==(n=this.state.category)?void 0:n.meta_title))}componentWillUnmount(){(0,ee.OE)(this.props.view)&&this.props.dispatch(k.N.endSession()),this.sendAndResetResourceImpressions()}isMoreToFetch(){var e,t;if(!this.hasLoadedFirstTimeForView)return!0;if(null==(e=this.state.pagination)?void 0:e.next_page){let e=new URLSearchParams(null==(t=this.state.pagination)?void 0:t.next_page.split("?")[1]);return tl.some(t=>!!e.get(`${t}[id_cursor]`))}return!1}parseSearchResponse([e,t]){var a;let r;let n=e.map(e=>{let t=e.model;return"is_widget"in t?(t.is_widget,(0,eT.I$)(t)):t}),l={files:[],plugins:[],widgets:[],mixed:n};n.forEach(e=>{"is_widget"in e?e.is_widget?l.widgets.push(e):l.plugins.push(e):l.files.push(e)}),r=this.props.view.resourceType===A.L.SearchResourceTypes.PROFILES?t:l[(null==(a=this.props.view)?void 0:a.resourceType)??A.L.BrowseResourceTypes.MIXED];let i=Object.keys(l).reduce((e,t)=>(e[t]=l[t].length,e),{});return i.profiles=t.length,{resources:r,resourceCounts:i}}asyncFetchAdditionalSearchResources(){let{dispatch:e,view:t,searchSessionId:a}=this.props;Promise.all([e((0,q.n)().filter(t).searchResources({resourceType:"files"})),e((0,q.n)().filter(t).searchResources({resourceType:"plugins"})),e((0,q.n)().filter(t).searchResources({resourceType:"widgets"}))]).then(([e,r,n])=>{if(!this.state.searchResponse)return;let l=[...e.data.meta.results,...r.data.meta.results,...n.data.meta.results],i=this.state.searchResponse[0].reduce((e,t)=>(e[t.model.id]=!0,e),{});l=l.filter(e=>!i[e.model.id]).sort((e,t)=>e.score>t.score?-1:1),this.state.searchResponse[0]=[...this.state.searchResponse[0],...l];let{resources:s,resourceCounts:o}=this.parseSearchResponse(this.state.searchResponse);(0,y.sx)("search_query_result",{query:t.query,responseCounts:this.state.searchResponse[0].length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:a}),this.setState({searchResponse:[this.state.searchResponse[0],this.state.searchResponse[1]],resources:s,resourceCounts:o})}).catch(()=>{})}querySearch(){var e;let{view:t,dispatch:a}=this.props;return null==(e=this.feedAppWrapper)||e.setAttribute("data-hide","true"),a((0,q.n)().filter(t).searchResourcesAndProfiles({resourceType:"mixed"})).then(e=>{let t=[e[0].data.meta.results,e[1].data.meta.results],{resources:a,resourceCounts:r}=this.parseSearchResponse(t);this.asyncFetchAdditionalSearchResources(),this.setState({searchResponse:t,searchError:void 0,resources:a,resourceCounts:r},()=>{var e;null==(e=this.feedAppWrapper)||e.removeAttribute("data-hide")})}).catch(e=>{(0,ee.OE)(this.props.view)&&this.setState({searchError:e.message||(0,b.t)("community.error.search_request_failed"),resources:[]})})}queryBrowse(){var e,t,a;let r;let{view:n,isCategoryRedesignEnabled:l,isFooterEnabled:i}=this.props,s=(0,q.n)().filter(n),o=n.category,c=Promise.resolve(this.state.shelves),d=Promise.resolve(this.state.category),m=this.hasLoadedFirstTimeForView&&(null==(e=this.state.pagination)?void 0:e.next_page);if(m)r=(0,N.k9)(null==(t=this.state.pagination)?void 0:t.next_page);else{null==(a=this.feedAppWrapper)||a.setAttribute("data-hide","true");let e=i()?48:void 0;r=s.browse(n.resourceType,e);let t=l&&o&&!Z.as.includes(o)?{shelfType:er.cS.CATEGORY_PAGE,categorySlug:o}:void 0;c=!this.state.shelves||o&&l?el.A.getCommunityShelves(t).then(e=>e.data.meta):c,d=o&&!Z.as.includes(o)?V.c.getV2BySlug({slug:o}).then(e=>e.data.meta):d}return Promise.all([r,c,d]).then(e=>{let[t,a,r]=e;a&&a.length>0&&(0,ea.qD)({name:"community-landing-shelves-loaded"});let l=(a??[]).filter(J);if(!t)throw Error("Error handling response");let{data:i}=t,{meta:s,pagination:o}=i,{resources:c}=s;this.setState({resources:m?[...this.state.resources,...c]:c,shelves:l,pagination:o,tags:(0,z.ZF)(c).filter(e=>{var t;return(null==(t=n.tags)?void 0:t.indexOf(e))===-1}),searchError:void 0,category:r},()=>{var e;null==(e=this.feedAppWrapper)||e.removeAttribute("data-hide")})}).catch(e=>{(0,x.$D)(C.e.COMMUNITY,e)})}shouldSearch(e,t){return!(0,ee.OE)(e)||e.resourceType===t.resourceType||(0,Z.Mc)({...e,resourceType:"profiles"})!==(0,Z.Mc)({...t,resourceType:"profiles"})}async queryWithParamsAndUpdateState(e){var t,a;if(!this.props.view||this.state.isActivelyLoadingRequest||!this.isMoreToFetch())return;if(!(this.hasLoadedFirstTimeForView&&(null==(t=this.state.pagination)?void 0:t.next_page))){let e=t_.get(this.props.history.location);if(e){this.setState(e.state),null==(a=this.feedAppWrapper)||a.removeAttribute("data-hide"),this.hasLoadedFirstTimeForView=!0;return}}this.setState({isActivelyLoadingRequest:!0});let r=(0,ee.OE)(this.props.view);try{r?e&&!this.shouldSearch(e,this.props.view)&&this.state.searchResponse?this.setState({resources:this.parseSearchResponse(this.state.searchResponse).resources,searchError:void 0}):await this.querySearch():await this.queryBrowse(),this.hasLoadedFirstTimeForView=!0}catch(e){}this.setState({isActivelyLoadingRequest:!1})}resetScrollPosition(){var e;let t=((null==(e=this.feedContentRef.current)?void 0:e.getBoundingClientRect().top)||0)-(this.filterControlsRef.current?this.filterControlsRef.current.getBoundingClientRect().top+this.filterControlsRef.current.getBoundingClientRect().height:0);t<0&&window.scrollTo({top:window.scrollY+t,behavior:"smooth"})}addResourceImpression(e){let t=e.id,a=(0,z.Vm)(e),r=`${t}-${a}`;this.impressedResourcesForView.has(r)||(this.impressedResourcesForView.add(r),this.impressedResourcesLoggingBuffer.push({id:e.id,type:(0,z.Vm)(e)}),this.sendResourceImpressions())}sendAndResetResourceImpressions(){this.sendResourceImpressions.flush(),this.impressedResourcesForView.clear()}getTrackingProps(){let{view:e}=this.props,t=e.category,a=e.tags,r=!!(null==a?void 0:a.length),n=e.query;return"string"==typeof n?{trackingContext:en.e0.COMMUNITY_HUB_SEARCH,properties:{searchQuery:n}}:t?{trackingContext:en.e0.COMMUNITY_HUB_CATEGORY,properties:{category:t}}:r?{trackingContext:en.e0.COMMUNITY_HUB_TAG,properties:{tags:a.join(",")}}:{trackingContext:en.e0.COMMUNITY_HUB,properties:{}}}getShelfContentIds(){let e=this.state.shelves||[],t=new Set;return e.forEach(e=>{e.shelf_content.forEach(e=>{t.add(e.id)})}),t}render(){let{view:e,isCategoryRedesignEnabled:t,isFooterEnabled:a}=this.props,{category:r}=this.state;if(!e){if(z.FG)throw Error("This should never happen. Fastma should always have a `view`.");return u.createElement(u.Fragment,null)}let n=e.category,l=n?(0,H.sF)(n):null,i=!!n,s=this.getShelfContentIds(),o=this.state.resources.filter(e=>!("id"in e&&s.has(e.id))),c=this.state.shelves&&this.state.shelves.length>0?(0,z.o7)(this.state.shelves[0].shelf_content,e):[],d=e.tags,m=!!(null==d?void 0:d.length),_=e.query,p="string"==typeof _,{resourceType:g}=e,E=(i||m||p)&&this.hasLoadedFirstTimeForView&&0===this.state.resources.length&&0===c.length,v="";E&&(v=n||_||d.join(", ")||"");let{trackingContext:b,properties:y}=this.getTrackingProps();return u.createElement(et.fu,{name:b,properties:y},u.createElement(eN.S,null),u.createElement("div",{ref:e=>this.feedAppWrapper=e},l?u.createElement(eK,{category:r,categorySlug:l,isRedesignEnabled:!!t}):null,m&&u.createElement(ta,{tags:d,view:e}),(0,ee.OE)(e)&&u.createElement(tr,{query:e.query,view:e,error:this.state.searchError}),u.createElement("div",{className:f()(tn.IB,{[tn.j4]:t})},!t&&u.createElement(tc,{view:e,tagsFromResources:this.state.tags,resourceCounts:this.state.resourceCounts,history:this.props.history}),u.createElement("div",{className:f()(tn.hm,{[tn.u8]:t})},u.createElement(e5.T,{containerRef:this.filterControlsRef,filterState:ts(e),onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[ti[e]]=a}),this.props.history.replace((0,Z.MU)({...(0,Z.wl)(),...t})),this.resetScrollPosition()},context:(0,ee.OE)(e)?"search":t?"redesigned-category":"category"}),u.createElement("div",{ref:this.feedContentRef},E?u.createElement(B,{resourceType:g,query:v,view:e,isError:!!this.state.searchError}):u.createElement("div",{className:tn.E9},u.createElement(e6.J,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:(0,e6.K)(this.showFeedAsTable()?"rows":t?"normal":"compact"),resources:t?[...c,...o]:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:a()?T.lQ:()=>this.queryWithParamsAndUpdateState(),viewContext:"communityFeed"}))),a()?u.createElement(tp,{onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isLoading:this.state.isActivelyLoadingRequest,isMoreToFetch:this.isMoreToFetch()}):this.state.isActivelyLoadingRequest&&u.createElement(Y.y$,null),t&&u.createElement(eJ,{category:r}),a()&&!(0,h.y3)()&&u.createElement("div",{className:tn.xQ},u.createElement($.A,null))))))}}tg.displayName="FeedPage";class tE extends tg{componentDidMount(){this.queryWithParamsAndUpdateState(this.props.view)}render(){let{view:e,isFooterEnabled:t}=this.props;if(!e){if(z.FG)throw Error("This should never happen. Fastma should always have a `view`.");return u.createElement(u.Fragment,null)}return u.createElement(et.fu,{name:en.e0.COMMUNITY_HUB_LANDING},u.createElement(eN.S,null),u.createElement(ew,null),u.createElement("div",{ref:e=>this.feedAppWrapper=e},u.createElement("div",{className:tn.T6},u.createElement("div",{className:tn.hm},u.createElement("div",{className:tn.c7},u.createElement(tm,null)),this.state.shelves&&this.state.shelves.length>0&&u.createElement("div",{className:tn.c7},u.createElement("h2",{className:tn.m_},u.createElement(b.Tx,{id:"community.view_bar.discover_whats_new"}),u.createElement(et.L0,{className:tn.SI,trackingEventName:"community_collections",trackingProperties:{name:"see_all_cta_clicked"},href:"/community/collections"},u.createElement(b.Tx,{id:"community.curated_page.see_all"}))),u.createElement(ek.m9,{shelf:this.state.shelves[0],key:this.state.shelves[0].id,size:"half"}),u.createElement(ek.I8,{href:"https://www.figma.com/community-creators",title:(0,b.t)("community.shelves.fund_your_creativity"),subtitle:(0,b.t)("general.learn_more"),size:"half"})),u.createElement("h2",{className:tn.m_},u.createElement(b.Tx,{id:"community.landing_page.by_the_community_for_the_community"})),u.createElement(e5.T,{containerRef:this.filterControlsRef,filterState:ts(e),onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[ti[e]]=a}),this.props.history.replace((0,Z.MU)({...(0,Z.wl)(),...t})),this.resetScrollPosition()},context:"explore"}),u.createElement("div",{ref:this.feedContentRef,className:tn.s4},u.createElement(e6.J,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:(0,e6.K)(this.showFeedAsTable()?"rows":"normal"),resources:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:t()?T.lQ:()=>this.queryWithParamsAndUpdateState(),viewContext:"communityFeed"})),u.createElement(tp,{isLoading:this.state.isActivelyLoadingRequest,onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isMoreToFetch:this.isMoreToFetch()}),t()&&!(0,h.y3)()&&u.createElement("div",{className:tn.xQ},u.createElement($.A,null))))))}}var tf=a(99399),th=a(848680),tv=a(198181),tb=a(560990),ty=a(794120),tw=a(249064);function tT(){return(0,tv.M)()?u.createElement(tb.F,{SearchComponent:tf.M5,CommunityHeadingComponent:tC}):u.createElement(ty.p,null)}function tx(){let e=(0,p.W6)(),t=(0,Z.UH)(),a=t&&(0,Z.Jk)(t),r=(0,_.wA)(),n=(0,Q.o5)({isLoggedOut:!1}),l=(0,th.S)(),i=a?void 0:null==l?void 0:l.searchSessionId;return t?u.createElement("div",null,u.createElement(a?tE:tg,{view:t,history:e,dispatch:r,searchSessionId:i,isFooterEnabled:n})):(console.warn("This should never happen: ReactRouterFeedView called without a view."),null)}function tC(){let e=(0,p.zy)(),t=(0,v.G)(),a=()=>(0,Z.Li)(e.pathname)&&t,[r,n]=u.useState(a());return u.createElement(g.N_,{to:"/community",onMouseEnter:e=>{n(a())},className:f()(tw.Qw,{[tw.ar]:r,[tw.Ce]:!!h.eD}),onClick:a=>{(0,Z.Li)(e.pathname)&&!t&&(window.scrollTo({top:0,behavior:"smooth"}),a.preventDefault())}},u.createElement(b.Tx,{id:"navbar.navbar.community_title"}))}},607121:(e,t,a)=>{"use strict";a.d(t,{s:()=>w});var r=a(411855),n=a(188507),l=a(768137),i=a(799569),s=a(946689),o=a(493323),c=a(881388),d=a(939863),m=a(952540),u=a(6024),_=a(611978),p=a(860178),g=a(593803),E=a(267931),f=a(622139),h=a(237870),v=a(488578),b=a(978436),y=a(173067);let w=(0,h.Ju)(function(e){let t=(0,n.wA)(),a=(0,p.iZ)(),h=(0,_._6)(),w=(0,E.H)(),[T,x]=r.useState(""),[C,N]=r.useState(""),[k,S]=r.useState((0,f.EB)()),[I,A]=r.useState(""),[L,R]=r.useState(!0),[O,D]=r.useState(!1);return(0,u.G)(),r.createElement(v.aF,{className:"collect_tax_info_modal--container--F6VXQ"},r.createElement(i.s_,{dispatch:t}),r.createElement("div",{className:"collect_tax_info_modal--title--wFmJh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.title"})),r.createElement("div",{className:"collect_tax_info_modal--body--M1wrr text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.body"})),r.createElement("div",null,r.createElement(s.Lf,{value:T,htmlName:"firstName",label:(0,d.t)("community.seller.collect_tax_info_modal.first_name"),onChange:e=>{x(e.target.value)},trackingFieldName:"First name",dataTestId:"first-name"}),r.createElement(s.Lf,{value:C,htmlName:"lastName",label:(0,d.t)("community.seller.collect_tax_info_modal.last_name"),onChange:e=>{N(e.target.value)},trackingFieldName:"Last name",dataTestId:"last-name"}),r.createElement(b.X,{updateAddress:S,address:k,countryCodesOverride:g.qE,dontSeeYourCountryLink:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources#What_countries_are_supported?"}),r.createElement(y.A,{onChange:A,country:k.country,setIsVatIdValid:R,vatId:I,isCommunityCheckout:!0})),r.createElement(l.$$,{className:"collect_tax_info_modal--button--ZOQrQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{if(!a)return;if(!T){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_first_name")));return}if(!C){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_last_name")));return}let{line1:r,city:n,country:l,region:i,postal_code:s}=k;if(!r||!n||!l||!s||"US"===l&&!i){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_address")));return}if(I&&!L){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_vat_id")));return}D(!0),t(m.j({user:a,callback:t=>{e.setupStripeCallback(t),D(!1),t&&w()},selectedView:h,firstName:T,lastName:C,address:k,vatId:I}))}},r.createElement("div",{className:"collect_tax_info_modal--buttonContent--Nsj1d"},O&&r.createElement("div",{className:"collect_tax_info_modal--loadingIcon--iCbii"},r.createElement(o.kt,{shouldMatchTextColor:!0})),r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.continue_to_stripe"}))))},"CommunityCollectTaxInfoModal")},794120:(e,t,a)=>{"use strict";a.d(t,{p:()=>V});var r=a(411855),n=a(188507),l=a(563706),i=a(761870),s=a(195847),o=a(939863),c=a(776250),d=a(91408),m=a(697170),u=a(398977),_=a(981952),p=a(966712),g=a(574176),E=a(630949),f=a(209552),h=a(987981),v=a(976203),b=a(482075),y=a(913270),w=a(609271),T=a(742580),x=a(101505),C=a(140908),N=a(363659),k=a(672517),S=a(624538),I=a(951089),A=a(791418),L=a(410004),R=a(629850),O=a(860168),D=a(634809),F=a(257818),M=a(440248),P=a(227998);function B({onLoginClick:e=()=>(0,L.FL)(s.qB.SIGN_IN,{preventDefaultRedirect:!0}),onSignUpClick:t=()=>(0,L.FL)(s.qB.SIGN_UP)}){let a=r.useRef(null),n=(0,_.R)((0,d.jz)(O.wOr)),l=(0,y.wl)(location.pathname),i=(0,T.OE)(l),[B,U]=r.useState(!1),[W,V]=r.useState(i?l.query:""),G=n?M.A:F.A,[$,j]=r.useState(i),H=r.useCallback(()=>{V("")},[]),q=(0,v.j)(),Y=(0,N.Sc)(),z=(0,p.kc)().exp_google_one_tap_v2&&(0,C.XN)(Y),K="show-desktop"===q?(0,o.t)("community.search.placeholder"):(0,o.t)("community.search.placeholder.search_for_a_resource"),J="show-desktop"!==q||$?r.createElement("div",{className:"community_logged_out_nav--searchBox--bE4Wh",tabIndex:0,onFocus:()=>{null!==a.current&&a.current.focus()}},r.createElement(g.B,{svg:G}),r.createElement("div",{key:""+n,className:n?"community_logged_out_nav--inputBoxMobile--p4YRd community_logged_out_nav--inputBox--Te-W7":"community_logged_out_nav--inputBox--Te-W7"},r.createElement("input",{value:W,type:"text",placeholder:K,ref:a,onKeyUp:e=>{13===e.keyCode&&((0,c.sx)("search_enter_search_view_via_enter",{entry_point:"fastma"}),location.href=(0,y.Mc)({...y.qd,query:e.target.value.trim()}))},onChange:e=>V(e.target.value),onFocus:()=>{B||((0,c.sx)("search_start",{entry_point:"fastma"}),U(!0))},required:!0}),!!W.length&&r.createElement("div",{tabIndex:0,role:"button","aria-label":(0,o.t)("community.search.clear"),className:"community_logged_out_nav--closeButton--F5gRH community_logged_out_nav--_button--NRif5",onClick:()=>{V("")}},r.createElement(g.B,{svg:P.A})))):r.createElement("div",{className:E.cx.wFull.flex.justifyEnd.$,onClick:()=>{j(!0)},role:"button",tabIndex:0},r.createElement(g.B,{svg:G})),Q="show-desktop"===q&&window.innerWidth>800,Z=r.createElement(f.ms,{className:"community_logged_out_nav--searchInputDropdownWrapper--fLHQF dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",preview:W&&!i&&window.innerWidth>800&&r.createElement(h.G,{query:W,context:T.PF.NAV,width:Q?(0,d.jz)(O.TdR):void 0,clearSearchInput:H}),disableRepositioning:!0},"show-desktop"!==q&&J,"show-desktop"===q&&r.createElement("div",{className:E.cx.flex.flexRow.justifyEnd.$},r.createElement("div",{className:E.cx.flex.alignCenter.$,style:{minWidth:$?220:0}},J)));return r.createElement(r.Fragment,null,r.createElement("div",{className:"community_logged_out_nav--nav--HVdRr"},r.createElement("div",{className:E.cx.hidden.$},Array.from((0,b.IJ)().values()).filter(e=>"more"!==e).map(e=>r.createElement("a",{key:e,href:`/community/category/${e}`},e))),z&&r.createElement("div",{className:"community_logged_out_nav--oneTapContainer--rzpp4"},r.createElement(S.P,{origin:m.DT.COMMUNITY_FASTMA,iFrameHandler:e=>{(0,L.FL)(),(0,L.I9)({name:m.aL,userInfo:e,redirectUrl:u.Ay.location.pathname,origin:m.DT.COMMUNITY_FASTMA})}})),r.createElement("div",{className:E.cx.absolute.colorBg.zIndexMinus1.wFull.h48.bSolid.colorBorder.bb1.$}),r.createElement("div",{className:E.cx.flex.flexRow.mr4.$},r.createElement("div",{className:"community_logged_out_nav--logoLinkWrapper--a02iE"},r.createElement("a",{href:"/"},r.createElement(I.A,null))),"show-mobile"===q?r.createElement("div",{className:E.cx.flex.itemsCenter.$},r.createElement(A.p,null)):r.createElement("a",{href:"/community",className:"community_logged_out_nav--navCommunityText--WlcfX text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(g.B,{svg:D.A}),(0,o.t)("community.community"))),r.createElement("div",{className:"community_logged_out_nav--navbarCategorySearchContainer--eOYmR"},"show-desktop"===q&&r.createElement("div",{className:E.cx.hFull.flex1.$}),"show-desktop"===q&&r.createElement(R.J,null),r.createElement("div",{className:"show-desktop"===q?E.cx.flex1.hFull.flex.justifyEnd.$:E.cx.flex1.hFull.flex.justifyCenter.$},"show-desktop"===q?r.createElement("div",null,Z):Z)),r.createElement("div",{className:"community_logged_out_nav--authButtonContainer--RMKTV"},r.createElement(w.Ay,{mediaQuery:"(min-width: 601px)"},r.createElement(k.$z,{className:"community_logged_out_nav--logInButton---e3KN community_logged_out_nav--_button--NRif5 text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:x.c.LOGGED_OUT_NAV_LOGIN},onClick:e,type:"button"},(0,o.t)("community.signed_out_modal.log_in"))),r.createElement(k.$z,{className:"community_logged_out_nav--signUpButton--nn73B text--fontPos11--2LvXf text--_fontBase--QdLsd community_logged_out_nav--_button--NRif5",onClick:t,trackingProperties:{trackingDescriptor:x.c.LOGGED_OUT_NAV_SIGN_UP},type:"button"},(0,o.t)("community.signed_out_modal.sign_up")))))}var U=a(662275),W=a(344202);function V(){let e=(0,n.wA)();return r.createElement(B,{onLoginClick:()=>{if(l.rr){window.location.href="/login";return}let t=(0,o.t)("community.signed_out_modal.log_in");e(i.I.init({origin:"community_hub_signed_out_top_bar",formState:s.qB.SIGN_IN,redirectUrl:window.location.href})),e(U.to({type:W.x,data:{headerText:t}}))},onSignUpClick:()=>{if(l.rr){window.location.href="/signup";return}let t=(0,o.t)("community.signed_out_modal.create_an_account_to_join_the_figma_community");e(i.I.init({origin:"community_hub_signed_out_top_bar",formState:s.qB.SIGN_UP,redirectUrl:window.location.href})),e(U.to({type:W.x,data:{headerText:t}}))}})}},808521:(e,t,a)=>{"use strict";a.d(t,{r:()=>d});var r=a(411855),n=a(188507),l=a(574176),i=a(939863),s=a(63397),o=a(697551),c=a(950142);function d(){let e=(0,n.wA)(),t=(0,o.kc)();return(null==t?void 0:t.primary_user_id)?r.createElement(r.Fragment,null):r.createElement("div",{className:"admin_profile_banner--root--HDfDA"},r.createElement("span",{className:"admin_profile_banner--text--cpDIW text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},(null==t?void 0:t.org_id)?r.createElement(i.Tx,{id:"community.banner.browsing_community_as_the_current_profile_name_organization",profileName:null==t?void 0:t.name}):r.createElement(i.Tx,{id:"community.banner.browsing_community_as_the_current_profile_name_team",profileName:null==t?void 0:t.name})),r.createElement("div",{className:"admin_profile_banner--closeIconContainer--bm5wf",onClick:()=>{e((0,s.rO)())}},r.createElement(l.B,{svg:c.A,className:"admin_profile_banner--close--ib2wO"})))}},624618:(e,t,a)=>{"use strict";let r;a.d(t,{EV:()=>T,NY:()=>x,d:()=>N,dx:()=>w,vR:()=>b});var n=a(411855),l=a(188507),i=a(91408),s=a(946689);a(455057);var o=a(939863);a(226900);var c=a(709595),d=a(662275);a(782501);var m=a(269167),u=a(860178);a(99506);var _=a(555328),p=a(178787);a(354438),a(580999);var g=a(350913),E=a(596607),f=a(877655),h=a(860168),v=a(183846);function b(e){return n.createElement("div",{className:v.Xk},n.createElement("p",null,e.label),n.createElement(s.nR,{onClick:e.onClickDecline,className:v.LL},n.createElement(o.Tx,{id:"community.detail_view.decline"})),n.createElement(s.$$,{onClick:e.onClickAccept,className:v.LL},n.createElement(o.Tx,{id:"community.detail_view.accept"})))}(0,i.hG)(h.dOH);class y extends n.PureComponent{constructor(){super(...arguments),this.getSubjectBodyForResource=()=>(0,_.U)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_file"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_file_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.cU)(this.props.resource.id)})}:(0,_.xQ)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_widget"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_widget_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.ox)(this.props.resource.id)})}:{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_plugin"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_plugin_for_violating_the_plugin_guidelines_resource_url",{resourceUrl:(0,g.ab)(this.props.resource.id)})}}render(){let{resourceSubject:e,resourceBody:t}=this.getSubjectBodyForResource(),a=t;return a=`${a}${this.props.user?`
${(0,o.t)("community.reporting.my_figma_user_id_is_user_id",{userId:this.props.user.id})}`:""}
${(0,o.t)("community.reporting.add_your_description_here")}`,n.createElement(s.N_,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(a)}`,className:v.iZ,trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.report_resource"}))}}function w(){let e=(0,u.iZ)();return e?n.createElement(s.Ph,{className:v._1,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,c.jt)(e)},trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.report_resource"})):null}function T(e){let{user:t,name:a,monetizedResource:r}=e,i=(0,l.wA)();return n.createElement(s.Ph,{className:v._1,trackingEventName:"Detail View - Request Refund",onClick:()=>{i((0,d.to)({type:f.bX,data:{user:t,name:a,monetizedResource:r}}))},trusted:!0},n.createElement(o.Tx,{id:"community.buyer.request_refund"}))}function x(e){let t=(0,m.R$)(e.resource),a="Detail View - View Order Details",r=(0,o.t)("community.buyer.view_order_details");return(0,p.Uv)(e.resource.monetized_resource_metadata)&&(a="Detail View - Manage Subscription",r=(0,o.t)("community.buyer.manage_subscription")),n.createElement(s.Ph,{className:v._1,onClick:()=>t(),trackingEventName:a,trusted:!0},r)}(0,l.Ng)(e=>({hasOrgs:(0,E.Yj)(e),teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(y);var C=((r=C||{})[r.PROMO=0]="PROMO",r[r.PAID=1]="PAID",r);function N(e){return n.createElement(s.N_,{className:e.className,onClick:e.onClick,trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.remove_myself_as_creator"}))}},51055:(e,t,a)=>{"use strict";let r;a.d(t,{X:()=>O,b:()=>D});var n=a(411855),l=a(188507),i=a(776250),s=a(935283),o=a(574176),c=a(630949),d=a(939863),m=a(484525),u=a(799569),_=a(946689),p=a(449124),g=a(501114),E=a(99506),f=a(237870),h=a(814138),v=a(488578),b=a(126815);let y={listStyleType:"disc",marginLeft:"1.5em"};function w({securityFormResponse:e,isWidget:t}){return e.status===E.bQ.PENDING?n.createElement(p.z,{variant:"brand",orientation:"horizontal",iconSrc:b.A,dataTestId:"pending-response-banner"},n.createElement("div",{className:c.cx.preWrap.overflowBreakWord.$},(0,d.t)("community.detail_view.data_security_modal_pending",{date:e.updatedAt}))):e.status===E.bQ.APPROVED?n.createElement("div",{className:c.cx.gap4.flex.$},t?n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_badge_info_widget"}):n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_badge_info_plugin"})):e.status===E.bQ.REJECTED?n.createElement(p.z,{variant:"warning",orientation:"horizontal",iconSrc:b.A,dataTestId:"rejected-response-banner"},n.createElement("div",{className:c.cx.preWrap.overflowBreakWord.$},(0,d.t)("community.detail_view.data_security_modal_rejected",{date:e.updatedAt}))):null}let T=(0,f.Ju)(function({securityFormResponse:e,isWidget:t}){let a=(0,l.wA)(),r=n.createElement(_.Us,{href:"https://help.figma.com/hc/articles/16354660649495",target:"_blank",trusted:!0},n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_assessment_link"})),i=t?n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_explanation_widget",assessmentProgramLink:r}):n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_explanation_plugin",assessmentProgramLink:r});return n.createElement(v.aF,{size:600,title:(0,d.t)("community.detail_view.data_security")},n.createElement(u.s_,{dispatch:a}),n.createElement("div",{"data-testid":"program-explanation"},i),n.createElement("div",{className:c.cx.mt16.$},n.createElement(w,{securityFormResponse:e,isWidget:t})),n.createElement("div",{className:c.cx.pt24.$},n.createElement(x,{securityFormResponse:e})))},"DATA_SECURITY_MODAL");function x({securityFormResponse:e}){return n.createElement("div",{className:c.cx.colorBgSecondary.$},n.createElement("div",{className:c.cx.py4.px20.$},e.responses.map((e,t)=>{let a=function(e){if("text"===e.inputType)return[];for(let t of e.options)if(t.isSelected&&t.subQuestions)return t.subQuestions??[];return[]}(e);return n.createElement("div",{className:c.cx.mb24.$,key:`q-${t}`},n.createElement("div",{className:"data_security_modal--gridContainer--4yiTg"},e.prompt&&n.createElement(n.Fragment,null,n.createElement("div",{className:c.cx.fontSemiBold.$},(0,h.g)(C(e.prompt))," "),n.createElement("div",{className:c.cx.$},n.createElement(I,{question:e}))),(null==a?void 0:a.length)>0&&a.map((e,t)=>n.createElement(n.Fragment,{key:t},e.prompt?n.createElement("ul",{style:g.sx.add({listStyle:"disc",verticalAlign:"baseline"}).$},n.createElement("li",{className:c.cx.fontSemiBold.ml16.$},(0,h.g)(function(e){let t=e.indexOf("For example,");return -1!==t?e.substring(0,t):e}(C(e.prompt??""))))):n.createElement("div",{key:t}),n.createElement(I,{question:e})))))})))}function C(e){let t=/^\d+\./;return t.test(e)?e.replace(t,""):e}function N(e){let{value:t}=e;return n.createElement("div",{className:c.cx.flex.flexColumn.gap8.$},n.createElement("ul",{className:c.cx.italic.$},`"${t}"`))}function k(e){let{options:t}=e;return n.createElement("div",{className:c.cx.flex.flexColumn.gap16.$},n.createElement(n.Fragment,null,t.map((e,t)=>e.isSelected?n.createElement("div",{className:c.cx.flex.flexColumn.$,key:`option-${t}`},n.createElement("div",null,e.label)):null)))}function S(e){let{options:t}=e,a=t.filter(e=>e.isSelected);return 0===a.length?null:n.createElement("div",{className:c.cx.flex.flexColumn.gap16.$},n.createElement("ul",null,a.map((e,t)=>n.createElement("li",{key:`option-${t}`,style:a.length>1?y:void 0},n.createElement("div",{className:c.cx.flex.flexColumn.$,key:`option-${t}`},n.createElement("div",null,e.label))))))}function I(e){let{question:t}=e;switch(t.inputType){case"single_select":return n.createElement(k,{options:t.options});case"multi_select":return n.createElement(S,{options:t.options});case"text":return n.createElement(N,{value:t.value??""});default:(0,s.xb)(t)}}var A=a(662275),L=a(498606),R=a(132208),O=((r=O||{}).COMMUNITY_DETAIL="community_detail",r.ADMIN_REVIEW="admin_review",r.ADMIN_MANAGE="admin_manage",r);function D({securityFormResponse:e,entryPoint:t,isWidget:a}){let r=(0,l.wA)();if(!e)return null;let u=function(e,t){let{status:a,updatedAt:r}=e;return a===E.bQ.REJECTED?"admin_manage"===t?n.createElement("div",{className:c.cx.flex.gap4.$},n.createElement(d.Tx,{id:"community.badge.extension_security_updated_on",date:r}),n.createElement(o.B,{svg:R.A,"data-tooltip-type":L.Ib.SPECIAL,"data-tooltip":L.MW.EXTENSION_SECURITY_FORM_REJECTED,className:"extension_security_response--infoIcon--miNLG"})):null:a===E.bQ.APPROVED?n.createElement(d.Tx,{id:"community.badge.extension_security_approved"}):a===E.bQ.PENDING?"admin_manage"===t?n.createElement(d.Tx,{id:"community.badge.extension_security_updated_on",date:r}):n.createElement(d.Tx,{id:"community.badge.extension_security_pending"}):void(0,s.xb)(a)}(e,t);if(!u)return null;let _=e.status===E.bQ.REJECTED?n.createElement(m.D,null):n.createElement(m._,null);return n.createElement("div",{className:c.cx.flex.$,"data-testid":"extension-security-response-status"},n.createElement("div",{className:c.cx.flex.itemsStart.pt4.$},_),n.createElement("button",{className:"community_detail"===t?"extension_security_response--communitySecurityText--8N545 extension_security_response--extensionSecurityText--kCA-d":"extension_security_response--adminSecurityText--xRb4T extension_security_response--extensionSecurityText--kCA-d","data-testid":"extension-trust-security-response-button",onClick:()=>{r((0,A.to)({type:T,data:{securityFormResponse:e,isWidget:a}})),(0,i.sx)("Admin Plugin Review Modal",{entryPoint:t,isWidget:a,status:e.status,extensionId:e.pluginId,action:"Security form response status"})}},u))}},153054:(e,t,a)=>{"use strict";a.d(t,{o0:()=>g,tU:()=>f,FQ:()=>p});var r=a(411855),n=a(320063),l=a(939863),i=a(251960),s=a(849291),o=a(309798),c=a(397065),d=a(218997),m=a(15839),u=a(463546);let _="seen_community_devmode_filter_onboarding",p="editor_type_filter_clicked",g="community_feed_product_filter";function E(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"community_devmode_filter_onboarding--titleText--KExCB"},(0,l.t)("community.landing_page.devmode_filter_tooltip.title")),r.createElement("div",{className:"community_devmode_filter_onboarding--bodyText--v4Nma"},(0,l.t)("community.landing_page.devmode_filter_tooltip.description")))}function f(){let e=(0,s.e)({overlay:u.tUL,priority:c.N.DEFAULT_MODAL}),t=(0,o.f)(_);return((0,n.h)(()=>{t||e.show()}),(0,i.E)(e.uniqueId,[p],()=>{e.complete()}),e.isShowing)?r.createElement(d.h,{isShowing:e.isShowing,modalType:m.q3.POINTER,onboardingKey:g,trackingContextName:"Community Dev Mode Filter Onboarding",element:E,userFlagOnShow:_,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,width:250,shouldNotWrapInParagraphTag:!0}):null}},881816:(e,t,a)=>{"use strict";a.d(t,{F:()=>p,j:()=>f});var r=a(411855),n=a(320063),l=a(418956),i=a(939863),s=a(849291),o=a(582947),c=a(397065),d=a(340514),m=a(864114),u=a(493364),_=a(463546);let p="sc_team_creation_modal_onboarding_key",g="seen_sharing_clarity_team_creation_modal_overlay",E=(0,o.r1)(g);function f(){let e=(0,l.md)(E),{show:t,isShowing:a,complete:o}=(0,s.e)({overlay:_.jkr,priority:c.N.DEFAULT_MODAL},[e]);return(0,n.h)(()=>{t({canShow:e=>!e})}),r.createElement(d.rq,{isShowing:a,title:r.createElement(i.Tx,{id:"rcs.sharing_clarity.team_creation_modal_title"}),description:r.createElement("p",null,r.createElement(i.Tx,{id:"rcs.sharing_clarity.team_creation_modal_description"})),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:g,onClose:o,targetKey:p,arrowPosition:u.F_.LEFT_TITLE,zIndex:m.R.MODAL,emphasized:!0,disableHighlight:!0})}},638998:(e,t,a)=>{"use strict";a.d(t,{GY:()=>N,Jd:()=>C,E1:()=>x});var r=a(411855),n=a(627776),l=a(517333),i=a(398977),s=a(418956),o=a(588395),c=a(563706),d=a(630949),m=a(553015),u=a(629019),_=a.n(u),p=a(498750),g=a(860601),E=a(153234),f=a(551608),h=a(896474),v=a(809840),b=a(128646);let y=r.forwardRef(function(e,t){let{disabled:a,onClick:n,onMouseDown:l,onKeyDown:i,icon:s,recordingKey:o,children:c,onFocus:d,onBlur:m,width:u="hug-contents","data-tooltip":y,"data-tooltip-type":w,"data-onboarding-key":T,dataTestId:x}=e,C=E.rf(o,"click",n||g.lQ),N=o?C:n,k=E.rf(o,"mousedown",l||g.lQ),S=o?k:l,I=r.useCallback(e=>{var t;null!=(t=f.j)&&t(e)||(null==i||i(e),e.keyCode===p.Uz.ESCAPE&&e.currentTarget.blur())},[i]);return r.createElement("button",{disabled:a,onClick:N,onMouseDown:S,onKeyDown:I,className:function({width:t,children:a}){let r=["text_button_with_background_color-tsx--buttonBase--aMiMh button--buttonBase---72nl",(0,b.kx)(e.parentBackgroundColor)?"text_button_with_background_color-tsx--buttonTextForDarkBackground---DUZy":"text_button_with_background_color-tsx--buttonTextForLightBackground--5BUY7"];switch(a||r.push("text_button_with_background_color-tsx--withNoChildren--bAfQ9"),t){case"hug-contents":r.push("text_button_with_background_color-tsx--buttonHugContents--jzcD-");break;case"fill-parent":r.push("text_button_with_background_color-tsx--buttonFillParent--dy7qN")}return _()(r)}({width:u,children:c}),onFocus:d,onBlur:m,ref:t,"data-tooltip":y,"data-tooltip-type":w,"data-onboarding-key":T,"data-testid":x},s&&r.createElement("div",{className:"text_button_with_background_color-tsx--iconContainer--mtIlp"},r.createElement(h.In,{icon:s})),c&&r.createElement(v.E,{fontSize:11,fontWeight:"regular",truncate:!0},c))});function w(e){let t=t=>{if(t.target instanceof HTMLInputElement)return;let a=c.Ay.mac&&t.metaKey&&!t.shiftKey&&!t.altKey||c.Ay.windows&&!t.metaKey&&!t.shiftKey&&t.altKey;c.Ay.mac&&e.isLeftEnabled&&"["===t.key&&a?e.onLeftClick():c.Ay.mac&&e.isRightEnabled&&"]"===t.key&&a?e.onRightClick():e.isLeftEnabled&&"ArrowLeft"===t.key&&a?e.onLeftClick():e.isRightEnabled&&"ArrowRight"===t.key&&a&&e.onRightClick()};r.useEffect(()=>(window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}));let a={icon:"chevron-left-32",variant:"text",disabled:!e.isLeftEnabled,onClick:e.onLeftClick,dataTestId:"file-browser-desktop-navigation-chevrons-left"},n={icon:"chevron-right-32",variant:"text",disabled:!e.isRightEnabled,onClick:e.onRightClick,dataTestId:"file-browser-desktop-navigation-chevrons-right"};return e.parentBackgroundColor?r.createElement("div",{className:d.cx.flex.flexRow.$},r.createElement(y,{parentBackgroundColor:e.parentBackgroundColor,...a}),r.createElement(y,{parentBackgroundColor:e.parentBackgroundColor,...n})):r.createElement("div",{className:d.cx.flex.flexRow.$},r.createElement(m.$,{...a}),r.createElement(m.$,{...n}))}var T=a(127113);function x(){let e=(0,s.md)(o.b);return(!!l.eD||(0,n.ce)())&&!e}function C({parentBackgroundColor:e}){let{goBack:t,goForward:a,canGoBack:n,canGoForward:l}=(0,T.Y)();return r.createElement(w,{onLeftClick:t,onRightClick:a,isLeftEnabled:n,isRightEnabled:l,parentBackgroundColor:e})}function N({parentBackgroundColor:e}){let[t,a]=r.useState(0),[n,l]=r.useState(0);return r.useEffect(()=>i.Ay.listen(e=>{"PUSH"===e&&(a(e=>e+1),l(e=>e+1))}),[]),r.createElement(w,{onLeftClick:()=>{i.Ay.back(),a(e=>e-1)},onRightClick:()=>{i.Ay.forward(),a(e=>e+1)},isLeftEnabled:t>0,isRightEnabled:t<n,parentBackgroundColor:e})}},502614:(e,t,a)=>{"use strict";a.d(t,{i:()=>f});var r=a(411855),n=a(188507),l=a(776250),i=a(939863),s=a(662275),o=a(115826),c=a(697551),d=a(611978),m=a(860178),u=a(555328),_=a(368361),p=a(746806),g=a(63666);let E="community_universal_publish_button--publishContextAction--tVL00 action--root--VrwWJ chevron--chevronContainer--0MO2x";function f(){let e=(0,n.wA)(),t="CommunityUniversalPublishButtonTooltipKey",a=(0,m.Pc)(),f=(0,n.d4)(e=>!e.currentUserOrgId||!!(0,c.Tm)(e)[e.currentUserOrgId]),[h,v]=r.useState(!1),b=r.useRef(),y=(0,d._6)();return f?r.createElement("div",{className:E},r.createElement("div",{className:"subView"in y&&("hubFile"===y.subView||"plugin"===y.subView||"widget"===y.subView)?"community_universal_publish_button--publishButton__DARK---hRGw community_universal_publish_button--publishButton--DVld4":"community_universal_publish_button--publishButton--DVld4",role:"button",tabIndex:0,onClick:()=>{(0,l.sx)("community_publish_modal",{user:a.id,step:o.M.OPENED}),e(s.to({type:_.R,data:{source:u.Zm.NAVBAR}}))}},r.createElement(i.Tx,{id:"navbar.navbar.publish_button_label"}))):r.createElement("div",{className:E,"data-onboarding-key":t,onMouseEnter:()=>{b.current&&clearTimeout(b.current),v(!0)},onMouseLeave:()=>{b.current=setTimeout(()=>v(!1),300)}},r.createElement("div",{className:"community_universal_publish_button--publishButtonDisabled--Q-O8h community_universal_publish_button--publishButton--DVld4",role:"button",tabIndex:0},r.createElement(i.Tx,{id:"navbar.navbar.publish_button_label"})),h&&r.createElement(g.NJ,{targetKey:t,width:264,className:"community_universal_publish_button--disabledPublishButtonTooltip--TsDUX pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:p.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, #000)"},r.createElement("div",null,r.createElement(i.Tx,{id:"navbar.navbar.disabled_publish_button_label"}))))}},355039:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var r=a(411855),n=a(188507),l=a(574176),i=a(939863),s=a(22863),o=a(738269),c=a(672517),d=a(697551),m=a(195907),u=a(320063),_=a(418956),p=a(860601),g=a(107877),E=a(251960),f=a(849291),h=a(723239),v=a(582947),b=a(397065),y=a(218997),w=a(15839),T=a(463546);let x=(0,v.r1)(m.PY);function C(){let e=(0,_.md)(h.GQ),t=(0,_.md)(x),a=(0,f.e)({overlay:T.c6t,priority:b.N.SECONDARY_MODAL},[t]);return(0,u.h)(()=>{e&&a.show({canShow:e=>!e})}),(0,E.E)(a.uniqueId,[g.W_.PROFILE_ADMIN_MENU_OPEN,"Lost DOM Target"],()=>{a.isShowing&&a.complete()}),r.createElement(y.h,{isShowing:a.isShowing,trackingContextName:"Community Profile Admin Dropdown Pointer",element:m.J6,userFlagOnShow:m.PY,modalType:w.q3.SELF_CONTAINED,onClickPrimaryCta:p.lQ,onClose:a.complete,onManualDismiss:a.complete})}var N=a(402609);function k(){return r.createElement(r.Fragment,null,r.createElement(N.p,null,r.createElement(C,null)))}var S=a(149051),I=a(783423);function A(){let e=(0,n.wA)(),t=(0,d.kc)(),a=(0,n.d4)(e=>(0,s.m)(e,e.authedActiveCommunityProfile)),u=(0,n.d4)(e=>e.selectedView.view),_=r.useRef(null),p=(0,n.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===S.hL});return t?r.createElement(c.fu,{name:"community-profile-admin-dropdown"},r.createElement("div",{className:"profile_admin_context--profileContextAction--C2jJh action--root--VrwWJ chevron--chevronContainer--0MO2x",onClick:()=>{var t;let a=null==(t=_.current)?void 0:t.getBoundingClientRect();a&&!p&&((0,d.nR)("toolbar",u),e(o.j7({type:S.hL,data:{targetRect:a}})))}},r.createElement("div",{className:"profile_admin_context--profileContextDropdown---KKRL"},(0,d.cs)(t)?r.createElement(i.Tx,{id:"navbar.navbar.browse_as_community_profile",activeCommunityProfile:a}):r.createElement(i.Tx,{id:"navbar.navbar.browse_as_admin"}),r.createElement("div",{className:"profile_admin_context--profileContextChevron--ntSvM profile_admin_context--chevronContainer--MDHO4","data-onboarding-key":m.T2,ref:_},r.createElement(l.B,{className:"profile_admin_context--profileChevronIcon--W9t-M",svg:I.A}))),r.createElement(S.Lo,null),r.createElement(k,null))):null}},920392:(e,t,a)=>{"use strict";let r,n;a.d(t,{WR:()=>ej});var l=a(411855),i=a(188507),s=a(776250),o=a(499737),c=a(946689),d=a(827586),m=a(630949),u=a(939863),_=a(392592),p=a(175290),g=a(553015),E=a(809840),f=a(662275),h=a(520863),v=a(279453),b=a(94894),y=a(261609),w=a(350913),T=a(237870),x=a(585878),C=a(358145),N=a(671072),k=a(449124),S=a(32863),I=a(67294),A=a(463592),L=a(213100),R=a(488578);let O=(0,T.Ju)(function({extensionName:e,onConfirm:t,orgName:a,extensionType:r}){return l.createElement(R.Rw,{confirmationTitle:l.createElement(E.E,{fontWeight:"semi-bold",i18nId:"resources_tab.extension_revoke_modal.title",i18nParams:{extensionName:e}}),confirmText:(0,u.t)("resources_tab.extension_revoke_modal.confirmation_button"),onConfirm:t,popStack:!0},l.createElement(E.E,{i18nId:"widget"===r?"resources_tab.extension_revoke_modal.body.widget":"resources_tab.extension_revoke_modal.body.plugin",i18nParams:{orgName:l.createElement(E.E,{fontWeight:"semi-bold"},a)}}))},"EXTENSION_ALLOWLIST_REVOKE_CONFIRMATION_MODAL");var D=a(126815);let F=new A.Ef([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0});function M(e){let{requesters:t}=e;if(!t||0===t.length)return null;let a=null;return a=1===t.length?l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.one",i18nParams:{requesterName:t[0].name}}):2===t.length?l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.two",i18nParams:{requesterName1:t[0].name,requesterName2:t[1].name}}):l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.many",i18nParams:{requesterName:t[0].name,numOthers:t.length-1}}),l.createElement("div",{className:m.cx.flex.gap4.$},l.createElement(N.u,{avatarSize:I.Pf.SMALL16,users:t,totalNum:t.length,numAvatarsToDisplay:3}),a)}function P({extension:e,org:t,onNavigateBack:a,mode:r,requests:n}){let s=(0,i.wA)(),{id:o}=e,c=e.isWidget?"widget":"plugin",p=l.useMemo(()=>{let e=new Map;return n.forEach(t=>{if(!t.orgUser||!t.workspaceId)return;let a=t.workspaceId,{workspaceUsers:r,user:n}=t.orgUser;if(!r)return;let l={name:n.name??"",imgUrl:n.imgUrl,id:n.id,handle:n.handle},i=e.get(a);i?i.push(l):e.set(a,[l])}),e},[n]),[h,v]=l.useState(t.isPluginAllowlisted),w=(0,C.Z)(h),T=l.useMemo(()=>n.some(e=>null===e.workspaceId),[n]),x=(0,l.useCallback)(()=>(t.workspaces??[]).reduce((e,t)=>(e[t.id]=!!h||t.isPluginAllowlisted,e),{}),[t.workspaces,h]),[N,I]=l.useState(x()),[A,R]=l.useState(null);l.useEffect(()=>{void 0!==w&&w!==h&&(h?(A||R(N),I(e=>Object.fromEntries(Object.entries(e).map(([e])=>[e,h])))):A?(I(A),R(null)):I(e=>Object.fromEntries(Object.entries(e).map(([e])=>[e,!1]))))},[x,N,h,A,w]);let[P,B]=l.useState(""),U=l.useMemo(()=>{let e=t.workspaces??[];return""===P?e:(F.set(e),F.search(P))},[P,t.workspaces]),W=async()=>{let e=[],a=[];for(let[t,r]of Object.entries(N)){let n=U.find(e=>e.id===t);n&&(r&&!n.isPluginAllowlisted&&e.push(t),!r&&n.isPluginAllowlisted&&a.push(t))}let r=[];!h&&e.length>0&&r.push(b.X.enableExtensionForWorkspaces({orgId:t.id,extensionId:o,extensionType:c,workspaceIds:e})),a.length>0&&r.push(b.X.disableExtensionForWorkspaces({orgId:t.id,extensionId:o,extensionType:c,workspaceIds:a})),h!==t.isPluginAllowlisted&&r.push(h?b.X.enableExtensionForOrg({orgId:t.id,extensionId:o,extensionType:c}):b.X.disableExtensionForOrg({orgId:t.id,extensionId:o,extensionType:c}));try{await Promise.all(r),s(f.Lo())}catch{s(_.F.enqueue({error:!0,message:(0,u.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))}},V=l.useMemo(()=>h!==t.isPluginAllowlisted||Object.entries(N).some(([e,a])=>{var r;let n=null==(r=t.workspaces)?void 0:r.find(t=>t.id===e);return(null==n?void 0:n.isPluginAllowlisted)!==a}),[h,t.isPluginAllowlisted,t.workspaces,N]),G=l.useMemo(()=>h||Object.values(N).some(e=>e),[h,N]),$=l.useMemo(()=>h?[]:Object.entries(N).filter(([,e])=>e).map(([e])=>e),[N,h]);return l.createElement("div",{className:m.cx.flex.flexColumn.hFull.$},l.createElement("div",{className:m.cx.px8.py4.flex.itemsCenter.bb1.bSolid.colorBorder.$},l.createElement("div",{className:m.cx.wFull.flex.itemsCenter.$},l.createElement("div",{className:m.cx.wFull.flex.itemsCenter.gap4.$},l.createElement(g.$,{icon:"chevron-left-32",onClick:a,variant:"text"}),l.createElement(E.E,{i18nId:"plugin"===c?"resources_tab.approved_plugins.modal.approve_plugin":"resources_tab.approved_plugins.modal.approve_widget"})),l.createElement(S.kq,{onChange:B,focusOnMount:!1,query:P,clearSearch:()=>B(""),hideXIcon:!0,placeholder:(0,u.t)("resources_tab.approved_plugins.modal.search_workspaces"),smallFont:!0}))),l.createElement("div",{className:m.cx.flex.itemsCenter.px16.h48.bb1.colorBorder.bSolid.gap8.$},l.createElement("div",{className:m.cx.p8.$},l.createElement(L.l,{on:h,onChange:()=>{v(e=>!e)},dataTestId:"org-allowlist-toggle"})),l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.allow_for_all_files_and_drafts_in_org_workspaces",i18nParams:{orgName:t.name}})),!h&&T&&l.createElement("div",{className:m.cx.px16.pt16.$},l.createElement(k.z,{dataTestId:"plugin-request-from-drafts-warning",variant:"warning",orientation:"vertical",iconSrc:D.A},"plugin"===c?(0,u.t)("resources_tab.approved_plugins.modal.individual_workspaces_approval_warning"):(0,u.t)("resources_tab.approved_widgets.modal.individual_workspaces_approval_warning"))),l.createElement(d.P,{className:m.cx.flexGrow1.$},l.createElement("div",{className:m.cx.py8.if(h,m.cx.opacity0_5.eventsNone).$},U.map(e=>l.createElement("div",{key:e.id,className:m.cx.px16.h48.flex.itemsCenter.gap8.$},l.createElement("div",{className:m.cx.p8.$},l.createElement(L.l,{dataTestId:`workspace-allowlist-toggle-${e.id}`,on:N[e.id],onChange:()=>I(t=>({...t,[e.id]:!t[e.id]}))})),l.createElement("div",{className:m.cx.flex.flexColumn.gap4.$},l.createElement(E.E,null,e.name),l.createElement(M,{requesters:p.get(e.id)})))))),l.createElement("div",{className:m.cx.flex.itemsCenter.p16.bt1.colorBorder.bSolid.gap8.justifyEnd.$},"review"===r&&l.createElement(l.Fragment,null,l.createElement(g.$,{onClick:a},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.cancel"})),l.createElement(g.$,{variant:"primary",onClick:()=>{let e=()=>{s(_.F.enqueue({error:!0,message:(0,u.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))};try{W().then(()=>{let e={orgId:t.id,extensionId:o,extensionType:c};if(0===$.length){y.J.approveRequestForOrg(e);return}y.J.updateRequestForWorkspaces({...e,approvedWorkspaceIds:$})}).catch(e)}catch(t){e()}},disabled:!G,dataTestId:"approve-button"},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.approve"}))),"manage"===r&&l.createElement(l.Fragment,null,l.createElement(g.$,{onClick:a},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.back"})),l.createElement(g.$,{variant:"primary",onClick:()=>{var a;if(!h&&0===$.length){s((0,f.to)({type:O,data:{extensionName:(null==(a=e.currentPluginVersion)?void 0:a.name)??"",orgName:t.name,extensionType:c,onConfirm:()=>{W()}},showModalsBeneath:!0}));return}W()},dataTestId:"save-changes-button",disabled:!V},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.save_changes"})))))}var B=a(574176),U=a(860601),W=a(330654),V=a(268537),G=a(396226),$=a(694687),j=a(300874),H=a(977468),q=a(884129);let Y="extension_usage_data--dropdown--Hx6wX";var z=a(112512),K=((r=K||{}).LastWeek="Last Week",r.LastMonth="Last Month",r.LastYear="Last Year",r);let J={usage_windows:{"Last Week":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""},"Last Month":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""},"Last Year":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""}}},Q={usage_windows:{"Last Week":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""},"Last Month":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""},"Last Year":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""}}},Z=new Map([["Last Week",l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.past_7_days",key:"Last Week"})],["Last Month",l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.past_30_days",key:"Last Month"})],["Last Year",l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.past_year",key:"Last Year"})]]);function X({users:e,showUpsell:t,extensionType:a}){let r=(0,i.wA)(),n=e.sort((e,t)=>e.org_rank-t.org_rank),o=l.createElement(c.CY,{onClick:()=>{r((0,f.to)({type:q.DV,data:{team:null,resource:"widget"===a?j.Bi.WIDGET_ANALYTICS:j.Bi.PLUGIN_ANALYTICS,currentPlan:G.F.Plan.ORG,upsellPlan:G.F.Plan.ENTERPRISE,editorType:null}})),(0,s.sx)("Admin Plugin Review Modal",{action:"Upgrade to Enterprise"})},trusted:!0,target:"_blank","data-testid":"upgrade-to-enterprise-link"},l.createElement(E.E,{fontSize:11,i18nId:"resources_tab.extension_usage_data.upgrade_enterprise_link"})),d="widget"===a?l.createElement(E.E,{fontSize:11},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.upgrade_enterprise_widgets",upgradeLink:o})):l.createElement(E.E,{fontSize:11},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.upgrade_enterprise_plugins",upgradeLink:o}));return l.createElement(l.Fragment,null,l.createElement("div",{className:m.cx.flex.flexColumn.$,style:t?{WebkitMaskImage:"linear-gradient(0deg, transparent, var(--color-bg))"}:{}},n.map(e=>{let a={id:e.user_id,name:e.user_name,img_url:e.img_url};return l.createElement("div",{className:m.cx.pt16.flex.justifyBetween.alignCenter.itemsCenter.$,key:e.user_id},l.createElement("div",{className:m.cx.flex.breakWord.alignLeft.itemsCenter.pr8.gap8.$},!t&&l.createElement(I.H8,{user:a,size:I.Pf.MEDIUM}),t&&l.createElement(H.Ro,{entity:{}}),l.createElement(E.E,{fontSize:11,fontWeight:"medium"},e.user_name)),t&&l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.placeholder_runs"}),!t&&l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.runs",i18nParams:{numberOfRuns:e.n_extension_actions}}))})),t&&l.createElement("div",{className:m.cx.mt16.px16.py16.bRadius4.colorBgSecondary.breakWord.$},d))}function ee({workspaces:e}){let t;let a=W.record(W.string(),W.number());try{t=a.parse(JSON.parse(e))}catch(e){t={}}let r=Object.keys(t);return l.createElement("div",{className:m.cx.flex.flexColumn.pl16.pr16.$},r.map(e=>l.createElement("div",{key:e,className:m.cx.pt16.breakWord.alignLeft.pr8.$},l.createElement(E.E,{fontSize:11},e))))}var et=((n=et||{})[n.Users=0]="Users",n[n.Workspaces=1]="Workspaces",n);function ea(e){let t=(0,$.sZ)(),a=!(null==t?void 0:t.bigma_enabled),r=e.usageData||(a?Q:J),{extensionType:n}=e,[i,s]=l.useState(0),[o,d]=l.useState(!1),_=[l.createElement(V.W.Option,{key:0,onClick:()=>s(0),recordingKey:"userViewOption"},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.users"})),l.createElement(V.W.Option,{key:1,onClick:()=>s(1),recordingKey:"workspaceViewOption"},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.workspaces"}))],[p,g]=l.useState("Last Week"),[f,h]=l.useState(!1),v=r.usage_windows[p],b=[];for(let[e,t]of Z.entries())b.push(l.createElement(V.W.Option,{key:e,onClick:()=>g(e)},t));let y=0!==v.n_extension_actions||0!==v.n_extension_users||a,w=l.createElement(l.Fragment,null,l.createElement("div",{className:m.cx.wFull.bb1.bSolid.colorBorder.$}),0===i&&l.createElement(X,{users:v.top_org_users,showUpsell:a,extensionType:n}),1===i&&l.createElement(ee,{workspaces:v.workspaces_extensions_used_on}));return l.createElement("div",{className:m.cx.hFull.py8.px16.$,"data-testid":"extension-usage-data"},l.createElement("div",{className:m.cx.flex.justifyBetween.py8.$},l.createElement("div",{className:m.cx.block.$},l.createElement(c.u4,{defaultClass:"",onClick:()=>h(!f),dataTestId:"usage-window-dropdown"},Z.get(p),l.createElement(B.B,{svg:z.A,className:m.cx.colorIconSecondary.inlineBlock.pl8.$})),f&&l.createElement(V.W.Dropdown,{className:Y,onClick:()=>h(!1)},b)),l.createElement("div",{className:m.cx.block.$},l.createElement(c.u4,{defaultClass:"",onClick:a?U.lQ:()=>d(!o),dataTestId:"user-workspace-dropdown"},0===i?l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.users"}):l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.workspaces"}),!a&&l.createElement(B.B,{svg:z.A,className:m.cx.colorIconSecondary.inlineBlock.pl8.$})),o&&l.createElement(V.W.Dropdown,{className:Y,onClick:()=>d(!1)},_))),l.createElement("div",{className:m.cx.flex.pt16.pb16.wFull.justifyBetween.$},l.createElement("div",{className:m.cx.w16.$}),l.createElement("div",{className:m.cx.flex.flexColumn.alignCenter.$},l.createElement("div",{"data-testid":"total-num-runs"},l.createElement(E.E,{fontSize:14,fontWeight:"semi-bold"},a?"--":v.n_extension_actions)),l.createElement("div",null,l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.total_runs"}))),l.createElement("div",{className:m.cx.flex.flexColumn.alignCenter.$},l.createElement("div",{"data-testid":"total-num-users"},l.createElement(E.E,{fontSize:14,fontWeight:"semi-bold"},a?"--":v.n_extension_users)),l.createElement("div",null,l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.users"}))),l.createElement("div",{className:m.cx.w16.$})),y&&w)}var er=a(564577),en=a(860178),el=a(498606);function ei({log:e,index:t,noteType:a}){var r,n,s;let o,c;let d=(0,i.wA)(),p=(0,l.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),(async e=>{try{await navigator.clipboard.writeText(e)}catch(e){throw d(_.F.enqueue({message:`Could not copy email: ${e.message}`,error:!0})),e}})(t).then(()=>{d(_.F.enqueue({message:`Copied ${t}`}))}).catch(()=>{})},[d]);try{o=JSON.parse(e.metadata)}catch{return null}let g="request"===a?o.requester_note:o.decline_note,f=o.workspace_name??"",h={id:e.actorId??"",name:(null==(r=e.actor)?void 0:r.name)??"",imgUrl:(null==(n=e.actor)?void 0:n.imgUrl)??""},v=(null==(s=e.actor)?void 0:s.email)??"",b=0===t?m.cx.flex.flexColumn.pb16.$:m.cx.flex.flexColumn.pb16.pt16.bt1.colorBorder.bSolid.$;switch(a){case"approve":c=f?(0,u.t)("extension_decline_modal.approved_access_workspace",{workspace:f}):(0,u.t)("extension_decline_modal.approved_access_org");break;case"decline":c=(0,u.t)("extension_decline_modal.declined_request");break;case"revoke":c=f?(0,u.t)("extension_decline_modal.revoked_access_workspace",{workspace:f}):(0,u.t)("extension_decline_modal.revoked_access_org");break;case"add":c=f?(0,u.t)("extension_decline_modal.add_access_workspace",{workspace:f}):(0,u.t)("extension_decline_modal.add_access_org");break;default:c=""}return l.createElement("div",{className:b},l.createElement("div",{className:m.cx.flex.flexRow.itemsCenter.gap8.$},l.createElement(I.H8,{user:h,size:I.Pf.MEDIUM}),l.createElement("div",{role:"button",tabIndex:0,className:m.cx.noWrap.overflowHidden.ellipsis.cursorPointer.$,"data-tooltip-type":el.Ib.TEXT,"data-tooltip":v,"data-tooltip-show-immediately":!0,onMouseDown:e=>p(e,v)},l.createElement(E.E,{fontSize:11,fontWeight:"medium"},h.name)),l.createElement("div",{className:m.cx.noWrap.$},l.createElement(E.E,{fontSize:11,color:"secondary"},l.createElement(er.h1,{date:e.createdAt})))),l.createElement("div",{className:m.cx.ml32.mt4.overflowBreakWord.$},l.createElement(E.E,{fontSize:11,color:"secondary"},c)),g&&l.createElement("div",{className:m.cx.ml32.mt4.overflowBreakWord.$},l.createElement(E.E,{fontSize:11,color:"default"},g)))}function es(e){let{orgId:t,extensionId:a}=e,r=(0,o.Rs)(v.WIy,{userId:(0,en.TA)(),actedOnIdOrKey:a,orgId:t}),n=("loaded"===r.status&&r.data.org?r.data.org.activityLogByActedOnId:[]).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i=(e,t)=>{let a=e.eventName;return a.endsWith("_request_org")||a.endsWith("_request_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"request"}):a.endsWith("request_approve_org")||a.endsWith("request_approve_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"approve"}):a.endsWith("_add")||a.endsWith("_add_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"add"}):a.endsWith("_request_reject_org")||a.endsWith("_request_reject_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"decline"}):a.endsWith("_remove")||a.endsWith("_remove_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"revoke"}):void 0};return l.createElement(d.P,{className:m.cx.hFull.flex.flexColumn.p16.gap16.$},l.createElement("div",{"data-testid":"extension-request-sidebar"},n.map((e,t)=>i(e,t))))}var eo=a(339290);function ec(e){let t;let{numWorkspaces:a,isOrgAllowlisted:r}=e;return(r?t=l.createElement(E.E,{fontSize:11,fontWeight:"regular",color:"success",i18nId:"resources_tab.approved_plugins.table.approved_for_all_workspaces"}):a>0&&(t=l.createElement(E.E,{fontSize:11,fontWeight:"regular",color:"success",i18nId:"resources_tab.approved_plugins.table.approved_for_workspace",i18nParams:{numWorkspaces:a}})),t)?l.createElement("div",{className:m.cx.colorBg.py12.px16.flex.flexRow.gap8.bb1.bSolid.colorBorder.$},l.createElement(B.B,{width:"16px",height:"16px",svg:eo.A,className:"extension_allowlist_modal_sidebar--greenCheck--xyE7X"}),t):null}function ed(e){let{isAllowed:t,usageData:a,numWorkspaces:r,extensionType:n,isOrgAllowlisted:i,orgId:o,extensionId:c}=e,[d,u]=(0,l.useState)("requests");return l.createElement("div",{className:m.cx.hFull.wFull.flex.flexColumn.bl1.bSolid.colorBorder.$},l.createElement("div",{className:m.cx.colorBg.py12.px16.flex.flexRow.gap16.bb1.bSolid.colorBorder.$},l.createElement("button",{onClick:()=>u("requests")},l.createElement(E.E,{fontSize:11,fontWeight:"medium",color:"requests"===d?"default":"secondary",i18nId:"resources_tab.extension_request_sidebar.requests"})),t&&l.createElement("button",{onClick:()=>{u("usage"),(0,s.sx)("Admin Plugin Review Modal",{action:"Extension usage tab"})},"data-testid":"extension-usage-tab"},l.createElement(E.E,{fontSize:11,fontWeight:"medium",color:"usage"===d?"default":"secondary",i18nId:"resources_tab.extension_usage_data.usage"}))),l.createElement(ec,{numWorkspaces:r,isOrgAllowlisted:i}),"requests"===d?l.createElement(es,{orgId:o,extensionId:c}):l.createElement(ea,{usageData:a,extensionType:n}))}var em=a(563042),eu=a(96328),e_=a(751297),ep=a(766648),eg=a(756085),eE=a(965270),ef=a(51055);function eh({mode:e,extension:t,securityFormResponse:a}){let{currentPluginVersion:r}=t;if(!r)return null;let n=(0,eu.$M)(t.installCount),i=r.name??"",s=r.description??"";return l.createElement("div",{className:m.cx.flex.flexColumn.gap16.p16.$,"data-testid":"extension-allowlist-overview-section"},l.createElement("div",{className:m.cx.flex.flexColumn.gap8.$},l.createElement(E.E,{fontSize:13,fontWeight:"semi-bold",truncate:"end"},i),l.createElement("div",{className:m.cx.flex.gap4.$},l.createElement(eb,{plugin:t}),"review"===e&&l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.user_count",i18nParams:{count:n}}))),l.createElement("img",{alt:"extension cover",src:r.coverImageUrl,className:m.cx.wFull.bRadius4.$}),l.createElement(ev,{description:s}),l.createElement("div",{className:m.cx.flex.flexColumn.gap16.$},l.createElement(ew,{extension:t,securityFormResponse:a,entryPoint:"review"===e?ef.X.ADMIN_REVIEW:ef.X.ADMIN_MANAGE}),l.createElement(eT,{extension:t})))}function ev({description:e}){let t=l.useRef(null),[a,r]=l.useState(!1),[n,i]=l.useState(!1);return l.useLayoutEffect(()=>{t.current&&r(t.current.isTruncated)},[e]),l.createElement("div",{className:m.cx.flex.flexColumn.$},n?l.createElement(E.E,{ref:t},(0,em.$J)(e).trim()):l.createElement(E.E,{truncate:"line-clamp",lineClamp:3,ref:t,showTooltipWhenTruncated:!1},(0,em.$J)(e).trim()),a&&l.createElement(c.CY,{trusted:!0,onClick:()=>i(e=>!e)},n?(0,u.t)("resources_tab.approved_plugins.modal.show_less"):(0,u.t)("resources_tab.approved_plugins.modal.show_more")))}function eb({plugin:e}){let t=l.useMemo(()=>(e.communityPublishers??[]).map(e=>e.profile).filter(e=>null!=e).map(e=>{let t=function(e){switch(e.entityType){case"user":return e.user;case"team":return e.team;case"org":return e.org;default:return null}}(e);return{id:e.id,badges:[],profile_handle:e.profileHandle,img_urls:{},name:(null==t?void 0:t.name)??"",img_url:(null==t?void 0:t.imgUrl)??""}}),[e.communityPublishers]);return l.createElement("div",{className:m.cx.flex.gap8.$},l.createElement(ep.Lf,{publishers:t,size:16}),l.createElement(ey,{profiles:t}))}function ey({profiles:e}){let[t,a,...r]=e;return t?a?0===r.length?l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_two_creators",i18nParams:{creator1:t.name,creator2:a.name}}):l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_multiple_creators",i18nParams:{creator1:t.name}}):l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_single_creator",i18nParams:{creator:t.name}}):null}function ew({extension:e,securityFormResponse:t,entryPoint:a}){let{currentPluginVersion:r}=e,n=l.useMemo(()=>{let e=null==r?void 0:r.manifest;if(e)return(0,eg.qT)(e)},[null==r?void 0:r.manifest]);return l.createElement("div",{className:m.cx.flex.flexColumn.gap8.$},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.security",color:"secondary"}),l.createElement(ef.b,{securityFormResponse:t,entryPoint:a,isWidget:!!e.isWidget}),l.createElement(eE.u,{networkAccess:null==n?void 0:n.networkAccess,isWidget:!!e.isWidget,isAlwaysExpanded:!0,isLearnMoreLinkVisible:!0}))}function eT({extension:e}){return l.createElement("div",{className:m.cx.flex.flexColumn.gap8.$},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.licenses",color:"secondary"}),l.createElement(e_.x,{isMonetizedResource:null!=e.monetizedResourceMetadataId,isHubFile:!1}))}var ex=a(966712),eC=a(288243),eN=a(162895),ek=a(147206),eS=a(215822),eI=a(376485),eA=a(738269),eL=a(318812),eR=a(99506),eO=a(239671),eD=a(884289),eF=a(771e3),eM=a(44469);let eP="EXTENSION_ALLOWLIST_TRY_EDITOR_DROPDOWN";function eB(e){var t;let{extension:a,orgId:r,mode:n,source:i}=e,s=l.useMemo(()=>{var e;let t=null==(e=a.currentPluginVersion)?void 0:e.manifest;if(t)return(0,eg.qT)(t)},[null==(t=a.currentPluginVersion)?void 0:t.manifest]);if(!s)return null;let o=(0,eS.iz)(s.editorType);return o===eI.HK.UNIVERSAL?l.createElement(eU,{extension:a,orgId:r,mode:n,source:i}):l.createElement(eW,{extension:a,orgId:r,mode:n,editorType:o,source:i})}function eU(e){let{extension:t,orgId:a,mode:r,source:n}=e,{dropdownIsShown:o,toggleSwitchEditorDropdown:c,ExtensionAllowlistTryEditorDropdown:d}=function(e,t,a,r){let n=(0,i.wA)(),o=(0,eL.U)(),c=(null==o?void 0:o.type)===eP,d=(0,eg.Lq)(e);return{dropdownIsShown:c,toggleSwitchEditorDropdown:(e,t)=>{var a;let r=null==(a=e.current)?void 0:a.getBoundingClientRect();r&&((void 0!==t?t:!c)?n(eA.j7({type:eP,data:{targetRect:r}})):n(eA.oB()))},ExtensionAllowlistTryEditorDropdown:function(){return l.createElement(eF.Cf,{className:eM.qN,targetRect:null==o?void 0:o.data.targetRect,minWidth:242,type:eF.it.MATCH_BACKGROUND,propagateCloseClick:!0},l.createElement(eD.UK,{editorType:eI.FW.FIGJAM,onClick:l=>{l.preventDefault(),l.stopPropagation(),n(eA.oB()),(0,ex.kc)().cmty_deprecate_browse_as_admin&&"community"===r?n(eN.aI({resource:d,fullscreenEditorType:eO.nT.Whiteboard})):(0,ex.kc)().ps_benchmark?"review"===a?n(eN.JA({extension:e,fullscreenEditorType:eO.nT.Whiteboard})):n(eN.lx({extension:e,fullscreenEditorType:eO.nT.Whiteboard})):n(eN.hx({extension:e,fullscreenEditorType:eO.nT.Whiteboard})),(0,s.sx)("Admin Plugin Review Modal",{orgId:t,extensionId:e.id,extensionType:e.isWidget?"widget":"plugin",mode:a,editorType:eR._Y.WHITEBOARD,action:"Try it out"})}}),l.createElement(eD.UK,{editorType:eI.FW.FIGMA,onClick:l=>{l.preventDefault(),l.stopPropagation(),n(eA.oB()),(0,ex.kc)().cmty_deprecate_browse_as_admin&&"community"===r?n(eN.aI({resource:d,fullscreenEditorType:eO.nT.Design})):(0,ex.kc)().ps_benchmark?"review"===a?n(eN.JA({extension:e,fullscreenEditorType:eO.nT.Design})):n(eN.lx({extension:e,fullscreenEditorType:eO.nT.Design})):n(eN.hx({extension:e,fullscreenEditorType:eO.nT.Design})),(0,s.sx)("Admin Plugin Review Modal",{orgId:t,extensionId:e.id,extensionType:e.isWidget?"widget":"plugin",mode:a,editorType:eR._Y.DESIGN,action:"Try it out"})}}))}}}(t,a,r,n),_=l.useRef(null),p=(0,en.iZ)(),f=(0,$.sZ)(),h=(0,ek.GU)(p);return l.createElement("div",{ref:_},l.createElement(g.$,{onClick:()=>{c(_,!0)},dataTestId:"universal-editor-button",disabled:h,"data-tooltip-type":el.Ib.TEXT,"data-tooltip":h?(0,u.t)("resources_tab.approved_plugins.modal.try_it_out_ecc_tooltip",{orgName:f.name}):void 0},l.createElement("div",{className:m.cx.flex.itemsCenter.gap4.$},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.try_it_out"}),l.createElement(eC.I,{icon:"chevron-down-16"}))),o&&l.createElement(d,null))}function eW(e){let{extension:t,orgId:a,mode:r,editorType:n,source:o}=e,c=(0,i.wA)(),d=(0,eg.Lq)(t),m=()=>{(0,ex.kc)().cmty_deprecate_browse_as_admin&&"community"===o?c(eN.aI({resource:d,fullscreenEditorType:(0,eS.Wg)(n)})):(0,ex.kc)().ps_benchmark?"review"===r?c(eN.JA({extension:t,fullscreenEditorType:(0,eS.Wg)(n)})):c(eN.lx({extension:t,fullscreenEditorType:(0,eS.Wg)(n)})):c(eN.hx({extension:t,fullscreenEditorType:(0,eS.Wg)(n)}))},_=(0,en.iZ)(),p=(0,$.sZ)(),f=(0,ek.GU)(_);return l.createElement(g.$,{onClick:()=>{m(),(0,s.sx)("Admin Plugin Review Modal",{orgId:a,extensionId:t.id,extensionType:t.isWidget?"widget":"plugin",mode:r,editorType:n,action:"Try it out"})},dataTestId:"single-editor-button",disabled:f,"data-tooltip-type":el.Ib.TEXT,"data-tooltip":f?(0,u.t)("resources_tab.approved_plugins.modal.try_it_out_ecc_tooltip",{orgName:p.name}):void 0},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.try_it_out"}))}function eV(e){let{extensionType:t,extensionId:a,org:r,approvedWorkspaceIds:n,openDeclineModal:i}=e;return l.createElement(g.$,{onClick:()=>{i({orgId:r.id,extensionId:a,extensionType:t,approvedWorkspaceIds:n})}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.decline"}))}function eG(e){let{extensionType:t,extensionId:a,org:r,goToEditTab:n,workspaces:s}=e,o=(0,i.wA)();return s.length>0?l.createElement(g.$,{variant:"primary",onClick:n},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.approve\u2026"})):l.createElement(g.$,{variant:"primary",onClick:()=>{let e=()=>{o(_.F.enqueue({error:!0,message:(0,u.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))};try{b.X.enableExtensionForOrg({orgId:r.id,extensionId:a,extensionType:t}).then(()=>{y.J.approveRequestForOrg({orgId:r.id,extensionId:a,extensionType:t}),o(_.F.enqueue({message:"plugin"===t?(0,u.t)("resources_tab.approved_plugins.modal.plugin_approved_for",{orgName:r.name}):(0,u.t)("resources_tab.approved_plugins.modal.widget_approved_for",{orgName:r.name})}))}).catch(e)}catch(t){e()}o(f.Lo())}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.approve"}))}function e$(e){let{extensionType:t,extensionId:a,org:r,goToEditTab:n,workspaces:s}=e,o=(0,i.wA)();return s.length>0?l.createElement(g.$,{variant:"primary",onClick:n},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.edit_approvals"})):l.createElement(g.$,{variant:"destructive-secondary",onClick:()=>{b.X.disableExtensionForOrg({orgId:r.id,extensionId:a,extensionType:t}).then(()=>{o(_.F.enqueue({message:"plugin"===t?(0,u.t)("resources_tab.approved_plugins.modal.plugin_approval_removed_for",{orgName:r.name}):(0,u.t)("resources_tab.approved_plugins.modal.widget_approval_removed_for",{orgName:r.name})}))}),o(f.Lo())}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.remove"}))}let ej=(0,T.Ju)(function({orgId:e,extensionId:t,extensionType:a,usageData:r,mode:n,initialTab:_,isAllowed:g,openDeclineModal:b,source:y}){var T;let C=(0,i.wA)(),N=(0,h.A)(t,!0),k=(0,o.Rs)(v.czu,{pluginId:t,orgId:e}),[S,I]=l.useState(_??"overview"),A="widget"===a?(0,w.ox)(t):(0,w.ab)(t);if(!("loaded"===k.status&&k.data.plugin&&k.data.org&&N.loaded))return null;let L=(null==(T=k.data.plugin.pluginRequests)?void 0:T.filter(e=>"pending"===e.status))??[],R=k.data.org.workspaces??[],O=R.filter(e=>e.isPluginAllowlisted),D=k.data.org.isPluginAllowlisted;return n=n??(D?"manage":"review"),g=void 0===g?D:g,l.createElement(x.XV,{title:function(e,t,a){switch(e){case"review":switch(t){case"overview":case"edit":return"plugin"===a?(0,u.t)("resources_tab.approved_plugins.modal.review_plugin"):(0,u.t)("resources_tab.approved_plugins.modal.review_widget")}case"manage":return"plugin"===a?(0,u.t)("resources_tab.approved_plugins.modal.manage_plugin"):(0,u.t)("resources_tab.approved_plugins.modal.manage_widget")}}(n,S,a),maxWidth:640,onClose:()=>C(f.Lo())},l.createElement("div",{className:m.cx.relative.$,style:{height:560},"data-testid":"plugin-allowlist-modal"},"overview"===S&&l.createElement("div",{className:m.cx.flex.flexColumn.hFull.$},l.createElement("div",{className:m.cx.flex.flexGrow1.overflowHidden.$},l.createElement(d.P,{className:m.cx.flexGrow1.flexRow.flexWrap.$,innerClassName:m.cx.hFull.$},l.createElement(eh,{extension:k.data.plugin,mode:n,securityFormResponse:N.data})),l.createElement(p.Y,{direction:"horizontal",width:240},l.createElement(ed,{isAllowed:g,usageData:r,numWorkspaces:O.length,isOrgAllowlisted:D,extensionType:a,orgId:e,extensionId:t}))),l.createElement("div",{className:m.cx.flex.itemsCenter.p16.bt1.colorBorder.bSolid.gap8.$},l.createElement(c.CY,{className:m.cx.mrAuto.$,href:A,target:"_blank",trusted:!0,"data-testid":"open-in-community-link",onClick:()=>{(0,s.sx)("Admin Plugin Review Modal",{orgId:e,extensionId:t,extensionType:a,mode:n,action:"Open in community"})}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.open_in_community"})),"review"===n&&l.createElement(l.Fragment,null,l.createElement(eB,{extension:k.data.plugin,orgId:e,mode:n,source:y}),b&&l.createElement(eV,{extensionId:t,extensionType:a,org:k.data.org,approvedWorkspaceIds:O.map(e=>e.id),openDeclineModal:b}),l.createElement(eG,{extensionId:t,extensionType:a,org:k.data.org,workspaces:R,goToEditTab:()=>I("edit")})),"manage"===n&&l.createElement(l.Fragment,null,l.createElement(eB,{extension:k.data.plugin,orgId:e,mode:n,source:y}),l.createElement(e$,{extensionId:t,extensionType:a,org:k.data.org,workspaces:R,goToEditTab:()=>I("edit")})))),"edit"===S&&l.createElement(P,{mode:n,org:k.data.org,onNavigateBack:()=>I("overview"),requests:L,extension:k.data.plugin})))},"EXTENSION_ALLOWLIST_MODAL")},996690:(e,t,a)=>{"use strict";function r(e){var t,a,r,n,l;let i=e.file?{type:"file",fileKey:e.file.key,name:e.file.name,thumbnailUrl:`/file/${e.file.key}/thumbnail`,updatedAt:null==(t=e.file.library)?void 0:t.updatedAt,owner:null==(a=e.file.ownerRole)?void 0:a.user,repoOwner:null==(n=null==(r=e.file.repo)?void 0:r.ownerRole)?void 0:n.user,permissions:{linkAccess:e.file.linkAccess,protoLinkAccess:e.file.protoLinkAccess,orgAudience:e.file.orgAudience,orgBrowsable:e.file.orgBrowsable,hasFileLinkPassword:e.file.hasFileLinkPassword,hasProtoLinkPassword:e.file.hasProtoLinkPassword},approvedLibraries:null==(l=e.file.library)?void 0:l.approvedLibraries,teamId:e.file.teamId}:null;return{org:e.org?{id:e.org.id,name:e.org.name,librarySubscription:e.org.librarySubscriptionByLibraryKey,sharedOrgLicenseGroupSetting:e.org.sharedOrgLicenseGroupSetting,workspaces:e.org.workspaces?e.org.workspaces.map(e=>({id:e.id,name:e.name,librarySubscription:e.librarySubscriptionByLibraryKey})):null}:null,library:i}}function n(e){var t;let a=e.communityLibraryByHubFileId,r=e.org,n=a?{type:"community",hubFileId:a.hubFile.id,name:(null==(t=a.hubFile.currentHubFileVersion)?void 0:t.name)??"",thumbnailUrl:a.hubFile.thumbnailUrl,updatedAt:a.updatedAt,owner:a.hubFile.publishedByUser}:null;return{org:r?{id:r.id,name:r.name,librarySubscription:r.librarySubscriptionByLibraryHubFileId,sharedOrgLicenseGroupSetting:r.sharedOrgLicenseGroupSetting,workspaces:r.workspaces?r.workspaces.map(e=>({id:e.id,name:e.name,librarySubscription:e.librarySubscriptionByLibraryHubFileId})):null}:null,library:n}}function l(e){return"file"===e.type?e.fileKey:e.hubFileId}a.d(t,{Ti:()=>r,Xs:()=>l,gi:()=>n})},251169:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AddPinModal:()=>G,DeletePinModal:()=>j,EditPinModal:()=>$});var r=a(411855),n=a(188507),l=a(609494),i=a(630949),s=a(939863),o=a(392592),c=a(738269),d=a(662275),m=a(477782),u=a(611978),_=a(352898),p=a(27087),g=a(881388);async function E({resourceType:e,resourceId:t,fileKey:a,description:r,dispatch:n,onSuccess:l}){await p.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:a,description:r}).then(l).catch(e=>{n(g.s.error(e.message))})}async function f({pinnedFileId:e,description:t,onSuccess:a,dispatch:r}){await p.Ay.put(`/api/pinned_files/${e}`,{description:t}).then(a).catch(e=>{console.error("Error updating pinned file description",e),r(g.s.error(e.message))})}async function h({pinnedFileId:e,onSuccess:t,dispatch:a}){await p.Ay.del(`/api/pinned_files/${e}`).then(t).catch(e=>{console.error("Error deleting pinned file",e),a(g.s.error(e.message))})}var v=a(998966),b=a(585878),y=a(376466),w=a(30623),T=a(87627),x=a(629019),C=a.n(x),N=a(27050),k=a(377750),S=a(966712),I=a(418956),A=a(860601),L=a(827586),R=a(428322),O=a(883211),D=a(229443),F=a(896474),M=a(555648);function P({buttonClassName:e,onInsert:t,closeOnInsert:a}){let[n,l]=r.useState(null),i=r.useRef(null),s=r.useCallback(()=>{i.current&&l(i.current.getBoundingClientRect())},[l]),o=r.useCallback(e=>{t(e),a&&l(null)},[t,a,l]);return r.createElement("button",{className:e,ref:i,onClick:s},r.createElement(F.In,{icon:"smiley-32"}),n&&r.createElement(M._,{onInsert:o,onCancel:()=>l(null),targetRect:n}))}let B={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function U({placeholder:e,text:t,onChange:a,maxLength:s,onSubmit:o,textAreaClassName:c}){let d=(0,n.wA)(),m=I.zl.get(O.ph),[u,_]=r.useState(!1),p=r.useRef(null),g=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p.current&&p.current.focus()},[]),E=(0,l.Kq)(t,{includeTrailingWhitespace:!0});return r.createElement("div",{className:"emoji_text_area--textAreaContainer--gYcpt",onClick:g},r.createElement(L.P,{className:C()(i.cx.flexGrow1.overflowAuto.borderBox.if(u,i.cx.bb1.bSolid.colorBorder).$,c),innerClassName:i.cx.hFull.$},r.createElement(D.iX,{dispatch:d,ref:p,typeahead:m,updateMessage:([e,t])=>{a(e)},placeholderText:e,mountInputFocused:!0,submitOnEnter:!1,onSubmit:o??A.lQ,messageMeta:t,mentionables:B,className:i.cx.pt16.px16.borderBox.if(u,i.cx.pb4).$,onUpdateTextArea:A.lQ,editorOnInsert:A.lQ,onFocus:A.lQ,onCancel:A.lQ,editorOnClear:A.lQ,setIsEditorFocused:A.lQ,currentOrgUsers:{orgUsers:{}}}),r.createElement(R.a,{onInitialLoad:e=>_(!e),onIntersectionChange:e=>_(!e.isIntersecting)})),r.createElement("div",{className:i.cx.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$},r.createElement(P,{buttonClassName:"emoji_text_area--emojiPickerButton--WB19B",onInsert:e=>{if(p.current){let t=((0,S.kc)().emoji_15_upgrade?k.dN:N.dN).get(e.id);t&&(p.current.insertEmoji(t),p.current.focus())}},closeOnInsert:!0}),s&&r.createElement("div",{className:i.cx.if(E>s,i.cx.colorTextDanger,i.cx.colorTextSecondary).cursorDefault.$},E,"/",s)))}function W({title:e,confirmText:t,onSubmit:a,file:o,initialDescription:c}){let[u,_]=r.useState(c??[]),p=(0,m.fA)(o),g=(0,v.l6)(o.folder_id),E=(0,n.wA)(),f=(0,l.Kq)(u,{includeTrailingWhitespace:!0}),h=f<=100&&f>0,T=()=>{h&&(a(u),E(d.Lo()))};return r.createElement(b.Eo,{title:e,onSubmit:T,confirmText:t,disabled:!h,maxWidth:420,useRedesign:!0},r.createElement("div",{className:i.cx.gap16.flex.flexColumn.$},r.createElement("div",{className:i.cx.flex.flexColumn.gap16.$},r.createElement("div",null,r.createElement(w.ZH,{tile:p,borderRadius:6})),r.createElement("div",{className:i.cx.flex.flexRow.gap8.itemsCenter.$},r.createElement(y.x,{tile:p,usePageIcon:!0}),r.createElement("div",{className:i.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$},r.createElement("div",{className:i.cx.textBodyLargeStrong.truncate.$},o.name),"loaded"===g.status&&g.data?r.createElement("div",{className:i.cx.colorTextSecondary.truncate.$},g.data):null))),r.createElement(U,{placeholder:(0,s.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:u,onChange:_,onSubmit:T,maxLength:100,textAreaClassName:i.cx.maxH100.$})))}function V(e,t,a){let l=(0,n.wA)(),i=(0,u._6)(),d=r.useMemo(()=>"workspace"===i.view&&i.subView===_.V0.DIRECTORY?null:{button:{text:(0,s.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{l(c.$T({view:"workspace",subView:_.V0.DIRECTORY,workspaceId:a,selectedTab:_.dN.TEAMS}))}}},[i,l,a]);return r.useCallback(()=>{l(o.F.enqueue({type:t,message:e,...d}))},[d,l,e,t])}function G({file:e,workspaceId:t}){let a=(0,n.wA)(),l=V((0,s.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin",t),i=r.useCallback(r=>{E({resourceType:T.AH,resourceId:t,fileKey:e.key,description:r,dispatch:a,onSuccess:l})},[t,e.key,a,l]);return r.createElement(W,{title:(0,s.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,s.t)("file_browser.pinning.pin_file"),onSubmit:i,file:e,initialDescription:null})}function $({pinnedFile:e,workspaceId:t}){let a=(0,n.wA)(),l=V((0,s.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin",t),i=r.useCallback(t=>{f({pinnedFileId:e.id,description:t,onSuccess:l,dispatch:a})},[e.id,l,a]),o=(0,T.KR)(e.file);return r.createElement(W,{title:(0,s.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,s.t)("file_browser.pinning.pin_modal.save"),onSubmit:i,file:o,initialDescription:e.description})}function j({pinnedFile:e,workspaceId:t}){let a=(0,n.wA)(),l=V((0,s.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin",t),i=r.useCallback(()=>{h({pinnedFileId:e.id,onSuccess:l,dispatch:a}),a(d.Lo())},[e.id,a,l]);return r.createElement(b.Eo,{title:(0,s.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,s.t)("file_browser.pinning.delete_pin_modal.confirm"),onSubmit:i,useRedesign:!0,destructive:!0},(0,s.t)("file_browser.pinning.delete_pin_modal.content"))}},566067:(e,t,a)=>{"use strict";a.d(t,{Uc:()=>ee,MF:()=>X});var r=a(411855),n=a(188507),l=a(776250),i=a(717068),s=a(367253),o=a(966712),c=a(499737),d=a(946689),m=a(493323),u=a(574176),_=a(630949),p=a(939863),g=a(824520),E=a(315382),f=a(662275),h=a(672517),v=a(964258),b=a(318812),y=a(594901),w=a(860178),T=a(99506),x=a(279453),C=a(643067),N=a(147206),k=a(297536),S=a(428467),I=a(389643),A=a(392830),L=a(668860),R=a(851363),O=a(231959),D=a(501256),F=a(237870),M=a(613077),P=a(977468),B=a(881816),U=a(538697),W=a(585878),V=a(299410),G=a(498540),$=a(479842);let j="team_creation_modal--sectionHeader--WhxZn text--fontPos11--2LvXf text--_fontBase--QdLsd",H="team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",q="team_creation_modal--modalSecondStep--L-6u-",Y="team_creation_modal--dropdownSelector--7brD- select--selectInputExpanded--Lz6m4",z="team_creation_modal--dropdownSelectorTitle--XGnFS",K="team_creation_modal--dropdownOptionTop--LJPnT dropdown--twoRowTop--UhaAQ",J="team_creation_modal--dropdownOptionBottom--hc13d dropdown--twoRowBottom--bAbjE";var Q=a(9821);function Z(e){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.contacts),l=(0,n.d4)(e=>e.orgDomains),i=(0,n.d4)(e=>e.orgById),s=(0,n.d4)(e=>e.dropdownShown),o=(0,n.d4)(e=>e.autocomplete),c=(0,w.iZ)(),d=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,k.t9)(t,a,l)},m=t=>{let r=e.currentOrgId?i[e.currentOrgId]:null;return(0,k.yI)(t,a.usersByEmail[t]||t,r,l,c.email)},u=[L.e6.ADMIN,L.e6.EDITOR,L.e6.VIEWER];return(0,A.D)(null,e.currentOrgId)&&e.inviteLevel&&e.onInviteLevelChange?r.createElement(M.e,{autocomplete:o,dispatch:t,dropdownShown:s,dropdownKey:"permissions-invite-dropdown",inviteLevel:e.inviteLevel,onInviteLevelChange:e.onInviteLevelChange,getSelectText:N.C1,options:u,searchResultToken:d,fetchAsyncSearchResults:t=>{var r;return(0,I.Wj)(t,a.usersByEmail,c,[],e.currentOrgId,null,null,(null==(r=e.currentOrgUser)?void 0:r.permission)===T._D.GUEST)},searchResults:e=>(0,I.Uj)(e,a.usersByEmail,c,[]),validateToken:m,TokenComponent:G.gy,SearchResultComponent:G.o6,joinLinkShown:!1,shouldAutoFocus:!0,placeholderText:(0,p.t)("team_creation.add_a_name_or_email")}):r.createElement(M.e,{autocomplete:o,dispatch:t,dropdownShown:s,inviteLevel:e.permissionLevel,searchResultToken:d,fetchAsyncSearchResults:t=>{var r;return(0,I.Wj)(t,a.usersByEmail,c,[],e.currentOrgId,null,null,(null==(r=e.currentOrgUser)?void 0:r.permission)===T._D.GUEST)},searchResults:e=>(0,I.Uj)(e,a.usersByEmail,c,[]),validateToken:m,TokenComponent:G.gy,SearchResultComponent:G.o6,joinLinkShown:!1,shouldAutoFocus:!0})}function X(e,t){return e===V._9.ORG?t===V.J4.EDIT?T.PQ.ORG_EDIT:T.PQ.ORG_VIEW:e===V._9.WORKSPACE?t===V.J4.EDIT?T.PQ.WORKSPACE_EDIT:T.PQ.WORKSPACE_VIEW:T.PQ.INVITE_ONLY}let ee=(0,F.Ju)(function(e){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.currentUserOrgId)??"",N=(0,n.d4)(e=>e.orgById)[a],k=(0,w.iZ)(),I=(0,n.d4)(e=>e.orgDomains),[F,M]=r.useState(!0);(0,r.useEffect)(()=>{(0,l.sx)("team_creation_started",{user_id:(null==k?void 0:k.id)??"",org_id:a})},[]),(0,r.useEffect)(()=>{t(E.um())},[t]);let G=(0,b.U)(),ee=(0,c.Rs)(x.Lqr,{orgId:a}),et=(0,S.canAdminOrg)(a,(0,y.FC)()),ea=(0,r.useMemo)(()=>{var e,t;if("loaded"===ee.status){let a=(null==(t=null==(e=ee.data.org)?void 0:e.workspaces)?void 0:t.filter(e=>e.canCreateTeam))??[];return(0,i.KQ)(a,"name"),a}return[]},[ee]),er=(0,r.useMemo)(()=>{var e,t;if("loaded"===ee.status){let a=null==(t=null==(e=ee.data.currentUser.baseOrgUser)?void 0:e.workspaceUsers)?void 0:t.filter(e=>e.isMainWorkspace);return a&&a.length>0?a[0].workspaceId:O.O}return null},[ee]),en=e.workspaceId,el=ea.find(e=>e.id===en),ei=el&&el.orgAccess===T.bU.SECRET?T.bU.PRIVATE:T.bU.PUBLIC,es=el&&el.orgAccess===T.bU.SECRET?V._9.INVITE_ONLY:V._9.ORG,eo=(0,r.useMemo)(()=>("loading"!==ee.status&&M(!1),"loaded"===ee.status)?ee.data.currentUser.baseOrgUser:null,[ee]),ec={[T.bU.PUBLIC]:{name:(0,p.t)("team_creation.open_team"),description:(0,p.t)("team_creation.open_team_description",{orgName:N.name})},[T.bU.PRIVATE]:{name:(0,p.t)("team_creation.closed_team"),description:(0,p.t)("team_creation.closed_team_description")},[T.bU.SECRET]:{name:(0,p.t)("team_creation.secret_team"),description:(0,p.t)("team_creation.secret_team_description")}},ed={[T.sC.EDIT]:{name:(0,p.t)("team_creation.can_edit"),description:(0,p.t)("team_creation.can_edit_description")},[T.sC.VIEW]:{name:(0,p.t)("team_creation.can_view"),description:(0,p.t)("team_creation.can_view_description")}},[em,eu]=r.useState(!1),[e_,ep]=r.useState(0),[eg,eE]=r.useState(ei);(0,r.useEffect)(()=>{eE(ei)},[ei]);let[ef,eh]=r.useState(T.sC.EDIT),[ev,eb]=r.useState(L.e6.EDITOR),[ey,ew]=r.useState((null==e?void 0:e.workspaceId)??er),eT=(0,A.D)(null,a),ex=eT&&(0,o.kc)().sc_workspace_audience,eC=r.useCallback(e=>{let t=ea.find(t=>t.id===e);if(ex&&t)return{id:t.id,name:t.name,imgUrl:t.imgUrl}},[ea,ex]),[eN,ek]=r.useState(eC(ey));(0,r.useEffect)(()=>{ew(e=>e??er),ek(eC(ey))},[er,ey,eC]);let eS=(0,n.d4)(e=>e.autocomplete),eI=[T.sC.EDIT,T.sC.VIEW],eA=[T.bU.PUBLIC,T.bU.PRIVATE,T.bU.SECRET],eL={[T.bU.PUBLIC]:48,[T.bU.PRIVATE]:48,[T.bU.SECRET]:64},[eR,eO]=r.useState(V.J4.VIEW),[eD,eF]=r.useState(R.Fb.ORG_BROWSABLE),[eM,eP]=r.useState(es);(0,r.useEffect)(()=>{eP(es)},[es]);let[eB,eU]=r.useState(""),[eW,eV]=r.useState(""),eG=N.bigma_enabled&&ea.length>0;(et||er===O.O)&&ea.length>0&&(ea=ea.concat({id:O.O,name:(0,p.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:T.bU.PUBLIC,imgUrl:null}));let e$=r.createElement(d.ks,{className:"team_creation_modal--descriptionInput--cLVf4",type:"textarea",onChange:e=>eV(e.target.value),value:eW,placeholder:eT?(0,p.t)("team_creation.optional"):void 0}),ej=e=>{if(eT)return r.createElement("div",{className:"team_creation_modal--workspaceIcon--s7G4E"},e&&e.id!==O.O?r.createElement(P.z6,{entity:e,size:16}):r.createElement(u.B,{svg:Q.A}))},eH=r.createElement(U.l6,{id:"create-team-modal-workspace-selector",property:ey??O.O,formatter:{format:e=>{var t;return(null==(t=ea.find(t=>t.id===e))?void 0:t.name)??""}},onChange:ew,dispatch:t,dropdownShown:G,className:Y,inputClassName:eT?"team_creation_modal--dropdownSelectorTitleWithIcon--M6VLU":z,icon:ej(ea.find(e=>e.id===ey)),openBelowTarget:eT,focusedOption:eT?ey??O.O:void 0},ea.map(e=>r.createElement(U.c$,{value:e.id,key:e.id,icon:ej(e),rightCheck:!0},e.name))),eq=r.createElement(r.Fragment,null,r.createElement(d.ks,{className:eT?"team_creation_modal--teamNameInputSC--bbcKV":"team_creation_modal--teamNameInput--zzmqC",onChange:e=>eU(e.target.value),onFocus:()=>eu(!0),onBlur:()=>eu(!1),value:eB,autoFocus:!0,required:!0,maxLength:R.qg,minLength:1,placeholder:eT?(0,p.t)("team_creation.writer_s_guild_placeholder"):void 0}),0===eB.trim().length&&!em&&!eT&&r.createElement("div",{className:"team_creation_modal--inputErrorMessage--BBNaL"},(0,p.t)("team_creation.team_name_empty")));function eY(){let{onSubmitReturnToPrevView:a=!0}=e,r=ef===T.sC.EDIT?L.e6.EDITOR:L.e6.VIEWER,n=eT&&ev?ev:r;t((0,v.KQ)({teamName:eB,orgAccess:eg,workspaceId:ey??void 0,dontRedirect:!a,inviteEmails:(0,D.Z)(eS),defaultPermission:ef,description:eW,sharingAudienceControl:eT?X(eM,eR):void 0,orgBrowsable:eT&&eM===V._9.INVITE_ONLY&&eD===R.Fb.ORG_BROWSABLE,hidden:eT&&eM===V._9.INVITE_ONLY&&eD===R.Fb.HIDDEN,inviteLevel:n})),t(f.Lo())}function ez(){t(f.Lo()),t(g.cL())}return r.createElement(h.fu,{name:"Team Creation"},r.createElement(W.XV,{title:eT?1===e_?(0,p.t)("team_creation.add_people_to_team_name",{teamName:eB}):(0,p.t)("team_creation.org_modal_title_sc"):(0,p.t)("team_creation.org_modal_title"),onClose:ez,maxWidth:eT?480:456},r.createElement("div",{className:_.cx.m16.$},0===e_?eT?function(){if(!eT)return r.createElement(r.Fragment,null);let e=(0,A.D)(null,a);return r.createElement(r.Fragment,null,r.createElement("div",{className:j},(0,p.t)("team_creation.name")),eq,r.createElement("div",{className:j},(0,p.t)("team_creation.team_description")),e$,eG&&r.createElement(r.Fragment,null,r.createElement("div",{className:j},(0,p.t)("team_creation.workspace")),eH),r.createElement("div",{className:j,"data-onboarding-key":B.F},(0,p.t)("team_creation.who_has_access")),e&&r.createElement(B.j,null),r.createElement(V.YU,{resourceType:T.vt.TEAM,value:eM,onChange:eP,org:N,audienceAccessLevel:eR,workspace:eN}),r.createElement("div",{className:j},eM===V._9.INVITE_ONLY?(0,p.t)("team_creation.visibility"):(0,p.t)("team_creation.what_they_can_do")),eM===V._9.INVITE_ONLY?r.createElement(V.Kd,{selectedDiscoverability:eD,setSelectedDiscoverability:eF}):r.createElement(r.Fragment,null,r.createElement(V.Iz,{selectedPermissionsLevel:eR,setSelectedPermissionsLevel:eO}),r.createElement("div",{className:H},eR===V.J4.VIEW?(0,p.t)("team_creation.can_view_and_comment"):(0,p.t)("team_creation.can_create_and_edit_files"))))}():r.createElement(r.Fragment,null,r.createElement("div",{className:j},(0,p.t)("team_creation.team_name_label")),eq,r.createElement("div",{className:j},(0,p.t)("team_creation.team_description")),e$,eG&&r.createElement(r.Fragment,null,r.createElement("div",{className:j},(0,p.t)("team_creation.workspace")),eH),r.createElement("div",{className:j},(0,p.t)("team_creation.access")),r.createElement(U.l6,{id:"create-team-modal-access-selector",property:eg,formatter:{format:e=>ec[e].name},onChange:eE,dispatch:t,dropdownShown:G,className:Y,inputClassName:z},eA.map(e=>r.createElement(U.c$,{value:e,key:e,height:eL[e]},r.createElement("div",{className:K},ec[e].name),r.createElement("div",{className:J},ec[e].description)))),r.createElement("div",{className:H},ec[eg].description),eg===T.bU.PUBLIC?r.createElement(r.Fragment,null,r.createElement("div",{className:_.cx.mt24.$}),r.createElement(U.l6,{id:"create-team-modal-permission-selector",property:ef,formatter:{format:e=>ed[e].name},onChange:eh,dispatch:t,dropdownShown:G,className:Y,inputClassName:z},eI.map(e=>r.createElement(U.c$,{value:e,key:e,height:48},r.createElement("div",{className:K},ed[e].name),r.createElement("div",{className:J},ed[e].description)))),r.createElement("div",{className:H},ed[ef].description)):r.createElement("div",{className:"team_creation_modal--secondDropdownPlaceholder--l7WtS"})):F?r.createElement("div",{className:q},r.createElement("div",{className:"team_creation_modal--loadingState--y80el"},r.createElement(m.qc,null))):r.createElement("div",{className:eT?void 0:q},!eT&&r.createElement("div",{className:j},(0,p.t)("team_creation.add_other_members")),r.createElement(Z,{permissionLevel:ef,currentOrgId:a,currentOrgUser:eo,inviteLevel:eT?ev:void 0,onInviteLevelChange:eT?eb:void 0})),r.createElement("div",{className:"team_creation_modal--bottomRow--IWTyZ"},r.createElement("div",{className:"team_creation_modal--footer--EAx7f team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement(p.Tx,{id:"team_creation.step_number_of_max_steps",currentStep:e_+1,maxSteps:2})),r.createElement("div",{className:"team_creation_modal--buttons--jSrKt"},r.createElement(d.tM,{onClick:ez},r.createElement(p.Tx,{id:"project_creation.cancel"})),r.createElement(d.vd,{onClick:function(){if(0===e_)ep(1);else{let e=N&&N.domain_capture&&I.domains.length>0?(0,D.Z)(eS).filter(e=>(0,s.xf)(e)&&!(0,C.H_)(I.domains,e)):[];e.length>0?function(e){if((null==N?void 0:N.invite_whitelist_guest_invite_setting)==null&&e.length>0){t(f.to({type:$.F,data:{emails:e,onConfirm:()=>{eY()},popStack:!0,orgName:N.name}}));return}}(e):eY()}},disabled:0===e_&&0===eB.trim().length},0===e_?eT?r.createElement(p.Tx,{id:"general.continue"}):r.createElement(p.Tx,{id:"team_creation.next"}):r.createElement(p.Tx,{id:"team_creation.create_team"})))))))},"TEAM_CREATION_MODAL",F.ZU.YES)},794094:(e,t,a)=>{"use strict";a.d(t,{dW:()=>C,nH:()=>N});var r=a(411855),n=a(188507),l=a(966712),i=a(499737),s=a(946689),o=a(493323),c=a(939863),d=a(824520),m=a(662275),u=a(672517),_=a(964258),p=a(99506),g=a(279453),E=a(297536),f=a(392830),h=a(851363),v=a(237870),b=a(585878),y=a(566067),w=a(299410),T=a(647501),x=a(225530);let C=(0,v.Ju)(function(e){let t=(0,n.wA)(),a=(0,i.Rs)(g.GyZ,{teamId:e.team.id}),l=r.useMemo(()=>(0,E.X)(a),[a]),s=l&&l.workspace?{id:l.workspace.id,name:l.workspace.name,imgUrl:l.workspace.imgUrl}:void 0,_=()=>{t(m.Ce()),t(d.cL())};return r.createElement(u.fu,{name:"Team Access Modal",properties:{resourceType:p.vt.TEAM,resourceId:e.team.id}},r.createElement(b.XV,{title:r.createElement(r.Fragment,null,e.goBack?r.createElement(T.w,{title:(0,c.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):r.createElement("div",{className:x.DA},r.createElement("p",null,r.createElement(c.Tx,{id:"team_view.team_permissions_modal.access_settings"})))),maxWidth:E.k4,fixedTop:!0,onClose:_},l?l.org&&r.createElement(N,{team:e.team,org:l.org,teamSharingSettings:l.teamSharingSettings,hideModal:_,workspace:s}):r.createElement(o.qc,{className:x.Lq})))},"TeamAccessModal");function N(e){var t,a;let i=(0,f.D)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.org)?void 0:a.id)||null)&&(0,l.kc)().sc_workspace_audience,o=(0,n.wA)(),d=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===p.PQ.ORG_EDIT||t===p.PQ.ORG_VIEW?w._9.ORG:t===p.PQ.WORKSPACE_EDIT||t===p.PQ.WORKSPACE_VIEW?w._9.WORKSPACE:w._9.INVITE_ONLY},[e.teamSharingSettings]),m=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return h.Fb.HIDDEN;return h.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),u=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===p.PQ.ORG_EDIT||t===p.PQ.WORKSPACE_EDIT?w.J4.EDIT:(t===p.PQ.ORG_VIEW||p.PQ.WORKSPACE_VIEW,w.J4.VIEW)},[e.teamSharingSettings]),[g,E]=r.useState(d()),[v,b]=r.useState(m()),[T,C]=r.useState(u());r.useEffect(()=>{E(d()),b(m()),C(u())},[e.teamSharingSettings,d,m,u]);let N=g===w._9.INVITE_ONLY?v&&r.createElement("div",{className:x.$2},r.createElement(w.Kd,{selectedDiscoverability:v,setSelectedDiscoverability:b})):r.createElement(r.Fragment,null,r.createElement(w.Iz,{selectedPermissionsLevel:T,setSelectedPermissionsLevel:C}),r.createElement("div",{className:x.VA},T===w.J4.VIEW?(0,c.t)("team_creation.can_view_and_comment"):(0,c.t)("team_creation.can_create_and_edit_files")));return r.createElement(r.Fragment,null,r.createElement("div",{className:x.l2},r.createElement("div",{className:x.bV},(0,c.t)("team_creation.who_has_access")),r.createElement(w.YU,{resourceType:p.vt.TEAM,value:g,onChange:E,org:e.org,audienceAccessLevel:T,workspace:i?e.workspace:void 0}),r.createElement("div",{className:x.bV},g===w._9.INVITE_ONLY?(0,c.t)("team_creation.visibility"):(0,c.t)("team_creation.what_they_can_do")),N),r.createElement("div",{className:x.E_},r.createElement(s.tM,{onClick:e.goBack||e.hideModal},r.createElement(c.Tx,{id:"project_creation.cancel"})),r.createElement(s.vd,{onClick:()=>{var t,a;if(!(0,f.D)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.org)?void 0:a.id)||null))return;let r=g===w._9.INVITE_ONLY&&v===h.Fb.ORG_BROWSABLE,n=g===w._9.INVITE_ONLY&&v===h.Fb.HIDDEN,l=(0,y.MF)(g,T);if(o((0,_.zK)({team:e.team,sharingAudienceControl:l,orgBrowsable:r,hidden:n})),e.goBack){e.goBack();return}e.hideModal()}},r.createElement(c.Tx,{id:"team_view.team_permissions_modal.save"}))))}},469650:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FileMoveDropdown:()=>e7,FileMoveHiddenDiv:()=>te,FileMoveModal:()=>e4,FileMoveModalComponent:()=>e2,FileMoveSearch:()=>e3,FolderSection:()=>e9,TeamSection:()=>e8,TeamsDisplay:()=>e6,getCurrentFolderId:()=>e1,getTargetAttribute:()=>eX,isSubscribedLG:()=>e0});var r=a(411855),n=a(109388),l=a(188507),i=a(889012),s=a.n(i),o=a(776250),c=a(935283),d=a(91408),m=a(966712),u=a(498750),_=a(499737),p=a(268537),g=a(946689),E=a(413695),f=a(659838),h=a(493323),v=a(827586),b=a(574176),y=a(630949),w=a(939863),T=a(738269),x=a(694764),C=a(873189),N=a(662275),k=a(688083),S=a(99506),I=a(623746),A=a(66037),L=a(668860),R=a(392830);function O(e,t,a,r){var n;let l={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},i={},s={},o={},c={byFolderId:{},byTeamId:{}},d=(0,I.Um)(e.currentUser),u=[],p=e=>{s[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{o[e.orgId]={[e.userId]:{...e,type:A.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||S.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||S.El.RESTRICTED}},e.draftsProject&&(p(e.draftsProject),e.draftsProject.ownerRole&&(c.byFolderId[e.draftsProject.id]={[l.id]:(0,I.aU)(e.draftsProject.ownerRole,d,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:a}=e.team;i[t]={...e.team,canEdit:e.level>=L.e6.EDITOR,canAdmin:e.level>=L.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},c.byTeamId[t]={[l.id]:(0,I.aU)(e,d,null,null)},a&&a.forEach(e=>p(e))});let g=r&&r.org&&"loaded"===r.org.status?(0,_.oA)(r.org):null;if((0,R.D)(null,a)&&g&&"588096576863690753"!==a){if(t){let e=(0,_.oA)(t.project);e&&e.canEdit&&p(e)}g.teams&&g.teams.forEach(e=>{let{id:t,allProjects:a}=e;if(!i[t]){let a=!!(0,_.oA)(e.canEdit),r=!!(0,_.oA)(e.canAdmin),n=(0,_.oA)(e.licenseGroup);i[t]={...e,canEdit:a??!1,canAdmin:r??!1,licenseGroup:n||null},u.push(t)}let r=(0,_.oA)(a);r&&r.forEach(e=>{(0,_.oA)(e.canEdit)&&p(e)})})}(0,m.kc)().ps_benchmark&&(null==(n=e.currentUser.teamRoles)||n.forEach(e=>{if(!e.team)return;let{id:t}=e.team;i[t]||(i[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},c.byTeamId[t]={[l.id]:(0,I.aU)(e,d,null,null)})}));let E=r&&r.currentUser&&"loaded"===r.currentUser.status?(0,_.oA)(r.currentUser):null;return E&&E.teamRoles&&E.teamRoles.forEach(e=>{if(!e.team||!(0,R.D)(e.team.id,a)||!e.team.allProjects||"588096576863690753"===a)return;let{id:t,allProjects:r}=e.team;i[t]||(i[t]={...e.team,canEdit:e.level>=L.e6.EDITOR,canAdmin:e.level>=L.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},c.byTeamId[t]={[l.id]:(0,I.aU)(e,d,null,null)});let n=r&&"loaded"===r.status?(0,_.oA)(r):null;n&&n.forEach(e=>{(0,_.oA)(e.canEdit)&&p(e)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(p(e.project),c.byFolderId[e.project.id]={[l.id]:(0,I.aU)(e,d,null,null)})}),e.currentUser.draftsProject&&(p(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(c.byFolderId[e.currentUser.draftsProject.id]={[l.id]:(0,I.aU)(e.currentUser.draftsProject.ownerRole,d,null,null)})),{user:l,teams:i,folders:s,roles:c,orgUsers:o,orgId:a,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:u}}var D=a(875847),F=a(363084),M=a(279453),P=a(707465),B=a(984968),U=a(454351),W=a(451e3),V=a(945020),G=a(489291),$=a(498606),j=a(143678),H=a(547807);let q=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,H.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var Y=a(233890),z=a(585878),K=a(776621),J=a(27087),Q=a(67833);function Z(e){return r.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},r.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},r.createElement(Q.oS,{type:Q.y1.DESIGN})),r.createElement(g.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,w.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var X=a(511243),ee=a(92912),et=a(672517),ea=a(741726),er=a(297666),en=a(309225),el=a(980820),ei=a(243987),es=a(147206),eo=a(428467),ec=a(463592),ed=a(472503),em=a(173454);let eu="32px",e_=(0,d.hG)(eu),ep=e=>(null==e?void 0:e.id)||x.iK,eg=new ec.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),eE=(e,t,a,r,n,l)=>{if(e.orgId!==n&&(null==t?void 0:t.orgId)!==n)return!1;if(!(0,m.kc)().ps_benchmark){if((0,D.VA)(e))return e.id===l;if((0,D.B_)(e))return!1}return!(!e.canEdit||t&&(0,ei.S$)(e,t,a)&&!(0,D.VA)(e))&&(!r||!!(0,ei.XX)(t))},ef=(e,t,a)=>!(!(0,m.kc)().ps_benchmark&&(0,ei.dX)(e,t))&&(!a||!!(0,ei.XX)(e)),eh=(e,t=!1)=>{let a=[],r=(0,D.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let l=e.folders[n],i=l.teamId?e.teams[l.teamId]:null;eE(l,i,e.user,t,e.orgId,null==r?void 0:r.id)&&((0,D.VA)(l)&&(l={...l,path:(0,em.Tb)()}),a.push(l))}),eg.set(a.map(t=>{let a=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},r={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription};return a?{folder:r,team:a}:{folder:r}}))},ev=({folders:e,roles:t,user:a,orgUsers:r,teams:n,orgId:l,implicitTeamRolesTeamIds:i},s,o,c)=>{let d=Object.create(null),u=0,_=0,p=(0,D.gj)(a&&a.id,e,t.byFolderId,a&&l?r[l][a.id]:null);for(let e in d[x.HK]=[],d[x.iK]=[],t.byTeamId)ef(n[e],a,s)&&(_++,d[e]=[]);"588096576863690753"!==l&&(0,R.D)(null,l)&&i&&i.forEach(e=>{ef(n[e],a,s)&&(_++,d[e]=[])}),Object.keys(e).forEach(t=>{let r={...e[t]},i=eE(r,r.teamId?n[r.teamId]:null,a,s,l,null==p?void 0:p.id);if((0,m.kc)().file_move_show_all_resources){if(i&&(!o||r.subscription||(0,D.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?x.HK:ep(e)].push(r),u++}}else if(i&&(r.subscription||(0,D.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?x.HK:ep(e)].push(r),u++}});let g=u+_;return c(x.CU({indexCount:g})),c(x.xH()),d},eb=(e,t,a,r,n)=>{let l=Object.create(null),i=Object.create(null),s=[],o=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(i[e]=o,c+=8,e!==x.iK&&e!==x.HK){let t={type:U.b.NEW_FOLDER_TEAM,id:e,positionTop:c};s.push(t),c+=e_,o+=1}let a=t[e];o+=a.length,a.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(a);r&&n&&e===n&&d.forEach((e,t)=>{e.id===r&&(a.splice(t,1),a.unshift(e))}),a.forEach(e=>{let t={type:U.b.FOLDER_ROW,id:e.id,positionTop:c};c+=e_,s.push(t)}),l[e]=a,c+=9}),[l,i,s]},ey=(e,t,a)=>{let r=Object.create(null),n=Object.create(null),l=0,i=0,s=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,o=(0,D.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,s);for(let a of e){let e=a.item.folder,s=o&&e.id===o.id?0:a.score,c=e.teamId?t.teams[e.teamId]:null,d=o&&e.id===o.id?x.HK:ep(c);!(d in r)&&(r[d]=[],d!==x.iK&&d!==x.HK&&i++),r[d].push(e),null==n[d]?n[d]=s:n[d]=Math.min(n[d],s),l++}let c=l+i;return a(x.CU({indexCount:c})),[n,r]},ew=e=>(t,a)=>{if(t===x.iK)return 1;let r=e[t],n=e[a];return r?n&&r.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},eT=e=>(t,a)=>e[t]-e[a],ex=async(e,t,a,r,n=!1,l=!1,i,s,o,d)=>{var u,_,p;let g;let E=e.getState(),f=null,h=null;t.type===U.A.FILE?(f=t.file.parent_org_id||null,h=t.file.team_id):t.type===U.A.REPO&&(f=t.repo.parent_org_id||null,h=t.repo.team_id);let v=[];if(a){let e=ey(await eg.search(a),r,i);p=e[0],(v=Object.keys(_=e[1])).length&&v.sort(eT(p))}else _=ev(r,n,!!d,e.dispatch),r.user?(v.push(x.HK),v=v.concat((0,B.n$)(Object.values(r.teams),(null==(u=r.fileBrowserPreferences)?void 0:u.orderedTeamIds)||[])),_[x.iK].length>0&&v.push(x.iK)):(v=Object.keys(_)).sort(ew(r.teams));switch(t.type){case U.A.FILE:g=t.file.editor_type;break;case U.A.REPO:g=S._Y.DESIGN;break;case U.A.FILE_IMPORT:g=t.files.every(e=>".jam"===(0,ed.dv)(e.name).toLowerCase())?S._Y.WHITEBOARD:S._Y.DESIGN;break;default:(0,c.xb)(t)}let b=(0,m.kc)().fb_redux_file_move_helpers,y=new Set;if(b){let e=Object.values(_).flatMap(e=>e.map(e=>({id:e.id}))),t=g===S._Y.WHITEBOARD?M.JkW:M.RmP;(await (0,en.S8)(t,e)).forEach(e=>{var t,a;let r=e.result;"loaded"===r.status&&(null==(a=(0,ea.oA)(null==(t=r.data)?void 0:t.project))?void 0:a.hasPermission)&&y.add(e.args.id)})}let w=v.filter(e=>{var t,a,n,l;if(e===x.iK)return null===_||_[e].length>0;let i=r.teams;if(e!==x.HK){let a=(null==(t=i[e])?void 0:t.orgId)||null;if(f||a){if(a!==f)return!1}else if(h&&e===x.iK)return!1}return!((null==(a=i[e])?void 0:a.deletedAt)||!(0,m.kc)().ps_benchmark&&(0,es.XG)(null==(n=i[e])?void 0:n.currentTeamUser,g))&&!!(null==(l=_[e])?void 0:l.some(e=>b?y.has(e.id):(0,eo.canCreateFileInFolder)({name:e.path,team_id:e.teamId,id:e.id,path:e.path},E,g,!0)))}),[T,C,N]=eb(w,_,l,s,o);e.dispatch(x.OT({rows:N})),e.dispatch(x.t3({indexOffsets:C})),e.dispatch(x.Pb({foldersByTeamId:T})),e.dispatch(x.Mi({teamIds:w})),a||e.dispatch(x.w3({userTeamCount:w.length})),E.fileMove.isSearchResult!==l&&e.dispatch(x.EN({isSearchResult:l}));let k=x.HK in C&&N[0].type===U.b.FOLDER_ROW;a&&k?e.dispatch(x.Dp({indexAt:0})):a&&!k&&e.dispatch(x.Dp({indexAt:1}))},eC=(e,t,a,r=!1,n,l,i)=>{ex(e,t,"",a,r,!1,e.dispatch,l,i,n)},eN=(0,er.s)((e,t,a,r,n=!1)=>{ex(e,t,a,r,n,!!a,e.dispatch)},200),ek=(0,el.nF)((e,t)=>{eh(t.userResources,t.modalData.isPublishing),eC(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eS=(0,el.nF)((e,t)=>{eN(e,t.modalData,t.query,t.userResources),e.dispatch(x.hq(t))});var eI=a(517333),eA=a(218881),eL=a(881388),eR=a(507877),eO=a(349410),eD=a(964258),eF=a(977468),eM=a(858212);let eP="file_move--main--DysMn",eB="file_move--iconContainer--miUkC",eU="file_move--folderRowWrapper--1PhcQ",eW="file_move--folderRow---mHLm",eV="file_move--horizontalDivider--N1Kwn";var eG=a(444173);function e$(e){let t=(0,eM.S)(),a=(0,l.d4)(e=>e.user),[n,i]=(0,r.useState)(""),s=e.dispatch,[c,d]=(0,r.useState)(!0),m=(0,eA.I7)("starter_team_loophole_experiment_m0"),u=(0,eA.I7)("starter_team_loophole_experiment_m1");return r.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,o.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),n?(s((0,eD.KQ)({teamName:n,orgAccess:S.bU.PUBLIC,dontRedirect:!0})),d(!0),i("")):s(eL.s.error((0,w.t)("flash.team_name_cannot_be_empty")))}},r.createElement("div",{className:"file_move--teamCreateRow--GXsGP file_move--folderRow---mHLm"},c?r.createElement("button",{type:"button",className:"file_move--rowButton--buC6a",onClick:()=>{null!=a&&!e.orgId&&(0,eO.e5)({userId:a.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(s(N.Ce()),s(eR.Dw({openInNewTab:!eI.eD}))):(d(!1),s(x.xH()))}},r.createElement(b.B,{className:"file_move--newProjectIconFileMove--NpF12 sidebar--icon--nwW61",svg:eG.A}),r.createElement("span",{className:t?"file_move--newFolderNameCustomSections--tOXkk sidebar--sectionNameCustomSections--74kLZ sidebar--sectionTextCustomSections--50Fot sidebar--sectionContentCustomSections--1ApO4 ellipsis--ellipsis--Tjyfa":"file_move--newFolderName---8VW2 sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa"},r.createElement(w.Tx,{id:"file_browser.inline_team_creation.button_text"}))):r.createElement(r.Fragment,null,r.createElement("div",{className:eB},r.createElement(eF.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),r.createElement("div",{className:"file_move--newTeamTitleText--JRkjD file_move--teamTitleText--ASbUy ellipsis--ellipsis--Tjyfa"},r.createElement(g.ks,{value:n||"",onChange:e=>{i(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--w4IBu",maxLength:e.teamNameMaxWidth,placeholder:(0,w.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var ej=a(450147),eH=a(702595),eq=a(853705),eY=a(130715),ez=a(720955),eK=a(797804),eJ=a(258485);let eQ=(0,d.hG)(eu),eZ="FileMoveModalContent";function eX(e){return"folder"===e.view||(0,P.K)(e)?"_self":"_blank"}function e0(e){return!!e.subscription||(0,D.VA)(e)}function e1(e){switch(e.type){case U.A.FILE:let t=e.file;return(null==t?void 0:t.folder_id)||null;case U.A.REPO:let a=e.repo;return(null==a?void 0:a.folder_id)||null;case U.A.FILE_IMPORT:return null;default:(0,c.xb)(e)}}function e2(e){let t=null;e.type===U.A.FILE?t=e.file.parent_org_id||null:e.type===U.A.REPO&&(t=e.repo.parent_org_id||null);let a=(0,l.d4)(e=>e.orgById),n=t?a[t]:null,i=(0,l.d4)(e=>e.fileMove),s=(0,l.d4)(e=>e.creatingNewFolder),o=(0,l.d4)(e=>e.dropdownShown),c=(0,l.d4)(e=>e.selectedView),d=e1(e),m=(0,_.Rs)(M.Y9I,{projectId:d},{enabled:!!d}),u="loaded"===m.status&&m.data&&m.data.project&&"loaded"===m.data.project.status?(0,_.oA)(m.data.project):null,p=(0,R.D)((null==u?void 0:u.teamId)||null,t)&&"588096576863690753"!==t,g=(0,_.Rs)(M.YVc,{orgId:t},{enabled:p}),E=(0,_.Rs)(M.G0Y,{orgId:t});"errors"===E.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(E.errors));let f="loaded"===E.status&&("loaded"===m.status||e.type===U.A.FILE_IMPORT)&&"loaded"===g.status?{fetched:g,transformed:O(E.data,m.data,t,g.data)}:null,h="loaded"===E.status&&("loaded"===m.status||e.type===U.A.FILE_IMPORT)?{fetched:E,transformed:O(E.data,e.type!==U.A.FILE_IMPORT?m.data:null,t)}:null,v=p?f:h,b=null===v?{loaded:!1}:{loaded:!0,userResources:v.transformed},y=null==d||null===v?null:v.transformed.folders[d],w=y?y.teamId:null,T=(0,l.wA)();r.useEffect(()=>{b.loaded&&T(ek({modalData:e,userResources:b.userResources,currentFolderId:d,currentFolderTeamId:w}))},[v&&v.fetched]);let x=[];if(b.loaded&&!t)for(let e in b.userResources.teams){let t=b.userResources.teams[e];"ok"!==t.subscription&&x.push(t.id)}let C=function(e){let[t,a]=r.useState((0,_.Xm)()),n=e.join(",");return r.useEffect(()=>{if(0===n.length){a((0,_.gB)({}));return}a((0,_.Xm)());let e=!1;return(async()=>{let t=await q.getTeamRestrictionsLists({teamIds:n});e||a((0,_.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(x);if("loaded"===C.status&&b.loaded)for(let e in b.userResources.teams){let t=b.userResources.teams[e];C.data[e]&&(t.restrictionsList=C.data[e])}return r.createElement(e4,{modalId:e._modalId,fileMove:i,fileMoveData:e,creatingNewFolder:s,dropdownShown:o,selectedView:c,dispatch:T,userResources:b,currentOrg:n})}class e4 extends r.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerElm=n.findDOMNode(e)},this.isMovePageToNewFile=(0,m.kc)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(x.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(x.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(eZ);if((0,Y.NB)(t))return;let{userResources:a}=this.props.userResources;switch(e.keyCode){case u.Uz.ESCAPE:this.onClose();break;case u.Uz.UP_ARROW:this.props.dispatch(x.zv());break;case u.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(x.TL({upperBound:this.props.fileMove.indexCount}));break;case u.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===U.b.NEW_FOLDER_TEAM){let t=e.id,r=a.teams[t];this.props.dispatch((0,k.SX)({where:this.props.modalId.type,team:{...(0,V.Ws)(r),canEdit:!0,canEditTeamContents:!0,canAdmin:r.canAdmin}}))}else if(e.type===U.b.FOLDER_ROW){let t=a.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(N.Lo()):this.props.dispatch(N.Ce())},this.openOrgView=e=>{this.props.dispatch(T.$T({view:"org",orgId:e,orgViewTab:G.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(N.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==U.A.FILE_IMPORT){var a,n,l;this.onClose();let t=this.props.fileMoveData.type===U.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;a=this.props.fileMoveData.page_id,n=e.id,l=this.state.newFileName,(0,K.ED)("startMovePagesJob","Send request to start move pages job."),J.Ay.post(`/api/files/${t}/move_pages`,{folder_id:n,page_ids:a,file_name:l}).catch(e=>{(0,K.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,K.ED)("startMovePagesJob","Move pages job successfully started.")});return}let i=this.props.fileMoveData;if(i.type===U.A.FILE&&i.file.is_team_template&&(0,D.VA)(e)){this.props.dispatch(N.to({type:X.X0,data:{title:r.createElement(w.Tx,{id:"templates.confirmation.move_to_drafts.title",count:1}),content:r.createElement(w.Tx,{id:"templates.confirmation.move_to_drafts.description"}),confirmText:r.createElement(w.Tx,{id:"templates.confirmation.move_to_drafts.button_v2"}),destructive:!1,onConfirm:t}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case U.A.FILE:this.moveFile(e,t.file);break;case U.A.REPO:this.moveRepo(e,t.repo);break;case U.A.FILE_IMPORT:for(let a of t.files)this.props.dispatch((0,F.z)({name:a.name,blob:new Blob([a.contents]),folderId:e.id}));break;default:(0,c.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(N.ES(this.props.modalId))},this.moveFile=(e,t)=>{var a;if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(C.z({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:null==(a=this.props.fileMoveData.afterFileMove)?void 0:a.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(C.z({files:[],repos:[t],folder:e,team:a,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,w.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===U.A.FILE_IMPORT)return 1===e.files.length?(0,w.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,w.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===U.A.FILE?e.file.name:e.repo.name;return(0,w.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===U.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(T.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(x.qb({fileMove:this.props.fileMove})),this.props.dispatch(x.YG({isSearchFocused:!0})));let a=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==a){if(!this.scrollContainerElm||-1===a)return;let e=this.props.fileMove.folderRows[a].positionTop,t=this.scrollContainer.getScrollTop(),r=this.scrollContainerElm.clientHeight;e<t?0===a?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+eQ>t+r&&(null!=this.props.fileMove.indexCount&&a===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-r+eQ))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(x.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let a=e.folders[t.data.folderId];return a?r.createElement(e7,{folder:a,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){var e;let t,a,n;let l=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return r.createElement(z.XV,{title:i,fixedTop:!0,minWidth:l,maxWidth:l,onClose:this.onClose,truncateTitleText:!0},r.createElement("div",{className:eP},r.createElement(h.a_,{className:"file_move--spinner--tzpFM"})));let{userResources:s}=this.props.userResources,o=e1(this.props.fileMoveData),d=null==o?null:s.folders[o],m=this.getFocusedFolder();t=this.isMovePageToNewFile?null!=m&&0!==this.state.newFileName.length:this.props.fileMoveData.type===U.A.FILE_IMPORT?null!=m:null!=m&&null!=d&&m.id!==d.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==U.A.FILE_IMPORT,p=this.props.fileMoveData;switch(p.type){case U.A.FILE:a={fileKey:p.fileKey,fileTeamId:p.file&&(null==(e=p.file)?void 0:e.team_id)},n=p.file.editor_type??S._Y.DESIGN;break;case U.A.REPO:a={repoId:p.repoId},n=S._Y.DESIGN;break;case U.A.FILE_IMPORT:a={},n=null;break;default:(0,c.xb)(p)}return r.createElement(et.fu,{name:j.e0.FILE_MOVE_MODAL,properties:a},r.createElement(z.XV,{title:i,fixedTop:!0,minWidth:l,maxWidth:l,onClose:this.onClose,truncateTitleText:!0},_?r.createElement("div",{className:"file_move--mainZeroState--RcEV6 file_move--main--DysMn",id:eZ},r.createElement("div",{className:"file_move--zeroStateModal--46bL1"},r.createElement("div",{style:{paddingTop:"100px"}},r.createElement(w.Tx,{id:"file_browser.file_move.zero_state"})),this.props.currentOrg&&r.createElement("div",{className:y.cx.pt20.$},r.createElement(g.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,w.t)("file_browser.file_move.view_workspaces"):(0,w.t)("file_browser.file_move.view_teams"))))):r.createElement("div",{className:eP,id:eZ},this.isMovePageToNewFile?r.createElement(Z,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):r.createElement("div",{className:"file_move--searchWrapperNew--PLTKN"},r.createElement(e3,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:s})),r.createElement("div",{className:eV}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&r.createElement(r.Fragment,null,this.props.fileMoveData.displayBanner,r.createElement("div",{className:eV})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?r.createElement("div",{className:"file_move--emptyModal---FNas"},r.createElement(w.Tx,{id:"search.file_move.no_results_found",folderSearchQuery:this.props.fileMove.folderSearchQuery})):r.createElement(v.P,{width:l,className:"file_move--teamSectionBody--nGVDN",ref:this.scrollContainerRef,onScroll:this.onScroll},r.createElement(e6,{currentFolderId:o,fileMove:this.props.fileMove,fileEditorType:n,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,teams:s.teams,folders:s.folders,teamNameMaxWidth:l-88,componentMountedAt:this.componentMountedAt,orgId:s.orgId,onDoubleClick:this.moveToSelectedFolder,selectedView:this.props.selectedView,rolesByTeamId:s.roles.byTeamId,dispatch:this.props.dispatch})),r.createElement("div",{className:"file_move--footer--S68Th"},r.createElement(g.nR,{onClick:this.onClose},r.createElement(w.Tx,{id:"modal.cancel"})),r.createElement(g.vd,{disabled:!t,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,w.t)("file_browser.file_move.move")))),this.renderDropdown(),r.createElement(te,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e4.displayName="FileMoveModal";class e3 extends r.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(x.xH()),this.props.dispatch(x.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(x.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eS({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case u.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(x.TL({upperBound:this.props.folderCount}));break;case u.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(x.zv());break;case u.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eS({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(N.Ce()),this.props.dispatch(x.xH());break;case u.Uz.TAB:t&&t.blur(),this.props.dispatch(x.xH());break;case u.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=r.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return r.createElement("div",{className:"file_move--searchContainer--Vqc3R"},r.createElement("div",{className:eB},r.createElement(b.B,{svg:eY.A})),r.createElement(f.L,{ref:this.searchInputRef,placeholder:(0,w.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--Fhcoi":"file_move--searchInputEmptyNew--Tviug file_move--searchInputNew--Fhcoi",value:this.props.searchQuery,onChange:this.onChange}))}}function e8(e){var t,a,n,l,i,s;let{team:o,teamId:c}=e,[d,{onMouseOver:m,onMouseOut:u}]=(()=>{let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(()=>t(!0),[t]),n=(0,r.useCallback)(()=>t(!1),[t]);return(0,r.useMemo)(()=>[e,{onMouseOver:a,onMouseOut:n}],[e,a,n])})(),p=(0,_.Rs)(M.bel,{teamId:(null==o?void 0:o.id)??""},{enabled:!!(null==o?void 0:o.id)}),g=(null==(n=null==(a=null==(t=p.data)?void 0:t.team)?void 0:a.teamFileCounts)?void 0:n.designFileCount)??0,E=(null==(s=null==(i=null==(l=p.data)?void 0:l.team)?void 0:i.teamFileCounts)?void 0:s.whiteboardFileCount)??0,f=null==e.fileEditorType?null:"whiteboard"===e.fileEditorType?{type:B.sK.ADD_FIGJAM_FILE,nCurrentWhiteboardFiles:E}:{type:B.sK.ADD_DESIGN_FILE,nCurrentDesignFiles:g},h=e.fileNotInTeam&&o&&f&&!(0,B.rR)((0,V.Ws)(o),f);return r.createElement(r.Fragment,null,e.showTitle&&r.createElement("div",{className:"file_move--teamTitleNew--A0OC- text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:m,onMouseLeave:u},(c===x.iK||c===x.HK)&&r.createElement("div",{className:eB},r.createElement(b.B,{svg:eK.A})),r.createElement("div",{className:"file_move--teamTitleRow--Q0EfX"},r.createElement("div",{className:"file_move--teamName--cY-n-"},r.createElement("div",{className:"file_move--teamTitleText--ASbUy ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},c===x.iK||c===x.HK?(0,w.t)("file_browser.shared_projects"):o.name),h&&r.createElement("div",{className:"file_move--warningIcon--oGIGB"},r.createElement(b.B,{svg:eH.A,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,w.t)("file_browser.file_move.paywall_team_tooltip")}))),d&&o&&!h&&r.createElement("div",{className:"file_move--newProjButton--t5gdY"},r.createElement(ee.I,{team:o,isBackgroundTransparent:!0,trackingContextName:j.e0.FILE_MOVE_MODAL})))))}function e5(e){let t=(0,r.useRef)(null),[a,n]=(0,r.useState)(!1),i=(0,l.wA)();return(0,r.useEffect)(()=>{!a&&e.isTeamNew&&t.current&&e.hasFolderSection&&(i(x.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),n(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,a,t,i]),r.createElement("div",{className:e.className,ref:t},e.children)}function e6(e){let{fileMove:t,teams:a,selectedView:n}=e,i=(0,l.wA)(),s=Object.values(a).map(e=>(function(e){var t;let a=null!=e.orgId,r=e.subscription===S.Qh.INCOMPLETE||e.subscription===S.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!a&&!r,org_team:a,student_team:!!e.studentTeamAt,deleted_at:(null==(t=e.deletedAt)?void 0:t.toString())||null}})(e));return r.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{var l,s;let o=n!==x.HK,c=n!==x.iK&&n!==x.HK,d=((null==(l=t.foldersByTeamId)?void 0:l[n])||[]).length>0;if(!(o||c||d))return null;let u=a[n];if(!u&&!(n===x.iK||n===x.HK)||(0,m.kc)().ps_benchmark&&n===x.HK&&!e.orgId)return null;let _=u?new Date(a[n].createdAt):void 0,p=_&&_>e.componentMountedAt,g=t.indexOffsets[n]+1,E=!!e.currentFolderId&&n!==(null==(s=e.folders[e.currentFolderId])?void 0:s.teamId);return r.createElement(e5,{className:"file_move--teamSection--dIDTQ",isTeamNew:p,firstFolderFocusedIndex:g,hasFolderSection:d,key:`Team Section ${n}`},r.createElement(e8,{team:u,teamId:n,showTitle:o,isACustomTeam:c,fileNotInTeam:E,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),d&&(t.foldersByTeamId[n]||[]).map((a,l)=>{let s=l+e.indexOffsets[n];return c&&(s+=1),r.createElement(e9,{key:`${a.teamId} ${a.id}`,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:s,focusedFolderIndex:t.focusedIndex,folder:a,isSearchingFolders:!!t.isSearchResult,currentFolderId:e.currentFolderId,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:j.e0.FILE_MOVE_MODAL,dispatch:i,onDoubleClick:e.onDoubleClick})}))}),!e.orgId&&r.createElement(e$,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:j.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:s,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}e3.displayName="FileMoveSearch";class e9 extends r.PureComponent{constructor(){super(...arguments),this.submitFolderRename=(e,t)=>{(0,o.sx)("Rename Folder",{trackingContext:this.props.trackingContextName}),this.props.dispatch((0,k.xv)({folderId:e.id,folderName:t})),this.props.dispatch(x.Mn())},this.cancelFolderRename=()=>{this.props.dispatch(x.Mn())},this.focusFolder=(e,t)=>{this.props.dispatch(x.Dp({indexAt:this.props.index}))},this.onContextMenu=(e,t)=>{this.props.onFileMoveContextMenu(t,e)},this.renderFolderRename=e=>r.createElement("div",{className:eW},r.createElement(E.p,{key:`input ${e.id}`,className:"file_move--renameInput--S5hVy",placeholderValue:(0,D.CI)(e),submit:this.submitFolderRename.bind(this,e),cancel:this.cancelFolderRename})),this.isBeingRenamed=()=>this.props.folderBeingRenamed===this.props.folder.id,this.onDoubleClick=e=>{this.isBeingRenamed()||this.props.onDoubleClick()},this.renderFolderRow=(e,t)=>{let a=e0(e)&&this.props.isSearchingFolders,n=this.props.focusedFolderIndex&&this.props.focusedFolderIndex>-1?t:this.props.currentFolderId===e.id,l=(0,m.kc)().ps_benchmark&&(0,D.jd)(e)?eJ.A:eq.A;return r.createElement("div",{className:eW},r.createElement("div",{className:eB},r.createElement(b.B,{svg:n?ej.A:l})),r.createElement("span",{className:"file_move--folderName--Mxx5M ellipsis--ellipsis--Tjyfa"},(0,D.CI)(e)),r.createElement("div",{className:eB},a&&r.createElement(b.B,{svg:ez.A})))}}render(){let e=this.props.focusedFolderIndex===this.props.index,t=this.props.folderBeingRenamed?eU:e?"file_move--folderRowWrapperFocusedNew--gWdRJ file_move--folderRowWrapper--1PhcQ":eU,{folder:a}=this.props;return r.createElement("div",{className:t,onMouseDown:e=>this.focusFolder(a,e),key:`${a.teamId} ${a.id}`,onContextMenu:e=>this.onContextMenu(a,e),onDoubleClick:this.onDoubleClick},this.isBeingRenamed()?this.renderFolderRename(a):this.renderFolderRow(a,e))}}e9.displayName="FolderSection";class e7 extends r.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(x.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,a=eX(this.props.selectedView);return r.createElement(p.W.Dropdown,{className:"file_move--fileMoveContextMenu--tOCh9",style:this.props.dropdownShown.data.position},r.createElement(p.W.Option,{disabled:!t,onClick:this.renameFolder},r.createElement(w.Tx,{id:"file_browser.file_move.context_menu_rename"})),r.createElement(p.W.Separator,null),r.createElement(p.W.Option,{href:(0,W.EE)(e.id,e.orgId),target:a},r.createElement(w.Tx,{id:"file_browser.file_move.context_menu_show_in_files"})))}}e7.displayName="FileMoveDropdown";class te extends r.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return r.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}te.displayName="FileMoveHiddenDiv"},761909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MoveDraftToProjectInterstitialModal:()=>h});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(966712),o=a(799569),c=a(946689),d=a(939863),m=a(662275),u=a(931828),_=a(672517),p=a(488578),g=a(127347),E=a(209590),f=a(954797);function h(e){let t=(0,n.wA)(),a=(0,s.kc)().ps_benchmark,l=()=>{t(u.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(m.Lo())};return r.createElement(_.fu,{name:"MoveDraftToProjectInterstitialModal"},r.createElement(p.aF,{title:a?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:E.wN,className:E.KP,size:320,popStack:!0,disableClickOutsideToHide:!0},r.createElement(o.Jn,{className:i()(f.J_,f.BQ),onClick:l}),r.createElement("span",null,a?r.createElement(d.Tx,{id:"file_browser.draft_to_project.body.plan_spaces"}):r.createElement(d.Tx,{id:"file_browser.draft_to_project.body.seat_rename"}),r.createElement("br",null)),r.createElement("div",{className:i()(E.v0,E.hF)},r.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},r.createElement(c.tM,null,r.createElement(d.Tx,{id:"general.learn_more"}))),r.createElement(c.vd,{className:E.pL,onClick:()=>{l(),(0,g.h)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData)}},r.createElement(d.Tx,{id:"file_browser.draft_to_project.move"})))))}},536902:(e,t,a)=>{"use strict";a.d(t,{cx:()=>l});var r=a(503457),n=a(196700);a(407840);let l=n.A.createLazyComponent(()=>Promise.resolve().then(a.bind(a,407840)).then(e=>e.default),{loading:()=>null,error:r.H4.NONE,componentName:"FileBrowserOverlays"})},318067:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EduUpgradeModal:()=>p});var r=a(411855),n=a(188507),l=a(946689),i=a(939863),s=a(602449),o=a(507877),c=a(662275),d=a(995852),m=a(672517),u=a(243987),_=a(585878);function p(){let e=(0,n.d4)(e=>e),t=(0,n.wA)(),a=r.useCallback(()=>{t(c.Ce())},[t]),p=r.useCallback(e=>{a(),t(d.Vm({teamId:e.id}))},[t,a]),g=r.useCallback(()=>{a(),t(o.Dw({isEduTeam:!0}))},[t,a]),E=r.useMemo(()=>(0,u.Kg)(e),[e]);return r.useLayoutEffect(()=>{0===E.length&&g()},[t,E.length,g]),r.createElement(m.fu,{name:"Edu Team Upgrade Modal"},r.createElement(_.XV,{title:(0,i.t)("edu.upgrade_teams.headline"),onClose:a},r.createElement("div",{className:"edu_upgrade_modal--container--i6yXs"},r.createElement("p",{className:"edu_upgrade_modal--bodyText----Png"},r.createElement(i.Tx,{id:"edu.upgrade_teams.body",link:r.createElement(l.Ph,{className:"edu_upgrade_modal--link--iViOy",href:"/pricing",target:"_blank",trusted:!0},r.createElement(i.Tx,{id:"edu.upgrade_teams.body_link_text"}))}),E.length>1&&r.createElement(r.Fragment,null," ",r.createElement(i.Tx,{id:"edu.upgrade_teams.body_multiple_teams"}))),r.createElement(s.I,{eligibleTeams:E,selectTeam:p,showEditorCount:!1,customUpgradeText:(0,i.t)("general.next")}),r.createElement(l.Ph,{className:"edu_upgrade_modal--createTeamLink--BG8ak edu_upgrade_modal--link--iViOy",onClick:g,trusted:!0},r.createElement(i.Tx,{id:"edu.or_create_a_new_team"})))))}},400575:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DowngradeSurveyModal:()=>R,DowngradeSurveyModalAdmin:()=>F,DowngradeSurveyModalLeaveTeam:()=>M,LEAVE_TEAM_DOWNGRADE_SURVEY:()=>D,TEAM_ADMIN_DOWNGRADE_SURVEY:()=>O});var r=a(411855),n=a(939863),l=a(662275),i=a(902957),s=a(171267),o=a(188507),c=a(946689),d=a(611978),m=a(585878);function u({id:e,label:t,children:a,onChange:n}){let[l,i]=r.useState(!1);return r.createElement("fieldset",{name:e},r.createElement("div",{className:"survey_option--inputContainer--o0fJK"},r.createElement(c.tB,{id:e,checked:l,onChange:e=>{i(!l),n&&n(e)}}),r.createElement("label",{className:"survey_option--label--SFMsQ",htmlFor:e},t)),l&&a&&r.createElement("div",{className:"survey_option--subContainer--X6LY7"},a))}var _=a(717068),p=a(629019),g=a.n(p),E=a(268537),f=a(773058),h=a(908968);function v(e){let[t,a]=r.useState(""),n=e=>{a(e.target.value)};return e.textarea?r.createElement(h.v,{value:t,onChange:n,...e}):r.createElement(c.ks,{id:e.id,className:"survey_text_input--input--yJqhG",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let b="downgrade_survey_modal_component_v2--surveyQuestions--Fbrl5",y="downgrade_survey_modal_component_v2--researchContact--kH5sF",w="downgrade_survey_modal_component_v2--hiddenInput--uXDrM",T="downgrade_survey_modal_component_v2--radio--oMW-c",x=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function C({id:e,shorthand:t}){return r.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--jNXxg"},r.createElement("p",null,r.createElement(n.Tx,{id:`downgrade_survey.survey_option.too_expensive.${e}`})),r.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--A-rqx"},t))}let N=[{id:"too_expensive",value:"Too expensive",children:r.createElement(function(){let e="other_currency",[t,a]=r.useState(""),l=e=>{a(e.currentTarget.id)},i=[...x.map(({id:e,shorthand:t})=>r.createElement(E.W.Option,{id:e,key:e,onClick:l},r.createElement(C,{id:e,shorthand:t}))),r.createElement(E.W.Separator,{key:"separator"}),r.createElement(E.W.Option,{id:e,onClick:l,key:e},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.too_expensive.other_currency"}))];return r.createElement("fieldset",null,r.createElement(u,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},r.createElement("fieldset",{className:g()({"downgrade_survey_modal_component_v2--currencySelector__other--8SQPi":t===e})},r.createElement(E.W.DropdownSelector,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:i}),r.createElement("input",{id:"currency",className:w,readOnly:!0,value:t}),t===e&&r.createElement(v,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),a=t.find(e=>"currency_conversion"===e.id),r=t.find(e=>"currency"===e.id),n=null==r?void 0:r.value,l=t.find(e=>"currency_input"===e.id),i=(null==l?void 0:l.value)||n||void 0;return{currencyConversion:null==a?void 0:a.checked,currency:i}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:r.createElement(function(){return r.createElement("fieldset",null,r.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--2Afq4"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.no_longer_using_figma_products.other_products"})),r.createElement(v,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:(null==t?void 0:t.value)||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:r.createElement(function(){let[e,t]=r.useState("");return r.createElement(r.Fragment,null,r.createElement(f.z,{value:e,onChange:e=>t(e)},r.createElement(f.Z,{className:T,value:"Starter plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.starter_plan"})),r.createElement(f.Z,{className:T,value:"Organization plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.organization_plan"})),r.createElement(f.Z,{className:T,value:"Enterprise plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.enterprise_plan"})),r.createElement(f.Z,{className:T,value:"Education plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.education_plan"}))),r.createElement("input",{id:"new_plan",className:w,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:(null==t?void 0:t.value)||void 0}}}],k={id:"other",value:"Other",children:r.createElement(function(){return r.createElement(v,{className:"downgrade_survey_modal_component_v2--otherTextArea--7N8lr",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},S=(0,_.k4)(N).concat(k);var I=a(321112),A=a(538411);function L({cancelText:e,onSubmit:t}){let[a,i]=r.useState([]),s=e=>{let{id:t}=e.currentTarget;a.includes(t)?i(a.filter(e=>e!==t)):i([...a,t])},_=(0,o.wA)(),p=(0,d._6)().teamId,g=()=>{_(l.Ce())};return r.createElement(m.XV,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:g,dataTestId:"downgrade-survey-modal"},r.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--ZRJx1",onSubmit:e=>{e.preventDefault();let r=Array.from(e.currentTarget.getElementsByClassName(b)[0].getElementsByTagName("fieldset")),n=a.map(e=>{let t=r.find(t=>t.name===e),{value:a,getSubOptions:n}=S.find(t=>t.id===e);return{reason:a,...n&&n(t)}});t({teamId:p,canContact:e.currentTarget.getElementsByClassName(y)[0].getElementsByTagName("input")[0].checked,selectedOptions:n})}},r.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--lpODC"},r.createElement("fieldset",{className:b},r.createElement("legend",null,r.createElement(n.Tx,{id:"downgrade_survey.what_made_you_cancel_your_plan"})),!a.length&&r.createElement("p",{className:A.Q},r.createElement(n.Tx,{id:"downgrade_survey.select_one"})),S.map(({id:e,children:t})=>r.createElement(u,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:s},t))),r.createElement("fieldset",{className:y},r.createElement("legend",null,r.createElement(n.Tx,{id:"downgrade_survey.research_contact"})),r.createElement(u,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")}))),r.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Fnw6B"},r.createElement(c.tM,{className:I.Lu,type:"button",onClick:g},e),r.createElement(c.vd,{type:"submit",disabled:!a.length,className:I.pL,autoFocus:!1},r.createElement(n.Tx,{id:"downgrade_survey.continue"})))))}class R extends r.PureComponent{constructor(){super(...arguments),this.onSubmit=e=>{var t,a;let r=null==(t=this.props.modalShown)?void 0:t.data.teamId,n=null==(a=this.props.modalShown)?void 0:a.data.billingEndDate;if("admin"===this.props.context)this.props.dispatch(l.to({type:s.Hu,data:{teamId:r,billingEndDate:n,exitSurveyData:e}}));else if("leave-team"===this.props.context){let e=this.props.teams[r];this.props.dispatch(i.yH({team:e,userInitiated:!0})),this.props.dispatch(l.Ce())}}}render(){let e="admin"===this.props.context?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team");return r.createElement(L,{onSubmit:this.onSubmit,cancelText:e})}}R.displayName="DowngradeSurveyModal";let O="team-admin-downgrade-survey",D="leave-team-downgrade-survey";function F(e){return r.createElement(R,{...e,context:"admin"})}function M(e){return r.createElement(R,{...e,context:"leave-team"})}},796831:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FOLDER_MOVE_MODAL_TYPE:()=>I,FolderMoveModal:()=>A});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(398977),o=a(946689),c=a(827586),d=a(574176),m=a(939863),u=a(662275),_=a(672517),p=a(688083),g=a(623746),E=a(428467),f=a(851363),h=a(231959),v=a(143678),b=a(392340),y=a(585878),w=a(566067),T=a(12167);let x="folder_move--iconContainer--HGcFw file_move--iconContainer--miUkC";var C=a(613557),N=a(450147),k=a(126815),S=a(575675);let I="folder-move-modal-type";function A(e){var t,a;let l,i;let T=(0,n.wA)(),x=(0,n.d4)(e=>e.currentUserOrgId),N=(0,n.d4)(e=>null!=x?e.orgById[x]:null),S=(0,b.Q)({currentOrgId:x,currentTeamId:null}),I=(0,n.d4)(t=>t.folders[e.folderId]),[A,O]=(0,r.useState)(void 0),[D,F]=(0,r.useState)(void 0),M="loaded"===S.status?{...S.data.currentUser}:null,P={},B=[],U=(0,E.usePermissionsState)();if(M){let e=[];(M.teamRoles??[]).forEach(t=>{var a,r,n,l,s,o,c,d;if((null==(a=t.team)?void 0:a.orgId)===x&&!(null==(r=t.team)?void 0:r.deletedAt)&&!t.pending){if((null==(n=t.team)?void 0:n.id)===I.team_id){i=t;return}e.push(t),(null==(s=null==(l=t.team)?void 0:l.workspace)?void 0:s.id)?(P[null==(o=t.team.workspace)?void 0:o.id]=P[null==(c=t.team.workspace)?void 0:c.id]??[],P[null==(d=t.team.workspace)?void 0:d.id].push(t)):t.team&&B.push(t)}});let r=null==(t=M.baseOrgUser)?void 0:t.workspaceUsers;l=null==(a=null==r?void 0:r.find(e=>null==e?void 0:e.isMainWorkspace))?void 0:a.workspaceId}let W=()=>{T(u.Ce())},V=(e,t)=>{O(e),F(t)},G=(0,r.useCallback)(()=>{if(A&&!D){let e=(0,f.bL)(null==A?void 0:A.id,A.orgId);s.Ay.redirect(e,"_blank")}},[A,D]),$=(0,r.useCallback)(e=>{if(!N)return;let t={workspaceId:e??h.O,onSubmitReturnToPrevView:!1};T(u.to({type:w.Uc,data:t}))},[N,T]),j=e=>r.createElement(r.Fragment,null,e.map(e=>r.createElement(R,{team:e.team,key:e.id,selectedTeamId:null==A?void 0:A.id,onSelectTeam:V,permissionsState:U}))),H=e=>r.createElement(R,{team:e.team,key:e.id,selectedTeamId:null==A?void 0:A.id,isCurrentTeam:!0,permissionsState:U,onSelectTeam:V}),q=Object.keys(P).length>0,Y=A&&i&&i.team.id===A.id;return r.createElement(_.fu,{name:v.e0.FILE_MOVE_MODAL},r.createElement(y.XV,{title:(0,m.t)("file_browser.folder_move.modal_header",{folderName:I.name}),fixedTop:!0,minWidth:288,maxWidth:288,onClose:W,truncateTitleText:!0},r.createElement("div",{className:"folder_move--main--DGxue file_move--main--DysMn"},r.createElement(c.P,{className:"folder_move--teamSectionBody--IdXSe file_move--teamSectionBody--nGVDN"},r.createElement("div",{className:"folder_move--teamSection---mSZ3 file_move--teamSection--dIDTQ"},q?(function(e,t,a){var r,n;let l=(null==(n=null==(r=null==t?void 0:t.team)?void 0:r.workspace)?void 0:n.id)??null,i=[l];return a&&a!==l&&e[a]&&i.push(a),Object.keys(e).filter(e=>e!==l&&e!==a).sort((t,a)=>{var r,n,l,i,s,o,c,d;let m=(null==(i=null==(l=null==(n=null==(r=e[t][0])?void 0:r.team)?void 0:n.workspace)?void 0:l.name)?void 0:i.toLocaleUpperCase())??"",u=(null==(d=null==(c=null==(o=null==(s=e[a][0])?void 0:s.team)?void 0:o.workspace)?void 0:c.name)?void 0:d.toLocaleUpperCase())??"";return m<u?-1:m>u?1:0}).forEach(e=>{i.push(e)}),null!==l&&i.push(null),i})(P,i,l).map(e=>{var t,a,n,l,s;if(null===e){if(B.length>0)return r.createElement(r.Fragment,{key:"other_teams_key"},r.createElement(L,{headerName:(0,m.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:$,workspaceId:null}),null!=i&&(null==(a=null==(t=i.team)?void 0:t.workspace)?void 0:a.id)==null&&H(i),j(B))}else if(P[e]){let t=P[e],a=t?(null==(n=t[0].team)?void 0:n.workspace)??null:null;return r.createElement(r.Fragment,{key:e},r.createElement(L,{headerName:(null==a?void 0:a.name)??"",onCreateNewTeamClick:$,workspaceId:(null==a?void 0:a.id)??null}),null!=i&&(null==(s=null==(l=i.team)?void 0:l.workspace)?void 0:s.id)===e&&H(i),j(t))}}):r.createElement(r.Fragment,null,N&&r.createElement(L,{key:"org_teams_header",headerName:N.name,onCreateNewTeamClick:$,workspaceId:null}),null!=i&&H(i),j(B))),A&&!D&&r.createElement("div",{className:"folder_move--warningContainer--q2lzX"},r.createElement("div",{className:"folder_move--warningSectionIcon--WGH1a"},r.createElement(d.B,{svg:k.A})),r.createElement("div",null,r.createElement(m.Tx,{id:"file_browser.folder_move.move_project_no_edit_access_warning"}),r.createElement("div",{className:"folder_move--warningCTALink--vETZA",onClick:G,role:"link",tabIndex:0},r.createElement(m.Tx,{id:"file_browser.folder_move.view_team"}),r.createElement("div",{className:"folder_move--arrowRightIcon--bUCiI"},r.createElement(d.B,{svg:C.A})))))),r.createElement("div",{className:"folder_move--footer--xIl8i file_move--footer--S68Th"},r.createElement(o.nR,{onClick:W},r.createElement(m.Tx,{id:"modal.cancel"})),r.createElement(o.vd,{onClick:()=>{null!=A&&T((0,p.Nr)({folder:(0,g.Bp)(I),team:A})),W()},disabled:void 0===A||!D||!!Y},r.createElement(m.Tx,{id:"file_browser.folder_move.move_project"}))))))}function L(e){let[t,a]=(0,r.useState)(!1);return r.createElement("div",{className:"folder_move--teamsHeaderRow--YyVyz text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>a(!0),onMouseLeave:()=>a(!1)},r.createElement("div",null,e.headerName),t&&r.createElement(T.f,{data_tooltip:(0,m.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,m.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}}))}function R(e){var t;let{team:a}=e;if(null==a)return r.createElement(r.Fragment,null);let n=i()(["folder_move--teamTitle--oRK-f file_move--teamTitle--D8eRQ text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===(null==(t=e.team)?void 0:t.id)?"folder_move--selectedTeamTitle--XKoaI":""]),l=(0,E.canEditTeam)(a.id,e.permissionsState);return r.createElement("div",{className:n,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(a,l)},role:"button",tabIndex:0},r.createElement("div",{className:x},r.createElement(d.B,{svg:e.isCurrentTeam?N.A:S.A})),r.createElement("div",{className:"folder_move--teamTitleRow--OkjOD file_move--teamTitleRow--Q0EfX"},r.createElement("div",{className:"folder_move--teamName--mgSYj file_move--teamName--cY-n-"},a.name)),e.selectedTeamId===a.id&&!l&&r.createElement("div",{className:x},r.createElement(d.B,{svg:k.A})))}},951559:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConfirmDowngradeModal:()=>g});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(776250),o=a(946689),c=a(939863),d=a(662275),m=a(995852),u=a(585878),_=a(209590);let p=r.memo(function(e){let t=(0,n.wA)(),{teamId:a,billingEndDate:l,exitSurveyData:p}=e.modalShown.data,g=e.teams[a],E=()=>{t(d.Ce())},f=l?r.createElement(c.Tx,{id:"confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",teamName:g.name,billingEndDate:l}):r.createElement(c.Tx,{id:"confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",teamName:g.name});return r.createElement(u.XV,{onClose:E,title:(0,c.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},r.createElement("div",{className:_.Dy},r.createElement("p",null,f),r.createElement("div",{className:i()(_.v0,_.hF)},r.createElement(o.tM,{onClick:E},r.createElement(c.Tx,{id:"confirm_downgrade.go_back"})),r.createElement(o.qM,{className:_.pL,onClick:()=>{p&&(0,s.sx)("Team Downgrade Survey",{...p,selectedOptions:p.selectedOptions.map(e=>JSON.stringify(e))}),t(d.Ce()),t(m.Wc({teamId:a}))}},r.createElement(c.Tx,{id:"confirm_downgrade.finish_cancellation"})))))});function g(e){return r.createElement(p,{...e})}},14153:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TeamPermissionsModal:()=>ev,TeamPermissionsModalInner:()=>ey});var r=a(411855),n=a(188507),l=a(776250),i=a(935283),s=a(367253),o=a(498750),c=a(499737),d=a(493323),m=a(939863),u=a(392592),_=a(824520),p=a(315382),g=a(662275),E=a(140908),f=a(672517),h=a(99506),v=a(279453),b=a(691205),y=a(643067),w=a(243987),T=a(147206),x=a(297536),C=a(428467),N=a(416618),k=a(389643),S=a(392830),I=a(668860),A=a(501256),L=a(613077),R=a(585878),O=a(542059),D=a(498540),F=a(297666),M=a(799569),P=a(268537),B=a(946689),U=a(574176),W=a(738269),V=a(331363),G=a(336599),$=a(937890),j=a(498606),H=a(237870),q=a(771e3),Y=a(227795),z=a(488578);let K="team_join_link_permissions--loadedViewWrapperWithPaddingTop--VRkqb team_join_link_permissions--loadedViewWrapper--LjAIr";var J=a(965358),Q=a(289298);let Z=(0,F.s)((e,t,a)=>e(V.do({teamId:t,level:a}))),X=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,C.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,C.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,a)=>({isInLoadingState:function(e,t,a){let r=!(0,G.VP)(t,(0,$.OL)(e))&&!(0,G.aF)(t,(0,$.OL)(e))&&!a;return(0,G.VP)(t,(0,$.OL)(e))||(0,G.VP)(t,V.ui.loadingKeyForPayload({teamId:e}))||(0,G.VP)(t,(0,$._M)(e))||r}(a.teamId,e.loadingState,e.teamJoinLinks),...e,...a,...t}))(function(e){var t,a,n,l;let{dispatch:i,teamId:s,initialInviteLevel:o,canAdmin:c,canEdit:d}=e,[u,_]=(0,r.useState)(o);if((0,r.useEffect)(()=>(Z(i,s,o),()=>{i(V.F1(null))}),[i,s,o]),!e.isInLoadingState&&!e.teamJoinLinks||!c&&(null==(t=e.teamJoinLinks)?void 0:t.disabled))return null;let p=d&&!!(null==(a=e.teamJoinLinks)?void 0:a.url);return r.createElement(r.Fragment,null,r.createElement("div",{style:p?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},r.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},r.createElement(m.Tx,{id:"team_join_links.invite_link"})),p&&r.createElement(ee,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{i(g.$O({type:er,data:{resetLink:()=>{i(V.Nw({teamId:s,level:u,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>i(V.ui({teamId:s})),loading:e.isInLoadingState,canAdmin:c})),e.isInLoadingState||(null==(n=e.teamJoinLinks)?void 0:n.url)?r.createElement(et,{dropdownShown:e.dropdownShown,setLevel:e=>{u!==e&&(_(e),i(V.do({teamId:s,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>_(u)})))},currentLevel:u,url:e.isInLoadingState?void 0:null==(l=e.teamJoinLinks)?void 0:l.url,addPaddingTop:!p,inviteLevels:d?[I.e6.VIEWER,I.e6.EDITOR]:[I.e6.VIEWER],teamId:e.teamId}):r.createElement(ea,{turnOnInviteLinks:()=>i(V.Nw({teamId:s,level:u}))}))});function ee(e){let t=(0,n.wA)(),a="team-link-settings-dropdown",l=r.createRef(),i=()=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===a};return r.createElement("div",null,r.createElement("div",{ref:l},r.createElement(Y.YW,{svg:J.A,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,m.t)("team_join_links.team_invite_link_settings"),onClick:()=>{var e;let r=null==(e=l.current)?void 0:e.getBoundingClientRect();i()?t(W.oB()):r&&t(W.j7({type:a,data:{targetRect:r}}))},onMouseDown:e=>e.stopPropagation(),selected:i(),disabled:e.loading})),i()&&r.createElement(q.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},r.createElement(P.W.Option,{onClick:e.resetInviteLinks},r.createElement(m.Tx,{id:"team_join_links.reset_invite_links"})),e.canAdmin&&r.createElement(P.W.Option,{onClick:e.disableInviteLinks},r.createElement(m.Tx,{id:"team_join_links.turn_off_invite_links"}))))}function et(e){let t=(0,n.wA)(),a="join-link-permission-level-dropdown",l=e.currentLevel===I.e6.VIEWER?"28px":"-20px";return r.createElement("div",{className:e.addPaddingTop?K:"team_join_link_permissions--loadedViewWrapper--LjAIr"},r.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},r.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&r.createElement(d.kt,null),e.url&&r.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),r.createElement("div",{onClick:r=>{r.stopPropagation(),e.url&&(e.dropdownShown?t(W.oB()):t(W.j7({type:a})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},r.createElement("span",null,(0,T.C1)(e.currentLevel)),r.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},r.createElement(U.B,{svg:Q.A})),e.dropdownShown&&e.dropdownShown.type===a&&r.createElement(P.W.Dropdown,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:l}},e.inviteLevels.map((t,a)=>r.createElement(P.W.CheckableOption,{key:a,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,T.C1)(t)))))),r.createElement(B.$$,{className:"team_join_link_permissions--copyLinkButton--X-8QT",onClick:()=>{e.url&&t(V.LN({teamId:e.teamId,url:e.url,source:V.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},r.createElement(m.Tx,{id:"team_join_links.copy_link"})))}function ea(e){return r.createElement("div",{className:K},r.createElement(m.Tx,{id:"team_join_links.share_a_secret_link_people_can_use_to_join_your_team"})," ",r.createElement(B.Us,{onClick:e.turnOnInviteLinks,trusted:!0},r.createElement(m.Tx,{id:"team_join_links.turn_on_invite_links"})))}let er="RESET_LINKS_CONFIRMATION_MODAL";(0,H.Ju)(function(e){let t=(0,n.wA)();return r.createElement(z.aF,{className:"team_join_link_permissions--confirmationModal--iwmpk",size:288},r.createElement("div",{className:"team_join_link_permissions--titleAndCloseButton--5XqxG"},r.createElement(M.s_,{dispatch:t}),r.createElement("div",{className:"team_join_link_permissions--confirmationModalTitle--Htxwx"},r.createElement("span",null,r.createElement(m.Tx,{id:"team_join_links.reset_invite_links"})))),r.createElement("p",{className:"team_join_link_permissions--confirmationModalBody--qUqac"},r.createElement(m.Tx,{id:"team_join_links.modal_description"})),r.createElement("div",{className:"team_join_link_permissions--confirmationModalButtonContainer--rsNVu"},r.createElement(B.tM,{onClick:()=>t(g.Lo())},r.createElement(m.Tx,{id:"team_join_links.cancel"})),r.createElement(B.qM,{onClick:()=>{e.resetLink(),t(g.Lo())}},r.createElement(m.Tx,{id:"team_join_links.reset_links"}))))},er);var en=a(1700),el=a(800535),ei=a(479842),es=a(647501),eo=a(794094),ec=a(881816),ed=a(977468),em=a(299410),eu=a(515471),e_=a(553551),ep=a(761382),eg=a(68188);function eE(e){let t=e.canAdmin,a=r.createElement(U.B,{className:eu.wk,svg:ep.A});e.sharingAudienceControl===h.PQ.ORG_EDIT||e.sharingAudienceControl===h.PQ.ORG_VIEW?a=r.createElement("div",{className:eu.AA},r.createElement(U.B,{svg:eg.A})):(e.sharingAudienceControl===h.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===h.PQ.WORKSPACE_VIEW)&&(a=r.createElement("div",{className:eu.AA},e.workspace&&r.createElement(ed.z6,{entity:e.workspace,size:24})));let n=e.sharingAudienceControl===h.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,l=n?eu.Fl:eu.Jt;return r.createElement("div",{className:t?l:eu.zn,onClick:t?()=>e.changeModalView(1):void 0,role:"button","data-onboarding-key":ec.F,tabIndex:0},a,r.createElement("div",{className:eu.$S},r.createElement("div",null,e.sharingAudienceControl&&(0,em.ET)(e.sharingAudienceControl,e.org,e.workspace),n&&r.createElement("div",{className:eu.JZ},(0,m.t)("team_creation.anyone_can_find_this_team"))),e.org&&r.createElement("div",{className:eu.j7,"data-onboarding-key":ec.F},e.sharingAudienceControl&&(0,em.mi)(e.sharingAudienceControl),t&&r.createElement(U.B,{svg:e_.A,className:eu.$w}),t&&r.createElement(ec.j,null))))}var ef=a(902185),eh=a(225530);function ev(e){return r.createElement(ey,{teamId:e.modalShown.data.teamId,notifyOnSuccess:!!e.modalShown.data.notifyOnSuccess,initialInviteLevel:e.modalShown.data.initialInviteLevel,prepopulateEmail:e.modalShown.data.prepopulateEmail,initialView:e.modalShown.data.initialView,...e})}let eb={domains:[],isFetching:!1,fetchedAt:null};function ey(e){let t,{user:a,teamId:F,initialInviteLevel:M,prepopulateEmail:P,autocomplete:B,contacts:U,dispatch:W}=e,V=b.M4.Team.useValue(F).data,G=a.id,$=(0,c.Rs)(v.GyZ,{teamId:F}),j=(0,r.useMemo)(()=>(0,x.X)($),[$]),H=j&&j.org,q=j&&j.teamSharingSettings,Y=j&&j.orgUser,z=H?H.id:null,K=j&&j.workspace,J=(0,S.D)(F||null,z),Q=H&&H.org_domains?H.org_domains:eb,Z=(0,n.d4)(e=>e.contacts.googleContacts),ee=(0,E.d$)({userId:G,currentOrgId:z,tracked:!1}),[et,ea]=(0,r.useState)([]),[er,ec]=(0,r.useState)([]),ed=r.useMemo(()=>{let t=e.roles.byTeamId[F]||{};return Object.keys(t).map(e=>t[e]).sort((t,a)=>t.pending===a.pending?(0,en.E4)(t,e.contacts).toLocaleLowerCase()<(0,en.E4)(a,e.contacts).toLocaleLowerCase()?-1:1:t.pending?1:-1)},[e.roles.byTeamId,F,e.contacts]);(0,r.useEffect)(()=>{W(p.um())},[W]),(0,r.useEffect)(()=>{let e=(0,k.Uj)(B,U.usersByEmail,a,ed,Z,ee);ea(e.filter(e=>!e.isAdditionalContact)),ec(e.filter(e=>e.isAdditionalContact))},[B,U.usersByEmail,a,ed,Z,ee]);let em=e=>M||(!(0,w.w5)(V)&&e?I.e6.EDITOR:I.e6.VIEWER),[eu,e_]=(0,r.useState)(()=>em((0,C.canEditTeam)(F,e))),ep=(0,r.useCallback)(e=>(0,x.yI)(e,U.usersByEmail[e]||e,H,Q,a.email),[U.usersByEmail,Q,a.email,H]);(0,r.useEffect)(()=>{if(P){let e=ep(P);W(_.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[P,ep,W]);let eg=e=>{e_(e)},ev=e=>(0,x.t9)(e,H,Q),ey=t=>{let r;let n=(0,A.Z)(t);Z&&(r=new Set(Z.map(e=>e.email))),W((0,N.rq)({emails:n,resourceType:h.vt.TEAM,resourceIdOrKey:F,level:eu,emailsToExclude:(0,k.bp)(U.usersByEmail,a,ed),onSuccess:({invites:t,over_editor_limit:a},r)=>{if(eu>=I.e6.EDITOR&&a){let a=(0,C.getResourceTeamId)(t[0],e),r=a&&{...e.teams[a],canEdit:(0,C.canEditTeam)(a,e),canAdmin:(0,C.canAdminTeam)(a,e)};W(g.to({type:O.oE,data:{team:r,invitesSent:t.length,editorType:null}}));return}r||J||eT(),e.notifyOnSuccess&&t.length>0&&!J&&W(u.F.enqueue({message:(0,m.t)("team_view.team_permissions_modal.invite_sent",{numInvites:t.length})}))},source:"team_share_modal",googleContactsEmails:r,orgName:H?H.name:void 0}))},ew=e=>{if(H&&H.domain_capture&&Q&&Q.domains.length>0){let t=(0,A.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,y.H_)(Q.domains,e));if((null==H?void 0:H.invite_whitelist_guest_invite_setting)==null&&t.length>0){W(g.to({type:ei.F,data:{emails:t,onConfirm:()=>{ey(e)},popStack:!0,orgName:H.name}}));return}}ey(e)},eT=()=>{W(g.Ce()),W(_.cL())},ex=e=>{e.keyCode!==o.Uz.ESCAPE&&e.stopPropagation()},eC=(0,C.canEditTeam)(F,e),eN=(0,C.canViewTeam)(F,e),ek=(0,C.canAdminTeam)(F,e),[eS,eI]=r.useState(e.initialView||0),eA=()=>0===eS?r.createElement("div",{className:eh.DA},r.createElement("p",null,J?r.createElement(m.Tx,{id:"team_view.team_permissions_modal.share_this_team"}):r.createElement(m.Tx,{id:"team_view.team_permissions_modal.invite_team_members"}))):r.createElement(es.w,{title:(0,m.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eI(0)}),eL=!!V&&!V.org_id;return t=V?0===eS?(()=>{if(!j)return r.createElement("div",{className:eh.Lq},r.createElement(d.qc,null));let t=[];return ek&&t.push(I.e6.ADMIN),eC&&t.push(I.e6.EDITOR),eN&&t.push(I.e6.VIEWER),(0,i.KF)(t.length>0,"there should be at least one role (the user's own)"),r.createElement(r.Fragment,null,r.createElement("div",{key:"container",className:eh.SS,onKeyDown:ex},eL&&r.createElement(r.Fragment,null,r.createElement(X,{teamId:F,dropdownShown:e.dropdownShown,initialInviteLevel:em(eC)}),r.createElement("div",{className:eh.Vq},r.createElement(m.Tx,{id:"team_view.team_permissions_modal.invite_by_email"}))),(0,el.r)(a)?r.createElement(el.X,{resourceType:"team"}):r.createElement("div",{className:eh.Zk},r.createElement(L.e,{autocomplete:B,buttonText:J?(0,m.t)("team_view.team_permissions_modal.invite"):(0,m.t)("team_view.team_permissions_modal.send_invite"),dispatch:W,dropdownKey:"permissions-invite-dropdown",dropdownShown:e.dropdownShown,hideDropdownOnEmpty:J,inviteLevel:eu,getSelectText:T.C1,onInviteLevelChange:eg,options:t,onSubmit:ew,searchResultToken:ev,fetchAsyncSearchResults:e=>(0,k.Wj)(e,U.usersByEmail,a,ed,z,F,null,(null==Y?void 0:Y.permission)===h._D.GUEST),searchResults:()=>et,additionalSearchResults:er,validateToken:ep,TokenComponent:D.gy,SearchResultComponent:D.o6,joinLinkShown:eL,shouldAutoFocus:!eL,inGoogleContactsExp:ee,onTokenAddedSideEffect:e=>{let t="string"!=typeof e&&!!(null==Z?void 0:Z.find(t=>t.email===e.email));(0,l.sx)("Contact Suggestion Selected",{isGoogleContact:t})},onInputFocusSideEffect:()=>{(0,E.d$)({userId:G,currentOrgId:z,tracked:!0})},onHideModal:eT,placeholderText:J?(0,m.t)("team_creation.add_a_name_or_email"):void 0})),J&&H&&r.createElement("div",{className:eh.st},r.createElement("div",{className:eh.d3},r.createElement("div",{className:eh.eF},(0,m.t)("file_permissions_modal.who_has_access")),r.createElement(eE,{team:V,workspace:K,org:H,changeModalView:eI,sharingAudienceControl:null==q?void 0:q.sharingAudienceControl,isTeamOrgBrowsable:null==q?void 0:q.orgBrowsable,canAdmin:!!(null==j?void 0:j.canAdmin)}),ed.map((t,n)=>r.createElement(ef.O,{key:`role-row-${n}`,role:t,user:a,currentUserOrgId:z,isOwnerOfResource:(0,C.isResourceOwner)(a.id,F,h.vt.TEAM,e.roles),isOrgUser:!!t.org_user,currentOrg:H,resourceName:V.name,resource:{team:V,type:h.vt.TEAM},canEditRole:(0,C.canEditRole)(t,e),canMakeAdmin:!!(null==j?void 0:j.canAdmin),readOnlyOverrideWarningMessage:null,orgDomains:Q,inSharingClarity:!0}))))))})():H?q&&r.createElement(eo.nH,{team:V,workspace:K||void 0,org:H,teamSharingSettings:q,hideModal:eT,goBack:()=>eI(0)}):r.createElement(r.Fragment,null):r.createElement(d.qc,null),r.createElement(f.fu,{name:"Share Modal",properties:{resourceType:h.vt.TEAM,resourceId:F}},r.createElement(R.XV,{title:r.createElement(r.Fragment,null,eA()),maxWidth:eL?484:x.k4,fixedTop:!0,onClose:eT},t))}},991905:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TeamRenameModal:()=>c});var r=a(411855),n=a(188507),l=a(939863),i=a(964258),s=a(851363),o=a(266714);function c({team:e}){let t=(0,n.wA)();return r.createElement(o.c,{initialName:e.name,maxLength:s.qg,placeholder:(0,l.t)("resource_rename_modal.team.placeholder"),submitText:(0,l.t)("resource_rename_modal.team.submit"),onRename:a=>t((0,i.IA)({team:e,name:a}))})}},127113:(e,t,a)=>{"use strict";a.d(t,{C:()=>l,Y:()=>i});var r=a(411855);if(443==a.j)var n=a(572174);let l=r.createContext({canGoBack:!1,canGoForward:!1,goBack:()=>{},goForward:()=>{}}),i=()=>(0,n.sR)(r.useContext(l),"Must be wrapped within <FileBrowserNavigationContext.Provider>")},886592:(e,t,a)=>{"use strict";let r,n,l,i,s,o,c,d,m,u,_,p,g,E,f,h,v,b,y,w,T,x,C,N,k,S,I,A,L,R,O,D,F,M,P,B,U,W,V,G,$,j,H,q,Y,z,K,J,Q,Z,X;a.r(t),a.d(t,{FileBrowserView:()=>Vl,FileDragOutline:()=>Vi});var ee,et,ea,er,en={};a.r(en),a.d(en,{bannerChildDefault:()=>uC,bannerChildWarning:()=>uN});var el=a(411855),ei=a(188507),es=a(627776),eo=a(517333),ec=a(398977),ed=a(320063),em=a(966712),eu=a(860601),e_=a(563706),ep=a(218881),eg=a(448169),eE=a(630949),ef=a(206144),eh=a(935283),ev=a(753178),eb=a(629019),ey=a.n(eb),ew=a(22332),eT=a(946689),ex=a(841277),eC=a(574176),eN=a(837324),ek=a(612776),eS=a(107877),eI=a(427472),eA=a(802755),eL=a(909595),eR=a(108545),eO=a(293014),eD=a(444077);let eF=el.memo(function(e){let t,a;"implicit"===e.consentRegion?(t=eA.Ml,a=eA.e2):"explicit"===e.consentRegion&&(t=(0,eI.aJ)(),a=(0,eI.Sz)());let r=(0,eN.A4)(),n=(0,ew.N)(`(max-width: ${eS.YW-1}px)`),l=(0,ek.UJ)(),i=!!n&&l(!1);return el.createElement("div",{role:"region","aria-label":t,className:ey()(eR.MZ,{[eR.aR]:r&&i})},el.createElement(eT.Yo,{className:eR.o2,rel:"noopener",target:"_blank",href:a},el.createElement(eC.B,{svg:eO.A})),el.createElement("span",{className:eR.R2,"aria-hidden":"true"},t))}),eM=el.memo(function(){return(0,em.kc)().cookie_banners_community?"implicit"===(0,em.Ay)().consent_region?el.createElement(eA.C$,{variant:eL.a.COMMUNITY,dismissIcon:eD.A,SecondaryButton:e=>el.createElement(ex.Wd,{fullWidth:!1,className:eR.Rn,use:"hollow",...e}),persistentMessage:el.createElement(eF,{consentRegion:"implicit"})}):"explicit"===(0,em.Ay)().consent_region?el.createElement(eI.ZQ,{variant:eL.a.COMMUNITY,dismissIcon:eD.A,SecondaryButton:e=>el.createElement(ex.Wd,{fullWidth:!1,className:eR.Rn,use:"hollow",...e}),PrimaryButton:e=>el.createElement(ex.Wd,{fullWidth:!1,className:eR.Rn,use:"standard",...e}),persistentMessage:el.createElement(eF,{consentRegion:"explicit"})}):null:null});function eP(){let e=(0,ev.W6)();return(0,el.useEffect)(()=>e.listen((e,t)=>{"PUSH"===t&&window.scrollTo(0,0)}),[e]),null}var eB=a(697170),eU=a(418956),eW=a(232655),eV=a(410004),eG=a(629850),e$=a(976203),ej=a(913270),eH=a(198181),eq=a(742580),eY=a(140908),ez=a(363659),eK=a(697551),eJ=a(808521),eQ=a(355039),eZ=a(624538),eX=a(983317),e0=a(638998),e1=a(195847),e2=a(939863),e4=a(609271),e3=a(101505),e8=a(672517),e5=a(860168);function e6(){return el.createElement("div",{className:eE.cx.flex.alignCenter.alignCenter.gap16.$},el.createElement(e4.Ay,{mediaQuery:`(min-width: ${e5.wOr})`},el.createElement(e8.$z,{className:"auth_buttons--logInButton--ln482 shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:e3.c.LOGGED_OUT_NAV_LOGIN},onClick:()=>(0,eV.FL)(e1.qB.SIGN_IN,{preventDefaultRedirect:!0}),type:"button"},(0,e2.t)("community.signed_out_modal.log_in"))),el.createElement(e8.$z,{className:"auth_buttons--signUpButton--lM9GB shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>(0,eV.FL)(e1.qB.SIGN_UP),trackingProperties:{trackingDescriptor:e3.c.LOGGED_OUT_NAV_SIGN_UP},type:"button"},(0,e2.t)("community.signed_out_modal.sign_up")))}a(951089),a(791418);let e9=a(713274).kz;var e7=a(776250),te=a(91408),tt=(a(209552),a(987981),a(257818)),ta=a(440248);a(227998);let tr=a(99399).M5;function tn({isMobile:e,inCollapsableView:t}){return el.createElement(tr,{isMobile:e})}let tl=a(502614).i,ti=a(550246).X;function ts({}){let e=(0,eH.M)(),t=!!eo.eD,a=(0,ew.N)(`(max-width: ${e5._C6})`),r=(0,e$.j)(),n=(0,ez.Sc)(),l=el.useRef(null),i=(0,eq.OE)((0,ej.wl)(location.pathname)),s=!1,o=el.useCallback(e=>{},[]),c=null,d=!1,m=(0,em.kc)().exp_google_one_tap_v2&&(0,eY.XN)(n);i=(0,ei.d4)(e=>{var t;return(null==(t=null==e?void 0:e.selectedView)?void 0:t.view)==="search"}),s=(0,ei.d4)(e=>e.communityHub.showingCommunityAdminBanner),o=(0,eU.fp)(eX.A)[1],c=(0,eK.kc)(),el.useLayoutEffect(()=>{var e;o(null==(e=l.current)?void 0:e.getBoundingClientRect())},[o]),d=(0,ei.d4)(e=>Object.keys((0,eK.Tm)(e)).length+Object.keys((0,eK.eg)(e,e.user.id)).length>0),m=!1;let[u,_]=el.useState(!1),p=el.createElement(el.Fragment,null,u?el.createElement("div",{className:"navbar--searchComponentWidthOverride--rNiB1"},el.createElement(tn,{isMobile:a,inCollapsableView:!0})):el.createElement("button",{onClick:()=>_(!0)},el.createElement(eC.B,{svg:a?tt.A:ta.A,style:{fill:(0,eW.TD)("default")}})));return el.createElement(el.Fragment,null,el.createElement("div",{className:"navbar--navbarContainer--4keOh",id:"cmty-consolidated-navbar"},m&&el.createElement("div",{className:"navbar--oneTapContainer--N8F-P"},el.createElement(eZ.P,{origin:eB.DT.COMMUNITY_FASTMA,iFrameHandler:e=>{(0,eV.FL)(),(0,eV.I9)({name:eB.aL,userInfo:e,redirectUrl:ec.Ay.location.pathname,origin:eB.DT.COMMUNITY_FASTMA})}})),el.createElement("div",{className:"navbar--leftNav--ndjh7"},e&&el.createElement("div",{className:"navbar--accountAndNotificationsContainer--P-BiH"},el.createElement(ti,{hideNotifications:a})),t&&el.createElement("div",{className:"navbar--navigationChevronsContainer--RLmsc"},el.createElement(e0.GY,null)),el.createElement(e9,{showCategoryFlyout:"show-mobile"===r})),"show-desktop"===r&&el.createElement(eG.J,null),"show-desktop"!==r&&!a&&el.createElement("div",{className:"navbar--searchComponentContainer--XBSGo"},el.createElement(tn,{isMobile:a,inCollapsableView:!1})),el.createElement("div",{className:"navbar--rightNav--Shg9M"},"show-desktop"===r&&p,"show-desktop"!==r&&a&&el.createElement(tn,{isMobile:a,inCollapsableView:!1}),!(0,em.kc)().cmty_deprecate_browse_as_admin&&!a&&d&&el.createElement(eQ.A,null),e?el.createElement(el.Fragment,null,c&&el.createElement(tl,null)):el.createElement(e6,null))),s&&!i&&el.createElement(eJ.r,null))}var to=a(567582),tc=a(382842),td=a(27087),tm=a(792199),tu=a(897088),t_=a(566083),tp=a(709495),tg=a(357611),tE=a(971120),tf=a(956917),th=a(684359);function tv({plugins:e,onIntersectionChange:t,trackingInfo:a,isOrgTeamBrowsing:r}){return el.createElement("div",{className:eE.cx.wFull.$,"data-testid":"plugin-list"},e.map((e,n)=>el.createElement(th.mb,{key:`plugin-row-${e.id}`,resource:e,animationIndex:n%30,onIntersectionChange:a=>t(e,a.isIntersecting),isOrgTeamBrowsing:r,index:n,trackingInfo:a})))}let tb="resource_tile_group--resourceTileGroup--gpDUh",ty="resource_tile_group--resourceTileGroupCarousel--Cy8Oc";function tw({resources:e,showCarousel:t,onIntersectionChange:a,trackingInfo:r}){return el.createElement(el.Fragment,null,e.map((e,n)=>el.createElement("div",{key:e.id,className:ey()({"resource_tile_group--carouselCardWrapper--xwpG5":t},eE.cx.p1.$)},el.createElement(th.fz,{resource:e,index:n,animationIndex:n%30,onIntersectionChange:t=>a(e,t.isIntersecting),trackingInfo:r,subView:"communityHomepage"}))))}function tT({resources:e,maxGridDim:t,mobileMaxGridDim:a={rows:1},onIntersectionChange:r,carouselBreakpoint:n=e5.ikM,trackingInfo:l,xScrollLocked:i=!0}){let s=(0,ew.N)(`(max-width: ${n})`);if(!e.length)return null;let{rows:o,cols:c}=s&&a?a:t;if(c&&!o?o=Math.floor(e.length/c):o&&!c&&(c=Math.floor(e.length/o)),!o||!c)throw Error("ResourceTileGroup: maxGridDim must have at least one of rows or cols");let d=c*o,m=e.slice(0,d);if(i)return el.createElement("div",{className:ey()(tb,{[ty]:s}),style:{gridTemplateColumns:`repeat(${c}, 1fr)`,gridTemplateRows:`repeat(${o}, 1fr)`},"data-testid":"resource-tile-group"},el.createElement(tw,{resources:m,showCarousel:s,onIntersectionChange:r,trackingInfo:l}));let u=m.reduce((e,t,a)=>(Math.floor(a/c)>e.length-1&&e.push([]),e[e.length-1].push(t),e),[]);return el.createElement("div",{className:"resource_tile_group--nestedResourceTileGroup--PFO-3"},u.map((e,t)=>el.createElement("div",{key:t,className:ey()(tb,{[ty]:s}),style:{gridTemplateColumns:`repeat(${c}, 1fr)`,gridTemplateRows:"1"},"data-testid":"resource-tile-group"},el.createElement(tw,{resources:e,showCarousel:s,onIntersectionChange:r,trackingInfo:l}))))}let tx=()=>({sortBy:(0,tp.J)(),editorType:tg.k.Editors.ALL,price:t_.C.ALL,resourceType:tE.L.BrowseResourceTypes.MIXED});function tC({onIntersectionChange:e}){let t=(0,ew.N)(`(max-width: ${e5.ikM})`),a=(0,ew.N)(`(max-width: ${e5.g8m})`),[r,n]=(0,el.useState)(tx());(0,el.useEffect)(()=>{t&&n(tx())},[t]);let{resources:l,loadMore:i,canLoadMore:s,loading:o}=function(e){let[t,a]=el.useState([]),[r,n]=el.useState(!1),[l,i]=el.useState(null),[s,o]=el.useState(),c=el.useRef((0,tm.n)()),d=(0,el.useCallback)(async()=>{if(null==s?void 0:s.next_page){n(!0),i(null);try{let e=await (0,td.GD)(s.next_page);a(t=>[...t,...e.data.meta.resources]),o(e.data.pagination)}catch(e){console.error("Error fetching popular resources",e),i(e)}finally{n(!1)}}},[s]);return el.useEffect(()=>{(async()=>{n(!0),i(null);try{let t=await c.current.filter({editor_type:e.editorType,price:e.price,creators:e.creators,sort_by:e.sortBy}).browse(e.resourceType,e.limit??tu.b);a(t.data.meta.resources),o(t.data.pagination)}catch(e){console.error("Error fetching popular resources",e),i(e)}finally{n(!1)}})()},[e]),{resources:t,loading:r,error:l,loadMore:d,canLoadMore:!!(null==s?void 0:s.next_page)&&t.length>0}}(r),c=(0,el.useRef)(null),d=(0,ei.d4)(e=>{var t,a;return!!((null==(t=e.authedActiveCommunityProfile)?void 0:t.team_id)||(null==(a=e.authedActiveCommunityProfile)?void 0:a.org_id))}),m=r.resourceType===tE.L.BrowseResourceTypes.PLUGINS&&l.every(e=>"is_widget"in e&&!e.is_widget);return el.createElement("div",{className:"all_resources--allResources--vIYK6"},!t&&el.createElement(tf.T,{containerRef:c,filterState:r,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a}),n(e=>({...e,...t}))},context:"redesigned-homepage"}),(null==l?void 0:l.length)>0&&el.createElement(el.Fragment,null,m?el.createElement(tv,{plugins:l,onIntersectionChange:e,trackingInfo:void 0,isOrgTeamBrowsing:d}):el.createElement(el.Fragment,null,el.createElement(tT,{resources:l,maxGridDim:a?{cols:2}:{cols:3},mobileMaxGridDim:{rows:4},xScrollLocked:!1,onIntersectionChange:e}),s&&!t&&el.createElement(tc.A,{onClick:e=>{e.preventDefault(),i()},isLoading:o,isMoreToFetch:s}))))}var tN=a(711117),tk=a(243808),tS=a(944452);let tI="hero--pluginImg--OXkw4",tA="hero--header--PlMZA text--fontPos24--YppUD text--_fontBase--QdLsd";var tL=a(165690),tR=a(505045),tO=a(288495),tD=a(360957),tF=a(945111),tM=a(261595),tP=a(353917),tB=a(763939),tU=a(962888),tW=a(746510),tV=a(181865),tG=a(156564),t$=a(18412),tj=a(69969),tH=a(793445);let tq={colorIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-431.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:-448.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tD.A})},colorsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-374,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:-391.6,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tF.A,style:{fill:(0,eW.TD)("default")}})},variableIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-440,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:-457.6,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tH.A,style:{fill:(0,eW.TD)("default")}})},designLibraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:169.4,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:187,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tW.A,style:{fill:(0,eW.TD)("default")}})},typeIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:105.6,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:123.2,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tj.A,style:{fill:(0,eW.TD)("default")}})},componentIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:123.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:140.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tM.A})}},tY={pluginIconTopLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-96.8,y:-24,rotate:16},hover:{opacity:1,scale:1.1,x:-114.4,y:-40,rotate:16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:el.createElement("img",{alt:"PluginIcon",className:tI,src:"https://static.figma.com/uploads/ebe89d33f7040c60d83a01887800a522babf7de7"})},pluginIconMiddleLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-171.6,y:-16,rotate:-16},hover:{opacity:1,scale:1.1,x:-180.4,y:-32,rotate:-16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:el.createElement("img",{alt:"PluginIcon",className:tI,src:"https://static.figma.com/uploads/65c3bfafc5758245135ea68c46bf8649e08fc682"})},pluginIconBottomLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-110,y:16,rotate:-8},hover:{opacity:1,scale:1.1,x:-127.6,y:16,rotate:-8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:el.createElement("img",{alt:"PluginIcon",className:tI,src:"https://static.figma.com/uploads/4c694b59552bdaf728d6bbad5c5603c08e768dde"})},pluginIconTopRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:393.8,y:-24,rotate:-16},hover:{opacity:1,scale:1.1,x:400.4,y:-40,rotate:-16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:el.createElement("img",{alt:"PluginIcon",className:tI,src:"https://static.figma.com/uploads/2a50b4b29af5a21bde6c7b4ef8cdfd97a2b16a39"})},pluginIconMiddleRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:448.8,y:-16,rotate:16},hover:{opacity:1,scale:1.1,x:466.4,y:-32,rotate:16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:el.createElement("img",{alt:"PluginIcon",className:tI,src:"https://static.figma.com/uploads/0d28516cbda0bfcf87b214c919c6ed52f3358efb"})},pluginIconBottomRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:400.4,y:16,rotate:8},hover:{opacity:1,scale:1.1,x:418,y:16,rotate:8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:el.createElement("img",{alt:"PluginIcon",className:tI,src:"https://static.figma.com/uploads/34cf09b757fec1181abee8d8ece8a06ee0383408"})}},tz={heartIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:48.4,y:-76,rotate:0},hover:{opacity:1,scale:1,x:48.4,y:-88,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tB.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},libraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-8.8,y:-64,rotate:-8.5},hover:{opacity:1,scale:1,x:-26.4,y:-72,rotate:-8.5}},transition:{type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tU.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},emojiIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:96.8,y:-64,rotate:6},hover:{opacity:1,scale:1,x:114.4,y:-72,rotate:6}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tP.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},chatIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:158.4,y:-80,rotate:0},hover:{opacity:1,scale:1,x:178.2,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tO.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},profileIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-79.2,y:-80,rotate:0},hover:{opacity:1,scale:1,x:-96.8,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tG.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},mentionIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-162.8,y:12,rotate:0},hover:{opacity:1,scale:1,x:-180.4,y:20,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tV.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},asterikIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-187,y:-32,rotate:0},hover:{opacity:1,scale:1,x:-215.6,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tL.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},settingsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:237.6,y:12,rotate:0},hover:{opacity:1,scale:1,x:255.2,y:20,rotate:0}},transition:{delay:.0725,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:t$.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})},bookmarkIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:281.6,y:-32,rotate:0},hover:{opacity:1,scale:1,x:299.2,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:el.createElement(eC.B,{svg:tR.A,style:{fill:"none",stroke:(0,eW.TD)("default")}})}};function tK({elements:e,elementWrapperClassname:t,text:a,categorySlug:r}){let n=new tS.I({categorySlug:r});return el.createElement(tN.P.span,{className:eE.cx.colorTextBrand.$,variants:{hidden:{opacity:.9},hover:{opacity:1}},initial:"hidden",whileHover:"hover"},el.createElement(e8.L0,{className:eE.cx.colorTextBrand.$,onClick:e=>{(0,ef.qG)(n.pathname,e)},trackingEventName:"community_homepage_hero_category_clicked",href:n.href,trackingProperties:{slug:r}},a),el.createElement("div",{className:t},Object.entries(e).map(([e,t])=>el.createElement(tN.P.span,{className:eE.cx.absolute.top0.left0.eventsNone.$,key:e,variants:t.variants,transition:t.transition},t.element))))}function tJ(){let e=(0,ew.N)(`(max-width: ${(0,te.jz)(e5.ikM)-1}px)`);return el.createElement("div",{className:"hero--hero--a1ML6"},e?el.createElement(el.Fragment,null,el.createElement("h1",{className:tA},el.createElement(e2.Tx,{id:"community.homepage.mobile_header"})),el.createElement("div",{className:"hero--subHeader--74gIe text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"community.homepage.mobile_subheader"}))):el.createElement("h1",{className:tA},el.createElement(e2.Tx,{id:"community.homepage.header",librariesLink:el.createElement(tK,{elements:tq,elementWrapperClassname:"hero--libraryElementsWrapper--8uOC3",text:(0,e2.t)("community.homepage.header_libraries"),categorySlug:eq.LJ.libraries}),pluginsLink:el.createElement(tK,{elements:tY,elementWrapperClassname:"hero--pluginElementsWrapper--E7QTs",text:(0,e2.t)("community.homepage.header_plugins"),categorySlug:eq.LJ.designTools}),iconSetsLink:el.createElement(tK,{elements:tz,elementWrapperClassname:"hero--iconElementWrapper--UvEtl",text:(0,e2.t)("community.homepage.header_icon_sets"),categorySlug:eq.LJ.icons})})),el.createElement(tk.a,{isRedesignedHomepage:!0}))}var tQ=a(349804);function tZ({categoryHighlights:e}){let t=(0,ew.N)(`(max-width: ${e5.ikM})`);return el.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlight--XCng9"},e.map(e=>{let a=new tS.I({categorySlug:e.category}),r=(0,tQ.Vn)(e.category,()=>!0).title;return el.createElement("div",{key:e.category,className:"homepage_categories_highlight--homepageCategoriesHighlightAnchorWrapper--fDgA3"},el.createElement(e8.L0,{className:"homepage_categories_highlight--homepageCategoriesHighlightAnchor--gBh69",onClick:e=>{(0,ef.qG)(a.pathname,e)},href:a.href,trackingEventName:"community_homepage_category_highlight_clicked",trackingProperties:{slug:e.category}},el.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCard--25fAI"},el.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitleAndSubtitle--T8YwD"},el.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitle--9FmzL text--fontPos13--xW8hS text--_fontBase--QdLsd"},r),el.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardSubheader--EXycZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.text)),el.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardImageContainer--lOChl"},el.createElement("img",{alt:r,src:t&&e.mobileSrc?e.mobileSrc:e.src,className:ey()("homepage_categories_highlight--homepageCategoryHighlightCardImage--HD0cW"),"data-category":e.category})))))}))}function tX({header:e,subHeader:t,content:a}){return el.createElement("div",{className:eE.cx.wFull.$},el.createElement("div",{className:eE.cx.alignLeft.pb16.$},el.createElement("h3",{className:eE.cx.fontMedium.font16.lh24.$},e),t&&el.createElement("div",{className:eE.cx.font13.colorTextSecondary.lh24.pt4.$},t)),a)}function t0(){let e=(0,ew.N)(`(max-width: ${e5.g8m})`)?{rows:3,cols:2}:{rows:2,cols:3},{resources:t}=function({limit:e}={limit:tu.b}){let[t,a]=(0,el.useState)([]),[r,n]=(0,el.useState)(!1),[l,i]=(0,el.useState)(null),s=(0,el.useRef)((0,tm.n)());return(0,el.useEffect)(()=>{n(!0),i(null),s.current.filter({editor_type:tg.k.Editors.FIGMA}).browse(tE.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figma files",e),i(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:l}}(),{resources:a}=function({limit:e}={limit:tu.N}){let[t,a]=(0,el.useState)([]),[r,n]=(0,el.useState)(!1),[l,i]=(0,el.useState)(null),s=(0,el.useRef)((0,tm.n)());return(0,el.useEffect)(()=>{n(!0),i(null),s.current.browse(tE.L.BrowseResourceTypes.PLUGINS,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular plugins",e),i(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:l}}(),{resources:r}=function({limit:e}={limit:tu.b}){let[t,a]=(0,el.useState)([]),[r,n]=(0,el.useState)(!1),[l,i]=(0,el.useState)(null),s=(0,el.useRef)((0,tm.n)());return(0,el.useEffect)(()=>{n(!0),i(null),s.current.filter({editor_type:tg.k.Editors.FIGJAM}).browse(tE.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figjam files",e),i(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:l}}(),{resources:n}=function({limit:e}={limit:tu.b}){let[t,a]=(0,el.useState)([]),[r,n]=(0,el.useState)(!1),[l,i]=(0,el.useState)(null),s=(0,el.useRef)((0,tm.n)());return(0,el.useEffect)(()=>{n(!0),i(null),s.current.browse(tE.L.BrowseResourceTypes.WIDGETS,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular widgets",e),i(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:l}}(),l=(e,t)=>{};return el.createElement("div",{className:"homepage--homepageContainer--q0JuX"},el.createElement("div",{className:"homepage--homepageContent--XDBs9"},el.createElement(tJ,null),el.createElement(tX,{header:(0,e2.t)("community.homepage.figma_section.header"),subHeader:(0,e2.t)("community.homepage.figma_section.sub_header"),content:el.createElement(tT,{resources:t,maxGridDim:e,onIntersectionChange:l})}),el.createElement(tX,{header:(0,e2.t)("community.view_bar.plugins"),subHeader:(0,e2.t)("community.homepage.plugins_section.sub_header"),content:el.createElement(tv,{plugins:a,onIntersectionChange:l,isOrgTeamBrowsing:!1})}),el.createElement(tX,{header:(0,e2.t)("community.homepage.figjam_section.header"),subHeader:(0,e2.t)("community.homepage.figjam_section.sub_header"),content:el.createElement(tT,{resources:r,maxGridDim:e,onIntersectionChange:l})}),el.createElement(tX,{header:(0,e2.t)("community.view_bar.widgets"),subHeader:(0,e2.t)("community.homepage.widgets.sub_header"),content:el.createElement(tT,{resources:n,maxGridDim:e,onIntersectionChange:l})}),el.createElement(tX,{header:(0,e2.t)("community.homepage.categories_section.header"),subHeader:(0,e2.t)("community.homepage.categories_section.sub_header"),content:el.createElement(tZ,{categoryHighlights:(0,tQ.Jm)()})}),el.createElement(tX,{header:(0,e2.t)("community.view_bar.all_resources"),content:el.createElement(tC,{onIntersectionChange:l})}),el.createElement("div",{className:eE.cx.wFull.$},el.createElement(to.A,null))))}var t1=a(135876),t2=a(63397),t4=a(225266),t3=a(662275),t8=a(336599),t5=a(637590),t6=a(143678),t9=a(743282),t7=a(493323),ae=a(881388),at=a(782501),aa=a(977468),ar=a(781779),an=a(163056);let al=[{img:"https://static.figma.com/uploads/49e43aec887df7422ff9643d11465bcdeded548e",color:ar.WGG},{img:"https://static.figma.com/uploads/c00f8b3e0cd9a66eb8c4ee4e6d307fff82c9ab27",color:ar.WGG},{img:"https://static.figma.com/uploads/3f772c66c1cddf1d0b6c5f8f41395bcafd135566",color:ar.WGG},{img:"https://static.figma.com/uploads/960d3a00ab8d8c4db2f27b7814c911ae974c770b",color:ar.BYv},{img:"https://static.figma.com/uploads/cda2753116908ec0abf57b611934479cebbcdbeb",color:ar.BYv},{img:"https://static.figma.com/uploads/37f4db88a8104a239f3d761763f8d7e0826d7765",color:ar.BYv}];function ai({profileId:e}){let t=(0,ei.d4)(e=>e.loadingState),a=(0,ei.d4)(e=>e.communityHub.currentProfile),[r,n]=el.useState((0,t9.g)()),l=el.useRef(null),i=(0,ei.wA)(),s=(0,ei.d4)(e=>(0,eK.jG)(a,e)),o=(0,eK.si)(a),c=(0,em.kc)().cmty_deprecate_browse_as_admin?o:s,d=t2.Ai.loadingKeyForPayload({profileId:e}),m=(0,t8.VP)(t,d),u=t=>{null!=t&&i(t2.Ai({profileId:e,file:t,onSuccessCallback:_}))},_=()=>{n((0,t9.g)())},p=async()=>{var e;try{let t=null==(e=l.current)?void 0:e.files;if(!t||0===t.length||!t[0])throw Error("File not found");let a=t[0];(0,eK.YU)(a);let r=await (0,at.l8)(URL.createObjectURL(a));if(r.width>eK.M0||r.height>eK.Zs)throw Error((0,e2.t)("community.profiles.cover_image_must_be_less_than_dimensions",{PROFILE_COVER_IMAGE_MAX_WIDTH:eK.M0,PROFILE_COVER_IMAGE_MAX_HEIGHT:eK.Zs}));if(r.width<eK.gZ||r.height<eK.xj)throw Error((0,e2.t)("community.profiles.cover_image_must_be_at_least_dimensions",{PROFILE_COVER_IMAGE_MIN_WIDTH:eK.gZ,PROFILE_COVER_IMAGE_MIN_HEIGHT:eK.xj}));u(a)}catch(e){i(ae.s.error(e.message))}l.current&&(l.current.value="")};return el.createElement("div",{className:"profile_header--profileHeaderContainer--C-0mY",key:null==a?void 0:a.cover_image_path,style:{backgroundColor:ar.Bj4,...(null==a?void 0:a.redirect_cover_image_url)?{backgroundImage:`url(${a.redirect_cover_image_url}?${r})`}:function(e){if(null==e||!e.id)return;let t=al[parseInt(e.id.length>=4?e.id.slice(e.id.length-4):"0")%al.length];return{backgroundImage:`url(${t.img})`,backgroundColor:t.color}}(a)}},el.createElement("div",{className:"profile_header--profileHeaderAvatarContainer--1REx-"},el.createElement(aa.Ro,{entity:{...a,img_url:(null==a?void 0:a.img_urls["500_500"])||(null==a?void 0:a.img_url)||void 0},size:96,className:"profile_header--avatarBackground--5XTWL"})),c&&el.createElement(el.Fragment,null,el.createElement("input",{type:"file",accept:"image/*",ref:l,onChange:p,style:{display:"none"}}),el.createElement(eC.B,{svg:an.A,className:"profile_header--uploadIcon--FFtoL",onClick:()=>{var e;null==(e=l.current)||e.click()}}),m&&el.createElement(t7.qc,null)))}ai.displayName="ProfileHeader";var as=a(717068),ao=a(183297),ac=a(96328),ad=a(107897),am=a(153234),au=a(908968);let a_=/(https?:\/\/)?(www\.)?figma.com\/@/;function ap(e){return el.createElement(ad.A,{options:{target:{url:"_blank"},attributes:{rel:"noopener nofollow ugc",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()}},className:"formatted_expanding_textarea--blueLink--GWaek blue_link--blueLink--9rlnd",format:e=>e.replace(a_,"@")}},e)}class ag extends am.uA{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.target.value})},this.onMouseDown=e=>{this.props.readOnly||e.preventDefault(),this.setState({isEditing:!0})},this.onFocus=()=>{this.state.isEditing||this.setState({isEditing:!0})},this.onSubmit=e=>{this.props.submit&&this.props.submit(e)},this.onBlur=()=>{this.setState({isEditing:!1})},this.state={value:this.props.value,isEditing:!1}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}renderFormattedValue(){return el.createElement("div",{dir:"auto",className:"formatted_expanding_textarea--value--XJ2Gh"},this.props.formatter?this.props.formatter(this.state.value):this.state.value)}renderPlaceholder(){return el.createElement("div",{className:"formatted_expanding_textarea--placeholder--JJ8AZ"},this.props.readOnly?"":this.props.placeholder)}render(){let e=!this.props.readOnly&&this.state.isEditing,t=["formatted_expanding_textarea--container--3NuYC text--fontPos13--xW8hS text--_fontBase--QdLsd",e?"formatted_expanding_textarea--editMode--wvP9s":"formatted_expanding_textarea--viewMode--GHMnM",this.props.readOnly?"formatted_expanding_textarea--readOnly--w19iZ":"formatted_expanding_textarea--canEdit--UVjHq",this.props.className||""].join(" ");return el.createElement("div",{className:t,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},!e&&(this.state.value?this.renderFormattedValue():this.renderPlaceholder()),e&&el.createElement(au.v,{maxLength:this.props.maxLength||1e4,onChange:this.onChange,value:this.state.value,placeholder:this.props.placeholder,submit:this.onSubmit,onBlur:this.onBlur,selectOnMount:!0,className:"formatted_expanding_textarea--expandingTextarea--LLtsJ"}))}}ag.displayName="FormattedExpandingTextarea";var aE=a(752207),af=a(47506),ah=a(361656),av=a(977539),ab=a(370855),ay=a(709595),aw=a(410424),aT=a(941381),ax=a(186642),aC=a(738269),aN=a(860178),ak=a(820642),aS=a(215822),aI=a(555328),aA=a(498606),aL=a(428322);let aR="community_hub_view_bar--stickyHeaderIsSticky--jlnEf";class aO extends el.PureComponent{render(){return el.createElement("div",{className:`community_hub_view_bar--viewBar--T8-MS ${this.props.className||""}`},this.props.children)}}let aD=(0,ei.Ng)(e=>({user:e.user||null}))(aO);class aF extends el.PureComponent{constructor(){super(...arguments),this.headerContentRef=el.createRef(),this.onIntersectionChange=e=>{this.node&&(e.isIntersecting?this.node.classList.remove(aR):e.boundingClientRect.y<window.innerHeight&&this.node.classList.add(aR))}}render(){return el.createElement("div",{className:["community_hub_view_bar--container--PBrf3",this.props.user?"community_hub_view_bar--viewBarSignedInSticky--swRMi":"community_hub_view_bar--viewBarSignedOutSticky--fpGkz"].join(" "),ref:e=>this.node=e},el.createElement(aL.a,{onIntersectionChange:this.onIntersectionChange,className:this.props.user?"community_hub_view_bar--scrollSentinelSignedIn--u73PI":"community_hub_view_bar--scrollSentinelSignedOut--9xL9d"}),el.createElement(aD,null,el.createElement("div",{ref:this.headerContentRef},this.props.children)))}}var aM=a(170588),aP=a(354438),aB=a(746738);function aU(){return el.createElement(el.Fragment,null,el.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--title--IfgQI text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,e2.t)("community.seller.profiles.check_out_your_stats")),el.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--description--2j8hj"},(0,e2.t)("community.seller.profiles.added_some_metrics")))}let aW="metrics_tab_onboarding_key";var aV=a(402609),aG=a(251960),a$=a(849291),aj=a(582947),aH=a(397065),aq=a(195907),aY=a(147829),az=a(746806),aK=a(63666),aJ=a(463546);let aQ=(0,aj.r1)(aq.e9);function aZ({onboardingKey:e}){let t=(0,eU.md)(aQ),a=(0,a$.e)({overlay:aJ.O9D,priority:aH.N.SECONDARY_MODAL},[t]);return(0,ed.h)(()=>{a.show({canShow:e=>!e})}),(0,aG.E)(a.uniqueId,"profile-metrics-tab-clicked",()=>{a.isShowing&&a.complete()}),el.createElement(aY.M,{isShowing:a.isShowing,userFlagOnShow:aq.e9},el.createElement(e8.fu,{name:"Community monetization creator dashboard onboarding"},el.createElement(aK.NJ,{targetKey:e,width:300,topPadding:16,shouldCenterArrow:az.EL.FALLBACK,dismissModal:a.complete},el.createElement(aU,null))))}var aX=a(499737),a0=a(392592),a1=a(385422),a2=a(466636),a4=a(980820),a3=a(320741),a8=a(677664);let a5=(0,a4.nF)(async(e,t,{loadingKey:a})=>{var r;try{let n=td.Ay.post("/api/community/seller/stripe_dashboard");(0,a3.N)(n,e,a);let l=await n;if(!(null==(r=null==l?void 0:l.data)?void 0:r.meta)){null==t||t.callback(!1);return}let i=l.data.meta;e.dispatch((0,a8.RK)({rawInput:i})),setTimeout(()=>{null==t||t.callback(!0)},1e3)}catch(e){null==t||t.callback(!1)}});var a6=a(988022),a9=a(279453),a7=a(583894),re=a(607121),rt=a(827586),ra=a(596578),rr=a(237870),rn=a(488578),rl=a(139387);let ri=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,aN.iZ)(),[a,r]=el.useState([]),[n,l]=el.useState(!0),[i,s]=el.useState(!0),[o,c]=el.useState(!1),[d,m]=el.useState(!1),u=el.useRef(null);(0,ed.h)(()=>{ra.C.getCmtyCreatorPayoutStatements({userId:null==t?void 0:t.id}).then(({data:e})=>{l(!1),r(e.meta)}).catch(()=>{e(a0.F.enqueue({type:"get-payout-statements-error",message:(0,e2.t)("community.seller.payout_statement_error"),error:!0}))})});let _=e=>new Date(e.year,e.month-1).toLocaleDateString(void 0,{year:"numeric",month:"long"}),p="creator_payout_statements_modal--scrollContainer--8j6P4";return d&&(i||(p+=" creator_payout_statements_modal--topBorder--OHBCp"),o||(p+=" creator_payout_statements_modal--bottomBorder--tNtIc")),el.createElement(rn.Rw,{title:(0,e2.t)("community.seller.community_payout_statements"),titleClassName:"creator_payout_statements_modal--title--t9wed",confirmText:(0,e2.t)(0===a.length?"general.got_it":"general.done"),onConfirm:eu.lQ,hideConfirmationTitle:!0,hideCancel:!0},n?el.createElement("div",{className:"creator_payout_statements_modal--loadingSpinner--HMTTZ"},el.createElement(t7.kt,null)):el.createElement("div",null,0===a.length&&el.createElement("div",null,el.createElement(e2.Tx,{id:"community.seller.no_payout_statements_yet"})),a.length>0&&el.createElement(el.Fragment,null,el.createElement("div",null,el.createElement(e2.Tx,{id:"community.seller.click_to_download_statements"})),el.createElement(rt.P,{className:p,ref:u,onCanScrollChange:e=>{m(e)},onScroll:(e,t)=>{s(0===e),c(e+t.trackHeight>=t.scrollHeight)}},a.map(e=>el.createElement("a",{className:"creator_payout_statements_modal--payoutStatementRow--4fDH3",key:`payout-statement-${e.year}-${e.month}`,href:e.signed_s3_url,download:`payout_statement_${e.year}_${e.month}.csv`},el.createElement(eC.B,{svg:rl.A}),_(e)))))))},"CreatorPayoutStatementsModal");var rs=a(647079);let ro="profile_resources_grid--tabContainer--UsmoU",rc="profile_resources_grid--tabLink--8x9Of text--fontPos14--OL9Hp text--_fontBase--QdLsd",rd="profile_resources_grid--tabBadge--l97Nx",rm="profile_resources_grid--labelBadgeContainer--gc9j0",ru="profile_resources_grid--selected--6CtGL",r_="profile_resources_grid--newBadge--LOtSf",rp="profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",rg="profile_resources_grid--profileDataReadOnly--Juje2 profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",rE="profile_resources_grid--followsData--WkXSx",rf="profile_resources_grid--followsDataClickable--PHNwr",rh="profile_resources_grid--followsDataCount--MoS2I",rv="profile_resources_grid--loadingContainer--hsPEQ",rb="profile_resources_grid--loadingMoreContainer--jp4W1 profile_resources_grid--loadingContainer--hsPEQ",ry="profile_resources_grid--profileResourcesGridOuterContainer--ynOxv",rw="profile_resources_grid--profileMetricsStatsOuterContainer--FAXLb",rT="profile_resources_grid--profileMetricsTabLoadingButtonContent--lkd-l",rx="profile_resources_grid--profileMetricsTabLoadingButton--6tsqO",rC="profile_resources_grid--profileResourcesGridAndDataContainer--2gQaO",rN="profile_resources_grid--emptyStateContainer--EJug9",rk="profile_resources_grid--emptyStateHeader--c9srx text--fontPos14--OL9Hp text--_fontBase--QdLsd",rS="profile_resources_grid--emptyStateText--oEJHa",rI="profile_resources_grid--emptyStateMetricLabel--XqzzA",rA="profile_resources_grid--bannerContainer--eb6mO",rL="profile_resources_grid--stripeDashboardButtonContainer--1DAQE",rR="profile_resources_grid--metricContainer--SuhZ3",rO="profile_resources_grid--creatorLink--Rmyz- text--fontPos13--xW8hS text--_fontBase--QdLsd",rD="profile_resources_grid--lockIcon--4VJCL",rF="profile_metrics_stats--divider--U2a8K";var rM=a(419902);let rP=(0,te.jz)(e5.dxy);function rB({tooltipText:e}){return el.createElement(aM.z,{query:`(min-width: ${rP}px)`},el.createElement("span",{className:"profile_metrics_stats--infoTooltipContainer---MeEH","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":e,"data-tooltip-max-width":"250"},el.createElement(eC.B,{svg:rM.A,className:"profile_metrics_stats--infoTooltip--lsZkn"})))}function rU({valueClassName:e,value:t,labelClassName:a,label:r,children:n}){return el.createElement("div",{className:rR},el.createElement("div",{className:e},t),el.createElement("div",{className:"profile_metrics_stats--metricLabelContainer--24AJ-"},el.createElement("span",{className:a},r),n))}function rW(){return el.createElement("div",{className:rR},el.createElement("div",{className:"profile_resources_grid--emptyStateMetric--ktaw6"}),el.createElement("div",{className:rI}))}function rV({children:e}){return el.createElement("div",{className:rw},el.createElement(rW,null),el.createElement("div",{className:rF}),el.createElement(rW,null),el.createElement("div",{className:rF}),el.createElement(rW,null),e)}function rG({totalViewCount:e,metricValueStyle:t,metricLabelStyle:a,totalPurchases:r,totalEarned:n,children:l}){return el.createElement("div",{className:rw},el.createElement(rU,{valueClassName:t,value:e,labelClassName:a,label:(0,e2.t)("community.seller.total_views")}),el.createElement("div",{className:rF}),el.createElement(rU,{valueClassName:t,value:r,labelClassName:a,label:(0,e2.t)("community.seller.total_purchases")},el.createElement(rB,{tooltipText:(0,e2.t)("community.seller.total_purchases_includes")})),el.createElement("div",{className:rF}),el.createElement(rU,{valueClassName:t,value:n,labelClassName:a,label:(0,e2.t)("community.seller.total_earned")},el.createElement(rB,{tooltipText:(0,e2.t)("community.seller.all_sales_before_figmas_fees")})),l)}var r$=a(820113);let rj="resource_stat_row--rowContainer--rapbF",rH="resource_stat_row--resourceMetadataContainer--bdvI3",rq="resource_stat_row--allStatContainer--vXmae",rY="resource_stat_row--statContainer--gp6KZ",rz="resource_stat_row--statValue--69Rff text--fontPos24--YppUD text--_fontBase--QdLsd",rK="resource_stat_row--statLabel--bgvwH text--fontPos13--xW8hS text--_fontBase--QdLsd",rJ="resource_stat_row--verticalDivider--Whn5d",rQ="resource_stat_row--textMetadataContainer--oQv9J",rZ=(0,te.jz)(e5.ZI8);function rX({resource:e}){return"hub_file"===(0,eN.Vm)(e)?el.createElement(th.Cv,{resource:e,isMetaHidden:!0}):"plugin"===(0,eN.Vm)(e)?el.createElement(th.cS,{resource:e,isMetaHidden:!0}):el.createElement(th.bN,{resource:e,isMetaHidden:!0})}function r0({resource:e}){let{name:t,created_at:a}=(0,eN.qD)(e),r=new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),n=e.monetized_resource_metadata?(0,a2.bV)(e.monetized_resource_metadata):"",l=`/community/${(0,eN.ss)(e)}/${e.id}`;return el.createElement("div",{className:rH},el.createElement("div",{className:"resource_stat_row--thumbnailWrapper--M0vtN"},el.createElement(rX,{resource:e})),el.createElement(aM.z,{query:`(min-width: ${rZ}px)`},el.createElement("div",{className:rQ},el.createElement("div",null,el.createElement(ef.A6,{to:l,className:"resource_stat_row--resourceName--LFWUk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),el.createElement("div",{className:"resource_stat_row--publishDate--oDkDH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,e2.t)("community.seller.last_updated_on",{date:r}))),el.createElement("div",{className:"resource_stat_row--price--1YYVn text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n))))}function r1({value:e,label:t}){return el.createElement("div",{className:rY},el.createElement("span",{className:rz},e),el.createElement("span",{className:rK},t))}function r2(){return el.createElement("div",{className:rY},el.createElement("span",{className:rz},el.createElement("div",{className:"profile_resources_grid--emptyStateStatsMetric--qs3QD"})),el.createElement("span",{className:rK},el.createElement("div",{className:rI})))}function r4(){return el.createElement("div",{className:rH},el.createElement("div",{className:"resource_stat_row--emptyThumbnailWrapper--NNO1Y resource_stat_row--thumbnailWrapper--M0vtN"},el.createElement(t7.kt,null)),el.createElement(aM.z,{query:`(min-width: ${rZ}px)`},el.createElement("div",{className:rQ},el.createElement("div",null,el.createElement("div",{className:"resource_stat_row--emptyResourceName--gZCwX"}),el.createElement("div",{className:"resource_stat_row--emptyPublishDate--WVyqw"})),el.createElement("div",{className:"resource_stat_row--emptyPrice--HlOMG"}))))}function r3({resource:e}){return el.createElement("div",{className:rj},el.createElement(r4,null),el.createElement("div",{className:rq},el.createElement(r2,null),el.createElement("div",{className:rJ}),el.createElement(r2,null),el.createElement("div",{className:rJ}),el.createElement(r2,null),el.createElement("div",{className:rJ}),el.createElement(r2,null)))}function r8({resource:e}){var t;let a=(0,ei.wA)(),{id:r,is_subscription:n}=e.monetized_resource_metadata,l=(0,aX.Rs)(a9.aom,{monetizedResourceMetadataId:r}),i=new r$.vr("usd");if("loading"===l.status)return el.createElement(r3,{resource:e});if("loaded"!==l.status||(null==(t=l.errors)?void 0:t.length))return a(a0.F.enqueue({message:(0,e2.t)("community.actions.unable_to_load_stats_for_a_resource"),error:!0})),el.createElement(r3,{resource:e});{let t=l.data.communityM10nResourceStat,a={monetized_resource_metadata_id:null==t?void 0:t.monetizedResourceMetadataId,all_time_total_earned:parseInt((null==t?void 0:t.allTimeTotalEarned)||"0"),monthly_total_earned:parseInt((null==t?void 0:t.monthlyTotalEarned)||"0"),num_purchases:parseInt((null==t?void 0:t.numPurchases)||"0")};return el.createElement("div",{className:rj},el.createElement(r0,{resource:e}),el.createElement("div",{className:rq},el.createElement(r1,{label:(0,e2.t)("community.seller.views_label",{num:e.view_count}),value:e.view_count.toLocaleString()}),el.createElement("div",{className:rJ}),n?el.createElement(r1,{label:(0,e2.t)("community.seller.subscribers_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}):el.createElement(r1,{label:(0,e2.t)("community.seller.purchases_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}),el.createElement("div",{className:rJ}),el.createElement(r1,{label:(0,e2.t)("community.seller.total_earned"),value:i.formatMoney(a.all_time_total_earned)}),el.createElement("div",{className:rJ}),el.createElement(r1,{label:(0,e2.t)("community.seller.earned_this_month"),value:i.formatMoney(a.monthly_total_earned)})))}}function r5({paidResources:e}){return(0,em.kc)().cmty_m10n_turn_creator_dash_off?el.createElement(el.Fragment,null):el.createElement("div",{className:"resource_stats_list--resourceStatsListContainer--3Xmb3"},el.createElement("p",{className:"resource_stats_list--resourceCount--SHJGY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"community.seller.resources_for_sale",numResources:e.length})),e.map((e,t,a)=>el.createElement("div",{key:e.id,className:"resource_stats_list--resourceStatContainer--GxfxK"},el.createElement(r8,{resource:(0,aI.Ch)(e)}),t<a.length-1&&el.createElement("div",{key:`${e.id}-divider`,className:"resource_stats_list--divider--F4HpT"}))))}function r6(){return el.createElement("svg",{width:"274",height:"133",viewBox:"0 0 274 133",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("path",{d:"M124.179 65.3591C125.935 65.3591 127.359 63.9355 127.359 62.1795C127.359 60.4235 125.935 59 124.179 59C122.423 59 121 60.4235 121 62.1795C121 63.9355 122.423 65.3591 124.179 65.3591Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),el.createElement("path",{d:"M149.861 62.1795C149.861 63.9355 148.437 65.3591 146.681 65.3591C144.925 65.3591 143.502 63.9355 143.502 62.1795C143.502 60.4235 144.925 59 146.681 59C148.437 59 149.861 60.4235 149.861 62.1795Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),el.createElement("path",{d:"M123.092 73.4119V71.9119H120.092V73.4119C120.092 81.9723 127.032 88.9119 135.592 88.9119C144.152 88.9119 151.092 81.9723 151.092 73.4119V71.9119H148.092V73.4119C148.092 80.3154 142.496 85.9119 135.592 85.9119C128.688 85.9119 123.092 80.3154 123.092 73.4119Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),el.createElement("path",{d:"M232.862 51.8912L214.45 64.9049L240.999 74.0556L209.704 95.1483L208.027 92.6606L234.332 74.931L207.938 65.8337L231.13 49.4413L232.862 51.8912Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M82.2828 0H148.05L185.283 38.0308V47.1645L188.993 45.3563L196.545 23.4452L218.456 30.9974L239.307 20.8359L249.468 41.6862L271.414 49.2505L263.85 71.1971L274 92.0236L253.173 102.174L245.609 124.12L223.663 116.556L202.812 126.717L192.651 105.867L185.283 103.327V133H82.2828V109.541L31.3574 128.076C27.4651 129.493 23.1613 127.486 21.7446 123.593L16.9646 110.46C16.4165 108.954 17.1953 107.612 18.0665 106.887C18.9369 106.163 20.3041 105.686 21.6406 106.175C24.3362 107.162 27.171 107.252 29.8132 106.29C36.5897 103.824 40.064 94.9827 36.8557 86.168C33.6474 77.3533 25.303 72.8139 18.5265 75.2803C15.8843 76.242 13.7706 78.1332 12.3398 80.6217C11.6304 81.8554 10.2763 82.3687 9.14412 82.3734C8.01076 82.3782 6.55152 81.8507 6.00341 80.3447L1.22339 67.2118C-0.193304 63.3194 1.8136 59.0156 5.70593 57.5989L18.1219 53.0799C18.1237 53.0772 18.1258 53.0738 18.1282 53.0695C18.1529 53.0257 18.1896 52.9235 18.1889 52.7663C18.1882 52.6115 18.1509 52.4593 18.0918 52.3414C18.0341 52.2263 17.9741 52.1774 17.9418 52.1588C14.9078 50.4143 12.5056 47.7738 11.2767 44.3974C8.07639 35.6046 14.0889 25.815 23.9574 22.2231C33.8259 18.6313 44.7244 22.2658 47.9247 31.0587C49.1536 34.435 49.0107 38.0019 47.8079 41.2884C47.7951 41.3234 47.7805 41.3994 47.8104 41.5248C47.8409 41.653 47.9101 41.7936 48.0091 41.9127C48.1096 42.0335 48.2035 42.0882 48.2505 42.1059C48.2551 42.1076 48.2589 42.1089 48.262 42.1098L62.0875 37.0777C65.9798 35.661 70.2836 37.6679 71.7003 41.5603L82.2828 70.6354V0ZM182.283 40.1429V48.6266V56.5V76.5V98V102.293V130H85.2828V108.449V107C85.2828 107 85.2828 102.5 85.2828 98.5V78.8779V3H145.919V40.1429H182.283ZM185.283 50.5018V100.154L194.803 103.435L204.195 122.706L223.466 113.314L243.75 120.306L250.742 100.021L269.989 90.6411L260.609 71.3943L267.601 51.1092L247.316 44.1175L237.924 24.847L218.654 34.2385L198.404 27.2591L191.424 47.5087L185.283 50.5018ZM68.8813 42.5863L82.2828 79.4069V106.348L30.3314 125.257C27.996 126.107 25.4137 124.903 24.5637 122.567L19.7881 109.447C19.789 109.443 19.7903 109.44 19.792 109.435C19.8097 109.388 19.8644 109.294 19.9852 109.194C20.1043 109.095 20.2449 109.025 20.3731 108.995C20.4985 108.965 20.5745 108.98 20.6095 108.992C23.896 110.195 27.4629 110.338 30.8392 109.109C39.6321 105.909 43.2666 95.0105 39.6748 85.1419C36.0829 75.2734 26.2933 69.2609 17.5005 72.4613C14.1241 73.6901 11.4836 76.0923 9.7391 79.1263C9.72052 79.1586 9.67163 79.2186 9.55647 79.2764C9.43858 79.3354 9.28639 79.3728 9.13155 79.3734C8.97443 79.3741 8.87215 79.3374 8.82842 79.3127C8.82414 79.3103 8.82071 79.3082 8.81802 79.3064L4.04247 66.1857C3.19245 63.8503 4.39659 61.268 6.73199 60.418L19.1602 55.8945C20.6662 55.3464 21.1936 53.8871 21.1889 52.7538C21.1841 51.6216 20.6709 50.2675 19.4371 49.5581C16.9487 48.1273 15.0575 46.0135 14.0958 43.3714C11.6294 36.5949 16.1688 28.2505 24.9835 25.0422C33.7981 21.8339 42.6392 25.3082 45.1057 32.0847C46.0673 34.7269 45.9772 37.5617 44.9907 40.2573C44.5015 41.5938 44.9788 42.961 45.7029 43.8314C46.4278 44.7026 47.7698 45.4814 49.2758 44.9333L63.1136 39.8968C65.449 39.0468 68.0312 40.2509 68.8813 42.5863ZM148.919 5.17631L180.215 37.1429H148.919V5.17631Z",fill:"var(--color-icon-disabled, #D9D9D9)"}))}function r9({paidResources:e,primaryUserId:t}){let a=(0,ei.wA)(),r=(0,aN.iZ)(),[n,l]=el.useState(!1),[i,s]=el.useState(!1),o=(0,aX.Rs)(a9.wW7,{userId:t}),c=()=>{s(!0),a((0,t3.to)({type:re.s,data:{setupStripeCallback:e=>{l(!1),s(!1),e||a(ae.s.error((0,e2.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},d=()=>{l(!0),(0,a6.Cu)({user_id:r.id},"stripe_dasbhboard_link_clicked"),a(a5({callback:e=>{l(!1),e||a(ae.s.error((0,e2.t)("community.seller.unable_to_open_stripe_dashboard")))}}))};function m(){let[e,t]=el.useState(!1),l="stripe_button";return(null==r?void 0:r.stripe_account_status)&&(null==r?void 0:r.stripe_account_status)!==a7.P5.NONE?(null==r?void 0:r.stripe_account_status)===a7.P5.ENABLED||(null==r?void 0:r.stripe_account_status)===a7.P5.DISABLED?el.createElement("div",{className:rL},el.createElement("button",{className:"profile_resources_grid--stripeDashboardButton--LHyS8 profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:d},el.createElement("div",{className:rT},n&&el.createElement("div",{className:rx},el.createElement(t7.kt,{shouldMatchTextColor:!0})),el.createElement(e2.Tx,{id:"community.seller.view_stripe_dashboard"}))),el.createElement("button",{className:"profile_resources_grid--blueLink--WjRaq blue_link--blueLink--9rlnd",onClick:()=>{a((0,t3.to)({type:ri,data:{}}))}},el.createElement(e2.Tx,{id:"community.seller.view_payout_statements"}))):el.createElement("div",{className:rL},el.createElement("button",{className:"profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",disabled:n,onClick:c},el.createElement("div",{className:rT},n&&el.createElement("div",{className:rx},el.createElement(t7.kt,{shouldMatchTextColor:!0})),el.createElement("div",null,u))),el.createElement("div",{className:"profile_resources_grid--creatorAgreement--seV1h text--fontPos11--2LvXf text--_fontBase--QdLsd"},_)):el.createElement("div",{className:rL,"data-onboarding-key":l,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},el.createElement("button",{className:"profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e)},el.createElement(e2.Tx,{id:"community.seller.view_stripe_dashboard"})),e&&el.createElement(aK.NJ,{targetKey:l,className:"profile_resources_grid--stripeSetupButtonDisabledTooltip--Yv-vM pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:az.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, $figmaFGBlack)"},el.createElement("div",null,el.createElement(e2.Tx,{id:"community.seller.switch_to_primary_account"}))))}let u=el.createElement(e2.Tx,{id:"community.seller.set_up_stripe"}),_=el.createElement(e2.Tx,{id:"community.seller.agree_to_figma_terms_of_service",link:rs.Hl});n?u=el.createElement(e2.Tx,{id:"community.seller.stripe_loading_text"}):(null==r?void 0:r.stripe_account_status)===a7.P5.STARTED_ONBOARDING&&(u=el.createElement(e2.Tx,{id:"community.seller.finish_stripe_setup_button"}));let p="profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",g="profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd",E=el.createElement(e2.Tx,{id:"community.seller.resource_metrics_coming_soon"}),f=el.createElement(e2.Tx,{id:"community.seller.working_on_bringing_you_more_in_depth_metrics"});(null==r?void 0:r.stripe_account_status)!==a7.P5.ENABLED&&(p="profile_resources_grid--metricValueDisabled--mYlXF profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",g="profile_resources_grid--metricLabelDisabled--dTvu- profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd");let h=e.length>0,v=e.reduce((e,t)=>e+t.view_count,0);return E=el.createElement(e2.Tx,{id:"community.seller.youre_all_set_up_to_sell_on_community"}),f=el.createElement(e2.Tx,{id:"community.seller.to_publish_your_first_resource"}),(null==r?void 0:r.stripe_account_status)!==a7.P5.ENABLED&&(E=el.createElement(e2.Tx,{id:"community.seller.resources_youre_selling_will_appear_here"}),f=el.createElement(e2.Tx,{id:"community.seller.well_show_you_stripe_metrics"})),el.createElement("div",{className:"profile_resources_grid--profileMetricsTabOuterContainer--d-PPR"},el.createElement("div",{className:"profile_resources_grid--stripeBannerContainer--xRX1g"},el.createElement(a1.S,{isFirstTimeLoading:i})),(()=>{var e,t;let r=el.createElement(rV,null,el.createElement(m,null));if((0,em.kc)().cmty_m10n_turn_creator_dash_off||"loading"===o.status)return r;if("loaded"!==o.status||(null==(e=o.errors)?void 0:e.length))return a(a0.F.enqueue({message:(0,e2.t)("community.actions.unable_to_load_creator_stats"),error:!0})),r;{let e=null==(t=o.data.userMonetizationMetadata)?void 0:t.stripeCmtyCreatorStatsMeta,a={num_purchases:(null==e?void 0:e.numPurchases)||(null==e?void 0:e.num_purchases)||0,all_time_total_earned:(null==e?void 0:e.allTimeTotalEarned)||(null==e?void 0:e.all_time_total_earned)||0};return el.createElement(rG,{totalViewCount:v,metricValueStyle:p,metricLabelStyle:g,totalPurchases:a[a7.VU.NUM_PURCHASES],totalEarned:(0,a2.up)(a[a7.VU.ALL_TIME_TOTAL_EARNED])},el.createElement(m,null))}})(),el.createElement("div",{className:"profile_resources_grid--divider--GZynB"}),h?el.createElement(r5,{paidResources:e}):el.createElement("div",{className:rN},el.createElement("div",{className:"profile_resources_grid--profileMetricsStatsEmptyStateIcon--DvLAr"},el.createElement(r6,null)),el.createElement("div",{className:rk},E),el.createElement("div",{className:rS},f)))}var r7=a(931828),ne=a(239671),nt=a(407844),na=a(164795),nr=a(217288);let nn=(0,aj.r1)(aq.cX);function nl({profile:e}){let[t,a]=el.useState(!1),r=(0,eU.md)(nn),n=(0,ei.wA)();if(t||r.data)return el.createElement(el.Fragment,null);let l=el.createElement("div",null,el.createElement(e2.Tx,{id:"community.profile.creator_banner.you_can_now_add_image_and_video_previews"}),el.createElement(e8.L0,{href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",trackingProperties:{profileId:e.id},target:"_blank"},el.createElement(e2.Tx,{id:"community.learn_more"}))),i={id:na.om.CommunityResourceCreatorBanner,bannerType:na.x1.INFO,icon:nr.A,iconSize:"large",mainText:(0,e2.t)("community.profile.creator_banner.lets_spruce_things_up"),description:l,dismissible:!0,positionStatic:!0};return el.createElement(e8.fu,{name:"Profile Creator Upsell Banner",properties:{name:"profile_creator_upsell_banner",profileId:e.id}},el.createElement(nt.C,{content:i,editorType:ne.nT.Design,onDismiss:()=>{n(r7.b({[aq.cX]:!0})),a(!0),(0,e7.sx)("cmty_profile_creator_upsell_banner_dismissed",{profileId:e.id})}}))}var ni=a(560718),ns=a(318812),no=a(227795),nc=a(970516),nd=a(813408),nm=a(688734),nu=a(350913),n_=a(206074),np=((r=np||{}).COPY_LINK="Copy profile link",r.RESTRICT_USER="Restrict user",r.UNRESTRICT_USER="Unrestrict user",r);let ng=e=>{switch(e){case"Copy profile link":return(0,e2.t)("community.profiles.copy_profile_link");case"Restrict user":return(0,e2.t)("community.profiles.restrict_user");case"Unrestrict user":return(0,e2.t)("community.profiles.unrestrict_user");default:return""}};function nE(){let e=(0,ei.wA)(),t=(0,aN.iZ)(),a=(0,ei.d4)(e=>{var t,a;return null==(a=null==(t=e.dropdownShown)?void 0:t.data)?void 0:a.profile}),r=(0,ei.d4)(e=>{var t,a;return null==(a=null==(t=e.dropdownShown)?void 0:t.data)?void 0:a.targetRect});if(!a)return el.createElement(el.Fragment,null);let n=a.is_restricted_by_current_user,l=()=>{e(nc.lW({stringToCopy:`${window.location.origin}${(0,nu.bL)(a.profile_handle)}`}))},i=a=>{e(t2._8({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(a0.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{c(a)}}})),(0,e7.sx)("comment_profile_restricted",{restricted_by_profile_id:null==t?void 0:t.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},s=()=>{e((0,t3.to)({type:nm.H,data:{onBlock:()=>i(a.id),confirmationTitle:`Restrict ${a.name}?`,confirmButtonText:"Restrict"}}))},o=a=>{e(t2._8({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(a0.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{c(a)}}})),(0,e7.sx)("comment_profile_restricted",{restricted_by_profile_id:null==t?void 0:t.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},c=a=>{e(t2.dL({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(a0.F.enqueue({message:"Unrestricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{o(a)}}})),(0,e7.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:null==t?void 0:t.community_profile_id,unrestricted_profile_id:a,entry_point:"profile_page"})}}))},d=[{displayText:ng("Copy profile link")}];return((null==t?void 0:t.community_profile_id)&&a.entity_type===nd.o1.USER&&(n?d.push({displayText:ng("Unrestrict user")}):d.push({displayText:ng("Restrict user")})),r)?el.createElement(n_.j,{dispatch:e,items:d,showPoint:!0,parentRect:r,onSelectItem:(e,t)=>{"Copy profile link"===e.displayText?l():"Restrict user"===e.displayText?s():"Unrestrict user"===e.displayText&&c(a.id)},minWidth:96}):null}nE.displayName="ProfileMoreActionsDropdown";var nf=a(728859);function nh(e){let t=(0,ns.U)(),a=el.useRef(null),r=!!(t&&t.type===ni.N9),n=(0,ei.wA)(),l=el.useCallback(()=>{n(aC.oB())},[n]);return el.useEffect(()=>(window.addEventListener("scroll",l,!1),()=>{window.removeEventListener("scroll",l,!1)}),[l]),el.createElement("div",null,el.createElement(no.K0,{svg:nf.A,ref:a,onClick:r=>{r.stopPropagation();let i=a.current;t?l():i&&n(aC.j7({type:ni.N9,data:{profile:e.profile,targetRect:i.getBoundingClientRect()}}))},className:r?"profile_more_actions_button--iconButtonSelected--d85bU profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("community.profiles.profile_actions")}),r&&el.createElement(nE,null))}nh.displayName="ProfileMoreActionsButton";var nv=a(708389),nb=a(547807);let ny=new class{constructor(){this.CommunityResourceSavesSchemaValidator=(0,nb.ch)(),this.getCommunityResourceSaves=e=>this.CommunityResourceSavesSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resource_saves",nb.td.toAPIParameters(e))),this.CommunityUserResourceInstallsSchemaValidator=(0,nb.ch)(),this.getCommunityUserResourceInstalls=e=>this.CommunityUserResourceInstallsSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resources/installed/user",nb.td.toAPIParameters(e))),this.ProfileHasLikesSchemaValidator=(0,nb.vh)(),this.profileHasLikes=()=>this.ProfileHasLikesSchemaValidator.validate(async({xr:e})=>await e.get("/api/profile/has_likes"))}},nw=nv.f.byProperty("saved_at",nv.f.BY_DATETIME);function nT(){let[e,t]=el.useState([]),[a,r]=el.useState([]),[n,l]=el.useState([]),[i,s]=el.useState([]),[o,c]=el.useState(void 0),[d,m]=el.useState(void 0),[u,_]=el.useState(!1),[p,g]=el.useState(!1),E=i=>{Promise.all([f(i),h(i)]).then(([o,c])=>{let d=(null==o?void 0:o.meta.hub_files)||[],m=(null==c?void 0:c.meta.plugins)||[],u=(null==c?void 0:c.meta.widgets)||[],_=e,p=a,g=n;(null==i?void 0:i.reset)&&(_=[],p=[],g=[]);let{mergedResults:E,unmergedResultsList:[f,h,v]}=(0,ao.n0)([[..._,...d],[...p,...m],[...g,...u]],nw);(null==i?void 0:i.reset)?s(E):s(e=>[...e,...E]),t(f),r(h),l(v)})},f=e=>{let t=o;if((null==e?void 0:e.reset)&&(t=void 0),null!==t&&!u)return _(!0),ny.getCommunityResourceSaves({cursor:t,pageSize:30}).then(e=>(c(e.data.pagination.nextPage),e.data)).finally(()=>{_(!1)})},h=e=>{let t=d;if((null==e?void 0:e.reset)&&(t=void 0),null!==t&&!p)return g(!0),ny.getCommunityUserResourceInstalls({cursor:t,pageSize:30}).then(e=>(m(e.data.pagination.nextPage),e.data)).finally(()=>{g(!1)})};(0,ed.h)(()=>{E()});let v=u||p;return el.createElement(el.Fragment,null,el.createElement("div",{className:rv},el.createElement("div",{className:ry},v||0!==i.length?el.createElement(av.J,{adtlClassName:(0,av.K)("profile"),resources:i,viewContext:"ProfileSavesView",showMoreCallback:E}):el.createElement("div",{className:"profile_resources_grid--emptySavesTabContainer--4oQx-"},el.createElement(nC,null)),el.createElement("div",{className:rb},v&&el.createElement(t7.kt,null)))))}function nx(){return el.createElement("svg",{width:"86",height:"126",viewBox:"0 0 86 126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.1772 97.1417L43 94.6L39.8228 97.1417L38.5735 95.58L43 92.0388L47.4266 95.58L46.1772 97.1417ZM36.6457 99.6835L35.3963 98.1217L29.042 103.205L30.2914 104.767L36.6457 99.6835ZM27.1142 107.309L25.8648 105.747L19.5105 110.83L20.7599 112.392L27.1142 107.309ZM17.5827 114.934L16.3333 113.372L9.97901 118.456L11.2284 120.017L17.5827 114.934ZM8.05125 122.559L6.80185 120.997L3.62469 123.539C2.96993 124.063 2 123.597 2 122.758V118.933H0V122.758C0 125.274 2.90979 126.672 4.87408 125.101L8.05125 122.559ZM0 115.108H2V107.457H0V115.108ZM0 103.632H2V95.9812H0V103.632ZM0 92.156H2V84.5054H0V92.156ZM0 80.6801H2V73.0296H0V80.6801ZM0 69.2043H2V61.5538H0V69.2043ZM0 57.7285H2V50.078H0V57.7285ZM0 46.2527H2V38.6022H0V46.2527ZM0 34.7769H2V27.1263H0V34.7769ZM0 23.3011H2V15.6505H0V23.3011ZM0 11.8253H2V8C2 6.90362 2.29224 5.88157 2.80175 5.00098L1.07063 3.99936C0.389718 5.1762 0 6.54259 0 8V11.8253ZM3.99936 1.07063L5.00097 2.80175C5.88157 2.29224 6.90362 2 8 2H11.8889V0H8C6.54259 0 5.1762 0.389719 3.99936 1.07063ZM15.7778 0V2H23.5556V0H15.7778ZM27.4444 0V2H35.2222V0H27.4444ZM39.1111 0H46.8889V2H39.1111V0ZM50.7778 0V2H58.5556V0H50.7778ZM62.4444 0V2H70.2222V0H62.4444ZM74.1111 0V2H78C79.0964 2 80.1184 2.29224 80.999 2.80175L82.0006 1.07063C80.8238 0.389718 79.4574 0 78 0H74.1111ZM84.9294 3.99936L83.1983 5.00097C83.7078 5.88157 84 6.90362 84 8V11.8253H86V8C86 6.54259 85.6103 5.1762 84.9294 3.99936ZM86 15.6505H84V23.3011H86V15.6505ZM86 27.1264H84V34.7769H86V27.1264ZM86 38.6022H84V46.2527H86V38.6022ZM86 50.078H84V57.7285H86V50.078ZM86 61.5538H84V69.2043H86V61.5538ZM86 73.0296H84V80.6802H86V73.0296ZM86 84.5054H84V92.156H86V84.5054ZM86 95.9812H84V103.632H86V95.9812ZM86 107.457H84V115.108H86V107.457ZM86 118.933H84V122.758C84 123.597 83.0301 124.063 82.3753 123.539L79.1981 120.997L77.9488 122.559L81.1259 125.101C83.0902 126.672 86 125.274 86 122.758V118.933ZM74.7716 120.017L76.021 118.456L69.6667 113.372L68.4173 114.934L74.7716 120.017ZM65.2401 112.392L66.4895 110.83L60.1352 105.747L58.8858 107.309L65.2401 112.392ZM55.7086 104.767L56.958 103.205L50.6037 98.1217L49.3543 99.6835L55.7086 104.767Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}),el.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49V60H44V49H55V47H44V36H42V47H31V49H42Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}))}function nC(){return el.createElement("div",{className:eE.cx.flex.itemsCenter.flexColumn.gap16.$},el.createElement(nx,null),el.createElement("div",{className:eE.cx.flex.flexColumn.gap8.alignCenter.$},el.createElement("h2",{className:eE.cx.font14.fontMedium.$},el.createElement(e2.Tx,{id:"community.saves.no_saves_title"})),el.createElement("p",{className:eE.cx.font11.$},el.createElement(e2.Tx,{id:"community.saves.no_saves_subtitle"}))),el.createElement(eT.nR,{target:"_blank",onClick:()=>{ec.Ay.push("/community")}},el.createElement(e2.Tx,{id:"community.explore_resources"})))}var nN=a(348425),nk=a(727475),nS=a(26096),nI=a(327115);class nA extends el.Component{constructor(){super(...arguments),this.getProfileLink=()=>{if(this.props.profile&&this.props.profile.profile_handle)return`figma.com/@${this.props.profile.profile_handle}`;let e=this.props.profile.id;return`figma.com/profile/${e}`},this.getProfileLinkText=()=>{let e=this.getProfileLink(),t=el.createElement(eT.N_,{href:`https://${e}`,className:nk.nf,trusted:!0},e);return this.props.profile.primary_user_id?el.createElement(e2.Tx,{id:"community.profiles.your_profile_is_visible_to_the_public_at",link:t}):this.props.profile.entity_type===nd.o1.TEAM?el.createElement(e2.Tx,{id:"community.profiles.your_teams_profile_is_visible_to_the_public_at",link:t}):this.props.profile.entity_type===nd.o1.ORG?el.createElement(e2.Tx,{id:"community.profiles.your_organizations_profile_is_visible_to_the_public_at",link:t}):void 0}}render(){return this.props.profile?el.createElement("div",{className:this.props.className||""},el.createElement("div",{className:nk.cI},el.createElement(nN.t,{svg:nS.A,fallbackSvg:nI.A,useOriginalSrcFills_DEPRECATED:!0,className:nk.q3}),el.createElement("span",{className:nk._M},this.getProfileLinkText()))):null}}nA.displayName="PublicProfileBanner";var nL=a(927625),nR=a(157285),nO=a(754961),nD=a(573812);let nF=(0,te.jz)(e5.d8i),nM=(0,te.jz)(e5.wOr);function nP(e){let{canEdit:t,canSellOnCommunity:a}=e,r=(0,aN.iZ)(),n=el.useCallback(()=>{if(r)return(0,ay.tx)(r)},[r]);return r&&t?el.createElement(el.Fragment,null,a?el.createElement("div",{role:"link",tabIndex:0,onClick:n,className:rO},el.createElement(e2.Tx,{id:"community.profiles.contact_creator_support"})):el.createElement("div",{className:"profile_resources_grid--sellOnCommunity--7r6cV"},el.createElement(eT.CY,{href:"https://www.figma.com/community-creators",className:rO,target:"_blank",trusted:!0},el.createElement(e2.Tx,{id:"community.profiles.interested_in_selling_your_resources"})))):el.createElement(el.Fragment,null)}function nB(e){let{updateProfile:t,canEdit:a,isViewingCurrentUserProfile:r,showFollowsModal:n}=e,l=(0,ab.tn)(e.profile.id),i=(0,eK.si)(l),s=(0,em.kc)().cmty_deprecate_browse_as_admin?i:a;return l?el.createElement(nU,{profile:l,canEdit:s,updateProfile:t,isViewingCurrentUserProfile:r,showFollowsModal:n}):el.createElement(el.Fragment,null)}function nU(e){let{profile:t,canEdit:a,updateProfile:r,isViewingCurrentUserProfile:n}=e,l=e.profile.name,i=t.profile_handle||null,s=e=>a=>{e in t&&t[e]!==a&&r({[e]:a})},o=(a||t.description)&&el.createElement(ag,{value:t.description||"",placeholder:(0,e2.t)("community.profiles.add_a_description"),className:a?rp:rg,submit:s("description"),formatter:ap,readOnly:!a,maxLength:160}),c=(a||t.location)&&el.createElement(ag,{value:t.location||"",placeholder:(0,e2.t)("community.profiles.add_a_location"),className:a?rp:rg,submit:s("location"),readOnly:!a,maxLength:30}),d=(a||t.website)&&el.createElement(ag,{value:t.website||"",placeholder:(0,e2.t)("community.profiles.add_website_url"),className:a?rp:rg,submit:s("website"),formatter:ap,readOnly:!a,maxLength:100}),m=(a||t.twitter)&&el.createElement(ag,{value:t.twitter||"",placeholder:(0,e2.t)("community.profiles.add_x_handle"),className:a?rp:rg,submit:s("twitter"),formatter:e=>eN.HD.test(e)?ap(`https://twitter.com/${e}`):ap(e),readOnly:!a,maxLength:100}),u=(a||t.instagram)&&el.createElement(ag,{value:t.instagram||"",placeholder:(0,e2.t)("community.profiles.add_instagram_handle"),className:a?rp:rg,submit:s("instagram"),formatter:e=>eN.Co.test(e)?ap(`https://www.instagram.com/${e}`):ap(e),readOnly:!a,maxLength:100}),_=el.createElement(aB.W,{profile:t,followClassName:"profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",followingClassName:"profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",unfollowClassName:"profile_resources_grid--unfollowButton--MmYUn profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{viewingProfileId:t.id}}),p=(0,ac.$M)(t.follower_count),g=(0,ac.$M)(t.following_count),E=el.createElement("div",{className:"profile_resources_grid--followsDataContainer--TnbJI"},el.createElement("div",{className:ey()(rE,{[rf]:!0}),onClick:()=>e.showFollowsModal(t5.g3.FOLLOWERS)},el.createElement(e2.Tx,{id:"community.profiles.follower_count",followerCount:p,formattedFollowerCount:el.createElement("span",{className:rh},p)})),t.primary_user_id&&el.createElement("div",{className:ey()(rE,{[rf]:!0}),onClick:()=>e.showFollowsModal(t5.g3.FOLLOWING)},el.createElement(e2.Tx,{id:"community.profiles.following_count",followingCount:el.createElement("span",{className:rh},g)}))),f=el.createElement("div",{className:"profile_resources_grid--profileDataHandleAndFollow--6kpYs"},el.createElement("div",{className:"profile_resources_grid--profileDataHandle--DB20D"},"@",i),t.current_user_is_followed&&el.createElement(nL.v_,null)),h=el.createElement(nh,{profile:t}),v=n?null:el.createElement("div",{className:"profile_resources_grid--followMoreActionsContainer--uQNdm"},_,h),b=el.createElement(nP,{canEdit:a,canSellOnCommunity:(0,eN.kf)(t)});return el.createElement("div",null,el.createElement("h1",{className:"profile_resources_grid--profileDataName--xw46b text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},el.createElement(aE.G,{truncate:"end",text:l,className:"profile_resources_grid--profileNameText--WdY6t"}),el.createElement(ah.l,{profile:t,tooltip:!0})),i&&f,v,o,E,c,d,m,u,b)}(e=>{let t={resources:null,loading:!1};class a extends el.Component{constructor(e){super(e),this.publicAuthoredPlugins=e=>Object.keys((0,aS.xK)(e,this.props.profileId)).map(t=>e[t]),this.publicAuthoredHubFiles=()=>Object.keys((0,ak.uj)(this.props.hubFiles,this.props.profileId)).map(e=>this.props.hubFiles[e]),this.authoredResources=()=>{let e=(0,aS.$2)((0,aS.i8)(Object.values(this.props.publishedPlugins)),this.props.currentOrgId),t=(0,aS.$2)((0,aS.i8)(Object.values(this.props.publishedWidgets)),this.props.currentOrgId),a=[...this.publicAuthoredPlugins(e),...this.publicAuthoredPlugins(t),...this.publicAuthoredHubFiles()];return(0,as.GK)(a,e=>{let t=e.current_hub_file_version_id?e.current_hub_file_version_id:e.current_plugin_version_id||"";return e.versions[t].created_at})},this.isLoading=()=>{let e=this.props.profileId,t=aT.pZ.loadingKeyForPayload({profileId:e}),a=aT.kA.loadingKeyForPayload({profileId:e}),r=ax.H.loadingKeyForPayload(e),n=this.props.tab===t5.g3.LIKES&&null===this.state.likedResourcesState.resources&&this.state.likedResourcesState.loading;return!((0,t8.D2)(this.props.loadingState,t||"")&&(0,t8.D2)(this.props.loadingState,a||"")&&(0,t8.D2)(this.props.loadingState,r||""))||n},this.redirectToLanding=()=>{ec.Ay.push("/community")},this.filterPaidResources=e=>!!e.monetized_resource_metadata,this.state={likedResourcesState:t,didFetchFail:!1,isLoadingStripe:!1}}componentDidUpdate(e){e.tab===this.props.tab||this.props.tab!==t5.g3.LIKES||null!==this.state.likedResourcesState.resources||this.state.likedResourcesState.loading||this.fetchNextLikedResources(),this.props.tab===t5.g3.SAVES&&this.props.authedActiveCommunityProfileId!==this.props.profile.id&&this.props.dispatch(aC.$T({...this.props.currentSelectedView,profileTab:t5.g3.RESOURCES}))}componentDidMount(){this.props.tab!==t5.g3.LIKES||null!==this.state.likedResourcesState.resources||this.state.likedResourcesState.loading||this.fetchNextLikedResources()}async fetchNextLikedResources(){if((0,ao.u9)(this.state.likedResourcesState)){this.setState({likedResourcesState:{...this.state.likedResourcesState,loading:!0},didFetchFail:!1});try{let e=await (0,ao.En)(`/api/profile/${this.props.profile.id}/likes`,ao.vs,this.state.likedResourcesState,ao.AS),t=[],a=[],r=[];e.resources.forEach(e=>{e.type===aI.vt.HUB_FILE?t.push(e):e.type===aI.vt.PLUGIN?a.push(e):e.type===aI.vt.WIDGET&&r.push(e)}),this.props.dispatch(aw.D3(t)),this.props.dispatch(aT.Vx(a)),this.props.dispatch(aT.uV(r)),this.setState({likedResourcesState:{resources:[...this.state.likedResourcesState.resources||[],...e.resources],loading:!1,pagination:e.pagination},didFetchFail:!1})}catch{this.setState({didFetchFail:!0}),this.props.dispatch(ae.s.error((0,e2.t)("community.error.an_error_has_occurred_please_refresh_the_page_and_try_again")))}}}renderEmptyState(){let e,t,a,r;return this.props.tab===t5.g3.LIKES?(e=(0,e2.t)("community.profiles.nothing_liked_yet"),t=(0,e2.t)("community.profiles.see_whats_being_created_in_figma"),a=el.createElement(eT.nR,{target:"_blank",onClick:this.redirectToLanding},el.createElement(e2.Tx,{id:"community.landing_page.explore"})),r=nR.A):(e=(0,e2.t)("community.profiles.nothing_published_yet"),t=(0,e2.t)("community.profiles.see_whats_being_created_in_figma"),a=el.createElement(eT.nR,{target:"_blank",onClick:this.redirectToLanding},el.createElement(e2.Tx,{id:"community.profiles.explore"})),r=nO.A),el.createElement("div",{className:rN},el.createElement(eC.B,{svg:r,useOriginalSrcFills_DEPRECATED:!0}),el.createElement("div",{className:rk},e),el.createElement("div",{className:rS},t),a)}render(){let e=[t5.g3.RESOURCES,t5.g3.FOLLOWERS,t5.g3.FOLLOWING,t5.g3.METRICS].includes(this.props.tab)?this.authoredResources():this.state.likedResourcesState.resources||[],t=((0,em.kc)().cmty_rdp_creator_nudge_email||(0,em.kc)().cmty_rdp_creator_modal)&&this.props.authedActiveCommunityProfileId===this.props.profile.id;return this.props.tab===t5.g3.METRICS?el.createElement(t1.x,{isLoading:this.isLoading(),className:rv},()=>el.createElement(r9,{paidResources:e.filter(this.filterPaidResources),primaryUserId:this.props.profile.primary_user_id})):this.props.tab===t5.g3.SAVES?el.createElement(nT,null):el.createElement(t1.x,{isLoading:this.isLoading(),className:rv},()=>e.length>0?el.createElement("div",{className:ry},t&&el.createElement("div",{className:"profile_resources_grid--profileResourcesGridBanner--6L4qI"},el.createElement(nl,{profile:this.props.profile})),el.createElement(av.J,{adtlClassName:(0,av.K)("profile"),resources:e,viewContext:t6.e0.COMMUNITY_HUB_PROFILE,showMoreCallback:()=>{this.props.tab===t5.g3.LIKES&&this.fetchNextLikedResources()}}),this.props.tab===t5.g3.LIKES&&(0,ao.u9)(this.state.likedResourcesState)&&!this.state.didFetchFail&&el.createElement("div",{className:rb},el.createElement(t7.kt,null))):this.renderEmptyState())}}a.displayName="PublicProfileResourcesGrid",e.ConnectedPublicProfileResourcesGrid=(0,ei.Ng)(e=>{var t;let a=e.communityHub.currentProfile;return{profile:a,currentUser:e.user||null,isWithinProfileScope:(0,eK.E1)(a,e),publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,hubFiles:e.hubFiles,currentOrgId:e.currentUserOrgId||null,loadingState:e.loadingState,authedActiveCommunityProfileId:(null==(t=e.authedActiveCommunityProfile)?void 0:t.id)||null,currentSelectedView:e.selectedView}})(a)})(ee||(ee={}));let nW=ee.ConnectedPublicProfileResourcesGrid;(e=>{class t extends el.Component{constructor(){super(...arguments),this.updateProfile=e=>{this.props.dispatch(t2.aP({profileId:this.props.profileId,...e}))},this.onFilesPluginsTabClick=()=>{var e;(0,e7.sx)("Profile Resources Tab Clicked",{tabName:"resources",profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),this.props.dispatch(aC.$T({...this.props.currentSelectedView,profileTab:t5.g3.RESOURCES}))},this.onMetricsTabClick=()=>{var e;(0,e7.sx)("Profile Resources Tab Clicked",{tabName:"metrics",profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),(0,af.YQ)({id:"profile-metrics-tab-clicked"}),this.props.dispatch(aC.$T({...this.props.currentSelectedView,profileTab:t5.g3.METRICS}))},this.onSavesTabClick=()=>{var e;(0,af.YQ)({id:"cmty-profile-saves"}),(0,e7.sx)("Profile Resources Tab Clicked",{tabName:t5.g3.SAVES,profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),this.props.dispatch(aC.$T({...this.props.currentSelectedView,profileTab:t5.g3.SAVES}))},this.showFollowsModal=e=>{this.props.dispatch(aC.$T({...this.props.currentSelectedView,profileTab:e}))}}render(){let e=el.createElement(nW,{...this.props,tab:this.props.profileTab}),t=this.props.profile.primary_user_id&&this.props.authedActiveCommunityProfileId===this.props.profile.id?el.createElement(el.Fragment,null,el.createElement("button",{className:ey()(rc,rd,{[ru]:this.props.profileTab===t5.g3.SAVES}),onClick:this.onSavesTabClick,tabIndex:0,"data-onboarding-key":"cmty-profile-save-tab"},el.createElement(e2.Tx,{id:"community.profiles.saved"}),el.createElement(eC.B,{svg:nD.A,className:rD,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("community.only_visible_to_you")}))):el.createElement(el.Fragment,null),a=el.createElement("div",{className:"profile_resources_grid--profileDataContainer--e4QVX text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(nB,{profile:this.props.profile,canEdit:this.props.canEdit,updateProfile:this.updateProfile,isViewingCurrentUserProfile:this.props.authedActiveCommunityProfileId===this.props.profile.id,showFollowsModal:this.showFollowsModal}),this.props.isWithinProfileScope&&this.props.communityStatusOnProfile!==at.Cw.ADMIN_IN_DIFFERENT_WORKSPACE&&el.createElement(aM.z,{query:`(min-width: ${nM}px)`},el.createElement(nA,{profile:this.props.profile,className:rA})),!this.props.isWithinProfileScope&&el.createElement(aP.H,{profile:this.props.profile,className:rA})),r=this.props.isWithinProfileScope&&(0,eN.af)(this.props.currentUser),n=el.createElement(aF,{user:this.props.currentUser},el.createElement("div",{className:ro},el.createElement("div",{className:ey()(rc,rd,{[ru]:this.props.profileTab===t5.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},el.createElement(e2.Tx,{id:"community.profiles.resources"})),t,r&&el.createElement(e8.fu,{name:t6.e0.COMMUNITY_PROFILE_METRICS_TAB},el.createElement("div",{className:rm},el.createElement("div",{className:ey()(rc,rd,r_,{[ru]:this.props.profileTab===t5.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},el.createElement(e2.Tx,{id:"community.seller.profiles.metrics"}),el.createElement(eC.B,{svg:nD.A,className:rD,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("community.only_visible_to_you")})))))),l=el.createElement("div",{className:ro},el.createElement("div",{className:ey()(rc,rd,{[ru]:this.props.profileTab===t5.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},el.createElement(e2.Tx,{id:"community.profiles.resources"})),t,r&&el.createElement(e8.fu,{name:t6.e0.COMMUNITY_PROFILE_METRICS_TAB},el.createElement(aV.p,null,el.createElement(aZ,{onboardingKey:aW})),el.createElement("div",{className:rm},el.createElement("div",{className:ey()(rc,rd,r_,{[ru]:this.props.profileTab===t5.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},el.createElement("span",{"data-onboarding-key":aW},el.createElement(e2.Tx,{id:"community.seller.profiles.metrics"})),el.createElement(eC.B,{svg:nD.A,className:rD})))));return el.createElement(el.Fragment,null,el.createElement(aM.z,{query:`(min-width: ${nF}px)`},l,el.createElement("div",{className:rC},a,e)),el.createElement(aM.z,{query:`(max-width: ${nF-1}px)`},el.createElement("div",{className:rC},a,n,e)))}}t.displayName="PublicProfileResourcesGridAndData",e.ConnectedPublicProfileResourcesGridAndData=(0,ei.Ng)(e=>{var t,a;let r=e.communityHub.currentProfile,n=t5.g3.RESOURCES,l=!1;if("selectedView"in e){let a=null==(t=e.selectedView)?void 0:t.profileTab;l=(0,eK.E1)(r,e),a&&(a!==t5.g3.METRICS||l)&&(n=a)}return{profile:r,currentUser:"user"in e?e.user:null,canEdit:(0,eK.jG)(r,e),isWithinProfileScope:l,currentSelectedView:"selectedView"in e?e.selectedView:null,profileTab:n,communityStatusOnProfile:(0,at.kJ)(e,r),authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?(null==(a=e.authedActiveCommunityProfile)?void 0:a.id)??null:null}})(t)})(et||(et={}));let nV=et.ConnectedPublicProfileResourcesGridAndData;var nG=a(291129);class n$ extends el.Component{constructor(e){super(e),this.state={}}componentDidMount(){null==this.props.currentProfile?this.fetchProfile():this.onProfileLoad()}componentDidUpdate(e){var t,a,r;null!=this.props.currentProfile||this.state.profileFetchLoadingKey||this.fetchProfile(),this.state.profileFetchLoadingKey&&(0,t8.GH)(this.props.loadingState,this.state.profileFetchLoadingKey)&&(this.onProfileLoad(),this.setState({profileFetchLoadingKey:void 0}));{let n=null==(t=e.currentSelectedView)?void 0:t.profileTab,l=null==(a=this.props.currentSelectedView)?void 0:a.profileTab,i=this.isFollowsListModalTab(n)?n:null,s=this.isFollowsListModalTab(l)?l:null;this.props.currentProfile&&i!==s&&s?this.props.dispatch((0,t3.to)({type:nG.w,data:{currentSelectedView:this.props.currentSelectedView,profile:this.props.currentProfile,currentUserProfileId:(null==(r=this.props.currentUser)?void 0:r.community_profile_id)||null,authedActiveCommunityProfileId:this.props.authedActiveCommunityProfileId,dispatch:this.props.dispatch}})):!s&&i&&this.props.dispatch(t3.Ce())}}fetchProfile(){if(!this.props.handle){this.props.on404Redirect();return}let e={handle:this.props.handle,on404Redirect:this.props.on404Redirect};this.props.dispatch(t2.av(e)),this.setState({profileFetchLoadingKey:t2.av.loadingKeyForPayload(e)})}isFollowsListModalTab(e){return[t5.g3.FOLLOWERS,t5.g3.FOLLOWING].includes(e)}onProfileLoad(){var e,t;if(this.props.currentProfile){if(!this.props.currentProfile.public_at)return this.props.on404Redirect();this.props.dispatch(t4.Sj(this.props.currentProfile.id)),this.isFollowsListModalTab(null==(e=this.props.currentSelectedView)?void 0:e.profileTab)&&this.props.dispatch((0,t3.to)({type:nG.w,data:{currentSelectedView:this.props.currentSelectedView,profile:this.props.currentProfile,currentUserProfileId:(null==(t=this.props.currentUser)?void 0:t.community_profile_id)||null,authedActiveCommunityProfileId:this.props.authedActiveCommunityProfileId,dispatch:this.props.dispatch}}))}}render(){return el.createElement(t1.x,{className:"community_hub_public_profile--loadingContainer--GUi6s",isLoading:!this.props.currentProfile},()=>{let e=this.props.currentProfile;return el.createElement(e8.fu,{name:t6.e0.COMMUNITY_HUB_PROFILE,properties:{handle:e.profile_handle,profileId:e.id}},el.createElement("div",{className:this.props.currentUser?"community_hub_public_profile--signedInProfileContainer--8jWX9":"community_hub_public_profile--signedOutProfileContainer--nIxAf"},el.createElement("div",null,el.createElement(ai,{profileId:e.id}),el.createElement(nV,{profileId:e.id})),(0,ek.o5)({isLoggedOut:!1})()&&!(0,eo.y3)()&&el.createElement("div",{className:"community_hub_public_profile--footerContainer--L38Gh"},el.createElement(to.A,null)),el.createElement(eV.Ay,null)))})}}n$.displayName="CommunityHubProfile";let nj=(0,ei.Ng)((e,t)=>{var a,r,n,l;let i=(null==(a=e.communityHub)?void 0:a.currentProfile)??null,s=(null==(r=null==i?void 0:i.profile_handle)?void 0:r.toLowerCase())===(null==(n=t.handle)?void 0:n.toLowerCase())?i:null;return{currentUser:"user"in e?e.user:null,currentProfile:s,currentSelectedView:"selectedView"in e?e.selectedView:null,loadingState:e.loadingState??{},authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?(null==(l=e.authedActiveCommunityProfile)?void 0:l.id)??null:null}})(n$);function nH(){let{handle:e}=(0,ev.g)();return el.createElement(nj,{handle:e,on404Redirect:()=>{ec.Ay.redirect("/404")}})}var nq=a(672631),nY=a(752553),nz=a(401980),nK=a(34503),nJ=a(460845);let nQ="breadcrumbs--link--8OB6k";function nZ({pathname:e,overrideText:t}){let a=decodeURIComponent(e).split("/").slice(1),r=a[a.length-1].replace(/-/g," ");return el.createElement("div",{className:"breadcrumbs--breadcrumbs--7n1rP text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(nJ.N_,{className:nQ,to:"/community/collections"},el.createElement(e2.Tx,{id:"community.shelves.all_collections"})),el.createElement("div",{className:"breadcrumbs--separator--4AJjS"},"/"),el.createElement("span",{className:ey()(nQ,"breadcrumbs--black--BefO-")},t||(0,ac.Zr)(r)))}var nX=a(175290),n0=a(896474);function n1({title:e,hasDivider:t=!1,children:a}){let[r,n]=(0,el.useState)(!1);return el.createElement(nX.Y,{verticalAlignItems:"start",width:"fill-parent",height:"hug-contents"},el.createElement("div",{tabIndex:0,className:"faq_accordion--accordionButton--t23kN",role:"button",onClick:()=>{n(e=>!e)}},el.createElement("div",{className:ey()("faq_accordion--accordionButtonContent--lHulm text--fontPos13--xW8hS text--_fontBase--QdLsd",{"faq_accordion--divider--VdCtu":t})},el.createElement(nX.Y,{direction:"vertical"},el.createElement(nX.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},el.createElement("div",{className:r?"faq_accordion--semibold--ff-Ee":"faq_accordion--medium--4FEsg"},e),el.createElement(n0.In,{icon:r?"chevron-up-32":"chevron-down-32",fill:"secondary"})),el.createElement("div",{className:r?void 0:"faq_accordion--hidden--G1Whc"},a)))))}function n2({faqs:e}){return el.createElement("div",{className:"faqs_section--sectionContainer--NWPTP"},el.createElement(nX.Y,{horizontalAlignItems:"center"},el.createElement("div",{className:"faqs_section--section--5Tey9"},el.createElement(nX.Y,{width:"fill-parent",height:"hug-contents",direction:"vertical",spacing:0},el.createElement("div",{className:"faqs_section--sectionTitle--I5tGC text--fontPos24--YppUD text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"community.collections.frequently_asked_questions"})),el.createElement("div",{className:"faqs_section--sectionBody--e9hQ3"},e.map((e,t)=>el.createElement(n1,{key:t,hasDivider:0!==t,title:e.question},el.createElement("p",{className:"faqs_section--answer--CBO9A"},e.answer))))))))}var n4=a(766648);function n3({collection:e}){return el.createElement("div",{className:"header_attributes--attributes--UE7uE text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(n4.Lf,{publishers:[e.profile]}),el.createElement("div",{className:"header_attributes--profile--qrbMp"},el.createElement(e2.Tx,{id:"community.collections.curated_by"}),el.createElement("span",{className:"header_attributes--profileName--n9lfZ"},el.createElement(n4.Iq,{publishers:[e.profile],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),!!e.latest_published_at&&el.createElement("div",{className:"header_attributes--date--Zt4VW"},el.createElement("span",{className:"header_attributes--dot--1yVwn"},"\u2022"),el.createElement("span",null,new Date(e.latest_published_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))}var n8=a(38580),n5=a(675665);let n6=(0,n8.eU)(n5.$O.DescriptionView);var n9=a(892123),n7=a(175420);a(17284);var le=a(689289);a(266608);var lt=a(973227),la=a(595544),lr=a(662691),ln=a(654923);let ll=a(62258).X;var li=a(708071),ls=a(624618);function lo({resourceId:e,resourceType:t,containerClassName:a}){let r=(0,ei.wA)(),n=(0,ei.d4)(a=>t===aI.vt.HUB_FILE?(0,ak.M3)(e,a.hubFiles):(0,aS.my)(e,a.publishedPlugins)),l=(0,ei.d4)(e=>e.authedActiveCommunityProfile),i=(0,ei.d4)(e=>(0,at.MK)(e,n)),s=el.useCallback(()=>{r((0,t4.z8)({hub_file_id:(0,aI.U)(n)?n.id:void 0,widget_id:(0,aI.xQ)(n)?n.id:void 0,plugin_id:(0,aI.I0)(n)?n.id:void 0})),r(a0.F.enqueue({message:(0,e2.t)("community.detail_view.accepted_creator_invite")}))},[r,n]),o=el.useCallback(()=>{r((0,t4.bb)({hub_file_id:(0,aI.U)(n)?n.id:void 0,widget_id:(0,aI.xQ)(n)?n.id:void 0,plugin_id:(0,aI.I0)(n)?n.id:void 0})),r(a0.F.enqueue({message:(0,e2.t)("community.detail_view.declined_creator_invite")}))},[r,n]);return!l||(0,eK.cs)(l)||!at.ot.includes(i)?null:el.createElement("div",{className:a},el.createElement(ls.vR,{onClickAccept:s,onClickDecline:o,label:(0,e2.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")}))}var lc=a(986323);function ld({pluginId:e,containerClassName:t}){let a=(0,ei.wA)(),r=(0,ei.d4)(t=>(0,aS.my)(e,t.publishedPlugins)),n=(0,ei.d4)(e=>(0,lc.A)(e,r));return void 0!==n&&(0,lc.jT)(n)?el.createElement("div",{className:t},el.createElement(ls.vR,{onClickAccept:()=>{a((0,t4.dx)({widget_id:(0,aI.xQ)(r)?r.id:void 0,plugin_id:(0,aI.I0)(r)?r.id:void 0,src:t4.Nn.COMMUNITY_PAGE})),a(a0.F.enqueue({message:(0,e2.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{a((0,t4.MZ)({widget_id:(0,aI.xQ)(r)?r.id:void 0,plugin_id:(0,aI.I0)(r)?r.id:void 0,src:t4.Nn.COMMUNITY_PAGE})),a(a0.F.enqueue({message:(0,e2.t)("community.detail_view.declined_publisher_invite")}))},label:(0,e2.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")})):null}var lm=a(99506),lu=a(629521),l_=a(27703),lp=a(106757),lg=a(674694);let lE="canvas_viewer--canvasViewer--aDA8H",lf=(e,{width:t,height:a,top:r,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=a+"px",e.style.top=r+"px",e.style.left=n+"px"},lh=(e,t)=>{if(e.viewer_mode===lm.y4.PROTOTYPE)return`/community/file/${e.id}/embed`;let a=`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;return void 0===t?a:`${a}&fuid=${t}`};function lv({viewer:e,resource:t,fixedSize:a}){let[r,n]=el.useState(void 0),[l,i]=el.useState(!1),[s,o]=el.useState(!1),c=(0,eU.md)(lp.kS);el.useEffect(()=>{if(!e)return;let t=t=>{"LOAD_FINISHED"===t.data&&(e.querySelector("iframe").classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),i(!0),(0,a6.qD)({name:"hub-file-canvas-loaded"}))},a=()=>{document.activeElement===e.querySelector("iframe")&&(0,a6.qD)({name:"community-LO-embed-iframe-interacted",comparisonVariant:s?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",a,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",a,!1)}},[e,s]);let d=()=>{if(!e)return;let t=e.querySelector(`div.${lE}`);if(!t)return;let a=t.getBoundingClientRect();lf(t,a),n(a),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,a6.qD)({name:"community-LO-embed-view-expanded"}),o(!0)},m=()=>{if(!e)return;let t=e.querySelector(`.${lE}`);t&&(lf(t,r),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),o(!1))};return e?el.createElement(el.Fragment,null,el.createElement("div",{className:"canvas_viewer--iframeWrapper--eemgJ"},el.createElement("iframe",{key:t.id,title:(0,e2.t)("community.embed.preview_title_long"),style:{width:a?"100%":(0,eN.zS)(l),height:"100%"},src:lh(t,c),allowFullScreen:!0}),el.createElement("svg",{onClick:()=>{s?m():d()},"aria-label":s?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},el.createElement("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))),el.createElement("div",{role:"button",tabIndex:0,onClick:m,className:"canvas_viewer--iframeBackdrop--1sZT3"})):el.createElement(el.Fragment,null)}function lb({resource:e,enableEmbedOnSmallScreens:t}){let[a,r]=el.useState(null),n=e.viewer_mode===lm.y4.WHITEBOARD,l=!!e.thumbnail_is_set,i=t?eS.YW:900;return el.createElement("div",{className:ey()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>r(e)},el.createElement("div",{className:n?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":lE,key:e.id},el.createElement("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx"},el.createElement(nL.Ho,{image:e.thumbnail_url,isSet:l,isWhiteboard:n,backgroundColor:(0,l_.Cn)(e.client_meta),hubFileId:e.id,alt:(0,eN.qD)(e).name+" preview",thumbnailContext:lg.O7.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})),el.createElement(e4.Ay,{mediaQuery:`(min-width: ${i}px)`,onHide:()=>{a&&a.setAttribute("data-loaded","false")}},el.createElement(lv,{fixedSize:t,viewer:a,resource:e}))))}function ly({resource:e}){return el.createElement("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true"},el.createElement("div",{className:lE},el.createElement("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,eN.qD)(e).name+" preview",key:e.id})))}function lw({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?el.createElement(e8.fu,{name:"Canvas Embed"},el.createElement(lb,{resource:e,enableEmbedOnSmallScreens:t})):el.createElement(ly,{resource:e})}var lT=a(482075),lx=a(817749);function lC({parentCategorySlug:e,childCategorySlug:t,rdpImpressionId:a}){let r=(0,lT.hV)(),n=e?r[e]:null,l=t?r[t]:null;return l||n?el.createElement("div",{className:eE.cx.mb32.$},el.createElement("h3",{className:lx.Pr},el.createElement(e2.Tx,{id:"community.detail_view.category"})),el.createElement("div",{className:lx.Pc},!!n&&el.createElement(e8.L0,{href:`/community/category/${e}`,trackingEventName:"cmty_category",trackingProperties:{name:"rdp_pill_clicked",category_slug:e,category_text:n,rdpImpressionId:a}},el.createElement("div",{className:lx.Tc},n)),!!l&&el.createElement(e8.L0,{href:`/community/category/${t}`,trackingEventName:"cmty_category",trackingProperties:{name:"rdp_pill_clicked",category_slug:t,category_text:l,rdpImpressionId:a}},el.createElement("div",{className:lx.Tc},l)))):el.createElement(el.Fragment,null)}function lN({resource:e}){return null}var lk=a(292633),lS=a(367253),lI=a(564577),lA=a(545941),lL=a(520863),lR=a(965270),lO=a(51055),lD=a(585878),lF=a(943089);function lM(){return el.createElement("div",{className:eE.cx.flex.gap8.itemsCenter.font13.$},el.createElement(lF.cC,null),el.createElement("div",null,(0,e2.t)("community.detail_view.made_for_codegen")))}var lP=a(751297);let lB=a(342646).G;function lU(e){let t=(0,n7.C2)(e);return t?el.createElement("div",{className:eE.cx.flex.itemsCenter.gap8.$},el.createElement(n7.Gx,null,t),el.createElement(e2.Tx,{id:"community.detail_view.made_by_a_figma_partner"})):null}function lW(e){return el.createElement("div",{className:"resource_page_metadata_badge--badgesContainer--heM3E text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children)}var lV=a(137459),lG=a(376485);function l$(e){let{hubFileEditorType:t,pluginEditorType:a}=e;if(!t&&!a)return null;let r=(0,e2.t)("community.detail_view.made_for_figma_design");if(t||(null==a?void 0:a.length)===1){let e=t||(null==a?void 0:a[0]);r=(()=>{switch(e){case lV.LE.FIGJAM:case lG.FW.FIGJAM:return(0,e2.t)("community.detail_view.made_for_fig_jam");case lG.FW.INSPECT:case lG.FW.DEV:return(0,e2.t)("community.detail_view.made_for_dev_mode");case lV.LE.FIGMA:case lG.FW.FIGMA:default:return(0,e2.t)("community.detail_view.made_for_figma_design")}})()}return(null==a?void 0:a.includes(lG.FW.FIGJAM))&&(null==a?void 0:a.includes(lG.FW.FIGMA))&&(0,aS.Pe)(a)?r=(0,e2.t)("community.detail_view.universal"):(null==a?void 0:a.includes(lG.FW.FIGJAM))&&(null==a?void 0:a.includes(lG.FW.FIGMA))?r=(0,e2.t)("community.detail_view.made_for_figma_design_and_figjam"):(null==a?void 0:a.includes(lG.FW.FIGJAM))&&(0,aS.Pe)(a)?r=(0,e2.t)("community.detail_view.made_for_fig_jam_and_dev_mode"):(null==a?void 0:a.includes(lG.FW.FIGMA))&&(0,aS.Pe)(a)&&(r=(0,e2.t)("community.detail_view.made_for_figma_design_and_dev_mode")),el.createElement("div",{className:eE.cx.flex.gap8.itemsCenter.font13.$},el.createElement(lF.dn,{editorType:t??a,is16x16:!0}),el.createElement("div",null,r))}var lj=a(226900),lH=a(831949),lq=a(126815);function lY({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:a}){if(t&&e){let t=(0,a2.X2)(e);return el.createElement(e2.Tx,{id:"community.detail_view.in_app_purchases",priceString:t})}return a?el.createElement("div",{className:lH.UH},el.createElement(e2.Tx,{id:"community.detail_view.third_party_badge.off_platform"}),el.createElement(eC.B,{svg:lq.A,className:lH.G,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})):null}function lz(e){let{updatedAt:t,paymentInfo:a,supportContact:r,creatorPolicyData:n,license:l}=e,[i,s]=el.useState(!1),o=r;return r&&((0,lS.xf)(r)?o=`mailto:${r}`:r.startsWith("https://")||r.startsWith("http://")||(o=`//${r}`)),el.createElement(lj.z,null,el.createElement("div",null,el.createElement(e2.Tx,{id:"community.detail_view.last_updated_at_time_stamp",timeStamp:el.createElement(lI.h1,{date:t})})),r&&el.createElement("div",{className:lH.Ev},el.createElement(e2.Tx,{id:"community.detail_view.support_contact",supportContact:el.createElement("a",{href:o||void 0,className:lH.tx,target:"_blank",rel:"nooppener noreferrer"},r)})),a,l,(0,em.kc)().cmty_hub_file_creator_policy&&(null==n?void 0:n.policyText)&&el.createElement("span",null,el.createElement("span",{role:"button",onClick:()=>{s(!0)},tabIndex:0,className:lH.Rc},el.createElement(e2.Tx,{id:"community.detail_view.creator_policy"})),i&&el.createElement(lD.XV,{title:(0,e2.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{s(!1)},allowScroll:!0,containerClassName:lH.D9},el.createElement("div",{className:lH.OC},el.createElement("div",{className:lH.$h},el.createElement(e2.Tx,{id:"community.detail_view.creator_policy_publisher_name",publisherName:n.publisherName}))))))}function lK({resource:e}){var t;let a=(0,lL.A)(e.id,!0),r=(0,aI.xQ)(e);return el.createElement(el.Fragment,null,!(0,aI.U)(e)&&a.loaded&&(null==(t=a.data)?void 0:t.status)===lm.bQ.APPROVED&&el.createElement(lO.b,{securityFormResponse:a.data,entryPoint:lO.X.COMMUNITY_DETAIL,isWidget:r}))}function lJ({resource:e}){let{madeForBadge:t,version:a,networkAccess:r}=(()=>{if((0,aI.U)(e))return{madeForBadge:el.createElement(l$,{hubFileEditorType:(0,eN.JJ)(e.viewer_mode)}),version:(0,eN.qD)(e),networkAccess:void 0};let t=(0,eN.qD)(e),a=t.manifest;return{madeForBadge:el.createElement(l$,{pluginEditorType:a.editorType}),version:t,networkAccess:a.networkAccess}})(),n=(0,aI.m3)(e)&&(0,aI.PM)(e),l=(0,aI.zF)(e),i=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),s=[...new Set(e.badges.concat(i))];return el.createElement("div",{className:lH.tJ,"data-testid":"metadata-container"},el.createElement(lW,null,t,!(0,aI.U)(e)&&(0,aS.pk)(a)&&el.createElement(lM,null),el.createElement(lU,{badges:s}),el.createElement(lK,{resource:e}),!(0,aI.U)(e)&&el.createElement(lR.u,{networkAccess:r,isWidget:e.is_widget,isLearnMoreLinkVisible:!0})),el.createElement(lz,{updatedAt:a.created_at,supportContact:e.support_contact,license:el.createElement(lP.F,{isMonetizedResource:(0,aI.m3)(e),isHubFile:(0,aI.U)(e),isAppleResource:(0,lA.mA)(e),isFigmaResource:(0,lA.sB)(e)}),paymentInfo:el.createElement(lY,{monetizedResourceMetadata:e.monetized_resource_metadata,isFreemium:n,isOffPlatform:l}),creatorPolicyData:{policyText:a.creator_policy??null,publisherName:e.publisher.name}}),(0,eH.M)()?el.createElement(lB,{resource:e}):null,(0,eH.M)()?el.createElement(ls.dx,null):el.createElement("a",{href:"mailto:content-reviews@figma.com",className:lH.hV},el.createElement(e2.Tx,{id:"community.detail_view.report_resource"})))}var lQ=a(166521),lZ=a(920037),lX=a(978527);let l0="related_content--relatedContentTile--gwfdU",l1="related_content--relatedContentTileTitle--DJQmt text--fontPos13--xW8hS text--_fontBase--QdLsd";function l2({resource:e,rdpImpressionId:t}){let a=(0,eN.qD)(e),r=e.thumbnail_url,n=!!e.thumbnail_is_set,l=e.viewer_mode===lm.y4.WHITEBOARD,i=(0,em.kc)().cmty_thumbnail_16x9_ar,s=(0,eN._t)({resource:e});return el.createElement(ef.A6,{to:s,className:ey()(l0,{"related_content--relatedContentTile16to9--6fnkm":i}),onClick:()=>l8(e,t)},el.createElement("div",{className:n?"related_content--relatedContentTileImageThumbnailIsSet--ceK9X related_content--relatedContentTileImage--0IZ1a":"related_content--relatedContentTileImage--0IZ1a",style:{backgroundColor:(0,lZ.C)(e.client_meta)}},el.createElement(nL.Ho,{hubFileId:e.id,image:r,isWhiteboard:l,isSet:n,alt:a.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),el.createElement(lF.dn,{editorType:e.viewer_mode===lm.y4.WHITEBOARD?lV.LE.FIGJAM:lV.LE.FIGMA})),el.createElement("div",{className:l1},a.name))}function l4({resource:e,rdpImpressionId:t}){let a=(0,eN.qD)(e),r=a.redirect_icon_url,n=(0,eN._t)({resource:e});return el.createElement(ef.A6,{to:n,className:l0,onClick:()=>l8(e,t)},el.createElement("div",{className:"related_content--relatedContentTilePluginContentWrapper--ie8pw"},el.createElement(lF.dn,{editorType:a.manifest.editorType}),el.createElement(lX.V,{className:"related_content--relatedContentPluginTileImage--4Jsqh",plugin:a}),el.createElement("div",{className:"related_content--relatedContentPluginTileImageBlurry--z0-ki related_content--relatedContentPluginTileImage--4Jsqh",style:{backgroundImage:`url(${r})`}})),el.createElement("div",{className:l1},a.name))}function l3({resource:e,rdpImpressionId:t}){let a=(0,eN.qD)(e),r=a.redirect_snapshot_url,n=(0,eN._t)({resource:e});return el.createElement(ef.A6,{to:n,className:l0,onClick:()=>l8(e,t)},el.createElement("div",{className:"related_content--relatedContentWidgetTileImage--rY25h related_content--relatedContentTileImage--0IZ1a"},el.createElement("img",{src:r,alt:a.name,loading:"lazy"})),el.createElement("div",{className:l1},a.name))}let l8=(e,t)=>{var a;(0,e7.sx)("Community Related Content Clicked",{community_resource:(0,eN.Vm)(e),community_resource_id:e.id,related_content_type:null==(a=e.related_content)?void 0:a.types.join(","),rdp_impression_id:t})};function l5({resource:e,content:t,types:a,creators:r,rdpImpressionId:n}){el.useEffect(()=>{(0,e7.sx)("Community Related Content Viewed",{communityResource:(0,eN.Vm)(e),communityResourceId:e.id,relatedContentType:a,rdp_impression_id:n,itemsImpressed:t.map(e=>e.id).join(",")})},[t.map(e=>e.id).join(",")]);let l=1===a.length&&a[0]===eS.oS.by_creator?r.accepted.length>1?(0,e2.t)("community.related_content.more_by_these_creators"):(0,e2.t)("community.related_content.more_by_this_creator"):(0,e2.t)("community.related_content.more_like_this");return el.createElement("div",{className:"related_content--relatedContent--TYPp2"},el.createElement("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement("div",{className:"related_content--relatedContentTitle--uylYw"},l)),el.createElement("div",{className:"related_content--relatedContentTilesContainer--L8KiC"},t.map(e=>{let t=e.id;return(0,aI.U)(e)?el.createElement(l2,{key:t,resource:e,rdpImpressionId:n}):(0,aI.I0)(e)?el.createElement(l4,{key:t,resource:e,rdpImpressionId:n}):el.createElement(l3,{key:t,resource:e,rdpImpressionId:n})})))}var l6=a(386339),l9=a(678353),l7=a(568424);function ie({resource:e}){let[t,a]=el.useState(!1);if(!(0,eN.zo)(e))return null;let{versions:r}=e,n=(0,aS.uF)(e);return el.createElement("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement("div",{className:"version_history--header--jdIyg"},el.createElement(lX.V,{className:"version_history--icon--pnnmo",plugin:n}),el.createElement("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"community.plugins.version_history"}))),el.createElement("div",null,Object.keys(r).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>r[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,a=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return el.createElement("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",key:e.id},el.createElement("span",{className:"version_history--versionName--PC5Ws"},el.createElement(e2.Tx,{id:"community.plugins.version_version_on_date",createdAt:a,versionName:e.version})),el.createElement("span",{className:"version_history--versionDescription--bzh-V"},e.release_notes))}).slice(0,t?1/0:2),!t&&Object.keys(r).length>2&&el.createElement("div",{className:"version_history--showAll--b8ClA",onClick:()=>a(!0),role:"button",tabIndex:0},el.createElement(e2.Tx,{id:"community.plugins.see_all"}))))}let it="meta_container--leftSide--KSlX8",ia="meta_container--rightSide--FQNL-",ir="meta_container--tabbedMetaContainer--DJyPv meta_container--metaContainer--kaSwh",il="meta_container--metaTabContainer--lvUtb",ii="meta_container--metaContainerDivider--ZXFZP",is="meta_container--metaContainerDividerSpacer--OW9jB",io="meta_container--mobileMetaContainer--gGQKv",ic="meta_container--mobileButtonRow--a-eRc",id="meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",im="meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",iu="meta_container--metaTabCommentCount--B1a21",i_="meta_container--selectedMetaTabCommentCount--lS1BF meta_container--metaTabCommentCount--B1a21";function ip({resource:e,rdpImpressionId:t}){return e.related_content&&0!==e.related_content.content.length?el.createElement(el.Fragment,null,el.createElement(l5,{resource:e,content:e.related_content.content,types:e.related_content.types,creators:e.community_publishers,rdpImpressionId:t}),el.createElement("hr",null)):null}function ig({resource:e,rdpImpressionId:t}){let a=(0,eN.qD)(e),{externalCommentScrollRef:r}=el.useContext(li.H);return el.createElement(el.Fragment,null,el.createElement("div",{className:it,ref:r},el.createElement(l7.u,{description:a.description}),el.createElement(ip,{resource:e,rdpImpressionId:t}),el.createElement(ie,{resource:e}),el.createElement(ll,{resource:e})),el.createElement("div",{className:ia},el.createElement(lN,{resource:e}),el.createElement(l9.A,{tags:e.tags||[],resourceType:(0,eN.Dl)(e)+"s"}),el.createElement(l6.p,{resource:e}),el.createElement(lJ,{resource:e})))}function iE(e,t){if(e.preventDefault(),t===n5.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=n5.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function ih(e,t){let a=(0,aI.U)(e)&&e.viewer_mode===lm.y4.WHITEBOARD&&(0,aI.m3)(e),r=(0,eN.z$)(e)!==lu.Z4.EMBED;return(0,aI.U)(e)&&!a&&r&&!0}function iv({resource:e,rdpImpressionId:t}){let[a,r]=(0,eU.fp)(n6),n=(0,ek.Uu)(),l=(0,eN.qD)(e),i=ih(e,n),{externalCommentScrollRef:s}=el.useContext(li.H);return el.useEffect(()=>{let e=()=>{let e=document.getElementById(n5.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,eN._m)(t,window.innerHeight,window.scrollY)?r(n5.$O.CommentsView):r(n5.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),el.createElement(el.Fragment,null,el.createElement(lo,{resourceId:e.id,resourceType:(0,eN.Vm)(e),containerClassName:ir}),!(0,aI.U)(e)&&el.createElement(ld,{pluginId:e.id,containerClassName:ir}),el.createElement("div",{className:il},el.createElement("button",{onClick:e=>iE(e,n5.$O.DescriptionView)},el.createElement("div",{className:ey()(id,{[im]:a===n5.$O.DescriptionView})},(0,e2.t)("community.resource_page.about"))),(0,eK.e5)(e)&&el.createElement("button",{onClick:e=>iE(e,n5.$O.CommentsView)},el.createElement("div",{className:ey()(id,{[im]:a===n5.$O.CommentsView})},el.createElement(e2.Tx,{id:"community.resource_page.comments",numComments:el.createElement("span",{className:ey()(iu,{[i_]:a===n5.$O.CommentsView})},e.comment_count)})))),el.createElement("div",{className:ii},el.createElement("div",{className:is})),el.createElement("div",{className:ir},el.createElement("div",{className:it,ref:s,id:n5.$O.DescriptionView},l.description&&el.createElement(l7.u,{description:l.description,hideDivider:!0}),i&&el.createElement(el.Fragment,null,el.createElement("h3",{className:eE.cx.font14.fontSemiBold.mb16.$},(0,e2.t)("community.embed.preview_title")),el.createElement(lw,{enableEmbedOnSmallScreens:!0,resource:e}),el.createElement("hr",{className:eE.cx.my24.$})),el.createElement(ip,{resource:e,rdpImpressionId:t}),el.createElement(ie,{resource:e}),el.createElement("div",{id:n5.$O.CommentsView},el.createElement(ll,{resource:e}))),el.createElement("div",{className:ia},el.createElement(lN,{resource:e}),el.createElement(lC,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t}),el.createElement(l9.A,{tags:e.tags||[],resourceType:(0,eN.Dl)(e)+"s"}),el.createElement(l6.p,{resource:e}),el.createElement(lJ,{resource:e}))))}function ib({resource:e,rdpImpressionId:t}){let[a,r]=(0,eU.fp)(n6),n=ih(e,(0,ek.Uu)()),l=(0,eN.qD)(e);return el.useEffect(()=>{let e=()=>{let e=document.getElementById(n5.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,eN._m)(t,window.innerHeight,window.scrollY)&&r(n5.$O.CommentsView)}else r(n5.$O.DescriptionView)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),el.createElement(el.Fragment,null,el.createElement(lo,{resourceId:e.id,resourceType:(0,eN.Vm)(e),containerClassName:ir}),!(0,aI.U)(e)&&el.createElement(ld,{pluginId:e.id,containerClassName:ir}),el.createElement("div",{className:il},el.createElement("button",{onClick:e=>iE(e,n5.$O.DescriptionView)},el.createElement("div",{className:ey()(id,{[im]:a===n5.$O.DescriptionView})},(0,e2.t)("community.resource_page.about"))),(0,eK.e5)(e)&&el.createElement("button",{onClick:e=>iE(e,n5.$O.CommentsView)},el.createElement("div",{className:ey()(id,{[im]:a===n5.$O.CommentsView})},el.createElement(e2.Tx,{id:"community.resource_page.comments",numComments:el.createElement("span",{className:ey()(iu,{[i_]:a===n5.$O.CommentsView})},e.comment_count)})))),el.createElement("div",{className:ii},el.createElement("div",{className:is})),el.createElement("div",{className:ir},el.createElement("div",{className:io,"data-mobile-view":!0,id:n5.$O.DescriptionView},l.description&&el.createElement(l7.u,{description:l.description}),n&&el.createElement(el.Fragment,null,el.createElement("h3",{className:eE.cx.font14.fontSemiBold.mb16.$},(0,e2.t)("community.embed.preview_title")),el.createElement(lw,{enableEmbedOnSmallScreens:!0,resource:e}),el.createElement("hr",{className:eE.cx.my24.$})),el.createElement(lN,{resource:e}),el.createElement("div",{className:eE.cx.mb32.$},el.createElement(lC,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t})),e.tags&&e.tags.length>0&&el.createElement(el.Fragment,null,el.createElement(l9.A,{tags:e.tags,resourceType:(0,eN.ss)(e,{plural:!0})}),el.createElement("hr",null)),el.createElement(ip,{resource:e,rdpImpressionId:t}),el.createElement(ie,{resource:e}),el.createElement("div",{id:n5.$O.CommentsView},el.createElement(ll,{resource:e})),el.createElement(l6.p,{resource:e}),el.createElement(lJ,{resource:e}))))}function iy({resource:e}){if(!(0,eH.M)())return el.createElement(lk.i,null);{let t=(0,aI.U)(e)?t6.e0.COMMUNITY_HUB_FILE:(0,aI.xQ)(e)?t6.e0.COMMUNITY_HUB_WIDGET:t6.e0.COMMUNITY_HUB_PLUGIN;return el.createElement(n9.Q,{resource:e,viewContext:t})}}function iw({resource:e,rdpImpressionId:t,isMobileRedesignEnabled:a}){let r=(0,eN.qD)(e),n=(0,ln.I)(e),l=(0,a2._K)(e,n)?el.createElement(lQ.I,{resource:e}):(0,eN.Qo)(e)?el.createElement(lr.U,{hubFile:e}):null,{externalCommentScrollRef:i}=el.useContext(li.H),s=(0,eH.M)()?"mobile_logged_in":"mobile_logged_out",o=!a,c=(0,aI.I0)(e)||(0,aI.xQ)(e)?el.createElement(el.Fragment,null,el.createElement(iy,{resource:e}),el.createElement(lt.Gl,{resource:e,viewContext:s})):el.createElement(el.Fragment,null,el.createElement(iy,{resource:e}),el.createElement(lt.yY,{resource:e,viewContext:s}),l);return el.createElement(el.Fragment,null,el.createElement("div",{className:io,"data-mobile-view":!0,ref:i},!!r.description&&el.createElement(l7.u,{description:r.description}),o&&el.createElement("div",{className:ic},c),(!!r.description||o)&&el.createElement("hr",null),!(0,aI.U)(e)&&el.createElement(ld,{pluginId:e.id}),el.createElement(lN,{resource:e}),el.createElement("div",{className:eE.cx.mb32.$},el.createElement(lC,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t})),e.tags&&e.tags.length>0&&el.createElement(el.Fragment,null,el.createElement(l9.A,{tags:e.tags,resourceType:(0,eN.ss)(e,{plural:!0})}),el.createElement("hr",null)),el.createElement(ip,{resource:e,rdpImpressionId:t}),el.createElement(ie,{resource:e}),el.createElement("div",{id:n5.$O.CommentsView},el.createElement(ll,{resource:e})),el.createElement(l6.p,{resource:e}),el.createElement(lJ,{resource:e})))}function iT({resource:e,rdpImpressionId:t,isMobileSize:a,isMobileRedesignEnabled:r}){let n=(0,ek.qf)(e),l=n?el.createElement(iv,{resource:e,rdpImpressionId:t}):el.createElement(ig,{resource:e,rdpImpressionId:t}),i=n?el.createElement(ib,{resource:e,rdpImpressionId:t}):el.createElement(iw,{resource:e,rdpImpressionId:t});return el.createElement(el.Fragment,null,el.createElement("div",{className:!a&&n?"":"meta_container--metaContainer--kaSwh"},el.createElement(e4.Ay,{mediaQuery:`(max-width: ${eS.YW-1}px)`},el.createElement(iw,{resource:e,rdpImpressionId:t,isMobileRedesignEnabled:r})),el.createElement(e4.Ay,{mediaQuery:`(min-width: ${eS.YW}px) and (max-width: ${eS.w3-1}px)`},i),el.createElement(e4.Ay,{mediaQuery:`(min-width: ${eS.w3}px)`},l)))}function ix({resource:e}){let t=(0,ln.I)(e),a=(0,a2._K)(e,t)?el.createElement(lQ.I,{resource:e,enableWideButtonForStickyFooter:!0}):(0,eN.Qo)(e)?el.createElement(lr.U,{hubFile:e,enableWideButtonForStickyFooter:!0}):null,r=(0,eH.M)()?"mobile_logged_in":"mobile_logged_out",n=(0,aI.I0)(e)||(0,aI.xQ)(e)?el.createElement(el.Fragment,null,el.createElement(lt.Gl,{resource:e,viewContext:r,enableWideButtonForStickyFooter:!0}),el.createElement(iy,{resource:e})):el.createElement(el.Fragment,null,a,el.createElement(iy,{resource:e}),el.createElement(lt.yY,{resource:e,viewContext:r}));return el.createElement("div",{className:ey()(ic,"meta_container--wideMobileButtonRow--ahIrA")},n)}var iC=a(342859);function iN({resource:e,CTAButton:t,hasScrolled:r}){let n=(0,eN.qD)(e),l=(0,ei.d4)(e=>(0,eK.Tm)(e)),i=(0,eN.Qo)(e)?t6.e0.COMMUNITY_HUB_FILE:(0,aI.xQ)(e)?t6.e0.COMMUNITY_HUB_WIDGET:t6.e0.COMMUNITY_HUB_PLUGIN,s=null,o=Object.values(l).some(t=>(0,aI.I0)(e)&&t.plugins_whitelist_enforced||(0,aI.xQ)(e)&&t.widgets_whitelist_enforced);(0,em.kc)().cmty_deprecate_browse_as_admin&&!(0,eN.Qo)(e)&&!("is_private"in n&&n.is_private)&&o&&(s=a(895587).s({resource:e,viewContext:i}));let c=el.createElement(lt.yY,{"data-onboarding-key":"save-button",resource:e,viewContext:i}),d=s?null:el.createElement(n9.Q,{resource:e,viewContext:i}),m=el.createElement(le.u,{resource:e});return r?el.createElement("div",{className:iC.yq},el.createElement("div",{className:iC.Jp},el.createElement("div",{className:iC.Xd},el.createElement("h1",{className:iC.eO},n.name),el.createElement(iI,{resource:e})),el.createElement("div",{className:iC.OQ},t,s,d,c))):el.createElement(ik,{resource:e,CTAButton:t,approveButton:s,likeButton:d,saveButton:c,headerBadges:m,viewContext:i})}function ik({resource:e,CTAButton:t,title:a,description:r,approveButton:n,likeButton:l,saveButton:i,learnMore:s,headerBadges:o,openInNewTab:c=!1,viewContext:d}){let m=(0,eN.qD)(e),u=e.community_publishers.accepted,_=[...u.filter(e=>(0,n7.J3)(e.badges)),...u.filter(e=>!(0,n7.J3)(e.badges))];return el.createElement("div",{className:iC.N1},el.createElement("div",{className:iC.tF},el.createElement(n4.Lf,{publishers:_,showFigmaPartnerBadge:!0}),el.createElement(n4.Iq,{publishers:_,openInNewTab:c,useSmallWidth:!0,removeByLabel:!0})),el.createElement("div",{className:iC.X7},el.createElement("div",{className:iC.DD},el.createElement("h1",null,a??m.name)),o),el.createElement(la.A,{resource:e,viewContext:d}),!!r&&el.createElement("div",{className:iC.h_},r),el.createElement("div",{className:iC.OQ},t,s,n,l,i))}function iS({resource:e,hasScrolled:t}){let a=(0,eN.qD)(e),r=e.community_publishers.accepted;return t?el.createElement("div",{className:iC.QY},el.createElement("div",{className:iC.VB},el.createElement("div",{className:iC.zu},el.createElement("h1",{className:iC.NG},el.createElement("span",{className:iC.y_},a.name))),el.createElement(ix,{resource:e}),el.createElement(iI,{resource:e}))):el.createElement("div",{className:iC.Z0},el.createElement("div",{className:iC.VB},el.createElement("div",{className:iC.zu},el.createElement("h1",{className:iC.NG},el.createElement("span",{className:iC.y_},a.name)),el.createElement("div",{className:iC.YO,"data-testid":"mobile-header-attribution"},el.createElement(le.u,{resource:e}),el.createElement(la.A,{resource:e}),el.createElement("div",{className:iC.gi},el.createElement(n4.Lf,{publishers:r}),el.createElement(n4.Iq,{publishers:r})))),el.createElement(ix,{resource:e}),el.createElement(iI,{resource:e})))}function iI({resource:e}){let[t,a]=(0,eU.fp)(n6);el.useEffect(()=>{let e=()=>{let e=document.getElementById(n5.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,eN._m)(t,window.innerHeight,window.scrollY)?a(n5.$O.CommentsView):a(n5.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[a]);let r=(e,t)=>{if(e.preventDefault(),t===n5.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=n5.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}};return el.createElement("div",{className:iC.dD},el.createElement("button",{onClick:e=>r(e,n5.$O.DescriptionView)},el.createElement("div",{className:ey()(iC.qY,{[iC.kO]:t===n5.$O.DescriptionView})},(0,e2.t)("community.resource_page.about"))),(0,eK.e5)(e)&&el.createElement("button",{onClick:e=>r(e,n5.$O.CommentsView)},el.createElement("div",{className:ey()(iC.qY,{[iC.kO]:t===n5.$O.CommentsView})},el.createElement(e2.Tx,{id:"community.resource_page.comments",numComments:el.createElement("span",{className:ey()(iu,{[i_]:t===n5.$O.CommentsView})},e.comment_count)}))))}var iA=a(776621),iL=a(848680);function iR(e){let[t,a]=el.useState(!0);return el.useEffect(()=>{let t=(0,eN.z$)(e),r=e.thumbnail_url;if(t!==lu.Z4.THUMBNAIL){a(!0);return}let n=new Image;n.onload=()=>{let e=n.width/n.height;a(!(Math.abs(e-2)<Math.abs(e-16/9)))},n.src=r||""},[e]),t}function iO({resource:e,hasScrolled:t}){let a=el.createElement(el.Fragment,null,el.createElement(n4.qz,{resource:e}));return el.createElement(iN,{CTAButton:a,resource:e,hasScrolled:t})}var iD=a(31680);let iF="two_column_resource_page--leftSideRedesign--W3m0M",iM="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",iP="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v",iB="two_column_resource_page--hubFileTileFullInnerImage--wTGoE two_column_resource_page--hubFileTileInnerImage--7d063",iU="two_column_resource_page--mobileCarousel--i7oho";function iW(e){return["video"===e.type?e.thumbnail_url:e.url,"image"===e.type?e.resized_thumbnail_urls:void 0]}function iV({image:e,resizedThumbnailUrls:t,resourceId:a,alt:r,thumbnailContext:n,resourceHeroType:l,isMobileCarousel:i}){let s;return e&&t?s=el.createElement(lg.Sl,{className:ey()(iB,{[iU]:i}),image:e,onLoad:eu.lQ,hubFileId:a,alt:r,thumbnailContext:n,resizedThumbnailUrls:t}):e?s=el.createElement("img",{className:ey()(iB,{[iU]:i}),src:e,loading:"lazy",alt:r,draggable:!1,onError:()=>{(0,iA.x1)("community","Failed to load hero image on resource detail page",{resourceId:a,image:e},{reportAsSentryError:!0})}}):((0,iA.xi)("community","Missing hero image on resource detail page",{resourceId:a,resourceHeroType:l}),s=el.createElement(iD.Ek,null)),el.createElement("div",{className:"two_column_resource_page--carouselImage--zn-4P"},s)}function iG(e,t){return(0,aI.I0)(t)?`/api/plugins/${t.id}/videos/${e.video_file_uuid}/manifest`:(0,aI.xQ)(t)?`/api/widgets/${t.id}/videos/${e.video_file_uuid}/manifest`:null}var i$=a(511617),ij=a(157663),iH=a(755887),iq=a(913016),iY=a(30090);let iz="video_player--videoControlButton--CaxkP",iK="video_player--videoButtonFullscreenScale--oSh2-";var iJ=a(68710),iQ=a(10448),iZ=a(114843),iX=a(552601);let i0={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function i1(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:a}=(0,iq._d)(e);return`${a}:${String(t).padStart(2,"0")}`}function i2(e,t){e&&(t?(e.play(),e_.Ay.safari&&(e.currentTime=.1)):i3(e)?e.pause():(e_.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let i4=el.memo(({videoId:e,src:t,fallbackSrc:a,useHLS:r=!1,autoPlay:n=!1,muted:l=!1,showControlsOnVideoLoad:i=!1,onEnded:s})=>{let o=el.useRef(null),c=el.useRef(null),[d,m]=el.useState(null),[u,_]=el.useState(!1),p=el.useRef(void 0),[g,E]=el.useState(!1),[f,h]=el.useState(!1);el.useEffect(()=>{f&&(null==s||s())},[f,s]);let v=el.useCallback(function(){_(!0),clearTimeout(p.current),p.current=setTimeout(()=>_(!1),3e3)},[]),b=el.useCallback(async function(){if(!t||!c.current)return;window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=(await (0,iY.Fe)()).videoJs(c.current,{muted:l,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{await (0,iY.uz)(t,r,n)}catch{ij.k.warn("Reverting to fallback video source"),await (0,iY.uz)(a??null,!1,n)}i&&v(),m(e)})},[t,l,i,v,r,a,e,m]),y=el.useCallback(function(){var e;if(g||document.fullscreenElement)i$.R7.exitFullscreenFunc();else if(e_.Ay.isIpad){let t=c.current;null==(e=null==t?void 0:t.webkitEnterFullscreen)||e.call(t)}else{let e=o.current;e&&i$.R7.requestFullscreenFunc.call(e)}},[g]);return el.createElement("div",{className:ey()("video_player--videoContainer--f21k1",{"video_player--fullscreen--Tkght":g}),ref:el.useCallback(e=>{o.current=e,null==e||e.addEventListener(i$.R7.fullscreenChangeEventName,function(){E(!g)})},[g]),onPointerMove:v},el.createElement("video",{ref:el.useCallback(t=>{c.current=t,t&&(t.style.height="100%",t.style.width="100%",t.style.objectFit=g?"contain":"cover",i3(t)&&e===d||b())},[e,b,g,d]),crossOrigin:"anonymous",autoPlay:n&&!e_.Ay.safari,controls:e_.Ay.isIpad&&g,onClick:el.useCallback(function(){g&&i2(c.current,f)},[f,g])}),el.createElement(i8,{videoRef:c,isFullscreen:g,toggleFullscreen:y,isActive:u,hasEnded:f,setHasEnded:h}))});function i3(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function i8({videoRef:e,isFullscreen:t,toggleFullscreen:a,isActive:r,hasEnded:n,setHasEnded:l}){var i,s,o;let[c,d]=el.useState(0),m=el.useRef(!1),[u,_]=el.useState(null),[p,g]=el.useState(!1),[E,f]=el.useState(!1),h=el.useRef(!1),v=el.useRef(!1),b=u||(null==(i=e.current)?void 0:i.currentTime),y=null==(s=e.current)?void 0:s.duration,w=i3(e.current),T=el.useRef(void 0);el.useEffect(()=>{f(r||!w||n||h.current)},[n,r,w]);let x=el.useCallback(()=>{d(e=>e+1)},[]);el.useEffect(()=>{if(!e.current)return;function t(){x()}function a(){h.current=!1}function r(){h.current=!1,l(!1)}function n(){l(!1),x()}function i(){h.current=!0}function s(){p||l(!0),x()}let o=e.current;return o.addEventListener("playing",n),o.addEventListener("canplay",t),o.addEventListener("ended",s),o.addEventListener("timeupdate",t),o.addEventListener("seeking",i),o.addEventListener("seeked",r),o.addEventListener("stalled",a),()=>{null==o||o.removeEventListener("playing",n),null==o||o.removeEventListener("canplay",t),null==o||o.removeEventListener("ended",s),null==o||o.removeEventListener("timeupdate",t),null==o||o.removeEventListener("seeking",i),null==o||o.removeEventListener("seeked",r),null==o||o.removeEventListener("stalled",a)}},[p,x,l,e]);let C=el.useCallback(()=>{e.current&&(i2(e.current,n),x())},[n,x,e]),N=el.useCallback(()=>{e.current&&(m.current=i3(e.current)||n,e.current.pause())},[n,e]),k=el.useCallback(()=>{e.current&&(m.current&&e.current.play(),T.current&&(e.current.currentTime=T.current),_(null),T.current=void 0)},[e]),S=el.useCallback(t=>{if(e.current){if(h.current){T.current=t;return}e.current.currentTime=t}},[e]),I=el.createElement(i7,{togglePlay:C,hasEnded:n,isPlaying:w,shouldShowVideoControls:E,isFullscreen:t});return e.current&&!(2>((null==(o=e.current)?void 0:o.readyState)||0))||v.current?(v.current=!0,e_.Ay.isIpad&&t)?null:el.createElement(el.Fragment,null,u?null:I,el.createElement("div",{className:ey()("video_player--videoControls--icAIO",!E&&"video_player--videoControlsHidden--yuZ6F")},el.createElement("div",{className:"video_player--videoTime--zy6tY"},i1(b)," / ",i1(y)),el.createElement(i9,{currentTime:b||0,totalTime:y||0,onScrubStart:N,onScrub:_,onScrubEnd:k,onVideoPositionUpdated:S,hasEnded:n,isScrubbing:p,setIsScrubbing:g}),el.createElement("div",{className:"video_player--videoRightControls--tokJe"},el.createElement(no.K0,{onClick:a,svg:t?iX.A:iZ.A,className:iz,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":t?(0,e2.t)("whiteboard.video.minimize_tooltip"):(0,e2.t)("whiteboard.video.fullscreen_tooltip")}),el.createElement(i5,{rerender:x,videoRef:e})))):el.createElement("div",{className:"video_player--videoLoadingState--uj4y3"},el.createElement(t7.kt,{size:"large"}))}function i5({rerender:e,videoRef:t}){var a,r,n,l;let[i,s]=el.useState(!1),o=el.useCallback(()=>{t.current&&(t.current.muted=!t.current.muted,e())},[e,t]),c=el.useCallback(a=>{let r=a.target.valueAsNumber;t.current&&(t.current.volume=r,t.current.muted=0===r,e())},[e,t]);return el.createElement("div",{onPointerMove:el.useCallback(()=>s(!0),[]),onPointerOut:el.useCallback(()=>s(!1),[])},el.createElement(no.K0,{onClick:o,svg:(null==(a=t.current)?void 0:a.muted)?iQ.A:iJ.A,className:ey()(iz,"video_player--lastVideoControl--lnkoN",{"video_player--selectedVolumeControlButton--Ls-q9":!e_.Ay.isIpad&&i}),"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(null==(r=t.current)?void 0:r.muted)?(0,e2.t)("whiteboard.video.unmute_tooltip"):(0,e2.t)("whiteboard.video.mute_tooltip")}),!e_.Ay.isIpad&&i?el.createElement(i6,{volume:(null==(n=t.current)?void 0:n.volume)??1,muted:(null==(l=t.current)?void 0:l.muted)??!1,handleChange:c}):null)}function i6({handleChange:e,volume:t,muted:a}){let r=a?0:t,n=100*r,l=el.useRef(null);return el.createElement("div",{className:"video_player--volumeContainer----Q0D"},el.createElement("div",{className:"video_player--volumeBox--NBckg"},el.createElement("input",{className:"video_player--volumeSliderInput--H6jHn",style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:r,onChange:e,ref:l})))}function i9({currentTime:e,totalTime:t,hasEnded:a,onVideoPositionUpdated:r,onScrubStart:n,onScrub:l,onScrubEnd:i,isScrubbing:s,setIsScrubbing:o}){let[c,d]=el.useState(!1),m=el.useRef(null),u=el.useRef(null),_=el.useCallback(t=>{if(!m.current)return;t.stopPropagation(),o(!0),n();let a=m.current.getBoundingClientRect();u.current={minX:a.x,maxX:a.x+a.width,originX:t.clientX,newTime:e}},[e,n,o]),p=el.useCallback(e=>{if(!m.current)return;e.stopPropagation(),o(!0),n();let a=m.current.getBoundingClientRect(),l=a.x,i=a.x+a.width,s=e.clientX,c=(0,iH.qE)(0,(s-l)/(i-l)*t,t);r(c),u.current={minX:l,maxX:i,originX:e.clientX,newTime:c}},[n,r,o,t]),g=el.useCallback(function(e){if(!u.current)return;let a=e.clientX,{minX:n,maxX:i}=u.current,s=(0,iH.qE)(0,(a-n)/(i-n)*t,t);u.current.newTime=s,l(s),r(u.current.newTime)},[l,r,t]),E=el.useCallback(function(){u.current&&(r(u.current.newTime),o(!1),i(),u.current=null)},[i,r,o]);el.useEffect(()=>{if(s)return document.addEventListener("pointermove",g),document.addEventListener("pointerup",E),()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",E)}},[s,g,E]);let f=Math.min(e/t*100,100);e_.Ay.safari&&a&&(f=100);let h=f>0?8:0;return el.createElement("div",{className:"video_player--videoTimeScrubberContainer--bNh9B",onPointerMove:el.useCallback(()=>d(!0),[]),onPointerOut:el.useCallback(()=>d(!1),[])},el.createElement("div",{role:"progressbar",tabIndex:0,className:"video_player--videoTimeScrubber--Brs7M",onPointerDown:p},el.createElement("div",{className:"video_player--videoTimeScrubberBackground--pEEuZ",ref:m}),el.createElement("div",{className:"video_player--videoTimeScrubberProgress--y988I",style:{width:`${f}%`}}),(c||s)&&el.createElement("div",{className:"video_player--videoTimeScrubberNub--Poe0a",style:{left:`calc(${f}% - ${h}px)`},onPointerDown:_,role:"button",tabIndex:0})))}function i7({shouldShowVideoControls:e,togglePlay:t,hasEnded:a,isPlaying:r,isFullscreen:n}){let l=sa;return a?l=st:r&&(l=sn),el.createElement(se,{shouldShowVideoControls:e,ButtonIcon:l,togglePlay:t,isFullscreen:n})}function se({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:a,isFullscreen:r}){let[n,l]=el.useState(!1),i=n?i0.BUTTON_BG_FILL_HOVER_OPACITY:i0.BUTTON_BG_FILL_OPACITY;return el.createElement("button",{className:ey()("video_player--videoButton--M-5Z2",{"video_player--videoButtonHidden--9qDbX":!t}),onPointerMove:(0,el.useCallback)(()=>l(!0),[]),onPointerOut:(0,el.useCallback)(()=>l(!1),[]),onPointerDown:a},el.createElement(e,{fillOpacityForBackground:i,isFullscreen:r}))}function st({fillOpacityForBackground:e,isFullscreen:t}){return el.createElement("svg",{className:ey()(t&&iK),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:i0.BUTTON_BG_FILL,fillOpacity:e}),el.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:i0.BUTTON_SHAPE_FILL}),el.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:i0.BUTTON_BG_FILL,strokeOpacity:i0.BUTTON_STROKE_OPACITY}))}function sa({fillOpacityForBackground:e,isFullscreen:t}){return el.createElement("svg",{className:ey()(t&&iK),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("g",{clipPath:"url(#clip0_403_4259)"},el.createElement("rect",{width:"48",height:"48",rx:"24",fill:i0.BUTTON_BG_FILL,fillOpacity:e}),el.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:i0.BUTTON_SHAPE_FILL})),el.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:i0.BUTTON_BG_FILL,strokeOpacity:i0.BUTTON_STROKE_OPACITY}),el.createElement("defs",null,el.createElement("clipPath",{id:"clip0_403_4259"},el.createElement("rect",{width:"48",height:"48",rx:"24",fill:i0.BUTTON_BG_FILL}))))}function sr(){return el.createElement(sa,{fillOpacityForBackground:i0.BUTTON_BG_FILL_OPACITY,isFullscreen:!1})}function sn({fillOpacityForBackground:e,isFullscreen:t}){return el.createElement("svg",{className:ey()(t&&iK),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("g",{clipPath:"url(#clip0_1_16)"},el.createElement("rect",{width:"48",height:"48",rx:"24",fill:i0.BUTTON_BG_FILL,fillOpacity:e}),el.createElement("path",{d:"M15 15H21V33H15V15Z",fill:i0.BUTTON_SHAPE_FILL}),el.createElement("path",{d:"M27 15H33V33H27V15Z",fill:i0.BUTTON_SHAPE_FILL})),el.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:i0.BUTTON_BG_FILL,strokeOpacity:i0.BUTTON_STROKE_OPACITY}),el.createElement("defs",null,el.createElement("clipPath",{id:"clip0_1_16"},el.createElement("rect",{width:"48",height:"48",rx:"24",fill:i0.BUTTON_BG_FILL}))))}function sl({resource:e}){let[t,a]=el.useState(!1),r=iR(e),n=(0,eN.z$)(e);return el.createElement("div",{className:"two_column_resource_page--autoLayoutContainer--odI-S"},el.createElement(nX.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},el.createElement("div",{className:iF},el.createElement(si,{resource:e,hasScrolled:t})),el.createElement("div",{className:n!==lu.Z4.THUMBNAIL||r?iM:iP},el.createElement(ss,{resource:e,is16to9AspectRatio:r}),el.createElement(aL.a,{className:"two_column_resource_page--scrollSentinel--B3rnT",onIntersectionChange:e=>a(!e.isIntersecting)}))))}function si({resource:e,hasScrolled:t}){return el.createElement("div",{className:eE.cx.relative.$},el.createElement(iO,{hasScrolled:t,resource:e}))}function ss({resource:e,is16to9AspectRatio:t}){let a=el.useRef(null),[r,n]=el.useState(0),[l,i]=el.useState(!1),[s,o]=el.useState(!0),[c,d]=el.useState(!1),m=e=>{let t=a.current;t&&("left"===e?t.scrollBy({left:-200,behavior:"smooth"}):"right"===e&&t.scrollBy({left:200,behavior:"smooth"}))},u=(0,iL.S)(),_=(0,eN.z$)(e),p=(0,eN.N6)(e);if(el.useEffect(()=>{a.current?d(a.current.scrollWidth>a.current.clientWidth):p&&d(Object.keys(p).length>4)},[p]),_!==lu.Z4.CURATED_IMAGE||!p)return el.createElement(sd,{resource:e,heroType:_,is16to9AspectRatio:t});let g=p[r],[E,f]=iW(g),h=Object.keys(p).length>1;return el.createElement(el.Fragment,null,"video"===g.type?el.createElement("div",{className:"two_column_resource_page--heroVideo--6sXT1 two_column_resource_page--heroImage--kbi4f"},el.createElement(i4,{videoId:g.video_file_uuid,src:iG(g,e),fallbackSrc:g.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,e7.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,eN.Vm)(e),...u})}})):el.createElement(sc,{thumbnail_url:E,resized_thumbnail_urls:f,resource:e,resourceHeroType:_,is16to9AspectRatio:t}),h&&el.createElement("div",{className:"two_column_resource_page--carouselThumbnailsContainer--6Ag-2"},el.createElement("div",{className:c?"two_column_resource_page--carouselThumbnails--872Mf":"two_column_resource_page--centeredCarouselThumbnails--E1vEX two_column_resource_page--carouselThumbnails--872Mf",ref:a,onScroll:()=>{let e=a.current;e&&(i(e.scrollLeft>0),o(e.scrollLeft+e.clientWidth+5<e.scrollWidth))}},Object.values(p).map((t,a)=>{let[l,i]=iW(t);return el.createElement("div",{key:a},el.createElement(so,{thumbnailUrl:l,resizedThumbnailUrls:i,resource:e,index:a,selectedIndex:r,setSelectedIndex:a=>{n(a),(0,e7.sx)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:a,media_type:t.type,resouce_type:(0,eN.Vm)(e),...u})},isVideo:"video"===t.type}))})),c&&l&&el.createElement(el.Fragment,null,el.createElement("div",{className:"two_column_resource_page--fadeOutMaskLeft--mylTw two_column_resource_page--fadeOutMask--uuYnH"}),el.createElement("div",{className:"two_column_resource_page--carouselArrowLeft--YfIys two_column_resource_page--arrow--qHA02",role:"button",tabIndex:0,onClick:()=>m("left")},el.createElement(n0.In,{icon:"chevron-left-32"}))),c&&s&&el.createElement(el.Fragment,null,el.createElement("div",{className:"two_column_resource_page--fadeOutMaskRight--LdL5a two_column_resource_page--fadeOutMask--uuYnH"}),el.createElement("div",{className:"two_column_resource_page--carouselArrowRight--7VrMQ two_column_resource_page--arrow--qHA02",role:"button",tabIndex:0,onClick:()=>m("right")},el.createElement(n0.In,{icon:"chevron-right-32"})))))}function so({thumbnailUrl:e,resizedThumbnailUrls:t,resource:a,index:r,selectedIndex:n,setSelectedIndex:l,isVideo:i}){return el.createElement("div",{className:"two_column_resource_page--carouselThumbnail--1Rwo6"},el.createElement("div",{className:r===n?"two_column_resource_page--selectedCarouselThumbnailImage--t2pSt two_column_resource_page--heroImage--kbi4f":"two_column_resource_page--carouselThumbnailImage--rWT16 two_column_resource_page--heroImage--kbi4f",key:r,role:"button",tabIndex:r,onClick:()=>{l(r)}},el.createElement(iV,{image:e,resourceId:a.id,alt:(0,eN.qD)(a).name+" preview",thumbnailContext:lg.O7.DETAIL,resizedThumbnailUrls:t}),i&&el.createElement("div",{className:"two_column_resource_page--carouselThumbnailOverlayForVideo--t0PGx"},el.createElement(sr,null)),r!==n&&el.createElement("div",{className:"two_column_resource_page--carouselThumbnailImageShadow--vBYNn two_column_resource_page--carouselImageShadow--99loM"})))}function sc({thumbnail_url:e,resized_thumbnail_urls:t,resource:a,resourceHeroType:r,is16to9AspectRatio:n}){let[l,i]=el.useState(!1),s=el.createElement(n0.In,{icon:l?"full-screen-exit-32":"full-screen-enter-32",fill:"menu"}),o=e=>{e.stopPropagation(),i(!1)},c=e=>{"Escape"===e.key&&i(!1)};return el.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[]),el.createElement("div",{className:"two_column_resource_page--heroImageWrapper--3YT8v",onClick:()=>i(!0),role:"button",tabIndex:-1},el.createElement("div",{className:"two_column_resource_page--heroImage--kbi4f",key:a.id},el.createElement(iV,{image:e,resourceId:a.id,alt:(0,eN.qD)(a).name+" preview",thumbnailContext:lg.O7.DETAIL,resizedThumbnailUrls:t,resourceHeroType:r}),el.createElement("div",{className:"two_column_resource_page--carouselImageShadow--99loM"})),el.createElement("div",{className:"two_column_resource_page--heroImageFullScreenIcon--369AG"},s),l&&el.createElement("div",{className:"two_column_resource_page--modalBackground--EEKOA",onClick:e=>o(e),role:"button",tabIndex:-1},el.createElement("div",{className:n?"two_column_resource_page--rdpImageCloseupModal--OY9YT":"two_column_resource_page--rdpImageCloseupModal2to1AspectRatio--8km5A two_column_resource_page--rdpImageCloseupModal--OY9YT",onClick:e=>o(e),role:"button",tabIndex:-1},el.createElement("img",{className:iB,src:e,loading:"lazy",alt:(0,eN.qD)(a).name+" preview",draggable:!1,onError:()=>{(0,iA.x1)("community","Failed to load hero image closeup on resource detail page",{thumbnail_url:e,resourceId:a.id},{reportAsSentryError:!0})}}),el.createElement("div",{className:"two_column_resource_page--heroImageExitFullScreenIcon--keS5L two_column_resource_page--heroImageFullScreenIcon--369AG"},s))))}function sd({resource:e,heroType:t,is16to9AspectRatio:a}){if(t===lu.Z4.THUMBNAIL){let r=(0,aI.U)(e)?e.resized_thumbnail_urls:void 0;return el.createElement(sc,{thumbnail_url:e.thumbnail_url??void 0,resized_thumbnail_urls:r,resource:e,resourceHeroType:t,is16to9AspectRatio:a})}return el.createElement("div",{className:"two_column_resource_page--canvasViewerWrapper--bjC9H"},el.createElement(lw,{enableEmbedOnSmallScreens:!0,resource:e}))}function sm({title:e,description:t,children:a}){return el.createElement("section",{className:"collection_section--section--RLij0"},el.createElement("div",{className:"collection_section--title--tNWji text--fontPos24--YppUD text--_fontBase--QdLsd"},e),!!t&&el.createElement("div",{className:"collection_section--description--UH-JN text--fontPos16--oMC-G text--_fontBase--QdLsd"},t),el.createElement("div",{className:"collection_section--content--rIF8z"},a))}var su=a(375360);function s_({title:e,resource:t,meta:a,showCTA:r=!0}){let n=(0,ew.N)(`(max-width: ${eS.YW}px)`),l=iR(t),i=(0,eN.z$)(t),s=(0,nK.KP)(t,a),o=r?el.createElement(n4.qz,{resource:t}):null,c=(0,eN._t)({resource:t}),d=el.createElement(e8.L0,{className:"hero_section--learnMore--a7m3e text--fontPos13--xW8hS text--_fontBase--QdLsd",href:c,trackingEventName:"community_collections",trackingProperties:{href:c},target:"_blank"},el.createElement(e2.Tx,{id:"community.collections.learn_more"}));return el.createElement(sm,{title:e},n?el.createElement("div",null,el.createElement(su.rS,{resource:t,title:null==s?void 0:s.title,description:null==s?void 0:s.description})):el.createElement("div",{className:"hero_section--section--xyS5J"},el.createElement(nX.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},el.createElement("div",{className:iF},el.createElement(ik,{resource:t,CTAButton:o,learnMore:d,title:null==s?void 0:s.title,description:null==s?void 0:s.description,openInNewTab:!0})),el.createElement("div",{className:i!==lu.Z4.THUMBNAIL||l?iM:iP},el.createElement(ss,{resource:t,is16to9AspectRatio:l})))))}var sp=a(967063);function sg(){let e={id:na.om.communityResourceInReviewBanner,bannerType:na.x1.WARN,icon:sp.A,mainText:(0,e2.t)("community.collections.unpublished_banner.this_page_is_not_published"),description:(0,e2.t)("community.collections.unpublished_banner.only_admins_can_see_this_page"),dismissible:!1,positionStatic:!0};return el.createElement(nt.C,{content:e,onDismiss:eu.lQ})}let sE=a(890993).i,sf="resource_bundle_section--resources--h-L7L";function sh({title:e,description:t,resources:a,meta:r}){let n=a.filter(e=>!!e);return n.length?el.createElement(sm,{title:e,description:t},el.createElement("div",{className:sf},n.map(e=>{let t=(0,nK.KP)(e,r);return el.createElement(su.rS,{resource:e,title:null==t?void 0:t.title,description:null==t?void 0:t.description,key:e.id})}))):null}function sv({title:e,description:t,meta:a,preview:r=!1}){return el.createElement(sm,{title:e,description:t},el.createElement("div",{className:sf},r?"Preview not supported":(a.figjam_ai??[]).map(e=>el.createElement(sE,{title:e.title,description:(null==e?void 0:e.description)??"",imageUrl:e.imageUrl,prompt:e.prompt,promptCategory:e.category,key:`${e.title}-${e.prompt}`}))))}var sb=a(256508);function sy(){let{urlSlug:e}=(0,ev.g)(),[{data:t,status:a}]=(0,nY.IT)((0,sb.o6)({urlSlug:e,isTemplateUrl:(0,nK.wD)(ec.Ay.location.href)}));return((0,el.useLayoutEffect)(()=>{let t=nK.A3[e];(0,em.kc)().cmty_collections_v2_category_redirect&&t&&ec.Ay.replace(`/community/category/${t}`);let a=nK.AZ[e];(0,em.kc)().cmty_collections_v2_redirect&&a&&ec.Ay.replace(`/community/collections/${a}`)},[e]),"loading"===a)?null:t?(document.title=t.meta_title||"Collection | Figma",el.createElement(el.Fragment,null,el.createElement(sw,{collection:t}),!(0,eo.y3)()&&el.createElement("div",{className:"collection_page--footerContainer--Y-BuI collection_page--pageSections--mndLy"},el.createElement(to.A,null)))):el.createElement(nz.aj,null)}function sw({collection:e,preview:t=!1}){return el.createElement(e8.fu,{name:"community_collections",properties:{urlSlug:e.url_slug,title:e.title}},!(0,nK.us)(e)&&el.createElement(sg,null),el.createElement("div",{className:"collection_page--page--XgZLM"},el.createElement("section",{className:"collection_page--headerSection--qYnly"},el.createElement("div",{className:"collection_page--header--XaFVY"},el.createElement("div",{className:"collection_page--headerInfo--VzudZ"},!t&&el.createElement(nZ,{pathname:ec.Ay.location.pathname,overrideText:e.meta.breadcrumb_text}),el.createElement("h1",{className:"collection_page--title--gNu9m text--fontPos48Whyte--uSU-k text--_fontBaseWhyte--efAjI"},e.title),el.createElement(n3,{collection:e}),el.createElement("div",{className:"collection_page--description--xFS-k text--fontPos16--oMC-G text--_fontBase--QdLsd"},e.description)),el.createElement("div",{className:"collection_page--headerImage--gReUX"},!!e.header_img_url&&el.createElement("img",{src:e.header_img_url,alt:"collection header"})))),!!e.sections.length&&el.createElement("section",{className:"collection_page--pageSections--mndLy"},e.sections.map((e,a)=>e.section_type===nK.TP.BUNDLE_SECTION&&e.resources?el.createElement(sh,{title:e.title||"",description:e.description||"",resources:e.resources,meta:e.meta,key:a}):e.section_type===nK.TP.HERO_SECTION&&e.resource?el.createElement(s_,{title:e.title||"",resource:e.resource,meta:e.meta,showCTA:!t,key:a}):e.section_type===nK.TP.BUNDLE_SECTION&&e.meta.figjam_ai?el.createElement(sv,{title:e.title||"",description:e.description||"",meta:e.meta,preview:t,key:a}):void 0)),!!e.faqs&&el.createElement(n2,{faqs:e.faqs})))}var sT=a(843540);let sx=a(699651).u;var sC=a(84336);let sN=(0,a4.T8)("VIEW_PLUGIN",(e,{pluginId:t,isWidget:a})=>td.Ay.post(`/api/${a?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var sk=a(56714),sS=a(323434);let sI="mobile_media_carousel--carouselItem--k7rAE";function sA({resource:e}){let t=(0,iL.S)(),[a,r]=el.useState(0),[n,l]=el.useState(0),i=(0,eN.z$)(e),s=(0,eN.N6)(e),o=s.length>1,c=s[a];if(!o||!c)return el.createElement(sL,{resource:e,selectedMedium:c});let[d,m]=iW(c),u=e=>{r(e)},_=e=>{let t=a+e;t<0?r(s.length-1):t>=s.length?r(0):r(t)},p=(e,t)=>Math.abs(e)*t;return el.createElement(e8.fu,{name:t6.e0.COMMUNITY_MOBILE_RDP_CAROUSEL,properties:{resource_type:(0,eN.Vm)(e),resource_id:e.id,...t}},el.createElement("div",{className:"mobile_media_carousel--mobileMediaCarousel--AIpoz",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},role:"grid",tabIndex:0},el.createElement(sS.N,{mode:"popLayout",initial:!1,custom:n},el.createElement(tN.P.div,{key:a,custom:n,variants:{enter:e=>({x:e>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.05}},whileDrag:{cursor:"grabbing"},drag:"x",dragDirectionLock:!0,dragConstraints:{left:0,right:0},dragElastic:.5,onDragEnd:(r,{offset:n,velocity:i})=>{let s=p(n.x,i.x);s<-500?(_(1),l(1),(0,e7.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,eN.Vm)(e),selectedIndex:a,...t})):s>500&&(_(-1),l(-1),(0,e7.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,eN.Vm)(e),selectedIndex:a,...t}))}},el.createElement("div",{className:sI},"video"===c.type?el.createElement(i4,{videoId:c.video_file_uuid,src:iG(c,e),fallbackSrc:c.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,e7.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,eN.Vm)(e),...t})}}):el.createElement(iV,{image:d,resourceId:e.id,alt:(0,eN.qD)(e).name+" preview",thumbnailContext:lg.O7.DETAIL,resizedThumbnailUrls:m,resourceHeroType:i,isMobileCarousel:!0})))),el.createElement("div",{className:"mobile_media_carousel--carouselIndicator--etWE0"},s.map((e,t)=>el.createElement("div",{key:t,className:ey()("mobile_media_carousel--carouselDot--kqCx2",{"mobile_media_carousel--activeCarouselDot--dBLJE":t===a}),onClick:()=>u(t),role:"button",tabIndex:0})))))}function sL({resource:e,selectedMedium:t}){let a=(0,iL.S)();if(t&&"video"===t.type)return el.createElement("div",{className:sI},el.createElement(i4,{videoId:t.video_file_uuid,src:iG(t,e),fallbackSrc:t.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,e7.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,eN.Vm)(e),...a})}}));let r=(0,aI.U)(e)?e.resized_thumbnail_urls:void 0;return el.createElement("div",{className:sI},el.createElement(iV,{image:e.thumbnail_url||"",resourceId:e.id,alt:(0,eN.qD)(e).name+" preview",thumbnailContext:lg.O7.DETAIL,resourceHeroType:(0,eN.z$)(e),resizedThumbnailUrls:r,isMobileCarousel:!0}))}let sR=async(e,t)=>{let a=n5.S[e],r=await fetch(`/api/${a}/${t}/versions`);if(r.ok)return await r.json();throw Error(`Failed to fetch ${a} ${t} versions`)},sO={file:{},plugin:{},widget:{}},sD=async(e,t)=>{if(sO[e][t])return sO[e][t];let{meta:a}=await sR(e,t),r=n5.S[e],n=[tE.L.BrowseResourceTypes.PLUGINS,tE.L.BrowseResourceTypes.WIDGETS].indexOf(r)>-1?a.plugin:a;return sO[e][n.id]=n,n};function sF({resource:e,rdpImpressionId:t}){return el.createElement(el.Fragment,null,el.createElement(sx,{resource:e}),el.createElement(sl,{resource:e}),el.createElement(iT,{resource:e,rdpImpressionId:t}))}function sM({resource:e,rdpImpressionId:t}){return el.createElement(el.Fragment,null,el.createElement(n4.Xg,{resource:e}),el.createElement(lw,{key:e.id,resource:e}),el.createElement(iT,{resource:e,rdpImpressionId:t}))}function sP({resource:e,rdpImpressionId:t}){return(0,ek.qf)(e)?el.createElement(sF,{resource:e,rdpImpressionId:t}):el.createElement(sM,{resource:e,rdpImpressionId:t})}function sB({resource:e,rdpImpressionId:t,isMobileRedesignEnabled:a,isMobileSize:r}){let[n,l]=el.useState(!1),i=a?el.createElement(sA,{resource:e}):el.createElement(lw,{key:e.id,resource:e}),s=a?el.createElement(iS,{resource:e,hasScrolled:n}):el.createElement(n4.Xg,{resource:e});return el.createElement(el.Fragment,null,i,s,el.createElement("div",{className:"resource_page--mobileScrollSentinelContainer--AkI9N"},el.createElement(aL.a,{className:"resource_page--scrollSentinel--yWuQV",onIntersectionChange:e=>l(!e.isIntersecting)})),el.createElement(iT,{resource:e,rdpImpressionId:t,isMobileSize:r,isMobileRedesignEnabled:a}))}function sU(){let[{apiResourceType:e,resourceId:t},a]=el.useState({apiResourceType:(0,eN.eD)()[0],resourceId:(0,eN.eD)()[1]}),[r,n]=el.useState(null),l=(0,ei.wA)(),i=(0,ew.N)(`(max-width: ${eS.YW-1}px)`),s=(0,ek.UJ)(),o=!!i&&s(!1),c=(0,ek.o5)({isLoggedOut:!1});el.useEffect(()=>{let e=ec.Ay.listen(()=>{let[e,t]=(0,eN.eD)();n5.S.hasOwnProperty(e)&&(a(a=>a.apiResourceType===e&&a.resourceId===t?a:{apiResourceType:e,resourceId:t}),setTimeout(()=>window.scrollTo(0,0),100))});return()=>{e(),document.body.removeAttribute("data-hide")}},[]),el.useEffect(()=>{e&&t&&sO[e]&&sD(e,t).then(t=>{e===aI.bD.WIDGET?t=(0,sk.I$)(t):e===aI.bD.PLUGIN&&(t=(0,sk.I$)(t)),n(t),(0,aI.U)(t)?l((0,aw.Sb)({hubFiles:[t],src:"resourcePage"})):l((0,sC.Qi)({publishedPlugins:[t],src:"resourcePage"})),document.title=(0,eN.qD)(t).name+"\xa0| Figma",document.body.removeAttribute("data-hide")})},[e,t,l]);let d=el.useRef(null),m=el.useCallback(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[d]);if(el.useEffect(()=>{r&&l((0,aI.U)(r)?(0,aw.vr)({hubFileId:r.id}):sN({pluginId:r.id,isWidget:(0,aI.xQ)(r)}))},[l,r]),!r)return el.createElement(el.Fragment,null);let u=function(e){let t=(0,aI.m3)(e);return(0,aI.U)(e)?{name:t6.e0.COMMUNITY_HUB_FILE,properties:{hubFileId:e.id,isMonetized:t}}:(0,aI.xQ)(e)?{name:t6.e0.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:t6.e0.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}(r),_=(0,t9.g)();return el.createElement("div",{className:"resource_page--resourcePage--n6Aio text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement(e8.fu,{name:u.name,properties:u.properties},el.createElement(li.H.Provider,{value:{onScrollToRatings:m,externalCommentScrollRef:d}},el.createElement(e4.Ay,{mediaQuery:`(min-width: ${eS.EX}px)`},el.createElement(sP,{resource:r,rdpImpressionId:_})),el.createElement(e4.Ay,{mediaQuery:`(min-width: ${eS.YW}px) and (max-width: ${eS.EX-1}px)`},el.createElement(sP,{resource:r,rdpImpressionId:_})),el.createElement(e4.Ay,{mediaQuery:`(max-width: ${eS.YW-1}px)`},el.createElement(sB,{resource:r,rdpImpressionId:_,isMobileRedesignEnabled:o,isMobileSize:i}))),c()&&!(0,eo.y3)()&&el.createElement("div",{className:"resource_page--footerContainer--bAm54"},el.createElement(to.A,null))))}function sW(e){let t=(0,ek.CQ)({isLoggedOut:!1});return el.useEffect(()=>{nq.XZ.initialRenderDurationMs=Math.round(window.performance.now()-nq.XZ.domContentLoadedMs),nq.XZ.isFastma=eN.FG,nq.XZ.timeToLoadMs=Math.round(performance.now()),nq.XZ.report(),(0,a6.qD)({name:"Community Hub"})},[]),el.createElement(ei.Kq,{store:e.store},el.createElement("div",{"data-testid":"community-app",className:"community_app--communityApp--kXC00"},(0,em.kc)().cmty_consolidated_navbar?el.createElement(ts,null):el.createElement(e.Navbar,null),el.createElement(ev.dO,null,el.createElement(ev.qh,{path:"/community/templates/:urlSlug"},el.createElement(sy,null)),el.createElement(ev.qh,{path:"/community/collections/:urlSlug"},el.createElement(sy,null)),el.createElement(ev.qh,{path:"/community/collections/"},el.createElement(nz.aX,null)),el.createElement(ev.qh,{path:"/community/file/*"},el.createElement(sU,null)),el.createElement(ev.qh,{path:"/community/plugin/*"},el.createElement(sU,null)),el.createElement(ev.qh,{path:"/community/widget/*"},el.createElement(sU,null)),t()&&el.createElement(ev.qh,{path:"/community/",exact:!0},el.createElement(eP,null),el.createElement(t0,null)),el.createElement(ev.qh,{path:"/community*"},el.createElement(e.FeedView,null)),el.createElement(ev.qh,{path:"/@:handle"},el.createElement(nH,null))),el.createElement(eM,null),!1,el.createElement(eV.Ay,null)))}nq.XZ.domContentLoadedMs=Math.round(window.performance.now());var sV=a(713274);let sG=(0,ei.Ng)(null,e=>({dispatch:e}))(({shouldUseReactRouterCommunityNavbar:e})=>{let t=(0,ei.Pj)();return el.createElement(sW,{store:t,FeedView:sV.kd,Navbar:e?sV.c7:function(){return null}})});function s$(e){return"communityHub"!==e.view?{content:el.createElement(sG,{shouldUseReactRouterCommunityNavbar:!1}),key:"searchAndBrowse"}:"plugin"===e.subView||"widget"===e.subView||"hubFile"===e.subView||"landing"===e.subView||"searchAndBrowse"===e.subView||"handle"===e.subView?{content:el.createElement(sG,{shouldUseReactRouterCommunityNavbar:sj(e.subView)}),key:"searchAndBrowse"}:"hubFileEmbed"===e.subView||"monetizationRedirectView"===e.subView?{content:null,key:void 0}:(0,eh.xb)(e)}function sj(e){return!(0,em.kc)().cmty_consolidated_navbar&&["plugin","widget","hubFile","searchAndBrowse","handle"].includes(e)}var sH=a(955066),sq=a(507877),sY=a(266348),sz=a(186799),sK=a(694687),sJ=a(611978),sQ=a(428467),sZ=a(657193),sX=a(472503),s0=a(802026),s1=a(622139),s2=a(611886),s4=a(351226),s3=a(129318),s8=a(833629),s5=a(711105);function s6(){return el.createElement("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("rect",{x:"103.455",y:"104.493",width:"45.149",height:"57.7907",transform:"rotate(-180 103.455 104.493)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M62.927 51.7129L62.1419 53.2707C61.4075 54.7277 59.9255 55.6452 58.3065 55.6452L58.3065 69.0602L64.7265 69.0602C67.2802 69.0602 69.5893 67.5161 70.6011 65.1319L70.9455 64.3203C72.3165 61.0896 76.1951 59.8592 79.1294 61.7241L79.5218 61.9734C82.025 63.5643 85.327 62.7225 86.7961 60.119C89.265 55.7436 95.7823 57.0264 96.4672 62.0225L96.9648 65.6525C97.4083 68.888 100.242 71.296 103.455 71.296L103.455 55.6452L96.8671 55.6452C94.4158 55.6452 92.1537 54.3148 90.9442 52.1618C88.8389 48.414 83.8779 47.5225 80.6213 50.3066L76.8062 53.5682C74.6876 55.3794 71.4363 54.587 70.3692 51.9993C69.0244 48.7384 64.5137 48.5648 62.927 51.7129Z",fill:"#0FA958",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M70.969 64.2606L70.5915 65.1502C69.5855 67.5209 67.2596 69.0605 64.6843 69.0605L58.3047 69.0605L58.3047 80.6868L59.0581 80.6868C61.8922 80.6868 64.4545 82.4015 65.5755 85.0483C68.0796 90.9608 76.3675 90.8321 78.6928 84.8445L81.4653 77.7057L83.2017 74.2078C85.6215 69.3331 92.6778 68.6256 94.878 73.6067C96.5009 77.2807 99.7887 77.7057 103.453 77.7057L103.453 71.2963L103.375 71.2963C100.144 71.2963 97.4095 68.9109 96.9707 65.71L96.4577 61.9683C95.7824 57.0421 89.2361 55.7916 86.7926 60.1221C85.331 62.7123 81.9965 63.5476 79.4863 61.9524L79.1249 61.7227C76.206 59.8677 72.3201 61.0769 70.969 64.2606Z",fill:"#699BF7",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M81.0219 99.533L79.6441 97.4163C76.9124 93.2197 71.1826 92.2439 67.2157 95.2996C65.7149 96.4558 63.8736 97.0828 61.9791 97.0828L58.3047 97.0828L58.3047 80.6867L59.0582 80.6867C61.8922 80.6867 64.4545 82.4014 65.5755 85.0482C68.0796 90.9607 76.3675 90.832 78.6928 84.8445L81.4653 77.7056L83.2017 74.2077C85.6215 69.333 92.6799 68.6133 94.9513 73.7556C96.5742 77.4297 100.155 77.7056 103.453 77.7056L103.453 104.493L92.1662 104.493L90.1686 104.493C86.4771 104.493 83.0358 102.627 81.0219 99.533Z",fill:"#FFC700",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{x:"83.0745",y:"118.4",width:"35.3785",height:"4.67714",transform:"rotate(90 83.0745 118.4)",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M86.9636 118.4L91.536 118.4L110.994 153.778L106.422 153.778L86.9636 118.4Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M74.513 118.4L69.9405 118.4L50.4824 153.778L55.0549 153.778L74.513 118.4Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M93.7464 118.715L67.7302 118.715L67.7302 114.175L93.7464 114.175V118.715Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{x:"82.8342",y:"28.2712",width:"4.54023",height:"4.54023",transform:"rotate(90 82.8342 28.2712)",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M88.4946 32.7V37.2402L72.9817 37.2402L72.9817 32.7L88.4946 32.7Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 125.778 116.148)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 41.9258 29.3333)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 125.778 29.3333)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 41.9258 116.148)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("rect",{x:"-0.37037",y:"0.37037",width:"83.0506",height:"86.183",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 122.039 32.2269)",stroke:"var(--color-icon)","stroke-width":"0.740741"}),el.createElement("path",{d:"M140.148 103.224L140.518 103.224L140.518 102.854L140.518 93.7686L140.518 93.3982L140.148 93.3982L115.23 93.3982L114.86 93.3982L114.86 93.7686L114.86 102.854L114.86 103.224L115.23 103.224L140.148 103.224ZM109.545 85.8149L108.838 85.3945L108.992 86.2029L110.247 92.7643L110.43 93.7206L110.929 92.8845L112.359 90.4889L114.976 89.7712L115.816 89.5407L115.067 89.0956L109.545 85.8149Z",fill:"#699BF7",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}),el.createElement("path",{d:"M19.9334 88.4856L19.563 88.4856L19.563 88.1153L19.563 79.0303L19.563 78.6599L19.9334 78.6599L44.8509 78.6599L45.2212 78.6599L45.2212 79.0303L45.2212 88.1153L45.2212 88.4856L44.8509 88.4856L19.9334 88.4856ZM50.5359 71.0766L51.2435 70.6562L51.0889 71.4646L49.8339 78.026L49.651 78.9823L49.1521 78.1462L47.7225 75.7506L45.1054 75.0329L44.2649 74.8025L45.0141 74.3573L50.5359 71.0766Z",fill:"#0FA958",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}),el.createElement("path",{d:"M60.0677 5.49226L59.6973 5.49226L59.6973 5.86263L59.6973 14.9476L59.6973 15.318L60.0677 15.318L84.9851 15.318L85.3555 15.318L85.3555 14.9476L85.3555 5.86263L85.3555 5.49226L84.9851 5.49226L60.0677 5.49226ZM90.6702 22.9013L91.3778 23.3216L91.2232 22.5133L89.9682 15.9519L89.7853 14.9956L89.2864 15.8317L87.8568 18.2273L85.2396 18.945L84.3992 19.1754L85.1484 19.6206L90.6702 22.9013Z",fill:"#FFC700",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}))}function s9(e){return el.createElement(e8.fu,{name:"Continue Duplication after Verification Modal"},el.createElement(lD.XV,{headerSize:"hidden",maxWidth:348,containerClassName:"continue_after_verification--modalContainer--L-0LF",innerContainerClassName:"continue_after_verification--innerModal--JmgbP",title:" ",onClose:e.onClose,paddingLeft:40,paddingRight:40},el.createElement("div",{className:eE.cx.mxAuto.$},el.createElement(s6,null)),el.createElement("h1",{className:"continue_after_verification--title---5Cuw"},el.createElement(e2.Tx,{id:"community.duplicate_modal.youre_all_set"})),el.createElement("div",null,el.createElement(e2.Tx,{id:"community.duplicate_modal.youve_verified_your_email_at",userEmail:el.createElement("b",null,e.userEmail)})),el.createElement(eT.LA,{fullWidth:!0,onClick:e.onDuplicateClick,type:"button",role:"button",trackingProperties:{trackingDescriptor:e3.c.CONTINUE_TO_FILE}},el.createElement(e2.Tx,{id:"community.duplicate_modal.continue_to_file"}))))}let s7=(0,rr.Ju)(function(e){let t=(0,ei.d4)(e=>{var t;return null==(t=e.user)?void 0:t.email}),a=(0,ei.wA)(),r=(0,ei.d4)(t=>t.hubFiles[e.hubFileId]),n=t8.mC(aw.ts.loadingKeyForPayload({hubFileId:e.hubFileId})),l=(0,sJ._6)(),i=()=>{a(t3.Ce())};return(el.useEffect(()=>{r||a(aw.ts({hubFileId:e.hubFileId}))},[a,r,e.hubFileId]),n)?t&&(r||!n)?el.createElement(s9,{onClose:i,userEmail:t,onDuplicateClick:()=>{a(r7.b({signed_up_from_community:!0}));let t=s2.M.onDuplicateHubFile(e=>{a((0,t3.to)({type:s4._,data:{payload:e}}))},{isFreemiumPreview:e.isFreemiumPreview});i(),a(t(r)),new URLSearchParams(ec.Ay.location.search).has(eS._O)&&a(aC.$T({...l,triggerFreemiumPreview:void 0}))}}):(i(),null):null},"ContinueAfterVerificationModal");var oe=a(794120),ot=a(126296),oa=a(995852),or=a(758259),on=a(902957),ol=a(416618),oi=a(668860),os=a(48793);function oo({index:e}){let t=(0,ei.d4)(e=>!!e.payment.promo);return el.createElement("div",{className:"team_creation_breadcrumbs--stepBreadcrumbs--oSUJJ step_breadcrumb--stepBreadcrumbs--E4Woe"},el.createElement(os.On,{selected:1===e,number:1,text:(0,e2.t)("team_creation.name_your_team")}),el.createElement(os.On,{selected:2===e,number:2,text:(0,e2.t)("team_creation.add_team_members")}),!t&&el.createElement(os.On,{selected:3===e,number:3,text:(0,e2.t)("team_creation.finish_setup")}))}let oc=(0,e8.tf)(function(e){return el.createElement("div",{onClick:e.onClick},e.children)});function od(e){return el.createElement(el.Fragment,null,el.createElement("div",{className:"full_width_page--closeMenu--2t7Eb"},e.menu),el.createElement("div",{ref:e.pageRef,className:"full_width_page--fullWidthPage--I9-JZ overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",...e}))}let om="add_collaborators--emailListItem--47Ymn";var ou=a(630834);function o_(e){let[t,a]=el.useState(["","",""]),r=e.teams[e.selectedView.teamId],n=(0,ei.wA)(),l=(0,em.kc)().ps_benchmark,i=(0,aN.TA)(),s=el.useCallback(()=>{if(r){let e={view:"team",teamId:r.id};if(l&&i){let t={userId:i,teamId:r.id,orgId:null};n(sq._l({workspace:t,view:e}))}else n(aC.$T(e))}},[n,r,i,l]),o=el.useCallback((e,r)=>{if(r>=t.length)return;let n=[...t];n[r]=e,a(n)},[t]),c=el.useCallback(()=>{a([...t,""])},[t]),d=el.useCallback(()=>{let t=!!e.teamCreation.isEduTeam;e.payment.promo?n(or.g_({teamId:r.id,teamName:r.name,previousView:{view:"team",teamId:r.id}})):t?n(oa.Vm({teamId:r.id,showBreadcrumbs:!0})):n(aC.$T({view:"teamUpgrade",teamFlowType:t5.SC.UPGRADE_EXISTING_TEAM,teamId:r.id,paymentStep:s1.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:r.id},planType:t5.Sc.TEAM}))},[n,r,e.payment.promo,e.teamCreation.isEduTeam]),m=el.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),u=el.useCallback(()=>{n((0,ol.rq)({emails:m(),resourceType:lm.vt.TEAM,resourceIdOrKey:r.id,level:oi.e6.EDITOR,onSuccess:()=>{n(on.r1({loading:!1})),d()}}))},[m,r,d,n]);return el.createElement(e8.fu,{name:"Add Collaborators",properties:{teamId:null==r?void 0:r.id}},el.createElement("div",null,el.createElement(od,{menu:el.createElement(oc,{onClick:s},el.createElement(eC.B,{svg:ou.default,className:"add_collaborators--modalCloseX--q-kpi"}))},el.createElement(oo,{index:2}),el.createElement(os.JR,null,el.createElement(e2.Tx,{id:"team_creation.add_your_collaborators"})),el.createElement(os.Kh,null,el.createElement(e2.Tx,{id:"team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up"})),el.createElement("div",{className:"add_collaborators--formContainer--C-iq0"},el.createElement("div",{className:"add_collaborators--emailInputsContainer--8M7pc"},t.map((e,t)=>el.createElement(eT.il,{key:`collaborator-email-input-${t}`,className:om,value:e,onChange:e=>o(e.target.value,t),maxLength:255,placeholder:(0,e2.t)("team_creation.email")}))),el.createElement(eT.nR,{className:om,onClick:c},el.createElement(e2.Tx,{id:"team_creation.add_another"})),el.createElement("div",{className:"add_collaborators--spacing--ODn5D"}),el.createElement("div",{className:"add_collaborators--ctaContainer--7S-6n"},el.createElement(eT.nD,{disabled:0===m().length,onClick:u,trackingProperties:{numCollaborators:m().length}},el.createElement(e2.Tx,{id:"team_creation.continue"})),el.createElement(eT.Ph,{onClick:d,trusted:!0},el.createElement(e2.Tx,{id:"team_creation.skip_for_now"})))))))}var op=a(994190),og=a(316082),oE=a(588395),of=a(632376),oh=a(119198),ov=a(788811),ob=a(63104),oy=a(132367),ow=a(594901),oT=a(132135),ox=a(565167),oC=a(945020),oN=a(167198);let ok=["recentFiles","folder","team","search","recentsAndSharing"];function oS(){let e=(0,ei.d4)(e=>e.autosave),t=(0,eU.md)(oE.b),a=(0,sJ._6)(),r=(0,ow.FC)(),n=(0,l_.ud)(),l=(0,og.yZ)(),i=(0,ov._S)((0,ov.vn)((0,ov.QM)(e.unclaimedFilesWithChangesInIDB,r),n),n),s=e.unclaimedFilesCreatedOffline;return t||!l&&(0,em.kc)().fb_offline_notification||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(i.length>0||e.unclaimedFilesCreatedOffline.length>0)&&ok.includes(a.view)?el.createElement(oA,{unsyncedFiles:i,localUnsyncedFiles:s}):null}let oI=!1;function oA(e){let t=(0,ei.wA)();el.useEffect(()=>{let e=()=>{t(sH.Jw())};return oy.hp.register(oy.a,e),function(){oy.hp.unregister(oy.a,e),t(t3.ES({type:of.EO.type}))}},[t]);let a=(0,sJ._6)(),[r,n]=el.useState(!1);el.useEffect(()=>{oI||(oI=!0,(0,op.Mw)()),r||(n(!0),(0,e7.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:a.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,r,a]);let l=(0,aN.iZ)(),i=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===i.length||!l)return el.createElement(el.Fragment,null);let s=i.length>1,o=i[0],c=(0,ob.y8)(o)?o.file.name:o.name,d=c.length>40?c.substring(0,40)+"\u2026":c,m=s?(0,e2.t)("autosave.notification.message.more_than_one_file"):(0,e2.t)("autosave.notification.message.one_file",{fileName:d}),u=s?el.createElement(e2.Tx,{id:"autosave.notification.action_review"}):el.createElement(e2.Tx,{id:"autosave.notification.action_open_to_sync"});return el.createElement("div",{className:"autosave_notification--notification--ToLsu text--_negText--j9g-L"},el.createElement(eC.B,{className:"autosave_notification--icon--wxeC6",svg:oN.A,width:"24",height:"24"}),el.createElement("div",{className:"autosave_notification--message--8xxqE"},m),el.createElement("div",{className:"autosave_notification--actions--Gv7Zu"},el.createElement("div",{className:"autosave_notification--mainAction--O74k6 autosave_notification--action--jhiAG",onClick:()=>{s?t(t3.to({type:of.EO})):(0,ob.y8)(o)?ec.Ay.redirect((0,oT.r1)(o.file,!0),"_blank"):t(oh.NA({file:o,openNewFileIn:oC.ai.NEW_TAB,source:ox.U.AUTOSAVE_NOTIFICATION}))}},u),el.createElement("div",{className:"autosave_notification--action--jhiAG",onClick:()=>{(0,e7.sx)("Autosave Notification Snooze",{files:i.length,firstFile:o.fileKey}),t(sH.zE(Date.now()))}},el.createElement(e2.Tx,{id:"autosave.notification.action_later"}))))}var oL=a(586459),oR=a(229403),oO=a(163147);let oD=e=>{let t=(0,ei.d4)(t=>{let a=oR.Xw.loadingKeyForPayload({teamId:e});return t.loadingState[a]}),a=(0,ei.d4)(t=>t.teamUserByTeamId[e]||{}),r=(0,ei.wA)();el.useEffect(()=>{r(oR.Xw({teamId:e}))},[r,e]);let n=t!==oL.r.SUCCESS;return el.useEffect(()=>{if(!n){let e=Object.keys(a).length;r(oa.Az({numWhiteboardEditors:e})),r(oa.js({numDesignEditors:e}))}},[r,n,a]),n};function oF({selectedView:e}){let{teamId:t}=e,a=oD(t),r=(0,ei.wA)(),n=()=>{r(oa.Nj({teamId:t,onCloseOrComplete:e.onCloseOrComplete}))};return el.createElement(e8.fu,{name:"Edu Review",properties:{teamId:t}},el.createElement("div",null,el.createElement(od,{menu:el.createElement(oc,{onClick:()=>{var a;r(aC.$T({view:"team",teamId:t})),null==(a=e.onCloseOrComplete)||a.call(e)}},el.createElement(eC.B,{svg:ou.default,className:"edu_review--modalCloseX--TShDU"}))},el.createElement("span",{className:e.showBreadcrumbs?void 0:"edu_review--hidden--5caDe"},el.createElement(oo,{index:3})),el.createElement(os.JR,null,el.createElement(e2.Tx,{id:"edu.almost_done_everything_look_good"})),el.createElement(eT.Kz,{multiple:4}),el.createElement(t1.x,{isLoading:a},()=>el.createElement(oO.d,{selectedView:e,onClickConfirm:n,currency:(0,r$.LN)(),canSeeBillingAddressExp:!1})))))}var oM=a(845144),oP=a(657544),oB=a(597492);let oU=(0,e8.tf)(function(e){let t=e.Img;function a(){return el.createElement("div",{className:eE.cx.flex.fontWhyte.font16.itemsCenter.$},el.createElement("div",{className:oB.vu},el.createElement(t,null)),el.createElement("div",{className:eE.cx.flex.flexColumn.alignLeft.justifyCenter.lh24.flex1.$},el.createElement("h3",{className:eE.cx.fontBold.colorText.$},e.title),el.createElement("p",{className:eE.cx.colorTextSecondary.$},e.description)),el.createElement(n0.In,{icon:"chevron-right-32"}))}return"link"===e.type?el.createElement("a",{href:e.href,onClick:e.onClick},el.createElement(a,null)):el.createElement("div",{role:"button",tabIndex:0,onClick:e.onClick},el.createElement(a,null))});function oW(){let e=(0,ei.wA)(),t=e_.aR?oP.o:oP.J;return el.createElement("div",{className:eE.cx.flex.gap24.flexColumn.colorBorder.bt1.bb1.bSolid.py24.my32.$},el.createElement(oU,{type:"button",onClick:()=>{td.Ay.post("/api/mobile_redirect/login").then(()=>{e(a0.F.enqueue({message:(0,e2.t)("rcs.mobile.email_sent")}))}).catch(e=>{console.error(e)})},title:(0,e2.t)("file_browser.mobile_prompt_options.desktop_title"),description:(0,e2.t)("file_browser.mobile_prompt_options.desktop_description"),Img:()=>el.createElement(n0.In,{icon:"hyperlink-32"}),trackingProperties:{trackingDescriptor:e3.c.MOBILE_WEB_LOG_IN_DESKTOP}}),el.createElement(oU,{type:"button",onClick:()=>e(aC.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,ej.Gu)()})),trackingProperties:{trackingDescriptor:e3.c.OPEN_IN_COMMUNITY},title:(0,e2.t)("file_browser.mobile_prompt_options.community_title"),description:(0,e2.t)("file_browser.mobile_prompt_options.community_description"),Img:()=>el.createElement(n0.In,{icon:"community-32"})}),el.createElement(oU,{type:"link",href:t,onClick:eu.lQ,title:(0,e2.t)("file_browser.mobile_prompt_options.app_title"),description:(0,e2.t)("file_browser.mobile_prompt_options.app_description"),trackingProperties:{trackingDescriptor:e3.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},Img:()=>el.createElement("img",{src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:""})}))}function oV({title:e,subtitle:t}){return el.createElement(e8.fu,{name:"mobile file browser options screen"},el.createElement("div",{className:oB.IK},el.createElement(n0.In,{icon:"logo-40-colored"}),el.createElement("h1",{style:{fontSize:"32px"},className:eE.cx.fontMedium.$},e),t&&el.createElement("h3",{className:eE.cx.font16.pt16.alignCenter.$},t),el.createElement(oW,null)))}function oG({}){let e=(0,eU.md)(ot.k),t=(0,eU.md)(oM.NH),a=e?(0,e2.t)("rcs.mobile.account_created"):(0,e2.t)("rcs.mobile.welcome_back"),r=e?(0,e2.t)("rcs.mobile.youre_all_set"):"";return t?el.createElement(oV,{title:a,subtitle:r}):el.createElement(oM.mx,null)}var o$=a(304783),oj=a(498480),oH=a(455057),oq=a(67294),oY=a(295296),oz=a(349410),oK=a(809840);function oJ(e){return el.createElement(el.Fragment,null,el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"space-between","data-testid":"sidebar-subtotal-cost-row",height:"hug-contents"},el.createElement(oK.E,{"data-testid":"sidebar-subtotal-summary-main-text",fontWeight:"regular",fontSize:13,i18nId:"pro_cart.info.subtotal"}),el.createElement("span",{"data-testid":"sidebar-subtotal-summary-price-section"},el.createElement(oK.E,{"data-testid":"sidebar-subtotal-summary-price-section-price-text",fontWeight:"regular",fontSize:13,children:e.formattedSubtotal}))),el.createElement(oK.E,{fontWeight:"regular",color:"tertiary",fontSize:11,i18nId:"checkout.tax_disclaimer"})," ",el.createElement(oK.E,{fontWeight:"medium",color:"tertiary",fontSize:11,i18nId:"checkout.review_in_tax_disclaimer"}))}function oQ({numberOfDesignEditors:e,designSubtotal:t,numberOfFigjamEditors:a,figjamSubtotal:r,formattedSubtotal:n,billingPeriod:l}){return el.createElement(el.Fragment,null,el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"space-between","data-testid":"sidebar-design-subtotal-cost-row",height:"hug-contents"},el.createElement(oK.E,{"data-testid":"sidebar-design-subtotal-summary-main-text",fontWeight:"regular",fontSize:13,i18nId:"pro_cart.sidebar.exp_sticker_shock.design_editors",i18nParams:{numEditors:e}}),el.createElement("span",{"data-testid":"sidebar-design-subtotal-summary-price-section"},el.createElement(oK.E,{"data-testid":"sidebar-design-subtotal-summary-price-section-price-text",fontWeight:"regular",fontSize:13,children:t}))),el.createElement(eT.Kz,{multiple:2}),el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"space-between","data-testid":"sidebar-whiteboard-subtotal-cost-row",height:"hug-contents"},el.createElement(oK.E,{"data-testid":"sidebar-whiteboard-subtotal-summary-main-text",fontWeight:"regular",fontSize:13,i18nId:"pro_cart.sidebar.exp_sticker_shock.figjam_editors",i18nParams:{numEditors:a}}),el.createElement("span",{"data-testid":"sidebar-whiteboard-subtotal-summary-price-section"},el.createElement(oK.E,{"data-testid":"sidebar-whiteboard-subtotal-summary-price-section-price-text",fontWeight:"regular",fontSize:13,children:r}))),el.createElement(eT.Kz,{multiple:2}),el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"space-between","data-testid":"sidebar-subtotal-cost-row",height:"hug-contents"},el.createElement(oK.E,{"data-testid":"sidebar-subtotal-summary-main-text",fontWeight:"medium",fontSize:13,i18nId:l===s1.tY.ANNUAL?"pro_cart.sidebar.exp_sticker_shock.subtotal_per_year":"pro_cart.sidebar.exp_sticker_shock.subtotal_per_month"}),el.createElement("span",{"data-testid":"sidebar-subtotal-summary-price-section"},el.createElement(oK.E,{"data-testid":"sidebar-subtotal-summary-price-section-price-text",fontWeight:"medium",fontSize:13,children:n}))))}var oZ=a(582410),oX=a(720647),o0=a(195971),o1=a(724838),o2=a(596607),o4=a(351239),o3=a(679892),o8=a(831429),o5=a(659838),o6=a(396754),o9=a(489262),o7=((n=o7||{}).STARTER="starter",n.PRO="pro",n.ORG="org",n);function ce({type:e,teamName:t,setTeamName:a,onNext:r,upgradeExistingTeam:n,promo:l}){let i={starter:{title:el.createElement(e2.Tx,{id:"all_carts.create_team.create_a_new_team"}),subtitle:el.createElement(e2.Tx,{id:"all_carts.create_team.after_creating_a_team"}),placeholder:(0,e2.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:el.createElement(e2.Tx,{id:"all_carts.create_team.create_team"}),trackingDescriptor:e3.c.SEND_INVITES},pro:{title:el.createElement(e2.Tx,{id:"pro_cart.create_team.create_a_professional_team"}),subtitle:el.createElement(e2.Tx,{id:"pro_cart.create_team.itll_have_unlimited_files_and_collaborative_features"}),placeholder:(0,e2.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:l?el.createElement(e2.Tx,{id:"pro_cart.sidebar.next_review"}):el.createElement(e2.Tx,{id:"pro_cart.create_team.next_set_editors.seat_rename"}),trackingDescriptor:l?e3.c.REVIEW:e3.c.SET_EDITORS},org:{title:el.createElement(e2.Tx,{id:"org_self_serve.create_team_step.create_an_org_team"}),subtitle:el.createElement(e2.Tx,{id:"org_self_serve.create_team_step.itll_have_unlimited_files_and_advanced_security"}),placeholder:(0,e2.t)("org_self_serve.create_team_step.enter_a_name_for_your_team"),next:el.createElement(e2.Tx,{id:"org_self_serve.create_team_step.next_select_team"}),trackingDescriptor:e3.c.SELECT_TEAM}}[e];return el.createElement(el.Fragment,null,el.createElement("div",{className:o6.Fb},i.title),el.createElement(eT.Kz,{multiple:.5}),el.createElement("div",{className:o6.b0},i.subtitle),el.createElement("div",{className:o6.F0},el.createElement(eC.B,{svg:o9.A,className:o6.Pr}),el.createElement(o5.L,{className:o6.Zy,onChange:e=>a(e.target.value),value:t,placeholder:i.placeholder})),el.createElement(eT.vd,{className:o6.eA,onClick:r,trackingProperties:{trackingDescriptor:i.trackingDescriptor},disabled:!t.trim()},i.next),!!n&&el.createElement(eT.Us,{className:o6.x,onClick:n,trusted:!0,trackingProperties:{trackingDescriptor:e3.c.UPGRADE_EXISTING_TEAM}},el.createElement(e2.Tx,{id:"pro_cart.create_team.upgrade_an_existing_team_instead"})))}var ct=a(962800),ca=a(227544),cr=a(159596),cn=a(830413),cl=a(865618),ci=a(6988),cs=a(501114),co=a(256454),cc=a(943432),cd=a(965600);let cm=e=>e.maxSeatsCount?Math.min(e.maxSeatsCount,99):99;function cu(e){let t=e.shouldShowJamboardOffer&&e.editorType===oX.tL&&e.numEditors<=co.xr;return el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.flex.itemsCenter.$},el.createElement("div",{className:"editor_counter--editorSeatCounter--Tp0cJ"},el.createElement(e8.$z,{disabled:e.numEditors<=e.minSeatsCount,innerText:`remove additional ${e.editorType===oX.tL?oX.Mg:e.editorType} editor`,className:"editor_counter--minusButton--FeON3",onClick:e.decrementSeats,dataTestId:`remove-additional-${e.editorType}`},el.createElement(eC.B,{svg:cc.A})),el.createElement("input",{value:e.numEditors,maxLength:2,onChange:e.updateAdditionalSeatsText,className:"editor_counter--additionalSeatsInput--YnWjz",onFocus:e=>e.target.select()}),el.createElement(e8.$z,{disabled:e.numEditors>=cm(e),innerText:`add additional ${e.editorType===oX.tL?oX.Mg:e.editorType} editor`,className:"editor_counter--plusButton--B1WY6",onClick:e.incrementSeats,dataTestId:`add-additional-${e.editorType}`},el.createElement(eC.B,{svg:cd.A}))),t?el.createElement(oj.Ex,{color:oj.zE.FIGJAM,text:el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.modal_offer_badge"})}):el.createElement("div",null,el.createElement("div",{className:"editor_counter--headerText--pKvwm"},e.headerText),e.headerFreeSubText&&el.createElement("div",{className:"editor_counter--headerFreeSubText--RS3NU editor_counter--headerSubText--qB5dc editor_counter--headerText--pKvwm"},e.headerFreeSubText),e.headerSubText&&el.createElement("div",{className:"editor_counter--headerSubText--qB5dc editor_counter--headerText--pKvwm"},e.headerSubText),e.clarificationText&&el.createElement("span",{style:cs.sx.colorText.colorBgSecondary.h16.pl4.pr4.mt8.bRadius1.inlineBlock.add({fontSize:"9px"}).$},e.clarificationText))))}function c_(e,t){return a=>{if(""===a.target.value){e(0);return}let r=parseInt(a.target.value);isNaN(r)||(r>99?e(99):t&&r>t?e(t):e(r))}}var cp=a(768137),cg=a(799569),cE=a(801161),cf=a(80332);let ch="promo_awareness_banner",cv="seats available",cb="seats full",cy="jamboard",cw="/jamboard-terms",cT="/contact";function cx(e){return e.numOfferSeatsRemaining>0?el.createElement(cN,{...e}):el.createElement(cS,null)}function cC(e){return e.numOfferSeatsRemaining>0?el.createElement(ck,{...e}):el.createElement(cI,null)}function cN(e){return el.createElement(e8.fu,{name:ch,properties:{promotion:cy,promo_banner_state:cv}},el.createElement(oH._,{color:oH.S.FIGJAM,text:el.createElement("div",{className:eE.cx.alignLeft.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_title.seat_rename",freeSeatsRemaining:e.numOfferSeatsRemaining})),el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text",seeTermsLink:el.createElement(e8.L0,{target:"_blank",rel:"noopener",href:cw,style:cs.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text.terms_and_conditions"})),contactSalesLink:el.createElement(e8.L0,{target:"_blank",rel:"noopener",href:cT,style:cs.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text.contact_sales"}))}))}))}function ck(e){return el.createElement(e8.fu,{name:ch,properties:{promotion:cy,promo_banner_state:cv}},el.createElement(oH._,{color:oH.S.FIGJAM,text:el.createElement("div",{className:eE.cx.alignLeft.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.title",freeSeatsRemaining:e.numOfferSeatsRemaining})),el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.text",seeTermsLink:el.createElement(e8.L0,{target:"_blank",rel:"noopener",href:cw,style:cs.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.terms_and_conditions"})),contactSalesLink:el.createElement(e8.L0,{target:"_blank",rel:"noopener",href:cT,style:cs.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.contact_sales"}))}))}))}function cS(){return el.createElement(e8.fu,{name:ch,properties:{promotion:cy,promo_banner_state:cb}},el.createElement(oH._,{color:oH.S.WARNING,text:el.createElement("div",{className:eE.cx.alignLeft.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner_title"})),el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner.text",seeTermsLink:el.createElement(el.Fragment,null,el.createElement("br",null),el.createElement(e8.L0,{target:"_blank",rel:"noopener",href:cw,trackingEventName:"See terms - Google Jamboard special offer",style:cs.sx.add({color:"var(--color-text-warning)",cursor:"pointer",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner_text.see_terms"})))}))}))}function cI(){return el.createElement(e8.fu,{name:ch,properties:{promotion:cy,promo_banner_state:cb}},el.createElement(oH._,{color:oH.S.WARNING,text:el.createElement("div",{className:eE.cx.alignLeft.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.title"})),el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.text",seeTermsLink:el.createElement(el.Fragment,null,el.createElement("br",null),el.createElement(e8.L0,{target:"_blank",rel:"noopener",href:cw,trackingEventName:"See terms - Google Jamboard special offer",style:cs.sx.add({color:"var(--color-text-warning)",cursor:"pointer",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.see_terms"})))}))}))}function cA(e){return el.createElement(oH._,{color:oH.S.WARNING,text:el.createElement("div",{className:eE.cx.alignLeft.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_title"})),el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_text",goBackLink:el.createElement("button",{onClick:e.onBack,style:cs.sx.add({color:"var(--color-text-warning)",cursor:"pointer",background:"transparent",userSelect:"auto"}).$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_go_back_link"}))}))})}var cL=a(205371);let cR="org_self_serve_modals--modalContainer--SkTV6",cO="org_self_serve_modals--modalWrapperSmall--CTynF org_self_serve_modals--modalWrapper--x29v1",cD="org_self_serve_modals--modalHeader--TfjFf",cF="org_self_serve_modals--modalText--dkvyR";var cM=a(265871),cP=a(950142);function cB(e){return el.createElement("div",{style:{height:e.height||12}})}function cU(e){return el.createElement(lD.XV,{containerClassName:cR,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},el.createElement("div",{className:cO},el.createElement("div",{className:cD},el.createElement(e2.Tx,{id:"org_self_serve.modals.invalid_email.figma_organization_only_allows_work_emails"})),el.createElement("div",{className:cF},el.createElement(e2.Tx,{id:"org_self_serve.modals.invalid_email.change_email_address_to_proceed"})),el.createElement(cB,{height:12}),el.createElement("a",{onClick:e.onFileBrowserClick},el.createElement(e2.Tx,{id:"org_self_serve.modals.invalid_email.go_to_the_file_browser"}))))}function cW(e){return el.createElement(lD.XV,{containerClassName:cR,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},el.createElement("div",{className:cO},el.createElement("div",{className:cD},el.createElement(e2.Tx,{id:"org_self_serve.modals.existing_org_admin.figma_organization_already_purchased"})),el.createElement("div",{className:cF},el.createElement(e2.Tx,{id:"org_self_serve.modals.existing_org_admin.if_you_need_another_organization",contactSales:el.createElement("a",{onClick:e.onContactSales},el.createElement(e2.Tx,{id:"org_self_serve.modals.existing_org_admin.contact_sales"}))})),el.createElement(cB,{height:4}),el.createElement(cB,{height:12}),el.createElement("a",{onClick:e.onFileBrowserClick},el.createElement(e2.Tx,{id:"org_self_serve.modals.existing_org_admin.go_to_the_file_browser"}))))}function cV(e){return el.createElement(lD.XV,{containerClassName:cR,headerSize:"hidden",onClose:e.onClose,title:"",minWidth:580,maxWidth:580},el.createElement("div",{className:"org_self_serve_modals--modalWrapper--x29v1"},el.createElement(eC.B,{className:"org_self_serve_modals--modalClose--mUT1H",svg:cP.A,onClick:e.onClose}),el.createElement("div",{className:cD},el.createElement(e2.Tx,{id:"org_self_serve.modals.true_up_edu.figma_grows_with_your_team"})),el.createElement("div",{className:cF},el.createElement(e2.Tx,{id:"org_self_serve.modals.true_up_edu.members_can_add_new_editors.seat_rename"})),el.createElement(cB,{height:8}),el.createElement("div",{className:"org_self_serve_modals--modalSubHeader--X8OcB"},el.createElement(e2.Tx,{id:"org_self_serve.modals.true_up_edu.what_to_expect_at_true_up"})),el.createElement("div",{className:cF},el.createElement(e2.Tx,{id:"org_self_serve.modals.true_up_edu.true_up_explanation.seat_rename",seeFullDetails:el.createElement("a",{href:"https://help.figma.com/hc/articles/360040328293",target:"_blank"},el.createElement(e2.Tx,{id:"org_self_serve.modals.true_up_edu.see_full_details"}))}))))}let cG=(0,rr.Ju)(function(e){var t;let a=e.isProTeam?oZ.kH.exclude([oX.PE]):oZ.kH,[r,n]=(0,el.useState)(a.dict(t=>{var a;return(null==(a=e.seatDataByLicenseType[t])?void 0:a.currentSeats)||0})),[l,i]=(0,el.useState)(null),s=e=>{let t=r[e];void 0!==t&&t<99&&n({...r,[e]:t+1})},o=t=>{let a=e.seatDataByLicenseType[t],l=r[t];null!=a&&null!=l&&l>a.minSeats&&n({...r,[t]:l-1})},c=(e,t)=>{if(""===e.target.value){t(0);return}let a=parseInt(e.target.value);isNaN(a)||t(a)},d=new r$.vr(e.currency),m=(0,ei.d4)(e=>e.payment.billingPeriod),u=((0,co.mF)(m)&&e.isProTeam)??!1,_=(0,co.lA)(r[oX.tL]),p=(()=>{if(u){let e=(0,co.SJ)(r[oX.tL]);return r[oX.tL]-e}return r[oX.tL]})(),g={[oX.vu]:{headerString:(0,e2.t)("all_carts.figma_design_editors.seat_rename"),shouldShowJamboardOffer:!1,totalSeatCount:r[oX.vu],shouldShowDevModeIncludedText:!0},[oX.tL]:{headerString:(0,e2.t)("all_carts.figjam_editors.seat_rename"),shouldShowJamboardOffer:u,totalSeatCount:p,shouldShowDevModeIncludedText:!1},[oX.PE]:{headerString:(0,e2.t)("all_carts.dev_mode_only_seats"),shouldShowJamboardOffer:!1,totalSeatCount:r[oX.PE]??0,shouldShowDevModeIncludedText:!1}};return el.createElement(lD.Eo,{onSubmit:()=>{let t=!1;if(a.forEach(a=>{var n;let l=r[a],s=(null==(n=e.seatDataByLicenseType[a])?void 0:n.minSeats)||0;void 0!==l&&!1===t&&(l<s||l>99)&&(i(a),t=!0)}),t)return;let n=a.reduce((e,t)=>e+(r[t]||0),0);e.minTotalSeats&&n<e.minTotalSeats?i("total"):(e.dispatch(t3.Ce()),e.updateAdditionalSeats(r))},confirmText:(0,e2.t)("all_carts.save"),cancelText:(0,e2.t)("all_carts.cancel"),title:(0,e2.t)("all_carts.add_additional_editors.seat_rename")},el.createElement("div",{className:"org_self_serve_modals--bannerContainer--Rp9x3"},l&&el.createElement("div",{className:"org_self_serve_modals--errorBanner--z5qtW"},el.createElement(eC.B,{className:"org_self_serve_modals--errorSvg--ea54R",svg:cM.A}),el.createElement("div",{className:"org_self_serve_modals--errorBannerText--I5ALS org_self_serve_modals--headerModalText--iULfc"},l===oX.vu&&el.createElement(e2.Tx,{id:"all_carts.you_need_a_minimum_n_design_editors.seat_rename",minSeatsCount:e.seatDataByLicenseType[oX.vu].minSeats}),l===oX.tL&&el.createElement(e2.Tx,{id:"all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",minSeatsCount:e.seatDataByLicenseType[oX.tL].minSeats}),l===oX.PE&&el.createElement(e2.Tx,{id:"all_carts.you_need_a_minimum_n_dev_mode_seats",minSeatsCount:(null==(t=e.seatDataByLicenseType[oX.PE])?void 0:t.minSeats)||0}),"total"===l&&!!e.minTotalSeats&&((0,em.kc)().org_checkout_min_seat_info_copy?el.createElement(e2.Tx,{id:"all_carts.minimum_seats",minTotalSeats:e.minTotalSeats,minDesignSeats:e.seatDataByLicenseType[oX.vu].minSeats,seatsText:el.createElement(e2.Tx,{id:"checkout.seats_text",numOfSeats:e.minTotalSeats}),designSeatsText:el.createElement(e2.Tx,{id:"checkout.seats_text",numOfSeats:e.seatDataByLicenseType[oX.vu].minSeats})}):el.createElement(e2.Tx,{id:"all_carts.you_need_a_minimum_n_editors.seat_rename",minSeatsCount:e.minTotalSeats}))))),a.sort(oZ.AG).map(t=>{let a=g[t],l=e.seatDataByLicenseType[t],i=r[t];return void 0===a||void 0===l||void 0===i?el.createElement(el.Fragment,null):el.createElement("div",{key:t},el.createElement(cB,{height:16}),el.createElement("div",{className:"org_self_serve_modals--headerModalBoldText--TQeXR org_self_serve_modals--headerModalText--iULfc"},a.headerString),a.shouldShowDevModeIncludedText&&el.createElement(el.Fragment,null,el.createElement(cB,{height:4}),el.createElement(cr.G,null)),el.createElement(cB,{height:12}),el.createElement(cu,{"data-testid":t+"-editor_counter",editorType:t,incrementSeats:()=>s(t),decrementSeats:()=>o(t),numEditors:i,minSeatsCount:l.minSeats,headerText:d.formatMoney(a.totalSeatCount*l.seatUnitCostInCents*(e.showAnnualPrice?12:1)),headerSubText:(0,cL.mx)(e.showAnnualPrice,a.totalSeatCount,!0,l.seatUnitCostInCents,e.currency),updateAdditionalSeatsText:e=>c(e,e=>{n({...r,[t]:e})}),shouldShowJamboardOffer:a.shouldShowJamboardOffer}))}),u&&el.createElement("div",null,el.createElement(eT.Kz,{multiple:2}),el.createElement("div",{className:eE.cx.mxAuto.$},el.createElement(cC,{numOfferSeatsRemaining:_}))),el.createElement(cB,{height:18}),el.createElement("div",{className:"org_self_serve_modals--divider--XYAsr"}))},"AdditionalEditorsModal");var c$=((l=c$||{})[l.NONE=0]="NONE",l[l.DESIGN=1]="DESIGN",l[l.WHITEBOARD=2]="WHITEBOARD",l[l.TOTAL=3]="TOTAL",l);function cj({userData:e,checkboxHandler:t}){let[a,r]=(0,el.useState)(0),n=(0,ei.wA)(),l=({rect:e,designChecked:l,...i})=>{if(t(i),i.newVal&&a<3){r(e=>e+1);let t=l?(0,e2.t)("checkout.switch_seat_from_design_to_devmode"):(0,e2.t)("checkout.enabled_devmode");n(cE.eB({target:{kind:aA.Ui.TEXT,text:t},targetRect:{top:e.top,right:e.right+8,bottom:e.bottom,left:e.left+8,width:e.width,height:e.height},textAlign:"left",position:aA.Zj.RIGHT,hideAfterDelay:1e3}))}};return el.createElement(el.Fragment,null,e.map((a,r)=>el.createElement("div",{"data-testid":"user-data-row",key:a.user.id},el.createElement(cH,{rowType:"data"},el.createElement(aa.az,{entity:a.user,includeUserEmailAddress:!0,size:24}),el.createElement(cz,{userInfo:a}),el.createElement(cl.S,{checked:a.designEditor,onChange:e=>{t({userId:a.user.id,type:"designEditor",newVal:e.currentTarget.checked})}}),el.createElement(eT.tB,{checked:a.devMode,className:"org_self_serve_modals--devModeCheckbox--uzoX8",onChange:e=>{l({designChecked:a.designEditor,userId:a.user.id,type:"devMode",newVal:e.currentTarget.checked,rect:e.currentTarget.getBoundingClientRect()})}}),el.createElement(eT.tB,{checked:a.figjamEditor,className:"org_self_serve_modals--figjamCheckbox--UMMiy",onChange:e=>{t({userId:a.user.id,type:"figjamEditor",newVal:e.currentTarget.checked})}})),r!==e.length-1&&el.createElement(cq,null))))}function cH({rowType:e,children:t}){let a="footer"===e?["55%","15%","15%","15%"]:["35%","20%","15%","15%","15%"];return el.createElement(nX.Y,{dataTestId:"seat-table-row",verticalAlignItems:"center",horizontalAlignItems:"start",padding:{top:"data"===e?14:16,right:16,bottom:"data"===e?14:16,left:16},backgroundColor:"header"===e?"hover":"default",spacing:0},t.map((e,t)=>el.createElement(nX.Y,{key:t,width:a[t],horizontalAlignItems:"start",verticalAlignItems:"center",padding:{right:16}},e)))}function cq(){return el.createElement("div",{className:eE.cx.wFull.colorBgTertiary.h1.$})}function cY({teamId:e}){return el.createElement("div",{className:eE.cx.w8.h8.bRadius2.minW8.$,style:cs.sx.add({backgroundColor:(0,cf.$L)(e,cf.us)}).$})}function cz({userInfo:e}){var t;return e.teams.length>1?el.createElement("div",{"data-tooltip-show-immediately":!0,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.ORG_UPGRADE_USER_INFO_EXTENDED,"data-tooltip-team-names":e.teams.map(e=>e.name).join(","),"data-tooltip-team-ids":e.teams.map(e=>e.id).join(","),"data-tooltip-show-right":!0,"data-tooltip-light-mode":!0},el.createElement(oK.E,{color:"default",i18nId:"all_carts.editor_table.multiple_teams"})):el.createElement(nX.Y,{spacing:8,verticalAlignItems:"center",horizontalAlignItems:"start"},el.createElement(cY,{teamId:e.teamIds[0]}),el.createElement("div",{className:eE.cx.noWrap.ellipsis.overflowHidden.$},el.createElement(oK.E,{color:"default"},null==(t=e.teams[0])?void 0:t.name)))}let cK=(0,rr.Ju)(function({users:e,updateSelectedEditors:t,updateAdditionalEmptySeats:a,currency:r,minTotalSeats:n,dispatch:l,seatInfo:i}){let[s,o]=(0,el.useState)(e),[c,d]=(0,el.useState)({design:i.design.additionalSeatCount,figjam:i.figjam.additionalSeatCount,dev_mode:i.dev_mode.additionalSeatCount}),m=(0,el.useMemo)(()=>{let e=0,t=0,a=0;for(let r of Object.values(s))r.designEditor&&e++,r.devMode&&a++,r.figjamEditor&&t++;return(e+=c.design,a+=c.dev_mode,t+=c.figjam,n&&e+t+a<n)?3:e<i.design.minCount||e>99?1:t<i.figjam.minCount||t>99?2:0},[c,s,n,i]),u=e=>{c[e]>=99||d(t=>({...t,[e]:t[e]+1}))},_=e=>{c[e]<=0||d(t=>({...t,[e]:t[e]-1}))},p=(e,t)=>{let a=""===e.target.value?0:parseInt(e.target.value);isNaN(a)||d(e=>({...e,[t]:a}))},g=new r$.vr(r),E=()=>{l(t3.Ce())};return el.createElement(e8.fu,{name:"Select Editors Modal"},el.createElement(rn.Nb,{size:864,maxHeight:672,hide:()=>l(t3.Ce()),className:"org_self_serve_modals--selectEditorsModal--XUq-n"},el.createElement("div",{className:"org_self_serve_modals--selectEditorModalHeader--HPV-W org_self_serve_modals--headerModalText--iULfc"},el.createElement(e2.Tx,{id:"checkout.add_or_remove_editors"}),el.createElement(cg.s_,{customStyle:{position:"initial"},dispatch:l,onClose:E})),el.createElement(cq,null),el.createElement(cH,{rowType:"header"},el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"all_carts.editor_table.Name"}),el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"all_carts.editor_table.Teams"}),el.createElement(nX.Y,{direction:"vertical",spacing:0,horizontalAlignItems:"start",verticalAlignItems:"center"},el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"general.figma_design"}),el.createElement("div",null,el.createElement(oK.E,{color:"handoff",fontWeight:"medium",i18nId:"general.dev_mode"}),"\xa0",el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"checkout.dev_mode_included_text_formatted.included"}))),el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"general.dev_mode"}),el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"general.figjam"})),el.createElement(cq,null),el.createElement(rt.P,{maxHeight:426},el.createElement(cj,{userData:Object.values(s),checkboxHandler:({userId:e,type:t,newVal:a})=>{let r={...s[e],[t]:a};"devMode"===t&&a&&(r.designEditor=!1),"designEditor"===t&&a&&(r.devMode=!1),o(t=>({...t,[e]:r})),(0,a6.Cu)({name:"org_checkout_select_editors_checkbox",licenseType:t,checked:a})}})),el.createElement(cq,null),el.createElement(cH,{rowType:"footer"},el.createElement(nX.Y,{spacing:0,direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center"},el.createElement(oK.E,{color:"default",fontWeight:"medium",i18nId:"all_carts.add_additional_editors.seat_rename"}),el.createElement(oK.E,{fontWeight:"regular",color:"secondary",i18nId:"all_carts.add_additional_editors_description.seat_rename"})),el.createElement(cu,{editorType:oX.vu,incrementSeats:()=>u(oX.lM.DESIGN),decrementSeats:()=>_(oX.lM.DESIGN),numEditors:c.design,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,oX.lM.DESIGN),shouldShowJamboardOffer:!1}),el.createElement(cu,{editorType:oX.PE,incrementSeats:()=>u(oX.lM.DEV_MODE),decrementSeats:()=>_(oX.lM.DEV_MODE),numEditors:c.dev_mode,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,oX.lM.DEV_MODE),shouldShowJamboardOffer:!1}),el.createElement(cu,{editorType:oX.tL,incrementSeats:()=>u(oX.lM.FIGJAM),decrementSeats:()=>_(oX.lM.FIGJAM),numEditors:c.figjam,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,oX.lM.FIGJAM),shouldShowJamboardOffer:!1})),el.createElement("div",{className:"org_self_serve_modals--selectEditorModalActions--BI57u org_self_serve_modals--selectEditorModalFooter--VUEx1"},0!==m?(()=>{switch(m){case 0:default:return;case 1:return el.createElement(oK.E,{color:"danger",i18nId:"all_carts.you_need_a_minimum_n_design_editors.seat_rename",i18nParams:{minSeatsCount:i.design.minCount}});case 2:return el.createElement(oK.E,{color:"danger",i18nId:"all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",i18nParams:{minSeatsCount:i.figjam.minCount}});case 3:return el.createElement(oK.E,{color:"danger",i18nId:"org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",i18nParams:{minCount:n}})}})():el.createElement(oK.E,{fontWeight:"regular",color:"secondary",i18nId:"all_carts.new_total",i18nParams:{total:g.formatMoney(function(e,t,a){let r=new r$.vr(e).getPrices(),n=a.design,l=a.figjam,i=a.dev_mode;for(let e in t)t[e].designEditor?n++:t[e].devMode&&i++,t[e].figjamEditor&&l++;return n*r.orgFigma*12+l*r.orgFigjam*12+i*r.orgDevMode*12}(r,s,c),{showCents:!0})}}),el.createElement("div",{className:"org_self_serve_modals--buttonGroup--7lqAx"},el.createElement(cp.nR,{onClick:E},(0,e2.t)("general.cancel")),el.createElement(eT.$$,{onClick:()=>{0===m&&(a(c),t(s),l(t3.Ce()))},disabled:0!==m},(0,e2.t)("checkout.update_seats"))))))},"SelectEditorsModal"),cJ="org_self_serve_figjam--stepContent--Fcgjx",cQ="org_self_serve_figjam--stepContentTeamCreation--Hnw67",cZ="org_self_serve_figjam--pageTitle--m-QT9",cX="org_self_serve_figjam--subText--PQn0t",c0="org_self_serve_figjam--summaryDivider--M3TXD",c1="org_self_serve_figjam--memberColumn--m3TLh",c2="org_self_serve_figjam--headerText---H57O",c4="org_self_serve_figjam--userRow--gu75I avatar--avatarWithHandle--Z3934",c3="org_self_serve_figjam--userRowTopMargin--di6Xr",c8="org_self_serve_figjam--flex--ZfoO4",c5="org_self_serve_figjam--svgText--eUA7N org_self_serve_figjam--flex--ZfoO4",c6="org_self_serve_figjam--lineItem--9Stcs org_self_serve_figjam--flex--ZfoO4",c9="org_self_serve_figjam--nextStep--H4Pxa",c7="org_self_serve_figjam--helpIcon--7apPo",de="org_self_serve_figjam--reviewItem--LD3wx",dt="org_self_serve_figjam--billingSubText--NGiXQ",da="org_self_serve_figjam--billingItem--2zAGw",dr="org_self_serve_figjam--textLink--kH7Sp org_self_serve_figjam--billingSubText--NGiXQ",dn="org_self_serve_figjam--reviewSubTitle--melz8",dl="org_self_serve_figjam--plusSvg--G8rO4",di="org_self_serve_figjam--purchaseMinimumBanner--vgfES";var ds=a(339290),dc=a(501191);function dd(e){return el.createElement("div",{style:{height:e.height||12}})}function dm(e){var t;let[a,r]=(0,el.useState)(!1),n=el.createRef(),l=()=>{(null==n?void 0:n.current)&&r(n.current.getBoundingClientRect().bottom>window.innerHeight+25)};el.useEffect(()=>(l(),window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}));let i=[...e.teamsToEditors.keys()],s=!!e.newTeamName,o=s?i.length+1:i.length,c=null==(t=i[i.length-1])?void 0:t.id,d=o<=5?"org_self_serve_figjam--teamTileLarge--hh-TM text--fontPos14--OL9Hp text--_fontBase--QdLsd":"org_self_serve_figjam--teamTileSmall--SiwnM org_self_serve_figjam--teamTileLarge--hh-TM text--fontPos14--OL9Hp text--_fontBase--QdLsd",m=e.newTeamName?el.createElement(e2.Tx,{id:"org_self_serve.team_step.team_creation_header"}):el.createElement(e2.Tx,{id:"org_self_serve.team_step.header"}),u=e.newTeamName?el.createElement(e2.Tx,{id:"org_self_serve.team_step.team_creation_teams_shown_description"}):el.createElement(e2.Tx,{id:"org_self_serve.team_step.teams_shown_description"});return el.createElement("div",{className:ey()(cJ,cQ)},el.createElement("div",{className:cZ},m),el.createElement(dd,{height:4}),el.createElement("div",{className:"org_self_serve_figjam--pageSubTitle--umjhu"},u),a&&el.createElement("div",{className:"org_self_serve_figjam--showMoreContainer--Pr-V- visual_bell--messageContainer--fkhJH _overlayBase--_overlayBase--Rkj8l text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L"},el.createElement("div",{className:"org_self_serve_figjam--showMoreMessage--dHOT9 visual_bell--message--lQw67 visual_bell--messageBase--Dg3ya ellipsis--ellipsis--Tjyfa"},el.createElement(e2.Tx,{id:"org_self_serve.team_step.more_teams"})," \u2193")),el.createElement("div",{className:o<=5?"org_self_serve_figjam--teamLargeTileContainer--K3Uwf":"org_self_serve_figjam--teamSmallTileContainer--MiVmD org_self_serve_figjam--teamLargeTileContainer--K3Uwf"},s&&el.createElement(du,{name:e.newTeamName||"",editors:0,team:null,checked:null!=e.newTeamName,tileClassName:d,tabIndex:0,disabled:!0}),i.map((t,a)=>el.createElement(du,{name:t.name,key:t.id,editors:e.teamsToEditors.get(t)||0,team:t,checked:e.selectedTeamIds.has(t.id),onClick:()=>e.onToggle(t.id),tileClassName:d,tabIndex:s?a+1:a,lastTeamRef:t.id===c?n:null}))))}function du(e){var t;return null===e.team&&(0,eh.vA)(0===e.editors),el.createElement("div",{onClick:e.onClick,key:(null==(t=e.team)?void 0:t.id)||e.name,className:e.tileClassName,role:"checkbox","aria-checked":e.checked,tabIndex:e.tabIndex,"aria-disabled":e.disabled},el.createElement("div",{className:c5,ref:e.lastTeamRef},el.createElement(aa.CH,{entity:e.team||{name:e.name},size:oq.Pf.LARGE}),el.createElement("div",{className:"org_self_serve_figjam--teamText--kwOga"},el.createElement("div",{className:"org_self_serve_figjam--teamName--RL-3Y text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.name),el.createElement("div",{className:"org_self_serve_figjam--teamEditors--l10hE text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},el.createElement(e2.Tx,{id:"org_self_serve.team_step.editor.seat_rename",editorCount:e.editors})))),el.createElement("label",null,el.createElement(cl.S,{checked:e.checked,disabled:e.disabled})))}function d_(e){return el.createElement("div",{className:ey()(cJ,cQ)},el.createElement("div",{className:cZ},el.createElement(e2.Tx,{id:"org_self_serve.details_step.tell_us_about_your_organization"})),el.createElement("div",{className:"org_self_serve_figjam--detailsForm---syBr stripe--stripeCardAndAddress--b42eG org_self_serve_figjam--paymentForm--ohf1-"},!e.canSeeBillingAddressExp&&el.createElement(eT.Lf,{htmlName:"actor_name",label:(0,e2.t)("org_self_serve.details_step.your_full_name"),value:e.orgDetails.actorName,onChange:e.onChangeFormInput}),!e.canSeeBillingAddressExp&&el.createElement(eT.Lf,{htmlName:"actor_email",label:(0,e2.t)("org_self_serve.details_step.email_address"),value:e.orgDetails.actorEmail||"",disabled:!0,onChange:eu.lQ}),el.createElement(eT.Lf,{htmlName:"legal_org_name",label:(0,e2.t)("org_self_serve.details_step.legal_company_name"),value:e.orgDetails.legalOrgName,onChange:e.onChangeFormInput}),el.createElement(eT.Lf,{htmlName:"org_name",label:(0,e2.t)("org_self_serve.details_step.company_display_name"),placeholder:e.canSeeBillingAddressExp?(0,e2.t)("org_self_serve.details_step.company_display_name__different_from_company_name_sub_text"):(0,e2.t)("org_self_serve.details_step.company_display_name_sub_text"),value:e.orgDetails.orgName,onChange:e.onChangeFormInput}),e.canSeeBillingAddressExp&&el.createElement(eT.Lf,{htmlName:"actor_email",label:(0,e2.t)("org_self_serve.details_step.email_address"),value:e.orgDetails.actorEmail||"",disabled:!0,onChange:eu.lQ})))}function dp(e){let[t,a]=(0,el.useState)(!1),[r,n]=(0,el.useState)(!1),l=new r$.vr(e.currency);return el.createElement(rt.P,{className:ey()(cJ,cQ),hideScrollbar:!0},el.createElement("div",{className:cZ},el.createElement(e2.Tx,{id:"org_self_serve.review_step.lets_make_sure_everythings_right"})),el.createElement("div",{className:"org_self_serve_figjam--stepRect--N5ubT org_self_serve_figjam--boxBorder--uN5Ii"},el.createElement("div",{className:"org_self_serve_figjam--reviewSummary--Iz0L4"},(()=>{let t=(0,lS.zN)(e.user.email);return(0,em.kc)().pro_team_business_names?(0,ci.x)({displayName:e.orgName||e.legalOrgName,legalName:e.legalOrgName,variant:"org",domain:t,totalTeams:e.totalTeams,canSeeBillingAddressExp:e.canSeeBillingAddressExp,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,navigateToEditPaymentDetails:e.navigateToEditPaymentDetails}):el.createElement(el.Fragment,null,el.createElement("div",{className:dn},el.createElement(e2.Tx,{id:"org_self_serve.review_step.organization_details"})),el.createElement("div",{className:de},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.company_name"})),el.createElement("div",null,e.legalOrgName)),el.createElement("div",{className:de},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.company_display_name"})),el.createElement("div",null,e.orgName||e.legalOrgName)),el.createElement("div",{className:de},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.domain"})),el.createElement("div",null,t)),e.totalTeams>0&&el.createElement("div",{className:de},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.teams"})),el.createElement("div",null,e.totalTeams)))})()),el.createElement("div",{className:"org_self_serve_figjam--verticalDivider--Qwink"}),el.createElement("div",null,r&&el.createElement(cV,{onClose:()=>n(!1)}),el.createElement("div",{className:"org_self_serve_figjam--billingDetails--B0jaT"},el.createElement("div",{className:dn},el.createElement(e2.Tx,{id:"org_self_serve.review_step.next_quarterly_true_up_on_date",trueUpDate:new Date(e.trueUpDate)})),el.createElement(dd,{height:16}),el.createElement("div",{className:c2},el.createElement(e2.Tx,{id:"org_self_serve.review_step.what_is_a_true_up"})),el.createElement("ul",null,el.createElement("li",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.true_up_description.seat_rename"})),el.createElement("li",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.true_up_description_2.seat_rename"})),el.createElement("li",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.true_up_description_3.seat_rename"})),el.createElement("li",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.true_up_description_4.seat_rename"}))),el.createElement(eT.Ph,{onClick:()=>n(!0),className:dr,trusted:!0},el.createElement(e2.Tx,{id:"org_self_serve.review_step.learn_more_about_true_ups"})),el.createElement(dd,{height:20}),el.createElement("div",{className:c0}),el.createElement(dd,{height:24}),el.createElement("div",{className:dn},el.createElement(e2.Tx,{id:"org_self_serve.review_step.annual_renewal_on_date",renewalDate:new Date(e.renewalDate)})),el.createElement(dd,{height:16}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.annual_renewal_description.seat_rename"})),el.createElement(dd,{height:20}),e.renderBillingItems(),el.createElement("button",{className:`${dr} ${c5}`,onClick:e.showAdditionalEditorsModal},el.createElement(eC.B,{className:dl,svg:dc.A}),el.createElement(e2.Tx,{id:"org_self_serve.review_step.add_additional_editors.seat_rename"})),el.createElement(dd,{height:20}),el.createElement("div",{className:c0}),el.createElement(dd,{height:16}),el.createElement("div",{className:da},el.createElement("div",null,el.createElement("div",{className:c2},el.createElement(e2.Tx,{id:"org_self_serve.review_step.subtotal"}))),el.createElement("div",{className:c2},el.createElement("div",{className:c2,"data-testid":"subtotal-summary-price-section"},l.formatMoney(e.subTotalCents,{showCents:!1})))),el.createElement("div",{className:da},el.createElement("div",null,el.createElement("div",{className:c2},el.createElement(e2.Tx,{id:"org_self_serve.review_step.tax"})),el.createElement("div",{className:dt},el.createElement(e2.Tx,{id:"org_self_serve.review_step.tax_rate",taxRate:e.taxRate}))),el.createElement("div",{className:c2,"data-testid":"tax-summary-price-text"},l.formatMoney(e.taxDueCents,{showCents:!1}))),el.createElement("div",{className:da},el.createElement("div",null,el.createElement("div",{className:"org_self_serve_figjam--boldText--yYGMx org_self_serve_figjam--headerText---H57O"},el.createElement(e2.Tx,{id:"org_self_serve.review_step.total_due_today"})),e.orgPayment.last4&&el.createElement("div",{className:dt},el.createElement(e2.Tx,{id:"org_self_serve.review_step.card_ending_in_last4",last4:e.orgPayment.last4}))),el.createElement("div",{className:dn,"data-testid":"confirm-total-summary-price-text"},l.formatMoney(e.totalCents,{showCents:!1}))),el.createElement(dd,{height:8}),el.createElement("div",{className:c0})),el.createElement(dd,{height:24}),el.createElement("div",{className:"org_self_serve_figjam--confirmPaymentBox--R3qBc"},el.createElement("div",{className:"org_self_serve_figjam--msaCheck--W-n5Y"},el.createElement("input",{type:"checkbox",checked:t,className:"org_self_serve_figjam--teamCheck--KhnGi",onChange:()=>{a(!t)},"data-testid":"msa-checkbox"}),el.createElement("span",null,el.createElement(e2.Tx,{id:"org_self_serve.review_step.i_agree_to_msa_and_renewal_links",msaLink:el.createElement("a",{rel:"noopener noreferrer",className:dr,href:(0,e2.dS)("/ssa"),target:"_blank"},el.createElement(e2.Tx,{id:"org_self_serve.review_step.software_services_agreement"})),renewalLink:el.createElement("a",{rel:"noopener noreferrer",className:dr,href:(0,e2.dS)("/renewal-and-cancellation"),target:"_blank"},el.createElement(e2.Tx,{id:"org_self_serve.review_step.renewal_and_cancellation_terms"}))}))),el.createElement(eT.vd,{className:c9,onClick:e.onSubmit,disabled:!t||e.loading,trackingProperties:e.ctaProperties,dataTestId:"confirm-purchase-button"},el.createElement(e2.Tx,{id:"org_self_serve.review_step.complete_purchase"}))))))}function dg(e){let t=new r$.vr(e.currency);return el.createElement("div",{className:"org_self_serve_figjam--confirmationPage--waE-r"},el.createElement("div",{className:ey()(cJ,cQ)},el.createElement("div",{className:"org_self_serve_figjam--confirmationHeading--kkdEi"},el.createElement(eC.B,{svg:ds.A,className:"org_self_serve_figjam--greenCheck--Ircn0",useOriginalSrcFills_DEPRECATED:!0,autosize:!0,width:"32px",height:"32px"}),el.createElement("div",{className:cZ},el.createElement(e2.Tx,{id:"org_self_serve.confirmation_step.you_re_all_set"}))),el.createElement("div",{className:"org_self_serve_figjam--confirmationBox--yEAyv org_self_serve_figjam--stepRect--N5ubT org_self_serve_figjam--boxBorder--uN5Ii"},el.createElement("div",{className:"org_self_serve_figjam--confirmationPageText--WW-9c text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"org_self_serve.confirmation_step.order_confirmation_message"})),el.createElement(dd,{height:24}),el.createElement("div",{className:c0}),el.createElement(dd,{height:24}),el.createElement("div",{className:"org_self_serve_figjam--flexBox--hjnmD"},el.createElement("div",{className:"org_self_serve_figjam--confirmationCharge--zR2dL org_self_serve_figjam--confirmationPageText--WW-9c text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"org_self_serve.confirmation_step.total_amount_to_be_charged_to_card_ending_in_last4",last4:e.orgPayment.last4}),el.createElement("span",{className:"org_self_serve_figjam--confirmationAmountDue--eZtFY"},t.formatMoney(e.totalCents,{showCents:!1}))),el.createElement(dd,{height:24}),el.createElement("div",{className:c0}),el.createElement(dd,{height:32}),el.createElement("div",{className:"org_self_serve_figjam--confirmationRow--99eHT"},!e.orgMigrated&&el.createElement(el.Fragment,null,el.createElement(t7.kt,null),el.createElement("div",{className:"org_self_serve_figjam--confirmationLoadingText--rrHze org_self_serve_figjam--msaLabelText--J-OnT"},el.createElement(e2.Tx,{id:"org_self_serve.confirmation_step.we_re_setting_up_your_organization"}))),el.createElement(eT.$$,{disabled:!e.orgMigrated,className:"org_self_serve_figjam--confirmationHomeButton--QDKb- text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",onClick:e.onFileBrowserClick,dataTestId:"go-to-file-browser-button"},el.createElement(e2.Tx,{id:"org_self_serve.confirmation_step.go_to_the_file_browser"})))))))}var dE=a(67833),df=a(619031);function dh({users:e,size:t=oq.Pf.MEDIUM,maxShow:a=2}){let r=e.slice(0,a),n=Math.max(e.length-a,0);return el.createElement(nX.Y,{verticalAlignItems:"center",spacing:"-8px",horizontalAlignItems:"start",width:"hug-contents"},r.map((e,a)=>el.createElement(aa.Ro,{className:eE.cx.borderBox.relative.b1.colorBorderBg.$,key:`${e.id}${a}`,entity:e,size:t})),n>0&&el.createElement(df.f,{className:eE.cx.fontSemiBold.colorText.borderBox.relative.b1.colorBorderBg.$,text:`+${n}`,size:t}))}var dv=a(401761);let db={[oX.lM.DESIGN]:el.createElement(oK.E,{i18nId:"checkout.design_with_dev_mode_included",fontSize:13}),[oX.lM.DEV_MODE]:el.createElement(oK.E,{i18nId:"general.dev_mode",fontSize:13}),[oX.lM.FIGJAM]:el.createElement(oK.E,{i18nId:"general.figjam",fontSize:13})},dy={[oX.lM.DESIGN]:dE.y1.DESIGN_AND_DEV_MODE,[oX.lM.DEV_MODE]:dE.y1.DEV_MODE,[oX.lM.FIGJAM]:dE.y1.WHITEBOARD};function dw({type:e,users:t,additionalSeats:a,onClick:r}){let[n,l]=(0,el.useState)(!1);return el.createElement("div",{className:`${eE.cx.b1.colorBorder.bRadius6.wFull.borderBox.$} ${n?eE.cx.colorBgHover.$:""}`,role:"button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:r,tabIndex:0,"data-testid":`seat-summary-card-${e}`},el.createElement(nX.Y,{padding:{top:10,right:16,bottom:10,left:16},direction:"horizontal",verticalAlignItems:"center",horizontalAlignItems:"space-between"},el.createElement(nX.Y,{horizontalAlignItems:"start",verticalAlignItems:"center"},el.createElement(dE.oS,{type:dy[e],size:dE.LE.LARGE}),el.createElement(nX.Y,{direction:"vertical",horizontalAlignItems:"start",padding:{left:4},spacing:0},db[e],el.createElement("div",null,el.createElement(oK.E,{i18nId:"checkout.seats",i18nParams:{numOfSeats:t.length+a},color:"secondary",fontSize:11,fontWeight:"medium"}),a>0&&el.createElement("span",null,"\xa0",el.createElement(oK.E,{i18nId:"checkout.paranthesis",i18nParams:{content:el.createElement(oK.E,{i18nId:"checkout.empty_seats",i18nParams:{numOfEmptySeats:a},color:"secondary",fontSize:11,fontWeight:"medium"})}})),n&&el.createElement("span",null,el.createElement(oK.E,{color:"secondary"},"\xa0\u2022\xa0"),el.createElement(oK.E,{i18nId:"general.edit",fontSize:11,color:"brand",fontWeight:"medium"}))))),el.createElement(dh,{users:t}),a>0&&0===t.length&&el.createElement(eC.B,{svg:dv.A,useOriginalSrcFills_DEPRECATED:!0})))}function dT({additionalDesignSeats:e,additionalDevModeSeats:t,additionalWhiteboardSeats:a,selectedEditors:r,onClick:n}){let l={[oX.lM.DESIGN]:{users:[],additionalSeats:e},[oX.lM.DEV_MODE]:{users:[],additionalSeats:t},[oX.lM.FIGJAM]:{users:[],additionalSeats:a}};for(let e of Object.values(r))e.designEditor?l[oX.lM.DESIGN].users.push(e.user):e.devMode&&l[oX.lM.DEV_MODE].users.push(e.user),e.figjamEditor&&l[oX.lM.FIGJAM].users.push(e.user);return el.createElement(el.Fragment,null,el.createElement(nX.Y,{direction:"vertical",spacing:"12px",height:"hug-contents"},Object.entries(l).map(([e,{users:t,additionalSeats:a}])=>el.createElement(dw,{key:e,type:e,users:t,additionalSeats:a,onClick:()=>{n(),(0,a6.Cu)({name:"org_checkout_seat_summary_card"})}}))),el.createElement("div",{className:eE.cx.mt24.$},el.createElement("button",{"data-testid":"seat-summary-add-seats-cta",className:`${dr} ${c5}`,onClick:()=>{n(),(0,a6.Cu)({name:"org_checkout_add_more_seats"})}},el.createElement(eC.B,{className:dl,svg:dc.A}),el.createElement(oK.E,{i18nId:"checkout.add_additional_seats"}))))}var dx=a(244616),dC=a(860574),dN=a(733982),dk=a(54375);function dS(e,t){let a={};for(let r of e.filter(e=>t.has(e.team.id))){let e=[{users:r.designEditors,propKey:"designEditor"},{users:r.figjamEditors,propKey:"figjamEditor"},{users:[],propKey:"devMode"}],t={};e.forEach(({users:e,propKey:n})=>{for(let l of e){if((0,lS.nD)(l.email))return;a[l.id]||(a[l.id]={user:l,teamIds:[],designEditor:!1,figjamEditor:!1,devMode:!1,teams:[]}),l.id in t||(t[l.id]=new Set),a[l.id][n]=!0,t[l.id].has(r.team.id)||(a[l.id].teamIds.push(r.team.id),a[l.id].teams.push(r.team),t[l.id].add(r.team.id))}})}return a}class dI extends el.Component{constructor(e){var t,a;super(e),this.effectiveStep=()=>{var e;return this.props.step===s0.X1.Initial||this.props.step===s0.X1.ChoosePlan?(null==(e=this.props.newTeamProps)?void 0:e.teamFlowType)===t5.SC.CREATE_AND_UPGRADE?s0.X1.CreateTeam:this.state.eligibleUpgrades.length>0||this.props.newTeamProps?s0.X1.TeamSelect:s0.X1.Details:this.props.step},this.setStep=e=>{this.props.dispatch(aC.$T({view:"orgSelfServe",step:e,orgMigrated:!1,newTeamProps:this.props.newTeamProps,upsellSource:this.props.upsellSource})),this.setState(e=>({payment:{...e.payment,card:null}}))},this.onSubmit=()=>{var e;let t=this.effectiveStep();switch(t){case s0.X1.CreateTeam:(null==(e=this.state.newTeamName)?void 0:e.trim())&&this.setStep(s0.X1.TeamSelect);break;case s0.X1.AddCollaborators:this.setStep(s0.X1.Details);break;case s0.X1.PseudoCreateTeam:this.setStep(s0.X1.TeamSelect);break;case s0.X1.TeamSelect:this.setStep(s0.X1.Details);break;case s0.X1.Details:this.setStep(s0.X1.Payment);break;case s0.X1.Payment:this.onSubmitPaymentAndAddress();break;case s0.X1.Review:this.onSubmitPurchaseOrder();break;case s0.X1.Confirmation:break;default:(0,eh.xb)(t)}},this.ctaProperties=()=>{let e=this.designEditorCount(),t=this.figJamEditorCount(),a={[oX.lM.DESIGN]:this.totalDesignSeatsCount(),[oX.lM.FIGJAM]:this.totalFigJamSeatsCount(),[oX.lM.DEV_MODE]:this.totalDevModeSeatsCount()};return{numEditors:e,numFigJamEditors:t,numMigratedTeams:this.state.selectedTeamIds.size+(this.state.newTeamName?1:0),numTotalDesignSeats:a[oX.lM.DESIGN],totalFigJamSeats:a[oX.lM.FIGJAM],totalDevModeSeats:a[oX.lM.DEV_MODE],proposedSubtotal:oZ.kH.reduce((e,t)=>e+=(a[t]??0)*(ca.UB[t]??0),0)/100,domain:(0,lS.zN)(this.props.user.email),currency:this.state.currency,upsellSource:this.props.upsellSource}},this.renderNextButton=()=>{var e,t;let a;let r=!1,n=this.effectiveStep();switch(n){case s0.X1.CreateTeam:case s0.X1.PseudoCreateTeam:a=(0,e2.t)("org_self_serve.create_team_step.next_select_team"),r=!this.state.newTeamName;return;case s0.X1.AddCollaborators:a=(0,e2.t)("org_self_serve.create_team_step.next_select_team");return;case s0.X1.TeamSelect:a=(0,e2.t)("org_self_serve.details_step.next_organization_details");break;case s0.X1.Details:a=(0,e2.t)("org_self_serve.payment_step.next_payment");let l=null==(e=this.state.orgDetails.legalOrgName)?void 0:e.length,i=null==(t=this.state.orgDetails.actorName)?void 0:t.length;r=this.props.canSeeBillingAddressExp?r||!l||l<1:r||!l||!i||l<1||i<1;break;case s0.X1.Payment:r=r||this.state.apiPending,a=(0,e2.t)("org_self_serve.review_step.next_review");break;case s0.X1.Review:case s0.X1.Confirmation:return null;default:(0,eh.xb)(n)}return el.createElement("div",{className:"org_self_serve_figjam--nextStepContainer--iounX"},el.createElement(eT.vd,{className:c9,disabled:r,onClick:()=>this.onSubmit(),trackingProperties:this.ctaProperties(),dataTestId:"next-step-button"},a))},this.onTeamToggle=e=>{this.state.selectedTeamIds.has(e)?this.setState(t=>(t.selectedTeamIds.delete(e),{selectedTeamIds:t.selectedTeamIds,selectedEditors:dS(this.state.eligibleUpgrades,t.selectedTeamIds)}),()=>this.computeAdditionalDesignSeats()):this.setState(t=>({selectedTeamIds:t.selectedTeamIds.add(e),selectedEditors:dS(this.state.eligibleUpgrades,t.selectedTeamIds.add(e))}),()=>this.computeAdditionalDesignSeats())},this.onCardReady=e=>{let t={...this.state.payment,card:e};this.setState({payment:t})},this.onAddressChange=e=>{let t={...this.state.payment,address:e};this.setState({payment:t})},this.onShippingAddressChange=e=>{this.setState({shippingAddress:e})},this.onNameOnPaymentMethodChange=e=>{this.setState({nameOnPaymentMethod:e.trim()})},this.onClearToken=()=>{let e={...this.state.payment,token:null};this.setState({payment:e})},this.onVatIdChange=e=>{this.setState({vatId:e})},this.onRegionalVatIdChange=e=>{this.setState({regionalVatId:e})},this.onVatValidationFail=e=>{this.setState({apiPending:!1,paymentError:e})},this.onChangeNewTeamName=e=>{this.setState({newTeamName:e.trim()})},this.onChangeOrgDetails=e=>{let t=e.target.name,a=e.target.value;if(!t){e.preventDefault(),console.error("HTMLInputElement is missing name attribute:",e.target);return}let r=this.state.orgDetails;switch(t){case"actor_name":r.actorName=a.trim();break;case"legal_org_name":r.legalOrgName=a.trim();break;case"org_name":r.orgName=a.trim()}this.setState({orgDetails:r})},this.contactSales=()=>{this.props.dispatch((0,t3.to)({type:oY.lk,data:{source:oY.B7.ORG_SELF_SERVE_UPGRADE_MODAL}}))},this.onFileBrowserClick=()=>{(0,em.kc)().ps_benchmark?(this.props.newTeamProps&&(0,o0.Al)(this.props.user.id),ec.Ay.redirect("/files/recent")):(this.props.dispatch(aC.$T({view:"recentFiles"})),this.props.newTeamProps&&(0,o0.Al)(this.props.user.id))},this.updateAdditionalSeats=e=>{this.setState({additionalDesignSeats:e[oX.vu]-this.designEditorCount(),additionalWhiteboardSeats:e[oX.tL]-this.figJamEditorCount(),additionalDevModeSeats:e[oX.PE]?e[oX.PE]-this.devModeEditorCount():0})},this.addEditors=()=>{let e=new r$.vr(this.state.currency).getPrices();this.props.dispatch((0,t3.to)({type:cG,data:{seatDataByLicenseType:{[oX.vu]:{minSeats:Math.max(this.designEditorCount(),ca._h),currentSeats:this.totalDesignSeatsCount(),seatUnitCostInCents:e.orgFigma},[oX.tL]:{minSeats:this.figJamEditorCount(),currentSeats:this.totalFigJamSeatsCount(),seatUnitCostInCents:e.orgFigjam},[oX.PE]:{minSeats:this.devModeEditorCount(),currentSeats:this.totalDevModeSeatsCount(),seatUnitCostInCents:e.orgDevMode}},minTotalSeats:ca.u3,updateAdditionalSeats:this.updateAdditionalSeats,showAnnualPrice:!0,dispatch:this.props.dispatch,currency:this.state.currency}}))},this.updateAdditionalEmptySeats=e=>{this.setState({additionalDesignSeats:e.design,additionalWhiteboardSeats:e.figjam,additionalDevModeSeats:e.dev_mode})},this.selectEditors=()=>{let e=this.state.selectedEditors;for(let t in e)e[t]={...e[t]};this.props.dispatch((0,t3.to)({type:cK,data:{users:e,updateSelectedEditors:this.updateSelectedEditors,updateAdditionalEmptySeats:this.updateAdditionalEmptySeats,dispatch:this.props.dispatch,currency:this.state.currency,minTotalSeats:ca.u3,seatInfo:{design:{minCount:ca._h,additionalSeatCount:this.state.additionalDesignSeats},figjam:{minCount:0,additionalSeatCount:this.state.additionalWhiteboardSeats},dev_mode:{minCount:0,additionalSeatCount:this.state.additionalDevModeSeats}}}}))},this.updateSelectedEditors=e=>{this.setState(t=>({...t,selectedEditors:e}))},this.renderBillingItems=()=>{let e=new r$.vr(this.state.currency),t=e.getPrices(),a={[oX.vu]:{totalSeats:this.totalDesignSeatsCount(),price:t.orgFigma,headerString:this.props.canSeeOrgCheckoutSeatManagement?el.createElement(e2.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor_with_dev_mode_included.seat_rename",totalDesignSeatsCount:this.totalDesignSeatsCount()}):el.createElement(e2.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor.seat_rename",totalDesignSeatsCount:this.totalDesignSeatsCount()}),oldCostBreakdownText:el.createElement(e2.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor_cost.seat_rename",annualMemberCost:e.formatMoney(t.orgFigma,{showCents:!1}),totalDesignSeatsCount:this.totalDesignSeatsCount()}),showDevModeIncludedText:!this.props.canSeeOrgCheckoutSeatManagement},[oX.tL]:{totalSeats:this.totalFigJamSeatsCount(),price:t.orgFigjam,headerString:el.createElement(e2.Tx,{id:"org_self_serve.headers.total_fig_jam_editor_seats_count.seat_rename",totalFigJamEditorSeatsCount:this.totalFigJamSeatsCount()}),oldCostBreakdownText:el.createElement(e2.Tx,{id:"org_self_serve.billing_items.total_figjam_editor_cost.seat_rename",annualMemberCost:e.formatMoney(t.orgFigjam,{showCents:!1}),totalFigJamEditorSeatsCount:this.totalFigJamSeatsCount()})},[oX.PE]:{totalSeats:this.totalDevModeSeatsCount(),price:t.orgDevMode,headerString:el.createElement(e2.Tx,{id:"org_self_serve.billing_items.total_seat_count.dev_mode",totalSeatCount:this.totalDevModeSeatsCount()})}};return el.createElement("div",null,oZ.kH.sort(oZ.AG).map(t=>{let r=a[t];return null==r?el.createElement(el.Fragment,null):el.createElement("div",{key:t},el.createElement("div",{className:c6},el.createElement("div",{className:c2},r.headerString),el.createElement("div",{className:c2},e.formatMoney(r.price*r.totalSeats*12,{showCents:!1}))),r.showDevModeIncludedText&&el.createElement(el.Fragment,null,el.createElement(dA,{height:1}),el.createElement(cr.G,null),el.createElement(dA,{height:2})),el.createElement("div",{className:cX},el.createElement(e2.Tx,{id:"org_self_serve.billing_items.total_seat_cost_for_product",annualMemberCost:e.formatMoney(r.price,{showCents:!1}),seatCount:r.totalSeats})),el.createElement(dA,{height:16}))}))},this.renderEditorsToUpgrade=(e,t)=>{let a=Object.keys(e).length,r=t-a;return t>0?el.createElement(el.Fragment,null,el.createElement("div",null,this.renderUpgradeUserList(e)),r>0&&el.createElement("div",{className:ey()(c4,a>0&&c3)},el.createElement(eC.B,{svg:dC.A}),el.createElement("div",{className:"org_self_serve_figjam--emptySeat--SpQ7o"},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.num_empty_seats",numEmptySeats:r})))):el.createElement("div",{className:cX},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.none"}))},this.renderPurchaseSummary=()=>{let{designEditors:e,figjamEditors:t,devModeEditors:a}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors),r=(0,r$._Z)(),n=Object.keys(e).length,l=n+Object.keys(t).length+Object.keys(a).length,i=l<ca.u3,s=!i&&n<ca._h&&(0,em.kc)().org_checkout_min_seat_info_copy,o=this.totalDesignSeatsCount(),c=this.totalFigJamSeatsCount(),d=this.getSubtotal(this.state.currency),m=(0,o1.Hw)(this.props.user)?(0,em.kc)().org_checkout_min_seat_info_copy?el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.added_empty_seats",minCount:ca.u3}),"\xa0",el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.empty_seats_included",numOfSeats:l,numOfEmptySeats:ca.u3-l,seatsText:el.createElement(e2.Tx,{id:"checkout.seats_text",numOfSeats:l})})):el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.the_organization_plan_requires_seats_added_empty_seats.seat_rename",minCount:ca.u3}):el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",minCount:ca.u3}),u=el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.added_empty_design_seats",minCount:ca._h}),"\xa0",el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.empty_design_seats_included",numOfEmptySeats:ca._h-n})),_=new r$.vr(this.state.currency);return el.createElement("div",{className:"org_self_serve_figjam--purchaseSummary--g-xXE"},el.createElement("div",null,i&&el.createElement("div",{className:`${di} ${c5}`},el.createElement(eC.B,{className:c7,svg:dk.A}),m),s&&el.createElement("div",{className:`${di} ${c5}`},el.createElement(eC.B,{className:c7,svg:dk.A}),u),el.createElement(rt.P,{className:"org_self_serve_figjam--sidebarScrollContainer--yFAcP",scrollingDisabled:!1},el.createElement("div",null,el.createElement("div",{className:"org_self_serve_figjam--summaryHeader--cMGp-"},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.organization_plan"})),el.createElement("div",{className:cX},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.domain",domain:(0,lS.zN)(this.props.user.email)})),el.createElement(dA,{height:16})),this.props.canSeeOrgCheckoutSeatManagement?el.createElement(el.Fragment,null,el.createElement(dA,{height:8}),el.createElement(dT,{selectedEditors:this.state.selectedEditors,additionalDesignSeats:this.state.additionalDesignSeats,additionalWhiteboardSeats:this.state.additionalWhiteboardSeats,additionalDevModeSeats:this.state.additionalDevModeSeats,onClick:this.selectEditors})):el.createElement("div",{className:c8},el.createElement("div",{className:c1},el.createElement("div",{className:c2},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.figma_design_editors.seat_rename"})),el.createElement(dA,{height:o>0?16:20}),this.renderEditorsToUpgrade(e,o)),el.createElement("div",{className:c1},el.createElement("div",{className:c2},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.fig_jam_editors.seat_rename"})),el.createElement(dA,{height:c>0?16:20}),this.renderEditorsToUpgrade(t,c))),el.createElement(dA,{height:20})),el.createElement("div",null,el.createElement("div",{className:c0}),r&&el.createElement(el.Fragment,null,el.createElement(dA,{height:16}),el.createElement("div",{className:c6},el.createElement("div",{className:"org_self_serve_figjam--currencyText--caJ-j org_self_serve_figjam--boldText--yYGMx org_self_serve_figjam--headerText---H57O"},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.currency_text"})),el.createElement(cn.D,{currency:this.state.currency,dropdownShown:this.props.dropdownShown,supportedCurrencies:(0,r$.B9)(),changeCurrency:e=>{this.props.dispatch(oa.MN({currency:e})),this.setState({currency:e})},shortFormDisplay:!0,paddingOverride:0})),el.createElement(dA,{height:20}),el.createElement("div",{className:c0})),this.state.paymentError&&this.effectiveStep()===s0.X1.Payment&&el.createElement(el.Fragment,null,el.createElement(oH._,{color:oH.S.INFORMATION,text:this.state.paymentError})),el.createElement(dA,{height:16}),this.renderBillingItems(),!this.props.canSeeOrgCheckoutSeatManagement&&el.createElement(el.Fragment,null,el.createElement(dA,{height:20}),el.createElement("button",{className:`${dr} ${c5}`,onClick:this.addEditors},el.createElement(eC.B,{className:dl,svg:dc.A}),el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.add_additional_editors.seat_rename"}),el.createElement("span",null)),el.createElement(dA,{height:20})),el.createElement("div",{className:c0}),el.createElement(dA,{height:24}),el.createElement(oJ,{formattedSubtotal:_.formatMoney(d,{showCents:!1})}),el.createElement(dA,{height:24}),this.renderNextButton(),el.createElement(dA,{height:24}))),el.createElement("div",null,el.createElement("div",{className:"org_self_serve_figjam--summaryDividerFull--KrO-d org_self_serve_figjam--summaryDivider--M3TXD"}),el.createElement(dA,{height:16}),el.createElement("div",{className:c5},el.createElement(eC.B,{svg:dN.A,className:c7}),el.createElement("span",null,el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.have_questions",contactSales:el.createElement("span",{className:dr,onClick:this.contactSales},el.createElement(e2.Tx,{id:"org_self_serve.purchase_summary.contact_our_sales_team"}))}))),el.createElement(dA,{height:16})))},this.state={loading:!0,eligibleUpgrades:[],selectedEditors:{},initialEditors:{},selectedTeamIds:new Set,payment:{card:null,last4:null,address:(0,s1.EB)((0,r$.aE)())},apiPending:!1,stripeCustomerId:null,taxRate:0,orgDetails:{actorName:"",actorEmail:this.props.user.email,legalOrgName:"",orgName:""},paymentError:null,additionalDesignSeats:0,additionalWhiteboardSeats:0,additionalDevModeSeats:0,currency:this.props.currency,shippingAddress:(0,s1.EB)((0,r$.aE)()),nameOnPaymentMethod:"",vatId:null,regionalVatId:null,newTeamName:(null==(t=this.props.newTeamProps)?void 0:t.newTeamName)||null,inviteEmails:(null==(a=this.props.newTeamProps)?void 0:a.inviteEmails)||[]}}componentDidMount(){this.fetchTeamEligibleUpgradesFigjam()}fetchTeamEligibleUpgradesFigjam(){return o3.Eh.getEligibleUpgradesFigjam().catch(e=>{let t=e.data.message;return this.props.dispatch(aC.$T({view:"recentFiles"})),this.props.dispatch(ae.s.error(t||(0,e2.t)("org_self_serve.confirmation_step.sorry_there_was_an_error_processing_your_request_refresh_and_try_again"))),this.setState({loading:!1}),Promise.reject()}).then(({data:e})=>{let t=e.meta.eligible_upgrades,a=new Set(t.map(e=>e.team.id)),r=dS(t,a);this.setState({loading:!1,eligibleUpgrades:t,selectedTeamIds:a,selectedEditors:r,initialEditors:r},()=>this.computeAdditionalDesignSeats())})}componentDidUpdate(e,t){(0,lS.zN)(e.user.email)!==(0,lS.zN)(this.props.user.email)&&ec.Ay.redirect("/purchase-organization")}computeAdditionalDesignSeats(){this.setState(e=>({additionalDesignSeats:Math.max(e.additionalDesignSeats,ca._h-this.designEditorCount(),ca.u3-this.props.initialDesignSeats-this.designEditorCount()-this.totalFigJamSeatsCount()-this.totalDevModeSeatsCount())}))}designEditorCount(){let{designEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}figJamEditorCount(){let{figjamEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}devModeEditorCount(){let{devModeEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}totalDesignSeatsCount(){let e=this.state.additionalDesignSeats+this.designEditorCount(),t=ca.u3-e;return(t-=this.totalFigJamSeatsCount()+this.totalDevModeSeatsCount())>0?e+t:e}totalFigJamSeatsCount(){return this.state.additionalWhiteboardSeats+this.figJamEditorCount()}totalDevModeSeatsCount(){return this.state.additionalDevModeSeats+this.devModeEditorCount()}getSubtotal(e){let t=new r$.vr(e).getPrices(),a={[oX.vu]:this.totalDesignSeatsCount()*t.orgFigma*12,[oX.tL]:this.totalFigJamSeatsCount()*t.orgFigjam*12,[oX.PE]:this.totalDevModeSeatsCount()*t.orgDevMode*12},r=0;return oZ.kH.forEach(e=>{r+=a[e]??0}),r}async onSubmitPaymentAndAddress(){let e=this.state.payment.address,t=this.state.payment.card,a=this.state.vatId,r=this.state.regionalVatId;if(null===t){this.setState({paymentError:(0,e2.t)("org_self_serve.payment_step.sorry_please_wait")});return}if(this.setState({apiPending:!0}),a&&!await (0,o8.V)(a,e.country,()=>{},this.onVatValidationFail))return;if(this.props.canSeeBillingAddressExp&&!this.state.nameOnPaymentMethod){let e=(0,e2.t)("org_self_serve.payment_step.name_on_payment_method_is_required");this.setState({apiPending:!1,paymentError:e});return}if(r&&!await (0,o8.V)(r,e.country,()=>{},this.onVatValidationFail,e.region))return;let n=this.props.canSeeBillingAddressExp?{name:this.state.nameOnPaymentMethod,address_line1:e.line1,address_line2:e.line2,address_country:e.country,address_city:e.city,address_state:e.region,address_zip:e.postal_code}:void 0;(0,o4.Ey)(t,n).then(t=>{var a;if(!t.error&&t.token)return(0,o4.To)(t.token.id,this.getSubtotal(this.state.currency),this.state.currency).then(t=>this.props.canSeeBillingAddressExp?td.Ay.post("/api/orgs/validate_payment",{payment_method:t.payment_method,billing_address:e,shipping_address:(0,s1.$V)(this.state.shippingAddress)?e:this.state.shippingAddress,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null}):td.Ay.post("/api/orgs/validate_payment",{payment_method:t.payment_method,address:e,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null})).catch(e=>{var t;return this.setState({apiPending:!1,paymentError:(null==(t=e.data)?void 0:t.message)||e.message}),Promise.reject()}).then(({data:e})=>{this.setState(a=>{var r,n;return{payment:{...a.payment,last4:(null==(n=null==(r=t.token)?void 0:r.card)?void 0:n.last4)||null},stripeCustomerId:e.meta.stripe_customer_id,taxRate:e.meta.tax_percent,apiPending:!1}},()=>this.setStep(s0.X1.Review))});{let e=(null==(a=t.error)?void 0:a.message)||(0,e2.t)("org_self_serve.payment_step.there_was_an_error_processing_your_payment_please_try_again");this.setState({apiPending:!1,paymentError:e})}})}getEditorStatusChanges(){if(!this.props.canSeeOrgCheckoutSeatManagement)return;let e={upgrade:{[lm.G_.DESIGN]:[],[lm.G_.WHITEBOARD]:[],[lm.G_.DEV_MODE]:[]},downgrade:{[lm.G_.DESIGN]:[],[lm.G_.WHITEBOARD]:[],[lm.G_.DEV_MODE]:[]}},{selectedEditors:t,initialEditors:a}=this.state;for(let r in t){let n=t[r];if(r in a){let t=a[r];n.designEditor?t.designEditor||e.upgrade[lm.G_.DESIGN].push(r):(t.designEditor&&e.downgrade[lm.G_.DESIGN].push(r),n.devMode&&e.upgrade[lm.G_.DEV_MODE].push(r)),n.figjamEditor!==t.figjamEditor&&(n.figjamEditor?e.upgrade[lm.G_.WHITEBOARD].push(r):e.downgrade[lm.G_.WHITEBOARD].push(r))}else n.designEditor?e.upgrade[lm.G_.DESIGN].push(r):n.devMode&&e.upgrade[lm.G_.DEV_MODE].push(r),n.figjamEditor&&e.upgrade[lm.G_.WHITEBOARD].push(r)}for(let r in a)if(!(r in t)){let t=a[r];t.designEditor&&e.downgrade[lm.G_.DESIGN].push(r),t.figjamEditor&&e.downgrade[lm.G_.WHITEBOARD].push(r)}return e}onSubmitPurchaseOrder(){this.props.dispatch(r7.b({completed_org_cart_flow:!0}));let e=this.getEditorStatusChanges(),t={legal_org_name:this.state.orgDetails.legalOrgName,org_name:this.state.orgDetails.orgName||this.state.orgDetails.legalOrgName,team_ids:Array.from(this.state.selectedTeamIds),requested_seats:{design:this.totalDesignSeatsCount(),figjam:this.totalFigJamSeatsCount(),dev_mode:this.totalDevModeSeatsCount()},editor_status_changes:this.props.canSeeOrgCheckoutSeatManagement?e:void 0,stripe_customer_id:this.state.stripeCustomerId,selected_currency:this.state.currency,vat_gst_id:this.state.vatId||null,regional_vat_gst_id:this.state.regionalVatId||null};this.state.newTeamName&&(t={...t,new_team_options:{team_name:this.state.newTeamName,add_to_org:!0}}),t.design_editors=this.totalDesignSeatsCount(),t.whiteboard_editors=this.totalFigJamSeatsCount(),this.setState({apiPending:!0}),td.Ay.post("/api/orgs",t).catch(e=>{var t,a;return this.props.dispatch(ae.s.error((0,e2.Jv)(e,(null==(t=e.data)?void 0:t.message)||(0,e2.t)("org_self_serve.review_step.sorry_there_was_an_error_please_try_again")))),(0,iA.$D)(o$.e.BILLING,Error(`[Billing] Org checkout API failed: ${null==(a=e.data)?void 0:a.message}`),{extra:{numDesignEditors:this.totalDesignSeatsCount(),numWhiteboardEditors:this.totalFigJamSeatsCount(),numDevModeSeats:this.totalDevModeSeatsCount(),eligibleUpgrades:JSON.stringify(this.state.eligibleUpgrades.map(e=>({team:e.team.id,figjamEditors:e.figjamEditors.map(e=>e.id),designEditors:e.designEditors.map(e=>e.id)}))),selectedEditors:JSON.stringify(Object.keys(this.state.selectedEditors).map(e=>({userId:e,teamIds:this.state.selectedEditors[e].teamIds}))),selectedTeamIds:JSON.stringify([...this.state.selectedTeamIds]),userId:this.props.user.id}}),this.setState({apiPending:!1}),Promise.reject()}).then(e=>{this.setState({apiPending:!1},()=>this.setStep(s0.X1.Confirmation)),this.state.inviteEmails.length&&e.data.meta.new_team&&this.props.dispatch((0,ol.rq)({emails:this.state.inviteEmails,resourceType:lm.vt.TEAM,resourceIdOrKey:e.data.meta.new_team.id,level:oi.e6.EDITOR})),this.state.newTeamName&&e.data.meta.new_team&&(0,o0.Al)(this.props.user.id),(0,e7.sx)("Self Serve Org Purchased (GTM)"),(0,a6.uE)("Self Serve Org Purchased",{user:this.props.user},{org_name:t.org_name,upsellSource:this.props.upsellSource})})}getUpgradesByEditorType(e,t,a){let r={},n={},l={};for(let[e,i]of Object.entries(a)){if(!i.teamIds.some(e=>t.has(e))){delete this.state.selectedEditors[e];continue}i.designEditor&&(r[e]=i),i.figjamEditor&&(n[e]=i),i.devMode&&(l[e]=i)}return e.filter(e=>t.has(e.team.id)).forEach(e=>{e.designEditors.forEach(t=>{var n;!(0,lS.nD)(t.email)&&(null==(n=a[t.id])?void 0:n.designEditor)&&(r[t.id]||(r[t.id]={user:t,teamIds:[]}),r[t.id].teamIds.includes(e.team.id)||r[t.id].teamIds.push(e.team.id))}),e.figjamEditors.forEach(t=>{var r;!(0,lS.nD)(t.email)&&(null==(r=a[t.id])?void 0:r.figjamEditor)&&(n[t.id]||(n[t.id]={user:t,teamIds:[]}),n[t.id].teamIds.includes(e.team.id)||n[t.id].teamIds.push(e.team.id))})}),{designEditors:r,devModeEditors:l,figjamEditors:n}}renderUpgradeUserList(e){return Object.keys(e).map(t=>{let a=e[t],r=a.user,n=a.teamIds.map(e=>this.state.eligibleUpgrades.find(t=>t.team.id===e).team.name),l=(0,lS.zN)(r.email)!==(0,lS.zN)(this.props.user.email),i=`userlist-handle-${r.id}`;return el.createElement("div",{className:ey()(c4,c3),key:t,"data-tooltip-proxy-element-id":i},el.createElement(oq.H8,{user:r}),el.createElement("div",{className:dx.pq},el.createElement("div",{className:dx.PZ},el.createElement("span",{className:dx.p$,id:i,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.ORG_UPGRADE_USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-team-names":n.join(", "),"data-tooltip-timeout-delay":50},r.name),l&&el.createElement("div",{"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.ORG_GUEST_INFO,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-max-width":250},el.createElement(oj.Ex,{color:oj.zE.DEFAULT,subtle:!0,text:(0,e2.t)("org_self_serve.purchase_summary.guest")})))))})}render(){let e;let t=this.effectiveStep();if(this.state.loading&&!this.props.newTeamProps)return el.createElement(t7.kt,null);let a=new Date().getMonth(),r=new Date().setMonth(a+3),n=new Date().setMonth(a+12),l=this.getSubtotal(this.state.currency),i=l*this.state.taxRate/100,s=l+i,o=this.state.eligibleUpgrades.length>0,c=new Map;this.state.eligibleUpgrades.forEach(e=>c.set(e.team,e.designEditors.length+e.figjamEditors.length));let d=e=>{var t,a;this.props.dispatch(aC.$T({teamId:null,...null==(t=this.props.newTeamProps)?void 0:t.previousView,view:"teamUpgrade",paymentStep:e,teamFlowType:(null==(a=this.props.newTeamProps)?void 0:a.teamFlowType)||t5.SC.CREATE_AND_UPGRADE}))};return e=t===s0.X1.Review?el.createElement(el.Fragment,null,el.createElement(dL,{currentStep:this.props.step,setStep:this.setStep,hasEligibleUpgrades:this.state.eligibleUpgrades.length>0,onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:d}),el.createElement(dp,{onSubmit:this.onSubmit,orgPayment:this.state.payment,renewalDate:n,subTotalCents:l,taxDueCents:i,taxRate:this.state.taxRate,totalCents:s,totalSeats:{[oX.vu]:this.totalDesignSeatsCount(),[oX.tL]:this.totalFigJamSeatsCount(),[oX.PE]:this.totalDevModeSeatsCount()},showAdditionalEditorsModal:this.addEditors,trueUpDate:r,totalTeams:this.state.selectedTeamIds.size+(this.state.newTeamName?1:0),legalOrgName:this.state.orgDetails.legalOrgName,orgName:this.state.orgDetails.orgName,user:this.props.user,loading:this.state.apiPending,renderBillingItems:this.renderBillingItems,ctaProperties:this.ctaProperties(),currency:this.state.currency,canSeeBillingAddressExp:this.props.canSeeBillingAddressExp,billingAddress:this.state.payment.address,shippingAddress:this.state.shippingAddress,navigateToEditPaymentDetails:()=>this.setStep(s0.X1.Payment)})):t===s0.X1.Confirmation?el.createElement(dg,{totalCents:s,trueUpDate:r,orgMigrated:this.props.orgMigrated,onFileBrowserClick:this.onFileBrowserClick,orgPayment:this.state.payment,currency:this.state.currency}):el.createElement(el.Fragment,null,this.props.isOrgAdmin&&el.createElement(cW,{onContactSales:this.contactSales,onFileBrowserClick:this.onFileBrowserClick}),(0,lS.qe)(this.props.user.email)&&el.createElement(cU,{onFileBrowserClick:this.onFileBrowserClick}),el.createElement(dL,{currentStep:this.props.step,setStep:this.setStep,hasEligibleUpgrades:o,onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:d}),el.createElement("div",{className:"org_self_serve_figjam--stepContainer--0lJIg"},t===s0.X1.CreateTeam&&el.createElement("div",{className:"org_self_serve_figjam--createTeamContainer--dzlfO"},el.createElement(ce,{type:o7.ORG,teamName:this.state.newTeamName||"",setTeamName:this.onChangeNewTeamName,onNext:this.onSubmit})),t===s0.X1.TeamSelect&&(this.state.loading?el.createElement(t7.kt,null):el.createElement(dm,{teamsToEditors:c,selectedTeamIds:this.state.selectedTeamIds,onToggle:this.onTeamToggle,newTeamName:this.state.newTeamName})),t===s0.X1.Details&&(this.state.loading?el.createElement(t7.kt,null):el.createElement(d_,{orgDetails:this.state.orgDetails,onChangeFormInput:this.onChangeOrgDetails,canSeeBillingAddressExp:this.props.canSeeBillingAddressExp})),t===s0.X1.Payment&&el.createElement(rt.P,{className:ey()(cJ,cQ),hideScrollbar:!0},el.createElement("div",{className:cZ},el.createElement(e2.Tx,{id:"org_self_serve.payment_step.enter_your_payment_details"})),el.createElement("form",{className:"org_self_serve_figjam--paymentForm--ohf1-"},el.createElement(ct.n,{id:"team-upgrade-page-form",cardId:"team-upgrade-page-card",billingAddress:this.state.payment.address,shippingAddress:this.state.shippingAddress,onCardReady:this.onCardReady,onBillingAddressChange:this.onAddressChange,onShippingAddressChange:this.onShippingAddressChange,nameOnPaymentMethod:this.state.nameOnPaymentMethod,setNameOnPaymentMethod:this.onNameOnPaymentMethodChange,onClearToken:this.onClearToken,onVatIdChange:this.onVatIdChange,vatId:this.state.vatId,onRegionalVatIdChange:this.onRegionalVatIdChange,regionalVatId:this.state.regionalVatId,isCommunityCheckout:!1,isCheckoutFlow:!0,canSeeBillingAddressExp:this.props.canSeeBillingAddressExp}))),t!==s0.X1.CreateTeam&&this.renderPurchaseSummary())),el.createElement(e8.fu,{name:t6.e0.ORG_CART,properties:{step:t,currency:this.state.currency,upsellSource:this.props.upsellSource,canSeeOrgCheckoutSeatManagement:this.props.canSeeOrgCheckoutSeatManagement}},el.createElement("div",{className:"org_self_serve_figjam--selfServePage--f3ZqF"},e))}}function dA(e){return el.createElement("div",{style:{height:e.height||12}})}function dL(e){var t;if(e.currentStep===s0.X1.Confirmation)return null;let a=[],r=null;if(e.newTeamProps){let n={step:s0.X1.ChoosePlan,name:(0,e2.t)("org_self_serve.headers.choose_plan")},l={step:s0.X1.CreateTeam,name:(0,e2.t)("org_self_serve.headers.create_team")};switch(null==(t=e.newTeamProps)?void 0:t.teamFlowType){case t5.SC.CREATE:a.push({step:s0.X1.PseudoCreateTeam,name:(0,e2.t)("org_self_serve.headers.create_team")}),a.push({step:s0.X1.AddCollaborators,name:(0,e2.t)("org_self_serve.headers.add_team_members")}),a.push(n);break;case t5.SC.CREATE_AND_UPGRADE:a.push(n),a.push(l),r=s0.X1.CreateTeam;break;case t5.SC.UPGRADE_EXISTING_TEAM:a.push(n)}}(e.hasEligibleUpgrades||e.newTeamProps)&&(a.push({step:s0.X1.TeamSelect,name:(0,e2.t)("org_self_serve.headers.teams_to_upgrade")}),r=r??s0.X1.TeamSelect),a.push({step:s0.X1.Details,name:(0,e2.t)("org_self_serve.headers.organization_details")}),a.push({step:s0.X1.Payment,name:(0,e2.t)("org_self_serve.headers.payment")}),a.push({step:s0.X1.Review,name:(0,e2.t)("org_self_serve.headers.review")}),r=r??s0.X1.Details,a[a.findIndex(e=>e.step===r)].step=s0.X1.Initial;let n=0;for(let t=0;t<a.length;t++)if(a[t].step===e.currentStep){n=t;break}let l=(0,e8.tf)(function(e){return el.createElement("div",{className:"org_self_serve_figjam--cancelMenuItem--Y1wSa",onClick:e.onClick},el.createElement(e2.Tx,{id:"org_self_serve.headers.cancel"}))});return el.createElement("div",{className:"org_self_serve_figjam--menuContainer--LI-CI"},el.createElement(l,{onClick:e.onFileBrowserClick}),el.createElement("div",{className:c8},a.map((t,a)=>el.createElement(os.On,{key:a+1,selected:e.currentStep===t.step,number:a+1,text:t.name,onClick:()=>{let r=function(e){switch(e){case s0.X1.ChoosePlan:return s1.tn.PLAN_COMPARISON;case s0.X1.AddCollaborators:return s1.tn.ADD_COLLABORATORS;case s0.X1.PseudoCreateTeam:return s1.tn.CREATE_TEAM;default:return null}}(t.step);r&&e.onSelectTeamUpgradeStep?e.onSelectTeamUpgradeStep(r):window.history.go(a-n)},canClick:a<n,lightText:!0}))))}dI.displayName="OrgSelfServePage";let dR=(0,ei.Ng)(function(e){return{user:e.user,isOrgAdmin:(0,o2.x9)(e.orgUsersByOrgId.orgUsers,e.user.id).some(e=>e.permission===lm._D.ADMIN),currency:e.payment.currency||(0,r$.LN)()}})(dI);function dO(e){let t=(0,oz.H6)(),a=(0,oz.Mh)();return el.createElement(dR,{...e,canSeeOrgCheckoutSeatManagement:t,canSeeBillingAddressExp:a})}var dD=a(973317),dF=a(964258),dM=a(801387),dP=a(147206),dB=a(268537),dU=a(949207);function dW(e){return{[lm.bU.PUBLIC]:el.createElement(e2.Tx,{id:"org_access_strings.public.description_with_org_name",orgName:e}),[lm.bU.PRIVATE]:el.createElement(e2.Tx,{id:"org_access_strings.closed.description_with_org_name",orgName:e}),[lm.bU.SECRET]:el.createElement(e2.Tx,{id:"org_access_strings.secret.description_with_org_name",disclaimerLabel:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"org_access_strings.secret.description.disclaimer_label"})),orgName:e})}}let dV="team-org-access-dropdown";function dG(e){let t=(0,ei.wA)(),a=e.dropdownShown&&e.dropdownShown.type===dV;return el.createElement("div",{className:"team_org_access_dropdown--orgAccess--GQVKH"},el.createElement("button",{className:"team_org_access_dropdown--select--UzcX4",onClick:e=>{e.stopPropagation(),e.preventDefault(),a?t(aC.oB()):t(aC.j7({type:dV}))}},(0,dP.ZP)()[e.orgAccess],el.createElement(eC.B,{svg:dU.A,className:"team_org_access_dropdown--downCaret--OgdqC"})),a&&el.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--mDs7x"},el.createElement(dB.W.Dropdown,{className:"team_org_access_dropdown--orgAccessDropdown--zzFC-"},el.createElement(dB.W.CheckableOption,{checked:e.orgAccess===lm.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(lm.bU.PUBLIC)}},(0,dP.ZP)()[lm.bU.PUBLIC]),el.createElement(dB.W.CheckableOption,{checked:e.orgAccess===lm.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(lm.bU.PRIVATE)}},(0,dP.ZP)()[lm.bU.PRIVATE]),el.createElement(dB.W.CheckableOption,{checked:e.orgAccess===lm.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(lm.bU.SECRET)}},(0,dP.ZP)()[lm.bU.SECRET]))))}let d$="team_creation--createTeamText--lRErg";function dj({currentTeamId:e,currentUserOrgId:t,user:a,selectedView:r,dropdownShown:n,teamCreation:l}){let i=(0,ei.wA)(),[s,o]=(0,el.useState)(null),[c,d]=(0,el.useState)(lm.bU.PUBLIC),m=(0,ow.FC)(),u=r.ignoreCurrentPlan,_=t&&!u?m.orgById[t]:null,p=!e&&!t,g=(0,el.useRef)(null);(0,el.useEffect)(()=>{if(g.current)for(let e=0;e<g.current.elements.length;e++){let t=g.current.elements[e];if(!t.value){t.focus();break}}t&&!u&&(0,e7.sx)("team_creation_started",{user_id:(null==a?void 0:a.id)??"",org_id:t})},[t,a,u]);let E=e=>{var t;e.preventDefault(),e.stopPropagation(),s?(i((0,dF.KQ)({teamName:s,orgAccess:c,dontRedirect:!!r.onSubmitReturnToPrevView,ignoreCurrentPlan:u})),r.onSubmitReturnToPrevView&&i(aC.$T((null==(t=ec.Ay.location.state)?void 0:t.previousSelectedView)||{view:"recentFiles"}))):i(ae.s.error((0,e2.t)("team_creation.your_team_name_cannot_be_empty")))},f=!(t&&!u)&&!r.onSubmitReturnToPrevView,h=(0,em.kc)().ps_benchmark&&p?null:el.createElement(oc,{onClick:()=>{var e;i(aC.$T((null==(e=ec.Ay.location.state)?void 0:e.previousSelectedView)||{view:"recentFiles"}))}},el.createElement(eC.B,{svg:ou.default,className:"team_creation--modalCloseX---y-4B"}));return el.createElement(e8.fu,{name:"Team Creation"},el.createElement("div",null,el.createElement(od,{menu:h},f&&el.createElement(oo,{index:1}),el.createElement("form",{ref:g,onSubmit:E},el.createElement(os.JR,null,el.createElement(e2.Tx,{id:"team_creation.create_a_team_title"})),el.createElement("div",{className:"team_creation--newTeamContainer--SKOmq team_creation--newTeamContainerBase--wicoE"},el.createElement("div",{className:"team_creation--teamNameContainer--ZaEcO"},el.createElement("div",{className:"team_creation--teamNameLabel--q3Cgy"},el.createElement(e2.Tx,{id:"team_creation.team_name_label"})),el.createElement(eT.il,{value:s||"",onChange:e=>{o(e.target.value)},className:"team_creation--newTeamInput--BdKIV",maxLength:255,placeholder:(0,e2.t)("team_creation.team_name_input_placeholder")})),_?el.createElement("div",{className:"team_creation--orgTeamSettings--UDxNq"},el.createElement("div",{className:eE.cx.flex.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"team_creation.access_within_the_organization"})),el.createElement(dG,{orgAccess:c,dropdownShown:n,onChangeOrgAccess:e=>{d(e)}})),el.createElement("div",{className:d$},dW(_.name)[c])):el.createElement("div",{className:d$},el.createElement(e2.Tx,{id:"team_creation.after_creating_a_team_you_can_invite_others_to_join"})),el.createElement(eT.nD,{className:t?"team_creation--createTeamButtonOrg--tG-GA":"team_creation--createTeamButton--iXsoS",type:"submit",disabled:l.loading,onClick:E},el.createElement(e2.Tx,{id:"team_creation.create_team_button"})))))))}function dH(e){var t,a,r;let n=(0,ei.wA)(),l=e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,i=null==(r=null==(a=null==(t=(0,o2.xw)(e))?void 0:t.workspace_users)?void 0:a.find(e=>e.is_main_workspace))?void 0:r.workspace_id,{cannotCreateTeamReason:s}=(0,dM.l6)(l,i);return(0,dP.R$)(e.user,e.currentUserOrgId)||s===dM.z4.TEAM_CREATION_CONTROL&&!(0,em.kc)().ps_benchmark?(ec.Ay.redirect("/"),n(ae.s.error((0,e2.t)("team_creation.missing_team_creation_controls"))),null):el.createElement(dj,{...e})}var dq=a(181912),dY=a(845213);let dz="team_restore--page--Y6E07",dK="team_restore--section--7Aekp",dJ="team_restore--button--meVA6";function dQ(e){let t,a;let r=(0,ei.wA)(),[n,l]=el.useState(!1);el.useEffect(()=>{l(!0);let t=e.selectedView.teamId;dY.$.getDeleted({teamId:t}).then(({data:e})=>{r(on.bE({team:e.meta})),l(!1)}).catch(e=>{400!==e.status&&(r(aC.$T({view:"recentFiles"})),r(ae.s.error(`${e.data.message}`))),l(!1)})},[r,e.selectedView.teamId]);let i=()=>{r(aC.$T({view:"recentFiles"}))},s=e.selectedView.teamId,o=e.teams[s],c=el.createElement(eT.vd,{className:dJ,onClick:i},el.createElement(e2.Tx,{id:"team_restore.back"}));if(o){if(o.deleted_at){let n=(0,dq.A)(o.deleted_at).add(28,"days").toDate();t=(0,e2.t)("team_restore.confirm_restore_header",{teamName:o.name}),a=el.createElement("div",null,el.createElement(e2.Tx,{id:"team_restore.confirm_restore"}),el.createElement("br",null),el.createElement("br",null),el.createElement(e2.Tx,{id:"team_restore.confirm_restore_deadline",deleteDeadline:n})),c=el.createElement(eT.vd,{className:dJ,onClick:()=>{r(on.I9({teamId:e.selectedView.teamId}))}},el.createElement(e2.Tx,{id:"team_restore.restore"}))}else t=(0,e2.t)("team_restore.ineligible"),a=(0,e2.t)("team_restore.questions_contact_support",{supportEmail:(0,em.W4)()})}else{if(n)return el.createElement("div",{className:dz},el.createElement("div",{className:dK},el.createElement(t7.kt,null)));t=(0,e2.t)("team_restore.expired_header"),a=el.createElement("div",null,el.createElement(e2.Tx,{id:"team_restore.expired"}),el.createElement("br",null),el.createElement("br",null),el.createElement(e2.Tx,{id:"team_restore.questions_contact_support",supportEmail:(0,em.W4)()}))}return el.createElement(e8.fu,{name:"Team Restore",properties:{teamId:s}},el.createElement(od,{menu:el.createElement(eC.B,{svg:ou.default,onClick:i,className:"team_restore--modalCloseX--C821S"})},el.createElement("div",{className:dz},el.createElement("div",{className:dK},el.createElement("div",{className:"team_restore--header--ytriA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),el.createElement("div",{className:"team_restore--text--PhH8s text--fontPos12--YsUAh text--_fontBase--QdLsd"},a),c))))}var dZ=a(358145),dX=a(988261),d0=a(650322),d1=a(843309),d2=a(243987),d4=a(257512),d3=a(707465),d8=a(206193),d5=a(392340),d6=a(162707),d9=a(297666),d7=a(910741),me=a(36816);let mt="564px",ma=(0,d9.s)((e,t)=>t(a0.F.enqueue({message:e}))),mr=(0,ei.Ng)(function(e,t){let a=t.selectedView.teamId?e.teamUserByTeamId[t.selectedView.teamId]||{}:null,r=(0,d2.BR)(a,e.user);return{payment:e.payment,teamUsers:r,team:t.selectedView.teamId?e.teams[t.selectedView.teamId]:null,editorStatusChanges:e.payment.editorStatusChanges}})(function(e){let{editorStatusChanges:t,teamUsers:a}=e,r=e.dispatch,n=e.payment.billingPeriod===s1.tY.STUDENT,{increment:l,decrement:i}=(0,d4.$7)(),[s,o]=(0,el.useState)(!0),c=(0,el.useCallback)((e,a,n)=>{let l=[...t[a][e]];l.splice(n,1),r(oa.Je({editorStatusChanges:{...t,[a]:{...t[a],[e]:l}}}))},[r,t]),d=(e,t,a)=>{switch(e){case lm._Y.WHITEBOARD:switch(t){case"upgrade":return(0,e2.t)("pro_cart.adjust_editors.will_become_figjam_editor.seat_rename",{email:a});case"downgrade":return(0,e2.t)("pro_cart.adjust_editors.will_become_figjam_viewer",{email:a});default:(0,eh.xb)(t)}case lm._Y.DESIGN:case lm._Y.SLIDES:case lm._Y.SITES:switch(t){case"upgrade":return(0,e2.t)("pro_cart.adjust_editors.will_become_design_editor.seat_rename",{email:a});case"downgrade":return(0,e2.t)("pro_cart.adjust_editors.will_become_design_viewer",{email:a});default:(0,eh.xb)(t)}default:(0,eh.xb)(e)}},m=(0,el.useCallback)((e,a)=>()=>{let n;if(o(!1),-1!==(n=t.upgrade[e].indexOf(a.id)))c(e,"upgrade",n),ma(d(e,"downgrade",a.email),r),i(e,a.email);else if(-1!==(n=t.downgrade[e].indexOf(a.id)))c(e,"downgrade",n),ma(d(e,"upgrade",a.email),r),l(e,a.email);else{let n=a["whiteboard"===e?"whiteboard_paid_status":"design_paid_status"]===me.Zf.FULL?"downgrade":"upgrade",s=[...t[n][e]];s.push(a.id),r(oa.Je({editorStatusChanges:{...t,[n]:{...t[n],[e]:s}}})),ma(d(e,n,a.email),r),("upgrade"===n?l:i)(e,a.email)}},[r,t,i,l,c,o]),u=(0,d2.Ky)(e.teamUsers,t,lm._Y.DESIGN),_=(0,d2.Ky)(e.teamUsers,t,lm._Y.WHITEBOARD),p=e.payment.numDesignEditors,g=Math.max(p,u),E=Math.max(_,e.payment.numWhiteboardEditors);g!==p&&r(oa.js({numDesignEditors:g})),E!==e.payment.numWhiteboardEditors&&r(oa.Az({numWhiteboardEditors:E}));let f=(0,d2.O1)(p,u),h=(0,d2.O1)(e.payment.numWhiteboardEditors,_),v=(0,co.mF)(e.payment.billingPeriod),b=v&&_<=co.xr,y=()=>{r(t3.to({type:cG,data:{seatDataByLicenseType:{[oX.vu]:{minSeats:u,currentSeats:g,seatUnitCostInCents:(0,cL.ok)(e.payment.billingPeriod,e.currency)},[oX.tL]:{minSeats:_,currentSeats:E,seatUnitCostInCents:(0,cL.hH)(e.payment.billingPeriod,e.currency)}},showAnnualPrice:e.payment.billingPeriod===s1.tY.ANNUAL,updateAdditionalSeats:e=>{r(oa.js({numDesignEditors:e[oX.vu]})),r(oa.Az({numWhiteboardEditors:e[oX.tL]}))},dispatch:r,currency:e.currency,isProTeam:!0}}))},w=el.useCallback((e,a)=>e["whiteboard"===a?"whiteboard_paid_status":"design_paid_status"]===me.Zf.FULL&&!t.downgrade[a].includes(e.id)||t.upgrade[a].includes(e.id),[t.downgrade,t.upgrade]),T=a.reduce((e,t)=>(e[t.id]={design:w(t,lm._Y.DESIGN),whiteboard:w(t,lm._Y.WHITEBOARD),slides:w(t,lm._Y.SLIDES),sites:w(t,lm._Y.SITES)},e),{}),x=!1,C=0;for(let t of e.teamUsers)if(T[t.id].whiteboard&&C++,T[t.id].design&&C++,x=1===C,C>1)break;let N=new Set(e.teamUsers.filter(e=>T[e.id].whiteboard).map(e=>e.id).slice(0,co.xr)),k=e.teamUsers[0];(0,el.useEffect)(()=>{var a,n,c,d;v&&0===E&&(null==k?void 0:k.id)&&!e.isLoading&&s?(1===C&&w(k,lm._Y.DESIGN)?(r(oa.Je({editorStatusChanges:{downgrade:{...t.downgrade,design:[k.id,...t.downgrade.design]},upgrade:{...t.upgrade,whiteboard:[k.id,...t.upgrade.whiteboard]}}})),l(lm._Y.WHITEBOARD,k.email),i(lm._Y.DESIGN,k.email)):0===C&&(r(oa.Je({editorStatusChanges:{...t,upgrade:{...t.upgrade,whiteboard:[k.id,...t.upgrade.whiteboard]}}})),l(lm._Y.WHITEBOARD,k.email)),o(!1)):0===C&&!e.isLoading&&(null==k?void 0:k.id)&&(r(oa.Je({editorStatusChanges:{...t,upgrade:{design:[k.id,...(null==(a=null==t?void 0:t.upgrade)?void 0:a.design)??[]],whiteboard:[k.id,...(null==(n=null==t?void 0:t.upgrade)?void 0:n.whiteboard)??[]],slides:[k.id,...(null==(c=null==t?void 0:t.upgrade)?void 0:c.slides)??[]],sites:[k.id,...(null==(d=null==t?void 0:t.upgrade)?void 0:d.sites)??[]]}}})),l(lm._Y.DESIGN,k.email),l(lm._Y.WHITEBOARD,k.email))},[r,t,C,e.isLoading,k.id,k.email,l,v,E,w,k,s,i]);let S=(0,co.lA)(E),I=(0,d7.lb)();return el.createElement(el.Fragment,null,el.createElement("div",{className:o6.Fb},I?el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.choose_your_figma_design_and_figjam_editors.seat_rename_dev_mode"}):el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.choose_your_figma_design_and_figjam_editors.seat_rename"})),el.createElement(eT.Kz,{multiple:.5}),el.createElement("div",{className:o6.b0,style:cs.sx.add({width:mt,margin:"auto"}).$},v?el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.subtitle.dont_need_access_to_figma_design"}):el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.subtitle"})),el.createElement(eT.Kz,{multiple:3}),v&&el.createElement("div",{style:cs.sx.add({width:mt,margin:"auto"}).$},el.createElement(cx,{numOfferSeatsRemaining:S}),e.error&&el.createElement(eT.Kz,{multiple:1.5})),e.error&&el.createElement("div",{style:cs.sx.add({width:mt,margin:"auto"}).$},el.createElement(oH._,{color:oH.S.ERROR,text:e.error})),(v||e.error)&&el.createElement(eT.Kz,{multiple:2}),el.createElement("div",{className:o6.sD},el.createElement("div",{className:o6.re},el.createElement(eT.Kz,{multiple:2.5}),el.createElement("div",{className:o6.Ks},el.createElement("div",{className:`${o6.HY} ${o6.ab} ${o6.p7}`},el.createElement("div",{className:o6.Ps},e.team?el.createElement(aa.rE,{key:e.team.id,entity:e.team,size:24}):el.createElement(aa.rE,{key:e.teamName,entity:{name:e.teamName},size:24}))),el.createElement("div",{className:`${o6.HY} ${o6.E0}`},el.createElement("div",null,el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.figma_design_column_title"})),el.createElement(eT.Kz,{multiple:.75}),el.createElement("div",{className:o6.EU},(0,cL.dx)(e.payment.billingPeriod,e.currency)),el.createElement(el.Fragment,null,el.createElement(eT.Kz,{multiple:.75}),el.createElement(cr.G,null))),el.createElement("div",{className:`${o6.HY} ${o6.E0}`},el.createElement("div",null,el.createElement(e2.Tx,{id:"general.figjam"})," "),el.createElement(eT.Kz,{multiple:.75}),b?el.createElement(oj.Ex,{className:eE.cx.mt2.$,color:oj.zE.FIGJAM,text:el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.offer_badge"})}):el.createElement("div",{className:o6.EU},(0,cL.wd)(e.payment.billingPeriod,e.currency)))),el.createElement(eT.Kz,{multiple:2.5})),el.createElement("div",{className:o6.re},e.isLoading&&el.createElement(eT.Kz,{multiple:1.5}),el.createElement(t1.x,{isLoading:e.isLoading},()=>el.createElement(el.Fragment,null,e.teamUsers.map((t,a)=>{let r=a===e.teamUsers.length-1,l=v&&_>co.xr&&N.has(t.id);return el.createElement("div",{key:t.id},el.createElement(eT.Kz,{multiple:1.5}),el.createElement("div",{className:o6.Ks},el.createElement("div",{className:o6.ab},el.createElement(oq.H8,{user:t}),el.createElement("div",{className:o6.QB},el.createElement("div",{className:o6.ni},t.handle),el.createElement("div",{className:o6.W},t.email))),el.createElement("div",{className:o6.E0},el.createElement("span",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":T[t.id].design&&x?v?(0,e2.t)("pro_cart.adjust_editors.to_uncheck_first_check_another"):(0,e2.t)("pro_cart.adjust_editors.at_least_one_editor.seat_rename"):(0,e2.t)("pro_cart.adjust_editors.checkbox_toggle_explanation.seat_rename")},el.createElement(eT.tB,{id:`toggle-design-editor-${t.id}`,checked:T[t.id].design,disabled:n||x&&T[t.id].design,onChange:m(lm._Y.DESIGN,t),className:o6.kv}))),el.createElement("div",{className:o6.E0},el.createElement("span",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":T[t.id].whiteboard&&x?(0,e2.t)("pro_cart.adjust_editors.to_uncheck_first_check_another"):(0,e2.t)("pro_cart.adjust_editors.checkbox_toggle_explanation.seat_rename")},el.createElement(eT.tB,{id:`toggle-whiteboard-editor-${t.id}`,checked:T[t.id].whiteboard,disabled:n||x&&T[t.id].whiteboard,onChange:m(lm._Y.WHITEBOARD,t),className:o6.kv})),l&&el.createElement(oj.Ex,{className:eE.cx.ml10.mr0.$,color:oj.zE.FIGJAM,text:el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.offer_badge"})}))),el.createElement(eT.Kz,{multiple:1.5}),!(n&&r)&&el.createElement("div",{className:o6.pV}))}),!n&&el.createElement(el.Fragment,null,el.createElement(eT.Kz,{multiple:2.5}),el.createElement("div",{className:o6.Su},el.createElement("div",{className:o6.ab},el.createElement("div",{className:o6.uD,onClick:y},el.createElement(eC.B,{className:o6.Hl,svg:dc.A}),el.createElement("span",null,el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.add_additional_editors.seat_rename"})))),el.createElement("div",{className:`${o6.HY} ${o6.E0}`},el.createElement("div",null,el.createElement(e2.Tx,{id:"all_carts.num_editors.seat_rename",numEditors:g})),el.createElement("div",{className:o6.EU},f>0&&el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.empty_seats",numEmptySeats:f}))),el.createElement("div",{className:`${o6.HY} ${o6.E0}`},el.createElement(e2.Tx,{id:"all_carts.num_editors.seat_rename",numEditors:E}),el.createElement("div",{className:o6.EU},h>0&&el.createElement(e2.Tx,{id:"pro_cart.adjust_editors.empty_seats",numEmptySeats:h})))),el.createElement(eT.Kz,{multiple:2.5})))),e.isLoading&&el.createElement(eT.Kz,{multiple:1.5}))))});var mn=a(28959),ml=a(352876);function mi({chooseStarterPlan:e,chooseProPlan:t,chooseOrgPlan:a,currency:r,updateCurrency:n,upgradeExistingTeam:l,parentRef:i}){let s=(0,ei.d4)(e=>e.user),o=(0,oz.WQ)({isInDevMode:!1,isProCurrent:!1,hasFeatureListOverride:!1})&&(0,o1.Hw)(s);return el.createElement("div",{ref:i},el.createElement("div",{className:o6.Fb},el.createElement(e2.Tx,{id:"pro_cart.choose_plan.choose_a_plan_for_your_new_team"})),el.createElement("div",{className:o6.dX},el.createElement(mn.O,{currency:r,chooseStarterPlan:e,chooseProPlan:t,chooseOrgPlan:a,updateCurrency:n,upsellSource:d8.b.CREATE_NEW_PAID_TEAM,withUpgradeExistingTeamOption:l,parentRef:i})),o&&el.createElement(ml.V,null))}var ms=a(848044),mo=a(512077);let mc="416px";function md(e){var t,a;let r=(0,ei.d4)(e=>e.payment),n=(0,co.mF)(r.billingPeriod),l=(0,co.U8)({numWhiteboardEditors:r.numWhiteboardEditors,billingPeriod:r.billingPeriod})>0||r.numDesignEditors>0,i=r.numWhiteboardEditors>0,s=((null==(t=r.taxes)?void 0:t.sub_total)||0)>0,o=n&&i&&!s&&!l,{error:c,errorCode:d}=r,m=!!c&&null===d,u=!!e.error;return el.createElement(el.Fragment,null,el.createElement("div",{className:o6.Fb},el.createElement(e2.Tx,{id:"pro_cart.payment.enter_payment_details_title"})),el.createElement(eT.Kz,{multiple:3}),o&&el.createElement("div",{style:cs.sx.add({width:mc,margin:"auto"}).$},el.createElement(e8.fu,{name:"promo_applied_banner"},el.createElement(oH._,{color:oH.S.FIGJAM,text:el.createElement("div",{className:eE.cx.alignLeft.$},el.createElement("div",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.payment_information_banner_title"})),el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.payment_information_banner_text"}))})),(m||u)&&el.createElement(eT.Kz,{multiple:1.5})),el.createElement("div",{style:cs.sx.add({width:mc,margin:"auto"}).$},m&&el.createElement("div",null,el.createElement(ms.I,{marginTop:0,message:c}),u&&el.createElement(eT.Kz,{multiple:1.5})),(o||m)&&!u&&el.createElement(eT.Kz,{multiple:2}),el.createElement("div",{className:o6.P_},el.createElement("div",{style:cs.sx.if((null==(a=e.error)?void 0:a.code)===d1.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,cs.sx.font14.add({marginTop:"92px"})).$},el.createElement(mo.F,{createPaymentElement:e.createPaymentElement,unmountPaymentElement:e.unmountPaymentElement,billingAddress:e.billingAddress,updateBillingAddress:e.updateBillingAddress,legalCompanyName:e.legalCompanyName,updateLegalCompanyName:e.updateLegalCompanyName,nameOnPaymentMethod:e.nameOnPaymentMethod,updateNameOnPaymentMethod:e.updateNameOnPaymentMethod,shippingAddress:e.shippingAddress,updateShippingAddress:e.updateShippingAddress,error:e.error,vatGstId:e.vatGstId,onVatGstIdChange:e.onVatGstIdChange,regionalVatGstId:e.regionalVatGstId,onRegionalVatGstIdChange:e.onRegionalVatGstIdChange,paymentMethodType:e.paymentMethodType,isCommunityCheckout:!1,canSeeBillingAddressExp:e.canSeeBillingAddressExp,isCheckout:!0})))))}var mm=a(720608),mu=a(773058),m_=a(213100),mp=a(457215),mg=a(476932),mE=a(553015),mf=a(212957);let mh=(0,rr.Ju)(function({teamId:e,trackingProperties:t,hasSecondaryBtn:a=!0}){let r=(0,el.useMemo)(()=>(0,mp.To)(),[]),n=(0,ei.wA)(),l=()=>{n(t3.Ce())},i=a?el.createElement(mE.V,{onClick:()=>{ec.Ay.redirect("/pricing","_blank")}},(0,e2.t)("pro_onboarding.pro_feature_modal.compare_plans")):null;return el.createElement(e8.fu,{name:"Pro Features Modal",properties:t??mf.S.getTrackingProperties(e)},el.createElement(mg.n,{...r,dismissModal:l,clickPrimaryBtn:l,secondaryBtn:i,showPricing:!1,panelTitleSize:mg.I.LARGE,cardsClickable:!0}))},"ProFeaturesModal");var mv=a(132208);let mb=(0,ei.Ng)(e=>({payment:e.payment,user:e.user}))(function(e){let t,a;let r=(0,ei.wA)(),n=(0,oz.Ik)(),l=(0,co.mF)(e.payment.billingPeriod),i=e.payment.numDesignEditors,s=(0,co.PJ)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),o=(0,co.U8)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),c=s>0,d=o>0,m=0===e.payment.numWhiteboardEditors,u=d||m||!l,_=e.payment.billingPeriod===s1.tY.STUDENT,p=new r$.vr(e.currency);if(e.selectedView.paymentStep!==s1.tn.CHOOSE_PLAN&&e.selectedView.paymentStep!==s1.tn.PAYMENT_AND_ADDRESS)return null;let g=e=>{e===s1.tY[s1.tY.ANNUAL]?r(oa.Lo({billingPeriod:s1.tY.ANNUAL})):e===s1.tY[s1.tY.MONTHLY]&&r(oa.Lo({billingPeriod:s1.tY.MONTHLY})),r(oa.js({numDesignEditors:i}))},E=(0,d0.cn)(e.user),f=(0,e2.t)("pro_cart.sidebar.next_payment_information"),h=e3.c.PAYMENT_INFORMATION;(_||e.selectedView.paymentStep===s1.tn.PAYMENT_AND_ADDRESS)&&(f=(0,e2.t)("pro_cart.sidebar.next_review"),h=e3.c.REVIEW);let v=(0,r$._Z)(),b=(0,cL.Qo)(i,e.payment.billingPeriod,e.currency),y=12*(0,cL.Qo)(i,s1.tY.MONTHLY,e.currency),w=(0,cL.ok)(e.payment.billingPeriod,e.currency),T=(0,cL.ok)(s1.tY.MONTHLY,e.currency),x=(0,cL.PK)(o,e.payment.billingPeriod,e.currency),C=12*(0,cL.PK)(o,s1.tY.MONTHLY,e.currency),N=(0,cL.hH)(e.payment.billingPeriod,e.currency),k=(0,cL.hH)(s1.tY.MONTHLY,e.currency),S=n?el.createElement(mT,{price:w,localizeCurrency:p}):p.formatMoney(b),I=n?el.createElement(mT,{price:N,localizeCurrency:p}):p.formatMoney(x),A=y+C-(0,cL.Qo)(i,s1.tY.ANNUAL,e.currency)-(0,cL.PK)(o,s1.tY.ANNUAL,e.currency);e.payment.billingPeriod===s1.tY.ANNUAL?(b>0&&(t=p.formatMoney(y)),x>0&&(a=p.formatMoney(C)),n&&(t=p.formatMoney(T),a=p.formatMoney(k))):e.payment.billingPeriod===s1.tY.STUDENT&&(t=n?p.formatMoney(T):el.createElement(cL.X6,{editorType:lm._Y.DESIGN,numEditors:e.payment.numDesignEditors,currency:e.currency}),a=n?p.formatMoney(k):el.createElement(cL.X6,{editorType:lm._Y.WHITEBOARD,numEditors:e.payment.numWhiteboardEditors,currency:e.currency}));let L=b+x,R=p.getPrices(),O=(0,cL.U1)(R.annualFigjam,R.monthlyFigjam),D=(0,cL.U1)(R.annualFigma,R.monthlyFigma);return L<0&&(0,iA.$D)(o$.e.BILLING,Error("[Billing] Estimated total is a negative amount."),{extra:{numDesignEditors:i,numWhiteboardEditors:o,upgrades:JSON.stringify(e.payment.editorStatusChanges),userId:e.user.id,subtotal:L,currency:e.currency}}),el.createElement("div",{className:o6.Ie},n?el.createElement(my,{teamId:e.selectedView.teamId}):el.createElement(el.Fragment,null,el.createElement("div",{className:o6.LC},el.createElement(e2.Tx,{id:"pro_cart.sidebar.professional_plan"})),v&&el.createElement(el.Fragment,null,el.createElement(eT.Kz,{multiple:3}),el.createElement(mw,{currency:e.currency,supportedCurrencies:(0,r$.B9)(),dropdownShown:e.dropdownShown,changeCurrency:e.updateCurrency}),el.createElement(eT.Kz,{multiple:2}),el.createElement("div",{className:o6.pV}),el.createElement(eT.Kz,{multiple:2}))),E&&e.selectedView.paymentStep===s1.tn.CHOOSE_PLAN&&el.createElement(el.Fragment,null,el.createElement("div",{className:o6.ZD},el.createElement(e2.Tx,{id:"pro_cart.sidebar.is_this_an_education_team"})),el.createElement(eT.Kz,{multiple:1.5}),el.createElement(mu.z,{className:o6.aq,onChange:e=>{"true"===e?r(oa.Lo({billingPeriod:s1.tY.STUDENT})):_&&(r(oa.Lo({billingPeriod:s1.tY.ANNUAL})),r(oa.js({numDesignEditors:i})))},value:_.toString()},el.createElement(mu.Z,{value:"false",className:o6.Ac},el.createElement(e2.Tx,{id:"pro_cart.sidebar.no"})),el.createElement(mu.Z,{value:"true",className:o6.Ac},el.createElement(e2.Tx,{id:"pro_cart.sidebar.yes"}))),el.createElement(eT.Kz,{multiple:1.5}),el.createElement("div",{className:o6.pV}),el.createElement(eT.Kz,{multiple:2})),!n&&el.createElement(el.Fragment,null,el.createElement(mC,{billingPeriod:e.payment.billingPeriod,onBillingCycleChange:g,currency:e.currency}),el.createElement(eT.Kz,{multiple:2})),el.createElement(t1.x,{isLoading:e.isLoading,className:o6.F},()=>el.createElement(el.Fragment,null,el.createElement(cL.Wy,{"data-testid":"sidebar-design-summary",mainText:n?el.createElement("span",{className:eE.cx.fontMedium.$},el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.design"})):el.createElement(e2.Tx,{id:"pro_cart.info.figma_design_editors.seat_rename",numEditors:i}),strikethroughPriceText:t,strikethroughPriceClassName:n?eE.cx.font18.fpl__textHeadingLargeLetterSpacing.$:void 0,priceText:S,subText:n?void 0:el.createElement(cL.d6,{currentBillingPeriod:e.payment.billingPeriod,numEditors:i,currency:e.currency,noCents:!0,shouldStrikethroughMonthlyUnitCostIfAnnual:!0}),discountPercentage:n?void 0:b>0&&e.payment.billingPeriod===s1.tY.ANNUAL?D:void 0,showDevModeIncludedText:!0}),el.createElement(eT.Kz,{multiple:2}),c&&el.createElement("div",null,el.createElement(cL.Wy,{"data-testid":"sidebar-jamboard-whiteboard-summary",mainText:el.createElement(e2.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:s}),priceText:el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.figjam_price_free"}),subText:el.createElement(cL.ME,{shouldStrikethroughMonthlyUnitCostIfAnnual:!0,currency:e.currency,numEditors:s,isJamboardOffer:!0})}),el.createElement(eT.Kz,{multiple:2})),u&&el.createElement(el.Fragment,null,el.createElement(cL.Wy,{"data-testid":"sidebar-whiteboard-summary",mainText:n?el.createElement("div",{className:eE.cx.fontMedium.$},el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.figjam"})):el.createElement(e2.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:o}),strikethroughPriceText:a,strikethroughPriceClassName:n?eE.cx.font18.fpl__textHeadingLargeLetterSpacing.$:void 0,priceText:I,subText:n?void 0:el.createElement(cL.ME,{shouldStrikethroughMonthlyUnitCostIfAnnual:!0,currency:e.currency}),discountPercentage:n?void 0:x>0&&e.payment.billingPeriod===s1.tY.ANNUAL?O:void 0}),el.createElement(eT.Kz,{multiple:2})),n&&!_&&el.createElement(el.Fragment,null,el.createElement(mx,{billingPeriod:e.payment.billingPeriod,onBillingCycleChange:g,localizeCurrency:p,savingsWithAnnualPlan:A}),el.createElement(eT.Kz,{multiple:2})))),el.createElement("div",{className:o6.pV}),el.createElement(eT.Kz,{multiple:3}),n?el.createElement(oQ,{numberOfDesignEditors:i,designSubtotal:p.formatMoney(b),numberOfFigjamEditors:o,figjamSubtotal:p.formatMoney(x),formattedSubtotal:p.formatMoney(L,{showFullFormat:(0,r$._Z)()}),billingPeriod:e.payment.billingPeriod}):el.createElement(oJ,{formattedSubtotal:p.formatMoney(L,{showFullFormat:(0,r$._Z)()})}),el.createElement(eT.Kz,{multiple:3}),_&&el.createElement(el.Fragment,null,el.createElement("div",{className:o6.iY},el.createElement(e2.Tx,{id:"edu.education_teams_get_all_the_professional_plan_features_for_free"})),el.createElement(eT.Kz,{multiple:2})),el.createElement(eT.vd,{className:o6.fK,disabled:e.isLoading||e.isButtonDisabled||e.payment.submitPending,onClick:e.onNext,trackingProperties:{trackingDescriptor:h},dataTestId:"upgrade-next-button"},e.payment.submitPending?el.createElement(t7.kt,{className:o6.S}):f))});function my({teamId:e}){let t=(0,ei.wA)();return el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.font20.fontMedium.$},el.createElement(e2.Tx,{id:"pro_cart.sidebar.professional_plan"})),el.createElement(eT.Kz,{multiple:1}),el.createElement("p",{className:eE.cx.font13.fontNormal.lh24.maxW250.$},el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.unlimited_files_and_projects",learnMoreLink:el.createElement(eT.Us,{className:eE.cx.colorTextBrand.cursorPointer.$,onClick:()=>{t(t3.to({type:mh,data:{teamId:e??void 0,trackingProperties:{productArea:"upgrade_sidebar"},hasSecondaryBtn:!1}}))},trusted:!0},el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.so_much_more"}))})),el.createElement(eT.Kz,{multiple:2}),el.createElement("div",{className:o6.pV}),el.createElement(eT.Kz,{multiple:2}))}function mw({currency:e,dropdownShown:t,supportedCurrencies:a,changeCurrency:r}){return el.createElement("div",{className:o6.h7},el.createElement("span",{className:o6.VV},el.createElement(e2.Tx,{id:"pro_cart.sidebar.currency"})),el.createElement(cn.D,{currency:e,dropdownShown:t,supportedCurrencies:a,changeCurrency:r,shortFormDisplay:!0}))}function mT({price:e,localizeCurrency:t}){let a=eE.cx.font18.fpl__textHeadingLargeLetterSpacing.fontMedium.$;return el.createElement("span",null,el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.cost_per_editor_per_month",cost:el.createElement("span",{className:a},t.formatMoney(e))}))}function mx({billingPeriod:e,onBillingCycleChange:t,localizeCurrency:a,savingsWithAnnualPlan:r}){let n=eE.cx.flex.alignCenter.$,l=eE.cx.colorTextSuccess.font13.$,i=eE.cx.colorText.font13.pl8.$;return el.createElement("div",{className:n},el.createElement(m_.l,{dataTestId:"billing-period-toggle",on:e===s1.tY.ANNUAL,onChange:()=>{t(e===s1.tY.ANNUAL?s1.tY[s1.tY.MONTHLY]:s1.tY[s1.tY.ANNUAL])}}),el.createElement("span",{className:i},el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.by_paying_annually",saveAmountText:el.createElement("span",{className:l},el.createElement(e2.Tx,{id:"pro_cart.sidebar.exp_sticker_shock.save_amount_per_year",saveAmount:a.formatMoney(r)}))})))}function mC({billingPeriod:e,onBillingCycleChange:t,currency:a}){let r=(0,co.rn)(),n=(0,co.kU)(),l=r&&e!==s1.tY.STUDENT;if(e===s1.tY.STUDENT)return null;{let i=new r$.vr(a).getPrices(),s=(0,cL.U1)(i.annualFigjam,i.monthlyFigjam);return el.createElement(el.Fragment,null,el.createElement("div",{className:o6.ZD},el.createElement(e2.Tx,{id:"pro_cart.sidebar.billing_cycle"})),el.createElement(eT.Kz,{multiple:2}),el.createElement(mu.z,{className:o6.aq,onChange:t,value:s1.tY[e]},el.createElement(mu.Z,{value:s1.tY[s1.tY.ANNUAL],className:o6.Ac},el.createElement("div",{className:ey()(o6.Wu,o6.Yw)},el.createElement("span",null,el.createElement(e2.Tx,{id:"pro_cart.sidebar.annual"})),!n&&!r&&el.createElement(oj.Ex,{className:o6.qS,color:oj.zE.SUCCESS,size:oj.vj.LARGE,subtle:!0,text:el.createElement(e2.Tx,{id:"pro_cart.sidebar.save_up_to_discount",discountAmount:s})}))),el.createElement(mu.Z,{value:s1.tY[s1.tY.MONTHLY],className:o6.Ac},el.createElement("div",{className:eE.cx.flex.justifyEnd.$},el.createElement(e2.Tx,{id:"pro_cart.sidebar.monthly"}),l&&el.createElement(eC.B,{className:eE.cx.flex.itemsCenter.ml8.colorIcon.$,svg:mv.A,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("pro_cart.sidebar.jamboard_offer.monthly_billing_cycle_tooltip"),role:"img"})))),el.createElement(eT.Kz,{multiple:2}),el.createElement("div",{className:o6.pV}))}}function mN(e){var t,a,r,n;let l;let i=(0,aN.iZ)(),s=null==i?void 0:i.id,o=(0,em.DC)(),c=(0,ei.d4)(e=>e.payment),d=(0,ei.Pj)(),m=(0,ei.d4)(e=>e.dropdownShown),u=(0,ei.d4)(e=>e.teams),_=e.selectedView.paymentStep,p=(0,dZ.Z)(_),g=el.useRef(null),[E,f]=(0,el.useState)((null==o?void 0:o.team_name)??""),[h,v]=(0,el.useState)(d6.k),b=(0,d2.PS)((0,sQ.usePermissionsState)()),[y,w]=(0,el.useState)((null==o?void 0:o.currency)||c.currency||(0,r$.LN)()),T=e=>{w(e),en(oa.MN({currency:e}))},{billingPeriod:x,numDesignEditors:C,numWhiteboardEditors:N,editorStatusChanges:k,error:S,errorCode:I}=c,{ignoreCurrentPlan:A}=e.selectedView,L=e.selectedView.teamId,R=(0,co.hP)(x),[O,D]=(0,el.useState)(null);(0,el.useEffect)(()=>{let t=e.selectedView.promotionCodeId??R;null===O&&t&&(D(t),(0,e7.sx)("promotion_eligibility_confirmed_in_checkout",{user_id:s,promotion_code_id:t,promotion:"jamboard"}))},[O,R,e.selectedView.promotionCodeId,s]);let F=(0,ei.d4)(t=>(0,d3.Np)(t,{...e.selectedView,paymentStep:s1.tn.CONFIRM_PAY,promotionCodeId:O})),M=(0,ei.d4)(t=>(0,d3.Np)(t,{...e.selectedView,paymentStep:s1.tn.PAYMENT_AND_ADDRESS,promotionCodeId:O})),P=(0,oz.Mh)(),B=(0,cL.Qo)(C,x,y)+(0,cL.PK)(N,x,y),{createPaymentElement:U,unmountPaymentElement:W,savePayment:V,billingAddress:G,updateBillingAddress:$,shippingAddress:j,updateShippingAddress:H,customerLegalName:q,setCustomerLegalName:Y,nameOnPaymentMethod:z,setNameOnPaymentMethod:K,vatGstId:J,setVatGstId:Q,regionalVatGstId:Z,setRegionalVatGstId:X,paymentMethodType:ee,error:et}=(0,d1.Op)({setupIntentParams:{redirect_url:F,error_redirect_url:M,subtotal_estimate:B,currency:y},customerInfo:{teamId:L},paymentFlowSource:d1.wn.PRO_UPGRADE,currency:y,billingPeriod:x,defaultCountry:(0,r$.ub)(),initialBillingAddress:null==o?void 0:o.billing_address,initialNameOnPaymentMethod:null==o?void 0:o.name_on_payment_method,initialShippingAddress:null==o?void 0:o.shipping_address,initialCustomerLegalName:null==o?void 0:o.customer_legal_name,initialVatGstId:null==o?void 0:o.vat_gst_id,initialRegionalVatGstId:null==o?void 0:o.regional_vat_gst_id,teamName:(null==o?void 0:o.team_name)||E,canSeeBillingAddressExp:P,isCheckout:!0}),ea=(null==et?void 0:et.code)===d1.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,er="PROMOTION_CODE_ID_ERROR"===I,en=(0,ei.wA)(),es=(0,d4.Ud)({teamId:L,jamboardPromoCodeId:O}),eo=ea||er,ed=()=>{if(er){D(null);let t=(0,d3.Np)(d.getState(),{...e.selectedView,paymentStep:s1.tn.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:A,promotionCodeId:R});ec.Ay.redirect(t)}else en(aC.$T({...e.selectedView,paymentStep:s1.tn.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:A}))};(0,o0.pI)({loadingPaidEditors:es,teamId:L,teamName:L?void 0:E,setTeamName:L?void 0:f,collaborators:L||e.selectedView.teamFlowType!==t5.SC.CREATE?void 0:h,setCollaborators:L||e.selectedView.teamFlowType!==t5.SC.CREATE?void 0:v});let eu=(0,ei.d4)(e=>e.currentUserOrgId),e_=A?null:eu,ep=(0,ei.d4)(e=>e_?e.orgById[e_]:null),eg=null==(t=(0,d5.Q)({currentOrgId:e_,currentTeamId:null}).data)?void 0:t.currentUser,eE=null==(a=null==eg?void 0:eg.baseOrgUser)?void 0:a.workspaceUsers,ef=null==(r=null==eE?void 0:eE.find(e=>null==e?void 0:e.isMainWorkspace))?void 0:r.workspaceId,{cannotCreateTeamReason:eh}=(0,dM.l6)(ep,ef),ev=(0,ei.d4)(e=>(0,sQ.isOrgUserExternallyRestrictedFromState)(e));(0,el.useEffect)(()=>{_===s1.tn.PAYMENT_AND_ADDRESS&&ea&&ed()}),(0,el.useEffect)(()=>{_!==p&&S&&!er&&en(oa.Qg({error:null}))},[en,_,p,S,er]);let eb=(0,ei.d4)(e=>!!e.user&&(0,d0.cn)(e.user));(0,el.useEffect)(()=>{eb&&e.selectedView.isEduTeam?en(oa.Lo({billingPeriod:s1.tY.STUDENT})):e.selectedView.isEduTeam&&en(oa.Lo({billingPeriod:s1.tY.UNSPECIFIED}))},[en,e.selectedView.isEduTeam,eb]),(0,el.useEffect)(()=>{e.selectedView.teamFlowType===t5.SC.CREATE_AND_UPGRADE&&(ev||eh===dM.z4.TEAM_CREATION_CONTROL)&&(ec.Ay.redirect("/"),en(ae.s.error((0,e2.t)("team_creation.missing_team_creation_controls"))))},[e.selectedView.teamFlowType,ev,eh,en]);let ey=c.currencyToSwitch;(0,el.useEffect)(()=>{ey&&w(ey)},[w,ey]);let ew=x===s1.tY.STUDENT,ex=h.filter(e=>e&&e.trim()).map(e=>e.trim()),eC=ex.filter(e=>!(0,lS.xf)(e)),eN=!!i&&ex.filter(e=>e===i.email).length>0,ek=async t=>{t.preventDefault();let a=new URL(window.location.href).searchParams,r=a.get("onCompleteRedirectFileKey"),n=a.get("onCompleteRedirectNodeId");t.currentTarget&&t.currentTarget.blur();let l=(0,mm.kR)(e.selectedView.paymentStep,e.selectedView.teamFlowType,x,c.promo,e.selectedView.planType||t5.Sc.UNDETERMINED);_===s1.tn.CREATE_TEAM&&(f(E.trim()),en(aC.$T({...e.selectedView,teamId:null,paymentStep:l,ignoreCurrentPlan:A}))),_===s1.tn.ADD_COLLABORATORS&&(eC.length?en(ae.s.error((0,e2.t)("pro_cart.add_collaborators.error.email_is_invalid",{string:eC[0]}))):eN?en(ae.s.error((0,e2.t)("team_view.team_permissions_modal.youre_not_able_to_send_an_invite_to_yourself"))):en(aC.$T({...e.selectedView,paymentStep:l,ignoreCurrentPlan:A}))),_===s1.tn.CHOOSE_PLAN?ew?en(aC.$T({...e.selectedView,paymentStep:l,billingPeriod:s1.tY.STUDENT,ignoreCurrentPlan:A})):(en(oa.Je({editorStatusChanges:k})),en(aC.$T({...e.selectedView,paymentStep:l,billingPeriod:c.billingPeriod,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:n}}:{},ignoreCurrentPlan:A}))):_===s1.tn.PAYMENT_AND_ADDRESS&&(en(oa.I2({submitPending:!0})),await V(),en(oa.I2({submitPending:!1})))},eS=e.selectedView.teamFlowType===t5.SC.CREATE?()=>{en((0,dF.KQ)({teamName:E,orgAccess:lm.bU.PUBLIC,inviteEmails:ex,teamFlowType:e.selectedView.teamFlowType,onSuccess:()=>{(0,o0.Al)(null==i?void 0:i.id)},ignoreCurrentPlan:A}))}:void 0;(e.selectedView.teamFlowType===t5.SC.CREATE_AND_UPGRADE||e.selectedView.teamFlowType===t5.SC.UPGRADE_EXISTING_TEAM)&&(1===b.length?l=t=>{t=t||e.selectedView.billingPeriod;let a=t5.SC.UPGRADE_EXISTING_TEAM;en(aC.$T({...e.selectedView,teamFlowType:a,teamId:b[0].id,paymentStep:(0,mm.kR)(e.selectedView.paymentStep,a,t||null,c.promo,t5.Sc.TEAM,s1.tn.CHOOSE_PLAN),planType:t5.Sc.UNDETERMINED,billingPeriod:t,ignoreCurrentPlan:A}))}:b.length>1&&(l=e=>{e&&en(oa.Lo({billingPeriod:e})),en((0,t3.to)({type:oY.dR,data:{plan:oY.In.PRO,upsellSource:d8.b.UPGRADE_EXISTING_FROM_TEAM_CREATION}}))}));let eI=()=>{var t;let a=()=>{(0,em.sj)(),(0,d4.Mt)(en),(0,t5.h5)(e.selectedView.teamFlowType)&&null===L&&(0,o0.Al)(s)};if(e.selectedView.teamId&&ew)en(oa.Nj({teamId:e.selectedView.teamId}));else if(e.selectedView.teamId&&c.promo){let r=e.selectedView.teamId,n=(0,em.kc)().ps_benchmark;en(or.S_({teamId:r,teamName:u[r].name,promoCode:(null==(t=c.promo)?void 0:t.code)||"",onSuccess:()=>{a(),(0,dX._H)(),en(oa.Ay({promo:null})),n&&s?e.selectedView.previousView?aC.$T(e.selectedView.previousView):sq._l({workspace:{userId:s,orgId:null,teamId:r},view:{view:"allProjects"}}):en(aC.$T(e.selectedView.previousView||{view:"team",teamId:r}))},onError:()=>{(0,dX._H)(),en(oa.Ay({promo:null})),en(aC.$T({...e.selectedView,paymentStep:s1.tn.PLAN_COMPARISON,ignoreCurrentPlan:A}))}}))}else en(r7.b({completed_pro_cart_flow:!0})),en(oa.I2({submitPending:!0})),en((0,or.gk)({teamId:e.selectedView.teamId,selectedCurrency:y,teamName:E,teamFlowType:e.selectedView.teamFlowType,invites:ex,hasSelectedStudentTeam:ew,onSuccess:a,promotionCodeId:O}))},eA=new URLSearchParams(ec.Ay.location.search),eL=eA.get("onCompleteRedirectFileKey"),eR=eA.get("onCompleteRedirectNodeId"),eO=i&&(null==(n=(0,o0.lX)({teamId:L,userId:i.id}))?void 0:n.is3DS);return e.selectedView.teamFlowType===t5.SC.CREATE_AND_UPGRADE&&(ev||eh===dM.z4.TEAM_CREATION_CONTROL)?el.createElement(el.Fragment,null):el.createElement(e8.fu,{name:"Upgrade Team",properties:{teamId:e.selectedView.teamId,teamFlowType:e.selectedView.teamFlowType,planType:e.selectedView.planType,step:_,currency:y,inPublishDraftExp:!!(eL&&eR)}},el.createElement("div",{className:o6.im},el.createElement(mm.vU,{selectedView:e.selectedView}),el.createElement("div",{className:o6.Jr},el.createElement("div",{className:o6.uz,ref:g},el.createElement(eT.Kz,{multiple:4}),_===s1.tn.PLAN_COMPARISON&&el.createElement(mi,{chooseStarterPlan:eS,chooseProPlan:t=>{en(oa.Lo({billingPeriod:t}));let a=(0,t5.h5)(e.selectedView.teamFlowType)?e.selectedView.teamFlowType:t5.SC.CREATE_AND_UPGRADE;en(aC.$T({...e.selectedView,teamFlowType:a,paymentStep:(0,mm.kR)(e.selectedView.paymentStep,a,t,c.promo,t5.Sc.TEAM),billingPeriod:t,planType:t5.Sc.TEAM,openInNewTab:!1,ignoreCurrentPlan:A}))},chooseOrgPlan:()=>{en(oa.Bq({currency:y,newTeamProps:{teamFlowType:e.selectedView.teamFlowType,newTeamName:E,inviteEmails:ex,previousView:e.selectedView},upsellSource:d8.b.UPGRADE_NEW_TEAM_V2}))},currency:y,updateCurrency:e=>T(e),upgradeExistingTeam:l,parentRef:g}),_===s1.tn.CREATE_TEAM&&el.createElement(ce,{type:e.selectedView.teamFlowType===t5.SC.CREATE?o7.STARTER:o7.PRO,teamName:E,setTeamName:f,onNext:ek,upgradeExistingTeam:l?()=>null==l?void 0:l(x):void 0,promo:c.promo}),_===s1.tn.ADD_COLLABORATORS&&el.createElement(d6.b,{disableInvites:!ex.length,collaborators:h,setCollaborators:v,willSendInvites:ek,skipInviteStep:()=>{if(v(d6.k),s){let e=(0,o0.lX)({teamId:null,userId:s});e&&(0,o0.dT)(s,{...e,newCollaborators:d6.k})}en(aC.$T({...e.selectedView,paymentStep:s1.tn.PLAN_COMPARISON,ignoreCurrentPlan:A}))}}),_===s1.tn.CHOOSE_PLAN&&el.createElement(mr,{selectedView:e.selectedView,isLoading:es,currency:y,error:ea?null==et?void 0:et.message:null,teamName:E}),_===s1.tn.PAYMENT_AND_ADDRESS&&el.createElement(el.Fragment,null,er&&el.createElement("div",{style:cs.sx.add({width:"490px",margin:"auto auto 24px"}).$},el.createElement(cA,{onBack:ed}),eO&&el.createElement(eT.Kz,{multiple:1.5})),el.createElement(md,{billingAddress:G,updateBillingAddress:$,shippingAddress:j,updateShippingAddress:H,legalCompanyName:q,updateLegalCompanyName:Y,nameOnPaymentMethod:z,updateNameOnPaymentMethod:K,createPaymentElement:U,unmountPaymentElement:W,error:et,vatGstId:J,onVatGstIdChange:Q,regionalVatGstId:Z,onRegionalVatGstIdChange:X,paymentMethodType:ee,isCommunityCheckout:!1,canSeeBillingAddressExp:P,isCheckout:!0})),_===s1.tn.CONFIRM_PAY&&el.createElement(el.Fragment,null,el.createElement("div",{className:o6.Fb},el.createElement(e2.Tx,{id:"pro_cart.review.lets_make_sure_everything_looks_right"})),el.createElement(eT.Kz,{multiple:3}),er&&el.createElement("div",{style:cs.sx.add({width:"490px",margin:"auto auto 24px"}).$},el.createElement(cA,{onBack:ed}),eO&&el.createElement(eT.Kz,{multiple:1.5})),eO&&el.createElement("div",{className:o6.vK},el.createElement(oH._,{color:oH.S.INFORMATION,text:(0,e2.t)("pro_cart.review.extra_validation")})),eO&&el.createElement(eT.Kz,{multiple:2}),el.createElement(t1.x,{isLoading:es},()=>el.createElement(oO.d,{selectedView:e.selectedView,teamName:E,onClickConfirm:eI,billingAddress:G,shippingAddress:j,canSeeBillingAddressExp:P,currency:y}))),el.createElement(eT.Kz,{multiple:9})),el.createElement(mb,{selectedView:e.selectedView,onNext:ek,isLoading:es,isButtonDisabled:eo,currency:y,updateCurrency:e=>T(e),dropdownShown:m}))))}var mk=a(560990),mS=a(435011),mI=a(99399),mA=a(580857);function mL(e){let t=(0,ei.wA)(),a=(0,ej.$k)(),r=e.isMobile??e_.Ay.mobile;return el.createElement(mI.Sk,{onSubmit:e=>{t(aC.$T({view:"communityHub",subView:"searchAndBrowse",data:{sort_by:(null==a?void 0:a.sort_by)||tp.e.Search.RELEVANCY,resourceType:(null==a?void 0:a.resourceType)||"mixed",query:e,editor_type:tg.k.Editors.ALL,price:t_.C.ALL,creators:mA.Z.ALL}}))},pathname:ec.Ay.location.pathname,isMobile:r})}function mR(){let e=(0,ei.d4)(mS.hK);return"communityHub"===e.view&&sj(e.subView)?null:el.createElement(mk.F,{SearchComponent:mL})}function mO(e){return el.createElement("div",{className:"community_layout--communityPageViewContainer--aBk-9"},!(0,em.kc)().cmty_consolidated_navbar&&el.createElement(mR,null),e.children,el.createElement(sT.Ay,null))}var mD=a(763223),mF=a(723239),mM=a(984968),mP=a(372745),mB=a(186828),mU=a(489291),mW=a(935938),mV=a(967409),mG=a(668526),m$=a(352898),mj=a(6949),mH=a(753757),mq=a(698812),mY=a(731078),mz=a(155367),mK=a(402465),mJ=a(266431),mQ=a(268223),mZ=a(116135);let mX="Org admin settings onboarding -",m0=`${mX} Enterprise admin -`,m1=`${mX} members tab -`,m2=`${mX} teams tab -`,m4=`${mX} activity tab -`,m3=`${mX} license groups tab -`,m8=`${mX} workspaces tab -`,m5="org_admin_settings_workspaces_tab_onboarding_key",m6="org_admin_settings_teams_tab_onboarding_key",m9="org_admin_settings_billing_tab_onboarding_key",m7={[mz.J7.DASHBOARD]:"org_admin_settings_dashboard_tab_onboarding_key",[mz.J7.WORKSPACES]:m5,[mz.J7.TEAMS]:m6,[mz.J7.MEMBERS]:"org_admin_settings_members_tab_onboarding_key",[mz.J7.ACTIVITY]:"org_admin_settings_activity_tab_onboarding_key",[mz.J7.BILLING]:m9,[mz.J7.RESOURCES]:"org_admin_settings_resources_tab_onboarding_key",[mz.J7.SETTINGS]:"org_admin_settings_settings_tab_onboarding_key"},ue="org_admin_settings_billing_groups_secondary_tab_onboarding_key",ut="activity_table_email_input_onboarding_key",ua="activity_table_export_csv_onboarding_key",ur="members_table_account_type_onboarding_key",un="members_table_last_active_onboarding_key",ul="members_table_search_onboarding_key",ui="members_table_upgrade_reason_onboarding_key",us="license_group_header_create_button_onboarding_key",uo="license_group_menu_cell_onboarding_key",uc="teams_table_create_team_onboarding_key",ud="teams_table_unassigned_tab_onboarding_key",um="Workspace admin settings onboarding",uu="members-table-add-members",u_="members-table-design-role-column-header",up="admin-settings-view-toolbar",ug="Billing Group Admin Onboarding",uE="admin_request_dashboard_onboarding_key";var uf=a(127730);let uh="seen_billing_group_admin_request_dashboard_onboarding",uv=(0,mQ.rn)("billing_group_admin_request_dashboard_onboarding",(0,uf.R)(aJ.WyO));function ub(e){let t=(0,aj.r1)(uh),a=(0,eU.md)(t),{isShowing:r,show:n,complete:l,uniqueId:i}=(0,a$.e)({overlay:aJ.WyO,priority:aH.N.DEFAULT_MODAL},[a]),s=(0,mQ.zl)(uv);(0,ed.h)(()=>{"reset"===s.currentState?n():n({canShow:e=>!e&&!e_.rr})}),(0,aG.E)(i,"Reset Onboarding",()=>n());let o=[{title:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.request_dashboard.tooltip.get_to_groups_you_manage_title"}),description:e.isWorkspaceAdmin?el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.request_dashboard.tooltip.get_to_groups_you_manage.workspaces_and_billing"}):el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.request_dashboard.tooltip.get_to_groups_you_manage.billing_groups"}),trackingContextName:"Billing group admin request dashboard onboarding - groups you manage",targetKey:up,emphasized:!0},{title:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.request_dashboard.tooltip.manage_upgrade_requests_title"}),description:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.request_dashboard.tooltip.manage_upgrade_requests_description"}),trackingContextName:"Billing group admin request dashboard onboarding - manage requests",targetKey:uE,emphasized:!0}];return el.createElement(mZ.WZ,{steps:o,userFlagOnShow:uh,isShowing:r,onComplete:l})}var uy=a(538088),uw=a(609936),uT=a(207286),ux=a(439729);let uC="banner--bannerChildDefault--vclv7",uN="banner--bannerChildWarning--HW-Yg",uk={INFO:"info",WARN:"warning",WARN_SOFT:"warning_soft",SUCCESS:"success"},uS={[uk.INFO]:{borderColor:"default",bgColor:"secondary",textColor:"default",childClassName:"bannerChildDefault"},[uk.WARN]:{borderColor:"warning",bgColor:"warning",textColor:"default",forceTheme:"light",childClassName:"bannerChildWarning"},[uk.WARN_SOFT]:{bgColor:"warning-tertiary",textColor:"default",forceTheme:"light",childClassName:"bannerChildWarning"},[uk.SUCCESS]:{borderColor:"default",bgColor:"success",textColor:"oninverse",forceTheme:"light",childClassName:"bannerChildDefault"}};function uI({icon:e,title:t,subtitle:a,actions:r,variant:n=uk.INFO,children:l,bannerPadding:i,dataTestId:s}){let{bgColor:o,borderColor:c,textColor:d,childClassName:m,forceTheme:u}=uS[n],_=!!l,p=a?16:8;return el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",cornerRadius:6,strokeWidth:_?1:0,strokeColor:c,spacing:0,dataTestId:s},el.createElement("div",{className:eE.cx.borderBox.wFull.hFull.$,"data-preferred-theme":u},el.createElement(nX.Y,{direction:"horizontal",verticalAlignItems:"center",spacing:4,padding:i??p,cornerRadius:_?{topLeft:5,topRight:5}:5,backgroundColor:o},e&&el.createElement("div",{className:eE.cx.w32.h32.flex.itemsCenter.justifyCenter.flexShrink0.$,style:a?{marginTop:"-16px"}:{}},el.createElement(eC.B,{style:{fill:(0,eW.jk)(d)},svg:e})),el.createElement(nX.Y,{spacing:0,direction:"vertical",height:"hug-contents"},el.createElement(oK.E,{fontSize:11,color:d},t),a&&el.createElement(oK.E,{fontSize:11,color:d},a)),el.createElement(nX.M,null),r)),l&&el.createElement("div",{style:{borderBottomLeftRadius:5,borderBottomRightRadius:5},className:ey()(eE.cx.borderBox.wFull.$,en[m])},l))}var uA=a(127022);function uL({}){var e;let t=(0,ei.d4)(e=>e.selectedView),a=(0,ei.wA)(),r=(0,sK.dq)(),n=(0,uT.Xf)(r),l="loading"===n.status,i=null==(e=null==n?void 0:n.data)?void 0:e.invoices,s=(0,mq.MX)(),o=(0,aN.TA)(),c=(0,el.useMemo)(()=>(0,mq.EQ)(s,o,!1).groupsUserIsAdminOf??[],[s,o]);if("billingGroupDashboard"!==t.view||!l&&!i)return null;let d=c.filter(e=>i&&(0,ca.hX)(i)&&(0,mq.NV)(e,i));if(0===d.length)return null;function m({billingGroupId:e,billingGroupName:t}){return el.createElement(eT.CY,{onClick:()=>{a(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:e,selectedTab:(0,mH.g)(mB.RM.MEMBERS)}))},className:"billing_group_dashboard_billing_banner--billingGroupLink---RiqU",trusted:!0},t)}return el.createElement(nX.Y,{height:"hug-contents",padding:{bottom:24},dataTestId:"billing-group-dashboard-billing-banner"},el.createElement(uI,{title:el.createElement(oK.E,{fontSize:13,fontWeight:"medium",i18nId:"license_group_admin.billing_dashboard.billing_banner.review_and_confirm"}),subtitle:el.createElement(function(){return el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"license_group_admin.billing_dashboard.billing_banner.review_these_billing_groups"}),d.length<=3&&el.createElement(e2.Tx,{id:"license_group_admin.billing_dashboard.billing_banner.billing_group_links",billingGroupLinks:el.createElement(ux.T,null,d.filter((e,t)=>t<3).map((e,t)=>el.createElement(m,{key:t,billingGroupId:e.id,billingGroupName:e.name})))}),d.length>3&&el.createElement(e2.Tx,{id:"license_group_admin.billing_dashboard.billing_banner.billing_group_links_plus",count:d.length-3,billingGroupLinks:el.createElement(ux.T,{formatType:"unit"},d.slice(0,3).map((e,t)=>el.createElement(m,{key:t,billingGroupId:e.id,billingGroupName:e.name})))}))},null),variant:uk.WARN_SOFT,icon:uA.A}))}var uR=a(772841);function uO(e,t,a){let r=(0,el.useRef)(!1);(0,el.useEffect)(()=>{!r.current&&a(t)&&(e(),r.current=!0)},[e,a,t])}var uD=a(966981),uF=a(449124),uM=a(976999),uP=a(32863),uB=a(934533),uU=a(265361),uW=a(139961),uV=a(756704),uG=a(79190),u$=a(255533),uj=a(406748);let uH=(0,n8.eU)({}),uq=(0,n8.eU)({});function uY({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:r,planId:n,managedRequests:l,showAllOrgRequests:i,selectedRequestView:s,processedRequestIds:o,showBillingGroupAdminRequests:c}){let[d,m]=(0,eU.fp)(uH),u=i||c,_=u?[r,n,l].toString():[r,n].toString(),p=(0,el.useMemo)(()=>JSON.stringify(u?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:l?a:null}:{refreshNonce:e,billing_group_ids:[null]}),[e,t,l,a,u]),g=(0,uy.z7)({planType:r,planId:n,filterParams:p,processedRequestIds:o}),[E,f]=(0,el.useState)(null);return el.useEffect(()=>{if(null!==g&&(f(g.length),l)){let e={...d};e[_]=g.length,m(e)}},[g,_]),null!==E&&((null==g?void 0:g.length)!==0||i)&&el.createElement(oj.Ex,{text:E.toString(),color:l&&s===uy.V7.ALL_MANAGED_REQUESTS||!l&&s===uy.V7.ALL_ORG_REQUESTS?oj.zE.LIGHT:oj.zE.DEFAULT,dataTestId:"table-row-count-badge"})||el.createElement("div",null)}let uz=(0,rr.Ju)(function({onConfirm:e,totalRequestCount:t,filteredRequestCount:a}){let r=(0,ei.wA)(),n=()=>{r(t3.Ce())},l=t!==a,i=l?el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve_all_modal.body_filtered",numTotalRequests:t,numHiddenRequests:t-a}):el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve_all_modal.body",numRequests:el.createElement(oK.E,{fontWeight:"semi-bold"},t)}),s=l?el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve_all_modal.title_filtered"}):el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve_all_modal.title"}),o=l?el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve_all_modal.confirm_filtered",numRequests:t}):el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve_all_modal.confirm"});return el.createElement(rn.aF,{className:eE.cx.cursorDefault.selectNone.$,title:"",size:360,padding:0},el.createElement(nX.Y,{padding:{left:16,right:8,top:8,bottom:0},spacing:8},el.createElement("div",{className:eE.cx.fontSemiBold.lh16.colorText.$},s),el.createElement(nX.M,null),el.createElement(cg.Jn,{onClick:n})),el.createElement("div",{className:eE.cx.p16.$},el.createElement(oK.E,null,i)),el.createElement(nX.Y,{direction:"horizontal",padding:{left:16,right:16,bottom:16,top:0},horizontalAlignItems:"end"},el.createElement(mE.$,{variant:"secondary",onClick:n},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(mE.$,{variant:"destructive",onClick:()=>{n(),e()}},o)))},"ApproveAllUpgradeRequestsConfirmationModal");function uK({text:e,linkText:t,onClickLink:a,textMaxWidth:r,textClassName:n}){let[l,i]=(0,el.useState)(!1),s=(0,el.useRef)(null),o=()=>{let e=s.current;e&&i(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight)};return(0,el.useLayoutEffect)(()=>{o()},[e]),el.createElement("div",{className:eE.cx.flex.flexRow.$},el.createElement("div",{className:n??void 0,style:cs.sx.noWrap.overflowHidden.ellipsis.add({maxWidth:`${r}px`}).$,ref:s},e),l&&el.createElement(eT.CY,{trusted:!0,onClick:e=>{e.stopPropagation(),a()}},t??el.createElement(e2.Tx,{id:"admin_dashboard.requests.truncated_text_more"})))}var uJ=a(314866),uQ=a(193360),uZ=a(434756);let uX=(e=>{var t;return(t=class extends el.PureComponent{constructor(){super(...arguments),this.onCopyEmailToClipboard=e=>{e.stopPropagation(),this.props.entity.email&&this.props.dispatch(nc.II({emailList:[this.props.entity.email]}))}}render(){return el.createElement(e,{...this.props,onEmailClick:this.onCopyEmailToClipboard,emailLinkIcon:uZ.A,includeUserEmailAddress:!0})}}).displayName="Copyable",t})(aa.az);function u0({label:e,contents:t}){return el.createElement(nX.Y,{direction:"horizontal",spacing:16,verticalAlignItems:"start"},el.createElement("div",{style:cs.sx.add({minWidth:"80px",maxWidth:"80px"}).colorText.fontSemiBold.lh16.$},e),t?el.createElement("div",{style:cs.sx.add({maxWidth:"275px"}).$},t):el.createElement("div",{className:eE.cx.colorTextTertiary.$},uy.Lv))}function u1({requesterName:e}){return el.createElement(oH._,{dataTestId:"nudged-request-banner",color:oH.S.WARNING,rounded:!1,text:el.createElement("p",{className:eE.cx.fontMedium.$},el.createElement(e2.Tx,{id:"admin_dashboard.requests.details.reminder_banner",requesterName:e}))})}let u2=(0,rr.Ju)(function({request:e,planId:t,planType:a,shouldShowBillingGroup:r,billingGroups:n,onApprove:l,onDeny:i}){var s,o;let c=(0,ei.wA)(),[d,m]=el.useState(null),[u,_]=el.useState(!0);el.useMemo(()=>{r&&n.length>0?c(uQ.I1({orgId:t,userId:e.userId})).then(e=>{e&&m(e.id)}).catch(()=>{_(!1)}).finally(()=>_(!1)):_(!1)},[c,t,e.userId,r,n]);let p=(0,aX.Rs)(a9.oSh,{orgId:t,orgUserIds:d?[d]:[]},{enabled:null!==d&&n.length>0&&r}),g="loaded"===p.status,E="disabled"===p.status,f=g?(null==(o=(0,aX.oA)(null==(s=p.data)?void 0:s.org))?void 0:o.baseOrgUserMembersById)??[]:null,h=n.length>0&&f?n.find(e=>{var t,a;return e.id===(null==(a=null==(t=f[0])?void 0:t.licenseGroupMember)?void 0:a.licenseGroupId)})??null:null,v=()=>{c(t3.Ce())};return r&&(u||!(g||E))?el.createElement(rn.aF,{className:eE.cx.cursorDefault.selectNone.$,title:"",size:400,padding:0,height:400},el.createElement(t7.qc,{size:"medium"})):el.createElement(e8.fu,{name:t6.e0.UPGRADE_REQUESTS_DETAIL_MODAL,properties:{adminRequestsDashboard:!0,accountTypeRequestId:e.id,orgId:a===uy.ps.ORG?t:void 0,teamId:a===uy.ps.TEAM?t:void 0}},el.createElement(rn.aF,{className:eE.cx.cursorDefault.selectNone.$,title:"",size:400,padding:0},el.createElement(nX.Y,{padding:{left:16,right:4,top:4,bottom:4}},el.createElement("div",{className:eE.cx.fontSemiBold.lh16.colorText.$},el.createElement(e2.Tx,{id:"admin_dashboard.requests.details.title"})),el.createElement(nX.M,null),el.createElement(cg.Jn,{onClick:v,innerText:"X"})),e.hasBeenNudged&&!!e.name&&el.createElement(u1,{requesterName:e.name}),el.createElement(nX.Y,{direction:"vertical",padding:{left:16,right:24,top:24,bottom:24},spacing:24,strokeWidth:{top:1,bottom:1},strokeColor:"default"},el.createElement(u0,{label:(0,e2.t)("admin_dashboard.requests.details.name"),contents:el.createElement(uX,{dispatch:c,entity:{id:e.userId,name:e.name??void 0,email:e.email??void 0,imgUrl:e.imgUrl},size:24,defaultText:uy.Lv})}),h&&r&&el.createElement(u0,{label:(0,e2.t)("admin_dashboard.requests.details.billing_groups"),contents:h?el.createElement("div",null,h.name):null}),el.createElement(u0,{label:(0,e2.t)("admin_dashboard.requests.details.job_title"),contents:e.jobTitle?el.createElement("div",null,(0,uJ.lb)(e.jobTitle)):null}),el.createElement(u0,{label:(0,e2.t)("admin_dashboard.requests.details.license_type"),contents:el.createElement(uy.yz,{licenseType:e.licenseType})}),el.createElement(u0,{label:(0,e2.t)("admin_dashboard.requests.details.date"),contents:el.createElement("div",null,el.createElement(e2.Tx,{id:"admin_dashboard.requests.details.display_date",dateObject:e.createdAt}))}),el.createElement(u0,{label:(0,e2.t)("admin_dashboard.requests.details.note"),contents:e.message?el.createElement("div",null,`\u201C${e.message}\u201D`):null})),el.createElement(nX.Y,{direction:"horizontal",padding:16,horizontalAlignItems:"end"},el.createElement(mE.V,{variant:"secondary",onClick:()=>{v(),i()},innerText:"Decline"},el.createElement(e2.Tx,{id:"admin_dashboard.requests.decline"})),el.createElement(mE.V,{variant:"primary",onClick:()=>{v(),l()},innerText:"Approve"},el.createElement(e2.Tx,{id:"admin_dashboard.requests.approve"})))))},"UpgradeRequestsDetailModal"),u4="approving-all-requests";function u3({supportedLicenses:e,planType:t,planId:a,configuredUpgradeRequestSetting:r,onClickViewHistory:n,isOrgAdmin:l,defaultAdminEntryPoint:i}){var s,o,c,d,m,u,_,p,g,E,f,h;let v;let b=(0,ei.wA)(),y=(0,ns.U)(),[w,T]=(0,el.useState)(!1),[x,C]=(0,el.useState)(""),[N,k]=(0,el.useState)(null),[S,I]=(0,el.useState)(uy.i5.NEWEST_FIRST),[A,L]=(0,el.useState)(!1),R=(0,el.useRef)(0),[O,D]=(0,el.useState)(0),[F,M]=(0,el.useState)(window.innerHeight),P=(0,ei.d4)(({selectedView:e})=>e),B=i??uy.uH;(0,ed.h)(()=>{let e=()=>{M(window.innerHeight)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)});let[U,W]=(0,eU.fp)(uH),[V,G]=(0,el.useState)(new Set),[$,j]=(0,el.useState)(new Set),[H,q]=(0,el.useState)(new Set),[Y,z]=(0,el.useState)(null),[K,J]=(0,el.useState)(0),[Q,Z]=(0,el.useState)(0),[X,ee]=el.useState(void 0),[et,ea]=(0,el.useState)(uy.V7.ALL_MANAGED_REQUESTS),[er,en]=(0,el.useState)(et),es=(0,mq.MX)(),eo=(0,aN.TA)(),e_=t===uy.ps.ORG,eg=(0,el.useMemo)(()=>e_?(0,mq.EQ)(es,eo,!1).groupsUserIsAdminOf:[],[es,eo,e_]),ef=(0,el.useMemo)(()=>eg?eg.map(e=>e.id):[],[eg]),eh=(0,el.useMemo)(()=>et===uy.V7.ALL_MANAGED_REQUESTS?!1!==l?[null,...ef]:ef:null,[et,ef,l]),ev=(0,el.useMemo)(()=>{switch(er){case uy.V7.ALL_ORG_REQUESTS:return null;case uy.V7.ALL_MANAGED_REQUESTS:return!1!==l?[null,...ef]:ef;case uy.V7.ALL_UNASSIGNED_REQUESTS:return[null];default:if(!(er in uy.V7))return[er];return null}},[er,ef,l]),eb=(0,el.useMemo)(()=>JSON.stringify({editor_type:N,search_query:x,refreshNonce:K,sortTypeNonce:S,billing_group_ids:ev}),[N,x,K,S,ev]),ew=(0,el.useMemo)(()=>JSON.stringify({billing_group_ids:eh}),[eh]),ex=(0,aX.Rs)(a9.EEx,{planType:t,planId:a,sortOrder:S===uy.i5.NEWEST_FIRST?"desc":"asc",filterParams:eb,firstPageSize:25}),eC=(0,uy.z7)({planType:t,planId:a,filterParams:eb,processedRequestIds:H}),eN=(0,uy.z7)({planType:t,planId:a,filterParams:JSON.stringify({refreshNonce:eb,billing_group_ids:eh}),processedRequestIds:H}),ek=(0,aX.Rs)(a9.lVt,{orgId:a},{enabled:e_}),eS=null==(o=null==(s=ek.data)?void 0:s.org)?void 0:o.devModeAccountTypeRequests,eI=(0,el.useMemo)(()=>new Set(null==eS?void 0:eS.map(e=>e.id)),[eS]),eA="loading"===ek.status,eL=(0,aX.Rs)(a9.HpJ,{orgId:a},{enabled:e_}),eR="loaded"===ex.status,eO=eR&&!!(null==(d=null==(c=ex.data)?void 0:c.adminDashboardRequests)?void 0:d.isLoadingNextPage),eD=eR&&!!(null==(u=null==(m=ex.data)?void 0:m.adminDashboardRequests)?void 0:u.hasNextPage()),[eF,eM]=(0,el.useState)({loading:!0,requestId:void 0,request:void 0}),eP=(0,ep.I7)("exp_all_admin_request_dash"),eB=e_&&"loaded"===eL.status&&(null==(p=null==(_=eL.data)?void 0:_.org)?void 0:p.bigmaEnabledAt)&&eP.getConfig().get("enabled",!1)&&!1!==l,eW=(0,uy.ZY)({isIntendedAudience:e_&&"loaded"===eL.status&&(null==(E=null==(g=eL.data)?void 0:g.org)?void 0:E.bigmaEnabledAt)!==null&&!1===l}),eV=!eR||eO||eD||eA||eF.loading,eG=(null==eC?void 0:eC.length)??0,e$=(null==eN?void 0:eN.length)??0,ej=[t,a].toString(),eH=U[ej],eq=e$?Math.max(e$,0):0,eY=eN&&eH!==eq,ez=(0,em.kc)().account_type_requests_async&&e_;el.useEffect(()=>{if(eY){let e={...U};e[ej]=eq,W(e)}},[eY,ej,eq]);let eK=w&&null===eG;(0,el.useEffect)(()=>{eR&&z(new Date)},[eR]),(0,el.useEffect)(()=>{let e=(0,s3.QL)("approvalRequestId");e&&(eM(t=>({...t,requestId:e})),(0,s3.EM)("approvalRequestId")),eM(e=>({...e,loading:!1}))},[]),uO(()=>{if(eF.requestId){if(eF.request){let e=eF.request.name;tn({approve:!0,selectedRequestIds:[eF.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:uy.Xv.EMAIL,successHandler:e?()=>{ta({requesterName:e}),eM({loading:!1,requestId:void 0,request:void 0})}:tt})}else tr()}},eV,e=>!e);let eJ=(0,el.useMemo)(()=>{var t,a;let r=new Set($);if(!eR||!(null==(t=null==ex?void 0:ex.data)?void 0:t.adminDashboardRequests)||eA)return[];let n=null==(a=ex.data)?void 0:a.adminDashboardRequests.reduce((t,a)=>{var n;let l=a.id,i=a.request,s=a.user,o=a.userId;if(i.status!==uR.tT.Loaded||s.status!==uR.tT.Loaded)return t;let c=i.data,d=s.data;if(!c||!d)return r.has(l)||r.add(l),t;let m=(0,uy.JG)(c.licenseType);if(!e.includes(m)||r.has(l))return t;if("pending"!==c.status)return r.has(l)||r.add(l),t;let u=!!c.lastNudgedAt;return l===eF.requestId?(r.has(l)||r.add(l),eM(e=>{var t;return{...e,request:{id:l,createdAt:c.createdAt,updatedAt:c.updatedAt,name:d.name,email:d.email,licenseType:m,imgUrl:d.imgUrl,message:c.message&&c.message.trim().length>0?c.message:null,jobTitle:(null==(t=d.profile)?void 0:t.jobTitle)??null,hasBeenNudged:u,userId:o}}})):t.push({id:l,createdAt:c.createdAt,updatedAt:c.updatedAt,name:d.name,email:d.email,licenseType:m,imgUrl:d.imgUrl,message:c.message&&c.message.trim().length>0?c.message:null,jobTitle:(null==(n=d.profile)?void 0:n.jobTitle)??null,userId:o,hasBeenNudged:u}),t},[]);return q(e=>new Set([...e,...new Set(r)])),n.sort((e,t)=>S===uy.i5.NEWEST_FIRST?t.updatedAt.getTime()-e.updatedAt.getTime():e.updatedAt.getTime()-t.updatedAt.getTime())},[eR,ex.data,S,e,eA,eF.requestId,$]),eQ=(0,el.useMemo)(()=>new Set(null==eJ?void 0:eJ.filter(e=>{var t;return e.licenseType===oX.oM.DESIGN&&(null==(t=e.message)?void 0:t.includes("Dev Mode"))}).map(e=>e.id)),[eJ]);uO(()=>{let e=(0,s3.QL)("viewRequestId");if(!e)return;let t=eJ.find(t=>t.id===e);t?tc(t,uy.Xv.DEEPLINK):tr(),(0,s3.EM)("viewRequestId")},eV,e=>!e);let eZ=(0,el.useMemo)(()=>{if(0===eJ.length)return null;let e=eJ.length*(0,te.jz)(e5.B6G)+99+3*(0,te.jz)(e5.B6G)/4,t=F-(0,te.jz)(e5.XMZ)-2-48-24-24;return e<t?e:t},[eJ.length,F]),eX=(0,el.useMemo)(()=>(0,d9.s)(C,300),[C]),e0=(null==y?void 0:y.type)===uy.OL,e1=et===uy.V7.ALL_ORG_REQUESTS&&es.length>0,e4=et===uy.V7.ALL_MANAGED_REQUESTS&&(eg.length>0&&l||!l&&eg.length>1),e3=(eB||eW)&&(e1||e4),e6=el.createElement(nX.Y,{padding:{vertical:8},strokeColor:"default",strokeWidth:{top:1,bottom:1}},el.createElement(uP.y2,{onChange:e=>eX((0,uy.Bk)(e)),focusOnMount:!1,query:x,clearSearch:()=>C(""),placeholder:(0,e2.t)("admin_dashboard.requests.search.placeholder"),maxInputLength:uy.MI}),el.createElement(nX.M,null),e.length>1&&el.createElement(uj.bv,{label:(0,e2.t)("admin_dashboard.requests.filter.type"),dispatch:b,dropdownShown:y,dropdownType:uy.YC,values:e,selectedValue:N,getDisplayText:e=>(0,uU.$)(e),updateFilter:k}),el.createElement(uj.bv,{label:(0,e2.t)("admin_dashboard.requests.filter.sort"),dispatch:b,dropdownShown:y,dropdownType:uy.dC,values:[uy.i5.NEWEST_FIRST,uy.i5.OLDEST_FIRST],selectedValue:S,getDisplayText:e=>uy.lJ[e](),updateFilter:I,hideDefaultOption:!0}),e3&&el.createElement(uj.Ve,{showingDropdown:e0,type:uy.OL,dispatch:b,isRightAligned:!0},el.createElement(e2.Tx,{id:"admin_dashboard.requests.filter.from",selectedBillingGroupFilter:er===uy.V7.ALL_ORG_REQUESTS||er===uy.V7.ALL_MANAGED_REQUESTS?(0,e2.t)("admin_dashboard.requests.from_all"):er===uy.V7.ALL_UNASSIGNED_REQUESTS?(0,e2.t)("admin_dashboard.requests.from_unassigned"):es.find(e=>e.id===er).name}),e0&&el.createElement(dB.W.DropdownWithScrim,{dispatch:b,className:"upgrade_requests_table--dropdownScrollClip--mwmUL",style:y.data.position},(()=>{let e=et===uy.V7.ALL_ORG_REQUESTS?es:eg,t=[{key:et,label:(0,e2.t)("admin_dashboard.requests.from_all")}];return eW||t.push({key:uy.V7.ALL_UNASSIGNED_REQUESTS,label:(0,e2.t)("admin_dashboard.requests.from_unassigned")}),el.createElement(el.Fragment,null,t.map(e=>el.createElement(dB.W.CheckableOption,{key:e.key,checked:er===e.key,onClick:()=>en(e.key)},e.label)),el.createElement(dB.W.Separator,null),el.createElement(dB.W.CheckableOption,{disabled:!0,checked:!1,onClick:eu.lQ},el.createElement(e2.Tx,{id:et===uy.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups"})),e.map(e=>el.createElement(dB.W.CheckableOption,{key:e.id,checked:er===e.id,onClick:()=>en(e.id)},e.name)))})()))),e9=()=>{b(a0.F.enqueue({message:(0,e2.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,e2.t)("admin_dashboard.requests.error_reload"),action:()=>{ec.Ay.reload("Admin requests dashboard error")}}}))},e7=({multiple:e})=>{b(a0.F.enqueue({message:e?(0,e2.t)("admin_dashboard.requests.error_multiple"):(0,e2.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,e2.t)("admin_dashboard.requests.error_reload"),action:()=>{ec.Ay.reload("Admin requests dashboard error")}}}))},tt=({approve:e,numRequests:t,asyncUpdate:a})=>{let r=e?(0,e2.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:t}):(0,e2.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:t});e&&a&&(r=(0,e2.t)("admin_dashboard.requests.success_approve_multiple_async",{numRequests:t})),b(a0.F.enqueue({message:r,type:e?"requests-approved":"requests-denied"}))},ta=({requesterName:e})=>{b(a0.F.enqueue({message:(0,e2.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:e}),type:"requests-approved"}))},tr=()=>{b(a0.F.enqueue({message:(0,e2.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},tn=({approve:e,selectedRequestIds:a,approveAll:r=!1,shouldProcessAsSingleRequest:n=!1,singleRequestSelectionMethod:l,successHandler:i=tt,sprig:s})=>{var o,c;let d="dashDeepLinkEntryPoint"in P&&P.dashDeepLinkEntryPoint||B,m=()=>{if(n){let t=l||uy.Xv.SINGLE;tl({approve:e,requestId:a[0],selectionMethod:t,entryPoint:d,successHandler:i})}else ti({approve:e,selectedRequestIds:a,approveAll:r})};e_&&e&&(0,ca.CA)((null==(c=null==(o=ek.data)?void 0:o.org)?void 0:c.devModeOptInPlanProperty)||null)&&(r&&0!==eI.size||a.some(e=>eI.has(e)))?b(t3.to({type:uG.OZ,data:{onOptInUpgrade:m,source:mz.J7.DASHBOARD}})):m(),s&&t===uy.ps.TEAM&&!e&&a.some(e=>eQ.has(e))&&s("track","admin-dashboard-dev-mode-decline")},tl=({approve:e,requestId:r,selectionMethod:n=uy.Xv.SINGLE,entryPoint:l=B,successHandler:i=tt})=>{G(e=>new Set(e).add(r)),(e?uV.w.approveRequests.bind(uV.w):uV.w.denyRequests.bind(uV.w))({plan_id:a,plan_type:t,included_request_ids:[r],selection_method:n,entry_point:l}).then(t=>{if(200!==t.status){e9();return}if(t.data.meta.failed_attempts>0){e7({multiple:!1});return}i({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{e9()}).finally(()=>{G(e=>{let t=new Set(e);return t.delete(r),t}),Z(e=>e+1)})},ti=({approve:e,selectedRequestIds:r,approveAll:n,entryPoint:l=B})=>{D(R.current),L(n?"approving_all_button":e?"approving":"denying"),n&&e$&&b(a0.F.enqueue({message:(0,e2.t)("admin_dashboard.requests.selected_count_approving",{numSelected:e$}),type:u4,timeoutOverride:1/0,icon:uB.zX.SPINNER,preventDismissal:!0,role:"status"}));let i=n||w,s=!!(e&&(i||r.length>5)&&ez),o=new Set(r),c=i?{plan_id:a,plan_type:t,subtractive:!0,excluded_request_ids:n?[]:eJ.map(e=>e.id).filter(e=>!o.has(e)),filter_params:n?ew:eb,timestamp:(Y??new Date).toISOString(),selection_method:n?uy.Xv.APPROVE_ALL:uy.Xv.BULK_SELECT,entry_point:l,async_processing:s}:{plan_id:a,plan_type:t,included_request_ids:r,selection_method:uy.Xv.BULK_SELECT,filter_params:ew,entry_point:l,async_processing:s},d=(t,a,r)=>{if(200!==t){e9();return}if(a>0){e7({multiple:!0});return}tt({approve:e,numRequests:r,asyncUpdate:s})},m=()=>{L(!1),D(0),i&&J(e=>e+1),w&&T(!1)};e?uV.w.approveRequests.bind(uV.w)(c).then(e=>{if(d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),s){let t=e.data.meta.processed_request_ids;j(e=>new Set([...e,...new Set(t)]))}Z(e=>e+1)}).catch(()=>{e9()}).finally(()=>{n&&b(a0.F.dequeue({matchType:u4})),m()}):uV.w.denyRequests.bind(uV.w)(c).then(e=>{d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts)}).catch(()=>{e9()}).finally(()=>{m()})},{Sprig:ts}=(0,uD.A)(),to=eB||eW,tc=(e,r=uy.Xv.SINGLE)=>{b(t3.to({type:u2,data:{request:e,planId:a,planType:t,shouldShowBillingGroup:to??!1,billingGroups:to?es:[],onApprove:()=>tn({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:r}),onDeny:()=>tn({approve:!1,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:r,sprig:ts})}}))},td=[{name:(0,e2.t)("admin_dashboard.requests.columns.name"),className:"upgrade_requests_table--avatarColumn--wvdQd upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--VDK1e table--column--974RA",cellComponent:({name:e,email:t,imgUrl:a,userId:r})=>{let n=e||t||(0,e2.t)("admin_dashboard.requests.no_name");return el.createElement(aa.az,{entity:{id:r,name:n,imgUrl:a},size:24,defaultText:uy.Lv})}},{name:(0,e2.t)("admin_dashboard.requests.columns.request"),className:"upgrade_requests_table--requestColumn--i5-ke upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--VDK1e table--column--974RA",cellComponent:e=>el.createElement(uy.yz,{licenseType:e.licenseType})},{name:(0,e2.t)("admin_dashboard.requests.columns.note"),className:"upgrade_requests_table--noteColumn--Do6gK upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--VDK1e table--column--974RA",cellComponent:e=>{let t=!!A||V.has(e.id);return el.createElement(nX.Y,{spacing:8},el.createElement(uK,{text:e.message??uy.Lv,textClassName:null===e.message?eE.cx.colorTextTertiary.$:void 0,textMaxWidth:200,onClickLink:()=>{tc(e)}}),el.createElement(nX.M,null),0===R.current&&"approving_all_button"!==A&&el.createElement(el.Fragment,null,el.createElement(mE.V,{variant:"secondary",disabled:t,onClick:t=>{t.stopPropagation(),tn({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},innerText:"Approve",dataTestId:"approve-button-single",trackingProperties:{accountTypeRequestId:e.id}},(0,uy.Zm)({text:(0,e2.t)("admin_dashboard.requests.approve"),showSpinner:t})),el.createElement("button",{className:"upgrade_requests_table--rowDetailButton--JHX1m",onClick:t=>{t.stopPropagation(),tc(e)}},el.createElement(n0.In,{icon:"chevron-right-32"}))))}}],tm=e=>{switch(r){case uW.Sm.MEMBERS:return el.createElement(e2.Tx,{id:e?"admin_dashboard.configured_upgrade_request_banner.members":"admin_dashboard.configured_upgrade_request_empty_state.members"});case uW.Sm.ALL_USERS:return el.createElement(e2.Tx,{id:e?"admin_dashboard.configured_upgrade_request_banner.all_users":"admin_dashboard.configured_upgrade_request_empty_state.all_users"});default:return null}},tu=el.createElement("div",{className:eE.cx.mx24.mb16.cursorDefault.selectNone.$},el.createElement(nX.Y,{spacing:0},el.createElement(nX.Y,{spacing:0,width:eB&&es.length>0?150:"hug-contents"},el.createElement("div",{role:"button",tabIndex:0,className:et===uy.V7.ALL_MANAGED_REQUESTS||X===uy.V7.ALL_MANAGED_REQUESTS?eE.cx.font13.fontMedium.lh24.colorText.mr8.py4.$:eE.cx.font13.fontMedium.lh24.colorTextSecondary.mr8.py4.$,onClick:()=>{ea(uy.V7.ALL_MANAGED_REQUESTS),en(uy.V7.ALL_MANAGED_REQUESTS),Z(0===Q?1:0)},onMouseEnter:()=>{ee(uy.V7.ALL_MANAGED_REQUESTS)},onMouseLeave:()=>ee(void 0),"data-testid":"your-requests-tab","data-onboarding-key":uE},eB&&es.length>0?el.createElement(e2.Tx,{id:"admin_dashboard.managed_org_requests.title"}):el.createElement(e2.Tx,{id:"admin_dashboard.requests.title"})),el.createElement(uY,{refreshNonce:K,refreshTabCountNonce:Q,viewableBillingGroupIds:!1!==l?[null,...ef]:ef,planType:t,planId:a,managedRequests:!0,showAllOrgRequests:eB??!1,selectedRequestView:et,processedRequestIds:H,showBillingGroupAdminRequests:eW})),eB&&es.length>0&&el.createElement("div",{role:"button",tabIndex:0,className:et===uy.V7.ALL_ORG_REQUESTS||X===uy.V7.ALL_ORG_REQUESTS?eE.cx.font13.fontMedium.lh24.colorText.mr8.py4.$:eE.cx.font13.fontMedium.lh24.colorTextSecondary.mr8.py4.$,onClick:()=>{ea(uy.V7.ALL_ORG_REQUESTS),en(uy.V7.ALL_ORG_REQUESTS),Z(0===Q?1:0)},onMouseEnter:()=>{ee(uy.V7.ALL_ORG_REQUESTS)},onMouseLeave:()=>ee(void 0),"data-testid":"all-org-requests-tab"},el.createElement(e2.Tx,{id:"admin_dashboard.all_org_requests.title",orgName:"loaded"===eL.status?null==(h=null==(f=eL.data)?void 0:f.org)?void 0:h.name:"org"})),eB&&es.length>0&&el.createElement(uY,{refreshNonce:K,refreshTabCountNonce:Q,viewableBillingGroupIds:[null,...ef],planType:t,planId:a,managedRequests:!1,showAllOrgRequests:eB??!1,selectedRequestView:et,processedRequestIds:H,showBillingGroupAdminRequests:eW}),el.createElement(nX.M,null),n&&el.createElement(eT.CY,{trusted:!0,onClick:n,className:eE.cx.fontMedium.$},el.createElement(oK.E,null,el.createElement(e2.Tx,{id:"admin_dashboard.requests.view_history"}))),e$>0&&el.createElement("div",{className:eE.cx.pl16.$},el.createElement(mE.V,{variant:"primary",onClick:()=>{if(null===eG||null===e$)return;let e=A?eu.lQ:()=>tn({approve:!0,approveAll:!0,selectedRequestIds:[]});if(e$===eG&&e$<10){e();return}b(t3.to({type:uz,data:{onConfirm:e,totalRequestCount:e$,filteredRequestCount:eG}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===e$},(0,uy.Zm)({text:(0,e2.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all_button"===A})))),!!r&&eJ.length>0&&el.createElement("div",{style:cs.sx.add({maxWidth:"760px"}).mt16.mb16.$},el.createElement(uF.z,{orientation:"vertical",iconSrc:lq.A,variant:"gray"},el.createElement("div",{className:eE.cx.pr16.$},tm(!0)))));return el.createElement(e8.fu,{name:t6.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:e_?a:void 0,teamId:t===uy.ps.TEAM?a:void 0,entryPoint:"dashDeepLinkEntryPoint"in P?P.dashDeepLinkEntryPoint:""}},el.createElement("div",{className:ey()("upgrade_requests_table--fontSmoothing--RQKgx",eE.cx.pt16.bRadius6.b1.colorBorder.$)},tu,el.createElement("div",{style:cs.sx.add({width:"780px",height:eZ?`${eZ}px`:void 0}).$},el.createElement(u$.Cj,{disabled:!!A,unselectableItemKeys:V,stickyContent:e6,emptyContent:(v=0===x.length&&null===N&&er===et?el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},el.createElement(e2.Tx,{id:r&&eW?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.empty.primary_text"})),el.createElement("div",{style:cs.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$},r?tm(!1):el.createElement(e2.Tx,{id:"admin_dashboard.requests.empty.secondary_text"}))):x.length>0&&null===N&&er===et?el.createElement("div",{className:eE.cx.lh16.cursorDefault.colorText.$},el.createElement(e2.Tx,{id:"admin_dashboard.requests.empty.no_search_results"})):el.createElement("div",{className:eE.cx.lh16.cursorDefault.colorText.$},el.createElement(e2.Tx,{id:"admin_dashboard.requests.empty.no_filter_results",resetFiltersLink:el.createElement(eT.CY,{trusted:!0,onClick:()=>{k(null),en(et),C("")}},el.createElement(e2.Tx,{id:"admin_dashboard.requests.empty.reset_filters"}))})),el.createElement(nX.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center"},v)),items:eJ,getItemKey:e=>e.id,columns:td,itemTypeContext:{itemType:uy.k_,getSelectedCountString:e=>eK?"":"approving"===A?(0,e2.t)("admin_dashboard.requests.selected_count_approving",{numSelected:O}):"denying"===A?(0,e2.t)("admin_dashboard.requests.selected_count_denying",{numSelected:O}):(0,e2.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},getTotalSelected:eK?void 0:(e,t)=>{let a;return a=w&&eG?Math.max(1,eG-(t.length-e.length)):e.length,R.current=a,a},actionBar:"approving_all_button"===A?void 0:e=>eK?el.createElement("div",{className:eE.cx.w150.$},el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER_ON_MENU})):el.createElement("div",{className:"upgrade_requests_table--actionBarButtons--GFmxk"},el.createElement(nX.Y,{spacing:8},el.createElement(mE.V,{variant:"toolbar-secondary",disabled:!!A,onClick:A?eu.lQ:()=>tn({approve:!1,selectedRequestIds:e.map(e=>e.id),sprig:ts}),innerText:"Decline",dataTestId:"decline-button-multiple"},(0,uy.Zm)({text:(0,e2.t)("admin_dashboard.requests.decline"),showSpinner:"denying"===A})),el.createElement(mE.V,{variant:"primary",disabled:!!A,onClick:A?eu.lQ:()=>tn({approve:!0,selectedRequestIds:e.map(e=>e.id)}),innerText:"Approve",dataTestId:"approve-button-multiple"},(0,uy.Zm)({text:(0,e2.t)("admin_dashboard.requests.approve"),showSpinner:"approving"===A})))),actionBarClassName:ey()("upgrade_requests_table--actionBar--ooXSY",eK?void 0:"upgrade_requests_table--actionBarHasContent--kJbMn"),sortState:{columnName:"",isReversed:!1},onSetSortState:eu.lQ,scrollContainerInnerClassName:"upgrade_requests_table--tableScrollContainer--ZezYu",minContentWidth:780,onToggleSelectAll:e=>{T(!e)},onSelectedItemsChange:e=>{0===e.length&&T(!1)},isLoading:eV,onFetchMore:eD?()=>{var e,t;eR&&!eO&&eD&&(null==(t=null==(e=null==ex?void 0:ex.data)?void 0:e.adminDashboardRequests)||t.loadNext(25))}:void 0,hasNewScrollContext:!0,scrollBarAlwaysVisible:!0,itemBasedStyleOverride:e=>e.hasBeenNudged?{row:"upgrade_requests_table--nudgedRequestRow--Nr0f9"}:null}))))}function u8({org:e,isOrgAdmin:t}){var a,r,n,l,i;let s=(0,aX.Rs)(a9.RcX,{orgId:e.id});return el.createElement(u3,{supportedLicenses:[oX.oM.DESIGN,...e.figjam_disabled_at?[]:[oX.oM.WHITEBOARD],oX.oM.DEV_MODE],configuredUpgradeRequestSetting:"loaded"===s.status&&(null==(r=null==(a=s.data.org)?void 0:a.sharedOrgLicenseGroupSetting)?void 0:r.configuredUpgradeRequestSetting.status)===aX.tT.Loaded?(null==(i=null==(l=null==(n=null==s?void 0:s.data)?void 0:n.org)?void 0:l.sharedOrgLicenseGroupSetting)?void 0:i.configuredUpgradeRequestSetting.data)??null:null,planType:uy.ps.ORG,planId:e.id,isOrgAdmin:t,defaultAdminEntryPoint:uy.oc})}var u5=a(643067);function u6(){var e;let t=(0,sQ.usePermissionsState)(),a=t.orgById[t.currentUserOrgId],r=(0,sQ.canAdminOrg)(t.currentUserOrgId,t),n=(0,mq.MX)(),l=(0,mq.RG)(),{groupsUserIsAdminOf:i}=(0,mq.EQ)(n,null==(e=t.user)?void 0:e.id,!r),s=el.useMemo(()=>l?i:[],[l,i]),o=(0,aX.Rs)(a9.$56,{orgId:a.id},{enabled:(0,u5.kA)(a)}),c=el.useMemo(()=>{var e,t,a;let r=((null==(a=null==(t=null==(e=o.data)?void 0:e.currentUser)?void 0:t.baseOrgUser)?void 0:a.workspaceUsers)??[]).filter(e=>e.permission===lm.bp.ADMIN).map(e=>e.workspace);return(0,as.KQ)(r,"name"),r},[o.data]);return{isOrgAdmin:r,licenseGroups:s,workspaces:"loading"===o.status||"disabled"===o.status?(0,aX.Xm)():(0,aX.gB)(c)}}function u9(){var e;let{isOrgAdmin:t,licenseGroups:a,workspaces:r}=u6();return(t?1:0)+a.length+((null==(e=r.data)?void 0:e.length)??0)}function u7(e,t){switch(e){case mz.J7.ACTIVITY:return(0,e2.t)("org_admin_tab.activity");case mz.J7.DASHBOARD:return(0,e2.t)("org_admin_tab.dashboard");case mz.J7.WORKSPACES:return(0,e2.t)("org_admin_tab.workspaces");case mz.J7.TEAMS:return(0,e2.t)("org_admin_tab.teams");case mz.J7.MEMBERS:return(0,e2.t)("org_admin_tab.members");case mz.J7.BILLING:return(0,e2.t)("org_admin_tab.billing");case mz.J7.RESOURCES:switch(t){case mz._d.LIBRARIES:return(0,e2.t)("resources_tab.libraries");case mz._d.SHARED_FONTS:return(0,e2.t)("resources_tab.fonts");case mz._d.APPROVED_PLUGINS:return(0,e2.t)("resources_tab.approved_plugins");case mz._d.APPROVED_WIDGETS:return(0,e2.t)("resources_tab.approved_widgets");default:return(0,e2.t)("org_admin_tab.resources")}case mz.J7.SETTINGS:return(0,e2.t)("org_admin_tab.settings");default:(0,eh.xb)(e)}}var _e=a(996773),_t=a(548593),_a=a(824780),_r=a(860529),_n=a(857602);let _l="admin_settings_selector_dropdown_options--yellowIcon---JAeY admin_settings_link--yellowIcon--OMRNa";function _i({isOrgAdmin:e,licenseGroups:t,workspaces:a}){var r;let n=(0,ei.wA)(),l=(0,ei.d4)(e=>e.orgById)[(0,sK.dq)()],i=(0,uy.ZY)({isIntendedAudience:l.bigma_enabled&&!e}),s=(0,uT.Xf)(l.id),o=(0,ei.d4)(({selectedView:e})=>e);if("loaded"!==s.status)return null;let c=(null==(r=s.data)?void 0:r.invoices)||[],d=c&&(0,ca.hX)(c),m=null;if("orgAdminSettings"===o.view?m=o.orgAdminSettingsViewTab:("licenseGroup"===o.view&&o.subView===mB.GN.ADMIN||"workspace"===o.view&&o.subView===m$.V0.ADMIN||"billingGroupDashboard"===o.view)&&(m=o.selectedTab),!l.bigma_enabled)return null;let u=t.length>0,_=a.length>0;return el.createElement(el.Fragment,null,e&&el.createElement(el.Fragment,null,el.createElement(dB.W.Option,{key:"org-label",disabled:!0},el.createElement(e2.Tx,{id:"admin_settings_selector.dropdown_title.organization"})),el.createElement(dB.W.CheckableOption,{checked:"orgAdminSettings"===o.view,key:`org-${l.id}`,onClick:()=>{n(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:(0,_a.K)(mz.J7,m||mz.J7.DASHBOARD)||mz.J7.DASHBOARD}))}},l.name,d&&el.createElement(_n.YR,{className:_l})),(u||_)&&el.createElement(dB.W.Separator,{key:"post-org-separator"})),u&&el.createElement(el.Fragment,null,!i&&(e||_)&&el.createElement(dB.W.Option,{key:"license-group-label",disabled:!0},el.createElement(e2.Tx,{id:"admin_settings_selector.dropdown_title.billing_groups"})),i&&!e&&el.createElement(el.Fragment,null,el.createElement(dB.W.CheckableOption,{checked:"billingGroupDashboard"===o.view,key:"billing-group-dashboard",onClick:()=>{n(aC.$T({view:"billingGroupDashboard",selectedTab:_r.D.REQUESTS}))}},el.createElement("div",{style:cs.sx.flex.add({maxWidth:"500px"}).$},el.createElement(e2.Tx,{id:"admin_settings_selector.dropdown_title.dashboard"}))),el.createElement(dB.W.Separator,{key:"post-dashboard-separator"}),el.createElement(dB.W.Option,{key:"license-group-label",disabled:!0},el.createElement(e2.Tx,{id:"admin_settings_selector.dropdown_title.billing_groups"}))),t.map(e=>el.createElement(dB.W.CheckableOption,{checked:"licenseGroup"===o.view&&o.subView===mB.GN.ADMIN&&o.licenseGroupId===e.id,key:`license-group-${e.id}`,onClick:()=>{n(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:e.id,selectedTab:(0,mH.g)(m)}))}},el.createElement("div",{style:cs.sx.flex.add({maxWidth:"500px"}).$},el.createElement(oK.E,{truncate:!0},e.name)),(0,mq.NV)(e,c)&&el.createElement(_n.YR,{className:_l}))),_&&el.createElement(dB.W.Separator,{key:"post-license-groups-separator"})),_&&el.createElement(el.Fragment,null,(e||u)&&el.createElement(dB.W.Option,{key:"workspace-label",disabled:!0},el.createElement(e2.Tx,{id:"admin_settings_selector.dropdown_title.workspaces"})),a.map(e=>el.createElement(dB.W.CheckableOption,{checked:"workspace"===o.view&&o.subView===m$.V0.ADMIN&&o.workspaceId===e.id,key:`workspace-${e.id}`,onClick:()=>{n(aC.$T({view:"workspace",subView:m$.V0.ADMIN,workspaceId:e.id,selectedTab:(0,_a.K)(m$.m2,m||m$.rj[0])||m$.rj[0]}))}},el.createElement("div",{style:cs.sx.flex.add({maxWidth:"500px"}).$},el.createElement(oK.E,{truncate:!0},e.name))))))}var _s=a(594994);let _o=(0,_t.rw)();function _c(e){var t,a;let r;let{isOrgAdmin:n,licenseGroups:l,workspaces:i}=u6(),s=(0,sK.sZ)(),o=u9(),c=(0,e0.E1)(),d=(0,ei.d4)(({selectedView:e})=>e),m=!1,u=null;switch(d.view){case"orgAdminSettings":r=(null==s?void 0:s.name)??(0,e2.t)("admin_settings_selector.name.organization_fallback"),u=s?el.createElement(aa.Ro,{entity:s,size:16}):null;break;case"workspace":let _=null==(t=i.data)?void 0:t.find(e=>e.id===d.workspaceId);r=(null==_?void 0:_.name)??(0,e2.t)("admin_settings_selector.name.workspace_fallback"),m="loading"===i.status,u=_?el.createElement(aa.z6,{entity:_,size:16}):null;break;case"licenseGroup":r=(null==(a=l.find(e=>e.id===d.licenseGroupId))?void 0:a.name)??(0,e2.t)("admin_settings_selector.name.billing_group_fallback");break;case"billingGroupDashboard":r=(0,e2.t)("admin_settings_selector.name.dashboard")}let p=(0,uy.ZY)({isIntendedAudience:(null==s?void 0:s.bigma_enabled)&&!n})?o>0&&!m:o>1&&!m,g=el.createElement(_o,{hideInMobileNav:!0,key:"ADMIN_SETTINGS_SELECTOR_TAB",tab:r,selectedTab:r,mobileNavTabTitle:r,chevronClassName:_s.vH,dropdownKey:"ADMIN_SETTINGS_SELECTOR","data-onboarding-key":up,dropdownOptions:el.createElement(_i,{isOrgAdmin:n,licenseGroups:l,workspaces:i.data??[]})},r),E=m?el.createElement(uM.Wi,{className:eE.cx.pr12.h12.w100.$}):el.createElement("div",{className:eE.cx.pr12.$},el.createElement(oK.E,{truncate:!0},r));return el.createElement(_e.W,{left:el.createElement(nX.Y,{width:"hug-contents"},c&&el.createElement(e0.Jd,null),u,!p&&E),showDividerBeforeTabIndex:e.navTabs.length?p?1:0:void 0,tabs:p?[g,...e.navTabs]:e.navTabs,containerClassName:c?"admin_settings_view_toolbar--adminSettingsToolBarContainerWithChevrons--rhKhU admin_settings_view_toolbar--adminSettingsToolBarContainer--chMaX desktop_tool_bar--pageViewToolBarContainer--iC3UY desktop_tool_bar--toolBarContainer--1EjL8":"admin_settings_view_toolbar--adminSettingsToolBarContainer--chMaX desktop_tool_bar--pageViewToolBarContainer--iC3UY desktop_tool_bar--toolBarContainer--1EjL8"})}var _d=a(128646);function _m(e){let t=e.parentBackgroundColor?(0,_d.kx)(e.parentBackgroundColor)?"breadcrumb_item--breadcrumbTextForDarkBackground--zmzPS":"breadcrumb_item--breadcrumbTextForLightBackground--DnSah":"breadcrumb_item--breadcrumbText---56Fa";return el.createElement("button",{className:ey()("breadcrumb_item--breadcrumbContainer--p3-VX",e.parentBackgroundColor?eE.cx.bgTransparent.$:void 0,e.isHoverable?"breadcrumb_item--hoverable--XK3Lt":void 0),onClick:e.onClick},el.createElement("div",{className:ey()(t,{[eE.cx.ml8.$]:!e.isFirstBreadcrumb})},el.createElement(oK.E,{fontSize:13,truncate:!0},e.text)),e.hasSlash&&el.createElement("div",{className:"breadcrumb_item--breadcrumbSlash--TcMzr"},el.createElement(oK.E,{fontSize:13},"/")))}function _u(e){return el.createElement("div",{className:eE.cx.flex.overflowHidden.$},e.items.map((t,a)=>el.createElement(_m,{isFirstBreadcrumb:!a,hasSlash:a!==e.items.length-1,text:t.text,key:a,onClick:t.onClick,parentBackgroundColor:t.parentBackgroundColor,isHoverable:t.isHoverable})))}function __({bigmaEnabled:e}){let t=(0,ei.wA)(),a=u9(),{orgAdminOriginTab:r}=(0,ei.d4)(({selectedView:e})=>e),n=(0,e0.E1)(),l=(0,uy.ZY)({isIntendedAudience:e});if(r)return el.createElement(nX.Y,{direction:"horizontal",padding:{horizontal:32},height:48},n&&el.createElement(e0.Jd,null),el.createElement(_u,{items:[{text:(0,e2.t)("sidebar.admin_dashboard"),onClick:()=>{t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.DASHBOARD}))}},{text:u7(r),onClick:()=>{t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:r}))}}]}));if(l){if(a<1)return null}else if(a<=1)return null;return el.createElement(_c,{navTabs:[]})}let _p="dashboard--container--KKsGd admin_settings_page--container--NGwts",_g="dashboard--overview--ny1rm",_E="dashboard--overviewLeft--wdTpo",_f="dashboard--handle--5rF0W",_h="dashboard--overviewLabel--URDgp",_v="dashboard--overviewValue--3ivjL",_b="org_admin_settings_page_view--container--f4h9e",_y="org_admin_settings_page_view--fileBrowserContentContainer--aH06-",_w="org_admin_settings_page_view--fileBrowserScrollableContainer--in4VL";function _T({}){let e=(0,ei.wA)(),t=(0,sK.sZ)();(0,ei.d4)(({selectedView:e})=>e);let a=(0,ei.d4)(e=>e.avatarEditorState),r=(0,mj.a9)(),n=!!((null==t?void 0:t.bigma_enabled)&&(null==r?void 0:r.license_admin)),l=(null==r?void 0:r.permission)===lm._D.ADMIN,i=((0,dM.NJ)((null==t?void 0:t.id)??null).data??[]).length>0,s=(0,uy.ZY)({isIntendedAudience:(null==t?void 0:t.bigma_enabled)&&!l}),o=(0,mq.MX)(),{groupsUserIsAdminOf:c}=r?(0,mq.EQ)(o,null==r?void 0:r.user_id,n&&!l):{groupsUserIsAdminOf:[]};return el.useEffect(()=>{l?e(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.DASHBOARD})):n?s||(c.length>0?e(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:c[0].id,selectedTab:(0,mH.g)(mB.RM.MEMBERS)})):e(aC.$T(mK.o0))):e(aC.$T(mK.o0))}),t&&n&&!l?el.createElement(el.Fragment,null,el.createElement(aV.p,null,el.createElement(ub,{org:t,isWorkspaceAdmin:i})),el.createElement(uw.r,{containerClass:_y,scrollableContainerClass:_w,toolbar:el.createElement(__,{bigmaEnabled:null==t?void 0:t.bigma_enabled}),content:el.createElement("div",{className:_p},el.createElement("div",{className:_g},el.createElement("div",{className:_E},el.createElement(mJ.ER,{dispatch:e,entityType:mY.ck.ORG,entity:t,size:80,avatarEditorState:a}),el.createElement("div",{className:_f},el.createElement(oK.E,{fontWeight:"regular",fontSize:24},t.name)))),el.createElement(nX.Y,{spacing:16,direction:"vertical"},el.createElement("div",{className:eE.cx.mb16.$},el.createElement(uL,null),el.createElement(u8,{org:t,isOrgAdmin:l}))))})):null}var _x=a(441748),_C=a(324666);function _N(){return null}var _k=a(498750),_S=a(411916),_I=a(935757),_A=a(840083),_L=a(726732),_R=a(225868),_O=a(270056),_D=a(723245),_F=a(688083),_M=a(164249);let _P={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"};var _B=a(498138),_U=a(413695),_W=a(134279),_V=a(172115),_G=a(742809),_$=a(7e3),_j=a(746869),_H=a(389643),_q=a(325078);function _Y(){return el.createElement(oj.Ex,{color:oj.zE.INFORMATIONAL,text:(0,e2.t)("team_list.pro_trial"),className:"pro_trials_badge--proTrialsBadge--HmAFD team_link--freeBadge--v-ioI team_link--badge---CC2o"})}var _z=a(177514),_K=a(92912),_J=a(741726);function _Q(e){var t,a,r,n,l;let{getConfig:i}=(0,ep.I7)("exp_all_admin_request_dash"),s=(0,aX.Rs)(a9.HpJ,{orgId:e.planId},{enabled:e.planType===uy.ps.ORG}),o="loaded"===s.status&&null!=(a=null==(t=s.data)?void 0:t.org)&&!!a.bigmaEnabledAt&&i().get("enabled",!1)&&!!e.isOrgAdmin,c=(0,uy.ZY)({isIntendedAudience:e.planType===uy.ps.ORG&&"loaded"===s.status&&null!=(n=null==(r=s.data)?void 0:r.org)&&!!n.bigmaEnabledAt&&!1===e.isOrgAdmin}),d=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,m=(0,aX.Rs)(a9.KR2,{planType:e.planType,planId:e.planId,filterParams:o||c?JSON.stringify({billing_group_ids:d}):JSON.stringify({billing_group_ids:[null]})}),u=(0,uy.IA)({planType:e.planType,planId:e.planId,isOrgAdmin:e.isOrgAdmin}),_=e.planType===uy.ps.TEAM||e.isOrgAdmin,p="loaded"===m.status&&m.data.adminDashboardRequestsTotalCount.status===_J.tT.Loaded&&("loaded"===s.status||e.planType===uy.ps.TEAM)?null==(l=m.data.adminDashboardRequestsTotalCount.data)?void 0:l.rowCount:void 0,g=p??0,[E,f]=(0,eU.fp)(uH),[h,v]=(0,eU.fp)(uq),b=o?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();el.useEffect(()=>{let t=e.isDataLoaded&&null!==u;if(p&&(t||!_)){let t={...E};t[b]=g,f(t);let a={...h};a[b]=!!(u||e.showDevModeOptIn),v(a)}return()=>{let e={...E};delete e[b],f(e);let t={...h};delete t[b],v(t)}},[e.isDataLoaded,p,b,e.showDevModeOptIn,u]);let y=e.showDevModeOptIn||h[b]?1:0,w=(E[b]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0)+y;if(w<1)return null;let T=oj.zE.DEFAULT;return e.billingStatusCount||e.taxStatusCount||y?T=oj.zE.WARNING:e.isSelected&&(T=oj.zE.LIGHT),void 0!==p&&w>0&&e.isDataLoaded&&(null!==u||!_)?el.createElement(oj.Ex,{text:w.toString(),color:T,className:T===oj.zE.DEFAULT?eE.cx.mr0.colorText.colorBgSelectedSecondary.$:eE.cx.mr0.$,dataTestId:"admin-notifications-badge"}):null}var _Z=a(724874),_X=a(131043);function _0(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.teams)[e.team.id],r=el.useCallback(r=>{r.stopPropagation(),t(aC.$T({view:"teamAdminConsole",teamId:e.team.id,isProTeam:null==a?void 0:a.pro_team})),(0,e7.sx)("Admin Console Opened",{trackingContext:e.trackingContextName,entryPoint:"sidebar"})},[t,e.team,e.trackingContextName,null==a?void 0:a.pro_team]);return el.createElement(no.Me,{svg:_X.A,onClick:r,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("sidebar.admin_console"),className:"admin_console_button--button--i6mRJ addition_button--button--HkbbE"})}function _1(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.currentTeamId),r=(0,ei.d4)(e=>e.teams),n=(0,ei.d4)(sQ.getPermissionsState);if(!a)return null;let l=r[a];if(!(0,sQ.hasAdminRoleAccessOnTeam)(a,n)||!l||!(0,d2.w5)(l))return null;let i=e.selectedView&&"teamAdminConsole"===e.selectedView.view,s=el.createElement(_Q,{planType:uy.ps.TEAM,planId:a,isSelected:i,isDataLoaded:!0});return el.createElement(_Z.Z,{isSelected:i,onClick:()=>{t(aC.$T({view:"teamAdminConsole",teamId:a,isProTeam:l.pro_team})),t(aC.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:l.id}))},"data-onboarding-key":"PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY","data-testid":"admin-settings-link",icon:el.createElement(n0.In,{icon:"settings-16"}),text:el.createElement(oK.E,{i18nId:"sidebar.admin_dashboard",truncate:!0}),badge:(null==l?void 0:l.pro_team)?s:void 0})}let _2="team_link--lockedBadge--efn5P team_link--badge---CC2o",_4="team_link--badgeButton--Brq7u",_3="team_link--teamWarningIcon--snAjK";function _8(e){var t;let a;let r=(0,ei.wA)(),[n,l]=el.useState(!1),i=e.team,s=function(e,t){if(e&&e.type===_z.RQ&&e.data.teamId in t)return t[e.data.teamId]}(e.dropdownShown,e.teams),o=null;e.selectedView&&"team"===e.selectedView.view&&e.selectedView.teamId===i.id&&e.renamingNavTeamWithId!==i.id?o=e.selectedItemRef:s&&s.id===i.id&&(a="team_link--contextSelectedTeam--bZPoF team_link--team--wV3QB sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd");let c=(0,sQ.hasAdminRoleAccessOnTeam)(i.id,e.permissionsState),d=(0,sQ.hasEditorRoleAccessOnTeam)(i.id,e.permissionsState),m=(0,sQ.canEditTeam)(i.id,e.permissionsState),u=(0,sQ.getPermissionsState)(e.permissionsState),_=!!e.draggable&&(n||e.dragState.type===_M.R.Team&&(null==(t=e.dragState.data)?void 0:t.id)===e.team.id),p=e.renamingNavTeamWithId===i.id,g=(()=>{var t,a;let r=e.teams[e.team.id];return!!((null==(t=null==r?void 0:r.restrictions_list)?void 0:t.includes(lm.P4.FILES_LIMITED_LEGACY))||(null==(a=null==r?void 0:r.restrictions_list)?void 0:a.includes(lm.P4.WHITEBOARD_FILES_LIMITED_BETA)))})(),E=(0,d2.oc)(i.id,u),f=!p&&!(0,dP.R$)(e.user,e.currentUserOrgId)&&n&&!(g||E),h=!p&&c&&(0,d2.XX)(e.team)&&!e.team.orgId,v={showReminder:!1,showAccessRestricted:!1};return u.user&&(v=(0,d0.GU)(u.userEduGracePeriods,(0,d0.cn)(u.user),i.id,!!i.studentTeamAt)),el.createElement("div",{onContextMenu:t=>{t.stopPropagation(),t.preventDefault(),e.team&&(0,_H.xN)(e.team.id,{dispatch:r});let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};r(aC.j7({type:_z.RQ,data:{teamId:e.team.id,targetRect:a}}))},onMouseOver:()=>{l(!0)},onMouseLeave:()=>{l(!1)},ref:o,"data-onboarding-key":e.onboardingKey},el.createElement(_Z.Z,{rowClassName:a,onClick:t=>{let a=e.team;r(sq.dm(a.id)),r(aC.Oe({clickedResourceType:"team",resourceIdOrKey:a.id}))},showGrabber:_,isSelected:e.selectedView&&"team"===e.selectedView.view&&e.selectedView.teamId===i.id&&!p,icon:el.createElement("div",{className:eE.cx.h16.w16.flex.itemsCenter.justifyCenter.$},el.createElement(oq.nl,{size:{imgSize:oq.Pf.SMALL,fallbackSize:oq.Pf.XSMALL},fallbackDisplay:_W.U.HIDDEN,team:{...e.team,imgUrl:e.team.imgUrl||void 0}})),text:el.createElement("div",{className:eE.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},p?el.createElement(_U.p,{className:"team_link--teamNameInput--iJg2Y input--input--IPk3x",placeholderValue:i.name,submit:t=>{r((0,dF.IA)({team:e.team,name:t})),r(aC.tw({teamId:e.team.id}))},cancel:()=>{r(aC.tw({teamId:e.team.id}))}}):el.createElement(oK.E,{truncate:!0},i.name),el.createElement(_5,{team:i,dispatch:r,permissionsState:e.permissionsState,selectedView:e.selectedView,shouldShowFileLimitBadge:g,eduVerificationNeeded:v})),badge:el.createElement(el.Fragment,null,f&&el.createElement(_K.I,{team:e.team,trackingContextName:t6.e0.FILE_BROWSER}),h&&el.createElement(_0,{team:e.team,trackingContextName:t6.e0.FILE_BROWSER}))}),!(0,_D.D6)(e.currentUserOrgId)&&s&&s.id===i.id&&el.createElement(_q.W,{team:{...s,canEdit:m,canEditTeamContents:d},onRenameClick:e=>{r(aC.m({teamId:e.id}))},onChangeTeamIconClick:()=>{r((0,_G.o)({team:{...e.team,imgUrl:e.team.imgUrl||void 0}}))},teamRoleRequests:e.teamRoleRequests}),c&&el.createElement("span",{className:"team_link--hiddenEditableAvatar--CI5Py"},el.createElement(mJ.ER,{entity:{...i,imgUrl:i.imgUrl||void 0},entityType:mY.ck.TEAM,avatarEditorState:e.avatarEditorState,size:14,dispatch:r})))}function _5(e){var t,a,r,n;let[l,i]=el.useState(!1),s=el.useRef(),o=(0,_$.TN)(e.team.id);if(e.shouldShowFileLimitBadge)return el.createElement(_n.YR,{className:_3,dataTooltipType:aA.Ib.TEXT,dataTooltip:(0,e2.t)("team_list.your_team_is_over_the_starter_plan_s_file_limit"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});let c=e.permissionsState,d=(0,sQ.getRolesForUserAndTeam)(e.team.id,c),m=(0,sQ.hasMinRole)(d,oi.e6.EDITOR);if(c.user&&((null==(t=e.eduVerificationNeeded)?void 0:t.showReminder)||(null==(a=e.eduVerificationNeeded)?void 0:a.showAccessRestricted))&&m){let t=el.createElement(_n.YR,{className:_3,dataTooltipType:aA.Ib.TEXT,dataTooltip:(0,e2.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});return(null==(r=e.eduVerificationNeeded)?void 0:r.showReminder)&&(t=el.createElement(_n.vW,{className:_3,dataTooltipType:aA.Ib.TEXT,dataTooltip:(0,e2.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})),t}let u=null==(n=c.user)?void 0:n.id,_=t=>{e.dispatch((0,t3.to)({type:_V.V,data:{teamId:e.team.id,upsellSource:t}}))};if((0,d2.oc)(e.team.id,e.permissionsState)){if(e.team.studentTeamAt&&(0,em.kc)().edu_onboarding_grace_period)return null;let t=_j.ng.canSeeProTrialExpiryUx(o);return(0,sQ.hasEditorRoleAccessOnTeam)(e.team.id,c)?t?el.createElement(e8.fu,{name:oj._Y.PRO_TRIAL_EXPIRED,properties:{userId:u,teamId:e.team.id,..._j.ng.getTrackingProperties()}},el.createElement(e8.$z,{type:"button",onClick:()=>_(d8.b.PRO_TRIAL_UPSELL_MODAL),className:_4,trackingProperties:_j.ng.getTrackingProperties("Badge Clicked")},el.createElement("span",{"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.PRO_TRIAL_EXPIRED,"data-tooltip-show-right":!0,"data-tooltip-max-width":128,"data-tooltip-timeout-delay":50},el.createElement(oj.Ex,{color:oj.zE.WARNING,text:(0,e2.t)("team_list.pro_trial_expired"),className:_2})))):el.createElement(e8.fu,{name:oj._Y.LOCKED,properties:{userId:u,teamId:e.team.id}},el.createElement(e8.$z,{type:"button",onClick:()=>_(d8.b.LOCKED_TEAM_BADGE),className:_4,trackingProperties:{text:"Badge Clicked"}},el.createElement(oj.Ex,{color:oj.zE.WARNING,text:(0,e2.t)("team_list.locked"),className:_2}))):t?el.createElement(e8.fu,{name:oj._Y.PRO_TRIAL_EXPIRED,properties:{userId:u,teamId:e.team.id,..._j.ng.getTrackingProperties()}},el.createElement(oj.Ex,{color:oj.zE.WARNING,text:(0,e2.t)("team_list.pro_trial_expired"),className:_2})):el.createElement(oj.Ex,{color:oj.zE.WARNING,text:(0,e2.t)("team_list.locked"),className:"team_link--badge---CC2o"})}return o&&_j.ng.canSeeProTrialUx(o)?el.createElement(e8.fu,{name:oj._Y.PRO_TRIAL,properties:{userId:u,teamId:e.team.id,..._j.ng.getTrackingProperties()}},el.createElement(e8.$z,{type:"button",onClick:()=>_(d8.b.PRO_TRIAL_UPSELL_MODAL),className:_4,trackingProperties:_j.ng.getTrackingProperties("Badge Clicked")},el.createElement("span",{"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.PRO_TRIAL,"data-tooltip-pro-trials-days-left":o.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50},el.createElement(_Y,null)))):!(0,d2.XX)(e.team)&&(0,sQ.hasEditorRoleAccessOnTeam)(e.team.id,c)?el.createElement("button",{onClick:t=>{t.stopPropagation(),e.dispatch(sq.dm(e.team.id)),_(d8.b.STARTER_TEAM_BADGE),(0,e7.sx)("Starter Team Badge Clicked",{userId:u,teamId:e.team.id})},onMouseEnter:()=>{l||(s.current=setTimeout(()=>{(0,e7.sx)("Starter Team Badge Viewed",{userId:u,teamId:e.team.id}),i(!0)},1e3))},onMouseLeave:()=>{clearTimeout(s.current)},className:_4},el.createElement(oj.Ex,{color:oj.zE.INFORMATIONAL,text:(0,e2.t)("team_list.free"),className:"team_link--freeBadge--v-ioI team_link--badge---CC2o"})):null}let _6="nav_section--folderSeparatorBefore--w0vC8";function _9(e,t,a){let{projects:r,sidebarData:n}=a,l=(null==n?void 0:n.fileBrowserSectionPreferences)||[],i=[];for(let a of l)if("team"===a.sectionType){if("team"===e&&a.teamId===(t||null)){i=a.orderedFolderIds||[];break}}else e===a.sectionType&&(i=a.orderedFolderIds||[]);return r.sort((e,t)=>{let a=i.indexOf(e.id),r=i.indexOf(t.id);return a<r?-1:r<a?1:0}),r}function _7(e,t,a,r,n,l){var i,s;let o=pa(t,e.permissionsState),c=null==(s=null==(i=e.sidebarData)?void 0:i.fileBrowserSectionPreferences)?void 0:s.filter(e=>e.sectionType===a&&("team"!==a||e.teamId===(null==r?void 0:r.id))),d=c&&c.length>0?c[0].id:void 0;o===a&&(a!==_P.TEAM||t.teamId===(null==r?void 0:r.id))?pe(e,a,null==r?void 0:r.id,t.id,n,l,d):r&&pt(e,t,a,r,n,l,d)}let pe=(e,t,a,r,n,l,i)=>{let s=_9(t,a,e).map(e=>e.id),o=(0,as.Pe)(s,r,n,l);o!==s&&e.dispatch(_R.L5.put({prefs:t===_P.TEAM?{id:i,section_type:t,team_id:a,ordered_folder_ids:o}:{id:i,section_type:t,ordered_folder_ids:o},userInitiated:!0}))},pt=(e,t,a,r,n,l,i)=>{if(!r)return;e.dispatch((0,_F.Nr)({folder:t,team:r}));let s=_9(a,r.id,e).map(e=>e.id),o=null==n?-1:s.indexOf(n);return o<0?o=l?0:s.length:l||(o+=1),s.splice(o,0,t.id),e.dispatch(_R.L5.put({prefs:a===_P.TEAM?{id:i,section_type:a,team_id:r.id,ordered_folder_ids:s}:{id:i,section_type:a,ordered_folder_ids:s},userInitiated:!0})),!0},pa=(e,t)=>{var a;return e.teamId&&e.teamId in t.roles.byTeamId?_P.TEAM:e.id===(null==(a=t.user)?void 0:a.drafts_folder_id)?_P.USER_DRAFTS:_P.USER_FOLDERS};class pr extends el.Component{constructor(e){super(e),this.isDragTarget=e=>{var t,a;if(this.props.isEnterpriseSidenavEnabled&&(null==(t=this.props.dragState.data)?void 0:t.licenseGroupId)&&this.props.dragState.data.licenseGroupId!==(null==(a=this.props.licenseGroup)?void 0:a.id))return!1;if(this.props.dragState.type===_M.R.Folder){let e=this.props.dragState.data,t=pa(e,this.props.permissionsState);return!!(t===_P.USER_FOLDERS&&(0,d2.S$)(e,this.props.team,this.props.user))||!!t&&this.props.acceptDropsFrom.has(t)}return!1},this.onDragEnter=(e,t)=>{this.props.dragState.type===_M.R.Folder&&this.setState({draggingOverFolderId:e})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=e=>{this.setState(t=>t.draggingOverFolderId===e?{draggingOverFolderId:null}:null)},this.onDragDrop=e=>{let t=this.props.dragState.data;_7(this.props,t,this.props.sectionType,this.props.team,e,this.state.draggingBefore),this.setState({draggingOverFolderId:null})},this.state={draggingOverFolderId:null,draggingBefore:!1}}render(){var e;let t=_9(this.props.sectionType,null==(e=this.props.team)?void 0:e.id,this.props),a=(0,_D.D6)(this.props.currentUserOrgId)?"nav_section--folderSeparatorOffCustomSections--6hdsz nav_section--sectionTextCustomSections--fBJwL sidebar--sectionTextCustomSections--50Fot sidebar--sectionContentCustomSections--1ApO4 ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOff--rC-YF nav_section--sectionText--NrIVe sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa",r=(0,_D.D6)(this.props.currentUserOrgId)?"nav_section--folderSeparatorOnCustomSections--efwYP nav_section--folderSeparatorOffCustomSections--6hdsz nav_section--sectionTextCustomSections--fBJwL sidebar--sectionTextCustomSections--50Fot sidebar--sectionContentCustomSections--1ApO4 ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOn--bxWif nav_section--folderSeparatorOff--rC-YF nav_section--sectionText--NrIVe sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa";return el.createElement("div",{className:0===t.length?"nav_section--orderedFoldersEmpty--O2IsY nav_section--orderedFolders--c6jTR":"nav_section--orderedFolders--c6jTR"},el.createElement("div",{className:_6},el.createElement("div",{className:this.props.showPrependIndicator||0===t.length&&this.props.showAppendIndicator?r:a})),t.length>0&&t.map((e,n)=>el.createElement(eg.Y,{key:e.id,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,e.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,e.id),onTargetDrop:this.onDragDrop.bind(this,e.id),style:{position:"relative"}},el.createElement("div",{className:_6},el.createElement("div",{className:this.state.draggingOverFolderId===e.id&&this.state.draggingBefore?r:a})),el.createElement(_B.BS,{key:`folder-${e.id}`,folder:e,team:this.props.team,disambiguationFolders:this.props.sectionType===_P.USER_FOLDERS?t:void 0,isSharedProject:this.props.sectionType===_P.USER_FOLDERS,...this.props,draggable:!0}))),el.createElement("div",{className:"nav_section--folderSeparatorAfter--mjSpu"},el.createElement("div",{className:this.props.showAppendIndicator&&t.length>0?r:a})))}}pr.displayName="OrderedFolders";class pn extends el.PureComponent{constructor(e){super(e),this.isDragTarget=e=>{var t,a;if(this.props.isEnterpriseSidenavEnabled&&(null==(t=this.props.dragState.data)?void 0:t.licenseGroupId)&&this.props.dragState.data.licenseGroupId!==(null==(a=this.props.licenseGroup)?void 0:a.id))return!1;if(this.props.dragState.type===_M.R.Folder){let e=this.props.dragState.data,t=pa(e,this.props.permissionsState);return!!(t===_P.USER_FOLDERS&&(0,d2.S$)(e,this.props.team,this.props.user))||!!t&&this.props.acceptDropsFrom.has(t)}return!1},this.onDragEnter=()=>{this.props.dragState.type===_M.R.Folder&&this.setState({isDraggingFolder:!0})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=()=>{this.setState({isDraggingFolder:!1})},this.onDragDrop=()=>{if(this.props.dragState.type===_M.R.Folder&&this.props.team){let e=this.props.dragState.data;_7(this.props,e,this.props.sectionType,this.props.team,null,this.state.draggingBefore)}this.setState({isDraggingFolder:!1})},this.state={isDraggingFolder:!1,draggingBefore:!1}}render(){return el.createElement(eg.Y,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDragDrop},el.createElement("div",{className:"nav_section--section---PKEC sidebar--section--OukoN"},this.props.sectionType===_P.USER_FOLDERS&&el.createElement(el.Fragment,null,el.createElement(pr,{showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore,...this.props})),this.props.sectionType===_P.TEAM&&el.createElement(el.Fragment,null,el.createElement(_8,{...this.props,team:this.props.team,projects:this.props.projects,onboardingKey:this.props.onboardingKey}),el.createElement(pr,{showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore,...this.props}))))}}function pl(e){let t=e.projectsByTeam[pn.USER_FOLDERS]||[],a=(0,ei.d4)(e=>e.renamingNavFolderWithId),r=(0,ei.d4)(e=>e.renamingNavTeamWithId),n=(0,ei.d4)(e=>e.favorites),l=(0,ei.d4)(e=>e.teamRoleRequests),i=(0,ei.d4)(e=>e.avatarEditorState);return el.createElement(pn,{renamingNavFolderWithId:a,renamingNavTeamWithId:r,favorites:n,teamRoleRequests:l,avatarEditorState:i,sectionType:_P.USER_FOLDERS,team:null,projects:t,acceptDropsFrom:new Set([_P.USER_FOLDERS]),...e})}function pi(e){let t=e.team.id,a=e.projectsByTeam[t]||[],r=(0,ei.d4)(e=>e.renamingNavFolderWithId),n=(0,ei.d4)(e=>e.renamingNavTeamWithId),l=(0,ei.d4)(e=>e.favorites),i=(0,ei.d4)(e=>e.teamRoleRequests),s=(0,ei.d4)(e=>e.avatarEditorState);return el.createElement(pn,{renamingNavFolderWithId:r,renamingNavTeamWithId:n,favorites:l,teamRoleRequests:i,avatarEditorState:s,sectionType:_P.TEAM,acceptDropsFrom:new Set([_P.TEAM]),projects:a,onboardingKey:e.onboardingKey,...e})}pn.displayName="NavSection",pn.USER_FOLDERS="USER_FOLDERS",pn.USER_DRAFTS="USER_DRAFTS";var ps=a(109388),po=a(112967),pc=a(54552),pd=a(837502),pm=a(309798),pu=a(566067),p_=a(455566),pp=a(407840),pg=a(444173),pE=a(51924);function pf(e){let t=(0,ei.d4)(e=>e.teams),a=(0,ei.d4)(e=>e.roles.byTeamId),r=(0,ei.d4)(e=>e.user),n=(0,pm.f)("team_creation_speed_bump_dismissed"),l=(0,ep.I7)("starter_team_loophole_experiment_m0"),i=(0,ep.I7)("starter_team_loophole_experiment_m1");return el.createElement("div",{className:"new_team_link--createNewTeamLink--C-QyN","data-onboarding-key":pp.CREATE_TEAM_ONBOARDING_KEY},el.createElement(pv,{currentOrgId:e.currentOrgId,onClick:()=>{if(e.currentOrgId)e.dispatch(t3.to({type:pu.Uc,data:{}}));else{let s=()=>{e.dispatch(sq.Dw({}))};(null==r?void 0:r.id)&&!n&&(0,mM.Ct)(r.id,Object.values(t),a)&&!(0,oz.e5)({userId:r.id,teams:Object.values(t),rolesByTeamId:a,getM0Config:l.getConfig,getM1Config:i.getConfig})?e.dispatch(t3.to({type:p_.FK,data:{user:r,startTeamCreation:s,editorType:null}})):s()}},onMouseEnter:e.onMouseEnter,dimmed:e.disabled??!1,"data-tooltip-type":e.tooltipText?aA.Ib.TEXT:void 0,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,disabled:e.disabled},el.createElement(e2.Tx,{id:"sidebar.create_new_team"})))}function ph(e){var t;let a=(0,ei.wA)();return el.createElement("div",{className:"new_team_link--teamsListEmptyState--vk11j sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(eC.B,{className:"new_team_link--icon--dXnGA sidebar--icon--nwW61",svg:pE.A}),el.createElement("div",{className:e.org&&(0,_D.D6)(e.org.id)?"new_team_link--teamsListEmptyStateContentCustomSections--hmatx sidebar--sectionContentCustomSections--1ApO4":"new_team_link--teamsListEmptyStateContent--n7M3P sidebar--sectionContent--9XFWF"},el.createElement(e2.Tx,{id:"sidebar.your_teams_and_favorited_projects_will_appear_here"}),(null==(t=e.org)?void 0:t.id)&&!e.isOrgGuest&&el.createElement("a",{className:"new_team_link--blueLink--327PG blue_link--blueLink--9rlnd",onClick:()=>{e.org&&a(aC.$T({view:"org",orgId:e.org.id,orgViewTab:mU.X.HOME}))}},el.createElement(e2.Tx,{id:"sidebar.browse_org",orgName:e.org.name}))))}let pv=(0,e8.tf)(function(e){let{currentOrgId:t,children:a,onClick:r,dimmed:n,disabled:l,...i}=e;return el.createElement("div",{className:l?"new_team_link--navLinkDisabled--4waBq new_team_link--_navLink--rrVYJ sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd":n?"new_team_link--navLinkDimmed--EBWw1 new_team_link--_navLink--rrVYJ sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd":"new_team_link--navLink--4jFJa new_team_link--_navLink--rrVYJ sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:l?void 0:r,...i},el.createElement(_Z.Z,{icon:el.createElement(eC.B,{"data-onboarding-key":"new-team-icon",className:eE.cx.colorIcon.$,svg:pg.A}),text:el.createElement(el.Fragment,null,a)}))});function pb(){let e=(0,ei.wA)(),t=(0,sJ.z3)();return el.createElement(_Z.Z,{onClick:()=>{e(aC.$T({view:"recentsAndSharing",tab:mW.G.RECENTLY_VIEWED})),e(aC.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentFiles"===t||"recentsAndSharing"===t,icon:el.createElement(n0.In,{icon:"recent-16"}),text:el.createElement(oK.E,{i18nId:"sidebar.recents",truncate:!0})})}var py=a(578585);let pw="admin_settings_link--yellowIcon--OMRNa";var pT=a(612325),px=((i=px||{}).WARNING="warning",i.NOTICE="notice",i);function pC(e){var t,a,r;let n;let l=(0,ei.wA)(),i=e.orgUser.permission===lm._D.ADMIN,s=(0,mq.RG)(),o=(0,mq.MX)(),{groupsUserIsAdminOf:c}=(0,mq.EQ)(o,e.orgUser.user_id,!i),d=(0,uT.Xf)(e.org.id),m="loaded"===d.status?(null==(t=d.data)?void 0:t.invoices)??[]:void 0;el.useEffect(()=>{l(py.Jt({forceRefetch:!1}))},[l,e.org.id]);let{groupsToReview:u}=(0,mq.Cz)(c,m),_=null==(a=c[0])?void 0:a.id,p=e.org.bigma_enabled&&s&&!!_,g=(0,dM.NJ)(e.org.id).data??[],E=e.org.bigma_enabled&&g.length>0,f=i||p||E,h=(0,uy.ZY)({isIntendedAudience:e.org.bigma_enabled&&!i}),v=(0,aX.Rs)(a9.Wt6,{orgId:e.org.id},{enabled:i}),b="loaded"===v.status?null==(r=v.data.org)?void 0:r.taxIdVerificationStatus:void 0;if(!f)return null;let y=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===mB.GN.ADMIN;case"workspace":return e.subView===m$.V0.ADMIN;default:return!1}}(e.selectedView);return i?n=el.createElement(pA,{planType:uy.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:o,taxIdVerificationStatus:b,invoices:m,isSelected:y}):p&&(n=h?el.createElement(pI,{invoices:m,groupsUserIsAdminOf:c,isSelected:y,planId:e.org.id,planType:uy.ps.ORG}):el.createElement(pS,{invoices:m,showTooltip:!0,org:e.org,orgUser:e.orgUser})),el.createElement(_Z.Z,{icon:el.createElement(n0.In,{icon:"settings-16"}),text:el.createElement(oK.E,{i18nId:"sidebar.admin_dashboard",truncate:!0}),isSelected:y,onClick:()=>{let e=m&&(0,ca.hX)(m);if(i){let e=mz.J7.DASHBOARD;l(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),l(aC.Oe({clickedResourceType:"orgAdminSettings"}))}else p?h?l(aC.$T({view:"billingGroupDashboard",selectedTab:_r.D.REQUESTS})):(l(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:e&&u.length>0?u[0].id:_,selectedTab:(0,mH.g)(e&&u.length>0?mB.RM.MEMBERS:mB.Uu[0])})),l(aC.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):E&&(l(aC.$T({view:"workspace",subView:m$.V0.ADMIN,workspaceId:g[0].id,selectedTab:m$.rj[0]})),l(aC.Oe({clickedResourceType:"workspaceAdminSettings"})))},badge:n,dataTestId:"admin-settings-link"})}function pN(e,t,a,r,n,l){if(!r||!(0,ca.i0)(r))return null;if(l){if(!n)return null;let{groupsUserIsAdminOf:e}=(0,mq.EQ)(a,t.user_id,l),{groupsToReview:i}=(0,mq.Cz)(e,r);if(0===i.length)return null}return{tooltipData:(0,ca.XL)(e,r,l),iconStyle:(0,ca.m3)(r)?"admin_settings_link--redIcon--kVAJJ":pw,iconType:(0,ca.m3)(r)?"warning":"notice"}}function pk(e){return e!==lm.kI.UNVERIFIED?null:{tooltipData:(0,e2.t)("billing_status.tax_id.invalid"),iconStyle:pw,iconType:"notice"}}function pS(e){var t;let a=(0,ei.wA)(),r=(0,mq.MX)(),n=e.invoices&&(0,ca.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==lm._D.ADMIN,i=(0,aX.Rs)(a9.Wt6,{orgId:e.org.id}),s="loaded"===i.status?null==(t=i.data.org)?void 0:t.taxIdVerificationStatus:null;el.useEffect(()=>{n&&l&&a(py.Jt({forceRefetch:!1}))},[a,e.org.id,n,l]);let o=(()=>{switch(e.highlightType){case ca.EZ.BILLING_STATUS:return pN(e.org,e.orgUser,r,e.invoices,n,l);case ca.EZ.TAX_ID_STATUS:return pk(s);default:return pN(e.org,e.orgUser,r,e.invoices,n,l)||pk(s)}})();if(!o)return null;let c=`${o.iconStyle} ${e.inlineIcon?"admin_settings_link--inline--C-5OZ":""} ${e.alignTop?"admin_settings_link--multiLineIcon--qJnnu":""}`,d={};e.showTooltip&&(d["data-tooltip-type"]=aA.Ib.TEXT,d["data-tooltip"]=o.tooltipData,d["data-tooltip-show-below"]=!0,d["data-tooltip-timeout-delay"]=50,d["data-tooltip-max-width"]=117);let m=el.createElement(eC.B,{className:`admin_settings_link--warningSvg--C1P1z ${c}`,svg:pT.A,useOriginalSrcFills_DEPRECATED:!0,...d}),u=e.showTooltip?el.createElement(_n.YR,{className:c,dataTooltipType:d["data-tooltip-type"],dataTooltip:d["data-tooltip"],dataTooltipShowBelow:d["data-tooltip-show-below"],dataTooltipTimeout:d["data-tooltip-timeout-delay"],dataTooltipMaxWidth:d["data-tooltip-max-width"]}):el.createElement(_n.YR,{className:c}),_="warning"===o.iconType?m:u;return(0,e8.T8)(_,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function pI(e){let t=0;if(e.invoices){let{groupsToReview:a}=(0,mq.Cz)(e.groupsUserIsAdminOf,e.invoices);a.length>0&&(t=1)}return el.createElement(_Q,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices,showDevModeOptIn:!1})}function pA(e){var t,a;let r=(0,mq.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id),n=e.invoices&&(0,ca.i0)(e.invoices)?1:0,l=(0,aX.Rs)(a9.lVt,{orgId:e.planType===uy.ps.ORG?e.planId:""},{enabled:e.planType===uy.ps.ORG}),i="loaded"===l.status,s=!!(e.planType===uy.ps.ORG&&i&&(0,ca.CA)((null==(a=null==(t=l.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null)),o=e.taxIdVerificationStatus===lm.kI.UNVERIFIED?1:0;return i&&void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?el.createElement(_Q,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:n,managedBillingGroups:r,taxStatusCount:o,isDataLoaded:i&&void 0!==e.invoices,showDevModeOptIn:s}):null}function pL(e){let t=(0,ei.d4)(e=>e.currentTeamId),a=(0,ei.wA)();return t?el.createElement(_Z.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{a(sq.dm(t)),a(aC.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:el.createElement(n0.In,{icon:"grid-32"}),text:el.createElement(oK.E,{i18nId:"sidebar.all_projects",truncate:!0})}):null}var pR=a(87627);function pO(e){let t=(0,ei.wA)(),a=(0,sJ._6)(),r="workspace"===a.view&&a.workspaceId===e.workspace.id;return el.createElement(_Z.Z,{isSelected:r,onClick:()=>{t(aC.$T({view:"workspace",workspaceId:e.workspace.id,selectedTab:m$.dN.TEAMS,subView:m$.V0.DIRECTORY})),t(aC.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.workspace.id}))},icon:el.createElement(aa.z6,{entity:e.workspace,size:16}),text:el.createElement(oK.E,{truncate:!0},e.workspace.name)})}let pD="sidebar--section--OukoN",pF="sidebar--loading--kvhlh",pM="sidebar--divider--6hy7u";function pP({userStateLoaded:e,sidebarData:t}){var a,r,n;let l=(0,mj.a9)(),i=(0,pR.J_)();if(!l||!i())return null;if(!e)return el.createElement("div",{className:pF},el.createElement(t7.kt,null));let s=null==(n=null==(r=null==(a=null==t?void 0:t.baseOrgUser)?void 0:a.workspaceUsers)?void 0:r.find(e=>e.isMainWorkspace))?void 0:n.workspace;return s?el.createElement(pO,{workspace:s}):null}var pB=a(563901),pU=a(688260),pW=a(919114),pV=a(858212);let pG=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=el.createElement("span",{className:eE.cx.fontBold.$},e.sectionName);return el.createElement(rn.Rw,{onConfirm:()=>{t(pc.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,e2.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--KvtWd text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,e2.t)("sidebar.delete"),destructive:!0,autoFocusCta:!1},el.createElement("p",{className:"confirm_section_delete_modal--content--nkBZY"},el.createElement(e2.Tx,{id:"sidebar.if_you_delete_section_the_section",item:e.count>1?(0,e2.t)("sidebar.items"):(0,e2.t)("sidebar.item"),section:a,count:e.count,pronoun:e.count>1?(0,e2.t)("sidebar.them"):(0,e2.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",rr.ZU.YES),p$="custom-section-header-context-menu";function pj(){let e=(0,ei.d4)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===p$?e:null}function pH(e){let t=(0,ei.wA)(),a=pj();if(null==a)return el.createElement(el.Fragment,null);let r=()=>{0===a.data.favoritesCount?t(pc.de({sidebarSectionId:a.data.customSection.id})):t((0,t3.to)({type:pG,data:{sectionId:a.data.customSection.id,sectionName:a.data.customSection.name,count:a.data.favoritesCount}}))},n=()=>{e.setRenamingSectionId(a.data.customSection.id)},l=[{displayText:(0,e2.t)("sidebar.rename_section"),callback:()=>n()},{displayText:(0,e2.t)("sidebar.delete_section"),callback:()=>r()}];return el.createElement(n_.j,{depth:0,items:l,lean:"right",leanPadding:0,dispatch:t,minWidth:162,parentRect:a.data.targetRect,onSelectItem:(e,a)=>{e.callback&&e.callback("",null,t)},showPoint:!a.data.isFromRightClick,hidePointWhenContentOffScreen:!0})}let pq="favorited_section--emojiIcon--qvNzn",pY="favorited_section--favoriteStar--h9ud0",pz="favorited_section--isDragTarget--CphoX",pK="favorited_section--previewContainer--6Jg9O _overlayBase--_overlayBase--Rkj8l",pJ="favorited_section--previewContainerNoDelay--kVQYi favorited_section--previewContainer--6Jg9O _overlayBase--_overlayBase--Rkj8l",pQ="favorited_section--favoriteClickTarget--C6gxx",pZ="favorited_section--thumbnailContainer--9uwXj",pX="favorited_section--lowerContainer--QGmqh",p0="favorited_section--lowerPartTitles--qWAcW",p1="favorited_section--title--mD-Bq ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",p2="favorited_section--editorTypeIndicator--GXZj0",p4="favorited_section--previewImage--yzY5U",p3="favorited_section--svgContainer--ByYSL",p8="favorited_section--icon--p2meN";function p5(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e),r=(0,u5.wA)(a);if(!r)return null;let n=el.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(aC.$T({view:"org",orgId:r.id,orgViewTab:mU.X.HOME}))},className:"favorited_section--browseOrgLink--de5tG"},el.createElement(e2.Tx,{id:"sidebar.browse_org_custom_sections"}));return el.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--Fzz5u"},el.createElement(e2.Tx,{id:"sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"}),n)}function p6(e){return el.createElement("div",{className:"favorited_section--customSectionsEmptyState--V-2Qr favorited_section--customSectionsEmptyStateContent--Fzz5u"},el.createElement(p5,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var p9=a(722138),p7=a(93536),ge=a(482571),gt=a(786013);function ga(e,t){return e===gt.C7b.CAN_VIEW?function(e){let t=(0,sQ.usePermissionsState)();return(0,el.useMemo)(()=>{let a=(0,sQ.canViewFolder_DEPRECATED)(e,t);return(0,aX.gB)({result:a})},[e,t])}(t):(0,aX.gB)({result:!1})}var gr=a(286098),gn=a(944682),gl=a(76320),gi=a(782656),gs=a(128751),go=a(355513),gc=a(67085),gd=a(477782),gm=a(499743),gu=a(892542),g_=a(623746),gp=a(691205),gg=a(421234),gE=a(451e3),gf=a(851363),gh=a(378356),gv=a(200320),gb=a(714728),gy=((s=gy||{}).FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",s.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",s.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",s.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",s.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",s);let gw="sidebar context menu";function gT(e,t,a,r){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;a(gn.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let r=(0,gr.QJ)(e);r&&a(gi.bE({repo:r}))}a(aC.j7({type:r,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let gx=(e,t,a,r={})=>e?[{displayText:t?t():"",callback:a,...r}]:[],gC=[{displayText:"",separator:!0}];function gN({dropdownShown:e}){var t,a,r,n,l;let i=(0,ei.wA)(),s=(0,ei.d4)(e=>e.selectedView),o=(0,ei.d4)(e=>{var t;return null==(t=e.user)?void 0:t.personal_drafts_folder_id}),c=(0,gm.p)(),d=(0,sQ.usePermissionsState)(),m=(0,em.kc)().ps_benchmark,u="favorited-project-context-menu"===e.type?null==(t=e.data.resource.project)?void 0:t.id:null==(r=null==(a=e.data.resource)?void 0:a.file)?void 0:r.folderId,_=e.data.resource,p=m&&!!o&&(null==(n=null==_?void 0:_.file)?void 0:n.folderId)===o,g=ga(gt.C7b.CAN_VIEW,u),E=!p&&!!g&&"loaded"===g.status&&g.data.result,f="favorited-prototype-context-menu"===e.type,h=el.useMemo(()=>{var e;return(null==(e=null==_?void 0:_.file)?void 0:e.fileRepoId)?(0,sQ.getDeleteReposPayload)({[_.file.fileRepoId]:!0},d,!0):{}},[null==(l=null==_?void 0:_.file)?void 0:l.fileRepoId,d]),v=el.useMemo(()=>(null==_?void 0:_.file)?(0,l_.RD)({[_.file.key]:!0},d,!0):{},[d,_.file]),b=el.useMemo(()=>"favorited-file-context-menu"===e.type&&(Object.keys(v).length>0||Object.keys(h).length>0),[v,h,e.type]),y=[...gx(!0,()=>(0,e2.t)("tile.dropdown.open"),()=>{(0,p9.DF)("open"),"favorited-file-context-menu"===e.type?((0,p9.LP)(_.file.key,lm.bk.FILE,_.sidebarSectionId,gw,_.file.editorType),(0,go.Tq)(i,{key:_.file.key,editor_type:_.file.editorType})):"favorited-prototype-context-menu"===e.type?((0,p9.LP)(_.prototype.fileKey,lm.bk.PROTOTYPE,_.sidebarSectionId,gw,"design"),(0,_D.FS)(i,_)):"favorited-project-context-menu"===e.type&&(i(sq.kg({clickedResourceType:"folder",resourceIdOrKey:_.project.id})),(0,go.U8)(_.project.id,i))}),...gx(!eo.eD&&!(0,es.ce)(),()=>(0,e2.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,go.nz)((0,oT.jN)(_),_.file.key,s,i),(0,p9.LP)(_.file.key,lm.bk.FILE,_.sidebarSectionId,gw,_.file.editorType),(0,p9.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=_.prototype.url;(0,go.D4)(e,_.prototype.fileKey,_.prototype.file.pageId,s),(0,p9.LP)(_.prototype.fileKey,lm.bk.PROTOTYPE,_.sidebarSectionId,gw,"design"),(0,p9.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(i(sq.kg({clickedResourceType:"folder",resourceIdOrKey:_.project.id})),(0,go.Wq)((0,gE.EE)(_.project.id,_.project.org_id??null),i),(0,p9.LP)(_.project.id,lm.bk.FOLDER,_.sidebarSectionId,gw,"design"))}),...gC,...gx(!0,()=>(0,e2.t)("tile.dropdown.copy_link"),()=>{(0,p9.DF)("copy_link"),"favorited-file-context-menu"===e.type?i(gn.S({fileKey:_.file.key,url:(0,oT.jN)({file:_.file,attributionContext:(0,gu.b)(c,gu.d.FAVORITED_FILE_CONTEXT_MENU)}),source:gu.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?i(nc.S({url:_.prototype.url})):"favorited-project-context-menu"===e.type&&i(nc.S({url:(0,gE.EE)(_.project.id,_.project.org_id??null)}))}),...gx(!f&&!p,()=>(0,e2.t)("sidebar.share"),()=>{(0,p9.DF)("share"),"favorited-file-context-menu"===e.type?i((0,t3.to)({type:gv.g_,data:{fileKey:_.file.key,source:gc.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&i((0,t3.to)({type:gb.W,data:{folderId:_.project.id}}))}),...gx(E,()=>(0,e2.t)("tile.dropdown.show_in_project"),()=>{var t;if((0,p9.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&(null==(t=e.data.resource.file)?void 0:t.folderId)!=null){if(i(aC.$T({view:"folder",folderId:e.data.resource.file.folderId})),i(gs.an()),e.data.resource.file.repo){let t=(0,gr.QJ)(e.data.resource);null!=t&&i(gs.y$({type:gh.F.REPOS,tiles:[{type:gd.nb.REPO,repo:t,branches:[],selectedBranchKey:""}]}))}else i(gs.y$({type:gh.F.FILES,tiles:[{type:gd.nb.FILE,file:e.data.resource.file}]}))}},{disabled:!E}),...gC,...gx(!f,()=>(0,e2.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&_.prototype?i(pc.X7({prototype:{file_key:_.prototype.fileKey,page_id:_.prototype.pageId},entrypoint:"sidebar",favoriteId:_.id})):"favorited-file-context-menu"===e.type&&_.file?i(pc.qP({file:{key:_.file.key,editor_type:_.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:_.id})):"favorited-project-context-menu"===e.type&&_.project&&i(_O.ZJ({folderId:_.resourceId,folderName:_.project.path,teamId:_.project.teamId,isSubscribed:!1}))}),...gC,...gx(!f&&!p,()=>(0,e2.t)("sidebar.delete"),()=>{(0,p9.DF)("delete"),"favorited-file-context-menu"===e.type&&i(gl.U1({filesByKey:v??{},reposById:h}))},{disabled:!b})];return el.createElement(n_.j,{items:y,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:i,onSelectItem:(e,t)=>{var a;null==(a=e.callback)||a.call(e,"",{},i,t)}})}function gk(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.selectedView),r=(0,gm.p)(),n=e.favoritedFile.file,l=gp.M4.useFile(null==n?void 0:n.key).data,i=ga(gt.C7b.CAN_VIEW,e.folderId),s=(0,ei.d4)(e=>e.dropdownShown);if(null==s||null==n)return null;let o=!("favorited-file-context-menu"!==s.type)&&"loaded"===i.status&&i.data.result,c=[...gx(!0,()=>(0,e2.t)("tile.dropdown.open"),()=>{var a;(0,p9.DF)("open"),(0,p9.LP)(n.key,lm.bk.FILE,(null==(a=e.favoritedFile)?void 0:a.sidebarSectionId)??void 0,gw,n.editorType),(0,go.Tq)(t,{key:n.key,editor_type:n.editorType})}),...gx(!eo.eD&&!(0,es.ce)(),()=>(0,e2.t)("tile.dropdown.open_new_tab"),()=>{var r;(0,go.nz)((0,oT.jN)({file:n}),n.key,a,t),(0,p9.LP)(n.key,lm.bk.FILE,(null==(r=e.favoritedFile)?void 0:r.sidebarSectionId)??void 0,gw,n.editorType),(0,p9.DF)("open_in_new_tab")}),...gC,...e.organizeFavoriteOptions,...gC,...gx(!0,()=>(0,e2.t)("file_browser.copy_link"),()=>{t(gn.S({fileKey:n.key,url:(0,oT.jN)({file:n,attributionContext:(0,gu.b)(r,gu.d.FAVORITED_FILE_CONTEXT_MENU)}),source:gu.d.FAVORITED_FILE_CONTEXT_MENU})),t(aC.oB())}),...gx(!0,()=>(0,e2.t)("sidebar.share"),()=>{(0,p9.DF)("share"),t((0,t3.to)({type:gv.g_,data:{fileKey:n.key,source:gc.nk.fileBrowserFavoritedContextMenu}}))}),...gx(!0,()=>(0,e2.t)("tile.dropdown.show_in_project"),()=>{if((0,p9.DF)("show_in_project"),t(aC.$T({view:"folder",folderId:e.folderId})),t(gs.an()),n.fileRepoId){let a=(0,gr.QJ)(e.favoritedFile);null!=a&&t(gs.y$({type:gh.F.REPOS,tiles:[{type:gd.nb.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else{if(!l)return;t(gs.y$({type:gh.F.FILES,tiles:[{type:gd.nb.FILE,file:l}]}))}},{disabled:!o})];return el.createElement(n_.j,{items:c,parentRect:s.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function gS(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...gC,...gx(!0,()=>(0,e2.t)("file_browser.copy_link_to_team"),()=>{let a=(0,gf.bL)(e.teamId,e.orgId);t(nc.S({url:a})),t(aC.oB())})];return el.createElement(n_.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function gI(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...gC,...gx(null!==e.orgId,()=>(0,e2.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let a=(0,gg.fO)(e.workspaceId,e.orgId);t(nc.S({url:a}))}t(aC.oB())})];return el.createElement(n_.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function gA(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...gC,...gx(!0,()=>(0,e2.t)("file_browser.copy_link_to_project"),()=>{let a=(0,gE.EE)(e.projectId,e.orgId);t(nc.S({url:a})),t(aC.oB())})];return el.createElement(n_.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function gL(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...gC,...gx(!0,()=>(0,e2.t)("file_browser.copy_link"),()=>{var a;let r=(0,g_._3)(e.prototype.fileKey,null==(a=e.prototype.file)?void 0:a.name,e.prototype.pageId);t(nc.S({url:r})),t(aC.oB())})];return el.createElement(n_.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}var gR=a(506520),gO=a(575675);function gD(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.currentUserOrgId),r=(0,ei.d4)(e=>e.currentTeamId),n=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),l=e.favorite.team,i=(0,sQ.usePermissionsState)(),s=(0,ei.d4)(e=>e.dropdownShown),o=(0,ei.d4)(e=>e.avatarEditorState),c=el.useMemo(()=>s&&s.type===gy.FAVORITED_TEAM_CONTEXT_MENU&&s.data.teamId===(null==l?void 0:l.id),[s,null==l?void 0:l.id]),d=el.useCallback((e,a)=>{var r;(0,p9.LP)(null==(r=a.team)?void 0:r.id,lm.bk.TEAM,a.sidebarSectionId??void 0,p9.vg);let n=(0,gf.bL)(a.resourceId,a.orgId);(0,_k.oJ)(e)?(ec.Ay.redirect(n,"_blank"),e.stopPropagation()):(t(sq.dm(a.resourceId)),e.preventDefault())},[t]),m=el.useCallback(e=>{if(!l)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(aC.j7({type:gy.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:l.id,targetRect:a}}))},[t,l]);if(!a||null===l)return el.createElement(el.Fragment,null);let u=(0,sQ.canAdminTeam)(l.id,i),_=(0,gR.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lm.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={entrypoint:"sidebar",sectionId:r,team:{id:l.id},favoriteId:e.favorite.id,resourceType:lm.bk.TEAM};a?t(pc.V1(n)):t(pc.ox(n))}});return el.createElement(el.Fragment,null,el.createElement(_Z.Z,{isSelected:e.isSelected,rowClassName:pQ,onClick:t=>d(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:m,icon:l.imgUrl?el.createElement("div",{className:eE.cx.colorIcon.$},el.createElement(oq.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:oq.Pf.SMALL,fallbackSize:oq.Pf.SMALL},fallbackDisplay:_W.U.HIDDEN,team:{...l,imgUrl:l.imgUrl},fallbackSvg:gO.A})):el.createElement(n0.In,{icon:"team-16"}),text:el.createElement(oK.E,{truncate:!0},l.name)}),c&&el.createElement(gS,{teamId:l.id,orgId:l.orgId,organizeFavoriteOptions:_}),u&&el.createElement("span",{className:"favorited_section--hiddenEditableAvatar--aIfdc"},el.createElement(mJ.ER,{entity:{...l,imgUrl:l.imgUrl||void 0},entityType:mY.ck.TEAM,avatarEditorState:o,size:14,dispatch:t})))}var gF=a(487342),gM=a(875847),gP=a(112235),gB=a(699750),gU=a(940052);function gW(e){switch(e.iconType){case dE.y1.DESIGN:case dE.y1.DESIGN_AND_DEV_MODE:case dE.y1.SLIDES:case dE.y1.SITES:return el.createElement(n0.In,{icon:"file-design-16-file-type"});case dE.y1.WHITEBOARD:return el.createElement(n0.In,{icon:"file-figjam-16-file-type"});case dE.y1.DEV_MODE:case dE.y1.DEV_MODE_SELECTED:case dE.y1.PROTOTYPE:case dE.y1.PUBLISHED:return el.createElement(dE.oS,{type:e.iconType,size:dE.LE.SMALL});case dE.y1.TEMPLATE:return el.createElement(n0.In,{icon:"file-team-template-16-file-type"});case dE.y1.REPO:return el.createElement(n0.In,{icon:"file-design-branch-16-file-type"});default:(0,eh.xb)(e.iconType)}}let gV=e=>el.createElement("div",{className:pq},e);function gG(e){var t,a,r,n;let l=(0,ei.wA)(),i=(0,ei.d4)(e=>e.currentUserOrgId),s=(0,ei.d4)(e=>e.currentTeamId),o=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),c=(0,ei.d4)(e=>e.dropdownShown),d=e.favorite.file,m=gp.M4.useFile(null==d?void 0:d.key).data,u=(0,gP.p)(!0),_=null!==i,p=(0,em.kc)().ps_benchmark&&s,g=el.useMemo(()=>c&&c.type===gy.FAVORITED_FILE_CONTEXT_MENU&&c.data.fileKey===(null==d?void 0:d.key),[c,d]),E=el.useMemo(()=>c&&c.type===p$,[c]),f=el.useCallback(e=>{if(!d)return;m||l(gn.yJ({file:{key:d.key,team_id:d.teamId,file_repo_id:d.fileRepoId,folder_id:d.folderId}})),e.stopPropagation(),e.preventDefault();let t={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};l(aC.j7({type:gy.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:d.key,targetRect:t}}))},[l,d,m]);if(null===d)return el.createElement(el.Fragment,null);let h=(0,em.kc)().dt_url_improvements?(0,oT.jN)({file:d}):`/file/${d.key}/${encodeURIComponent(d.name)}?type=${d.editorType}`,v=(e,t)=>{var a,r,n;(0,p9.LP)(null==(a=t.file)?void 0:a.key,lm.bk.FILE,t.sidebarSectionId??void 0,p9.vg,null==(r=t.file)?void 0:r.editorType),(0,_k.oJ)(e)?(l(sq.UN({fileKey:(null==(n=t.file)?void 0:n.key)??"",entrypoint:p9.vg})),e.stopPropagation()):e.preventDefault(),t.file&&(ec.Ay.redirect(h,"_blank"),l(sq.UN({fileKey:t.file.key,entrypoint:p9.vg})))},b=()=>{null!==d&&l(pc.qP({file:{key:d.key,editor_type:d.editorType??"design"},repoId:d.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},y=(0,gR.o)({dispatch:l,currentOrgId:i,currentTeamId:s,collapsedCustomSections:o,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lm.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(t,a)=>{if(t&&m){let t={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:lm.bk.FILE};l(pc.V1(t))}else t||null===d||b()}}),w=null==d?void 0:d.name,T=(0,gF.AE)(w),x=u(e.favorite.file),C=T?gV(T):el.createElement(gW,{iconType:x}),N=T?(0,gF.Nn)(w,T):w,k=null==(a=null==(t=e.favorite.file)?void 0:t.project)?void 0:a.path,S=(0,gM.S)(k),I=S?p1:"favorited_section--titleWithoutSubtitle--Vj8vS ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return el.createElement(el.Fragment,null,el.createElement(_Z.Z,{isSelected:e.isSelected,rowClassName:pQ,showGrabber:e.showGrabber,onContextMenu:_||p?f:t=>{gT(e.favorite,t,l,gy.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>v(t,e.favorite),icon:C,text:""!==N?el.createElement(oK.E,{truncate:!0,showTooltipWhenTruncated:!1},N):el.createElement(oK.E,{i18nId:(null==(r=e.favorite.file)?void 0:r.editorType)==="whiteboard"?"sidebar.fig_jam_file":"sidebar.design_file",truncate:!0}),badge:e.isHover&&!(_||p)?el.createElement("div",{className:pY},el.createElement(gB.r,{favoriteType:lm.bk.FILE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:gB.m.MEDIUM,setFavorite:b,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!g&&!E&&el.createElement("div",{className:e.showPreviewDelay?pK:pJ,style:{transform:`translateY(${-e.previewYOffset}px)`}},el.createElement("div",{className:pZ},el.createElement(gU.N,{additionalClassName:p4,editor_type:d.editorType,client_meta:(0,em.kc)().thumbnail_lg_client_meta?d.checkpointClientMeta||null:d.clientMeta,isLocked:!!d.hasFileLinkPassword,thumbnail_url:d.thumbnailUrl,listView:!1,fullWidth:!1,isPreview:!0})),el.createElement("div",{className:pX},el.createElement(dE.oS,{svgOptions:{id:"sidebar-thumbnail"},className:p2,type:x}),el.createElement("div",{className:p0},el.createElement("div",{className:I},null==(n=e.favorite.file)?void 0:n.name),S&&el.createElement("div",{className:"favorited_section--subtitle--wM3Ta ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},S)))),(_||p)&&g&&(null==d?void 0:d.folderId)&&el.createElement(gk,{favoritedFile:e.favorite,folderId:d.folderId,organizeFavoriteOptions:y}))}let g$=e=>el.createElement("div",{className:pq},e);function gj(e){let t=(0,ei.wA)(),a=e.favorite.project,r=(0,ei.d4)(e=>e.currentTeamId),n=(0,ei.d4)(e=>e.currentUserOrgId),l=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),i=(0,pV.S)(),s=(0,ei.d4)(e=>e.dropdownShown),o=el.useMemo(()=>s&&s.type===gy.FAVORITED_PROJECT_CONTEXT_MENU&&s.data.projectId===(null==a?void 0:a.id),[s,a]),c=el.useCallback(e=>{if(!a)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(aC.j7({type:gy.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:a.id,targetRect:r}}))},[t,a]),d=el.useCallback((e,a)=>{var r;(0,p9.LP)(null==(r=a.project)?void 0:r.id,lm.bk.FOLDER,a.sidebarSectionId??void 0,p9.vg),t(sq.gN(a.resourceId))},[t]);if(!i||null==a)return null;let m=(0,gR.o)({dispatch:t,currentOrgId:n,currentTeamId:r,collapsedCustomSections:l,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lm.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,n)=>{let l={entrypoint:"sidebar",sectionId:n,folder:a,favoriteId:e.favorite.id};r?t(pc.Mv(l)):t(pc.jv(l))}}),u=(0,gF.AE)(a.path),_=u?(0,gF.Nn)(a.path,u):a.path;return el.createElement(el.Fragment,null,el.createElement(_Z.Z,{rowClassName:pQ,onContextMenu:c,isSelected:e.isSelected,onClick:t=>d(t,e.favorite),icon:u?el.createElement("div",null,g$(u)):el.createElement(n0.In,{icon:"folder-16"}),showGrabber:e.showGrabber,text:el.createElement(oK.E,{truncate:!0},_),isFavoritesToMove:e.isFavoritesToMove}),o&&el.createElement(gA,{projectId:a.id,orgId:a.orgId,organizeFavoriteOptions:m}))}var gH=a(142884);let gq=el.createElement(dE.oS,{type:dE.y1.PROTOTYPE,size:dE.LE.SMALL});function gY(e){var t,a,r,n,l;let i=(0,ei.wA)(),s=(0,ei.d4)(e=>e.currentTeamId),o=(0,ei.d4)(e=>e.currentUserOrgId),c=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),d=(0,ei.d4)(e=>e.dropdownShown),m=el.useMemo(()=>{var t;return d&&d.type===gy.FAVORITED_PROTOTYPE_CONTEXT_MENU&&d.data.resource.prototype.id===(null==(t=e.favorite.prototype)?void 0:t.id)},[d,e.favorite.prototype]),u=el.useMemo(()=>d&&d.type===p$,[d]),_=(0,pV.S)();if(null===e.favorite.prototype)return el.createElement(el.Fragment,null);let p=(0,g_._3)(e.favorite.prototype.fileKey,null==(t=e.favorite.prototype.file)?void 0:t.name,e.favorite.prototype.pageId),g=(e,t)=>{var a;if((0,p9.LP)(null==(a=t.prototype)?void 0:a.fileKey,lm.bk.PROTOTYPE,t.sidebarSectionId??void 0,p9.vg),(0,_k.oJ)(e)){e.stopPropagation();return}e.preventDefault(),ec.Ay.redirect(p,"_blank")},E=(t,a)=>{t||null===e.favorite.prototype||i(pc.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:a}))},f=(0,gR.o)({dispatch:i,currentOrgId:o,currentTeamId:s,collapsedCustomSections:c,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lm.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(t,a)=>{if(t){let t={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:lm.bk.PROTOTYPE};i(pc.V1(t))}else E(!1,e.favorite.id)}});return el.createElement(el.Fragment,null,el.createElement(_Z.Z,{isSelected:e.isSelected,rowClassName:pQ,onContextMenu:t=>{gT(e.favorite,t,i,gy.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>g(t,e.favorite),icon:gq,text:el.createElement(oK.E,{truncate:!0,showTooltipWhenTruncated:!1},null==(a=e.favorite.prototype.file)?void 0:a.name),badge:e.isHover&&!_?el.createElement("div",{className:pY},el.createElement(gB.r,{favoriteType:lm.bk.PROTOTYPE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:gB.m.MEDIUM,setFavorite:E,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!m&&!u&&el.createElement("div",{className:e.showPreviewDelay?pK:pJ,style:{transform:`translateY(${-e.previewYOffset}px)`}},el.createElement("div",{className:pZ},el.createElement(gH.N,{additionalClassName:p4,isLocked:null!=(r=e.favorite.prototype.file)&&!!r.hasProtoLinkPassword&&(null==(n=e.favorite.prototype.file)?void 0:n.hasProtoLinkPassword),thumbnail_url:e.favorite.prototype.thumbnailUrl})),el.createElement("div",{className:pX},el.createElement(dE.oS,{type:dE.y1.PROTOTYPE,className:p2}),el.createElement("div",{className:p0},el.createElement("div",{className:p1},null==(l=e.favorite.prototype.file)?void 0:l.name)))),_&&m&&e.favorite.prototype&&el.createElement(gL,{prototype:e.favorite.prototype,organizeFavoriteOptions:f}))}var gz=a(9821);function gK(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.currentUserOrgId),r=(0,ei.d4)(e=>e.currentTeamId),n=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),l=(0,ei.d4)(e=>e.dropdownShown),i=e.favorite.workspace,s=el.useMemo(()=>l&&l.type===gy.FAVORITED_WORKSPACE_CONTEXT_MENU&&l.data.workspaceId===(null==i?void 0:i.id),[l,null==i?void 0:i.id]),o=el.useCallback((e,a)=>{let r=a.workspace;(0,p9.LP)(null==r?void 0:r.id,lm.bk.WORKSPACE,a.sidebarSectionId??void 0,p9.vg),r&&t(aC.$T({view:"workspace",subView:m$.V0.DIRECTORY,workspaceId:r.id,selectedTab:m$.dN.TEAMS}))},[t]),c=el.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(aC.j7({type:gy.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:i.id,targetRect:a}}))},[t,i]);if(!a||null===i)return el.createElement(el.Fragment,null);let d=(0,gR.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lm.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{var n;let l={workspace:{id:i.id,name:i.name??"",imgUrl:(null==(n=e.favorite.workspace)?void 0:n.imgUrl)??null},entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id};a?t(pc.ZW(l)):t(pc.if(l))}}),m=e.favorite.workspace?el.createElement(aa.z6,{entity:e.favorite.workspace,size:16}):el.createElement(eC.B,{svg:gz.A,className:eE.cx.colorIcon.$});return el.createElement(el.Fragment,null,el.createElement(_Z.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,rowClassName:pQ,onClick:t=>o(t,e.favorite),onContextMenu:c,icon:m,text:el.createElement(oK.E,{truncate:!0}," ",i.name)}),s&&el.createElement(gI,{workspaceId:i.id,orgId:e.favorite.orgId,organizeFavoriteOptions:d}))}var gJ=a(804768);let gQ=(e,t)=>{let a=e.cloneNode(!0),r=document.createElement("div");return r.className="favorited_generic_row--favorite--8pW-y favorited_generic_row--_favorite--5cx9M sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(r.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(a.classList.add(t),a.classList.add(eE.cx.colorText.$)),r.appendChild(a),document.body.appendChild(r),r};function gZ(e){var t,a,r;let n=(0,ei.wA)(),l=(0,ei.d4)(e=>e.dragState),[i,s]=el.useState(!1),o=e.favorite.resourceType,c=(0,sJ._6)(),d=(null==(t=e.rearrangeDragState)?void 0:t.draggedOverFavoriteId)===e.favorite.resource.id,[m,u]=el.useState(!1),_=el.useRef(null),p=(0,pV.S)(),g=i&&!p,E=e.isSelected||(()=>{switch(o){case lm.bk.FOLDER:return"folder"===c.view&&c.folderId===e.favorite.resource.resourceId;case lm.bk.TEAM:return"team"===c.view&&c.teamId===e.favorite.resource.resourceId;case lm.bk.WORKSPACE:return"workspace"===c.view&&c.subView===m$.V0.DIRECTORY&&c.workspaceId===e.favorite.resource.resourceId;default:return!1}})();return el.createElement("div",{className:d?(null==(a=e.rearrangeDragState)?void 0:a.dropBefore)?"favorited_generic_row--dropBefore--85SVM sidebar--dropBefore--kTt0n":(null==(r=e.rearrangeDragState)?void 0:r.dropInto)?"favorited_generic_row--dropInto--723AQ":"favorited_generic_row--dropAfter--ZAEii sidebar--dropAfter--TDzSS":void 0},el.createElement(eg.Y,{key:e.favorite.resource.resourceId,isDragTarget:()=>l.type!==_M.R.SidebarSection,onTargetDragEnter:(t,a)=>{let r=new p7.le(t),n=!1;(l.type===_M.R.Favorite||r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles())&&((r.isFigFiles()||r.isRepos()||r.isTiles())&&(n=e.favorite.resourceType===lm.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:n?a.upperQuarter:a.upper,dropInto:n&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),u(n))},onTargetDragLeave:t=>{let a=new p7.le(t);(l.type===_M.R.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&d)&&(e.clearRearrangeDragState(e.favorite.resource.id),u(!1))},onTargetDrop:t=>{var a;let r=new p7.le(t);if((null==(a=e.rearrangeDragState)?void 0:a.dropInto)&&e.favorite.resourceType===lm.bk.FOLDER&&e.favorite.resource.project)(0,gJ.A)(n,e.favorite.resource.project,e.favorite.resource.project.team,r),n(pW.T());else if(r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles())e.onSetResourceFavoriteDragDrop(t);else if(l.type===_M.R.Favorite&&d){let t=l.data;e.reorderOrInsertFavorite(t.resource.id,t.resourceType),n(pW.T())}e.clearRearrangeDragState(e.favorite.resource.id),u(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:m?t.upperQuarter:t.upper,dropInto:m&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},el.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||s(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),s(!1)},onDragStart:t=>{t.dataTransfer.effectAllowed="move";let a=new p7.le(t.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let r=t.currentTarget.firstElementChild;if(null===r)return;let l=r.getBoundingClientRect(),i=t.clientX-l.left,s=t.clientY-l.top;_.current=gQ(r,"favorited_generic_row--draggable--4zTCe"),a.setDragImage(_.current,i,s),n(pW.v({type:_M.R.Favorite,data:e.favorite}))},onDragEnd:t=>{_.current&&_.current.remove(),n(pW.T()),e.clearRearrangeDragState(e.favorite.resource.id),u(!1)},draggable:!e.isFavoritesToMove},(()=>{switch(o){case lm.bk.FILE:return el.createElement(gG,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case lm.bk.PROTOTYPE:return el.createElement(gY,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case lm.bk.FOLDER:return el.createElement(gj,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case lm.bk.TEAM:return el.createElement(gD,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case lm.bk.WORKSPACE:return el.createElement(gK,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,eh.xb)(o)}})())))}var gX=a(432023),g0=a(604771);function g1(e){var t,a,r,n,l,i,s;let o=(0,ei.wA)(),c=(0,ei.d4)(e=>e.currentTeamId),d=function(){let e=(0,ei.d4)(e=>e.dropdownShown),t=(0,ei.d4)(e=>e.currentUserOrgId),a=(0,ei.d4)(e=>e.currentTeamId),r=(0,em.kc)().ps_benchmark&&a;return!e||(null==e?void 0:e.type)!=="favorited-file-context-menu"&&(null==e?void 0:e.type)!=="favorited-prototype-context-menu"||t||r?null:e}(),m=(0,sK.sZ)(),u=(null==m?void 0:m.id)??null,_=(0,_D.sb)(e.favorites,e.order),p=(0,sJ._6)(),g=(0,ei.d4)(e=>e.favorites.movingResource),E=(0,pV.S)(),f=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),h=E&&e.section?!f.has(null==(t=e.section)?void 0:t.id):!f.has("favorited"),[v,b]=el.useState(!1),[y,w]=el.useState(),[T,x]=el.useState(),C=(0,ei.d4)(e=>e.dragState),N=(0,dZ.Z)(C);el.useEffect(()=>{C.type===_M.R.None&&N&&N.type!==_M.R.None&&x(void 0)},[C,N]),el.useEffect(()=>{!e.isCurrentHoveredSection&&C.type===_M.R.SidebarSection&&T&&x(void 0)},[e.isCurrentHoveredSection,T,C]);let[k,S]=el.useState(void 0),[I,A]=el.useState(!0),L=el.useRef(null),R=pj();el.useEffect(()=>{k===(null==T?void 0:T.draggedOverFavoriteId)&&x(void 0),S(void 0)},[T,x,k,S]);let O=el.useCallback(t=>{var a;(null==(a=e.section)?void 0:a.id)&&(t.dataTransfer.effectAllowed="move",new p7.le(t.dataTransfer).setArbitraryData(e.section.id),o(pW.v({type:_M.R.SidebarSection,data:e.section.id})))},[o,e.section]),D=el.useCallback(()=>{var t;(0,p9.xs)(!h),E&&e.section?(ge.Fp({type:"topLevel",id:"custom",orgId:u,sectionId:null==(t=e.section)?void 0:t.id},!h),h?f.add(e.section.id):f.delete(e.section.id)):(ge.Fp({type:"topLevel",id:"favorited",orgId:u},!h),h?f.add("favorited"):f.delete("favorited")),o(pc.U6({collapsedCustomSections:f}))},[h,u,e.section,f,E,o]),F=(t,a)=>{var r,n,l,i,s,c,d;let m;let u=_.map(e=>e.resource.id);if(!(null==T?void 0:T.draggedOverFavoriteId))return u;let p=-1!==u.indexOf(t);if(p)m=(0,as.Pe)(u,t,T.draggedOverFavoriteId,T.dropBefore);else{let e=u.indexOf(T.draggedOverFavoriteId);T.dropBefore||(e+=1),m=[...u.slice(0,e),t,...u.slice(e)]}if((0,p9.hp)(),w(t),null==(r=e.section)?void 0:r.id){p?o(pc.vg({sectionId:e.section.id,orderedFavoriteIds:m})):o(pc.V1({favoriteId:t,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:m}));return}p?o(_R.Sk.put({prefs:{id:(null==(n=e.fileBrowserPreferences)?void 0:n.id)||"optimistic-id",orderedFavoritedResourceIds:m,orderedTeamIds:null==(l=e.fileBrowserPreferences)?void 0:l.orderedTeamIds,orderedLicenseGroupIds:null==(i=e.fileBrowserPreferences)?void 0:i.orderedLicenseGroupIds},userInitiated:!0})):(o(pc.V1({favoriteId:t,sectionId:void 0,resourceType:a})),o(_R.Sk.put({prefs:{id:(null==(s=e.fileBrowserPreferences)?void 0:s.id)||"optimistic-id",orderedFavoritedResourceIds:m,orderedTeamIds:null==(c=e.fileBrowserPreferences)?void 0:c.orderedTeamIds,orderedLicenseGroupIds:null==(d=e.fileBrowserPreferences)?void 0:d.orderedLicenseGroupIds},userInitiated:!0})))},M=el.useCallback(e=>{e.stopPropagation(),y&&w(void 0)},[y]),P=el.useCallback(()=>{A(!0)},[]),B=el.useCallback(e=>{let t=new p7.le(e);return t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),U=t=>{var a;let r=new p7.le(t),n=[],l=[],i=[];if(b(!1),r.isFigFiles()){if(!(n=r.getData()))return!1}else if(r.isPrototypes()){if(!(i=r.getData()))return!1}else if(r.isRepos()){let e=r.getReposData();if(!e)return!1;l=e.repos}else if(r.isTiles()){let e=r.getTilesData();if(!e)return!1;n=e.files,l=e.repos,i=e.prototypes}n=n.filter(e=>!e.is_favorited),l=l.filter(e=>!e.is_favorited),i=i.filter(e=>!e.is_favorited);let s=_.map(e=>e.resource.id),d=n.length+l.length+i.length,m=(0,_D.kK)(u);if(d+_.length>m)return o(a0.F.enqueue({message:(0,e2.t)("tile.favoriting.max_favorites",{maxFavorites:m})})),!1;let g=null;return T&&(g=s.indexOf(T.draggedOverFavoriteId)+(T.dropBefore?0:1)),o(pc.N9({files:n,repos:l,prototypes:i,orgId:u,teamId:c,selectedView:p.view,entrypoint:"sidebar",insertAtIndex:g,orderedFavorites:s,sectionId:null==(a=e.section)?void 0:a.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},W=el.useCallback(()=>{b(!0)},[]),V=el.useCallback(()=>{b(!1)},[]),G=ey()([eE.cx.relative.$,"favorited_section--showsCaret--Ku9E8",v||(null==T?void 0:T.draggedOverSectionId)&&e.section&&T.draggedOverSectionId===e.section.id?pz:""]),$=E?(null==(a=e.section)?void 0:a.name)===""||(null==(r=e.section)?void 0:r.name)===void 0?el.createElement(e2.Tx,{id:"sidebar.starred"}):e.section.name:el.createElement(e2.Tx,{id:"sidebar.favorite_files"}),j=(null==(l=null==(n=null==R?void 0:R.data)?void 0:n.customSection)?void 0:l.id)===(null==(i=e.section)?void 0:i.id),H=e.isCreatingNewSection||e.isRenaming,q=ey()({"favorited_section--sectionHeaderContainer--iG-He sidebar--sectionHeaderContainer--3EG5O sidebar--sectionHeaderName--zXQ94 sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--Pvibf":!H,"favorited_section--actionButtonsVisible--tRq8i":j&&!H}),Y=(null==(s=e.section)?void 0:s.name)===void 0?(0,e2.t)("sidebar.new_section"):(0,_D.R3)(e.section)?(0,e2.t)("sidebar.starred"):e.section.name;return el.createElement(eg.Y,{className:G,isDragTarget:B,draggable:!1,onTargetDrop:U,onTargetDragEnter:W,onTargetDragLeave:V},el.createElement("div",null,el.createElement("div",{draggable:!0,onDragStart:O,className:q,onClick:D,onContextMenu:t=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(aC.j7({type:p$,data:{customSection:e.section,favoritesCount:_.length,isFromRightClick:!0,targetRect:a}}))},role:"button",tabIndex:0},el.createElement(eC.B,{className:E?"favorited_section--expandCaretCustomSections--KN0ZV":"favorited_section--expandCaret--FUiRf sidebar--expandCaret--P-baV",svg:h?dU.A:gX.A}),el.createElement("div",{className:"favorited_section--sectionName--K-lL1 ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?el.createElement(_U.p,{className:"favorited_section--input--NPhii",placeholderValue:Y,submit:t=>{e.isCreatingNewSection?(g?o(pc.yH({name:t,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:g})):o(pc.YI({name:t,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(o(pc.vg({sectionId:e.section.id,name:t.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),g&&o(pc.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):$),u&&el.createElement("div",{className:"favorited_section--actionButtons--Eth9R"},el.createElement("div",{role:"button",tabIndex:0,className:p3,"data-tooltip-max-width":200,ref:L,onClick:t=>{R?o(aC.oB()):L.current&&o(aC.j7({type:p$,data:{targetRect:L.current.getBoundingClientRect(),customSection:e.section,favoritesCount:_.length}})),t.stopPropagation(),t.preventDefault()},onContextMenu:e=>e.stopPropagation()},el.createElement(eC.B,{svg:g0.A,className:p8})),el.createElement(g2,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),el.createElement("div",{className:h?void 0:eE.cx.hidden.$},(()=>{if(0===_.length){let t=1===e.allSections.length&&(0,_D.R3)(e.allSections[0]);return E||e.isCreatingNewSection?E&&t&&!e.isCreatingNewSection?el.createElement(p5,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):el.createElement(el.Fragment,null):el.createElement(g4,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return el.createElement("div",{onMouseMove:M,onMouseLeave:P},_.map(t=>{var a;let r=y===t.resource.id||t.resource.resourceId===(null==(a=null==d?void 0:d.data)?void 0:a.resource.resourceId);return el.createElement(gZ,{key:t.resource.resourceId,favorite:t,isSelected:r,onSetResourceFavoriteDragDrop:U,reorderOrInsertFavorite:F,clearRearrangeDragState:S,updateRearrangeDragState:x,rearrangeDragState:T,previewYOffset:e.previewYOffset,showPreviewDelay:I,setShowPreviewDelay:A,sections:e.allSections,preventHoverStyle:void 0!==y})}),d&&el.createElement(gN,{dropdownShown:d}))})()))}function g2(e){return el.createElement("div",{role:"button",tabIndex:0,className:p3,"data-tooltip-max-width":200,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},el.createElement(eC.B,{svg:dc.A,className:p8}))}function g4(e){return el.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--XWF7E sidebar--emptySection--Ag8hA sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"sidebar.to_favorite_files_you_use_often"}))}function g3(e){var t;let a=(0,_D.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return el.createElement(g1,{favorites:a,order:(null==(t=e.fileBrowserPreferences)?void 0:t.orderedFavoritedResourceIds)??void 0,fileBrowserPreferences:e.fileBrowserPreferences,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function g8(e){var t;let a=(0,ei.wA)(),r=(0,ei.d4)(e=>e.dragState),n=(0,ei.d4)(e=>e.favorites.newCustomSectionIndex),l=(0,ei.d4)(e=>e.favorites.favoritesCount),i=(0,_D.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[s,o]=el.useState(),[c,d]=el.useState(),[m,u]=el.useState(!1),_=(0,pV.S)(),p=el.useMemo(()=>{var t;return(0,_D.t$)(e.userSidebarSections??[],(null==(t=e.fileBrowserPreferences)?void 0:t.orderedSidebarSections)??void 0)},[e.userSidebarSections,null==(t=e.fileBrowserPreferences)?void 0:t.orderedSidebarSections]);el.useMemo(()=>{l&&l<15&&i.length>=15&&(0,af.YQ)({id:pp.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),a(pc.lF({favoritesCount:i.length}))},[l,i.length,a]);let g={},E=[];i.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let f=el.useCallback(()=>r.type===_M.R.Favorite||r.type===_M.R.SidebarSection,[r]),h=el.useCallback(e=>{r.type===_M.R.SidebarSection&&u(e.upper)},[r]),v=el.useCallback(()=>{var t,n,l,i;let c="starred"===s?void 0:s;if(r.type===_M.R.Favorite){let e=r.data;a(pc.V1({favoriteId:e.resource.id,sectionId:c,resourceType:e.resourceType}))}else if(r.type===_M.R.SidebarSection&&c){let s=p.map(e=>e.id)??[],o=(0,as.Pe)(s,r.data,c,m);a(_R.Sk.put({prefs:{id:(null==(t=e.fileBrowserPreferences)?void 0:t.id)||"optimistic-id",orderedFavoritedResourceIds:null==(n=e.fileBrowserPreferences)?void 0:n.orderedFavoritedResourceIds,orderedTeamIds:null==(l=e.fileBrowserPreferences)?void 0:l.orderedTeamIds,orderedLicenseGroupIds:null==(i=e.fileBrowserPreferences)?void 0:i.orderedLicenseGroupIds,orderedSidebarSections:o},userInitiated:!0}))}u(!1),o(void 0),a(pW.T())},[s,a,r,m,p,e.fileBrowserPreferences]),b=el.useCallback(e=>()=>{o(e)},[]),y=el.useCallback(()=>{o(void 0)},[]),w=el.useCallback(e=>{a(pc.pS({newCustomSectionIndex:e}))},[a]);if(0===p.length&&_&&void 0===n)return el.createElement(p6,{setNewCustomSectionIndex:w});let T=el.createElement("div",{className:eE.cx.mb8.$},el.createElement(g1,{favorites:[],order:[],allSections:p,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:!0,setRenamingSectionId:d,sectionIndex:n||0,isCreatingNewSection:!0,setNewCustomSectionIndex:w,fileBrowserPreferences:e.fileBrowserPreferences,previewYOffset:e.previewYOffset}));return el.createElement("div",{className:eE.cx.mt8.$},0===n&&T,p.map((t,a)=>{let l=r.type===_M.R.Favorite?pz:m?"favorited_section--dropBefore--nUC1o sidebar--dropBefore--kTt0n":"favorited_section--dropAfter--52f4h sidebar--dropAfter--TDzSS",i=ey()([s===t.id?l:"",eE.cx.mb8.$]);return el.createElement("div",{key:t.id},el.createElement(eg.Y,{className:i,isDragTarget:f,draggable:!1,onTargetDragQuadrantUpdate:h,onTargetDrop:v,onTargetDragEnter:b(t.id),onTargetDragLeave:y},el.createElement(g1,{favorites:g[t.id]??[],sectionIndex:a,section:t,allSections:p,order:t.orderedFavoritedResourceIds??[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:c===t.id,setRenamingSectionId:d,setNewCustomSectionIndex:w,previewYOffset:e.previewYOffset,isCurrentHoveredSection:s===t.id})),n===a+1&&T)}),_&&el.createElement(pH,{setRenamingSectionId:d}))}var g5=a(660656),g6=a(838329),g9=a(471123),g7=a(533600);let Ee=(0,rr.Ju)(function(e){let[t,a]=(0,el.useState)(null),r=(0,ei.wA)(),n=(0,g9.Gs)(),l=(0,aN.TA)(),i=(0,ei.d4)(e=>e.teamUserByTeamId),s=(0,ei.d4)(e=>{var t,a;return l?null==(a=null==(t=e.authedUsers.byId[l])?void 0:t.plans)?void 0:a.filter(e=>!e.is_org):null}),o=(0,e2.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),c=()=>r(t3.Ce()),d={};l&&(0,g6._)(i,l).forEach(e=>{e.drafts_folder_id&&(d[e.team_id]=e.drafts_folder_id)});let m=(e,t)=>{t&&r(g5.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return el.createElement(lD.XV,{title:o,fixedTop:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},el.createElement("div",{className:"move_favorites_modal--modalBody--UUSy5"},s&&el.createElement(rt.P,{width:480},el.createElement("div",{className:eE.cx.pl8.pr8.$},s.map(e=>el.createElement(Et,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:(null==t?void 0:t.plan_id)===e.plan_id,onSelect:()=>a((null==t?void 0:t.plan_id)===e.plan_id?null:e)})))),el.createElement("div",{className:"move_favorites_modal--footer--4Eg51"},el.createElement(eT.nR,{onClick:c},el.createElement(e2.Tx,{id:"modal.cancel"})),el.createElement(eT.vd,{disabled:!t,onClick:()=>{let a=(null==t?void 0:t.is_org)?null:null==t?void 0:t.plan_id,l=(null==t?void 0:t.is_org)?t.plan_id:null,i=e.favorites.reduce((e,t)=>{var a,r;return t.resourceType===lm.bk.FILE&&(null==(a=t.resource.file)?void 0:a.key)?{...e,[null==(r=t.resource.file)?void 0:r.key]:!0}:e},{}),s={},o=n.filter(e=>{let t=!!i[e.key];return t&&(s[e.key]=!0),t}),u=e.favorites.filter(e=>{var t,a;return e.resourceType!==lm.bk.FILE||null==(t=e.resource.file)||!t.key||!s[null==(a=e.resource.file)?void 0:a.key]}).map(e=>e.resource.id);r(pc.Ic({favoriteIds:u,teamId:a,orgId:l})),a&&m(o,d[a]),c()}},(0,e2.t)("modal.confirm")))))},"MoveFavoritesModal");function Et(e){return el.createElement("button",{"data-testid":`${e.name}-button`,className:ey()("move_favorites_modal--teamRow--2hzhd",e.checked?eE.cx.colorBgSelected.$:""),onClick:e.onSelect},el.createElement("div",{className:"move_favorites_modal--iconContainer--QPJe1"},e.checked?el.createElement(eC.B,{className:eE.cx.colorIcon.$,svg:g7.A}):el.createElement(oq.nl,{size:oq.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:_W.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),el.createElement("div",{className:"move_favorites_modal--teamName--nIPec ellipsis--ellipsis--Tjyfa"},el.createElement("span",{className:"move_favorites_modal--destinationHeading--ffvIC"},e.name)))}var Ea=a(842232);let Er="favorited_drafts_to_move";function En(e){var t,a,r;let n=(0,ei.wA)(),[l,i]=el.useState(!0),s=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),o=null==(t=e.teamUser)?void 0:t.planlessFavoritedFiles,c=null==(a=e.teamUser)?void 0:a.planlessFavoritedPrototypes,d=null==(r=e.teamUser)?void 0:r.planlessFavoritedProjects,m=(0,_D.ds)(o,c,d),u=!s.has(Er),_=el.useCallback(()=>{ge.Fp({type:"topLevel",id:Er,orgId:null},!u),u?s.add(Er):s.delete(Er),n(pc.U6({collapsedCustomSections:s}))},[u,s,n]),p=el.useCallback(()=>{n(pc.vr({favoriteIds:m.map(e=>e.id)}))},[n,m]);if(0===m.length)return el.createElement(el.Fragment,null);let g=m.map(t=>el.createElement(gZ,{key:t.resource.resourceId,favorite:t,isSelected:!1,onSetResourceFavoriteDragDrop:eu.lQ,reorderOrInsertFavorite:eu.lQ,updateRearrangeDragState:eu.lQ,clearRearrangeDragState:eu.lQ,rearrangeDragState:void 0,previewYOffset:e.previewYOffset,showPreviewDelay:l,setShowPreviewDelay:i,sections:[],preventHoverStyle:!1,isFavoritesToMove:!0}));return el.createElement(el.Fragment,null,el.createElement("div",{className:"favorited_section--divider--TQ8SF favorited_section--divider--TQ8SF"}),el.createElement("div",{className:ey()("favorited_section--moveFavoritesContainer--4Bil-",eE.cx.pt4.pb4.ml8.mr8.mb8.$)},el.createElement("div",{className:ey()(eE.cx.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--fu0y4 favorited_section--sectionHeaderContainer--iG-He sidebar--sectionHeaderContainer--3EG5O sidebar--sectionHeaderName--zXQ94 sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa")},el.createElement("div",{onClick:_,className:eE.cx.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},el.createElement(eC.B,{className:ey()(eE.cx.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--vddRm"),svg:u?dU.A:gX.A}),el.createElement(e2.Tx,{id:"sidebar.move_these_starred_items"}),el.createElement(eC.B,{svg:Ea.A,className:ey()("favorited_section--helpIcon--V48GW",eE.cx.flex.itemsBaseline.ml4.$),"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),u?null:el.createElement(oj.Ex,{text:m.length>99?"99+":`${m.length}`,color:oj.zE.DEFAULT,className:eE.cx.mr8.colorText.colorBgSelectedSecondary.$})),u?el.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--NmHlT"},g,el.createElement("div",{className:eE.cx.flex.justifyBetween.m8.h24.$},el.createElement(cp.$$,{className:"favorited_section--favoritesToMoveActionButtons--zT8c9",onClick:()=>{n(t3.to({type:Ee,data:{favorites:m}}))}},el.createElement(e2.Tx,{id:"file_browser.planless_favorites.add_to_sidebar"})),el.createElement(cp.nR,{className:"favorited_section--unstarAllButton--LBh2r favorited_section--favoritesToMoveActionButtons--zT8c9",onClick:p},el.createElement(e2.Tx,{id:"file_browser.planless_favorites.unstar_all"})))):null))}var El=a(761070);function Ei(){return el.createElement(_Z.Z,{isSelected:!0,icon:el.createElement(eC.B,{className:"offline_files_section--offlineFilesIcon--bjU7z sidebar--icon--nwW61",svg:El.A}),text:el.createElement(e2.Tx,{id:"sidebar.offline_files"})})}function Es(){return el.createElement("div",{className:"offline_files_section--offlineCard--wFZIG"},el.createElement("div",{className:"offline_files_section--offlineCardHeader--Z73pl"},el.createElement(e2.Tx,{id:"sidebar.offline_card.header"})),el.createElement("div",null,el.createElement(e2.Tx,{id:"sidebar.offline_card.body"})))}var Eo=a(383986),Ec=a(939683),Ed=a(12167);function Em(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.currentUserOrgId),r=(0,ei.d4)(t=>e.licenseGroup&&t.licenseGroups[e.licenseGroup.id]),{canUserAdminOrg:n,canUserAdminLicenseGroup:l,teamCreationIsDisabled:i}=(0,pd.Vq)(null==r?void 0:r.id),s=e.licenseGroup&&e.mainLicenseGroupForUser&&e.licenseGroup.id===e.mainLicenseGroupForUser.id,o=!e.licenseGroup&&!e.mainLicenseGroupForUser;return e.shouldShowNewTeamLink&&(n||l||s||o)?el.createElement("div",{className:"license_group_link--additionButton--5H1-w folder_link--additionButton--oJaXB",onClick:i?e=>e.stopPropagation():void 0,onMouseEnter:i?()=>{var t;null==(t=e.trackDisabledHoverEvent)||t.call(e)}:void 0,onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},el.createElement(Ed.f,{data_tooltip:i?(0,e2.t)("license_group_view.toolbar.create_team_disabled"):(0,e2.t)("sidebar.create_new_team"),data_onboarding_key:"new-team-from-workspaces-sidebar",innerText:s?"Creates new team in user's main workspace":"Creates new unassigned team in the org",onClick:e=>{e.stopPropagation(),a?t(t3.to({type:pu.Uc,data:{}})):t(sq.Dw({}))},disabled:i})):null}let Eu=function(e){var t;let a=(0,ei.wA)(),r=(0,ei.d4)(u5.QT),[n,l]=el.useState(!1),i=(0,Ec.NV)(a6.WL),s=(0,pV.S)();return el.createElement("div",{className:"license_group_link--licenseGroupDetails--hGgoE",onMouseOver:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>{r&&(a(aC.$T({view:"workspace",subView:m$.V0.DIRECTORY,workspaceId:e.licenseGroup?e.licenseGroup.id:null,selectedTab:m$.dN.TEAMS})),a(aC.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.licenseGroup?e.licenseGroup.id:void 0})))},role:"link",tabIndex:0},el.createElement("div",{className:s?"license_group_link--licenseGroupNameCustomSections--ovf9g sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa":"license_group_link--licenseGroupName--rYPMM sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa"},(null==(t=e.licenseGroup)?void 0:t.name)||(0,e2.t)("sidebar.workspaces.other_teams")),n&&el.createElement(Em,{mainLicenseGroupForUser:e.mainLicenseGroup,licenseGroup:e.licenseGroup,shouldShowNewTeamLink:e.shouldShowNewTeamLink,trackDisabledHoverEvent:()=>{i(a6.jd,{placement:"workspacesSidebar"})}}))};var E_=a(501354);class Ep extends el.Component{constructor(e){super(e),this.dragPaneImageRef=null,this.setDragImageRef=e=>{this.dragPaneImageRef=e},this.onDragStart=(e,t)=>{t.dataTransfer.effectAllowed="move";let a=new p7.le(t.dataTransfer);a.setArbitraryData(e),this.dragPaneImageRef&&a.setDragImage(this.dragPaneImageRef),this.props.dispatch(pW.v({type:_M.R.Team,data:e})),t.stopPropagation()},this.onDragEnd=e=>{this.props.dispatch(pW.T())},this.isDragTarget=e=>{var t,a;return(!this.props.isEnterpriseSidenavEnabled||null==(t=this.props.dragState.data)||!t.licenseGroupId||this.props.dragState.data.licenseGroupId===(null==(a=this.props.licenseGroup)?void 0:a.id))&&this.props.dragState.type===_M.R.Team},this.onDragEnter=(e,t)=>{this.props.dragState.type===_M.R.Team&&this.setState({draggingOverTeamId:e})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=e=>{this.setState(t=>t.draggingOverTeamId===e?{draggingOverTeamId:null}:null)},this.onDragDrop=(e,t,a)=>{let r=new p7.le(t);this.moveDroppedTeam(e,r,a),this.setState({draggingOverTeamId:null})},this.state={draggingOverTeamId:null,draggingBefore:!1}}moveDroppedTeam(e,t,a){var r,n,l,i,s,o,c,d,m,u,_;this.props.dragState.type!==_M.R.Team&&console.error("Expected Team");let p=this.props.dragState.data;if(!p)return;let g=p.id,E=a.upper,f=(0,mM.n$)((null==(l=null==(n=null==(r=this.props.sidebarData)?void 0:r.teamRoles)?void 0:n.map(e=>e.team))?void 0:l.filter(e=>!!e))||[],(null==(s=null==(i=this.props.sidebarData)?void 0:i.fileBrowserPreferences)?void 0:s.orderedTeamIds)||[]),h=(0,as.Pe)(f,g,e,E),v=null==(c=null==(o=this.props.sidebarData)?void 0:o.fileBrowserPreferences)?void 0:c.orderedFavoritedResourceIds;h!==f&&this.props.dispatch(_R.Sk.put({prefs:{id:(null==(m=null==(d=this.props.sidebarData)?void 0:d.fileBrowserPreferences)?void 0:m.id)||"optimistic-id",orderedTeamIds:h,orderedFavoritedResourceIds:v,orderedLicenseGroupIds:null==(_=null==(u=this.props.sidebarData)?void 0:u.fileBrowserPreferences)?void 0:_.orderedLicenseGroupIds},userInitiated:!0}))}render(){let e=1!==this.props.orderedTeams.length;return el.createElement(el.Fragment,null,el.createElement("div",null,this.props.orderedTeams.map((t,a)=>el.createElement(eg.Y,{key:t.id,className:this.state.draggingOverTeamId===t.id?this.state.draggingBefore?"sidebar--dropBefore--kTt0n":"sidebar--dropAfter--TDzSS":"",isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,t.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,t.id),onTargetDrop:this.onDragDrop.bind(this,t.id),draggable:e,onDragStart:this.onDragStart.bind(this,t),onDragEnd:this.onDragEnd},el.createElement(pi,{key:t.id,team:t,draggable:e,dragState:this.props.dragState,onboardingKey:0===a?pp.TEAM_FILES_ONBOARDING_KEY:void 0,...this.props}))),el.createElement("div",{className:"sidebar--dragImage--Q9qMX",ref:this.setDragImageRef})),!(0,_D.D6)(this.props.currentUserOrgId)&&this.props.contextSelectedFolder&&el.createElement(E_.p,{folder:this.props.contextSelectedFolder,onRenameClick:this.props.onFolderRenameClick,...this.props}))}}Ep.displayName="OrderedTeams";let Eg=(e,t,a)=>{let r=[],n=[];return t&&n.push(t),Object.values(e).forEach(e=>{var a;let r=null==(a=e[0].team)?void 0:a.licenseGroup;r&&r.id!==(null==t?void 0:t.id)&&n.push(r)}),n.sort((e,r)=>{let n=(null==a?void 0:a.indexOf(e.id))??-1,l=(null==a?void 0:a.indexOf(r.id))??-1;return -1===n&&-1===l?e.id===(null==t?void 0:t.id)?-1:r.id===(null==t?void 0:t.id)?1:e.createdAt<r.createdAt?1:-1:n-l}).forEach(e=>r.push(e.id)),r};function EE(e){var t,a;let[r,n]=el.useState(ge.hG({type:"licenseGroup",id:(null==(t=e.licenseGroup)?void 0:t.id)??Eo.s,orgId:e.currentUserOrgId})),l=e.orderedTeams.length>0,i=l||!!e.displaySharedProjects,s="ordered_license_groups--licenseGroup--Mb6gZ sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd";!e.selectedView||"workspace"!==e.selectedView.view||e.selectedView.subView!==m$.V0.DIRECTORY||e.selectedView.workspaceId!==(null==(a=e.licenseGroup)?void 0:a.id)&&(e.selectedView.workspaceId||e.licenseGroup)||(s="ordered_license_groups--selectedLicenseGroup---t7BZ sidebar--selected--AJym- ordered_license_groups--licenseGroup--Mb6gZ sidebar--sidebarSection--J2R8L text--fontPos11--2LvXf text--_fontBase--QdLsd");let o=i?el.createElement(el.Fragment,null,l&&el.createElement(Ep,{...e,orderedTeams:e.orderedTeams,contextSelectedFolder:e.contextSelectedFolder,onFolderRenameClick:e.onFolderRenameClick}),e.displaySharedProjects&&el.createElement(pl,{...e})):el.createElement("div",{className:eE.cx.colorTextSecondary.ml16.mr16.pb8.$},el.createElement(e2.Tx,{id:"sidebar.workspaces.main_workspace_empty_state"}));return el.createElement("div",{className:`ordered_license_groups--section--LLIM0 sidebar--section--OukoN ${r?eE.cx.pb4.$:""}`},el.createElement("div",{className:s,draggable:!0},el.createElement(eC.B,{className:"ordered_license_groups--expandCaret--LuetD sidebar--expandCaret--P-baV",svg:r?dU.A:gX.A,onClick:()=>{var t;ge.Fp({type:"licenseGroup",id:(null==(t=e.licenseGroup)?void 0:t.id)??Eo.s,orgId:e.currentUserOrgId},!r),n(!r)}}),el.createElement(Eu,{licenseGroup:e.licenseGroup,mainLicenseGroup:e.mainLicenseGroup,shouldShowNewTeamLink:e.shouldShowNewTeamLink})),r&&o)}function Ef(e){var t,a;if(0===e.teamsUnassignedToLicenseGroup.length&&!e.hasSharedProjects)return null;let r=(0,mM.yR)(e.teamsUnassignedToLicenseGroup.filter(e=>!!e.team).map(e=>e.team)||[],(null==(a=null==(t=e.sidebarData)?void 0:t.fileBrowserPreferences)?void 0:a.orderedTeamIds)||[]);return el.createElement(EE,{...e,key:"ordered-license-groups-other",orderedTeams:r,displaySharedProjects:!!e.hasSharedProjects,shouldShowNewTeamLink:e.shouldShowNewTeamLink})}let Eh=function(e){var t,a;let[r,n]=el.useState(),l=null,i=(t,a,r)=>{var n,l,i,s,o,c,d,m;let u=e.dragState.data;if(!u)return;let _=u.id,p=r.upper,g=Eg(e.teamRolesByLicenseGroup,e.mainLicenseGroup,(null==(l=null==(n=e.sidebarData)?void 0:n.fileBrowserPreferences)?void 0:l.orderedTeamIds)||[]),E=(0,as.Pe)(g,_,t,p);E!==g&&e.dispatch(_R.Sk.put({prefs:{id:(null==(s=null==(i=e.sidebarData)?void 0:i.fileBrowserPreferences)?void 0:s.id)||"optimistic-id",orderedTeamIds:null==(c=null==(o=e.sidebarData)?void 0:o.fileBrowserPreferences)?void 0:c.orderedTeamIds,orderedFavoritedResourceIds:null==(m=null==(d=e.sidebarData)?void 0:d.fileBrowserPreferences)?void 0:m.orderedFavoritedResourceIds,orderedLicenseGroupIds:E},userInitiated:!0}))},s=(t,a)=>{a.dataTransfer.effectAllowed="move";let r=new p7.le(a.dataTransfer);r.setArbitraryData(t),l&&r.setDragImage(l),e.dispatch(pW.v({type:_M.R.LicenseGroup,data:t}))},o=t=>{e.dispatch(pW.T()),n(void 0)},c=()=>e.dragState.type===_M.R.LicenseGroup,d=(t,a,r)=>{e.dragState.type===_M.R.LicenseGroup&&n({draggingOverLicenseGroupId:t,draggingBefore:r.upper})},m=t=>{e.dragState.type===_M.R.LicenseGroup&&n({draggingOverLicenseGroupId:(null==r?void 0:r.draggingOverLicenseGroupId)??"",draggingBefore:t.upper})},u=()=>{},_=(e,t,a)=>{i(e,new p7.le(t),a),n(void 0)},p=Eg(e.teamRolesByLicenseGroup,e.mainLicenseGroup,null==(a=null==(t=e.sidebarData)?void 0:t.fileBrowserPreferences)?void 0:a.orderedLicenseGroupIds),g=((0,sQ.canMemberOrg)(e.currentUserOrgId,e.permissionsState)||!e.currentUserOrgId)&&!e_.Ay.mobile,E=t=>{var a,r,n;let l=e.teamRolesByLicenseGroup[t]||[],i=(0,mM.yR)(l.filter(e=>!!e.team).map(e=>e.team),(null==(r=null==(a=e.sidebarData)?void 0:a.fileBrowserPreferences)?void 0:r.orderedTeamIds)||[]);if(e.mainLicenseGroup&&t===e.mainLicenseGroup.id)return el.createElement(EE,{...e,key:"ordered-license-groups-main",licenseGroup:e.mainLicenseGroup,orderedTeams:i,shouldShowNewTeamLink:g});let s=null==(n=l[0].team)?void 0:n.licenseGroup;if(s)return el.createElement(EE,{...e,key:`ordered-license-groups-${s.id}`,licenseGroup:s,orderedTeams:i,shouldShowNewTeamLink:g})};return el.createElement(el.Fragment,null,0===p.length?el.createElement("div",{className:eE.cx.colorTextSecondary.ml16.mr16.$},el.createElement(e2.Tx,{id:"sidebar.workspaces.workspace_section_empty_state"})):el.createElement(el.Fragment,null,p.map(t=>{var a,n;let l=E(t);if(l){let i=t===(null==(a=e.mainLicenseGroup)?void 0:a.id)?e.mainLicenseGroup:null==(n=e.teamRolesByLicenseGroup[t][0].team)?void 0:n.licenseGroup;return el.createElement(eg.Y,{key:t,className:(null==r?void 0:r.draggingOverLicenseGroupId)===t?(null==r?void 0:r.draggingBefore)?"ordered_license_groups--dropBefore--9aBfo sidebar--dropBefore--kTt0n":"ordered_license_groups--dropAfter--9YJln sidebar--dropAfter--TDzSS":"",isDragTarget:c,onTargetDragEnter:d.bind(null,t),onTargetDragQuadrantUpdate:m,onTargetDragLeave:u,onTargetDrop:_.bind(null,t),onDragStart:s.bind(null,i),onDragEnd:o},l)}})),el.createElement("div",{className:"ordered_license_groups--dragImage--bRPwH sidebar--dragImage--Q9qMX",ref:e=>{l=e}}),el.createElement(Ef,{...e,shouldShowNewTeamLink:g}))};function Ev(){let e=(0,ei.d4)(e=>e.currentUserOrgId),t=(0,ei.d4)(t=>e?t.orgById[e]:null),a=(0,dM.c4)(e).data??!1;return t&&e?a?(0,e2.t)("sidebar.browse.all_workspaces"):(0,e2.t)("sidebar.browse.all_teams"):null}function Eb(){let e=Ev();return el.createElement(el.Fragment,null,e)}var Ey=a(499893);function Ew(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.currentUserOrgId),a=(0,ei.d4)(e=>e.selectedView),r=(0,pV.S)(),n=(0,ei.d4)(e=>t?e.orgById[t]:null),l="org"===a.view&&a.orgId===t,i=Ev();return n&&t&&i?el.createElement(_Z.Z,{isSelected:l,onClick:()=>{e(aC.$T({view:"org",orgId:t,orgViewTab:mU.X.HOME})),e(aC.Oe({clickedResourceType:"org",resourceIdOrKey:t}))},icon:el.createElement(eC.B,{className:eE.cx.colorIcon.$,svg:r?gz.A:Ey.A}),text:el.createElement(oK.E,{truncate:!0},i)}):null}var ET=a(767814),Ex=a(171267),EC=a(74592);function EN(){return el.createElement("div",{className:"base_upgrade_section--divider--9fqQp sidebar--divider--6hy7u"})}function Ek(e){return el.createElement(e8.fu,{name:e.trackingContext,properties:e.trackingProperties},el.createElement("div",{className:"base_upgrade_section--content--vn5iE"},e.onDismiss&&el.createElement(cg.Jn,{className:"base_upgrade_section--closeButton--O7M2l",onClick:e.onDismiss}),e.header&&el.createElement("div",{className:eE.cx.mb12.wFull.$},e.header,el.createElement(EN,null)),e.svg&&el.createElement(eC.B,{className:`base_upgrade_section--icon--VKmmr ${e.svgStyles??""}`,svg:e.svg}),e.countDownDaysLeft&&el.createElement("div",{className:"base_upgrade_section--countdownTicker--lnhNG"},el.createElement(oK.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),el.createElement("div",{className:"base_upgrade_section--textContainer--c6LHk"},e.titleText&&el.createElement("p",{className:"base_upgrade_section--title--Lzn8f"},e.titleText),el.createElement("p",null,e.bodyText)),el.createElement(eT.vd,{className:"base_upgrade_section--ctaButton--zRK-c",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let ES="upgrade_section--upgradeTextEmphasized--QxFGv";var EI=a(491095),EA=a(247866),EL=((o=EL||{})[o.UPGRADE=0]="UPGRADE",o[o.CREATE=1]="CREATE",o);function ER(e){let t=(0,ei.wA)(),a=el.createElement("span",{className:ES},(0,e2.t)("edu.sidebar_section.verified"));return el.createElement(Ek,{trackingContext:0===e.type?"Edu Upgrade Section":"Edu Create Section",svg:EI.A,bodyText:el.createElement(el.Fragment,null,a," ",0===e.type?(0,e2.t)("edu.sidebar_section.upgrade"):(0,e2.t)("edu.sidebar_section.create_team")),ctaText:0===e.type?(0,e2.t)("edu.choose_team"):(0,e2.t)("edu.create_free_team"),onClickCTA:0===e.type?()=>{t((0,t3.to)({type:Ex.qB}))}:()=>{t(sq.Dw({isEduTeam:!0}))},onDismiss:()=>{t(r7.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function EO({daysLeft:e}){var t,a,r;let n=(0,ei.wA)(),l=(0,aX.Rs)(a9.UpR,{},{enabled:!(0,em.kc)().edu_bootcamps_reverification}),i=(0,oz.H5)(),s=!!(0,pm.f)("edu_hide_verification");if((0,em.kc)().edu_bootcamps_reverification||(s=((null==(r=null==(a=null==(t=l.data)?void 0:t.currentUser)?void 0:a.schoolType)?void 0:r.status)===aX.tT.Loaded?l.data.currentUser.schoolType.data:null)===EC.h6.BOOTCAMP_OR_ONLINE&&i()),e<0)return null;let o=()=>{n((0,t3.to)({type:_V.V,data:{upsellSource:d8.b.EDU_UPGRADE_SECTION}}))},c=el.createElement(eT.eM,{onClick:()=>ec.Ay.redirect("/education/apply","_blank")},el.createElement(e2.Tx,{id:"edu.sidebar_section.verify_your_education_status"}));return e>0?el.createElement(Ek,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:el.createElement(e2.Tx,{id:"edu.sidebar_section.education_plan_expires_in_days",daysLeft:e}),bodyText:s?el.createElement(e2.Tx,{id:"edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"}):el.createElement(e2.Tx,{id:"edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",verify:c}),ctaText:el.createElement(e2.Tx,{id:"upgrade.upgrade_to_professional"}),onClickCTA:o}):el.createElement(Ek,{trackingContext:"Universal Upgrade Section Education Plan Expired",svg:EA.A,titleText:el.createElement(e2.Tx,{id:"edu.sidebar_section.education_plan_expired"}),bodyText:s?el.createElement(e2.Tx,{id:"edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"}):el.createElement(e2.Tx,{id:"edu.sidebar_section.to_keep_editing_upgrade_your_team",verify:c}),ctaText:el.createElement(e2.Tx,{id:"upgrade.upgrade_to_professional"}),onClickCTA:o})}let ED="org_upgrade_multi_team_modal--planModalDivider--NkcU-",EF="org_upgrade_single_team_modal--planGrid--NTHDz",EM="org_upgrade_single_team_modal--priceRow--8kVuf text--fontPos11--2LvXf text--_fontBase--QdLsd",EP="org_upgrade_single_team_modal--priceFigureWithFigjam--YinXJ text--fontPos16--oMC-G text--_fontBase--QdLsd",EB="org_upgrade_single_team_modal--figmaPriceWithDevMode--7z32E",EU="org_upgrade_single_team_modal--devModeText--XldVW";var EW=a(450147),EV=a(999918);function EG(e){return el.createElement("div",{className:"org_upgrade_multi_team_modal--planItem--3dOII"},el.createElement(eC.B,{svg:EW.A,className:"org_upgrade_multi_team_modal--checkIcon--7wvBo"}),el.createElement("p",null,e.text))}let E$=(0,ei.Ng)(e=>{let{teams:t}=e;return{teams:t,unsortedTeamIds:(0,mM._L)(e.user,e.roles,e.teams)}})((0,e8.kp)(function(e){let t=(0,ei.wA)(),a=()=>{t(t3.Ce())},r=el.useMemo(()=>[(0,e2.t)("org_upgrade.multi_team.plan_items.shared_design_libraries"),(0,e2.t)("org_upgrade.multi_team.plan_items.shared_fonts_and_styles"),(0,e2.t)("org_upgrade.multi_team.plan_items.centralized_billing_and_admin_controls"),(0,e2.t)("org_upgrade.multi_team.plan_items.single_sign_on_sso_integrations")],[]),n=e=>el.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntry--fg-iB",key:e.id},el.createElement(aa.Ro,{size:10,hideFallbackInitial:!0,entity:e,shape:"SQUARE"}),el.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntryName--5F9BH ellipsis--ellipsis--Tjyfa"},e.name)),l=el.useMemo(()=>{switch(Object.keys(e.teams).length){case 2:return 184;case 3:return 192;default:return 221}},[e.teams]),i=(0,r$.wU)();return el.createElement(rn.Nb,{className:"org_upgrade_multi_team_modal--modal--l80Ms",hide:a,size:"fitContent",useModalViewScroll:!1},el.createElement(rt.P,{className:"org_upgrade_multi_team_modal--scrollContainer--dqB2X"},el.createElement("div",{className:"org_upgrade_multi_team_modal--planModalHeader--51tOx",style:{height:64,marginBottom:32}},el.createElement("div",{className:"org_upgrade_multi_team_modal--planModalTitle--ZxC2N text--fontPos24--YppUD text--_fontBase--QdLsd",style:{fontWeight:600}},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.bring_your_teams_together_with_the_figma_organization_plan"})),el.createElement(cg.Jn,{className:"org_upgrade_multi_team_modal--closeButton--n7pFz",onClick:a,innerText:"close"})),el.createElement("div",{className:ED}),el.createElement("div",{className:"org_upgrade_multi_team_modal--planDetails--xiNUv"},el.createElement("div",{className:"org_upgrade_multi_team_modal--planDetailsLeft--hvvK-"},el.createElement("div",{className:"org_upgrade_multi_team_modal--billingCadence--5AUbS"},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.annual_billing_only"})),el.createElement("div",{className:EM},el.createElement("p",{className:EB},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.figma"}),(0,em.kc)().billing_dev_mode_customer_ui&&el.createElement("div",{className:EU},el.createElement(cr.G,null))),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:el.createElement("span",{className:EP},i.formatPrice("orgFigma"))}))),(0,em.kc)().billing_dev_mode_customer_ui&&el.createElement("div",{className:EM},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.dev_mode"}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:el.createElement("span",{className:EP},i.formatPrice("orgDevMode"))}))),el.createElement("div",{className:EM},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.fig_jam"}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:el.createElement("span",{className:EP},i.formatPrice("orgFigjam"))}))),el.createElement("div",{className:"org_upgrade_multi_team_modal--planText--70OKl"},el.createElement("div",{className:"org_upgrade_multi_team_modal--itemList--mwTTI"},r.map((e,t)=>el.createElement("div",{key:t},el.createElement(EG,{text:e}))),el.createElement("div",{className:"org_upgrade_multi_team_modal--seeAll--NRHt-"},el.createElement(eT.Us,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.see_all_features"})))))),el.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationSection--2D4Lu",style:{height:l}},el.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationLeftSection--XMN5X"},el.createElement("div",{className:"org_upgrade_multi_team_modal--dynamicTeamListSection--GlG-Z"},el.createElement("div",{className:"org_upgrade_multi_team_modal--teamListHeader--YcXT2"},el.createElement("img",{className:"org_upgrade_multi_team_modal--placeholderOrgLogo--QCeXJ",src:"https://static.figma.com/uploads/fc0fcfadcfe50c96f4dcf859aabe1952c822ae2a",draggable:!1,alt:""}),el.createElement("div",{className:"org_upgrade_multi_team_modal--teamListOrgName--XYzhd"},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.acme_inc"})),el.createElement(eC.B,{svg:EV.A,className:"org_upgrade_multi_team_modal--multiTeamOrgUpgradeAdjustSvg--CeXxC"})),el.createElement("div",{className:"org_upgrade_multi_team_modal--teamListDivider--o0hvc"}),(()=>{let t=e.unsortedTeamIds,a=[];for(var r=0;r<Math.min(4,t.length);r++){let l=e.teams[t[r]];a.push(n(l))}return el.createElement("div",{className:"org_upgrade_multi_team_modal--teamList--NLWMC"},a)})(),el.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationRightSection--IoR5l"},el.createElement("img",{className:"org_upgrade_multi_team_modal--filesIllustration--53l1v",src:"https://static.figma.com/uploads/e2148969d5a469e76c053a23b6647d487e6d64ee",draggable:!1,alt:""}),el.createElement("img",{src:"https://static.figma.com/uploads/50ae1752a504eea59f2a3efac6b0f2d1ed74435a",draggable:!1,alt:""})))))),el.createElement("div",{className:ED}),el.createElement(eT.vd,{onClick:()=>{a(),t(aC.$T({view:"orgSelfServe",upsellSource:e.upsellSource}))},className:"org_upgrade_multi_team_modal--continueButton--ZDQPy",trackingProperties:{trackingDescriptor:e3.c.UPGRADE_TO_ORGANIZATION,upsellSource:e.upsellSource}},el.createElement(e2.Tx,{id:"org_upgrade.multi_team.continue"})),el.createElement("div",{className:"org_upgrade_multi_team_modal--spaceFiller--uHj5m"})))},"Multi-Team Org Upgrade Modal")),Ej=(0,rr.Ju)(E$,"OrgUpgradeMultiTeamModal");var EH=a(592312),Eq=a(414270);function EY(e){return el.createElement(el.Fragment,null,el.createElement(eC.B,{svg:e.isArrow?EH.A:Eq.A,className:"org_upgrade_single_team_modal--checkIcon--fz5e5"}),el.createElement("p",null,e.text))}function Ez(e){return el.createElement("div",{className:"org_upgrade_single_team_modal--teamPlan--vLM8G"},el.createElement("div",{className:"org_upgrade_single_team_modal--itemList--Ae1HF"},e.features.map((e,t)=>el.createElement("div",{key:t,className:"org_upgrade_single_team_modal--planItem--eTgis"},el.createElement(EY,{text:e.text,isArrow:e.isArrow}))),e.plan===d2.Jm.ORG&&el.createElement("div",{className:"org_upgrade_single_team_modal--seeAllFeatures--XIKXN"},el.createElement(eT.Us,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},el.createElement(e2.Tx,{id:"org_upgrade.single_team.see_all_features"}))),e.plan===d2.Jm.ORG&&el.createElement(eT.vd,{onClick:e.onUpgrade,className:"org_upgrade_single_team_modal--planSelectButton--z4EV7",trackingProperties:{trackingDescriptor:e3.c.UPGRADE_TO_ORGANIZATION,upsellSource:e.upsellSource}},el.createElement(e2.Tx,{id:"org_upgrade.single_team.upgrade_to_an_organization"}))))}function EK(e){return el.createElement("div",{className:"org_upgrade_single_team_modal--planPriceView--nG6Sy",style:{padding:e.padding}},el.createElement("h2",{className:"org_upgrade_single_team_modal--planNameBase--kWiSU text--fontPos16--oMC-G text--_fontBase--QdLsd"},e.name),el.createElement("p",{className:"org_upgrade_single_team_modal--subtitle--zSLxy"},e.subtitle),el.createElement("div",{className:EM},el.createElement("p",{className:EB},el.createElement(e2.Tx,{id:"plan_details.figma"}),(0,em.kc)().billing_dev_mode_customer_ui&&el.createElement("div",{className:EU},el.createElement(cr.G,null))),el.createElement("div",null,el.createElement("p",{className:EP},e.prices[oX.lM.DESIGN]))),(0,em.kc)().billing_dev_mode_customer_ui&&e.prices[oX.lM.DEV_MODE]&&el.createElement("div",{className:EM},el.createElement("p",null,el.createElement(e2.Tx,{id:"plan_details.dev_mode_only"})),el.createElement("div",null,el.createElement("p",{className:EP},e.prices[oX.lM.DEV_MODE]))),el.createElement("div",{className:EM},el.createElement("p",null,el.createElement(e2.Tx,{id:"plan_details.fig_jam"})),el.createElement("div",null,el.createElement("p",{className:EP},e.prices[oX.lM.FIGJAM]))))}let EJ=(0,e8.kp)(function(e){let t=(0,ei.wA)(),a=()=>{t(t3.Ce())},r=(0,r$.wU)();return el.createElement(rn.Nb,{className:"org_upgrade_single_team_modal--modal--AuM3r",hide:a,size:586,useModalViewScroll:!1},el.createElement(rt.P,{className:"org_upgrade_single_team_modal--scrollContainer--fwiSd"},el.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeader--tYEg2"},el.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeaderText--O6gsa"},el.createElement("div",{className:"org_upgrade_single_team_modal--planModalTitle--kPIqU text--fontPos24--YppUD text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"org_upgrade.single_team.get_more_out_of_figma_as_you_grow"}))),el.createElement(cg.Jn,{className:"org_upgrade_single_team_modal--closeButton---QE7V",onClick:a,innerText:"close"})),el.createElement("div",{className:ey()(EF,"org_upgrade_single_team_modal--planGrid__vertDivided--eb26t")},el.createElement(EK,{name:(0,e2.t)("org_upgrade.single_team.professional_plan"),subtitle:(0,e2.t)("org_upgrade.single_team.price_when_billed_annually"),prices:{[oX.lM.DESIGN]:`${r.formatPrice("annualFigma")}`,[oX.lM.FIGJAM]:`${r.formatPrice("annualFigjam")}`},padding:"16px 31px 16px 36px"}),el.createElement(EK,{name:(0,e2.t)("org_upgrade.single_team.organization_plan"),subtitle:(0,e2.t)("org_upgrade.single_team.annual_billing_only"),prices:{[oX.lM.DESIGN]:r.formatPrice("orgFigma"),[oX.lM.DEV_MODE]:r.formatPrice("orgDevMode"),[oX.lM.FIGJAM]:r.formatPrice("orgFigjam")},padding:"16px 32px 16px 33px"})),el.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeaderDivider--Yfsl-"}),el.createElement("div",{className:EF},el.createElement(Ez,{plan:d2.Jm.PRO,features:[{text:(0,e2.t)("org_upgrade.single_team.unlimited_design_files_and_projects_in_one_team")},{text:(0,e2.t)("org_upgrade.single_team.design_library_within_one_team")},{text:(0,e2.t)("org_upgrade.single_team.audio_conversations_in_files")}]}),el.createElement(Ez,{plan:d2.Jm.ORG,features:[{text:(0,e2.t)("org_upgrade.single_team.everything_in_professional_plus"),isArrow:!0},{text:(0,e2.t)("org_upgrade.single_team.unlimited_teams_and_unlimited_projects")},{text:(0,e2.t)("org_upgrade.single_team.cross_team_design_libraries_and_fonts")},{text:(0,e2.t)("org_upgrade.single_team.control_file_sharing_inside_and_outside_of_your_organization")},{text:(0,e2.t)("org_upgrade.single_team.single_sign_on_sso_integration")},{text:(0,e2.t)("org_upgrade.single_team.private_plugins_and_plugin_management")},{text:(0,e2.t)("org_upgrade.single_team.full_content_ownership")}],onUpgrade:()=>{a(),t(aC.$T({view:"orgSelfServe",upsellSource:e.upsellSource}))},upsellSource:e.upsellSource}))))},"Single-Team Org Upgrade Modal"),EQ=(0,rr.Ju)(EJ,"OrgUpgradeSingleTeamModal");var EZ=a(990546);function EX({orgUpsellEligibility:e}){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.userFlags),r=e===o1.VY.SINGLE_TEAM?el.createElement(e2.Tx,{id:"upgrade.access_cross_team_design_libraries_sso_and_more"}):el.createElement(e2.Tx,{id:"upgrade.centralize_your_teams_and_share_design_libraries"}),n=`${e===o1.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return el.createElement(Ek,{trackingContext:n,svg:EZ.A,bodyText:r,ctaText:el.createElement(e2.Tx,{id:"upgrade.view_plans"}),onClickCTA:()=>{e===o1.VY.SINGLE_TEAM&&t((0,t3.to)({type:EQ,data:{upsellSource:d8.b.ORG_UPGRADE_SECTION}})),e===o1.VY.MULTIPLE_TEAMS&&t((0,t3.to)({type:Ej,data:{upsellSource:d8.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,o1.CJ)(a)),ctaDataTestId:"org-upgrade-cta"})}var E0=a(992295);let E1="pro_trials_upgrade_section--divider--UuKk7 sidebar--divider--6hy7u";var E2=a(707990);function E4(){let e=(0,ei.wA)();return el.createElement(Ek,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:_j.ng.getTrackingProperties(),svg:E2.A,titleText:el.createElement(oK.E,{i18nId:"upgrade.free_professional_team_trial"}),bodyText:el.createElement(oK.E,{i18nId:"upgrade.enjoy_our_best_design_features_for_14_days"}),ctaText:el.createElement(oK.E,{i18nId:"upgrade.try_the_professional_plan"}),onClickCTA:()=>e((0,t3.to)({type:E0.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:_j.ng.getTrackingProperties("Try the Professional Plan"),svgStyles:"pro_trials_upgrade_section--sparkleIcon--6zyM1"})}function E3({team:e}){return el.createElement(nX.Y,{spacing:8,dataTestId:"team-info"},el.createElement(oq.nl,{size:oq.Pf.SMALL,team:e,fallbackDisplay:_W.U.HIDDEN,shape:"ROUNDED_SQUARE"}),el.createElement(oK.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function E8({daysLeft:e,trialTeam:t,onClickCTA:a}){var r;let n=el.createElement(eT.eM,{onClick:a,dataTestId:"pro_trial_inline_upgrade",trackingProperties:_j.ng.getTrackingProperties()},el.createElement(e2.Tx,{id:"upgrade.pro_trial_inline_upgrade_cta"}));return el.createElement(e8.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:_j.ng.getTrackingProperties()},el.createElement("div",{className:E1}),el.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--9MVqn"},el.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--FlU0a"},el.createElement(E3,{team:t})),el.createElement("div",{className:E1}),el.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker--9ms74"},el.createElement(oK.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),el.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--RE-Gg"},el.createElement(oK.E,{i18nId:"upgrade.days_left_in_trial",i18nParams:{days:e},color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13})),el.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--ujhIJ"},el.createElement(oK.E,{children:(r=e)>=14?el.createElement(oK.E,{i18nId:"upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",i18nParams:{upgrade:n}}):r>=10?el.createElement(oK.E,{i18nId:"upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",i18nParams:{upgrade:n}}):r>=4?el.createElement(oK.E,{i18nId:"upgrade.pro_trial_uub_countdown.try_out_these_features"}):r>=2?el.createElement(oK.E,{i18nId:"upgrade.pro_trial_uub_countdown.you_will_miss_these_files"}):r>=1?el.createElement(oK.E,{i18nId:"upgrade.pro_trial_uub_countdown.just_a_memory"}):null})),e<=9&&el.createElement(eT.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--t566y",onClick:a,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:_j.ng.getTrackingProperties()},el.createElement(oK.E,{i18nId:"upgrade.upgrade_to_professional"}))))}function E5(e){return el.createElement(Ek,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:_j.ng.getTrackingProperties(),titleText:el.createElement(oK.E,{i18nId:"upgrade.currently_on_starter_plan"}),bodyText:el.createElement(oK.E,{i18nId:"upgrade.your_trial_has_ended"}),ctaText:el.createElement(oK.E,{i18nId:"upgrade"}),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:_j.ng.getTrackingProperties(),header:el.createElement(E3,{team:e.team})})}function E6(e){let t=(0,ei.wA)(),{ongoingUpgradableTrials:a,expiredUpgradableTrials:r}=e,n=(0,ei.d4)(e=>e.teams),l=e=>{t((0,t3.to)({type:_V.V,data:{teamId:e,upsellSource:d8.b.PRO_TRIAL_UPSELL_MODAL}}))};return r.length>0?el.createElement(E5,{team:n[r[0].teamId],onClickCTA:()=>l(r[0].teamId)}):a.length>0?el.createElement(E8,{trialTeam:n[a[0].teamId],daysLeft:a[0].daysLeft,onClickCTA:()=>l(a[0].teamId)}):null}var E9=a(425569);let E7="redeem_jamboard_offer_upgrade_section--ctaButton--wAit9 basic_form--primaryBtnFigjam--sOysn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd";function fe({header:e,body:t}){return el.createElement("div",{className:eE.cx.mb12.alignCenter.$},el.createElement("h3",{className:eE.cx.font11.fontSemiBold.$},e),el.createElement("p",{className:eE.cx.font11.$},t))}function ft(){let e=(0,ei.wA)();return el.createElement(e8.fu,{name:"Jamboard Offer File Browser Sidebar Nudge"},el.createElement(EN,null),el.createElement("div",{className:eE.cx.mx16.pt8.pb16.px16.colorBgFigjamTertiary.bRadius6.$},el.createElement("img",{className:eE.cx.block.mxAuto.mb2.w64.h44.$,src:"https://static.figma.com/uploads/175ed0cde6ed2194f8cb3cceb1278c043aa036b3",alt:(0,e2.t)("upgrade.redeem_jamboard_offer.img_alt")}),el.createElement(fe,{header:el.createElement(e2.Tx,{id:"upgrade.redeem_jamboard_offer.title"}),body:el.createElement(e2.Tx,{id:"upgrade.redeem_jamboard_offer.body"})}),el.createElement(eT.vd,{className:E7,fullWidth:!0,onClick:()=>{e((0,t3.to)({type:oY.dR,data:{plan:oY.In.PRO,upsellSource:d8.b.JAMBOARD_OFFER_UPGRADE_SECTION}}))}},el.createElement(e2.Tx,{id:"upgrade.redeem_jamboard_offer.cta"}))))}function fa(){let e=(0,ei.wA)(),t=(0,aN.iZ)();return el.createElement(e8.fu,{name:"Jamboard Importer File Browser Sidebar Nudge"},el.createElement(EN,null),el.createElement("div",{className:eE.cx.mx16.pb16.colorBgSecondary.bRadius6.overflowHidden.$},el.createElement("img",{className:eE.cx.block.wFull.hAuto.mb12.$,src:"https://static.figma.com/uploads/922ee84c836daaa8b437076910aa8415d2c57337",width:194,height:71,alt:(0,e2.t)("upgrade.jamboard_offer_import_nudge.img_alt")}),el.createElement("div",{className:eE.cx.px16.$},el.createElement(fe,{header:el.createElement(e2.Tx,{id:"upgrade.jamboard_offer_import_nudge.title"}),body:el.createElement(e2.Tx,{id:"upgrade.jamboard_offer_import_nudge.body"})}),el.createElement(eT.vd,{className:E7,fullWidth:!0,onClick:()=>{let a=null==t?void 0:t.drafts_folder_id;a&&e(sq.gN(a)),e((0,t3.to)({type:E9.Qn}))}},el.createElement(e2.Tx,{id:"upgrade.jamboard_offer_import_nudge.cta"})))))}var fr=((c=fr||{}).PRO_TRIALS_ENTRY="Pro Trials Entry",c.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",c.EDU_EXPIRY="EDU Expiry",c.EDU_UPGRADE="EDU Upgrade",c.JAMBOARD_OFFER_NUDGE="Jamboard Offer Nudge",c.JAMBOARD_OFFER_UPGRADE="Jamboard Offer Upgrade",c.ORG_UPGRADE="Org Upgrade",c.UNIVERSAL="Universal",c);function fn({onTeam:e,hitFileLimit:t}){let a=(0,ei.wA)(),r=t?el.createElement(el.Fragment,null,el.createElement("span",{className:ES},el.createElement(e2.Tx,{id:"upgrade.running_out_of_files_in_your_free_team"}))," ",el.createElement(e2.Tx,{id:"upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits"})):el.createElement(e2.Tx,{id:"upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features"});return el.createElement(Ek,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t},svg:EZ.A,bodyText:r,ctaText:el.createElement(e2.Tx,{id:"upgrade.view_plans"}),ctaTrackingProperties:{trackingDescriptor:e3.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{a((0,t3.to)({type:_V.V,data:{upsellSource:d8.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var fl=a(529928),fi=a(693223);(0,n8.eU)(e=>Object.keys(e(fi.m)).length>0);let fs=(0,n8.eU)(e=>{let t=e(fi.m),a=e(fo),r=(0,em.kc)().ps_benchmark;if(!a)return!1;let n=function(e){return[lm.P4.FILES_LIMITED,lm.P4.FILES_LIMITED_LEGACY,lm.P4.WHITEBOARD_FILES_LIMITED,lm.P4.WHITEBOARD_FILES_LIMITED_BETA].some(t=>{var a;return null==(a=null==e?void 0:e.restrictions_list)?void 0:a.includes(t)})}(a);return r?n:Object.values(t).some(e=>[lm.P4.FILES_LIMITED,lm.P4.FILES_LIMITED_LEGACY,lm.P4.WHITEBOARD_FILES_LIMITED,lm.P4.WHITEBOARD_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),fo=(0,fl.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function fc(){let e=function(){let e=function(){let e=(0,sQ.usePermissionsState)(),t=(0,aN.TA)(),a=(0,pm.f)(_j.Jy),r=(0,_$.xX)(),n=(0,mj.a9)(),l=(0,ei.d4)(e=>e.userTeamFlags);if(_j.ng.uxEnabled()&&!n){let{ongoingTrials:n,expiredTrials:i}=_j.ng.getUpgradableProTrials(l,e),s=i.filter(_j.ng.canSeeProTrialExpiryUx);if(n.length>0||s.length>0)return{type:fr.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:n,expiredUpgradableTrials:s}};if(a&&r.length>0&&_j.ng.isUserInVariant(t))return{type:fr.PRO_TRIALS_ENTRY}}return null}(),t=function(){var e,t;let a=(0,aN.iZ)(),r=(0,mj.a9)(),n=(0,mM.ol)(),l=(0,sQ.usePermissionsState)(),i=(0,aX.Rs)(a9.UpR,{}),s=null==(t=null==(e=i.data)?void 0:e.currentUser)?void 0:t.eduPeriodEnd,o=(0,ei.d4)(e=>e.userFlags);if(!a||"loaded"!==i.status)return null;let c=(0,d0.x$)(s,(0,d0.cn)(a)),d=c>0&&c!==1/0&&(0,d0.cn)(a)&&(null==n?void 0:n.student_team_state)===gf.kU.STUDENT_TEAM_CURRENT,m=0===c&&(null==n?void 0:n.student_team_state)===gf.kU.STUDENT_TEAM_EXPIRED&&(0,d2.oc)(n.id,l);if((0,em.kc)().edu_offboarding_experience&&(d||m))return{type:fr.EDU_EXPIRY,props:{daysLeft:c}};if(!o.dismissed_edu_sidebar&&(0,d0.cn)(a)&&!r){let e=(0,d2.Kg)(l).length>0;return{type:fr.EDU_UPGRADE,props:{type:e?EL.UPGRADE:EL.CREATE}}}return null}(),a=function(){let e=(0,co.OY)(),t=(0,aN.iZ)();if(t&&e&&!t.student_validated_at)switch(e){case co.t2.IMPORT_JAMBOARD_FILE:return{type:fr.JAMBOARD_OFFER_NUDGE};case co.t2.REDEEM_OFFER:return{type:fr.JAMBOARD_OFFER_UPGRADE}}return null}(),r=function(){var e;let t=(0,aN.iZ)(),a=0===Object.keys((0,ei.d4)(e=>e.orgById)).length,r=(0,ei.d4)(e=>e.teams),n=(0,mM.ol)(),l=(0,eU.md)(fs),i=!Object.values(r).some(e=>null!==e.subscription||e.student_team_at),s=!!(0,em.kc)().ps_benchmark,o=(0,aX.Rs)(a9.kQI,{id:(null==n?void 0:n.id)??""},{enabled:!!n&&s});if(!t||s&&!n||s&&("loaded"!==o.status||!(null==(e=o.data.team)?void 0:e.hasPermission)))return null;let c=n&&s&&!(0,d0.cn)(t)&&!(0,d2.w5)(r[n.id]);return!s&&a&&!(0,d0.cn)(t)&&i||c?{type:fr.UNIVERSAL,props:{onTeam:Object.keys(r).length>0,hitFileLimit:l}}:null}(),n=function(){let e=(0,sQ.usePermissionsState)(),t=(0,ei.d4)(e=>e),a=(0,o1.hF)(t,e),r=(0,o1.j)(t.userFlags);return a===o1.VY.NONE||r?null:{type:fr.ORG_UPGRADE,props:{orgUpsellEligibility:a}}}();return null!==e?e:null!==t?t:null!==a?a:null!==r?r:null!==n?n:null}(),t=(0,oz.fn)();return null===e?null:el.createElement(el.Fragment,null,![oz.ih.VARIANT_A,oz.ih.VARIANT_B].includes(t)&&el.createElement("div",{className:eE.cx.my8.mx0.h1.$,style:cs.sx.add({backgroundColor:"var(--color-border)"}).$}),el.createElement(fd,{...e}))}function fd(e){switch(e.type){case fr.PRO_TRIALS_ENTRY:return el.createElement(E4,null);case fr.PRO_TRIALS_UPGRADE:return el.createElement(E6,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case fr.EDU_EXPIRY:return el.createElement(EO,{daysLeft:e.props.daysLeft});case fr.EDU_UPGRADE:return el.createElement(ER,{type:e.props.type});case fr.JAMBOARD_OFFER_NUDGE:return el.createElement(fa,null);case fr.JAMBOARD_OFFER_UPGRADE:return el.createElement(ft,null);case fr.ORG_UPGRADE:return el.createElement(EX,{orgUpsellEligibility:e.props.orgUpsellEligibility});case fr.UNIVERSAL:default:return el.createElement(fn,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function fm(){let e=(0,ei.wA)();return el.createElement("button",{onClick:()=>{(0,e7.sx)("community_browser_sidebar_action_clicked"),e(aC.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,ej.Gu)()}))},className:ey()(eE.cx.flex.flexRow.itemsCenter.gap12.h48.pl16.pr16.wFull.$,"explore_community_button--hoverColor--SX-yR"),"data-onboarding-key":aq.vM},el.createElement(n0.In,{icon:"community-16"}),el.createElement(oK.E,{i18nId:"sidebar.explore_community"}))}function fu(e){return el.createElement("div",{className:eE.cx.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,eE.cx.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&el.createElement("div",{className:eE.cx.pb10.pt12.$},el.createElement(fc,null)),el.createElement(fm,null))}var f_=a(550246);function fp(e){return el.createElement("div",{className:eE.cx.colorBg.if(e.hasBottomBorder,eE.cx.bb1.colorBorder.bSolid).$},e.inOfflineMode?el.createElement(f_.X,null):el.createElement(el.Fragment,null,el.createElement(f_.X,null),el.createElement(_x.Zn,null)))}var fg=a(900581),fE=a(278362);function ff(e){let t=(0,ei.wA)(),a=(0,sJ._6)(),r=(0,ei.d4)(e=>e.currentUserOrgId),n=(0,pV.S)(),l=(0,ei.d4)(e=>e.teamFeedBellStates),i=!!(r&&l[r]),s="teamFeed"===a.view;return el.createElement(_Z.Z,{onClick:()=>{t(aC.$T({view:"teamFeed"})),t(aC.Oe({clickedResourceType:"teamFeed"}))},isSelected:s,icon:el.createElement(eC.B,{className:eE.cx.colorIcon.$,svg:n?fE.A:fg.A}),text:el.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--I8Ba4 sidebar--sectionNameCustomSections--74kLZ sidebar--sectionTextCustomSections--50Fot sidebar--sectionContentCustomSections--1ApO4 ellipsis--ellipsis--Tjyfa"},el.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--As5w4"},el.createElement(e2.Tx,{id:"fig_feed.feed"}),i&&el.createElement("div",{className:"team_feed_page_link--redDot--PARk- red_dot--baseRedDot--AZelu"})))})}function fh({selectedView:e,teamFolderId:t,teamFolderName:a}){let r=(0,ei.wA)();return t&&a?el.createElement(_Z.Z,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{r(sq.gN(t)),r(aC.Oe({clickedResourceType:"folder"}))},icon:el.createElement(n0.In,{icon:"folder-32"}),text:el.createElement(oK.E,{truncate:!0,showTooltipWhenTruncated:!1},a),"data-onboarding-key":_z.Jo}):null}class fv extends el.Component{constructor(e){super(e),this.selectedItemRef=el.createRef(),this.teamSectionBottomRef=el.createRef(),this.debouncedTrackEvent=(0,d9.s)(e7.sx,a6.WL,!0),this.scrollIfHidden=()=>{let e=ps.findDOMNode(this.selectedItemRef.current);if(!e)return;let t=e.getBoundingClientRect(),a=this.scrollContainerRef.getClipContainer().getBoundingClientRect();t.top<a.top?e.scrollIntoView({block:"start",inline:"nearest"}):t.bottom>a.bottom&&e.scrollIntoView({block:"end",inline:"nearest"})},this.onToggleExpand=()=>{ge.Fp({type:"topLevel",id:"teamsOrLicenseGroups",orgId:this.props.currentUserOrgId},!this.state.isSectionExpanded),this.setState({isSectionExpanded:!this.state.isSectionExpanded})};let t=e.currentUserOrgId&&this.props.userFlags.show_create_new_section_banner;this.state={isSectionExpanded:!t&&ge.hG({type:"topLevel",id:"teamsOrLicenseGroups",orgId:e.currentUserOrgId}),scrollTop:0,trackedScroll:!1,dispatchedMigrationToSections:!1,isBannerCloseHovered:!1,bottomIntersecting:!1,topIntersecting:!1}}onFolderRenameClick(e){this.props.dispatch(aC.z5({folderId:e.id}))}setSeenAnnouncement(e){this.props.dispatch(r7.b({show_create_new_section_banner:!1}))}createNewSection(e){this.props.dispatch(pc.pS({newCustomSectionIndex:0})),this.setSeenAnnouncement(e)}componentDidMount(){setTimeout(()=>this.scrollIfHidden(),0)}componentDidUpdate(e){let{selectedView:t}=this.props;e.selectedView!==t&&this.scrollIfHidden()}render(){var e,t,a,r,n;let l=ey()("sidebar--navDefault--hST0G",{"sidebar--showMobileNav--xLO3U":this.props.mobileNavShown}),i=(0,em.kc)().ps_benchmark&&this.props.currentTeamId,s=this.props.projectsByTeam[pn.USER_DRAFTS],o=s?s[0]:null,c=(0,_B.He)(this.props.dropdownShown),d=0===((null==(t=null==(e=this.props.sidebarData)?void 0:e.teamRoles)?void 0:t.map(e=>e.team).filter(e=>e))||[]).map(e=>e.id).length,m=(0,u5.wA)(this.props),u=(0,o2.xw)(this.props),_=u&&u.permission===lm._D.ADMIN,p=(0,_D.D6)(this.props.currentUserOrgId),g=()=>this.props.userStateLoaded?el.createElement(fc,null):null,E=(0,pd.l2)(m,_??!1,!1),f=el.createElement(el.Fragment,null,el.createElement(pf,{dispatch:this.props.dispatch,notOnAnyTeams:d,currentOrgId:this.props.currentUserOrgId,tooltipText:E?(0,e2.t)("license_group_view.toolbar.create_team_disabled"):void 0,disabled:E||(0,dP.R$)(this.props.user,null==m?void 0:m.id),onMouseEnter:E?()=>{this.debouncedTrackEvent(a6.jd,{orgId:this.props.currentUserOrgId,orgName:null==m?void 0:m.name,placement:"teamsSidebar"})}:void 0})),h=()=>!(0,sQ.canMemberOrg)(this.props.currentUserOrgId,this.props.permissionsState)&&this.props.currentUserOrgId||e_.Ay.mobile?null:f,v=()=>{let e=!(0,sQ.canMemberOrg)(this.props.currentUserOrgId,this.props.permissionsState);return el.createElement(el.Fragment,null,d&&el.createElement(el.Fragment,null,el.createElement(ph,{org:m,isOrgGuest:e,dispatch:this.props.dispatch})))},b=()=>el.createElement("div",{onClick:this.onToggleExpand,role:"button",tabIndex:0,className:"sidebar--sectionHeaderContainer--3EG5O sidebar--sectionHeaderName--zXQ94 sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa"},el.createElement(eC.B,{className:"sidebar--expandCaret--P-baV",svg:this.state.isSectionExpanded?dU.A:gX.A,onClick:this.onToggleExpand}),el.createElement("div",null,this.props.isEnterpriseSidenavEnabled?el.createElement(el.Fragment,null,el.createElement("span",null,el.createElement(e2.Tx,{id:"sidebar.workspaces"}))):el.createElement(e2.Tx,{id:"sidebar.teams"}))),y=()=>{var e,t,a,r;if(i||(0,_D.D6)(this.props.currentUserOrgId))return el.createElement(el.Fragment,null);let n=(0,mM.yR)((null==(t=null==(e=this.props.sidebarData)?void 0:e.teamRoles)?void 0:t.map(e=>e.team).filter(e=>!!e))||[],(null==(r=null==(a=this.props.sidebarData)?void 0:a.fileBrowserPreferences)?void 0:r.orderedTeamIds)||[]);return el.createElement(el.Fragment,null,el.createElement("div",{className:pM}),b(),this.props.isEnterpriseSidenavEnabled?el.createElement("div",{className:eE.cx.pb16.if(this.state.isSectionExpanded,eE.cx.hidden).$},el.createElement(Eh,{selectedItemRef:this.selectedItemRef,onFolderRenameClick:e=>this.onFolderRenameClick(e),contextSelectedFolder:c,...this.props})):el.createElement("div",{className:eE.cx.if(!this.state.isSectionExpanded,eE.cx.hidden).$},el.createElement(Ep,{selectedItemRef:this.selectedItemRef,orderedTeams:n,...this.props,contextSelectedFolder:c,onFolderRenameClick:e=>this.onFolderRenameClick(e)}),v(),el.createElement("div",{ref:this.teamSectionBottomRef}),h()))},w=el.createElement(pl,{...this.props}),T=!this.props.currentUserOrgId&&this.props.projectsByTeam[pn.USER_FOLDERS],x=this.props.sidebarData,C=(0,em.kc)().ps_benchmark&&i?null==(a=this.props.dataDriftCorrectedTeamResources)?void 0:a.favoritedFiles:null==x?void 0:x.favoritedFiles,N=(0,em.kc)().ps_benchmark&&i?null==(r=this.props.dataDriftCorrectedTeamResources)?void 0:r.favoritedPrototypes:null==x?void 0:x.favoritedPrototypes,k=(0,em.kc)().ps_benchmark&&i?null==(n=this.props.dataDriftCorrectedTeamResources)?void 0:n.favoritedProjects:null==x?void 0:x.favoritedProjects;k&&this.props.FBGNavigationUpdatesTreatment!==oz.ih.CONTROL&&(k=k.filter(e=>{var t;return(null==(t=e.project)?void 0:t.id)!==this.props.teamFolderId}));let S=(null==C?void 0:C.length)===0&&(null==N?void 0:N.length)===0&&(null==k?void 0:k.length)===0,I=this.props.FBGNavigationUpdatesTreatment===oz.ih.CONTROL||!S,A=this.props.FBGNavigationUpdatesTreatment===oz.ih.VARIANT_A,L=this.props.FBGNavigationUpdatesTreatment===oz.ih.VARIANT_B,R=!!this.props.dragState.data&&(this.props.dragState.type===_M.R.Folder||this.props.dragState.type===_M.R.Team||this.props.dragState.type===_M.R.Favorite),O=m&&el.createElement("div",{className:pD},this.props.userFlags.show_create_new_section_banner?el.createElement("div",{className:"sidebar--betaAnnouncementContainer--IH28-"},el.createElement("div",{className:"sidebar--betaAnnouncementHeader--enEXg"},el.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--V3fIw"},el.createElement(e2.Tx,{id:"favorited_resources.custom_sections_banner_header"})),el.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX--LSKwx",onClick:e=>this.setSeenAnnouncement(e)},el.createElement(eC.B,{svg:ou.default}))),el.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--5TdCk"},el.createElement("p",null,el.createElement(e2.Tx,{id:"favorited_resources.custom_sections_banner_body"})),el.createElement("br",null),el.createElement("p",null,el.createElement(eT.tM,{className:"sidebar--betaAnnouncementButton--cRZVM",onClick:e=>this.createNewSection(e)},el.createElement(e2.Tx,{id:"favorited_resources.custom_sections_banner_create_new_section_button"}))))):null),D=!(this.props.showLoadingState||this.props.showingFileBrowserLoader);return el.createElement("div",{className:l},el.createElement(po.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:D},el.createElement("div",{className:eE.cx.flex.flexColumn.wFull.$},el.createElement(fp,{hasBottomBorder:this.state.topIntersecting,inOfflineMode:this.props.inOfflineMode}),el.createElement(rt.P,{className:"sidebar--sidebarScrollContainer--kedK1",innerClassName:eE.cx.hFull.$,scrollingDisabled:!1,onScroll:e=>this.setState({scrollTop:e}),ref:e=>this.scrollContainerRef=e},el.createElement(aL.a,{onIntersectionChange:e=>{this.setState({topIntersecting:!e.isIntersecting}),e.isIntersecting||this.state.trackedScroll||(this.props.trackScroll(),this.setState({trackedScroll:!0}))}}),el.createElement("div",{className:ey()("sidebar--navContent--xtpNT",{"sidebar--grabbingCursor--21KfP":R})},el.createElement("div",{className:eE.cx.flexGrow1.flex.flexColumn.$},this.props.inOfflineMode?el.createElement(el.Fragment,null,el.createElement(Ei,null),el.createElement("div",{className:pM}),el.createElement(Es,null)):el.createElement(el.Fragment,null,el.createElement(pb,null),(0,em.kc)().ps_benchmark&&el.createElement(pU.r,{selectedView:this.props.selectedView,dispatch:this.props.dispatch}),el.createElement("div",{className:pM}),el.createElement("div",{className:eE.cx.ml8.mr8.mt2.mb2.$},el.createElement(ET.b,null)),(0,em.kc)().xr_debounce_threshold&&m&&u&&u.permission!==lm._D.GUEST?el.createElement(ff,null):null,o&&el.createElement(pB.s,{folder:o,selectedView:this.props.selectedView,dispatch:this.props.dispatch}),el.createElement(pP,{userStateLoaded:this.props.userStateLoaded,sidebarData:this.props.sidebarData}),i&&el.createElement(pL,{selectedView:this.props.selectedView}),i&&el.createElement(_1,{selectedView:this.props.selectedView}),i&&this.props.FBGNavigationUpdatesTreatment!==oz.ih.CONTROL&&el.createElement(fh,{selectedView:this.props.selectedView,teamFolderId:this.props.teamFolderId,teamFolderName:this.props.teamFolderName}),!A&&!L&&el.createElement("div",{className:pD},g()),!(u&&m)&&I&&el.createElement("div",{className:pM}),u&&m&&(this.props.userStateLoaded?el.createElement(el.Fragment,null,el.createElement(Ew,null),this.props.currentUserOrgId&&u&&!e_.Ay.mobile&&el.createElement(pC,{selectedView:this.props.selectedView,org:this.props.orgById[this.props.currentUserOrgId],orgUser:u})):el.createElement("div",{className:pF},el.createElement(t7.kt,null))),p&&O,(()=>{var e,t;return this.props.userStateLoaded?el.createElement(el.Fragment,null,this.props.currentUserOrgId?el.createElement(g8,{fileBrowserPreferences:null==(e=this.props.sidebarData)?void 0:e.fileBrowserPreferences,favoritedFiles:C,favoritedPrototypes:N,favoritedProjects:k,favoritedTeams:null==x?void 0:x.favoritedTeams,favoritedWorkspaces:null==x?void 0:x.favoritedWorkspaces,userSidebarSections:(null==x?void 0:x.userSidebarSections)?(0,aX.oA)(x.userSidebarSections):[],isEnterpriseSidenavEnabled:this.props.isEnterpriseSidenavEnabled,previewYOffset:this.state.scrollTop}):el.createElement(el.Fragment,null,I&&el.createElement(g3,{fileBrowserPreferences:null==(t=this.props.sidebarData)?void 0:t.fileBrowserPreferences,favoritedFiles:C,favoritedPrototypes:N,favoritedProjects:k,favoritedTeams:null,favoritedWorkspaces:null,isEnterpriseSidenavEnabled:this.props.isEnterpriseSidenavEnabled,previewYOffset:this.state.scrollTop}),!i&&T&&el.createElement(el.Fragment,null,el.createElement("div",{className:pM}),el.createElement("div",{className:ey()(["sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa","sidebar--sharedProjectsSectionHeaderContainer--lUTca sidebar--sectionHeaderContainer--3EG5O sidebar--sectionHeaderName--zXQ94 sidebar--sectionName--q1jj- sidebar--sectionText--Pd9yC sidebar--sectionContent--9XFWF ellipsis--ellipsis--Tjyfa"])},el.createElement(oK.E,{i18nId:"file_browser.shared_projects"})),w)),(0,em.kc)().ps_benchmark&&i&&el.createElement(En,{teamUser:null==x?void 0:x.currentTeamUser,previewYOffset:this.state.scrollTop}),y()):el.createElement("div",{className:pF},el.createElement(t7.kt,null))})(),L&&el.createElement("div",{className:eE.cx.sticky.bottom0.colorBg.pb10.pt12.$},g()))),el.createElement(aL.a,{onInitialLoad:e=>{this.setState({bottomIntersecting:!e})},onIntersectionChange:e=>{this.setState({bottomIntersecting:!e.isIntersecting})}}))),!this.props.inOfflineMode&&el.createElement(fu,{hasTopBorder:!L&&!A&&(this.state.bottomIntersecting||this.state.topIntersecting),shouldShowUUBInFooter:A}))))}}function fb(e){var t,a,r,n,l,i,s,o,c;let d;let m=(0,ei.d4)(e=>e),u=(0,ei.wA)(),_=(0,eU.md)(oE.b),p=(0,d5.Q)({currentOrgId:e.currentUserOrgId,currentTeamId:(0,em.kc)().ps_benchmark&&e.currentTeamId||null}),g=(0,aN.TA)(),E=(0,ei.d4)(e=>{var t;return g?null==(t=e.authedUsers.byId[g])?void 0:t.plans:null}),[{status:f,data:h}]=(0,nY.IT)((0,_F.Xg)({teamId:e.currentTeamId||void 0})),v="loaded"===f&&(null==h?void 0:h.length)===1?h[0]:null,b=null==v?void 0:v.id,y=null==v?void 0:v.name,w=(0,u5.wA)(e),T=!(0,sQ.canMemberOrg)((null==w?void 0:w.id)??null,(0,sQ.getPermissionsState)(e.permissionsState)),x="loaded"===p.status?p.data:null,C="loaded"!==p.status&&!_,N={},k={},S=[],I=((null==(t=null==x?void 0:x.currentUser)?void 0:t.sharedProjectRolesWithoutOrgDeletedDrafts)||[]).filter(t=>{var a;let{project:r}=t;if(!r)return!1;let n=(null==(a=r.team)?void 0:a.orgId)||r.orgId;return e.currentUserOrgId?n===e.currentUserOrgId:!n}).length>0,A=(0,el.useMemo)(()=>x?{...x.currentUser}:null,[x]),L=el.useMemo(()=>{if(A&&A.currentTeamUser&&e.currentTeamId)return(0,_D.TF)(A,e.currentTeamId,E)},[A,e.currentTeamId,E]),R=e.showingFileBrowserLoader;if(el.useEffect(()=>{var t,a;if((0,em.kc)().ps_benchmark&&e.currentTeamId&&A&&(null==A?void 0:A.currentTeamUser)){let r=A.currentTeamUser;!r.fileBrowserPreferences&&A.fileBrowserPreferences&&u(_R.Sk.createFileBrowserPreferencesForTeamUser({prefs:A.fileBrowserPreferences,orderedFolderSubscriptions:(null==(a=null==(t=A.fileBrowserSectionPreferences)?void 0:t.filter(t=>t.teamId===e.currentTeamId)[0])?void 0:a.orderedFolderIds)??[],teamUser:r}))}},[e.currentTeamId,A,u]),A){let t;d=null==(r=null==(a=A.privilegedOrgUser)?void 0:a.licenseGroupMember)?void 0:r.licenseGroup;let m=[],u=new Set;for(let t of A.teamRoles||[])(null==(n=t.team)?void 0:n.orgId)!==e.currentUserOrgId||(null==(l=t.team)?void 0:l.deletedAt)||t.pending||(m.push(t),u.add(t.team.id),(null==(i=t.team)?void 0:i.licenseGroupId)?(k[t.team.licenseGroupId]=k[t.team.licenseGroupId]||[],k[t.team.licenseGroupId].push(t)):t.team&&S.push(t));if(A.teamRoles=m,e.currentUserOrgId&&A.baseOrgUser){let e=A.baseOrgUser;A.fileBrowserPreferences=e.fileBrowserPreferences,A.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,em.kc)().ps_benchmark&&e.currentTeamId&&A.currentTeamUser&&(A.fileBrowserPreferences=null==(s=A.currentTeamUser)?void 0:s.fileBrowserPreferences);let _=(A.projectSubscriptions||[]).sort((e,t)=>{var a,r,n,l;return(null==(r=null==(a=e.projectV2)?void 0:a.path)?void 0:r.toLowerCase())<(null==(l=null==(n=t.projectV2)?void 0:n.path)?void 0:l.toLowerCase())?-1:1}),p={};for(let t of _){let a=t.projectV2;if(!a||(p[a.id]=t.id,(a.team?a.team.orgId!==e.currentUserOrgId:a.orgId!==e.currentUserOrgId)||!a.team&&""===a.path||a.team&&""===a.path&&(0,em.kc)().ps_benchmark))continue;let r=u.has(a.teamId)?a.teamId:pn.USER_FOLDERS;N[r]=N[r]||[],N[r].push(a)}_O.zL(p),t=(0,em.kc)().ps_benchmark&&e.currentTeamId?null==(o=null==x?void 0:x.currentUser.currentTeamUser)?void 0:o.draftsProject:e.currentUserOrgId?null==(c=null==x?void 0:x.currentUser.baseOrgUser)?void 0:c.draftsProject:null==x?void 0:x.currentUser.draftsProject,N[pn.USER_DRAFTS]=t?[t]:[]}return el.createElement(fv,{...e,showingFileBrowserLoader:R,hasSharedProjects:I,sidebarData:A,projectsByTeam:N,teamRolesByLicenseGroup:k,teamsUnassignedToLicenseGroup:S,mainLicenseGroup:d,isEnterpriseSidenavEnabled:(0,u5.LU)(w??void 0,T,A??void 0),dataDriftCorrectedTeamResources:L,showLoadingState:C,trackScroll:()=>(0,a6.uE)("Sidebar Scrolled",m),inOfflineMode:_,FBGNavigationUpdatesTreatment:(0,oz.fn)(),teamFolderId:b,teamFolderName:y})}fv.displayName="SideBar";var fy=a(550642),fw=a(231959);function fT(e){return void 0!==e.team_id}function fx(e,t){if(e!==fw.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var fC=a(127391);function fN(e){return el.createElement(nX.Y,{spacing:4},el.createElement(fC.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),el.createElement(oK.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let fk={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:m$.V0.DIRECTORY,workspaceId:e??null,selectedTab:m$.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:mU.X.HOME}:void 0};function fS({resource:e}){var t,a,r;let n=(0,ei.wA)(),l=(0,sQ.usePermissionsState)(),i=(0,sK.sZ)(),s=(0,_d.oW)(e),o=(0,_d.eg)(s),c=(0,aX.Rs)(a9.bUn,{orgId:(null==i?void 0:i.id)??null},{enabled:!!i}),d="loaded"!==c.status,m=(null==(a=null==(t=c.data)?void 0:t.org)?void 0:a.workspaces)??[],u=function(e,t){let a=(0,ei.d4)(e=>e);return(0,el.useMemo)(()=>({folder:fT(e)?e:void 0,team:fx(e,a),workspace:function(e,t,a){let r=fx(e,t);if(e===fw.O);else if(r&&r.workspace_id)return null==a?void 0:a.find(e=>e.id===r.workspace_id);else if(r&&!r.workspace_id&&r.org_id){let e=t.orgById[r.org_id];return(null==e?void 0:e.workspaces_count)?fw.O:void 0}else if("domain_capture"in e||fT(e)||"workspace_id"in e)return;return e}(e,a,t),org:function(e,t){let a=fx(e,t);return(null==a?void 0:a.org_id)?t.orgById[a.org_id]:e===fw.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,a)}),[e,a,t])}(e,d?[]:[...m]);if(i||u.org?(null==i?void 0:i.id)!==(null==(r=u.org)?void 0:r.id):!u.team||!(0,sQ.canViewTeam)(u.team.id,l)){let e=u.org??u.team;return e?el.createElement(fN,{planEntity:e}):null}let _=e===fw.O?void 0:e.id,p=(e,t)=>{let a=t===fw.O?void 0:t.id,r=fk[e](a);(0,a6.Cu)({clickedResourceType:e,clickedResourceId:a,currentResource:_,orgId:null==i?void 0:i.id}),r&&n(aC.$T(r))},g=["org","workspace","team","folder"].reduce((e,t)=>{let a=u[t];if(a){let r="workspace"===t&&!a.canView,n=a===Eo.s?(0,e2.t)("breadcrumbs.unassigned_license_group"):r?(0,e2.t)("breadcrumbs.private_workspace_ellipses"):null==a?void 0:a.name;e.push({text:n,onClick:()=>{r||p(t,a)},parentBackgroundColor:o,isHoverable:!(a===Eo.s||r)})}return e},[]);return g.pop(),el.createElement(_u,{items:g})}var fI=a(309225);function fA(e){return e.rightSideActions?el.createElement(fL,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function fL(e){let t=(0,aX.Rs)(a9.RIo,{orgId:null});return((0,fI.ap)(t,"file_creation_defaults_latency"),"loaded"!==t.status)?null:el.createElement("div",{className:eE.cx.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,el.createElement("div",{className:eE.cx.flex.gap8.$},e.rightSideActions))}function fR(e){let t=(0,_d.oW)(e.resource),a=(0,_d.eg)(t);return el.createElement("div",{className:eE.cx.if(e.showNavigationChevrons,eE.cx.pl20,eE.cx.pl32).if(!!e.pageHeaderContent,eE.cx.bb1.colorBorder.bSolid).flex.flexRow.flexShrink0.gap8.itemsCenter.h48.pr32.$,style:{backgroundColor:a},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&el.createElement(e0.Jd,{parentBackgroundColor:a}),e.pageHeaderContent?el.createElement("span",{className:eE.cx.minW0.wFull.$},el.createElement(fA,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource&&el.createElement(fS,{resource:e.resource}))}let fO=(0,te.jz)(e5.tgj);function fD(e){return el.createElement(el.Fragment,null,el.createElement(aM.z,{query:`(min-width: ${fO}px)`,defaultClass:eE.cx.sticky.top0.colorBg.zIndexTopBar.$},el.createElement(fR,{resource:e.breadcrumbResource,pageHeaderContent:e.pageHeaderContent?el.createElement(oK.E,{fontSize:13,truncate:!0},e.pageHeaderContent):void 0,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&el.createElement(fy.i,{tabs:[el.createElement(oK.E,{key:"mobilePageHeaderKey",truncate:!0},e.pageHeaderContent)]}))}function fF(e){let t=(0,ei.d4)(({selectedView:e})=>e),a=(0,e0.E1)(),r=(0,ei.d4)(mS.iy),n=(0,dM.P)(e.currentUserOrgId,(0,ei.d4)(mS.o$));!function(){let e=(0,em.kc)().ps_benchmark,t=(0,ei.Pj)();el.useEffect(()=>{if(!e)return;let a=t.getState(),r=(0,sQ.getPermissionsState)(a),n=(0,_S.vp)(r.user,r.currentUserOrgId,r.currentTeamId);n&&(0,_I.Y9)(n.userId,(0,eK.d9)(a.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let l=r||n.data||void 0,i="orgAdminSettings"===t.view||"licenseGroup"===t.view&&t.subView===mB.GN.ADMIN||"workspace"===t.view&&t.subView===m$.V0.ADMIN||"billingGroupDashboard"===t.view,s=!e.showingFileBrowserLoader&&!i&&(!!eo.eD||(0,es.ce)()||l||e.pageHeaderContent);el.useEffect(()=>{let e=e=>{var t;if(e.keyCode===_k.Uz.PERIOD&&(null==(t=document.activeElement)?void 0:t.tagName)==="BODY"){if(!(0,em.kc)().internal_only_debug_tools||!(0,em.kc)().figment_debugger)return;(0,_L.Y)()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let o=(0,sQ.usePermissionsState)();return el.createElement("div",{className:eE.cx.flex.flexRow.flexGrow1.$},el.createElement(fb,{...e,permissionsState:o,showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),el.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--SLy8l"},s&&el.createElement(fD,{pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource:l,showNavigationChevrons:a}),!e.showingFileBrowserLoader&&e.children),el.createElement(_A.G,{entryPoint:_A.Q.FILE_BROWSER}))}var fM=a(916525),fP=a(594524);function fB(e){let t=(0,aX.Rs)(a9.TaT,{id:e});return el.useMemo(()=>{var e;return"loaded"===t.status?(0,aX.gB)(null==(e=t.data.licenseGroup)?void 0:e.licenseGroupMemberCounts):t},[t])}var fU=a(916108),fW=a(340514);let fV="seen_billing_group_admin_onboarding";var fG=((d=fG||{}).SwitchWorkspacesBillingGroups="SwitchWorkspacesBillingGroups",d.AddMembersToBillingGroup="AddMembersToBillingGroup",d.UpdateRolesInBillingGroup="UpdateRolesInBillingGroups",d);function f$(e){var t;let a=fB(e.licenseGroupId),r=null!=(t=a.data)&&!!t.totalCount&&parseInt(a.data.totalCount)>0,n=(0,aj.r1)(fV),l=(0,sK.dq)(),i=(0,eU.md)(n),s=(0,mj.a9)(),o=!!(s&&s.permission===lm._D.ADMIN),c=((0,dM.NJ)(l).data??[]).length>0,{show:d,isShowing:m,complete:u}=(0,a$.e)({overlay:aJ.fQh,priority:aH.N.SECONDARY_MODAL},[i]);(0,ed.h)(()=>{d({canShow:e=>!e&&!e_.rr})});let _=[];c&&!o&&_.push("SwitchWorkspacesBillingGroups"),_.push("AddMembersToBillingGroup"),r&&_.push("UpdateRolesInBillingGroups");let p=_.length,g=(0,fP.A)({numSteps:p,onComplete:u});return el.createElement(fU.U,{currentStep:g.currentStep,isShowing:m,children:_.map((e,t)=>el.createElement(fj,{key:e,step:e,stepCounter:p>1?{stepNum:t+1,totalNumSteps:p}:void 0,isShowing:m,isFinalStep:t===_.length-1,next:g.next,complete:u}))})}function fj(e){let{step:t,stepCounter:a,isShowing:r,isFinalStep:n,next:l,complete:i}=e,s=n?{label:el.createElement(e2.Tx,{id:"general.got_it"}),onClick:i,type:"button",ctaTrackingDescriptor:e3.c.GOT_IT}:{label:el.createElement(e2.Tx,{id:"general.next"}),onClick:l,type:"button",ctaTrackingDescriptor:e3.c.NEXT};switch(t){case"SwitchWorkspacesBillingGroups":return el.createElement(fW.rq,{isShowing:r,trackingContextName:"Multi Admin Walkthrough",userFlagOnShow:fV,onClose:i,stepCounter:a,targetKey:up,title:el.createElement(e2.Tx,{id:"multi_admin_onboarding.heading"}),description:el.createElement(e2.Tx,{id:"multi_admin_onboarding.description"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});case"AddMembersToBillingGroup":return el.createElement(fW.rq,{isShowing:r,trackingContextName:ug,userFlagOnShow:fV,onClose:i,stepCounter:a,targetKey:uu,title:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.step_one_heading"}),description:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.step_one_description"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});case"UpdateRolesInBillingGroups":return el.createElement(fW.rq,{isShowing:r,trackingContextName:ug,userFlagOnShow:fV,onClose:i,stepCounter:a,targetKey:u_,title:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.step_two_heading.seat_rename"}),description:el.createElement(e2.Tx,{id:"billing_group_admin_onboarding.step_two_description.seat_rename"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});default:(0,eh.xb)(t)}}var fH=a(475820),fq=a(529982);function fY(e,t){if(!t)return e;let a=new Set(t.map(e=>e.id)),r=e.filter(e=>!a.has(e));return r.length===e.length?e:r}function fz(e,t=50){let[a,r]=el.useState([]),n=el.useMemo(()=>fY(a,e),[e,a]);return el.useEffect(()=>{r(n)},[n]),{optimisticIds:n,addOptimisticIds:el.useCallback(e=>r(a=>{let r=[...a,...e];return r.length>t?r.slice(r.length-t):r}),[t]),setServerData:el.useCallback(e=>{r(t=>fY(t,e))},[])}}function fK(e){let{getConfig:t}=(0,ep.I7)("exp_dev_mode_last_active_ui_order_form"),{getConfig:a}=(0,ep.I7)("exp_dev_mode_last_active_ui_self_serve");return e.self_serve?a().get("enabled",!1):t().get("enabled",!1)}var fJ=a(438120),fQ=a(463592),fZ=a(783967);let fX=new class{constructor(){this.OrgJoinRequestSchemaValidator=(0,nb.vh)()}getOrgJoinRequest(e){return this.OrgJoinRequestSchemaValidator.validate(async({xr:t})=>await t.get(`/api/org_join_request/${e.selectedOrgJoinRequest}`))}};var f0=a(379791),f1=a(884812),f2=a(38329);let f4="confirm_org_user_actions--bold--C7lE0",f3="confirm_org_user_actions--spacing--Qd7RS",f8="confirm_org_user_actions--link--58npm",f5="confirm_org_user_actions--learnMoreLink--Pc8hv confirm_org_user_actions--link--58npm blue_link--blueLink--9rlnd";var f6=a(207776),f9=a(169852);class f7 extends el.PureComponent{constructor(){super(...arguments),this.onHide=()=>{if(this.props.onHide){this.props.onHide();return}this.props.dispatch(t3.Lo())},this.deleteOrgUsers=()=>{this.props.dispatch(uQ.IJ({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds},userInitiated:!0})),this.props.dispatch(t3.Ce())},this.shouldRenderDowngradeMessage=()=>{try{let e=this.props.orgUsers;if(e)return this.props.orgUserIds.some(t=>{let a=(0,o2.Aw)(e,t);if(a)return[oX.lM.DESIGN,oX.lM.FIGJAM,oX.lM.DEV_MODE].some(e=>(0,ca.qu)(a,e))})}catch(e){console.warn("Failed determine whether we should display downgrade to viewer restricted message",e)}return!1}}render(){let e,t,a;let r=this.props.orgUserIds.length;this.props.orgUsers&&(e=(0,o2.Aw)(this.props.orgUsers,this.props.orgUserIds[0]),t=this.props.orgUserIds.filter(e=>{var t;return(null==(t=(0,o2.Aw)(this.props.orgUsers,e))?void 0:t.permission)===lm._D.GUEST}));let n=(0,e2.t)("org_settings.remove_user_modal.users_and_guests_text",{userCount:r});void 0!==t&&t.length>0&&t.length===r?n=(0,e2.t)("org_settings.remove_user_modal.title.guests_only_text",{userCount:r}):void 0!==t&&0===t.length&&(n=(0,e2.t)("org_settings.remove_user_modal.title.users_only_text",{userCount:r}));let l=(0,e2.t)("org_settings.remove_user_modal.button");a=(null==e?void 0:e.user.handle)?(0,e2.t)("org_settings.remove_user_modal.warning_text",{userCount:r,userName:e.user.handle,orgName:this.props.org.name}):(0,e2.t)("org_settings.remove_user_modal.warning_no_username_text",{userCount:r,orgName:this.props.org.name});let i=el.createElement(e2.Tx,{id:"org_settings.remove_user_modal.information_text",userCount:r,sharedProjects:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"org_settings.remove_user_modal.shared_projects"}))});return el.createElement(e8.fu,{name:"Confirm Remove Modal",properties:{orgId:this.props.org.id,numUsers:r}},el.createElement(f1.l,{dispatch:this.props.dispatch,onConfirm:this.deleteOrgUsers,onHide:this.onHide,disableClickOutsideToHide:!0,buttonText:l,title:n,checkboxText:(0,e2.t)("org_settings.remove_user_modal.confirmation_checkbox_text"),makeButtonAppearNegative:!0},el.createElement("div",null,el.createElement("p",{className:f4},a),el.createElement("p",{className:f3},i),this.shouldRenderDowngradeMessage()&&el.createElement("div",{className:eE.cx.mt16.colorBgHover.$},el.createElement("p",{className:eE.cx.px12.py8.$},el.createElement(e2.Tx,{id:"org_settings.remove_user_modal.downgrade_instead",userCount:r,viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"org_settings.remove_user_modal.viewer_restricted"}))}))))))}}f7.displayName="OrgConfirmDeleteModal";let he=(0,rr.Ju)(f7,"OrgConfirmDeleteModal");function ht(e){let t;let a=(0,uT.SM)(e.org.id);function r(){let t=(0,oX.lh)(e.licenseType),r={org_user_ids:e.orgUserIds,paid_statuses:{[t]:e.accountType},entry_point:f0.h.MEMBERS_TAB};e.dispatch(uQ.uo({orgId:e.org.id,lastUpdateTimestampOverride:e.lastUpdateTimestampIfUsingUnloadedOrgUsers,params:r,successCallback:()=>{if(e.dispatch(a0.F.enqueue({message:(0,e2.t)("confirm_account_change.account_type_successfully_updated.seat_rename",{numUsers:e.orgUserIds.length}),type:"paid-status-changed"})),a(),e.updateAccountTypeFilterCounts(),e.orgUsers){let t=e.orgUserIds.map(t=>(0,o2.Aw)(e.orgUsers,t));e.updateNewEditorBuffer(t,e.accountType,e.licenseType,e.orgUserIds)}}})),function(){if(e.onHide){e.onHide();return}e.dispatch(t3.Lo())}()}function n(e,t){return 1===e?t?el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.all_licenses.description_p1.singular",userName:t,seatType:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.seat_type.full_seat"}))}):el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.all_licenses.description_p1.singular.no_username",seatType:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.seat_type.full_seat"}))}):el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.all_licenses.description_p1.plural",numUsers:e,seatType:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.seat_type.full_seat"}))})}function l(e,t){return 1===e?t?el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.all_licenses.description_p1.singular",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},t),viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.seat_type.viewer_restricted"}))}):el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.all_licenses.description_p1.singular.no_username",viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.seat_type.viewer_restricted"}))}):el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.all_licenses.description_p1.plural",numUsers:e,viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.seat_type.viewer_restricted"}))})}function i(e,t){return 1===e?t?el.createElement(e2.Tx,{id:"confirm_account_change.remove_edit_access_description_single.seat_rename",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},t),viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.viewer_restricted"}))}):el.createElement(e2.Tx,{id:"confirm_account_change.remove_edit_access_description_single_no_username.seat_rename",viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.viewer_restricted"}))}):el.createElement(e2.Tx,{id:"confirm_account_change.remove_edit_access_description.seat_rename",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},t),numUsers:e,viewerRestricted:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"confirm_account_change.viewer_restricted"}))})}let s=e.orgUserIds.length;e.orgUsers&&(t=(0,o2.Aw)(e.orgUsers,e.orgUserIds[0]).user.handle);let o=e.accountType===lm.El.FULL,c=function(e,t,a,r){var s,o,c,d;if(e)switch(t){case oX.lM.DESIGN:return s=a,o=r,(0,em.kc)().billing_dev_mode_customer_ui?el.createElement(el.Fragment,null,n(s,o),el.createElement("span",{className:eE.cx.ml2.$},el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.design.description_p2"})),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.edit_share_or_create"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.give_access_to_drafts"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.access_all_templates_and_libraries"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement("span",{className:eE.cx.mr4.$},el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access"})),el.createElement("a",{className:f5,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/19813618057623"},el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access.learn_more"}))))):el.createElement(el.Fragment,null,1===s?o?el.createElement(e2.Tx,{id:"confirm_account_change.grant_figma_design_access_description_single.seat_rename",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},o)}):el.createElement(e2.Tx,{id:"confirm_account_change.grant_figma_design_access_description_single_no_username.seat_rename"}):el.createElement(e2.Tx,{id:"confirm_account_change.grant_figma_design_access_description.seat_rename",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},o),numUsers:s}),el.createElement("p",{className:f3},el.createElement(eT.N_,{className:f8,target:"_blank",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,e2.t)("confirm_account_change.grant_edit_access_link.seat_rename"))));case oX.lM.FIGJAM:return c=a,d=r,(0,em.kc)().billing_dev_mode_customer_ui?el.createElement(el.Fragment,null,n(c,d),el.createElement("span",{className:eE.cx.ml2.$},el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.design.description_p2"})),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.figjam.edit_share_or_create"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.figjam.give_access_to_drafts"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.figjam.access_all_templates_and_libraries"})))):el.createElement(el.Fragment,null,1===c?d?el.createElement(e2.Tx,{id:"confirm_account_change.grant_figjam_access_description_single.seat_rename",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},d)}):el.createElement(e2.Tx,{id:"confirm_account_change.grant_figjam_access_description_single_no_username.seat_rename"}):el.createElement(e2.Tx,{id:"confirm_account_change.grant_figjam_access_description.seat_rename",userName:el.createElement("span",{className:eE.cx.fontSemiBold.$},d),numUsers:c}),el.createElement("p",{className:f3},el.createElement(eT.N_,{className:f8,target:"_blank",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,e2.t)("confirm_account_change.grant_edit_access_link.seat_rename"))));case oX.lM.DEV_MODE:let m;return m=1===a?r?el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.dev_mode.another_option.singular",userName:r}):el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.dev_mode.another_option.singular.no_username"}):el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.dev_mode.another_option.plural"}),el.createElement(el.Fragment,null,n(a,r),el.createElement("span",{className:eE.cx.ml2.$},el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.dev_mode.description_p2"})),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.dev_mode.advanced_inspect"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.dev_mode.integrations"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIcon.mr8.$,svg:f6.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.dev_mode.annotations"}))),el.createElement("div",{className:eE.cx.flex.mt32.mb8.py8.px4.colorBgSecondary.$},el.createElement("div",{className:eE.cx.w48.mr8.$},el.createElement(dE.oS,{type:dE.y1.DESIGN_AND_DEV_MODE,size:dE.LE.SMALL})),el.createElement("div",{className:eE.cx.flexGrow1.$},m,el.createElement("br",null),el.createElement("a",{className:f5,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/19813618057623"},el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access.learn_more"})))));default:(0,eh.xb)(t)}else switch(t){case oX.lM.DESIGN:return function(e,t){if((0,em.kc)().billing_dev_mode_customer_ui)return el.createElement(el.Fragment,null,l(e,t),el.createElement("span",{className:eE.cx.ml2.$},el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.design.description_p2"})),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.edit_share_or_create"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.give_access_to_drafts"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.access_all_templates_and_libraries"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.design.give_access_to_drafts"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement("span",{className:eE.cx.mr4.$},el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access"})),el.createElement("a",{className:f5,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/19813618057623"},el.createElement(e2.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access.learn_more"})))));{let a=cs.sx.ml16.mt4.add({listStyle:"disc"}).$;return el.createElement(el.Fragment,null,i(e,t),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{style:a},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figma_design_access_description_cant_edit_outside_drafts"})),el.createElement("li",{style:a},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figma_design_access_description_cant_share_new_draft_files"})),el.createElement("li",{style:a},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figma_design_access_description_shared_draft_files_no_longer_accessible"}))))}}(a,r);case oX.lM.FIGJAM:return function(e,t){if((0,em.kc)().billing_dev_mode_customer_ui)return el.createElement(el.Fragment,null,l(e,t),el.createElement("span",{className:eE.cx.ml2.$},el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.design.description_p2"})),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.figjam.edit_share_or_create"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.figjam.give_access_to_drafts"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.figjam.access_all_templates_and_libraries"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.design.give_access_to_drafts"}))));{let a=cs.sx.ml16.mt4.add({listStyle:"disc"}).$;return el.createElement(el.Fragment,null,i(e,t),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{style:a},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figjam_access_description_cant_edit_outside_drafts"})),el.createElement("li",{style:a},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figjam_access_description_cant_share_new_draft_files"})),el.createElement("li",{style:a},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figjam_access_description_shared_draft_files_no_longer_accessible"}))))}}(a,r);case oX.lM.DEV_MODE:return el.createElement(el.Fragment,null,l(a,r),el.createElement("span",{className:eE.cx.ml2.$},el.createElement(e2.Tx,{id:"confirm_account_change.downgrade.dev_mode.description_p2"})),el.createElement("ul",{className:eE.cx.mt8.$},el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.dev_mode.advanced_inspect"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.dev_mode.integrations"})),el.createElement("li",{className:eE.cx.flex.ml2.mt8.$},el.createElement(eC.B,{className:eE.cx.colorIconDanger.mr8.$,svg:f9.A}),el.createElement(e2.Tx,{id:"confirm_account_change.generic.dev_mode.annotations"}))));default:(0,eh.xb)(t)}}(o,e.licenseType,s,t);return el.createElement(e8.fu,{name:"Confirm Account Change Modal",properties:{targetRole:e.accountType,orgId:e.org.id,licenseType:e.licenseType,numUsers:s}},el.createElement(rn.Rw,{confirmationTitle:function(e,t,a){if(e)switch(t){case oX.lM.DESIGN:return el.createElement("span",{className:f4},el.createElement(e2.Tx,{id:"confirm_account_change.grant_figma_design_access_title.seat_rename",numUsers:a}));case oX.lM.FIGJAM:return el.createElement("span",{className:f4},el.createElement(e2.Tx,{id:"confirm_account_change.grant_figjam_access_title.seat_rename",numUsers:a}));case oX.lM.DEV_MODE:return el.createElement("span",{className:f4},el.createElement(e2.Tx,{id:"confirm_account_change.upgrade.dev_mode.title",numUsers:a}));default:(0,eh.xb)(t)}else switch(t){case oX.lM.DESIGN:return el.createElement("span",{className:f4},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figma_design_access_title.seat_rename",numUsers:a}));case oX.lM.FIGJAM:return el.createElement("span",{className:f4},el.createElement(e2.Tx,{id:"confirm_account_change.remove_figjam_access_title.seat_rename",numUsers:a}));case oX.lM.DEV_MODE:return el.createElement("span",{className:f4},el.createElement(e2.Tx,{id:"confirm_account_change.remove_dev_mode_access_title",numUsers:a}));default:(0,eh.xb)(t)}}(o,e.licenseType,s),confirmText:o?(0,e2.t)("confirm_account_change.grant_edit_access_confirm_text"):(0,e2.t)("confirm_account_change.remove_edit_access_confirm_text"),isLoading:!e.isDevModeOptInLoaded,onConfirm:()=>(function(t,a){if(!(t===oX.lM.DEV_MODE&&a&&e.isDevModeOptInRequired))return r();e.dispatch(t3.to({type:uG.OZ,data:{onOptInUpgrade:()=>{r()},source:mz.J7.MEMBERS}}))})(e.licenseType,o),onCancel:e.onHide,onHide:e.onHide,destructive:!o,disableClickOutsideToHide:!0,popStack:!0,trackedConfirmationProperties:{productType:e.licenseType}},c))}let ha=(0,rr.Ju)(function(e){var t,a;let r=(0,aX.Rs)(a9.Z5M,{orgId:e.org.id}),n="loaded"===r.status,l=(0,ca.CA)((null==(a=null==(t=r.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null);return el.createElement(ht,{...e,isDevModeOptInLoaded:n,isDevModeOptInRequired:l})},"OrgConfirmAccountChangeModal");class hr extends el.PureComponent{constructor(){super(...arguments),this.onHide=()=>{if(this.props.onHide){this.props.onHide();return}this.props.dispatch(t3.Lo())},this.updateLicenseGroup=()=>{let e;e=this.props.newLicenseGroup?{org_user_ids:this.props.orgUserIds,license_group_id:this.props.newLicenseGroup.id}:{org_user_ids:this.props.orgUserIds,license_group_id:null},this.props.dispatch(uQ.uo({orgId:this.props.org.id,lastUpdateTimestampOverride:this.props.lastUpdateTimestampIfUsingUnloadedOrgUsers,params:e,successCallback:()=>{let e=this.props.orgUserIds.length;this.props.dispatch(a0.F.enqueue({message:(0,e2.t)("confirm_billing_group_change.success_message",{numUsers:e}),type:"license-group-changed"})),this.props.updateLicenseGroupFilterCounts()}})),this.onHide()}}renderModalContent(){var e,t,a;let r;let n=this.props.orgUserIds.length;this.props.orgUsers&&(r=null==(e=(0,o2.Aw)(this.props.orgUsers,this.props.orgUserIds[0]))?void 0:e.user.handle);let l=(0,fZ.e)(null==(t=this.props.newLicenseGroup)?void 0:t.admin_users_metadata),i=!!(null==(a=this.props.newLicenseGroup)?void 0:a.is_orphaned);return!this.props.isCurrentUserOrgAdmin&&this.props.newLicenseGroup?r?el.createElement(e2.Tx,{id:"confirm_workspace_change.confirmation_description",userName:r,numUsers:n,workspaceName:el.createElement("span",{className:f4},this.props.newLicenseGroup.name)}):el.createElement(e2.Tx,{id:"confirm_workspace_change.confirmation_description_no_username",numUsers:n,workspaceName:el.createElement("span",{className:f4},this.props.newLicenseGroup.name)}):!this.props.newLicenseGroup||i?r?el.createElement(e2.Tx,{id:"confirm_workspace_change.confirmation_description_with_organization_admin_warning",userName:r,numUsers:n,workspaceName:el.createElement("span",{className:f4},this.props.newLicenseGroup?this.props.newLicenseGroup.name:(0,e2.t)("confirm_workspace_change.unassigned"))}):el.createElement(e2.Tx,{id:"confirm_workspace_change.confirmation_description_with_organization_admin_warning_no_username",numUsers:n,workspaceName:el.createElement("span",{className:f4},this.props.newLicenseGroup?this.props.newLicenseGroup.name:(0,e2.t)("confirm_workspace_change.unassigned"))}):r?el.createElement(e2.Tx,{id:"confirm_billing_group_change.confirmation_description_with_billing_group_admin_warning",userName:r,numUsers:n,billingGroupName:el.createElement("span",{className:f4},this.props.newLicenseGroup.name),listOfBillingGroupAdmins:el.createElement("span",{className:f4},l)}):el.createElement(e2.Tx,{id:"confirm_billing_group_change.confirmation_description_with_billing_group_admin_warning_no_username",numUsers:n,billingGroupName:el.createElement("span",{className:f4},this.props.newLicenseGroup.name),listOfBillingGroupAdmins:el.createElement("span",{className:f4},l)})}render(){return el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("confirm_billing_group_change.title"),confirmText:(0,e2.t)("confirm_billing_group_change.confirm_button"),onConfirm:this.updateLicenseGroup,onCancel:this.props.onHide,onHide:this.props.onHide,disableClickOutsideToHide:!0,popStack:!0},this.renderModalContent())}}hr.displayName="ConfirmLicenseGroupChangeModal";let hn=(0,rr.Ju)(hr,"OrgConfirmLicenseGroupChangeModal"),hl=(0,rr.Ju)(function(e){let t=e.selectedOrgJoinRequest,a=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),r=(0,ei.d4)(e=>e.orgSamlConfig),n=(0,ei.wA)(),[l,i]=el.useState(),s=`ORG_JOIN_REQUEST_APPROVE_${t}`,o=l&&l.requester_user.handle,c=l&&l.invite_level&&l.invite_level<=oi.e6.VIEWER,d=!!(l&&l.deprovisioned_user);el.useEffect(()=>{fX.getOrgJoinRequest({selectedOrgJoinRequest:t}).then(({data:e})=>{i(e.meta)}).catch(e=>{var t;let a=(null==(t=null==e?void 0:e.data)?void 0:t.message)||(0,e2.t)("org_join_request.generic_fetch_error");n(a0.F.enqueue({message:a,type:"org-join-request-get-error",error:!0}))})},[t,n]);let m=()=>{n(t3.Lo())};if(!l)return null;let u=null;if(l.inviter_user)switch(l.resource_type){case"file":case"file_repo":u=c?el.createElement(e2.Tx,{id:"org_join_request.description_view_file",inviterName:l.inviter_user.handle,resourceName:l.resource_name}):el.createElement(e2.Tx,{id:"org_join_request.description_edit_file",inviterName:l.inviter_user.handle,resourceName:l.resource_name});break;case"folder":u=c?el.createElement(e2.Tx,{id:"org_join_request.description_view_folder",inviterName:l.inviter_user.handle,resourceName:l.resource_name}):el.createElement(e2.Tx,{id:"org_join_request.description_edit_folder",inviterName:l.inviter_user.handle,resourceName:l.resource_name});break;case"team":u=c?el.createElement(e2.Tx,{id:"org_join_request.description_view_team",inviterName:l.inviter_user.handle,resourceName:l.resource_name}):el.createElement(e2.Tx,{id:"org_join_request.description_edit_team",inviterName:l.inviter_user.handle,resourceName:l.resource_name});break;default:console.error("Unhandled orgJoinRequest.resource_type")}return el.createElement("div",null,el.createElement(e8.fu,{name:"Handle Org Join Request Modal",properties:{deprovisionedUser:d}},el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("org_join_request.modal_title",{requesterName:o??""}),confirmText:d?(0,e2.t)("org_join_request.deprovisioned_confirmation_button_text"):(0,e2.t)("org_join_request.add_to_org_confirmation_button_text"),onConfirm:d?m:()=>{let e=td.Ay.put(`/api/org_join_request/${t}/approve`,{source:"email"});(0,a3.N)(e,{dispatch:n},s),e.then(()=>{m(),n(a0.F.enqueue({message:(0,e2.t)("org_join_request.request_approved_message",{requesterName:o??""}),type:"org-join-request-approve-success"}))},e=>{var t;let a=e.message||(null==(t=null==e?void 0:e.data)?void 0:t.message)||(0,e2.t)("org_join_request.approve_error");n(a0.F.enqueue({message:a,type:"org-join-request-approve-failure",error:!0}))})},cancelText:(0,e2.t)("org_join_request.cancel_text"),hideCancel:d,disableClickOutsideToHide:!0,hideOnConfirm:!1,isLoading:(0,t8.VP)(f2.D.getState().loadingState,s),loadingText:(0,e2.t)("org_join_request.loading_confirmation_button_text")},d&&el.createElement("div",{className:"confirm_org_user_actions--alertBanner--8HDAR confirm_org_user_actions--banner--SQM4-"},el.createElement(eC.B,{width:"16px",height:"16px",useOriginalSrcFills_DEPRECATED:!1,svg:pT.A,style:{marginRight:14}}),el.createElement(e2.Tx,{id:"org_join_request.user_deprovisioned_warning"})),el.createElement("div",{className:"confirm_org_user_actions--flex--p71h4"},l.file&&el.createElement(gU.N,{editor_type:null,client_meta:l.file.client_meta,thumbnail_url:l.file.thumbnail_url,additionalClassName:"confirm_org_user_actions--imagePreview--368C0",isLocked:!!l.file.has_file_link_password,fullWidth:!1}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_join_request.description_would_like_to_join",requesterNameAndEmail:el.createElement("span",{className:f4},o," (",l.requester_user.email,")"),orgName:a.name})," ",u)),!d&&(0,u5.cg)(r)&&el.createElement("div",{className:"confirm_org_user_actions--banner--SQM4-"},el.createElement(e2.Tx,{id:"org_join_request.scim_enabled_banner"})))))},"HandleOrgJoinRequestModal");var hi=a(876058),hs=a(207825),ho=a(66037),hc=a(606137),hd=a(835691);let hm="org_admin_settings_onboarding_pointers--keyboard--4G-Yb text--fontPos9--naThA text--_fontBase--QdLsd",hu="seen_org_admin_members_onboarding",h_=(0,mQ.rn)("org_admin_members_onboarding",(0,uf.R)(aJ.UmN)),hp=(0,aj.r1)(hu),hg=[u$.JG,un,ui,ur,ul],hE=[u$.JG,un,ur,ul],hf={[u$.JG]:`${m1} Multi select`,[un]:`${m1} Recent Activity`,[ui]:`${m1} Upgraded`,[ur]:`${m1} Account Type`,[ul]:`${m1} Search`},hh=(e,t)=>{switch(e){case u$.JG:return el.createElement(e2.Tx,{id:"onboarding_pointers.multiple_select_onboarding",shiftKey:el.createElement("kbd",{className:hm},el.createElement(e2.Tx,{id:"onboarding_pointers.shift_key"}))});case un:return el.createElement(e2.Tx,{id:"onboarding_pointers.recent_activity_onboarding.seat_rename"});case ui:return el.createElement(e2.Tx,{id:"onboarding_pointers.member_upgraded_onboarding"});case ur:if(t)return el.createElement(e2.Tx,{id:"onboarding_pointers.account_type_filter_onboarding_for_workspace_admin"});return el.createElement(e2.Tx,{id:"onboarding_pointers.account_type_filter_onboarding.seat_rename"});case ul:return el.createElement(e2.Tx,{id:"onboarding_pointers.member_search_onboarding"})}};function hv({isWorkspaceAdminMembersTable:e=!1}){let t=(0,eU.md)(hp),{isShowing:a,complete:r,show:n,uniqueId:l}=(0,a$.e)({overlay:aJ.UmN,priority:aH.N.DEFAULT_MODAL},[t]),i=(0,ei.wA)(),s=(0,hd.zl)(h_),o=e?hE:hg,c=o.length,{next:d,reset:m}=(0,fP.A)({numSteps:c,onComplete:r});(0,ed.h)(()=>{"reset"===s.currentState?n():n({canShow:e=>!e})});let u=(0,el.useCallback)(()=>{m(),n()},[m,n]);(0,aG.E)(l,"Reset Onboarding",u);let _=(0,el.useCallback)(()=>{i(r7.b({[hu]:!0})),r()},[i,r]);return el.createElement(mZ.WZ,{steps:o.map((t,a)=>({key:t,isShowing:!0,trackingContextName:hf[t],targetKey:t,primaryCta:{label:a+1<c?el.createElement(e2.Tx,{id:"general.next"}):el.createElement(e2.Tx,{id:"general.done"}),type:"button",onClick:d,ctaTrackingDescriptor:a+1<c?e3.c.NEXT:e3.c.DONE},description:hh(t,e),onClose:_})),onComplete:_,isShowing:a})}let hb="seen_org_admin_selection_onboarding",hy=(0,mQ.rn)("org_admin_selection_onboarding",(0,uf.R)(aJ.nIZ)),hw=(0,aj.r1)(hb);function hT(e){let t=(0,eU.md)(hw),{isShowing:a,complete:r,show:n,uniqueId:l}=(0,a$.e)({overlay:aJ.nIZ,priority:aH.N.DEFAULT_MODAL},[t]),i=(0,hd.zl)(hy);return(0,aG.E)(l,"CTA Clicked",e=>{var t;(null==(t=e.properties)?void 0:t.trackingContext)===`${t6.e0.ORG_ADMIN_SETTINGS_PAGE} > MultiSelectList - Row`&&("reset"===i.currentState?n():n({canShow:e=>!e}))}),el.createElement(fW.rq,{isShowing:a,trackingContextName:`${mX} Shift Select`,userFlagOnShow:hb,targetKey:"msl_selected_row_onboarding_key",onClose:r,primaryCta:{label:el.createElement(e2.Tx,{id:"onboarding_pointers.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:e3.c.GOT_IT},description:el.createElement(oK.E,{i18nId:"onboarding_pointers.row_select_onboarding",i18nParams:{shiftKey:el.createElement("kbd",{className:hm},el.createElement(e2.Tx,{id:"onboarding_pointers.shift_key"}))}})})}var hx=a(11476),hC=a(824520),hN=a(783162),hk=a(23001),hS=a(501256),hI=a(613077),hA=a(321112);let hL="org_invite_modal--modalWrapper--oH5a6",hR="org_invite_modal--description--dT4ZB";function hO(e){return el.createElement("div",null,e.token.content)}function hD({licenseGroupId:e,workspaceId:t,org:a,orgHasGuestsInviteAllowlist:r,canInviteMembers:n,dispatch:l,multiLineForm:i,buttonClassName:s,modalWrapperClassName:o,descriptionClassName:c}){var d;let m=(0,ei.d4)(e=>e.orgDomains.domains),u=(0,ei.d4)(({licenseGroups:t})=>e?t[e]:void 0),_=null==(d=(0,aX.Rs)(a9.s5A,{workspaceId:t},{enabled:!!t}).data)?void 0:d.workspace,p=(0,ei.d4)(e=>e.autocomplete),g=(0,ei.d4)(e=>e.dropdownShown),E=(0,ei.d4)(e=>e.idpUserById.isCreatingOrgInvite),f=a.invite_whitelist_enforced?lm.El.FULL:lm.El.STARTER,[h,v]=el.useState(f),[b,y]=el.useState(!1),w=()=>u&&_?el.createElement(e2.Tx,{id:"org_invite.email_input_description.billing_group_and_workspace_disclaimer",billingGroupName:u.name,workspaceName:_.name}):u?el.createElement(e2.Tx,{id:"org_invite.email_input_description.billing_group_disclaimer",billingGroupName:u.name}):_?el.createElement(e2.Tx,{id:"org_invite.email_input_description.workspace_disclaimer",workspaceName:_.name}):null,T=a=>{l(hN.MB({emails:(0,hS.um)(a),licenseGroupId:e,workspaceId:t,accountType:h})),l(hC.cL())},x=e=>{let t=(0,lS.xf)(e)&&(0,u5.H_)(m,e)&&n,a=(0,lS.xf)(e)&&r;return{state:t||a?hk.d.OK:hk.d.ERROR,content:e}},C=e=>{if(m.length>=1){let t=(0,hS.um)(e).filter(e=>(0,lS.xf)(e)&&!(0,u5.H_)(m,e));if((t=[...new Set(t)]).length>0){l((0,t3.to)({type:hB,data:{emails:t,onConfirm:()=>{T(e)}}}));return}}T(e)};return a.invite_whitelist_enforced?el.createElement("div",{className:ey()(hL,o)},el.createElement("p",{className:ey()(hR,c)},el.createElement(e2.Tx,{id:"org_invite.email_input_description.invite_allowlist_enforced"})," ",w()),el.createElement(hI.e,{autocomplete:p,buttonText:(0,e2.t)("org_invite.invite_button"),dispatch:l,dropdownShown:g,dropdownKey:"org-invite-account-type-dropdown",getSelectText:dP.$K,inviteLevel:h,isSubmitting:E,onInviteLevelChange:v,options:[lm.El.FULL,lm.El.RESTRICTED],onSubmit:C,shouldAutoFocus:!0,validateToken:x,TokenComponent:hO,multiLineForm:!!i,buttonClassName:s})):el.createElement("div",{className:ey()(hL,o)},el.createElement("p",{className:ey()(hR,c)},(()=>{if(r)return el.createElement(e2.Tx,{id:"org_invite.email_input_description.guest_invite_allow_list",orgName:a.name});let e=m.map(e=>`@${e.domain}`);if(b)return el.createElement(e2.Tx,{id:"org_invite.email_input_description.multiple_domains.expanded",orgName:a.name,domainList:el.createElement(ux.T,null,e.map(e=>el.createElement("span",{key:e},e)))});let t=e[0],n=e.length-1;return 0===n?el.createElement(e2.Tx,{id:"org_invite.email_input_description.single_domain",domain:t,orgName:a.name}):el.createElement(e2.Tx,{id:"org_invite.email_input_description.multiple_domains.with_expand_link",orgName:a.name,domain:t,expandLink:el.createElement(eT.CY,{onClick:()=>y(!0),trusted:!0},el.createElement(e2.Tx,{id:"org_invite.email_input_description.multiple_domains.expand_link",remainingDomainCount:n}))})})()," ",w()),el.createElement(hI.e,{autocomplete:p,buttonText:(0,e2.t)("org_invite.invite_button"),dispatch:l,dropdownShown:null,inviteLevel:h,isSubmitting:E,onSubmit:C,shouldAutoFocus:!0,validateToken:x,TokenComponent:hO,multiLineForm:!!i,buttonClassName:s}))}function hF(e,t){return(e.invite_whitelist_guest_invite_setting===s0.Gv.REQUIRE_APPROVAL||e.invite_whitelist_enforced_guests)&&"licenseGroup"!==t}function hM(e,t){return!e.invite_whitelist_member_allowlist_enabled||"orgAdminSettings"===t}let hP=(0,rr.Ju)(function({licenseGroupId:e,workspaceId:t}){let a=(0,sK.sZ)(),r=(0,ei.wA)(),n=(0,ei.d4)(e=>e.selectedView);if(!a)return el.createElement(el.Fragment,null);let l=hF(a,n.view),i=a.invite_whitelist_enforced||l?(0,e2.t)("org_invite.invite_users",{orgName:a.name}):(0,e2.t)("org_invite.invite_members",{orgName:a.name});return el.createElement(e8.fu,{name:"Org Invite Modal"},el.createElement(lD.XV,{title:i,onClose:()=>{r(t3.Lo()),r(hC.cL())}},el.createElement(hD,{licenseGroupId:e,workspaceId:t,org:a,orgHasGuestsInviteAllowlist:l,canInviteMembers:hM(a,n.view),dispatch:r})))},"ORG_INVITE_MODAL"),hB=(0,rr.Ju)(function(e){return el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("org_invite.pending_guest_confirmation.title"),confirmText:(0,e2.t)("org_invite.pending_guest_confirmation.button"),disableClickOutsideToHide:!0,onConfirm:e.onConfirm,popStack:!0,size:"small"},el.createElement("div",{className:hA.jE},el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"org_invite.pending_guest_confirmation.description",numEmails:e.emails.length,emailList:el.createElement(ux.T,{className:"org_invite_modal--orgGuestEmails--JpKT2"},e.emails)}),el.createElement("a",{className:"org_invite_modal--orgGuestLink--tugVV blue_link--blueLink--9rlnd",target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/articles/4420557314967-Members-versus-guests"}," ",el.createElement(e2.Tx,{id:"org_invite.pending_guest_confirmation.learn_more_link"})))))},"CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL");var hU=((m=hU||{})[m.INVITE_USERS=0]="INVITE_USERS",m[m.ADD_MEMBERS=1]="ADD_MEMBERS",m);function hW(e){switch(e){case 1:return{name:(0,e2.t)("add_unassigned_members_modal.add_members_tab"),view:1};case 0:return{name:(0,e2.t)("add_unassigned_members_modal.invite_users_tab"),view:0}}}var hV=a(485463),hG=a(256296),h$=a(841563),hj=a.n(h$),hH=a(174989),hq=a(239318);let hY="guest_resources--disclaimer--qWjKm",hz="guest_resources--row--E1C-K guest_resources--_row--zwYbD",hK="guest_resources--columnName--G2UHJ table--column--974RA",hJ="guest_resources--columnNameAccessible--R-A1Y guest_resources--columnName--G2UHJ table--column--974RA",hQ="guest_resources--columnMeta---3PoB table--column--974RA",hZ="guest_resources--columnLevel--FiZId table--column--974RA",hX="guest_resources--sectionContainer--2n3-q",h0="guest_resources--sectionHeaderRow--TuN3y",h1="guest_resources--sectionBody--W78YJ";function h2(e){return el.createElement("div",{style:{height:e.height}})}function h4(e){let t=(0,ei.wA)();return el.createElement("div",{className:hz},(()=>{if(e.hasCheckedAccess&&e.resource.can_view){let a=e.resource.file;return el.createElement("div",{className:hJ},el.createElement(eT.N_,{onClick:()=>{t(aC.$T({view:"fullscreen",fileKey:a.key,editorType:(0,ne.wN)(a.editor_type)})),t(t3.Ce())},trusted:!0},a.name))}{let t=e.resource.file,a=`file_tooltip_${t.key}`,r=e.hasCheckedAccess?(0,e2.t)("members_tab.member_modal.file_no_access_tooltip"):void 0,n=e.hasCheckedAccess?"guest_resources--inaccessibleFileName--Ddabe guest_resources--fileName--0CWPm":"guest_resources--fileName--0CWPm";return el.createElement("div",{className:hK,"data-tooltip-proxy-element-id":a},el.createElement("div",{id:a,className:"guest_resources--inaccessibleFileIcon--N2pqG","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":r}),el.createElement("p",{className:n},t.name))}})(),el.createElement("div",{className:hQ},el.createElement("div",null,e.resource.team?e.resource.team.name:"-")),el.createElement("div",{className:hZ},(0,dP.QN)(e.resource.level)))}function h3(e){let t=e.resource.folder,a=(0,ei.wA)(),r=e.hasCheckedAccess&&!!e.resource.can_view,n=r||!e.hasCheckedAccess?void 0:(0,e2.t)("members_tab.member_modal.not_project_member_tooltip"),l=`folder_tooltip_${e.resource.folder.id}`;return el.createElement("div",{className:hz},r?el.createElement("div",{className:hJ},el.createElement(eT.N_,{onClick:()=>{a(aC.$T({view:"folder",folderId:t.id})),a(t3.Ce())},trusted:!0},e.resource.folder.name)):el.createElement("div",{className:hK,"data-tooltip-proxy-element-id":l},el.createElement("p",{id:l,className:e.hasCheckedAccess?"guest_resources--inaccessibleName--FzTVE":void 0,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":n,"data-tooltip-max-width":200},e.resource.folder.name)),el.createElement("div",{className:hQ},el.createElement(e2.Tx,{id:"members_tab.member_modal.file_count_label",fileCount:e.resource.file_count})),el.createElement("div",{className:hZ},(0,dP.QN)(e.resource.level)))}function h8(e){let t=e.resource.team,a=e.hasCheckedAccess&&!!e.resource.can_view,r=a||!e.hasCheckedAccess,n=(0,ei.wA)();return el.createElement("div",{className:hz},el.createElement("div",{className:a?hJ:hK},el.createElement(eT.N_,{onClick:a?()=>{n(aC.$T({view:"team",teamId:t.id})),n(t3.Ce())}:void 0,className:r?"":"guest_resources--inaccessibleTeamName--2Lcg4","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":r?void 0:"You're not a member of this team","data-tooltip-max-width":200,"data-tooltip-proxy-element-id":`team_tooltip_${t.id}`,trusted:!0},t.name)),el.createElement("div",{className:hQ},el.createElement(e2.Tx,{id:"members_tab.member_modal.project_count_label",projectCount:t.projects})),el.createElement("div",{className:hZ},(0,dP.QN)(e.resource.level)))}let h5=(0,e8.kp)(function(e){let[t,a]=el.useState(null);if(el.useEffect(()=>{f0.G.getGuestResources({orgUserId:e.orgUser.id}).then(e=>{a(e.data.meta)})},[e.orgUser.id]),!t)return el.createElement("div",{className:"guest_resources--loadingState--oVOS3"},el.createElement(t7.kt,null));let r=t.files,n=t.folders,l=t.teams,i=r.length+n.length+l.length>0;return el.createElement(el.Fragment,null,!(0,pd.Bg)(e.org.shared_org_license_group_settings)&&el.createElement("p",{className:hY},i?el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.can_also_view_public_links_label",name:e.user.handle}):el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.can_view_public_links_label",name:e.user.handle})),(0,pd.Bg)(e.org.shared_org_license_group_settings)&&!i&&el.createElement("p",{className:hY},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.no_access_label",name:e.user.handle})),l.length>0&&el.createElement(el.Fragment,null,el.createElement(h2,{height:16}),el.createElement("div",{className:hX},el.createElement("div",{className:h0},el.createElement("div",{className:hK},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.teams_table.team_column"})),el.createElement("div",{className:hQ},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.teams_table.projects_column"})),el.createElement("div",{className:hZ},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.teams_table.permissions_column"}))),el.createElement("div",{className:h1},l.map(e=>el.createElement(h8,{key:e.team.id,resource:e,hasCheckedAccess:t.has_checked_access}))))),n.length>0&&el.createElement(el.Fragment,null,el.createElement(h2,{height:16}),el.createElement("div",{className:hX},el.createElement("div",{className:h0},el.createElement("div",{className:hK},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.projects_table.project_column"})),el.createElement("div",{className:hQ},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.projects_table.files_column"})),el.createElement("div",{className:hZ},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.projects_table.permissions_column"}))),el.createElement("div",{className:h1},n.map(e=>el.createElement(h3,{key:e.folder.id,resource:e,hasCheckedAccess:t.has_checked_access}))))),r.length>0&&el.createElement(el.Fragment,null,el.createElement(h2,{height:16}),el.createElement("div",{className:hX},el.createElement("div",{className:h0},el.createElement("div",{className:hK},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.files_table.file_column"})),el.createElement("div",{className:hQ},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.files_table.team_column"})),el.createElement("div",{className:hZ},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access.files_table.permissions_column"}))),el.createElement("div",{className:h1},r.map(e=>el.createElement(h4,{key:e.file.key,resource:e,hasCheckedAccess:t.has_checked_access}))))))},"Guest Access Tab");function h6(e){let t=(0,ei.wA)(),a=(0,o2.t5)(e.orgUser);return el.createElement("div",{className:"member_modal_user_details--modalHeader--OJmBQ"},el.createElement(uX,{className:"member_modal_user_details--avatarWithHandle--WjLdI admin_settings_page--avatarWithHandle--7e9O9 ellipsis--ellipsis--Tjyfa",defaultText:"",dispatch:t,entity:e.user,showTooltip:!0,size:32,badge:a}))}var h9=a(392830),h7=a(300785),ve=a(724727),vt=a(447618),va=a(269135);let vr=(e,t,a)=>a?e&&t?(0,e2.t)("activity_log.event.library_setting_all_files_org_setting"):t?(0,e2.t)("activity_log.event.library_setting_figjam_files_org_setting"):e?(0,e2.t)("activity_log.event.library_setting_figma_files_org_setting"):(0,e2.t)("activity_log.event.library_setting_off_org_setting"):e&&t?(0,e2.t)("activity_log.event.library_setting_all_files"):t?(0,e2.t)("activity_log.event.library_setting_figjam_files"):e?(0,e2.t)("activity_log.event.library_setting_figma_files"):(0,e2.t)("activity_log.event.library_setting_off");function vn({log:e}){let t=vr(e.metadata.new_figma_enabled,e.metadata.new_figjam_enabled);return null===e.metadata.old_figma_enabled?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_new_library_setting",libraryName:el.createElement("b",null,e.metadata.library_file_name),orgName:el.createElement("b",null,e.metadata.org_name),librarySetting:t})):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_changed_library_setting",libraryName:el.createElement("b",null,e.metadata.library_file_name),orgName:el.createElement("b",null,e.metadata.org_name),oldLibrarySetting:vr(e.metadata.old_figma_enabled,e.metadata.old_figjam_enabled),newLibrarySetting:t}))}function vl({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_library_approved",libraryName:el.createElement("b",null,e.metadata.library_file_name),orgName:el.createElement("b",null,e.metadata.org_name)}))}function vi({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_library_unapproved",libraryName:el.createElement("b",null,e.metadata.library_file_name),orgName:el.createElement("b",null,e.metadata.org_name)}))}function vs({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_library_approved",libraryName:el.createElement("b",null,e.metadata.library_file_name),workspaceName:el.createElement("b",null,e.metadata.workspace_name)}))}function vo({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_library_unapproved",libraryName:el.createElement("b",null,e.metadata.library_file_name),workspaceName:el.createElement("b",null,e.metadata.workspace_name)}))}function vc({log:e}){if(null===e.metadata.old_use_org_settings)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_new_library_setting_off",libraryName:el.createElement("b",null,e.metadata.library_file_name),workspaceName:el.createElement("b",null,e.metadata.workspace_name)}));let t=vr(e.metadata.new_figma_enabled,e.metadata.new_figjam_enabled,e.metadata.new_use_org_settings),a=vr(e.metadata.old_figma_enabled,e.metadata.old_figjam_enabled,e.metadata.old_use_org_settings);return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_changed_library_setting",libraryName:el.createElement("b",null,e.metadata.library_file_name),workspaceName:el.createElement("b",null,e.metadata.workspace_name),oldLibrarySetting:a,newLibrarySetting:t}))}function vd({log:e}){return el.createElement(vc,{log:e})}function vm({log:e}){var t;return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_admins_add",adminNames:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.new_admin_names.map(e=>el.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.new_admin_names)?void 0:t.length)??0,workspaceName:el.createElement("b",null,e.metadata.name)}))}function vu({log:e}){var t;return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_admins_remove.v2",adminNames:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.removed_admin_names.map(e=>el.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.removed_admin_names)?void 0:t.length)??0,workspaceName:el.createElement("b",null,e.metadata.name)}))}function v_({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_create",workspaceName:el.createElement("b",null,e.metadata.name)}))}function vp({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_delete",workspaceName:el.createElement("b",null,e.metadata.name)}))}function vg({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_rename",workspaceName:el.createElement("b",null,e.metadata.old_name),newName:el.createElement("b",null,e.metadata.name)}))}function vE({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_members_add",memberEmails:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.new_member_emails.map(e=>el.createElement("span",{key:e},e)))),numMembers:e.metadata.new_member_emails.length,workspaceName:el.createElement("b",null,e.metadata.name)}))}function vf({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_members_remove",memberEmails:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.removed_member_emails.map(e=>el.createElement("span",{key:e},e)))),numMembers:e.metadata.removed_member_emails.length,workspaceName:el.createElement("b",null,e.metadata.name)}))}function vh({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_member_add",memberEmail:el.createElement("b",null,e.metadata.user_email),workspaceName:el.createElement("b",null,e.metadata.workspace_name)}))}function vv({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_member_remove",memberEmail:el.createElement("b",null,e.metadata.user_email),workspaceName:el.createElement("b",null,e.metadata.workspace_name)}))}function vb({log:e}){return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.license_group_membership_self_select",workspaceName:el.createElement("b",null,e.metadata.workspace_name)}))}function vy({log:e}){let t=e.metadata.workspace_name,a=e.metadata.old_workspace_name;return t?el.createElement("span",null,!a&&el.createElement(e2.Tx,{id:"activity_log.teams.added_team_to_workspace",teamName:el.createElement("b",null,e.metadata.team_name),newWorkspaceName:el.createElement("b",null,t)}),a&&el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.added_team_to_workspace_and_removed_from_old_workspace",teamName:el.createElement("b",null,e.metadata.team_name),newWorkspaceName:el.createElement("b",null,t),oldWorkspaceName:el.createElement("b",null,a)}))):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.removed_team_from_workspace",teamName:el.createElement("b",null,e.metadata.team_name),oldWorkspaceName:el.createElement("b",null,a)}))}function vw({log:e}){let t=e.metadata.old_org_access===lm.bU.PUBLIC?"visible":"hidden",a=e.metadata.new_org_access===lm.bU.PUBLIC?"visible":"hidden";return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.workspace_visibility_setting_changed",workspaceName:el.createElement("b",null,e.metadata.name),oldOrgAccess:el.createElement("b",null,t),newOrgAccess:el.createElement("b",null,a)}))}function vT({log:e}){var t;return e.metadata.is_billing_group?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_admins_add",adminNames:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.new_admin_names.map(e=>el.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.new_admin_names)?void 0:t.length)??0,billingGroupName:el.createElement("b",null,e.metadata.name)})):el.createElement(vm,{log:e})}function vx({log:e}){var t;return e.metadata.is_billing_group?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_admins_remove.v2",adminNames:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.removed_admin_names.map(e=>el.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.removed_admin_names)?void 0:t.length)??0,billingGroupName:el.createElement("b",null,e.metadata.name)})):el.createElement(vu,{log:e})}function vC({log:e}){var t,a;return e.metadata.is_billing_group?e.metadata.admins?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_create_with_admins",billingGroupName:el.createElement("b",null,e.metadata.name),adminNames:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.admins.map(e=>el.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.admins)?void 0:t.length)??0})):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_create",billingGroupName:el.createElement("b",null,e.metadata.name)})):e.metadata.admins?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.license_group_create_with_admins",workspaceName:el.createElement("b",null,e.metadata.name),adminNames:el.createElement("b",null,el.createElement(ux.T,null,e.metadata.admins.map(e=>el.createElement("span",{key:e},e)))),numAdmins:(null==(a=e.metadata.admins)?void 0:a.length)??0})):el.createElement(v_,{log:e})}function vN({log:e}){return e.metadata.is_billing_group?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_delete",billingGroupName:el.createElement("b",null,e.metadata.name)})):el.createElement(vp,{log:e})}function vk({log:e}){return e.metadata.is_billing_group?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_rename",billingGroupName:el.createElement("b",null,e.metadata.old_name),newName:el.createElement("b",null,e.metadata.name)})):el.createElement(vg,{log:e})}function vS({log:e}){return e.metadata.is_billing_group?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_membership_change",userEmail:el.createElement("b",null,e.metadata.user_email),billingGroupName:el.createElement("b",null,e.metadata.old_license_group_name),newName:el.createElement("b",null,e.metadata.new_license_group_name)})):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.license_group_membership_change",userEmail:el.createElement("b",null,e.metadata.user_email),workspaceName:el.createElement("b",null,e.metadata.old_license_group_name),newName:el.createElement("b",null,e.metadata.new_license_group_name)}))}function vI({log:e}){return e.metadata.is_billing_group?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.billing_group_membership_self_select",billingGroupName:el.createElement("b",null,e.metadata.license_group_name)})):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.license_group_membership_self_select",workspaceName:el.createElement("b",null,e.metadata.license_group_name)}))}function vA({log:e}){let t={...e.metadata,workspace_name:e.metadata.license_group_name,old_workspace_name:e.metadata.old_license_group_name};return el.createElement(vy,{log:{metadata:t}})}let vL="activity_logs_table--actorColumn--rTH3F activity_logs_table--_actor--1Zwaa activity_logs_table--_columnVertical--QN693",vR="activity_logs_table--tableCellSubtext--MF7-r";function vO(e,t){if(!t)return null;let a="activity_logs_table--upgradeReasonBoldedNoun--9fe4D",r=e=>{switch(e){case oX.oM.DESIGN:return(0,e2.t)("general.figma_design_short_lower");case oX.oM.WHITEBOARD:return(0,e2.t)("general.figjam");case oX.oM.DEV_MODE:return(0,e2.t)("general.dev_mode");default:return(0,e2.t)("general.figma_design_short_lower")}};switch(t.reason){case vt.U.ROLE_UPGRADE:case vt.U.INVITE_REDEEM:case vt.U.INVITE_AUTOUPGRADE:case vt.U.JOIN_TEAM_REQUEST:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.added_to_resource_with_product.seat_rename",actor_name:el.createElement("span",{className:a},t.actor_name),upgrader_name:el.createElement("span",{className:a},e),product:r(t.editor_type),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.ORG_INVITE_REDEEM:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.redeem_invite_to_org",upgrader_name:el.createElement("span",{className:a},e)}));case vt.U.ORG_MERGE:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.org_merge.seat_rename",upgrader_name:el.createElement("span",{className:a},e),child_org:el.createElement("span",{className:a},t.resource_name)}));case vt.U.PAID_STATUS_ON_ORG_CREATION:case vt.U.RESOURCE_MOVED_TO_ORG:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.resource_move_with_product.seat_rename",upgrader_name:el.createElement("span",{className:a},e),product:r(t.editor_type),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.DRAFTS_SHARE:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.drafts_share",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name),actor_name:el.createElement("span",{className:a},t.actor_name?t.actor_name:(0,e2.t)("activity_log.upgrade.drafts_share_anonymous"))}));case vt.U.CREATE_TEAM:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.create_team",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.JOIN_TEAM:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.join_team_with_product.seat_rename",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name),product:r(t.editor_type)}));case vt.U.ADMIN_UPGRADE:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.admin_upgrade_with_product.seat_rename",actor_name:el.createElement("span",{className:a},t.actor_name),upgrader_name:el.createElement("span",{className:a},e),product:r(t.editor_type)}));case vt.U.SCIM:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.scim_with_product.seat_rename",upgrader_name:el.createElement("span",{className:a},e),product:r(t.editor_type)}));case vt.U.FIGMA_ADMIN:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.figma_admin",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.DEPART_TEAM:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.depart_team",upgrader_name:el.createElement("span",{className:a},e)}));case vt.U.CREATE_FILE:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.create_file",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.EDIT_REQUEST_AUTO_APPROVAL:case vt.U.EDIT_REQUEST_APPROVAL:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.edit_request_approval",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.RUN_PLUGIN:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.run_plugin",upgrader_name:el.createElement("span",{className:a},e)}));case vt.U.ORG_INVITE_REDEEM:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.redeem_invite_to_org",upgrader_name:el.createElement("span",{className:a},e)}));case vt.U.ORG_MERGE:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.org_merge.seat_rename",upgrader_name:el.createElement("span",{className:a},e),child_org:el.createElement("span",{className:a},t.resource_name)}));case vt.U.RESOURCE_MOVED_FROM_ORG_DRAFTS:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.resource_moved_from_drafts",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.DEFAULT_PAID_STATUS:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.default_paid_status_with_product.seat_rename",upgrader_name:el.createElement("span",{className:a},e),product:r(t.editor_type)}));case vt.U.FJ_GA_REUPGRADE:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.figjam_ga_reupgrade",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.EDIT_BUTTON:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.edit_button",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));case vt.U.ACCESS_EDIT_LINK:case vt.U.ACTIVE_EDIT_ACTION:case vt.U.EDIT_ACTION:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.upgrade.edit_action",upgrader_name:el.createElement("span",{className:a},e),resource_name:el.createElement("span",{className:a},t.resource_name)}));default:return null}}function vD(e,t){if(!t)return null;switch(t.reason){case vt.U.ROLE_UPGRADE:case vt.U.INVITE_REDEEM:case vt.U.INVITE_AUTOUPGRADE:case vt.U.JOIN_TEAM_REQUEST:return(0,e2.t)("activity_log.upgrade.added_to_resource.seat_rename",{actor_name:t.actor_name,upgrader_name:e,resource_name:t.resource_name});case vt.U.PAID_STATUS_ON_ORG_CREATION:return(0,e2.t)("activity_log.upgrade.paid_status_on_org_creation",{upgrader_name:e,resource_name:t.resource_name});case vt.U.RESOURCE_MOVED_TO_ORG:return(0,e2.t)("activity_log.upgrade.resource_moved_to_org",{upgrader_name:e,resource_name:t.resource_name});case vt.U.TEAM_ADDED_TO_ORG_THROUGH_FIGMA_ADMIN:return(0,e2.t)("activity_log.upgrade.resource_move.seat_rename",{upgrader_name:e,resource_name:t.resource_name});case vt.U.ORG_INVITE_REDEEM:return(0,e2.t)("activity_log.upgrade.redeem_invite_to_org",{upgrader_name:e});case vt.U.ORG_MERGE:return(0,e2.t)("activity_log.upgrade.org_merge.seat_rename",{upgrader_name:e,child_org:t.resource_name});case vt.U.DRAFTS_SHARE:return(0,e2.t)("activity_log.upgrade.drafts_share",{upgrader_name:e,resource_name:t.resource_name,actor_name:t.actor_name?t.actor_name:(0,e2.t)("activity_log.upgrade.drafts_share_anonymous")});case vt.U.CREATE_TEAM:return(0,e2.t)("activity_log.upgrade.create_team",{upgrader_name:e,resource_name:t.resource_name});case vt.U.JOIN_TEAM:return(0,e2.t)("activity_log.upgrade.join_team.seat_rename",{upgrader_name:e,resource_name:t.resource_name});case vt.U.ADMIN_UPGRADE:return(0,e2.t)("activity_log.upgrade.admin_upgrade.seat_rename",{actor_name:t.actor_name,upgrader_name:e});case vt.U.SCIM:return(0,e2.t)("activity_log.upgrade.scim.seat_rename",{upgrader_name:e});case vt.U.FIGMA_ADMIN:return(0,e2.t)("activity_log.upgrade.figma_admin",{upgrader_name:e,resource_name:t.resource_name});case vt.U.DEPART_TEAM:return(0,e2.t)("activity_log.upgrade.depart_team",{upgrader_name:e});case vt.U.CREATE_FILE:return(0,e2.t)("activity_log.upgrade.create_file",{upgrader_name:e,resource_name:t.resource_name});case vt.U.EDIT_REQUEST_AUTO_APPROVAL:case vt.U.EDIT_REQUEST_APPROVAL:return(0,e2.t)("activity_log.upgrade.edit_request_approval",{upgrader_name:e,resource_name:t.resource_name});case vt.U.RUN_PLUGIN:return(0,e2.t)("activity_log.upgrade.run_plugin",{upgrader_name:e});case vt.U.ORG_INVITE_REDEEM:return(0,e2.t)("activity_log.upgrade.redeem_invite_to_org",{upgrader_name:e});case vt.U.ORG_MERGE:return(0,e2.t)("activity_log.upgrade.org_merge.seat_rename",{upgrader_name:e,child_org:t.resource_name});case vt.U.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,e2.t)("activity_log.upgrade.resource_moved_from_drafts",{upgrader_name:e,resource_name:t.resource_name});case vt.U.DEFAULT_PAID_STATUS:return(0,e2.t)("activity_log.upgrade.default_paid_status.seat_rename",{upgrader_name:e});case vt.U.FJ_GA_REUPGRADE:return(0,e2.t)("activity_log.upgrade.figjam_ga_reupgrade",{upgrader_name:e,resource_name:t.resource_name});case vt.U.EDIT_BUTTON:return(0,e2.t)("activity_log.upgrade.edit_button",{upgrader_name:e,resource_name:t.resource_name});case vt.U.ACCESS_EDIT_LINK:case vt.U.EDIT_ACTION:return(0,e2.t)("activity_log.upgrade.edit_action",{upgrader_name:e,resource_name:t.resource_name});case vt.U.DEV_MODE_PRE_COMMIT_BETA_USE:return(0,e2.t)("activity_log.upgrade.dev_mode_pre_commit_beta_use",{upgrader_name:e});default:return null}}function vF(e,t,a,r){var n,l,i,s,o,c,d,m;let{internal_admin_event_not_configured:u}=e.metadata;if(u)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.internal_admin_event_not_configured",eventName:el.createElement("b",null,e.event_name)}));let _=oZ.JT.dict(e=>{switch(e){case oX.oM.DESIGN:return(0,e2.t)("general.figma_design");case oX.oM.WHITEBOARD:return(0,e2.t)("general.figjam");case oX.oM.DEV_MODE:return(0,e2.t)("general.dev_mode")}});switch(e.event_name){case"autogen_password_controls_setting_change":if(e.metadata.new_autogen_password_controls_setting)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.enabled_autogen_password_controls_for_the_org"}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.disabled_autogen_password_controls_for_the_org"}));case"community_hub_file_publish":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_hub_file_publish",fileName:e.metadata.file_name}));case"community_hub_file_update":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_hub_file_update",fileName:e.metadata.file_name}));case"community_hub_file_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_hub_file_delete",fileName:e.metadata.file_name}));case"community_plugin_publish":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_plugin_publish",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"community_plugin_update":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_plugin_update",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"community_plugin_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_plugin_delete",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"configurable_upgrade_request_message_change":if(e.metadata.new_configured_upgrade_request_message)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_updated_message"}));return null;case"configurable_upgrade_request_setting_change":if(e.metadata.new_configured_upgrade_request_setting){let t=e.metadata.old_configured_upgrade_request_setting,a=e.metadata.new_configured_upgrade_request_setting;if(t)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_changed",oldAudience:el.createElement(e2.Tx,{id:t===lm.Sm.MEMBERS?"activity_log.event.configurable_upgrade_request_flow_members":"activity_log.event.configurable_upgrade_request_flow_all_users"}),currentAudience:el.createElement(e2.Tx,{id:a===lm.Sm.MEMBERS?"activity_log.event.configurable_upgrade_request_flow_members":"activity_log.event.configurable_upgrade_request_flow_all_users"})}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_enabled",currentAudience:el.createElement(e2.Tx,{id:a===lm.Sm.MEMBERS?"activity_log.event.configurable_upgrade_request_flow_members":"activity_log.event.configurable_upgrade_request_flow_all_users"})}))}return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_disabled"}));case"plugin_ownership_transfer":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_ownership_transfer",pluginName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"community_widget_publish":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_widget_publish",widgetName:el.createElement("b",null,e.metadata.plugin_name)}));case"community_widget_update":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_widget_update",widgetName:el.createElement("b",null,e.metadata.plugin_name)}));case"community_widget_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.community_widget_delete",widgetName:el.createElement("b",null,e.metadata.plugin_name)}));case"widget_ownership_transfer":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_ownership_transfer",widgetName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"fig_file_create":if(e.metadata.folder_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_create_folder_name",folder:el.createElement("b",null,e.metadata.folder_name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_create"}));case"fig_file_duplicate":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_duplicate",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_export":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_export",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_move":if(e.metadata.folder_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_move_folder_name",name:el.createElement("b",null,e.metadata.name),folder:el.createElement("b",null,e.metadata.folder_name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_move",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_link_access_change":switch(e.metadata.link_access){case"edit":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.edit",name:el.createElement("b",null,e.metadata.name)}));case"inherit":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.inherit",name:el.createElement("b",null,e.metadata.name)}));case"org_edit":if(e.metadata.org_browsable)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.org_edit",name:el.createElement("b",null,e.metadata.name),orgName:el.createElement("b",null,t)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.org_edit.link",name:el.createElement("b",null,e.metadata.name),orgName:el.createElement("b",null,t)}));case"org_view":if(e.metadata.org_browsable)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.org_view",name:el.createElement("b",null,e.metadata.name),orgName:el.createElement("b",null,t)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.org_view.link",name:el.createElement("b",null,e.metadata.name),orgName:el.createElement("b",null,t)}));case"view":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_access_change.view",name:el.createElement("b",null,e.metadata.name)}));default:(e=>{throw Error(`Invalid link access ${e}`)})(e.metadata.link_access)}case"fig_file_link_expiration_change":return el.createElement("span",null,(null==(n=e.metadata)?void 0:n.old_expires_at)===null&&(null==(l=e.metadata)?void 0:l.new_expires_at)!==null?el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_expiration_change.add_expiration",name:el.createElement("b",null,null==(i=e.metadata)?void 0:i.name)}):(null==(s=e.metadata)?void 0:s.old_expires_at)!==null&&(null==(o=e.metadata)?void 0:o.new_expires_at)!==null?el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_expiration_change.change_expiration",name:el.createElement("b",null,null==(c=e.metadata)?void 0:c.name)}):el.createElement(e2.Tx,{id:"activity_log.event.fig_file_link_expiration_change.remove_expiration",name:el.createElement("b",null,null==(d=e.metadata)?void 0:d.name)}));case"fig_file_proto_link_access_change":switch(e.metadata.proto_link_access){case"view":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.view",name:el.createElement("b",null,e.metadata.name)}));case"org_view":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.org_view",name:el.createElement("b",null,e.metadata.name),orgName:el.createElement("b",null,t)}));case"inherit":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.inherit",name:el.createElement("b",null,e.metadata.name)}));case null:return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.null",name:el.createElement("b",null,e.metadata.name)}));default:(e=>{throw Error(`Invalid link access ${e}`)})(e.metadata.proto_link_access)}case"fig_file_set_password":if(e.metadata.has_file_link_password)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_set_password.file",name:el.createElement("b",null,e.metadata.name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_set_password.prototype",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_unset_password":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_unset_password",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_viewer_access_change":if(e.metadata.viewer_export_restricted)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_viewer_access_change.restricted",name:el.createElement("b",null,e.metadata.name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_viewer_access_change",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_permanent_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_permanent_delete",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_permanent_undelete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_permanent_undelete",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_rename":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_rename",oldName:el.createElement("b",null,e.metadata.old_name),name:el.createElement("b",null,e.metadata.name)}));case"fig_file_restore":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_restore",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_save_as":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_save_as",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_trash":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_trash",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_view":if(e.metadata.embed_location)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view.embedded",name:el.createElement("b",null,e.metadata.name),location:el.createElement("b",null,e.metadata.embed_location)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_view_external":if(e.metadata.external_org_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_external.org",orgName:el.createElement("b",null,e.metadata.external_org_name)}));if(e.metadata.external_team_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_external.team",teamName:el.createElement("b",null,e.metadata.external_team_name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_external"}));case"fig_file_view_prototype":if(e.metadata.embed_location)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_prototype.embedded",name:el.createElement("b",null,e.metadata.name),location:el.createElement("b",null,e.metadata.embed_location)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_prototype",name:el.createElement("b",null,e.metadata.name)}));case"fig_file_view_prototype_external":if(e.metadata.external_org_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_prototype_external.org",orgName:el.createElement("b",null,e.metadata.external_org_name)}));if(e.metadata.external_team_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_prototype_external.team",teamName:el.createElement("b",null,e.metadata.external_team_name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.fig_file_view_prototype_external"}));case"folder_create":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_create",folderName:el.createElement("b",null,e.metadata.name),teamName:el.createElement("b",null,e.metadata.team_name)}));case"folder_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_delete",folderName:el.createElement("b",null,e.metadata.name)}));case"folder_export":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_export",folderName:el.createElement("b",null,e.metadata.name)}));case"folder_import":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_import",folderName:el.createElement("b",null,e.metadata.name)}));case"folder_move":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_move",folderName:el.createElement("b",null,e.metadata.name),teamName:el.createElement("b",null,e.metadata.team_name)}));case"folder_rename":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_rename",folderName:el.createElement("b",null,e.metadata.name),oldName:el.createElement("b",null,e.metadata.old_name)}));case"folder_team_access_change":if(e.metadata.invite_only)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_team_access_change.invite_only",folderName:el.createElement("b",null,e.metadata.name)}));if(e.metadata.view_only)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_team_access_change.view_only",folderName:el.createElement("b",null,e.metadata.name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_team_access_change.edit",folderName:el.createElement("b",null,e.metadata.name)}));case"folder_transfer_sent":return e.metadata.destination_team_name?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_transfer_sent",folderName:el.createElement("b",null,e.metadata.folder_name),destinationTeam:el.createElement("b",null,e.metadata.destination_team_name),destinationOrg:el.createElement("b",null,e.metadata.destination_org_name)})):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_transfer_sent_secret_teams",folderName:el.createElement("b",null,e.metadata.folder_name),destinationOrg:el.createElement("b",null,e.metadata.destination_org_name)}));case"folder_transfer_received":{let t=el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_transfer_received_no_source_org",teamName:el.createElement("b",null,e.metadata.team_name),folderName:el.createElement("b",null,e.metadata.folder_name)})),a=el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_transfer_received",teamName:el.createElement("b",null,e.metadata.team_name),orgName:el.createElement("b",null,e.metadata.source_org_name),folderName:el.createElement("b",null,e.metadata.folder_name)})),r=el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_transfer_received_no_source_team",orgName:el.createElement("b",null,e.metadata.source_org_name),folderName:el.createElement("b",null,e.metadata.folder_name)})),n=e.metadata.team_name?a:r;return e.metadata.source_org_name?n:t}case"folder_transfer_approved":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.folder_transfer_approved",folderName:el.createElement("b",null,e.metadata.folder_name)}));case"google_sso_auth_change":return el.createElement("span",null,e.metadata.google_sso_setting?el.createElement(e2.Tx,{id:"activity_log.event.google_sso_auth_enable"}):el.createElement(e2.Tx,{id:"activity_log.event.google_sso_auth_disable"}));case"idle_timeout_setting_change":{let t;let{old_idle_timeout_setting:a,new_idle_timeout_setting:r}=e.metadata;if(a&&r){let[e,n]=(0,h7.qr)(a),[l,i]=(0,h7.qr)(r),s=(0,e2.t)(`settings_tab.idle_session_timeout.time.${n}`,{duration:e}),o=(0,e2.t)(`settings_tab.idle_session_timeout.time.${i}`,{duration:l});t=el.createElement(e2.Tx,{id:"activity_log.event.idle_timeout_setting_change",oldDuration:s,newDuration:o})}else if(r){let[e,a]=(0,h7.qr)(r),n=(0,e2.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:e});t=el.createElement(e2.Tx,{id:"activity_log.event.idle_timeout_setting_enable",duration:n})}else t=el.createElement(e2.Tx,{id:"activity_log.event.idle_timeout_setting_disable"});return el.createElement("span",null,t)}case"ip_restriction_change":return el.createElement("span",null,e.metadata.ip_restriction_setting?el.createElement(e2.Tx,{id:"activity_log.event.ip_restriction_enable"}):el.createElement(e2.Tx,{id:"activity_log.event.ip_restriction_disable"}));case"ip_allowlist_setting_change":if(e.metadata.ip_allowlist_setting)return el.createElement(e2.Tx,{id:"activity_log.event.ip_allowlist_setting_enabled"});return el.createElement(e2.Tx,{id:"activity_log.event.ip_allowlist_setting_disabled"});case"ip_allowlist_range_create":return el.createElement(e2.Tx,{id:"activity_log.event.ip_allowlist_range_create",ip_address:e.metadata.ip_address});case"ip_allowlist_range_delete":return el.createElement(e2.Tx,{id:"activity_log.event.ip_allowlist_range_delete",ip_address:e.metadata.ip_address});case"network_access_restriction_range_create":return el.createElement(e2.Tx,{id:"activity_log.event.ip_network_access_restriction_range_create",ip_address:e.metadata.ip_address});case"network_access_restriction_range_delete":return el.createElement(e2.Tx,{id:"activity_log.event.ip_network_access_restriction_range_delete",ip_address:e.metadata.ip_address});case"network_access_restriction_range_update":if(e.metadata.enabled)return el.createElement(e2.Tx,{id:"activity_log.event.ip_network_access_restriction_range_enable",ip_address:e.metadata.ip_address});return el.createElement(e2.Tx,{id:"activity_log.event.ip_network_access_restriction_range_disable",ip_address:e.metadata.ip_address});case"license_group_admins_add":return el.createElement(vT,{log:e});case"license_group_admins_remove":return el.createElement(vx,{log:e});case"license_group_create":return el.createElement(vC,{log:e});case"license_group_delete":return el.createElement(vN,{log:e});case"license_group_rename":return el.createElement(vk,{log:e});case"license_group_library_setting_change":return el.createElement(vd,{log:e});case"license_group_membership_change":return el.createElement(vS,{log:e});case"license_group_membership_self_select":return el.createElement(vI,{log:e});case"oauth_token_grant":if(e.metadata.app_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.oauth_token_grant",appName:el.createElement("b",null,e.metadata.app_name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.oauth_token_grant_unknown"}));case"oauth_token_revoke":if(e.metadata.app_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.oauth_token_revoke",appName:el.createElement("b",null,e.metadata.app_name)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.oauth_token_revoke_unknown"}));case"open_sessions_setting_change":return el.createElement("span",null,e.metadata.workshop_disabled?el.createElement(e2.Tx,{id:"activity_log.disabled_open_sessions_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}):el.createElement(e2.Tx,{id:"activity_log.enabled_open_sessions_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}));case"cursor_chat_setting_change":return el.createElement("span",null,e.metadata.cursor_chat_disabled?el.createElement(e2.Tx,{id:"activity_log.disabled_cursor_chat_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}):el.createElement(e2.Tx,{id:"activity_log.enabled_cursor_chat_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}));case"open_sessions_start":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.open_sessions_start",name:el.createElement("b",null,e.metadata.name)}));case"open_sessions_end":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.open_sessions_end",name:el.createElement("b",null,e.metadata.name)}));case"org_default_license_type_change":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_default_license_type_change.seat_rename",role:el.createElement("b",null,(0,hc.t)(e.metadata.new_paid_status)),product:el.createElement("b",null,(m=e.metadata.editor_type)===lm._Y.SLIDES||m===lm._Y.SITES?_[lm._Y.DESIGN]:_[m])}));case"org_guest_invite_setting_change":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_guest_invite_setting_change",guestSetting:el.createElement("b",null,(0,u5.W3)(e.metadata.guest_invite_setting))}));case"org_invite_create":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_invite_create",inviteeEmail:el.createElement("b",null,e.metadata.invitee_email),orgName:el.createElement("b",null,e.metadata.org_name)}));case"org_join_request_create":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_join_request_create",orgName:el.createElement("b",null,e.metadata.org_name),resourceName:el.createElement("b",null,e.metadata.resource_name)}));case"org_join_request_approve":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_join_request_approve",orgName:el.createElement("b",null,e.metadata.org_name),resourceName:el.createElement("b",null,e.metadata.resource_name),requesterEmail:el.createElement("b",null,e.metadata.requester_email)}));case"org_library_approve":return el.createElement(vl,{log:e});case"org_library_unapprove":return el.createElement(vi,{log:e});case"org_library_setting_change":return el.createElement(vn,{log:e});case"org_merge":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_merge",childOrgName:el.createElement("b",null,e.metadata.child_org_name),orgName:el.createElement("b",null,t)}));case"org_user_create":if(a===e.metadata.user_email)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_create_self",orgName:el.createElement("b",null,t),permission:el.createElement("b",null,(0,dP.z5)(e.metadata.permission))}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_create",orgName:el.createElement("b",null,t),permission:el.createElement("b",null,(0,dP.z5)(e.metadata.permission)),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"org_user_create_external":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_create_external",orgName:el.createElement("b",null,e.metadata.org_name)}));case"org_user_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_delete",userEmail:el.createElement("b",null,e.metadata.user_email),orgName:el.createElement("b",null,t)}));case"org_user_delete_external":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_delete_external",orgName:el.createElement("b",null,e.metadata.org_name)}));case"org_user_permission_change":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_permission_change",userEmail:el.createElement("b",null,e.metadata.user_email),orgName:el.createElement("b",null,t),permission:el.createElement("b",null,(0,dP.z5)(e.metadata.permission))}));case"personal_access_token_create":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.personal_access_token_create"}));case"personal_access_token_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.personal_access_token_delete"}));case"org_user_account_type_change":if(e.metadata.old_account_type)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:el.createElement("b",null,e.metadata.user_email),oldAccountType:el.createElement("b",null,(0,dP.$K)(e.metadata.old_account_type)),accountType:el.createElement("b",null,(0,dP.$K)(e.metadata.account_type)),product:el.createElement("b",null,(0,uU.E)(oX.oM.DESIGN))}));if(e.metadata.old_whiteboard_paid_status)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:el.createElement("b",null,e.metadata.user_email),oldAccountType:el.createElement("b",null,(0,dP.$K)(e.metadata.old_whiteboard_paid_status)),accountType:el.createElement("b",null,(0,dP.$K)(e.metadata.whiteboard_paid_status)),product:el.createElement("b",null,(0,uU.E)(oX.oM.WHITEBOARD))}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:el.createElement("b",null,e.metadata.user_email),oldAccountType:el.createElement("b",null,(0,dP.$K)(e.metadata.old_dev_mode_paid_status)),accountType:el.createElement("b",null,(0,dP.$K)(e.metadata.dev_mode_paid_status)),product:el.createElement("b",null,(0,uU.E)(oX.oM.DEV_MODE))}));case"org_user_account_type_change_to_full":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_change_to_full.seat_rename",role:el.createElement("b",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_change_to_full.editor.seat_rename"})),reason:vO(e.metadata.user_email,e.metadata)}));case"org_user_account_type_upgrade_requested":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_upgrade_requested",accountType:el.createElement("b",null,(0,dP.$K)(lm.El.FULL)),product:el.createElement("b",null,(0,uU.E)(e.metadata.editor_type))}));case"org_user_account_type_upgrade_approved":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_upgrade_approved",accountType:el.createElement("b",null,(0,dP.$K)(lm.El.FULL)),product:el.createElement("b",null,(0,uU.E)(e.metadata.editor_type)),userEmail:el.createElement("b",null,e.metadata.requested_user_email)}));case"org_user_account_type_upgrade_denied":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.org_user_account_type_upgrade_denied",accountType:el.createElement("b",null,(0,dP.$K)(lm.El.FULL)),product:el.createElement("b",null,(0,uU.E)(e.metadata.editor_type)),userEmail:el.createElement("b",null,e.metadata.requested_user_email)}));case"plugin_approvelist_enable":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_enable_org",org:el.createElement("b",null,t)}));case"plugin_approvelist_disable":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_disable_org",org:el.createElement("b",null,t)}));case"plugin_approvelist_add":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_add_org",pluginName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t)}));case"plugin_approvelist_remove":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_remove_org",pluginName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t)}));case"plugin_approvelist_add_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_add_workspace",pluginName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name)}));case"plugin_approvelist_remove_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_remove_workspace",pluginName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name)}));case"plugin_approvelist_request_org":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_request_org",plugin:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t)}));case"plugin_approvelist_request_approve_org":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_request_approve_org",pluginName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_reject_org":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_request_reject_org",pluginName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_approve_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_request_approve_workspace",pluginName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_reject_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_approvelist_request_reject_workspace",pluginName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"plugin_publisher_invite":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_publisher_invite",pluginName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"plugin_publisher_accept_invite":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_publisher_accept_invite",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"plugin_publisher_remove_invite":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_publisher_remove_invite",pluginName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"plugin_publisher_remove":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_publisher_remove",pluginName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_invite":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_publisher_invite",widgetName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_accept_invite":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_publisher_accept_invite",widgetName:el.createElement("b",null,e.metadata.plugin_name)}));case"widget_publisher_remove_invite":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_publisher_remove_invite",widgetName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_remove":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_publisher_remove",widgetName:el.createElement("b",null,e.metadata.plugin_name),userEmail:el.createElement("b",null,e.metadata.user_email)}));case"plugin_install":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_install",pluginName:e.metadata.plugin_name}));case"plugin_uninstall":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.plugin_uninstall",pluginName:e.metadata.plugin_name}));case"private_plugin_publish":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.private_plugin_publish",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"private_plugin_update":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.private_plugin_update",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"private_plugin_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.private_plugin_delete",pluginName:el.createElement("b",null,e.metadata.plugin_name)}));case"widgets_enabled":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_disable_org",org:el.createElement("b",null,t)}));case"widgets_disable":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_enable_org",org:el.createElement("b",null,t)}));case"widget_approvelist_add":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_add_org",widgetName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t)}));case"widget_approvelist_remove":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_remove_org",widgetName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t)}));case"widget_approvelist_add_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_add_workspace",widgetName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name)}));case"widget_approvelist_remove_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_remove_workspace",widgetName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name)}));case"widget_approvelist_request_org":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_request_org",widget:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t)}));case"widget_approvelist_request_approve_org":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_request_approve_org",widgetName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_approve_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_request_approve_workspace",widgetName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_reject_workspace":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_request_reject_workspace",widgetName:el.createElement("b",null,e.metadata.plugin_name),workspace:el.createElement("b",null,e.metadata.workspace_name),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_reject_org":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_approvelist_request_reject_org",widgetName:el.createElement("b",null,e.metadata.plugin_name),org:el.createElement("b",null,t),requesterName:el.createElement("b",null,e.metadata.requester_name)}));case"widget_install":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_install",widgetName:e.metadata.plugin_name}));case"widget_uninstall":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.widget_uninstall",widgetName:e.metadata.plugin_name}));case"private_widget_publish":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.private_widget_publish",widgetName:e.metadata.plugin_name}));case"private_widget_update":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.private_widget_update",widgetName:e.metadata.plugin_name}));case"private_widget_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.private_widget_delete",widgetName:e.metadata.plugin_name}));case"public_link_setting_change":case"workspace_public_link_setting_change":if(e.metadata.public_links_require_expiration)return function(e){let t="public_link_setting_change"===e.event_name?e.metadata.org_name:e.metadata.workspace_name,a=e.metadata.public_links_max_expiration_in_hours>=24;return e.metadata.public_links_require_password&&e.metadata.public_links_require_expiration?el.createElement("span",null,a?el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_require_expiration_and_password_for_the_blog_days_generic",resourceName:el.createElement("b",null,t),maxDays:e.metadata.public_links_max_expiration_in_hours/24}):el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_require_expiration_and_password_for_the_blog_hours_generic",resourceName:el.createElement("b",null,t),maxHours:e.metadata.public_links_max_expiration_in_hours})):el.createElement("span",null,a?el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_require_expiration_for_the_blog_days_generic",resourceName:el.createElement("b",null,t),maxDays:e.metadata.public_links_max_expiration_in_hours/24}):el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_require_expiration_for_the_blog_hours_generic",resourceName:el.createElement("b",null,t),maxHours:e.metadata.public_links_max_expiration_in_hours}))}(e);if("public_link_setting_change"===e.event_name)return el.createElement("span",null,e.metadata.public_links_banned?el.createElement(e2.Tx,{id:"activity_log.disabled_public_links_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}):e.metadata.public_links_require_password?el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_require_password_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}):el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_for_the_blog",orgName:el.createElement("b",null,e.metadata.org_name)}));return el.createElement("span",null,e.metadata.public_links_banned?el.createElement(e2.Tx,{id:"activity_log.disabled_public_links_for_the_blog_workspace",workspaceName:el.createElement("b",null,e.metadata.workspace_name)}):e.metadata.public_links_require_password?el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_require_password_for_the_blog_workspace",workspaceName:el.createElement("b",null,e.metadata.workspace_name)}):el.createElement(e2.Tx,{id:"activity_log.enabled_public_links_for_the_blog_workspace",workspaceName:el.createElement("b",null,e.metadata.workspace_name)}));case"saml_sso_auth_change":return el.createElement("span",null,e.metadata.saml_sso_setting?el.createElement(e2.Tx,{id:"activity_log.event.saml_sso_auth_enable"}):el.createElement(e2.Tx,{id:"activity_log.event.saml_sso_auth_disable"}));case"fig_file_member_add":case"file_repo_member_add":case"folder_member_add":case"team_member_add":{let t=e.metadata;if(t.user_email===a){if(t.level===oi.e6.OWNER)return null;return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.joined_the_resource_name_resource",resourceName:el.createElement("b",null,t.resource_name),resourceType:(0,ve.v)(t.resource_type)}))}return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.added_user_email_to_the_resource",userEmail:el.createElement("b",null,t.user_email),resourceName:el.createElement("b",null,t.resource_name),resourceType:(0,ve.v)(t.resource_type),level:el.createElement("b",null,(0,dP.q9)(t.level))}))}case"team_member_add_external":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.team_member_add_external",teamName:el.createElement("b",null,e.metadata.external_team_name)}));case"team_member_remove_external":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.team_member_remove_external",teamName:el.createElement("b",null,e.metadata.external_team_name)}));case"fig_file_member_remove":case"file_repo_member_remove":case"folder_member_remove":case"team_member_remove":if("folder"===e.metadata.resource_type&&!e.metadata.team_name&&!e.metadata.resource_name)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.removed_user_email_from_org_draft",userEmail:el.createElement("b",null,e.metadata.user_email)}));if(e.metadata.user_email===a)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.left_the_resource_name_resource",resourceName:el.createElement("b",null,e.metadata.resource_name),resourceType:(0,ve.v)(e.metadata.resource_type)}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.removed_user_email_from_the_resource",userEmail:el.createElement("b",null,e.metadata.user_email),resourceName:el.createElement("b",null,e.metadata.resource_name),resourceType:(0,ve.v)(e.metadata.resource_type)}));case"fig_file_member_permission_change":case"file_repo_member_permission_change":case"folder_member_permission_change":case"team_member_permission_change":{let t=e.metadata,a=(0,dP.q9)(t.old_level),r=(0,dP.q9)(t.level);return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.changed_user_email",userEmail:el.createElement("b",null,t.user_email),oldPermission:el.createElement("b",null,a),newPermission:el.createElement("b",null,r),resourceName:el.createElement("b",null,t.resource_name),resourceType:(0,ve.v)(t.resource_type)}))}case"team_create":{let a=(0,dP.ZP)()[e.metadata.org_access];return r&&(a=(0,dP.Db)(t)[e.metadata.org_access]),el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.created_the_team_name_team_with",teamName:el.createElement("b",null,e.metadata.team_name),orgAccess:el.createElement("b",null,a)}))}case"team_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.deleted_the_team_name_team",teamName:el.createElement("b",null,e.metadata.team_name)}));case"team_export":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.exported_the_team_name_team_out",teamName:el.createElement("b",null,e.metadata.team_name)}));case"team_import":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.imported_the_team_name_team_int",teamName:el.createElement("b",null,e.metadata.team_name)}));case"team_transfer_sent":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.requested_to_transfer_the_team",teamName:el.createElement("b",null,e.metadata.team_name),destinationOrg:el.createElement("b",null," ",e.metadata.destination_org_name," ")}));case"team_transfer_received":return el.createElement("span",null,e.metadata.source_org_name?el.createElement(e2.Tx,{id:"activity_log.teams.org_name_wants_to_transfer_team_name",orgName:el.createElement("b",null,e.metadata.source_org_name),teamName:el.createElement("b",null,e.metadata.team_name)}):el.createElement(e2.Tx,{id:"activity_log.teams.team_name_wants_to_transfer_their_team",teamName:el.createElement("b",null,e.metadata.team_name)}));case"team_transfer_approved":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.approver_name_approved_the_transfer_of_team_name_team",approverName:el.createElement("b",null,e.metadata.approver_name," "),teamName:el.createElement("b",null,e.metadata.team_name)}));case"team_restore":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.restored_the_team_name_team",teamName:el.createElement("b",null,e.metadata.team_name)}));case"team_rename":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.renamed_the_old_name_team",teamName:el.createElement("b",null,e.metadata.team_name),oldName:el.createElement("b",null,e.metadata.old_name)}));case"team_org_access_change":{let a=(0,dP.ZP)()[e.metadata.old_org_access],n=(0,dP.ZP)()[e.metadata.org_access];return r&&(a=(0,dP.Db)(t)[e.metadata.old_org_access],n=(0,dP.Db)(t)[e.metadata.org_access]),el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.changed_the__team_from_old_access",oldAccess:el.createElement("b",null,a),newAccess:el.createElement("b",null,n)}))}case"team_license_group_change":return el.createElement(vA,{log:e});case"team_workspace_change":return el.createElement(vy,{log:e});case"org_team_creation_controls":return e.metadata.new_team_creation_controls_setting===uW.$q.TEAM_CREATION_CONTROLS_ANYONE?el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.changed_team_creation_controls_to_anyone"})):el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.changed_team_creation_controls_to_admins_only"}));case"user_idle_session_timeout":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.session_timed_out"}));case"user_sign_in":if("saml_sso"===e.metadata.source)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.signed_in_saml"}));if("google_sso"===e.metadata.source)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.signed_in_google"}));if("password_authn"===e.metadata.source)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.signed_in_password"}));if("app_auth"===e.metadata.source)return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.signed_in_app_auth"}));return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.signed_in"}));case"user_sign_out":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.users.signed_out"}));case"voice_call_join_req":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.voice.joined_call_on_file_fig_file_key",figFileKey:el.createElement("b",null,e.metadata.fig_file_key)}));case"roster_exported":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.exported_the_members_list_to_csv"}));case"org_team_csv_exported":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.exported_the_org_team_list_to_csv"}));case"workspace_team_csv_exported":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.teams.exported_the_workspace_team_list_to_csv",workspaceName:el.createElement("b",null,e.metadata.workspace_name)}));case"scim_token_generate":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.scim_token_generate"}));case"scim_token_revoke":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.event.scim_token_revoke"}));case"repo_branch_create":return el.createElement("span",null,e.metadata.source_file_name?el.createElement(e2.Tx,{id:"activity_log.repo.created_branch_name_from_file_name",name:el.createElement("b",null,e.metadata.name),fileName:el.createElement("b",null,e.metadata.source_file_name)}):el.createElement(e2.Tx,{id:"activity_log.repo.created_branch_name",name:el.createElement("b",null,e.metadata.name)}));case"repo_merge_to_source":return el.createElement("span",null,e.metadata.source_file_name?el.createElement(e2.Tx,{id:"activity_log.repo.merged_branch_name_into_file_name",name:el.createElement("b",null,e.metadata.name),fileName:el.createElement("b",null,e.metadata.source_file_name)}):el.createElement(e2.Tx,{id:"activity_log.repo.merged_branch_name",name:el.createElement("b",null,e.metadata.name)}));case"repo_merge_from_source":return el.createElement("span",null,e.metadata.source_file_name?el.createElement(e2.Tx,{id:"activity_log.repo.updated_branch_name_from_file_name",name:el.createElement("b",null,e.metadata.name),fileName:el.createElement("b",null,e.metadata.source_file_name)}):el.createElement(e2.Tx,{id:"activity_log.repo.updated_branch_name",name:el.createElement("b",null,e.metadata.name)}));case"repo_branch_delete":return el.createElement("span",null,e.metadata.source_file_name?el.createElement(e2.Tx,{id:"activity_log.repo.deleted_branch_name_from_file_name",name:el.createElement("b",null,e.metadata.name),fileName:el.createElement("b",null,e.metadata.source_file_name)}):el.createElement(e2.Tx,{id:"activity_log.repo.deleted_branch_name",name:el.createElement("b",null,e.metadata.name)}));case"repo_branch_archive":return el.createElement("span",null,e.metadata.source_file_name?el.createElement(e2.Tx,{id:"activity_log.repo.archived_branch_name_from_file_name",name:el.createElement("b",null,e.metadata.name),fileName:el.createElement("b",null,e.metadata.source_file_name)}):el.createElement(e2.Tx,{id:"activity_log.repo.archived_branch_name",name:el.createElement("b",null,e.metadata.name)}));case"repo_branch_unarchive":return el.createElement("span",null,e.metadata.source_file_name?el.createElement(e2.Tx,{id:"activity_log.repo.unarchived_branch_name_from_file",name:el.createElement("b",null,e.metadata.name),fileName:el.createElement("b",null,e.metadata.source_file_name)}):el.createElement(e2.Tx,{id:"activity_log.repo.unarchived_branch_name",name:el.createElement("b",null,e.metadata.name)}));case"workspace_admins_add":return el.createElement(vm,{log:e});case"workspace_admins_remove":return el.createElement(vu,{log:e});case"workspace_create":return el.createElement(v_,{log:e});case"workspace_delete":return el.createElement(vp,{log:e});case"workspace_rename":return el.createElement(vg,{log:e});case"workspace_members_add":return el.createElement(vE,{log:e});case"workspace_members_remove":return el.createElement(vf,{log:e});case"workspace_member_add":return el.createElement(vh,{log:e});case"workspace_member_remove":return el.createElement(vv,{log:e});case"workspace_membership_self_select":return el.createElement(vb,{log:e});case"workspace_library_approve":return el.createElement(vs,{log:e});case"workspace_library_unapprove":return el.createElement(vo,{log:e});case"workspace_library_setting_change":return el.createElement(vc,{log:e});case"workspace_visibility_setting_change":return el.createElement(vw,{log:e});case"webhook_create":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.webhooks.webhooks_created",webhookEvent:el.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));case"webhook_delete":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.webhooks.webhooks_deleted",webhookEvent:el.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));case"webhook_update":return el.createElement("span",null,el.createElement(e2.Tx,{id:"activity_log.webhooks.webhooks_updated",webhookEvent:el.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));default:return console.warn(`${e.event_name} is an unknown event name.`),null}}function vM(e,t=!1){if(!["community_hub_file_publish","community_hub_file_update","community_hub_file_delete","fig_file_create","fig_file_duplicate","fig_file_link_access_change","fig_file_proto_link_access_change","fig_file_viewer_access_change","fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove","fig_file_move","fig_file_export","fig_file_permanent_delete","fig_file_permanent_undelete","fig_file_rename","fig_file_restore","fig_file_save_as","fig_file_set_password","fig_file_trash","fig_file_unset_password","fig_file_view","fig_file_view_prototype","repo_branch_archive","repo_branch_create","repo_branch_delete","repo_merge_to_source","repo_branch_unarchive","repo_merge_from_source","file_repo_member_add","file_repo_member_remove","file_repo_member_permission_change","org_user_account_type_change","org_user_account_type_change_to_full","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied","org_user_account_type_upgrade_requested"].includes(e.event_name))return"\u2013";{let a=null;return!e.metadata.editor_type||(a=(0,oX.px)(e.metadata.editor_type))||(0,iA.$D)(o$.e.SCALE,Error(`Unexpected editor_type '${e.metadata.editor_type}' encountered in event '${e.event_name}'`),{tags:{id:e.id}}),t&&a===oX.oM.DEV_MODE&&(a=oX.oM.DESIGN),a?(0,uU.E)(a):(0,uU.E)(oX.oM.DESIGN)}}function vP(e){let t=!!e.hideIpColumn,a=!fK(e.org),r=e=>e.is_idp_action?(0,e2.t)("activity_log.actor.scim_provider"):e.is_figma_admin_action?(0,e2.t)("activity_log.actor.figma_support"):e.actor?e.actor.email?e.actor.name:(0,e2.t)("activity_log.actor.deleted_user"):(0,e2.t)("activity_log.actor.anonymous_user"),n=e=>e.is_figma_admin_action||!e.actor?null:e.actor.email?e.actor.email:e.actor.id.toString();return el.createElement("div",{className:"activity_logs_table--table--ogxW7"},e.logs.map(l=>{var i;let s=vF(l,e.org.name,n(l),e.scTeamExperienceEnabled);if(s)return el.createElement(va.Hj,{key:l.id,className:"activity_logs_table--row--p3gUi",useAdminTableStyles:!0},el.createElement("div",{className:"activity_logs_table--dateColumn--UxT90 activity_logs_table--date--TBO0x activity_logs_table--_columnVertical--QN693"},el.createElement("div",null,(0,dq.A)(l.created_at).format("MMM D, YYYY")),el.createElement("div",{className:vR},(0,dq.A)(l.created_at).format("h:mma"))),!l.is_figma_admin_action&&(null==(i=l.actor)?void 0:i.email)?el.createElement("div",{className:vL},el.createElement(uX,{className:"activity_logs_table--avatarWithHandle--bfcoF admin_settings_page--avatarWithHandle--7e9O9 ellipsis--ellipsis--Tjyfa",dispatch:e.dispatch,entity:{id:l.actor.id,name:l.actor.name,email:l.actor.email,img_url:l.actor.img_url},showTooltip:!0,size:24})):el.createElement("div",{className:vL},el.createElement("div",null,r(l)),el.createElement("div",{className:vR},n(l))),el.createElement("div",{className:"activity_logs_table--eventDescriptionColumn--Vym3V"},s),el.createElement("div",{className:"activity_logs_table--productColumn--5g20E"},vM(l,a)),el.createElement("div",{className:"activity_logs_table--teamColumn--3HROl"},l.metadata.team_name||"\u2013"),!t&&el.createElement("div",{className:"activity_logs_table--ipColumn--1N0HY"},l.ip_address))}))}let vB="recent_activity_modal--emptyModalState--e3KJw",vU="recent_activity_modal--headerRow--eLyMw",vW="recent_activity_modal--tableRow--jD3OM",vV="recent_activity_modal--columnUpgradeEvent--cIffc table--column--974RA",vG="recent_activity_modal--columnDate--OqtW1 table--column--974RA",v$="recent_activity_modal--columnEvent--RZTlQ table--column--974RA",vj="recent_activity_modal--columnTeam--NPY8O table--column--974RA",vH="recent_activity_modal--columnIp---cwX1 table--column--974RA",vq="recent_activity_modal--columnProduct--Mkj02 table--column--974RA";function vY(e){return el.createElement("div",{style:{height:e.height}})}function vz(e){var t;let a=vO(e.displayName,e.upgradeReason),r=oZ.JT.dict(e=>{switch(e){case oX.oM.DESIGN:return(0,e2.t)("recent_activity_modal.figma_design");case oX.oM.WHITEBOARD:return(0,e2.t)("recent_activity_modal.fig_jam");case oX.oM.DEV_MODE:return(0,e2.t)("recent_activity_modal.dev_mode");default:(0,eh.xb)(e)}});return e.upgradeReason&&a?el.createElement("div",{key:`${e.upgradeReason.editor_type}-upgrade-event`,className:vW},el.createElement("div",{className:vG},el.createElement("span",null,el.createElement(e2.Tx,{id:"recent_activity_modal.upgrade_reason_created_at",creationDate:(0,dq.A)(e.upgradeReason.created_at).toDate()}))),el.createElement("div",{className:vV},a),el.createElement("div",{className:vq},e.upgradeReason.editor_type?(t=e.upgradeReason.editor_type)===lm._Y.SLIDES||t===lm._Y.SITES?r[lm._Y.DESIGN]:r[t]:"\u2013")):el.createElement(el.Fragment,null)}function vK(e){let t=e.user.handle||e.user.name||"",a=oZ.JT.excludeUnlessFlag([oX.oM.DEV_MODE],"billing_dev_mode_customer_ui"),r=a.withSuffix("_paid_status").dict(t=>e.orgUser[t]===lm.El.FULL),n=a.withSuffix("_upgrade_reason").dict(t=>e.orgUser[t]),l=a.toArray().some(e=>r[e]&&n[e]);return el.createElement("div",null,l&&el.createElement(el.Fragment,null,el.createElement(vY,{height:16}),el.createElement("div",{className:"recent_activity_modal--recentActivityTable--OpIag"},el.createElement("div",{className:vU},el.createElement("div",{className:vG},el.createElement(e2.Tx,{id:"column_header.upgrade_date"})),el.createElement("div",{className:vV},el.createElement(e2.Tx,{id:"column_header.event"})),el.createElement("div",{className:vq},el.createElement(e2.Tx,{id:"column_header.product"}))),el.createElement("div",null,a.map(e=>r[e]?el.createElement(vz,{key:`${e}-upgrade-event`,upgradeReason:n[e],displayName:t}):null)))),e.children)}let vJ=(0,e8.kp)(function(e){let t=!fK(e.org);return e.activityLogs?((0,eh.KF)(!!(e.user.handle||e.user.name),"Expected a user object with a handle or name"),0===e.activityLogs.length)?el.createElement(vK,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},el.createElement("div",{className:vB},el.createElement(e2.Tx,{id:"recent_activity_modal.no_activity_found"}))):el.createElement(vK,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},el.createElement("div",null,el.createElement(vY,{height:16}),el.createElement("div",{className:"recent_activity_modal--activityTable--IFH-e recent_activity_modal--recentActivityTable--OpIag"},el.createElement("div",{className:vU},el.createElement("div",{className:vG},el.createElement(e2.Tx,{id:"column_header.event_date"})),el.createElement("div",{className:v$},el.createElement(e2.Tx,{id:"column_header.event"})),el.createElement("div",{className:vq},el.createElement(e2.Tx,{id:"column_header.product"})),el.createElement("div",{className:vj},el.createElement(e2.Tx,{id:"column_header.team"})),el.createElement("div",{className:vH},el.createElement(e2.Tx,{id:"column_header.ip_address"}))),el.createElement("div",null,e.activityLogs.map(a=>el.createElement("div",{key:a.id,className:vW},el.createElement("div",{className:vG},el.createElement("span",null,el.createElement(e2.Tx,{id:"recent_activity_modal.activity_log_created_at",creationDate:(0,dq.A)(a.created_at).toDate()})),el.createElement("span",{className:"recent_activity_modal--secondaryText--we-4I"},el.createElement(e2.Tx,{id:"recent_activity_modal.activity_log_created_at_time",creationDate:(0,dq.A)(a.created_at).toDate()}))),el.createElement("div",{className:v$},vF(a,e.org.name,e.user.email||"",(0,h9.D)(null,e.org.id))),el.createElement("div",{className:vq},vM(a,t)),el.createElement("div",{className:vj},el.createElement("span",null,a.metadata.team_name||"\u2013")),el.createElement("div",{className:vH},a.ip_address))))))):el.createElement(vK,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},el.createElement("div",{className:vB},el.createElement(t7.kt,null)))},"Recent Activity Tab");(0,rr.Ju)(vJ,"RecentActivityModal");var vQ=((u=vQ||{}).ACTIVITY_LOG="activity_log",u.GUEST_ACCESS="guest_access",u);class vZ extends hx.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:"member_modal--baseTab--Q7kGE",selected:"member_modal--selectedTab--A6S3L member_modal--baseTab--Q7kGE"}),this.applyDefaultStyles=()=>!0}}let vX=(0,ei.Ng)(e=>({dropdownShown:e.dropdownShown,viewingUserId:e.user.id}))(function(e){let t=(0,ei.wA)(),[a,r]=el.useState(e.selectedTab),[n,l]=el.useState(null),i=(0,ei.d4)(e=>e.selectedView);el.useEffect(()=>{hq.J.getRecent({orgUserId:e.orgUser.id}).then(e=>{l(e.data.meta.activity_logs)}).catch(e=>{var a;t(ae.s.error((null==(a=e.data)?void 0:a.message)||"An error occurred while fetching recent activity.")),console.error("Unable to load recent activity",e)})},[t,e.orgUser.id]);let s=e=>{r(e)};return(0,e8.T8)(el.createElement(lD.XV,{maxWidth:740,minWidth:740,onClose:()=>{t(t3.Ce())},title:(()=>{let t=e.orgUser.permission===lm._D.GUEST;return el.createElement("div",{className:"member_modal--tabs--u4uw-"},el.createElement(vZ,{tab:"activity_log",selectedTab:a,key:"activity_log",onClick:s},el.createElement(e2.Tx,{id:"members_tab.member_modal.recent_activity_tab"})),t&&el.createElement(vZ,{tab:"guest_access",selectedTab:a,key:"guest_access",onClick:s},el.createElement(e2.Tx,{id:"members_tab.member_modal.guest_access_tab"})))})()},el.createElement(h6,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType}),el.createElement("div",{className:"member_modal--content--jAL2Z"},(()=>{switch(a){case"activity_log":return el.createElement(vJ,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,org:e.org,onClose:e.onClose,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,activityLogs:n});case"guest_access":return el.createElement(h5,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,org:e.org,onChangeAccountType:e.onChangeAccountType})}})()),el.createElement("div",{className:"member_modal--footer--Q4QXZ"},(0,fJ.fK)(i.view)&&el.createElement(el.Fragment,null,el.createElement(eT.tM,{className:"member_modal--moreActivityButton--s1q7s",onClick:e.onRemoveUser},el.createElement(e2.Tx,{id:"members_tab.member_modal.remove_user_button"})),el.createElement(eT.vd,{onClick:()=>{let a;if(n&&n.length){let e=n[n.length-1].created_at;a=(0,dq.A)(e).subtract(3,"months").toString()}t(t3.Ce()),t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.ACTIVITY,activityTabInitialEmail:e.user.email,activityTabInitialStartTime:a}))}},el.createElement(e2.Tx,{id:"members_tab.member_modal.see_full_activity_button"}))))),"Guest Management Modal",{viewingUserId:e.viewingUserId,guestUserId:e.user.id,guestOrgUserId:e.orgUser.id,currentOrgId:e.orgUser.org_id})});vX.displayName="OrgMemberModal";let v0=(0,rr.Ju)(vX,"OrgMemberModal"),v1="last_edit_modal--emptyModalState--0pN7d",v2="last_edit_modal--columnProduct--CEW-1 table--column--974RA",v4="last_edit_modal--columnFile--DIwCp table--column--974RA",v3="last_edit_modal--emptyCell---QSQG",v8="last_edit_modal--columnLastEdit--vsyDv table--column--974RA";function v5(e){return el.createElement("div",{key:`last-${e.editor_type}-edit-${e.user.id}`,className:"last_edit_modal--tableRow--j1xy-"},el.createElement("div",{className:v2},el.createElement("span",null,(0,uU.E)((0,oX.vc)(e.editor_type)))),(()=>{if(!e.editActivity)return el.createElement("div",{className:v4},el.createElement("span",{className:v3},"\u2013"));if(e.editActivity.can_view)return el.createElement("div",{className:v4},el.createElement(eT.N_,{className:"last_edit_modal--columnFileAccessible--Q2aig last_edit_modal--columnFile--DIwCp table--column--974RA",onClick:()=>{e.editActivity&&e.editActivity.file_key&&(e.dispatch(aC.$T({view:"fullscreen",fileKey:e.editActivity.file_key,editorType:(0,ne.wN)(e.editor_type)})),e.dispatch(t3.Ce()))},trusted:!0},e.editActivity.file_name));{let t=`file_tooltip_inaccessible_${e.editor_type}`,a=(0,e2.t)("members_tab.last_edit_modal.inaccessible_text");return el.createElement("div",{className:v4,"data-tooltip-proxy-element-id":t},el.createElement("div",{id:t,className:"last_edit_modal--inaccessibleFile--HBxZf","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":a},e.editActivity.file_name))}})(),el.createElement("div",{className:v8},e.editActivity?el.createElement(lI.h1,{capitalize:!0,date:e.actionAt}):el.createElement("span",{className:v3},"\u2013")))}let v6=(0,ei.Ng)(e=>({viewingUserId:e.user.id}))(function(e){let t=(0,ei.wA)(),[a,r]=el.useState({}),[n,l]=el.useState(!1);el.useEffect(()=>{l(!0),hq.J.getLastEdit({orgUserId:e.orgUser.id}).then(e=>{r(e.data.meta)}).catch(e=>{var a;t(ae.s.error((null==(a=e.data)?void 0:a.message)||(0,e2.t)("members_tab.last_edit_modal.error_fetching_edits"))),console.error("Unable to load latest edits",e)}).finally(()=>l(!1))},[t,e.orgUser.id]);let i=e.user.handle||e.user.name;(0,eh.KF)(!!i,"Expected a user object with a handle or name");let s=i?(0,e2.t)("members_tab.last_edit_modal.title_with_name",{publicName:i}):(0,e2.t)("members_tab.last_edit_modal.title_generic");return el.createElement(e8.fu,{name:"Org Last Edit Modal",properties:{viewingUserId:e.viewingUserId,currentOrgId:e.orgUser.org_id}},el.createElement(lD.XV,{maxWidth:442,minWidth:442,onClose:()=>{t(t3.Ce())},title:s},el.createElement("div",{className:"last_edit_modal--modalBody--V6kPv"},(()=>{if(n)return el.createElement("div",{className:v1},el.createElement(t7.kt,null));if(!e.lastDesignEdit&&!e.lastWhiteboardEdit)return el.createElement("div",{className:v1},el.createElement(e2.Tx,{id:"members_tab.last_edit_modal.no_activity"}));let r=e.lastDesignEdit&&(0,o2._3)(e.lastDesignEdit)?e.lastDesignEdit.action_at:e.lastDesignEdit,l=e.lastWhiteboardEdit&&(0,o2._3)(e.lastWhiteboardEdit)?e.lastWhiteboardEdit.action_at:e.lastWhiteboardEdit;return el.createElement("div",{className:"last_edit_modal--lastEditTable--0exPw"},el.createElement("div",{className:"last_edit_modal--headerRow---jReW"},el.createElement("div",{className:v2},el.createElement(e2.Tx,{id:"members_tab.last_edit_modal.product_column_header"})),el.createElement("div",{className:v4},el.createElement(e2.Tx,{id:"members_tab.last_edit_modal.file_column_header"})),el.createElement("div",{className:v8},el.createElement(e2.Tx,{id:"members_tab.last_edit_modal.last_edit_column_header"}))),el.createElement(v5,{user:e.user,editor_type:lm._Y.DESIGN,actionAt:e.lastDesignEdit&&r||"\u2013",editActivity:a.design_file,dispatch:t}),el.createElement(v5,{user:e.user,editor_type:lm._Y.WHITEBOARD,editActivity:a.whiteboard_file,actionAt:e.lastWhiteboardEdit&&l||"\u2013",dispatch:t}))})())))});v6.displayName="LastEditModal";let v9=(0,rr.Ju)(v6,"LastEditModal");var v7=a(303159),be=a(692665);let bt="members_table--avatarColumn--wIwso members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",ba="members_table--editorRoleColumn--jojHH members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",br="members_table--columnMargin--DrBfe",bn="members_table--lockedAccountType--h-S1B members_table--columnMargin--DrBfe",bl="members_table--secondaryAccountType--zYSzk members_table--columnMargin--DrBfe",bi="members_table--accountTypeSubtitle--jgUQM",bs="members_table--menuIcon--VqOqK admin_settings_page--menuIcon--Bx2JO",bo="members_table--permissionSelector--BXoRv",bc="members_table--permissionSelectorDisabled--q0c-n",bd="members_table--dropdown--z9bxW admin_settings_page--dropdown---eJDX",bm="members_table--avatarWithHandle--Iqs4y admin_settings_page--avatarWithHandle--7e9O9 ellipsis--ellipsis--Tjyfa",bu="members_table--batchActionsDropdownSelector--RWJzJ",b_="members_table--link--0oG5r admin_settings_page--link--PfcO5 blue_link--blueLink--9rlnd",bp="members_table--secondaryText--B-BXI",bg="members_table--dropdownColumn--P90T0 multi_select_list--dropdownColumn--n-MKQ table--column--974RA",bE="members_table--textWithTooltip--TrVEN";function bf(e){var t,a;let r=(0,ei.wA)(),{orgUser:n,areDropdownsDisabled:l,onChangeLicenseGroup:i}=e,s=`LICENSE_GROUP_DROPDOWN-${n.user.email}`,o=e.groupsCanMoveUserTo.map(e=>({type:"option",key:e.id,text:(0,ac.EJ)(e.name,75)}));return o.push({type:"separator",key:"separator"}),o.push({type:"option",key:"",text:(null==(t=n.license_group_member)?void 0:t.license_group_id)?(0,e2.t)("members_table.license_group_cell.unassign"):(0,e2.t)("license_group.unassigned")}),el.createElement(el.Fragment,null,l&&el.createElement("div",{className:br}),el.createElement("div",{className:l?be.eh:bg},el.createElement("div",{className:l?bc:bo},el.createElement(v7.H,{dispatch:r,dropdownShown:e.dropdownShown,value:(null==(a=n.license_group_member)?void 0:a.license_group_id)??"",options:o,onChange:e=>{i([n.id],e)},id:s,disabled:l}))))}var bh=a(787337);let bv=(e,t)=>{let a=[{type:"option",key:lm.El.FULL,text:(0,hc.t)(lm.El.FULL),selectedLabel:t?el.createElement(bN,null):(0,hc.t)(lm.El.FULL)}];return e===lm.El.STARTER&&a.push({type:"option",key:lm.El.STARTER,text:(0,hc.t)(lm.El.STARTER)}),a.push({type:"option",key:lm.El.RESTRICTED,text:(0,hc.t)(lm.El.RESTRICTED)}),a},bb=e=>{var t;return(0,ac.Ay)((0,lS.zN)((null==(t=e.user)?void 0:t.email)??"")??"")};function by(e){let t=(0,ei.wA)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:l}=e,i=n?el.createElement(bN,null):(0,hc.t)(a.design_paid_status);if(a.scim_account_type)return el.createElement(bk,{label:i,icon:bh.A,tooltipText:(0,e2.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return el.createElement(bk,{label:i,icon:lq.A,tooltipText:(0,e2.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:bb(a)})});let s=e.source?`ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return el.createElement("div",null,r&&el.createElement("div",{className:br}),el.createElement("div",{className:r?be.eh:bg},el.createElement("div",{className:r?bc:bo},el.createElement(v7.H,{dispatch:t,dropdownShown:e.dropdownShown,value:a.design_paid_status,options:bv(a.design_paid_status,n),onChange:e=>{l([a.id],oX.lM.DESIGN,e)},id:s,disabled:r}))))}function bw(e){let t=(0,ei.wA)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:l}=e,i=n?el.createElement(bN,null):(0,hc.t)(a.whiteboard_paid_status);if(a.scim_whiteboard_paid_status)return el.createElement(bk,{label:i,icon:bh.A,tooltipText:(0,e2.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return el.createElement(bk,{label:i,icon:lq.A,tooltipText:(0,e2.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:bb(a)})});let s=e.source?`FIGJAM_ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`FIGJAM_ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return el.createElement("div",null,r&&el.createElement("div",{className:br}),el.createElement("div",{className:r?be.eh:bg},el.createElement("div",{className:r?bc:bo},el.createElement(v7.H,{dispatch:t,dropdownShown:e.dropdownShown,value:a.whiteboard_paid_status,options:bv(a.whiteboard_paid_status,n),onChange:e=>{l([a.id],oX.lM.FIGJAM,e)},id:s,disabled:r}))))}function bT(e){let t=(0,ei.wA)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:l,cannotOptInToDevMode:i}=e;function s(){return el.createElement("div",{className:bi,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("members_table.dev_mode_cell.included_with_design_tooltip"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev_mode-included-with-design-tooltip"},(0,hc.t)(lm.El.FULL))}if(!(0,em.kc)().billing_dev_mode_customer_ui){let e=a.dev_mode_paid_status===lm.El.FULL||a.design_paid_status===lm.El.FULL?lm.El.FULL:lm.El.RESTRICTED;return e!==lm.El.FULL&&a.is_dev_mode_beta_user?el.createElement("div",{className:bl,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("members_table.dev_mode_cell.beta_user_needs_upgrade"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev-mode-beta-needs-upgrade-tooltip"},el.createElement("div",{className:"members_table--devModeIcon--yzntD"},el.createElement(n0.In,{icon:"file-devmode-16-file-type"})),(0,e2.t)("members_table.beta_participant")):el.createElement(el.Fragment,null,el.createElement("div",{className:bl},a.design_paid_status===lm.El.FULL?s():(0,hc.t)(e)))}if(a.design_paid_status===lm.El.FULL)return el.createElement("div",{className:bn},s());let o=n?el.createElement(bN,null):(0,hc.t)(a.dev_mode_paid_status);if(a.scim_dev_mode_paid_status)return el.createElement(bk,{label:o,icon:bh.A,tooltipText:(0,e2.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return el.createElement(bk,{label:o,icon:lq.A,tooltipText:(0,e2.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:bb(a)})});let c=a.dev_mode_paid_status===lm.El.RESTRICTED&&i?(0,e2.t)("members_table.dev_mode.requires_org_admin_opt_in"):"",d=e.source?`DEV_MODE_ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`DEV_MODE_ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":c,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev-mode-role-cell"},r&&el.createElement("div",{className:br}),el.createElement("div",{className:r?be.eh:bg},el.createElement("div",{className:r?bc:bo},el.createElement(v7.H,{dispatch:t,dropdownShown:e.dropdownShown,value:a.dev_mode_paid_status,options:bv(a.dev_mode_paid_status,n),onChange:e=>{l([a.id],oX.lM.DEV_MODE,e)},id:d,disabled:r}),a.dev_mode_paid_status===lm.El.RESTRICTED&&a.is_dev_mode_beta_user&&el.createElement("div",{className:bi},(0,e2.t)("members_table.beta_participant")))))}function bx(e){let{idpUser:t,paidStatus:a}=e;return a&&!t.isOrgInvite?el.createElement(bk,{label:(0,hc.t)(a),icon:bh.A,tooltipText:(0,e2.t)("members_table.role_idp_tooltip.seat_rename")}):el.createElement("div",{className:br},el.createElement(bC,null))}function bC(){return el.createElement(el.Fragment,null,"\u2013")}function bN(){return el.createElement(el.Fragment,null,(0,hc.t)(lm.El.FULL),el.createElement(oj.Ex,{className:"members_table--badgeNew--DiMx2",color:oj.zE.SUCCESS,subtle:!0,text:(0,e2.t)("members_table.badge_new")}))}function bk(e){return el.createElement("div",{className:bn},e.label,el.createElement(eC.B,{className:"members_table--lockIcon--NX2xZ",svg:e.icon,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}))}function bS(e){var t;let a=(0,ei.wA)(),{orgUser:r,areDropdownsDisabled:n,onChangeWorkspace:l}=e,i=`WORKSPACE_DROPDOWN-${r.user.email}`,s=e.workspacesCanMoveTo.map(e=>({type:"option",key:e.id,text:(0,ac.EJ)(e.name,75)}));return s.push({type:"separator",key:"separator"}),s.push({type:"option",key:"",text:(0,o2.Ad)(r)?(0,e2.t)("members_table.workspace_cell.unassign"):(0,e2.t)("workspace.unassigned")}),el.createElement(el.Fragment,null,n&&el.createElement("div",{className:br}),el.createElement("div",{className:n?be.eh:bg},el.createElement("div",{className:n?bc:bo},el.createElement(v7.H,{dispatch:a,dropdownShown:e.dropdownShown,value:(null==(t=(0,o2.Ad)(r))?void 0:t.workspace_id)??"",options:s,onChange:e=>{l([r.id],e)},id:i,disabled:n}))))}function bI(e){return"orgUser"in e&&void 0!==e.orgUser}let bA=(e,t)=>(t||(t=oX.oM.DESIGN),e[ho.L_[(0,oX.Td)(t)]]===lm.El.FULL);function bL(){return el.createElement(el.Fragment,null,"\u2013")}function bR(e,t){var a,r,n;let l;switch(t){case oX.oM.DESIGN:l=null==(a=e.design_upgrade_reason)?void 0:a.created_at;break;case oX.oM.WHITEBOARD:l=null==(r=e.whiteboard_upgrade_reason)?void 0:r.created_at;break;case oX.oM.DEV_MODE:l=null==(n=e.dev_mode_upgrade_reason)?void 0:n.created_at;break;default:(0,eh.xb)(t)}return l??e.account_type_changed_at}let bO=e=>(e&&(0,o2._3)(e)?e.action_at:e)||void 0,bD=(e,t)=>null===t?e.last_seen||void 0:bO(e[oZ.JT.withPrefix("last_").withSuffix("_seen").dict()[t]]),bF=(e,t)=>t===oX.oM.DESIGN?bO(e.last_design_edit):t===oX.oM.WHITEBOARD?bO(e.last_whiteboard_edit):e.last_edit||void 0;function bM(e){return bI(e)?e.orgUser.scim_metadata?e.orgUser.scim_metadata[e.org.featured_scim_metadata]:void 0:e.idpUser.scim_metadata?e.idpUser.scim_metadata[e.org.featured_scim_metadata]:void 0}function bP(e){let t=[];return e.orgUser.design_paid_status===lm.El.FULL&&t.push(el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("add_unassigned_members_modal.design_file_icon.tooltip.seat_rename"),key:`design-file-icon-${e.orgUser.id}`},el.createElement(n0.In,{icon:"file-design-16-file-type",dataTestId:`design-file-icon-${e.orgUser.id}`}))),(0,ho.x0)(e.orgUser,oX.lM.DEV_MODE)===lm.El.FULL&&t.push(el.createElement("div",{key:`devmode-file-icon-${e.orgUser.id}`,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("add_unassigned_members_modal.dev_mode_file_icon.tooltip")},el.createElement(n0.In,{icon:"file-devmode-16-file-type",dataTestId:`devmode-file-icon-${e.orgUser.id}`}))),e.orgUser.whiteboard_paid_status===lm.El.FULL&&t.push(el.createElement("div",{key:`figjam-file-icon-${e.orgUser.id}`,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("add_unassigned_members_modal.whiteboard_file_icon.tooltip.seat_rename")},el.createElement(n0.In,{icon:"file-figjam-16-file-type",dataTestId:`figjam-file-icon-${e.orgUser.id}`}))),el.createElement(nX.Y,{spacing:4},t)}function bB(e){if(!bI(e)){let t=e.idpUser.isOrgInvite?(0,e2.t)("members_table.org_user_name_cell.pending_badge"):(0,e2.t)("members_table.org_user_name_cell.pending_scim_badge");return el.createElement(uX,{className:bm,defaultText:"",dispatch:e.dispatch,entity:e.idpUser,showTooltip:!0,size:24,badge:{color:oj.zE.DEFAULT,text:t}})}let t=e.isMe;return el.createElement(bU,{orgUser:e.orgUser,dispatch:e.dispatch,isMe:t})}function bU({orgUser:e,dispatch:t,isMe:a}){let r=(0,o2.t5)(e);return el.createElement(uX,{className:bm,dispatch:t,entity:e.user,showIsMe:a,showTooltip:!0,size:24,badge:r,isScimUser:!!e.scim_metadata})}function bW({hideTooltip:e,item:t,upgradeTimestamp:a,upgradeReason:r,children:n}){let l=vD(t.orgUser.user.handle||t.orgUser.user.name||"",r);if(e||!a||!l)return el.createElement(el.Fragment,null,n);let i=(0,e2.t)("members_table.user_upgrade_reason_and_date.tooltip",{upgradeReason:l,upgradeDate:new Date(a)});return el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":i,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":ui},n)}function bV(e,t,a){if(!t)return;let r=vD(e.orgUser.user.handle||e.orgUser.user.name||"",a);return r?el.createElement("div",{className:bp,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":ui},el.createElement(e2.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(t)})):el.createElement("div",{className:bp},el.createElement(e2.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(t)}))}function bG(e){var t;let a=`MENU_DROPDOWN-${e.idpUser.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a;return el.createElement(uj.Ve,{className:be.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},el.createElement(eC.B,{svg:nf.A,className:bs}),r&&el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:bd,style:e.dropdownShown.data.position},el.createElement(dB.W.Option,{onClick:()=>{e.dispatch(hN.MB({emails:[e.idpUser.email],accountType:e.idpUser.account_type,isResentInvite:!0}))}},el.createElement(e2.Tx,{id:"members_table.org_invite_menu.resend_invite"})),el.createElement(dB.W.Option,{onClick:e.onCopyEmail},el.createElement(e2.Tx,{id:"members_table.org_invite_menu.copy_email"})),el.createElement(dB.W.Separator,null),el.createElement(dB.W.Option,{onClick:()=>{e.dispatch(hN.Fb({idpUser:e.idpUser}))}},el.createElement(e2.Tx,{id:"members_table.org_invite_menu.remove"}))))}function b$(e){var t;let a=`MENU_DROPDOWN-${e.idpUser.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a;return el.createElement(uj.Ve,{className:be.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},el.createElement(eC.B,{svg:nf.A,className:bs}),r&&el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:bd,style:e.dropdownShown.data.position},el.createElement(dB.W.Option,{onClick:e.onCopyEmail},el.createElement(e2.Tx,{id:"members_table.scim_menu.copy_email"}))))}function bj(e){var t;let a=`MENU_DROPDOWN-${e.orgUser.user.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a,n=e.orgUser.permission===lm._D.ADMIN,l=e.orgUser.permission===lm._D.MEMBER,i=t=>()=>{e.dispatch((0,t3.to)({type:v0,data:{user:e.orgUser.user,orgUser:e.orgUser,org:e.org,onClose:()=>e.dispatch(t3.Ce()),onRemoveUser:()=>{e.onDelete([e.orgUser.id])},selectedTab:t,onChangeAccountType:e.onChangeAccountType}}))},s=i(vQ.ACTIVITY_LOG),o=i(vQ.GUEST_ACCESS);return el.createElement(uj.Ve,{className:be.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},el.createElement(eC.B,{svg:nf.A,className:bs}),r&&el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:bd,style:e.dropdownShown.data.position},el.createElement(el.Fragment,null,el.createElement(dB.W.Option,{onClick:s},el.createElement(e2.Tx,{id:"members_table.org_user_menu.view_user_activity"})),e.orgUser.permission===lm._D.GUEST&&!1!==e.orgUser.is_email_validated&&el.createElement(dB.W.Option,{onClick:o},el.createElement(e2.Tx,{id:"members_table.org_user_menu.view_guest_access"}))),!!e.orgUser.user.email&&el.createElement(dB.W.Option,{onClick:e.onCopyEmail},el.createElement(e2.Tx,{id:"members_table.org_user_menu.copy_email"})),!e.orgUser.is_email_validated&&el.createElement(dB.W.Option,{onClick:()=>{e.onResendVerification([e.orgUser.id])}},el.createElement(e2.Tx,{id:"members_table.org_user_menu.resend_verification"})),!e.isMe&&(0,fJ.PI)(e.selectedViewName)&&el.createElement(el.Fragment,null,n&&el.createElement(dB.W.Option,{onClick:()=>{e.onChangeMemberPermission({id:e.orgUser.id,org_id:e.org.id,updated_at:e.orgUser.updated_at,permission:lm._D.MEMBER},e.dispatch,e.queueFilterCountsRefetch)},disabled:null!=e.orgUser.scim_is_admin},el.createElement(e2.Tx,{id:"members_table.org_user_menu.revoke_admin_access"})),l&&el.createElement(dB.W.Option,{onClick:()=>{e.onChangeMemberPermission({id:e.orgUser.id,org_id:e.org.id,updated_at:e.orgUser.updated_at,permission:lm._D.ADMIN},e.dispatch,e.queueFilterCountsRefetch)},disabled:null!=e.orgUser.scim_is_admin},el.createElement(e2.Tx,{id:"members_table.org_user_menu.grant_admin_access"}))),!e.isMe&&el.createElement(el.Fragment,null,el.createElement(dB.W.Separator,null),el.createElement(dB.W.Option,{onClick:()=>{e.onDelete([e.orgUser.id])}},el.createElement(e2.Tx,{id:"members_table.org_user_menu.remove"})))))}let bH="BATCH_CHANGE_ROLE_DROPDOWN";function bq({selectedItems:e,orgUsersCurrentlyLoading:t,moreOrgUsersToFetch:a,loadingSelectableUsers:r,selectedAll:n,totalSelectableOrgUsers:l,rowItems:i,selectableOrgUsers:s}){let o=null,c=null,d=e.map(e=>e.orgUser),m=d.map(e=>e.id),u=new Set(m),_=m;if(n&&null===l)return el.createElement(nX.Y,null,el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER,dataTestId:"loading-unassigned-select-all"}));let p=!1;if(n&&null!==l&&(p=t||a),p&&r)return el.createElement(nX.Y,null,el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER,dataTestId:"loading-unassigned-select-all"}));if(p){let e=new Set(i.map(e=>e.orgUser).map(e=>e.id).filter(e=>!u.has(e)));_=s.filter(t=>!e.has(t.id)).map(e=>e.id)}let g=(e,t)=>el.createElement("div",{className:"add_unassigned_members_modal--avatarPile--rJ86G"},el.createElement("div",{className:"add_unassigned_members_modal--user1--tV7Tv add_unassigned_members_modal--userBase--6lin9"},el.createElement(hH.H,{user:e.orgUser.user,size:oq.Pf.MEDIUM20})),el.createElement("div",{className:"add_unassigned_members_modal--user2---enz4 add_unassigned_members_modal--userBase--6lin9"},el.createElement(hH.H,{user:t.orgUser.user,size:oq.Pf.MEDIUM20})));if(0===_.length||0===e.length)return null;if(1===_.length)o=(0,e2.t)("add_unassigned_members_modal.user_selected",{userName:e[0].orgUser.user.handle}),c=el.createElement(hH.H,{user:e[0].orgUser.user});else if(2===_.length)o=(0,e2.t)("add_unassigned_members_modal.user_a_and_user_b_selected",{userName1:e[0].orgUser.user.handle,userName2:e[1].orgUser.user.handle}),c=g(e[0],e[1]);else{let t=_.length-2;o=(0,e2.t)("add_unassigned_members_modal.user_a_and_user_b_and_n_others_selected",{userName1:e[0].orgUser.user.handle,userName2:e[1].orgUser.user.handle,remainingCount:t}),c=g(e[0],e[1])}return el.createElement(nX.Y,{spacing:8},c,el.createElement(oK.E,null,o))}function bY({org:e,licenseGroup:t,workspace:a,workspaceId:r,defaultFilters:n,queueOrgUsersRefetch:l,invoices:i,addPendingOrgUserIds:s}){let{properties:o}=(0,e8.j6)(),[c,d]=el.useState(!1),[m,u]=el.useState(fM.oU),_=el.useCallback(e=>{u(t=>{let a=e===fM.Od.SEARCH_SCORE?fM.Od.SEARCH_SCORE:fM.Od.NAME;return{columnName:a,isReversed:t.columnName===a&&!t.isReversed}})},[u]),[p,g]=el.useState(""),E=el.useCallback(e=>{g(e),e?_(fM.Od.SEARCH_SCORE):""===e&&_(fM.oU.columnName)},[_,g]),f=el.useMemo(()=>(0,d9.s)(E,300),[E]),[h,v]=el.useState(n),b=e=>{v({...h,...e})},[y,w]=el.useState(new Date().toISOString()),{sortedUsers:T,status:x,fetchMore:C}=(0,mj.oo)({searchQuery:""!==p?p:void 0,sort:m,filter:h}),{status:N,users:k,totalSelectable:S}=(0,mj.Ew)({searchQuery:""!==p?p:void 0,filter:h,selectedAll:c}),I=x!==oL.r.SUCCESS||!!C,A=(0,mj.a9)(),L=(0,ei.wA)(),R=el.useMemo(()=>T.map(t=>({org:e,isMe:A.user_id===t.user_id,orgUser:t,dispatch:L})),[e,T,A,L]);if(el.useEffect(()=>{0===R.length&&w(new Date().toISOString())},[R]),!t&&!a)return null;if(!p&&hj()(h,n)&&0===R.length&&!I)return el.createElement(nX.Y,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",height:160,spacing:0,dataTestId:"add-unassigned-modal-empty-content"},el.createElement(oK.E,{color:"secondary"},el.createElement(e2.Tx,{id:"add_unassigned_members_modal.no_unassigned_users"})),el.createElement(oK.E,{color:"secondary"},el.createElement(e2.Tx,{id:(null==t?void 0:t.id)?"add_unassigned_members_modal.all_users_have_been_assigned_billing_groups":"add_unassigned_members_modal.all_users_have_been_assigned_workspaces",orgName:e.name})));let O=!!t,D=function(e,t){let a=[];return a.push({name:(0,fJ.aM)(fM.Od.NAME,e.featured_scim_metadata),sorting_key:fM.Od.NAME,className:bt,getSortValue:e=>e.orgUser.user.handle||e.orgUser.user.email,cellComponent:e=>el.createElement(bU,{orgUser:e.orgUser,dispatch:e.dispatch,isMe:e.isMe})}),t&&a.push({name:(0,e2.t)("add_unassigned_members_modal.role_column.seat_rename"),className:"",cellComponent:bP}),a}(e,O),F=O&&((null==i?void 0:i.length)||0)>0;return el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.p16.pb8.flex.flexColumn.$},el.createElement(oK.E,null,(null==t?void 0:t.id)?el.createElement(e2.Tx,{id:"add_unassigned_members_modal.billing_group_description",licenseGroupName:null==t?void 0:t.name}):el.createElement(e2.Tx,{id:"add_unassigned_members_modal.workspace_description",workspaceName:null==a?void 0:a.name})),el.createElement(uP.y2,{styleOverrides:{width:"100%",marginTop:"16px",marginBottom:"8px"},onChange:f,focusOnMount:!1,query:p,clearSearch:()=>E(""),placeholder:(0,e2.t)("add_unassigned_members_modal.search_bar.placeholder")}),F&&el.createElement("div",{className:"add_unassigned_members_modal--filters--20WXO","data-testid":"add-unassigned-members-tab-filters"},el.createElement(hV.S,{checked:h.newEditorFilter,onChange:()=>{let e=!h.newEditorFilter;b({newEditorFilter:e}),(0,a6.Cu)({...o,filterType:"NewEditorFilter",isFilterEnabled:e})},label:el.createElement(hG.J,null,el.createElement(e2.Tx,{id:"members_table.menu_bar_filter.new_since_last_invoice"}))}))),el.createElement(u$.Cj,{items:R,columns:D,itemTypeContext:{itemType:"user",getSelectedCountString:e=>(0,e2.t)("multi_select_list.selected_count_user",{numSelected:e})},getItemKey:e=>e.orgUser.user_id,emptyContent:el.createElement("div",{className:eE.cx.mt24.$,"data-testid":"add-unassigned-modal-empty-search-content"},el.createElement(oK.E,{color:"secondary"},el.createElement(e2.Tx,{id:"add_unassigned_members_modal.no_unassigned_users_found"}))),sortState:m,onSetSortState:_,scrollContainerInnerClassName:"add_unassigned_members_modal--scrollContainerInner--RDKqP",minContentWidth:448,isLoading:I,onFetchMore:C,styleOverrideClassNames:{header:"add_unassigned_members_modal--header--eVm5d add_unassigned_members_modal--extendedRow--pepxT",row:"add_unassigned_members_modal--row--c5OEj add_unassigned_members_modal--unassignedRowBackgroundStyles--5Z7vK add_unassigned_members_modal--extendedRow--pepxT",checkboxColumn:"add_unassigned_members_modal--checkboxColumn--022zc",selectedRow:"add_unassigned_members_modal--selectedRow--BI4N4 add_unassigned_members_modal--unassignedRowBackgroundStyles--5Z7vK add_unassigned_members_modal--extendedRow--pepxT",tableWrapper:"add_unassigned_members_modal--tableWrapper--VhH73"},paddingEnd:8,footer:a=>{let n=a.map(e=>e.orgUser.id),i=()=>{if(!r)return;let t=!!(0,em.kc)().members_optimistic_create;L(uQ.uo({orgId:e.id,lastUpdateTimestampOverride:y,successCallback:()=>{L(a0.F.enqueue({message:t&&n.length<=50?(0,e2.t)("add_unassigned_members_modal.workspaces_success_message.instant",{numUsers:n.length}):(0,e2.t)("add_unassigned_members_modal.workspaces_success_message",{numUsers:n.length}),type:"workspace-changed"}))},params:{org_user_ids:n,workspace_id:r}}))},o=()=>{let a=null==t?void 0:t.id;if(!a)return;let r=!!(0,em.kc)().members_optimistic_create;L(uQ.uo({orgId:e.id,lastUpdateTimestampOverride:y,params:{org_user_ids:n,license_group_id:a},successCallback:()=>{L(a0.F.enqueue({message:r&&n.length<=50?(0,e2.t)("add_unassigned_members_modal.billing_groups_success_message.instant",{numUsers:n.length}):(0,e2.t)("add_unassigned_members_modal.billing_groups_success_message",{numUsers:n.length}),type:"license-group-changed"}))}}))};return el.createElement("div",null,el.createElement(nX.Y,{padding:16},el.createElement(bq,{selectedItems:a,orgUsersCurrentlyLoading:x!==oL.r.SUCCESS,moreOrgUsersToFetch:!!C,loadingSelectableUsers:N===oL.r.LOADING,selectedAll:c,totalSelectableOrgUsers:S,rowItems:R,selectableOrgUsers:k}),el.createElement(nX.M,null),el.createElement(mE.$,{variant:"primary",disabled:!a.length,onClick:()=>{t?o():i(),L(t3.Lo()),n.length<=50&&s(n),l()},dataTestId:"assign-members-button"},el.createElement(e2.Tx,{id:"add_unassigned_members_modal.add_members_button"}))))},onToggleSelectAll:e=>d(!e)}))}let bz=(0,rr.Ju)(function({licenseGroupId:e,workspaceId:t,queueOrgUsersRefetch:a,invoices:r,addPendingOrgUserIds:n}){var l;let i=(0,ei.wA)(),s=(0,sK.sZ)(),o=(0,ei.d4)(e=>e.selectedView),[c,d]=el.useState(hU.ADD_MEMBERS),m=(0,ei.d4)(({licenseGroups:t})=>e?t[e]:void 0),u=null==(l=(0,aX.Rs)(a9.s5A,{workspaceId:t},{enabled:!!t}).data)?void 0:l.workspace;if(!s||e&&t)return null;let _={...fM.J0};e?_.licenseGroupFilter=Eo.s:t&&(_.workspaceFilter=fw.O);let p=hF(s,o.view);return el.createElement(e8.fu,{name:"Add Unassigned Members Modal"},el.createElement(lD.XV,{title:e=>{let t=[hW(hU.ADD_MEMBERS),hW(hU.INVITE_USERS)],a=e=>{d(e.view)};return el.createElement(nX.Y,null,t.map(e=>el.createElement(hx.o,{key:e.view,onClick:()=>a(e),tab:e.view,selectedTab:c},el.createElement(oK.E,{fontSize:11},e.name))),el.createElement(nX.M,null),e)},maxWidth:480,onClose:()=>{i(t3.Lo())},containerClassName:c===hU.ADD_MEMBERS?"add_unassigned_members_modal--unassignedMembersTab--gWAtH":"add_unassigned_members_modal--inviteTab--dPRBa",innerContainerClassName:eE.cx.hFull.flex.flexColumn.$,fixedTop:!0},c===hU.ADD_MEMBERS?el.createElement(bY,{org:s,licenseGroup:m,workspace:u,workspaceId:t,defaultFilters:_,queueOrgUsersRefetch:a,invoices:r,addPendingOrgUserIds:n}):el.createElement(hD,{org:s,licenseGroupId:e,workspaceId:t,dispatch:i,orgHasGuestsInviteAllowlist:p,canInviteMembers:hM(s,o.view),multiLineForm:!0,buttonClassName:"add_unassigned_members_modal--multiLineButton--IdSKt",modalWrapperClassName:"add_unassigned_members_modal--inviteModalWrapper--IPw0O",descriptionClassName:"add_unassigned_members_modal--inviteDescription--iMS-D"})))},"ADD_UNASSIGNED_MEMBERS_MODAL");var bK=a(478111);function bJ(e){let t=(0,ei.wA)(),a=[uy.ps.ORG,e.org.id].toString(),[r]=(0,eU.fp)(uH),n=r[a]??0;return 0===n?null:el.createElement(e8.jm,{onClick:()=>{t(aC.$T({view:"billingGroupDashboard",selectedTab:_r.D.REQUESTS}))},className:eE.cx.cursorPointer.$},el.createElement(nX.Y,{height:"hug-contents",padding:{bottom:24,left:32,right:32}},el.createElement(nX.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{bottom:20,left:12,top:16},height:75,cornerRadius:8,backgroundColor:"selected",width:"fill-parent"},el.createElement(nX.Y,{spacing:0,direction:"vertical",height:"hug-contents"},el.createElement(nX.Y,{direction:"horizontal",spacing:4,padding:0,height:"hug-contents"},el.createElement(n0.In,{icon:"share-32"}),el.createElement(oK.E,{fontSize:13,fontWeight:"medium",i18nId:"billing_group_admin.upgrade_request_banner.title",i18nParams:{orgName:e.org.name,numRequests:el.createElement(e2.Tx,{id:"billing_group_admin.upgrade_request_banner.title_num_requests",numRequests:n})}})),el.createElement("div",{className:eE.cx.ml36.$},el.createElement(oK.E,{fontSize:11,fontWeight:"regular",i18nId:"billing_group_admin.upgrade_request_banner.subtitle"}))),el.createElement(nX.M,null),el.createElement("div",{className:eE.cx.mr16.$},el.createElement(n0.In,{icon:"chevron-right-32"})))))}function bQ({title:e,value:t,info:a,tooltipData:r,isLoading:n,dataTestId:l}){return el.createElement(nX.Y,{direction:"vertical",spacing:4,padding:20,dataTestId:l},el.createElement(oK.E,{color:"default"},e),el.createElement("span",{"data-tooltip-type":null==r?void 0:r.type,"data-tooltip":null==r?void 0:r.contents,"data-tooltip-show-below":null==r?void 0:r.showBelow,"data-tooltip-timeout-delay":null==r?void 0:r.timeoutDelay},el.createElement(oK.E,{color:"default",fontWeight:"medium",fontSize:20},n?el.createElement(uM.Wi,{className:eE.cx.w64.h32.$}):t)),a&&el.createElement(oK.E,{color:"secondary"},a))}let bZ=new class{constructor(){this.TeamsSchemaValidator=(0,nb.vh)()}getTeams(e){return this.TeamsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/license_group/${e.licenseGroupId}/teams`,nb.td.toAPIParameters({includeSecretTeams:e.includeSecretTeams})))}submitReview(e){return td.Ay.post(`/api/license_group/${e.licenseGroupId}/review`)}},bX=(0,rr.Ju)(function({licenseGroupId:e,licenseGroupName:t,orgId:a}){let r=(0,ei.wA)();return el.createElement(lD.Eo,{headerClassName:"complete_license_group_review_modal--header--XWh1d",maxWidth:360,minWidth:360,fixedTop:!1,title:(0,e2.t)("license_group_admin.billing_banner.review.confirmation_modal.title.seat_rename",{billingGroupName:t}),confirmText:(0,e2.t)("general.confirm"),onConfirm:()=>{bZ.submitReview({licenseGroupId:e}).then(({data:e})=>r(py.yo({licenseGroup:e.meta,orgId:a}))).catch(e=>{r(a0.F.enqueue({error:!0,message:e.message}))})}},el.createElement(oK.E,{i18nId:"license_group_admin.billing_banner.review.confirmation_modal.body.seat_rename"}))},"CompleteLicenseGroupReviewModal");var b0=a(796597),b1=a(510511),b2=a(168379);function b4({licenseGroupId:e,forceLoading:t}){let a=fB(e),r=t||"loading"===a.status,n=a.data,l=e=>{var t;let a=null==(t=null==n?void 0:n.fullPaidStatusCounts)?void 0:t.find(t=>t.licenseType===e);return Number((null==a?void 0:a.count)??0)},i=oZ.JT.excludeUnlessFlag([oX.lM.DEV_MODE],"billing_dev_mode_customer_ui").sort(oZ.AG).withOverrides({[oX.oM.DESIGN]:(0,e2.t)("license_group_admin.billing_banner.count_title.design.seat_rename"),[oX.oM.WHITEBOARD]:(0,e2.t)("license_group_admin.billing_banner.count_title.figjam.seat_rename"),[oX.oM.DEV_MODE]:(0,e2.t)("license_group_admin.billing_banner.count_title.dev_mode")}).dict((e,t)=>el.createElement(bQ,{key:t,title:e,isLoading:r,value:l(t),dataTestId:`${t}-count-cell`}));return el.createElement(nX.Y,{direction:"horizontal"},Object.values(i))}function b3({licenseGroup:e,isLoadingInvoices:t,invoices:a,queueOrgUsersRefetch:r,addPendingOrgUserIds:n}){let l=(0,ei.wA)(),i=(0,sK.dq)(),s=e.last_reviewed_at;if(t)return el.createElement(uI,{variant:uk.INFO,title:el.createElement(uM.Wi,{className:eE.cx.w150.h12.$,dataTestId:"billing-banner-shimmer"})},el.createElement(b4,{licenseGroupId:e.id,forceLoading:!0}));if(!a)return null;let o=el.createElement(b4,{licenseGroupId:e.id});if(a&&(0,ca.hX)(a))return(0,mq.NV)(e,a)?el.createElement("div",{className:eE.cx.wFull.$,style:{minWidth:493}},el.createElement(uI,{icon:b2.A,variant:uk.WARN,bannerPadding:16,title:el.createElement(oK.E,{fontWeight:"semi-bold",i18nId:"license_group_admin.billing_banner.review.title.seat_rename"}),subtitle:el.createElement(oK.E,{i18nId:"license_group_admin.billing_banner.review.subtitle.seat_rename"}),actions:el.createElement(nX.Y,{direction:"horizontal",spacing:24,width:"hug-contents",padding:{right:4}},el.createElement("div",{className:eE.cx.colorText.underline.noWrap.cursorDefault.$,onClick:()=>{l((0,t3.to)({type:bz,data:{licenseGroupId:e.id,queueOrgUsersRefetch:r,invoices:a,addPendingOrgUserIds:n}}))},role:"link",tabIndex:0},el.createElement(oK.E,{fontWeight:"medium",i18nId:"license_group_admin.billing_banner.review.add_members"})),el.createElement(mE.$,{variant:"inverse",onClick:()=>{l((0,t3.to)({type:bX,data:{licenseGroupId:e.id,licenseGroupName:e.name,orgId:i}}))}},el.createElement(oK.E,{i18nId:"license_group_admin.billing_banner.review.confirm_editors.seat_rename"})))},o)):el.createElement(uI,{icon:b1.A,variant:uk.SUCCESS,bannerPadding:8,title:el.createElement(oK.E,{i18nId:"license_group_admin.billing_banner.completed_at_date",i18nParams:{date:el.createElement(oK.E,{fontWeight:"semi-bold"},(0,dq.A)(s).format("ll"))}})},o);let c=(0,ca.C5)(a,"upcoming")||(0,ca.C5)(a,"locked");return c?el.createElement(uI,{icon:b0.A,variant:uk.INFO,bannerPadding:8,title:el.createElement(oK.E,{i18nId:"license_group_admin.billing_banner.default",i18nParams:{date:el.createElement(oK.E,{fontWeight:"semi-bold"},(0,dq.A)(c.due_at).format("ll"))}})},o):null}function b8({queueOrgUsersRefetch:e,addPendingOrgUserIds:t}){var a;let r=(0,ei.d4)(e=>e.selectedView),n=(0,sK.dq)(),l=(0,uT.Xf)(n),i=(0,ei.d4)(({licenseGroups:e})=>r.licenseGroupId?e[r.licenseGroupId]:void 0),s="loading"===l.status,o=null==(a=null==l?void 0:l.data)?void 0:a.invoices;return"licenseGroup"===r.view&&i&&(s||o)?el.createElement(nX.Y,{height:"hug-contents",padding:{bottom:24,left:32,right:32},dataTestId:"license-group-billing-banner"},el.createElement(b3,{licenseGroup:i,isLoadingInvoices:s,invoices:o,queueOrgUsersRefetch:e,addPendingOrgUserIds:t})):null}var b5=a(91117);function b6({selectedLicenseGroupId:e,onFilterUpdate:t,getCount:a}){let r=(0,ei.wA)(),n=(0,ns.U)(),l=(0,ei.d4)(({licenseGroups:e})=>e),i=(0,mq.MX)(),s=(0,ei.d4)(({user:e})=>null==e?void 0:e.id),o=(0,mj.a9)(),c=!!(o&&o.permission===lm._D.ADMIN),d=(0,ei.d4)(({orgUsersByOrgId:e,currentUserOrgId:t})=>t&&Object.values(e.orgUsers[t])),m=(0,mq.RG)(),u=(0,ei.d4)(({selectedView:e})=>"orgAdminSettings"===e.view);if(!s||!d||!m||!u)return null;let{groupsUserIsAdminOf:_,otherLicenseGroups:p}=(0,mq.EQ)(i,s,!c);if(0===_.length&&0===p.length)return null;let g=_.concat(p).map(e=>e.id).concat(Eo.s);return el.createElement(uj.bv,{label:(0,e2.t)("members_table.menu_bar_filter.billing_group"),dispatch:r,dropdownShown:n,dropdownType:"FILTER_LICENSE_GROUP_DROPDOWN",values:g,selectedValue:e,getCount:a,getDisplayText:e=>(0,fJ.CC)(e,l),updateFilter:e=>t(e)})}function b9({selectedWorkspaceId:e,onFilterUpdate:t,getCount:a}){let r=(0,ei.wA)(),n=(0,ns.U)(),l=(0,ei.d4)(e=>e.currentUserOrgId),i=(0,dM.NJ)(l),s="loading"===i.status?[]:i.data??[],o={};if(s.forEach(e=>o[e.id]=e),!(0,ei.d4)(({selectedView:e})=>"orgAdminSettings"===e.view)||!s.length)return null;let c=s.map(e=>e.id).concat(fw.O);return el.createElement(uj.bv,{label:(0,e2.t)("members_table.menu_bar_filter.workspace"),dispatch:r,dropdownShown:n,dropdownType:"FILTER_WORKSPACE_DROPDOWN",values:c,selectedValue:e,getCount:a,getDisplayText:e=>{var t;return e===fw.O?(0,e2.t)("license_group.unassigned"):(null==(t=o[e])?void 0:t.name)??""},updateFilter:e=>t(e)})}let b7=(0,a4.nF)((e,t,{liveStore:a})=>{let r=e.getState().currentUserOrgId;r&&a.getMutation(uT.QD)({orgId:r,licenseQuantities:t.licenseQuantities}).then(()=>{e.dispatch(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.BILLING,shouldShowLockedBanner:!0}))}).catch(t=>{var a;e.dispatch(ae.s.error((null==(a=t.data)?void 0:a.message)||"An error occurred while locking your invoice.",5e3)),console.error(t)})}),ye=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=(0,ca.e7)(e.invoice),r=function(){if(1===e.invoice.quarter){let t=[(0,e2.t)("members_table.true_up.freeze_invoice_design_editor_text.seat_rename",{lockedQuantityDesignEditors:a[oX.lM.DESIGN]}),(0,e2.t)("members_table.true_up.freeze_invoice_dev_mode_seat_text",{quantity:a[oX.lM.DEV_MODE]})];return t.push((0,e2.t)("members_table.true_up.freeze_invoice_figjam_editor_text.seat_rename",{lockedQuantityFigJamEditors:a[oX.lM.FIGJAM]})),{title:(0,e2.t)("members_table.true_up.freeze_invoice_confirm_title.template",{seatsText:(0,ac.Yx)(t)}),description:(0,e2.t)("members_table.true_up.freeze_invoice_confirm_description.seat_rename.template",{date:(0,dq.A)(e.invoice.due_at).format("MMMM D"),seatsText:(0,ac.Yx)(t),lockedAmountToPay:new r$.vr(e.invoice.currency).formatMoney(e.invoice.amount_due)})}}{let t=[(0,e2.t)("members_table.true_up.freeze_invoice_new_design_editor_text.seat_rename",{lockedQuantityDesignEditors:a[oX.lM.DESIGN]}),(0,e2.t)("members_table.true_up.freeze_invoice_new_dev_mode_seat_text",{quantity:a[oX.lM.DEV_MODE]})];return t.push((0,e2.t)("members_table.true_up.freeze_invoice_new_figjam_editor_text.seat_rename",{lockedQuantityFigJamEditors:a[oX.lM.FIGJAM]})),{title:(0,e2.t)("members_table.true_up.freeze_invoice_confirm_title_true_up.template",{seatsText:(0,ac.Yx)(t)}),description:(0,e2.t)("members_table.true_up.freeze_invoice_confirm_description_true_up.seat_rename",{date:(0,dq.A)(e.invoice.due_at).format("MMMM D"),lockedAmountToPay:new r$.vr(e.invoice.currency).formatMoney(e.invoice.amount_due)})}}}(),{groupsToReview:n}=(0,mq.Cz)(e.licenseGroups,e.invoices),l=e.licenseGroupsEnabled&&n.length>0;return el.createElement(e8.fu,{name:"Freeze Invoice Modal",properties:{numReviewsIncomplete:n.length,orgId:e.org.id}},el.createElement(f1.l,{dispatch:t,checkboxText:(0,e2.t)("members_table.true_up.freeze_invoice_checkbox_text"),buttonText:(0,e2.t)("members_table.true_up.freeze_invoice_button_text"),onConfirm:function(){t(b7({licenseQuantities:a})),function(){if(e.onHide){e.onHide();return}t(t3.Ce())}()},title:(0,e2.t)("members_table.true_up.freeze_invoice_checkbox_title"),disableClickOutsideToHide:!0},el.createElement("div",{className:eE.cx.lh16.font11.$},l&&el.createElement(el.Fragment,null,el.createElement("p",{className:eE.cx.mb8.$},el.createElement(e2.Tx,{id:"members_table.true_up.freeze_invoice_billing_group_info"})),el.createElement("div",{className:eE.cx.maxH300.overflowAuto.$},el.createElement("ul",{className:eE.cx.ml16.mb8.$},n.map(e=>el.createElement("li",{style:cs.sx.add({listStyleType:"disc"}).$,key:e.id},e.name," ",!e.is_orphaned&&el.createElement("span",{className:eE.cx.textFGBlack3__DEPRECATED.$},"("+(0,ac.Yx)(e.admin_users_metadata.map(e=>e.email||""))+")")))))),el.createElement("p",{className:eE.cx.mb8.mt8.$},r.description),el.createElement("p",{className:eE.cx.fontSemiBold.$},r.title))))},"FREEZE_INVOICE_CONFIRM_MODAL"),yt="confirm_invoice_banner--bannerData--aN08j",ya="confirm_invoice_banner--mainTextContainer--dmqvY",yr="confirm_invoice_banner--subtextContainer--53OYu",yn="confirm_invoice_banner--subtext--EOjZv",yl="shared_banner--boldNumber--LZKNd",yi="shared_banner--infoIcon--BkfV9 shared_banner--badgeSpacing--gg2lx";function ys(e){var t,a;if(!e.invoices||(t=e.org,!((a=e.invoices).length>0&&(0,ca.hX)(a))||!t.has_automatic_upcoming_invoice))return null;let r=(0,ca.jk)(e.invoices,"upcoming");if(!r)return null;let n=(0,ca.e7)(r),l=()=>el.createElement(eC.B,{svg:lq.A,className:yi,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.ORG_COST_INFO,"data-tooltip-invoice-quarter":r.quarter,"data-tooltip-invoice-is-stub":r.is_stub,"data-tooltip-invoice-num-quarters-in-billing-period":r.num_quarters_in_billing_period,"data-tooltip-invoice-amount-due-breakdown":JSON.stringify(r.amount_due_breakdown),"data-tooltip-invoice-quantity-added":i.licenseData[oX.lM.DESIGN].effectiveQuantityToBill,"data-tooltip-invoice-figjam-owed-seats":i.licenseData[oX.lM.FIGJAM].effectiveQuantityToBill,"data-tooltip-invoice-show-figjam-cost-breakdown":!e.org.figjam_disabled_at,"data-tooltip-invoice-license_type_configuration":JSON.stringify(r.license_type_configuration),"data-tooltip-invoice-billing-plan":e.org.plan,"data-tooltip-invoice-currency":r.currency,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}),i=(0,ca.HD)(r,{[oX.lM.DESIGN]:e.designBillableSeats,[oX.lM.FIGJAM]:e.figjamBillableSeats,[oX.lM.DEV_MODE]:0},e.org.plan),s=r.seat_floor.design>0||r.seat_floor.figjam>0;return el.createElement(e8.fu,{name:"Review banner",properties:{notification:"Confirm invoice banner"}},el.createElement("div",{className:"shared_banner--figjamReviewBanner--CKRgr","data-testid":"confirm-invoice-banner"},el.createElement("div",{className:"confirm_invoice_banner--bannerDataContainer--Jta3l shared_banner--bannerDataSection--mWF52"},el.createElement("div",{className:yt},el.createElement("div",{className:ya},1===r.quarter?el.createElement(e2.Tx,{id:"members_table.true_up.total_design_editors.seat_rename"}):el.createElement(e2.Tx,{id:"members_table.true_up.new_design_editors.seat_rename"}),"\xa0",el.createElement("span",{className:yl},i.licenseData[oX.lM.DESIGN].rawQuantityToBill)),s&&el.createElement("div",{className:yr},el.createElement("span",{className:yn},(0,e2.t)("members_table.true_up.seat_minimum",{seatMinimum:r.seat_floor.design})),el.createElement(eC.B,{svg:lq.A,className:yi,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("members_table.true_up.minimum_design_editors_tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}))),null===e.org.figjam_disabled_at&&el.createElement("div",{className:yt},el.createElement("div",{className:ya},1===r.quarter?el.createElement(e2.Tx,{id:"members_table.true_up.total_figjam_editors.seat_rename"}):el.createElement(e2.Tx,{id:"members_table.true_up.new_figjam_editors.seat_rename"}),"\xa0",el.createElement("span",{className:yl},i.licenseData[oX.lM.FIGJAM].rawQuantityToBill)),s&&el.createElement("div",{className:yr},el.createElement("span",{className:yn},(0,e2.t)("members_table.true_up.seat_minimum",{seatMinimum:r.seat_floor.figjam})),el.createElement(eC.B,{svg:lq.A,className:yi,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("members_table.true_up.minimum_figjam_editors_tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}))),el.createElement("div",{className:yt},el.createElement("div",{className:ya},el.createElement(e2.Tx,{id:"members_table.true_up.invoice_subtotal"}),"\xa0",el.createElement("span",{className:yl},new r$.vr(r.currency).formatMoney(i.amountToPay,{showCents:!1})),!s&&l()),s&&el.createElement("div",{className:yr},el.createElement("span",{className:yn},(0,e2.t)("members_table.true_up.see_breakdown")),l()))),el.createElement(eT.vd,{className:"shared_banner--blackButton--EbYAl",onClick:()=>{Object.values(n).every(e=>0===e)?e.dispatch(b7({licenseQuantities:n})):e.dispatch((0,t3.to)({type:ye,data:{licenseGroupsEnabled:e.licenseGroupsEnabled,licenseGroups:e.licenseGroups,org:e.org,invoice:r,invoices:e.invoices}}))}},el.createElement(e2.Tx,{id:"members_table.true_up.confirm_and_finalize_invoice"}))))}var yo=a(983405);function yc({org:e,invoice:t}){let a=(0,uT.Xf)(e.id),r=new r$.vr(t.currency).formatMoney(t.amount_due),n=1===t.quarter;return el.createElement(yo.Y1,{direction:"horizontal"},oZ.kH.sort(oZ.AG).map(e=>{let r=t.license_type_configuration[e],l=t.seat_floor[e],i=(null==r?void 0:r.added_quantity)??0,s=(()=>{var t,r,n;switch(e){case oX.lM.DESIGN:return(null==(t=null==a?void 0:a.data)?void 0:t.design_billable_seats)??0;case oX.lM.DEV_MODE:return(null==(r=null==a?void 0:a.data)?void 0:r.dev_mode_billable_seats)??0;case oX.lM.FIGJAM:return(null==(n=null==a?void 0:a.data)?void 0:n.figjam_billable_seats)??0}})(),o=(null==r?void 0:r.locked_quantity)===0&&"free_period"===(null==r?void 0:r.locked_quantity_source)?{type:aA.Ib.TEXT,contents:(0,e2.t)(`members_table.true_up.banner.free_period_zero.tooltip.${e}`),showBelow:!0,timeoutDelay:50}:void 0;return el.createElement(bQ,{key:`stat-${e}`,title:el.createElement(e2.Tx,{id:`members_table.true_up.banner.new_seats.${e}`}),value:i,tooltipData:o,info:n&&l?el.createElement(yo.Y1,{direction:"horizontal",horizontalAlignItems:"space-between",spacing:4},el.createElement("span",null,el.createElement(e2.Tx,{id:"members_table.true_up.banner.total_seats",numSeats:`${s}/${l}`})),el.createElement("span",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)(`members_table.true_up.banner.seat_floor.tooltip.${e}`),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},el.createElement(n0.In,{icon:"info-16",fill:"secondary"}))):(0,e2.t)("members_table.true_up.banner.total_seats",{numSeats:s})})}),el.createElement(bQ,{title:el.createElement(e2.Tx,{id:"members_table.true_up.banner.projected_total"}),value:r,info:el.createElement(yo.Y1,{direction:"horizontal",horizontalAlignItems:"space-between",spacing:4},el.createElement("span",null,el.createElement(e2.Tx,{id:"members_table.true_up.banner.see_breakdown"})),el.createElement("span",{"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.ORG_COST_INFO,"data-tooltip-invoice-quarter":t.quarter,"data-tooltip-invoice-is-stub":t.is_stub,"data-tooltip-invoice-num-quarters-in-billing-period":t.num_quarters_in_billing_period,"data-tooltip-invoice-amount-due-breakdown":JSON.stringify(t.amount_due_breakdown),"data-tooltip-invoice-show-figjam-cost-breakdown":!e.figjam_disabled_at,"data-tooltip-invoice-license_type_configuration":JSON.stringify(t.license_type_configuration),"data-tooltip-invoice-billing-plan":e.plan,"data-tooltip-invoice-currency":t.currency,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},el.createElement(n0.In,{icon:"info-16",fill:"secondary"})))}))}function yd({invoice:e,orgBillingPlan:t,showBreakdown:a=!0}){let r=e.currency,n=new r$.vr(r),l=n.getPricesWithOverride(e,t),i=(0,ca.K1)(e),s=(0,ca.l)(e),o="annual"===i&&Object.values(oX.lM).some(t=>{var a;let r=e.seat_floor[t],n=(null==(a=e.license_type_configuration[t])?void 0:a.total_quantity)??0;return r&&r>n}),c=Object.fromEntries(Object.values(oX.lM).map(t=>[t,(0,ca.ke)(t,e,l)]));return el.createElement(nX.Y,{padding:{bottom:16},spacing:0},el.createElement(nX.Y,{direction:"vertical",cornerRadius:6,strokeColor:"default",strokeWidth:1,padding:{horizontal:16},spacing:0},oZ.kH.map(t=>{var i,o;let d=e.seat_floor[t],m=(null==(i=e.license_type_configuration[t])?void 0:i.added_quantity)??0,u=(null==(o=e.license_type_configuration[t])?void 0:o.total_quantity)??0,_=c[t],p=!!d&&d>u;return el.createElement(nX.Y,{key:`invoice-details-${t}`,direction:"horizontal",horizontalAlignItems:"space-between",strokeWidth:{bottom:1},strokeColor:"default",padding:{vertical:16},spacing:0},el.createElement(nX.Y,{direction:"horizontal"},el.createElement(n0.In,{icon:function(e){switch(e){case oX.lM.DESIGN:return"file-design-16-file-type";case oX.lM.FIGJAM:return"file-figjam-16-file-type";case oX.lM.DEV_MODE:return"file-devmode-16-file-type"}}(t)}),el.createElement(oK.E,{color:"default",fontSize:11,fontWeight:"regular"},`${(0,e2.t)(`org_admin_settings.billing.finalize_invoice_modal.num_seats.${t}`,{seats:u})}${p?"*":""}`)),d&&d>u?el.createElement(oj.Ex,{size:oj.vj.SMALL,color:oj.zE.BRAND,className:eE.cx.flexShrink0.$,text:(0,e2.t)("org_admin_settings.billing.finalize_invoice_modal.badge.not_yet_filled",{seats:d-u})}):m>0?el.createElement(oj.Ex,{size:oj.vj.SMALL,color:oj.zE.SUCCESS,className:eE.cx.flexShrink0.$,text:(0,e2.t)("org_admin_settings.billing.finalize_invoice_modal.badge.new_seats",{seats:m})}):null,el.createElement(nX.Y,{horizontalAlignItems:"end"},a?el.createElement("div",{style:cs.sx.colorBorder.bb2.add({borderBottomStyle:"dashed"}).$,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.ORG_COST_INFO_LINE_ITEM,"data-tooltip-license-type":t,"data-tooltip-total-cost":_,"data-tooltip-added-quantity":m,"data-tooltip-currency":r,"data-tooltip-remaining-months":s,"data-tooltip-monthly-unit-price":l[t],"data-tooltip-should-show-breakdown":!0,"data-tooltip-should-show-cost":!1,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":400},el.createElement(oK.E,null,n.formatMoney(_))):el.createElement(oK.E,null,n.formatMoney(_))))}),el.createElement(nX.Y,{direction:"vertical",padding:{vertical:16}},el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"space-between"},el.createElement(oK.E,{i18nId:"org_admin_settings.billing.finalize_invoice_modal.invoice_total",color:"default",fontWeight:"bold"}),el.createElement(oK.E,{color:"default",fontWeight:"bold"},n.formatMoney(e.amount_due))),o&&el.createElement("span",null,el.createElement(oK.E,{color:"secondary",fontSize:11},`*${(0,e2.t)("org_admin_settings.billing.finalize_invoice_modal.disclaimer_minimum_seats")}`)))))}function ym({invoiceType:e}){return el.createElement(nX.Y,{direction:"horizontal",padding:{bottom:16}},el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement(oK.E,{i18nId:`org_admin_settings.billing.finalize_invoice_modal.title.${e}`,color:"default",fontWeight:"semi-bold",fontSize:20}),el.createElement(oK.E,{i18nId:"org_admin_settings.billing.finalize_invoice_modal.subtitle",color:"default",fontSize:13,fontWeight:"regular"})))}let yu=(0,rr.Ju)(function({org:e,invoice:t,onConfirm:a}){let[r,n]=el.useState(!1),l=(0,ca.K1)(t),i=(0,ei.wA)(),s=()=>{i((0,t3.AS)())};return el.createElement(e8.fu,{name:"Finalize Invoice Modal",properties:{orgId:e.id}},el.createElement(lD.XV,{title:el.createElement(ym,{invoiceType:l}),innerContainerClassName:eE.cx.p16.$,disableHeaderBottomBorder:!0,onClose:s,maxWidth:380},el.createElement(nX.Y,{direction:"vertical"},el.createElement(yd,{invoice:t,orgBillingPlan:e.plan}),el.createElement(nX.Y,{padding:{bottom:16}},el.createElement(cl.S,{checked:r,label:(0,e2.t)("org_admin_settings.billing.finalize_invoice_modal.checkbox"),onChange:()=>n(!r)}))),el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"end"},el.createElement(mE.V,{variant:"secondary",onClick:s},el.createElement(e2.Tx,{id:"org_admin_settings.billing.finalize_invoice_modal.button.cancel"})),el.createElement(mE.V,{variant:"primary",disabled:!r,onClick:a},el.createElement(e2.Tx,{id:"org_admin_settings.billing.finalize_invoice_modal.button.finalize_invoice"})))))},"FINALIZE_INVOICE_CONFIRM_MODAL");function y_({invoice:e,org:t}){let a=(0,ei.wA)(),r=()=>{a(b7({licenseQuantities:(0,ca.e7)(e)})),a((0,t3.AS)())};return el.createElement(e8.fu,{name:"Review banner"},el.createElement(uI,{variant:"warning",title:el.createElement(oK.E,{i18nId:"members_table.true_up.banner.title",fontWeight:"semi-bold"}),subtitle:el.createElement(e2.Tx,{id:"members_table.true_up.banner.subtitle"}),icon:b2.A,actions:el.createElement(mE.$,{variant:"inverse",onClick:()=>{a((0,t3.to)({type:yu,data:{org:t,invoice:e,onConfirm:r}}))}},el.createElement(e2.Tx,{id:"members_table.true_up.banner.button"}))},el.createElement(yc,{org:t,invoice:e})))}function yp(e){let t=(0,mq.RG)(),a=(0,ca.jk)(e.invoices??[],"upcoming"),r=(0,ca.hX)(e.invoices??[]);return!t&&a&&r&&e.currentOrgUser.permission===lm._D.ADMIN&&e.org.has_automatic_upcoming_invoice&&null!=e.designBillableSeats&&null!=e.figjamBillableSeats?el.createElement(y_,{org:e.org,invoice:a}):!t&&e.currentOrgUser.permission===lm._D.ADMIN&&(e.designBillableSeats||0===e.designBillableSeats)&&(e.figjamBillableSeats||0===e.figjamBillableSeats)?el.createElement(ys,{licenseGroupsEnabled:!1,licenseGroups:[],invoices:e.invoices,org:e.org,dispatch:e.dispatch,designBillableSeats:e.designBillableSeats,figjamBillableSeats:e.figjamBillableSeats}):null}var yg=((_=yg||{})[_.SEARCH=0]="SEARCH",_[_.FILTER=1]="FILTER",_);function yE(e,t,a){t(uQ.uo({orgId:e.org_id,params:{org_user_ids:[e.id],permission:e.permission},successCallback:()=>{t(a0.F.enqueue({message:(0,e2.t)("members_table.change_member_permission.success"),type:"member-permission-changed"})),(e.permission===lm._D.ADMIN||e.permission===lm._D.MEMBER)&&a()}}))}function yf(e,t,a){td.Ay.post(`/api/orgs/${t}/resend_email_verifications`,{org_user_ids:e}).then(()=>{a(a0.F.enqueue({message:(0,e2.t)("members_table.verification_sent"),type:"orgRoster.resendVerification",icon:uB.zX.CHECK}))},()=>{a(a0.F.enqueue({message:(0,e2.t)("members_table.cannot_send_verification_email"),type:"orgRoster.resendVerification",icon:uB.zX.EXCLAMATION,error:!0}))})}function yh(e,t){t(nc.II({emailList:e}))}function yv(e,t,a,r,n,l,i,s,o){n((0,t3.to)({type:ha,data:{org:r,orgUsers:l,orgUserIds:e,accountType:a,licenseType:t,dispatch:n,updateAccountTypeFilterCounts:i,updateNewEditorBuffer:s,lastUpdateTimestampIfUsingUnloadedOrgUsers:o}}))}function yb(e,t,a,r,n,l,i,s,o){let c=a[t];i((0,t3.to)({type:hn,data:{org:n,orgUsers:l,orgUserIds:e,newLicenseGroup:c,isCurrentUserOrgAdmin:r,dispatch:i,updateLicenseGroupFilterCounts:s,lastUpdateTimestampIfUsingUnloadedOrgUsers:o}}))}function yy(e,t,a,r,n,l){let i;i=t?{org_user_ids:e,workspace_id:t}:{org_user_ids:e,workspace_id:null},r(uQ.uo({orgId:a.id,lastUpdateTimestampOverride:l,params:i,successCallback:()=>{r(a0.F.enqueue({message:(0,e2.t)("confirm_workspace_change.success_message",{numUsers:e.length}),type:"workspace-changed"})),n()}}))}function yw(e,t,a,r){r((0,t3.to)({type:he,data:{org:a,orgUsers:t,orgUserIds:e,dispatch:r}}))}function yT(e){return e.permissionFilter||e.newEditorFilter||e.lastEditFilter||e.roleFilter}function yx(e){var t,a;let[r,n]=el.useState(!1),[l,i]=el.useState(!1),[s,o]=el.useState(new Date().toISOString()),c=(0,mj.a9)(),d=!!(c&&c.permission===lm._D.ADMIN),m=(0,aX.Rs)(a9.HpJ,{orgId:e.org.id},{enabled:"licenseGroup"===e.selectedViewName}),u=(0,uy.ZY)({isIntendedAudience:"loaded"===m.status&&!!(null==(a=null==(t=m.data)?void 0:t.org)?void 0:a.bigmaEnabledAt)&&!d}),_="provisional"===e.filters.permissionFilter,p=el.useMemo(()=>"loaded"===e.filterCountsViewResult.status?e.filterCountsViewResult.data:(0,fM.MF)(),[e.filterCountsViewResult]);el.useEffect(()=>{let t=Date.now()-e.startTime;e.isLoading||0===e.startTime||(0,e7.sx)("Org Admin Members Table V2 Load Succeeded",{orgId:e.org.id,durationMs:t},{forwardToDatadog:!0})},[e.startTime,e.org.id,e.isLoading]),el.useEffect(()=>{0===e.sortedItems.length&&o(new Date().toISOString())},[e.sortedItems]);let g=(t,a,r,n)=>{yv(t,a,r,e.org,e.dispatch,n?null:e.allOrgUsersByUserId,e.queueFilterCountsRefetch,e.updateNewEditorBuffer,n)},{status:E,users:f,totalSelectable:h}=(0,mj.Ew)({searchQuery:e.searchQuery,filter:e.filters,selectedAll:l}),v=(t,a,r)=>yy(t,a,e.org,e.dispatch,e.queueFilterCountsRefetch,r),b=(t,a,r)=>yb(t,a,e.licenseGroupsById,d,e.org,r?null:e.allOrgUsersByUserId,e.dispatch,e.queueFilterCountsRefetch,r);function y(e,t){let a=new Set;return e.forEach(e=>{a.add(t(e))}),a}let w=(t,a,r)=>{let n=!1,l=!1,i=!1;if(a){let e=y(a,e=>e.design_paid_status),t=Array.from(e)[0];n=1===e.size&&t===lm.El.FULL,l=1===e.size&&t===lm.El.STARTER,i=1===e.size&&t===lm.El.RESTRICTED}let s=[el.createElement(dB.W.CheckableOption,{key:"header",disabled:!0,checked:!1},el.createElement(e2.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"})),el.createElement(dB.W.CheckableOptionTrackable,{key:"editor",checked:n,onClick:n?void 0:()=>g(t,oX.G_.DESIGN,lm.El.FULL,r)},(0,hc.t)(lm.El.FULL))];return l&&s.push(el.createElement(dB.W.CheckableOptionTrackable,{key:"starter",checked:!0,onClick:void 0},(0,hc.t)(lm.El.STARTER))),s.push(el.createElement(dB.W.CheckableOptionTrackable,{key:"restricted",checked:i,onClick:i?void 0:()=>g(t,oX.G_.DESIGN,lm.El.RESTRICTED,r)},(0,hc.t)(lm.El.RESTRICTED))),el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:"members_table--actionBarDropdown--3bR6p",style:e.dropdownShown.data.position},s)},T=(t,a,r,n)=>{var l,i;let s=n.dict(e=>!1);a&&(s=n.dict(e=>{let t=y(a,t=>t[ho.L_[e]]),r=Array.from(t)[0];return 1===t.size&&r===lm.El.STARTER}));let o=n.dict(e=>{let a=[],n=`Change ${e} role - Editor`;a.push({displayText:(0,hc.t)(lm.El.FULL),callback:()=>g(t,e,lm.El.FULL,r),trackingProperties:{text:n}});let l=`Change ${e} role - Viewer`;s[e]&&a.push({displayText:(0,hc.t)(lm.El.STARTER),trackingProperties:{text:l}});let i=`Change ${e} role - Viewer Restricted`;return a.push({displayText:(0,hc.t)(lm.El.RESTRICTED),callback:()=>g(t,e,lm.El.RESTRICTED,r),trackingProperties:{text:i}}),a}),c=n.dict(e=>{switch(e){case oX.lM.DESIGN:return(0,e2.t)("general.figma_design_short");case oX.lM.FIGJAM:return(0,e2.t)("general.figjam");case oX.lM.DEV_MODE:return(0,e2.t)("general.dev_mode");default:(0,eh.xb)(e)}}),d=n.map(e=>({displayText:c[e],children:o[e]}));return el.createElement(el.Fragment,null,e.dropdownShown&&(null==(i=null==(l=e.dropdownShown)?void 0:l.data)?void 0:i.targetRect)&&el.createElement(e8.QE.Consumer,null,t=>el.createElement(n_.j,{showPoint:!1,items:d,onSelectItem:a=>{a.callback&&a.callback("",null,e.dispatch),(0,a6.Cu)({...t.properties,trackingContext:t.name,...a.trackingProperties})},parentRect:e.dropdownShown.data.targetRect,dispatch:e.dispatch})))},x=(t,a,r)=>{let n=a?y(a,e=>{var t;return null==(t=(0,o2.Ad)(e))?void 0:t.workspace_id}):new Set,l={type:uj.uw.NONE};if(1===n.size){let e=Array.from(n)[0];l=null==e?{type:uj.uw.UNASSIGNED}:{type:uj.uw.WORKSPACE,workspaceId:e}}return el.createElement(uj.Vq,{workspaces:e.workspacesCanMoveTo,selectedWorkspace:l,onChange:e=>{v(t,(null==e?void 0:e.id)??"",r)}})},C=(t,a,r)=>{let n=e.licenseGroupsUserIsAdminOf.concat(e.licenseGroupsUserIsNotAdminOf),l=a?y(a,e=>{var t;return null==(t=e.license_group_member)?void 0:t.license_group_id}):new Set,i={type:uj.uw.NONE};if(1===l.size){let e=Array.from(l)[0];i=null==e?{type:uj.uw.UNASSIGNED}:{type:uj.uw.WORKSPACE,workspaceId:e}}return el.createElement(uj.IV,{licenseGroups:n,selectedLicenseGroup:i,onChange:e=>{b(t,(null==e?void 0:e.id)??"",r)}})},N=()=>el.createElement(el.Fragment,null,el.createElement(yp,{currentOrgUser:e.myOrgUser,licenseGroupsUserIsAdminOf:e.licenseGroupsUserIsAdminOf,invoices:e.invoices,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,devModeBillableSeats:e.devModeBillableSeats,org:e.org,dispatch:e.dispatch}),"licenseGroup"===e.selectedViewName&&el.createElement("div",{className:eE.cx.pb12.$},el.createElement(oK.E,{fontWeight:"medium",fontSize:13},(0,hs.o9)(mB.RM.MEMBERS)))),k={productFilter:e.filters.productFilter,licenseGroupIdFilter:e.filters.licenseGroupFilter,permissionFilter:e.filters.permissionFilter,roleFilter:e.filters.roleFilter,lastEditFilter:e.filters.lastEditFilter,newEditorFilter:e.filters.newEditorFilter},S="workspace"===e.selectedViewName,I=el.createElement(bK.K,{isLoading:e.isTitleLoading,title:e.title??u7(mz.J7.MEMBERS),hasHorizontalPadding:!0,rightActions:el.createElement(nX.Y,{width:"hug-contents"},"orgAdminSettings"===e.selectedViewName?el.createElement(mE.V,{icon:"plus-32",variant:"secondary",onClick:()=>{let t=e.filters.workspaceFilter??void 0;t===fw.O&&(t=void 0);let a=e.filters.licenseGroupFilter??void 0;a===Eo.s&&(a=void 0),e.dispatch((0,t3.to)({type:hP,data:{workspaceId:t,licenseGroupId:a}}))},trackingProperties:{action:"Invite Users"}},el.createElement(oK.E,{i18nId:"members_table.invite_users_button"})):el.createElement(mE.V,{icon:"plus-32",variant:"secondary",onClick:()=>{let t=e.filters.workspaceFilter??void 0;t===fw.O&&(t=void 0);let a=e.filters.licenseGroupFilter??void 0;a===Eo.s&&(a=void 0),e.dispatch((0,t3.to)({type:bz,data:{workspaceId:t,licenseGroupId:a,addPendingOrgUserIds:e.addPendingOrgUserIds||eu.lQ,queueOrgUsersRefetch:e.queueOrgUsersRefetch||eu.lQ,invoices:e.invoices}}))},trackingProperties:{action:"Add Members"},"data-onboarding-key":uu},el.createElement(oK.E,{i18nId:"members_table.add_members_button"})),(0,fJ.MX)(e.selectedViewName)&&el.createElement(mE.V,{onClick:()=>{r||(n(!0),e.dispatch(a0.F.enqueue({message:(0,e2.t)("members_table.csv_export.preparing_request"),type:"orgRoster.exportCSV",icon:uB.zX.SPINNER})),td.Ay.post(`/api/orgs/${e.org.id}/export_members`).then(()=>{e.dispatch(a0.F.enqueue({message:(0,e2.t)("members_table.csv_export.generating"),type:"orgRoster.exportCSV",icon:uB.zX.CHECK})),n(!1)},()=>{e.dispatch(a0.F.enqueue({message:(0,e2.t)("members_table.csv_export.error"),type:"orgRoster.exportCSV",icon:uB.zX.EXCLAMATION,error:!0})),n(!1)}))},trackingProperties:{action:"Export CSV"}},el.createElement(oK.E,{i18nId:"members_table.csv_export.get_csv"})))}),A=e.customEmptyState&&0===e.sortedItems.length&&!e.isLoading&&!yT(e.filters)&&!e.searchQuery;return el.createElement("div",{className:ey()("members_table--container--Zgc1t admin_settings_page--membersContainer--FzuLv",{"members_table--workspaceAdminContainer--PQrRs":S})},I,u&&el.createElement(bJ,{org:e.org}),el.createElement(b8,{queueOrgUsersRefetch:e.queueOrgUsersRefetch||eu.lQ,addPendingOrgUserIds:e.addPendingOrgUserIds||eu.lQ}),!e_.rr&&e.sortedItems.length>0&&el.createElement(el.Fragment,null,el.createElement(aV.p,null,el.createElement(hv,{isWorkspaceAdminMembersTable:S})),el.createElement(aV.p,null,el.createElement(hT,null))),A?el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",padding:{horizontal:32}},N(),e.customEmptyState):el.createElement(u$.Cj,{hasNewScrollContext:!0,items:e.sortedItems,columns:e.columns,getItemKey:yC,stickyContent:el.createElement("div",null,N(),(()=>{var t;let a;oZ.JT.excludeUnlessFlag([oX.oM.DEV_MODE],"billing_dev_mode_customer_ui").withOverrides({[oX.oM.WHITEBOARD]:"figjam",[oX.oM.DEV_MODE]:"devMode"}).withSuffix("AccountType").forEach((t,r)=>{e.filters.productFilter===r&&(a=e=>p[t][e])});let r=oZ.JT.excludeUnlessFlag([oX.oM.DEV_MODE],"billing_dev_mode_customer_ui").sort(oZ.AG);return el.createElement("div",{className:"members_table--menuBar--NOZw9 multi_select_list--menuBar--8xNGR"},el.createElement("div",{className:be.cE},el.createElement(uP.y2,{"data-onboarding-key":ul,onChange:e.onSearch,focusOnMount:!1,query:e.searchQuery,clearSearch:e.onClearSearch,placeholder:(0,e2.t)("team_view.search_bar.search_members_with_ellipsis")}),el.createElement("div",{className:eE.cx.pl8.$},el.createElement(uj.bv,{label:(0,e2.t)("members_table.menu_bar_filter.product"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_PRODUCT_TYPE_DROPDOWN",values:e.org.figjam_disabled_at?[...r.exclude([oX.oM.WHITEBOARD]).values()]:[...r.values()],selectedValue:e.filters.productFilter,getDisplayText:e=>(0,uU.$)(e),updateFilter:t=>e.onFilter({productFilter:t})})),(0,fJ.GK)(e.org.id,e.selectedViewName)&&el.createElement(b9,{selectedWorkspaceId:e.filters.workspaceFilter,onFilterUpdate:t=>{e.onFilter({workspaceFilter:t})},getCount:e=>{var t;return(null==(t=p.workspaces)?void 0:t[e])??0}}),(0,fJ.PR)(e.org.id,e.selectedViewName)&&el.createElement(b6,{selectedLicenseGroupId:e.filters.licenseGroupFilter,onFilterUpdate:t=>{e.onFilter({licenseGroupFilter:t})},getCount:e=>{var t;return(null==(t=p.licenseGroups)?void 0:t[e])??0}}),el.createElement(uj.bv,{label:(0,e2.t)("members_table.menu_bar_filter.account_type"),"data-onboarding-key":ur,dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_ACCOUNT_TYPE_DROPDOWN",values:[lm._D.ADMIN,lm._D.MEMBER,lm._D.GUEST,fM.WH.IDP,fM.WH.UNVERIFIED],selectedValue:e.filters.permissionFilter,getCount:e=>p.permission[e],getDisplayText:e=>(0,fJ.zT)(e),updateFilter:t=>e.onFilter({permissionFilter:t})}),(0,fJ.XO)(e.selectedViewName)&&el.createElement(uj.bv,{label:(0,e2.t)("members_table.menu_bar_filter.role.seat_rename"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_ROLE_DROPDOWN",values:e.filters.productFilter===oX.oM.DEV_MODE?[lm.El.FULL,lm.El.RESTRICTED]:Object.values(lm.El),selectedValue:e.filters.roleFilter,getCount:a,getDisplayText:e=>(0,hc.t)(e),updateFilter:t=>e.onFilter({roleFilter:t})}),e.filters.productFilter!==oX.oM.DEV_MODE&&el.createElement(uj.bv,{label:(0,e2.t)("members_table.menu_bar_filter.last_edit"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_LAST_EDIT_DROPDOWN",values:Object.values(fM.rk),selectedValue:e.filters.lastEditFilter,getDisplayText:e=>(0,fJ.Mj)(e),getCount:e=>p.lastEdit[e],updateFilter:t=>e.onFilter({lastEditFilter:t})}),((null==(t=e.invoices)?void 0:t.length)||0)>0&&(0,fJ.RC)(e.selectedViewName)&&el.createElement(e8.jm,{className:be.$u,onClick:()=>e.onFilter({newEditorFilter:!e.filters.newEditorFilter}),trackingProperties:{filterType:"NewEditorFilter",isFilterEnabled:!e.filters.newEditorFilter}},el.createElement(hi.y,{allChecked:e.filters.newEditorFilter,someChecked:!1,onChange:eu.lQ}),el.createElement(e2.Tx,{id:"members_table.menu_bar_filter.new_since_last_invoice"}))))})()),emptyContent:el.createElement(b5.p,null,(()=>{let t=()=>{e.onFilter({...fM.J0,licenseGroupFilter:e.filters.licenseGroupFilter})},a=el.createElement(e2.Tx,{id:"members_table.no_members_to_show"}),r=el.createElement("span",null,el.createElement(e2.Tx,{id:"members_table.no_members_to_show"})," ",el.createElement("a",{className:b_,onClick:()=>t()},el.createElement(e2.Tx,{id:"multi_select_list.reset_filters"}))),n=el.createElement(e2.Tx,{id:"members_table.no_members_match_your_search_query"});return yT(e.filters)&&e.searchQuery?0===e.lastFilterAction?n:r:yT(e.filters)?r:e.searchQuery?n:a})()),actionBar:t=>{var a,r,n,i;let o=t.filter(bI).map(e=>e.orgUser),c=o.map(e=>e.id),d=new Set(c),m=c;if(l&&null===h)return el.createElement("div",{style:cs.sx.w150.$},el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER_ON_MENU}));let u=!1;if(l&&null!==h&&(u=e.isLoading),u&&E===oL.r.LOADING)return el.createElement("div",{style:cs.sx.w150.$},el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER_ON_MENU}));let _=o;if(u){let t=new Set(e.sortedItems.filter(bI).map(e=>e.orgUser).map(e=>e.id).filter(e=>!d.has(e)));m=(_=f.filter(e=>!t.has(e.id))).map(e=>e.id)}let p=y(o,e=>e.is_email_validated),g=!u&&1===p.size&&p.has(!1),v=-1!==m.indexOf(e.myOrgUser.id),b=o.some(e=>!!e.scim_account_type||!!e.scim_whiteboard_paid_status),N=_.map(e=>e.user.email).filter(e=>void 0!==e);if(0===m.length)return el.createElement(el.Fragment,null);let k=e.org.figjam_disabled_at?[oX.lM.FIGJAM]:[];(!(0,em.kc)().billing_dev_mode_customer_ui||e.isDevModeOptInRequired&&e.myOrgUser.permission!==lm._D.ADMIN)&&k.push(oX.lM.DEV_MODE);let S=oZ.kH.exclude(k),I=S.size()>1,A=o.filter(e=>e.ecc_upgrading_locked).length>0;return el.createElement(el.Fragment,null,(0,fJ.dL)(e.selectedViewName)&&I&&!b&&!A&&el.createElement(uj.Ve,{className:bu,dispatch:e.dispatch,showingDropdown:(null==(a=e.dropdownShown)?void 0:a.type)===bH,type:bH,isMultilevelDropdown:!0,chevronClassName:"members_table--whiteChevron--5ZyoS"},(null==(r=e.dropdownShown)?void 0:r.type)===bH&&T(m,u?null:o,u?s:null,S),el.createElement(e2.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"})),(0,fJ.dL)(e.selectedViewName)&&!I&&!b&&el.createElement(el.Fragment,null,(null==(n=e.dropdownShown)?void 0:n.type)===bH&&w(m,u?null:o,u?s:null),el.createElement(uj.Ve,{className:bu,dispatch:e.dispatch,showingDropdown:(null==(i=e.dropdownShown)?void 0:i.type)===bH,type:bH},el.createElement(e2.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"}))),el.createElement(uj.IU,{label:(0,e2.t)("members_table.copy_emails_button",{userCount:m.length}),onClick:()=>{yh(N,e.dispatch)}}),g&&el.createElement(uj.IU,{label:(0,e2.t)("members_table.resend_verification_button"),onClick:()=>{yf(m,e.org.id,e.dispatch)}}),!!e.workspacesCanMoveTo.length&&(0,fJ.GK)(e.org.id,e.selectedViewName)&&x(m,u?null:o,u?s:null),e.isLicenseGroupsEnabled&&(0,fJ.PR)(e.org.id,e.selectedViewName)&&C(m,u?null:o,u?s:null),!v&&el.createElement(uj.IU,{label:(0,e2.t)("members_table.remove_users_button",{userCount:m.length}),onClick:()=>yw(m,u?null:e.allOrgUsersByUserId,e.org,e.dispatch)}))},scrollAwayContent:e.additionalScrollAwayContent,onScroll:()=>e.dispatch(aC.oB()),onFetchMore:e.onFetchMore,selectAllDisabled:_,onToggleSelectAll:e=>e?i(!1):i(!0),unselectableItemKeys:e.unselectableItemKeys,itemTypeContext:{itemType:"user",getSelectedCountString:e=>l&&!h?"":(0,e2.t)("multi_select_list.selected_count_user",{numSelected:e})},minContentWidth:e.columns.length<=6?(0,te.hG)(e5.fAD):(0,te.hG)(e5.lRB),isBannerHeightDynamic:!0,isLoading:e.isLoading,sortState:e.sortState,onSetSortState:e.onSort,trackingProperties:{batchAction:k},getTotalSelected:l&&null!==h&&e.isLoading?(e,t)=>h-(t.length-e.length):void 0}))}let yC=e=>bI(e)?e.orgUser.id:e.idpUser.email,yN=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"user.handle",weight:1},{name:"user.name",weight:1},{name:"user.email",weight:1}]});function yk(e,t,a){var r;if(!a||!(0,ca.qu)(e,t))return!1;let n=(t=>{var a,r,n;switch(t){case oX.lM.DESIGN:return(0,dq.A)((null==(a=e.design_upgrade_reason)?void 0:a.created_at)||e.account_type_changed_at);case oX.lM.FIGJAM:return(0,dq.A)(null==(r=e.whiteboard_upgrade_reason)?void 0:r.created_at);case oX.lM.DEV_MODE:return(0,dq.A)(null==(n=e.dev_mode_upgrade_reason)?void 0:n.created_at);default:(0,eh.xb)(t)}})(t);if(!(0,mj.B8)(a))return a.buffer<0&&(null==(r=a.orgUserIds)?void 0:r.indexOf(e.id))!==-1;{let t=(0,dq.A)(a.timestamp),r=n>=t,l=e.id>=a.org_user_id;return(null==n?void 0:n.isSame(t))?l:r}}let yS=(e,t,a,r,n,l,i,s,o,c,d,m)=>u=>({dispatch:e,dropdownShown:t,isMe:a.user_id===u.user_id,isNewEditorByLicenseType:{design:yk(u,oX.lM.DESIGN,c),figjam:yk(u,oX.lM.FIGJAM,d),dev_mode:yk(u,oX.lM.DEV_MODE,m)},isOrgGuest:u.permission===lm._D.GUEST,onChangeAccountType:(t,a,l)=>yv(t,a,l,n,e,r,s,o,null),onChangeLicenseGroup:(t,a)=>yb(t,a,l,i,n,r,e,s,null),onChangeWorkspace:(t,a)=>yy(t,a,n,e,s,null),onChangeMemberPermission:yE,onCopyEmail:()=>{yh([u.user.email],e)},onDelete:t=>yw(t,r,n,e),onResendVerification:()=>{yf([u.id],n.id,e)},org:n,orgUser:u,updateNewEditorBuffer:o,queueFilterCountsRefetch:s}),yI=(e,t,a)=>r=>({dispatch:e,dropdownShown:t,idpUser:r,onCopyEmail:()=>{yh([r.email],e)},org:a,tooltipText:r.isOrgInvite?(0,e2.t)("members_table.idp_user.pending_invite"):(0,e2.t)("members_table.idp_user.user_provisioned")});function yA(e){var t,a,r;let{org:n,dropdownShown:l,invoices:i,searchQuery:s,setSearchQuery:o,filters:c,sort:d,designBillableSeats:m,figjamBillableSeats:u,devModeBillableSeats:_,startTime:p,isLoading:g}=e,E=(0,ei.wA)(),f=(0,ei.d4)(e=>e.selectedView),h=(0,ei.d4)(e=>{let t=e.currentUserOrgId;return e.orgUsersByOrgId.orgUsers[t]}),{sortedUsers:v,status:b,fetchMore:y,queueRefetch:w,newDesignEditorCutoff:T,newWhiteboardEditorCutoff:x,newDevModeEditorCutoff:C,updateNewEditorBuffer:N}=(0,mj.oo)({searchQuery:""!==s?s:void 0,sort:d,filter:c,setDesignEditorDiff:e.setDesignEditorDiff,setWhiteboardEditorDiff:e.setWhiteboardEditorDiff,setDevModeEditorDiff:e.setDevModeEditorDiff}),k=(0,aX.Rs)(a9.Z5M,{orgId:e.org.id}),S="loading"===k.status&&!n.is_dev_mode_opt_in_accepted||(0,ca.CA)((null==(a=null==(t=k.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null),{optimisticIds:I,addOptimisticIds:A}=fz(v),L=!!(0,em.kc)().members_optimistic_create,R=(0,aX.Rs)(a9.oSh,{orgId:n.id,orgUserIds:I},{enabled:L&&I.length>0}),O=el.useMemo(()=>{var e,t;return("loaded"===R.status?(null==(t=(0,_J.oA)(null==(e=R.data)?void 0:e.org))?void 0:t.baseOrgUserMembersById)??[]:[]).map(e=>(0,fH.fQ)(e))},[R.status,null==(r=R.data)?void 0:r.org]),D=el.useMemo(()=>s&&0!==O.length?(yN.set(O),yN.search(s)):O,[s,O]),F=el.useCallback(e=>(function(e,t,a,r,n,l){var i,s,o,c,d;let m=t[fM.e5.productFilter],u=t[fM.e5.licenseGroupFilter],_=t[fM.e5.workspaceFilter],p=t[fM.e5.permissionFilter],g=t[fM.e5.roleFilter],E=t[fM.e5.lastEditFilter],f=t[fM.e5.newEditorFilter];if(g){let t=(0,fM.wQ)(e)?e.design_paid_status:e.account_type,r=t===g,n=!a&&e.whiteboard_paid_status===g,l=(t===lm.El.FULL?lm.El.FULL:e.dev_mode_paid_status)===g;if(m===oX.oM.DESIGN&&!r||m===oX.oM.WHITEBOARD&&!n||m===oX.oM.DEV_MODE&&!l||!m&&!r&&!n&&!l)return!1}if(p===fM.WH.IDP&&(0,fM.wQ)(e)||p===fM.WH.UNVERIFIED&&(!(0,fM.wQ)(e)||!1!==e.is_email_validated)||p&&p!==fM.WH.IDP&&p!==fM.WH.UNVERIFIED&&((0,fM.wQ)(e)&&!1===e.is_email_validated||((0,fM.wQ)(e)?e.permission:null)!==p))return!1;if(E){let t;if((0,fM.wQ)(e)&&(t=m===oX.oM.DESIGN?"string"==typeof e.last_design_edit?e.last_design_edit:null==(i=e.last_design_edit)?void 0:i.action_at:m===oX.oM.WHITEBOARD?"string"==typeof e.last_whiteboard_edit?e.last_whiteboard_edit:null==(s=e.last_whiteboard_edit)?void 0:s.action_at:e.last_edit),!t)return!1;let a=null;if("3mo"===E?a=(0,dq.A)().subtract(3,"month"):"6mo"===E?a=(0,dq.A)().subtract(6,"month"):"1yr"===E&&(a=(0,dq.A)().subtract(1,"year")),(0,dq.A)(t).isAfter(a))return!1}if(f&&(!(0,fM.wQ)(e)||m===oX.oM.DESIGN&&!yk(e,oX.lM.DESIGN,r)||m===oX.oM.WHITEBOARD&&!yk(e,oX.lM.FIGJAM,n)||m===oX.oM.DEV_MODE&&!yk(e,oX.lM.DEV_MODE,l)))return!1;if(u){if(!(0,fM.wQ)(e))return!1;let t=null==(o=e.license_group_member)?void 0:o.license_group_id;if(!t&&u!==Eo.s||t&&u!==t)return!1}if(_){if(!(0,fM.wQ)(e))return!1;let t=null==(d=null==(c=e.workspace_users)?void 0:c.find(e=>e.is_main_workspace))?void 0:d.workspace_id;if(!t&&_!==fw.O||t&&_!==t)return!1}return!0})(e,c,!!n.figjam_disabled_at,T,x,C),[c,n.figjam_disabled_at,T,x,C]),M=el.useMemo(()=>D.filter(F),[D,F]),P=el.useMemo(()=>L?v.filter(F):v,[L,v]),[B,U]=el.useState(yg.FILTER),W=(0,mj.a9)(),V=!!(W&&W.permission===lm._D.ADMIN),G=(0,mq.MX)(),$=(0,ei.d4)(e=>e.licenseGroups),j=(0,mq.RG)(),{filterCountsViewResult:H,queueFilterCountsRefetch:q}=(0,mj.vu)(n.id,s,c),{groupsUserIsAdminOf:Y,otherLicenseGroups:z}=(0,mq.EQ)(G,W.user_id,!V),K=(0,dM.NJ)(n.id).data??[],J=el.useCallback(e=>(0,fM.wQ)(e)?yS(E,l,W,h,n,$,V,q,N,T,x,C)(e):yI(E,l,n)(e),[E,l,W,h,n,$,V,q,N,T,x,C]),Q=el.useMemo(()=>P.map(J),[P,J]),Z=el.useMemo(()=>M.map(J),[M,J]),X=new Set([...P,...M].filter(e=>!(0,fM.wQ)(e)).map(e=>e.email)),ee={columnName:d.columnName===fM.Od.SEARCH_SCORE?fM.Od.SEARCH_SCORE:(0,fJ.aM)(d.columnName??fM.Od.NAME,n.featured_scim_metadata),isReversed:d.isReversed},et=function(e,t,a,r,n,l,i,s,o,c,d){let m=[],u=(0,fJ.dL)(d),_={design:fM.Od.DESIGN_UPGRADE_DATE,whiteboard:fM.Od.WHITEBOARD_UPGRADE_DATE,dev_mode:fM.Od.DEV_MODE_UPGRADE_DATE},p=t.permission!==lm._D.ADMIN&&!a;m.push({name:(0,fJ.aM)(fM.Od.NAME,e.featured_scim_metadata),sorting_key:fM.Od.NAME,className:bt,getSortValue:e=>bI(e)?e.orgUser.user.handle||e.orgUser.user.email:e.idpUser.email,cellComponent:bB});let g=()=>{m.push({name:(0,fJ.aM)(fM.Od.DESIGN_ROLE,e.featured_scim_metadata),onboardingKey:u_,sorting_key:fM.Od.DESIGN_ROLE,className:ba,getSortValue:e=>bI(e)?e.orgUser.design_paid_status:e.idpUser.account_type||"zz-undefined",getSecondarySortValue:e=>{if(bI(e)&&e.orgUser.design_paid_status===lm.El.FULL)return bR(e.orgUser,oX.oM.DESIGN)},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a){if(!bI(e))return el.createElement(bx,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:e.idpUser.account_type});{let r=el.createElement("div",{"data-testid":`${e.orgUser.user.email}_design`},el.createElement(by,{key:`members_table_design_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.design,dropdownShown:e.dropdownShown}));return(0,em.kc)().billing_dev_mode_customer_ui?el.createElement(bW,{hideTooltip:e.orgUser.design_paid_status!==lm.El.FULL||!!a,item:e,upgradeTimestamp:bR(e.orgUser,oX.oM.DESIGN),upgradeReason:e.orgUser.design_upgrade_reason},r):el.createElement("div",null,r,e.orgUser.design_paid_status===lm.El.FULL&&!a&&bV(e,bR(e.orgUser,oX.oM.DESIGN),e.orgUser.design_upgrade_reason))}})(e,!u||!!t,o),headerClassName:br})},E=()=>{m.push({name:(0,fJ.aM)(fM.Od.WHITEBOARD_ROLE,e.featured_scim_metadata),sorting_key:fM.Od.WHITEBOARD_ROLE,className:ba,getSortValue:t=>e.figjam_disabled_at?"zz-undefined":bI(t)?t.orgUser.whiteboard_paid_status||"zz-undefined":t.idpUser.whiteboard_paid_status||"zz-undefined",getSecondarySortValue:e=>{var t;if(bI(e)&&e.orgUser.whiteboard_paid_status===lm.El.FULL)return null==(t=e.orgUser.whiteboard_upgrade_reason)?void 0:t.created_at},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a){if(e.org.figjam_disabled_at)return el.createElement("span",{className:"members_table--figjamDisabledColumn--M5O2Y"},"\u2013");if(!bI(e))return el.createElement(bx,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:e.idpUser.whiteboard_paid_status});{let r=el.createElement(bw,{key:`members_table_figjam_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.figjam,dropdownShown:e.dropdownShown});return(0,em.kc)().billing_dev_mode_customer_ui?el.createElement(bW,{hideTooltip:e.orgUser.whiteboard_paid_status!==lm.El.FULL||!!a,item:e,upgradeTimestamp:bR(e.orgUser,oX.oM.WHITEBOARD),upgradeReason:e.orgUser.whiteboard_upgrade_reason},r):el.createElement("div",null,r,e.orgUser.whiteboard_paid_status===lm.El.FULL&&!a&&bV(e,bR(e.orgUser,oX.oM.WHITEBOARD),e.orgUser.whiteboard_upgrade_reason))}})(e,!u||!!t,o),headerClassName:br})},f=()=>{let t=(0,em.kc)().billing_dev_mode_customer_ui?e=>bI(e)?e.orgUser.dev_mode_paid_status||"zz-undefined":e.idpUser.dev_mode_paid_status||"zz-undefined":void 0,a=(0,em.kc)().billing_dev_mode_customer_ui?e=>{var t;if(bI(e)&&e.orgUser.dev_mode_paid_status===lm.El.FULL)return null==(t=e.orgUser.dev_mode_upgrade_reason)?void 0:t.created_at}:void 0;m.push({name:(0,fJ.aM)(fM.Od.DEV_MODE_ROLE,e.featured_scim_metadata),sorting_key:fM.Od.DEV_MODE_ROLE,className:ba,getSortValue:t,getSecondarySortValue:a,sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a,r){if(bI(e)){let n=el.createElement(bT,{key:`members_table_dev_mode_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.dev_mode||!1,dropdownShown:e.dropdownShown,cannotOptInToDevMode:r});return el.createElement(bW,{hideTooltip:e.orgUser.dev_mode_paid_status!==lm.El.FULL||!!a,item:e,upgradeTimestamp:bR(e.orgUser,oX.oM.DEV_MODE),upgradeReason:e.orgUser.dev_mode_upgrade_reason},n)}{let t=e.idpUser.account_type===lm.El.FULL?lm.El.FULL:e.idpUser.dev_mode_paid_status;return el.createElement(bx,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:t})}})(e,!u||!!t||p,o,p),headerClassName:br})},h=()=>{m.push({name:(0,fJ.aM)(fM.Od.DESIGN_UPGRADE_DATE,e.featured_scim_metadata),sorting_key:o?_[o]:fM.Od.DESIGN_UPGRADE_DATE,className:"members_table--upgradeDateColumn--YKiKy members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>{if(bI(e)&&bA(e.orgUser,o))return bR(e.orgUser,o??oX.oM.DESIGN)},sortReversed:!0,cellComponent:e=>(function(e,t){if(bI(e)&&bA(e.orgUser,t)){let a=bR(e.orgUser,t??oX.oM.DESIGN),r=t===oX.oM.WHITEBOARD&&e.org.figjam_disabled_at;if(a&&!r)return el.createElement("div",null,el.createElement(e2.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(a)}))}return el.createElement(bL,null)})(e,o)})},v=()=>{m.push({name:(0,fJ.aM)(fM.Od.DESIGN_UPGRADE_REASON,e.featured_scim_metadata),sorting_key:o===oX.oM.WHITEBOARD?fM.Od.WHITEBOARD_UPGRADE_REASON:fM.Od.DESIGN_UPGRADE_REASON,className:"members_table--upgradeReasonColumn--xsNPP members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>{if(bI(e)&&bA(e.orgUser,o))return vD(e.orgUser.user.handle||e.orgUser.user.name||"",o===oX.oM.WHITEBOARD?e.orgUser.whiteboard_upgrade_reason:e.orgUser.design_upgrade_reason)||""},cellComponent:e=>(function(e,t){if(bI(e)&&bA(e.orgUser,t)){let a=e.orgUser.user.handle||e.orgUser.user.name||"",r=t===oX.oM.WHITEBOARD&&e.org.figjam_disabled_at,n=oZ.JT.withSuffix("_upgrade_reason").dict(t=>e.orgUser[t]),l=vD(a,t?n[t]:e.orgUser.design_upgrade_reason);if(l&&!r)return el.createElement("div",null,l)}return el.createElement(bL,null)})(e,o)})},b=()=>{m.push({name:(0,fJ.aM)(fM.Od.LAST_ACTIVE,e.featured_scim_metadata),sorting_key:fM.Od.LAST_ACTIVE,className:"members_table--lastSeenColumn--6cD9- members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>bI(e)?bD(e.orgUser,o):void 0,sortReversed:!0,cellComponent:e=>(function(e,t){if(!bI(e))return el.createElement(bL,null);let a=bD(e.orgUser,t);return a?el.createElement("span",{"data-onboarding-key":un,onClick:t=>{t.stopPropagation(),e.dispatch((0,t3.to)({type:v0,data:{user:e.orgUser.user,orgUser:e.orgUser,org:e.org,onClose:()=>e.dispatch(t3.Ce()),onRemoveUser:()=>{e.onDelete([e.orgUser.id])},selectedTab:vQ.ACTIVITY_LOG,onChangeAccountType:e.onChangeAccountType}}))},className:b_},el.createElement(lI.h1,{capitalize:!0,date:a})):el.createElement(bL,null)})(e,o)})},y=()=>{m.push({name:(0,fJ.aM)(fM.Od.LAST_EDIT,e.featured_scim_metadata),sorting_key:fM.Od.LAST_EDIT,className:"members_table--lastEditColumn--e8goq members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>bI(e)?bF(e.orgUser,o):void 0,sortReversed:!0,cellComponent:e=>(function(e,t){if(!bI(e))return el.createElement(bL,null);if((e.orgUser.last_design_edit||e.orgUser.last_whiteboard_edit)&&e.orgUser.last_edit){let a=bF(e.orgUser,t);return a?el.createElement(eT.N_,{onClick:t=>{t.stopPropagation(),e.dispatch((0,t3.to)({type:v9,data:{user:e.orgUser.user,orgUser:e.orgUser,lastDesignEdit:e.orgUser.last_design_edit||void 0,lastWhiteboardEdit:e.orgUser.last_whiteboard_edit||void 0}}))},trusted:!0},el.createElement(lI.h1,{capitalize:!0,date:a})):el.createElement(bL,null)}return e.orgUser.last_edit?el.createElement(lI.h1,{capitalize:!0,date:e.orgUser.last_edit}):el.createElement(bL,null)})(e,o)})};if((0,fJ.XO)(d)&&(o===oX.oM.DESIGN?(h(),v(),g()):o!==oX.oM.WHITEBOARD||e.figjam_disabled_at?(0,em.kc)().billing_dev_mode_customer_ui&&o===oX.oM.DEV_MODE?(h(),v(),f()):(g(),(0,em.kc)().billing_dev_mode_customer_ui&&f(),e.figjam_disabled_at||E()):(h(),v(),E())),i.length>0&&(0,fJ.GK)(e.id,d)){let t={};i.forEach(e=>{t[e.id]=e}),m.push({name:(0,fJ.aM)(fM.Od.WORKSPACE,e.featured_scim_metadata),sorting_key:fM.Od.WORKSPACE,className:"members_table--workspaceColumn--niXcB members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>{var a;if(bI(e)){let r=(0,o2.Ad)(e.orgUser);return r?(null==(a=t[r.workspace_id])?void 0:a.name)??"aaa-unassigned":"aaa-unassigned"}return"zzz-idpUser"},getSecondarySortValue:e=>{var t;if(bI(e))return(null==(t=(0,o2.Ad)(e.orgUser))?void 0:t.assigned_at)??void 0},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a,r){if(bI(e)){let n=(0,o2.Ad)(e.orgUser);return el.createElement("div",{className:"members_table--workspaceCell--4-gO-"},el.createElement(bS,{key:`members_table_workspace_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeWorkspace:e.onChangeWorkspace,workspacesCanMoveTo:a,orgUser:e.orgUser,dropdownShown:e.dropdownShown}),n&&function(e,t){var a,r;let n=e.assigned_at,l=e.update_reason,i="";if(e.actor_user_id){let n=t[e.actor_user_id];i=(null==(a=null==n?void 0:n.user)?void 0:a.handle)||(null==(r=null==n?void 0:n.user)?void 0:r.name)||""}let s=function(e,t){switch(e){case lm.hh.SELF_SELECTED:return(0,e2.t)("members_table.workspace_update_description.self_selected");case lm.hh.MOVED_BY_ADMIN:return t?(0,e2.t)("members_table.workspace_update_description.moved_by_admin",{adminName:t}):(0,e2.t)("members_table.workspace_update_description.moved_by_admin_generic");case lm.hh.AUTO_ASSIGNED:return(0,e2.t)("members_table.workspace_update_description.auto_assigned");default:return null}}(l,i);return s?el.createElement("div",{className:ey()(bp,bE),"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":s,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},el.createElement(e2.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)})):el.createElement("div",{className:bp},el.createElement(e2.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)}))}(n,r))}return el.createElement("div",{className:br},el.createElement(bL,null))})(e,!!t,i,s),headerClassName:br})}return r&&(0,fJ.PR)(e.id,d)&&m.push({name:(0,fJ.aM)(fM.Od.LICENSE_GROUP,e.featured_scim_metadata),sorting_key:fM.Od.LICENSE_GROUP,className:"members_table--licenseGroupColumn--wgaHP members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>{var t,a;return bI(e)?(null==(t=e.orgUser.license_group_member)?void 0:t.license_group_id)&&(null==(a=n[e.orgUser.license_group_member.license_group_id])?void 0:a.name)||"aaa-unassigned":"zzz-idpUser"},getSecondarySortValue:e=>{if(bI(e)&&e.orgUser.license_group_member)return e.orgUser.license_group_member.assigned_at},sortSecondaryReversed:!0,cellComponent:(e,t)=>{var a;return a=!!t,bI(e)?el.createElement("div",{className:"members_table--licenseGroupCell--GtafP"},el.createElement(bf,{key:`members_table_license_group_cell_${e.orgUser.id}`,areDropdownsDisabled:a,onChangeLicenseGroup:e.onChangeLicenseGroup,groupsCanMoveUserTo:l,orgUser:e.orgUser,dropdownShown:e.dropdownShown}),e.orgUser.license_group_member&&function(e,t){var a,r;let n=e.assigned_at,l=e.update_reason,i="";if(e.actor_user_id){let n=t[e.actor_user_id];i=(null==(a=null==n?void 0:n.user)?void 0:a.handle)||(null==(r=null==n?void 0:n.user)?void 0:r.name)||""}let s=function(e,t){switch(e){case ho.kc.SELF_SELECTED:return(0,e2.t)("members_table.billing_group_update_description.self_selected");case ho.kc.SELF_SELECTED_NOT_LISTED:return(0,e2.t)("members_table.billing_group_update_description.self_selected_not_listed");case ho.kc.SELF_SELECTED_DONT_KNOW:return(0,e2.t)("members_table.billing_group_update_description.self_selected_dont_know");case ho.kc.MOVED_BY_ADMIN:return t?(0,e2.t)("members_table.billing_group_update_description.moved_by_admin",{adminName:t}):(0,e2.t)("members_table.billing_group_update_description.moved_by_admin_generic");case ho.kc.AUTO_ASSIGNED:return(0,e2.t)("members_table.billing_group_update_description.auto_assigned");default:return null}}(l,i);return s?el.createElement("div",{className:ey()(bp,bE),"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":s,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},el.createElement(e2.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)})):el.createElement("div",{className:bp},el.createElement(e2.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)}))}(e.orgUser.license_group_member,s)):el.createElement("div",{className:br},el.createElement(bL,null))},headerClassName:br}),e.featured_scim_metadata&&m.push({name:(0,u5.du)(e.featured_scim_metadata),sorting_key:fM.Od.SCIM_DATA,className:"members_table--scimColumn--aXOD6 members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>bM(e)?`a${bM(e)}`:"z",cellComponent:e=>bM(e)?el.createElement("span",null,bM(e)):el.createElement(bL,null)}),(0,em.kc)().billing_dev_mode_customer_ui?null===o?b():o===oX.oM.DESIGN||o===oX.oM.WHITEBOARD?(b(),y()):o===oX.oM.DEV_MODE&&b():(b(),y()),m.push({name:"",className:"members_table--iconColumn--DH8JC admin_settings_page--iconColumn--kO4-J",cellComponent:(e,t)=>t?el.createElement(el.Fragment,null):bI(e)?el.createElement(bj,{...e,selectedViewName:d,queueFilterCountsRefetch:c}):e.idpUser.isOrgInvite?el.createElement(bG,{...e}):el.createElement(b$,{...e})}),m}(n,W,!S,j,$,Y.concat(z),K,h,c.productFilter,q,f.view),ea=!fK(n);if(c.productFilter===oX.oM.DEV_MODE&&ea){let e=(0,fJ.aM)(fM.Od.LAST_ACTIVE,n.featured_scim_metadata);et=et.filter(t=>t.name!==e)}let[,er]=el.useState(ee),en=el.useMemo(()=>{if(0===Z.length)return Q;let e=et.find(e=>e.name===d.columnName);return(0,fq.m)(Q,Z,e||et[0],d)},[Q,Z,et,d]),[es,eo]=el.useState(!1);el.useEffect(()=>{let e="membersTabOrgJoinRequest"in f?f.membersTabOrgJoinRequest:null;e&&!es&&(E(t3.to({type:hl,data:{selectedOrgJoinRequest:e}})),eo(!0))},[E,es,f]);let ec=el.useCallback(e=>{let t=!1;e===fM.Od.SEARCH_SCORE?t=!1:d.columnName===e&&(t=!d.isReversed);let a={isReversed:t,columnName:e};E(aC.$T({...f,orgAdminMembersTabSort:a,orgAdminMembersTabFilters:c}));let r=e===fM.Od.SEARCH_SCORE?fM.Od.SEARCH_SCORE:(0,fJ.aM)(e,n.featured_scim_metadata);er(e=>({columnName:r,isReversed:e.columnName===r&&!e.isReversed}))},[E,c,n.featured_scim_metadata,er,d.columnName,d.isReversed,f]),ed=el.useCallback(e=>{e!==s&&(0,e7.sx)("Org user search performed",{orgId:n.id,queryLength:e.length}),o(e),U(yg.SEARCH),e?ec(fM.Od.SEARCH_SCORE):""===e&&ec(fM.oU.columnName)},[ec,n.id,s,o]),eu=el.useMemo(()=>(0,d9.s)(ed,300),[ed]),e_=b!==oL.r.SUCCESS||!!y||g;return el.createElement(yx,{allOrgUsersByUserId:h,dispatch:E,dropdownShown:l,filterCountsViewResult:H,filters:c,lastFilterAction:B,myOrgUser:W,onFilter:e=>{let t={...c,...e};E(aC.$T({...f,orgAdminMembersTabFilters:t,orgAdminMembersTabSort:d})),U(yg.FILTER)},onSearch:eu,onClearSearch:()=>ed(""),org:n,invoices:i,searchQuery:s,isCurrentUserOrgAdmin:V,licenseGroupsById:$,licenseGroupsUserIsAdminOf:Y,licenseGroupsUserIsNotAdminOf:z,isLicenseGroupsEnabled:j,workspacesCanMoveTo:K,designBillableSeats:m,figjamBillableSeats:u,devModeBillableSeats:_,isLoading:e_,unselectableItemKeys:X,columns:et,sortState:d,onSort:ec,onFetchMore:y,sortedItems:en,queueFilterCountsRefetch:q,updateNewEditorBuffer:N,startTime:p,selectedViewName:f.view,title:e.title,isTitleLoading:e.isTitleLoading,additionalScrollAwayContent:e.additionalScrollAwayContent,queueOrgUsersRefetch:w,customEmptyState:e.customEmptyState,isDevModeOptInRequired:S,addPendingOrgUserIds:A})}function yL(){var e;let t=(0,ei.d4)(({dropdownShown:e})=>e),a=(0,ei.d4)(({loadingState:e})=>e),r=(0,ei.d4)(({orgById:e,currentUserOrgId:t})=>e[t]),n=(0,ei.d4)(({selectedView:e})=>e),l=(0,mq.MX)(),i=(0,ei.wA)(),s=(0,uT.Xf)(null==r?void 0:r.id),o=null==(e=null==s?void 0:s.data)?void 0:e.invoices,{selectedTab:c,licenseGroupId:d}=n,m=(0,mq.EO)(r.id);el.useEffect(()=>{i(py.Jt({forceRefetch:!0}))},[i,r.id]);let u=Date.now(),[_,p]=el.useState(""),g=l.find(e=>e.id===d),E=(0,t8.VP)(a,(0,mq.EO)(r.id));!g&&(0,t8.mn)(a,m)&&(0,t8.D2)(a,m)&&i(aC.$T(mK.o0));let f=null;if(c===mB.RM.MEMBERS){let e={...fM.J0,...n.orgAdminMembersTabFilters,licenseGroupFilter:d},a=n.orgAdminMembersTabSort||fM.oU;f=el.createElement(yA,{invoices:o,org:r,dropdownShown:t,key:d,filters:e,sort:a,figjamBillableSeats:null,designBillableSeats:null,devModeBillableSeats:null,startTime:u,searchQuery:_,setSearchQuery:p,isLoading:E,title:null==g?void 0:g.name,isTitleLoading:E,customEmptyState:el.createElement(nX.Y,{direction:"vertical",width:"fill-parent",height:"hug-contents",horizontalAlignItems:"center",verticalAlignItems:"center",strokeColor:"default",strokeWidth:1,padding:20},el.createElement(oK.E,{color:"secondary",fontWeight:"semi-bold",i18nId:"license_group_admin.members.no_members_yet"}),el.createElement(oK.E,{color:"secondary",i18nId:"license_group_admin.members.no_members_yet.subtitle"}))})}return el.createElement(el.Fragment,null,el.createElement(aV.p,null,el.createElement(f$,{licenseGroupId:d})),el.createElement(uw.r,{containerClass:_y,scrollableContainerClass:_w,toolbar:el.createElement(__,{bigmaEnabled:r.bigma_enabled}),content:f}))}var yR=a(89865),yO=a.n(yR),yD=a(377090);let yF=(0,fl.bt)(e=>"loaded"!==e.orgTeams.status?(0,aX.Xm)():(0,aX.gB)(e.orgTeams.teams)),yM=(0,eU.yu)(yF,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(yD.Jt({})),()=>{t.dispatch(yD.MT())}}),yP=(0,eU.yu)(yF,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(yD.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(yD.MT())}}),yB=(0,n8.eU)(e=>{let t=e((0,eU.yu)(yF,({target:e})=>{let t=e.getStore();t.getState().orgTeams.status||t.dispatch(yD.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!0}))}));return"loaded"!==t.status?t:(0,aX.gB)(yO()(t.data,e=>e.id))}),yU=(0,eU.yu)(yF,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(yD.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!0,includeSecretTeams:!0})),()=>{t.dispatch(yD.MT())}}),yW=(0,eU.Iz)(e=>(0,eU.yu)(yF,({target:t})=>{let a=t.getStore();return a.getState().orgTeams.status||a.dispatch(yD.Zi({workspaceId:e})),()=>{a.dispatch(yD.MT())}}));var yV=a(46415),yG=a(956143),y$=a(632430),yj=a(905739),yH=a(731723),yq=a(295680);let yY=(0,te.jz)(e5.Ytf);function yz(){return(0,ew.N)(`(max-width: ${yY}px)`)}var yK=a(493364),yJ=((p=yJ||{}).CreateFirstWorkspace="CreateFirstWorkspace",p.CreateFirstBillingGroup="CreateFirstBillingGroup",p);let yQ="seen_enterprise_org_admin_onboarding",yZ=(0,aj.r1)(yQ);function yX(e){let{step:t,isOverlayShowing:a,next:r,complete:n}=e;switch(t){case"CreateFirstWorkspace":return el.createElement(fW.rq,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:yK.EL.FALLBACK,stepCounter:{stepNum:1,totalNumSteps:2},isShowing:a,targetKey:m5,trackingContextName:`${m0} - create first workspace`,title:el.createElement(oK.E,{i18nId:"org_admin_onboarding.tooltip.create_first_workspace.title"}),description:el.createElement(oK.E,{i18nId:"org_admin_onboarding.tooltip.create_first_workspace.description"}),primaryCta:{label:el.createElement(oK.E,{i18nId:"general.next"}),type:"button",onClick:r,ctaTrackingDescriptor:e3.c.NEXT},onClose:n,onTargetLost:n,userFlagOnShow:yQ});case"CreateFirstBillingGroup":return el.createElement(fW.rq,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:yK.EL.FALLBACK,stepCounter:{stepNum:2,totalNumSteps:2},isShowing:a,targetKey:m9,trackingContextName:`${m0} - create first billing group`,title:el.createElement(oK.E,{i18nId:"org_admin_onboarding.tooltip.create_first_billing_group.title"}),description:el.createElement(oK.E,{i18nId:"org_admin_onboarding.tooltip.create_first_billing_group.description"}),primaryCta:{label:el.createElement(oK.E,{i18nId:"general.got_it"}),type:"button",onClick:n,ctaTrackingDescriptor:e3.c.DONE},onClose:n,onTargetLost:n,userFlagOnShow:yQ});default:(0,eh.xb)(t)}}function y0(){let e=(0,sK.sZ)(),t=(null==e?void 0:e.id)??null,a=yz(),r=(0,eU.md)(yZ),n=(0,aX.Rs)(a9.Iwl,{orgId:t},{enabled:(0,u5.kA)(e)}),{show:l,complete:i,isShowing:s}=(0,a$.e)({overlay:aJ.Msu,priority:aH.N.DEFAULT_MODAL},[r,n]),o=["CreateFirstWorkspace","CreateFirstBillingGroup"],{currentStep:c,next:d}=(0,fP.A)({numSteps:o.length,onComplete:i});return(0,ed.h)(()=>{l({canShow:(t,r)=>{var n,l;if(!(0,u5.kA)(e)||t)return!1;let i=(null==(n=r.org)?void 0:n.workspaces)??[],s=(null==(l=r.org)?void 0:l.licenseGroups)??[];return 0===i.length&&0===s.length&&!a}})}),el.createElement(fU.U,{currentStep:c,isShowing:s,children:o.map((e,t)=>el.createElement(yX,{key:t,step:e,isOverlayShowing:s,next:d,complete:i}))})}var y1=a(394828),y2=a(740280),y4=a(864114);let y3="admin_onboarding_overlay--bold--FFVeT",y8="admin_onboarding_overlay--listItem--qXeo9",y5="seen_sharing_clarity_admin_onboarding_overlay",y6=(0,aj.r1)(y5);function y9(){let e=(0,eU.md)(y6),{show:t,isShowing:a,complete:r}=(0,a$.e)({overlay:aJ.XIg,priority:aH.N.SECONDARY_MODAL},[e]);(0,ed.h)(()=>{t({canShow:e=>!e})});let n=el.createElement(el.Fragment,null,el.createElement("ul",{className:"admin_onboarding_overlay--list--00013"},el.createElement("li",{className:y8},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_1",strongInviteOnly:el.createElement("span",{className:y3},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.invite_only"}))})),el.createElement("li",{className:y8},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_2",strongVisible:el.createElement("span",{className:y3},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.visible"})),strongHidden:el.createElement("span",{className:y3},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.hidden"}))})),el.createElement("li",{className:y8},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_3",strongAnyoneInOrg:el.createElement("span",{className:y3},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.anyone_in_the_org"}))})),el.createElement("li",{className:y8},el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_4"}))));return el.createElement(y2.X,{isShowing:a,title:el.createElement(e2.Tx,{id:"rcs.sharing_clarity.admin_overlay.new_language_for_team_access"}),media:el.createElement(y1.y,{src:"https://static.figma.com/uploads/8c4e048a40c1f12e59d2c74adf70bbcd3ded9bb1",alt:"",aspectRatio:600/208}),description:n,primaryCta:{label:el.createElement(e2.Tx,{id:"rcs.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:e3.c.DONE},secondaryCta:{label:el.createElement(e2.Tx,{id:"rcs.rcs_shared.learn_more"}),type:"link",href:"https://help.figma.com/hc/en-us/articles/360040450293-Create-a-team-in-an-organization",ctaTrackingDescriptor:e3.c.LEARN_MORE},trackingContextName:"Sharing Clarity Admin Onboarding Overlay",userFlagOnShow:y5,position:y4.Q.BOTTOM_RIGHT,onClose:r})}var y7=a(75224),we=a(756317),wt=a(555301),wa=a(877270),wr=a(875387);function wn(e){let{filters:t,enabledFilterIds:a,onChange:r}=e,[n,l]=el.useState(!1),i=(e,t)=>{let n=new Set([...a]);t.currentTarget.checked?n.add(e):n.delete(e),r(n)};return el.createElement("div",{className:eE.cx.relative.$},el.createElement(mE.$,{icon:"filter-32",variant:"secondary",onClick:()=>l(!n)},el.createElement(nX.Y,{horizontalAlignItems:"space-between"},el.createElement(oK.E,{i18nId:"resources_tab.libraries.filters"}),a.size>0&&el.createElement(nX.Y,{backgroundColor:"selected",cornerRadius:2,padding:{left:4,right:4}},el.createElement(oK.E,{color:"brand",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.filters_applied",i18nParams:{numActiveFilters:a.size}})))),n&&el.createElement(el.Fragment,null,el.createElement(dB.W.DropdownModalScrim,{closeDropdown:()=>l(!1)}),el.createElement("div",{className:"floating_filter--floatingFilterBody--E0xix _overlayBase--_overlayBase--Rkj8l"},el.createElement(nX.Y,{direction:"vertical",backgroundColor:"default",cornerRadius:2,spacing:0},el.createElement(nX.Y,{horizontalAlignItems:"space-between",strokeWidth:{bottom:1},strokeColor:"default",height:40,padding:{left:16,right:4}},el.createElement(oK.E,{fontWeight:"semi-bold",i18nId:"resources_tab.libraries.filters"}),el.createElement(mE.$,{icon:"x-32",variant:"text",onClick:()=>l(!n)})),el.createElement(rt.P,{className:"floating_filter--scrollContainer--Q0b20"},el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement(nX.Y,{height:40,padding:{left:16,right:4},horizontalAlignItems:"space-between"},el.createElement(oK.E,{fontWeight:"semi-bold",i18nId:"resources_tab.libraries.enabled_for"}),a.size>0&&el.createElement(mE.$,{variant:"text",onClick:()=>{r(new Set),l(!1)}},el.createElement(oK.E,{color:"brand",i18nId:"resources_tab.libraries.clear_all"}))),el.createElement(nX.Y,{direction:"vertical",spacing:16,padding:{top:4,left:16,right:16,bottom:16}},t.map(e=>el.createElement(cl.S,{key:e.id,label:e.name,truncateLabel:{truncate:"end"},checked:a.has(e.id),onChange:t=>i(e.id,t)})))))))))}var wl=a(189430),wi=a(696673),ws=a(81182),wo=a(133554);let wc=(0,n8.eU)(void 0);var wd=a(613557);function wm({label:e,children:t}){return el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",spacing:0},el.createElement(oK.E,{color:"secondary"},e),t)}let wu=function({libraryData:e,orgData:t}){var a,r;let n=(0,sK.sZ)(),l=(0,ei.d4)(e=>{var t;return null==(t=e.user)?void 0:t.id}),i=e.updatedAt,s="file"===e.type?e.repoOwner:void 0,o=e.owner??s,c=e.approvedLibraries??[],d=(0,eU.md)(wc),m=(0,u5.Oe)(n)&&!!d&&c.some(e=>e.resourceType===wo.Y.Workspace&&e.resourceId===d),u=(0,u5.Oe)(n)&&n&&c.some(e=>e.resourceType===wo.Y.Org&&e.resourceId===n.id),_=null==(r=null==(a=t.workspaces)?void 0:a.find(e=>e.id===d))?void 0:r.name,p=(0,eU.md)(wr.VQ),g=el.useMemo(()=>"community"===e.type&&p.has((0,y7.lt)(e.hubFileId)),[e,p]);return el.createElement(nX.Y,{direction:"vertical",width:180,spacing:16},el.createElement(nX.Y,{height:120},el.createElement(gU.N,{editor_type:null,client_meta:"",thumbnail_url:e.thumbnailUrl,additionalClassName:eE.cx.wFull.hFull.bRadius4.$,isLocked:!1})),el.createElement(wm,{label:(0,e2.t)("resources_tab.libraries.library_name")},el.createElement("span",{className:eE.cx.maxWFull.overflowBreakWord.alignTop.$,"data-testid":"library-info-library-name"},e.name,(m||u)&&el.createElement("div",{className:eE.cx.inlineBlock.$},el.createElement(we.cX,{orgNameForTooltip:u?t.name:void 0,workspaceNameForTooltip:m?_:void 0})),g&&(0,em.kc)().dse_preset_libraries&&el.createElement("div",{className:eE.cx.inlineBlock.ml4.$},el.createElement(wa.S,{hubFileId:"community"===e.type?e.hubFileId:void 0,showTooltip:!0})))),i&&el.createElement(wm,{label:(0,e2.t)("resources_tab.libraries.last_published")},el.createElement(lI.h1,{date:i})),el.createElement(wm,{label:(0,e2.t)("resources_tab.libraries.library_owner")},el.createElement("div",{className:eE.cx.pt2.wFull.$},o?el.createElement(aa.az,{includeUserEmailAddress:!0,size:24,entity:{imageUrl:o.imgUrl,name:o.name??void 0,email:o.email??void 0},showIsMe:o.id===l}):el.createElement(oK.E,{i18nId:"resources_tab.libraries.file_has_no_owner"}))),"file"===e.type&&el.createElement("a",{className:eE.cx.cursorPointer.colorTextBrand.$,href:(0,oT.jN)({file:{key:e.fileKey,name:e.name}}),target:"_blank"},el.createElement(nX.Y,{spacing:4},el.createElement(oK.E,{i18nId:"resources_tab.libraries.open_library_file"}),el.createElement(eC.B,{svg:wd.A,className:eE.cx.colorIconBrand.$}))))};var w_=a(996690),wp=a(646240),wg=a(788744),wE=a(416095),wf=a(291829),wh=a(398529),wv=a(621630),wb=a(680681);function wy({request:e,fileKey:t,resourceId:a,resourceType:r}){var n;let l=`optimistic-approved-library-create-${(0,t9.g)()}`;return null==(n=(0,fI.WB)())?void 0:n.optimisticallyCreate({ApprovedLibrary:{[l]:{fileKey:t,resourceId:a,resourceType:r}}},e)}function ww({request:e,approvedLibraryId:t}){var a;return null==(a=(0,fI.WB)())?void 0:a.optimisticallyDelete({ApprovedLibrary:{[t]:null}},e)}let wT=new class{constructor(){this.createWorkspaceApprovedLibrary=({workspaceId:e,fileKey:t,onfulfilled:a,onrejected:r})=>wy({request:td.Ay.post(`/api/workspace_approved_library/${t}`,{workspace_id:e}).then(a,r),fileKey:t,resourceId:e,resourceType:wo.Y.Workspace}),this.deleteWorkspaceApprovedLibrary=({approvedLibraryId:e,workspaceId:t,fileKey:a,onfulfilled:r,onrejected:n})=>ww({request:td.Ay.del(`/api/workspace_approved_library/${a}`,{workspace_id:t}).then(r,n),approvedLibraryId:e}),this.createOrgApprovedLibrary=({orgId:e,fileKey:t,onfulfilled:a,onrejected:r})=>wy({request:td.Ay.post(`/api/org_approved_library/${t}`,{org_id:e}).then(a,r),fileKey:t,resourceId:e,resourceType:wo.Y.Org}),this.deleteOrgApprovedLibrary=({approvedLibraryId:e,orgId:t,fileKey:a,onfulfilled:r,onrejected:n})=>ww({request:td.Ay.del(`/api/org_approved_library/${a}`,{org_id:t}).then(r,n),approvedLibraryId:e})}},wx=gp.M4.Mutation(async e=>{await wT.createOrgApprovedLibrary(e)}),wC=gp.M4.Mutation(async e=>{await wT.deleteOrgApprovedLibrary(e)});function wN({library:e,org:t}){let a=(0,ei.wA)(),r=(0,gp.n_)(wx),n=(0,gp.n_)(wC),[l,i]=el.useState(!1),[s,o]=el.useState(!1),c=e.approvedLibraries??[],d=(0,wb.XF)(c,t.id),m=null!=d,u=m&&!s?(0,wb.wZ)({orgName:t.name}):{},_={libraryName:e.name,resourceName:t.name};return el.createElement(nX.Y,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{bottom:4}},el.createElement("div",{className:eE.cx.minW0.wFull.fontMedium.$},el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},el.createElement(e2.Tx,{id:"resources_tab.approved_libraries.set_as_approved"}))),el.createElement("div",{...u},el.createElement(m_.l,{disabled:l,on:m,onChange:m?()=>{d&&"file"===e.type&&(i(!0),o(!0),n({approvedLibraryId:d.id,orgId:t.id,fileKey:e.fileKey,onfulfilled:()=>{i(!1),a(a0.F.enqueue({message:(0,e2.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_success",_)}))},onrejected:()=>{i(!1);let e=(0,e2.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_error",_);a(ae.s.error(e)),console.error(e)}}))}:()=>{"file"===e.type&&(i(!0),o(!0),r({orgId:t.id,fileKey:e.fileKey,onfulfilled:()=>{i(!1),a(a0.F.enqueue({message:(0,e2.t)("resources_tab.approved_libraries_toggle.mark_as_approved_success",_)}))},onrejected:()=>{i(!1);let e=(0,e2.t)("resources_tab.approved_libraries_toggle.mark_as_approved_error",_);a(ae.s.error(e)),console.error(e)}}))}})))}let wk=gp.M4.Mutation(async e=>{await wT.createWorkspaceApprovedLibrary(e)}),wS=gp.M4.Mutation(async e=>{await wT.deleteWorkspaceApprovedLibrary(e)});function wI({library:e,org:t,workspaceId:a,workspaceName:r}){let n=(0,ei.wA)(),l=(0,sK.sZ)(),i=(0,gp.n_)(wk),s=(0,gp.n_)(wS),[o,c]=el.useState(!1),[d,m]=el.useState(!1),u=e.approvedLibraries??[],_=(0,wb.CA)(u,a),p=(0,wb.XF)(u,(null==l?void 0:l.id)??null),g=null!=_,E=(0,u5.Oe)(l)&&null!=p,f=E?{...(0,wb.wZ)({orgName:t.name}),"data-tooltip-is-workspace-toggle-disabled":E}:g&&!d?(0,wb.wZ)({workspaceName:r}):{},h={libraryName:e.name,resourceName:r};return el.createElement(nX.Y,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{bottom:4}},el.createElement("div",{className:eE.cx.minW0.wFull.fontMedium.$},el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},el.createElement(e2.Tx,{id:"resources_tab.approved_libraries.set_as_approved"}))),el.createElement("div",{...f},el.createElement(m_.l,{disabled:o||E,on:g||E,onChange:g?()=>{_&&"file"===e.type&&(c(!0),m(!0),s({approvedLibraryId:_.id,workspaceId:a,fileKey:e.fileKey,onfulfilled:()=>{c(!1),n(a0.F.enqueue({message:(0,e2.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_success",h)}))},onrejected:()=>{c(!1);let e=(0,e2.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_error",h);n(ae.s.error(e)),console.error(e)}}))}:()=>{"file"===e.type&&(c(!0),m(!0),i({workspaceId:a,fileKey:e.fileKey,onfulfilled:()=>{c(!1),n(a0.F.enqueue({message:(0,e2.t)("resources_tab.approved_libraries_toggle.mark_as_approved_success",h)}))},onrejected:()=>{c(!1);let e=(0,e2.t)("resources_tab.approved_libraries_toggle.mark_as_approved_error",h);n(ae.s.error(e)),console.error(e)}}))}})))}var wA=((g=wA||{}).OFF="OFF",g.ALL_FILES="ALL_FILES",g.DESIGN_FILES="DESIGN_FILES",g.FIGJAM_FILES="FIGJAM_FILES",g);let wL="use-org-setting-toggle",wR={OFF:"visibility-off-radio",ALL_FILES:"visibility-all-radio",DESIGN_FILES:"visibility-design-radio",FIGJAM_FILES:"visibility-figjam-radio"},wO=e=>{if(e){let{isSubscribed:t,figJamSubscribed:a}=e;if(t&&a)return"ALL_FILES";if(t)return"DESIGN_FILES";if(a)return"FIGJAM_FILES"}return"OFF"},wD=e=>{switch(e){case"ALL_FILES":return(0,e2.t)("resources_tab.libraries.subscription.all_files");case"DESIGN_FILES":return(0,e2.t)("resources_tab.libraries.subscription.design_files");case"FIGJAM_FILES":return(0,e2.t)("resources_tab.libraries.subscription.figjam_files");default:return(0,e2.t)("resources_tab.libraries.subscription.off")}},wF=e=>{switch(e){case"ALL_FILES":return{designSubscribed:!0,figjamSubscribed:!0};case"DESIGN_FILES":return{designSubscribed:!0,figjamSubscribed:!1};case"FIGJAM_FILES":return{designSubscribed:!1,figjamSubscribed:!0};case"OFF":return{designSubscribed:!1,figjamSubscribed:!1}}};function wM({libraryData:e,orgData:t,selectedWorkspaceId:a}){var r,n,l,i,s,o;let c=(0,ei.wA)(),d=el.useMemo(()=>{var e;if(!a)return{...t,type:wo.Y.Org};let r=null==(e=t.workspaces)?void 0:e.find(e=>e.id===a);return r&&{...r,type:wo.Y.Workspace}},[t,a]),m=(0,aX.Rs)(a9.efs,{fileKey:(0,w_.Xs)(e)},{enabled:(0,em.kc)().ds_workspace_team_default_modes&&"file"===e.type}),u=(0,sK.sZ)(),[_,p]=el.useState({}),[g,E]=el.useState(!1),[f,h]=el.useState(null),[v,b]=el.useState(!1),[y,w]=el.useState(null),[T,x]=el.useState(null),C=(0,u5.Oe)(u),N=function(e,t,a,r){let n=(0,mj.a9)(),l=(0,u5.Oe)(t),i=(0,wg.kL)("file"===r.type?r.fileKey:void 0),s=(null==n?void 0:n.permission)===lm._D.ADMIN;return el.useCallback(t=>{if("file"!==r.type||(null==e?void 0:e.type)!==wo.Y.Workspace||!l||!i||s||"ALL_FILES"===t)return!1;let n=a.librarySubscription;if(!n)return!1;let o={design:n.isSubscribed,figjam:n.figJamSubscribed},c=wF(t);return(0,wE.T4)(o,c)},[l,s,i,r,a,e])}(d,u,t,e);el.useEffect(()=>{var e,t;f!==a&&(E(!1),h(a),(0,em.kc)().ds_workspace_team_default_modes&&a&&(null==(e=m.data)?void 0:e.file)&&wf.j.getDefaultModes({fileKey:null==(t=m.data)?void 0:t.file.key,entityType:"workspace",entityId:a}).then(e=>{p(e.data.meta),E(!0)}))},[f,null==(r=m.data)?void 0:r.file,a]);let k=el.useMemo(()=>{switch(e.type){case"file":return["OFF","ALL_FILES","DESIGN_FILES","FIGJAM_FILES"];case"community":return["OFF","DESIGN_FILES"]}},[e.type]);if(!d)return el.createElement(el.Fragment,null);let S=C&&a&&"file"===e.type,I=!a,A=!!a&&null===d.librarySubscription,L=A?wO(t.librarySubscription):wO(d.librarySubscription);return el.createElement(nX.Y,{direction:"vertical",padding:16},!C&&el.createElement(oK.E,{i18nId:"resources_tab.libraries.manage_library_for",i18nParams:{orgOrWorkspaceName:d.name},fontWeight:"medium",truncate:"line-clamp",lineClamp:2}),C&&I&&"file"===e.type&&el.createElement(el.Fragment,null,el.createElement(wN,{library:e,org:t}),el.createElement(wP,null)),a&&el.createElement(el.Fragment,null,S&&a&&el.createElement(el.Fragment,null,el.createElement(wI,{library:e,org:t,workspaceId:a,workspaceName:d.name}),el.createElement(wP,null)),v&&a&&y&&"file"===e.type&&el.createElement(wv.X,{isShowing:!0,onCancel:()=>b(!1),onConfirm:()=>{T&&(c((0,y$.PP)({libraryWorkspaceSubscription:{workspaceId:a,resourceId:e.fileKey,isCommunityLibrary:!1,subscriptions:T},libraryName:e.name,workspaceName:d.name})),b(!1),x(null),w(null))},targetKey:y,fileKey:e.fileKey}),el.createElement(nX.Y,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{vertical:S?4:8}},el.createElement("div",{className:eE.cx.minW0.wFull.$},el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},el.createElement("div",{className:eE.cx.inlineFlex.pre.maxWFull.$},el.createElement(e2.Tx,{id:"resources_tab.libraries.use_orgs_setting",orgName:el.createElement(oK.E,{truncate:!0},t.name)})),el.createElement(oK.E,{color:"secondary",i18nId:"resources_tab.libraries.current",i18nParams:{setting:wD(wO(t.librarySubscription))}}))),el.createElement("span",{"data-onboarding-key":wL},el.createElement(m_.l,{on:A,onChange:()=>{a&&(d.librarySubscription?c((0,y$.oA)({libraryWorkspaceSubscription:{id:d.librarySubscription.id,workspaceId:a,resourceId:(0,w_.Xs)(e),isCommunityLibrary:"community"===e.type},libraryName:e.name,workspaceName:d.name})):N("OFF")?(b(!0),w(wL),x({design:!1,figjam:!1})):c((0,y$.PP)({libraryWorkspaceSubscription:{workspaceId:a,resourceId:(0,w_.Xs)(e),isCommunityLibrary:"community"===e.type,subscriptions:{design:!1,figjam:!1}},libraryName:e.name,workspaceName:d.name})))}}))),!S&&el.createElement("div",{className:eE.cx.bt1.bSolid.colorBorder.wFull.h1.mt8.$})),"community"===e.type&&el.createElement(wP,{hideLineBreak:!0}),el.createElement(mu.z,{value:L,onChange:r=>{var n,l;if(r===L)return;let i={figjam:"ALL_FILES"===r||"FIGJAM_FILES"===r,design:"ALL_FILES"===r||"DESIGN_FILES"===r};a?N(r)?(b(!0),w(wR[r]),x(i)):c((0,y$.PP)({libraryWorkspaceSubscription:{id:d.librarySubscription.id,workspaceId:a,resourceId:(0,w_.Xs)(e),isCommunityLibrary:"community"===e.type,subscriptions:i},libraryName:e.name,workspaceName:d.name})):c((0,y$.Sn)({libraryOrgSubscription:{orgId:t.id,resourceId:(0,w_.Xs)(e),isCommunityLibrary:"community"===e.type,subscriptions:i},userInitiated:!0,libraryName:e.name,orgName:t.name,libraryTeamId:"file"===e.type?e.teamId??null:null,currentSubscription:{design:!!(null==(n=d.librarySubscription)?void 0:n.isSubscribed),figjam:!!(null==(l=d.librarySubscription)?void 0:l.figJamSubscribed)}}))}},k.map(e=>el.createElement(mu.Z,{dataOnboardingKey:wR[e],key:e,value:e,disabled:A,className:eE.cx.mt8.mb8.h16.if(A,eE.cx.opacity0_5).$,labelClassName:eE.cx.font11.$},wD(e)))),a&&(0,em.kc)().ds_workspace_team_default_modes&&((null==(l=null==(n=m.data)?void 0:n.file)?void 0:l.variableCollections.length)??0)>0&&el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.bt1.bSolid.colorBorder.wFull.h1.mt16.$}),el.createElement(oK.E,{i18nId:"resources_tab.libraries.default_modes",fontWeight:"medium",truncate:"line-clamp",lineClamp:2}),g?null==(o=null==(s=null==(i=m.data)?void 0:i.file)?void 0:s.variableCollections)?void 0:o.map(e=>{var t,r;return e.modes&&e.modes.length>1&&a&&el.createElement(nX.Y,{width:"fill-parent",height:"hug-contents",key:e.id,spacing:16,verticalAlignItems:"center"},el.createElement("span",{className:"library_subscription_settings--name--nMhQm"},e.name),el.createElement(wh.fM,{variableSet:e,modeDropdownStyle:"library_subscription_settings--modeDropdown--ijTre",fileKey:null==(r=null==(t=m.data)?void 0:t.file)?void 0:r.key,entity:{entityType:"workspace",entityId:a},defaultModeId:_[e.key],isLibraryFileEnabled:"OFF"!==L}))}):el.createElement(t7.qc,null)))}function wP({hideLineBreak:e}){return el.createElement(el.Fragment,null,!e&&el.createElement("div",{className:eE.cx.bb1.bSolid.colorBorder.wFull.h1.mt8.mb8.$}),el.createElement(oK.E,{i18nId:"resources_tab.libraries.visibility_settings",fontWeight:"medium",truncate:"line-clamp",lineClamp:2}))}let wB=eE.cx.lh32.h32.pl16.wFull.cursorDefault;function wU({content:e}){let[t,a]=el.useState(!1);return el.createElement(el.Fragment,null,el.createElement(aL.a,{onIntersectionChange:e=>{a(!e.isIntersecting)}}),el.createElement("div",{className:wB.sticky.top0.colorBg.zIndex1.pt8.bRadius4.if(t,eE.cx.bb1.bSolid.colorBorder).$},el.createElement(oK.E,{fontWeight:"medium"},e)))}function wW({text:e,subscribed:t,selected:a,onClick:r}){return el.createElement("div",{onClick:r,className:ey()(wB.borderBox.$,a?eE.cx.colorBgSelected.$:"library_subscription_settings--rowHover--ssDfP"),role:"link",tabIndex:0},el.createElement(nX.Y,{width:"fill-parent",spacing:0},el.createElement(oK.E,{truncate:!0},e),el.createElement(nX.M,{minSize:4}),t&&el.createElement(oK.E,{color:"success",i18nId:"resources_tab.libraries.on"}),el.createElement(n0.In,{icon:"chevron-right-32"})))}let wV=e=>!!(e&&(e.isSubscribed||e.figJamSubscribed)),wG=(e,t)=>e?wV(e):wV(t),w$=function({libraryData:e,orgData:t}){let[a,r]=el.useState(null),n=(0,sQ.usePermissionsState)(),l=(0,sQ.canAdminOrg)(t.id,n),i=t.librarySubscription,s=el.useMemo(()=>{let e=t.workspaces||[],a=l?e:e.filter(e=>(0,sQ.canAdminWorkspace)(e.id,n));return null==a?void 0:a.sort((e,t)=>{let a=wG(e.librarySubscription,i),r=wG(t.librarySubscription,i);return a&&!r?-1:!a&&r?1:e.name&&t.name&&e.name.toLowerCase()<t.name.toLowerCase()?-1:1})},[l,t,n,i]),o=(null==s?void 0:s.length)>0,c=l&&o;el.useEffect(()=>{o&&r(e=>l&&null===e||s&&s.some(t=>t.id===e)?e:!l&&s&&s.length?s[0].id:null)},[l,t,s,o]);let d=(0,wp.Xr)(wc);return el.useEffect(()=>(d(a),()=>{d(void 0)}),[a,d]),el.createElement("div",{className:eE.cx.b1.bRadius4.colorBorder.wFull.hFull.minW0.$},el.createElement(nX.Y,{spacing:0,height:"fill-parent"},el.createElement(rt.P,{className:eE.cx.wHalf.hFull.$},l&&el.createElement(el.Fragment,null,el.createElement(wU,{content:(0,e2.t)("resources_tab.libraries.organization")}),el.createElement(wW,{text:t.name,subscribed:wV(i),selected:!a,onClick:()=>{r(null)}})),c&&el.createElement(nX.Y,{padding:{left:16,right:16,top:8}},el.createElement("div",{className:eE.cx.bt1.bSolid.colorBorder.wFull.h1.$})),o&&el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement(wU,{content:(0,e2.t)("resources_tab.libraries.workspaces")}),s.map(e=>e.name&&el.createElement(wW,{key:e.id,text:e.name,selected:!!a&&a===e.id,subscribed:wG(e.librarySubscription,i),onClick:()=>r(e.id)})))),el.createElement("div",{className:eE.cx.wHalf.hFull.bl1.colorBorder.bSolid.$},(l||a)&&el.createElement(rt.P,{className:eE.cx.wFull.hFull.$},el.createElement(wM,{libraryData:e,orgData:t,selectedWorkspaceId:a})))))};var wj=a(696849);let wH=(0,rr.Ju)(function({libraryResourceId:e}){var t,a;let r=(0,ei.wA)(),n=(0,ei.d4)(e=>e.currentUserOrgId),l=(0,wl.l)(),i=(0,wi.wJ)(e),s=(0,aX.Rs)(a9.R1$,{fileKey:e,orgId:n},{enabled:!i}),o=(0,aX.Rs)(a9.sNP,{hubFileId:e,orgId:n},{enabled:i}),c=(0,el.useMemo)(()=>i?o.transform(w_.gi):s.transform(w_.Ti),[s,o,i]),d=null==(t=c.data)?void 0:t.library,m=null==(a=c.data)?void 0:a.org,u=el.useCallback(()=>r(t3.Lo()),[r]);el.useEffect(()=>{"errors"!==c.status&&("loaded"!==c.status||d&&m)||(r(a0.F.enqueue({error:!0,message:(0,e2.t)("resources_tab.libraries.couldnt_load_library_information")})),u())},[u,r,d,m,c.status,i]);let _=l.windowInnerWidth<=(0,te.hG)(e5.tgj),p=d&&"file"===d.type&&d.permissions&&!(0,ws.Y)({org_browsable:d.permissions.orgBrowsable,link_access:d.permissions.linkAccess}),g=d&&m&&(()=>{if(!d||(null==d?void 0:d.type)!=="file"||!m)return null;let e={link_access:d.permissions.linkAccess,proto_link_access:d.permissions.protoLinkAccess,org_audience:d.permissions.orgAudience,org_browsable:d.permissions.orgBrowsable,has_file_link_password:d.permissions.hasFileLinkPassword,has_proto_link_password:d.permissions.hasProtoLinkPassword},t={name:m.name,id:m.id,shared_org_license_group_settings:(0,g_.Td)(m,m.sharedOrgLicenseGroupSetting)};return(0,gc.Ch)(e,t)})(),E=d&&m&&(()=>{if(!d||!m)return null;let e={link_access:lm.PQ.ORG_VIEW,proto_link_access:null,org_audience:!0,org_browsable:!0,has_file_link_password:!1,has_proto_link_password:!1},t={name:m.name,id:m.id,shared_org_license_group_settings:(0,g_.Td)(m,m.sharedOrgLicenseGroupSetting)};return(0,gc.Ch)(e,t)})();return el.createElement(lD.XV,{title:d&&_?d.name:(0,e2.t)("resources_tab.libraries.manage_this_library"),maxWidth:648,onClose:u,customButton:(0,em.kc)().library_modal_learn_more?el.createElement(eT.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/21310245473815",className:eE.cx.flex.itemsCenter.fontNormal.$},el.createElement(eC.B,{className:eE.cx.colorIconBrand.pr2.$,svg:wj.A}),el.createElement(oK.E,{color:"brand",i18nId:"general.learn_more"})):void 0},el.createElement(nX.Y,{direction:"vertical",spacing:0},p&&el.createElement(nX.Y,{height:"hug-contents",padding:8,spacing:4,verticalAlignItems:"start",backgroundColor:"warning","data-testid":"library-management-modal-permissions-warning"},el.createElement("div",{className:"library_management_modal--permissionsWarningIcon--8159t"},el.createElement(n0.In,{icon:"info-32"})),el.createElement(oK.E,{color:"onwarning",fontSize:13,i18nId:"resources_tab.libraries.changing_permissions_warning",i18nParams:{currentPermissions:g,resultingPermissions:E}})),el.createElement(nX.Y,{spacing:16,padding:16,verticalAlignItems:"start",width:"fill-parent",height:400},"loading"===c.status&&el.createElement(t7.qc,null),"loaded"===c.status&&d&&m&&el.createElement(el.Fragment,null,!_&&el.createElement(wu,{libraryData:d,orgData:m}),el.createElement(w$,{libraryData:d,orgData:m})))))},"LIBRARY_MANAGEMENT_MODAL");var wq=((E=wq||{}).ORG="ORG",E.WORKSPACE="WORKSPACE",E),wY=((f=wY||{}).NAME="NAME",f.ENABLED_FOR="ENABLED_FOR",f.COMPONENTS="COMPONENTS",f.STYLES="STYLES",f);let wz=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"library_file_name",weight:1}]}),wK="NONE";function wJ(e){var t,a,r,n,l,i,s,o;let c;let{org:d,workspaceId:m,libraryStats:u,communityLibraryStats:_}=e,p=(0,ei.wA)(),[g,E]=el.useState(new Set(m?[m]:[])),[f,h]=el.useState(""),v=(0,eU.md)(wr.VQ),b=(0,dM.NJ)(d.id),y=(0,aX.Rs)(a9.IhX,{orgId:d.id}),w=(0,sK.sZ)(),T=(0,u5.Oe)(w),x=(0,eU.md)(wt.S0),C=(0,aX.Rs)(a9.EE2,{workspaceId:m},{enabled:!!m&&T}),N=new Set;(null==(t=C.data)?void 0:t.workspace.status)===aX.tT.Loaded&&(c=null==(a=C.data.workspace.data)?void 0:a.name,N=new Set(((null==(r=C.data.workspace.data)?void 0:r.approvedLibraries)??[]).map(e=>e.fileKey))),el.useEffect(()=>{E(new Set(m?[m]:[])),h("")},[m]),el.useEffect(()=>{("errors"===y.status||"errors"===b.status||"loaded"===y.status&&null===y.data.org)&&p(a0.F.enqueue({error:!0,message:(0,e2.t)("resources_tab.libraries.couldnt_load_library_information")}))},[y.status,null==(n=y.data)?void 0:n.org,b.status,p]);let k=null==(i=null==(l=y.data)?void 0:l.org)?void 0:i.librarySubscriptions,S=null==(o=null==(s=y.data)?void 0:s.org)?void 0:o.workspaces,I=el.useMemo(()=>{let e={},t=new Set;null==k||k.forEach(a=>{if(!a.isSubscribed&&!a.figJamSubscribed)return;let r=wQ(a);r&&(t.add(r),r in e||(e[r]=[]),e[r].push({type:"ORG",id:d.id,name:d.name}),(b.data??[]).forEach(t=>e[r].push({type:"WORKSPACE",id:t.id,name:t.name})))});let a=new Set((b.data??[]).map(e=>e.id));return null==S||S.forEach(r=>{var n;a.has(r.id)&&(null==(n=r.librarySubscriptions)||n.forEach(a=>{let n=wQ(a);if(!n)return;n in e||(e[n]=[]);let l=t.has(n),i=a.isSubscribed||a.figJamSubscribed;i&&!l&&e[n].push({type:"WORKSPACE",id:r.id,name:r.name||""}),!i&&l&&(e[n]=e[n].filter(e=>!("WORKSPACE"===e.type&&e.id===r.id)))}))}),e},[d.id,d.name,k,S,b]),A=el.useMemo(()=>{let e=[],t=new Set((b.data??[]).map(e=>e.id));return null==S||S.forEach(a=>{t.has(a.id)&&a.name&&e.push({id:a.id,name:a.name})}),(0,as.KQ)(e,"name"),[{id:wK,name:(0,e2.t)("resources_tab.libraries.none")},{id:"ORG",name:d.name},...e]},[d.name,S,b]),{sortState:L,updateSortState:R,sortedItems:O}=function(e,t,a){let[r,n]=el.useState(e),l=el.useMemo(()=>({NAME:e=>e.library_file_name,ENABLED_FOR:e=>{var t;return(null==(t=a[e.library_file_key])?void 0:t.map(e=>e.name).join(","))||""},COMPONENTS:e=>e.num_components,STYLES:e=>e.num_styles}),[a]),i=el.useMemo(()=>{let e=[...t];return(0,as.Tz)(e,l[r.column],r.isReversed,r.secondaryColumn&&(null==l?void 0:l[r.secondaryColumn]),r.isSecondaryReversed),e},[t,l,r]);return{sortState:r,updateSortState:e=>{r.column===e?n(e=>({...e,isReversed:!e.isReversed})):n(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortedItems:i}}({column:"NAME",isReversed:!1},el.useMemo(()=>{let e=[...u.files];(0,em.kc)().dse_preset_libraries&&_&&e.push(..._);let t=e.filter(e=>(function(e,t){if(0===t.size||t.has(wK)&&(!e||0===e.length))return!0;for(let a of e||[])if("ORG"===a.type){if(t.has("ORG"))return!0}else if(t.has(a.id))return!0;return!1})(I[e.library_file_key],g));return f?(wz.set(t),wz.search(f)):t},[u.files,I,f,g,_]),I),D=(0,ei.d4)(e=>e.fileByKey),F=el.useCallback(e=>{let t=D[e];return(null==t?void 0:t.thumbnail_url)?t.thumbnail_url:`/file/${e}/thumbnail`},[D]),M=e=>{let t=I[e];if(!t||0===t.length)return el.createElement(oK.E,{color:"secondary",i18nId:"resources_tab.libraries.no_subscriptions"});let a=t.slice(0,2).map(e=>e.name).join(", ");return t.length>2?el.createElement(oK.E,{i18nId:"resources_tab.libraries.two_or_more_workspaces",i18nParams:{workspaceNames:a,extraWorkspaceNum:t.length-2},truncate:"line-clamp",lineClamp:2}):el.createElement(oK.E,{truncate:"line-clamp",lineClamp:2},a)},P=e=>{p((0,t3.to)({type:wH,data:{libraryResourceId:e.library_file_key}}))},B=el.createElement(wn,{filters:A,enabledFilterIds:g,onChange:E}),U=el.createElement("div",{style:cs.sx.add({minWidth:"800px"}).$,className:eE.cx.pb24.$},el.createElement("div",{className:"libraries_section--tableRowHeader--kXqsc libraries_section--tableRow--oJooX"},el.createElement("div",{className:eE.cx.pt8.pb8.colorBorder.bSolid.bt1.bb1.wFull.$},el.createElement(uP.y2,{focusOnMount:!1,query:f,onChange:h,clearSearch:()=>{h("")},placeholder:(0,e2.t)("resources_tab.libraries.search.label_with_ellipsis")})),el.createElement(va.Hj,{header:!0,useAdminTableStyles:!0},el.createElement(nX.Y,{spacing:0},el.createElement(va.A3,{style:cs.sx.add({width:"40%"}).$},el.createElement(va.tD,{className:eE.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("NAME"),field:"NAME",hasArrow:"NAME"===L.column},el.createElement(oK.E,{fontWeight:"semi-bold",color:"default",i18nId:"resources_tab.libraries.name"}))),el.createElement(va.A3,{style:cs.sx.add({width:"30%"}).$},el.createElement(va.tD,{className:eE.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("ENABLED_FOR"),field:"ENABLED_FOR",hasArrow:"ENABLED_FOR"===L.column},el.createElement(oK.E,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.enabled_for"}))),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).justifyEnd.$},el.createElement(va.tD,{rightAligned:!0,className:eE.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("COMPONENTS"),field:"COMPONENTS",hasArrow:"COMPONENTS"===L.column},el.createElement(oK.E,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.components"}))),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).justifyEnd.$},el.createElement(va.tD,{rightAligned:!0,className:eE.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("STYLES"),field:"STYLES",hasArrow:"STYLES"===L.column},el.createElement(oK.E,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.styles"}))),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).$},el.createElement("span",null)," ")))),("loading"===y.status||"loading"===b.status)&&el.createElement(va.FO,null),"loaded"===y.status&&"loaded"===b.status&&!O.length&&el.createElement(b5.p,null,f?el.createElement(oK.E,{i18nId:"resources_tab.libraries.search.no_results"}):g.size>0?el.createElement(oK.E,{i18nId:"resources_tab.libraries.filter.no_results"}):el.createElement(oK.E,{i18nId:"resources_tab.libraries.no_libraries_text"})),"loaded"===y.status&&"loaded"===b.status&&el.createElement(el.Fragment,null,O.map(e=>{let t=x.has(e.library_file_key),a=N.has(e.library_file_key),r=v.has((0,y7.lt)(e.library_file_key)),n=t?el.createElement(we.cX,{orgNameForTooltip:d.name}):a?el.createElement(we.cX,{workspaceNameForTooltip:c}):r&&(0,em.kc)().dse_preset_libraries?el.createElement("div",{className:eE.cx.ml4.$},el.createElement(wa.S,{hubFileId:e.library_file_key,showTooltip:!0})):null;return el.createElement(va.Hj,{key:e.library_file_key,useAdminTableStyles:!0,className:"libraries_section--tableRowBody--e7bNv libraries_section--tableRow--oJooX",onClick:()=>P(e)},el.createElement(nX.Y,{spacing:0},el.createElement(nX.Y,{width:"40%",padding:{right:16},spacing:16},el.createElement(nX.Y,{width:80,height:48},el.createElement(gU.N,{editor_type:null,client_meta:"",thumbnail_url:"COMMUNITY_LIBRARY_FILE"===e.type?e.thumbnail_url:F(e.library_file_key),additionalClassName:eE.cx.wFull.hFull.bRadius4.$,isLocked:!1})),el.createElement("div",{className:eE.cx.flex.alignCenter.$},el.createElement(oK.E,{truncate:!0},e.library_file_name),n)),el.createElement(nX.Y,{width:"30%",padding:{right:16}},M(e.library_file_key)),el.createElement(nX.Y,{width:"10%",horizontalAlignItems:"end"},el.createElement(oK.E,null,e.num_components)),el.createElement(nX.Y,{width:"10%",horizontalAlignItems:"end"},el.createElement(oK.E,null,e.num_styles)),el.createElement(nX.Y,{width:"10%",horizontalAlignItems:"end"},el.createElement(n0.In,{icon:"chevron-right-32"}))))}),(f||g.size>0)&&el.createElement(va.Hj,{useAdminTableStyles:!0,className:"libraries_section--showAllLibrariesRow--ML78L libraries_section--tableRow--oJooX",onClick:()=>{h(""),E(new Set([]))}},el.createElement(nX.Y,{horizontalAlignItems:"center"},el.createElement(oK.E,{color:"brand",i18nId:"resources_tab.libraries.show_all_libraries_button"})))));return el.createElement(el.Fragment,null,el.createElement(bK.K,{hasHorizontalPadding:!0,title:(0,e2.t)("resources_tab.libraries"),rightActions:B}),el.createElement("div",{className:eE.cx.overflowAuto.$},el.createElement(rt.P,{className:eE.cx.wFull.hFull.$,minContentWidth:800},U)))}function wQ(e){var t,a;return(null==(t=e.communityLibrary)?void 0:t.hubFileId)||((null==(a=e.library)?void 0:a.fileKey)??"")}var wZ=a(288243),wX=a(564517);let w0="seen_org_admin_teams_onboarding",w1=(0,aj.r1)(w0),w2=(0,mQ.rn)("org_admin_teams_onboarding",(0,uf.R)(aJ.Ql8));function w4(e){let t=(0,eU.md)(w1),{isShowing:a,complete:r,show:n,uniqueId:l}=(0,a$.e)({overlay:aJ.Ql8,priority:aH.N.DEFAULT_MODAL},[t]),i=(0,hd.zl)(w2);return(0,ed.h)(()=>{"reset"===i.currentState?n():n({canShow:e=>!e})}),(0,aG.E)(l,"Reset Onboarding",()=>n()),el.createElement(fW.rq,{isShowing:a,trackingContextName:`${m2} Org Access`,targetKey:"teams_table_onboarding_key",userFlagOnShow:w0,onClose:r,primaryCta:{label:el.createElement(e2.Tx,{id:"onboarding_pointers.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:e3.c.GOT_IT},description:el.createElement(e2.Tx,{id:"onboarding_pointers.teams_access_onboarding"})})}let w3="seen_workspace_admin_onboarding",w8=(0,aj.r1)(w3);var w5=((h=w5||{}).AddTeamsToWorkspace="AddTeamsToWorkspace",h.CheckUnassignedTeams="CheckUnassignedTeams",h);function w6(){let e=(0,sK.dq)(),t=(0,aX.Rs)(a9.TKM,{orgId:e}),a=(0,eU.md)(w8),{show:r,isShowing:n,complete:l}=(0,a$.e)({overlay:aJ.YHe,priority:aH.N.DEFAULT_MODAL},[a,t]);(0,ed.h)(()=>{r({canShow:(e,t)=>{var a,r,n;return!e_.rr&&!e&&!!(null==(n=null==(r=null==(a=t.currentUser)?void 0:a.baseOrgUser)?void 0:r.workspaceUsers)?void 0:n.some(e=>e.permission===lm.bp.ADMIN))}})});let i=["AddTeamsToWorkspace","CheckUnassignedTeams"],s=(0,fP.A)({numSteps:i.length,onComplete:l});return el.createElement(fU.U,{currentStep:s.currentStep,isShowing:n,children:i.map(e=>el.createElement(w9,{key:e,step:e,isShowing:n,next:s.next,complete:l}))})}function w9(e){let{step:t,isShowing:a,next:r,complete:n}=e;switch(t){case"AddTeamsToWorkspace":return el.createElement(fW.rq,{isShowing:a,trackingContextName:um,userFlagOnShow:w3,onClose:n,stepCounter:{stepNum:1,totalNumSteps:2},targetKey:uc,title:el.createElement(e2.Tx,{id:"workspace_admin.onboarding.step_one_heading"}),description:el.createElement(e2.Tx,{id:"workspace_admin.onboarding.step_one_description"}),primaryCta:{label:el.createElement(e2.Tx,{id:"general.next"}),onClick:r,type:"button",ctaTrackingDescriptor:e3.c.NEXT},emphasized:!0,clickOutsideToHide:!0});case"CheckUnassignedTeams":return el.createElement(fW.rq,{isShowing:a,trackingContextName:um,userFlagOnShow:w3,onClose:n,stepCounter:{stepNum:2,totalNumSteps:2},targetKey:ud,title:el.createElement(e2.Tx,{id:"workspace_admin.onboarding.step_two_heading"}),description:el.createElement(e2.Tx,{id:"workspace_admin.onboarding.step_two_description"}),primaryCta:{label:el.createElement(e2.Tx,{id:"general.got_it"}),onClick:n,type:"button",ctaTrackingDescriptor:e3.c.GOT_IT},emphasized:!0,clickOutsideToHide:!0});default:(0,eh.xb)(t)}}var w7=a(347632);function Te(e){var t;let a=(0,ei.wA)(),r=(0,ei.d4)(({selectedView:e})=>e);if("workspace"!==r.view||r.subView!==m$.V0.ADMIN||!r.workspaceId)return null;let n=r.teamsTabViewingUnassigned?fw.O:null==(t=e.workspace)?void 0:t.id,l=e=>{a(aC.$T({...r,teamsTabViewingUnassigned:e===fw.O}))};return el.createElement("div",{className:eE.cx.pb20.$},e.workspace&&el.createElement(w7.f,{tabs:[el.createElement(w7.r,{key:e.workspace.id,tab:e.workspace.id,isSelected:n===e.workspace.id,onClick:l,tabName:e.workspace.name}),el.createElement(w7.r,{key:fw.O,dataOnboardingKey:ud,tab:fw.O,isSelected:n===fw.O,onClick:l,tabName:(0,e2.t)("workspace.unassigned")})]}))}var Tt=a(937294),Ta=a(590564),Tr=a(492379),Tn=a(490184),Tl=a(899726);let Ti=(0,rr.Ju)(function(e){var t;let a=(0,ei.wA)(),r=null==(t=(0,sQ.usePermissionsState)().user)?void 0:t.id;return el.createElement(e8.fu,{name:"Team Confirm Leave Modal",properties:{userId:r,teamId:e.team.id}},el.createElement(lD.Eo,{title:(0,e2.t)("file_browser.team.change_to_secret_team_confirmation_title",{teamName:e.team.name}),destructive:!0,onConfirm:()=>{a((0,dF.Go)({team:e.team,orgAccess:lm.bU.SECRET}))},confirmText:(0,e2.t)("file_browser.team.change_to_secret_team_confirm")},el.createElement(e2.Tx,{id:"file_browser.team.you_will_lose_access_to_secret_team_warning"})))},"TeamConfirmChangeToSecretOrgAccess");function Ts(e,t,a,r,n,l){l((t!==lm.bU.SECRET||a?1:r&&n?1:0)?(0,dF.Go)({team:e,orgAccess:t}):(0,t3.to)({type:Ti,data:{team:e}}))}var To=a(794094),Tc=a(111452),Td=((v=Td||{}).JOINED="JOINED",v.NOT_JOINED="NOT_JOINED",v);function Tm(){let e=[];return[lm.bU.PUBLIC,lm.bU.PRIVATE,lm.bU.SECRET].forEach(t=>{e.push({type:"option",key:t,text:(0,dP.ZP)()[t]})}),e}function Tu(e,t,a,r){let n=(0,ei.wA)(),l=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),i="orgAdminSettings"===(0,ei.d4)(({selectedView:e})=>e).view;return{onAddToWorkspace:(e,t,a)=>{n(yD.xM({teams:[e],workspaceId:t,workspaceName:a}))},onChangeOrgAccess:(e,t)=>{Ts(e,t,(0,sQ.hasAdminRoleAccessOnTeam)(e.id,l),i,!!e.orphaned,n)},onDeleteTeam:e=>{n((0,t3.to)({type:Tl.H,data:{team:e,subscriptionStatus:!0}}))},onJoinRequest:e=>{n((0,t3.to)({type:Tn.$S,data:{team:e}}))},onOpenTeam:e=>n(sq.dm(e)),onRenameTeam:e=>{n(on.WC()),n((0,t3.to)({type:Ex.hc,data:{team:e}}))},onTransferTeam:e=>{n((0,t3.to)({type:Ex.Lg,data:{team:e,entryPoint:Tc.Lq.ORG_ADMIN_TEAMS_TABLE,onRequestClose:a}}))},onRevokeTeamTransferRequest:e=>{var a;t&&t.get(e)&&td.Ay.del(`/api/asset_transfer/${null==(a=t.get(e))?void 0:a.asset_transfer_request_id}`).then(()=>r(e),()=>{n(a0.F.enqueue({message:(0,e2.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},onViewTeamMembers:e=>n(aC.$T({teamId:e,view:"team",teamViewTab:mG.A.MEMBERS})),onWithdrawRequestForTeam:t=>{let a=e[t.id].id;n(Tr.lT({requestId:a}))},onRemoveFromWorkspace:e=>{n(yD.c5({teams:[e]}))},onOpenAccessSettings:e=>{n((0,t3.to)({type:To.dW,data:{team:e}}))}}}var T_=((b=T_||{}).MIXED_JOIN="MIXED_JOIN",b);let Tp=new Set([Tt.gO.CLICK_JOIN_AS_ADMIN,Tt.gO.BYPASS_REQUEST]);function Tg({workspacesCanMoveTo:e,org:t,selectedTeams:a,teamRoleRequests:r,teamPendingTransfers:n,pendingTransferRequests:l,onRevokeTransferRequestSuccess:i,onViewerJoinTeam:s,onViewerLeaveTeam:o}){var c;let d;let m=(0,ei.wA)(),u=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),{onChangeOrgAccess:_,onDeleteTeam:p,onJoinRequest:g,onOpenTeam:E,onRenameTeam:f,onTransferTeam:h,onRevokeTeamTransferRequest:v,onViewTeamMembers:b,onWithdrawRequestForTeam:y,onOpenAccessSettings:w}=Tu(r,n,l,i);if(0===a.length)return el.createElement(el.Fragment,null);let T=a.map(e=>e.id),x=new Map;a.forEach(e=>{let a=(0,Tt.YP)(e,r[e.id],u,t.id),n=x.get(a)||[];n.push(e),x.set(a,n)});let C=e=>x.get(e)||[],N=e=>C(e).map(e=>e.id),k=null;if(a.every(e=>(0,Tt.dP)(e,u,t.id))){let e=[...x.keys()];1===e.length?k=e[0]:e.every(e=>Tp.has(e))&&(k="MIXED_JOIN")}switch(k){case Tt.gO.CLICK_JOIN:case Tt.gO.CLICK_JOIN_AS_ADMIN:d=(0,e2.t)("teams_table.join");break;case Tt.gO.CLICK_LEAVE:d=(0,e2.t)("teams_table.leave");break;case Tt.gO.CLICK_WITHDRAW:d=(0,e2.t)("teams_table.cancel_join_request");break;case Tt.gO.BYPASS_REQUEST:d=(0,e2.t)("teams_table.join_team_as_owner");break;case Tt.gO.CLICK_REQUEST:d=(0,e2.t)("teams_table.request_to_join");break;default:d=(0,e2.t)("teams_table.join")}let S=null===k,I=!a.every(e=>(0,sQ.hasAdminRoleAccessOnTeam)(e.id,u)),A=()=>{m(yD.ZT({teamIds:T})),s&&T.forEach(e=>{s(e)})},L=e=>{let t=e??T;m(yD.ZT({teamIds:t,level:oi.e6.ADMIN})),s&&t.forEach(e=>{s(e)})},R=()=>{for(let e of T)m((0,t3.to)({type:Ta.p,data:{teamId:e,onViewerLeaveTeam:o}}))},O=()=>{for(let e of a)g(e)},D=e=>{let t=e??T;m(yD.ZT({teamIds:t,level:oi.e6.OWNER})),s&&t.forEach(e=>{s(e)})},F=()=>{for(let e of a)y(e)},M=e=>{for(let t of a)t.org_access!==e&&_(t,e)},P=e=>{e?m(yD.xM({teams:a,workspaceId:e.id,workspaceName:e.name})):m(yD.c5({teams:a}))},B=()=>{if(!S)switch(k){case Tt.gO.CLICK_LEAVE:R();return;case Tt.gO.CLICK_WITHDRAW:F();return;case Tt.gO.CLICK_JOIN:A();return;case Tt.gO.CLICK_JOIN_AS_ADMIN:L();return;case Tt.gO.BYPASS_REQUEST:D();return;case Tt.gO.CLICK_REQUEST:O();return;case"MIXED_JOIN":L(N(Tt.gO.CLICK_JOIN_AS_ADMIN)),D(N(Tt.gO.BYPASS_REQUEST));return;default:return}},U=e=>e?(0,e2.t)("teams_table.this_action_cannot_be_applied_to_all_selected_teams"):void 0,W=el.createElement(uj.IU,{key:"join",disabled:S,tooltip:U(S),onClick:()=>{B()},label:d}),V=el.createElement(uj.IU,{key:"delete",disabled:I,tooltip:U(I),onClick:()=>{if(!I)for(let e of a)p(e)},label:(0,e2.t)("teams_table.delete")}),G=new Set(a.map(e=>e.workspace_id)),$={type:uj.uw.NONE};if(1===G.size){let e=Array.from(G)[0];$=null==e?{type:uj.uw.UNASSIGNED}:{type:uj.uw.WORKSPACE,workspaceId:e}}let j=el.createElement(uj.Vq,{key:"workspace-update-group",workspaces:e,selectedWorkspace:$,onChange:e=>P(e)}),H=[],q=1===a.length&&(0,sQ.canViewTeam)(a[0].id,u)&&(a[0].org_access===lm.bU.PUBLIC||(0,sQ.hasViewerRoleAccessOnTeam)(a[0].id,u)),Y=1===a.length&&(0,sQ.canViewTeam)(a[0].id,u),z=1===a.length&&(0,sQ.canManageOrgTeam)(a[0].id,u),K=T.every(e=>(0,sQ.canManageOrgTeam)(e,u)),J=1===a.length&&(0,sQ.canManageOrgTeam)(a[0].id,u),Q=new Set(a.map(e=>e.org_access)),Z=1===a.length&&(0,sQ.canAdminOrg)(t.id,u)&&(0,sQ.canManageOrgTeam)(a[0].id,u),X=(0,h9.D)((null==(c=a[0])?void 0:c.id)||null,(null==t?void 0:t.id)||null)?el.createElement(uj.IU,{key:"change-access-settings",disabled:!J,tooltip:U(!J),onClick:J?()=>w(a[0]):void 0,label:(0,e2.t)("teams_table.manage_access_setting")}):el.createElement(uj.gD,{key:"org-access-selector",disabled:!K,tooltip:U(!K),selectedOrgAccess:1===Q.size?[...Q][0]:null,orgAccessOptions:Tm(),onChange:e=>M(e)});return H.push(el.createElement(uj.IU,{key:"view-projects",disabled:!q,tooltip:U(!q),onClick:q?()=>E(a[0].id):void 0,label:(0,e2.t)("teams_table.view_projects")}),el.createElement(uj.IU,{key:"view-members",disabled:!Y,tooltip:U(!Y),onClick:Y?()=>b(a[0].id):void 0,label:(0,e2.t)("teams_table.view_team_members")}),el.createElement(uj.IU,{key:"rename-team",disabled:!z,tooltip:U(!z),onClick:z?()=>f(a[0]):void 0,label:(0,e2.t)("teams_table.rename")}),X,j,n&&n.get(a[0].id)?el.createElement(uj.IU,{key:"revoke-team-transfer",disabled:!Z,tooltip:U(!Z),onClick:()=>v(a[0].id),label:(0,e2.t)("teams_table.revoke_transfer_request")}):el.createElement(uj.IU,{key:"transfer-team",disabled:!Z,tooltip:U(!Z),onClick:Z?()=>h(a[0]):void 0,label:(0,e2.t)("teams_table.transfer")}),V,W),el.createElement(el.Fragment,null,H)}var TE=a(315382),Tf=a(111643),Th=a(417512),Tv=a(589640),Tb=a(931008),Ty=a(1700);let Tw="members_list_row--column--ji9-s",TT="members_list_row--permissionsColumnModal--NYsjV members_list_row--column--ji9-s",Tx="members_list_row--roleRowWithRequests--WuZtW members_list_row--_membersListRowGridWithRequests---zvdR members_list_row--_membersListRowGridWithRequestsBase--uY4GW",TC="members_list_row--roleRowWithRequestsModal--Kc5lP members_list_row--_membersListRowGridWithRequestsBase--uY4GW",TN="members_list_row--acceptDenyText--BbAA3 text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",Tk="members_list_row--nameAndEmailColumn--mVBHk members_list_row--column--ji9-s members_list_row--_showWhenNarrow--bbJ-Q",TS="members_list_row--nameColumn--E2JBO members_list_row--column--ji9-s members_list_row--_hideWhenNarrow--2CbBJ",TI="members_list_row--emailColumn--3tSyU members_list_row--column--ji9-s members_list_row--_hideWhenNarrow--2CbBJ",TA="members_list_row--fixedContextMenu--MAoT5",TL="members_list_row--select--PLXXH members_list_row--column--ji9-s",TR="members_list_row--dropdownIcon--RJ-cS",TO="members_list_row--avatarWithHandle--4CFTa";var TD=a(112512),TF=a(957412);class TM extends el.Component{constructor(){super(...arguments),this.TEAM_MEMBER_LIST_ROW_DROPDOWN="team-member-list-row-dropdown",this.levelsDivRef=e=>{e&&(this.levelsDiv=e)},this.isDropdownShown=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_MEMBER_LIST_ROW_DROPDOWN&&this.props.dropdownShown.data.roleId===this.props.role.id,this.toggleDropdown=e=>{var t;if(this.isDropdownShown())this.props.dispatch(aC.oB());else{if(!this.levelsDiv)return;let a=null==(t=this.levelsDiv)?void 0:t.getBoundingClientRect(),r=a.bottom+e>window.innerHeight,n=window.innerHeight-a.bottom;this.props.dispatch(aC.j7({type:this.TEAM_MEMBER_LIST_ROW_DROPDOWN,data:{roleId:this.props.role.id,position:{top:r?"auto":a.top,bottom:r?n:"auto",left:a.left-28,right:"auto"}}}))}},this.resendInvite=()=>{this.props.dispatch((0,ol.$S)({role:this.props.role}))},this.onChangeLevel=e=>{(0,eh.KF)(this.props.role.resource_type===lm.vt.TEAM,"MembersListRow is only for team roles");let t=()=>this.props.dispatch((0,Th.yN)({role:this.props.role,level:e}));e===oi.e6.OWNER?this.props.dispatch((0,t3.to)({type:Tb.b,data:{resourceType:this.props.role.resource_type,resourceName:this.props.resourceName,newOwnerName:this.props.role.user.handle,onConfirmTransfer:()=>{t()}}})):t()},this.getPendingEntity=e=>{let t=this.props.contacts?this.props.contacts.usersByEmail[e.user.email]:{},a={...e.user,id:e.user?e.user.id:void 0};return{...t,...a}},this.viewUser=(e,t)=>{var a;this.props.isModal&&this.props.dispatch(t3.Ce()),this.props.dispatch(aC.$T({view:"user",userId:t.id,userViewTab:Tv.o.INTERNAL_PROFILE,orgId:(null==(a=this.props.team)?void 0:a.org_id)||null}))}}getEmail(){if(this.props.role.user_id===this.props.user.id)return this.props.user.email;if(this.props.contacts){let e=Object.keys(this.props.contacts.usersByEmail).find(e=>this.props.role.user_id===this.props.contacts.usersByEmail[e].id);if(e)return e}return this.props.role.user.email}renderPermissionSelect(){let e;let t=[],a=!1;if(this.props.teamIsOrphaned&&this.props.canAdminOrg)t.push(oi.e6.OWNER),t.push(oi.e6.ADMIN),t.push(oi.e6.EDITOR),t.push(oi.e6.VIEWER),a=this.props.role.pending;else if(this.props.canManageOrgTeam&&this.props.role.user_id===this.props.user.id&&!this.props.isOwnerOfResource)t.push(oi.e6.ADMIN),t.push(oi.e6.EDITOR),t.push(oi.e6.VIEWER),a=this.props.role.pending;else if(this.props.role.user_id!==this.props.user.id||this.props.isOwnerOfResource){if(!this.props.canEditRole)return el.createElement("span",{className:"members_list_row--nonDropdownPadding--gkPjE"},(0,dP.QN)(this.props.role.level));this.props.isOwnerOfResource&&!this.props.role.pending&&t.push(oi.e6.OWNER),this.props.canMakeAdmin&&t.push(oi.e6.ADMIN),t.push(oi.e6.EDITOR),t.push(oi.e6.VIEWER),a=this.props.role.pending}else t.push(this.props.role.level);let r=-24*Math.max(0,t.indexOf(this.props.role.level));return this.isDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(e={...this.props.dropdownShown.data.position},e.top+=r),el.createElement("div",{ref:this.levelsDivRef},el.createElement("div",{className:TL,onClick:()=>this.toggleDropdown(120+r)},el.createElement("span",null,(0,dP.QN)(this.props.role.level)),el.createElement(eC.B,{svg:TD.A,className:TR})),this.isDropdownShown()&&el.createElement(dB.W.Dropdown,{className:TA,style:e},t.map(e=>el.createElement(dB.W.CheckableOption,{key:e,onClick:this.props.role.level!==e?()=>this.onChangeLevel(e):void 0,checked:this.props.role.level===e},(0,dP.QN)(e))),el.createElement(dB.W.Separator,null),a&&el.createElement(dB.W.Option,{onClick:this.resendInvite},el.createElement(e2.Tx,{id:"file_browser.team.resend_invite"})),el.createElement(dB.W.Option,{onClick:()=>this.onChangeLevel(oi.e6.NONE)},this.props.role.user_id!==this.props.user.id||this.props.isOwnerOfResource?el.createElement(e2.Tx,{id:"file_browser.team.remove_confirm"}):el.createElement(e2.Tx,{id:"file_browser.team.leave_confirm"}))))}renderAvatarWithHandle(e,t){let a;this.props.role.pending||(a=this.viewUser);let r=this.props.memberIsAdmin;return el.createElement(aa.az,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,showIsMe:this.props.role.user_id===this.props.user.id,enabled:this.props.role.pending,defaultFallbackAvatarSvg:this.props.role.pending?dC.A:void 0,className:this.props.isModal?"members_list_row--avatarWithHandleModal--hz0hL admin_settings_page--avatarWithHandle--7e9O9 ellipsis--ellipsis--Tjyfa":TO,onClick:a,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--",badge:r?{color:oj.zE.DEFAULT,text:(0,e2.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:t})}render(){let{isModal:e,role:t,warningTooltipId:a,restrictedText:r}=this.props,n=t.pending?this.getPendingEntity(t):t.user;return n.email=this.getEmail(),el.createElement("div",{className:ey()({[Tx]:!e,[TC]:e})},e&&el.createElement("div",{className:"members_list_row--nameColumnModal--a59IY members_list_row--column--ji9-s"},this.renderAvatarWithHandle(n,!0)),!e&&el.createElement(el.Fragment,null,el.createElement("div",{className:TS},this.renderAvatarWithHandle(n,!1)),el.createElement("div",{className:Tk},this.renderAvatarWithHandle(n,!0)),el.createElement("div",{className:TI},el.createElement(oK.E,{truncate:!0},n.email)),el.createElement("div",null)),el.createElement("div",{className:e?TT:Tw},a&&el.createElement(eC.B,{className:"members_list_row--warningIcon--hmNxW",svg:TF.A,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":a,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-restricted-text":r}),this.renderPermissionSelect()))}}TM.displayName="MemberListRow";let TP=(0,ei.Ng)((e,t)=>{let a=null,r="",n=t.role.org_user,l=(0,dP.Jd)(n,lm._Y.DESIGN),i=(0,dP.Jd)(n,lm._Y.WHITEBOARD);if(n&&(l||i)){let s=e.currentUserOrgId&&!!e.orgById[e.currentUserOrgId].figjam_disabled_at;t.role.level!==oi.e6.VIEWER&&(r=(0,Ty._r)(!!l,!!i),a=n.user_id===e.user.id?!l&&i&&s?null:aA.MW.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_SELF:aA.MW.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_OTHER)}let s=(0,sQ.getResourceTeamId)(t.role,e),o=s&&e.teams[s]||null,c=!!(t.role.user_id&&(0,sQ.canAdminOrg)(e.currentUserOrgId,e,t.role.user_id)),d=!!(t.role.user_id&&o&&(0,sQ.canAdminLicenseGroup)(o.license_group_id,e,t.role.user_id));return{user:e.user,contacts:e.contacts,currentOrgId:e.currentUserOrgId,orgById:e.orgById,orgDomains:e.orgDomains,modalShown:e.modalShown,dropdownShown:e.dropdownShown,team:o,canEditRole:(0,sQ.canEditRole)(t.role,e),canAdminOrg:(0,sQ.canAdminOrg)(e.currentUserOrgId,e),canMakeAdmin:(0,sQ.canMakeAdmin)(t.role.resource_type,t.role.resource_id_or_key,e),canManageOrgTeam:(0,sQ.canManageOrgTeam)(s,e),warningTooltipId:a,restrictedText:r,resourceName:(0,sQ.getResourceName)(t.role,e),isOwnerOfResource:!!s&&(0,sQ.isResourceOwner)(e.user.id,s,lm.vt.TEAM,e.roles),memberIsAdmin:c||d}})(TM),TB="team-pending-member-role-request-dropdown",TU=()=>{let e=(0,ei.d4)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===TB?e:null};function TW(e){let t=(0,ei.wA)(),a=TU(),r=el.useRef(null),[n,l]=el.useState(e.request.level),i=(0,ei.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),s=el.useMemo(()=>i?[oi.e6.EDITOR]:[oi.e6.VIEWER,oi.e6.EDITOR],[i]),o={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},c=n=>{if(a)t(aC.oB());else{let a=r&&r.current&&r.current.getBoundingClientRect(),l=(null==a?void 0:a.bottom)??0+n>window.innerHeight,i=window.innerHeight-((null==a?void 0:a.bottom)??0);t(aC.j7({type:TB,data:{requestId:e.request.id,position:{top:l?"auto":null==a?void 0:a.top,bottom:l?i:"auto",left:(null==a?void 0:a.left)??-28,right:"auto"}}}))}},d=e=>{l(e),t(aC.oB())},m=el.useMemo(()=>-24*Math.max(0,s.indexOf(n)),[n,s]),u=el.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=m),e},[a,m]),_=(e,a)=>{t(aC.$T({view:"user",userId:a.id,userViewTab:Tv.o.INTERNAL_PROFILE}))},p=(e,t)=>el.createElement(aa.az,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,className:TO,onClick:_,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--"}),g={request_id:e.request.id,team_id:e.request.teamId,type:n,response:"accept",source:"TeamPendingMembersRow"};return el.createElement("div",{className:e.isModal?TC:Tx},e.isModal&&el.createElement("div",{className:Tw},p(o,!0)),!e.isModal&&el.createElement(el.Fragment,null,el.createElement("div",{className:TS},p(o,!1)),el.createElement("div",{className:Tk},p(o,!0)),el.createElement("div",{className:TI},o.email)),el.createElement("div",{className:ey()({[Tw]:!0,"members_list_row--flexRight--fGq16":e.isModal})},el.createElement("span",{onClick:()=>{g.response="deny",(0,e7.sx)("permission_request_responded",g),t(Tr.UF({requestId:e.request.id}))},className:TN,role:"button",tabIndex:-1},el.createElement(e2.Tx,{id:"file_browser.team.dismiss"})),el.createElement("span",{onClick:()=>{(0,e7.sx)("permission_request_responded",g),t(Tr.Jd({requestId:e.request.id,level:n,teamId:e.request.teamId,email:e.request.user.email??"",user:o}))},className:TN,role:"button",tabIndex:-1},el.createElement(e2.Tx,{id:"file_browser.team.approve"}))),el.createElement("div",{className:e.isModal?TT:Tw},el.createElement("div",{ref:r},el.createElement("div",{className:TL,role:"button",tabIndex:0,onClick:()=>{s.length>1&&c(120+m)}},el.createElement("span",null,(0,dP.QN)(n)),s.length>1&&el.createElement(eC.B,{svg:TD.A,className:TR})),a&&a.data.requestId===e.request.id&&s.length>1&&el.createElement(dB.W.Dropdown,{className:TA,style:u},s.map(e=>el.createElement(dB.W.CheckableOption,{key:e,onClick:n!==e?()=>{d(e)}:void 0,checked:n===e},(0,dP.QN)(e)))))))}function TV(e){var t,a;let r=(0,aX.Rs)(a9.Cb9,{teamId:e.teamId});if("loaded"===r.status){let n=null==(a=null==(t=r.data.team)?void 0:t.pendingTeamRoleRequests)?void 0:a.map(t=>el.createElement(TW,{request:t,key:t.id,isModal:e.isModal}));return n&&n.length>0?el.createElement(el.Fragment,null,n,el.createElement("div",{className:e.isModal?"members_list_row--pendingRequestDividerModal--A6pGp members_list_row--pendingRequestDivider--ZPQTr":"members_list_row--pendingRequestDivider--ZPQTr"})):el.createElement(el.Fragment,null)}return el.createElement(el.Fragment,null)}function TG(e){let t=(0,ei.d4)(t=>t.roles.byTeamId[e.teamId]||{}),a=(()=>{let e=[],a={};Object.values(t).forEach(t=>{if(t.pending){e.push(t);return}a[t.user.id]=t});let r=e.filter(e=>!e.user.id||!a[e.user.id]);return Object.values(a).concat(...r).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),r=a.every(e=>e.level!==oi.e6.OWNER&&e.level!==oi.e6.ADMIN);return 0===a.length?el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team.no_members"})):el.createElement("div",{className:e.isModal?"":"members_list--centeredContainer--3W-iQ text--fontPos13--xW8hS text--_fontBase--QdLsd"},!e.isModal&&el.createElement("div",{className:"members_list--headerRowWithRequests--8ZDFy members_list_row--_membersListRowGridWithRequests---zvdR members_list_row--_membersListRowGridWithRequestsBase--uY4GW"},el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team.member_list_name"})),el.createElement("div",{className:"members_list--headerEmailColumn--2VdKO members_list_row--_hideWhenNarrow--2CbBJ"},el.createElement(e2.Tx,{id:"file_browser.team.member_list_email"})),el.createElement("div",null),el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team.member_list_permissions"}))),el.createElement(TV,{teamId:e.teamId,isModal:e.isModal??!1}),a.map(t=>el.createElement("div",{key:t.id,className:e.isModal?"members_list--memberRowForModal--H2MTf":""},el.createElement(TP,{role:t,key:`team-role-${t.id}`,teamIsOrphaned:r,isModal:e.isModal}))))}var T$=a(134200),Tj=a(266714);let TH=(0,rr.Ju)(function({team:e}){let t=(0,ei.wA)();return el.createElement(Tj.c,{title:(0,e2.t)("resource_rename_modal.team_description.title"),initialName:e.description??"",placeholder:(0,e2.t)("resource_rename_modal.team_description.placeholder"),submitText:(0,e2.t)("resource_rename_modal.team_description.submit"),onRename:a=>t(on.ub({teamId:e.id,description:a}))})},"UpdateTeamDescriptionModal");function Tq(e){let t="team-default-permission-dropdown",a=()=>e.dropdownShown&&e.dropdownShown.type===t;return el.createElement("div",{className:"team_default_permission_dropdown--defaultPermission--KDT-i"},el.createElement("button",{className:"team_default_permission_dropdown--select--pAQ0G",onClick:r=>{r.stopPropagation(),r.preventDefault(),a()?e.dispatch(aC.oB()):e.dispatch(aC.j7({type:t}))}},(0,dP.nx)()[e.defaultPermission],el.createElement(eC.B,{svg:dU.A,className:"team_default_permission_dropdown--downCaret--umRYM"})),a()&&el.createElement("div",{className:"team_default_permission_dropdown--defaultPermissionDropdownContainer--LXUX6"},el.createElement(dB.W.Dropdown,{className:"team_default_permission_dropdown--defaultPermissionDropdown--QVwoW"},el.createElement(dB.W.CheckableOption,{checked:e.defaultPermission===lm.sC.VIEW,onClick:()=>{e.onChangeDefaultPermission(lm.sC.VIEW)}},(0,dP.nx)()[lm.sC.VIEW]),el.createElement(dB.W.CheckableOption,{checked:e.defaultPermission===lm.sC.EDIT,onClick:()=>{e.onChangeDefaultPermission(lm.sC.EDIT)}},(0,dP.nx)()[lm.sC.EDIT]))))}var TY=a(715762),Tz=a(507662),TK=a(744426),TJ=a(760172),TQ=a(299410),TZ=a(801729),TX=a(435898),T0=a(684690),T1=a(557569);let T2="settings_view--blueLink--ypxB- blue_link--blueLink--9rlnd",T4="settings_view--redLink--w3H4t blue_link--blueLink--9rlnd",T3="settings_view--section---YT0h",T8="settings_view--sectionHeader--gETYS text--fontPos13--xW8hS text--_fontBase--QdLsd",T5="settings_view--upgradeBanner--p3nIo",T6="settings_view--upgrageBannerIcon--LwuU9",T9="settings_view--upgradeBannerBody---s423",T7="settings_view--blueLinkForBanner--v8CUg settings_view--blueLink--ypxB- blue_link--blueLink--9rlnd",xe="settings_view--accessIcon--WbLrO";var xt=a(761382),xa=a(68188);function xr(e){let t=(0,ei.wA)(),a=e.team,r=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),n=(0,sQ.hasAdminRoleAccessOnTeam)(a.id,r),l=(0,sQ.canAdminTeam)(a.id,r),i=(0,sQ.canAdminOrg)(a.org_id,r),s=(0,Tt.Xx)(e.team,r),o=(0,o2.xw)(r),c=!!(0,ei.d4)(e=>(0,T$.p)(e)),d=(0,ei.d4)(e=>e.dropdownShown),m=(0,T0.X8)(),u=(null==o?void 0:o.permission)===lm._D.GUEST,_=a.default_permission??lm.sC.VIEW,p=a.org_id?r.orgById[a.org_id]:null,g=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,f=!!g&&!g.canceled_at,h=!!E&&!E.canceled_at,v=(0,d2.w5)(a)&&!a.org_id,b=(0,h9.D)((null==a?void 0:a.id)||null,(null==a?void 0:a.org_id)||null),y=(0,em.kc)().enable_starter_team_transfers,w=y?!u:!u&&a.org_id||v,T=y?i||l:i||v&&l,x=y?i||l:i||v,C=(0,aX.Rs)(a9.vD4,{teamId:e.team.id}),N=el.useMemo(()=>{if("loaded"===C.status&&C.data){let e=C.data.team&&"loaded"===C.data.team.status?C.data.team.data:null;return e&&"loaded"===e.workspace.status?e.workspace.data:null}},[C]),{pending:k,updatePending:S}=e;el.useEffect(()=>{l&&S()},[null==k?void 0:k.id,S,l]);let I=async e=>{try{await dY.$.updateAiFeaturesDisabled({teamId:a.id,aiFeaturesDisabled:e}),t(on.yJ({team:{id:a.id,ai_features_disabled:e},userInitiated:!0}))}catch{t(ae.s.error((0,e2.t)("file_browser.file_browser_actions.team_update_error")))}},A=()=>{if(!v){t((0,t3.to)({type:_V.V,data:{teamId:a.id,upsellSource:d8.b.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0}}));return}ec.Ay.redirect("/purchase-organization","_blank")},L=e=>{t((0,t3.to)({type:Tl.H,data:{team:a,subscriptionStatus:e}}))},R=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===lm.bU.PUBLIC&&"edit"===e.default_permission?lm.PQ.ORG_EDIT:e.org_access===lm.bU.PUBLIC?lm.PQ.ORG_VIEW:void 0:lm.PQ.INVITE_ONLY;return el.createElement("div",null,el.createElement("div",null,el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"file_browser.team_settings.team_name"})),el.createElement("div",null,a.name),l&&el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:Ex.hc,data:{team:a}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.change_name"})))),(l||a.description)&&el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"file_browser.about"})),el.createElement("div",null,a.description),l&&el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:TH,data:{team:a}}))}},a.description?el.createElement(e2.Tx,{id:"file_browser.team.change_description"}):el.createElement(e2.Tx,{id:"file_browser.team.add_a_description"}))))),l&&a.org_access!==lm.bU.SECRET&&el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.community_profile"})),el.createElement("div",null,a.community_profile_handle?(0,e2.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:a.community_profile_handle}):""),el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:TK.S3,data:{teamId:a.id,profileId:a.community_profile_id,profileHandle:a.community_profile_handle}}))}},a.community_profile_handle?(0,e2.t)("file_browser.team_settings.change_profile_handle"):(0,e2.t)("file_browser.team_settings.set_profile_handle"))),a.community_profile_handle&&el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{a.community_profile_id&&a.community_profile_handle&&t((0,t3.to)({type:TJ.M,data:{dispatch:t,profileId:a.community_profile_id,handle:a.community_profile_handle}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.delete_profile"}))),a.community_profile_handle&&a.org_id&&el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{a.community_profile_id&&t((0,t3.to)({type:TZ.J,data:{profileId:a.community_profile_id,profileHandle:a.community_profile_handle,emptyStateText:(0,e2.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:a.community_profile_handle})}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.manage_restricted_commenters"})))),el.createElement("div",{className:T3},el.createElement("div",{className:T8},a.org_id?el.createElement(e2.Tx,{id:"file_browser.team_settings.shared"}):el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.libraries"})),el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:Tz.T,data:{teamId:a.id,entrypoint:TY.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.view_team_libraries"}))),c&&el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:Tz.lN,data:{entrypoint:TY.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.view_team_fonts"}))),m&&el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:T1.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings"}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.view_team_figjam_palettes"})))),null!=a.org_id&&a.org_access&&el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"file_browser.settings.access"})),el.createElement("div",null,b?el.createElement(el.Fragment,null,(()=>{let e=R(a),t=N||null,r=el.createElement(eC.B,{className:xe,svg:xt.A});return(e===lm.PQ.ORG_EDIT||e===lm.PQ.ORG_VIEW)&&p?r=el.createElement("div",{className:xe},el.createElement(eC.B,{svg:xa.A})):(e===lm.PQ.WORKSPACE_EDIT||e===lm.PQ.WORKSPACE_VIEW)&&(r=el.createElement("div",{className:xe},t&&el.createElement(aa.z6,{entity:t,size:20}))),el.createElement("div",{className:"settings_view--accessDescription--M8-5K"},r,el.createElement("div",null,(0,TQ.wO)(lm.vt.TEAM,p,t,e)))})(),l&&p&&el.createElement("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--baOXf modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,t3.to)({type:To.dW,data:{team:a,goBack:()=>{t((0,t3.Lo)())}}}))}},el.createElement(e2.Tx,{id:"team_view.team_permissions_modal.change"}))):el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"file_browser.team_settings.access_with_org"}),l&&el.createElement(dG,{orgAccess:a.org_access,dropdownShown:d,onChangeOrgAccess:e=>{Ts(a,e,n,i,s,t)}}),!l&&el.createElement("span",null," ",(0,dP.ZP)()[a.org_access]))),p&&!b&&el.createElement(oK.E,{color:"secondary"},dW(p.name)[a.org_access]),!l&&el.createElement("div",null,el.createElement(oK.E,{color:"secondary"},el.createElement(e2.Tx,{id:"file_browser.team_settings.team_admins_and_owners_can_change"})))),null!=a.org_id&&a.org_access===lm.bU.PUBLIC&&!b&&el.createElement("div",{className:T3},el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team_settings.default_permission"}),l&&el.createElement(Tq,{defaultPermission:_,dropdownShown:d,onChangeDefaultPermission:e=>{t((0,dF.Sb)({team:a,defaultPermission:e}))},dispatch:t}),!l&&el.createElement("span",null," ",(0,dP.nx)()[_])),el.createElement("div",null,el.createElement(oK.E,{color:"secondary"},{[lm.sC.EDIT]:el.createElement(e2.Tx,{id:"team_creation.can_edit_description"}),[lm.sC.VIEW]:el.createElement(e2.Tx,{id:"team_creation.can_view_description"})}[_])),!l&&el.createElement("div",null,el.createElement(oK.E,{color:"secondary"},el.createElement(e2.Tx,{id:"file_browser.team_settings.team_admins_and_owners_can_change"})))),!a.org_id&&l&&el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"file_browser.team_settings.figma_and_figjam_ai"}),el.createElement(oj.Ex,{text:(0,e2.t)("general.beta"),className:"settings_view--betaTag--kpVAI",color:oj.zE.DESIGN})),el.createElement("div",{className:"settings_view--toggleSectionContainer--BPmF-"},el.createElement("div",{className:"settings_view--toggleSectionContainerDescription--FW8Bn"},el.createElement(e2.Tx,{id:"file_browser.team_settings.enable_ai_features",spaceChar:el.createElement(el.Fragment,null,"\xa0"),learnMoreLink:el.createElement("a",{target:"_blank",rel:"noopener",className:T2,href:TX.W9},el.createElement(e2.Tx,{id:"file_browser.team_settings.learn_more"}))})),el.createElement(m_.l,{on:!a.ai_features_disabled,onChange:e=>{I(!e)}})),el.createElement("div",{className:"settings_view--descriptionSecondary--vsf1-"},el.createElement(e2.Tx,{id:"file_browser.team_settings.enable_ai_features_description"}))),v&&l&&el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"settings_table.plan_and_billing"})),el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.admin_console_billing_nudge"})),el.createElement("button",{className:T2,onClick:()=>{t(aC.$T({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:mG.I.BILLING})),t((0,t3.Lo)())}},el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.admin_console_billing_button"}))),w&&el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"file_browser.team_settings.transfer"})),el.createElement("div",null,k?el.createElement(el.Fragment,null,el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",sourceUserEmail:k.source_user_email,destinationUserEmail:k.destination_user_email})),x&&el.createElement("div",null,el.createElement("button",{className:T4,onClick:e.onRevokeTransfer},el.createElement(e2.Tx,{id:"file_browser.folder_settings.revoke"})))):T?el.createElement(e2.Tx,{id:"file_browser.team_settings.transfer_team_link_to_an_external_organization",transferTeamLink:el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:Ex.Lg,data:{team:a,entryPoint:Tc.Lq.ORG_TEAM_SETTINGS,onRequestClose:e.updatePending}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.transfer_team"}))}):el.createElement(el.Fragment,null,el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",orgName:null==p?void 0:p.name})),el.createElement("div",null,el.createElement("button",{className:T2,onClick:()=>{t((0,t3.to)({type:Ex.Y4,data:{team:a,entryPoint:Tc.Lq.ORG_TEAM_SETTINGS}}))}},el.createElement(e2.Tx,{id:"file_browser.team_settings.see_who_can_help_with_transfers"})))))),!v&&!a.org_id&&l&&el.createElement(el.Fragment,null,el.createElement("div",{className:T3},el.createElement("div",{className:T8},el.createElement(e2.Tx,{id:"team_view.settings_table.delete_team"})),el.createElement("div",null,el.createElement(e2.Tx,{id:"team_view.settings_table.delete_team_description"})),el.createElement("div",null,el.createElement("button",{className:T4,onClick:()=>L(f||h)},el.createElement(e2.Tx,{id:"file_browser.team_settings.delete_team"})))),el.createElement("div",{className:T5},el.createElement(eC.B,{className:T6,svg:lq.A}),el.createElement("div",{className:T9},el.createElement("strong",null,el.createElement(e2.Tx,{id:"upgrade.ready_to_go_beyond_free_plan"})),el.createElement("div",null,el.createElement(e2.Tx,{id:"upgrade.more_features"}),el.createElement(e8.$z,{className:T7,onClick:A,trackingProperties:{trackingDescriptor:e3.c.UPGRADE,upsellSource:d8.b.TEAM_SETTINGS_MODAL}},el.createElement(e2.Tx,{id:"upgrade.view_plans"})))))),v&&l&&el.createElement("div",{className:T5},el.createElement(eC.B,{className:T6,svg:lq.A}),el.createElement("div",{className:T9},el.createElement("div",null,el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.upgrade_to_organization"}),el.createElement(e8.$z,{className:T7,onClick:A,trackingProperties:{trackingDescriptor:e3.c.UPGRADE_TO_ORGANIZATION,upsellSource:d8.b.TEAM_SETTINGS_MODAL}},el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.upgrade"}))))))}var xn=a(499655);let xl=(0,_t.rw)();var xi=((y=xi||{}).SETTINGS="SETTINGS",y.MEMBERS="MEMBERS",y);let xs=(0,a4.nF)(async(e,{teamId:t})=>{await _I.kb.promise;let a=e.getState();t&&(0,sQ.canViewTeam)(t,a)&&(0,_H.xN)(t,e)});function xo(e){let t={MEMBERS:(0,e2.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,e2.t)("file_browser.team_settings_modal.settings_tab")},a=(0,ei.d4)(t=>(0,sQ.canEditTeam)(e.team.id,t)),r=el.useRef(null),{setToolbarWidth:n}=e;el.useEffect(()=>{var e;if(r){let t=null==(e=r.current)?void 0:e.offsetWidth;t&&n(t)}},[n]);let l=(0,h9.D)(e.team.id,e.team.org_id)&&e.team.org_id,i=l?[el.createElement("div",{key:"SETTINGS",className:"team_settings_modal--settingsHeader--5x8ah"},t.SETTINGS)]:(0,as.WI)(Object.entries(t).map(([t,r])=>{if("SETTINGS"===t&&a||"MEMBERS"===t)return el.createElement(xl,{tab:t,mobileNavTabTitle:r,selectedTab:e.selectedTab,key:t,onClick:()=>e.setTab(t)},r)}));return e.isMobile?el.createElement(Tf.F,{tabs:i,dispatch:e.dispatch,width:"100vw"}):el.createElement("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--Ui-Tg",style:{minWidth:e.contentWidth},ref:r},el.createElement(_e.i,{containerClassName:`${l?"team_settings_modal--toolBarSettingsOnly--fQyD4 team_settings_modal--toolBarContainer--uvT4G":"team_settings_modal--toolBarContainerFullWidth--UA2OT team_settings_modal--toolBarContainer--uvT4G"} team_settings_modal--borderRadius--7cvDS`,tabs:i}),el.createElement(cg.s_,{dispatch:e.dispatch,className:l?"team_settings_modal--settingsOnlyCloseButton--Yix8f":"team_settings_modal--settingsCloseButton--sf3hL",onClose:()=>xd(e.dispatch,e.team,e.viewOnClose)}))}let xc="TEAM_SETTINGS_MODAL",xd=(e,t,a)=>{e(aC.$T(a))},xm=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=el.useRef(null),[r,n]=el.useState(-1),l=e.teamSettingsProps,i=e.canAdmin,s=e.entryView,o=(0,ei.d4)(e=>e.teams[l.team.id]),c=(0,ei.d4)(e=>e.avatarEditorState),d=(0,ei.d4)(e=>e.roles||{});if(el.useEffect(()=>{t(TE.um())},[t]),el.useEffect(()=>{o&&t(xs({teamId:o.id}))},[t,o]),!o)return null;let m=e_.rr,u=m?window.innerWidth:Math.min(.7*window.innerWidth,650),_=m?window.innerWidth:Math.max(u,r),p=i?el.createElement(mJ.FL,{entity:o,entityType:mY.ck.TEAM,avatarEditorState:c,size:80,dispatch:t,avatarSvg:xn.A,svgSizeRatio:.6}):el.createElement(oq.nl,{team:o,size:80,avatarSvg:xn.A,svgSizeRatio:.6});return el.createElement(e8.fu,{name:"Team Settings Modal",properties:{teamId:o.id}},el.createElement(rn.aF,{popStack:!0,size:_,height:m?window.innerHeight:.8*window.innerHeight,className:m?"team_settings_modal--fullScreenModal--JpmRA team_settings_modal--modal--hXRLf modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--vTKGm team_settings_modal--modal--hXRLf modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",modalRef:a,onHide:()=>xd(t,o,s)},el.createElement(xo,{selectedTab:e.tab,setTab:e=>{t(t3.hm({type:xc,data:{tab:e,canAdmin:i,teamSettingsProps:l,entryView:s}}));let r="team"===s.view?{view:"team",teamId:o.id,teamViewTab:"SETTINGS"===e?mG.A.SETTINGS:mG.A.MEMBERS}:s;t(aC.$T(r));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:m,contentWidth:u,setToolbarWidth:n,team:o,viewOnClose:s}),el.createElement("div",{className:"team_settings_modal--modalBody--1wz43"},el.createElement("div",{className:"team_settings_modal--avatarContainer--mluVf"},p),"SETTINGS"===e.tab&&el.createElement(e8.fu,{name:"Team Settings"},el.createElement("div",{className:"team_settings_modal--settingsContainer--I6MhY"},el.createElement(xr,{team:o,pending:l.pending,onRevokeTransfer:l.onRevokeTransfer,updatePending:l.updatePending,billing:l.billing}))),"MEMBERS"===e.tab&&el.createElement("div",{className:"team_settings_modal--membersContainer--n-pMM"},el.createElement("div",{className:"team_settings_modal--membersHeader--ZxZWg"},el.createElement(oK.E,{color:"secondary",fontSize:12},o.name,el.createElement(e2.Tx,{id:"file_browser.team_settings_modal.members_tab_header",numMembers:(0,mM.pG)(d,o.id).length}))),el.createElement(TG,{teamId:o.id,isModal:!0})))))},xc,rr.ZU.YES);function xu(e,t,a,r){let n=(0,ei.wA)();return el.useCallback(()=>{var l,i;void 0!==t&&((0,h9.D)((null==(l=t.team)?void 0:l.id)||null,(null==(i=t.team)?void 0:i.org_id)||null)&&e===xi.MEMBERS&&t.team.org_id?n(t3.to({type:Ex.T9,data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):n(t3.to({type:xm,data:{tab:e,teamSettingsProps:t,canAdmin:a,entryView:r}})))},[e,t,a,r,n])}let x_="teams_table--menuBar--HgJZM multi_select_list--menuBar--8xNGR",xp="teams_table--teamNameColumn--shBNF teams_table--column--F5XKe table--column--974RA",xg="teams_table--workspaceColumn--PZLJb teams_table--column--F5XKe table--column--974RA",xE="teams_table--ownerColumn--AUoZk teams_table--column--F5XKe table--column--974RA",xf="teams_table--projectsColumn--xOqvQ teams_table--column--F5XKe table--column--974RA",xh="teams_table--membersColumn---Vt9A teams_table--column--F5XKe table--column--974RA",xv="teams_table--orgAccessColumn--PTlhV teams_table--column--F5XKe table--column--974RA",xb="teams_table--iconColumn--8sywl admin_settings_page--iconColumn--kO4-J",xy="teams_table--pendingIconColumn--DzFep admin_settings_page--iconColumn--kO4-J",xw="teams_table--blueLink--ppPnv blue_link--blueLink--9rlnd",xT="teams_table--actionBar--Z-EEc",xx="teams_table--bannerWarningIcon--pg76-",xC="teams_table--warningIconContainer--Yi0NS",xN="teams_table--teamAvatarLabel--HDLkp";function xk({areDropdownsDisabled:e,dropdownShown:t,workspacesCanMoveTo:a,org:r,team:n,teamPendingTransfers:l,teamRoleRequests:i,onRevokeTransferRequestSuccess:s,pendingTransferRequests:o,onViewerJoinTeam:c,onViewerLeaveTeam:d}){var m;let u=(0,ei.wA)(),_=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),p=(0,ei.d4)(e=>e.teamBilling),g=(0,ei.d4)(e=>e.teams[n.id]),E=(0,sJ._6)(),[f,h]=el.useState(),{onChangeOrgAccess:v,onDeleteTeam:b,onJoinRequest:y,onOpenTeam:w,onRenameTeam:T,onTransferTeam:x,onRevokeTeamTransferRequest:C,onWithdrawRequestForTeam:N,onAddToWorkspace:k,onRemoveFromWorkspace:S,onOpenAccessSettings:I}=Tu(i,l,o,s),A=e=>{u((0,t3.to)({type:Ta.p,data:{teamId:e.id,onViewerLeaveTeam:d}}))},L=(0,yD.lH)(n.id,void 0,c),R=(0,yD.lH)(n.id,oi.e6.ADMIN,c),O=(0,yD.lH)(n.id,oi.e6.OWNER,c),D=el.useCallback(()=>{td.Ay.del(`/api/asset_transfer/${null==f?void 0:f.id}`).then(()=>{h(void 0),u(a0.F.enqueue({message:(0,e2.t)("asset_transfers.revoke.transfer_revoked")}))},e=>{u(a0.F.enqueue({message:(0,e2.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[null==f?void 0:f.id,u]),F=el.useMemo(()=>{if(g)return{team:g,pending:f,onRevokeTransfer:D,updatePending:o,billing:p}},[D,o,g,p,f]),M=xu(xi.MEMBERS,F,(0,sQ.canAdminTeam)(n.id,_),E),P=xu(xi.SETTINGS,F,(0,sQ.canAdminTeam)(n.id,_),E);if(e)return el.createElement(el.Fragment,null);let B=`MENU_DROPDOWN-${n.id}`,U=(null==t?void 0:t.type)===B,W=[];if((0,sQ.canViewTeam)(n.id,_)&&((n.org_access===lm.bU.PUBLIC||(0,sQ.hasViewerRoleAccessOnTeam)(n.id,_))&&W.push({displayText:(0,e2.t)("teams_table.view_projects"),callback:()=>w(n.id)}),F&&(W.push({displayText:(0,e2.t)("teams_table.view_team_members"),callback:M}),W.push({displayText:(0,e2.t)("teams_table.view_settings"),callback:P}))),W.push({displayText:"",separator:!0}),(0,sQ.canManageOrgTeam)(n.id,_)){W.push({displayText:(0,e2.t)("teams_table.rename_team"),callback:()=>T(n)});let e=[lm.bU.PUBLIC,lm.bU.PRIVATE,lm.bU.SECRET].map(e=>({displayText:(0,dP.ZP)()[e],isChecked:n.org_access===e,callback:()=>v(n,e)}));(0,h9.D)((null==n?void 0:n.id)||null,(null==n?void 0:n.org_id)||null)?W.push({displayText:(0,e2.t)("teams_table.manage_access_setting"),callback:()=>I(n)}):W.push({displayText:"Edit org access",children:e})}a.length>0&&W.push({displayText:"Change workspace",children:((e,t)=>{let r=a.map(a=>({displayText:a.name,isChecked:t===a.id,callback:()=>k(e,a.id,a.name)}));return r.push({displayText:"",separator:!0}),r.push({displayText:t?(0,e2.t)("members_table.license_group_cell.unassign"):(0,e2.t)("license_group.unassigned"),isChecked:!t,callback:()=>S(e)}),r})(n,n.workspace_id)}),W.push({displayText:"",separator:!0}),(0,sQ.canAdminOrg)(r.id,_)&&(0,sQ.canManageOrgTeam)(n.id,_)&&(l&&l.get(n.id)?W.push({displayText:(0,e2.t)("teams_table.revoke_transfer_request"),callback:()=>C(n.id)}):W.push({displayText:(0,e2.t)("teams_table.transfer_team"),callback:()=>x(n)})),(0,sQ.hasAdminRoleAccessOnTeam)(n.id,_)&&W.push({displayText:(0,e2.t)("teams_table.delete_team"),callback:()=>b(n)});let V=(e=>{let t=(0,Tt.YP)(e,i[e.id],_,r.id);return null===t?null:{displayText:(()=>{switch(t){case Tt.gO.CLICK_LEAVE:return(0,e2.t)("teams_table.leave_team");case Tt.gO.CLICK_WITHDRAW:return(0,e2.t)("teams_table.cancel_join_request");case Tt.gO.CLICK_JOIN:return(0,e2.t)("teams_table.join_team");case Tt.gO.CLICK_JOIN_AS_ADMIN:return(0,e2.t)("teams_table.join_team_as_admin");case Tt.gO.BYPASS_REQUEST:return(0,e2.t)("teams_table.join_team_as_owner");case Tt.gO.CLICK_REQUEST:return(0,e2.t)("teams_table.request_to_join")}})(),callback:(()=>{switch(t){case Tt.gO.CLICK_LEAVE:return()=>A(e);case Tt.gO.CLICK_WITHDRAW:return()=>N(e);case Tt.gO.CLICK_JOIN:return L;case Tt.gO.CLICK_JOIN_AS_ADMIN:return R;case Tt.gO.BYPASS_REQUEST:return O;case Tt.gO.CLICK_REQUEST:return()=>y(e)}})()}})(n);return(V&&(W.push({displayText:"",separator:!0}),W.push(V)),W.every(e=>e.separator))?el.createElement(el.Fragment,null):el.createElement(uj.Ve,{className:be.hP,dispatch:u,hideChevron:!0,showingDropdown:U,type:B,isRightAligned:!0,isMultilevelDropdown:!0},el.createElement(eC.B,{svg:nf.A,className:"teams_table--menuIcon--9m-kB admin_settings_page--menuIcon--Bx2JO"}),U&&t&&(null==(m=null==t?void 0:t.data)?void 0:m.targetRect)&&el.createElement(n_.j,{showPoint:!1,items:W,onSelectItem:e=>{e.callback&&e.callback("",null,u)},parentRect:t.data.targetRect,dispatch:u}))}var xS=a(615923),xI=a(542479);let xA=e=>e.org_access===lm.bU.SECRET?"Secret teams can\u2019t be added as default teams.":null;function xL(e){let t;let a=e.token.content;switch(a.org_access){case lm.bU.PRIVATE:t="closed";break;case lm.bU.SECRET:t="secret"}return el.createElement("div",{className:"default_teams_edit_modal--teamToken--4RNIJ default_teams_edit_modal--flexHorizontalGap8px--eMeii"},el.createElement(oq.nl,{team:a,size:oq.Pf.SMALL,fallbackDisplay:_W.U.HIDDEN}),el.createElement("span",null,a.name,t&&` (${t})`))}function xR(e){let t;let a=e.searchResult,r=(0,h9.D)((null==a?void 0:a.id)||null,(null==a?void 0:a.org_id)||null);switch(a.org_access){case lm.bU.PUBLIC:t="Open team";break;case lm.bU.PRIVATE:t="Closed team";break;case lm.bU.SECRET:t="Secret team"}return el.createElement("div",{className:e.isSelected?"default_teams_edit_modal--teamRowSelected--TQOOW default_teams_edit_modal--teamRow--bg9Zy default_teams_edit_modal--flexHorizontalGap8px--eMeii":"default_teams_edit_modal--teamRow--bg9Zy default_teams_edit_modal--flexHorizontalGap8px--eMeii"},el.createElement(oq.nl,{team:a}),el.createElement("div",{className:"default_teams_edit_modal--teamRowInfo--97b0A"},el.createElement("span",null,a.name),el.createElement("div",{className:e.isSelected?"default_teams_edit_modal--teamRowDetailsSelected--gJQy- default_teams_edit_modal--teamRowDetails--fGrVt":"default_teams_edit_modal--teamRowDetails--fGrVt"},!r&&t&&el.createElement(el.Fragment,null,el.createElement("span",null,t),el.createElement("span",null,"\xa0\xb7\xa0")),r&&a.sharing_audience_control===lm.PQ.INVITE_ONLY&&a.org_browsable&&el.createElement(el.Fragment,null,el.createElement("span",null,(0,e2.t)("teams_table.default_workspace_team.invite_only")),el.createElement("span",null,"\xa0\xb7\xa0"),el.createElement("span",null,(0,e2.t)("teams_table.default_workspace_team.visible")),el.createElement("span",null,"\xa0\xb7\xa0")),a.workspaceName&&el.createElement(el.Fragment,null,el.createElement("span",{className:eE.cx.maxW150.ellipsis.noWrap.overflowHidden.$},a.workspaceName),el.createElement("span",null,"\xa0\xb7\xa0")),el.createElement("span",null,(0,ac.td)(a.member_count,"member")),el.createElement("span",null,"\xa0\xb7\xa0"),el.createElement("span",null,(0,ac.td)(a.projects,"project")))))}let xO=(e,t)=>t?{...e,workspaceName:t}:e,xD=(0,rr.Ju)(function(e){var t;let{workspaceId:a}=e,r=(0,ei.wA)(),n=(0,sK.dq)(),l=(0,eU.md)(yB),i=(0,aX.Rs)(a9.kC9,{workspaceId:a}),s=null==(t=null==i?void 0:i.data)?void 0:t.workspace,o=el.useMemo(()=>(null==s?void 0:s.defaultTeams)||[],[s]),c=el.useMemo(()=>{let e=new Map;return o.forEach(t=>{var a,r;e.set(t.teamId,null==(r=null==(a=t.team)?void 0:a.workspace)?void 0:r.name)}),e},[o]),[d,m]=el.useState((0,hS.Rs)()),[u,_]=el.useState(!1),p="loaded"!==l.status||"loaded"!==i.status;el.useEffect(()=>{p||u||m({...(0,hS.Rs)(),tokens:o.filter(e=>e.teamId in l.data).map(function(e){return{state:hk.d.OK,content:xO(l.data[e.teamId],c.get(e.teamId))}})})},[p,u,o,l,c]);let g=()=>{(0,e7.sx)("CTA Clicked",{name:"Edit Default Teams Modal Cancel",workspaceId:a,orgId:n}),r(t3.Ce())},E=el.createElement("span",{className:eE.cx.fontSemiBold.$},null==s?void 0:s.name),f=(null==s?void 0:s.name)?el.createElement(e2.Tx,{id:"workspace.when_people_join_workspace_name",styledWorkspaceName:E}):el.createElement(e2.Tx,{id:"workspace.when_people_join_this_workspace"}),h=(0,h9.D)(null,n);return el.createElement(lD.XV,{title:(0,e2.t)("workspace.edit_default_teams"),onClose:g,minWidth:500},el.createElement("div",{className:"default_teams_edit_modal--container--E3dQ8 default_teams_edit_modal--flexVerticalGap8px--Zmf4X"},p&&el.createElement(t7.qc,null),!p&&el.createElement(el.Fragment,null,el.createElement("span",null,f),el.createElement("div",null,el.createElement(xI.P,{autocompleteResultsClassName:"default_teams_edit_modal--autocompleteResults--fgiBu",autocomplete:d,placeholder:"Search for a team",onChange:e=>{let t="",a=[];e.tokens.forEach(e=>{let r=xA(e.content);r&&(t=r),a.push({...e,state:r?hk.d.ERROR:hk.d.OK})}),m({...e,tokens:a,errorMessage:t}),_(!0)},validateToken:eu.lQ,searchResults:e=>{let t=new fQ.Ef([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0}),a=d.tokens.map(e=>e.content.id);return t.set(Object.values(l.data||{}).filter(e=>!a.includes(e.id)).filter(e=>!e.hidden).map(function(e){var t;let a=o.find(t=>t.teamId===e.id),r=null==(t=null==a?void 0:a.team)?void 0:t.workspace;return xO(e,r?r.name:void 0)})),t.search(e.inputValue)},SearchResultComponent:xR,TokenComponent:xL})),d.errorMessage&&el.createElement("span",{className:eE.cx.textRed__DEPRECATED.$,"data-testid":"error-label"},d.errorMessage),el.createElement("span",null,el.createElement("span",{className:eE.cx.fontSemiBold.$},(0,e2.t)("workspace.note")),h?(0,e2.t)("workspace.new_users_will_join_updated"):(0,e2.t)("workspace.new_users_will_join"))),el.createElement("div",{className:"default_teams_edit_modal--buttonContainer---Ss5O default_teams_edit_modal--flexHorizontalGap8px--eMeii"},el.createElement(eT.nR,{onClick:g},(0,e2.t)("workspace.cancel")),el.createElement(e8.fu,{name:"Edit Default Teams Modal Submit",properties:{workspaceId:a,orgId:n}},el.createElement(eT.vd,{onClick:()=>{if(s){let e={id:s.id,name:s.name,defaultTeams:s.defaultTeams||[]};r(xS.F({workspace:e,teamIds:d.tokens.map(e=>e.content.id)}))}r(t3.Ce())},disabled:p||!!d.errorMessage},(0,e2.t)("workspace.save"))))))},"WorkspaceDefaultTeamsEditModal");var xF=((w=xF||{})[w.SEARCH=0]="SEARCH",w[w.FILTER=1]="FILTER",w);let xM=()=>({[Td.JOINED]:(0,e2.t)("teams_table.membership_filter.my_teams_option"),[Td.NOT_JOINED]:(0,e2.t)("teams_table.membership_filter.not_my_teams_option")});function xP(e){let{dropdownShown:t,filterCounts:a,lastFilterAction:r,onFilter:n,onSearch:l,org:i,orphanedTeamFilter:s,searchQuery:o,selectedOrgAccessFilter:c,selectedTeamMembershipFilter:d,teamRoleRequests:m,teams:u,selectedWorkspaceFilter:_,selectedDiscoverabilityFilter:p}=e,[g,E]=el.useState(!1),f=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),h=(0,ei.wA)(),[v,b]=el.useState(new Map),y=el.useCallback(()=>{wX.S.getOrgTeamTransfers({orgId:i.id}).then(({data:e})=>{let t=e.meta;if(t)for(let e of t)b(t=>new Map(t.set(e.source_team_id,e)))})},[i.id]),w=e=>{b(t=>new Map(t.set(e,null))),h(a0.F.enqueue({message:(0,e2.t)("asset_transfers.revoke.transfer_revoked")}))},{onChangeOrgAccess:T,onAddToWorkspace:x,onRemoveFromWorkspace:C}=Tu(m,v,y,w),N=(0,ei.d4)(({selectedView:e})=>e),k="orgAdminSettings"===N.view,S="workspace"===N.view&&N.subView===m$.V0.ADMIN,I=(0,ei.d4)(({selectedView:e})=>"workspace"===e.view&&e.subView===m$.V0.ADMIN?e.workspaceId:null),A=!e_.rr&&k,L=(0,dM.NJ)(i.id),R=L.data||[],O={};R.forEach(e=>O[e.id]=e);let D=(0,h9.D)(null,(null==i?void 0:i.id)||null),F=JSON.stringify(v);el.useEffect(()=>{y()},[F,y]);let M=()=>{let e;e=I||_||void 0,h(t3.to({type:pu.Uc,data:{workspaceId:e}}))},P=I&&_!==fw.O,B=()=>{h((0,t3.to)({type:xD,data:{workspaceId:I}}))},U=e=>`ORG-ACCESS-DROPDOWN-${e.id}`;function W(e,a){return el.createElement(xk,{org:i,team:e,areDropdownsDisabled:a,dropdownShown:t,teamRoleRequests:m,teamPendingTransfers:v,pendingTransferRequests:y,onRevokeTransferRequestSuccess:w,workspacesCanMoveTo:R})}function V(e){var t,a;if(v&&v.get(e.id)){let r=(0,e2.t)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:null==(t=v.get(e.id))?void 0:t.source_user_email,destinationUserEmail:null==(a=v.get(e.id))?void 0:a.destination_user_email});return el.createElement("div",{className:xC,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":2,"data-tooltip-max-width":250},el.createElement(eC.B,{svg:EA.A,className:xx}))}return el.createElement(el.Fragment,null)}let G=e=>{let t=e&&O[e]?e:null,a=R.map(e=>({type:"option",key:e.id,text:e.name}));return a.push({type:"separator",key:"separator"}),a.push({type:"option",key:fw.O,text:t?(0,e2.t)("members_table.workspace_cell.unassign"):(0,e2.t)("workspace.unassigned"),selectedLabelClass:eE.cx.textFGBlack54__DEPRECATED.$}),{options:a,selectedValue:t??fw.O}},$=()=>{let e=[];function a(){return el.createElement(el.Fragment,null,"\u2013")}return e.push({name:(0,e2.t)("teams_table.team_name"),className:xp,getSortValue:e=>e.name,cellComponent:e=>el.createElement(nX.Y,null,el.createElement(aa.rE,{entity:e,size:22,className:xN}),D&&(e.org_access===lm.bU.PRIVATE||e.org_access===lm.bU.SECRET)&&el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":e.org_access===lm.bU.PRIVATE?(0,e2.t)("teams_table.closed_team_tooltip_header"):(0,e2.t)("teams_table.secret_team_tooltip_header"),"data-tooltip-subtext":e.org_access===lm.bU.PRIVATE?(0,e2.t)("teams_table.closed_team_tooltip_subtitle"):(0,e2.t)("teams_table.secret_team_tooltip_subtitle"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},el.createElement(wZ.I,{icon:"lock-16"})))}),e.push({name:(0,e2.t)("teams_table.owner"),className:xE,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>e.owner?el.createElement(uX,{entity:e.owner,size:22,dispatch:h}):el.createElement(a,null)}),e.push({name:(0,e2.t)("teams_table.projects"),className:xf,getSortValue:e=>e.projects,sortNumerically:!0,cellComponent:e=>el.createElement(e2.Tx,{id:"teams_table.project_count",numProjects:e.projects})}),e.push({name:(0,e2.t)("teams_table.members"),className:xh,getSortValue:e=>e.member_count||0,sortNumerically:!0,cellComponent:e=>el.createElement(e2.Tx,{id:"teams_table.member_count",numMembers:e.member_count})}),D||e.push({name:(0,e2.t)("teams_table.org_access"),className:xv,getSortValue:e=>{switch(e.org_access||lm.bU.PUBLIC){case lm.bU.PUBLIC:return`a${e.name}`;case lm.bU.PRIVATE:return`b${e.name}`;case lm.bU.SECRET:return`c${e.name}`}},cellComponent:(e,r)=>e.org_access?(0,sQ.canManageOrgTeam)(e.id,f)?el.createElement(v7.H,{dispatch:h,dropdownShown:t,value:e.org_access,options:Tm(),onChange:t=>{T(e,t)},id:U(e),disabled:r}):el.createElement(el.Fragment,null,(0,dP.ZP)()[e.org_access]):el.createElement(a,null)}),i.bigma_enabled&&R.length>0&&e.push({name:(0,e2.t)("teams_table.enterprise.workspace"),getSortValue:e=>{var t;return e.workspace_id&&(null==(t=O[e.workspace_id])?void 0:t.name)||""},className:xg,cellComponent:(e,a)=>{let r=`UPDATE_TEAM_WORKSPACE-${e.id}`,{options:n,selectedValue:l}=G(e.workspace_id);return el.createElement("div",{className:eE.cx.maxWFull.$},"loaded"===L.status?el.createElement(v7.H,{dispatch:h,dropdownShown:t,disabled:a,value:l,options:n,onChange:t=>{var a;t===fw.O?C(e):x(e,t,null==(a=O[t])?void 0:a.name)},id:r}):el.createElement("div",{style:cs.sx.w64.$},el.createElement(uM.Wi,{className:eE.cx.h24.w64.$,animationType:uM.JR.SHIMMER})))}}),e.push({name:" ",className:xy,cellComponent:V}),e.push({name:"",className:xb,cellComponent:W}),e},j=$(),[H,q,Y]=(0,fq.z)({columnName:(0,e2.t)("teams_table.team_name"),isReversed:!1},u,j);return el.createElement(el.Fragment,null,el.createElement(bK.K,{title:u7(mz.J7.TEAMS),hasHorizontalPadding:!0,rightActions:el.createElement(nX.Y,{width:"hug-contents"},el.createElement(mE.$,{icon:"plus-32",onClick:M,"data-onboarding-key":uc},el.createElement(oK.E,{i18nId:"teams_table.team"})),el.createElement(mE.V,{onClick:()=>{if(g)return;E(!0),h(a0.F.enqueue({message:(0,e2.t)("teams_table.csv_export.preparing_request"),type:"orgTeam.exportCSV",icon:uB.zX.SPINNER}));let t=I?`/api/workspace/${I}/export_teams`:`/api/orgs/${e.org.id}/export_teams`;td.Ay.post(t).then(()=>{h(a0.F.enqueue({message:(0,e2.t)("teams_table.csv_export.generating"),type:"orgTeam.exportCSV",icon:uB.zX.CHECK})),E(!1)},()=>{h(a0.F.enqueue({message:(0,e2.t)("teams_table.csv_export.error"),type:"orgTeam.exportCSV",icon:uB.zX.EXCLAMATION,error:!0})),E(!1)})},trackingProperties:{action:"Export CSV"}},el.createElement(oK.E,{i18nId:"teams_table.csv_export.get_csv"})))}),el.createElement(u$.Cj,{hasNewScrollContext:!0,emptyContent:el.createElement(b5.p,null,(()=>{let e=()=>{n({orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null})},t=_?el.createElement(e2.Tx,{id:"teams_table.no_teams_to_show"}):el.createElement("span",null,el.createElement(e2.Tx,{id:"teams_table.your_organization_does_not_have_any_teams_yet"})," ",el.createElement("a",{className:xw,onClick:M},el.createElement(e2.Tx,{id:"teams_table.create_one"}))),a=el.createElement("span",null,(0,e2.t)("teams_table.no_teams_to_show")," ",el.createElement("a",{className:xw,onClick:()=>e()},el.createElement(e2.Tx,{id:"multi_select_list.reset_filters"}))),l=el.createElement(e2.Tx,{id:"teams_table.no_search_results"}),i=c||d||s;return i&&o?0===r?l:a:i?a:o?l:t})()),items:Y,getItemKey:e=>e.id,columns:$(),stickyContent:(()=>{let e=(0,gg.ZM)(u);return el.createElement(el.Fragment,null,S&&el.createElement(aV.p,null,el.createElement(w6,null)),!!I&&el.createElement(Te,{workspace:R.filter(e=>e.id===I)[0]}),el.createElement("div",{className:x_},el.createElement("div",{className:be.cE},el.createElement("div",{className:eE.cx.pr8.$},el.createElement(uP.y2,{onChange:l,focusOnMount:!1,query:o,clearSearch:()=>{l("")},placeholder:(0,e2.t)("teams_table.search_teams_with_ellipsis")})),el.createElement(b9,{selectedWorkspaceId:_,onFilterUpdate:e=>n({workspaceFilter:e}),getCount:t=>e[t]??0}),D?el.createElement(uj.bv,{dropdownShown:t,dropdownType:"FILTER_DISCOVERABILITY_DROPDOWN",selectedValue:p,getDisplayText:e=>(0,dP.e$)()[e],getSelectedDisplayText:e=>{switch(e){case gf.Fb.ORG_BROWSABLE:return(0,e2.t)("teams_table.discoverability_filter.visible");case gf.Fb.HIDDEN:return(0,e2.t)("teams_table.discoverability_filter.hidden");default:return(0,e2.t)("teams_table.discoverability_filter.all")}},getCount:e=>a.discoverabilityFilter[e],updateFilter:e=>n({discoverabilityFilter:e}),values:Object.values(gf.Fb),dispatch:h}):el.createElement(uj.bv,{"data-onboarding-key":"teams_table_onboarding_key",dropdownShown:t,dropdownType:"FILTER_ORG_ACCESS_DROPDOWN",selectedValue:c,getDisplayText:e=>(0,dP.ZP)()[e],getSelectedDisplayText:e=>{switch(e){case lm.bU.PUBLIC:return(0,e2.t)("teams_table.org_access_filter.open");case lm.bU.PRIVATE:return(0,e2.t)("teams_table.org_access_filter.closed");case lm.bU.SECRET:return(0,e2.t)("teams_table.org_access_filter.secret");default:return(0,e2.t)("teams_table.org_access_filter.all")}},getCount:e=>a.orgAccessFilter[e],updateFilter:e=>n({orgAccessFilter:e}),values:Object.values(lm.bU),dispatch:h}),el.createElement(uj.bv,{dropdownShown:t,dropdownType:"FILTER_TEAM_MEMBERSHIP_DROPDOWN",selectedValue:d,getDisplayText:e=>xM()[e],getSelectedDisplayText:e=>{switch(e){case Td.JOINED:return(0,e2.t)("teams_table.membership_filter.my_teams_label");case Td.NOT_JOINED:return(0,e2.t)("teams_table.membership_filter.not_my_teams_label");default:return(0,e2.t)("teams_table.membership_filter.all")}},getCount:e=>a.teamMembershipFilter[e],updateFilter:e=>n({teamMembershipFilter:e}),values:Object.values(Td),dispatch:h}),el.createElement(e8.jm,{className:be.$u,onClick:()=>n({orphanedTeamFilter:!s}),trackingProperties:{filterType:"OrphanedTeamFilter",isFilterEnabled:!s}},el.createElement(eT.tB,{checked:s,onChange:eu.lQ}),el.createElement(e2.Tx,{id:"teams_table.teams_without_owners"}))),el.createElement("div",{className:be.ld},P&&el.createElement("div",{className:be.hP,onClick:B},el.createElement(eC.B,{className:be.gE,svg:EV.A}),el.createElement(e2.Tx,{id:"teams_table.enterprise.edit_default_teams"})))))})(),actionBar:e=>el.createElement(Tg,{workspacesCanMoveTo:R,org:i,selectedTeams:e,teamRoleRequests:m,teamPendingTransfers:v,pendingTransferRequests:y,onRevokeTransferRequestSuccess:w}),actionBarClassName:xT,itemTypeContext:{itemType:"team",getSelectedCountString:e=>(0,e2.t)("multi_select_list.selected_count_team",{numSelected:e})},minContentWidth:(0,te.hG)(e5.YEj),isBannerHeightDynamic:!0,sortState:H,onSetSortState:q}),A?el.createElement(aV.p,null,el.createElement(w4,null)):null)}let xB=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"owner.handle",weight:1},{name:"owner.email",weight:1}]});function xU(e){let{dispatch:t,dropdownShown:a,teams:r,teamRoleRequests:n,user:l,selectedWorkspaceId:i}=e,s=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),[o,c]=el.useState({workspaceFilter:i??null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null}),[d,m]=el.useState(xF.FILTER),[u,_]=el.useState(""),p=r.map(e=>({...e,owner:xW(e),userTeamMembership:(0,sQ.hasViewerRoleAccessOnTeam)(e.id,s)?Td.JOINED:Td.NOT_JOINED}));el.useEffect(()=>{t((0,dF.Rw)())},[t]),el.useEffect(()=>{i&&c(e=>({...e,workspaceFilter:i}))},[i]);let g=[],E={orgAccessFilter:{[lm.bU.PUBLIC]:0,[lm.bU.PRIVATE]:0,[lm.bU.SECRET]:0},teamMembershipFilter:{[Td.JOINED]:0,[Td.NOT_JOINED]:0},discoverabilityFilter:{[gf.Fb.ORG_BROWSABLE]:0,[gf.Fb.HIDDEN]:0}},f=e=>e.hidden?gf.Fb.HIDDEN:e.org_browsable?gf.Fb.ORG_BROWSABLE:null,h=e=>{if(o.orgAccessFilter&&o.orgAccessFilter!==e.org_access||o.discoverabilityFilter&&o.discoverabilityFilter!==f(e)||o.teamMembershipFilter&&o.teamMembershipFilter!==e.userTeamMembership||o.orphanedTeamFilter&&e.owner)return!1;if(o.workspaceFilter){let t=o.workspaceFilter===fw.O;if(t&&null!==e.workspace_id||!t&&o.workspaceFilter!==e.workspace_id)return!1}return!0};return u&&(xB.set(p),p=xB.search(u)),p.forEach(e=>{if(h(e)){g.push(e),null!==e.org_access&&E.orgAccessFilter[e.org_access]++;let t=f(e);null!==t&&E.discoverabilityFilter[t]++,E.teamMembershipFilter[e.userTeamMembership]++}}),el.createElement(xP,{dropdownShown:a,lastFilterAction:d,selectedOrgAccessFilter:o.orgAccessFilter,onFilter:e=>{c({...o,...e}),m(xF.FILTER)},onSearch:e=>{_(e),m(xF.SEARCH)},org:e.org,filterCounts:E,orphanedTeamFilter:o.orphanedTeamFilter,searchQuery:u,selectedTeamMembershipFilter:o.teamMembershipFilter,teams:g,teamRoleRequests:n,user:l,selectedWorkspaceFilter:o.workspaceFilter,selectedDiscoverabilityFilter:o.discoverabilityFilter})}let xW=e=>{var t,a;return e.orphaned||(null==(a=null==(t=e.top_members)?void 0:t[0])?void 0:a.level)!==oi.e6.OWNER?null:e.top_members[0].user};var xV=a(682931);let xG="admin_banner--infoIcon--kZk9f";var x$=((T=x$||{})[T.BLUE=0]="BLUE",T[T.GREEN=1]="GREEN",T[T.LIGHT_BLUE=2]="LIGHT_BLUE",T[T.YELLOW=3]="YELLOW",T[T.RED=4]="RED",T[T.LIGHT_YELLOW=5]="LIGHT_YELLOW",T[T.LIGHT_GREEN=6]="LIGHT_GREEN",T);function xj(e){return({0:"admin_banner--blue--mDTWr",1:"admin_banner--green--fKDsm",2:"admin_banner--lightBlue--cAxU8",3:"admin_banner--yellow--TRt8T",4:"admin_banner--red--GhexG",5:"admin_banner--lightYellow--i1jK5",6:"admin_banner--lightGreen--rRioG"})[e]}function xH(e){return el.createElement("div",{className:ey()(xj(e.color),"admin_banner--banner--nTkeN",{"admin_banner--responsiveBanner--SuHoH":e.isResponsive,"admin_banner--noNegativeMargin--SiDab":e.removeNegativeMargin})},e.children)}function xq(e){let t=xj(e.color??2);return el.createElement(e8.fu,{name:e.trackingContext,properties:e.trackingProperties},el.createElement("div",{className:ey()(e.className||"","admin_banner--dismissibleBanner--hZFdB admin_banner--banner--nTkeN",t)},el.createElement("div",{className:"admin_banner--dismissibleBannerMessage--yyY9p"},e.icon&&el.createElement(eC.B,{className:xG,svg:e.icon}),el.createElement("span",{className:eE.cx.wFull.$},e.children)),el.createElement(cg.Jn,{className:ey()(t,"admin_banner--xIconWrapper--teXiZ"),onClick:e.onClose,innerText:"Banner dismissed"})))}let xY="admin_dev_mode_banner--stickyBanner--nDUvT";var xz=a(411929);let xK="AdminDevModeOptInBanner";function xJ(e){var t,a;let r=(0,mj.a9)(),n=(0,aX.Rs)(a9.lVt,{orgId:e.org.id}),[l,i]=el.useState(!(r&&(0,_I.nA)(xK,r.id))),[s,o]=el.useState(!1),{uniqueId:c}=(0,a$.e)({overlay:aJ.r3Y,priority:0});if((0,aG.E)(c,[uG.v5],()=>{[mz.J7.DASHBOARD,mz.J7.MEMBERS].includes(e.selectedTab)&&(o(!0),i(!1))}),el.useEffect(()=>{o(!1)},[e.selectedTab]),!r||![mz.J7.DASHBOARD,mz.J7.MEMBERS].includes(e.selectedTab))return null;let d=e.selectedTab?e.selectedTab:"dashboard",m={orgId:e.org.id,source:d};if(s)return el.createElement(xq,{color:x$.LIGHT_GREEN,onClose:()=>{o(!1)},className:xY,trackingContext:"DevMode Opt-in Success Banner",trackingProperties:m},el.createElement(xZ,{title:el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in_success.title"}),secondaryText:el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in_success.secondary_text"}),icon:el.createElement(eC.B,{svg:xz.A,className:eE.cx.p8.$})}));let u="loaded"===n.status&&!!n.data.org&&(0,ca.CA)(n.data.org.devModeOptInPlanProperty);if(e.selectedTab===mz.J7.MEMBERS&&l&&u){let l,s,o;let c=(null==(a=null==(t=n.data.org)?void 0:t.devModeAccountTypeRequests)?void 0:a.length)||0;return 0===c?(l=el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_no_requests"}),s=el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.secondary_text_no_requests"}),o=x$.LIGHT_BLUE):(l=c>99?el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_with_99_plus_requests"}):el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_with_requests",requestsCount:c}),s=el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.secondary_text_with_requests"}),o=x$.LIGHT_YELLOW),el.createElement(xq,{color:o,onClose:()=>{i(!1),(0,_I.OU)(r.user_id,xK,r.id)},className:xY,trackingContext:"DevMode Opt-in Banner",trackingProperties:m},el.createElement(xQ,{title:l,secondaryText:s,button:el.createElement(x0,{source:e.selectedTab}),icon:el.createElement(xX,null)}))}return null}function xQ(e){return el.createElement(nX.Y,{horizontalAlignItems:"end",width:"fill-parent"},el.createElement(xZ,{title:e.title,secondaryText:e.secondaryText,icon:e.icon}),e.button)}function xZ(e){return el.createElement(nX.Y,{horizontalAlignItems:"start"},e.icon,el.createElement("span",null,e.title),el.createElement("span",{className:eE.cx.fontNormal.pl24.$},e.secondaryText))}function xX(){return el.createElement(n0.In,{icon:"devmode-32"})}function x0(e){let t=(0,ei.wA)();return el.createElement(mE.V,{innerText:"Enable Dev Mode",onClick:()=>t(t3.to({type:uG.OZ,data:{source:e.source}}))},el.createElement("span",{className:eE.cx.fontMedium.$},el.createElement(e2.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.enable_button"})))}var x1=a(951158),x2=a(156367);let x4="seen_org_admin_activity_onboarding",x3=(0,mQ.rn)("org_admin_activity_onboarding",(0,uf.R)(aJ.Ql8)),x8=(0,aj.r1)(x4);function x5(){let e=(0,eU.md)(x8),t=(0,a$.e)({overlay:aJ.Q16,priority:aH.N.DEFAULT_MODAL},[e]),a=(0,ei.wA)(),r=(0,hd.zl)(x3);(0,ed.h)(()=>{"reset"===r.currentState?t.show():t.show({canShow:e=>!e})}),(0,aG.E)(t.uniqueId,"Reset Onboarding",()=>{t.show()});let n=[{description:el.createElement(e2.Tx,{id:"onboarding_pointers.activity_filter_onboarding"}),trackingContextName:`${m4} Filter`,targetKey:ut},{description:el.createElement(e2.Tx,{id:"onboarding_pointers.activity_csv_onboarding"}),trackingContextName:`${m4} CSV`,targetKey:ua}];return el.createElement(mZ.WZ,{isShowing:t.isShowing,steps:n,onComplete:()=>{a(r7.b({[x4]:!0})),t.complete()}})}let x6="activity_logs_section--dropdownScrollClip--sjbCz",x9="activity_logs_section--dropdown--nOl3y",x7="activity_logs_section--eventDescriptionItem--9wX1l ellipsis--ellipsis--Tjyfa",Ce="HEADER",Ct={value:null,description:el.createElement(e2.Tx,{id:"activity_log.filter.all"})},Ca=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.branches"})},{value:["repo_branch_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.created_a_branch"})},{value:["repo_merge_to_source"],description:el.createElement(e2.Tx,{id:"activity_log.filter.merged_a_branch"})},{value:["repo_merge_from_source"],description:el.createElement(e2.Tx,{id:"activity_log.filter.updated_a_branch"})},{value:["repo_branch_archive"],description:el.createElement(e2.Tx,{id:"activity_log.filter.archived_a_branch"})},{value:["repo_branch_unarchive"],description:el.createElement(e2.Tx,{id:"activity_log.filter.unarchived_a_branch"})},{value:["repo_branch_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.deleted_a_branch"})},{value:["file_repo_member_add","file_repo_member_permission_change","file_repo_member_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.file_repo_membership_changed"})}],Cr=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.sso_auth"})},{value:["google_sso_auth_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.google_sso_auth"})},{value:["saml_sso_auth_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.saml_sso_auth"})}],Cn=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.external_access"})},{value:["org_guest_invite_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_guest_invite_setting"})},{value:["open_sessions_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_open_sessions_setting"})},{value:["public_link_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_public_link_setting"})},{value:["ip_restriction_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.network_restriction_change"})},{value:["org_user_create_external","org_user_delete_external"],description:el.createElement(e2.Tx,{id:"activity_log.filter.external_org_membership_changed"})},{value:["team_member_add_external","team_member_remove_external"],description:el.createElement(e2.Tx,{id:"activity_log.filter.external_team_membership_changed"})},{value:["autogen_password_controls_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_autogen_password_controls_setting"})},{value:["fig_file_view_external"],description:el.createElement(e2.Tx,{id:"activity_log.filter.viewed_external_file"})},{value:["fig_file_view_prototype_external"],description:el.createElement(e2.Tx,{id:"activity_log.filter.viewed_external_prototype"})}],Cl=[{value:["license_group_library_setting_change","workspace_library_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.workspace_library_setting_changed"})}],Ci=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.default_role.seat_rename"})},{value:["org_default_license_type_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_default_role.seat_rename"})}],Cs=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.workspaces"})},{value:["license_group_admins_add","workspace_admins_add"],description:el.createElement(e2.Tx,{id:"activity_log.filter.added_workspace_admins"})},{value:["license_group_admins_remove","workspace_admins_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.removed_workspace_admins"})},{value:["license_group_create","workspace_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.created_a_workspace"})},{value:["license_group_delete","workspace_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.deleted_a_workspace"})},{value:["license_group_rename","workspace_rename"],description:el.createElement(e2.Tx,{id:"activity_log.filter.renamed_a_workspace"})},{value:["license_group_membership_change","workspace_members_add","workspace_members_remove","workspace_member_add","workspace_member_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_a_user_s_workspace"})},{value:["license_group_membership_self_select","workspace_membership_self_select"],description:el.createElement(e2.Tx,{id:"activity_log.filter.user_selected_their_own_workspace"})},{value:["workspace_visibility_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.workspace_visibility_setting_changed"})}],Co=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.header"})},{value:["license_group_admins_add"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.admins_added"})},{value:["license_group_admins_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.admins_removed"})},{value:["license_group_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.created"})},{value:["license_group_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.deleted"})},{value:["license_group_rename"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.renamed"})},{value:["license_group_membership_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.membership_changed"})},{value:["license_group_membership_self_select"],description:el.createElement(e2.Tx,{id:"activity_log.filter.billing_group.self_select"})}],Cc=[{value:["org_join_request_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.requested_to_join_the_org"})},{value:["org_join_request_approve"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_join_request_approved"})}],Cd=[{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.webhook_group_header"})},{value:["webhook_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.webhooks_created"})},{value:["webhook_update"],description:el.createElement(e2.Tx,{id:"activity_log.filter.webhooks_updated"})},{value:["webhook_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.webhooks_deleted"})}],Cm=(e,t)=>{var a;return[Ct,{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.files"})},{value:["fig_file_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.created_a_file"})},{value:["fig_file_duplicate"],description:el.createElement(e2.Tx,{id:"activity_log.filter.duplicated_a_file"})},{value:["fig_file_export"],description:el.createElement(e2.Tx,{id:"activity_log.filter.exported_a_file"})},{value:["fig_file_link_access_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.file_link_access_changed"})},{value:["fig_file_link_expiration_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.file_link_expiration_changed"})},{value:["fig_file_viewer_access_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.viewer_permissions_changed"})},{value:["fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.file_membership_changed"})},{value:["fig_file_move"],description:el.createElement(e2.Tx,{id:"activity_log.filter.moved_a_file"})},{value:["fig_file_permanent_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.permanently_deleted_a_file"})},{value:["fig_file_permanent_undelete","fig_file_restore"],description:el.createElement(e2.Tx,{id:"activity_log.filter.restored_a_file"})},{value:["fig_file_set_password"],description:el.createElement(e2.Tx,{id:"activity_log.filter.fig_file_set_password"})},{value:["fig_file_unset_password"],description:el.createElement(e2.Tx,{id:"activity_log.filter.fig_file_unset_password"})},{value:["fig_file_rename"],description:el.createElement(e2.Tx,{id:"activity_log.filter.renamed_a_file"})},{value:["fig_file_save_as"],description:el.createElement(e2.Tx,{id:"activity_log.filter.saved_a_file"})},{value:["fig_file_trash"],description:el.createElement(e2.Tx,{id:"activity_log.filter.trashed_a_file"})},{value:["fig_file_view"],description:el.createElement(e2.Tx,{id:"activity_log.filter.viewed_a_file"})},{value:["fig_file_view_prototype"],description:el.createElement(e2.Tx,{id:"activity_log.filter.viewed_a_prototype"})},{value:["open_sessions_start"],description:el.createElement(e2.Tx,{id:"activity_log.filter.open_sessions_start"})},{value:["open_sessions_end"],description:el.createElement(e2.Tx,{id:"activity_log.filter.open_sessions_end"})},...Ca,{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.projects"})},{value:["folder_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.created_a_project"})},{value:["folder_delete","folder_export"],description:el.createElement(e2.Tx,{id:"activity_log.filter.deleted_a_project"})},{value:["folder_member_add","folder_member_permission_change","folder_member_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.project_membership_changed"})},{value:["folder_move"],description:el.createElement(e2.Tx,{id:"activity_log.filter.moved_a_project"})},{value:["folder_rename"],description:el.createElement(e2.Tx,{id:"activity_log.filter.renamed_a_project"})},{value:["folder_team_access_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_the_team_access_of_a_project"})},{value:["folder_transfer_sent","folder_export"],description:el.createElement(e2.Tx,{id:"activity_log.filter.outgoing_transfers"})},{value:["folder_transfer_received","folder_transfer_approved","folder_import"],description:el.createElement(e2.Tx,{id:"activity_log.filter.incoming_transfers"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.teams"})},{value:["team_create","team_import"],description:el.createElement(e2.Tx,{id:"activity_log.filter.created_a_team"})},{value:["team_delete","team_export"],description:el.createElement(e2.Tx,{id:"activity_log.filter.deleted_a_team"})},{value:["team_transfer_sent","team_export"],description:el.createElement(e2.Tx,{id:"activity_log.filter.outgoing_transfers"})},{value:["team_transfer_received","team_transfer_approved","team_import"],description:el.createElement(e2.Tx,{id:"activity_log.filter.incoming_transfers"})},{value:["team_restore"],description:el.createElement(e2.Tx,{id:"activity_log.filter.restored_a_team"})},{value:["team_member_add","team_member_permission_change","team_member_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.team_membership_changed"})},{value:["team_rename"],description:el.createElement(e2.Tx,{id:"activity_log.filter.renamed_a_team"})},{value:["team_org_access_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_the_org_access_of_a_team"})},{value:["team_license_group_change","team_workspace_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_the_workspace_of_a_team"})},{value:["org_team_creation_controls"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_team_creation_controls"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.organizations"})},{value:["org_merge"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_merged"})},{value:["org_user_create","org_user_permission_change","org_user_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_membership_changed"})},{value:["org_user_account_type_upgrade_requested","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied"],description:el.createElement(e2.Tx,{id:"activity_log.filter.upgrade_requests_and_activity"})},{value:["org_user_account_type_change","org_user_account_type_change_to_full"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_role_changed.seat_rename"})},{value:["roster_exported"],description:el.createElement(e2.Tx,{id:"activity_log.filter.exported_the_members_list"})},{value:["org_team_csv_exported"],description:el.createElement(e2.Tx,{id:"activity_log.filter.exported_the_org_team_list"})},{value:["workspace_team_csv_exported"],description:el.createElement(e2.Tx,{id:"activity_log.filter.exported_the_workspace_team_list"})},...e?Cc:[],{value:["org_invite_create"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_invite_created"})},{value:["cursor_chat_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.cursor_chat_setting_change"})},...e?[{value:["idle_timeout_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.idle_timeout_setting_change"})}]:[],...e&&(null==(a=t.shared_org_license_group_settings)?void 0:a.configured_upgrade_request_setting)?[{value:["configurable_upgrade_request_setting_change","configurable_upgrade_request_message_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.configurable_upgrade_request_flow_changed"})}]:[],{value:["scim_token_generate","scim_token_revoke"],description:el.createElement(e2.Tx,{id:"activity_log.filter.scim_token_generated_revoked"})},...e?Cn.concat({value:["workspace_public_link_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.changed_workspace_public_link_setting"})}):Cn,...e?Ci:[],...e?Cs:[],...e?Co:[],{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.libraries"})},{value:["org_library_setting_change"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_library_setting_changed"})},...e?Cl:[],...e&&(0,u5.Oe)(t)?[{value:["workspace_library_approve","workspace_library_unapprove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.workspace_library_approval_changed"})}]:[],...e&&(0,u5.Oe)(t)?[{value:["org_library_approve","org_library_unapprove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.org_library_approval_changed"})}]:[],{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.users"})},...e?[{value:["user_idle_session_timeout"],description:el.createElement(e2.Tx,{id:"activity_log.filter.user_session_timed_out"})}]:[],{value:["user_sign_in","user_sign_out"],description:el.createElement(e2.Tx,{id:"activity_log.filter.user_signed_in_signed_out"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.community"})},{value:["community_hub_file_publish","community_hub_file_update","community_hub_file_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.file_published_updated_deleted"})},{value:["community_plugin_publish","community_plugin_update","community_plugin_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_published_updated_deleted"})},{value:["community_widget_publish","community_widget_update","community_widget_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_published_updated_deleted"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.private_plugins"})},{value:["private_plugin_publish"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_published"})},{value:["private_plugin_update"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_updated"})},{value:["private_plugin_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_deleted"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_management"})},{value:["plugin_approvelist_enable","plugin_approvelist_disable"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_approve_list_setting_changed"})},{value:["plugin_approvelist_request_org"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_approve_list_requested"})},{value:["plugin_approvelist_request_approve_org","plugin_approvelist_request_reject_org","plugin_approvelist_request_approve_workspace","plugin_approvelist_request_reject_workspace","plugin_approvelist_add","plugin_approvelist_add_workspace","plugin_approvelist_remove","plugin_approvelist_remove_workspace"],description:el.createElement(e2.Tx,{id:"activity_log.filter.approve_list_plugins_reviewed"})},{value:["plugin_install","plugin_uninstall"],description:el.createElement(e2.Tx,{id:"activity_log.filter.install_plugins_org_wide"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_publishers"})},{value:["plugin_publisher_accept_invite","plugin_publisher_remove_invite"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_publisher_accept_remove_invite"})},{value:["plugin_publisher_invite"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_publisher_invite"})},{value:["plugin_publisher_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_publisher_remove"})},{value:["plugin_ownership_transfer"],description:el.createElement(e2.Tx,{id:"activity_log.filter.plugin_ownership_transfer"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.private_widgets"})},{value:["private_widget_publish"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_published"})},{value:["private_widget_update"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_updated"})},{value:["private_widget_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_deleted"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_management"})},{value:["widgets_enabled","widgets_disable"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_approve_list_setting_changed"})},{value:["widget_approvelist_request_org"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_approve_list_requested"})},{value:["widget_approvelist_request_approve_org","widget_approvelist_request_reject_org","widget_approvelist_request_approve_workspace","widget_approvelist_request_reject_workspace","widget_approvelist_add","widget_approvelist_add_workspace","widget_approvelist_remove","widget_approvelist_remove_workspace"],description:el.createElement(e2.Tx,{id:"activity_log.filter.approve_list_widgets_reviewed"})},{value:["widget_install","widget_uninstall"],description:el.createElement(e2.Tx,{id:"activity_log.filter.install_widgets_org_wide"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_publishers"})},{value:["widget_publisher_accept_invite","widget_publisher_remove_invite"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_publisher_accept_remove_invite"})},{value:["widget_publisher_invite"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_publisher_invite"})},{value:["widget_publisher_remove"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_publisher_remove"})},{value:["widget_ownership_transfer"],description:el.createElement(e2.Tx,{id:"activity_log.filter.widget_ownership_transfer"})},...Cr,{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.audio"})},{value:["voice_call_join_req"],description:el.createElement(e2.Tx,{id:"activity_log.filter.user_joined_audio_call"})},{value:Ce,description:el.createElement(e2.Tx,{id:"activity_log.filter.integrations"})},{value:["personal_access_token_create","personal_access_token_delete"],description:el.createElement(e2.Tx,{id:"activity_log.filter.personal_access_token_create_delete"})},{value:["oauth_token_grant","oauth_token_revoke"],description:el.createElement(e2.Tx,{id:"activity_log.filter.oauth_token_grant_revoke"})},...Cd]},Cu=[{value:{start:(0,dq.A)().format("YYYY-MM-DD"),end:(0,dq.A)().format("YYYY-MM-DD")},description:el.createElement(e2.Tx,{id:"activity_log.filter.today"})},{value:{start:(0,dq.A)().subtract(1,"days").format("YYYY-MM-DD"),end:(0,dq.A)().format("YYYY-MM-DD")},description:el.createElement(e2.Tx,{id:"activity_log.filter.yesterday"})},{value:{start:(0,dq.A)().subtract(7,"days").format("YYYY-MM-DD"),end:(0,dq.A)().format("YYYY-MM-DD")},description:el.createElement(e2.Tx,{id:"activity_log.filter.last_week"})},{value:{start:(0,dq.A)().subtract(30,"days").format("YYYY-MM-DD"),end:(0,dq.A)().format("YYYY-MM-DD")},description:el.createElement(e2.Tx,{id:"activity_log.filter.last_month"})}];function C_(e){return el.createElement("div",null,e.token.content)}class Cp extends el.PureComponent{constructor(e){let t;if(super(e),this.fetchLogs=e=>{let t=e?this.displayedFilterParams():this.props.activityLogs.lastQuery;this.props.fetchLogs({newQuery:e,...t})},this.loadMore=()=>{this.fetchLogs(!1)},this.clearFilter=()=>{this.setState(this.initialFilterState())},this.showClearButton=()=>{let e=(({emails:e,team:t,event:a,date:r,showCustomDatePicker:n})=>({emails:e,team:t,event:a,date:r,showCustomDatePicker:n}))(this.state);return!hj()(e,this.initialFilterState())},this.filterLogs=()=>{let e=(0,x2.KJ)(this.state.date,(0,hS.um)(this.state.emails));if(e){this.setState(t=>({error:{message:e.message,field:e.field},emails:{...t.emails,errorMessage:"email"===e.field?e.message:""}}));return}this.setState(e=>({error:null,emails:{...e.emails,errorMessage:""}})),this.fetchLogs(!0)},this.onRequestCSV=()=>{var e;if(this.state.pendingRequest)return;let t=(0,x2.KJ)(this.state.date,(0,hS.um)(this.state.emails));if(t){this.setState(e=>({error:{message:t.message,field:t.field},emails:{...e.emails,errorMessage:"email"===t.field?t.message:""}}));return}this.setState(e=>({error:null,pendingRequest:!0,emails:{...e.emails,errorMessage:""}})),this.props.dispatch(a0.F.enqueue({message:(0,e2.t)("activity_log.table.preparing_request_for_csv"),type:"orgRoster.exportCSV",icon:uB.zX.SPINNER}));let a=this.displayedFilterParams();td.Ay.post("/api/activity_logs/export",{org_id:this.props.org.id,emails:null==(e=a.emails)?void 0:e.join(),start_time:a.date.start,end_time:(0,x2.H3)(a.date.end)}).then(()=>{this.props.dispatch(a0.F.enqueue({message:(0,e2.t)("activity_log.table.activity_log.table.csv_requested_success"),type:"orgRoster.exportCSV",icon:uB.zX.CHECK}))},e=>{var t;this.props.dispatch(ae.s.error(e.message||(null==(t=e.data)?void 0:t.message)||(0,e2.t)("activity_log.table.csv_requested_error")))}).then(()=>{this.setState({pendingRequest:!1})})},this.onTeamClick=e=>{this.setState({team:e})},this.onEventClick=e=>{this.setState({event:e})},this.onEmailInputChange=e=>{this.setState({emails:e})},this.onDateOptionClick=e=>{if(null===e.value){this.setState({showCustomDatePicker:!0});return}this.setState({date:e.value,showCustomDatePicker:!1})},this.onStartDateChange=e=>{this.setState({date:{...this.state.date,start:e.target.value}})},this.onEndDateChange=e=>{this.setState({date:{...this.state.date,end:e.target.value}})},this.canLoadMore=()=>!(this.props.activityLogs.isLoading||0===this.props.activityLogs.logs.length||(0,x1.Im)(this.props.activityLogs.cursor)),this.handleScroll=()=>{!this.canLoadMore()||this.scrollContainerRef.getScrollHeight()-(this.scrollContainerRef.getScrollTop()+this.scrollContainerRef.getTrackHeight())>300||this.loadMore()},this.renderLogResults=()=>this.props.activityLogs.isLoading&&this.props.activityLogs.isNewQuery?el.createElement(t7.qc,null):this.state.filteredActivityLogs.length>0?el.createElement("div",null,el.createElement(vP,{logs:this.state.filteredActivityLogs,org:this.props.org,dispatch:this.props.dispatch,hideIpColumn:this.props.hideIpColumn,scTeamExperienceEnabled:(0,h9.D)(null,this.props.org.id)}),el.createElement("div",{className:"activity_logs_section--tableNavigation---eC--"},this.props.activityLogs.isLoading&&!this.props.activityLogs.isNewQuery?el.createElement(t7.qc,null):this.canLoadMore()&&el.createElement(eT.$$,{onClick:this.loadMore},el.createElement(e2.Tx,{id:"activity_log.table.load_more"})))):el.createElement("div",{className:"activity_logs_section--emptyState--UI2wH"},el.createElement(e2.Tx,{id:"activity_log.table.no_results_were_found"})),this.props.initialEventOptionId){let e=Cm(this.props.org.bigma_enabled,this.props.org).find(e=>e.description.props.id===this.props.initialEventOptionId);e&&(t=e)}this.state={...this.initialFilterState(),error:null,pendingRequest:!1,filteredActivityLogs:[],event:t??Ct}}initialFilterState(){let e=this.props.initialStartTime?(0,dq.A)(this.props.initialStartTime):(0,dq.A)().subtract(30,"days"),t=(0,hS.Rs)();return this.props.initialEmail&&(t={...t,tokens:t.tokens.concat({state:hk.d.OK,content:this.props.initialEmail})}),{emails:t,team:null,event:Ct,date:{start:e.format("YYYY-MM-DD"),end:(0,dq.A)().format("YYYY-MM-DD")},showCustomDatePicker:!!this.props.initialStartTime}}componentDidMount(){this.fetchLogs(!0)}componentDidUpdate(e,t){let a=this.displayedFilterParams(t),r=this.displayedFilterParams(this.state);if(hj()(a,r)||this.filterLogs(),e.activityLogs.logs!==this.props.activityLogs.logs){let e=this.props.activityLogs.logs.filter(e=>(function(e,t){if(Cs.includes(t))switch(e.event_name){case"license_group_create":case"license_group_rename":case"license_group_delete":case"license_group_admins_add":case"license_group_admins_remove":case"license_group_membership_change":case"license_group_membership_self_select":return!e.metadata.is_billing_group;default:return!0}if(Co.includes(t))switch(e.event_name){case"license_group_create":case"license_group_rename":case"license_group_delete":case"license_group_admins_add":case"license_group_admins_remove":case"license_group_membership_change":case"license_group_membership_self_select":return!!e.metadata.is_billing_group}return!0})(e,this.state.event));this.setState({filteredActivityLogs:e})}}displayedFilterParams(e){var t;let a=e??this.state;return{teamId:(null==(t=a.team)?void 0:t.id)??"",emails:[...new Set((0,hS.N$)(a.emails))],eventName:a.event.value,date:{...a.date}}}render(){return el.createElement(el.Fragment,null,!this.props.hideHeader&&el.createElement(bK.K,{title:u7(mz.J7.ACTIVITY),hasHorizontalPadding:!0,rightActions:el.createElement(mE.$,{"data-onboarding-key":ua,onClick:this.onRequestCSV},el.createElement(oK.E,{i18nId:"activity_log.table.get_csv"}))}),el.createElement("div",{className:eE.cx.wFull.hFull.overflowAuto.$},el.createElement(rt.P,{horizontalScrollingDisabled:!0,className:ey()(be.jG,eE.cx.wFull.hFull.$),innerClassName:this.props.hideHeader?void 0:be.NM,onScroll:this.handleScroll,ref:e=>this.scrollContainerRef=e,minContentWidth:(0,te.hG)(e5.URh)},el.createElement("div",{className:be.ln,style:{top:0}},el.createElement(Cg,{filtersConfig:this.state,dropdownShown:this.props.dropdownShown,bigmaEnabled:this.props.org.bigma_enabled,orgTeams:this.props.orgTeams,onEmailInputChange:this.onEmailInputChange,onEventClick:this.onEventClick,onTeamClick:this.onTeamClick,onDateOptionClick:this.onDateOptionClick,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,onRequestCSV:this.onRequestCSV,showClearButton:this.showClearButton(),clearFilter:this.clearFilter,dispatch:this.props.dispatch,org:this.props.org}),el.createElement(va.Hj,{useAdminTableStyles:!0,header:!0},el.createElement("div",{className:"activity_logs_section--dateHeaderColumn--FlYXt activity_logs_table--dateHeaderColumn--bT0W- activity_logs_table--date--TBO0x"},el.createElement(e2.Tx,{id:"activity_log.table.date"})),el.createElement("div",{className:"activity_logs_section--actorHeaderColumn--YqTOd activity_logs_table--actorHeaderColumn--rgum5 activity_logs_table--_actor--1Zwaa"},el.createElement(e2.Tx,{id:"activity_log.table.team_member"})),el.createElement("div",{className:"activity_logs_section--eventDescriptionColumn--iK6zN activity_logs_table--eventDescriptionColumn--Vym3V"},el.createElement(e2.Tx,{id:"activity_log.table.event"})),el.createElement("div",{className:"activity_logs_section--productColumn--Vy1YA activity_logs_table--productColumn--5g20E"},el.createElement(e2.Tx,{id:"activity_log.table.product"})),el.createElement("div",{className:"activity_logs_section--teamColumn--ix-u0 activity_logs_table--teamColumn--3HROl"},el.createElement(e2.Tx,{id:"activity_log.table.team"})),!this.props.hideIpColumn&&el.createElement("div",{className:"activity_logs_section--ipColumn--yhoAb activity_logs_table--ipColumn--1N0HY"},el.createElement(e2.Tx,{id:"activity_log.table.ip_address"})))),this.renderLogResults())))}}function Cg(e){var t;let a="activity-log-events-dropdown",r="activity-log-teams-dropdown",n="activity-log-date-dropdown",l=(e,t,a)=>{let{today:r,minDate:n}=(0,x2.Bd)();return el.createElement(eT.ks,{type:"date",className:t?"activity_logs_section--dateErrorInput--wHr4O activity_logs_section--dateInput--QzUHJ activity_logs_section--errorBorder--Dk1UM":"activity_logs_section--dateInput--QzUHJ",onChange:a,value:e,min:n,max:r})},i=null==(t=e.filtersConfig.error)?void 0:t.field,s=i&&e.filtersConfig.error.message,o=!!e.dropdownShown&&e.dropdownShown.type===a,c=!!e.dropdownShown&&e.dropdownShown.type===r,d=!!e.dropdownShown&&e.dropdownShown.type===n,m=e.filtersConfig.showCustomDatePicker?void 0:Cu.find(t=>hj()(t.value,e.filtersConfig.date));return el.createElement("div",{className:ey()("activity_logs_section--menuBar--Gf3ku multi_select_list--menuBar--8xNGR",eE.cx.bt1.colorBorder.bSolid.$)},el.createElement("div",{className:"activity_logs_section--menuBarLeft--8J-A7 multi_select_list--menuBarLeft--aUL8Q"},!e_.rr&&el.createElement(aV.p,null,el.createElement(x5,null)),el.createElement(xI.P,{onboardingKey:ut,className:"activity_logs_section--emailInput--qrO3D",autocomplete:e.filtersConfig.emails,placeholder:(0,e2.t)("activity_log.table.member_email_addresses"),onChange:e.onEmailInputChange,validateToken:e=>({state:(0,lS.xf)(e)?hk.d.OK:hk.d.ERROR,content:e}),TokenComponent:C_}),el.createElement("div",{className:"activity_logs_section--dateDropdownContainer--mOtRD"},el.createElement(uj.Ve,{showingDropdown:d,type:n,dispatch:e.dispatch},m?m.description:(0,e2.t)("activity_log.filter.custom"),d&&el.createElement("div",{className:x6,style:e.dropdownShown.data.position},el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:"activity_logs_section--dateDropdown--ycwTF activity_logs_section--dropdown--nOl3y"},Cu.map(t=>el.createElement(dB.W.CheckableOption,{key:`${t.value}-${t.description.props.id}`,checked:m===t,onClick:()=>e.onDateOptionClick(t)},t.description)),el.createElement(dB.W.Separator,null),el.createElement(dB.W.CheckableOption,{checked:!m,onClick:()=>e.onDateOptionClick({value:null,description:el.createElement(e2.Tx,{id:"activity_log.filter.custom"})})},el.createElement(e2.Tx,{id:"activity_log.filter.custom"})))))),e.filtersConfig.showCustomDatePicker?el.createElement("div",{className:"activity_logs_section--datesContainer--TD-ga"},l(e.filtersConfig.date.start,"startDate"===i,e.onStartDateChange),el.createElement("div",{className:"activity_logs_section--dateSeparator--VXpli"},"\u2013"),l(e.filtersConfig.date.end,"endDate"===i,e.onEndDateChange)):null,el.createElement(uj.Ve,{showingDropdown:o,type:a,dispatch:e.dispatch},null===e.filtersConfig.event.value?(0,e2.t)("activity_log.table.events_all"):el.createElement("span",{className:"activity_logs_section--eventSelector--d2BnL ellipsis--ellipsis--Tjyfa"},el.createElement(e2.Tx,{id:"activity_log.table.event_selected",event:e.filtersConfig.event.description})),o&&el.createElement("div",{className:x6,style:e.dropdownShown.data.position},el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:x9},Cm(e.bigmaEnabled,e.org).map(t=>{let a=t.description.props.id,r=`${t.value}-${a}`;return t.value===Ce?el.createElement(el.Fragment,{key:r},el.createElement(dB.W.Separator,null),el.createElement(dB.W.CheckableOption,{disabled:!0,checked:!1,onClick:eu.lQ},el.createElement("span",{className:x7},t.description))):el.createElement(dB.W.CheckableOption,{key:r,checked:e.filtersConfig.event.description.props.id===a,onClick:()=>e.onEventClick(t)},el.createElement("span",{className:x7},t.description))})))),el.createElement(uj.Ve,{showingDropdown:c,type:r,dispatch:e.dispatch},null===e.filtersConfig.team?(0,e2.t)("activity_log.table.teams_all"):(0,e2.t)("activity_log.table.team_selected",{team:(0,ac.EJ)(e.filtersConfig.team.name,21)}),c&&el.createElement("div",{className:x6,style:e.dropdownShown.data.position},el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:x9},el.createElement(dB.W.CheckableOption,{checked:null===e.filtersConfig.team,onClick:()=>e.onTeamClick(null)},el.createElement(e2.Tx,{id:"activity_log.table.all"})),el.createElement(dB.W.Separator,null),e.orgTeams.map(t=>el.createElement(dB.W.CheckableOption,{key:t.id,checked:e.filtersConfig.team===t,onClick:()=>e.onTeamClick(t)},t.name))))),e.showClearButton&&el.createElement(eT.nR,{className:"activity_logs_section--clearButton--KKjdl",onClick:()=>e.clearFilter()},el.createElement(e2.Tx,{id:"activity_log.table.clear"})),s&&el.createElement(el.Fragment,null,el.createElement("div",{className:"activity_logs_section--flexBreak--LKSRe"}),el.createElement("span",{className:"activity_logs_section--errorMessage--50Jgv"},s))))}function CE(e){return el.createElement("div",{className:eE.cx.overflowAuto.wFull.hFull.$},el.createElement(rt.P,{className:eE.cx.wFull.hFull.$,innerClassName:eE.cx.px32.borderBox.hFull.$,minContentWidth:e.minContentWidth},e.scrollAwayContent,e.stickyContent&&el.createElement("div",{className:eE.cx.sticky.top0.$},e.stickyContent),e.children))}Cp.displayName="ActivityLogsPage";var Cf=a(889012),Ch=a.n(Cf),Cv=a(966159),Cb=a(733556);let Cy="org_user_autocomplete_input--input--Dm3Y1";function Cw(e){return el.createElement("div",null,e.token.content.user.handle)}function CT(e){let{user:t}=e.searchResult;return el.createElement("div",{className:e.isSelected?"org_user_autocomplete_input--orgUserRowSelected--65mB0 autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"org_user_autocomplete_input--orgUserRow--IM-mB autocomplete_permissions--contactRow--DRMiv"},el.createElement(aa.Ro,{className:"org_user_autocomplete_input--orgUserAvatar--kBaLv autocomplete_permissions--avatar--Hb2O-",entity:t}),el.createElement("div",null,el.createElement("div",{className:"org_user_autocomplete_input--name--0kk3D autocomplete_permissions--name--62sCS ellipsis--ellipsis--Tjyfa"},t.handle),t.email&&el.createElement("div",{className:"org_user_autocomplete_input--email--pplae autocomplete_permissions--email--HCICx ellipsis--ellipsis--Tjyfa"},t.email)))}let Cx={columnName:fM.Od.SEARCH_SCORE,isReversed:!1},CC={...fM.J0,permissionFilter:"true_member"};function CN(e){let t=(0,ei.wA)(),a=(0,sK.sZ)(),[r,n]=el.useState([]),l=Ch()(t=>{e.onAutocompleteChange(t)},300),i=(0,Cb.J)(()=>""===e.autocomplete.inputValue?Promise.resolve({users:[],newCursor:null,totalUserCount:0}):(0,mj.n)(t,a.id,{searchQuery:e.autocomplete.inputValue,sort:Cx,filter:CC,minimalFields:!0}),[e.autocomplete.inputValue,t,a]);return el.useEffect(()=>{(0,Cv.xj)(i)&&n(()=>{var t;let a=e.autocomplete.tokens.map(e=>e.content.id);return(null==(t=(0,Cv.Cz)(i))?void 0:t.users.map(e=>e).filter(e=>!a.includes(e.id)))??[]})},[e.autocomplete.tokens,i]),el.createElement(xI.P,{className:Cy,inviteInputClassName:Cy,autocompleteResultsClassName:"org_user_autocomplete_input--autocompleteResults--pKNN8",autocomplete:e.autocomplete,placeholder:e.placeholder,onChange:l,validateToken:eu.lQ,searchResults:()=>r,SearchResultComponent:CT,TokenComponent:Cw})}let Ck="First License Group Created";function CS({licenseGroup:e,autocomplete:t,name:a,setName:r,validateName:n,hasError:l,onClose:i,onAutocompleteChange:s,onSubmit:o}){let c=!!e;return el.createElement(lD.XV,{title:c?(0,e2.t)("billing_groups_table.edit_billing_group_title"):(0,e2.t)("billing_groups_table.create_billing_group_title"),onClose:i,minWidth:500},el.createElement(nX.Y,{direction:"vertical",spacing:16,padding:16},!c&&el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement(oK.E,{i18nId:"billing_groups_table.edit_billing_group_modal.add_people_to_a_billing_group.seat_rename"}),el.createElement(eT.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/19100885191191"},el.createElement(oK.E,{i18nId:"general.learn_more"}))),el.createElement("label",{className:eE.cx.wFull.$},el.createElement(nX.Y,{width:"fill-parent",direction:"vertical",spacing:8},el.createElement(oK.E,{i18nId:"billing_groups_table.name_input",fontWeight:"medium"}),el.createElement(eT.ks,{autoFocus:!0,className:ey()("license_group_edit_modal--inputFieldFullWidth--Z3wkY license_group_edit_modal--inputField--xd-cD",{"license_group_edit_modal--inputFieldWithError--e3g5i":l}),placeholder:(0,e2.t)("billing_groups_table.name_input_placeholder"),onChange:e=>{r(e.currentTarget.value),n(e.currentTarget.value)},value:a,maxLength:eT.TA}),"unassigned"===l&&el.createElement(oK.E,{i18nId:"billing_groups_table.billing_group_name_unassigned_error",color:"danger"}),"duplicated"===l&&el.createElement(oK.E,{i18nId:"billing_groups_table.billing_group_name_already_exists_error",color:"danger"}))),el.createElement("label",{className:eE.cx.wFull.$},el.createElement("span",{className:"license_group_edit_modal--inputLabel--FI9O9"},el.createElement(e2.Tx,{id:"billing_groups_table.admins_input"})),el.createElement("div",null,el.createElement(oK.E,{i18nId:"billing_groups_table.admins_input_help_text",color:"secondary"})),el.createElement("div",{className:eE.cx.mt8.relative.$},el.createElement(CN,{placeholder:(0,e2.t)("billing_groups_table.admin_input_placeholder"),autocomplete:t,onAutocompleteChange:s}))),el.createElement("div",{className:eE.cx.flex.justifyEnd.wFull.$},el.createElement(eT.nR,{onClick:i},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(e8.fu,{name:"License Group Modal Submit",properties:{licenseGroupId:null==e?void 0:e.id}},el.createElement(eT.vd,{className:"license_group_edit_modal--submitButton--kf4-y",onClick:o,disabled:!!l||!a.length||0===t.tokens.length},c?el.createElement(e2.Tx,{id:"billing_groups_table.billing_group_edit_save_changes"}):el.createElement(e2.Tx,{id:"billing_groups_table.create_billing_group_button"}))))))}let CI=(0,rr.Ju)(function(e){var t;let a=(0,ei.wA)(),[r,n]=el.useState(null),l=(0,sK.dq)(),i=(0,sK.sZ)(),s=(0,mq.MX)(),o=!!e.licenseGroup,c=[];o&&!e.licenseGroup.is_orphaned&&(c=e.licenseGroup.admin_users_metadata.map(e=>({state:hk.d.OK,content:{id:"",user:e}})));let[d,m]=el.useState(o?{...(0,hS.Rs)(),tokens:c}:(0,hS.Rs)()),u=el.useCallback(t=>{var a;(0,e7.sx)("Workspace admin search performed",{orgId:null==i?void 0:i.id,licenseGroupId:null==(a=e.licenseGroup)?void 0:a.id,queryLength:t.inputValue.length}),m(t)},[null==i?void 0:i.id,null==(t=e.licenseGroup)?void 0:t.id]),[_,p]=el.useState(o?e.licenseGroup.name:"");return el.createElement(CS,{autocomplete:d,name:_,setName:p,validateName:t=>{if(s.find(a=>{var r;return a.name.trim().toLowerCase()===t.trim().toLowerCase()&&(null==(r=e.licenseGroup)?void 0:r.id)!==a.id})){n("duplicated");return}if("unassigned"===t.trim().toLowerCase()){n("unassigned");return}n(null)},hasError:r,licenseGroup:e.licenseGroup,onClose:()=>{var t;(0,e7.sx)("CTA Clicked",{name:"License Group Modal Cancel",licenseGroupId:null==(t=e.licenseGroup)?void 0:t.id,orgId:l}),a(t3.Ce())},onSubmit:()=>{let t=({data:e})=>{var t;let r=!o&&0===s.length;a(a0.F.enqueue({type:"license-group-edit",message:o?(0,e2.t)("billing_groups_table.billing_group_edited_toast",{workspaceName:_}):(0,e2.t)("billing_groups_table.billing_group_created_toast",{workspaceName:_})})),a(t3.Ce()),a(py.yo({licenseGroup:e.meta,orgId:l})),r&&(0,e7.sx)(Ck,{licenseGroupId:null==(t=e.meta)?void 0:t.id,orgId:l})},r=e=>{a(a0.F.enqueue({error:!0,message:e.message}))};o?td.Ay.put(`/api/license_group/${e.licenseGroup.id}`,{name:_,admin_user_ids:d.tokens.map(e=>e.content.user.id),showing_billing_groups:!0}).then(t).catch(r):td.Ay.post(`/api/orgs/${l}/license_groups`,{name:_,admin_user_ids:d.tokens.map(e=>e.content.user.id),showing_billing_groups:!0}).then(t).catch(r)},onAutocompleteChange:u})},"LicenseGroupEditModal"),CA="seen_org_admin_billing_groups_onboarding",CL=(0,mQ.rn)("org_admin_license_groups_onboarding",(0,uf.R)(aJ.O5v)),CR=(0,aj.r1)(CA);function CO(e){let t=(0,eU.md)(CR),{isShowing:a,show:r,complete:n,uniqueId:l}=(0,a$.e)({overlay:aJ.O5v,priority:aH.N.DEFAULT_MODAL},[t]),i=(0,hd.zl)(CL);(0,ed.h)(()=>{"reset"===i.currentState?r():r({canShow:t=>!t&&!e_.rr&&!!e.orgHasLicenseGroups})}),(0,aG.E)(l,"Reset Onboarding",()=>r());let s=[{title:el.createElement(e2.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.create.title"}),description:el.createElement(e2.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.create.description.seat_rename"}),trackingContextName:`${m3} - create`,targetKey:us,emphasized:!0,clickOutsideToHide:!0},{title:el.createElement(e2.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.add_admins.title"}),description:el.createElement(e2.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.add_admins.description.seat_rename"}),trackingContextName:`${m3} - add admins`,targetKey:ue,emphasized:!0,shouldCenterArrow:yK.EL.FALLBACK,clickOutsideToHide:!0},{title:el.createElement(e2.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.edit.title"}),description:el.createElement(e2.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.edit.description"}),trackingContextName:`${m3} - edit`,targetKey:uo,emphasized:!0,clickOutsideToHide:!0}];return el.createElement(mZ.WZ,{isShowing:a,userFlagOnShow:CA,steps:s,onComplete:n})}let CD=(0,aj.r1)(CA);function CF(){let e=(0,eU.md)(CD),{show:t,isShowing:a,complete:r,uniqueId:n}=(0,a$.e)({overlay:aJ.pIP,priority:aH.N.DEFAULT_MODAL},[e]);return(0,aG.E)(n,Ck,()=>{t({canShow:e=>!e_.rr&&!e})}),el.createElement(fW.rq,{emphasized:!0,clickOutsideToHide:!0,isShowing:a,targetKey:uo,trackingContextName:`${m3} - Menu cell`,title:el.createElement(e2.Tx,{id:"onboarding_pointers.manage_billing_group_overlay.title"}),description:el.createElement(oK.E,{i18nId:"onboarding_pointers.manage_billing_group_overlay.description",i18nParams:{optionName:el.createElement(oK.E,{fontWeight:"semi-bold",i18nId:"billing_groups_table.manage"})}}),primaryCta:{label:el.createElement(e2.Tx,{id:"general.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:e3.c.DONE},onClose:r,userFlagOnShow:CA})}var CM=a(10648);let CP=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=(0,mq.MX)(),r=(0,sK.sZ)(),n=null==r?void 0:r.id,l=e.licenseGroups.map(e=>e.id),i=e.licenseGroups.map(e=>e.name),s=()=>{t(t3.Ce())},[o,c]=el.useState(!1);return el.createElement(e8.fu,{name:"Delete license group modal",properties:{numLicenseGroups:e.licenseGroups.length}},el.createElement(lD.XV,{title:(0,e2.t)("billing_groups_table.delete_n_billing_groups",{licenseGroupsCount:e.licenseGroups.length}),maxWidth:372,onClose:s},el.createElement("div",{className:"license_group_delete_modal--modalContainer--C9aZU modal--container--LVq8G"},el.createElement(e2.Tx,{id:"billing_groups_table.delete_modal.deleting_the_billing_groups_will_cause",licenseGroupsCount:e.licenseGroups.length,licenseGroupsNames:el.createElement(oK.E,{fontWeight:"bold"},(0,ac.Yx)(i))}),el.createElement("div",null,el.createElement("div",null,"\xa0"),el.createElement("span",{className:hA.Vq},(0,e2.t)("billing_groups_table.delete_modal.are_you_sure_you_want_to_delete_these_billing_groups",{licenseGroupsCount:e.licenseGroups.length}))),el.createElement("div",null,"\xa0"),el.createElement("form",{onSubmit:r=>{r.preventDefault(),td.Ay.del(`/api/orgs/${n}/license_groups`,{license_group_ids:l,showing_billing_groups:!0}).then(({data:r})=>{t(a0.F.enqueue({type:"license-group-delete",message:(0,e2.t)("billing_groups_table.billing_groups_deleted_toast",{licenseGroupsCount:e.licenseGroups.length,licenseGroupName:e.licenseGroups[0].name})})),t(t3.Ce()),t(py.w4({licenseGroups:r.meta,deletingAll:a.length===e.licenseGroups.length}))}).catch(e=>{t(a0.F.enqueue({error:!0,message:e.message??(0,e2.t)("billing_groups_table.delete_modal.an_error_occurred_while_deleting_billing_groups")}))})}},el.createElement("label",null,el.createElement(eT.tB,{checked:o,onChange:()=>c(!o)}),el.createElement(e2.Tx,{id:"billing_groups_table.delete_modal.i_understand_that_this_action_isnt_reversible"})),el.createElement("div",{className:hA.v0},el.createElement(eT.tM,{onClick:s},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(eT.qM,{type:"submit",className:hA.pL,disabled:!o},(0,e2.t)("billing_groups_table.delete_n_billing_groups",{licenseGroupsCount:e.licenseGroups.length})))))))},"LicenseGroupDeleteModal");function CB({selectedLicenseGroups:e}){let t=(0,ei.wA)();return 0===e.length?null:el.createElement(el.Fragment,null,1===e.length&&!!e[0].id&&el.createElement(el.Fragment,null,el.createElement(uj.IU,{onClick:()=>{t((0,t3.to)({type:CI,data:{licenseGroup:e[0]}}))},label:(0,e2.t)("billing_groups_table.edit_details")}),el.createElement(uj.IU,{onClick:()=>{t(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:e[0].id,selectedTab:mB.RM.MEMBERS,orgAdminOriginTab:mz.J7.BILLING}))},label:(0,e2.t)("billing_groups_table.manage")})),el.createElement(uj.IU,{onClick:()=>t((0,t3.to)({type:CP,data:{licenseGroups:e.filter(e=>!!e.id)}})),label:(0,e2.t)("general.delete")}))}function CU(e){let{licenseGroup:t,disableDropdown:a}=e,r=(0,ei.wA)(),n=(0,ei.d4)(e=>e.dropdownShown);if(a||!t.id)return el.createElement(el.Fragment,null);let l=`MENU_DROPDOWN-${t.id}`,i=(null==n?void 0:n.type)===l;return el.createElement(uj.Ve,{isRightAligned:!0,className:be.hP,dispatch:r,hideChevron:!0,showingDropdown:i,type:l},el.createElement(eC.B,{svg:nf.A,className:"license_groups_table--menuIcon--PsZKG admin_settings_page--menuIcon--Bx2JO","data-onboarding-key":e.onboardingKey}),i&&el.createElement(dB.W.DropdownWithScrim,{dispatch:r,className:"license_groups_table--dropdown--YSNYp",style:n.data.position},el.createElement(dB.W.OptionTracked,{onClick:()=>{r((0,t3.to)({type:CI,data:{licenseGroup:t}}))}},(0,e2.t)("billing_groups_table.edit_details")),el.createElement(dB.W.OptionTracked,{onClick:()=>{r(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:t.id,selectedTab:mB.RM.MEMBERS,orgAdminOriginTab:mz.J7.BILLING}))}},el.createElement(oK.E,{i18nId:"billing_groups_table.manage"})),el.createElement(dB.W.OptionTracked,{onClick:()=>{r((0,t3.to)({type:CP,data:{licenseGroups:[t]}}))}},(0,e2.t)("general.delete"))))}let CW=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1}]});function CV({count:e}){return el.createElement("div",{className:eE.cx.borderBox.minW16.px4.alignCenter.if(0===e,eE.cx.colorBgHover,eE.cx.colorBgWarning).$,style:{borderRadius:"100px"},"data-preferred-theme":"light","data-testid":"incomplete-groups-count-badge"},el.createElement(oK.E,{color:"default",fontWeight:"medium"},e))}let CG=(0,te.hG)(e5.YEj),C$=e=>e.id??Cj,Cj="unassigned";function CH(e){let t=(0,ei.wA)(),a=yz(),[r,n]=el.useState(""),[l,i]=el.useState(!1),[s,o]=el.useState(!1),c=(0,mq.MX)(),d=[{name:(0,e2.t)("billing_groups_table.column_header.name"),className:"license_groups_table--nameColumn--lMjJn license_groups_table--column--XeFYP table--column--974RA",getSortValue:e=>e.id?e.name:"0",cellComponent:e=>e.id?el.createElement(e8.fu,{name:"Billing group name",trackingTargets:CM.K.NONE},el.createElement(eT.Ph,{trusted:!0,className:eE.cx.wFitContent.hFitContent.$,onClick:()=>{t(aC.$T({licenseGroupId:e.id,view:"licenseGroup",subView:mB.GN.ADMIN,selectedTab:mB.RM.MEMBERS,orgAdminOriginTab:mz.J7.BILLING}))}},el.createElement("div",{className:"license_groups_table--name--KSapP",onMouseOver:()=>o(!0),onMouseOut:()=>o(!1)},e.name))):el.createElement(nX.Y,{spacing:4,padding:0},el.createElement(oK.E,{i18nId:"workspace_table.unassigned"}),el.createElement(oK.E,{i18nId:"workspace_table.unassigned_row_default",color:"secondary"}))},{name:(0,e2.t)("billing_groups_table.column_header.admins"),className:"license_groups_table--adminColumn---EUCv license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{let a=t.id?t.admin_users_metadata:[],r=a.length?a:e.orgAdmins.filter(e=>e.permission===lm._D.ADMIN).map(e=>e.user),n=(0,fZ.e)(r);return el.createElement(el.Fragment,null,r.length>1?el.createElement(el.Fragment,null,el.createElement(df.f,{className:"license_groups_table--overflowTextAvatar---EE3k",text:`${r.length}`}),el.createElement("p",{className:"license_groups_table--overflowTextList---88BW ellipsis--ellipsis--Tjyfa"},n)):el.createElement(aa.az,{entity:r[0],size:22}))}},{name:(0,e2.t)("billing_groups_table.column_header.members"),className:"license_groups_table--membersColumn---ih79 license_groups_table--column--XeFYP table--column--974RA",cellComponent:a=>{var r;let n=(null==(r=e.licenseGroupMemberCounts[a.id??Eo.s])?void 0:r.total_count)??0,l=a.id??Eo.s;return el.createElement(eT.N_,{onClick:()=>t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.MEMBERS,licenseAdminSettingsMembersViewTab:l,orgAdminMembersTabFilters:{...e.currentFilters,licenseGroupFilter:l}})),trusted:!0},el.createElement(e2.Tx,{id:"billing_groups_table.n_members",count:n}))},getSortValue:t=>{var a;return(null==(a=e.licenseGroupMemberCounts[t.id??Eo.s])?void 0:a.total_count)??0},sortNumerically:!0},...Object.values(oZ.JT.excludeUnlessFlag([oX.lM.DEV_MODE],"billing_dev_mode_customer_ui").sort(oZ.AG).withOverrides({[oX.oM.DESIGN]:(0,e2.t)("billing_groups_table.column_header.design_editors.seat_rename"),[oX.oM.WHITEBOARD]:(0,e2.t)("billing_groups_table.column_header.figjam_editors.seat_rename"),[oX.oM.DEV_MODE]:(0,e2.t)("billing_groups_table.column_header.dev_mode_seats")}).dict((t,a)=>({name:t,className:"license_groups_table--licenseCountsColumn--G9Bmj license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{var r;let n=(null==(r=e.licenseGroupMemberCounts[t.id??Eo.s])?void 0:r.editor_counts[a])??0;return el.createElement("div",null,el.createElement(e2.Tx,{id:"billing_groups_table.n_editors.seat_rename",count:n}))},getSortValue:t=>{var r;return(null==(r=e.licenseGroupMemberCounts[t.id??Eo.s])?void 0:r.editor_counts[a])??0},sortNumerically:!0}))),{name:"",className:"license_groups_table--iconColumn--w7qWK admin_settings_page--iconColumn--kO4-J",cellComponent:(e,t,a)=>el.createElement(CU,{licenseGroup:e,disableDropdown:t,onboardingKey:1===a?uo:void 0})}];e.invoices&&(0,ca.hX)(e.invoices)&&d.splice(1,0,{name:"True-up status",className:"license_groups_table--trueUpColumn--GFQY2 license_groups_table--column--XeFYP table--column--974RA",getSortValue:t=>t.id?`${(0,mq.NV)(t,e.invoices)?"c":"b"}${t.name}`:"a",cellComponent:t=>{if(!t.id)return el.createElement(el.Fragment,null,"\u2013");let a=!(0,mq.NV)(t,e.invoices);return el.createElement("span",{className:eE.cx.flex.itemsCenter.$},el.createElement(aa.pw,{className:eE.cx.mr8.$,size:8,color:a?ar.UGg:ar.BYv}),a?(0,e2.t)("billing_groups_table.confirmed"):(0,e2.t)("billing_groups_table.unconfirmed"))}});let m=[{id:null},...c];r&&(CW.set(m),m=CW.search(r));let u=m.filter(t=>t.id&&(0,mq.NV)(t,e.invoices)),_=u.length;l&&(m=u);let[p,g,E]=(0,fq.z)({columnName:"Name",isReversed:!1},m,d);return el.createElement(el.Fragment,null,el.createElement(u$.Cj,{hasNewScrollContext:!0,items:E,getItemKey:C$,columns:d,scrollAwayContent:e.scrollAwayContent,stickyContent:el.createElement(el.Fragment,null,!e_.rr&&!a&&el.createElement(aV.p,null,el.createElement(CO,{orgHasLicenseGroups:c.length>0})),e.stickyContent,el.createElement(nX.Y,{strokeColor:"default",strokeWidth:{top:1,bottom:1},padding:{vertical:8},spacing:"24px"},el.createElement(uP.y2,{onChange:n,focusOnMount:!1,query:r,clearSearch:()=>n(""),placeholder:(0,e2.t)("billing_groups_table.search.placeholder")}),e.invoices&&(0,ca.hX)(e.invoices)&&el.createElement(cl.S,{checked:l,onChange:()=>i(e=>!e),label:el.createElement(nX.Y,{direction:"horizontal",width:"hug-contents",spacing:"4px"},el.createElement(CV,{count:_}),el.createElement(oK.E,{i18nId:"billing_groups_table.unconfirmed_billing_groups"}))}))),actionBar:e=>el.createElement(CB,{selectedLicenseGroups:e}),actionBarClassName:"license_groups_table--bulkActionsBar--q1TdV",itemTypeContext:{itemType:"billing group",getSelectedCountString:e=>(0,e2.t)("multi_select_list.selected_count_billing_groups",{numSelected:e})},minContentWidth:CG,unselectableItemKeys:new Set([Cj]),isBannerHeightDynamic:!0,emptyContent:el.createElement(b5.p,null,r?(0,e2.t)("billing_groups_table.search.no_results"):(0,e2.t)("billing_groups_table.filter.no_results")),sortState:p,onSetSortState:g,styleOverrideClassNames:{row:s?"license_groups_table--hoverDisabledRow--y0wbz":void 0,unselectedCheckbox:"license_groups_table--unselectedCheckbox--iP34r"}}))}function Cq(e){let t=new r$.vr(e.currency);return el.createElement(xH,{color:x$.LIGHT_BLUE},el.createElement(eC.B,{autosize:!0,width:"16px",height:"16px",svg:dk.A,className:xG}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.billing_banner_figjam.you_have_a_credit_amount",accountCredit:t.formatMoney(e.accountCredit,{showCents:!0})})))}let CY=eE.cx.cursorPointer.underline.textInherit__DEPRECATED.bgNone.$;function Cz(e){switch((0,ca.Fw)(e.invoices)){case ca.$.DEFAULT:case ca.$.REVIEW:case ca.$.LOCKED:return null;case ca.$.UNPAID:return el.createElement(CK,{invoice:(0,ca.jk)(e.invoices,"open")});case ca.$.OVERDUE:return el.createElement(CJ,{invoice:(0,ca.jk)(e.invoices,"open")})}}function CK(e){let t=e.invoice,a=new Date(t.past_due_at).getTime()-Date.now();return el.createElement("div",{"data-testid":"pay-banner"},el.createElement(xH,{color:x$.BLUE,removeNegativeMargin:!0},el.createElement(eC.B,{autosize:!0,width:"16px",height:"16px",svg:dk.A,className:xG}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.billing_banner_figjam.due_date_message",dueDate:(0,dq.A)(t.due_at).format("MMM D"),pastDueDate:(0,dq.A)(t.past_due_at).format("MMM D"),differenceDays:Math.floor(a/1e3/60/60/24),payInvoiceLink:el.createElement("button",{onClick:()=>{(0,i$.FJ)(t.invoice_url,"_blank","noopener")},className:CY},el.createElement(e2.Tx,{id:"org_admin_settings.billing_banner_figjam.pay_invoice"}))}))))}function CJ(e){let t=e.invoice,a=new r$.vr(t.currency);return el.createElement("div",{"data-testid":"past-due-banner"},el.createElement(xH,{color:x$.RED,removeNegativeMargin:!0},el.createElement(eC.B,{autosize:!0,width:"16px",height:"16px",useOriginalSrcFills_DEPRECATED:!1,svg:pT.A,className:"admin_banner--iconOnWarning--nDijN"}),el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.billing_banner_figjam.invoice_overdue",dueDate:(0,dq.A)(t.due_at).format("MMM D"),amount:a.formatMoney(t.amount_due,{showCents:!1}),payInvoiceLink:el.createElement("button",{onClick:()=>{(0,i$.FJ)(e.invoice.invoice_url,"_blank","noopener")},className:CY},el.createElement(e2.Tx,{id:"org_admin_settings.billing_banner_figjam.pay_invoice"}))}))))}function CQ({org:e,invoice:t}){return el.createElement(uI,{dataTestId:"default-billing-details-banner",icon:b2.A,title:el.createElement(oK.E,{color:"default",fontWeight:"regular"},el.createElement(e2.Tx,{id:"org_admin_settings.billing_banner.details.upcoming_invoice",date:el.createElement("strong",null,(0,dq.A)(t.due_at).format("LL"))}))},el.createElement(yc,{org:e,invoice:t}))}function CZ({org:e,invoice:t}){return el.createElement(uI,{dataTestId:"locked-invoice-billing-details-banner",variant:"success",icon:b1.A,title:el.createElement(oK.E,{fontWeight:"regular"},(0,u5.tq)({org:e,invoice:t}))},el.createElement(yc,{org:e,invoice:t}))}function CX({org:e,invoice:t,invoices:a}){let r=(0,ei.wA)(),n=(0,mq.MX)(),l=(0,mq.RG)();if(l)return el.createElement(mE.$,{variant:"inverse",onClick:()=>r((0,t3.to)({type:ye,data:{licenseGroupsEnabled:l,licenseGroups:n,org:e,invoice:t,invoices:a}}))},el.createElement(e2.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.billing_groups"}));{let a=()=>{r(b7({licenseQuantities:(0,ca.e7)(t)})),r((0,t3.AS)())};return el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"end"},el.createElement(mE.$,{onClick:()=>{r(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.MEMBERS,orgAdminMembersTabSort:{columnName:fM.Od.DESIGN_ROLE,isReversed:!0}}))}},el.createElement(e2.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.manage_seats"})),el.createElement(mE.$,{variant:"inverse",onClick:()=>{r((0,t3.to)({type:yu,data:{org:e,invoice:t,onConfirm:a}}))}},el.createElement(e2.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.review_and_finalize_invoice"})))}}function C0({org:e,invoice:t,invoices:a}){let r=1===t.quarter,n=!!e&&e.has_automatic_upcoming_invoice,l=(0,mq.RG)(),i=(0,dq.A)(t.due_at).format("ll"),s=r?n?el.createElement(oK.E,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.renewal.actionable",i18nParams:{date:i},fontWeight:"semi-bold"}):el.createElement(oK.E,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.renewal.not_actionable",i18nParams:{date:i}}):el.createElement(oK.E,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.true_up",i18nParams:{date:i},fontWeight:"semi-bold"}),o=n?l?el.createElement(e2.Tx,{id:"org_admin_details.billing_banner.upcoming_invoice.subtitle.true_up.billing_groups.seat_rename"}):el.createElement(e2.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.subtitle"}):void 0;return el.createElement(uI,{dataTestId:"upcoming-invoice-billing-details-banner",variant:"warning",icon:b2.A,title:s,subtitle:o,actions:n&&el.createElement(CX,{org:e,invoice:t,invoices:a})},el.createElement(yc,{org:e,invoice:t}))}function C1(e){let t=(0,ca.jk)(e.invoices,"upcoming")||(0,ca.jk)(e.invoices,"locked");if(!t)return null;switch((0,ca.Fw)(e.invoices)){case ca.$.REVIEW:return el.createElement(C0,{org:e.org,invoice:t,invoices:e.invoices});case ca.$.LOCKED:return el.createElement(CZ,{org:e.org,invoice:t});default:return el.createElement(CQ,{org:e.org,invoice:t})}}let C2="invoices_table--colDate--tGVMj",C4="invoices_table--colDescription--Oj0rr",C3="invoices_table--colSeats--Flxzs invoices_table--_rightAligned--Ep02D",C8="invoices_table--colSeatsText--xR2uV invoices_table--colSeats--Flxzs invoices_table--_rightAligned--Ep02D invoices_table--numeric--gE0il",C5="invoices_table--colStatus--lgsyl",C6="invoices_table--secondaryText--x9mlS",C9=gp.M4.Query({fetch:async e=>{var t;let a=await fetch(`/api/orgs/${e.orgId}/invoice/${e.invoiceId}/refresh_invoice_url`,{cache:"no-store",headers:{"X-Figma-User-ID":e.userId}});if(!a.ok)return null;let r=await a.json();return(null==(t=null==r?void 0:r.meta)?void 0:t.invoice_url)||null}});function C7(e){let t=(0,aN.TA)(),[a]=(0,gp.IT)(C9({orgId:e.orgId,invoiceId:e.invoiceId,userId:t||""}));return"loading"!==a.status&&a.data&&t?el.createElement(eT.Ph,{className:"invoices_table--link--Q7eFE blue_link--blueLink--9rlnd",href:a.data,target:"_blank",trusted:!0},e.chargesText):el.createElement("span",{className:eE.cx.colorTextDisabled.$},e.chargesText)}function Ne(e){return el.createElement("div",{"data-testid":"invoices-table"},el.createElement("div",{className:eE.cx.sticky.top0.$},el.createElement(nX.Y,{spacing:0,direction:"vertical",backgroundColor:"default"},e.stickyContent,el.createElement("div",{className:"invoices_table--divider--tw9ff"}),el.createElement(va.Hj,{header:!0,useAdminTableStyles:!0,leftPadding:!0,className:"invoices_table--header--lKV8G"},el.createElement("div",{className:C2},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.date"})),el.createElement("div",{className:C4},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.description"})),el.createElement("div",{className:C3},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.design_editor_seats.seat_rename"})),(0,em.kc)().billing_dev_mode_customer_ui&&el.createElement("div",{className:C3},el.createElement(e2.Tx,{id:"org_admin_settings.invoice_table.dev_mode_seats"})),!e.org.figjam_disabled_at&&el.createElement("div",{className:C3},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.fig_jam_editor_seats.seat_rename"})),el.createElement("div",{className:"invoices_table--colCharges--65zI0 invoices_table--_rightAligned--Ep02D"},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.subtotal"})),el.createElement("div",{className:C5},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.status"}))))),e.invoices.map(t=>{var a,r,n,l;let i,s,o;let c=new Date(t.past_due_at)<new Date,d=new r$.vr(t.currency);switch(t.status){case"locked":case"upcoming":return null;case"paid":i=el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.paid"}),s=el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.view_invoice"});break;case"open":c?(o="invoices_table--billingStatusOverdue--jeR8e",i=el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.overdue"})):i=el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.unpaid"}),s=el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.pay_invoice"});break;default:(0,eh.xb)(t.status)}return el.createElement(va.Hj,{useAdminTableStyles:!0,className:ey()({"invoices_table--noHover--m18a7":!0,"invoices_table--blueBorder--LED0z":"open"===t.status&&!c,"invoices_table--redBorder--MbN7r":"open"===t.status&&c}),leftPadding:!0,key:t.id},el.createElement("div",{className:C2},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,dq.A)(t.due_at).toDate()}))),1===t.quarter&&el.createElement("div",{className:C4},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.annual_subscription"})),el.createElement("div",{className:C6},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,dq.A)(t.due_at).toDate()}))),1!==t.quarter&&el.createElement("div",{className:C4},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.quarterly_true_up"})),el.createElement("div",{className:C6},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,dq.A)(t.due_at).toDate()})," ","\u2013"," ",el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,dq.A)(t.period_end_at).toDate()}))),el.createElement("div",{className:C8},el.createElement("div",null,t.quantity_added)),(0,em.kc)().billing_dev_mode_customer_ui&&el.createElement("div",{className:C8},el.createElement("div",null,(null==(a=t.license_type_configuration[oX.PE])?void 0:a.added_quantity)??0)),!e.org.figjam_disabled_at&&el.createElement("div",{className:C8},(null==(r=t.license_type_configuration[oX.tL])?void 0:r.added_quantity)!==null&&el.createElement(el.Fragment,null,!t.is_paid_figjam&&el.createElement(oj.Ex,{className:"invoices_table--lowMargin--vYE1n",color:oj.zE.DEFAULT,text:(0,e2.t)("org_admin_settings.cost_breakdown.free_for_2021")}),el.createElement("div",null,null==(n=t.license_type_configuration[oX.tL])?void 0:n.added_quantity)),(null==(l=t.license_type_configuration[oX.tL])?void 0:l.added_quantity)===null&&"\u2013"),el.createElement("div",{className:"invoices_table--colChargesText--Z1Xld invoices_table--colCharges--65zI0 invoices_table--_rightAligned--Ep02D invoices_table--numeric--gE0il"},el.createElement("div",null,d.formatMoney(t.amount_due,{showCents:!1}))),el.createElement("div",{className:C5},el.createElement("div",{className:o},0===t.amount_due?"\u2013":i),t.amount_due>0&&el.createElement(C7,{invoiceId:t.id,chargesText:s,orgId:e.org.id})))}))}function Nt(e){let{"data-onboarding-key":t}=e,a=(0,ei.wA)();return el.createElement(e8.fu,{name:"New billing group"},el.createElement(mE.V,{icon:"plus-32","data-onboarding-key":t,onClick:()=>{a((0,t3.to)({type:CI}))}},(0,e2.t)("billing_groups_table.plus_billing_group")))}function Na({isFullPage:e}){return el.createElement(nX.Y,{padding:8,direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center",width:"fill-parent",...e?{height:"fill-parent"}:{height:144,strokeWidth:1,strokeColor:"default"}},el.createElement(oK.E,{fontWeight:"semi-bold",color:"secondary",i18nId:"org_admin_settings.billing.no_billing_groups_yet"}),el.createElement("div",{className:eE.cx.pb8.alignCenter.$,style:cs.sx.add({maxWidth:"540px"}).$},el.createElement(oK.E,{color:"secondary",i18nId:"org_admin_settings.billing.billing_groups_empty_text.seat_rename",i18nParams:{learnMoreLink:el.createElement(eT.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/19100885191191"},el.createElement(oK.E,{i18nId:"general.learn_more"}))}})),el.createElement(Nt,null))}var Nr=((x=Nr||{}).LICENSE_GROUPS="LICENSE_GROUPS",x.INVOICES="INVOICES",x);function Nn(e){let t=yz(),a=(0,mq.RG)(),r=(0,u5.kA)(e.org),n=(0,mq.MX)(),[l,i]=el.useState(r?"LICENSE_GROUPS":"INVOICES");if(e.isFetching)return el.createElement(el.Fragment,null,e.loadingContent);let s=e.invoices&&e.invoices.length>0&&e.invoices.some(e=>"locked"===e.status||"upcoming"===e.status)?e.invoices:null;if(!s&&!r)return null;let o=r&&s,c=s?el.createElement(C1,{adminEmail:e.adminEmail,invoices:s,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,devModeBillableSeats:e.devModeBillableSeats,org:e.org,dispatch:e.dispatch,shouldShowLockedBanner:e.shouldShowLockedBanner,isLicenseGroupsEnabled:a,licenseGroups:n}):void 0,d=o?el.createElement("div",{className:eE.cx.pb20.pt20.$,"data-testid":"billing-subtabs"},el.createElement(w7.f,{height:"auto",tabs:[el.createElement(w7.r,{key:"LICENSE_GROUPS",tab:"LICENSE_GROUPS",isSelected:"LICENSE_GROUPS"===l,onClick:()=>i("LICENSE_GROUPS"),tabName:(0,e2.t)("org_admin_settings.billing.billing_groups"),dataOnboardingKey:ue}),el.createElement(w7.r,{key:"INVOICES",tab:"INVOICES",isSelected:"INVOICES"===l,onClick:()=>i("INVOICES"),tabName:(0,e2.t)("org_admin_settings.billing.invoices")})]})):null,m=n.length>0,u=Math.max(1105,r&&m?CG:0),_=r&&!o&&0===n.length;return el.createElement(el.Fragment,null,el.createElement("div",{className:"billing_table_figjam--container--O7MoP admin_settings_page--container--NGwts"},el.createElement("div",{className:"billing_table_figjam--stickyBanner--y4P5o"},s&&el.createElement(Cz,{org:e.org,invoices:s,isLicenseGroupsEnabled:a}),e.accountCredit&&e.accountCredit>0&&e.currency?el.createElement(Cq,{accountCredit:e.accountCredit,currency:e.currency}):null),el.createElement("div",{className:eE.cx.wFull.if(_,eE.cx.absolute.top0.zIndex1).$},el.createElement(bK.K,{hasHorizontalPadding:!0,title:u7(mz.J7.BILLING),rightActions:r?el.createElement(Nt,{"data-onboarding-key":us}):void 0})),"LICENSE_GROUPS"===l&&el.createElement(el.Fragment,null,!e_.rr&&!t&&el.createElement(aV.p,null,el.createElement(CF,null)),m?el.createElement(CH,{org:e.org,orgAdmins:e.orgAdmins,invoices:e.invoices,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,currentFilters:fM.J0,licenseGroupMemberCounts:e.licenseGroupMemberCounts,scrollAwayContent:c,stickyContent:d||el.createElement("div",{className:eE.cx.pb12.$},el.createElement("span",{"data-onboarding-key":ue},el.createElement(oK.E,{i18nId:"org_admin_settings.billing.billing_groups",fontSize:13,fontWeight:"medium"})))}):el.createElement(CE,{minContentWidth:u,scrollAwayContent:c,stickyContent:d},el.createElement(Na,{isFullPage:_}))),"INVOICES"===l&&el.createElement(CE,{minContentWidth:u,scrollAwayContent:el.createElement(el.Fragment,null,c,!o&&el.createElement("div",{className:"billing_table_figjam--tableTitle--rftSv billing_table_figjam--header--5D9kz billing_tab--header--KBlJX"},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.invoices"})))},el.createElement(Ne,{invoices:s,org:e.org,stickyContent:d}))))}var Nl=((C=Nl||{})[C.DEFAULT=0]="DEFAULT",C[C.YELLOW=1]="YELLOW",C);function Ni(e,t=!1){return ey()({0:null,1:"action_item_card--tileYellow--tHfxE"}[e]??void 0,"action_item_card--smoothText--izPuf",eE.cx.wFull.bRadius6.$,{"action_item_card--hoverTile--9vEnZ":t})}function Ns({onClick:e,title:t,text:a,alertIcon:r,dataTestId:n,color:l=0}){return el.createElement(e8.jm,{onClick:e,className:Ni(l,!0),"data-testid":n},el.createElement(nX.Y,{direction:"horizontal",spacing:8,padding:{top:12,right:16,bottom:12,left:24},cornerRadius:6,strokeWidth:0===l?1:void 0,strokeColor:0===l?"default":void 0},el.createElement("div",{className:eE.cx.font13.fontMedium.lh24.cursorDefault.colorText.$},t),r,el.createElement(nX.M,null),el.createElement("div",{className:eE.cx.lh24.cursorDefault.colorText.$},a),el.createElement(n0.In,{icon:"chevron-right-32"})))}function No({onClick:e,title:t,dataTestId:a,color:r=0,subText:n,buttonText:l}){return el.createElement("div",{className:Ni(r),"data-testid":a},el.createElement(nX.Y,{direction:"horizontal",spacing:8,padding:{top:16,bottom:16,left:24,right:24},cornerRadius:6,strokeWidth:0===r?1:void 0,strokeColor:0===r?"default":void 0},el.createElement("span",null,el.createElement("div",{className:eE.cx.font13.fontMedium.lh24.cursorDefault.colorText.$},t),!!n&&el.createElement("div",null,n)),el.createElement(nX.M,null),el.createElement(cp.tM,{className:eE.cx.cursorPointer.$,onClick:e},l)))}var Nc=((N=Nc||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",N.MEMBERS_TAB="members_tab",N);let Nd=new class{updateTeamUsers(e){return nb._5.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/team_user_batch`,e))}declineDevModeSuggestedUpgrades(e){return nb._5.validate(async({xr:t})=>await t.del(`/api/teams/${e.team_id}/team_users/dev_mode_suggested_upgrades`,e))}dismissDevModeSuggestedUpgrades(e){return nb._5.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/dismiss_dev_mode_suggested_upgrades`))}},Nm=(0,rr.Ju)(function({planId:e,planType:t,onNoUpgrades:a}){let r=(0,ei.wA)(),[n,l]=(0,el.useState)([]),[i,s]=(0,el.useState)(null),[o,c]=(0,el.useState)(()=>new Set),[d,m]=(0,el.useState)(!1),u=(0,aX.Rs)(a9.b2A,{planId:e},{enabled:t===uy.ps.ORG}),_=(0,aX.Rs)(a9.ApF,{planId:e},{enabled:t===uy.ps.TEAM}),p=(0,el.useMemo)(()=>{if(t===uy.ps.ORG){let e=function(e){l(t=>t.filter(t=>t.planUserId!==e))};return"loaded"===u.status&&u.data.devModeSuggestedUpgrades.status===aX.tT.Loaded&&u.data.devModeSuggestedUpgrades.data?u.data.devModeSuggestedUpgrades.data.reduce((t,a)=>{var r,n,l,i,s,c,d;return!(null==(r=a.orgUser)?void 0:r.user)||(null==(n=a.orgUser)?void 0:n.designPaidStatus)===lm.El.FULL||(null==(l=a.orgUser)?void 0:l.devModePaidStatus)===lm.El.FULL||o.has(a.orgUser.user.id)?e(a.id):t.push({userId:a.orgUser.user.id,planUserId:a.id,lastUsedDevMode:new Date(a.lastUsedAt),name:(null==(i=a.orgUser)?void 0:i.user.name)||(0,e2.t)("admin_dashboard.requests.no_name"),imgUrl:(null==(s=a.orgUser)?void 0:s.user.imgUrl)??null,jobTitle:(null==(d=null==(c=a.orgUser)?void 0:c.user.profile)?void 0:d.jobTitle)??null}),t},[]):null}return"loaded"===_.status&&_.data.devModeSuggestedUpgrades.status===aX.tT.Loaded&&_.data.devModeSuggestedUpgrades.data?_.data.devModeSuggestedUpgrades.data.reduce((e,t)=>{var a,r,n,l,i,s;return(null==(a=t.teamUser)?void 0:a.designPaidStatus)===me.Zf.FULL||!(null==(r=t.teamUser)?void 0:r.user)||o.has(t.teamUser.user.id)||e.push({userId:t.teamUser.user.id,planUserId:t.id,lastUsedDevMode:new Date(t.lastUsedAt),name:(null==(n=t.teamUser)?void 0:n.user.name)||(0,e2.t)("admin_dashboard.requests.no_name"),imgUrl:(null==(l=t.teamUser)?void 0:l.user.imgUrl)??null,jobTitle:(null==(s=null==(i=t.teamUser)?void 0:i.user.profile)?void 0:s.jobTitle)??null}),e},[]):null},[t,u.data,u.status,_.data,_.status,o]);(0,el.useEffect)(()=>{(null==p?void 0:p.length)===0&&a&&a(),d&&(null==p?void 0:p.length)===0&&r(t3.AS())},[r,d,p,a]);let g=[{name:(0,e2.t)("admin_dashboard.requests.columns.name"),className:"dev_mode_suggested_upgrades_modal--avatarColumn--cxxpB dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--VDK1e table--column--974RA",cellComponent:({name:e,imgUrl:t,userId:a})=>{let r=e||(0,e2.t)("admin_dashboard.requests.no_name");return el.createElement(aa.az,{entity:{id:a,name:r,imgUrl:t},showTruncatedTextTooltip:!0,size:24})}},{name:(0,e2.t)("admin_dashboard.requests.details.job_title"),className:"dev_mode_suggested_upgrades_modal--jobTitleColumn--5sHQZ dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--VDK1e table--column--974RA",cellComponent:e=>el.createElement("div",null,e.jobTitle?(0,uJ.lb)(e.jobTitle):uy.Lv)},{name:(0,e2.t)("admin_dashboard.requests.columns.last_used_dev_mode"),className:"dev_mode_suggested_upgrades_modal--lastUsedDevModeColumn--vk57j dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--VDK1e table--column--974RA",cellComponent:e=>el.createElement(e2.Tx,{id:"admin_dashboard.requests.details.display_date",dateObject:e.lastUsedDevMode})}],E=({isUpgrade:e,numSeats:t,planType:a})=>{let n=e?a===uy.ps.ORG?(0,e2.t)("admin_dashboard.suggested.bell.assigned_org",{numSeats:t}):(0,e2.t)("admin_dashboard.suggested.bell.assigned_team",{numSeats:t}):a===uy.ps.ORG?(0,e2.t)("admin_dashboard.suggested.bell.declined_org",{numSeats:t}):(0,e2.t)("admin_dashboard.suggested.bell.declined_team",{numSeats:t});r(a0.F.enqueue({message:n,type:e?"suggested-upgrades-assigned":"suggested-upgrades-declined"}))},f=()=>{r(a0.F.enqueue({message:(0,e2.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,e2.t)("admin_dashboard.requests.error_reload"),action:()=>{ec.Ay.reload("Dev mode suggested upgrades error")}}}))},h=a=>{if(0!==n.length&&null!==p){if(s(a?"upgrading":"denying"),t===uy.ps.ORG){let r=n.map(e=>e.planUserId);(a?f0.G.updateOrgUsers({orgId:e,paid_statuses:{[oX.PE]:lm.El.FULL},showing_billing_groups:!1,org_user_ids:r,latest_ou_update:new Date().toISOString(),entry_point:f0.h.DEV_MODE_BETA_SUGGESTED_UPGRADES}):f0.G.declineDevModeSuggestedUpgrades({org_id:e,org_user_ids:r})).then(()=>{E({isUpgrade:a,numSeats:n.length,planType:t}),a||c(e=>{let t=new Set(e);return n.forEach(e=>t.add(e.userId)),t})}).catch(()=>{f()}).finally(()=>{s(null),m(!0)})}else if(t===uy.ps.TEAM){let r=n.map(e=>({user_id:e.userId,design_paid_status:me.Zf.FULL}));(a?Nd.updateTeamUsers({team_id:e,team_user_deltas:r,entry_point:Nc.DEV_MODE_BETA_SUGGESTED_UPGRADES}):Nd.declineDevModeSuggestedUpgrades({team_id:e,team_user_ids:n.map(e=>e.planUserId)})).then(()=>{E({isUpgrade:a,numSeats:n.length,planType:t}),a||c(e=>{let t=new Set(e);return n.forEach(e=>t.add(e.userId)),t})}).catch(()=>{f()}).finally(()=>{s(null),m(!0)})}}},v=el.createElement("div",{style:cs.sx.add({height:"35vh"}).$},el.createElement(nX.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",verticalAlignItems:"center"},el.createElement("div",{className:eE.cx.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},el.createElement(e2.Tx,{id:"admin_dashboard.suggested.empty.primary_text"})),el.createElement("div",{className:eE.cx.lh16.cursorDefault.colorTextSecondary.$},el.createElement(e2.Tx,{id:"admin_dashboard.requests.empty.secondary_text"})))),b=p&&0===p.length;return el.createElement(e8.fu,{name:t6.e0.DEV_MODE_SUGGESTED_UPGRADES_MODAL,properties:{adminRequestsDashboard:!0,orgId:t===uy.ps.ORG?e:void 0,teamId:t===uy.ps.TEAM?e:void 0}},el.createElement(rn.aF,{className:eE.cx.cursorDefault.selectNone.hFull.$,title:"",size:529,maxHeight:"700px",padding:0},el.createElement(cg.i0,{customStyle:{top:12,right:12},onClick:()=>r(t3.AS())}),el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement("div",{style:cs.sx.add({margin:"40px 50px 16px 40px"}).$},el.createElement("div",{className:eE.cx.font24.fontSemiBold.lh32.mb4.$},el.createElement(e2.Tx,{id:"admin_dashboard.suggested.title"})),el.createElement(oK.E,{fontSize:13,i18nId:"admin_dashboard.suggested.body_v2"}),el.createElement(eT.CY,{className:eE.cx.font13.ml8.$,trusted:!0,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/19813618057623-Dev-Mode-is-out-of-beta-what-admins-need-to-know"},el.createElement(e2.Tx,{id:"general.learn_more"}))),el.createElement(u$.Cj,{emptyContent:v,items:p??[],getItemKey:e=>e.userId,disabled:null!==i,columns:g,itemTypeContext:{itemType:"",getSelectedCountString:e=>""},sortState:{columnName:"",isReversed:!1},minContentWidth:439,onSetSortState:eu.lQ,scrollContainerInnerClassName:"dev_mode_suggested_upgrades_modal--tableScrollContainer--vkNcV",onSelectedItemsChange:l,isLoading:null===p,onFetchMore:null===p?eu.lQ:void 0,hasNewScrollContext:!0,scrollBarAlwaysVisible:!0}),el.createElement(nX.Y,{direction:"horizontal",padding:{vertical:12,horizontal:16},strokeWidth:{top:1},strokeColor:"default",horizontalAlignItems:"end",height:56},b?el.createElement(mE.V,{variant:"primary",onClick:()=>r(t3.AS()),innerText:"Close",dataTestId:"empty-close-button"},el.createElement(e2.Tx,{id:"general.close"})):el.createElement(el.Fragment,null,el.createElement(mE.V,{variant:"secondary",onClick:()=>h(!1),innerText:"Decline",dataTestId:"decline-button",disabled:0===n.length||null!==i,trackingProperties:{selectedCount:n.length}},(0,uy.Zm)({text:(0,e2.t)("admin_dashboard.requests.decline"),showSpinner:"denying"===i})),el.createElement(mE.V,{variant:"primary",onClick:()=>h(!0),innerText:"Upgrade",dataTestId:"upgrade-button",disabled:0===n.length||null!==i,trackingProperties:{selectedCount:n.length}},(0,uy.Zm)({text:(0,e2.t)("admin_dashboard.suggested.upgrade"),showSpinner:"upgrading"===i})))))))},"DevModeSuggestedUpgradesModal");function Nu({org:e,onClickViewHistory:t}){var a,r,n,l,i;let s=(0,aX.Rs)(a9.RcX,{orgId:e.id});return el.createElement(u3,{supportedLicenses:[oX.oM.DESIGN,...e.figjam_disabled_at?[]:[oX.oM.WHITEBOARD],oX.oM.DEV_MODE],planType:uy.ps.ORG,planId:e.id,configuredUpgradeRequestSetting:"loaded"===s.status&&(null==(r=null==(a=s.data.org)?void 0:a.sharedOrgLicenseGroupSetting)?void 0:r.configuredUpgradeRequestSetting.status)===aX.tT.Loaded?(null==(i=null==(l=null==(n=null==s?void 0:s.data)?void 0:n.org)?void 0:l.sharedOrgLicenseGroupSetting)?void 0:i.configuredUpgradeRequestSetting.data)??null:null,onClickViewHistory:t,isOrgAdmin:!0})}function N_(e){var t,a,r;let n;let l=(0,ei.wA)(),i=(0,ei.d4)(e=>e.avatarEditorState),s=(0,ei.d4)(e=>(0,o2.xw)(e)),o=(0,aX.Rs)(a9.Wt6,{orgId:e.org.id}),c="loaded"===o.status?null==(t=o.data.org)?void 0:t.taxIdVerificationStatus:null,d=(0,aX.Rs)(a9.lVt,{orgId:e.org.id}),m="loaded"===d.status,u=m&&(0,ca.CA)((null==(r=null==(a=d.data)?void 0:a.org)?void 0:r.devModeOptInPlanProperty)||null),_=(0,uy.Kb)(),p=(0,uy.IA)({planType:uy.ps.ORG,planId:e.org.id,isOrgAdmin:!0}),[g,E]=(0,eU.fp)(uq),f=c===lm.kI.UNVERIFIED,[h,v]=el.useState(u||p);n=u?p?(0,e2.t)("admin_dashboard.suggested.tile.body.dm_not_opted_in"):(0,e2.t)("admin_dashboard.suggested.tile.body.dm_not_opted_in_no_beta_users"):(0,e2.t)("admin_dashboard.suggested.tile.body.dm_opted_in"),el.useEffect(()=>{if(m&&null!==p){v(u||p);let t=[uy.ps.ORG,e.org.id].toString(),a={...g};a[t]=u||!!p,E(a)}},[m,p,e.org.id,u]);let b=()=>{v(!1);let t=[uy.ps.ORG,e.org.id].toString(),a={...g};a[t]=!1,E(a)},y=()=>l(t3.to({type:Nm,data:{planId:e.org.id,planType:uy.ps.ORG,onNoUpgrades:b}})),w=()=>{l(t3.to({type:uG.OZ,data:{onOptInShowModal:y,source:mz.J7.DASHBOARD}}))};(0,ed.h)(()=>{!e.org.is_dev_mode_opt_in_accepted&&e.devModeOptInModalState&&e.devModeOptInModalState.shouldShowModal&&l((0,t3.to)({type:uG.$D,data:{emailRequestId:e.devModeOptInModalState.emailRequestId}})),_&&e.shouldShowDevModeSuggestedUpgradesModal&&(e.org.is_dev_mode_opt_in_accepted?y():w())});let T=(0,uT.SM)(e.org.id),x=e=>{l(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.ACTIVITY,activityTabInitialEventOptionId:e}))},C=(0,el.useMemo)(()=>!!e.invoices&&e.invoices.length>0&&(0,ca.Fw)(e.invoices)!==ca.$.DEFAULT,[e.invoices]),N=el.createElement(e2.Tx,{id:"admin_dashboard.suggested.tile.subtext.main",dismissalLink:el.createElement("span",{className:"dashboard--suggestedUpgradesDismissalLink--8SOU4",role:"button",onClick:()=>{f0.G.postOrgUserFlags({orgUserId:s.id,flags:{[uy.NQ]:!0}}),v(!1)},tabIndex:0},el.createElement(e2.Tx,{id:"admin_dashboard.suggested.tile.subtext.dismissal_link"}))});return el.createElement("div",{className:_p},el.createElement("div",{className:_g},el.createElement("div",{className:_E},el.createElement(mJ.ER,{dispatch:l,entityType:mY.ck.ORG,entity:e.org,size:80,avatarEditorState:i}),el.createElement("div",{className:_f},el.createElement(oK.E,{fontWeight:"regular",fontSize:24},e.org.name),e.org.community_profile_handle&&el.createElement("div",{className:"dashboard--communityProfile--1T3gQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{l(aC.$T({view:"communityHub",subView:"handle",handle:e.org.community_profile_handle}))}},"@",e.org.community_profile_handle))),el.createElement("div",{className:"dashboard--overviewRight--bhW0U"},el.createElement("div",null,el.createElement("span",{className:_h},el.createElement(e2.Tx,{id:"org_dashboard.total_teams"})),el.createElement("span",{className:_v},e.teams.length)),el.createElement("div",null,el.createElement("span",{className:_h},el.createElement(e2.Tx,{id:"org_dashboard.total_members"})),el.createElement("span",{className:_v},e.orgUserCount)))),el.createElement(nX.Y,{spacing:16,direction:"vertical"},h&&m&&el.createElement(e8.fu,{name:t6.e0.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD,properties:{adminRequestsDashboard:!0,orgId:e.org.id}},(0,em.kc)().dev_mode_suggests_tile_dismissal?el.createElement(No,{onClick:()=>{u?w():y()},title:(0,e2.t)("admin_dashboard.suggested.tile.title",{dateObject:uy.Se}),subText:u?void 0:N,buttonText:(0,e2.t)("admin_dashboard.suggested.button"),color:Nl.YELLOW,dataTestId:`billing-highlight-${ca.EZ.DEV_MODE_SUGGESTED_UPGRADES}`}):el.createElement(Ns,{onClick:()=>{u?w():y()},title:(0,e2.t)("admin_dashboard.suggested.tile.title",{dateObject:uy.Se}),text:n,color:Nl.YELLOW,dataTestId:`billing-highlight-${ca.EZ.DEV_MODE_SUGGESTED_UPGRADES}`})),C&&el.createElement(Ns,{onClick:()=>{T(),l(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.BILLING}))},title:(0,e2.t)("org_dashboard.billing"),text:(0,ca.XL)(e.org,e.invoices),alertIcon:el.createElement(_n.YR,{faded:!0}),dataTestId:`billing-highlight-${ca.EZ.BILLING_STATUS}`}),f&&el.createElement(Ns,{onClick:()=>{T(),l(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.SETTINGS}))},title:(0,e2.t)("org_dashboard.settings"),text:(0,e2.t)("billing_status.tax_id.invalid.v2"),alertIcon:el.createElement(_n.YR,{faded:!0}),dataTestId:`billing-highlight-${ca.EZ.TAX_ID_STATUS}`}),el.createElement("div",{className:eE.cx.mb16.$},el.createElement(Nu,{org:e.org,onClickViewHistory:()=>x("activity_log.filter.upgrade_requests_and_activity")}))))}var Np=a(648467),Ng=a(343279);function NE(e){return((0,Np.P)("exp_teams_table_refactor",{type:Ng.L4.ORG,id:e}).defaultValue(!1).treatment("variant",!0).disableTracking().get()||(0,Np.P)("exp_teams_table_refactor",e).defaultValue(!1).treatment("variant",!0).get())&&(0,em.kc)().teams_table_refactor_rollout}var Nf=a(963067);let Nh=(0,_t.rw)();function Nv(e){let t=null;if("getDisplayName"in e){let{getDisplayName:a,...r}=e,n=a(e.tab);t={...r,dataText:n,children:n}}else t=e;return el.createElement(Nh,{...t,variant:_t.TN.ADMIN_SETTINGS})}let Nb={[mz.J7.RESOURCES]:[mz._d.LIBRARIES,mz._d.SHARED_FONTS,mz._d.APPROVED_PLUGINS,mz._d.APPROVED_WIDGETS]};function Ny({tab:e,selectedSecondaryTab:t}){let a=(0,ei.wA)(),r=Nb[e]||[],n=el.useCallback(t=>{a(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e,orgAdminSettingsViewSecondaryTab:t}))},[a,e]);if(!(r.length>1))return null;let l=t||r[0];return el.createElement("div",{className:eE.cx.px32.pt16.$,"data-testid":"org-admin-settings-secondary-tabs"},el.createElement(w7.f,{tabs:r.map(t=>el.createElement(w7.r,{key:t,tab:t,isSelected:l===t,onClick:n,tabName:u7(e,t)}))}))}let Nw=(0,_t.rw)(),NT=e=>Object.values(mz.J7).filter(t=>!mz.eL.includes(t)&&(t!==mz.J7.BILLING||!!e.length)),Nx=()=>Object.values(mz.J7);function NC(e){let t=(0,ei.wA)(),a=(0,ei.d4)(({currentUserOrgId:e})=>e),r=(0,ow.FC)(),n=(0,Nf.W$)(),l=r.orgById[a].bigma_enabled,i=(0,uT.SM)(a),s=e=>{e===mz.J7.BILLING&&n.length&&i(),t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e}))},o=l?Nx():NT(n),c=o.map(t=>el.createElement(Nv,{"data-onboarding-key":m7[t],tab:t,selectedTab:e.selectedTab,key:t,onClick:s,mobileNavTabTitle:u7(t),getDisplayName:u7})),d=u7(e.selectedTab),m=el.createElement(Nw,{key:"DESKTOP_SMALL_TABS_SELECTOR",tab:d,selectedTab:d,mobileNavTabTitle:d,dropdownKey:"DESKTOP_SMALL_TABS_SELECTOR",dropdownOptions:o.map(a=>el.createElement(dB.W.CheckableOption,{checked:a===e.selectedTab,key:`desktop-small-tab-${a}`,onClick:()=>{t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:a}))}},u7(a)))},d);return el.createElement(el.Fragment,null,el.createElement("div",{className:"org_admin_settings_view_toolbar--desktopAndMobile--2db6t"},el.createElement(_c,{navTabs:c})),el.createElement("div",{className:"org_admin_settings_view_toolbar--customDesktopSmall--Ojqyv"},el.createElement(_c,{navTabs:[m]})),el.createElement(Ny,{tab:e.selectedTab,selectedSecondaryTab:e.selectedSecondaryTab}))}let NN=new class{constructor(){this.OrgExtensionAnalyticsValidator=(0,nb.vh)(),this.getExtensionAnalyticsForOrg=async e=>{let{data:t}=await this.OrgExtensionAnalyticsValidator.validate(async({xr:t})=>await t.get(`/api/extension_analytics/v1/org/${e}`)),{meta:a}=t;return function(e){let t={};return e.org_analytics.forEach(e=>{let{plugin_id:a,extension_usage_window:r,workspaces_extensions_used_on:n,n_extension_actions:l,n_extension_users:i}=e,s={usage_windows:{[r]:{n_extension_actions:parseInt(l),n_extension_users:parseInt(i),workspaces_extensions_used_on:n,top_org_users:[]}}};t[a]?t[a]={...t[a],usage_windows:{...t[a].usage_windows,...s.usage_windows}}:t[a]=s}),e.top_org_users.forEach(e=>{let{org_id:a,plugin_id:r,extension_usage_window:n,org_rank:l,n_extension_actions:i,user_id:s,user_name:o,img_url:c}=e,d=t[r];if(!d){let e=Error(`Missing extension analytics data for org ${a} and plugin ${r}`);(0,iA.$D)(o$.e.EXTENSIBILITY,e);return}let m=d.usage_windows[n];if(!m)throw Error("Missing extension_usage_window from org analytics data");let u={user_id:s,user_name:o,img_url:c,org_rank:parseInt(l),n_extension_actions:parseInt(i)};m.top_org_users||(m.top_org_users=[]),m.top_org_users.push(u)}),t}(a)}}};function Nk(e){let{extensionType:t,onGoToSettings:a}=e,r="plugin"===t?el.createElement(e2.Tx,{id:"resources_tab.approved_plugins.plugin_approval_banner.text",settingName:el.createElement(oK.E,{i18nId:"settings_tab.plugin_approval_label",fontWeight:"medium"})}):el.createElement(e2.Tx,{id:"resources_tab.approved_widgets.widget_approval_banner.text",settingName:el.createElement(oK.E,{i18nId:"settings_tab.widget_admin_approval_label",fontWeight:"medium"})}),n=e.settingsText??(0,e2.t)("resources_tab.approved_plugins.plugin_approval_banner.go_to_settings_button");return el.createElement(uF.z,{orientation:"horizontal",variant:"warning",iconSrc:lq.A,action:{label:n,onClick:a},dataTestId:"allowlist-not-enforced-banner"},el.createElement("div",{"data-testid":"banner-text"},r))}var NS=a(920392);let NI="allowlist_plugins_modals--allowListInputDescription--0nVJZ",NA="allowlist_plugins_modals--allowListInput--FWecp",NL="allowlist_plugins_modals--allowListInputButtonContainer--FrtJL",NR="allowlist_plugins_modals--allowListInputButton---NSIM",NO=el.createElement(el.Fragment,null,`AMENDMENT TO FIGMA MASTER SUBSCRIPTION AGREEMENT

This Amendment to the Figma Master Subscription Agreement (this \u201CAmendment\u201D) shall amend the Figma Master Subscription Agreement previously entered into and currently in effect between Figma, Inc. and Customer for use of the Figma Platform (the \u201CAgreement\u201D). Capitalized terms used and not defined herein will have the same meanings and definitions as set forth in the Agreement. In the event of a conflict or inconsistency between the terms of this Amendment and the Agreement, the terms of this Amendment will prevail. All provisions of the Agreement, except those which are explicitly changed below by this Third Amendment, shall remain in full force and effect.

WHEREAS, Figma grants to Customer access to and use of the Figma Platform;

WHEREAS, the parties wish to amend the Agreement in certain respects in accordance with the terms and conditions set forth herein;

NOW THEREFORE, Figma and Customer hereby agree as follows:`,el.createElement("ol",{style:{listStyleType:"decimal",listStylePosition:"outside",paddingLeft:"20px"}},el.createElement("li",null,`Section 1 of the Agreement is hereby amended by inserting the following definition as
        Section 1.H immediately after Section 1.G: \u201CApplications and Materials\u201D means any
        application(s) and/or material(s) that are developed by Customer, including, but not limited
        to, design files, plugins, component libraries, and code components that can be made
        available via, and published to, the Figma Platform for use by other Authorized users or
        other users of the Figma Platform outside of Customer\u2019s organization, in accordance with the
        functionality of the Figma Platform.`),el.createElement("li",null,`Section 2 of the Agreement is hereby amended by inserting the following Section 2.E
        immediately after Section 2.D: Applications and Materials. Customer may submit Applications
        and Materials to the Figma Platform for publication to and to be made available via the
        Figma Platform. Such Applications and Materials can be made available to Authorized Users
        only or publicly to other users of the Figma Platform outside of Customer\u2019s organization,
        depending on the sharing permissions and designations selected by Customer at the time of
        submission of the Applications and Materials. The Figma Platform may also make available
        Applications and Materials that are created by third parties outside of Customer\u2019s
        organization, but can be installed by Authorized Users for use with the Figma Platform
        (\u201CThird-Party Applications and Materials\u201D). Subject to Customer\u2019s payment of all fees and
        compliance with the terms and conditions of this Agreement, Figma grants to Customer a
        limited, worldwide, non-exclusive, non-transferable, non-sublicensable right during the
        Order Term to install and use the Third-Party Applications and Materials and to permit its
        Authorized Users to install and use the Third-Party Applications and Materials, solely in
        connection with the functionality of the Figma Platform.`),el.createElement("li",null,`Section 3.A of the Agreement is deleted in its entirety and replaced with the following: Use
        Restrictions. Except as otherwise explicitly provided in this Agreement or as may be
        expressly permitted by applicable law, Customer will not, and will not permit or authorize
        third parties to: (1) rent, lease, or otherwise permit third parties to use the Figma
        Platform, Third-Party Applications and Materials, or Documentation; (2) use the Figma
        Platform, Third-Party Applications and Materials, or Documentation to provide services to
        third parties (e.g., as a service bureau); (3) circumvent or disable any security or other
        technological features or measures of the Figma Platform; (4) reverse engineer, decompile,
        disassemble or otherwise attempt to discover the source code, object code or underlying
        structure, ideas, know-how or algorithms relevant to the Figma Platform or Third-Party
        Applications and Materials; (5) modify, translate, or create derivative works based on the
        Figma Platform, Third-Party Applications and Materials, or Documentation; or (6) remove any
        proprietary notices or labels from the Figma Platform, Third-Party Applications and
        Materials or Documentation.`),el.createElement("li",null,`The first sentence of Section 3.B of the Agreement is deleted in its entirety and replaced
        with the following: Customer is responsible and liable for all actions and inactions by its
        Authorized Users or by any other person or entity to whom Customer or an Authorized User
        may, directly or indirectly, provide access to or permit to use the Figma Platform,
        Third-Party Applications and Materials or Documentation; in each case, as if such action or
        inaction were an action or inaction of Customer.`),el.createElement("li",null,`Section 4 of the Agreement is hereby amended by inserting the following Section 4.C
        immediately after Section 4.B: Customer hereby grants Figma a worldwide, non-exclusive,
        royalty-free right and license (with the right to sublicense) to use, reproduce, distribute
        copies of, publicly perform, publicly display, use and make the Applications and Materials
        available via the Figma Platform for installation and use by Authorized Users or other users
        of the Figma Platform as permitted by the functionality of the Figma Platform.`),el.createElement("li",null,`Section 5 of the Agreement is hereby amended by inserting the following Section 5.C
        immediately after Section 5.B: Subject to the rights granted to Figma under this Agreement,
        Customer owns all right, title, and interest in and to the Applications and Materials
        (excluding Third-Party Applications and Materials). No ownership rights in the Applications
        and Materials are transferred to Figma when Applications and Materials are published on the
        Figma Platform.`),el.createElement("li",null,`Section 6.A of the Agreement is deleted in its entirety and replaced with the following: In
        addition to Third-Party Applications and Materials, third parties may make available
        third-party products or services, including, for example, mobile applications, integrations,
        and other services (\u201CThird-Party Services\u201D) that Customer may elect to purchase or use. Any
        acquisition by Customer of such Third-Party Services and any exchange of data between
        Customer and any Third-Party Service or Third-Party Service provider is solely between
        Customer and the applicable third-party provider. Figma does not warrant or provide support
        for Third-Party Services (including Third-Party Applications and Materials), whether or not
        they are designated by Figma as \u201Crecommended\u201D \u201Ccertified\u201D or otherwise.`),el.createElement("li",null,`Section 10 of the Agreement is hereby amended by inserting the following sentence to the end
        of Section 10.B. Figma makes no warranties with respect to the Third-Party Applications and
        Materials or Third-Party Services, including whether they will perform their intended
        functions or deliver any expected results. Customer acknowledges that Customer assumes all
        risk arising from use of the Third-Party Applications and Materials and Third-Party
        Services.`),el.createElement("li",null,`Section 10.C of the Agreement is deleted in its entirety and replaced with the following:
        Customer Warranties. Customer represents and warrants to Figma that: (1) Customer is the
        creator and owner of the Customer Data and any Applications and Materials that are submitted
        to the Figma Platform, or has the necessary licenses, rights, consents, and permissions to
        authorize Figma to use the Customer Data and Applications and Materials as necessary to
        exercise the licenses granted by Customer in this Agreement; (2) Customer Data and
        Applications and Materials, and the use of Customer Data and Applications and Materials, as
        contemplated by this Agreement, do not and will not: (a) infringe, violate, or
        misappropriate any third-party right, including any copyright, trademark, patent, trade
        secret, moral right, privacy right, right of publicity, or any other intellectual property
        or proprietary right; or (b) violate any applicable law or regulation; and (3) Customer will
        use the Figma Platform in compliance with the Documentation, any instructions provided by
        Figma, and all applicable laws and regulations.`),el.createElement("li",null,`Section 11.B(2) of the Agreement is hereby amended by inserting the following item (vi)
        immediately after item (v): ; or (vi) use of Third-Party Services, the Applications and
        Materials or Third-Party Applications and Materials that are made available on the Figma
        Platform.`),el.createElement("li",null,`Miscellaneous. This Amendment may be executed in counterparts, each of which shall be deemed
        to be an original and together shall be deemed to be one and the same document. The parties
        agree the electronic signatures appearing on this Agreement shall be treated, for purposes
        of validity, enforceability, as well as admissibility, the same as hand-written signatures.`)),el.createElement("br",null),`Customer and Figma hereby acknowledge and agree that although Section 16 of the Agreement
    requires that all modifications to the Agreement be in a writing signed by both parties, Figma\u2019s
    presentation of this Amendment to Customer via the Figma Platform and Customer\u2019s action of
    clicking \u201CACCEPT & CONTINUE\u201D will satisfy the requirements for amending the Agreement and
    constitute such a writing signed by both parties. By clicking \u201CACCEPT & CONTINUE\u201D, Customer
    agrees to be bound by the Agreement as amended herein by this Amendment and will not assert that
    this Amendment is unenforceable in the future. Figma also agrees to be bound by the Agreement as
    amended and\xa0will not assert that this Amendment is unenforceable in the future.`),ND=(0,rr.Ju)(function({org:e,extensionType:t}){let a=(0,ei.wA)();return el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("allowlist_plugins_modals.msa_amendment_modal.title"),confirmText:(0,e2.t)("allowlist_plugins_modals.msa_amendment_modal.accept_button"),onConfirm:()=>{a(Tr.xF({orgId:e.currentUserOrgId})),"plugin"===t?a(Tr.yo({payload:{plugins_whitelist_enforced:!1},successMessage:(0,e2.t)("allowlist_plugins_modals.msa_amendment_modal.success_notification")})):a(Tr.yo({payload:{widgets_whitelist_enforced:!1},successMessage:(0,e2.t)("allowlist_widgets_modals.msa_amendment_modal.success_notification")})),a(t3.Ce())},onCancel:()=>{a(t3.Ce())},dontClose:!0,disableClickOutsideToHide:!0,tintedModalBackground:!0,size:"medium"},el.createElement(rt.P,{className:"allowlist_plugins_modals--pluginsOptInModalText--EBF5b text--fontPos11--2LvXf text--_fontBase--QdLsd"},NO))},"AllowListPluginsMSAAmendmentModal"),NF=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),[a,r]=el.useState(""),n=()=>{t(t3.Ce()),r("")};return el.createElement(rn.aF,{size:"small",title:(0,e2.t)("allowlist_plugins_modals.add_plugin.title"),onHide:n},el.createElement(cg.s_,{dispatch:t}),el.createElement("div",{className:NI},el.createElement(e2.Tx,{id:"allowlist_plugins_modals.add_plugin.details"})),el.createElement("form",{onSubmit:r=>{r.preventDefault();let l=(0,aS.ZI)(a);if(l){n(),t((0,t3.to)({type:NS.WR,data:{mode:"review",extensionId:l,orgId:e.currentUserOrgId,extensionType:"plugin",isAllowed:!1}}));return}t(a0.F.enqueue({error:!0,message:(0,e2.t)("allowlist_plugins_modals.add_plugin.invalid_url_notification")}))}},el.createElement(eT.ks,{onChange:e=>r(e.currentTarget.value),value:a,className:NA,autoFocus:!0}),el.createElement("div",{className:NL},el.createElement(eT.nR,{onClick:n,className:NR,type:"button"},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(eT.$$,{disabled:!(0,aS.ZI)(a),className:NR,type:"submit"},el.createElement(e2.Tx,{id:"allowlist_plugins_modals.add_plugin.add_button"})))))},"AllowlistPluginsInputModal"),NM=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),[a,r]=el.useState(""),n=()=>{t(t3.Ce()),r("")};return el.createElement(rn.aF,{size:"small",title:(0,e2.t)("allowlist_widgets_modals.add_widget.title"),onHide:n},el.createElement(cg.s_,{dispatch:t}),el.createElement("div",{className:NI},el.createElement(e2.Tx,{id:"allowlist_widgets_modals.add_widget.details"})),el.createElement("form",{onSubmit:r=>{r.preventDefault();let l=(0,aS.yx)(a);if(l){n(),t((0,t3.to)({type:NS.WR,data:{mode:"review",extensionId:l,orgId:e.currentUserOrgId,extensionType:"widget",isAllowed:!1}}));return}t(a0.F.enqueue({error:!0,message:(0,e2.t)("allowlist_widgets_modals.add_widget.invalid_url_notification")}))}},el.createElement(eT.ks,{onChange:e=>r(e.currentTarget.value),value:a,className:NA,autoFocus:!0}),el.createElement("div",{className:NL},el.createElement(eT.nR,{onClick:n,className:NR,type:"button"},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(eT.$$,{disabled:!(0,aS.yx)(a),className:NR,type:"submit"},el.createElement(e2.Tx,{id:"allowlist_widgets_modals.add_widget.add_button"})))))},"AllowListWidgetsInputModal");var NP=((k=NP||{}).ALLOWLIST="allowlist",k.PUBLIC="public",k);class NB{constructor(e){this.extensionType=e}getWhitelistEnforcedPayload(e){return void 0===e?{}:"plugin"===this.extensionType?{plugins_whitelist_enforced:"allowlist"===e}:{widgets_whitelist_enforced:"allowlist"===e}}getSuccessMessage(e){if(e)return"plugin"===this.extensionType?"allowlist"===e?(0,e2.t)("settings_tab.enable_plugin_approval_success"):(0,e2.t)("settings_tab.disable_plugin_approval_success"):"allowlist"===e?(0,e2.t)("settings_tab.widget_admin_approval_enabled"):(0,e2.t)("settings_tab.widget_admin_approval_disabled")}getInitialExtensionAllowed(e){return"plugin"===this.extensionType?!e.publicPluginsAllowed||e.pluginsWhitelistEnforced?"allowlist":"public":!e.publicPluginsAllowed||e.widgetsWhitelistEnforced?"allowlist":"public"}getSettingsText(){let e={title:(0,e2.t)("resources_tab.approved_plugins.modal.plugin_approval"),permissionsText:(0,e2.t)("resources_tab.approved_plugins.modal.org_members_can_use"),allRadioText:(0,e2.t)("resources_tab.approved_plugins.modal.all_plugins"),defaultRadioText:(0,e2.t)("resources_tab.approved_plugins.modal.default"),approvedRadioText:(0,e2.t)("resources_tab.approved_plugins.modal.approved_plugins_only"),requestCheckboxText:(0,e2.t)("resources_tab.approved_plugins.modal.request_plugins")},t={title:(0,e2.t)("resources_tab.approved_widgets.modal.widget_approval"),permissionsText:(0,e2.t)("resources_tab.approved_plugins.modal.org_members_can_use"),allRadioText:(0,e2.t)("resources_tab.approved_widgets.modal.all_widgets"),defaultRadioText:(0,e2.t)("resources_tab.approved_widgets.modal.default"),approvedRadioText:(0,e2.t)("resources_tab.approved_widgets.modal.approved_widgets_only"),requestCheckboxText:(0,e2.t)("resources_tab.approved_widgets.modal.request_widgets")};return"plugin"===this.extensionType?e:t}getExtensionRequestsAllowed(e){return"plugin"===this.extensionType?e.pluginRequestsAllowed:e.widgetRequestsAllowed}getExtensionRequestAllowedPayload(e){return void 0===e?{}:"plugin"===this.extensionType?{plugin_requests_allowed:e}:{widget_requests_allowed:e}}}function NU(e){let{modalCopy:t,extensionsAllowed:a,setExtensionsAllowed:r,extensionRequestsAllowed:n,setExtensionRequestsAllowed:l}=e;return el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.flex.flexColumn.$},el.createElement("div",{className:eE.cx.mx8.my4.$},el.createElement(oK.E,{fontSize:11,fontWeight:"medium"},t.permissionsText)),el.createElement(mu.z,{value:a,onChange:r,className:eE.cx.flex.flexColumn.py8.pl10.gap4.$},el.createElement(mu.Z,{value:"public",dataTestId:"all-radio-option"},el.createElement(oK.E,{fontSize:11},t.allRadioText),el.createElement(oK.E,{fontSize:11,color:"secondary"},t.defaultRadioText)),el.createElement(mu.Z,{value:"allowlist",dataTestId:"allowlist-radio-option"},el.createElement(oK.E,{fontSize:11},t.approvedRadioText)))),"allowlist"===a&&el.createElement("div",{className:eE.cx.flex.flexColumn.pt8.mt8.bt1.colorBorder.bSolid.$},el.createElement("div",{className:eE.cx.p8.$},el.createElement(cl.S,{checked:n,label:t.requestCheckboxText,onChange:e=>{l(e.currentTarget.checked)}}))))}function NW({goBack:e,text:t}){return el.createElement("div",{className:eE.cx.wFull.flex.itemsCenter.gap4.$},el.createElement(mE.$,{icon:"chevron-left-32",onClick:e,variant:"text"}),el.createElement(oK.E,{truncate:!0,color:"default"},t))}let NV=(0,rr.Ju)(function({orgId:e,extensionType:t,hasBackButton:a}){var r;let n=(0,aX.Rs)(a9.lgH,{orgId:e}),l=null==(r=n.data)?void 0:r.org,i=new NB(t),s=i.getSettingsText(),o=(0,ei.wA)(),c=()=>{a&&o(t3.Lo()),o(t3.Lo())},[d,m]=el.useState(),[u,_]=el.useState();if("loading"===n.status||"errors"===n.status||!l)return null;let p=i.getInitialExtensionAllowed(l),g=i.getExtensionRequestsAllowed(l);return el.createElement(lD.XV,{title:a?el.createElement(NW,{text:s.title,goBack:()=>o(t3.Lo())}):s.title,onClose:c,maxWidth:a?void 0:320,minWidth:a?void 0:320,fixedTop:!!a},el.createElement("div",{className:eE.cx.flex.flexColumn.px8.py16.$},el.createElement(NU,{modalCopy:s,extensionsAllowed:d??p,setExtensionsAllowed:m,extensionRequestsAllowed:u??g,setExtensionRequestsAllowed:_}),el.createElement("div",{className:eE.cx.flex.flexRow.gap8.justifyEnd.mr8.mt8.$},el.createElement(mE.$,{onClick:c},(0,e2.t)("general.cancel")),el.createElement(mE.$,{onClick:()=>{if(l.publicPluginsAllowed){let e={...i.getWhitelistEnforcedPayload(d),...i.getExtensionRequestAllowedPayload(u)};o(Tr.yo({payload:e,successMessage:i.getSuccessMessage(d??p)})),c()}else o((0,t3.to)({type:ND,data:{org:{currentUserOrgId:e},extensionType:t}}))},variant:"primary",dataTestId:"save-button"},(0,e2.t)("general.save")))))},"AllowlistSettingsModal");var NG=a(563042),N$=a(210954);function Nj(e){let{onAddExtension:t,extensionType:a}=e,r="plugin"===a?el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.no_plugins.text"}):el.createElement(oK.E,{i18nId:"resources_tab.approved_widgets.no_widgets.text"}),n="plugin"===a?el.createElement(e2.Tx,{id:"resources_tab.approved_plugins.no_plugins.add_plugins_button"}):el.createElement(e2.Tx,{id:"resources_tab.approved_widgets.no_widgets.add_widgets_button"});return el.createElement(nX.Y,{spacing:4,dataTestId:"allowlist-no-extensions-banner"},r,el.createElement(N$.N,{onClick:t,trusted:!0},n))}let NH="extension_allowlist_table--afterDivider--XU9gY";var Nq=((S=Nq||{}).NAME="name",S.APPROVED="approved",S);function NY({allowlistedExtensions:e,extensionToUsageData:t,orgId:a,extensionType:r,onAddExtension:n,selectedExtensionId:l}){let[i,s]=el.useState({column:"name",isReversed:!1}),o=el.useMemo(()=>({name:e=>e.name??"",approved:e=>e.approvedAt.getTime()}),[]),c=(0,ei.wA)(),d=function(e,t){let a=new Map;for(let r of e){let e=r.plugin;if(!e||"plugin"===t&&e.isWidget||"widget"===t&&!e.isWidget)continue;let n=e.currentPluginVersion;if(!n)continue;let{id:l}=e,{iconUrl:i,name:s,description:o,tagline:c}=n,{createdAt:d}=r,m=function(e){let{allowlistGroupType:t}=e;switch(t){case"Org":{let{allowlistedOrg:a}=e;if(!a)return null;return{type:t,id:a.id,name:a.name}}case"Workspace":{let{allowlistedWorkspace:a}=e;if(!a)return null;return{type:t,id:a.id,name:a.name}}default:return null}}(r);if(!m)continue;let u=a.get(l);if(u){u.allowlistGroups.push(m),u.approvedAt=d<u.approvedAt?d:u.approvedAt;continue}let _={extensionId:l,iconUrl:i,name:s,description:o,tagline:c,approvedAt:d,allowlistGroups:[m]};a.set(l,_)}return a}(e.filter(e=>e.plugin&&e.plugin.publishingStatus===lm.KB.APPROVED_PUBLIC),r),m=d.size>0,u=Array.from(d.values());return(0,as.Tz)(u,o[i.column],i.isReversed,i.secondaryColumn&&(null==o?void 0:o[i.secondaryColumn]),i.isSecondaryReversed),el.useEffect(()=>{if(l){let e=null==t?void 0:t[l];c((0,t3.to)({type:NS.WR,data:{mode:"manage",extensionId:l,orgId:a,usageData:e,extensionType:r,initialTab:"overview",isAllowed:!0}}))}},[c,t,r,a,l]),el.createElement("div",{className:eE.cx.flex.flexColumn.$,"data-testid":"extension-allowlist-table"},el.createElement("div",{className:eE.cx.pl32.$},el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.table.approved_header",fontSize:13,fontWeight:"medium"})),el.createElement(Nz,{extensionType:r,updateSortState:e=>{i.column===e?s(e=>({...e,isReversed:!e.isReversed})):s(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortState:i}),m?u.map((e,n)=>{let l=n=>{let l=null==t?void 0:t[e.extensionId];c((0,t3.to)({type:NS.WR,data:{mode:"manage",extensionId:e.extensionId,orgId:a,usageData:l,extensionType:r,initialTab:n,isAllowed:!0}}))};return el.createElement(va.Hj,{key:e.extensionId,className:ey()(eE.cx.flex.itemsCenter.gap16.relative.$,NH),style:cs.sx.add({border:"none"}).px32.py12.$,useAdminTableStyles:!0,onClick:e=>{e.stopPropagation(),l("overview")},dataTestId:`extension-allowlist-table-row-${n}`},el.createElement(NK,{name:e.name,iconUrl:e.iconUrl}),el.createElement(NJ,{description:e.description,tagline:e.tagline}),el.createElement(NQ,{entry:e}),el.createElement(NZ,{entry:e,openAllowlistModal:l}),el.createElement(NX,null))}):el.createElement("div",{className:eE.cx.mt32.mlAuto.mrAuto.$},el.createElement(Nj,{extensionType:r,onAddExtension:n})))}function Nz({extensionType:e,updateSortState:t,sortState:a}){return el.createElement(va.Hj,{header:!0,useAdminTableStyles:!0,className:ey()(eE.cx.fontSemiBold.relative.flex.gap16.itemsBaseline.$,NH),style:cs.sx.add({border:"none"}).px32.py16.$},el.createElement(va.A3,{style:cs.sx.add({width:"20%"}).$},el.createElement(va.tD,{hasArrow:"name"===a.column,field:"name",sortBy:()=>t("name"),isDescending:!a.isReversed},el.createElement(oK.E,{color:"default",i18nId:"plugin"===e?"resources_tab.approved_plugins.table.plugin_name_column":"resources_tab.approved_plugins.table.widget_name_column"}))),el.createElement(va.A3,{style:cs.sx.add({width:"40%"}).$},el.createElement(oK.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.description_column"})),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).justifyStart.$},el.createElement(va.tD,{hasArrow:"approved"===a.column,field:"approved",sortBy:()=>t("approved"),isDescending:!a.isReversed},el.createElement(oK.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.approved_column"}))),el.createElement(va.A3,{style:cs.sx.add({width:"20%"}).justifyStart.$},el.createElement(oK.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.approved_for_column"})),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).justifyStart.$},el.createElement("span",null)," "))}function NK({name:e,iconUrl:t,numWorkspaces:a}){return el.createElement("div",{className:eE.cx.flex.itemsCenter.gap12.overflowHidden.$,style:cs.sx.add({width:"20%"}).$},el.createElement("img",{src:t??"",alt:"approved for workspace",className:eE.cx.w24.h24.bRadius6.$}),el.createElement(oK.E,{truncate:!0},e),!!a&&a>0&&el.createElement(eC.B,{width:"16px",height:"16px",svg:ds.A,className:"extension_allowlist_table--greenCheck--UQRQb","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("resources_tab.approved_plugins.table.already_approved",{numWorkspaces:a})}))}function NJ({description:e,tagline:t}){return el.createElement("div",{className:eE.cx.flex.itemsCenter.overflowHidden.$,style:cs.sx.add({width:"40%"}).$},el.createElement(oK.E,{truncate:!0,showTooltipWhenTruncated:!1},(0,NG.$J)(t||e||"")))}function NQ({entry:e}){return el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:cs.sx.add({width:"10%"}).$},el.createElement(lI.h1,{date:e.approvedAt}))}function NZ({entry:e,openAllowlistModal:t}){let a=el.useMemo(()=>{if(e.allowlistGroups.some(e=>"Org"===e.type))return el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.table.entire_org"});let a=e.allowlistGroups[0];if(!a)return null;if(e.allowlistGroups.length>1){let a=e.allowlistGroups.map(e=>e.name).join("\n");return el.createElement("button",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":a,"data-tooltip-text-left":!0,type:"button",className:eE.cx.bgTransparent.cursorPointer.$,onClick:e=>{e.stopPropagation(),t("edit")}},el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.table.n_workspaces_approved_for",i18nParams:{numberOfWorkspaces:e.allowlistGroups.length},color:"brand"}))}return a.name},[e.allowlistGroups,t]);return el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:cs.sx.add({width:"20%"}).$},a)}function NX(){return el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyEnd.overflowHidden.$,style:cs.sx.add({width:"10%"}).$},el.createElement(n0.In,{icon:"chevron-right-32"}))}var N0=a(261609);let N1=(0,rr.Ju)(function({extension:e,isWidget:t,declineModalParams:a}){let{name:r,iconUrl:n}=e,[l,i]=el.useState(void 0),s=(0,ei.wA)(),o=t?(0,e2.t)("extension_decline_modal.decline_widget_request"):(0,e2.t)("extension_decline_modal.decline_plugin_request"),c=()=>s(t3.Lo()),d=e=>{let t={orgId:e.orgId,extensionId:e.extensionId,extensionType:e.extensionType,declineNote:l};0===e.approvedWorkspaceIds.length?N0.J.rejectRequestForOrg(t):N0.J.updateRequestForWorkspaces({...e,declineNote:l}),s(t3.Lo()),c()},m=t?(0,e2.t)("extension_decline_modal.leave_widget_note"):(0,e2.t)("extension_decline_modal.leave_plugin_note");return el.createElement(lD.XV,{title:o,maxWidth:360,onClose:c,disableClickOutsideToHide:!0},el.createElement("div",{className:eE.cx.p16.$,"data-testid":"decline-extension-request-modal"},el.createElement("div",{className:eE.cx.mb16.flex.itemsCenter.$},el.createElement("img",{src:n??"",alt:"plugin icon",className:eE.cx.w24.h24.bRadius6.mr8.$}),el.createElement(oK.E,{fontWeight:"medium",truncate:!0},r)),el.createElement("div",{className:eE.cx.mb16.$},el.createElement(oK.E,null,m)),el.createElement("div",{className:eE.cx.mb16.$},el.createElement("textarea",{className:eE.cx.wFull.borderBox.b1.h64.bRadius2.p8.resizeNone.colorBorder.$,value:l,onChange:e=>{i(e.target.value)}})),el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},el.createElement(mE.$,{variant:"secondary",onClick:c},(0,e2.t)("general.cancel")),el.createElement(mE.$,{variant:"primary",onClick:()=>d(a)},(0,e2.t)("resources_tab.approved_plugins.modal.decline")))))},"ExtensionDeclineModal"),N2=e=>{let t=new Map;for(let a of e){let{createdAt:e,orgUser:r,plugin:n}=a;if(!n||!r)continue;let{currentPluginVersion:l}=n;if(!l)continue;let i=n.id,{name:s,iconUrl:o,description:c,tagline:d}=l,{user:m}=r;if(!m.name||!m.email)continue;let u={userId:m.id,name:m.name,email:m.email,imgUrl:m.imgUrl},_={extensionId:n.id,name:s,iconUrl:o,description:c,tagline:d,lastRequestedDates:[e],requesters:[u],isAllowed:a.workspaceAllowlistedPlugins.length>0,numAllowedWorkspaces:a.workspaceAllowlistedPlugins.length},p=t.get(i);p?(p.lastRequestedDates.push(e),p.requesters.push(u)):t.set(i,_)}for(let e of t.values())e.lastRequestedDates.sort((e,t)=>t.getTime()-e.getTime());return t},N4=(e,t)=>e.filter(e=>{let{plugin:a}=e;return!!a&&("plugin"===t?!a.isWidget:a.isWidget)});var N3=((I=N3||{}).NAME="name",I.LAST_REQUESTED="last_requested",I);function N8({extensionType:e,updateSortState:t,sortState:a}){return el.createElement(va.Hj,{header:!0,useAdminTableStyles:!0,className:ey()(eE.cx.fontSemiBold.relative.flex.gap16.itemsBaseline.$,NH),style:cs.sx.add({border:"none"}).px32.py16.$},el.createElement(va.A3,{style:cs.sx.add({width:"20%"}).$},el.createElement(va.tD,{hasArrow:"name"===a.column,field:"name",sortBy:()=>t("name"),isDescending:!a.isReversed},el.createElement(oK.E,{color:"default",i18nId:"plugin"===e?"resources_tab.approved_plugins.table.plugin_name_column":"resources_tab.approved_plugins.table.widget_name_column"}))),el.createElement(va.A3,{style:cs.sx.add({width:"40%"}).$},el.createElement(oK.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.description_column"})),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).justifyStart.$},el.createElement(va.tD,{hasArrow:"last_requested"===a.column,field:"last_requested",sortBy:()=>t("last_requested"),isDescending:!a.isReversed},el.createElement(oK.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.last_requested_column"}))),el.createElement(va.A3,{style:cs.sx.add({width:"20%"}).justifyStart.$},el.createElement(oK.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.requested_by_column"})),el.createElement(va.A3,{style:cs.sx.add({width:"10%"}).justifyStart.$},el.createElement("span",null)," "))}function N5({lastRequestedDate:e}){return el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:cs.sx.add({width:"10%"}).$},el.createElement(lI.h1,{date:e}))}function N6({requesters:e,onClick:t}){let a;if(1===e.length){let t=e[0];a=el.createElement(el.Fragment,null,el.createElement(oq.H8,{size:oq.Pf.MEDIUM,user:t}),el.createElement("div",{className:eE.cx.flex.flexColumn.ml8.$},el.createElement(oK.E,{color:"default",fontSize:11,fontWeight:"medium"},t.name),el.createElement(oK.E,{color:"secondary",fontSize:11},t.email)))}else{let r=e.map(e=>e.name).join("\n");a=el.createElement("button",{onClick:t,style:cs.sx.add({backgroundColor:"inherit"}).$,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":r,"data-tooltip-text-left":!0},el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.table.members",i18nParams:{numberOfMembers:e.length},fontSize:11,color:"brand"}))}return el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:cs.sx.add({width:"20%"}).$},el.createElement("div",{className:eE.cx.flex.itemsCenter.$},a))}function N9(){return el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyEnd.overflowHidden.$,style:cs.sx.add({width:"10%"}).$},el.createElement(eT.$$,null,el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.table.review_button"})))}function N7(e){let t=(0,ei.wA)(),{entry:a,orgId:r,extensionType:n,isAllowed:l,usageData:i,dataTestId:s}=e,{extensionId:o}=a,c=()=>{t((0,t3.to)({type:NS.WR,data:{mode:"review",extensionId:o,orgId:r,usageData:i,extensionType:n,isAllowed:l,openDeclineModal:d}}))},d=e=>{let l={extension:{pluginId:a.extensionId,iconUrl:a.iconUrl,name:a.name},isWidget:"widget"===n,orgId:r,workspaceDetails:void 0,declineModalParams:e};t((0,t3.to)({type:N1,data:l}))};return el.createElement(va.Hj,{className:ey()(eE.cx.flex.itemsCenter.gap16.relative.$,NH),style:cs.sx.add({border:"none"}).px32.py12.$,useAdminTableStyles:!0,onClick:c,dataTestId:s},el.createElement(NK,{name:a.name,iconUrl:a.iconUrl,numWorkspaces:e.numAllowedWorkspaces}),el.createElement(NJ,{description:a.description,tagline:a.tagline}),el.createElement(N5,{lastRequestedDate:a.lastRequestedDates[0]}),el.createElement(N6,{requesters:a.requesters,onClick:c}),el.createElement(N9,null))}function ke(e){let{orgId:t,extensionToUsageData:a,extensionType:r}=e,[n,l]=el.useState({column:"last_requested",isReversed:!0}),i=el.useMemo(()=>({name:e=>e[1].name??"",last_requested:e=>e[1].lastRequestedDates[0].getTime()}),[]),s=(0,aX.Rs)(a9.QZ8,{orgId:t});if("loading"===s.status||"disabled"===s.status)return null;if("errors"===s.status)return(0,iA.$D)(o$.e.EXTENSIBILITY,Error("Failed to load plugin requests")),null;let o=(0,aX.oA)(s.data.org);if(!o)return null;let{pendingPluginRequests:c}=o;if(!c||0===c.length)return null;let d=N2(N4(c,r));if(0===d.size)return null;let m=Array.from(d.entries());return(0,as.Tz)(m,i[n.column],n.isReversed,n.secondaryColumn&&(null==i?void 0:i[n.secondaryColumn]),n.isSecondaryReversed),el.createElement("div",{className:eE.cx.pb32.$},el.createElement("div",{className:eE.cx.pl32.$},el.createElement(oK.E,{i18nId:"resources_tab.approved_plugins.table.requested_header",fontSize:13,fontWeight:"medium"})),el.createElement(N8,{extensionType:r,updateSortState:e=>{n.column===e?l(e=>({...e,isReversed:!e.isReversed})):l(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortState:n}),el.createElement("div",{className:eE.cx.flex.flexColumn.$,"data-testid":"extension-request-table"},m.map(([e,n],l)=>el.createElement(N7,{extensionType:r,orgId:t,entry:n,key:e,isAllowed:n.isAllowed,numAllowedWorkspaces:n.numAllowedWorkspaces,usageData:null==a?void 0:a[e],dataTestId:`extension-request-table-row-${l}`}))))}function kt({orgId:e,extensionType:t,selectedExtensionId:a}){var r;let n=(0,ei.wA)(),l=(0,sK.sZ)(),i=(null==l?void 0:l.bigma_enabled)??!1,s=(0,aX.Rs)(a9.M9I,{orgId:e}),[o]=(0,gp.IT)(kn(e),{enabled:i}),c=null==(r=s.data)?void 0:r.org,d=()=>{"plugin"===t?n((0,t3.to)({type:NF,data:{currentUserOrgId:e}})):n((0,t3.to)({type:NM,data:{currentUserOrgId:e}}))},m=()=>{n((0,t3.to)({type:NV,data:{orgId:e,extensionType:t}}))};if("loading"===s.status||"errors"===s.status||!c)return null;let u=kr(t,c);return el.createElement(el.Fragment,null,el.createElement(bK.K,{hasHorizontalPadding:!0,title:u7(mz.J7.RESOURCES,ka[t]),rightActions:el.createElement("div",{className:eE.cx.flex.flexRow.gap8.$},el.createElement(mE.$,{icon:"plus-32",disabled:!u,onClick:d},"plugin"===t&&el.createElement(e2.Tx,{id:"resources_tab.approved_plugins.actions.plugin"}),"widget"===t&&el.createElement(e2.Tx,{id:"resources_tab.approved_widgets.actions.widget"})),el.createElement(mE.$,{icon:"adjust-32",onClick:m},el.createElement(e2.Tx,{id:"resources_tab.approved_plugins.actions.settings"})))}),el.createElement(rt.P,{className:eE.cx.wFull.hFull.$},!u&&el.createElement("div",{className:eE.cx.ml32.mr32.mb24.$},el.createElement(Nk,{extensionType:t,onGoToSettings:m,settingsText:(0,e2.t)("resources_tab.approved_plugins.plugin_approval_banner.open_settings")})),el.createElement("div",{className:eE.cx.if(!u,eE.cx.opacity0_3.eventsNone).$},el.createElement(ke,{orgId:e,extensionToUsageData:o.data,extensionType:t}),el.createElement(NY,{allowlistedExtensions:c.allowlistedPlugins,extensionToUsageData:o.data,orgId:e,extensionType:t,onAddExtension:d,selectedExtensionId:a}))))}let ka={plugin:mz._d.APPROVED_PLUGINS,widget:mz._d.APPROVED_WIDGETS},kr=(e,t)=>"plugin"===e?!!(t.publicPluginsAllowed&&t.pluginsWhitelistEnforced):!!(t.publicPluginsAllowed&&t.widgetsWhitelistEnforced),kn=gp.M4.Query({fetch:async e=>await NN.getExtensionAnalyticsForOrg(e)});function kl(e,t,a=!0){let r=new URLSearchParams(ec.Ay.location.search);if("true"===r.get(e)){if(a){r.delete(e);let t=r.toString().length>0?`?${r.toString()}`:"";ec.Ay.replace(`${ec.Ay.location.pathname}${t}`)}t()}}var ki=a(646375),ks=a(951439),ko=a(552985),kc=a(117480),kd=a(209590);let km=el.memo(function(e){let t=(0,ei.wA)(),{canSeeBillingAddressExp:a,shippingAddress:r,legalCompanyName:n,teamId:l,orgId:i}=e,{isLoading:s,withLoading:o}=(0,ko.R)(),[c,d]=el.useState(r||(0,s1.EB)()),[m,u]=el.useState(n||""),_=(0,uT.SM)(i||""),p=()=>{t(t3.Ce())},g=async e=>{e.preventDefault(),await o(async()=>{try{if(l){if(!c||(0,s1.$V)(c)||!m||""===m.trim())throw Error((0,e2.t)("team_view.settings_table.update_invoice_details.error.legal_name_and_shipping_address_required"));await dY.$.updateShippingAddress({teamId:l,shippingAddress:c,updatedLegalName:m}),t(ae.s.flash(a?(0,e2.t)("update_company_details_modal.update_legal_name_and_shipping_address.success"):(0,e2.t)("update_company_details_modal.update_team_name.success"))),p(),t(ks.Q({teamId:l,shouldForceFetch:!0}))}else if(i){if(!c||(0,s1.$V)(c))throw Error((0,e2.t)("org_admin_settings.settings_tab.billing.update_invoice_details.shipping_address_required_error"));await o3.Eh.changeShippingAddress({orgId:i,shippingAddress:c}),t(ae.s.flash((0,e2.t)("org_admin_settings.settings_tab.billing.update_invoice_details.success"))),p(),_()}}catch(e){l?t(ae.s.error((0,e2.Jv)(e)||e.message||(a?(0,e2.t)("update_company_details_modal.update_legal_name_and_shipping_address.error"):(0,e2.t)("update_company_details_modal.update_team_name.error")))):i&&t(ae.s.error((0,e2.Jv)(e)||e.message||(0,e2.t)("update_company_details_modal.updateshipping_address.error")))}})};return el.createElement(lD.XV,{onClose:p,title:(0,e2.t)("team_view.settings_table.update_invoice_details.modal_title"),minWidth:448,maxWidth:448,fixedTop:!0},el.createElement("form",{onSubmit:g,className:eE.cx.p16.$},el.createElement("div",{className:eE.cx.mt4.$},el.createElement("label",{htmlFor:"shippingAddress",className:eE.cx.colorTextSecondary.$},el.createElement(e2.Tx,{id:"team_view.settings_table.update_invoice_details.modal_description"})),el.createElement(kc.E,{canSeeBillingAddressExp:a,shippingAddress:c,updateShippingAddress:d,legalCompanyName:m,updateLegalCompanyName:l?u:null})),el.createElement("div",{className:ey()(kd.v0,kd.hF)},el.createElement(eT.tM,{onClick:p,disabled:s},el.createElement(e2.Tx,{id:"pro_cart.review.edit_details.cancel"})),el.createElement(eT.vd,{className:kd.pL,disabled:s,type:"submit"},el.createElement(e2.Tx,{id:"pro_cart.review.edit_details.save"})))))}),ku=(0,rr.Ju)(km,"UpdateShippingAddressModal");var k_=((A=k_||{}).DAILY="daily",A.WEEKLY="weekly",A.MONTHLY="monthly",A),kp=((L=kp||{}).ALL_ADMINS="all_admins",L.SPECIFIC_ADMINS="specific_admins",L),kg=((R=kg||{}).TEAM="team",R.ORGANIZATION="organization",R),kE=((O=kE||{}).NEW_EDITOR_NOTIFICATION="new_editor_notification",O),kf=((D=kf||{}).VIEWER="viewer",D.VIEWER_RESTRICTED="viewer_restricted",D.FULL="full",D);let kh=new class{constructor(){this.NotificationSettingsSchemaValidator=(0,nb.vh)(),this.PlanPropertiesSchemaValidator=(0,nb.vh)()}getNotificationSettings(e){return this.NotificationSettingsSchemaValidator.validate(async({xr:t})=>await t.get("/api/billing/notification_settings",nb.td.toAPIParameters({plan_id:e.planId,plan_type:e.planType,notification_type:e.notificationType}))??null)}getPlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/billing/${e.planType}/${e.planId}/plan_properties`,nb.td.toAPIParameters({desired_properties:["default_paid_status_design","default_paid_status_whiteboard"].toString()}))??null)}updatePlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>await t.put(`/api/billing/${e.planType}/${e.planId}/plan_properties`,e.properties)??null)}};var kv=a(686759);let kb="configure_saml--container--Se3OF",ky="configure_saml--section--EbepM",kw="configure_saml--h2--8LWL8",kT="configure_saml--idpMetadataUrlInput--iBzLx",kx="configure_saml--idpMetadata--3erxd";function kC(){return[{value:"okta",text:(0,e2.t)("org_settings.sso.okta"),placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:(0,e2.t)("org_settings.sso.microsoft_azure_active_directory"),placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:(0,e2.t)("org_settings.sso.one_login"),placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:(0,e2.t)("org_settings.sso.other"),placeholder:""}]}class kN extends el.PureComponent{constructor(e){super(e),this.onIdpNameChange=e=>{this.setState({idp_name:e})},this.onIdpMetadataUrlChange=e=>{this.setState({idp_metadata_url:e.currentTarget.value})},this.onIdpSSOEntityIDChange=e=>{this.setState({idp_entity_id:e.currentTarget.value})},this.onIdpSSOTargetURLChange=e=>{this.setState({idp_sso_target_url:e.currentTarget.value})},this.onCertificateChange=e=>{let t=e.target.files?e.target.files[0]:null;this.setState({certificate:t})},this.onCancel=()=>{this.props.dispatch(t3.Ce())},this.onConfirm=()=>{this.props.dispatch(t3.to({type:kS,data:{certificate:this.state.certificate,idp_entity_id:this.state.idp_entity_id,idp_name:this.state.idp_name,idp_metadata_url:this.state.idp_metadata_url,idp_sso_target_url:this.state.idp_sso_target_url}}))},this.onKeyDown=e=>{e.keyCode===_k.Uz.ENTER&&(e.preventDefault(),this.onConfirm())},this.state={certificate:null,idp_entity_id:"",idp_metadata_url:e.idp_metadata_url||"",idp_name:e.idp_name||null,idp_sso_target_url:""}}render(){let e;e="other"===this.state.idp_name?!this.state.idp_sso_target_url||!this.state.certificate||!this.state.idp_entity_id:!this.state.idp_metadata_url;let t=(kC().find(e=>e.value===this.state.idp_name)||kC()[0]).placeholder;return el.createElement(lD.XV,{title:(0,e2.t)("org_settings.sso.configure_saml_sso"),maxWidth:459,onClose:this.onCancel,fixedTop:!0},el.createElement("div",{className:kb},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_settings.sso.saml_single_sign_on",helpArticle:el.createElement("a",{className:"configure_saml--blueLink--etCgc blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/360040532333",target:"_blank",rel:"noopener"},el.createElement(e2.Tx,{id:"org_settings.sso.help_article"}))})),el.createElement("div",null,el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.identity_provider_id_p"})),el.createElement(mu.z,{className:"configure_saml--radioGroup--BSmP7",value:this.state.idp_name,onChange:this.onIdpNameChange},kC().map(e=>el.createElement(mu.Z,{key:e.value,value:e.value},e.text)))),el.createElement("div",{className:ky},"other"===this.state.idp_name&&el.createElement(el.Fragment,null,el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.idp_entity_id"})),el.createElement(eT.ks,{type:"url",className:kT,placeholder:"https://idp.com/saml/metadata/abc123",onChange:this.onIdpSSOEntityIDChange,value:this.state.idp_entity_id,onKeyDown:this.onKeyDown}),el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.idp_sso_target_url"})),el.createElement(eT.ks,{type:"url",className:kT,placeholder:"https://sso.idp.com/abc123/saml2",onChange:this.onIdpSSOTargetURLChange,value:this.state.idp_sso_target_url,onKeyDown:this.onKeyDown}),el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.signing_certificate"})),el.createElement("input",{type:"file",onChange:this.onCertificateChange})),this.state.idp_name&&"other"!==this.state.idp_name&&el.createElement(el.Fragment,null,el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.id_p_metadata_url"})),el.createElement(eT.ks,{type:"url",className:kT,placeholder:`Eg: ${t}`,onChange:this.onIdpMetadataUrlChange,value:this.state.idp_metadata_url,onKeyDown:this.onKeyDown}))),this.props.error&&el.createElement("div",{className:ky},el.createElement("div",{className:"configure_saml--error--rcm0V"},this.props.error)),el.createElement("div",{className:"configure_saml--buttonBox--d-Qhf"},el.createElement(eT.nR,{onClick:()=>this.props.dispatch(t3.Lo())},el.createElement(e2.Tx,{id:"modal.cancel"})),el.createElement(eT.$$,{disabled:e,onClick:this.onConfirm},el.createElement(e2.Tx,{id:"org_settings.sso.review"})))))}}kN.displayName="ConfigureSAMLModal";let kk=(0,rr.Ju)(kN,"EDIT_SAML_CONFIG_MODAL"),kS="CONFIGURE_SAML_CONFIRMATION_MODAL";function kI(e){let[t,a]=el.useState(!1),r=()=>{e.dispatch(t3.Ce())},n=t=>{td.Ay.post("/api/org_saml_config",{certificate:t,idp_entity_id:e.idp_entity_id,idp_name:e.idp_name,metadata_url:e.idp_metadata_url,org_id:e.currentUserOrgId,sso_target_url:e.idp_sso_target_url}).then(t=>{a(!1),e.dispatch(yH.h({orgSamlConfig:t.data.meta})),r()}).catch(t=>{var r;a(!1),e.dispatch((0,t3.to)({type:kk,data:{dispatch:e.dispatch,idp_name:e.idp_name,idp_metadata_url:e.idp_metadata_url,error:(null==(r=t.data)?void 0:r.message)||(0,e2.t)("org_settings.sso.an_error_occurred_while_configuring_saml_sso")}}))})},l=kC().reduce((e,t)=>(e[t.value]=t.text,e),{});return el.createElement(lD.XV,{title:(0,e2.t)("org_settings.sso.configure_saml_sso"),maxWidth:459,onClose:r,disableClickOutsideToHide:t,isCloseHidden:t},el.createElement("div",{className:kb},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_settings.sso.please_review_the_information_you_entered"})),el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.identity_provider_id_p"})),el.createElement("div",{className:kx},l[e.idp_name]),el.createElement("div",{className:"configure_saml--lastSection--2hcks"},"other"===e.idp_name&&el.createElement(el.Fragment,null,el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.idp_entity_id"})),el.createElement("div",{className:kx},e.idp_entity_id),el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.idp_sso_url"})),el.createElement("div",{className:kx},e.idp_sso_target_url),el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.signing_certificate"})),el.createElement("div",{className:kx},e.certificate.name)),"other"!==e.idp_name&&el.createElement(el.Fragment,null,el.createElement("div",{className:kw},el.createElement(e2.Tx,{id:"org_settings.sso.id_p_metadata_url"})),el.createElement("div",{className:kx},e.idp_metadata_url)))),t&&el.createElement("div",{className:"configure_saml--spinnerContainer--1ZwP3"},el.createElement(t7.kt,null)),!t&&el.createElement(f1.d,{onConfirm:()=>{if(a(!0),"other"===e.idp_name){let t=new FileReader;t.addEventListener("load",()=>{n(t.result)}),t.readAsText(e.certificate)}else n(null)},onCancel:()=>{e.dispatch(t3.Lo()),e.dispatch(t3.Lo()),e.dispatch((0,t3.to)({type:kk,data:{dispatch:e.dispatch,idp_name:e.idp_name,idp_metadata_url:e.idp_metadata_url}}))},confirmButtonText:(0,e2.t)("org_settings.sso.configure_saml_sso"),cancelButtonText:(0,e2.t)("org_settings.sso.edit")},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_settings.sso.this_information_is_correct"}))))}(0,rr.qK)(kS,e=>el.createElement(kI,{dispatch:e.dispatch,currentUserOrgId:e.currentUserOrgId,...e.modalShown.data}));let kA="configure_sso--sectionInstruction--BJqP9",kL="configure_sso--important--qIpJg modal--important--qfd6R",kR="configure_sso--blueLink--yQaB8 blue_link--blueLink--9rlnd",kO="configure_sso--table--Cp6vD",kD="configure_sso--modalContent--glIRT",kF="configure_sso--modalDone--YLR5E";function kM(e){let t=(0,ei.wA)(),a=el.useCallback(()=>{t((0,t3.to)({type:kk,data:{dispatch:t}}))},[t]),r=el.useCallback((e,a)=>{(0,kv.Dk)(e).then(()=>{t(a0.F.enqueue({type:a,message:(0,e2.t)("org_settings.sso.copied")}))})},[t]),n=el.useCallback(()=>{let t=e.orgDomains.map(e=>e.domain);return el.createElement("p",{className:kA},el.createElement(e2.Tx,{id:"org_settings.sso.domain_requirement",domains:el.createElement(ux.T,{formatType:"disjunction"},t.map(e=>el.createElement("span",{key:e,className:kL},e))),contactSupport:el.createElement("a",{className:kR,href:`mailto:${(0,em.W4)()}`},el.createElement(e2.Tx,{id:"org_settings.sso.contact_support"}))}))},[e.orgDomains]),l=el.useCallback(()=>{let t=e.orgSamlConfig,a=document.queryCommandSupported("copy")&&t&&el.createElement("a",{className:"configure_sso--copyTenantId--DbECD configure_sso--blueLink--yQaB8 blue_link--blueLink--9rlnd",onClick:()=>r(t.id,"saml_tenant_id_copied_to_clipboard")},el.createElement(e2.Tx,{id:"org_settings.sso.copy"})),n=[{rowName:(0,e2.t)("org_settings.sso.tenant_id"),value:t.id,action:a},{rowName:(0,e2.t)("org_settings.sso.sp_entity_id"),value:t.sp_entity_id},{rowName:(0,e2.t)("org_settings.sso.sp_acs_url"),value:t.sp_acs_target_url}];return el.createElement("table",{className:kO},el.createElement("tbody",null,n.map(e=>el.createElement("tr",{key:`row-${e.rowName}`},el.createElement("th",null,e.rowName),el.createElement("td",null,e.value||"Not configured",e.action)))))},[r,e.orgSamlConfig]),i=!!e.orgSamlConfig.idp_name,s=el.useCallback(()=>{let t=(0,u5._g)(e.org)===s0.Ct.SAML;return el.createElement(eT.$$,{className:"configure_sso--configureButton--AnOM7",disabled:t,onClick:a},i?"Edit configuration":"Configure SAML")},[i,a,e.org]),o=el.useCallback(()=>{let t={okta:(0,e2.t)("org_settings.sso.okta"),azure:(0,e2.t)("org_settings.sso.azure"),onelogin:(0,e2.t)("org_settings.sso.one_login"),other:(0,e2.t)("org_settings.sso.other")},a=(0,e2.t)("org_settings.sso.not_configured"),r=e.orgSamlConfig.idp_name,n=[{rowName:(0,e2.t)("org_settings.sso.idp"),value:r&&t[r]||r},{rowName:(0,e2.t)("org_settings.sso.idp_entity_id"),value:e.orgSamlConfig.idp_entity_id},{rowName:(0,e2.t)("org_settings.sso.idp_sso_url"),value:e.orgSamlConfig.idp_sso_target_url}];return el.createElement("div",null,el.createElement("p",{className:"configure_sso--sectionInstructionMarginTop--z91SA configure_sso--sectionInstruction--BJqP9"},el.createElement(e2.Tx,{id:"org_settings.sso.your_configuration_details"})),el.createElement("table",{className:kO},el.createElement("tbody",null,n.map(e=>el.createElement("tr",{key:`row-${e.rowName}`},el.createElement("th",null,e.rowName),el.createElement("td",null,e.value||a,e.action))))))},[e.orgSamlConfig.idp_entity_id,e.orgSamlConfig.idp_name,e.orgSamlConfig.idp_sso_target_url]);return el.createElement(el.Fragment,null,el.createElement("p",{className:kA},el.createElement(e2.Tx,{id:"org_settings.sso.saml_sso_description",helpArticle:el.createElement("a",{className:kR,href:"https://help.figma.com/hc/articles/360040532333",target:"_blank"},el.createElement(e2.Tx,{id:"org_settings.sso.help_article"}))})),el.createElement("div",null,n(),l(),o(),!e.hideEditButton&&s()))}let kP=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),a=(0,ei.d4)(e=>e.orgSamlConfig),r=(0,ei.d4)(e=>e.orgDomains),n=!a.config||0==r.domains.length,l=()=>e(t3.Lo());return el.createElement(lD.XV,{title:(0,e2.t)("org_settings.sso.saml_sso"),onClose:l,maxWidth:536,minWidth:536},el.createElement("div",{className:kD},n&&el.createElement(t7.kt,null),!n&&el.createElement(el.Fragment,null,el.createElement(kM,{hideEditButton:!0,org:t,orgDomains:r.domains,orgSamlConfig:a.config}),el.createElement("div",{className:kF},el.createElement(eT.cw,{onClick:()=>{e((0,t3.to)({type:kk,data:{dispatch:e}}))}},el.createElement(e2.Tx,{id:"org_settings.sso.edit_configuration"})),el.createElement(eT.$$,{onClick:l},el.createElement(e2.Tx,{id:"org_settings.sso.done"}))))))},"VIEW_SAML_CONFIG_MODAL");var kB=a(729074),kU=a(308977),kW=a(470669),kV=a(625134),kG=a(370934),k$=a(92597),kj=a(986270),kH=a(798099),kq=a(756085),kY=a(396226),kz=a(852800),kK=a(300874),kJ=a(809073),kQ=a(18993),kZ=a(691651),kX=a(756689),k0=a(802257),k1=a(884129);function k2({onClick:e,onChange:t,value:a,error:r,buttonText:n}){let l=(0,sK.sZ)(),i=(0,ei.wA)(),s=el.createElement(eT.CY,{onClick:()=>{if(eo.eD)i(aC.$T({view:"org",orgId:(null==l?void 0:l.id)??"",orgViewTab:mU.X.PLUGINS})),i(t3.Ce());else{let e=`/files/${null==l?void 0:l.id}/plugins`;i(sq.V3({url:e}))}},trusted:!0},null==l?void 0:l.name),o=el.createElement(eT.CY,{onClick:()=>{i(sq.V3({url:"/community/plugins/devmode"}))},trusted:!0},(0,e2.t)("community.community"));return el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.flex.flexColumn.gap8.py8.$},el.createElement(oK.E,{i18nId:"settings_tab.paste_plugin_link",i18nParams:{orgLink:s,communityLink:o}}),el.createElement("div",{className:eE.cx.flex.$},el.createElement(eT.ks,{className:eE.cx.flexGrow1.mr8.$,onChange:t,value:a,placeholder:(0,nu.Nz)(),recordingKey:"devRelatedLinkUrlInput"}),el.createElement(mE.$,{onClick:e},n))),r&&el.createElement("div",{className:eE.cx.colorTextDanger.$},r))}function k4(){return el.createElement("div",{className:eE.cx.colorBorder.bSolid.bt1.$})}var k3=a(244510);let k8=(0,n8.eU)(!1),k5=(0,n8.eU)(!1),k6=(0,n8.eU)(!1),k9=(0,n8.eU)(""),k7=(0,n8.eU)(null),Se=(0,n8.eU)(null),St=(0,n8.eU)(""),Sa=(0,n8.eU)(null);var Sr=((F=Sr||{}).AUTO_RUN="auto-run",F.PINNED_PLUGINS="pinned-plugins",F.CODEGEN="codegen",F);async function Sn(e,t,a){var r,n;let l;let i=(0,nu.Yp)(e),s={errorMessage:(0,e2.t)("settings_tab.pinned_plugins_invalid_url")};if(null==i)return s;try{l=await (0,fI.Ek)(a9.k_1,{pluginId:i,orgId:t.id})}catch(e){return s}if("loaded"!==l.status||!(null==(r=l.data)?void 0:r.plugin))return s;let o=(0,kq.mf)(null==(n=l.data)?void 0:n.plugin,t.id,null,null);return o?t.plugins_whitelist_enforced&&!a[o.plugin_id]&&o.org_id!==t.id?{errorMessage:(0,e2.t)("settings_tab.invalid_url_allowlist")}:o&&!(0,aS.M5)(o)?s:{pluginId:i,plugin:o}:s}function Sl({text:e}){return el.createElement("div",{className:eE.cx.mx8.$},el.createElement(oK.E,{color:"default"},e))}function Si({preferences:e}){return el.createElement(kB._.Group,{axis:"y",onReorder:t=>{e.updatePrefs(t)},values:e.pinnedPlugins,role:"button",tabIndex:0,translate:"no"},e.pinnedPlugins.map(t=>el.createElement(kB._.Item,{value:t,id:t.plugin_id,key:t.plugin_id,translate:"no"},el.createElement("div",{className:eE.cx.justifyBetween.flex.h32.alignCenter.$},el.createElement("div",{className:eE.cx.flex.itemsCenter.$},el.createElement(lX.V,{className:eE.cx.w16.h16.br2.$,plugin:t}),el.createElement("div",{className:eE.cx.h32.flex.itemsCenter.mx4.alignLeft.$},t.name)),el.createElement("div",{className:eE.cx.justifyEnd.$},el.createElement(mE.$,{icon:"minus-32",onClick:()=>{e.unpinPlugin(t.plugin_id)},onMouseDown:kH.dG,recordingKey:"overflow_pins","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("settings_tab.pinned_plugins_remove"),variant:"text",dataTestId:"remove-pinned-plugin-button"}))))))}function Ss(e){let t=(0,sK.sZ)()||null;return el.createElement("div",{className:eE.cx.flex.justifyBetween.py8.$},el.createElement("div",null,el.createElement("div",{className:eE.cx.mb4.$},el.createElement(oK.E,{fontWeight:"bold"},e.label)),el.createElement(oK.E,null,e.description)),el.createElement(m_.l,{on:e.isActive,onChange:a=>{e.onToggle(a),(0,e7.sx)("Dev Mode Setting Toggled",{orgId:(null==t?void 0:t.id)??"",setting:e.sectionName,value:a?"on":"off"})},disabled:!(0,u5.kA)(t)&&!e.isActive,dataTestId:`dev-mode-setting-toggle-${e.label.split(" ").map(e=>e.toLowerCase()).join("-")}`}))}function So({preferences:e}){let t=(0,sK.sZ)()||null,a=(0,ei.d4)(e=>e.whitelistedPlugins),[r,n]=el.useState(!1),[l,i]=(0,eU.fp)(k8),[s,o]=(0,eU.fp)(St),[c,d]=(0,eU.fp)(Sa),m=(0,em.kc)().dev_mode_org_pinned_plugins_ent&&(0,u5.kA)(t)||!(0,em.kc)().dev_mode_org_pinned_plugins_ent,u=()=>{n(!r)},_=e=>{o(e.target.value)},p=async()=>{if(!t)return;let r=await Sn(s,t,a);"plugin"in r?r.plugin?(0,aS._V)(r.plugin)?d((0,e2.t)("settings_tab.pinned_plugins_invalid_url_codegen")):"pluginId"in r&&(e.pinPlugin(r.pluginId),d(null),o(""),u()):d((0,e2.t)("settings_tab.pinned_plugins_invalid_url")):"errorMessage"in r&&d(r.errorMessage)};return el.createElement("div",{className:eE.cx.m16.$,"data-testid":"dev-mode-settings-modal-pinned-plugins"},(0,em.kc)().dev_mode_org_pinned_plugins_ent?el.createElement("div",{className:eE.cx.mb8.$},el.createElement("div",{className:eE.cx.if(!(0,u5.kA)(t)&&!l,eE.cx.opacity0_5).$},el.createElement(Ss,{label:(0,e2.t)("settings_tab.pinned_plugins_label"),description:(0,e2.t)("settings_tab.pinned_plugins_description"),isActive:l,sectionName:"pinned-plugins",onToggle:()=>{i(!l)}})),!(0,u5.kA)(t)&&e&&e.pinnedPlugins.length>0&&el.createElement(Sc,null)):el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.mb4.$},el.createElement(oK.E,{fontWeight:"bold",i18nId:"settings_tab.pinned_plugins_label"})),el.createElement("div",null,el.createElement(oK.E,{i18nId:"settings_tab.pinned_plugins_description"}))),l&&!e.loaded?el.createElement(t7.kt,{className:eE.cx.pt8.flex.alignCenter.justifyCenter.$}):(0,em.kc)().dev_mode_org_pinned_plugins_ent?l&&el.createElement(el.Fragment,null,el.createElement(Si,{preferences:e}),el.createElement("div",{className:eE.cx.flex.bSolid.b1.bRadius3.colorBorder.h40.my16.$},el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyBetween.wFull.px8.$},el.createElement("div",{className:eE.cx.flex.$},el.createElement("div",{className:eE.cx.flex.mx8.$},el.createElement(oK.E,{i18nId:"settings_tab.pinned_plugins_inspect",color:"secondary",fontWeight:"medium"})),el.createElement("div",{className:eE.cx.flex.mx8.$},el.createElement(oK.E,{i18nId:"settings_tab.pinned_plugins_plugins",color:"secondary",fontWeight:"medium"}))),el.createElement("div",{className:eE.cx.flex.itemsCenter.$},m&&el.createElement("div",{className:eE.cx.mr1.$},el.createElement(mE.$,{icon:"plus-32",variant:r?"primary":"text",onClick:u,ariaLabel:(0,e2.t)("settings_tab.pinned_plugins_add_label")})),e.pinnedPlugins.length>0&&el.createElement(kZ.pG,{...e})))),r&&el.createElement(k2,{value:s,onClick:p,onChange:_,error:c,buttonText:(0,e2.t)("settings_tab.pinned_plugins_add")})):el.createElement(el.Fragment,null,m&&el.createElement("div",{className:eE.cx.flex.py12.$},el.createElement(eT.ks,{className:eE.cx.flexGrow1.mr8.$,onChange:_,value:s,placeholder:(0,nu.Nz)(),recordingKey:"devRelatedLinkUrlInput"}),el.createElement(mE.$,{onClick:p},el.createElement(e2.Tx,{id:"settings_tab.pinned_plugins_add"}))),c&&el.createElement("div",{className:eE.cx.colorTextDanger.$},c),el.createElement(Si,{preferences:e}),el.createElement("div",{className:eE.cx.flex.bSolid.b1.bRadius3.colorBorder.h32.my12.$},el.createElement("div",{className:eE.cx.flex.itemsCenter.justifyBetween.wFull.px8.$},el.createElement("div",{className:eE.cx.flex.mx8.$},el.createElement(oK.E,{fontWeight:"bold",i18nId:"settings_tab.pinned_plugins_inspect"})),el.createElement("div",{className:eE.cx.flex.mx8.$},el.createElement(oK.E,{i18nId:"settings_tab.pinned_plugins_plugins",fontWeight:"regular"})),el.createElement("div",{className:eE.cx.flexGrow1.$},e.pinnedPlugins.length>0&&el.createElement(kZ.pG,{...e}))))))}function Sc(){return el.createElement(uF.z,{variant:"warning",orientation:"vertical",iconSrc:k3.A},el.createElement(e2.Tx,{id:"settings_tab.pinned_plugins_downgrade_warning",noteLabel:el.createElement(oK.E,{fontWeight:"semi-bold",i18nId:"settings_tab.pinned_plugins_dowgrade_warning.note"})}))}function Sd({onCodeLanguageChange:e,addCodegenPluginCallback:t,currentSavedCodeLanguage:a}){let r=(0,kU.v4)(),n=(0,kW.V0)({codeLanguage:r,onChange:e,showAddInsteadOfBrowse:!0,addCodegenPluginCallback:t,currentSavedCodeLanguage:a});return el.createElement("div",{className:eE.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-language-row"},el.createElement(oK.E,{i18nId:"settings_tab.codegen_language_dropdown_label",fontWeight:"medium"}),el.createElement("div",{className:eE.cx.flex.justifyEnd.$},el.createElement(kW.ls,{dropdownId:"ORG_ADMIN_SETTINGS_CODE_LANGUAGE_DROPDOWN",codeLanguageApi:n,parentElementId:"org-admin-codegen-settings"})))}function Sm({currentUnit:e,onCodeLanguageUnitChange:t}){return(0,k$.Em)()?el.createElement("div",{className:eE.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-unit-row"},el.createElement(oK.E,{i18nId:"settings_tab.codegen_language_unit_dropdown_label",fontWeight:"medium"}),el.createElement("div",{className:eE.cx.flex.justifyEnd.mr4.$},el.createElement(kV.gn,{currentUnit:e||kz.tKW.PIXEL,onChangeUnit:t}))):null}function Su({codeExtensionPreferences:e,onCustomSettingsChange:t}){let a=(0,kU.v4)(),r=(0,kU.QN)(),n=(0,k$.Ke)({codeLanguage:a,plugin:r,codeExtensionPreferences:e,onChangePreferences:t});return 0===n.length?null:el.createElement(el.Fragment,null,n.map(e=>el.createElement(S_,{key:e.name,item:e})))}function S_({item:e}){return el.createElement("div",{className:eE.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-plugin-settings-row"},el.createElement(oK.E,{fontWeight:"medium"},e.displayText),el.createElement("div",{className:eE.cx.flex.justifyEnd.$},el.createElement(kV.jp,{item:e})))}function Sp({preferences:e}){var t,a;let r=(0,sK.sZ)()||null,n=(0,ei.wA)(),[l,i]=(0,eU.fp)(k6),[s,o]=el.useState(null),[c,d]=el.useState(!1),[m,u]=el.useState(!1),[_,p]=el.useState(""),[g,E]=el.useState(void 0);el.useEffect(()=>{(null==e?void 0:e.loaded)&&(null==e?void 0:e.localCodegenSettings)&&!c&&d(()=>{var t;return(null==(t=e.localCodegenSettings)?void 0:t.language.type)==="published-plugin"&&(E(e.localCodegenSettings.language),n((0,kj.gU)({storeInRecentsKey:kJ.$A.Handoff,id:e.localCodegenSettings.language.id,version:void 0,currentUserId:void 0,skipPluginRun:!0}))),!0})},[null==e?void 0:e.loaded,null==e?void 0:e.localCodegenSettings,c,n]),el.useEffect(()=>{n((0,kj.HQ)({storeInRecentsKey:kJ.$A.Handoff}))},[n]);let f=(0,ei.d4)(e=>e.whitelistedPlugins);return el.createElement("div",{className:eE.cx.m16.if(!(0,u5.kA)(r),eE.cx.opacity0_5).$,id:"org-admin-codegen-settings","data-testid":"org-admin-codegen-settings"},el.createElement(Ss,{label:(0,e2.t)("settings_tab.codegen_language_label"),description:(0,e2.t)("settings_tab.codegen_language_description"),isActive:l,sectionName:"codegen",onToggle:()=>{i(!l)}}),l&&(0,u5.kA)(r)&&((null==e?void 0:e.loaded)?el.createElement("div",{className:eE.cx.flexColumn.py8.$},el.createElement(Sd,{onCodeLanguageChange:t=>{null==e||e.setCodegenSettingsLanguage(t),u(!1)},addCodegenPluginCallback:()=>{u(!0)},currentSavedCodeLanguage:g}),m&&el.createElement(k2,{value:_,onClick:()=>{if(!r||!(0,u5.kA)(r)){o((0,e2.t)("settings_tab.plugin_not_enterprise_err"));return}Sn(_,r,f).then(t=>{if("pluginId"in t&&t.plugin){let a=t.plugin;if((0,aS.pk)(a)){o(null);let t=(0,kG.$n)(a);null==e||e.setCodegenSettingsLanguage(t),n((0,kj.gU)({storeInRecentsKey:kJ.$A.Handoff,id:a.plugin_id,version:a.version,currentUserId:void 0,skipPluginRun:!0})),u(!1),p("");return}o((0,e2.t)("settings_tab.plugin_not_codegen_err"))}if("errorMessage"in t){o(t.errorMessage);return}o((0,e2.t)("settings_tab.plugin_invalid_err"))}).catch(e=>{console.error("Error:",e)})},onChange:e=>{p(e.target.value)},error:s,buttonText:(0,e2.t)("settings_tab.dev_mode_setting_set")}),!m&&el.createElement("div",null,el.createElement(Sm,{currentUnit:null==(t=null==e?void 0:e.localCodegenSettings)?void 0:t.preferences.unit,onCodeLanguageUnitChange:t=>{null==e||e.setCodegenSettingsUnit(t)}}),el.createElement(Su,{codeExtensionPreferences:(null==(a=null==e?void 0:e.localCodegenSettings)?void 0:a.preferences)??{},onCustomSettingsChange:(t,a,r)=>{null==e||e.setCodegenSettingsCustomSettings(t,r)}}))):el.createElement(t7.kt,{className:eE.cx.m16.pt8.flex.alignCenter.justifyCenter.$})))}function Sg({plugin:e}){return e?el.createElement("div",{className:eE.cx.flex.py8.itemsCenter.$},el.createElement(lX.V,{className:eE.cx.w24.h24.br2.$,plugin:e}),el.createElement("div",{className:eE.cx.mx8.$},el.createElement(oK.E,{fontWeight:"semi-bold"},e.name))):null}function SE(){let e=(0,sK.sZ)()||null,t=(0,kQ.JA)(),a=(0,ei.d4)(e=>e.whitelistedPlugins),[r,n]=(0,eU.fp)(k5),[l,i]=(0,eU.fp)(k9),[s,o]=(0,eU.fp)(k7),[c,d]=(0,eU.fp)(Se),[m,u]=el.useState(!1);return el.useEffect(()=>{t.loaded&&!m&&(o(t.plugin),u(!0))},[t.loaded,t.plugin,o,m,u]),el.createElement("div",{className:eE.cx.m16.if(!(0,u5.kA)(e),eE.cx.opacity0_5).$,"data-testid":"dev-mode-settings-modal-auto-run"},el.createElement(Ss,{label:(0,e2.t)("settings_tab.auto_run_label"),description:(0,e2.t)("settings_tab.auto_run_description"),isActive:r,sectionName:"auto-run",onToggle:()=>{n(!r)}}),r&&(0,u5.kA)(e)&&el.createElement("div",null,m?el.createElement(el.Fragment,null,s?el.createElement(el.Fragment,null,el.createElement(Sg,{plugin:s}),el.createElement("div",{className:eE.cx.py8.$},el.createElement(eT.CY,{trusted:!0,onClick:()=>o(null)},el.createElement(e2.Tx,{id:"settings_tab.auto_run_remove_plugin"})))):el.createElement(k2,{value:l,onClick:()=>{if(!e||!(0,u5.kA)(e)){d((0,e2.t)("settings_tab.plugin_not_enterprise_err"));return}Sn(l,e,a).then(t=>{if("pluginId"in t&&t.plugin){if((0,kQ.aY)(t.plugin)){d(null),o(t.plugin),i(""),(0,e7.sx)("Dev Mode Auto Run Plugin Set",{orgId:e.id,pluginId:t.plugin.plugin_id});return}d((0,e2.t)("settings_tab.plugin_not_autorun_err"));return}if("errorMessage"in t){d(t.errorMessage);return}d((0,e2.t)("settings_tab.plugin_invalid_err"))}).catch(e=>{console.error("Error:",e)})},onChange:e=>{i(e.target.value)},error:c,buttonText:(0,e2.t)("settings_tab.dev_mode_setting_set")})):el.createElement(t7.kt,{className:eE.cx.pt8.flex.alignCenter.justifyCenter.$})))}let Sf=(0,rr.Ju)(function(){let e=(0,sK.sZ)()||null,t=(0,ei.wA)(),a=(0,kX.IE)(),[r,n]=(0,eU.fp)(k5),[l,i]=(0,eU.fp)(k8),[s,o]=(0,eU.fp)(k6),c=(0,wp.Xr)(Se),d=(0,wp.Xr)(Sa),m=(0,wp.Xr)(k9),u=(0,wp.Xr)(k7),_=(0,wp.Xr)(St);el.useEffect(()=>()=>{c(null),d(null),m(""),u(null),_("")},[m,c,u,_,d]);let p=(0,eU.md)(k7),g=(0,aX.Rs)(a9.tgK,{targetOrgId:(null==e?void 0:e.id)??"",targetUserId:null});el.useEffect(()=>{var e,t,a,r,l,s;"loaded"===g.status&&(i((null==(t=null==(e=g.data)?void 0:e.pluginPreferences)?void 0:t.pinnedPluginsEnabled)||!1),n((null==(r=null==(a=g.data)?void 0:a.pluginPreferences)?void 0:r.autoRunEnabled)||!1),o((null==(s=null==(l=g.data)?void 0:l.pluginPreferences)?void 0:s.codegenEnabled)||!1))},[g.status,g.data,i,n,o]);let E=(0,kX.IE)().serialize(),f=(0,kQ.JA)(),h=el.useMemo(()=>{var e,t,a,r,n,l;return{preferences:E,autoRunPlugin:f.plugin,autoRunEnabled:null==(t=null==(e=g.data)?void 0:e.pluginPreferences)?void 0:t.autoRunEnabled,codegenEnabled:null==(r=null==(a=g.data)?void 0:a.pluginPreferences)?void 0:r.codegenEnabled,pinnedPluginsEnabled:null==(l=null==(n=g.data)?void 0:n.pluginPreferences)?void 0:l.pinnedPluginsEnabled}},[g.data,f,E]),v=(0,mM.ol)(),b=(0,Ec.iT)(),y=()=>{null==a||a.setCodegenSettings(null),t(t3.Lo())},w=async()=>{if(e){b("Dev Handoff Org Commit Plugin Changes",{});let n=null==a?void 0:a.serialize();!(0,u5.kA)(e)&&n&&(n.codegenSettings=null,n.removedInheritedPins=[]);try{await k0.s.updateOrgPreferences(e,{preferences:n,auto_run_plugin_id:p?p.plugin_id:null,auto_run_enabled:!!p&&r,codegen_enabled:s,pinned_plugins_enabled:a.pinnedPlugins.length>0&&l})}catch(e){t(a0.F.enqueue({message:"Failed to save dev mode preferences",error:!0}))}}t(t3.Lo())};return el.createElement(lD.XV,{title:el.createElement(Sl,{text:(0,e2.t)("settings_tab.dev_mode_label")}),onClose:y,fixedTop:!0},el.createElement(So,{preferences:a}),(0,em.kc)().dev_mode_default_codegen&&el.createElement(k4,null),(0,em.kc)().dev_mode_default_codegen&&el.createElement(Sp,{preferences:a}),(0,em.kc)().dev_mode_auto_run_plugin&&el.createElement(k4,null),(0,em.kc)().dev_mode_auto_run_plugin&&el.createElement(SE,null),!(0,u5.kA)(e)&&(0,em.kc)().dev_mode_org_pinned_plugins_ent&&el.createElement("div",{className:eE.cx.m16.$},el.createElement(uF.z,{orientation:"vertical",iconSrc:lq.A,variant:"gray"},el.createElement(oK.E,{fontWeight:"bold"},el.createElement(e2.Tx,{id:"settings_tab.customize_dev_mode"})),el.createElement(oK.E,null,el.createElement(e2.Tx,{id:"settings_tab.upgrade_to_enterprise_plan_text"})),el.createElement(eT.CY,{onClick:()=>{t((0,t3.to)({type:k1.DV,data:{team:v,resource:kK.Bi.DEV_MODE_ADMIN_SETTINGS,currentPlan:kY.F.Plan.ORG,upsellPlan:kY.F.Plan.ENTERPRISE,editorType:null}}))},trusted:!0},el.createElement(oK.E,{i18nId:"settings_tab.upgrade_to_enterprise_learn_more_link"})))),el.createElement("div",{className:eE.cx.flex.flexRow.gap8.justifyEnd.m16.$},el.createElement(mE.$,{onClick:y},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(mE.$,{variant:"primary",onClick:w,disabled:!(!(hj()(h.preferences,a.serialize())&&hj()(h.autoRunPlugin,p))||h.autoRunEnabled!==r||h.codegenEnabled!==s||h.pinnedPluginsEnabled!==l)},el.createElement(e2.Tx,{id:"general.save"}))))},"DEV_MODE_MODAL"),Sh="default_paid_status--inputRow--5Uarh",Sv="default_paid_status--inputLabel--gGP5B",Sb="default_paid_status--subText--ltbsS",Sy=e=>{switch(e){case kf.FULL:return(0,e2.t)("general.editor.seat_rename");case kf.VIEWER:return(0,e2.t)("general.viewer");case kf.VIEWER_RESTRICTED:return(0,e2.t)("general.viewer_restricted")}},Sw=gp.M4.Query({fetch:async e=>{var t;return(null==(t=(await kh.getPlanProperties({planId:e.planId,planType:e.planType})).data)?void 0:t.meta)??null},output:({data:e})=>({default_paid_status_design:(null==e?void 0:e.default_paid_status_design)??kf.VIEWER,default_paid_status_whiteboard:(null==e?void 0:e.default_paid_status_whiteboard)??kf.VIEWER})}),ST=gp.M4.Mutation(async(e,{query:t})=>{let{planId:a,planType:r,defaultPaidStatusDesign:n,defaultPaidStatusWhiteboard:l}=e;t.mutate(Sw({planId:a,planType:r}),e=>{null!=e&&(e.default_paid_status_design=n,e.default_paid_status_whiteboard=l)}),await kh.updatePlanProperties({planId:e.planId,planType:e.planType,properties:{default_paid_status_design:n,default_paid_status_whiteboard:l}})}),Sx=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),{planId:a,planType:r}=e,[n,l]=(0,gp.IT)(Sw({planId:a,planType:r}));(0,el.useEffect)(()=>{n.data&&(s(n.data.default_paid_status_design),c(n.data.default_paid_status_whiteboard))},[n]);let[i,s]=(0,el.useState)(kf.VIEWER),[o,c]=(0,el.useState)(kf.VIEWER),[d,m]=(0,el.useState)(!1),u=(0,gp.n_)(ST),_=(0,ei.d4)(({dropdownShown:e})=>e),p=(e,a)=>{let r=[{displayText:Sy(kf.VIEWER_RESTRICTED),subText:(0,e2.t)("default_paid_status_modal_v2.viewer_restricted_subtext.seat_rename"),subTextClassname:Sb,isChecked:e===kf.VIEWER_RESTRICTED,optionHeight:40,callback:()=>a(kf.VIEWER_RESTRICTED)},{displayText:Sy(kf.VIEWER),subText:(0,e2.t)("default_paid_status_modal_v2.viewer_subtext.seat_rename"),subTextClassname:Sb,isChecked:e===kf.VIEWER,optionHeight:40,callback:()=>a(kf.VIEWER)},{displayText:Sy(kf.FULL),displayTextClassname:"default_paid_status--displayText--Hf1lS",subText:(0,e2.t)("default_paid_status_modal_v2.editor_subtext.seat_rename"),subTextClassname:Sb,isChecked:e===kf.FULL,optionHeight:40,callback:()=>a(kf.FULL),displayTextBadge:el.createElement(oj.Ex,{className:"default_paid_status--badge--r6VCf",text:(0,e2.t)("default_paid_status_modal_v2.paid"),color:oj.zE.BRAND,size:oj.vj.LARGE})}],n=_.data.targetRect,l=8;switch(e){case kf.VIEWER:l+=48;break;case kf.FULL:l+=96}let i={bottom:n.bottom,height:n.height,left:n.left,right:n.right,top:n.top-l,width:n.width};return el.createElement(el.Fragment,null,el.createElement(n_.j,{minWidth:310,lean:"right",showPoint:!1,items:r,displayOverTarget:!0,onSelectItem:e=>{e.callback("",null,t)},parentRect:i,dispatch:t}))},g="DESIGN_DEFAULT_PAID_STATUS_DROPDOWN",E=(null==_?void 0:_.type)===g,f="WHITEBOARD_DEFAULT_PAID_STATUS_DROPDOWN",h=(null==_?void 0:_.type)===f;return el.createElement(e8.fu,{name:"Default License Type Setting Modal"},el.createElement(lD.XV,{title:(0,e2.t)("default_paid_status_modal_v2.manage_default_roles.seat_rename"),onClose:()=>t(t3.Ce()),maxWidth:310,minWidth:310},"loaded"!==n.status?el.createElement(t7.kt,{className:"default_paid_status--loading_spinner--QKHjF"}):el.createElement("div",{className:"default_paid_status--modalContainer--PEJw8 modal--container--LVq8G"},el.createElement("span",{className:"default_paid_status--textContainer--WVFxT"},el.createElement(e2.Tx,{id:"default_paid_status_modal_v2.description.seat_rename",plan_type:r===kg.ORGANIZATION?(0,e2.t)("default_paid_status_modal_v2.organization"):(0,e2.t)("default_paid_status_modal_v2.team")})),el.createElement("label",{className:Sh},el.createElement("span",{className:Sv},el.createElement(e2.Tx,{id:"default_paid_status_modal.figma_design"})),el.createElement(uj.Ve,{showingDropdown:E,type:g,isMultilevelDropdown:!0,dispatch:t,isDisabled:d},Sy(i),E&&p(i,s))),el.createElement("label",{className:Sh},el.createElement("span",{className:Sv},el.createElement(e2.Tx,{id:"default_paid_status_modal.figjam"})),el.createElement(uj.Ve,{showingDropdown:h,type:f,isMultilevelDropdown:!0,dispatch:t,isDisabled:d},Sy(o),h&&p(o,c))),el.createElement("div",{className:hA.v0},el.createElement(eT.$$,{onClick:async()=>{m(!0);try{await u({planId:e.planId,planType:e.planType,defaultPaidStatusDesign:i,defaultPaidStatusWhiteboard:o}),m(!1),t(ae.s.flash((0,e2.t)("default_paid_status_modal.updated_default_roles.seat_rename"))),t(t3.Ce())}catch(e){m(!1),t(ae.s.flash("An error has occured. Please try again"))}}},el.createElement(e2.Tx,{id:"general.save"}))))))},"DefaultPaidStatusModalV2"),SC=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]);return el.createElement(rn.aF,{title:(0,e2.t)("settings_tab.delete_org_modal.are_you_sure_you_d_like_to_delete_figma"),size:364},el.createElement(e2.Tx,{id:"settings_tab.delete_org_modal.please_confirm_that_you_wish_to_permanently_delete_the_org",orgName:t.name}),el.createElement("div",{className:hA.v0},el.createElement(eT.nR,{onClick:()=>{e(t3.Lo())},className:hA.pL},el.createElement(e2.Tx,{id:"modal.cancel"})),el.createElement(eT.qZ,{onClick:()=>{e(t3.Lo()),e((0,Tr.q4)({orgId:t.id}))},className:hA.pL},el.createElement(e2.Tx,{id:"settings_tab.delete_org_modal.request_to_delete_organization"}))))},"DELETE_ORG_MODAL"),SN=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,sK.sZ)(),[a,r]=el.useState((0,hS.Rs)()),n=el.useCallback(e=>{(0,e7.sx)("Delete user search performed",{orgId:null==t?void 0:t.id,queryLength:e.inputValue.length}),r(e)},[null==t?void 0:t.id]),l=0===a.tokens.length;return el.createElement(rn.aF,{title:(0,e2.t)("settings_tab.delete_org_modal.delete_users_from_this_organization"),size:364,className:"delete_org_modal_autocomplete--deleteOrgUserModal--e7aS8"},el.createElement(e2.Tx,{id:"settings_tab.delete_org_modal.enter_names_or_emails_of_users_that_you_d_like_to_delete"}),el.createElement("div",{className:"delete_org_modal_autocomplete--autocompleteDiv--XcvHs"},el.createElement(CN,{placeholder:(0,e2.t)("settings_tab.delete_org_modal.email_or_names_of_org_members"),autocomplete:a,onAutocompleteChange:n})),el.createElement("div",{className:hA.v0},el.createElement(eT.nR,{onClick:()=>{e(t3.Lo())},className:hA.pL},el.createElement(e2.Tx,{id:"modal.cancel"})),el.createElement(eT.qZ,{onClick:()=>{e(t3.Lo()),e((0,t3.to)({type:Sk,data:{orgUsers:a.tokens.map(e=>e.content)}}))},disabled:l,className:hA.pL},el.createElement(e2.Tx,{id:"settings_tab.delete_org_modal.delete"}))))},"DELETE_ORG_USER_MODAL"),Sk=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]);return el.createElement(rn.aF,{title:(0,e2.t)("settings_tab.delete_org_modal.delete_users_and_their_data"),size:364},el.createElement("p",null,el.createElement(e2.Tx,{id:"settings_tab.delete_org_modal.you_re_deleting_figma_data_and_access_for_the_following_user"})),el.createElement("ul",{className:"delete_org_modal_autocomplete--orgUserList--PhNTi"},e.orgUsers.map(e=>el.createElement("li",{key:e.user.email},e.user.handle," (",e.user.email,")"))),el.createElement("br",null),el.createElement("p",null,el.createElement(e2.Tx,{id:"settings_tab.delete_org_modal.this_action_can_t_be_undone"})),el.createElement("div",{className:hA.v0},el.createElement(eT.nR,{onClick:()=>{t(t3.Lo())},className:hA.pL},el.createElement(e2.Tx,{id:"modal.cancel"})),el.createElement(eT.qZ,{onClick:()=>{t(t3.Lo()),t((0,Tr.ye)({orgId:a.id,orgUserIds:e.orgUsers.map(e=>e.id)}))},className:hA.pL},el.createElement(e2.Tx,{id:"modal.confirm"}))))},"CONFIRM_DELETE_ORG_USER_MODAL");function SS(e){return el.createElement("div",null,e.token.content)}let SI=e=>({state:(0,lS.xf)(e.trim())?hk.d.OK:hk.d.ERROR,content:e}),SA=(0,rr.Ju)(function(e){let[t,a]=(0,el.useState)(e.currentContacts),[r,n]=(0,el.useState)({inputValue:"",tokens:e.currentContacts.split(",").map(e=>SI(e)),errorMessage:""}),l=(0,ei.wA)(),i=()=>l(t3.Lo()),s=()=>r.tokens.filter(e=>e.state===hk.d.OK).map(e=>e.content).join(","),o=()=>r.tokens.filter(e=>e.state===hk.d.ERROR).length>0;return el.createElement(lD.XV,{onClose:i,title:(0,e2.t)(e.isOrg?"payments.org_change_billing_contact":"payments.pro_change_billing_contact"),minWidth:341,maxWidth:341},el.createElement("div",{className:"billing_contact_modal--container--CgvAc"},el.createElement("div",{className:"billing_contact_modal--secondary--L8-Mz"},el.createElement(e2.Tx,{id:e.isOrg?"payments.org_enter_an_email_address":"payments.pro_enter_an_email_address"})),e.isOrg?el.createElement(xI.P,{autocomplete:r,onChange:n,validateToken:SI,TokenComponent:SS,autoFocus:!1,placeholder:(0,e2.t)("payments.change_billing_contact_placeholder")}):el.createElement(eT.ks,{value:t,onChange:e=>a(e.target.value)}),el.createElement("div",{className:"billing_contact_modal--buttons--o9Grb"},el.createElement(eT.tM,{onClick:i},el.createElement(e2.Tx,{id:"payments.cancel"})),el.createElement(eT.vd,{type:"submit",onClick:()=>{if(e.isOrg&&o()){l(ae.s.error((0,e2.t)("payments.invalid_billing_contact_error"),5e3));return}let a=e.isOrg?s():t;if(!a){l(ae.s.error((0,e2.t)("payments.missing_billing_contact_error"),5e3));return}e.onSubmit(a).then(i).catch(e=>{console.error(e)})}},el.createElement(e2.Tx,{id:"payments.save"})))))},"ChangeBillingContact");function SL(e){let t=e.searchResult;return el.createElement("div",{className:e.isSelected?"admin_search_input--userRowSelected--jfVgG autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"admin_search_input--userRow--ingGG autocomplete_permissions--contactRow--DRMiv"},el.createElement("div",{className:"admin_search_input--userAvator--FG3LO autocomplete_permissions--avatar--Hb2O-"},el.createElement(oq.H8,{user:t,size:oq.Pf.MEDIUM})),el.createElement("div",null,el.createElement("div",{className:"admin_search_input--name--s2UoA autocomplete_permissions--name--62sCS ellipsis--ellipsis--Tjyfa"},t.name),el.createElement("div",{className:"admin_search_input--email--DzKVd autocomplete_permissions--email--HCICx ellipsis--ellipsis--Tjyfa"},t.email)))}function SR(e){return el.createElement("div",null,e.token.content.name)}function SO(e){let t=(0,ei.wA)(),{planId:a,planType:r,initialEmails:n,autocomplete:l,setAutocomplete:i,initialEmailsLoaded:s,setInitialEmailsLoaded:o}=e,[c,d]=(0,el.useState)([]);(0,el.useEffect)(()=>{r===kg.TEAM?t(oR.Xw({teamId:a})):t(uQ.Pg({orgId:a}))},[t,a,r]);let m=(0,el.useCallback)(({data:e})=>{let t=e.meta;d(t);let a=t.filter(e=>null!=e.email&&n.includes(e.email));!1===s&&(i({...(0,hS.Rs)(),tokens:a.map(e=>({state:hk.d.OK,content:e}))}),o(!0))},[n,s,i,o]);return((0,el.useEffect)(()=>{r===kg.ORGANIZATION?o3.Eh.getOrgAdmins({orgId:a}).then(m):dY.$.getTeamAdmins({teamId:a}).then(m)},[n,s,m,a,r,i]),s)?el.createElement("div",{className:"admin_search_input--admin_search_container--sLx7z"},el.createElement(xI.P,{autocomplete:l,autocompleteResultsClassName:"admin_search_input--autocompleteResults--N5LMj",onChange:i,validateToken:eu.lQ,searchResults:e=>{let t=new fQ.Ef([],{keys:["name","email"],threshold:0,tokenize:!0,matchAllTokens:!0});return t.set(c.filter(t=>!e.tokens.map(e=>e.content.id).includes(t.id))),t.search(e.inputValue)},SearchResultComponent:SL,TokenComponent:SR}),el.createElement("div",{className:""!==l.errorMessage?"admin_search_input--errorMessage--NDiHB":"admin_search_input--message--Tk5jH"},0===l.tokens.length?el.createElement(e2.Tx,{id:"new_editor_notifications_modal.error_message_for_empty_admins"}):null)):el.createElement(uM.Wi,{className:"admin_search_input--loadingText---G5Vg"})}function SD(e){switch(e){case k_.DAILY:return{label:el.createElement(e2.Tx,{id:"new_editor_notifications_modal.daily_option_label"}),description:el.createElement(e2.Tx,{id:"new_editor_notifications_modal.daily_option_description.seat_rename"})};case k_.WEEKLY:return{label:el.createElement(e2.Tx,{id:"new_editor_notifications_modal.weekly_option_label"}),description:el.createElement(e2.Tx,{id:"new_editor_notifications_modal.weekly_option_description.seat_rename"})};case k_.MONTHLY:return{label:el.createElement(e2.Tx,{id:"new_editor_notifications_modal.monthly_option_label"}),description:el.createElement(e2.Tx,{id:"new_editor_notifications_modal.monthly_option_description.seat_rename"})}}}let SF=gp.M4.Query({fetch:async e=>{var t;return(null==(t=(await kh.getNotificationSettings({planId:e.planId,planType:e.planType,notificationType:kE.NEW_EDITOR_NOTIFICATION})).data)?void 0:t.meta)??null},output:({data:e})=>e&&0!==e.frequencies.length?e:{frequencies:[],recipient_settings:kp.SPECIFIC_ADMINS,recipients:[]}}),SM=gp.M4.Mutation(async(e,{query:t,xr:a})=>{let{planId:r,planType:n,frequencies:l,recipientSettings:i,recipients:s}=e;t.mutate(SF({planId:r,planType:n}),e=>{null!=e&&(e.frequencies=l,e.recipient_settings=i,e.recipients=s)}),await a.put("/api/billing/notification_settings",{plan_id:r,plan_type:n,notification_type:kE.NEW_EDITOR_NOTIFICATION,frequencies:Array.from(l),recipient_settings:i,recipients:s})}),SP=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),{planId:a,planType:r}=e,[n,l]=(0,gp.IT)(SF({planId:a,planType:r}));(0,el.useEffect)(()=>{n.data&&(o(new Set(n.data.frequencies)),m(n.data.recipient_settings))},[n]);let i=function(e){switch(e){case kg.TEAM:return[k_.DAILY,k_.WEEKLY];case kg.ORGANIZATION:return[k_.DAILY,k_.MONTHLY]}}(e.planType),[s,o]=(0,el.useState)(new Set),c=(0,nY.n_)(SM),[d,m]=(0,el.useState)(kp.SPECIFIC_ADMINS),[u,_]=(0,el.useState)((0,hS.Rs)()),[p,g]=(0,el.useState)(!1),[E,f]=(0,el.useState)(!1),h="loaded"!==n.status?el.createElement(t7.kt,{className:"new_editor_notification_modal--loading_spinner--ExRoZ"}):el.createElement(el.Fragment,null,el.createElement("div",{className:"new_editor_notification_modal--notification_type_container--YIJoo"},el.createElement("div",{className:"new_editor_notification_modal--notification_type_question---7lMW"},el.createElement(e2.Tx,{id:"new_editor_notifications_modal.which_notifications_would_you_like_to_get"})),el.createElement("div",{className:"new_editor_notification_modal--notification_type_options_container--WYoj5"},i.map(e=>el.createElement("div",{className:"new_editor_notification_modal--notification_type_option_container--O0EWC",key:e,"data-testid":e+" option"},el.createElement("div",{className:"new_editor_notification_modal--notification_type_checkbox_container--Vt-U-"},el.createElement(cl.S,{checked:s.has(e),onChange:t=>{let a=t.currentTarget.checked,r=new Set(s);a?r.add(e):r.delete(e),o(r)},disabled:p||"loaded"!==n.status})),el.createElement("div",{className:"new_editor_notification_modal--notification_type_option_label_container--eVYg6"},el.createElement("div",{className:"new_editor_notification_modal--notification_type_option_label--UonZh"},SD(e).label),el.createElement("div",{className:"new_editor_notification_modal--notification_type_option_description--Xs-Mg"},SD(e).description)))))),el.createElement("div",null),0===s.size?null:el.createElement("div",{className:"new_editor_notification_modal--notification_recipient_container--hhRtK"},el.createElement("div",{className:"new_editor_notification_modal--notification_recipient_question_container--AxG9T"},el.createElement("div",{className:"new_editor_notification_modal--notification_recipient_question--mFHGL"},el.createElement(e2.Tx,{id:"new_editor_notifications_modal.who_should_get_notified"})),el.createElement("div",{className:"new_editor_notification_modal--notification_recipient_recommendation--DgOZr"},el.createElement(e2.Tx,{id:"new_editor_notifications_modal.who_should_get_notified_recommendation"}))),el.createElement(mu.z,{value:d,className:"new_editor_notification_modal--notification_recipient_options_container--FxRER",onChange:e=>{m(e)}},[kp.ALL_ADMINS,kp.SPECIFIC_ADMINS].map(e=>el.createElement("div",{className:"new_editor_notification_modal--notification_type_radio_option_container--v-Ijl",key:e},el.createElement(mu.Z,{value:e,className:"new_editor_notifications_modal.notification_recipient_option",_isChecked:e===d,_onChange:e=>{m(e)}},el.createElement("div",{className:"new_editor_notification_modal--notification_type_radio_option_label--NYyos"},function(e){switch(e){case kp.ALL_ADMINS:return el.createElement(e2.Tx,{id:"new_editor_notifications_modal.all_admins"});case kp.SPECIFIC_ADMINS:return el.createElement(e2.Tx,{id:"new_editor_notifications_modal.specific_admins"})}}(e)))))),d===kp.SPECIFIC_ADMINS&&el.createElement("div",{className:"new_editor_notification_modal--admin_search_input--mVTSB"},el.createElement(SO,{planType:e.planType,planId:e.planId,autocomplete:u,setAutocomplete:e=>{_({...e,errorMessage:""})},initialEmails:n.data.recipients??[],initialEmailsLoaded:E,setInitialEmailsLoaded:f}))),el.createElement("div",null));return el.createElement(lD.Eo,{onClose:()=>t(t3.Lo()),confirmText:(0,e2.t)("general.save"),disabled:p||"loaded"!==n.status||""!==u.inputValue,onSubmit:async()=>{if(d===kp.SPECIFIC_ADMINS&&0===u.tokens.length&&0!==s.size){_(e=>({...u,errorMessage:"Add the name of at least on admin"}));return}g(!0);try{let a=d===kp.ALL_ADMINS?[]:u.tokens.map(e=>e.content.email).filter(e=>void 0!==e);await c({planId:e.planId,planType:e.planType,notificationType:kE.NEW_EDITOR_NOTIFICATION,frequencies:Array.from(s),recipientSettings:d,recipients:a}),g(!1),t(ae.s.flash((0,e2.t)("new_editor_notifications_modal.confirmation"))),t(t3.Lo())}catch(e){g(!1),(0,d2.UE)("An error has occured. Please try again.",t)}},title:(0,e2.t)("new_editor_notifications_modal.header.seat_rename"),maxWidth:420,minWidth:420},el.createElement(e2.Tx,{id:"new_editor_notifications_modal.summary.seat_rename"})," ",e.planType!==kg.TEAM&&el.createElement(e2.Tx,{id:"new_editor_notifications_modal.disclaimer_for_orgs"}),h)},"NewEditorNotificationSettingsModal");var SB=a(262896);let SU="settings_section--setting--lXEqH";var SW=a(598344);function SV(e){return e.nullForEmptySettings&&0===e.settings.length?null:el.createElement("div",{className:e.sectionClass?e.sectionClass:"settings_section--section--PRUcC",key:e.title},el.createElement("div",{className:e.headerClass?e.headerClass:"settings_section--sectionTitle--nX1-P text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.icon&&el.createElement(eC.B,{className:"settings_section--icon--ptsWc",svg:e.icon}),el.createElement("p",null," ",e.title," ")),el.createElement("div",{className:"settings_section--sectionItems--S6WLl"},e.description,e.settings.map((t,a)=>el.createElement(el.Fragment,{key:t.props.label+"-"+a},t,a<e.settings.length-1&&el.createElement("div",{className:"settings_section--settingDivider--DQ6A1"})))))}function SG(e){return el.createElement("div",{className:"settings_section--settingLabel--t6sSP"},el.createElement("div",null,e.label),el.createElement("div",{className:e.descriptionClassName||"settings_section--description--PU14T"},e.description))}function S$(e){return el.createElement(e8.jm,{className:"settings_section--actionSetting--zAm6q settings_section--setting--lXEqH",innerText:e.label,onClick:e.onClick,"data-testid":e.testId},el.createElement(SG,{label:e.label,description:e.description}),el.createElement("div",{className:"settings_section--action--2MtxM"},el.createElement("div",null,e.currentValue),el.createElement(eC.B,{className:"settings_section--caret--7vLfy",svg:SW.A})))}function Sj(e){return el.createElement("div",{className:"settings_section--readonlySetting--tSU-O settings_section--setting--lXEqH"},el.createElement(SG,{label:e.label,description:e.description}))}function SH(e){return el.createElement("div",{className:SU},el.createElement(SG,{label:e.label,description:e.description}),el.createElement("div",{className:"settings_section--contactSupport--wPR0L","data-tooltip":e.contactSupportTooltipCopy??"admin-support@figma.com","data-tooltip-type":aA.Ib.TEXT,"data-tooltip-show-above":!0},el.createElement(eT.Ph,{trackingEventName:e.label,onClick:()=>{(0,SB.ny)({name:e.user.name,email:e.user.email},{ticketForms:["account"],fields:[{id:"subject",value:e.label},{id:9792804686487,value:e.tag||""}],suppressAnswerBot:!0})},trusted:!0},e.contactSupportCopy??el.createElement(e2.Tx,{id:"settings_tab.contact_support"}))))}function Sq(e){return el.createElement("div",{className:SU,"data-testid":e.testId},el.createElement(SG,{label:e.label,description:e.description,descriptionClassName:e.descriptionClassName}),el.createElement(m_.l,{on:e.isActive,onChange:e.onToggle}))}let SY="billing_emails_modal--secondary--qI6PP",Sz="billing_emails_modal--full_width--IcYZO",SK="billing_emails_modal--icon--7bno5",SJ="billing_emails_modal--description_section--tlEG6",SQ="billing_emails_modal--subtitle--u1LWC";var SZ=a(872515),SX=a(192182);let S0=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),r=()=>t(t3.Lo());var n=a(791617);return dq.A.extend(n),(0,dq.A)(e.subscriptionStart).format("Do"),el.createElement(lD.XV,{onClose:r,title:(0,e2.t)("billing_emails_modal.billing_emails_info.what_billing_emails"),minWidth:341,maxWidth:341},el.createElement("div",{className:"billing_emails_modal--container--47cge"},el.createElement("div",{className:SY},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.about_billing_emails"})),el.createElement("div",{className:Sz},el.createElement("div",{className:SK},el.createElement(eC.B,{svg:SZ.A})),el.createElement("div",{className:SJ},el.createElement("div",{className:SQ},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.annual_subscriptions_and_renewals"})),el.createElement("div",{className:SY},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.annual_subscription_renews_on_description",date:el.createElement("strong",null,el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.subscription_date",subscriptionStart:e.subscriptionStart}))})))),el.createElement("div",{className:Sz},el.createElement("div",{className:SK},el.createElement(eC.B,{svg:SX.A})),el.createElement("div",{className:SJ},el.createElement("div",{className:SQ},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups"})),el.createElement("div",{className:SY},el.createElement("div",{className:"billing_emails_modal--padding_below--0rcQb"},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups_description_1.seat_rename"})),el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups_description_2",more:el.createElement("a",{className:"billing_emails_modal--link--sDtp9 blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/360040328293-Manage-billing-on-the-Organization-and-Enterprise-plans"},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.more"}))})))),el.createElement("div",{className:"billing_emails_modal--buttons--IIxMO"},el.createElement(eT.vd,{onClick:r},el.createElement(e2.Tx,{id:"billing_emails_modal.billing_emails_info.close"})))))},"BillingEmailsInfo"),S1=(0,rr.Ju)(function(e){let t=e.dispatch,a=el.useCallback(e=>{(0,kv.Dk)(e).then(()=>{t(a0.F.enqueue({type:"scim_api_token_copied_to_clipboard",message:(0,e2.t)("org_settings.sso.copied")}))})},[t]);if(e.provisioningApiToken){let r;return el.createElement(f1.l,{disableClickOutsideToHide:!0,dispatch:t,onConfirm:e.onConfirm,onHide:e.onCancel,buttonText:(0,e2.t)("modal.close"),title:(0,e2.t)("org_settings.scim.your_provisioning_api_token"),hideCancelButton:!0,checkboxText:el.createElement("div",null,el.createElement(e2.Tx,{id:"org_settings.scim.i_understand_that_this_is_the_only_time_i_will_see_this_token"}))},el.createElement("div",{className:"configure_sso--token--dRmJj"},el.createElement("span",null,e.provisioningApiToken),(r=e.provisioningApiToken,document.queryCommandSupported("copy")&&el.createElement(eT.N_,{className:kR,onClick:()=>a(r),trusted:!0},el.createElement(e2.Tx,{id:"org_settings.sso.copy"})))))}return el.createElement(f1.l,{dispatch:t,onConfirm:e.onConfirm,onHide:e.onCancel,buttonText:(0,e2.t)("org_settings.scim.revoke_access"),title:(0,e2.t)("org_settings.scim.revoke_token_access_title"),size:"small",checkboxText:el.createElement("div",null,el.createElement(e2.Tx,{id:"org_settings.scim.revoke_token_confirmation",willBeDenied:el.createElement("span",{className:kL},el.createElement(e2.Tx,{id:"org_settings.scim.will_be_denied"}))}))})},"PROVISIONING_API_TOKEN_MODAL"),S2=(0,a4.nF)((e,{orgSamlConfigId:t})=>{td.Ay.post(`/api/org_saml_config/${t}/scim_api_token`).then(t=>{e.dispatch((0,t3.to)({type:S1,data:{dispatch:e.dispatch,provisioningApiToken:t.data.meta.scim_api_token,onConfirm:()=>{e.dispatch(t3.Ce())},onCancel:()=>{e.dispatch(t3.Ce())}}})),e.dispatch(yH.h({orgSamlConfig:t.data.meta.org_saml_config}))}).catch(t=>{var a;e.dispatch(ae.s.flash((null==(a=t.data)?void 0:a.message)||(0,e2.t)("orgs_middleware.an_error_occurred_while_generating_scim"),5e3)),console.error(t)})}),S4=(0,a4.nF)((e,{orgSamlConfigId:t})=>{td.Ay.del(`/api/org_saml_config/${t}/scim_api_token`).then(({data:t})=>{e.dispatch(yH.h({orgSamlConfig:t.meta}))}).catch(t=>{var a;e.dispatch(ae.s.flash((null==(a=t.data)?void 0:a.message)||(0,e2.t)("orgs_middleware.an_error_occurred_while_revoking_scim"),5e3)),console.error(t)})});function S3(e){let t=e.dispatch,a=el.useCallback(()=>{t(S4({orgSamlConfigId:e.orgSamlConfig.id}))},[t,e.orgSamlConfig.id]),r=el.useCallback(()=>{t((0,t3.to)({type:S1,data:{dispatch:t,onConfirm:()=>{t(t3.Ce()),a()},onCancel:()=>{t(t3.Ce())}}}))},[a,t]),n=!!e.orgSamlConfig.idp_name,l=e.orgSamlConfig.sp_scim_bearer_token_at,i=e.orgSamlConfig.has_scim_token;return el.createElement(el.Fragment,null,el.createElement("p",{className:kA},el.createElement(e2.Tx,{id:"org_settings.scim.scim_description",helpArticle:el.createElement("a",{className:kR,href:"https://help.figma.com/hc/articles/360040532333-Getting-Started-with-SAML-SSO#h_d0220c93-18fa-4c1f-b965-69a5c8113f05",target:"_blank"},el.createElement(e2.Tx,{id:"org_settings.sso.help_article"}))})),el.createElement("table",{className:kO},el.createElement("tbody",null,el.createElement("tr",null,el.createElement("th",null,el.createElement(e2.Tx,{id:"org_settings.scim.api_token"})),l&&el.createElement("td",null,el.createElement(e2.Tx,{id:"org_settings.scim.api_token_generated_at",timestamp:el.createElement(lI.h1,{date:l})})),el.createElement("td",null,!n&&(0,e2.t)("org_settings.scim.saml_sso_must_be_configured"),n&&i&&el.createElement(eT.N_,{onClick:r,className:kR,trusted:!0},el.createElement(e2.Tx,{id:"org_settings.scim.revoke_token_access"})),n&&!i&&el.createElement(eT.N_,{onClick:()=>{t(S2({orgSamlConfigId:e.orgSamlConfig.id}))},className:kR,trusted:!0},el.createElement(e2.Tx,{id:"org_settings.scim.generate_api_token"})))))))}let S8=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.orgSamlConfig),a=!t.config,r=()=>e(t3.Lo());return el.createElement(lD.XV,{title:(0,e2.t)("org_settings.scim.scim_provisioning"),onClose:r,maxWidth:492,minWidth:492},el.createElement("div",{className:kD},a&&el.createElement(t7.kt,null),!a&&el.createElement(el.Fragment,null,el.createElement(S3,{dispatch:e,orgSamlConfig:t.config}),el.createElement(eT.cw,{className:kF,onClick:r},el.createElement(e2.Tx,{id:"org_settings.sign_in_method.done"})))))},"EDIT_SCIM_MODAL"),S5=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=null;return(e.signInMethod===s0.Ct.GOOGLE?a=(0,e2.t)("org_settings.sso.google"):e.signInMethod===s0.Ct.SAML&&(a=(0,e2.t)("org_settings.sso.saml_sso")),a)?el.createElement(f1.l,{dispatch:t,onConfirm:e.onConfirm,buttonText:(0,e2.t)("org_settings.sign_in_method.change_log_in"),title:(0,e2.t)("org_settings.sign_in_method.change_log_in"),checkboxText:(0,e2.t)("org_settings.sign_in_method.i_understand_that_members_must_log_in_with_label_after_confirming",{label:a})}):null},"REQUIRE_SSO_MODAL");function S6(e){let t=(0,u5._g)(e.org),a=a=>{a===s0.Ct.GOOGLE?e.dispatch(Tr.Xw({orgId:e.org.id,googleSsoOnly:!0})):a===s0.Ct.SAML?e.dispatch(Tr.hi({orgId:e.org.id,samlSsoOnly:!0})):t===s0.Ct.GOOGLE?e.dispatch(Tr.Xw({orgId:e.org.id,googleSsoOnly:!1})):e.dispatch(Tr.hi({orgId:e.org.id,samlSsoOnly:!1}))};return el.createElement(el.Fragment,null,eo.eD&&el.createElement("div",{className:kA},el.createElement(e2.Tx,{id:"org_settings.sso.you_must_use_a_web_browser"})),el.createElement(mu.z,{value:t,onChange:r=>{r!==t&&(r===s0.Ct.ANY?a(r):e.dispatch((0,t3.to)({type:S5,data:{signInMethod:r,onConfirm:()=>{e.dispatch(t3.Lo()),a(r)}}})))}},el.createElement(mu.Z,{value:s0.Ct.ANY,disabled:!!eo.eD},el.createElement(e2.Tx,{id:"org_settings.sign_in_method.any",default:el.createElement("span",{className:"configure_sso--secondary--a3feh"},el.createElement(e2.Tx,{id:"org_settings.sign_in_method.default"}))})),el.createElement(mu.Z,{value:s0.Ct.GOOGLE,disabled:!!eo.eD},el.createElement(e2.Tx,{id:"org_settings.sign_in_method.members_must_log_in_with_a_google_account"})),el.createElement(mu.Z,{tooltipText:e.orgSamlConfig.idp_name?void 0:(0,e2.t)("org_settings.sign_in_method.you_need_to_configure_saml_sso_first"),value:s0.Ct.SAML,disabled:!!eo.eD||!e.orgSamlConfig.idp_name},el.createElement(e2.Tx,{id:"org_settings.sign_in_method.members_must_log_in_with_saml_sso"}))))}let S9=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),a=(0,ei.d4)(e=>e.orgSamlConfig),r=()=>e(t3.Lo());return el.createElement(lD.XV,{title:(0,e2.t)("org_settings.sign_in_method.authentication"),onClose:r,maxWidth:560,minWidth:560},el.createElement("div",{className:kD},!a.config&&el.createElement(t7.kt,null),a.config&&el.createElement(el.Fragment,null,el.createElement(S6,{dispatch:e,org:t,orgSamlConfig:a.config}),el.createElement(eT.cw,{onClick:r,className:kF},el.createElement(e2.Tx,{id:"org_settings.sign_in_method.done"})))))},"SIGN_IN_METHOD_MODAL"),S7="autogen_password_controls_modal--radioLabel--Gkka8",Ie=e=>e?"autogen":"custom",It=(0,rr.Ju)(function(){var e,t,a;let r=(0,ei.wA)(),n=(0,e2.t)("org_settings.autogen_password_controls.success"),l=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),i=(0,aX.Rs)(a9.RcX,{orgId:l.id}),s=()=>r(t3.Lo()),[o,c]=el.useState("loaded"===i.status?Ie(null==(a=null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.autogenPasswordControls):null);return el.useEffect(()=>{var e,t,a;"loaded"===i.status&&c(Ie(null==(a=null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.autogenPasswordControls))},[i]),el.createElement(lD.XV,{title:(0,e2.t)("org_settings.autogen_password_controls.title"),onClose:s,maxWidth:380,minWidth:380,fixedTop:!0},el.createElement("div",{className:"autogen_password_controls_modal--modalContent--V-gBK"},el.createElement(e2.Tx,{id:"org_settings.autogen_password_controls.description"}),el.createElement(mu.z,{value:o,onChange:e=>{c(e)},className:"autogen_password_controls_modal--radioGroup--jik1F"},el.createElement(mu.Z,{value:"custom",labelClassName:S7,disabled:"loading"===i.status},el.createElement(oK.E,{i18nId:"org_settings.autogen_password_controls.custom_passwords_button"}),el.createElement("span",null,el.createElement(oK.E,{i18nId:"org_settings.autogen_password_controls.default",color:"secondary"})),el.createElement("br",null),el.createElement(oK.E,{color:"secondary",i18nId:"org_settings.autogen_password_controls.custom_passwords_description"})),el.createElement(mu.Z,{value:"autogen",labelClassName:S7,disabled:"loading"===i.status},el.createElement(oK.E,{i18nId:"org_settings.autogen_password_controls.autogen_passwords_button"}),el.createElement("br",null),el.createElement(oK.E,{color:"secondary",i18nId:"org_settings.autogen_password_controls.autogen_passwords_description"}))),el.createElement(uF.z,{orientation:"vertical",variant:"brand",iconSrc:mv.A,dataTestId:"password-info-banner"},el.createElement(oK.E,{i18nId:"org_settings.autogen_password_controls.banner"})),el.createElement("div",{className:"autogen_password_controls_modal--modalButtons---LSkB"},el.createElement(cp.nR,{onClick:s},el.createElement(oK.E,{i18nId:"org_settings.autogen_password_controls.cancel"})),el.createElement(cp.$$,{onClick:()=>{var e,t,a;o&&(r(Tr.Tf({orgId:l.id,autogenPasswordControl:"autogen"===o,settingsId:null==(a=null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.id,successMessage:n})),s())}},el.createElement(oK.E,{i18nId:"org_settings.autogen_password_controls.save"})))))},"AUTOGEN_PASSWORD_CONTROLS_MODAL"),Ia=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),a=()=>e(t3.Lo());return el.createElement(lD.XV,{title:(0,e2.t)("settings_tab.scim_metadata_modal.member_metadata"),onClose:a,maxWidth:340,minWidth:340},el.createElement("div",{className:kD},el.createElement("p",{className:kA},el.createElement(e2.Tx,{id:"settings_tab.scim_metadata_modal.change_which_scim_metadata_shows_on_the_members_tab"})),el.createElement(mu.z,{value:t.featured_scim_metadata,onChange:a=>e(Tr.Kc({orgId:t.id,attribute:a}))},Object.values(lm.U0).map(e=>el.createElement(mu.Z,{key:e,value:e},(0,u5.du)(e)))),el.createElement(eT.cw,{onClick:a,className:kF},el.createElement(e2.Tx,{id:"settings_tab.scim_metadata_modal.done"}))))},"CHOOSE_SCIM_METADATA_MODAL");var Ir=((M=Ir||{}).ORG_ACTIVITY_LOG_READ="org:activity_log_read",M.ORG_USER_READ="org:user_read",M.ORG_FILE_READ="org:file_read",M.ORG_RELATED_LINKS_WEBHOOKS="org:related_links_webhooks",M.ORG_DISCOVERY_READ="org:discovery_read",M.USER_FILE_READ_DEPRECATED="file_read",M.USER_FILE_CREATE="file_create",M.USER_FILE_ENUMERATE="file_enumerate",M.USER_USER_READ="user_read",M.USER_FILES_READ="files:read",M.USER_FILE_COMMENTS_WRITE="file_comments:write",M.USER_FILE_DEV_RESOURCES_READ="file_dev_resources:read",M.USER_FILE_DEV_RESOURCES_WRITE="file_dev_resources:write",M.USER_FILE_VARIABLES_READ="file_variables:read",M.USER_FILE_VARIABLES_WRITE="file_variables:write",M.USER_LIBRARY_ANALYTICS_READ="library_analytics:read",M.USER_WEBHOOKS_WRITE="webhooks:write",M);let In={"org:activity_log_read":()=>[(0,e2.t)("tokens.oauth.view_user_activity_in_figma_like_opening_files_creating_projects_and_sharing_resources")],"org:discovery_read":()=>[(0,e2.t)("tokens.oauth.discovery_scope_description")],"org:file_read":()=>[(0,e2.t)("tokens.oauth.view_basic_information_about_files")],"org:related_links_webhooks":()=>[(0,e2.t)("tokens.oauth.manage_related_links_webhooks")],"org:user_read":()=>[(0,e2.t)("tokens.oauth.view_basic_information_about_users")],file_read:()=>[(0,e2.t)("tokens.oauth.read_files_you_have_access_to"),(0,e2.t)("tokens.oauth.read_and_modify_comments_for_files_you_have_access_to"),(0,e2.t)("tokens.oauth.read_projects_you_have_access_to"),(0,e2.t)("tokens.oauth.read_components_and_styles_you_have_access_to")],file_create:()=>[(0,e2.t)("tokens.oauth.create_files")],file_enumerate:()=>[(0,e2.t)("tokens.oauth.enumerate_files")],user_read:()=>[(0,e2.t)("tokens.oauth.read_your_name_email_and_profile_image")],"files:read":()=>[(0,e2.t)("tokens.oauth.read_files_you_have_access_to"),(0,e2.t)("tokens.oauth.read_comments_for_files_you_have_access_to"),(0,e2.t)("tokens.oauth.read_projects_you_have_access_to"),(0,e2.t)("tokens.oauth.read_components_and_styles_you_have_access_to"),(0,e2.t)("tokens.oauth.read_your_name_email_and_profile_image")],"file_comments:write":()=>[(0,e2.t)("tokens.oauth.modify_comments_for_files_you_have_access_to")],"file_dev_resources:read":()=>[(0,e2.t)("tokens.oauth.read_dev_resources")],"file_dev_resources:write":()=>[(0,e2.t)("tokens.oauth.create_and_modify_dev_resources")],"file_variables:read":()=>[(0,e2.t)("tokens.oauth.read_variables_from_files_you_have_access_to")],"file_variables:write":()=>[(0,e2.t)("tokens.oauth.create_and_modify_variables_for_files_you_have_access_to")],"library_analytics:read":()=>[(0,e2.t)("tokens.oauth.read_library_analytics_data")],"webhooks:write":()=>[(0,e2.t)("tokens.oauth.create_and_modify_webhooks")]},Il="connected_apps--modalContent--jofiG",Ii="connected_apps--tokenMeta--q0ci4",Is="connected_apps--buttonBox--LSVPH",Io="connected_apps--button--yaM0o",Ic="connected_apps--columnScope---TfNz table--column--974RA",Id="connected_apps--columnDescription--hsy1E table--column--974RA";function Im(e){var t;return el.createElement("div",{role:"button",tabIndex:0,key:e.token.name,className:"connected_apps--tokenRow--8t3rQ",onClick:e.onClick},el.createElement("div",null,el.createElement("img",{src:e.token.logo,alt:"",className:"connected_apps--logoImage--QMb8h"})),el.createElement("div",{className:"connected_apps--tokenInfo--YiebU"},el.createElement("div",{className:"connected_apps--tokenName--jw63V"},e.token.name),el.createElement("div",{className:Ii},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.connected_since",date:(0,dq.A)(e.token.granted_at).format("LL")})),el.createElement("div",{className:Ii},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.scopes_granted",numScopes:(null==(t=e.token.scopes)?void 0:t.length)??1}))),e.onClick&&el.createElement(eC.B,{svg:SW.A,className:"connected_apps--caret--TWlfa"}))}let Iu=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),[a,r]=(0,el.useState)([]),[n,l]=(0,el.useState)(!0);el.useEffect(()=>{o3.Eh.getOauthConnections({orgId:e.org.id}).then(({data:e})=>{r(e.meta),l(!1)}).catch(e=>{t(ae.s.error((0,e2.t)("settings_tab.connected_apps.error_loading_tokens"))),l(!1)})},[t,e.org.id]);let i=null;return i=n?el.createElement("div",{className:"connected_apps--loading--yYjBQ"},el.createElement(t7.kt,null)):0===a.length?el.createElement("p",{className:"connected_apps--noToken--OGl0i"},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.this_org_does_not_have_any_connected_apps",orgName:e.org.name})):el.createElement("div",null,a.map(n=>el.createElement(Im,{key:n.client_id,token:n,onClick:()=>{t((0,t3.to)({type:I_,data:{org:e.org,token:n,onRevoke:()=>{r(a.filter(e=>e.client_id!==n.client_id))}}}))}}))),el.createElement(lD.XV,{title:(0,e2.t)("settings_tab.connected_apps"),onClose:()=>t(t3.Lo()),maxWidth:462,minWidth:462},el.createElement("div",{className:Il},el.createElement("p",{className:"connected_apps--sectionInstruction--9x0kV"},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.instruction"})),i))},"CONNECTED_APPS_MODAL"),I_=(0,rr.Ju)(function(e){var t;let a=(0,ei.wA)();return el.createElement(lD.XV,{title:e.token.name,onClose:()=>a(t3.Lo()),maxWidth:462,minWidth:462},el.createElement("div",{className:Il},el.createElement(Im,{token:e.token}),el.createElement("p",null,el.createElement(e2.Tx,{id:"settings_tab.connected_apps.scope_description"})),el.createElement("div",{className:"connected_apps--scopeTable--4rTLd"},el.createElement("div",{className:"connected_apps--headerRow--5gJQx"},el.createElement("div",{className:Ic},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.o_auth_scope"})),el.createElement("div",{className:Id},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.description"}))),null==(t=e.token.scopes)?void 0:t.map(e=>{let t=In[e]()??[];return el.createElement("div",{key:e,className:"connected_apps--tableRow--JZQwR"},el.createElement("div",{className:Ic},el.createElement("span",null,e)),el.createElement("div",{className:Id},t.map(e=>el.createElement("div",{key:e},e))))})),el.createElement("div",{className:Is},el.createElement(eT.nR,{className:Io,onClick:()=>{a(t3.Lo())}},el.createElement(e2.Tx,{id:"general.back"})),el.createElement(eT.qZ,{className:Io,onClick:()=>{a((0,t3.to)({type:Ip,data:{org:e.org,token:e.token,onRevoke:e.onRevoke}}))}},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.revoke"})))))},"CONNECTED_APP_MODAL"),Ip=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=()=>t(t3.Lo());return el.createElement(lD.XV,{title:(0,e2.t)("settings_tab.connected_apps.revoke_app",{appName:e.token.name}),onClose:a,maxWidth:462,minWidth:462},el.createElement("div",{className:Il},el.createElement("p",{className:"connected_apps--confirmText--V6RKI"},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.are_you_sure",appName:el.createElement("span",{style:{fontWeight:600}},e.token.name),orgName:e.org.name})),el.createElement("div",{className:Is},el.createElement(eT.nR,{className:Io,onClick:a},el.createElement(e2.Tx,{id:"general.back"})),el.createElement(eT.qZ,{className:Io,onClick:()=>{t(t3.Lo()),td.Ay.del(`/api/oauth/token/${e.org.id}/${e.token.client_id}`).then(a=>{t(ae.s.flash((0,e2.t)("settings_tab.connected_apps.oauth_token_deleted"))),t(t3.Lo()),e.onRevoke()}).catch(e=>{var a;t(ae.s.error((null==(a=e.data)?void 0:a.message)||(0,e2.t)("settings_tab.connected_apps.an_error_occurred_while_deleting_the_token"),5e3)),console.error(e)})}},el.createElement(e2.Tx,{id:"settings_tab.connected_apps.revoke"})))))},"REVOKE_APP_MODAL"),Ig=(0,rr.Ju)(function(e){let[t,a,r]="win"===e.platform?[(0,e2.t)("org_admin_settings.enterprise_installer_label"),"https://help.figma.com/hc/articles/14172933259287",`https://desktop.figma.com/win/Figma-${e.version}.msi`]:[(0,e2.t)("org_admin_settings.enterprise_installer_label_mac"),"https://help.figma.com/hc/articles/17686512113175",`https://desktop.figma.com/mac-universal/Figma-${e.version}.pkg`];return el.createElement(rn.Rw,{confirmationTitle:t,confirmText:(0,e2.t)("org_admin_settings.enterprise_installer_confirmation"),onConfirm:()=>window.location.href=r,tintedModalBackground:!0},el.createElement(e2.Tx,{id:"win"===e.platform?"org_admin_settings.enterprise_installer_modal_copy":"org_admin_settings.enterprise_installer_modal_copy_mac"}),el.createElement(eT.N_,{href:a,target:"_blank",trusted:!0},el.createElement(e2.Tx,{id:"org_admin_settings.enterprise_installer_modal_link"})),el.createElement(e2.Tx,{id:"org_admin_settings.enterprise_installer_modal_release_version",version:e.version}),el.createElement("br",null),el.createElement(e2.Tx,{id:"org_admin_settings.enterprise_installer_modal_release_date",releaseDate:new Date(e.releaseDate||Date.now()).toLocaleDateString()}))},"ENTERPRISE_INSTALLER_MODAL"),IE="external_collaboration_controls_modal--sectionInstruction--3Em4j",If="external_collaboration_controls_modal--radioLabel---ZT-n",Ih="external_collaboration_controls_modal--listItem--RAIKD",Iv="external_collaboration_controls_modal--confirmButton--yOTgX",Ib="external_collaboration_controls_modal--bold--6eZYS",Iy=(0,rr.Ju)(function(){var e,t;let a=(0,ei.wA)(),r=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),n=()=>a(t3.Lo()),[l,i]=(0,el.useState)(null==(e=r.shared_org_license_group_settings)?void 0:e.external_collaboration_controls),s=!!(null==(t=r.shared_org_license_group_settings)?void 0:t.external_collaboration_controls);return el.createElement(e8.fu,{name:"External Content Controls Setting Modal",properties:{orgId:r.id}},el.createElement(lD.XV,{title:(0,e2.t)("org_settings.external_collaboration_controls.header"),onClose:n,maxWidth:376,minWidth:376,fixedTop:!0},el.createElement("div",{className:"external_collaboration_controls_modal--modalContent--z39Th"},el.createElement("div",{className:"external_collaboration_controls_modal--warningBanner--uBIyF"},el.createElement(eC.B,{className:"external_collaboration_controls_modal--icon--mHGvS",svg:EA.A}),el.createElement("p",null,el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.banner",let_org_know:el.createElement(eT.CY,{href:"https://help.figma.com/hc/articles/12080587805719",className:eE.cx.font11.$,trusted:!0},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.let_org_know"}))}))),el.createElement("div",{className:IE},l?el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.list_header_setting_on",orgName:r.name,cannot:el.createElement("span",{className:Ib},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.cannot"}))}):el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.list_header_setting_off",orgName:r.name}),el.createElement("ul",null,el.createElement("li",{className:Ih},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.accept_invites"})),el.createElement("li",{className:Ih},l?el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.view_only",note:el.createElement("span",{className:Ib},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.note"}))}):el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.view_or_edit_files"})),el.createElement("li",{className:Ih},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.create"})),el.createElement("li",{className:Ih},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.open_sessions"})))),el.createElement("p",{className:`${IE} ${Ib}`},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.setting_header",orgName:r.name})),el.createElement(mu.z,{value:l?"true":"false",onChange:e=>"true"===e?i(!0):i(!1)},el.createElement(mu.Z,{value:"false",labelClassName:If},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.enable"})),el.createElement(mu.Z,{value:"true",labelClassName:If},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.disable"}))),el.createElement("div",{className:hA.v0},el.createElement(eT.nR,{onClick:n,className:`${hA.pL} ${Iv}`},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.cancel"})),el.createElement(eT.qZ,{onClick:()=>{if(l===s||void 0===l){n();return}let e=(0,e2.t)("org_settings.external_collaboration_controls.success");a(Tr.yo({payload:{external_collaboration_controls:l},successMessage:e})),n()},disabled:l===s||void 0===l,className:`${hA.pL} ${Iv}`},el.createElement(e2.Tx,{id:"org_settings.external_collaboration_controls.save"}))))))},"EXTERNAL_COLLABORATION_CONTROLS_MODAL"),Iw="guest_invite_settings_modal--sectionInstruction--ypd15",IT="guest_invite_settings_modal--radioLabel--yCxLw",Ix=(0,rr.Ju)(function(e){let t=(0,ei.wA)();return el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("org_settings.guest_control.confirm_title"),confirmText:(0,e2.t)("org_settings.guest_control.confirm_button"),onConfirm:()=>{t(Tr.yo({payload:{invite_whitelist_guest_invite_setting:e.guestInviteSetting},successMessage:e.settingString}))},tintedModalBackground:!0},el.createElement(e2.Tx,{id:"org_settings.guest_control.no_guest_confirmation"}))},"CONFIRM_BAN_GUEST_INVITE_MODAL"),IC=(0,rr.Ju)(function(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),a=(0,ei.d4)(e=>e.orgDomains.domains),r=()=>e(t3.Lo()),[n,l]=(0,el.useState)(t.invite_whitelist_guest_invite_setting);return el.createElement(lD.XV,{title:(0,e2.t)("org_settings.guest_control.guest_membership"),onClose:r,maxWidth:440,minWidth:440,fixedTop:!0},el.createElement("div",{className:"guest_invite_settings_modal--modalContent--byRFx"},el.createElement("p",{className:Iw},el.createElement(e2.Tx,{id:"org_settings.guest_control.guest_definition",domains:el.createElement(ux.T,{formatType:"disjunction"},a.map(e=>el.createElement("span",{key:e.domain},"@",e.domain)))})),el.createElement("p",{className:Iw,style:{fontWeight:500}},el.createElement(e2.Tx,{id:"org_settings.guest_control.guest_question"})),el.createElement(mu.z,{value:n??"none",onChange:e=>{let t="none"===e?null:e;n!==t&&l(t)}},el.createElement(mu.Z,{value:"none",labelClassName:IT},(0,u5.W3)(null),el.createElement("span",{className:"guest_invite_settings_modal--secondary--Ft9Th"},el.createElement(e2.Tx,{id:"org_settings.guest_control.default"}))),el.createElement(mu.Z,{value:s0.Gv.REQUIRE_APPROVAL,labelClassName:IT},(0,u5.W3)(s0.Gv.REQUIRE_APPROVAL)),el.createElement(mu.Z,{value:s0.Gv.BANNED,labelClassName:IT},(0,u5.W3)(s0.Gv.BANNED))),!(0,pd.Bg)(t.shared_org_license_group_settings)&&null!=n&&el.createElement("div",{className:"guest_invite_settings_modal--publicLinksBanner--K082Y"},el.createElement(e2.Tx,{id:"org_settings.guest_control.link_sharing_on",enabled:el.createElement("span",{style:{fontWeight:600}},el.createElement(e2.Tx,{id:"org_settings.guest_control.enabled"})),publicLinkSharingSettings:el.createElement("button",{onClick:r,className:"guest_invite_settings_modal--blueLink--zuEFV blue_link--blueLink--9rlnd"},el.createElement(e2.Tx,{id:"org_settings.guest_control.public_link_sharing_settings"}))})),el.createElement(eT.$$,{onClick:()=>{if(n===t.invite_whitelist_guest_invite_setting){r();return}let a=(0,u5.W3)(n);(0,pd.Bg)(t.shared_org_license_group_settings)||n!==s0.Gv.BANNED?(e(Tr.yo({payload:{invite_whitelist_guest_invite_setting:n},successMessage:a})),r()):e((0,t3.to)({type:Ix,data:{guestInviteSetting:n,settingString:a}}))},className:"guest_invite_settings_modal--modalSave--0JmNA"},el.createElement(e2.Tx,{id:"org_settings.guest_control.save_button"}))))},"GUEST_INVITE_SETTINGS_MODAL");var IN=((P=IN||{}).CONFIGURED="configured",P.DEFAULT="default",P);let Ik=()=>!1,IS=Ik()?1:12,II=()=>({...Ik()?{[h7.vS.MINUTES]:(0,iH.y1)(15,60,5).map(e=>({type:"option",text:e.toString(),key:e}))}:null,[h7.vS.HOURS]:(0,iH.y1)(IS,24,1).map(e=>({type:"option",text:e.toString(),key:e})),[h7.vS.DAYS]:(0,iH.y1)(1,15,1).map(e=>({type:"option",text:e.toString(),key:e}))});function IA(){return{timeAmount:{key:14,text:"14"},timeUnit:{key:h7.vS.DAYS,text:(0,e2.t)("settings_tab.idle_session_timeout_settings_modal.days",{timeAmount:14})}}}function IL(e){let{timeUnit:{key:t},timeAmount:{key:a}}=e;switch(t){case h7.vS.MINUTES:return a*h7.Rc;case h7.vS.HOURS:return a*h7.r;case h7.vS.DAYS:return a*h7.N_}}function IR(e){let t=(0,ei.wA)(),a=(0,ns.U)(),r=(null==a?void 0:a.type)===e.id;return el.createElement(uj.Ve,{chevronClassName:eE.cx.mlAuto.$,className:eE.cx.bRadius3.b1.bSolid.colorBorder.wFull.$,dispatch:t,type:e.id,showingDropdown:r},e.currentText,r&&el.createElement(v7.V,{dispatch:t,dropdownShown:a,options:e.options,value:e.currentKey,onChange:e.onChange}))}function IO(e){return el.createElement("div",{style:cs.sx.add({marginTop:"-8px"}).$,className:eE.cx.colorTextSecondary.ml20.mb8.$},e.children)}function ID(e){let{key:t,time:{unit:a,duration:r}}=e.configuredTimeHelperTextOptions,n=(0,e2.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:r});return el.createElement("div",{className:eE.cx.mt8.font11.fontNormal.colorTextSecondary.$},el.createElement(e2.Tx,{id:`settings_tab.idle_session_timeout.configured_time_description.${t}`,duration:n}))}let IF=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),[a,r]=el.useState(e.idleTimeoutDurationInSecs?IN.CONFIGURED:IN.DEFAULT),[n,l]=el.useState(function(e){if(!e)return IA();let[t,a]=(0,h7.qr)(e);return a in II()?{timeAmount:{key:t,text:t.toString()},timeUnit:{key:a,text:(0,e2.t)(`settings_tab.idle_session_timeout_settings_modal.${a}`,{timeAmount:t})}}:IA()}(e.idleTimeoutDurationInSecs)),[i,s]=el.useState(!1),[o,c]=el.useState(null),d=a===IN.CONFIGURED&&e.idleTimeoutDurationInSecs!==IL(n)||null!==e.idleTimeoutDurationInSecs&&a===IN.DEFAULT,m=el.useCallback(e=>{c(null),l(t=>({timeUnit:{key:t.timeUnit.key,text:(0,e2.t)(`settings_tab.idle_session_timeout_settings_modal.${t.timeUnit.key}`,{timeAmount:e})},timeAmount:{key:e,text:e.toString()}}))},[]),u=el.useCallback(e=>{l(t=>{let a=II()[e],r=t.timeAmount.key,n=IA().timeAmount;if(a){let t=a.find(({key:e})=>e===r);if(t)n=t,c(null);else{let t=r<a[0].key,l=t?a[0]:a[a.length-1];n=l,c({key:t?"minimum":"maximum",time:{duration:l.key,unit:e}})}}return{timeAmount:{key:n.key,text:n.text},timeUnit:{key:e,text:(0,e2.t)(`settings_tab.idle_session_timeout_settings_modal.${e}`,{timeAmount:n.key})}}})},[]),_=el.useCallback(()=>t(t3.Lo()),[t]),p=el.useCallback(()=>{s(!0);let r=a===IN.DEFAULT?null:IL(n);t(Tr.Y4({orgId:e.orgId,onFailure:()=>s(!1),onSuccess:_,timeoutDurationInSecs:r}))},[a,n,e.orgId,t,_]),g=el.useCallback(e=>{e!==a&&(r(e),l(IA()))},[a]);return el.createElement(lD.XV,{title:(0,e2.t)("settings_tab.idle_session_timeout_settings_modal.header"),onClose:_,maxWidth:288,minWidth:288,fixedTop:!0},el.createElement(nX.Y,{direction:"vertical",horizontalAlignItems:"center",padding:16,spacing:16},el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.description"}),el.createElement(mu.z,{className:eE.cx.wFull.mt16.$,value:a,onChange:g},el.createElement(mu.Z,{value:IN.DEFAULT},el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.default_choice_description"})),el.createElement(IO,null,el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.default_choice_timeframe"}),el.createElement("div",{className:eE.cx.inline.$},el.createElement(eT.N_,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/14376092335127",className:eE.cx.inline.ml4.$},el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.outro.learn_more"}))))),el.createElement(mu.Z,{value:IN.CONFIGURED},el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.configured_choice_description"})),el.createElement(IO,null,el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.configured_choice_subtitle"})),a===IN.CONFIGURED&&el.createElement("div",{"data-testid":"dropdown-group",className:eE.cx.mlAuto.$},el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"end",spacing:8,width:236},el.createElement(IR,{id:"TIME_VALUE_DROPDOWN",options:II()[n.timeUnit.key]??II()[IA().timeUnit.key],currentText:n.timeAmount.text,currentKey:n.timeAmount.key,onChange:m}),el.createElement(IR,{id:"TIME_UNIT_DROPDOWN",options:function(e){let t=[{type:"option",key:h7.vS.HOURS,text:(0,e2.t)("settings_tab.idle_session_timeout_settings_modal.hours",{timeAmount:e})},{type:"option",key:h7.vS.DAYS,text:(0,e2.t)("settings_tab.idle_session_timeout_settings_modal.days",{timeAmount:e})}];return Ik()&&t.unshift({type:"option",key:h7.vS.MINUTES,text:(0,e2.t)("settings_tab.idle_session_timeout_settings_modal.minutes",{timeAmount:e})}),t}(n.timeAmount.key),currentText:n.timeUnit.text,currentKey:n.timeUnit.key,onChange:u})),o&&el.createElement(ID,{configuredTimeHelperTextOptions:o}))),a===IN.CONFIGURED&&d&&el.createElement("div",{className:eE.cx.bRadius4.px12.py8.colorBgInfo.$},el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.warning_description"})),el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"end",spacing:8},el.createElement(eT.cw,{onClick:_},el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.cancel"})),el.createElement(eT.$$,{disabled:i||!d,onClick:p},el.createElement(e2.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.save"})))))},"IDLE_SESSION_TIMEOUT_SETTINGS_MODAL");var IM=a(126049);let IP="public_sharing_modal--modalContent--jGNPI",IB="public_sharing_modal--modalSave--Q9gNy",IU="public_sharing_modal--section--Krf8d",IW="public_sharing_modal--openSessionToggleContainer--MPaZN",IV="public_sharing_modal--toggle--3BEnT",IG="public_sharing_modal--checkboxRow--3-Ic9";var I$=a(289298);function Ij(e){return e?e>24?{initialMaxDuration:Math.trunc(e/24),initialIsTimeMeasuredInDays:!0}:{initialMaxDuration:e,initialIsTimeMeasuredInDays:!1}:{initialMaxDuration:7,initialIsTimeMeasuredInDays:!0}}function IH(e){return e?(0,e2.t)("setting_tab.public_sharing.modal.days"):(0,e2.t)("setting_tab.public_sharing.modal.hours")}function Iq(e,t,a){let r=(0,pd.d6)(t),n=r===uW.w_.PASSWORD_REQUIRED||r===uW.w_.EXP_AND_PWD_REQUIRED,l=r===uW.w_.EXPIRATION_REQUIRED||r===uW.w_.EXP_AND_PWD_REQUIRED,{initialMaxDuration:i,initialIsTimeMeasuredInDays:s}=Ij(a),[o,c]=el.useState(r===uW.w_.BANNED),[d,m]=el.useState(n),[u,_]=el.useState(l),[p,g]=el.useState(s),[E,f]=el.useState(i.toString()),h=IY(E,p),v=h||""===E?void 0:p?(0,e2.t)("setting_tab.public_sharing.modal.days_error"):(0,e2.t)("setting_tab.public_sharing.modal.hours_error");return{formActions:{togglePublicLinksBanned:e=>{c(!e)},togglePublicLinksRequirePassword:e=>{m(e.currentTarget.checked)},togglePublicLinksRequireExpiration:e=>{_(e.currentTarget.checked)},changeMaxDuration:e=>{f(e.target.value)},setIsTimeMeasuredInDays:g,getDropdownOptions:()=>el.createElement(el.Fragment,null,el.createElement(dB.W.CheckableOption,{key:"hours",onClick:()=>g(!1),checked:!p},IH(!1)),el.createElement(dB.W.CheckableOption,{key:"days",onClick:()=>g(!0),checked:p},IH(!0)))},formState:{initialPublicLinkControlsSetting:r,isPublicLinksBanned:o,doPublicLinksRequirePassword:d,doPublicLinksRequireExpiration:u,isTimeMeasuredInDays:p,maxDuration:E,durationErrorMessage:v,canSave:h}}}function IY(e,t){let a=parseInt(e);if(isNaN(a)||a.toString()!==e)return!1;if(t){if(a>31||a<1)return!1}else if(a>24||a<1)return!1;return!0}function Iz(e){return e.isPublicLinksBanned?uW.w_.BANNED:e.doPublicLinksRequireExpiration&&e.doPublicLinksRequirePassword?uW.w_.EXP_AND_PWD_REQUIRED:e.doPublicLinksRequireExpiration?uW.w_.EXPIRATION_REQUIRED:e.doPublicLinksRequirePassword?uW.w_.PASSWORD_REQUIRED:uW.w_.ALLOWED}function IK(e,t){return e.doPublicLinksRequireExpiration?IY(e.maxDuration,e.isTimeMeasuredInDays)?e.isTimeMeasuredInDays?24*parseInt(e.maxDuration):parseInt(e.maxDuration):(t(ae.s.error((0,e2.t)("org_actions.an_error_occurred"))),null):null}function IJ(e){let t=(0,IM.A)(e.save,500,{leading:!0});return el.createElement("div",{className:"public_sharing_modal--modalButtons--seR2y"},el.createElement(eT.cw,{onClick:e.cancel},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.cancel"})),el.createElement(eT.$$,{onClick:t,className:IB,disabled:!e.canSave},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.save"})))}function IQ(e){let{errorMessage:t,dropdownKey:a,dropdownText:r,"aria-labelledby":n}=e,l=(0,ei.wA)(),i=(0,ei.d4)(e=>e.dropdownShown),s=el.createRef(),o=()=>i&&i.type===a;return el.createElement(el.Fragment,null,el.createElement("div",{className:"public_sharing_modal--inputWithDropdown--6-Qr-"},el.createElement("div",{className:t?"public_sharing_modal--inputWithError--eTZgU public_sharing_modal--inputWithFocus--WKIKO autocomplete_input--inputWrapperFocused--PAR4O autocomplete_input--inputWrapper--NAFMt":"public_sharing_modal--inputWithFocus--WKIKO autocomplete_input--inputWrapperFocused--PAR4O autocomplete_input--inputWrapper--NAFMt"},el.createElement(o5.L,{className:"public_sharing_modal--input--TMJrL autocomplete_input--input--1J8Bs autocomplete_input--tokenPadding---bs7d",value:e.inputValue,onChange:e.onChange,"aria-labelledby":n})),el.createElement("div",{className:"public_sharing_modal--select--wbzFi token_form--select--cUIKt role_row--select--6VpSS","aria-label":r,onClick:e=>{a&&(e.stopPropagation(),o()?l(aC.oB()):l(aC.j7({type:a})))}},el.createElement("span",{className:"public_sharing_modal--selectSpan--R2uXv token_form--selectSpan--LbEAw"},r),el.createElement("div",{className:"public_sharing_modal--caretWrapper--g7d2b token_form--caretWrapper--AaPI0 role_row--caretWrapper--P1Mak"},el.createElement(eC.B,{svg:I$.A}))),o()&&el.createElement(dB.W.Dropdown,{className:"public_sharing_modal--selectDropdown--mhOoA",dropdownRef:s},e.options)),!!t&&el.createElement("div",{className:"public_sharing_modal--errorMessage--XH79u"},t))}function IZ(e){return el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.ml32.colorTextSecondary.$,id:"max-expiration-description"},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.expiration_description"})),el.createElement(IQ,{options:e.options,inputValue:e.inputValue,onChange:e.onChange,errorMessage:e.errorMessage,dropdownKey:e.dropdownKey,dropdownText:e.dropdownText,"aria-labelledby":"max-expiration-description"}))}function IX(e){return el.createElement("div",{className:"public_sharing_modal--internalSection--4jNQf"},el.createElement("div",{className:IG},el.createElement(cl.S,{label:(0,e2.t)("setting_tab.public_sharing.modal.password_required"),checked:e.doPublicLinksRequirePassword,onChange:e.togglePublicLinksRequirePassword})),e.displayExpiration&&el.createElement("div",{className:IG},el.createElement(cl.S,{label:(0,e2.t)("setting_tab.public_sharing.modal.expiration_required"),checked:e.doPublicLinksRequireExpiration,onChange:e.togglePublicLinksRequireExpiration})))}function I0(e){return el.createElement("div",{className:IW},el.createElement("div",{className:eE.cx.flex.flexColumn.$},el.createElement("div",{className:"public_sharing_modal--sectionHeading--SMrch",id:"public-link-sharing"},e.labelText),el.createElement("p",null,e.subText)),el.createElement("div",{className:IV},el.createElement(m_.l,{"aria-labelledby":"public-link-sharing",on:!e.isPublicLinksBanned,onChange:e.togglePublicLinksBanned})))}var I1=a(231446);function I2(e){let t=e.publicLinkControlsSetting===uW.w_.BANNED?(0,e2.t)("org_settings.workspace_controls.public_link_controls_setting_banned"):(0,e2.t)("org_settings.workspace_controls.public_link_controls_setting_allowed"),a=e.publicLinkControlsSetting===uW.w_.BANNED||e.publicLinkControlsSetting===uW.w_.ALLOWED?null:(0,e2.t)(`org_settings.workspace_controls.${e.publicLinkControlsSetting}`),r=e.publicLinkControlsSetting===uW.w_.BANNED?eE.cx.colorTextSecondary.$:eE.cx.colorTextSuccess.$;return el.createElement("span",{className:eE.cx.flex.gap2.$},el.createElement("span",{className:r},t),el.createElement("span",{className:eE.cx.colorTextSecondary.$},a))}var I4=a(56342),I3=a(389983);function I8(e){return el.createElement("button",{onClick:e.goBack,className:"workspace_public_sharing_modal--goBackButton--IeIwq"},el.createElement(eC.B,{className:"workspace_public_sharing_modal--rotate--DvHuy",svg:I3.A}),el.createElement(oK.E,{truncate:!0,color:"default"},e.workspace.name))}let I5=(0,rr.Ju)(function({goBack:e,org:t,workspace:a}){let r=(0,ei.wA)(),{formState:n,formActions:l}=Iq(t,a.publicLinkControlsSetting||null,parseInt(a.publicLinkControlsMaxExpiration)||null),i=(e,t)=>e===n.initialPublicLinkControlsSetting&&t===parseInt(a.publicLinkControlsMaxExpiration),s=el.useCallback(()=>{r((0,t3.to)({type:I6,data:{workspace:a,goBack:e}}))},[r,a,e]);return el.createElement(lD.XV,{title:el.createElement(I8,{workspace:a,goBack:e}),maxWidth:480,minWidth:480,onClose:e,fixedTop:!0},el.createElement("div",{className:eE.cx.px16.pt16.$},el.createElement("div",{className:IU},el.createElement(I0,{isPublicLinksBanned:n.isPublicLinksBanned,togglePublicLinksBanned:l.togglePublicLinksBanned,labelText:(0,e2.t)("settings_tab.public_sharing.workspace_public_sharing_label"),subText:(0,e2.t)("settings_tab.public_sharing.workspace_public_sharing_subtext")}),!n.isPublicLinksBanned&&el.createElement(IX,{displayExpiration:!!t.bigma_enabled,doPublicLinksRequireExpiration:n.doPublicLinksRequireExpiration,doPublicLinksRequirePassword:n.doPublicLinksRequirePassword,togglePublicLinksRequirePassword:l.togglePublicLinksRequirePassword,togglePublicLinksRequireExpiration:l.togglePublicLinksRequireExpiration}),!n.isPublicLinksBanned&&n.doPublicLinksRequireExpiration&&el.createElement(IZ,{inputValue:n.maxDuration,onChange:l.changeMaxDuration,errorMessage:n.durationErrorMessage,dropdownKey:"workspace-public-sharing-modal-expiration-dropdown",dropdownText:IH(n.isTimeMeasuredInDays),options:l.getDropdownOptions()}))),el.createElement("div",{className:eE.cx.flex.pl16.itemsCenter.$},a.hasCustomPublicLinkControlsSetting&&el.createElement("span",{className:"workspace_public_sharing_modal--secondaryTextColor---sge7"},el.createElement(eT.jG,{onClick:s},el.createElement(e2.Tx,{id:"org_settings.workspace_controls.remove_custom_settings"}))),el.createElement("div",{className:eE.cx.mlAuto.$},el.createElement(IJ,{cancel:e,canSave:n.canSave,save:()=>{let t=Iz(n),l=IK(n,r);if(IY(n.maxDuration,n.isTimeMeasuredInDays)){if(i(t,l)&&a.hasCustomPublicLinkControlsSetting)return e();I4.u.updatePublicLinkControlsSetting({workspaceId:a.id,publicLinkControlsSetting:t,publicLinkControlsMaxExpiration:l}).then(()=>{r(ae.s.flash((0,e2.t)("setting_tab.successfully_updated_workspace_public_link_controls"))),e()}).catch(()=>{r(ae.s.error((0,e2.t)("org_actions.an_error_occurred")))})}}}))))},"WORKSPACE_PUBLIC_SHARING_MODAL"),I6=(0,rr.Ju)(function({workspace:e,goBack:t}){let a=(0,ei.wA)();return el.createElement(lD.XV,{title:(0,e2.t)("settings_tab.public_sharing.remove_custom_workspace_settings"),maxWidth:480,minWidth:480,onClose:t,fixedTop:!0},el.createElement("div",{className:IP},el.createElement("div",{className:ey()(IU,eE.cx.px16.pt16.$)},el.createElement(e2.Tx,{id:"setting_tab.remove_custom_workspace_setting_warning",workspaceName:e.name})),el.createElement("div",{className:eE.cx.flex.mb16.mlAuto.pr16.$},el.createElement(eT.cw,{onClick:t,className:eE.cx.mr8.$},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.cancel"})),el.createElement(eT.qZ,{onClick:()=>{I4.u.updatePublicLinkControlsSetting({workspaceId:e.id,publicLinkControlsSetting:null,publicLinkControlsMaxExpiration:null}).then(()=>{a(ae.s.flash((0,e2.t)("setting_tab.successfully_updated_workspace_public_link_controls"))),t(),t()}).catch(()=>{a(ae.s.error((0,e2.t)("org_actions.an_error_occurred")))})},className:IB},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.remove"})))))},"RESET_WORKSPACE_CUSTOM_SETTINGS_WARNING_MODAL");function I9(){return el.createElement("div",{className:"workspace_level_public_link_controls_search--addWorkspaceIcon--GMVAU"},el.createElement(n0.In,{icon:"plus-32"}))}let I7=eE.cx.fontSemiBold.font11.lh16.colorText.$,Ae=eE.cx.font11.lh16.colorTextSecondary.$;function At({org:e,displaySearch:t,setDisplaySearch:a}){var r,n;let l=(0,aX.Rs)(a9.PVh,{orgId:e.id}),i=(0,ei.wA)(),s=[...(null==(n=null==(r=l.data)?void 0:r.org)?void 0:n.workspaces)??[]];(0,as.KQ)(s,"name");let o=s.filter(e=>e.hasCustomPublicLinkControlsSetting),c=el.useCallback(()=>i(t3.Lo()),[i]),d=el.useCallback(t=>{i((0,t3.to)({type:I5,data:{org:e,workspace:t,goBack:c}}))},[e,i,c]);return el.createElement("div",{className:eE.cx.pt12.$,style:cs.sx.add({borderTop:"1px solid var(--color-border)"}).$},el.createElement("div",{className:eE.cx.mt8.mb16.$},el.createElement("p",{className:I7},el.createElement(e2.Tx,{id:"org_settings.workspace_controls.header_text"})),el.createElement("p",{className:Ae},el.createElement(e2.Tx,{id:"org_settings.workspace_controls.sub_header_text"}))),el.createElement(nX.Y,{direction:"vertical",spacing:8},el.createElement("div",{className:eE.cx.maxH32.h32.wFull.$},t?el.createElement(Ar,{org:e,workspaces:s,hide:()=>{a(!1)}}):el.createElement(Aa,{ariaLabel:(0,e2.t)("settings_tab.add_workspace_label"),avatar:el.createElement(I9,null),mainText:(0,e2.t)("settings_tab.add_workspace_label"),onClick:()=>a(!0)})),el.createElement("div",{className:ey()(eE.cx.flex.flexColumn.gap8.wFull.$,"workspace_level_public_link_controls_search--customWorkspaceContainer--5KTEM",{"workspace_level_public_link_controls_search--loaded--xKUFX":"loaded"===l.status})},o.map(e=>el.createElement("div",{key:e.name,className:"workspace_level_public_link_controls_search--customWorkspaceRow--0QKZS"},el.createElement(nX.Y,{direction:"horizontal",spacing:8},el.createElement(Aa,{key:e.name,onClick:()=>d(e),avatar:el.createElement(aa.z6,{size:24,entity:e}),rightElement:el.createElement(n0.In,{icon:"chevron-right-32"}),ariaLabel:e.name,mainText:e.name,subText:e.publicLinkControlsSetting&&el.createElement(I2,{publicLinkControlsSetting:e.publicLinkControlsSetting})})))))))}function Aa(e){let t=e.disabled?eE.cx.maxW250.$:"workspace_level_public_link_controls_search--maxWidth350--4QB4D";return el.createElement("button",{onClick:()=>!e.disabled&&e.onClick&&e.onClick(),className:ey()(eE.cx.flex.flexRow.wFull.itemsCenter.gap8.$,{"workspace_level_public_link_controls_search--workspaceRowHoverable--E-X4-":e.withHoverStyles,"workspace_level_public_link_controls_search--selectedWorkspaceRow--iAM2W":e.isSelected,"workspace_level_public_link_controls_search--withPadding--sRhRb":e.withPadding,"workspace_level_public_link_controls_search--disabled--OOK6t":e.disabled}),disabled:e.disabled,"aria-labelledby":e.ariaLabel},el.createElement("div",null,e.avatar),el.createElement("div",{className:t},el.createElement(nX.Y,{direction:"vertical",verticalAlignItems:"center",spacing:0},el.createElement(oK.E,{color:e.disabled?"disabled":"default",truncate:!0},e.mainText),e.subText&&el.createElement("p",{className:Ae},e.subText))),e.rightElement&&el.createElement("div",{className:eE.cx.mlAuto.$},e.rightElement))}function Ar(e){let{hide:t,org:a,workspaces:r}=e,n=(0,ei.wA)(),[l,i]=el.useState({inputValue:"",tokens:[],errorMessage:""}),[s,o]=el.useState(r),c=el.useRef(null),[d,m]=el.useState("auto");(0,I1.e)(c,t);let u=el.useCallback(e=>{let t=e.inputValue.toLowerCase();i(t=>({...t,inputValue:e.inputValue})),o(r.filter(e=>e.name.toLowerCase().includes(t)))},[r]),_=el.useCallback(e=>{n((0,t3.to)({type:I5,data:{org:a,workspace:e,goBack:()=>n(t3.Lo())}}))},[n,a]);return el.useEffect(()=>{let e=c.current;e&&m(e.getBoundingClientRect().bottom)},[c]),el.createElement("div",{ref:c,className:eE.cx.wFull.h32.maxH32.$},el.createElement(xI.P,{autocomplete:l,placeholder:(0,e2.t)("org_settings.workspace_controls.search_placeholder_text"),inviteInputClassName:eE.cx.borderBox.maxH32.p0.$,autocompleteResultsClassName:ey()(eE.cx.colorBg.overflowAuto.$,"workspace_level_public_link_controls_search--workspaceSearchResults--MhuIy"),autocompleteResultsStyling:{top:d},validateToken:eu.lQ,onChange:u,autoFocus:!0,onCustomSelectSearchResult:e=>{e.hasCustomPublicLinkControlsSetting||_(e)},SearchResultComponent:({searchResult:e,isSelected:t})=>{let a=e.hasCustomPublicLinkControlsSetting;return el.createElement(Aa,{ariaLabel:e.name,mainText:e.name,avatar:el.createElement(aa.z6,{size:24,entity:e}),isSelected:!a&&t,disabled:a,rightElement:a?el.createElement(e2.Tx,{id:"org_settings.workspace_controls.has_custom_settings"}):void 0,withPadding:!0,withHoverStyles:!0})},TokenComponent:An,searchResults:()=>s,onEsc:t}))}function An(e){return null}let Al=(0,rr.Ju)(function(){var e,t;let a=(0,ei.wA)(),[r,n]=el.useState(!1),l=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),{formState:i,formActions:s}=Iq(l,null==(e=l.shared_org_license_group_settings)?void 0:e.public_link_controls_setting,null==(t=l.shared_org_license_group_settings)?void 0:t.public_link_controls_max_expiration),o=()=>a(t3.Lo()),[c,d]=(0,el.useState)(!!l.workshop_enabled),m=(e,t)=>{var a;return e===i.initialPublicLinkControlsSetting&&!!l.workshop_enabled===c&&t===(null==(a=l.shared_org_license_group_settings)?void 0:a.public_link_controls_max_expiration)},u=l.bigma_enabled;return el.createElement(lD.XV,{title:(0,e2.t)("settings_tab.public_sharing_title"),onClose:o,maxWidth:480,minWidth:480,fixedTop:!0},el.createElement(el.Fragment,null,el.createElement("div",{className:IP},el.createElement(rt.P,{className:"public_sharing_modal--scrollableContent--wusRm",scrollingDisabled:r,hideScrollbar:r},el.createElement("div",{className:ey()(IU,eE.cx.mt16.$)},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.description"})),el.createElement("div",{className:IU},el.createElement(I0,{isPublicLinksBanned:i.isPublicLinksBanned,togglePublicLinksBanned:s.togglePublicLinksBanned,labelText:(0,e2.t)("setting_tab.public_sharing.modal.public_link_sharing_header"),subText:(0,e2.t)("setting_tab.public_sharing.modal.public_link_sharing_toggle")}),!i.isPublicLinksBanned&&l.bigma_enabled&&el.createElement(IX,{displayExpiration:!!l.bigma_enabled,doPublicLinksRequireExpiration:i.doPublicLinksRequireExpiration,doPublicLinksRequirePassword:i.doPublicLinksRequirePassword,togglePublicLinksRequirePassword:s.togglePublicLinksRequirePassword,togglePublicLinksRequireExpiration:s.togglePublicLinksRequireExpiration}),!i.isPublicLinksBanned&&i.doPublicLinksRequireExpiration&&l.bigma_enabled&&el.createElement(IZ,{inputValue:i.maxDuration,onChange:s.changeMaxDuration,errorMessage:i.durationErrorMessage,dropdownKey:"org-public-sharing-modal-expiration-dropdown",dropdownText:IH(i.isTimeMeasuredInDays),options:s.getDropdownOptions()})),el.createElement("div",{className:IU},el.createElement("div",{className:IW},el.createElement("div",{className:eE.cx.flex.flexColumn.$},el.createElement("span",{id:"open-sessions",className:eE.cx.fontBold.$},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.open_sessions_header"})),el.createElement("span",{className:eE.cx.colorTextSecondary.$},el.createElement(e2.Tx,{id:"setting_tab.public_sharing.modal.open_sessions_toggle"}))),el.createElement("div",{className:IV},el.createElement(m_.l,{"aria-labelledby":"open-sessions",on:c,onChange:e=>d(e)})))),c&&(i.doPublicLinksRequirePassword||i.doPublicLinksRequireExpiration)&&el.createElement("div",{className:"public_sharing_modal--openSessionsNote--gSNzr"},el.createElement(e2.Tx,{id:"settings_tab.public_sharing.modal.open_sessions_note"})),u&&el.createElement(At,{org:l,displaySearch:r,setDisplaySearch:n})),u&&el.createElement("div",{className:"public_sharing_modal--modalDivider--gc2Ib"}),el.createElement(IJ,{cancel:o,canSave:i.canSave,save:()=>{let e=Iz(i),t=IK(i,a);if(!IY(i.maxDuration,i.isTimeMeasuredInDays))return;if(m(e,t)){o();return}let r=(0,e2.t)("org_settings.public_link_sharing.success"),n=()=>{a(Tr.yo({payload:{public_link_controls_setting:e,workshop_enabled:c,public_link_controls_max_expiration:t},successMessage:r}))};e===uW.w_.BANNED?a((0,t3.to)({type:Ai,data:{onConfirm:n,isOpenSessionsEnabled:c}})):(o(),n())}}))))},"PUBLIC_SHARING_MODAL"),Ai=(0,rr.Ju)(function(e){let t,a,r;return e.isOpenSessionsEnabled?(t=(0,e2.t)("settings_tab.public_sharing.confirmation_modal.disable_public_links_title"),a=(0,e2.t)("settings_tab.public_sharing.confirmation_modal.disable_public_links_submit"),r=el.createElement(e2.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_links_description"})):(t=(0,e2.t)("settings_tab.public_sharing.confirmation_modal.disable_public_sharing_title"),a=(0,e2.t)("settings_tab.public_sharing.confirmation_modal.disable_public_sharing_submit"),r=el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.main"}),el.createElement("ul",{className:"public_sharing_modal--bulletList--uA22J"},el.createElement("li",null,el.createElement(e2.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.figma_design"})),el.createElement("li",null,el.createElement(e2.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.figjam"}))))),el.createElement(rn.Rw,{confirmationTitle:t,confirmText:a,onConfirm:e.onConfirm,destructive:!0,tintedModalBackground:!0},r)},"CONFIRM_PUBLIC_SHARING_OFF_MODAL");var As=a(54816);class Ao extends el.PureComponent{constructor(e){super(e),this.hide=()=>{this.props.dispatch(t3.Ce()),this.props.onHide&&this.props.onHide()},this.onCreateTokenSuccess=(e,t)=>{this.props.onSubmit(e,t,e=>this.setState({error:e})).then(e=>{e&&this.hide(),this.setState({pendingPut:!1})})},this.onSubmitCardAndAddress=e=>{if(this.setState({error:null}),e&&e.preventDefault(),!this.state.cardEl)return;this.setState({pendingPut:!0});let t="An error occurred while reading your card.";if(this.props.canSeeBillingAddressExp&&!this.state.nameOnPaymentMethod){this.setState({error:(0,e2.t)("change_payment.name_required_on_card_error"),pendingPut:!1});return}let a=this.props.canSeeBillingAddressExp?{name:this.state.nameOnPaymentMethod,address_line1:this.state.address.line1,address_line2:this.state.address.line2,address_country:this.state.address.country,address_city:this.state.address.city,address_state:this.state.address.region,address_zip:this.state.address.postal_code}:void 0;(0,o4.Ey)(this.state.cardEl,a).then(e=>{if(e.error)this.props.dispatch(ae.s.error(e.error.message||t)),this.setState({pendingPut:!1});else{if(e&&e.token)return(0,o4.To)(e.token.id,this.props.estimatedChargeCents,this.props.currency||"usd").then(e=>{this.onCreateTokenSuccess({setup_intent:e},this.state.address)});this.props.dispatch(ae.s.error("Sorry, we're unable to change your payment source. Refresh and try again."))}}).catch(e=>{var a;this.props.dispatch(ae.s.error((null==(a=e.data)?void 0:a.message)||e.message||t)),this.setState({pendingPut:!1})})},this.state={address:(0,s1.EB)(e.defaultCountry),cardEl:null,pendingPut:!1,error:null,nameOnPaymentMethod:""}}render(){return el.createElement(rn.Nb,{hide:this.hide,size:464,className:As.ut},el.createElement("div",{className:As.dv},el.createElement("div",{className:As.gr},el.createElement(e2.Tx,{id:"change_payment.enter_credit_or_debit_card"})),el.createElement(cg.Jn,{className:As.b,onClick:this.hide,innerText:"close"})),null!=this.state.error?el.createElement("div",{className:As.jy},el.createElement(oH._,{color:oH.S.ERROR,text:this.state.error})):null,el.createElement("form",{onSubmit:this.onSubmitCardAndAddress},el.createElement(ct.n,{id:"change-payment-modal-form",cardId:"change-payment-modal-card",billingAddress:this.state.address,onCardReady:e=>this.setState({cardEl:e}),onBillingAddressChange:e=>this.setState({address:e}),isCommunityCheckout:!1,isCheckoutFlow:!1,canSeeBillingAddressExp:this.props.canSeeBillingAddressExp,nameOnPaymentMethod:this.state.nameOnPaymentMethod,setNameOnPaymentMethod:e=>this.setState({nameOnPaymentMethod:e})}),el.createElement("div",{className:As.v0},el.createElement("div",{className:As._f}),el.createElement(eT.vd,{tabIndex:0,type:"submit",disabled:this.state.pendingPut},el.createElement(e2.Tx,{id:"change_payment.use_this_card"})))))}}Ao.displayName="ChangePaymentModal";let Ac=(0,rr.Ju)(Ao,"OrgChangePaymentModal");function Ad({org:e,billableSeats:t,canSeeBillingAddressExp:a}){let r=(0,ei.wA)(),n=(0,ca.Oy)(t,"usd",e.plan||s0.ju.ORGANIZATION),l=async(t,n)=>{var l,i;let s={source_token:null==(l=t.token)?void 0:l.id,payment_method:null==(i=t.setup_intent)?void 0:i.payment_method,address:n,billing_address:a?n:void 0};try{await o3.Eh.updateOrgPaymentMethod({orgId:e.id,paymentMethod:s})}catch(e){return(0,d2.UE)(e,r),!1}return r(a0.F.enqueue({message:(0,e2.t)("org_admin_settings.billing_details.successfully_updated_your_payment_source")})),!0};return el.createElement(S$,{key:"change-payment-method",label:a?(0,e2.t)("org_admin_settings.settings_tab.billing.payment_details.label"):(0,e2.t)("org_admin_settings.settings_tab.billing.change_payment_method.label"),description:a?(0,e2.t)("org_admin_settings.settings_tab.billing.payment_details.description"):(0,e2.t)("org_admin_settings.settings_tab.billing.change_payment_method.description"),onClick:()=>{r((0,t3.to)({type:Ac,data:{dispatch:r,defaultCountry:(0,r$.aE)(),estimatedChargeCents:n,onSubmit:l,canSeeBillingAddressExp:a}}))}})}let Am="team_creation_controls_modal--settingLabel--iIFIb",Au="team_creation_controls_modal--description--bhS6C",A_="team_creation_controls_modal--radioLabel--3PgPp",Ap=(0,rr.Ju)(function(){var e;let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.orgById[e.currentUserOrgId]),r=(0,dM.c4)(a.id).data,n=()=>t(t3.Ce()),[l,i]=(0,el.useState)((null==(e=a.shared_org_license_group_settings)?void 0:e.team_creation_controls)?a.shared_org_license_group_settings.team_creation_controls:null);return el.createElement(e8.fu,{name:"Team Creation Control Setting Modal",properties:{orgId:a.id}},el.createElement(lD.Eo,{title:(0,e2.t)("org_settings.team_creation.modal",{organization:a.name}),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:()=>{if(a.shared_org_license_group_settings&&l===a.shared_org_license_group_settings.team_creation_controls||l===a.shared_org_license_group_settings){n();return}t(Tr.yo({payload:{team_creation_controls:l},successMessage:(0,e2.t)("org_settings.team_creation.success")})),n()},confirmText:(0,e2.t)("org_settings.team_creation.save_button")},el.createElement("div",null,el.createElement(mu.z,{value:l??uW.$q.TEAM_CREATION_CONTROLS_ANYONE,onChange:e=>{let t=null;"none"!==e&&(t=e),i(t)}},el.createElement(mu.Z,{key:uW.$q.TEAM_CREATION_CONTROLS_ANYONE,value:uW.$q.TEAM_CREATION_CONTROLS_ANYONE,labelClassName:A_,className:"team_creation_controls_modal--option--FVN-i"},el.createElement("div",{className:Am},el.createElement("div",null,(0,e2.t)("org_settings.team_creation.any.title")),el.createElement("div",{className:Au},(0,e2.t)("org_settings.team_creation.any.description")))),el.createElement(mu.Z,{key:uW.$q.TEAM_CREATION_CONTROLS_ADMIN_ONLY,value:uW.$q.TEAM_CREATION_CONTROLS_ADMIN_ONLY,labelClassName:A_},el.createElement("div",{className:Am},el.createElement("div",null,(0,e2.t)("org_settings.team_creation.admin_only.title")),el.createElement("div",{className:Au},r?(0,e2.t)("org_settings.team_creation.admin_only.description.workspaces"):(0,e2.t)("org_settings.team_creation.admin_only.description.no_workspaces"))))))))},"TEAM_CREATION_CONTROLS_MODAL");function Ag(e){var t,a,r,n,l,i;let{org:s,orgDomains:o,orgSamlConfig:c,shippingAddress:d,canSeeBillingAddressExp:m}=e,u=(0,ei.wA)(),_=(0,aN.Pc)(),[p,g]=el.useState(!1),[E,f]=el.useState(!1),h=(0,dM.c4)(s.id??null).data;el.useEffect(()=>{o3.Eh.getShowVatGst({orgId:s.id}).then(({data:e})=>{f(e.meta.show_vat_gst_id)})},[s.id]),el.useEffect(()=>{E&&kl(ki.m,()=>{Tr.Hq({org:s,dispatch:u})})},[E,u,s]);let v=[el.createElement(S$,{key:"org-handle",label:(0,e2.t)("settings_tab.modify_community_handle_label"),description:(0,e2.t)("settings_tab.modify_community_handle_description"),currentValue:s.community_profile_handle?`@${s.community_profile_handle}`:"",onClick:()=>{u(t3.to({type:TK.S3,data:{orgId:s.id,profileId:s.community_profile_id,profileHandle:s.community_profile_handle}}))}})];s.community_profile_id&&(v.push(el.createElement(S$,{key:"delete-profile",label:(0,e2.t)("settings_tab.delete_community_label"),description:(0,e2.t)("settings_tab.delete_community_description"),onClick:()=>{s.community_profile_id&&s.community_profile_handle&&u((0,t3.to)({type:TJ.M,data:{dispatch:u,profileId:s.community_profile_id,handle:s.community_profile_handle}}))}})),v.push(el.createElement(S$,{key:"restrict-comments",label:(0,e2.t)("settings_tab.community_commenters_label"),description:(0,e2.t)("settings_tab.community_commenters_description"),onClick:()=>{s.community_profile_id&&u((0,t3.to)({type:TZ.J,data:{profileId:s.community_profile_id,profileHandle:s.community_profile_handle,emptyStateText:`@${s.community_profile_handle} currently has no restricted commenters.`}}))}})));let b={title:(0,e2.t)("settings_tab.section_header.profile"),settings:v},y={title:(0,e2.t)("settings_tab.section_header.team_management"),settings:[el.createElement(S$,{key:"team-creation-controls",label:(0,e2.t)("settings_tab.team_creation_label"),description:(0,e2.t)("settings_tab.team_creation_description"),onClick:()=>{u((0,t3.to)({type:Ap}))}})]},w={title:(0,e2.t)("settings_tab.section_header.domains"),settings:[el.createElement(SH,{user:_,tag:"a_add_domain",key:"add-domain",label:(0,e2.t)("settings_tab.add_domain_label"),description:el.createElement(el.Fragment,null,el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_tab.add_domain_description"})),el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_tab.domain_list",numDomains:o.length,domains:el.createElement("span",null," ",el.createElement(ux.T,{formatType:"disjunction"},o.map(e=>el.createElement("span",{key:e.domain},e.domain))))})))})]},T=[];(0,u5.kA)(s)&&T.push(el.createElement(S$,{key:"guest-controls",label:(0,e2.t)("settings_tab.guest_membership_label"),description:(0,e2.t)("settings_tab.guest_membership_description"),onClick:()=>{u((0,t3.to)({type:IC}))}})),(0,u5.mU)(s)?T.push(el.createElement(S$,{key:"external-collab-controls",label:(0,e2.t)("settings_tab.external_collaboration_controls_label"),description:(0,e2.t)("settings_tab.external_collaboration_controls_description",{orgName:s.name}),currentValue:(null==(t=s.shared_org_license_group_settings)?void 0:t.external_collaboration_controls)?(0,e2.t)("settings_tab.disabled"):(0,e2.t)("settings_tab.enabled"),onClick:()=>{u((0,t3.to)({type:Iy}))}})):(0,u5.ZY)(s)&&T.push(el.createElement(SH,{user:_,tag:"a_permissions",key:"external-collab-controls",label:(0,e2.t)("settings_tab.external_collaboration_controls_label"),description:(0,e2.t)("settings_tab.external_collaboration_controls_description",{orgName:s.name}),contactSupportCopy:(0,e2.t)("settings_tab.contact_support_to_disable"),contactSupportTooltipCopy:(0,e2.t)("settings_tab.domain_capture_contact_support_tooltip_copy")})),T.push(el.createElement(S$,{key:"public-sharing",label:(0,e2.t)("settings_tab.public_sharing_title"),description:(0,e2.t)("settings_tab.public_sharing_description"),onClick:()=>{u((0,t3.to)({type:Al}))}})),(0,u5.kA)(s)&&T.push(el.createElement(S$,{key:"autogen-password-controls",label:(0,e2.t)("settings_tab.password_controls_settings_label"),description:(0,e2.t)("settings_tab.password_controls_settings_description",{orgName:s.name}),onClick:()=>{u((0,t3.to)({type:It}))}})),(0,u5.ag)(s)&&T.push(el.createElement(SH,{user:_,tag:"a_something_else",key:"ip_restriction",label:(0,e2.t)("settings_tab.network_access_restriction_label"),description:el.createElement(el.Fragment,null,el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_tab.ip_restriction_description",orgName:s.name})),el.createElement("span",null,0!==s.ip_ranges.length?el.createElement(e2.Tx,{id:"settings_tab.ip_restriction_range",ipRanges:el.createElement(ux.T,{formatType:"unit"},s.ip_ranges.map(e=>el.createElement("span",{key:e},e)))}):el.createElement(el.Fragment,null)))}));let x={title:(0,e2.t)("settings_tab.section_header.external_access"),settings:T},C=(null==(a=null==c?void 0:c.config)?void 0:a.idp_name)?(0,e2.t)("settings_tab.enabled"):(0,e2.t)("settings_tab.disabled"),N=[];if((0,em.sL)()||N.push(el.createElement(S$,{key:"authentication",label:(0,e2.t)("settings_tab.authentication_label"),description:(0,e2.t)("settings_tab.authentication_description"),currentValue:function(e){let t=(0,u5._g)(e);switch(t){case s0.Ct.SAML:return(0,e2.t)("settings_tab.sso_method.saml_only");case s0.Ct.GOOGLE:return(0,e2.t)("settings_tab.sso_method.google_only");case s0.Ct.ANY:return(0,e2.t)("settings_tab.sso_method.any_method");default:(0,eh.xb)(t)}}(s),onClick:()=>{u((0,t3.to)({type:S9}))}})),N.push(el.createElement(S$,{key:"saml",label:(0,e2.t)("settings_tab.saml_label"),description:(0,e2.t)("settings_tab.saml_description"),currentValue:C,onClick:()=>{u((0,t3.to)({type:kP}))}}),el.createElement(S$,{key:"scim",label:(0,e2.t)("settings_tab.scim_label"),description:(0,e2.t)("settings_tab.scim_description"),currentValue:(0,u5.cg)(c)?(0,e2.t)("settings_tab.enabled"):(0,e2.t)("settings_tab.disabled"),onClick:()=>{u((0,t3.to)({type:S8}))}})),(0,u5.kA)(s)&&N.push(el.createElement(S$,{key:"idle-sesstion-timeout-setting",label:(0,e2.t)("settings_tab.idle_session_timeout_label"),description:(0,e2.t)("settings_tab.idle_session_timeout_description"),currentValue:function(e){if(null==e)return(0,e2.t)("settings_tab.idle_session_timeout_default_duration");let[t,a]=(0,h7.qr)(e);return(0,e2.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:t})}(null==(r=s.shared_org_license_group_settings)?void 0:r.idle_timeout_duration_in_secs),onClick:()=>{var e;u((0,t3.to)({data:{idleTimeoutDurationInSecs:null==(e=s.shared_org_license_group_settings)?void 0:e.idle_timeout_duration_in_secs,orgId:s.id},type:IF}))}})),N.push(el.createElement(S$,{key:"default-role",label:(0,e2.t)("settings_tab.default_role_label.seat_rename"),description:el.createElement(e2.Tx,{id:"settings_table.default_role_entrypoint_description.seat_rename",plan_type:(0,e2.t)("settings_table.organization")}),onClick:()=>{u((0,t3.to)({type:Sx,data:{planType:kg.ORGANIZATION,planId:s.id}}))}})),(0,u5.kA)(s)&&h){let e=!!s.workspaces_nux_active_at,t=!e;N.push(el.createElement(Sq,{key:"workspace-selector",label:(0,e2.t)("settings_tab.workspace_selector_label"),description:el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"settings_tab.workspace_selector_description_with_link"}),el.createElement(eT.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/7249713835799"},el.createElement(oK.E,{i18nId:"general.learn_more"}))),isActive:e,onToggle:()=>{u(Tr.yo({payload:{workspaces_nux_enabled:t},successMessage:t?(0,e2.t)("license_group.workspace_selector_is_visible"):(0,e2.t)("license_group.workspace_selector_is_hidden")}))}}))}let k={title:(0,e2.t)("settings_tab.section_header.login_and_provisioning"),settings:N},S={title:(0,e2.t)("settings_tab.section_header.billing"),description:el.createElement(el.Fragment,null),settings:[]};if(e.renewalDate){let t=(i=e.renewalDate)?(0,dq.A)(i).format("MMMM D, YYYY"):"";S.description=el.createElement("div",{className:"settings_section--sectionDescription--rUoGP"},el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_table.subscription_renewal",frequency:"annual",billing_date:el.createElement("span",{className:"settings_section--boldText--NdRyj"},el.createElement(e2.Tx,{id:"settings_table.billing_date",billing_date:t})),more:el.createElement("button",{className:"settings_section--link--gbIUo",onClick:()=>{u((0,t3.to)({type:S0,data:{subscriptionStart:t}}))}},el.createElement(e2.Tx,{id:"settings_table.learn_more"}))})))}S.settings.push(el.createElement(Ad,{org:s,billableSeats:e.billableSeats,canSeeBillingAddressExp:m})),m&&S.settings.push(el.createElement(S$,{label:(0,e2.t)("org_admin_settings.settings_tab.billing.update_invoice_details.label"),description:(0,e2.t)("org_admin_settings.settings_tab.billing.update_invoice_details.description"),onClick:()=>u((0,t3.to)({type:ku,data:{orgId:s.id,shippingAddress:d,canSeeBillingAddressExp:m}}))})),(null==(n=s.shared_org_license_group_settings)?void 0:n.configured_upgrade_request_setting)&&S.settings.push(el.createElement(SH,{user:_,label:(0,e2.t)("settings_tab.configured_upgrade_request_flow.label"),description:(null==(l=s.shared_org_license_group_settings)?void 0:l.configured_upgrade_request_setting)===uW.Sm.MEMBERS?(0,e2.t)("settings_tab.configured_upgrade_request_flow.description_members"):(0,e2.t)("settings_tab.configured_upgrade_request_flow.description_all_users")})),S.settings.push(el.createElement(S$,{key:"upgrade-notifications",label:(0,e2.t)("settings_tab.new_editor_notifications.seat_rename"),description:(0,e2.t)("settings_tab.new_editor_notifications_description.seat_rename"),onClick:()=>{u((0,t3.to)({type:SP,data:{planType:kg.ORGANIZATION,planId:s.id}}))}})),S.settings.push(el.createElement(S$,{key:"billing-contacts",label:(0,e2.t)("settings_table.billing_contacts"),description:(0,e2.t)("settings_table.billing_contacts_description"),onClick:()=>{u(AE({orgId:s.id,currentContact:e.adminEmail||""}))}}));let I={title:(0,em.kc)().dse_preset_libraries?(0,e2.t)("settings_tab.section_header.resources"):(0,e2.t)("settings_tab.section_header.extensions"),settings:[]};I.settings.push(el.createElement(S$,{key:"plugin-admin-approval",label:(0,e2.t)("settings_tab.plugin_approval_label"),description:(0,e2.t)("settings_tab.plugin_approval_description"),testId:"plugin-approval-setting-action",onClick:()=>{u((0,t3.to)({type:NV,data:{orgId:s.id,extensionType:"plugin"}}))}}),el.createElement(S$,{key:"widget-admin-approval",label:(0,e2.t)("settings_tab.widget_admin_approval_label"),description:(0,e2.t)("settings_tab.widget_admin_approval_description"),testId:"widget-approval-setting-action",onClick:()=>{u((0,t3.to)({type:NV,data:{orgId:s.id,extensionType:"widget"}}))}})),I.settings.push(el.createElement(S$,{key:"dev-mode-plugins",label:(0,e2.t)("settings_tab.dev_mode_label"),description:(0,e2.t)("settings_tab.dev_mode_description"),onClick:()=>{u((0,t3.to)({type:Sf}))}})),(0,em.kc)().dse_preset_libraries&&I.settings.push(el.createElement(Sq,{key:"figma_libraries",label:(0,e2.t)("settings_tab.ui_kits_toggle_label"),description:(0,e2.t)("settings_tab.ui_kits_toggle_description"),isActive:!s.figma_provided_libraries_disabled,testId:"figma-provided-libraries-setting-toggle",onToggle:e=>{let t=e?(0,e2.t)("settings_tab.ui_kits_enabled"):(0,e2.t)("settings_tab.ui_kits_disabled");u(Tr.yo({payload:{figma_provided_libraries_disabled:!e},successMessage:t}))}}));let A={title:(0,e2.t)("settings_tab.section_header.ai_beta"),settings:[]};(0,em.sL)()||A.settings.push(el.createElement(Sq,{key:"ai_opt_out",label:(0,e2.t)("settings_tab.ai_beta.figma_and_figjam_ai"),description:el.createElement(e2.Tx,{id:"settings_tab.ai_beta.let_users_access_ai_features",learnMoreLink:el.createElement("a",{target:"_blank",rel:"noopener",className:"settings_section--blueLink--r5rrf blue_link--blueLink--9rlnd",href:TX.W9},el.createElement(e2.Tx,{id:"file_browser.team_settings.learn_more"}))}),descriptionClassName:"settings_section--descriptionWithChildren--2aduX",isActive:!s.ai_features_disabled,onToggle:e=>{let t=e?(0,e2.t)("settings_tab.ai_beta.enable_success"):(0,e2.t)("settings_tab.ai_beta.disable_success");u(Tr.yo({payload:{ai_features_disabled:!e},successMessage:t}))}}));let L={title:(0,e2.t)("settings_tab.section_header.other"),settings:[]};if((0,em.sL)()||L.settings.push(el.createElement(Sq,{key:"audio",label:(0,e2.t)("settings_tab.audio_label"),description:(0,e2.t)("settings_tab.audio_description"),isActive:!!s.voice_enabled,onToggle:e=>{let t=e?(0,e2.t)("settings_tab.audio_enabled"):(0,e2.t)("settings_tab.audio_disabled");u(Tr.yo({payload:{voice_enabled:e},successMessage:t}))}})),L.settings.push(el.createElement(Sq,{key:"custom-templates",label:(0,e2.t)("settings_tab.custom_templates_label"),description:(0,e2.t)("settings_tab.custom_templates_description"),isActive:!!s.are_custom_templates_allowed,onToggle:e=>{let t=e?(0,e2.t)("settings_tab.custom_templates_enabled"):(0,e2.t)("settings_tab.custom_templates_disabled");u(Tr.yo({payload:{custom_templates_allowed:e},successMessage:t}))}})),(0,u5.kA)(s)&&L.settings.push(el.createElement(Sq,{key:"cursor-chat",label:(0,e2.t)("settings_tab.cursor_chat_label"),description:(0,e2.t)("settings_tab.cursor_chat_description"),isActive:!s.cursor_chat_disabled,onToggle:e=>{u(Tr.yo({payload:{cursor_chat_disabled:!e},successMessage:e?(0,e2.t)("settings_tab.enable_cursor_chat_success"):(0,e2.t)("settings_tab.disable_cursor_chat_success")}))}})),s.community_profile_handle&&L.settings.push(el.createElement(Sq,{key:"community-file-publishing",label:(0,e2.t)("settings_tab.community_file_publishing_label"),description:(0,e2.t)("settings_tab.community_file_publishing_description"),isActive:!!s.cmty_publish_as_user_enabled,onToggle:e=>{u(Tr.yo({payload:{cmty_publish_as_user_enabled:e},successMessage:e?(0,e2.t)("settings_tab.enable_community_file_publishing_success"):(0,e2.t)("settings_tab.disable_community_file_publishing_success")}))}})),(0,u5.cg)(c)&&L.settings.push(el.createElement(S$,{key:"member-metadata",label:(0,e2.t)("settings_tab.member_metadata_label"),description:(0,e2.t)("settings_tab.member_metadata_description"),currentValue:s.featured_scim_metadata?(0,u5.du)(s.featured_scim_metadata):"",onClick:()=>u((0,t3.to)({type:Ia}))})),L.settings.push(el.createElement(S$,{key:"authentication",label:(0,e2.t)("settings_tab.connected_apps"),description:(0,e2.t)("settings_tab.connected_apps_description"),onClick:()=>{u((0,t3.to)({type:Iu,data:{org:s}}))}})),L.settings.push(el.createElement(S$,{key:"compliance-hub",label:(0,e2.t)("org_admin_settings.compliance_center_label"),description:(0,e2.t)("org_admin_settings.compliance_center_description"),onClick:()=>(0,i$.FJ)("/conveyor/sso","_blank")})),(0,u5.kA)(s)){let e=async e=>{var t,a;let r=await fetch("win"===e?"https://desktop.figma.com/win/releases.xml":"https://desktop.figma.com/mac-universal/releases.xml"),n=await r.text(),[l,i]=[null==(t=n.match(/<title>Figma (\d+\.\d+\.\d+)<\/title>/))?void 0:t[1],null==(a=n.match(/<pubDate>(.*?)<\/pubDate>/))?void 0:a[1]];l&&i&&u((0,t3.to)({type:Ig,data:{version:l,releaseDate:i,platform:e}}))};L.settings.push(el.createElement(S$,{key:"enterprise-installer",label:(0,e2.t)("org_admin_settings.enterprise_installer_label"),description:(0,e2.t)("org_admin_settings.enterprise_installer_description"),onClick:()=>e("win")})),L.settings.push(el.createElement(S$,{key:"enterprise-installer",label:(0,e2.t)("org_admin_settings.enterprise_installer_label_mac"),description:(0,e2.t)("org_admin_settings.enterprise_installer_description_mac"),onClick:()=>e("mac")}))}E&&L.settings.push(el.createElement(S$,{label:(0,e2.t)("settings_tab.vat_gst"),description:(0,e2.t)("settings_tab.change_vat_gst_id"),onClick:()=>Tr.Hq({org:s,dispatch:u})}));let R=s.target_locality===s0.OE.EU?(0,e2.t)("settings_tab.data_storage_eu"):(0,e2.t)("settings_tab.data_storage_us");L.settings.push(el.createElement(SH,{user:_,key:"data-locality-control",label:(0,e2.t)("settings_tab.data_storage"),description:(0,e2.t)("settings_tab.data_storage_description",{currentLocation:R})}));let O=[el.createElement(S$,{key:"delete-org",label:(0,e2.t)("settings_tab.delete_org_label"),description:(0,e2.t)("settings_tab.delete_org_description"),onClick:()=>u((0,t3.to)({type:SC}))})];s.domain_capture&&O.push(el.createElement(S$,{key:"delete-user",label:(0,e2.t)("settings_tab.delete_user_label"),description:(0,e2.t)("settings_tab.delete_user_description"),onClick:()=>u((0,t3.to)({type:SN}))}));let D=[b];return(0,u5.kA)(s)&&D.push(y),s.k12_google_org?D.push(w,x,I,L):D.push(w,x,k,(0,em.sL)()?null:S,I,A,L),el.createElement("div",{className:"settings_section--container--LjJC0 admin_settings_page--container--NGwts"},el.createElement(bK.K,{showBorderBottom:!0,title:u7(mz.J7.SETTINGS)}),el.createElement("div",{className:"settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},D.filter(e=>!!e).filter(e=>!!(null==e?void 0:e.settings.length)).map(e=>el.createElement(SV,{key:e.title,...e})),!p&&el.createElement("button",{className:"settings_section--showMore----gaP",onClick:()=>g(!0)},el.createElement(e2.Tx,{id:"settings_tab.show_more"})),p&&el.createElement(SV,{title:(0,e2.t)("settings_tab.section_header.user_data"),settings:O})),el.createElement("div",{className:"settings_section--settingsFooter--Kd1dR"}))}let AE=(0,a4.nF)((e,t,{liveStore:a})=>{let r=e.dispatch,{orgId:n,currentContact:l}=t,i=a.getMutation(uT.I2),s=e=>{r(ae.s.error((0,e2.Jv)(e,(0,e2.t)("payments.change_billing_contact_error")),5e3))},o=async t=>{await i({orgId:n,billingContacts:t,onRejected:s}),e.dispatch(ae.s.flash((0,e2.t)("org_admin_settings.billing_details.billing_contact_updated")))};r((0,t3.to)({type:SA,data:{currentContacts:l,onSubmit:o,isOrg:!0}}))});var Af=((B=Af||{}).NAME="name",B.OWNER="owner_name",B.PROJECTS="projects",B.MEMBERS="member_count",B.WORKSPACE="workspace_name",B.ORG_ACCESS="org_access",B),Ah=((U=Ah||{}).JOINED="JOINED",U.NOT_JOINED="NOT_JOINED",U),Av=a(179940),Ab=a(791435);function Ay(e,t){switch(t){case gf.Fb.ORG_BROWSABLE:return lm.bU.PRIVATE;case gf.Fb.HIDDEN:return lm.bU.SECRET;default:return e??null}}let Aw=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"owner.handle",weight:1},{name:"owner.email",weight:1}]});function AT({searchQuery:e,filters:t,sortConfig:a,enabled:r=!0,membersMap:n,firstPageSize:l}){var i,s,o;let{optimisticIds:c,addOptimisticIds:d,setServerData:m}=fz(),{subscription:u,status:_}=AC({searchQuery:e,filters:t,sortConfig:a,enabled:r,firstPageSize:l,extraTeamIds:c}),p=_===oL.r.SUCCESS&&!(null==(s=null==(i=u.data)?void 0:i.orgTeams)?void 0:s.isLoadingNextPage),g=p&&(null==(o=u.data)?void 0:o.orgTeams)&&u.data.orgTeams.hasNextPage()?()=>{u.data.orgTeams.loadNext(l||25)}:void 0;el.useEffect(()=>{var e;_===oL.r.SUCCESS&&m(((null==(e=u.data)?void 0:e.orgTeams)||[]).filter(e=>!!e.teamId).map(e=>({id:e.teamId})))},[_,u.data,m]);let E=el.useMemo(()=>u.data?AS(u.data,n,t):[],[u.data,n,t]),f=el.useMemo(()=>u.data?function(e,t,a,r){var n;let l=(0,aX.oA)(e.org),i=(l&&l.teamsByIdInAdmin.status===aX.tT.Loaded?((0,aX.oA)(l.teamsByIdInAdmin)||[]).map(e=>e.team):(null==(n=(0,aX.oA)(e.org))?void 0:n.teamsById)||[]).map(e=>Ak(e,t)).filter(e=>AN(e,a));return r?(Aw.set(i),Aw.search(r)):i}(u.data,n,t,e):[],[u.data,n,t,e]),{trackPerformanceEvent:h}=(0,Ab.S)("teams_table_fetch_performance","livegraph");return(0,el.useEffect)(()=>{h("fetch_end")},[h,E.length]),(0,el.useEffect)(()=>{_===oL.r.FAILURE&&h("fetch_error")},[h,_]),(0,el.useEffect)(()=>{h("fetch_start")},[h]),{status:_,teams:E,optimisticTeams:f,fetchMore:g,allTeamsFetched:p&&!g,addOptimisticIds:d}}function Ax({searchQuery:e,filters:t,sortConfig:a,optimisticIds:r,firstPageSize:n,selectedAll:l}){var i;let[s,o]=el.useState({}),c=(0,dZ.Z)(e),d=(0,dZ.Z)(t),m=(0,dZ.Z)(a),u=(0,dZ.Z)(l),_=c!==e||(null==t?void 0:t.orgAccessFilter)!==(null==d?void 0:d.orgAccessFilter)||(null==t?void 0:t.discoverabilityFilter)!==(null==d?void 0:d.discoverabilityFilter)||(null==t?void 0:t.orphanedTeamFilter)!==(null==d?void 0:d.orphanedTeamFilter)||(null==t?void 0:t.teamMembershipFilter)!==(null==d?void 0:d.teamMembershipFilter)||(null==t?void 0:t.workspaceFilter)!==(null==d?void 0:d.workspaceFilter)||(null==a?void 0:a.columnName)!==(null==m?void 0:m.columnName)||(null==a?void 0:a.isReversed)!==(null==m?void 0:m.isReversed)||!u&&l,p=!l;el.useEffect(()=>{_&&o({})},[_]);let{subscription:g,status:E}=AC({searchQuery:e,filters:t,sortConfig:a,firstPageSize:n,enabled:!p});if(el.useEffect(()=>{var e,a;if(E!==oL.r.SUCCESS)return;let r=g.data?AS(g.data,{},t):[];o(e=>{let t=_?{}:{...e};return r.forEach(e=>t[e.id]=e),t}),(null==(a=null==(e=g.data)?void 0:e.orgTeams)?void 0:a.hasNextPage())&&g.data.orgTeams.loadNext(n||400)},[E,g.data,_,n,t]),p)return{status:oL.r.INIT,teams:[],totalSelectable:null};let f=E===oL.r.SUCCESS&&(null==(i=g.data)?void 0:i.orgTeams)&&!g.data.orgTeams.hasNextPage(),h=null;return f&&(h=Object.keys(s).length+(r||[]).filter(e=>!s[e]).length),{status:f?oL.r.SUCCESS:E===oL.r.SUCCESS?oL.r.LOADING:E,teams:Object.values(s),totalSelectable:h}}function AC({searchQuery:e,filters:t,sortConfig:a,enabled:r=!0,firstPageSize:n,extraTeamIds:l=[]}){let i=(0,sK.dq)(),s=(0,aX.Rs)(a9.jl4,{orgId:i,firstPageSize:n||25,queryParams:function(e,t,a){let r=Ay(null==t?void 0:t.orgAccessFilter,null==t?void 0:t.discoverabilityFilter);return String((0,Av.lF)({...a&&{sort_by:a.columnName},...a&&{order_by:a.isReversed?fM.dy.DESC:fM.dy.ASC},...e&&{search_query:e},...r&&{org_access:r},...(null==t?void 0:t.orphanedTeamFilter)&&{teams_without_owners:t.orphanedTeamFilter},...(null==t?void 0:t.teamMembershipFilter)&&{member_of_filter:null!==t.teamMembershipFilter},...(null==t?void 0:t.teamMembershipFilter)&&{teams_member_of:t.teamMembershipFilter===Ah.JOINED},...(null==t?void 0:t.workspaceFilter)&&{workspace_id:t.workspaceFilter}}))}(e,t,a),extraTeamIds:l},{enabled:r}),o=oL.r.LOADING;return"loaded"===s.status?o=oL.r.SUCCESS:"errors"===s.status&&(o=oL.r.FAILURE),{subscription:s,status:o}}function AN(e,t){let a=(0,em.kc)().teams_table_disable_fe_filters;return(!!a||null==t||!t.orphanedTeamFilter||!e.owner)&&(!!a||null==t||!t.teamMembershipFilter||t.teamMembershipFilter===e.userTeamMembership)&&(!!a||null==t||!t.orgAccessFilter||t.orgAccessFilter===e.org_access)&&(!!a||null==t||!t.discoverabilityFilter||(t.discoverabilityFilter!==gf.Fb.ORG_BROWSABLE||e.org_access===gt.bUL.PRIVATE)&&(t.discoverabilityFilter!==gf.Fb.HIDDEN||e.org_access===gt.bUL.SECRET))&&(null==t||!t.workspaceFilter||(t.workspaceFilter!==fw.O||null===e.workspace_id)&&(t.workspaceFilter===fw.O||t.workspaceFilter===e.workspace_id))}function Ak(e,t,a){var r,n,l,i,s,o;let c=t[e.id]??0,d=(null==(r=(0,aX.oA)(e.ownerRole))?void 0:r.user)??null;return{...e,id:e.id,created_at:null==(n=e.createdAt)?void 0:n.toISOString(),img_url:e.imgUrl||void 0,org_id:e.orgId,name:e.name,description:e.description||"",hidden:e.hidden,org_browsable:e.orgBrowsable,license_group_id:e.licenseGroupId,workspace_id:e.workspaceId,org_access:e.orgAccess||null,projects:Number(e.projectsCount)||0,editors:Number(e.editorsCount)||0,restrictions_list:e.restrictionsList||null,subscription:e.subscription||null,subscription_raw:e._subscriptionRaw||null,stripe_customer_id:e.stripeCustomerId||null,student_team_at:(null==(l=e.studentTeamAt)?void 0:l.toISOString())||null,student_team_state:e.studentTeamState||gf.kU.STUDENT_TEAM_NULL,student_autoverifying_team_at:(null==(i=e.studentAutoverifyingTeamAt)?void 0:i.toISOString())||null,student_team:!!e.studentTeamAt,pro_team:!1,org_team:!0,starter_team:e.isStarterTeam||!1,grace_period_end:(null==(s=e.gracePeriodEnd)?void 0:s.toISOString())||null,grace_period_type:e.gracePeriodType||null,last_upgraded_at:null,deleted_at:(null==(o=e.deletedAt)?void 0:o.toISOString())||null,experiment_seed:e.experimentSeed||null,license_group:null,default_permission:e.defaultPermission,vat_gst_id:e.vatGstId||void 0,tax_id_verification_status:e.taxIdVerificationStatus||void 0,ai_features_disabled:!!e.aiFeaturesDisabledAt,legal_name:e.legalName||null,sharing_audience_control:e.sharingAudienceControlComputed||void 0,orphaned:!d,member_count:"number"==typeof a?Math.max(a+c,0):void 0,owner:d&&{id:d.id,name:d.name||void 0,handle:d.handle||"",img_url:d.imgUrl||"",email:d.email||void 0,description:d.description,org_id:e.orgId||void 0},experiment_assignments:[],userTeamMembership:null===e.roleOnObjectTeamForUser?Ah.NOT_JOINED:Ah.JOINED}}function AS(e,t,a){return(e.orgTeams||[]).filter(e=>!!e.team).map(e=>Ak(e.team,t,e.memberCount?Number(e.memberCount):null)).filter(e=>AN(e,a))}let AI=(0,rr.Ju)(function({workspaceId:e,onSubmit:t}){let a=(0,ei.wA)(),r=(0,sK.dq)(),n=(0,h9.D)(null,r||null),[l,i]=el.useState({columnName:Af.NAME,sortingKey:Af.NAME,isReversed:!1}),s=el.useCallback(e=>{i(t=>({columnName:e,isReversed:t.sortingKey===e&&!t.isReversed,sortingKey:e}))},[i]),[o,c]=el.useState(""),d=el.useCallback(e=>{c(e)},[]),m=el.useMemo(()=>(0,d9.s)(d,300),[d]),[u,_]=el.useState(!1),p=el.useCallback(()=>{_(e=>!e)},[]),g=el.useMemo(()=>({orgAccessFilter:null,discoverabilityFilter:null,teamMembershipFilter:null,workspaceFilter:fw.O,orphanedTeamFilter:u}),[u]),{teams:E,fetchMore:f,allTeamsFetched:h}=AT({filters:g,sortConfig:l,searchQuery:o,membersMap:{}}),[v,b]=el.useState(!1),{status:y,teams:w}=Ax({searchQuery:o,filters:g,selectedAll:v}),T=(0,aX.Rs)(a9.z$o,{workspaceId:e}),x=T.data?(0,aX.oA)(T.data.workspace):null,C=null==x?void 0:x.name;if(!C)return null;let N=[{name:(0,e2.t)("teams_table.team_name"),className:"add_unassigned_teams_modal--nameColumn--H2d4L members_table--avatarColumn--wIwso members_table--column--OzyGH admin_settings_page--membersColumn--VDK1e table--column--974RA",sorting_key:Af.NAME,getSortValue:e=>e.name,cellComponent:e=>el.createElement(nX.Y,{direction:"horizontal",spacing:8},el.createElement(aa.CH,{entity:e,size:22}),el.createElement("div",{className:eE.cx.flex.flexColumn.minW0.$},el.createElement(nX.Y,{spacing:"2px"},el.createElement(oK.E,{truncate:!0},e.name),el.createElement(uj.HL,{orgId:r,orgAccess:e.org_access})),n||!e.org_access?el.createElement(oK.E,{color:"secondary",i18nId:"add_unassigned_teams_modal.team_metadata",i18nParams:{memberCountInfo:(0,e2.t)("add_unassigned_teams_modal.member_count",{memberCount:e.member_count||0}),projectCountInfo:(0,e2.t)("add_unassigned_teams_modal.project_count",{projectCount:e.projects||0})}}):el.createElement(oK.E,{color:"secondary",i18nId:"add_unassigned_teams_modal.team_metadata.with_access_setting",i18nParams:{accessSettingInfo:function(e){switch(e){case lm.bU.PUBLIC:return(0,e2.t)("add_unassigned_teams_modal.org_access.public");case lm.bU.PRIVATE:return(0,e2.t)("add_unassigned_teams_modal.org_access.private");case lm.bU.SECRET:return(0,e2.t)("add_unassigned_teams_modal.org_access.secret");default:(0,eh.xb)(e)}}(e.org_access),memberCountInfo:(0,e2.t)("add_unassigned_teams_modal.member_count",{memberCount:e.member_count||0}),projectCountInfo:(0,e2.t)("add_unassigned_teams_modal.project_count",{projectCount:e.projects||0})}}))),loadingComponent:el.createElement(nX.Y,{direction:"horizontal",height:"hug-contents"},el.createElement("div",{style:{width:22,height:22}},el.createElement(uM.Wi,{className:eE.cx.wFull.hFull.$,animationType:uM.JR.NO_SHIMMER})),el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",spacing:4},el.createElement("div",{style:{width:128}},el.createElement(uM.Wi,{className:eE.cx.wFull.h14.$,animationType:uM.JR.NO_SHIMMER})),el.createElement("div",{style:{width:80}},el.createElement(uM.Wi,{className:eE.cx.wFull.h14.$,animationType:uM.JR.NO_SHIMMER}))))},{name:(0,e2.t)("teams_table.owner"),className:"add_unassigned_teams_modal--ownerColumn--jLx2z",sorting_key:Af.OWNER,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>{var t;return el.createElement(nX.Y,{width:"fill-parent"},el.createElement(oK.E,{truncate:!0},(null==(t=e.owner)?void 0:t.handle)||(0,e2.t)("add_unassigned_teams_modal.no_owner")))},loadingComponent:el.createElement("div",{style:{width:80}},el.createElement(uM.Wi,{className:eE.cx.wFull.h14.$,animationType:uM.JR.NO_SHIMMER}))}],k=()=>{a(t3.Lo())};function S({selectedTeams:r}){if(0===r.length)return el.createElement(mE.$,{variant:"primary",disabled:!0},el.createElement(e2.Tx,{id:"add_unassigned_teams_modal.assign_teams"}));let n=v&&!h;if(n&&y===oL.r.LOADING)return el.createElement(mE.$,{variant:"primary",disabled:!0},el.createElement("div",{style:{width:80}},el.createElement(uM.Wi,{className:eE.cx.h12.wFull.$,animationType:uM.JR.SHIMMER_ON_MENU,dataTestId:"add-unassigned-teams-modal-button-loading"})));let l=r;if(n){let e=new Set(r.map(e=>e.id)),t=new Set(E.filter(t=>!e.has(t.id)).map(e=>e.id));l=w.filter(e=>!t.has(e.id))}return el.createElement(mE.$,{variant:"primary",onClick:function(){a(yD.xM({teams:l,workspaceId:e,workspaceName:C})),null==t||t(l.map(e=>e.id)),k()}},el.createElement(e2.Tx,{id:"add_unassigned_teams_modal.assign_n_teams",count:l.length}))}return el.createElement(e8.fu,{name:"Add Unassigned Teams Modal"},el.createElement(lD.XV,{title:(0,e2.t)("add_unassigned_teams_modal.title",{workspaceName:C}),maxWidth:480,onClose:k,containerClassName:"add_unassigned_teams_modal--unassignedTab--My2Tq",innerContainerClassName:eE.cx.hFull.flex.flexColumn.$,fixedTop:!0},el.createElement(nX.Y,{height:"hug-contents",padding:16},el.createElement(oK.E,{i18nId:"add_unassigned_teams_modal.description",i18nParams:{workspaceName:C}})),el.createElement(nX.Y,{height:"hug-contents",padding:{horizontal:16,vertical:0}},el.createElement(uP.y2,{styleOverrides:{boxSizing:"border-box",width:"100%",height:"32px"},onChange:m,focusOnMount:!1,query:o,clearSearch:()=>d(""),placeholder:(0,e2.t)("add_unassigned_teams_modal.search_for_teams")})),el.createElement(nX.Y,{height:"hug-contents",padding:8},el.createElement(hV.S,{checked:u,onChange:p,label:el.createElement(hG.J,null,el.createElement(e2.Tx,{id:"add_unassigned_teams_modal.without_owners"}))})),el.createElement(u$.Cj,{items:E,columns:N,itemTypeContext:{itemType:"team",getSelectedCountString:e=>(0,e2.t)("multi_select_list.selected_count_team",{numSelected:e})},getItemKey:e=>e.id,emptyContent:el.createElement(nX.Y,{padding:38},el.createElement(oK.E,{color:"secondary",i18nId:"add_unassigned_teams_modal.no_teams_found"})),sortState:l,onSetSortState:s,scrollContainerInnerClassName:"add_unassigned_teams_modal--scrollContainerInner--fIiId",minContentWidth:448,isLoading:!h,onFetchMore:f,styleOverrideClassNames:{header:"add_unassigned_teams_modal--header--XwBY8 add_unassigned_teams_modal--extendedRow--UIQ1u",row:"add_unassigned_teams_modal--row--bWhBU add_unassigned_teams_modal--unassignedRowBackgroundStyles--ee10b add_unassigned_teams_modal--extendedRow--UIQ1u",checkboxColumn:"add_unassigned_teams_modal--checkboxColumn--IJS4v",selectedRow:"add_unassigned_teams_modal--selectedRow--vUiFc add_unassigned_teams_modal--unassignedRowBackgroundStyles--ee10b add_unassigned_teams_modal--extendedRow--UIQ1u",tableWrapper:"add_unassigned_teams_modal--tableWrapper--6aLMD"},paddingEnd:8,footer:function(e){return el.createElement(nX.Y,{height:"hug-contents",padding:16},el.createElement(nX.M,null),el.createElement(S,{selectedTeams:e}))},onToggleSelectAll:e=>b(!e)})))},"ADD_UNASSIGNED_TEAMS_MODAL");var AA=((W=AA||{})[W.SEARCH=0]="SEARCH",W[W.FILTER=1]="FILTER",W);let AL=()=>({[Ah.JOINED]:(0,e2.t)("teams_table.membership_filter.my_teams_option"),[Ah.NOT_JOINED]:(0,e2.t)("teams_table.membership_filter.not_my_teams_option")});function AR(e){let{dropdownShown:t,lastFilterAction:a,onFilter:r,onSearch:n,onFetchMore:l,onSort:i,filters:s,sortState:o,org:c,searchQuery:d,teamRoleRequests:m,teams:u,optimisticTeams:_,isLoading:p,onViewerJoinTeam:g,onViewerLeaveTeam:E,addOptimisticIds:f}=e,[h,v]=el.useState(!1),[b,y]=el.useState(null),w=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),T=(0,ei.wA)(),[x,C]=el.useState(new Map),N=el.useCallback(()=>{wX.S.getOrgTeamTransfers({orgId:c.id}).then(({data:e})=>{let t=e.meta;if(t)for(let e of t)C(t=>new Map(t.set(e.source_team_id,e)))})},[c.id]),k=e=>{C(t=>new Map(t.set(e,null))),T(a0.F.enqueue({message:(0,e2.t)("asset_transfers.revoke.transfer_revoked")}))},{status:S,teams:I,totalSelectable:A}=Ax({searchQuery:d,filters:s,optimisticIds:_.map(e=>e.id),selectedAll:!!b}),{onChangeOrgAccess:L,onAddToWorkspace:R,onRemoveFromWorkspace:O}=Tu(m,x,N,k),D=el.useMemo(()=>"loaded"===e.orgTeamCountsViewResult.status?e.orgTeamCountsViewResult.data:{workspaces:{[fw.O]:0},org_access:{[lm.bU.PUBLIC]:0,[lm.bU.PRIVATE]:0,[lm.bU.SECRET]:0},team_membership:{JOINED:0,NOT_JOINED:0}},[e.orgTeamCountsViewResult]),F=(0,ei.d4)(({selectedView:e})=>e),M="orgAdminSettings"===F.view,P="workspace"===F.view&&F.subView===m$.V0.ADMIN,B=(0,ei.d4)(({selectedView:e})=>"workspace"===e.view&&e.subView===m$.V0.ADMIN?e.workspaceId:null),U=!e_.rr&&M,W=(0,dM.NJ)(c.id),V=W.data||[],G={};V.forEach(e=>G[e.id]=e);let $=(0,h9.D)(null,(null==c?void 0:c.id)||null),j=!!(0,em.kc)().workspace_assign_teams_modal,H=JSON.stringify(x);el.useEffect(()=>{N()},[H,N]);let q=()=>{let e;e=B||(s.workspaceFilter?s.workspaceFilter:void 0),T(t3.to({type:pu.Uc,data:{workspaceId:e}}))},Y=B&&s.workspaceFilter!==fw.O,z=e=>`ORG-ACCESS-DROPDOWN-${e.id}`;function K(e,a){return el.createElement(xk,{org:c,team:e,areDropdownsDisabled:a,dropdownShown:t,teamRoleRequests:m,teamPendingTransfers:x,pendingTransferRequests:N,onRevokeTransferRequestSuccess:k,workspacesCanMoveTo:V,onViewerJoinTeam:g,onViewerLeaveTeam:E})}function J(e){var t,a;if(x&&x.get(e.id)){let r=(0,e2.t)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:null==(t=x.get(e.id))?void 0:t.source_user_email,destinationUserEmail:null==(a=x.get(e.id))?void 0:a.destination_user_email});return el.createElement("div",{className:xC,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":2,"data-tooltip-max-width":250},el.createElement(eC.B,{svg:EA.A,className:xx}))}return el.createElement(el.Fragment,null)}let Q=e=>{let t=e&&G[e]?e:null,a=V.map(e=>({type:"option",key:e.id,text:e.name}));return a.push({type:"separator",key:"separator"}),a.push({type:"option",key:fw.O,text:t?(0,e2.t)("members_table.workspace_cell.unassign"):(0,e2.t)("workspace.unassigned"),selectedLabelClass:eE.cx.textFGBlack54__DEPRECATED.$}),{options:a,selectedValue:t??fw.O}},Z=(()=>{let e=[];function a(){return el.createElement(el.Fragment,null,"\u2013")}return e.push({name:(0,e2.t)("teams_table.team_name"),className:xp,sorting_key:Af.NAME,getSortValue:e=>e.name,cellComponent:e=>el.createElement(nX.Y,null,el.createElement(aa.rE,{entity:e,size:22,className:xN}),el.createElement(uj.HL,{orgId:c.id,orgAccess:e.org_access}))}),e.push({name:(0,e2.t)("teams_table.owner"),className:xE,sorting_key:Af.OWNER,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>e.owner?el.createElement(uX,{entity:e.owner,size:22,dispatch:T}):el.createElement(a,null)}),e.push({name:(0,e2.t)("teams_table.projects"),className:xf,sorting_key:Af.PROJECTS,getSortValue:e=>e.projects,sortNumerically:!0,cellComponent:e=>el.createElement(e2.Tx,{id:"teams_table.project_count",numProjects:e.projects})}),e.push({name:(0,e2.t)("teams_table.members"),className:xh,sorting_key:Af.MEMBERS,getSortValue:e=>"number"==typeof e.member_count?e.member_count:-1,sortNumerically:!0,cellComponent:e=>"number"==typeof e.member_count?el.createElement(e2.Tx,{id:"teams_table.member_count",numMembers:e.member_count}):el.createElement(a,null)}),$||e.push({name:(0,e2.t)("teams_table.org_access"),className:xv,sorting_key:Af.ORG_ACCESS,getSortValue:e=>{switch(e.org_access||lm.bU.PUBLIC){case lm.bU.PUBLIC:return`a${e.name}`;case lm.bU.PRIVATE:return`b${e.name}`;case lm.bU.SECRET:return`c${e.name}`}},cellComponent:(e,r)=>e.org_access?(0,sQ.canManageOrgTeam)(e.id,w)?el.createElement(v7.H,{dispatch:T,dropdownShown:t,value:e.org_access,options:Tm(),onChange:t=>{L(e,t)},id:z(e),disabled:r}):el.createElement(el.Fragment,null,(0,dP.ZP)()[e.org_access]):el.createElement(a,null)}),c.bigma_enabled&&V.length>0&&e.push({name:(0,e2.t)("teams_table.enterprise.workspace"),sorting_key:Af.WORKSPACE,getSortValue:e=>{var t;return e.workspace_id&&(null==(t=G[e.workspace_id])?void 0:t.name)||""},className:xg,cellComponent:(e,a)=>{let r=`UPDATE_TEAM_WORKSPACE-${e.id}`,{options:n,selectedValue:l}=Q(e.workspace_id);return el.createElement("div",{className:eE.cx.maxWFull.$},"loaded"===W.status?el.createElement(v7.H,{dispatch:T,dropdownShown:t,disabled:a,value:l,options:n,onChange:t=>{var a;t===fw.O?O(e):R(e,t,null==(a=G[t])?void 0:a.name)},id:r}):el.createElement("div",{style:cs.sx.w64.$},el.createElement(uM.Wi,{className:eE.cx.h24.w64.$,animationType:uM.JR.SHIMMER})))}}),e.push({name:" ",className:xy,cellComponent:J}),e.push({name:"",className:xb,cellComponent:K}),e})(),X=Z.find(e=>e.name===o.columnName)||Z[0],ee=el.useMemo(()=>(0,fq.m)(u,_,X,o),[u,_,o]);return el.createElement(el.Fragment,null,el.createElement(bK.K,{title:u7(mz.J7.TEAMS),hasHorizontalPadding:!0,rightActions:el.createElement(nX.Y,{width:"hug-contents"},el.createElement(mE.$,{icon:"plus-32",onClick:q,"data-onboarding-key":uc},el.createElement(oK.E,{i18nId:"teams_table.team"})),j&&B&&el.createElement(mE.$,{onClick:()=>{T(t3.to({type:AI,data:{workspaceId:B,onSubmit:e=>{e.length<=50&&f(e)}}}))}},el.createElement(oK.E,{i18nId:"teams_table.assign_teams"})),el.createElement(mE.V,{onClick:()=>{if(h)return;v(!0),T(a0.F.enqueue({message:(0,e2.t)("teams_table.csv_export.preparing_request"),type:"orgTeam.exportCSV",icon:uB.zX.SPINNER}));let t=B?`/api/workspace/${B}/export_teams`:`/api/orgs/${e.org.id}/export_teams`;td.Ay.post(t).then(()=>{T(a0.F.enqueue({message:(0,e2.t)("teams_table.csv_export.generating"),type:"orgTeam.exportCSV",icon:uB.zX.CHECK})),v(!1)},()=>{T(a0.F.enqueue({message:(0,e2.t)("teams_table.csv_export.error"),type:"orgTeam.exportCSV",icon:uB.zX.EXCLAMATION,error:!0})),v(!1)})},trackingProperties:{action:"Export CSV"}},el.createElement(oK.E,{i18nId:"teams_table.csv_export.get_csv"})))}),el.createElement(u$.Cj,{hasNewScrollContext:!0,emptyContent:el.createElement(b5.p,null,(()=>{let e=()=>{r({orgAccessFilter:null,discoverabilityFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null})},t=s.workspaceFilter?el.createElement(e2.Tx,{id:"teams_table.no_teams_to_show"}):el.createElement("span",null,el.createElement(e2.Tx,{id:"teams_table.your_organization_does_not_have_any_teams_yet"})," ",el.createElement("a",{className:xw,onClick:q},el.createElement(e2.Tx,{id:"teams_table.create_one"}))),n=el.createElement("span",null,(0,e2.t)("teams_table.no_teams_to_show")," ",el.createElement("a",{className:xw,onClick:()=>e()},el.createElement(e2.Tx,{id:"multi_select_list.reset_filters"}))),l=el.createElement(e2.Tx,{id:"teams_table.no_search_results"}),i=s.orgAccessFilter||s.discoverabilityFilter||s.teamMembershipFilter||s.orphanedTeamFilter;return i&&d?0===a?l:n:i?n:d?l:t})()),items:ee,getItemKey:e=>e.id,columns:Z,stickyContent:el.createElement(el.Fragment,null,P&&el.createElement(aV.p,null,el.createElement(w6,null)),!j&&!!B&&el.createElement(Te,{workspace:V.filter(e=>e.id===B)[0]}),el.createElement("div",{className:x_},el.createElement("div",{className:be.cE},el.createElement("div",{className:eE.cx.pr8.$},el.createElement(uP.y2,{onChange:n,focusOnMount:!1,query:d,clearSearch:()=>{n("")},placeholder:(0,e2.t)("teams_table.search_teams_with_ellipsis")})),el.createElement(b9,{selectedWorkspaceId:s.workspaceFilter,onFilterUpdate:e=>r({workspaceFilter:e}),getCount:e=>{var t;return(null==(t=D.workspaces)?void 0:t[e])??0}}),$?el.createElement(uj.bv,{dropdownShown:t,dropdownType:"FILTER_DISCOVERABILITY_DROPDOWN",selectedValue:s.discoverabilityFilter,getDisplayText:e=>(0,dP.e$)()[e],getSelectedDisplayText:e=>{switch(e){case gf.Fb.ORG_BROWSABLE:return(0,e2.t)("teams_table.discoverability_filter.visible");case gf.Fb.HIDDEN:return(0,e2.t)("teams_table.discoverability_filter.hidden");default:return(0,e2.t)("teams_table.discoverability_filter.all")}},getCount:e=>D.org_access[e===gf.Fb.ORG_BROWSABLE?lm.bU.PRIVATE:lm.bU.SECRET],updateFilter:e=>r({discoverabilityFilter:e}),values:Object.values(gf.Fb),dispatch:T}):el.createElement(uj.bv,{"data-onboarding-key":"teams_table_onboarding_key",dropdownShown:t,dropdownType:"FILTER_ORG_ACCESS_DROPDOWN",selectedValue:s.orgAccessFilter,getDisplayText:e=>(0,dP.ZP)()[e],getSelectedDisplayText:e=>{switch(e){case lm.bU.PUBLIC:return(0,e2.t)("teams_table.org_access_filter.open");case lm.bU.PRIVATE:return(0,e2.t)("teams_table.org_access_filter.closed");case lm.bU.SECRET:return(0,e2.t)("teams_table.org_access_filter.secret");default:return(0,e2.t)("teams_table.org_access_filter.all")}},getCount:e=>D.org_access[e],updateFilter:e=>r({orgAccessFilter:e}),values:Object.values(lm.bU),dispatch:T}),el.createElement(uj.bv,{dropdownShown:t,dropdownType:"FILTER_TEAM_MEMBERSHIP_DROPDOWN",selectedValue:s.teamMembershipFilter,getDisplayText:e=>AL()[e],getSelectedDisplayText:e=>{switch(e){case Ah.JOINED:return(0,e2.t)("teams_table.membership_filter.my_teams_label");case Ah.NOT_JOINED:return(0,e2.t)("teams_table.membership_filter.not_my_teams_label");default:return(0,e2.t)("teams_table.membership_filter.all")}},getCount:e=>D.team_membership[e],updateFilter:e=>r({teamMembershipFilter:e}),values:Object.values(Ah),dispatch:T}),el.createElement(e8.jm,{className:be.$u,onClick:()=>r({orphanedTeamFilter:!s.orphanedTeamFilter}),trackingProperties:{filterType:"OrphanedTeamFilter",isFilterEnabled:!s.orphanedTeamFilter}},el.createElement(eT.tB,{checked:s.orphanedTeamFilter,onChange:eu.lQ}),el.createElement(e2.Tx,{id:"teams_table.teams_without_owners"}))),el.createElement("div",{className:be.ld},Y&&el.createElement("div",{className:be.hP,onClick:()=>{T((0,t3.to)({type:xD,data:{workspaceId:B}}))}},el.createElement(eC.B,{className:be.gE,svg:EV.A}),el.createElement(e2.Tx,{id:"teams_table.enterprise.edit_default_teams"}))))),actionBar:e=>{let t=new Set(e.map(e=>e.id));if(b&&null===A)return el.createElement("div",{style:cs.sx.w150.$},el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER_ON_MENU}));let a=!1;if(b&&null!==A&&(a=p),a&&S===oL.r.LOADING)return el.createElement("div",{style:cs.sx.w150.$},el.createElement(uM.Wi,{className:eE.cx.h12.w150.$,animationType:uM.JR.SHIMMER_ON_MENU}));let r=I.map(e=>({...e,userTeamMembership:(0,sQ.hasViewerRoleAccessOnTeam)(e.id,w)?Ah.JOINED:Ah.NOT_JOINED})),n=e;if(a){let e=new Set(ee.map(e=>e.id).filter(e=>!t.has(e)));n=r.filter(t=>!e.has(t.id))}return el.createElement(Tg,{workspacesCanMoveTo:V,org:c,selectedTeams:n,teamRoleRequests:m,teamPendingTransfers:x,pendingTransferRequests:N,onRevokeTransferRequestSuccess:k,onViewerJoinTeam:g,onViewerLeaveTeam:E})},actionBarClassName:xT,itemTypeContext:{itemType:"team",getSelectedCountString:e=>b&&(!A||S!==oL.r.SUCCESS)?"":(0,e2.t)("multi_select_list.selected_count_team",{numSelected:e})},minContentWidth:(0,te.hG)(e5.YEj),isBannerHeightDynamic:!0,sortState:o,onSetSortState:i,isLoading:p,onFetchMore:l,onToggleSelectAll:e=>e?y(null):y(new Date().toISOString()),getTotalSelected:b&&null!==A?(e,t)=>A-(t.length-e.length):void 0}),U?el.createElement(aV.p,null,el.createElement(w4,null)):null)}function AO(e){let{dropdownShown:t,teamRoleRequests:a,user:r,selectedWorkspaceId:n}=e,l=(0,ei.wA)(),[i,s]=el.useState({workspaceFilter:n??null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null}),[o,c]=el.useState(xF.FILTER),[d,m]=el.useState(""),[u,_]=el.useState({}),[p,g]=el.useState({columnName:Af.NAME,isReversed:!1}),{teams:E,optimisticTeams:f,fetchMore:h,status:v,addOptimisticIds:b}=AT({searchQuery:d,filters:i,sortConfig:p,membersMap:u}),y=el.useCallback(e=>{g(t=>({columnName:e,isReversed:t.columnName===e&&!t.isReversed}))},[g]),w=el.useCallback(e=>{s({...i,...e}),c(xF.FILTER)},[s,i,c]),T=el.useCallback(e=>{m(e),c(xF.SEARCH)},[m,c]);(0,ed.h)(()=>{l((0,dF.Rw)())}),el.useEffect(()=>{n&&s(e=>({...e,workspaceFilter:n}))},[n]);let{orgTeamCountsViewResult:x}=function(e,t,a,r,n,l,i,s){let[o,c]=el.useState((0,aX.Xm)()),d=el.useRef(null),m=()=>{d.current&&(clearTimeout(d.current),d.current=null)},u=el.useCallback(async()=>await o3.Eh.getOrgTeamsFilterCounts({orgId:e,searchQuery:t,orgAccess:a||void 0,teamsWithoutOwners:r||void 0,teamsMemberOf:n,workspaceId:l||void 0,sortBy:void 0,sortOrder:void 0}),[e,t,a,r,n,l,void 0,void 0]),_=(0,Cb.J)(()=>(m(),u()),[u]);return el.useEffect(()=>{(0,Cv.xj)(_)?c((0,aX.gB)(_.value.data.meta)):(0,Cv.ok)(_)?c((0,aX.e1)([])):c((0,aX.Xm)())},[_]),{orgTeamCountsViewResult:o}}(e.org.id,d,Ay(i.orgAccessFilter,i.discoverabilityFilter),i.orphanedTeamFilter,null!==i.teamMembershipFilter?i.teamMembershipFilter===Ah.JOINED:void 0,i.workspaceFilter),C=v!==oL.r.SUCCESS||!!h;return el.createElement(AR,{dropdownShown:t,lastFilterAction:o,filters:i,onFilter:w,onSearch:T,onFetchMore:h,org:e.org,searchQuery:d,teams:E,optimisticTeams:f,teamRoleRequests:a,user:r,isLoading:C,onSort:y,sortState:p,onViewerJoinTeam:e=>{u[e]?u[e]+=1:u[e]=1,_(u)},onViewerLeaveTeam:e=>{u[e]?u[e]-=1:u[e]=-1,_(u)},orgTeamCountsViewResult:x,addOptimisticIds:b})}var AD=((V=AD||{})[V.SIDEBAR=0]="SIDEBAR",V[V.BROWSING=1]="BROWSING",V[V.PROMPT=2]="PROMPT",V[V.SEARCH=3]="SEARCH",V[V.LIBRARIES=4]="LIBRARIES",V);let AF=e=>{switch(e){case 0:return el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.list.section",key:"section",workspace:el.createElement("span",{className:eE.cx.fontSemiBold.$},el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.list.section.workspace"}))});case 1:return el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.list.browsing",key:"browsing"});case 2:return el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.list.prompt",key:"prompt"});case 3:return el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.list.search",key:"search"});case 4:return el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.list.libraries",key:"libraries"})}},AM=(0,rr.Ju)(function({onConfirm:e}){let t=(0,ei.wA)();return el.createElement(e8.fu,{name:"Create License Group Confirmation modal"},el.createElement(rn.Rw,{cancelText:(0,e2.t)("general.back"),confirmText:el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.confirm"}),disableClickOutsideToHide:!0,onConfirm:()=>{t(t3.Ce()),e()},popStack:!0,tintedModalBackground:!0,confirmationTitle:el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.title"})},el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.intro"}),el.createElement("ul",{style:cs.sx.ml18.my16.add({listStyle:"disc"}).$},[0,1,2,3,4].map(e=>el.createElement("li",{key:e},AF(e)))),el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.outro",learnMore:el.createElement(eT.Ph,{className:eE.cx.inline.$,target:"_blank",href:"https://help.figma.com/hc/articles/4409676189207-Guide-to-workspaces",trusted:!0},el.createElement(e2.Tx,{id:"workspace.create_confirmation_modal.description.outro.learn_more"}))})))},"WorkspaceCreateConfirmationModal"),AP="workspace_edit_modal--adminRow--Gmc9u workspace_edit_modal--inputRow--w7H5Y",AB="workspace_edit_modal--inputLabel--IxcTC",AU="workspace_edit_modal--adminField---r-wb",AW="First Workspace Created",AV=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),[a,r]=el.useState(null),n=(0,sK.dq)(),l=(0,sK.sZ)(),i=e.workspacesData,s=e.workspaceId&&i?i.find(t=>t.id===e.workspaceId):void 0,o=!!s,c=[];(null==s?void 0:s.admins)&&(c=s.admins.reduce((e,t)=>{let a=null==t?void 0:t.baseOrgUser;return a?[...e,{state:hk.d.OK,content:{id:a.id,user:{id:a.user.id,handle:a.user.handle,img_url:a.user.imgUrl}}}]:e},[]));let[d,m]=el.useState(o?{...(0,hS.Rs)(),tokens:c}:(0,hS.Rs)()),u=el.useCallback(e=>{(0,e7.sx)("Workspace admin search performed",{orgId:null==l?void 0:l.id,workspaceId:null==s?void 0:s.id,queryLength:e.inputValue.length}),m(e)},[null==l?void 0:l.id,null==s?void 0:s.id]),[_,p]=el.useState(o?s.name:""),[g,E]=el.useState(o?s.orgAccess:lm.bU.PUBLIC),f=el.useCallback(e=>{E(e.target.checked?lm.bU.SECRET:lm.bU.PUBLIC)},[]),h=()=>{(0,e7.sx)("CTA Clicked",{name:"Workspace Modal Cancel",workspaceId:null==s?void 0:s.id,orgId:n}),t(t3.Ce())},v=()=>{let e=o?`/api/workspace/${s.id}`:`/api/orgs/${n}/workspaces`,a=o?td.Ay.put:td.Ay.post,r=!o&&(!i||0===i.length);a(e,{name:_,admin_org_user_ids:d.tokens.map(e=>e.content.id),org_access:g}).then(({data:e})=>{var a;t(a0.F.enqueue({type:"workspace-edit",message:o?(0,e2.t)("workspace_table.workspace_edited_toast",{workspaceName:_}):(0,e2.t)("workspace_table.workspace_created_toast",{workspaceName:_})})),t(t3.Ce()),r&&(0,e7.sx)(AW,{workspaceId:null==(a=e.meta)?void 0:a.id,orgId:n})}).catch(e=>{t(a0.F.enqueue({error:!0,message:e.message}))})},b=e=>{if(null==i?void 0:i.find(t=>t.name.trim().toLowerCase()===e.trim().toLowerCase()&&(null==t?void 0:t.id)!==(null==s?void 0:s.id))){r("duplicated");return}if("unassigned"===e.trim().toLowerCase()){r("unassigned");return}r(null)};return el.createElement(lD.XV,{title:o?(0,e2.t)("workspace_table.edit_workspace_title"):(0,e2.t)("workspace_table.create_workspace_title"),onClose:h,minWidth:500},el.createElement("div",{className:"workspace_edit_modal--container--TYAcr"},el.createElement(el.Fragment,null,el.createElement("label",{className:"workspace_edit_modal--inputRow--w7H5Y"},el.createElement("span",{className:AB},el.createElement(e2.Tx,{id:"workspace_table.name_input"})),el.createElement("div",null,el.createElement(eT.ks,{className:"workspace_edit_modal--inputField--QISQN",autoFocus:!0,placeholder:(0,e2.t)("workspace_table.name_input_placeholder"),onChange:e=>{p(e.currentTarget.value),b(e.currentTarget.value)},value:_,dataTestId:"workspace-name-input",maxLength:eT.TA})),el.createElement(_n.YR,{className:"workspace_edit_modal--yellowIcon--NYUA0 admin_settings_link--yellowIcon--OMRNa",style:cs.sx.if(!a,cs.sx.invisible).$})),el.createElement("label",{className:AP},el.createElement("span",{className:AB},el.createElement(e2.Tx,{id:"workspace_table.admins_input"})),el.createElement("div",{className:AU},el.createElement(CN,{placeholder:(0,e2.t)("workspace_table.admin_input_placeholder"),autocomplete:d,onAutocompleteChange:u}),el.createElement("p",{className:"workspace_edit_modal--subtext--pHtOX"},el.createElement(e2.Tx,{id:"workspace_table.admins_will_manage_input_help_text"})))),el.createElement("label",{className:AP},el.createElement("span",{className:AB},el.createElement(e2.Tx,{id:"workspace_table.visibility"})),el.createElement("div",{className:AU},el.createElement(cl.S,{checked:g===lm.bU.SECRET,onChange:f,label:(0,e2.t)("workspace_table.make_it_hidden"),description:(0,e2.t)("workspace_table.only_members_can_find_and_access")}))),a&&el.createElement("div",{className:"workspace_edit_modal--banner--22ScT",style:cs.sx.mb32.p16.flex.itemsCenter.bRadius6.$},el.createElement(eC.B,{className:eE.cx.mr16.$,svg:pT.A,useOriginalSrcFills_DEPRECATED:!0}),el.createElement("p",null,"unassigned"===a?el.createElement(e2.Tx,{id:"workspace_table.workspace_name_unassigned_error"}):el.createElement(e2.Tx,{id:"workspace_table.workspace_name_already_exists_error"}))),el.createElement("div",{className:"workspace_edit_modal--buttonContainer--SMxZ9"},el.createElement(eT.nR,{onClick:h},el.createElement(e2.Tx,{id:"workspace_table.cancel_create_or_edit"})),el.createElement(e8.fu,{name:"Workspace Modal Submit",properties:{workspaceId:e.workspaceId}},el.createElement(eT.vd,{className:"workspace_edit_modal--submitButton--x5EhS",onClick:()=>{i&&0!==i.length||o?v():t(t3.$O({type:AM.type,data:{onConfirm:v}}))},disabled:!!a||!_.length||0===d.tokens.length},o?el.createElement(e2.Tx,{id:"workspace_table.workspace_edit_save_changes"}):el.createElement(e2.Tx,{id:"workspace_table.create_workspace_button"})))))))},"WorkspaceEditModal"),AG="seen_org_admin_workspaces_onboarding",A$=(0,aj.r1)(AG);function Aj(){let e=(0,eU.md)(A$),{show:t,isShowing:a,complete:r,uniqueId:n}=(0,a$.e)({overlay:aJ.rQs,priority:aH.N.DEFAULT_MODAL},[e]);return(0,aG.E)(n,AW,()=>{t({canShow:e=>!e_.rr&&!e})}),el.createElement(fW.rq,{emphasized:!0,clickOutsideToHide:!0,isShowing:a,targetKey:m6,trackingContextName:`${m8} - Teams tab`,title:el.createElement(e2.Tx,{id:"org_admin_onboarding.tooltip.workspace_add_teams.title"}),description:el.createElement(oK.E,{i18nId:"org_admin_onboarding.tooltip.workspace_add_teams.description"}),primaryCta:{label:el.createElement(e2.Tx,{id:"general.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:e3.c.DONE},onClose:r,userFlagOnShow:AG,shouldCenterArrow:yK.EL.FALLBACK})}let AH=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.currentUserOrgId),r=e.workspaces.map(e=>e.id),n=e.workspaces.map(e=>e.name),l=()=>{t(t3.Ce())},[i,s]=el.useState(!1);return el.createElement(e8.fu,{name:"Delete workspace modal",properties:{numWorkspaces:e.workspaces.length}},el.createElement(lD.XV,{title:(0,e2.t)("workspace_table.delete_n_workspaces",{licenseGroupsCount:e.workspaces.length}),maxWidth:372,onClose:l},el.createElement("div",{className:eE.cx.font11.p16.$},el.createElement(e2.Tx,{id:"workspace_table.deleting_the_workspaces_will_cause",licenseGroupsCount:e.workspaces.length,licenseGroupsNames:el.createElement(oK.E,{fontWeight:"bold"},(0,ac.Yx)(n))}),el.createElement("div",null,el.createElement("div",null,"\xa0"),el.createElement("span",{className:hA.Vq},(0,e2.t)("workspace_table.are_you_sure_you_want_to_delete_these_workspaces",{licenseGroupsCount:e.workspaces.length}))),el.createElement("div",null,"\xa0"),el.createElement("form",{onSubmit:n=>{n.preventDefault(),o3.Eh.delWorkspaces({orgId:a,workspaceIds:r}).then(()=>{t(a0.F.enqueue({type:"workspace-delete",message:(0,e2.t)("workspace_table.workspaces_deleted_toast",{licenseGroupsCount:e.workspaces.length,licenseGroupName:e.workspaces[0].name})})),t(t3.Ce())}).catch(e=>{t(a0.F.enqueue({error:!0,message:e.message??(0,e2.t)("workspace_table.an_error_occurred_while_deleting_workspaces")}))})}},el.createElement("label",null,el.createElement(cl.S,{checked:i,onChange:()=>s(!i),label:(0,e2.t)("billing_groups_table.delete_modal.i_understand_that_this_action_isnt_reversible")})),el.createElement("div",{className:hA.v0},el.createElement(eT.tM,{onClick:l},el.createElement(e2.Tx,{id:"general.cancel"})),el.createElement(eT.qM,{type:"submit",className:hA.pL,disabled:!i},(0,e2.t)("workspace_table.delete_n_workspaces",{licenseGroupsCount:e.workspaces.length})))))))},"WorkspaceDeleteModal");function Aq({workspacesData:e,selectedWorkspaces:t}){let a=(0,ei.wA)();return 0===t.length?null:el.createElement(el.Fragment,null,1===t.length&&!!t[0].id&&el.createElement(uj.IU,{onClick:()=>{a((0,t3.to)({type:AV,data:{workspacesData:e,workspaceId:t[0].id}}))},label:(0,e2.t)("workspace_table.edit_details")}),el.createElement(uj.IU,{onClick:()=>a((0,t3.to)({type:AH,data:{workspaces:t.filter(e=>!!e.id)}})),label:(0,e2.t)("general.delete")}))}function AY(e){let{workspacesData:t,workspaceId:a,disableDropdown:r}=e,n=t.find(e=>e.id===a),l=(0,ei.wA)(),i=(0,ei.d4)(e=>e.dropdownShown),s=el.useCallback(()=>{l((0,t3.to)({type:AH,data:{workspaces:[n]}}))},[l,n]);if(r||!a)return null;let o=`MENU_DROPDOWN-${a}`,c=(null==i?void 0:i.type)===o;return el.createElement(uj.Ve,{isRightAligned:!0,className:be.hP,dispatch:l,hideChevron:!0,showingDropdown:c,type:o},el.createElement(eC.B,{svg:nf.A,className:"workspaces_table--menuIcon--w7kvm admin_settings_page--menuIcon--Bx2JO",dataTestId:"workspace-menu-icon"}),c&&el.createElement(dB.W.DropdownWithScrim,{dispatch:l,className:"workspaces_table--dropdown--DbNom",style:i.data.position},el.createElement(dB.W.OptionTracked,{onClick:()=>{l((0,t3.to)({type:AV,data:{workspacesData:t,workspaceId:a}}))}},(0,e2.t)("workspace_table.edit_details")),el.createElement(dB.W.OptionTracked,{onClick:s},(0,e2.t)("general.delete"))))}(ea||(ea={})).PenCheckmark=function(){return el.createElement("svg",{width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:eE.cx.colorIcon.$},el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.1443 11.9928L45.5223 20.4496L19.0803 47.1707L4.35542 32.3646L12.7172 23.8917L19.0636 30.2731L37.1443 11.9928ZM37.145 13.6986L19.0659 31.9772L12.7204 25.5967L6.04459 32.3613L19.0782 45.4668L43.8336 20.45L37.145 13.6986Z"}),el.createElement("path",{d:"M37.2101 11.8238C37.8652 11.8238 38.3963 12.3549 38.3963 13.0101C38.3963 13.6652 37.8652 14.1963 37.2101 14.1963C36.5549 14.1963 36.0238 13.6652 36.0238 13.0101C36.0238 12.3549 36.5549 11.8238 37.2101 11.8238Z",className:eE.cx.colorIconOninverse.$}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.2101 10.6238C38.528 10.6238 39.5963 11.6922 39.5963 13.0101C39.5963 14.328 38.528 15.3963 37.2101 15.3963C35.8922 15.3963 34.8238 14.328 34.8238 13.0101C34.8238 11.6922 35.8922 10.6238 37.2101 10.6238ZM38.3963 13.0101C38.3963 12.3549 37.8652 11.8238 37.2101 11.8238C36.5549 11.8238 36.0238 12.3549 36.0238 13.0101C36.0238 13.6652 36.5549 14.1963 37.2101 14.1963C37.8652 14.1963 38.3963 13.6652 38.3963 13.0101Z"}),el.createElement("path",{d:"M44.7101 19.0238C45.3652 19.0238 45.8963 19.5549 45.8963 20.2101C45.8963 20.8652 45.3652 21.3963 44.7101 21.3963C44.0549 21.3963 43.5238 20.8652 43.5238 20.2101C43.5238 19.5549 44.0549 19.0238 44.7101 19.0238Z",className:eE.cx.colorIconOninverse.$}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M44.7101 17.8238C46.028 17.8238 47.0963 18.8922 47.0963 20.2101C47.0963 21.528 46.028 22.5963 44.7101 22.5963C43.3922 22.5963 42.3238 21.528 42.3238 20.2101C42.3238 18.8922 43.3922 17.8238 44.7101 17.8238ZM45.8963 20.2101C45.8963 19.5549 45.3652 19.0238 44.7101 19.0238C44.0549 19.0238 43.5238 19.5549 43.5238 20.2101C43.5238 20.8652 44.0549 21.3963 44.7101 21.3963C45.3652 21.3963 45.8963 20.8652 45.8963 20.2101Z"}),el.createElement("path",{d:"M18.6863 45.1238C19.3414 45.1238 19.8725 45.6549 19.8725 46.3101C19.8725 46.9652 19.3414 47.4963 18.6863 47.4963C18.0311 47.4963 17.5 46.9652 17.5 46.3101C17.5 45.6549 18.0311 45.1238 18.6863 45.1238Z",className:eE.cx.colorIconOninverse.$}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6863 43.9238C20.0041 43.9238 21.0725 44.9922 21.0725 46.3101C21.0725 47.628 20.0041 48.6963 18.6863 48.6963C17.3684 48.6963 16.3 47.628 16.3 46.3101C16.3 44.9922 17.3684 43.9238 18.6863 43.9238ZM19.8725 46.3101C19.8725 45.6549 19.3414 45.1238 18.6863 45.1238C18.0311 45.1238 17.5 45.6549 17.5 46.3101C17.5 46.9652 18.0311 47.4963 18.6863 47.4963C19.3414 47.4963 19.8725 46.9652 19.8725 46.3101Z"}),el.createElement("path",{d:"M18.6863 29.5238C19.3414 29.5238 19.8725 30.0549 19.8725 30.7101C19.8725 31.3652 19.3414 31.8963 18.6863 31.8963C18.0311 31.8963 17.5 31.3652 17.5 30.7101C17.5 30.0549 18.0311 29.5238 18.6863 29.5238Z",className:eE.cx.colorIconOninverse.$}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6863 28.3238C20.0041 28.3238 21.0725 29.3922 21.0725 30.7101C21.0725 32.028 20.0041 33.0963 18.6863 33.0963C17.3684 33.0963 16.3 32.028 16.3 30.7101C16.3 29.3922 17.3684 28.3238 18.6863 28.3238ZM19.8725 30.7101C19.8725 30.0549 19.3414 29.5238 18.6863 29.5238C18.0311 29.5238 17.5 30.0549 17.5 30.7101C17.5 31.3652 18.0311 31.8963 18.6863 31.8963C19.3414 31.8963 19.8725 31.3652 19.8725 30.7101Z"}),el.createElement("path",{d:"M12.6863 23.8238C13.3414 23.8238 13.8725 24.3549 13.8725 25.0101C13.8725 25.6652 13.3414 26.1963 12.6863 26.1963C12.0311 26.1963 11.5 25.6652 11.5 25.0101C11.5 24.3549 12.0311 23.8238 12.6863 23.8238Z",className:eE.cx.colorIconOninverse.$}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6863 22.6238C14.0041 22.6238 15.0725 23.6922 15.0725 25.0101C15.0725 26.328 14.0041 27.3963 12.6863 27.3963C11.3684 27.3963 10.3 26.328 10.3 25.0101C10.3 23.6922 11.3684 22.6238 12.6863 22.6238ZM13.8725 25.0101C13.8725 24.3549 13.3414 23.8238 12.6863 23.8238C12.0311 23.8238 11.5 24.3549 11.5 25.0101C11.5 25.6652 12.0311 26.1963 12.6863 26.1963C13.3414 26.1963 13.8725 25.6652 13.8725 25.0101Z"}),el.createElement("path",{d:"M5.18625 31.6238C5.8414 31.6238 6.3725 32.1549 6.3725 32.8101C6.3725 33.4652 5.8414 33.9963 5.18625 33.9963C4.5311 33.9963 4 33.4652 4 32.8101C4 32.1549 4.5311 31.6238 5.18625 31.6238Z",className:eE.cx.colorIconOninverse.$}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.18625 30.4238C6.50414 30.4238 7.5725 31.4922 7.5725 32.8101C7.5725 34.128 6.50414 35.1963 5.18625 35.1963C3.86836 35.1963 2.8 34.128 2.8 32.8101C2.8 31.4922 3.86836 30.4238 5.18625 30.4238ZM6.3725 32.8101C6.3725 32.1549 5.8414 31.6238 5.18625 31.6238C4.5311 31.6238 4 32.1549 4 32.8101C4 33.4652 4.5311 33.9963 5.18625 33.9963C5.8414 33.9963 6.3725 33.4652 6.3725 32.8101Z"}),el.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.3876 12.6156L22.2292 15.2282C18.9526 15.9577 15.4711 14.4246 13.8677 11.2973C13.5621 10.7013 13.3431 10.0829 13.2065 9.45665L8.59466 7.97098L10.9015 0.809704L15.4787 2.2842C15.9684 1.83489 16.5254 1.44354 17.1443 1.12628C20.3838 -0.534604 24.2614 0.36987 26.4631 3.09209L35.3876 12.6156ZM32.187 10.9551L25.5567 3.87971L25.5424 3.86194C23.6928 1.56053 20.4216 0.794505 17.6917 2.19412C17.0714 2.51213 16.5266 2.91732 16.0637 3.38669L15.8043 3.6498L11.6758 2.31985L10.1048 7.19673L14.26 8.53531L14.3202 8.8956C14.4253 9.5251 14.628 10.15 14.9356 10.7499C16.2845 13.381 19.2162 14.6724 21.9745 14.0555L21.9815 14.0539L31.8256 12.0994L20.4477 8.43412L20.8157 7.29193L32.187 10.9551Z"}),el.createElement("path",{d:"M18.8873 7.17071C19.2085 6.17344 20.2774 5.62544 21.2747 5.9467C22.2719 6.26796 22.8199 7.33684 22.4987 8.3341C22.1774 9.33137 21.1085 9.87937 20.1113 9.55811C19.114 9.23685 18.566 8.16798 18.8873 7.17071Z"}))};var Az=a(211090),AK=a(712886);function AJ({asset:e,title:t,subtitle:a}){return el.createElement(nX.Y,{direction:"vertical",spacing:8,horizontalAlignItems:"center"},e,el.createElement(nX.Y,{direction:"vertical",spacing:4,horizontalAlignItems:"center"},el.createElement("div",{className:eE.cx.alignCenter.$},el.createElement(oK.E,{fontWeight:"medium",fontSize:13},t)),el.createElement("div",{className:eE.cx.alignCenter.$},el.createElement(oK.E,{color:"secondary"},a))))}function AQ(){let e=(0,ei.wA)();return el.createElement("div",{className:eE.cx.hFull.$,style:{minWidth:660,paddingTop:50,paddingLeft:50,paddingRight:50}},el.createElement(nX.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",verticalAlignItems:"start",horizontalAlignItems:"center"},el.createElement("img",{alt:"",src:"https://static.figma.com/uploads/31ad8dd79c291ecf576eb7c434a16cfd3a53034b",width:235,height:235,"data-testid":"workspaces-table-colorful-blocks"}),el.createElement("div",{className:eE.cx.alignCenter.$},el.createElement(oK.E,{fontSize:18,fontWeight:"medium",i18nId:"workspace_table.empty_state.title"})),el.createElement("div",{className:eE.cx.alignCenter.$},el.createElement(oK.E,{fontSize:14,i18nId:"workspace_table.empty_state.subtitle"})),el.createElement("div",{className:eE.cx.pt8.$},el.createElement(mE.$,{icon:"plus-32",variant:"inverse",onClick:()=>{e((0,t3.to)({type:AV,data:{workspacesData:[]}}))}},el.createElement(oK.E,{i18nId:"workspace_table.workspace"}))),el.createElement(nX.Y,{direction:"horizontal",horizontalAlignItems:"center",height:"hug-contents",padding:{vertical:50}},el.createElement("div",{style:{maxWidth:1100}},el.createElement(nX.Y,{direction:"horizontal",width:"fill-parent",verticalAlignItems:"start",horizontalAlignItems:"space-between",spacing:"64px"},el.createElement(AJ,{asset:el.createElement(eC.B,{svg:Az.A,className:eE.cx.colorIcon.$}),title:(0,e2.t)("workspace_table.empty_state.manage_access_and_plugins"),subtitle:(0,e2.t)("workspace_table.empty_state.manage_access_and_plugins.subtitle")}),el.createElement(AJ,{asset:el.createElement(ea.PenCheckmark,null),title:(0,e2.t)("workspace_table.empty_state.approve_libraries_and_assets"),subtitle:(0,e2.t)("workspace_table.empty_state.approve_libraries.subtitle")}),el.createElement(AJ,{asset:el.createElement(eC.B,{svg:AK.A,className:eE.cx.colorIcon.$}),title:(0,e2.t)("workspace_table.empty_state.let_workspaces_be_unique"),subtitle:(0,e2.t)("workspace_table.empty_state.let_workspaces_be_unique.subtitle")}))))))}let AZ=e=>e.id??fw.O,AX=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1}]});function A0(e){var t,a;let r=(0,ei.wA)(),[n,l]=el.useState(""),i=(0,aX.Rs)(a9.gLw,{orgId:e.org.id}),s="loaded"!==i.status,{filterCountsViewResult:o}=(0,mj.vu)(e.org.id,"",fM.J0),c=(null==(a=null==(t=i.data)?void 0:t.org)?void 0:a.workspaces)??[],d=s?[]:[{id:null},...c];n&&(AX.set(d),d=AX.search(n));let m=[{name:(0,e2.t)("workspace_table.name"),className:"workspaces_table--nameColumn--7EOOL workspaces_table--column--Gd721 table--column--974RA",getSortValue:e=>e.id?e.name:"0",cellComponent:e=>e.id?el.createElement(nX.Y,null,el.createElement(aa.z6,{entity:e,size:22}),el.createElement(oK.E,null,e.name),e.orgAccess===lm.bU.SECRET&&el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,e2.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},el.createElement(n0.In,{icon:"lock-16"}))):el.createElement(nX.Y,{spacing:4,padding:0},el.createElement(oK.E,{i18nId:"workspace_table.unassigned"}),el.createElement(oK.E,{i18nId:"workspace_table.unassigned_row_default",color:"secondary"}))},{name:(0,e2.t)("workspace_table.admins"),className:"workspaces_table--adminColumn--7yytA workspaces_table--column--Gd721 table--column--974RA",cellComponent:t=>{let a=[],r=t.admins;if((null==r?void 0:r.length)>0&&r.forEach(e=>{var t;let r=null==(t=null==e?void 0:e.baseOrgUser)?void 0:t.user;r&&a.push({id:r.id,handle:r.handle,img_url:r.imgUrl??void 0})}),(null==a?void 0:a.length)===0){let t=e.orgAdmins.filter(e=>e.permission===lm._D.ADMIN).map(e=>e.user);a.push(...t)}let n=(0,fZ.e)(a);return el.createElement(el.Fragment,null,a.length>1?el.createElement(nX.Y,null,el.createElement(df.f,{className:eE.cx.flexShrink0.$,textColor:"onselected",backgroundColor:"onselected",text:`${a.length}`,size:22}),el.createElement(oK.E,{truncate:!0},n)):el.createElement(aa.az,{entity:a[0],size:22}))}},{name:(0,e2.t)("workspace_table.teams"),className:"workspaces_table--teamsColumn--CmGu3 workspaces_table--column--Gd721 table--column--974RA",cellComponent:t=>{let{status:a,data:n}=e.workspaceTeamCounts;if("loaded"!==a)return el.createElement(uM.Wi,{className:eE.cx.h12.w100.$,animationType:uM.JR.SHIMMER,dataTestId:"teams-count-shimmer"});let l=n[t.id??fw.O]??0;return el.createElement(N$.N,{onClick:()=>r(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.TEAMS,selectedWorkspaceId:t.id??fw.O})),trusted:!0},el.createElement(e2.Tx,{id:"workspace_table.n_teams",count:l}))},getSortValue:t=>{var a;return(null==(a=e.workspaceTeamCounts.data)?void 0:a[t.id??fw.O])??0},sortNumerically:!0},{name:(0,e2.t)("workspace_table.members"),className:"workspaces_table--membersColumn--rjfbn workspaces_table--column--Gd721 table--column--974RA",cellComponent:e=>{var t;let{status:a,data:n}=o;if("loaded"!==a)return el.createElement(uM.Wi,{className:eE.cx.h12.w100.$,animationType:uM.JR.SHIMMER,dataTestId:"members-count-shimmer"});let l=(null==(t=n.workspaces)?void 0:t[e.id??fw.O])??0;return el.createElement(N$.N,{onClick:()=>r(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.MEMBERS,orgAdminMembersTabFilters:{...fM.J0,workspaceFilter:e.id??fw.O}})),trusted:!0},el.createElement(e2.Tx,{id:"workspace_table.n_members",count:l}))},getSortValue:e=>{var t,a;return(null==(a=null==(t=o.data)?void 0:t.workspaces)?void 0:a[e.id??fw.O])??0},sortNumerically:!0},{name:"",className:"workspaces_table--iconColumn--s0ELc admin_settings_page--iconColumn--kO4-J",cellComponent:(e,t)=>el.createElement(AY,{workspaceId:e.id,workspacesData:c,disableDropdown:t})}],[u,_,p]=(0,fq.z)({columnName:"Name",isReversed:!1},d,m);return s||0!==c.length?el.createElement(el.Fragment,null,el.createElement(bK.K,{title:u7(mz.J7.WORKSPACES),hasHorizontalPadding:!0,rightActions:el.createElement(mE.$,{icon:"plus-32",onClick:()=>{r((0,t3.to)({type:AV,data:{workspacesData:c}}))}},el.createElement(oK.E,{i18nId:"workspace_table.workspace"}))}),el.createElement(u$.Cj,{hasNewScrollContext:!0,isLoading:s,items:p,getItemKey:AZ,columns:m,stickyContent:el.createElement(nX.Y,{strokeColor:"default",strokeWidth:{top:1,bottom:1},padding:{vertical:8}},el.createElement(uP.y2,{onChange:l,focusOnMount:!1,query:n,clearSearch:()=>l(""),placeholder:(0,e2.t)("workspace_table.search.placeholder")})),actionBar:e=>el.createElement(Aq,{workspacesData:c,selectedWorkspaces:e}),actionBarClassName:"workspaces_table--bulkActionsBar--ZdJL6",itemTypeContext:{itemType:"workspace",getSelectedCountString:e=>(0,e2.t)("multi_select_list.selected_count_workspace",{numSelected:e})},unselectableItemKeys:new Set([fw.O]),isBannerHeightDynamic:!0,emptyContent:el.createElement(b5.p,null,el.createElement(e2.Tx,{id:"workspace_table.search.no_results"})),sortState:u,onSetSortState:_,minContentWidth:(0,te.hG)(e5.YEj)})):el.createElement(AQ,null)}function A1(e){let t=yz();return el.createElement(el.Fragment,null,el.createElement(A0,{org:e.org,orgAdmins:e.orgAdmins,workspaceTeamCounts:e.workspaceTeamCounts}),!t&&el.createElement(Aj,null))}function A2(e){var t,a,r,n,l,i,s,o,c,d,m,u,_;let p=(0,ei.wA)(),g=(0,sK.sZ)(),E=(0,ei.d4)(({orgDomains:e})=>e),f=(0,ei.d4)(({orgSamlConfig:e})=>e),h=(0,mq.MX)(),v=(0,ei.d4)(({loadingState:e})=>e),b=(0,ns.U)(),y=(0,sQ.usePermissionsState)(),w=(0,ei.d4)(({sharedFonts:e})=>e),T=(0,ei.d4)(({activityLogs:e})=>e),x=(0,aN.iZ)(),C=(0,ei.d4)(({teamRoleRequests:e})=>e),N=(0,ei.d4)(({selectedView:e})=>e),[k,S]=el.useState(0),[I,A]=el.useState(0),[L,R]=el.useState(0),O=el.useCallback(e=>S(t=>t+e),[]),D=el.useCallback(e=>A(t=>t+e),[]),F=el.useCallback(e=>R(t=>t+e),[]),M=(0,mj.a9)(),P=!!(g.bigma_enabled&&M&&M.license_admin),B=(0,dM.NJ)(g.id),U=!!(M&&M.permission===lm._D.ADMIN),{groupsUserIsAdminOf:W}=M?(0,mq.EQ)(h,null==M?void 0:M.user_id,P&&!U):{groupsUserIsAdminOf:[]},[V,G]=(0,mj.oj)(g.id),{isFetched:$,orgAdmins:j}=(0,mj.YM)({orgId:g.id,includeLicenseAdmins:!1}),H=(0,u5.kA)(g),{isFetched:q,memberCounts:Y}=(0,mq.cZ)(g.id,H&&U),z=(0,gg._W)(g.id,H&&U),K=(0,uy.ZY)({isIntendedAudience:g.bigma_enabled&&!U});el.useEffect(()=>{var t;if("loading"===B.status)return;let a=null==(t=B.data)?void 0:t[0],r=!!a,n=r&&N.membersTabOrgJoinRequest;!P||U||n?r&&!U?p(aC.$T({view:"workspace",subView:m$.V0.ADMIN,workspaceId:a.id,selectedTab:(0,_a.K)(m$.m2,e.selectedTab)||m$.rj[0],membersTabOrgJoinRequest:N.membersTabOrgJoinRequest})):U||p(aC.$T(mK.o0)):W.length>0?K?p(aC.$T({view:"billingGroupDashboard",selectedTab:_r.D.REQUESTS})):p(aC.$T({view:"licenseGroup",subView:mB.GN.ADMIN,licenseGroupId:W[0].id,selectedTab:(0,mH.g)(e.selectedTab)})):(0,t8.D2)(v,(0,mq.EO)(g.id))&&p(aC.$T(mK.o0))},[p,W,P,B,U,g.id,v,e.selectedTab,N.membersTabOrgJoinRequest,K]);let[J,Q]=el.useState(0),[Z,X]=el.useState("");el.useEffect(()=>{e.selectedTab===mz.J7.MEMBERS&&(Q(Date.now()),(0,e7.sx)("Org Admin Members Table V2 Load Initiated",{orgId:g.id},{forwardToDatadog:!0}))},[e.selectedTab,g.id]),el.useEffect(()=>{U&&p(yD.Jt({includeMemberCount:!0,includeTopMembers:!0,includeProjectCount:!0,includeSecretTeams:!0}))},[U,p,g.id]),el.useEffect(()=>{U&&(p(yj.UK({force:!0})),p(yH.J()))},[U,p,g.id]);let[ee]=y$.Tn({currentOrgId:g.id,excludeDrafts:!0},{enabled:U}),et=(0,yq.g7)(),ea=ee.data||null;el.useEffect(()=>{U&&xV.y.loadSharedFonts(p)},[U,p,g.id]),el.useEffect(()=>{U&&(p(yG.Vl({})),p(yG.mV({})))},[U,p,g.id]),el.useEffect(()=>{p(py.Jt({forceRefetch:!0}))},[p,g.id]);let er=(0,sK.dq)(),en=(0,uT.Xf)(er),es="loading"===en.status,eo=null==(t=en.data)?void 0:t.invoices,ec=((null==(a=en.data)?void 0:a.design_billable_seats)||0)+k,ed=((null==(r=en.data)?void 0:r.figjam_billable_seats)||0)+I,em=((null==(n=en.data)?void 0:n.dev_mode_billable_seats)||0)+L,eu=(null==(l=en.data)?void 0:l.shipping_address)||(0,s1.EB)(),e_=(null==(i=en.data)?void 0:i.has_billing_address)||!1,ep=null,eg=null;eg=e.selectedTab===mz.J7.DASHBOARD?el.createElement(t7.qc,null):e.selectedTab===mz.J7.RESOURCES?el.createElement(b5.p,null,el.createElement(t7.qc,null)):el.createElement("div",{className:_b},el.createElement(bK.K,{title:u7(e.selectedTab,e.selectedSecondaryTab)}),el.createElement(t7.qc,null));let eE=!1,ef=N.orgAdminMembersTabFilters||fM.J0;g.figjam_disabled_at&&ef[fM.e5.productFilter]===oX.oM.WHITEBOARD&&(ef[fM.e5.productFilter]=null);let eh=(0,eU.md)(yU);switch(e.selectedTab){case mz.J7.ACTIVITY:ep=el.createElement(Cp,{dispatch:p,org:g,dropdownShown:b,orgTeams:eh.data||[],activityLogs:T,initialEmail:N.activityTabInitialEmail,initialStartTime:N.activityTabInitialStartTime,initialEventOptionId:N.activityTabInitialEventOptionId,fetchLogs:e=>{p(yV.Jt(e))}});break;case mz.J7.BILLING:let ev=!!H&&((0,t8.VP)(v,(0,mq.EO)(g.id))||!q);eE=es||ev||!$,ep=el.createElement(Nn,{isFetching:eE,accountCredit:null==(s=en.data)?void 0:s.account_credit,currency:null==(o=en.data)?void 0:o.currency,dispatch:p,loadingContent:eg,invoices:eo,adminEmail:null==(c=en.data)?void 0:c.admin_email,figjamBillableSeats:ed,designBillableSeats:ec,devModeBillableSeats:em,org:g,shouldShowLockedBanner:N.shouldShowLockedBanner,orgAdmins:j,licenseGroupMemberCounts:Y});break;case mz.J7.DASHBOARD:eE=es||"loaded"!==eh.status||!V,ep=el.createElement(N_,{invoices:eo,orgUserCount:G,licenseQuantities:{[oX.lM.DESIGN]:(null==(d=en.data)?void 0:d.design_billable_seats)||0,[oX.lM.FIGJAM]:(null==(m=en.data)?void 0:m.figjam_billable_seats)||0,[oX.lM.DEV_MODE]:(null==(u=en.data)?void 0:u.dev_mode_billable_seats)||0},teams:eh.data||[],org:g,devModeOptInModalState:N.devModeOptInModalState,shouldShowDevModeSuggestedUpgradesModal:N.shouldShowDevModeSuggestedUpgradesModal});break;case mz.J7.WORKSPACES:eE=!$,ep=el.createElement(A1,{org:g,orgAdmins:j,loadingContent:eg,workspaceTeamCounts:z});break;case mz.J7.MEMBERS:let eb=(0,t8.VP)(v,(0,mq.EO)(g.id))||!!U&&("loading"===en.status||f.isFetching),ey=N.orgAdminMembersTabSort||fM.oU;ep=U?el.createElement(yA,{invoices:eo,org:g,dropdownShown:b,searchQuery:Z,setSearchQuery:X,filters:ef,sort:ey,figjamBillableSeats:ed,designBillableSeats:ec,devModeBillableSeats:em,startTime:J,isLoading:eb,setDesignEditorDiff:O,setWhiteboardEditorDiff:D,setDevModeEditorDiff:F}):null;break;case mz.J7.RESOURCES:switch(e.selectedSecondaryTab){case mz._d.APPROVED_PLUGINS:ep=el.createElement(kt,{orgId:g.id,extensionType:"plugin",selectedExtensionId:e.selectedExtensionId});break;case mz._d.APPROVED_WIDGETS:ep=el.createElement(kt,{orgId:g.id,extensionType:"widget",selectedExtensionId:e.selectedExtensionId});break;case mz._d.SHARED_FONTS:eE=!!xV.y.fontLoadPromise||!xV.y.loadedFonts,ep=el.createElement(xV.y,{dispatch:p,dropdownShown:b,permissionsState:y,orgId:g.id,sharedFonts:w,resourceType:"org"});break;case mz._d.LIBRARIES:default:eE=null===ea,ep=el.createElement(wJ,{org:g,libraryStats:ea,communityLibraryStats:et})}break;case mz.J7.SETTINGS:eE=f.isFetching||E.isFetching,ep=el.createElement(Ag,{org:g,orgDomains:E.domains,orgSamlConfig:f,user:x,adminEmail:(null==(_=en.data)?void 0:_.admin_email)||"",renewalDate:(0,ca.de)(eo??[]),billableSeats:{[oX.lM.DESIGN]:ec,[oX.lM.FIGJAM]:ed,[oX.lM.DEV_MODE]:em},shippingAddress:eu,canSeeBillingAddressExp:e_});break;case mz.J7.TEAMS:eE="loaded"!==eh.status||(0,t8.VP)(v,(0,mq.EO)(g.id)),ep=NE(g.id)?el.createElement(AO,{org:g,dropdownShown:b,teamRoleRequests:C,user:x,selectedWorkspaceId:e.selectedWorkspaceId}):el.createElement(xU,{org:g,teams:eh.data||[],dropdownShown:b,dispatch:p,teamRoleRequests:C,user:x,selectedWorkspaceId:e.selectedWorkspaceId})}return el.createElement(el.Fragment,null,el.createElement(uw.r,{containerClass:_y,scrollableContainerClass:_w,toolbar:el.createElement(NC,{selectedTab:e.selectedTab,selectedSecondaryTab:e.selectedSecondaryTab}),content:eE||!U?eg:ep,belowToolbarBanner:el.createElement(xJ,{selectedTab:e.selectedTab,org:g})}),el.createElement(y0,null),(0,h9.D)(null,g.id)&&(e.selectedTab===mz.J7.TEAMS||e.selectedTab===mz.J7.ACTIVITY)&&el.createElement(y9,null))}function A4(e){switch(e){case m$.m2.TEAMS:return(0,e2.t)("workspace_admin_tab.teams");case m$.m2.MEMBERS:return(0,e2.t)("workspace_admin_tab.members");case m$.m2.LIBRARIES:return(0,e2.t)("workspace_admin_tab.libraries");case m$.m2.SETTINGS:return(0,e2.t)("workspace_admin_tab.settings");default:(0,eh.xb)(e)}}function A3(e){let t=el.createElement("div",{className:ey()(eE.cx.minW150.maxW300.mr8.$,"settings_section--loadingBlock--PGHBw")}),a=e.finishedLoading?el.createElement(I2,{publicLinkControlsSetting:e.publicLinkControlsSetting}):t,r=e.finishedLoading?e.publicLinkControlsMaxExp?el.createElement("div",{key:2,className:ey()(eE.cx.pl16.$,"settings_section--secondaryText--kOgDP")},el.createElement(A8,{expiration:e.publicLinkControlsMaxExp})):null:t,n=[el.createElement(Sj,{key:1,label:(0,e2.t)("settings_tab.public_sharing_title"),description:(0,e2.t)("workspace_admin_tab.contact_org_admin_to_change_workspace_sharing_settings")}),el.createElement("div",{key:2,className:eE.cx.pl16.flex.gap4.$},el.createElement(e2.Tx,{id:"workspace_admin_tab.public_link_sharing_setting",settingComponent:a}))];return r&&n.push(r),el.createElement("div",{className:"settings_section--settingsWrapper--MTcPX settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(SV,{title:(0,e2.t)("settings_tab.section_header.external_access"),settings:n}))}function A8(e){let{initialMaxDuration:t,initialIsTimeMeasuredInDays:a}=Ij(parseInt(e.expiration)),r=el.createElement(e2.Tx,{id:a?"workspace_admin_tab.public_link_sharing_expiration_setting.days":"workspace_admin_tab.public_link_sharing_expiration_setting.hours",time:t});return el.createElement("div",{key:3,className:eE.cx.gap4.$},r)}function A5({workspaceId:e}){var t,a,r,n;let l=(0,sK.sZ)(),i=(0,aX.Rs)(a9.fPW,{workspaceId:e});return el.createElement("div",{className:"settings_section--container--cJdSE admin_settings_page--container--NGwts"},el.createElement(bK.K,{showBorderBottom:!0,title:A4(m$.m2.SETTINGS)}),el.createElement(A3,{org:l,finishedLoading:"loaded"===i.status,publicLinkControlsSetting:(null==(a=null==(t=i.data)?void 0:t.workspace)?void 0:a.publicLinkControlsSetting)??uW.w_.ALLOWED,publicLinkControlsMaxExp:null==(n=null==(r=i.data)?void 0:r.workspace)?void 0:n.publicLinkControlsMaxExpiration}))}function A6(e){let t=(0,ei.wA)(),a=(0,sK.sZ)(),r=a=>{t(aC.$T({view:"workspace",subView:m$.V0.ADMIN,selectedTab:a,workspaceId:e.workspaceId}))},n=[];if(m$.rj.forEach(t=>{n.push(el.createElement(Nv,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:A4(t),getDisplayName:A4}))}),(0,u5.U5)(a)){let t=m$.m2.SETTINGS;n.push(el.createElement(Nv,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:A4(t),getDisplayName:A4}))}return el.createElement(_c,{navTabs:n})}function A9({workspaceId:e,selectedTab:t}){let a=(0,ei.wA)(),r=(0,ei.d4)(({orgById:e,currentUserOrgId:t})=>e[t]),n=(0,ei.d4)(({dropdownShown:e})=>e),l=(0,ei.d4)(({teamRoleRequests:e})=>e),i=(0,ei.d4)(({user:e})=>e),s=(0,ei.d4)(({selectedView:e})=>e),o=(0,eU.md)(yW(e)),[c]=(0,y$.Tn)({currentOrgId:r.id,excludeDrafts:!0}),d=c.data||null,m=Date.now(),[u,_]=el.useState(""),p=el.createElement("div",{className:_b},el.createElement(bK.K,{title:A4(s.selectedTab)}),el.createElement(t7.qc,null)),g=!1,E=null;switch(t){case m$.m2.MEMBERS:let f={...fM.J0,...s.orgAdminMembersTabFilters,workspaceFilter:e},h=s.orgAdminMembersTabSort||fM.oU;E=el.createElement(yA,{invoices:void 0,org:r,dropdownShown:n,filters:f,sort:h,figjamBillableSeats:null,designBillableSeats:null,devModeBillableSeats:null,startTime:m,searchQuery:u,setSearchQuery:_,isLoading:!1});break;case m$.m2.TEAMS:let v=s.teamsTabViewingUnassigned?fw.O:e;g="loaded"!==o.status,E=NE(r.id)?el.createElement(AO,{org:r,dropdownShown:n,teamRoleRequests:l,user:i,selectedWorkspaceId:v}):el.createElement(xU,{org:r,teams:o.data||[],dropdownShown:n,dispatch:a,teamRoleRequests:l,user:i,selectedWorkspaceId:v});break;case m$.m2.LIBRARIES:if(!d){g=!0;break}E=el.createElement(wJ,{org:r,workspaceId:e,libraryStats:d});break;case m$.m2.SETTINGS:if(!(0,u5.U5)(r))break;E=el.createElement(A5,{workspaceId:e})}return el.createElement(uw.r,{containerClass:_y,scrollableContainerClass:_w,toolbar:el.createElement(A6,{selectedTab:t,workspaceId:e}),content:g?p:E})}function A7({workspaceId:e,selectedTab:t}){var a;let r=(0,ei.wA)(),n=(0,ei.d4)(({orgById:e,currentUserOrgId:t})=>e[t]),l=(0,dM.NJ)(n.id),i="loading"===l.status,s=!!(null==(a=l.data)?void 0:a.find(t=>t.id===e)),o=el.useMemo(()=>!i&&!s,[s,i]),c=el.useMemo(()=>i||o,[i,o]);return(el.useEffect(()=>{o&&r(aC.$T({view:"resourceUnavailable",resourceType:t5.Ft.WORKSPACE}))},[r,o]),c)?null:el.createElement(A9,{workspaceId:e,selectedTab:t})}a(461816),(er||(er={})).filter=function(e,t){return"loaded"!==e.status?e:(0,aX.gB)(e.data.filter(t))};var Le=a(626322),Lt=((G=Lt||{}).Medium="Medium",G.Large="Large",G);function La(e){let t;return e.isLoading?el.createElement("div",{className:"tile_grid--loadingContainer--wlsRF"},el.createElement(t7.kt,null)):!e.children||Array.isArray(e.children)&&!e.children.length?el.createElement("div",{className:"tile_grid--emptyContainer--xuQOR text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--ffG9b":"tile_grid--gridMedium--t0ipw",el.createElement("div",{className:ey()("tile_grid--gridContainer--fIwRt",e.containerClassName)},el.createElement("div",{className:t},e.children)))}var Lr=a(14134);function Ln(e){return el.createElement("div",{className:Lr.p$},el.createElement("div",{className:Lr._U},el.createElement(e2.Tx,{id:"team_tile.no_teams.title"})),e.onCreateTeam&&el.createElement(el.Fragment,null,el.createElement("p",null,el.createElement(e2.Tx,{id:"team_tile.no_teams.info"})),el.createElement(eT.cw,{className:Lr.yd,onClick:e.onCreateTeam},el.createElement(eC.B,{svg:pg.A,className:Lr.RS}),el.createElement(e2.Tx,{id:"team_tile.no_teams.create_team_button"}))))}var Ll=a(372626);function Li(e){let t=[...e.orgTeams.data||[]],a=t.length<as.Tw;(0,as.KQ)(t,"name",{useExpensiveNaturalComparison:a});let r="loaded"!==e.orgTeams.status,[n,l]=el.useState(void 0),i=(0,ei.wA)(),s=(e,t)=>{e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};l(t.id),i(aC.j7({type:_z.RQ,data:{teamId:t.id,targetRect:a}}))};return el.createElement(La,{isLoading:r,emptyView:e.emptyView??el.createElement(Ln,{onCreateTeam:e.onCreateTeam})},t.map(t=>el.createElement(Ll.mc,{key:t.id,team:t,onJoin:e.onJoin,onLeave:e.onLeave,setSelectedTeamId:l,selectedTeamId:n,onContextMenu:s})))}var Ls=a(339887),Lo=a(544740);function Lc(e){let[t,a]=el.useState(!1),r=(0,ei.wA)(),n=(0,ei.d4)(e=>e.selectedView),l=(0,ow.FC)(),i=e.team,s=()=>{(0,a6._J)("file_browser_team_click",i.id,l,{selectedView:"recentsAndSharing"===n.view?n.tab||mW.G.RECENTLY_VIEWED:n.view,viewMode:"grid"}),r(sq.kg({clickedResourceType:"team",resourceIdOrKey:i.id})),r(aC.$T({view:"team",teamId:i.id}))},o=e.selectedTeamId===e.team.id,c=t||o;return el.createElement(Ls.a,{name:i.name,description:i.description,headerLeft:el.createElement(aa.Ro,{className:Lr.rP,entity:i,size:40}),headerRight:el.createElement(Lo.m,{team:i,onLeave:e.onLeave,isCardActive:c}),onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&s()},canView:!0,isCardActive:c,isSelected:o,onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)}})}function Ld(e){let t=e.teams;(0,as.KQ)(t,"name");let[a,r]=el.useState(void 0);return el.createElement(La,{emptyView:el.createElement(e2.Tx,{id:"team_tile.guest.no_teams.info",orgName:e.orgName})},t.map(t=>el.createElement(Lc,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:a,setSelectedTeamId:r})))}let Lm=(0,n8.eU)(()=>(0,aX.gB)([])),Lu=(0,ei.Ng)(e=>({teamRoleRequests:e.teamRoleRequests,currentOrgUser:e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id],teams:e.teams,user:e.user,roles:e.roles,org:e.orgById[e.currentUserOrgId],orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name,permissionsState:(0,sQ.getPermissionsStateMemoized)(e)}))(function(e){var t;let a=(0,ei.wA)(),r=e.currentOrgUser&&e.currentOrgUser.permission===lm._D.GUEST,n=Object.keys((0,Le.t)(e.roles.byTeamId,e.user.id)).filter(t=>e.teams[t]);if(r){let{orgId:t}=e,r=n.map(t=>e.teams[t]).filter(e=>e.org_id===t);return el.createElement(Ld,{teams:r,onLeave:e=>{a(t3.to({type:Ta.p,data:{teamId:e.id}}))},orgName:e.orgName})}let l=(null==(t=e.workspace)?void 0:t.id)??fw.O,i=er.filter(e.orgTeams,t=>{if(e.onlyJoinedTeams)return(0,sQ.hasViewerRoleAccessOnTeam)(t.id,e.permissionsState);if(l===fw.O){if(t.workspace_id)return!1}else if(l&&t.workspace_id!==l)return!1;return(0,Tt.dP)(t,e.permissionsState,e.orgId)});return el.createElement(Li,{orgTeams:i,onJoin:e=>(0,yD.GR)(a,e)(),onLeave:e=>{a(t3.to({type:Ta.p,data:{teamId:e.id}}))},onCreateTeam:e.canCreateTeam?()=>{var t;let r={workspaceId:(null==(t=e.workspace)?void 0:t.id)??fw.O};a(t3.to({type:pu.Uc,data:r}))}:void 0,emptyView:l&&!e.canCreateTeam?(0,e2.t)("team_tile.no_teams.empty_workspace"):void 0})});function L_(e){var t;let a=(0,sK.sZ)(),r=(0,sQ.usePermissionsState)(),n=!(0,sQ.canMemberOrg)((null==a?void 0:a.id)??null,r),l=(0,eU.md)(n?Lm:yP),{canCreateTeam:i}=(0,dM.l6)(a,null==(t=e.workspace)?void 0:t.id);return el.createElement(Lu,{orgTeams:l,workspace:e.workspace,canCreateTeam:i,onlyJoinedTeams:e.onlyJoinedTeams})}var Lp=a(989222);function Lg(e){let t=(e=>{switch(e){case t5.Ft.PROJECT:return(0,e2.t)("file_browser.project");case t5.Ft.TEAM:return(0,e2.t)("file_browser.team");case t5.Ft.WORKSPACE:return(0,e2.t)("file_browser.workspace");case t5.Ft.LICENSE_GROUP:return(0,e2.t)("file_browser.billing_group");default:return(0,e2.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case t5.Ft.PROJECT:return(0,e2.t)("file_browser.project_capitalized");case t5.Ft.TEAM:return(0,e2.t)("file_browser.team_capitalized");case t5.Ft.WORKSPACE:return(0,e2.t)("file_browser.workspace_capitalized");case t5.Ft.LICENSE_GROUP:return(0,e2.t)("file_browser.billing_group_capitalized");default:return(0,e2.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),r=el.createElement("div",{className:"unavailable_view--unavailableViewContainer--56CR7"},el.createElement("div",{className:"unavailable_view--header--NWK8E text--fontPos18--rYXJb text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.unavailable_view_resource_not_found",capitalizedResourceNoun:a})),el.createElement("div",{className:"unavailable_view--detailText--JONLg text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.unavailable_view_text",resourceNoun:t})),el.createElement(Lp.$l,null));return el.createElement(uw.r,{content:r})}var LE=a(895379);function Lf(e){return el.createElement(cp.nR,{className:"button_custom--buttonSecondaryDisabled--6D72S","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onMouseEnter:e.onMouseEnter},e.text)}function Lh({backgroundColor:e}){let t=(0,Ec.NV)(a6.WL),a=(0,ei.d4)(e=>e.selectedView.view),r=(0,e2.t)("license_group_view.toolbar.new_team_button"),n=()=>{t(a6.jd,{placement:a})};return e?el.createElement("button",{className:ey()("button_custom--buttonBase--JMycf button--buttonBase---72nl",(0,_d.kx)(e)?"button_custom--buttonColorsForDarkBackground--PkAnh":"button_custom--buttonColorsForLightBackground--dAEim","button_custom--buttonHugContents--7TSd1"),"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:n,disabled:!0},el.createElement(oK.E,{fontSize:11,fontWeight:"medium",truncate:!0},r)):el.createElement(Lf,{text:r,tooltipText:(0,e2.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:n})}var Lv=a(239831);function Lb({avatar:e,title:t,rightSideActions:a,rightSideOfTitleAction:r,pageHeaderIcon:n,belowHeaderItem:l,textColor:i,badge:s}){return el.createElement(el.Fragment,null,el.createElement(fy.i,{tabs:null,hideToolBarOnMobile:!0}),el.createElement("div",{className:ey()(eE.cx.mt12.mx32.mb20.$,"page_header--mx16Mobile--Iq1ni")},el.createElement("div",{className:eE.cx.flex.mt20.itemsCenter.justifyBetween.$},el.createElement("div",{className:eE.cx.flex.itemsCenter.h40.minW0.$},e,el.createElement("div",{className:eE.cx.wFull.overflowHidden.$,style:cs.sx.if(e&&!n,cs.sx.ml16).$},el.createElement("span",{className:eE.cx.flex.itemsCenter.$},n,el.createElement(oK.E,{color:i,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),el.createElement("div",{className:eE.cx.ml8.$},s),r&&r.element))),el.createElement("div",{className:eE.cx.flex.ml16.gap8.$},null==a?void 0:a.map(e=>el.createElement(Lv.K,{action:e,key:e.key}))))),l)}var Ly=a(292164);function Lw(e){let t=(0,ei.wA)(),a=el.useRef(null),r=(0,ei.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&e.dropdownOptions&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=(0,e8.j6)();return el.createElement("button",{ref:a,onClick:()=>{a.current&&t(aC.j7({type:e.dropdownKey,data:{targetRect:a.current.getBoundingClientRect()}}))},onMouseDown:kH.dG,className:eE.cx.bgNone.ml8.$,"aria-label":e.buttonAriaLabel},el.createElement(eC.B,{svg:Ly.A,className:ey()("page_header_dropdown--dropdownIcon--4Qbgf",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--i5eTO")}),n&&el.createElement(n_.j,{parentRect:r.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,a6.Cu)({...l.properties,trackingContext:l.name,...e.trackingProperties})},showPoint:!0}))}let LT=el.forwardRef(function({disabled:e,onClick:t,onKeyDown:a,icon:r,children:n,onFocus:l,onBlur:i},s){let o=el.useCallback(e=>{null==a||a(e),e.keyCode===_k.Uz.ESCAPE&&e.currentTarget.blur()},[a]);return el.createElement("button",{disabled:e,onClick:t,onKeyDown:o,className:ey()("inverted_inverse_button--buttonBase--4YgBm button--buttonBase---72nl","inverted_inverse_button--buttonColors--tEpkC","inverted_inverse_button--buttonHugContents--cUaGO"),onFocus:l,onBlur:i,ref:s},r&&el.createElement("div",{className:"inverted_inverse_button--iconContainer--zAau3"},el.createElement(n0.In,{icon:r})),n&&el.createElement(oK.E,{fontSize:11,fontWeight:"medium",truncate:!0},n))});var Lx=a(740998);let LC=e=>{switch(e){case"primary":case"destructive":case"success":case"toolbar-secondary":return eE.cx.colorIconOnbrand.$;case"inverse":return eE.cx.colorIconOninverse.$;default:return eE.cx.colorIcon.$}};function LN(e){let t=el.createElement("div",{className:eE.cx.flex.gap6.itemsCenter.$,"data-testid":e.dataTestId},el.createElement(eC.B,{className:LC(e.variant),svg:Lx.A}),el.createElement(oK.E,null,e.text));return"inverted-inverse"===e.variant?el.createElement(LT,{onClick:e.onClick,disabled:e.disabled},t):el.createElement(mE.$,{"data-onboarding-key":e["data-onboarding-key"],variant:e.variant,onClick:e.onClick,disabled:e.disabled},t)}var Lk=a(539321),LS=a(168039),LI=a(300587),LA=a(260378),LL=a(677859),LR=a(666959),LO=(($=LO||{}).SOLID="solid",$.NO_FILL="no_fill",$);function LD({selectedFillOption:e,onSelectFillOption:t}){let a={solid:(0,e2.t)("workspace_view.toolbar.solid"),no_fill:(0,e2.t)("workspace_view.toolbar.no_fill")};return el.createElement(dB.W.DropdownSelector,{className:eE.cx.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return el.createElement(LL.$n,{className:eE.cx.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},el.createElement("span",{className:eE.cx.minW32.mr8.$},a[e]))},dropdownOptionsClassName:"workspace_color_toolbar--dropdownOptions--Eqmye",options:["solid","no_fill"].map((e,r)=>el.createElement(dB.W.Option,{className:eE.cx.colorTextMenuSecondary.$,key:r,id:e,onClick:()=>{t(e)}},a[e])),optionsBelowSelector:!0,noBorder:!0})}let LF=gp.M4.Mutation(async e=>{await I4.u.updateColor(e)});function LM({workspace:e,onClose:t}){var a;let r=(0,ei.wA)(),n=(0,gp.n_)(LF),l=(0,_d.wT)(),i=el.useRef(null),[s,o]=el.useState(!1),c=(0,LS.DP)(),d=(null==(a=null==e?void 0:e.colorConfig)?void 0:a.colors)??[],m=(0,_d.IB)(d[0]),[u,_]=el.useState(m?"solid":"no_fill"),[p,g]=(0,eU.fp)(LR.p);return el.useEffect(()=>(g(m),()=>{g(void 0)}),[]),el.useEffect(()=>{if(!s){let e=e=>{"Escape"===e.key&&t()},a=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",a)}}},[s,t]),el.createElement("div",{className:"workspace_color_toolbar--workspaceColorToolbar--qqqyF",ref:i},el.createElement(LD,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e=(0,_d.Bx)(c);g(m??e)}else g("unset")}}),(0,_d.gD)(p)&&el.createElement(el.Fragment,null,el.createElement(LL.wv,null),el.createElement(LI.qW,{buttonClassName:eE.cx.ml2.mr2.$,options:l,value:{option:p},onColorChange:e=>{g(e.option)},paletteType:"base",numColumns:9,optionSize:"medium",buttonSize:"xsmall",shouldDisableDataTooltip:!0,dropperDisabled:!0,positionX:()=>0,positionY:(e,t)=>(0,LA.DH)(e,t,4),shouldCustomColorPopoverCloseOnEscape:!0,isColorPopoverOpen:s,setIsColorPopoverOpen:o,hasNonWhiteboardColors:!0})),el.createElement(LL.wv,null),el.createElement(LL.$n,{className:eE.cx.ml4.mr2.$,onClick:t},el.createElement("span",{className:eE.cx.mr1.colorTextToolbarSecondary.$},(0,e2.t)("workspace_view.color.toolbar.cancel"))),el.createElement(LL.$n,{className:eE.cx.mr8.$,onClick:()=>{n({workspaceId:e.id,colors:(0,_d.gD)(p)?[(0,Lk.colorToHex)(p)]:[],onfulfilled:()=>r(a0.F.enqueue({message:(0,e2.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,e2.t)("workspace_view.toolbar.workspace_color_update_error");r(ae.s.error(e)),console.error(e)}}),t()}},el.createElement("span",{className:"workspace_color_toolbar--saveText--EpfyL"},(0,e2.t)("workspace_view.color.toolbar.save"))))}let LP=gp.M4.Mutation(async e=>{await I4.u.updateDescription(e)}),LB=(0,rr.Ju)(function({workspace:e}){let t=(0,ei.wA)(),a=(0,gp.n_)(LP);return el.createElement(Tj.c,{title:(0,e2.t)("workspace_view.description_modal.title"),subtitle:el.createElement("div",{className:eE.cx.mb16.$},el.createElement(oK.E,{color:"secondary"},el.createElement(e2.Tx,{id:"workspace_view.description_modal.subtitle",allWorkspacesText:el.createElement("span",{className:eE.cx.fontSemiBold.$},(0,e2.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,e2.t)("workspace_view.description.placeholder"),submitText:(0,e2.t)("workspace_view.description.save"),onRename:r=>a({workspaceId:e.id,description:r}).then(()=>t(a0.F.enqueue({message:(0,e2.t)("workspace_view.description_update_updated")})),()=>{let e=(0,e2.t)("workspace_view.description_update_error");t(ae.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");var LU=a(797804);let LW=(0,ei.Ng)(e=>{var t;return{currentUserId:null==(t=e.user)?void 0:t.id}})(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},a=e.members.length,r=e.membersToShow||10;return el.createElement("div",null,!e.removeHeader&&el.createElement("div",{className:eE.cx.font13.fontMedium.mb12.$},e.label||(0,e2.t)("file_browser.team_overview.member_label")),e.members.slice(0,r).map(a=>{let r=a.id===e.currentUserId,n=e.showAdminBadge&&e.showAdminBadge(a);return el.createElement(aa.az,{key:a.id,size:24,entity:a,className:e.customAvatarRowStyle?e.customAvatarRowStyle:eE.cx.font13.mb16.$,showIsMe:r,onClick:e.onMemberClick,badge:n?{color:oj.zE.DEFAULT,text:(0,e2.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&r&&el.createElement("span",{onClick:t,className:"members_preview--leaveLink--u1X-3 text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},el.createElement(e2.Tx,{id:"file_browser.team.leave_confirm"})))}),a>r&&(e.customOverflowRow||el.createElement("div",{className:"members_preview--totalMemberCountContainer--Pe3wO",onClick:e.onClickShowMore},el.createElement(eC.B,{svg:LU.A,className:"members_preview--teamIcon--2-FAe"}),el.createElement("div",{className:"members_preview--totalMemberCount--6WdaE text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.team_overview.num_others",numMembers:a-r})))))});var LV=((j=LV||{}).MEMBERS="MEMBERS",j.ADMINS="ADMINS",j);function LG(e){let t=(0,_t.rw)(),a=new Map([["MEMBERS",(0,e2.t)("workspace_view.members_modal.members")],["ADMINS",(0,e2.t)("workspace_view.members_modal.admins")]]),r=[];return a.forEach((a,n)=>{r.push(el.createElement(t,{tab:n,mobileNavTabTitle:a,selectedTab:e.selectedTab,key:n,onClick:()=>e.setTab(n)},a))}),el.createElement("div",{className:"workspace_members_modal--tabsContainer--wgUpd"},r)}function L$(e){return el.createElement("div",{className:"workspace_members_modal--searchContainer--S1bTj modal--searchContainer--EA8ib"},el.createElement(uP.IW,{className:"workspace_members_modal--searchBar--Zyf2W",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--nY8Tt",placeholder:(0,e2.t)("workspace_view.members_modal.search_placeholder")}))}function Lj(e){return el.createElement("div",{className:"workspace_members_modal--emptyContainer--bp7DJ"},el.createElement("div",{className:"workspace_members_modal--emptyState--jjXCZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let LH=(0,rr.Ju)(function(e){var t,a,r,n;let l=(0,ei.wA)(),i=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),s=((null==(t=e.workspace)?void 0:t.members)||[]).slice().sort(i),o=((null==(a=e.workspace)?void 0:a.admins)||[]).slice().sort(i),c={};s.forEach(e=>{e.baseOrgUser&&(c[e.baseOrgUser.user.id]=e.permission)});let[d,m]=(0,el.useState)("MEMBERS"),[u,_]=(0,el.useState)(s),[p,g]=(0,el.useState)(""),E=el.createElement(LG,{dispatch:l,selectedTab:d,setTab:e=>{g(""),m(e),_("MEMBERS"===e?s:o)}}),f=u.filter(e=>{var t,a;let r=null==(t=e.baseOrgUser)?void 0:t.user,n=p.toLocaleLowerCase();return!!(null==(a=null==r?void 0:r.email)?void 0:a.toLocaleLowerCase().includes(n))||!!(null==r?void 0:r.handle.toLocaleLowerCase().includes(n))}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],h=el.createElement(L$,{query:p,onChange:e=>g(e)}),v=el.createElement(Lj,{content:el.createElement(e2.Tx,{id:"workspace_view.members_modal.no_members",workspaceName:null==(r=e.workspace)?void 0:r.name})}),b=el.createElement(Lj,{content:el.createElement(e2.Tx,{id:"workspace_view.members_modal.no_admins",workspaceName:null==(n=e.workspace)?void 0:n.name})}),y=el.createElement(Lj,{content:el.createElement(e2.Tx,{id:"workspace_view.members_modal.no_results",query:p})}),w=el.createElement(rt.P,{className:"workspace_members_modal--outerContainer--JHmoo",innerClassName:"workspace_members_modal--membersContainer--f-7ds"},el.createElement(LW,{members:f,showAdminBadge:e=>"ADMINS"!==d&&c[e.id]===lm.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--d9LZV text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--7e9O9 ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,t)=>{l(aC.$T({view:"user",userId:t.id,userViewTab:Tv.o.INTERNAL_PROFILE})),l(t3.Ce())}}));return"MEMBERS"===d?0===s.length?w=v:0===f.length&&(w=y):"ADMINS"===d&&0===o.length&&(w=b),el.createElement(lD.XV,{title:E,headerSize:"large",fixedTop:!0,onClose:()=>{l(t3.Ce())}},el.createElement("div",{className:"workspace_members_modal--modalContainer---ik7x"},el.createElement(nX.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===d&&s.length>0&&h," ",w)))},"WORKSPACE_MEMBERS_MODAL",rr.ZU.YES);var Lq=a(247576);function LY(e){let{workspace:t,org:a}=e,r=(0,ei.wA)(),n=(0,ei.d4)(e=>e.currentUserOrgId),l=(0,ei.d4)(e=>e.avatarEditorState),i=(0,sJ._6)(),s=(null==t?void 0:t.canAdmin)??!1,[o,c]=el.useState(!1),{canCreateTeam:d,cannotCreateTeamReason:m}=(0,dM.l6)(a,null==t?void 0:t.id),u=(0,pV.S)(),_=window.innerWidth<=(0,te.hG)(e5.tgj),p=t?t.id:fw.O,g=(0,_d.Cy)(t),E=(0,_d.eg)(t),f=(null==t?void 0:t.members)||[],h=()=>{n?r(t3.to({type:pu.Uc,data:{workspaceId:p}})):r(sq.Dw({previousView:i}))},v=el.useCallback((e,a,n)=>{if(t){let l={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:n,favoriteId:a};e?r(pc.ZW(l)):r(pc.if(l))}},[r,t]),b=()=>{r(t3.to({type:LH,data:{workspace:e.workspace,tab:LV.MEMBERS}}))},y={kind:LE.A.ICON_TEXT_BUTTON,key:LE.D.VIEW_MEMBERS,displayText:f.length.toString(),onClick:e=>b(),icon:Lq.A,svgStyleClass:ey()(E?(0,_d.kx)(E)?"workspace_page_header--iconTextButtonSvgForDarkBackground--ylvur workspace_page_header--iconTextButtonSvg--UbYwz":"workspace_page_header--iconTextButtonSvgForLightBackground--c-YLF workspace_page_header--iconTextButtonSvg--UbYwz":"workspace_page_header--iconTextButtonSvg--UbYwz"),styleClass:ey()(E?(0,_d.kx)(E)?"workspace_page_header--membersButtonForDarkBackground--Tcczc workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9":"workspace_page_header--membersButtonForLightBackground--HhXA4 workspace_page_header--favoriteStarContainerForLightBackground--GXMcy":void 0),isLoading:e.isWorkspaceMembersLoading},w=el.useMemo(()=>el.createElement(gB.r,{setFavorite:v,favoriteType:lm.bk.WORKSPACE,resourceId:p,isFavoriteHeaderStar:!0,orgId:n,parentBackgroundColor:E}),[p,v,n,E]),T=function(){let e=(0,ei.wA)(),t=(0,aN.TA)();return a=>{let r=a.workspace.admins.some(e=>{var a;return(null==(a=e.baseOrgUser)?void 0:a.user.id)===t}),n=[];return r&&n.push({displayText:(0,e2.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(aC.$T({view:"workspace",subView:m$.V0.ADMIN,workspaceId:a.workspace.id,selectedTab:m$.rj[0]}))}}),n.length>0&&n.push({displayText:"",separator:!0}),n.push({displayText:(0,e2.t)("file_browser.copy_link"),callback:()=>{let t=(0,gg.fO)(a.workspace.id,a.org.id);e(nc.S({url:t}))}}),a.workspace.canAdmin&&(n.push({displayText:(0,e2.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,_G.X)({entity:a.workspace,entityType:mY.ck.WORKSPACE,shape:"SQUARE"}))}}),n.push({displayText:(0,e2.t)("workspace_view.toolbar.change_color"),callback:a.onWorkspaceChangeColorClick}),n.push({displayText:(0,e2.t)("workspace_view.description.title"),callback:()=>{e(t3.to({type:LB,data:{workspace:a.workspace}}))}})),n}}(),x=t&&a?T({workspace:t,org:a,onWorkspaceChangeColorClick:()=>c(!0)}):d&&_?[{displayText:(0,e2.t)("org_view.new_team"),callback:h}]:void 0,C=[];if(m===dM.z4.TEAM_CREATION_CONTROL?C.push({kind:LE.A.CUSTOM,key:LE.D.NEW_TEAM,element:el.createElement(Lh,{backgroundColor:E})}):d&&C.push({kind:LE.A.CUSTOM,key:LE.D.NEW_TEAM,element:el.createElement(LN,{onClick:h,variant:g?"inverted-inverse":"inverse",text:(0,e2.t)("license_group_view.toolbar.new_team_button")})}),e.showMembersButton&&C.push(y),u&&t&&C.push({kind:LE.A.CUSTOM_BUTTON,key:LE.D.FAVORITE,element:w,styleClass:ey()(E?(0,_d.kx)(E)?"workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9":"workspace_page_header--favoriteStarContainerForLightBackground--GXMcy":void 0)}),!t)return el.createElement(Lb,{title:(0,e2.t)("license_group_view.meta.unassigned_title",{orgName:a.name}),rightSideActions:C});let N=x?{kind:LE.A.CUSTOM,key:LE.D.DROPDOWN,element:el.createElement(Lw,{buttonAriaLabel:(0,e2.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:x,dropdownColorClassName:E?(0,_d.kx)(E)?"workspace_page_header--dropdownColorsForDarkBackground--heOfu":"workspace_page_header--dropdownColorsForLightBackground--RUg--":void 0})}:void 0;return el.createElement("div",{style:{backgroundColor:e.headerColor}},el.createElement(Lb,{avatar:s?el.createElement(mJ.j,{avatarEditorState:l,entityType:mY.ck.WORKSPACE,entity:t,dispatch:r,size:40}):el.createElement(aa.z6,{entity:t,size:40}),title:E&&(0,_d.kx)(E)?el.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--KfdSY"},t.name):t.name,badge:t.orgAccess===lm.bU.SECRET?el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,e2.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},el.createElement(n0.In,{icon:"lock-16"})):void 0,rightSideActions:C,rightSideOfTitleAction:N,belowHeaderItem:o?el.createElement(LM,{workspace:t,onClose:()=>c(!1)}):void 0,textColor:g?"oninverse":void 0}))}function Lz(e){var t;let a=(0,ei.wA)(),r=null==(t=e.workspace)?void 0:t.members,n=el.useMemo(()=>r||[],[r]),l=el.useMemo(()=>n.slice(0).sort(()=>Math.random()-.5),[n]),i={};return n.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)}),el.createElement("div",{className:eE.cx.my24.mr8.ml24.$},el.createElement("div",{className:"workspace_page_meta_content--membersHeader--E0gIh text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,e2.t)("workspace_view.sidebar.members")),el.createElement(LW,{removeHeader:!0,members:l.map(e=>{var t;return null==(t=e.baseOrgUser)?void 0:t.user}).filter(e=>!!e),onMemberClick:(e,t)=>{a(aC.$T({view:"user",userId:t.id,userViewTab:Tv.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>i[e.id]===lm.bp.ADMIN,customOverflowRow:el.createElement(el.Fragment,null,el.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--k12xq text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{a(t3.to({type:LH,data:{workspace:e.workspace,tab:LV.MEMBERS}}))}},(0,e2.t)("workspace_view.sidebar.see_all_members")))}))}function LK({isExpanded:e,fill:t,onClick:a}){return el.createElement("div",{role:"button",tabIndex:-1,className:ey()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:a},el.createElement(n0.In,{icon:"caret-right-16",fill:t}))}function LJ({isOpen:e,toggleIsOpen:t,collapseHeader:a,content:r}){return el.createElement("div",{className:eE.cx.flex.flexColumn.wFull.$},el.createElement("div",{className:eE.cx.flex.flexRow.gap4.itemsCenter.wFull.$},el.createElement(LK,{isExpanded:e,fill:"secondary",onClick:t}),a),el.createElement("div",{className:eE.cx.grid.ml20.$,"aria-hidden":!e,style:cs.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,cs.sx.add({gridTemplateRows:"1fr"}),cs.sx.add({gridTemplateRows:"0fr"})).$},el.createElement("div",{className:eE.cx.if(!e,eE.cx.overflowHidden).$},r)))}var LQ=a(445092),LZ=a(998966),LX=a(507747),L0=a(526598),L1=a(73523),L2=a(586450),L4=a(54996);function L3({title:e,confirmText:t,onSubmit:a,files:r,tileClassName:n,renderFileTile:l,renderTileFooter:i,query:s,setQuery:o,gridText:c}){let[d,m]=el.useState(null),u=el.useCallback(()=>{d&&a(d)},[a,d]),_=el.useCallback(e=>{e.length>0?m(e[0]):m(null)},[m]);return el.createElement(L8,{title:e,onSubmit:u,confirmText:t,isDisabled:!d,query:s,onSearchChange:o,clearSearch:()=>o(""),searchPlaceholder:(0,e2.t)("file_browser.choose_file_modal.search_for_a_file")},0===r.length?el.createElement("div",{className:eE.cx.flex.flexRow.gap2.itemsCenter.justifyCenter.colorTextSecondary.hFull.wFull.$},s?el.createElement(el.Fragment,null,(0,e2.t)("search.search_model_type.empty_state_files"),el.createElement("div",{className:eE.cx.colorText.fontMedium.$}," ",s)):(0,e2.t)("file_browser.choose_file_modal.no_files_found")):el.createElement(el.Fragment,null,c&&el.createElement("span",{className:eE.cx.colorTextSecondary.$},c),el.createElement(L4.g,{containerClassName:eE.cx.pb16.$,handleContextMenu:eu.lQ,handleOpenItem:eu.lQ,isDraggable:!1,items:r,multiselectDisabled:!0,doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,tileClassName:n,renderTile:l,renderTileFooter:i,onSelection:_,keepSelectionOnFocusLost:!0})))}function L8({title:e,confirmText:t,onSubmit:a,isDisabled:r,children:n,query:l,onSearchChange:i,clearSearch:s,searchPlaceholder:o}){return el.createElement(lD.Eo,{title:e,confirmText:t,onSubmit:a,disabled:r,maxWidth:1024,useRedesign:!0,fullWidthContent:!0},el.createElement(uP.IW,{className:ey()(eE.cx.px16.py8.colorBg.wFull.bb1.bSolid.colorBorder.borderBox.$,"choose_file_modal--heightOverride--z-9eb"),hasTransparentBackground:!0,placeholder:o,focusOnMount:!0,query:l,onChange:i,clearSearch:s,iconClassName:eE.cx.colorIcon.$,hideXIcon:!0}),el.createElement(rt.P,{className:"choose_file_modal--gridMaxHeight--uK-O9",innerClassName:eE.cx.hFull.gap12.flex.flexColumn.pt16.px24.borderBox.$},n))}function L5({file:e}){let t=(0,LZ.l6)(e.folder_id),a=t.data;return el.createElement("div",{className:eE.cx.pt8.flex.flexColumn.$},el.createElement("span",{className:eE.cx.ellipsis.textBodyLargeStrong.truncate.$},e.name),el.createElement("span",{className:eE.cx.ellipsis.colorTextSecondary.truncate.$},"loaded"===t.status&&a?el.createElement("div",{className:eE.cx.colorTextSecondary.truncate.$},a):null))}let L6=(0,rr.Ju)(function({workspaceId:e}){var t,a;let[r,n]=el.useState(""),l=(0,L0.L)("file_browser",mV.Rx.ORG,!0),i=(0,ei.wA)(),s=(0,pR.O7)(e),o=el.useCallback(t=>{i(t3.ES(L6)),i(t3.to({type:Ex.aJ,data:{file:t,workspaceId:e}}))},[i,e]);el.useEffect(()=>(i(LQ.Dy({entryPoint:"file_browser:file_picker_modal"})),i(LQ.Rz({withWorkspaceVisibility:!0})),()=>{i(LQ.Rz({withWorkspaceVisibility:!1})),i(LQ.ky())}),[i,n,e]);let c=(0,IM.A)(l,400),d=el.useCallback(e=>{n(e),c(e,mV.uH.FILES,null,!1,!1,!1)},[c,n]),m=(0,pR.$o)(e),u=(0,eU.md)(L2.ic),_=(0,L1.h)();if("loaded"!==m.status||"loaded"!==s.status||r&&_!==oL.r.SUCCESS)return el.createElement(L8,{title:(0,e2.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,e2.t)("general.next"),isDisabled:!0,query:r,onSearchChange:n,clearSearch:eu.lQ,searchPlaceholder:(0,e2.t)("file_browser.choose_file_modal.search_for_a_file")},el.createElement("div",{className:ey()(eE.cx.flex.itemsCenter.justifyCenter.wFull.hFull.$)},el.createElement(t7.qc,null)));let p=new Set(...(null==(t=s.data)?void 0:t.map(e=>{var t;return null==(t=e.file)?void 0:t.key}))??[]),g=r?null==(a=u.files)?void 0:a.results.reduce((e,t)=>(p.has(t.model.key)||e.push(t.model),e),[]):m.data;return el.createElement(L3,{title:(0,e2.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,e2.t)("general.next"),tileClassName:"add_pin_file_modal--showOnHoverContainer--JnZfB",query:r,setQuery:d,renderFileTile:(e,t)=>el.createElement(LX.Z,{tile:(0,gd.fA)(e),isSelected:t,showOnHoverClassName:"add_pin_file_modal--showOnHoverContent--mvN1W",hideBranchIndicator:!0,hideFavoriteStar:!0}),renderTileFooter:e=>el.createElement(L5,{file:e}),onSubmit:o,files:g??[],gridText:r?void 0:(0,e2.t)("file_browser.pinning.suggested")})},"AddPinFileModal");var L9=a(671653),L7=a(716660),Re=a(120026),Rt=a(30623),Ra=a(861949),Rr=a(678235),Rn=a(344780),Rl=a(823810),Ri=a(307524),Rs=a(388120);let Ro=[];var Rc=a(794272),Rd=a(255942),Rm=a(418993),Ru=a(296559),R_=a(835156),Rp=a(974105),Rg=a(857766),RE=a(372174),Rf=a(216671),Rh=a(608902),Rv=a(723127),Rb=a(677005),Ry=a(507921),Rw=a(602244);function RT(e){var t,a;let[r,n]=el.useState(!1),{repo:l,branches:i}=e.tile,s=i.filter(e=>!e.trashed_at),o=(0,ei.wA)(),c=(0,ei.d4)(e=>e.selectedBranchKeyByRepoId),d=(0,Rg.mr)(l,i,c),m=(0,ei.d4)(e=>"deletedFiles"===e.selectedView.view),u=(0,ei.d4)(e=>"sharedWithYou"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===mW.G.SHARED_FILES),_=(0,ei.d4)(e=>"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===mW.G.RECENTLY_VIEWED),p=(0,ei.d4)(e=>e.currentUserOrgId),g=(0,ei.d4)(e=>e.currentTeamId),E=(0,ei.d4)(e=>e.selectedView),f=(0,ei.d4)(e=>e.orgById),h=(0,ei.d4)(e=>e.teams),v=i.find(e=>(0,Rg.SA)(e,l)),b=s.length-(v?1:0),y=e.hideBranchIndicator||0===b,w=l.parent_org_id&&f[l.parent_org_id]||l.team_id&&h[l.team_id],T=el.useMemo(()=>el.createElement("div",{className:Rw.wx},_&&w&&el.createElement(fC.H,{entityId:w.id,entityName:w.name,imgUrl:w.img_url}),!y&&el.createElement(e2.Tx,{id:"tile.file_tile.branch_count",branchCount:b}),v&&el.createElement(el.Fragment,null,!y&&el.createElement(el.Fragment,null,"\xa0\xb7\xa0"),m?el.createElement("span",{className:Rw.Yg},l.trashed_at&&el.createElement(e2.Tx,{id:"tile.file_tile.deleted_generic",time:el.createElement(Rb.RX,{date:l.trashed_at})})):el.createElement(Rb.RX,{date:v.touched_at}))),[b,v,y,m,l,w,_]);if(u&&((null==(t=l.shared_by_user)?void 0:t.name)||l.shared_at)){let e=l.shared_at&&el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"swy_tile.shared"}),el.createElement(lI.h1,{date:new Date(l.shared_at)})),t=(null==(a=l.shared_by_user)?void 0:a.name)?`From ${l.shared_by_user.name}`:e;T=el.createElement(el.Fragment,null,el.createElement("div",{className:Rw.wx},w&&el.createElement("div",{className:Rw.KP},el.createElement(fC.H,{entityId:w.id,entityName:w.name||void 0,imgUrl:w.img_url||void 0})),el.createElement("div",null,t)))}let x=(0,ei.d4)(e=>e.roles.byFileKey),C=(0,aN.Pc)(),N=(0,ei.d4)(e=>e.activeFileUsers),k=el.useMemo(()=>(null==d?void 0:d.key)?(0,R_.g)(N,C.id,null==d?void 0:d.key):[],[N,C,d]),S=(0,ei.d4)(e=>(0,ov.QM)(e.autosave.unclaimedFilesWithChangesInIDB,e)).findIndex(e=>e.fileKey===(null==d?void 0:d.key))>=0,I=el.useMemo(()=>(0,Rg.gx)(l,s,x,C.id),[l,s,x,C]),A=el.useCallback(()=>{n(!0)},[n]),L=el.useCallback(()=>{n(!1)},[n]),R=(null==d?void 0:d.key)&&d.key===c[l.id];el.useEffect(()=>{!R&&(null==d?void 0:d.key)&&o(gi.kE({repoId:l.id,branchKey:d.key}))},[R,null==d?void 0:d.key,l.id,o]);let O=d?(0,oT.rl)(d):"";return O=(0,i$.mc)(O,C),O=(0,i$.vk)(O,p,g,E),d?el.createElement(Rb.XQ,{...e,href:O,onMouseEnter:A,onMouseLeave:L},e.isListView?el.createElement(Ry.I,{tile:e.tile,activeFileUserList:k,showSettingsIcon:!1}):el.createElement(LZ._7,{tile:e.tile,file:d,subtitle:T,activeFileUsers:k,currentUser:C,hasUnsyncedChanges:S,showBranchIndicator:!y,branches:I,selectedBranchKey:null==d?void 0:d.key,onSelectBranch:e=>{(0,e7.sx)("Branch Tile Drop Down Clicked Through",{fileRepoId:l.id,selectedFileKey:e,previousFileKey:null==d?void 0:d.key}),o(gi.kE({repoId:l.id,branchKey:e}))},showSettingsIcon:!1,isHover:r})):null}function Rx(){let e=el.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),el.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),el.createElement("defs",null,el.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},el.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),el.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return el.createElement("div",{className:Rw.kL},el.createElement("div",{className:Rw.yl},el.createElement("div",{className:Rw._h},e)))}RT.displayName="RepoTileView";var RC=a(946992),RN=a(951483),Rk=a(107980);function RS(e){let t=e.tile,a=t.file.editorType===lm._Y.DESIGN?dE.y1.DESIGN:dE.y1.WHITEBOARD,r=new Date(t.file.lastUpdatedAt).toISOString(),n=(0,sJ._6)(),l=(0,eU.md)(oE.b),i=(0,ei.d4)(e=>e.orgById),s=!l&&(0,d3.K)(n),o=el.createElement("span",{className:Rw.gO},el.createElement(e2.Tx,{id:"tile.file_tile.edited_time",time:el.createElement(lI.h1,{date:r})}));if(s&&t.file.orgId){let e=i[t.file.orgId];e&&(o=el.createElement("div",{className:Rw.wx},el.createElement(fC.H,{entityId:e.id,entityName:e.name,imgUrl:e.img_url}),o))}return el.createElement(Rb.d3,{...e},e.isListView?el.createElement(Ry.I,{tile:t,activeFileUserList:[]}):el.createElement(el.Fragment,null,el.createElement(RC.A,null),el.createElement("div",{className:Rw.vS},el.createElement(dE.oS,{type:a,size:dE.LE.MEDIUM})),el.createElement("div",{className:Rw.q6},el.createElement(Rk.S,{tile:t,isListView:!1}),el.createElement("div",{className:Rw.SC},el.createElement(Rb.md,{subtitle:o})),el.createElement("div",{className:Rw.WM},el.createElement(RN.v,null)))))}var RI=a(582821);function RA(e){var t,a,r,n;let l,i;let s=(0,ei.d4)(e=>"deletedFiles"===e.selectedView.view),o=(0,ei.d4)(e=>e.currentUserOrgId),c=(0,ei.d4)(e=>e.currentTeamId),d=(0,ei.d4)(e=>"sharedWithYou"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===mW.G.SHARED_FILES),m=(0,ei.d4)(e=>"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===mW.G.RECENTLY_VIEWED),u=(0,aN.iZ)(),_=(0,ei.d4)(e=>e.selectedView),p=(0,ei.d4)(e=>e.orgById),g=(0,ei.d4)(e=>e.teams),E=(0,em.kc)().ps_benchmark,f=(0,ow.FC)(),h=(0,ei.wA)(),{tile:v}=e,b=e.tile.prototype.fig_file.parent_org_id??null,y=E&&(null==(t=e.tile.prototype.fig_file)?void 0:t.team_id)?null==(a=e.tile.prototype.fig_file)?void 0:a.team_id:null,w=(0,RI.Y)(v.prototype.id,lm.bk.PROTOTYPE,b,y),T=el.useMemo(()=>"loaded"===w.status?!!w.favorite:gd.Tf.getIsFavorited(v),[v,w]),x=el.useCallback((e,t,a)=>{if(v.type===gd.nb.PROTOTYPE){let r={entrypoint:"file_tile",favoriteId:t,prototype:v.prototype,sectionId:a,fileBrowserEntryPoint:!0};e?h(pc.iN(r)):h(pc.X7(r))}},[h,v.type,v.prototype]),C=e.tile.prototype,N=(0,go.jm)(b,y),k=(!(0,em.kc)().ps_benchmark||N)&&!s,S=(0,l_.Uj)(C.fig_file);if(d&&((null==(r=C.shared_by_user)?void 0:r.name)||C.shared_at)){let e=C.shared_at&&el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"swy_tile.shared"}),el.createElement(lI.h1,{date:new Date(C.shared_at)})),t=(null==(n=C.shared_by_user)?void 0:n.name)?`From ${C.shared_by_user.name}`:e,a=C.parent_org&&{id:C.parent_org.id,imgUrl:C.parent_org.imgUrl||void 0,name:C.parent_org.name||void 0},r=!C.parent_org&&C.parent_team&&{id:C.parent_team.id,imgUrl:C.parent_team.imgUrl||void 0,name:C.parent_team.name||void 0},i=a||r;l=el.createElement(el.Fragment,null,el.createElement("div",{className:Rw.wx},i&&el.createElement("div",{className:Rw.KP},el.createElement(aa.Ro,{entity:i,hideFallbackInitial:!1,size:14})),el.createElement("div",null,t)))}else l=S?(0,em.kc)().password_file_show_thumbnail&&(0,sQ.canViewPrototypes)(C.file_key,f)?el.createElement("span",{className:Rw.gO},el.createElement(e2.Tx,{id:"tile.file_tile.password_protected_shorter"}),"\xb7",el.createElement(Rb.RX,{date:C.accessed_at||""})):el.createElement("span",{className:Rw.gO},el.createElement(e2.Tx,{id:"tile.file_tile.password_protected_prototype"})):el.createElement(Rb.RX,{date:C.accessed_at||""});let I=C.fig_file,A=I.parent_org_id&&p[I.parent_org_id]||I.team_id&&g[I.team_id];m&&A&&(l=el.createElement("div",{className:Rw.wx},el.createElement(fC.H,{entityId:A.id,entityName:A.name,imgUrl:A.img_url}),l));let L=el.createElement(el.Fragment,null,el.createElement(gH.n,{isLocked:S,thumbnail_url:C.thumbnail_url}),el.createElement("div",{className:Rw.vS},el.createElement(dE.oS,{type:dE.y1.PROTOTYPE})),el.createElement("div",{className:ey()(Rw.SA,{[Rw.RK]:T})},k&&v.prototype.id&&el.createElement("div",{className:Rw.A4},el.createElement(gB.r,{resourceId:v.prototype.id,favoriteType:lm.bk.PROTOTYPE,setFavorite:x,noHoverState:!0,size:gB.m.MEDIUM,orgId:b,teamId:y}))),el.createElement("div",{className:Rw.q6},el.createElement(Rk.S,{tile:e.tile,isListView:!!e.isListView}),el.createElement("div",{className:Rw.SC},el.createElement(Rb.md,{subtitle:l}))));try{i=(0,i$.mc)(C.url,u),i=(0,i$.vk)(C.url,o,c,_)}catch(e){i=C.url}return el.createElement(e8.fu,{name:"Prototype Tile",trackingTargets:CM.K.RCS,properties:{fileKey:C.file_key,pageId:C.page_id}},el.createElement(Rb.XQ,{...e,href:i},e.isListView?el.createElement(Ry.I,{tile:e.tile,activeFileUserList:[]}):L))}RA.displayName="PrototypeTile";var RL=a(527382);function RR({text:e,tooltipText:t,currentProgress:a,totalProgress:r}){return el.createElement(nX.Y,{direction:"vertical",height:"hug-contents",spacing:"7px"},el.createElement(nX.Y,{horizontalAlignItems:"space-between"},el.createElement(nX.Y,{spacing:4},el.createElement(oK.E,{fontSize:13,fontWeight:"medium"},e),el.createElement("div",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0},el.createElement(n0.In,{icon:"info-16",fill:"secondary"}))),el.createElement(oK.E,{fontSize:13,fontWeight:"medium"},a,"/",r)),el.createElement("div",{className:eE.cx.relative.wFull.$},el.createElement("div",{className:eE.cx.absolute.wFull.$},el.createElement(nX.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})),el.createElement("div",{className:eE.cx.absolute.wFull.$},el.createElement(nX.Y,{cornerRadius:5,height:5,width:`${Math.min(a/r*100,100)}%`,backgroundColor:a>=r?"warning":"brand"}))))}function RO({canEditTeam:e,isDraftsFolder:t}){let a=(0,ei.wA)(),r=(0,mM.ol)(),n=(0,sJ._6)(),l=(0,oz.PP)();return t||!r||(0,d2.w5)(r)||"folder"!==n.view||!l()?null:el.createElement(RD,{folderId:n.folderId,showPlanComparisonModal:()=>{a((0,t3.to)({type:_V.V,data:{upsellSource:d8.b.STARTER_LIMIT_OVERVIEW,teamId:r.id}}))},canEditTeam:e})}function RD({folderId:e,showPlanComparisonModal:t,canEditTeam:a}){var r,n,l,i,s,o,c,d,m,u;let _=(0,aX.Rs)(a9.yU5,{projectId:e});if("loaded"!==_.status)return null;let p=(null==(n=null==(r=_.data.project)?void 0:r.team)?void 0:n.projectsCount.status)==="loaded"?(null==(i=null==(l=_.data.project)?void 0:l.team)?void 0:i.projectsCount.data)??1:1,g=(null==(c=null==(o=null==(s=_.data.project)?void 0:s.team)?void 0:o.teamFileCounts)?void 0:c.designFileCount)??0,E=(null==(u=null==(m=null==(d=_.data.project)?void 0:d.team)?void 0:m.teamFileCounts)?void 0:u.whiteboardFileCount)??0,f=g>=d2.WW||E>=d2.WW;return el.createElement(e8.fu,{name:"Starter Limit Overview"},el.createElement("div",{className:ey()(eE.cx.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--qul7G"),style:cs.sx.sticky.add({alignSelf:"flex-start",top:"128px"}).$},el.createElement(nX.Y,{direction:"vertical",padding:32,spacing:24,cornerRadius:8,strokeWidth:1,strokeColor:"default",height:"hug-contents"},el.createElement(oK.E,{i18nId:"file_browser.starter_limit.your_starter_team_overview",fontSize:14,fontWeight:"semi-bold"}),el.createElement(RF,{numProjects:p,numFigmaFilesUsed:g,numFigjamFilesUsed:E}),a?el.createElement(nX.Y,{direction:"vertical",spacing:"12px"},el.createElement(oK.E,{i18nId:f?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started",fontSize:13}),el.createElement(cp.vd,{onClick:t,trackingProperties:{trackingDescriptor:e3.c.VIEW_PLANS}},el.createElement(e2.Tx,{id:"upgrade.view_plans"}))):el.createElement(oK.E,{i18nId:"file_browser.starter_limit.trying_things_out",fontSize:13}))))}function RF({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:a}){return el.createElement(nX.Y,{direction:"vertical",spacing:24,width:234},el.createElement(RR,{text:(0,e2.t)("file_browser.starter_limit.projects"),tooltipText:(0,e2.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:d2.Wf}),el.createElement(RR,{text:(0,e2.t)("file_browser.starter_limit.design_files"),tooltipText:(0,e2.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:d2.WW}),el.createElement(RR,{text:(0,e2.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,e2.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:a,totalProgress:d2.WW}))}let RM="tiles_view--tilesGrid--JGwjc tiles_view--tiles--mVpCC",RP="tiles_view--container--b8o-x",RB="tiles_view--emptyStateContainer--9Z9Md",RU="tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd",RW={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},RV=256/192;function RG({tile:e,index:t,dispatch:a,selectedView:r,currentPlanFilter:n,currentSharedByFilter:l,isListView:i}){e.type===gd.nb.FILE&&(a(sq.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:n,currentSharedByFilter:l,viewMode:void 0!==i?i?"list":"grid":void 0})),(0,d3.K)(r)&&a(sq.T5({index:t})),eo.eD&&(0,e7.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.file_repo_id,uiSelectedView:JSON.stringify(r)}))}function R$({tile:e,e:t,dispatch:a,selectedView:r,permissionsState:n,selectedBranchKeyByRepoId:l,fileByKey:i,renamingItem:s}){var o,c;if(gd.Tf.isRenaming(e,s)||e.type===gd.nb.FILE&&(0,l_.iQ)(e.file.key,n)||e.type===gd.nb.REPO&&(0,Rf.i)(e.repo.id,n)){t.preventDefault(),t.stopPropagation();return}let d=e_.Ay.mac?t.metaKey:t.ctrlKey,m=null;d&&t.shiftKey?m=eo.aw.FOCAL_TAB:d?m=eo.aw.BACKGROUND_TAB:t.shiftKey&&(m=eo.aw.NEW_WINDOW);let u=n.user;if(eo.eD){let r;switch(m=m??eo.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case gd.nb.FILE:r=!!(e.file.is_team_template&&(0,mj.LQ)(n)),eo.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",editorType:e.file.editor_type,target:m,isBranch:(0,Rg.Xm)(e.file),isLibrary:!!e.file.last_published_at,isTeamTemplate:r,userId:null==u?void 0:u.id});break;case gd.nb.PINNED_FILE:r=!!(e.file.isTeamTemplate&&(0,mj.LQ)(n)),eo.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",editorType:e.file.editorType,isTeamTemplate:r,target:m,userId:null==u?void 0:u.id});break;case gd.nb.PROTOTYPE:eo.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.name||"",m,null==u?void 0:u.id);break;case gd.nb.REPO:let i=(0,Rg.mr)(e.repo,e.branches,l);eo.eD.openFile({fileKey:i.key,title:i.name,editorType:i.editor_type,target:m,isBranch:(0,Rg.Xm)(i),isLibrary:!!i.last_published_at,userId:null==u?void 0:u.id});break;case gd.nb.PROJECT:(0,eh.KF)(!0,"Do not expec to be rendering project tiles here");break;case gd.nb.OFFLINE_FILE:a(oh.NA({file:e.file,openNewFileIn:oC.ai.NEW_TAB,source:ox.U.OFFLINE_FILE_TILE}));break;default:(0,eh.xb)(e)}return}if(null!=m){if(a(aC.oB()),e.type===gd.nb.OFFLINE_FILE){a(oh.NA({file:e.file,openNewFileIn:oC.ai.NEW_TAB,source:ox.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let a=gd.Tf.getUrl(e,l);ec.Ay.redirect(a,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let _=n.currentUserOrgId,p=n.currentTeamId,g="recentsAndSharing"===r.view||"folder"===r.view?r:void 0,E=(0,em.kc)().ps_benchmark;switch(a(E?Ru.c5({planId:_||p,planType:_?Rh.O.ORG:Rh.O.TEAM}):Ru.p4({planId:_||Rv.P})),e.type){case gd.nb.FILE:{let t=e.file;(0,i$.N7)(_,t.parent_org_id,p,t.team_id)?(0,i$.QV)(e.file.key,u,_,E?p:null,r,e.file.editor_type||void 0):a(aC.$T({view:"fullscreen",fileKey:e.file.key,editorType:RE.z4.getIsExtension()?ne.nT.DevHandoff:e.file.editor_type?(0,ne.wN)(e.file.editor_type):ne.nT.Design,prevSelectedView:g}));break}case gd.nb.PINNED_FILE:(0,i$.N7)(_,null==(o=n.fileByKey[e.file.key])?void 0:o.parent_org_id,p,null==(c=n.fileByKey[e.file.key])?void 0:c.team_id)?(0,i$.QV)(e.file.key,u,_,E?p:null,r,e.file.editorType):a(aC.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,ne.wN)(e.file.editorType):ne.nT.Design,prevSelectedView:g}));break;case gd.nb.PROTOTYPE:(0,eh.B1)(i);let f=e.prototype.fig_file;(0,i$.N7)(_,f.parent_org_id,p,f.team_id)?(0,i$.QV)(f.key,u,_,E?p:null,r,f.editor_type||void 0,"proto"):a(aC.$T({view:"prototype",file:f,nodeId:e.prototype.page_id,prevSelectedView:g}));break;case gd.nb.REPO:{let t=(0,Rg.mr)(e.repo,e.branches,l);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let n=t.key;(0,i$.N7)(_,t.parent_org_id,p,t.team_id)?(0,i$.QV)(n,u,_,E?p:null,r):a(aC.$T({view:"fullscreen",fileKey:n,editorType:ne.nT.Design,prevSelectedView:g}));break}case gd.nb.PROJECT:(0,eh.KF)(!0,"Do not expect to be rendering project tiles here");break;case gd.nb.OFFLINE_FILE:a(oh.NA({file:e.file,openNewFileIn:oC.ai.SAME_TAB,source:ox.U.OFFLINE_FILE_TILE}));break;default:(0,eh.xb)(e)}}let Rj=()=>Math.max(Math.floor((window.innerWidth-RW.sidebar-RW.metaContainer-RW.tileGridOuterPadding)/RW.singleTileWithPadding),0),RH=(e,t)=>{let a=gd.Tf.getName(e)||"",r=gd.Tf.getName(t)||"";return as.Tt.compare(a,r)},Rq=(e,t)=>{let a=(gd.Tf.getName(e)||"").toLowerCase(),r=(gd.Tf.getName(t)||"").toLowerCase();return a===r?0:a<r?-1:1},RY=(e,t)=>{if(e.type!==gd.nb.FILE||t.type!==gd.nb.FILE)return 0;let a=e.file,r=t.file;return a.created_at<r.created_at?1:-1},Rz=(e,t)=>e.type!==gd.nb.PROTOTYPE||t.type!==gd.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,RK=(e,t)=>{let a=gd.Tf.getAccessedAt(e),r=gd.Tf.getAccessedAt(t);return a&&r?a>r?1:-1:r?-1:a?1:0},RJ=(e,t)=>gd.Tf.getCreatedAt(e)>gd.Tf.getCreatedAt(t)?1:-1,RQ=(e,t)=>{let a=gd.Tf.getTouchedAt(e),r=gd.Tf.getTouchedAt(t);return null===a||null===r?0:a>r?1:-1},RZ=(e,t)=>e.type!==gd.nb.FILE&&e.type!==gd.nb.REPO||t.type!==gd.nb.FILE&&t.type!==gd.nb.REPO?0:(e.type===gd.nb.FILE?e.file.trashed_at:e.repo.trashed_at)>(t.type===gd.nb.FILE?t.file.trashed_at:t.repo.trashed_at)?1:-1,RX=(e,t,a)=>{if(!a)return[];let r=t.length,n=[],l=(e,t)=>!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top);for(let i=0;i<r;i++)null!=a.children[i]&&e.ref.current&&l(a.children[i].getBoundingClientRect(),e.ref.current.getBoundingClientRect())&&n.push(t[i]);return n};function R0(e){var t;let a=el.useRef(null),r=el.useRef(null),n=el.useRef(null),l=el.useRef(null),i=el.useRef(null),s=el.useRef(null),o=(0,aN.iZ)(),c=(0,aN.TA)(),[d]=(0,gp.IT)((0,ov.OL)({userId:c})),m=(0,el.useMemo)(()=>(null==d?void 0:d.data)??{},[d]),u=(0,sJ._6)(),_="folder"===u.view?u.folderId:null,p=gp.M4.Folder.useValue(_).data,g=[null==o?void 0:o.drafts_folder_id,null==o?void 0:o.personal_drafts_folder_id].includes(null==p?void 0:p.id),{showing:E,show:f,data:h}=(0,Rr.L)();el.useEffect(()=>{let e="page_selected_view",t=Rn.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=Rn.sn.tryStop(e);t&&(0,e7.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:u.view},{forwardToDatadog:!0,batchRequest:!0})}},[u.view,_]);let v=(0,ow.FC)(),{dropdownShown:b,tileSelect:y,modalShown:w,userStateLoaded:T,userExternallyRestricted:x,selectedBranchKeyByRepoId:C,upsellData:N,prototypes:k}=(0,Rc.R)(e=>{let t=null,a=(0,Rp.e9)(e),r=a&&a.team_id&&e.teams[a.team_id],n=e.recentPrototypes;return a&&r&&(0,sQ.canEditTeam)(r.id,e)&&(t={team:r,folderId:a.id,isAtFileLimit:[lm.P4.FILES_LIMITED,lm.P4.FILES_LIMITED_LEGACY,lm.P4.WHITEBOARD_FILES_LIMITED,lm.P4.WHITEBOARD_FILES_LIMITED_BETA].some(e=>{var t;return!!(null==(t=r.restrictions_list)?void 0:t.includes(e))})}),{dropdownShown:e.dropdownShown,tileSelect:e.tileSelect,modalShown:e.modalShown,userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,sQ.isOrgUserExternallyRestrictedFromState)(v),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t,prototypes:n}}),S=(0,ei.wA)(),I=(0,oz.PP)(),A=el.useRef(null),[L,R]=el.useState(null),[O,D]=el.useState(!0),[F,M]=el.useState(()=>Rj()),P=e.sortFilterOptions.tileSortFilterConfig.viewMode===L9.XU.LIST,B="recentsAndSharing"===u.view&&u.tab===mW.G.SHARED_FILES,U=(e,t,a)=>e===L9.rJ.ANY||e===L9.rJ.SELF&&a.type===gd.nb.FILE&&a.file.creator_id===t||e===L9.rJ.SELF&&a.type===gd.nb.REPO&&a.branches[0].creator_id===t||e===L9.rJ.OTHER&&a.type===gd.nb.FILE&&a.file.creator_id!==t||e===L9.rJ.OTHER&&a.type===gd.nb.REPO&&a.branches[0].creator_id!==t,W=(e,t)=>{let a="design";switch(t.type===gd.nb.FILE?a=t.file.editor_type:t.type===gd.nb.PINNED_FILE?a=t.file.editorType:t.type===gd.nb.OFFLINE_FILE&&(a=t.file.editorType),e){case L9.t2.ANY:return!0;case L9.t2.DESIGN:if(t.type===gd.nb.FILE||t.type===gd.nb.REPO||t.type===gd.nb.PINNED_FILE||t.type===gd.nb.OFFLINE_FILE)return"design"===a;return!1;case L9.t2.FIGJAM:if(t.type===gd.nb.FILE||t.type===gd.nb.PINNED_FILE||t.type===gd.nb.OFFLINE_FILE)return"whiteboard"===a;return!1;case L9.t2.PROTOTYPE:return t.type===gd.nb.PROTOTYPE;case L9.t2.SLIDES:if(t.type===gd.nb.FILE||t.type===gd.nb.PINNED_FILE||t.type===gd.nb.OFFLINE_FILE)return"slides"===a;return!1;default:(0,eh.xb)(e)}},V=(e,t)=>!e||e===`${gd.Tf.getSharedBy(t)}`,G=el.useCallback((e,t)=>{var a,r;if("sharedWithYou"===u.view||"recentsAndSharing"===u.view&&u.tab===mW.G.SHARED_FILES||!e||!e.planId)return!0;let n=e.planId;switch(t.type){case gd.nb.FILE:return("org"===e.planType?t.file.parent_org_id:t.file.team_id)===n;case gd.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===n;case gd.nb.PROTOTYPE:return("org"===e.planType?null==(a=t.prototype.parent_org)?void 0:a.id:null==(r=t.prototype.parent_team)?void 0:r.id)===n;case gd.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===n;default:return!1}},[u]),$=el.useCallback((t,a)=>{var r;let n,l,i;let s=t.filter(e=>{var t;return V(a.filters.sharedBy,e)&&W(a.filters.fileType,e)&&U(a.filters.creator,null==(t=v.user)?void 0:t.id,e)&&G(a.filters.plan,e)});if(n=B?s.filter(e=>e.type===gd.nb.FILE||e.type===gd.nb.PROTOTYPE||e.type===gd.nb.REPO):s.filter(e=>e.type===gd.nb.FILE||e.type===gd.nb.REPO||e.type===gd.nb.OFFLINE_FILE),"recentsAndSharing"===u.view&&u.tab===mW.G.SHARED_FILES)return s;let o=a.sort.dir===L9.ue.DESC;switch(a.sort.key){case L9.C0.SEARCH_RELEVANCE:return t;case L9.C0.ACCESSED_AT:l=nv.f.byComparators(RK),i=s;break;case L9.C0.CREATED_AT:l=nv.f.byComparators(RJ),i=s;break;case L9.C0.TOUCHED_AT:l=nv.f.byComparators(RQ),i=n;break;case L9.C0.NAME:if(g){l=nv.f.byComparators(RH,nv.f.byProperty("type")),i=s;break}let c=s.length<as.Tw;l=nv.f.byComparators(c?RH:Rq,nv.f.byProperty("type"),RY,Rz),i=s;break;case L9.C0.TRASHED_AT:l=nv.f.byComparators(RZ),i=n;break;case L9.C0.SHARED_AT:return s;default:return console.error("Unknown sort key",a.sort.key),[]}if(l=o?nv.f.reverse(l):l,i.sort(l),e.isDataPartial)for(;(null==(r=i[i.length-1])?void 0:r.type)===gd.nb.OFFLINE_FILE;)i.pop();return i},[B,G,e.isDataPartial,g,u,null==(t=v.user)?void 0:t.id]),j=el.useMemo(()=>$(e.tiles,e.sortFilterOptions.tileSortFilterConfig),[$,e.tiles,e.sortFilterOptions.tileSortFilterConfig]),H=el.useMemo(()=>{if("deletedFiles"===u.view)return[];let e=[];return j.forEach(t=>{switch(t.type){case gd.nb.FILE:e.push({fileKey:t.file.key});break;case gd.nb.REPO:e.push(...t.branches.map(e=>({fileKey:e.key})))}}),e},[u.view,j]),q=(0,aX.p)(a9.hqi,H);el.useEffect(()=>{for(let{result:e,args:t}of q)if("loaded"===e.status&&e.data){let a=(0,R_.Z)(e.data);S(gn.Lk({fileKey:t.fileKey,users:a}))}},[q,S]),el.useEffect(()=>{1===Z(y)&&ex()},[y]);let Y=el.useMemo(()=>{let e={[gd.nb.FILE]:{},[gd.nb.PROTOTYPE]:{},[gd.nb.REPO]:{},[gd.nb.PINNED_FILE]:{},[gd.nb.PROJECT]:{},[gd.nb.OFFLINE_FILE]:{}};if(L&&L.ref.current)for(let t of RX(L,j,n.current))e[t.type][gd.Tf.getId(t)]=!0;else e[gd.nb.FILE]=y[gh.F.FILES],e[gd.nb.PROTOTYPE]=y[gh.F.PROTOTYPES],e[gd.nb.REPO]=y[gh.F.REPOS],e[gd.nb.OFFLINE_FILE]=y[gh.F.OFFLINE_FILES];return e},[L,j,y]),z=(()=>{if(!L||!a.current)return{};let{start:e,current:t}=L,r=a.current.getBoundingClientRect(),n=r.bottom-r.top,l=r.right-r.left,i=l-t.x;return{top:Math.min(e.y,t.y>0?t.y:0)+"px",left:Math.min(e.x,t.x>0?t.x:0)+"px",bottom:Math.min(n-e.y,n-t.y)+"px",right:Math.min(l-e.x,i>0?i:0)+"px"}})(),K=el.useMemo(()=>j.some(e=>{let t=gd.Tf.getFileKey(e);return t&&Y[e.type][t]&&gd.Tf.getOrgId(e)!==v.currentUserOrgId}),[v.currentUserOrgId,Y,j]),J=el.useCallback(e=>{R(t=>{if(!t)return t;let a=RX(t,j,n.current);for(let e of Object.keys(gd.nb)){let t=a.filter(t=>t.type===e);t.length>0&&S(gs.y$({type:gd.YC[e],tiles:t}))}return e.stopPropagation(),e.preventDefault(),null})},[S,j]),Q=el.useCallback(e=>{R(t=>{if(!t)return t;let a=r.current&&r.current.getBoundingClientRect();return a?{...t,current:{x:e.clientX-a.left,y:e.clientY-a.top}}:t})},[]),Z=e=>{let t=Object.keys(e[gh.F.FILES]),a=Object.keys(e[gh.F.REPOS]),r=Object.keys(e[gh.F.PROTOTYPES]),n=Object.keys(e[gh.F.OFFLINE_FILES]);return t.length+a.length+r.length+n.length},X=el.useCallback(e=>{S(gs.an()),S(gs.y$({type:gd.YC[e.type],tiles:[e]}))},[S]),ee=el.useCallback(()=>j.findIndex(e=>y&&y[gd.YC[e.type]]&&y[gd.YC[e.type]][gd.Tf.getId(e)]),[j,y]),et=(0,eU.md)(gd.Y6),ea=el.useCallback((t,a,r)=>{RG({tile:t,index:r,dispatch:S,selectedView:u,currentPlanFilter:e.currentPlanFilter,currentSharedByFilter:e.currentSharedByFilter,isListView:P}),R$({tile:t,e:a,dispatch:S,selectedView:u,permissionsState:v,selectedBranchKeyByRepoId:C,fileByKey:v.fileByKey,renamingItem:et})},[P,e.currentPlanFilter,e.currentSharedByFilter,S,v,C,u,et]),er=el.useCallback((t,a,r)=>{RG({tile:t,index:r,dispatch:S,selectedView:u,currentPlanFilter:e.currentPlanFilter,currentSharedByFilter:e.currentSharedByFilter,isListView:P})},[P,e.currentPlanFilter,e.currentSharedByFilter,u,S]),en=el.useCallback(e=>t=>{if(!n.current||0===n.current.children.length)return t;let a=ps.findDOMNode(n.current);if(!(a instanceof Element))return t;let r=parseInt(window.getComputedStyle(a).columnGap,10),l=n.current.children[0].clientWidth+r,i=t+Math.floor(n.current.clientWidth/l)*e;return i>=0&&i<j.length?i:t},[j.length]),es=el.useCallback(e=>t=>{let a=t+e;return a>=0&&a<j.length?a:t},[j.length]),eo=el.useCallback(e=>{let t=Z(y);if(t>1||!j||0===j.length)return;let a=0;1===t&&(a=e(a=ee())),X(j[a])},[ee,X,j,y]),ed=el.useCallback(e=>{if(!document.activeElement)return;let t=document.activeElement.tagName,a="DIV"===document.activeElement.tagName&&"true"===document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&!a&&(!w||!(Object.keys(w).length>0))&&!b)switch(e.keyCode){case _k.Uz.A:if(!e.ctrlKey&&!e.metaKey)return;for(let e of Object.keys(gd.nb)){let t=j.filter(t=>t.type===e);t.length>0&&S(gs.y$({type:gd.YC[e],tiles:t}))}e.preventDefault(),e.stopPropagation();break;case _k.Uz.DELETE:case _k.Uz.BACKSPACE:{let t=Object.keys(y[gh.F.FILES]),a=Object.keys(y[gh.F.REPOS]),r=Object.keys(y[gh.F.OFFLINE_FILES]),n=t.length+a.length+r.length;if(0===n)break;if("deletedFiles"===u.view)S(gl.UK());else{let e=(0,l_.RD)(y[gh.F.FILES],v,!0),t=(0,sQ.getDeleteReposPayload)(y[gh.F.REPOS],v,!0),a=(0,ov.gp)(y[gh.F.OFFLINE_FILES],{offlineFiles:m});Object.keys(e).length+Object.keys(t).length+Object.keys(a).length<n?S(ae.s.error((0,e2.t)("tile.error.permission_error_delete_file",{selectedCount:n}))):S(gl.U1({filesByKey:e,reposById:t,offlineFilesByKey:a}))}e.preventDefault(),e.stopPropagation();break}case _k.Uz.ENTER:{if(1!==Z(y))break;let t=ee();ea(j[t],e,t),e.preventDefault(),e.stopPropagation();break}case _k.Uz.DOWN_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;P?eo(es(1)):eo(en(1)),e.preventDefault(),e.stopPropagation();break;case _k.Uz.RIGHT_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;eo(es(1)),e.preventDefault(),e.stopPropagation();break;case _k.Uz.UP_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;P?eo(es(-1)):eo(en(-1)),e.preventDefault(),e.stopPropagation();break;case _k.Uz.LEFT_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;eo(es(-1)),e.preventDefault(),e.stopPropagation()}},[w,b,y,u.view,m,j,S,v,ee,ea,P,eo,es,en]),ep=(e,t)=>{if(!(e.type===gd.nb.FILE||e.type===gd.nb.REPO||e.type===gd.nb.PROTOTYPE))return;if(t.dataTransfer.effectAllowed="none",t.stopPropagation(),"deletedFiles"===u.view||b){t.preventDefault();return}let a=[],r=[],n=[];if(-1===Object.keys(y[gd.YC[e.type]]).indexOf(gd.Tf.getId(e)))switch(S(gs.an()),S(gs.y$({type:gh.F[gd.YC[e.type]],tiles:[e]})),e.type){case gd.nb.FILE:a.push(e.file);break;case gd.nb.REPO:r.push(e.repo);break;case gd.nb.PROTOTYPE:n.push(e.prototype)}else{for(let e in y[gh.F.FILES]){let t=j.find(t=>t.type===gd.nb.FILE&&t.file.key===e);t&&a.push(t.file)}for(let e in y[gh.F.REPOS]){let t=j.find(t=>t.type===gd.nb.REPO&&t.repo.id===e);t&&r.push(t.repo)}if(n=[],y[gh.F.PROTOTYPES]){let e=k.reduce((e,t)=>(e[String(t.file_key+","+t.page_id+","+t.id)]=t,e),{});n=Object.keys(y[gh.F.PROTOTYPES]).map(t=>e[t])}}let l=a.length+r.length+n.length,s=t.currentTarget,o=s.cloneNode(!0),c=document.createElement("div"),d=s.getBoundingClientRect(),m=d.right-d.left,_=d.bottom-d.top,p=t.clientX-d.left,g=t.clientY-d.top;c.className=Rw.cK;let E=e=>{for(let t of(e.removeAttribute("data-reactid"),Array.from(e.children)))E(t)};E(o),o.className=Rw.PN,t.dataTransfer.effectAllowed="move";let f=null,h=null;l>=2&&((f=o.cloneNode(!0)).style.top="4px",f.style.left="4px",f.className=Rw.PN),l>=3&&((h=o.cloneNode(!0)).style.top="8px",h.style.left="8px",h.className=Rw.PN),h&&c.appendChild(h),f&&c.appendChild(f),c.appendChild(eg(l)),c.appendChild(o),s.appendChild(c);let v=new p7.le(t.dataTransfer);l>0&&(a.length>0&&0===r.length&&0===n.length?v.setFigFilesData(a):0===a.length&&r.length>0&&0===n.length?v.setReposData(r,a):0===a.length&&0===r.length&&n.length>0?v.setPrototypesData(n):v.setTilesData(a,r,n)),v.setDragImage(c,16+160*p/m,16+130*g/_),i.current=c},eg=e=>{let t=e>=100?"99+":e.toString(),a=document.createElement("div");return a.innerText=t,a.className="tiles_view--fileCount--756h-",a},ef=()=>{i.current&&i.current.remove()},ev=(e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},n=t.shiftKey&&t.altKey;if(y){if(y[gd.YC[e.type]]&&y[gd.YC[e.type]][gd.Tf.getId(e)]){f({data:{tile:e,targetRect:r,index:a,enableRestore:n}});return}if(t.shiftKey||t.metaKey||t.ctrlKey){S(gs.y$({type:gd.YC[e.type],tiles:[e]})),f({data:{tile:e,targetRect:r,index:a,enableRestore:n}});return}}t.shiftKey||t.metaKey||t.ctrlKey||S(gs.an()),S(gs.y$({type:gd.YC[e.type],tiles:[e]})),f({data:{tile:e,targetRect:r,index:a,enableRestore:n}})},eb=el.useCallback((e,t,a)=>{f({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a,enableRestore:t.shiftKey&&t.altKey}})},[f]),ew=(e,t)=>{if(b){S(aC.oB());return}if(gd.Tf.isRenaming(e,et))return;if(e_.Ay.mobile||e_.Ay.tablet){let t=gd.Tf.getUrl(e,C);ec.Ay.redirect(t)}t.stopPropagation();let a=y&&y[gd.YC[e.type]]&&y[gd.YC[e.type]][gd.Tf.getId(e)];if(t.ctrlKey||t.metaKey||t.shiftKey)a?S(gs.TK({tileKeys:[gd.Tf.getId(e)]})):S(gs.y$({type:gd.YC[e.type],tiles:[e]}));else{if(a)return;S(gs.an()),S(gs.y$({type:gd.YC[e.type],tiles:[e]}))}},ex=()=>{if(!A.current)return;let e=A.current,t=e.getBoundingClientRect(),a=parseInt(window.getComputedStyle(e).getPropertyValue("scroll-margin-top"))||0,r=parseInt(window.getComputedStyle(e).getPropertyValue("scroll-margin-bottom"))||0,n=t.top<a,l=t.bottom>window.innerHeight-r;(n||l)&&e.scrollIntoView({behavior:"smooth",block:n?"start":"end",inline:"nearest"})};el.useEffect(()=>{let e=()=>{M(Rj())};return window.addEventListener("mouseup",J),window.addEventListener("mousemove",Q),document.addEventListener("keydown",ed),window.addEventListener("resize",e),()=>{document.removeEventListener("keydown",ed),window.removeEventListener("mouseup",J),window.removeEventListener("mousedown",Q),window.removeEventListener("resize",e)}},[J,Q,ed,u.view]),el.useEffect(()=>{if(e_.Ay.mobile&&e_.Ay.safari&&a.current){let e=a.current.className,t=()=>{a.current&&(a.current.className=""),setTimeout(()=>{a.current&&(a.current.className=e)},500)};return window.addEventListener("load",t),()=>window.removeEventListener("load",t)}},[]);let eC=el.createElement("div",{className:eE.cx.flex.alignCenter.$},el.createElement(_x.$c,{initialViewMode:e.sortFilterOptions.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,e7.sx)("file view toggle",{viewType:t===L9.XU.GRID?"grid":"list"}),S(aC.JF({selectedView:u,config:{...e.sortFilterOptions.tileSortFilterConfig,viewMode:t}}))}})),eN=(0,sQ.canEditTeam)((null==p?void 0:p.team_id)||"",v),ek=el.createElement("div",null),eS=el.createElement(_x.$f,{options:e.sortFilterOptions,selectedView:u,dispatch:S}),eI=el.createElement("div",{className:eE.cx.flex.$},eS,eC),eA=el.createElement(_x.C9,{options:e.sortFilterOptions,selectedView:u,dispatch:S,sharedWithYouFilters:e.sharedWithYouFilters});ek=el.createElement("div",{className:ey()(!e.isFolder||eN?"tiles_view--viewBarWrapper---vxlD":"tiles_view--viewBarWrapperWithTopPadding--eXzKk","tiles_view--viewBarWrapperNoExtraLeftPadding--GQZ-6")},el.createElement(_x.lU,{leftSide:eA,rightSide:eI}));let[eL,eR]=el.useState([]);if(!function(e,t=!0){(function(e,t=!0){(0,Rl.iu)(e.fileKeys||Ro,t),(0,Rs.w8)(e.repoIds||Ro,t),(0,Ri.eM)(e.prototypeIds||Ro,t)})(el.useMemo(()=>{let t={fileKeys:[],repoIds:[],prototypeIds:[]};return e.forEach(e=>{if(e.type===gd.nb.FILE)t.fileKeys.push(gd.Tf.getId(e));else if(e.type===gd.nb.REPO)t.repoIds.push(gd.Tf.getId(e));else if(e.type===gd.nb.PROTOTYPE){let a=e.prototype.id;t.prototypeIds.push(a)}}),t},[e]),t)}(eL,!!(0,em.kc)().tile_action_dropdown_lg&&!!(0,em.kc)().tiles_virtualize&&!!(0,em.kc)().file_browser_items_view),0===j.length){let t="";if(e.emptyStateText?t=e.emptyStateText:(e_.Ay.mobile||e_.Ay.tablet)&&(t=(0,e2.t)("file_browser.folder.this_project_is_empty")),t)return el.createElement("div",{className:RB},!e.hideSorter&&ek,el.createElement("div",{className:RU},t));if(e.emptyStateContent)return el.createElement("div",{className:RB},e.emptyStateContent)}let eO=j.map(e=>gd.Tf.getId(e)).join("."),eD=e.chunkSize??42,eF=P?"tiles_view--tilesList--57VtQ tiles_view--tiles--mVpCC":RM,eM=RP+(P?` ${Rw._O} `:` ${Rw.CK} `),eP=e.tiles.length>0;if(!T)return el.createElement("div",{className:"tiles_view--loading--GgFMC"},el.createElement(t7.kt,null));let eB=!P&&F>0&&(null==N?void 0:N.isAtFileLimit)&&!(0,em.kc)().fbg_starter_project_redesign&&!I(),eW=eB?(()=>{if(0===F)return 0;let e=window.innerWidth-RW.sidebar-RW.metaContainer,t=RW.singleTileWithPadding-RW.singleTile;return Math.max((e-RW.tileGridOuterPadding-F*t)/F/RV+RW.tileGridOuterPadding,0)})():void 0;return el.createElement("div",{className:RP,onMouseDown:e=>{if(!n||!a.current||!n.current||0!==e.button)return;let t=a.current.clientWidth-n.current.clientWidth;if(e.clientX+t>=window.innerWidth||(L&&R(null),!(e.target===a.current||e.target===r.current||e.target===n.current||e.target===s.current||l.current&&l.current.contains(e.target))))return;S(aC.oB()),e.ctrlKey||e.metaKey||e.shiftKey||S(gs.an());let i=r.current&&r.current.getBoundingClientRect();if(!i)return;let o=e.clientX-i.left,c=e.clientY-i.top;R({start:{x:o,y:c},current:{x:o,y:c},ref:el.createRef()})},ref:a},el.createElement("div",{className:eM,ref:r},!e.hideSorter&&ek,el.createElement("div",{className:eE.cx.flex.$},eP&&((0,em.kc)().file_browser_items_view||P?el.createElement(RL.d,{sortConfig:e.sortFilterOptions.tileSortFilterConfig.sort,handleOpenTile:er,items:j,sortBy:t=>{let a=e.sortFilterOptions.tileSortFilterConfig,r=a.sort.dir===L9.ue.DESC?L9.ue.ASC:L9.ue.DESC;S(aC.JF({selectedView:u,config:{...a,sort:{key:t,dir:t===a.sort.key?r:a.sort.dir}},tab:"recentsAndSharing"===u.view?u.tab:void 0}))},viewType:P?L9.XU.LIST:L9.XU.GRID,updateRenderedItems:eR,handleOpenDropdown:eb}):el.createElement(Rm.o,{forwardedRef:n,key:P?"list":"grid",className:eF,chunkSize:eD,listKey:eO,onAllChunksRendered:()=>{if(O){if(!A.current){D(!1);return}ex(),D(!1)}}},j.map((t,a)=>{var r,n,l;let i=!!Y[t.type][gd.Tf.getId(t)],s={showSettingsIcon:e_.Ay.tablet||e_.Ay.mobile,isDropdownShown:()=>E,onTileContextMenu:ev};switch(t.type){case gd.nb.FILE:let o=v.currentUserOrgId===t.file.parent_org_id&&!K;return el.createElement(LZ.xL,{tile:t,isListView:P,...s,selectable:!0,isSelected:i,selectTile:ew,openTile:ea,onClick:eu.lQ,tileRef:(0,Rd.A)(null==(r=e.getTileRef)?void 0:r.call(e,t),i?A:void 0),key:`file-${t.file.key}`,index:a,draggable:o,onTileDragStart:ep,onTileDragEnd:ef});case gd.nb.REPO:let c=u&&"deletedFiles"===u.view,d=v.currentUserOrgId===t.repo.parent_org_id&&!K;return el.createElement(RT,{tile:{...t,branches:t.branches},...s,selectable:!0,isSelected:i,selectTile:ew,openTile:ea,onClick:eu.lQ,tileRef:(0,Rd.A)(null==(n=e.getTileRef)?void 0:n.call(e,t),i?A:void 0),key:`repo-${t.repo.id}`,index:a,isListView:P,draggable:d,onTileDragStart:ep,onTileDragEnd:ef,hideBranchIndicator:c});case gd.nb.PROTOTYPE:let m=v.currentUserOrgId===t.prototype.fig_file.parent_org_id&&!K;return el.createElement(RA,{tile:t,isListView:P,...s,selectable:!0,isSelected:i,selectTile:ew,openTile:ea,onClick:eu.lQ,tileRef:(0,Rd.A)(null==(l=e.getTileRef)?void 0:l.call(e,t),i?A:void 0),key:`file-${t.prototype.file_key}-page-${t.prototype.page_id}`,index:a,draggable:m,onTileDragStart:ep,onTileDragEnd:ef});case gd.nb.OFFLINE_FILE:return el.createElement(RS,{tile:t,isListView:P,...s,selectable:!0,isSelected:i,selectTile:ew,openTile:ea,onClick:eu.lQ,tileRef:i?A:void 0,key:`offline-file-${t.file.fileKey}`,index:a,draggable:!1});default:return null}}))),eP&&el.createElement(RO,{canEditTeam:eN,isDraftsFolder:g})),eB&&el.createElement(e8.fu,{name:"Tiles View Upsell",properties:{buttonColor:"blue"}},el.createElement("div",{className:RM},[...Array(F)].map((e,t)=>el.createElement(Rx,{key:t}))),el.createElement("div",{className:"tiles_view--upgradeOverlay--AUZYj",style:{marginTop:`-${eW}px`,height:`${eW}px`}},el.createElement("p",{className:"tiles_view--upgradeTitle--Bl194 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.folder.ready_for_an_upgrade"})),el.createElement("p",{className:"tiles_view--upgradeText--hU4EM text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.folder.do_more_paid_plan",lineBreak:el.createElement("br",null)})),el.createElement(eT.vd,{onClick:()=>{if(N){let e=d8.b.TILES_VIEW_UPSELL;S((0,t3.to)({type:_V.V,data:{upsellSource:e,teamId:N.team.id}}))}},trackingProperties:{trackingDescriptor:e3.c.VIEW_PLANS}},el.createElement(e2.Tx,{id:"file_browser.folder.view_plans"})))),!(e_.Ay.mobile||e_.Ay.tablet)&&e.newFileTile&&!x&&!eP&&!eB&&el.createElement("div",{className:eE.cx.flex.$},el.createElement("div",{className:"tiles_view--importPrompt--fM1-N",ref:e=>{e&&(l.current=ps.findDOMNode(e))}},el.createElement("div",{className:RU},el.createElement("div",{className:"tiles_view--emptyTitle--Ir5LP"},e.isFolder?(0,e2.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,e2.t)("file_browser.folder.no_files_yet")),el.createElement(e2.Tx,{id:"file_browser.folder.create_a_new_file_to_start_from_scratch",lineBreak:el.createElement("br",null)}))),el.createElement(RO,{canEditTeam:eN,isDraftsFolder:g}))),!(0,em.kc)().file_browser_items_view&&L&&el.createElement("div",{className:"tiles_view--dragSelection--66qvQ",style:z,ref:L.ref}),(()=>{let t=(null==h?void 0:h.tile)??null,a=null==h?void 0:h.index;return el.createElement(e8.fu,{name:e.isFolder?t6.e0.PROJECT_TILES_VIEW_DROPDOWN:t6.e0.TILES_VIEW_DROP_DOWN,enabled:E,properties:{tileType:null==t?void 0:t.type,tileFileId:(null==t?void 0:t.type)===gd.nb.FILE?null==t?void 0:t.file.key:void 0}},el.createElement(Ra.i,{...e,tile:t,openTile:e=>{t&&ea(t,e,a)},dropdownVisible:E,useLGPermsFromProps:e.useLGPerms,areLGPermsLoaded:e.areLGPermsLoaded,permsByFileKey:e.permsByFileKey,permsByRepoId:e.permsByRepoId,permsByPrototypeId:e.permsByPrototypeId}))})())}function R1(e){return el.createElement("div",{className:RB},el.createElement("div",{className:RU},e.emptyStateText,el.createElement("div",{onMouseDown:e.onClaimClick},el.createElement(eT.cw,{className:"tiles_view--emptyButton--3MMre"},el.createElement(e2.Tx,{id:"tile.empty.join_as_owner"})))))}var R2=a(609494),R4=a(733334),R3=a(296045),R8=a(376466);function R5({pinnedFile:e}){var t,a;let r=(0,pR.bn)(e.file),n=(0,LZ.l6)(e.file.folderId);return el.createElement("div",{className:eE.cx.bRadius8.p16.flex.flexColumn.gap16.colorBg.b1.bSolid.colorBorder.elevation300.$,style:cs.sx.add({width:"392px"}).$},el.createElement("div",{className:eE.cx.flex.flexRow.gap16.$},el.createElement(R3.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:(null==(t=e.creator)?void 0:t.name)??void 0,handle:null==(a=e.creator)?void 0:a.handle}}),el.createElement("div",{className:eE.cx.flex.flexColumn.$},el.createElement("div",{className:eE.cx.colorTextSecondary.textBodyLarge.$},(0,e2.t)("tile.file_tile.pinned_by_user",{name:e.creator.name})," \xb7"," ",el.createElement(lI.h1,{date:e.createdAt})),el.createElement("div",{className:eE.cx.textBodyLarge.$,dangerouslySetInnerHTML:{__html:(0,R4.p)((0,R2.sP)(e.description))}}))),el.createElement("div",{className:eE.cx.flex.flexColumn.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$},el.createElement(Rt.ZH,{tile:r,noBorder:!0}),el.createElement("div",{className:eE.cx.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$},el.createElement(R8.x,{tile:r,usePageIcon:!0}),el.createElement("div",{className:eE.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},el.createElement("div",{className:eE.cx.textBodyLargeStrong.truncate.$},e.file.name),"loaded"===n.status&&n.data?el.createElement("div",{className:eE.cx.colorTextSecondary.truncate.$},n.data):null))))}function R6({hoverClassName:e,pinnedFile:t}){return el.createElement("div",{className:e,"aria-hidden":!0},el.createElement(R5,{pinnedFile:t}))}var R9=a(821546);function R7({workspace:e}){let t=(0,pR.$o)(e.id);return el.createElement("div",{className:eE.cx.bRadius8.colorBgSecondary.px32.pt24.pb32.flex.flexColumn.gap16.mt8.$},el.createElement("div",{className:eE.cx.colorTextSecondary.$},(0,e2.t)("file_browser.pinning.suggested")),"loaded"===t.status?el.createElement("div",{className:eE.cx.grid.gap16.$,style:cs.sx.add({gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"}).$},t.data.slice(0,8).map(t=>el.createElement(Oe,{key:t.key,file:t,workspaceId:e.id}))):el.createElement(t7.qc,null))}function Oe({file:e,workspaceId:t}){let a=(0,LZ.l6)(e.folder_id),r=a.data,[n,l]=el.useState(!1),i=(0,ei.wA)(),s=el.useCallback(()=>{i(t3.to({type:Ex.aJ,data:{file:e,workspaceId:t}}))},[i,e,t]);return el.createElement("div",{role:"gridcell",tabIndex:0,className:eE.cx.flex.flexRow.h48.gap16.cursorDefault.$,onMouseOver:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>s()},el.createElement("div",{className:eE.cx.colorBg.$},el.createElement(Rt.ZH,{tile:(0,gd.fA)(e),borderRadius:4,size:R9.y.SMALL})),el.createElement("div",{className:eE.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},el.createElement("div",{className:eE.cx.textBodyMedium.truncate.$},e.name),n?el.createElement("div",{className:eE.cx.colorTextBrand.truncate.$},(0,e2.t)("file_browser.pinning.pin_file")):"loaded"===a.status&&r?el.createElement("div",{className:eE.cx.colorTextSecondary.truncate.$},r):null))}let Ot={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,duplicateToDrafts:!0,updateWorkspacePin:!0,publishOrgTemplate:!0};function Oa({workspace:e,pinnedFiles:t}){let a=(0,ei.wA)(),r=(0,sJ._6)(),n=(0,ow.FC)(),l=(0,ei.d4)(e=>e.selectedBranchKeyByRepoId),i=(0,eU.md)(gd.Y6),{showing:s,show:o,data:c}=(0,Rr.L)(),d=el.useCallback((e,t)=>{R$({tile:e,e:t,dispatch:a,selectedView:r,permissionsState:n,selectedBranchKeyByRepoId:l,fileByKey:{},renamingItem:i})},[a,n,i,l,r]);return el.createElement(el.Fragment,null,t.length>0?el.createElement(L7.A,{handleContextMenu:(e,t,r)=>{if(a(gs.an()),1!==e.length)return;let n=(0,pR.bn)(e[0].file);a(gs.y$({type:gd.YC[n.type],tiles:[n]})),o({data:{tile:n,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},isDraggable:!1,items:t,multiselectDisabled:!0,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:L9.XU.GRID,gridViewProps:{containerClassName:"pinned_files_content--pinnedFilesGrid--gAH6X",tileClassName:"pinned_files_content--pinnedFileTile--7TKOS",renderTile:e=>el.createElement(Or,{pinnedFile:e,isDropdownOpen:s}),renderTileFooter:e=>el.createElement(On,{pinnedFile:e})}}):el.createElement(R7,{workspace:e}),(()=>{let e=(null==c?void 0:c.tile)??null;return el.createElement(Ra.i,{tile:e,tileActions:Ot,openTile:t=>{e&&d(e,t)},dropdownVisible:s,shouldUseOwnPerms:!0})})())}function Or({pinnedFile:e,isDropdownOpen:t}){let a=(0,pR.bn)(e.file);return el.createElement(el.Fragment,null,!t&&el.createElement(R6,{pinnedFile:e,hoverClassName:"pinned_files_content--pinnedFileHoverCard--avUN-"}),el.createElement(Re.y,{tile:a},el.createElement(Rt.ZH,{tile:a,noBorder:!0})))}function On({pinnedFile:e}){var t;let a=(0,pR.bn)(e.file);return el.createElement(Re.y,{tile:a,linkClassName:eE.cx.pt8.flex.flexColumn.$},el.createElement("span",{className:eE.cx.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),el.createElement("span",{className:eE.cx.ellipsis.colorTextSecondary.truncate.$},(0,e2.t)("tile.file_tile.pinned_by_user",{name:(null==(t=e.creator)?void 0:t.name)??""})))}function Ol({workspace:e}){let[t,a]=el.useState(!0),r=el.useCallback(()=>a(e=>!e),[]),n=(0,ei.wA)(),l=(0,sK.dq)(),i=(0,dM.SJ)(l),s=(0,pR.O7)(e.id),o="loaded"===s.status&&s.data?s.data.length:null,c=null===o||o>=pR.D1,d=el.useCallback(()=>{n(t3.to({type:L6,data:{workspaceId:e.id}}))},[n,e.id]);return el.createElement(LJ,{isOpen:t,toggleIsOpen:r,collapseHeader:el.createElement("div",{className:eE.cx.flex.justifyBetween.itemsCenter.wFull.$},el.createElement("div",{"aria-expanded":t,role:"button",tabIndex:0,className:eE.cx.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.cursorDefault.$,onClick:r},(0,e2.t)("file_browser.pinning.pinned_files")),"loaded"===i.status&&i.data===e.id&&el.createElement("button",{onClick:d,disabled:c,"data-tooltip":c&&null!==o?(0,e2.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:pR.D1}):void 0,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip-show-above":!0},el.createElement("div",{className:eE.cx.colorTextBrand.$},(0,e2.t)("file_browser.pinning.add_file")))),content:"loaded"===s.status?el.createElement(Oa,{workspace:e,pinnedFiles:s.data??[]}):el.createElement(t7.qc,null)})}function Oi(){var e,t,a,r;let n=(0,sJ._6)(),l=(0,sK.sZ)(),i=(0,aX.Rs)(a9.bUn,{orgId:l.id}),s="loaded"!==i.status,o=(null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.workspaces)??[],c=s?[]:[...o],d=null;n.workspaceId&&(d=c.find(e=>{var t;return e.id===n.workspaceId||(null==(t=e.mirroringLicenseGroup)?void 0:t.id)===n.workspaceId}));let m=(0,e2.t)("view_selectors.file_browser.other_teams");d&&(m=d.name),(0,go.hL)(m);let u=(0,_d.eg)(d),_=!!n.workspaceId,p=(0,aX.Rs)(a9.nD$,{workspaceId:n.workspaceId??""},{enabled:_}),g="loaded"===p.status,E="loading"===p.status,f=(null==(r=null==(a=p.data)?void 0:a.workspace)?void 0:r.members)??[],h=d?{...d,members:f}:void 0,v=(null==d?void 0:d.admins)??[],b=_&&g&&f.length>0,y=_&&(E||f.length>0||v.length>0),w=(0,pR.J_)();return s&&n.workspaceId?el.createElement(t7.qc,null):!d||(null==d?void 0:d.canView)?el.createElement(uw.r,{header:el.createElement(LY,{headerColor:u,workspace:h,org:l,isWorkspaceMembersLoading:E,showMembersButton:y}),content:el.createElement("div",{className:eE.cx.flex.flexColumn.gap24.my24.$},d&&(null==d?void 0:d.id)!==fw.O&&w()?el.createElement("div",{className:eE.cx.pl12.pr32.borderBox.wFull.$},el.createElement(Ol,{workspace:d})):null,el.createElement("div",null,el.createElement("div",{className:eE.cx.mx32.textBodyLargeStrong.$},el.createElement("div",null,(0,e2.t)("file_browser.teams"))),el.createElement(L_,{workspace:d}))),metaContent:b?el.createElement(Lz,{workspace:h}):void 0}):el.createElement(Lg,{resourceType:t5.Ft.WORKSPACE})}var Os=a(261076),Oo=a(729064),Oc=a(569172),Od=a(103271);let Om=new class{markFeedVisited(e){return td.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var Ou=a(679736),O_=a(740645),Op=a(563288),Og=a(902008),OE=a(893984),Of=a(866505);let Oh=(0,n8.eU)(!1),Ov=(0,n8.eU)(null),Ob=(0,n8.eU)(-1);function Oy(e){let t=(0,ei.wA)(),a=(0,sK.dq)(),r=(0,eU.md)(Ob),n=(0,eU.md)(Ov),l=el.useCallback(()=>{a&&n&&t(Oc.Wy({hashtag:e.hashtag,orgId:a,tagId:n}))},[t,e.hashtag,a,n]),i=el.useCallback(()=>{a&&null!==r&&-1!==r&&t(Oc.Zo({hashtag:e.hashtag,orgId:a,feedTagFollowerId:r}))},[t,e.hashtag,a,r]);return -1===r?null:el.createElement("div",{className:"feed_hashtag_header--feedHashtagActions--KMavN"},el.createElement(no.K0,{svg:OE.A,className:"feed_hashtag_header--copyLinkButton--qjQVH","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("fig_feed.copy_link"),onClick:()=>t(nc.le({view:"teamFeed",hashtag:e.hashtag}))}),r?el.createElement(eT.nR,{onClick:i,className:"feed_hashtag_header--unfollowButton--fKLaL"},el.createElement(Og.l,null),(0,e2.t)("fig_feed.following")):el.createElement(eT.$$,{onClick:l},(0,e2.t)("fig_feed.follow_tag")))}function Ow(e){let t=(0,eU.md)(Oh),[a,r]=el.useState(!1);return(el.useEffect(()=>{t&&r(!0)},[t]),a)?el.createElement("div",{className:t?"feed_hashtag_header--fadeInOnMount--KpnoH":"feed_hashtag_header--fadeOut---kg1-"},el.createElement(Oy,{hashtag:e.hashtag})):null}function OT(e){let t=(0,ei.wA)();return el.createElement("div",{className:"feed_hashtag_header--hashtagHeader--RyBex"},el.createElement(no.K0,{svg:Of.A,className:"feed_hashtag_header--backButton--9Da-s","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("general.back"),onClick:()=>t(aC.$T({view:"teamFeed"}))}),el.createElement("div",{className:"feed_hashtag_header--hashtagText--2BOxc"},e.hashtag),el.createElement("div",{className:"feed_hashtag_header--hashtagHeaderActions--10d9y"},el.createElement(Oy,{hashtag:e.hashtag})))}var Ox=a(919960),OC=a(52678),ON=a(934480),Ok=a(988652),OS=a(654034),OI=a(416822),OA=a(988771),OL=a(400333),OR=a(527429),OO=a(126674),OD=a(671072),OF=a(160156),OM=a(339617),OP=a(531398),OB=a(430811);let OU="feed_tile--commentPillText--goQ26",OW="feed_tile--feedPostHoverContainerSelectable--rhPI9";var OV=a(122975);function OG(e){var t,a;let r=(0,ei.wA)(),n=el.useRef(null),[l,i]=(0,Ok.M)(),[s,o]=(0,Ok.M)(),{requestToOpenPostByFeedIdx:c}=e,d=el.useCallback((t,a)=>{null==t||t.stopPropagation();let n=e.itemIdx+1;(0,e7.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),r((0,t3.to)({type:OC.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:null==a?void 0:a.autofocusCommentInput,selectedContentIdx:null==a?void 0:a.selectedContentIdx,onSetSelectedContentIdx:null==a?void 0:a.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,r,e.feedIdx,c]),m=el.useCallback(()=>{r((0,t3.to)({type:Ou.t1,data:{preloadedFeedPost:e.post,entryPoint:Ou.M2.FEED}}))},[r,e.post]),{refSetter:u}=function(e){let t=el.useRef(null),a=el.useRef(e);a.current=e;let r=el.useMemo(()=>new ResizeObserver(()=>{a.current(t.current)}),[]);return el.useEffect(()=>()=>{r.disconnect()},[r]),{refSetter:el.useCallback(e=>{null!==t.current&&r.unobserve(t.current),t.current=e,null!==t.current&&r.observe(t.current)},[r])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=(null==(t=e.feedListRef.current)?void 0:t.getBoundingClientRect().left)??0,g=(null==(a=n.current)?void 0:a.getBoundingClientRect().left)??0,E=el.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},el.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,e2.t)("fig_feed.youre_all_caught_up")),el.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,e2.t)("fig_feed.come_back_later_for_more_posts")));return el.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(n.current=e,l(e))},style:_},el.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:s}),el.createElement("div",{className:"feed_tile--tileContainer---NbBK"},el.createElement(O$,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:Math.max(0,g-p),isHovered:i||o}),e.mostRecentUnviewed&&E))}function O$(e){let t=(0,ei.wA)(),a=parseInt(e.feedPost.numComments,10),r=(0,OS.o8)(e.feedPost.descriptionMeta),n=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],l=el.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},a>0?el.createElement(el.Fragment,null,el.createElement(OD.u,{users:n,totalNum:n.length,numAvatarsToDisplay:4}),el.createElement("div",{className:OU},el.createElement(e2.Tx,{id:"fig_feed.num_comments",numComments:a}))):el.createElement("div",{className:OU},el.createElement(e2.Tx,{id:"fig_feed.add_comment"}))),[i,s]=el.useState(!1),o=el.useRef(null);el.useEffect(()=>{let e=o.current;e&&s(e.scrollHeight>e.offsetHeight)},[]);let c=(0,Op.e3)(e.feedPost),d=el.useMemo(()=>{var e,t;return r.length>0&&(r[0].t=null==(e=r[0].t)?void 0:e.trimStart(),r[r.length-1].t=null==(t=r[r.length-1].t)?void 0:t.trimEnd()),r},[r]),m=el.useCallback(e=>{t(aC.$T({view:"teamFeed",hashtag:e}))},[t]),u=(0,ei.d4)(OI.j),_=el.useCallback((e=[],t)=>e?e.map((e,a)=>{var r,n;let l=(e.user_annotated?e.user_annotated.handle:e.t)||"",i=(0,R4.F)(l),s=null,o=e.link&&(0,OL.xT)(e.link);if(e.user_annotated&&i)s=el.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},el.createElement(OL.E4,{href:`/files${u}/user/${e.user_id}`,userId:e.user_annotated.id,handle:i,imgUrl:e.user_annotated.img_url}));else if(o&&i&&(0,OR.$)(o))s=el.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},el.createElement(OL.Rk,{text:i,hyperlink:o}));else if(e.is_hashtag&&i)s=el.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},el.createElement(OL.D_,{text:i,highlightHashtag:!0,onHashtagClick:m}));else{let e=(0,ON.x6)((null==i?void 0:i.replace(/\n\s*\n/g,"\n").split("\n").join(" "))||"");s=el.createElement("span",null,e)}return el.createElement(el.Fragment,{key:`${t}-${a}`},s,(null==(r=e.children)?void 0:r.length)&&(null==(n=e.styles)?void 0:n.length)&&e.children.map((r,n)=>el.createElement(el.Fragment,{key:`${t}-${a}-${n}`}," ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",_(r.children,`${t}-${a}-${n}`)," ")))}):[el.createElement(el.Fragment,null)],[u,m]),p=el.useMemo(()=>_(d,e.feedPost.id),[d,_,e.feedPost.id]),{onTileMouseDown:g}=e,E=el.useMemo(()=>el.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:g,role:"button",tabIndex:0},el.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),el.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:o},el.createElement("div",{className:ey()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",i&&"feed_tile--hasShowMore--6Nm-e")},p),i&&el.createElement("div",{onMouseDown:e=>{e.stopPropagation(),g()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},el.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),el.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,e2.t)("fig_feed.see_more"))))),[i,o,e.feedPost,g,p]),f=(0,OO.DG)(e.feedPost.publicUuid,OO.dy.TILE),h=(0,ns.U)(),v=e.isHovered||(null==h?void 0:h.type)===(0,OB.j8)(OB.Hx.USER,e.feedPost.publicUuid,OO.Zp.TILE);return el.createElement(el.Fragment,null,el.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},el.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},el.createElement(OM.A,{user:e.feedPost.creator,size:oq.Pf.LARGE,noHandle:!0})),el.createElement(OM.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,containerInfo:c,noAvatar:!0}),el.createElement("div",{className:eE.cx.flex.flexRow.$},el.createElement(OB.Wu,{hideTarget:!v,feedPost:e.feedPost,source:OO.Zp.TILE,onEditClick:e.onEditClick}),v&&el.createElement(no.K0,{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("fig_feed.copy_link_to_post"),onClick:f},el.createElement(n0.In,{icon:"hyperlink-32"})))),E,el.createElement(Oj,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),el.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},el.createElement(OP.Q$,{type:OP.Us.FULL,source:OP.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[l]})))}function Oj(e){let t=el.useRef(null),a=e.feedPost.content.map(e=>JSON.parse(e)),[r,n]=el.useState(!1),[l,i]=el.useState(!1),[s,o]=el.useState(0);el.useEffect(()=>{0!==s&&OA.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let c=(0,OP.mz)({type:"post",id:e.feedPost.publicUuid},OP.zY.TILE_CONTENT),d=a.length>1,m=ey()(d?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(r||l||c)&&"feed_tile--hidden--9bafI"),u={selectedContentIdx:s,onSetSelectedContentIdx:o},{fileData:_,fileIcon:p,fileLoaded:g,openFile:E}=(0,OO.rS)(e.feedPost.publicUuid,a,e.feedPost.fileKey);return el.createElement("div",{ref:e=>{e&&(t.current=e)},className:ey()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",d&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},el.createElement(OF.xT,{contentItems:a,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:o,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,u),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:OO.Zp.TILE,onContentHover:e=>n(e)}),g&&el.createElement("button",{className:ey()(m,OW,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},el.createElement(dE.oS,{type:p,size:dE.LE.SMALL}),el.createElement("div",null,_.name)),el.createElement("button",{className:ey()(m,OW,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,u),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},el.createElement(eC.B,{svg:OV.A})))}let OH=(0,n8.eU)(!0),Oq=(0,n8.eU)(!1);function OY(e){var t,a;let r=(0,ei.wA)(),n=el.useRef(null),l=(0,aN.iZ)(),i=(0,ei.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:s}=e,[o,c]=el.useState(null),d=(0,sJ._6)(),m="teamFeed"===d.view&&void 0===d.hashtag,u="user"===d.view;el.useEffect(()=>{m&&(Om.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),r(r7.b({has_visited_feed:!0})))},[e.currentOrgId,i,r,m]);let _=!!(e.selectedContainer&&e.selectedContainer.id&&e.selectedContainer.type),p=(0,aX.Rs)(a9.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:(null==(t=e.selectedUser)?void 0:t.id)??null,container_type:_?(0,Op.FD)(e.selectedContainer.type):null,container_id:_?e.selectedContainer.id:null,hashtag:e.hashtag}),refreshNonce:i}),g=(0,dZ.Z)(i);g&&g!==i&&n.current&&(n.current.scrollTop=0),el.useEffect(()=>{"errors"===p.status&&r(a0.F.enqueue({message:(0,e2.t)("general.an_error_occurred"),error:!0}))},[r,p.status]);let E=el.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),f=el.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(t=>!!t.feedPost&&(e.selectedTabKey!==Od.S8.ForYou||t.forYou))}:p,[p,e.selectedTabKey]),h=(0,wp.Xr)(Ov),v=(0,wp.Xr)(Ob);el.useEffect(()=>{if("loaded"===p.status&&p.data.feedPosts.length>0&&e.followedTags){let t=p.data.feedPosts[0].currentTagFilterId;if(h(t),t){let a=e.followedTags.find(e=>e.feedTag.id===t);v((null==a?void 0:a.id)??null)}else v(-1)}},[h,v,p,e.followedTags]);let b="loaded"===f.status&&"loaded"===p.status;el.useEffect(()=>{null==s||s(b)},[b,s]);let y=el.useCallback(()=>512,[]),w=f.data?f.data.length:0,T=(0,Oo.z)({size:w,parentRef:n,estimateSize:y,overscan:15,paddingStart:0}),x=el.useRef(0);el.useEffect(()=>{var e;x.current=(null==(e=f.data)?void 0:e.length)??0},[b,null==(a=f.data)?void 0:a.length]),el.useEffect(()=>{var t,a,r;b&&(0,e7.sx)("Team Feed Posts Rendered",{tab:e.selectedTabKey,selectedContainerId:null==(t=e.selectedContainer)?void 0:t.id,selectedContainerType:null==(a=e.selectedContainer)?void 0:a.type,selectedUserId:null==(r=e.selectedUser)?void 0:r.id,numPosts:x.current,view:d.view},{forwardToDatadog:!0})},[e.selectedTabKey,e.selectedContainer,e.selectedUser,x,b,d.view]);let[C,N]=el.useState(!1),[k,S]=el.useState(null),I=(0,wp.Xr)(Oq),A=(0,wp.Xr)(Oh),L=el.useCallback((e,t)=>{e>0&&!C&&((0,e7.sx)("Team Feed User Scrolled Down"),N(!0));let a=w/50,r=e+t.trackHeight,n=t.scrollHeight;1-(n-r)/(n/a)>=.5&&E&&!E.isLoadingNextPage&&E.hasNextPage()&&E.loadNext(50),S(t)},[C,E,w]);el.useEffect(()=>{if(!k)return;let{scrollTop:e}=k;e>=72?(I(!0),A(!0)):(I(!1),A(!1))},[k,I,A]);let R=el.useMemo(()=>{let e={};return f.data&&f.data.forEach((t,a)=>{e[t.publicUuid]=a}),e},[f]),[O,D]=el.useState(void 0),F=el.useCallback(e=>{D(e)},[]);el.useEffect(()=>{if(void 0===O||(D(void 0),O<0)||(O>=.5*w&&E&&E.loadNext(50),O>=w))return;let e=f.data[O];r(t3.hm({type:OC.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:O,requestToOpenPostByFeedIdx:F}}))},[O,r,f,F,E,w]);let M=el.useMemo(()=>{var e;if(!o||!f.data)return null;let t=0,a=f.data.length-1,r=-1,n=0;for(;t<=a;){let e=Math.floor((t+a)/2);if(new Date(f.data[e].createdAt)>o?(r=e,t=e+1):a=e-1,(n+=1)>50)break}for(;r>=0&&l&&(null==(e=f.data[r].feedPost)?void 0:e.creator.id)===l.id;)r-=1;return r},[o,f.data,l]),P=b&&f.data&&0===f.data.length&&e.selectedTabKey===Od.S8.All&&(e.selectedUser||e.selectedContainer);return el.createElement(rt.P,{scrollContainerRef:n,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:ey()("feed_list_view--scrollContainerInner--8Le-r",u&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:L},el.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,P?el.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},el.createElement("div",{className:eE.cx.fontMedium.$},el.createElement(e2.Tx,{id:"fig_feed.no_posts_found_title"})),el.createElement("div",{className:eE.cx.colorTextSecondary.$},el.createElement(e2.Tx,{id:"fig_feed.no_posts_found_description"}))):el.createElement("div",{style:{margin:"0 8px",height:`${T.totalSize}px`,position:"relative"}},T.virtualItems.map(e=>{let t=e.index;if(!f.data||!f.data[t].feedPost)return null;let a=f.data[t].feedPost;return el.createElement(OG,{post:a,key:e.key,virtualRowItem:e,feedListRef:n,itemIdx:t,feedIdx:R[a.publicUuid],requestToOpenPostByFeedIdx:F,mostRecentUnviewed:m&&R[a.publicUuid]===M})}))))}function Oz(e){let t=(0,ei.wA)(),[a,r]=(0,eU.fp)(OH),[n,l]=el.useState(!1),i=(0,ei.d4)(e=>e.teamFeedRefreshNonce);el.useEffect(()=>{t(Oc.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,i,e.currentOrgId]);let s=el.useMemo(()=>[{key:Od.S8.ForYou,label:(0,e2.t)("fig_feed.tab.for_you")},{key:Od.S8.All,label:(0,e2.t)("fig_feed.tab.all")}],[]),[o,c]=el.useState(null),[d,m]=el.useState(null),{setSelectedTabKey:u}=e,_=el.useCallback(e=>{e===Od.S8.ForYou&&(m(null),c(null)),u(e),t(aC.$T({view:"teamFeed",feedTab:e}))},[t,u]),p=!!e.hashtag,g=el.createElement(el.Fragment,null,!p&&el.createElement(O_.CreateFeedPostContent,{entryPoint:Ou.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!n,minimized:a,setMinimized:r,uploadInfo:e.uploadInfo}),!p&&el.createElement(Ox.Qn,{orgId:e.currentOrgId,tabs:s,selectedTabKey:e.selectedTabKey,setSelectedTabKey:_,selectedContainer:o,setSelectedContainer:c,selectedUser:d,setSelectedUser:m}),p&&el.createElement(OT,{hashtag:e.hashtag}));return el.createElement(OY,{...e,scrollHeaders:g,setHasLoaded:l,selectedContainer:o,selectedUser:d})}var OK=a(238472);function OJ(){let e=(0,eU.md)(Os.T),t=(0,eU.md)(Oq),a=(0,wp.Xr)(OH),[r,n]=el.useState(!1);return(el.useEffect(()=>{t&&n(!0)},[t]),r)?el.createElement(cp.$$,{className:ey()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>a(!1)},el.createElement(eC.B,{svg:Lx.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,e2.t)("fig_feed.new_post"),e&&el.createElement(eC.B,{svg:OK.A})):null}var OQ=a(395900),OZ=a(536902);function OX(e){let t=(0,ei.wA)(),a=el.useMemo(()=>e.followedTags.sort((e,t)=>parseInt(t.feedTag.numUsages)-parseInt(e.feedTag.numUsages)),[e.followedTags]),r=el.useCallback(e=>{t(aC.$T({view:"teamFeed",hashtag:e}))},[t]);return el.createElement("div",{className:"feed_hashtag_sidebar--container--nmjtX"},el.createElement("div",{className:"feed_hashtag_sidebar--header--y1lTY"},(0,e2.t)("fig_feed.tags_you_follow")),a.map(e=>el.createElement("div",{className:"feed_hashtag_sidebar--hashtagRow--Yqneg",key:e.id},el.createElement(OL.D_,{text:e.feedTag.text,highlightHashtag:!0,onHashtagClick:r}),el.createElement("div",{className:"feed_hashtag_sidebar--hashtagRowSub--HsOm3"},el.createElement("div",{className:"feed_hashtag_sidebar--hashtagRowSubNumUsages--eHdx6"},(0,e2.t)("fig_feed.num_posts",{numPosts:parseInt(e.feedTag.numUsages)})),"\xb7",el.createElement(lI.h1,{date:e.feedTag.lastUsedAt})))))}let O0="new_post_indicator--icon--uvRMg";var O1=a(884114);function O2(e){return el.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},el.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},el.createElement(eC.B,{svg:O1.A,className:O0}),el.createElement(e2.Tx,{id:"fig_feed.new_posts"})),el.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},el.createElement(eC.B,{svg:ou.default,className:O0})))}function O4(e){let t=(0,ei.wA)();el.useEffect(()=>((0,e7.sx)("Team Feed Posts List View Visited"),t(Oc.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,e7.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let a=el.useCallback(()=>t(Oc.Y9()),[t]),r=el.useCallback(e=>{e||a()},[a]),[n,l]=el.useState(e.feedTab??Od.S8.ForYou),i=el.useCallback(()=>{a(),l(Od.S8.All)},[a]),s=(0,ei.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[o,c]=el.useState(!1),d=(0,dZ.Z)(s);el.useEffect(()=>{s&&!1===d?c(!0):d&&!1===s&&c(!1)},[s,d,t]),el.useEffect(()=>{e.initialPostUuidToShow&&t((0,t3.to)({type:OC.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,u]=el.useState(!1),[_,p]=el.useState(null),[g,E]=(0,eU.fp)(OH),f=el.useCallback(e=>{g&&(p(e.files),u(!1))},[g]),h=(0,sJ._6)(),v=(0,aX.Rs)(a9.dg,{}),b=el.useMemo(()=>{if("loaded"===v.status)return v.data.currentUser.feedTagFollowers},[v]),y="teamFeed"===h.view&&void 0===h.hashtag&&b&&b.length>0;return el.createElement(el.Fragment,null,el.createElement(eg.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>u(!0),onTargetDragLeave:()=>u(!1),onTargetDrop:f,className:"main_feed_view--contentLayout--HPUlv"},o&&el.createElement(O2,{onRefresh:i,onDismiss:()=>c(!1)}),el.createElement(Oz,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:r,uploadInfo:_??void 0,selectedTabKey:n,setSelectedTabKey:l,hashtag:e.hashtag,followedTags:b??void 0}),g&&m&&el.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"}),el.createElement(rt.P,null,y&&el.createElement(OX,{followedTags:b}))),el.createElement(OZ.cx,null))}function O3(e){let t=(0,ei.d4)(e=>e.currentUserOrgId),a=el.useRef(new OQ.M4);return(el.useEffect(()=>{a.current.start()},[]),t)?el.createElement(O4,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:a.current,feedTab:e.feedTab,hashtag:e.hashtag}):null}var O8=a(93484);let O5=[aJ.Wb3,aJ.KoA,aJ.Ult,aJ.kmq,aJ.USq,aJ.DKo,aJ.jQF,aJ.Ob5,aJ.s7O,aJ.Qlc,aJ.I$z,aJ.X5_,aJ.RJL,aJ.LB2,aJ.I5n,aJ.n0G,aJ.Msu,aJ.UmN,aJ.nIZ,aJ.Ql8,aJ.pIP,aJ.Q16,aJ.O5v,aJ.rQs,aJ.YHe,aJ.hxO,aJ.sqw,aJ.Duq,aJ.yjU,aJ.BTz,aJ.I3H,aJ._9u,aJ.jVB,aJ.syA,aJ.cJy,aJ.tUL,aJ.zMZ,aJ.tBR,aJ.K69,aJ.fz8,aJ.k07,aJ.XIg,aJ.fQh,aJ.O9D,aJ.c6t,aJ.r3Y].map(e=>e.id);function O6({children:e}){return el.createElement(O8.A,{name:"FileBrowser",order:O5},e)}var O9=a(179479),O7=a(927440);let De="has_seen_jamboard_importer_callout",Dt=(0,aj.r1)(De),Da=(0,aj.r1)("signed_up_from_figjam_jamboard");function Dr(){let e=(0,ei.wA)(),t=(0,eU.md)(Dt),a=(0,eU.md)(Da),r=(0,eU.md)(mF.mp),n=(0,eU.md)(mF.zN),l=(0,eU.md)(lp.UQ),i=(0,co.YU)({enabled:!!(0,em.kc)().figjam_jamboard_offer}),s=(0,co.zi)(null==i?void 0:i.promoExpirationDate),{show:o,isShowing:c,complete:d}=(0,a$.e)({overlay:aJ.DKo,priority:aH.N.HIGH_PRIORITY_MODAL},[t,a,r,n]),m=(0,O9.F)(o);return el.useEffect(()=>{m.current({canShow:(e,t,a,r)=>{let n=new Date().getTime()-a.getTime()>1728e5;return!e&&n&&!t&&!r&&l&&!!i&&i.ineligibilityReason!==co.hT.NO_IMPORTED_JAMBOARD_FILES&&!!s}})},[m,i,s,l]),el.createElement(fW.rq,{isShowing:c,trackingContextName:"Jamboard Importer Button Callout",targetKey:O7._,userFlagOnShow:De,onTargetLost:d,onClose:d,primaryCta:{label:el.createElement(e2.Tx,{id:"rcs.jamboard.importer_callout.primary_cta"}),type:"button",onClick:()=>{d(),e((0,t3.to)({type:E9.Qn}))},ctaTrackingDescriptor:e3.c.GET_STARTED},secondaryCta:{label:el.createElement(e2.Tx,{id:"rcs.jamboard.importer_callout.secondary_cta"}),type:"button",onClick:d,ctaTrackingDescriptor:e3.c.NOT_NOW},title:el.createElement(e2.Tx,{id:"rcs.jamboard.importer_callout.title"}),media:el.createElement(y1.y,{src:"https://static.figma.com/uploads/0d827f2ef59eca7e23348ab3935984c306b2ed8d",alt:"",aspectRatio:300/146}),description:el.createElement(e2.Tx,{id:"rcs.jamboard.importer_callout.desc"}),disableHighlight:!0})}var Dn=a(886653);function Dl(e){let t=(0,ei.d4)(mS.hK),a=(0,ei.wA)(),r=e.tabs?el.createElement(w7.f,{tabs:e.tabs.map(e=>el.createElement(w7.r,{key:e.tabName,tab:null,onClick:()=>a(aC.$T(e.view)),tabName:e.tabName,isSelected:hj()(t,e.view),ariaLabel:e.ariaLabel}))}):el.createElement(el.Fragment,null);return el.createElement(_x.g2,{leftSide:r,rightSide:e.viewbarActions||[]})}let Di=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[L9.C0.TRASHED_AT,L9.C0.NAME,L9.C0.CREATED_AT,L9.C0.TOUCHED_AT]});function Ds(){var e,t;let a;let r=(0,ei.wA)(),n=(0,ei.d4)(e=>e.currentUserOrgId),l=(0,ei.d4)(e=>e.currentTeamId),i=(0,d5.S)();a=n?null==(e=null==i?void 0:i.currentUser.baseOrgUser)?void 0:e.draftsProject:(0,em.kc)().ps_benchmark&&l?null==(t=null==i?void 0:i.currentUser.currentTeamUser)?void 0:t.draftsProject:null==i?void 0:i.currentUser.draftsProject;let s=(0,ei.d4)(e=>e.tileSortFilterStateByView),o=(0,sJ._6)();if(!i||!a)return el.createElement(Dl,{tabs:[],viewbarActions:[]});let c="deletedFiles"===o.view?(0,Dn.xx)(Di)(s):(0,Dn.xx)(gM.ZN)(a.id,s);return el.createElement(Dl,{tabs:[{tabName:(0,e2.t)("file_browser.tool_bar.drafts"),view:{view:"folder",folderId:a.id},ariaLabel:(0,e2.t)("file_browser.tool_bar.drafts.aria_label")},{tabName:(0,e2.t)("file_browser.tool_bar.deleted"),view:{view:"deletedFiles"},ariaLabel:(0,e2.t)("file_browser.tool_bar.deleted.aria_label")}],viewbarActions:["deletedFiles"===o.view?el.createElement(_x.gr,{key:3,dispatch:r,options:c,selectedView:o}):null,el.createElement(_x.ye,{key:0,config:c.tileSortFilterConfig}),el.createElement(_x.mc,{key:1,dispatch:r,options:c,selectedView:o}),el.createElement(_x.$c,{key:2,initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,e7.sx)("file view toggle",{viewType:e===L9.XU.GRID?"grid":"list"}),r(aC.JF({selectedView:o,config:{...c.tileSortFilterConfig,viewMode:e}}))}})]})}function Do(){let{currentUserOrgId:e,currentTeamId:t,deletedFilesByKey:a,deletedReposById:r,tileSortFilterStateByView:n}=(0,ei.d4)(e=>e),l=t8.oh(sq.h3.loadingKeyForPayload({orgId:e,teamId:t})),i=(0,Dn.xx)(e=>Object.keys(e).map(t=>e[t]).sort((e,t)=>new Date(e.trashed_at)<new Date(t.trashed_at)?1:-1)),s=(0,Dn.xx)(e=>Object.keys(e).map(t=>e[t]).sort((e,t)=>new Date(e.repo.trashed_at)<new Date(t.repo.trashed_at)?1:-1)),o=(0,Dn.xx)(e=>({tileSortFilterConfig:e,sortKeys:[L9.C0.TRASHED_AT,L9.C0.NAME,L9.C0.CREATED_AT,L9.C0.TOUCHED_AT]})),c=i(a),d=s(r),m=o(n.deletedFiles),u=[...c.map(e=>({type:gd.nb.FILE,file:e})),...d.map(e=>({type:gd.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key}))];return el.createElement(po.A,{loadingElementId:"loading-content-pane",loaded:!l,loadingElementClassName:eE.cx.pr32.$},el.createElement(R0,{tiles:u,newFileTile:!1,tileActions:{restore:!0,deleteForever:!0,duplicateToDrafts:!0},sortFilterOptions:m,hideSorter:!0,emptyStateText:(0,e2.t)("file_browser.tool_bar.deleted_empty_state")}),el.createElement(OZ.cx,null))}function Dc(){return el.createElement(uw.r,{viewBarSticky:!0,viewbar:el.createElement(Ds,null),content:el.createElement(Do,null)})}function Dd(e,t,a){let{root:r,rootMargin:n,threshold:l}=a??{},[i,s]=(0,el.useState)(null),[o]=(0,el.useState)(()=>new Map),[c]=(0,el.useState)(()=>new Map);return(0,el.useEffect)(()=>{var e;e=()=>{try{let e=new IntersectionObserver(e=>{e.forEach(e=>{let a=c.get(e.target);null!=a&&t(e,a)})},{root:r,rootMargin:n,threshold:l});s(e)}catch(e){(0,iA.$D)(o$.e.UNOWNED,Error(`Failed to initialize IntersectionObserver ${e}`))}},setTimeout(function(){requestAnimationFrame(e)})},[e,t,o,c,r,n,l]),(0,el.useEffect)(()=>()=>{null==i||i.disconnect(),c.clear()},[c,i]),(0,el.useEffect)(()=>{e.forEach(e=>{let t=o.get(e);null==t&&(t=el.createRef(),o.set(e,t)),(null==t?void 0:t.current)&&!c.has(t.current)&&(null==i||i.observe(t.current),c.set(t.current,e))})},[i,e,c,o]),o}function Dm(e){let{onShouldFetchNextPage:t,children:a}=e,[r,n]=(0,el.useState)(!1),l=function(e,t){let[a]=(0,el.useState)([Symbol()]);return Dd(a,e,void 0).get(a[0])}((0,el.useCallback)(({isIntersecting:e})=>{e&&r&&(t(),n(!1)),n(!e)},[t,r]));return el.createElement(el.Fragment,null,a,el.createElement("div",{ref:l,style:{height:"1px"}}))}let Du={LOADING:"loading",ERRORS:"errors",LOADED:"loaded"};var D_=((H=D_||{})[H.WARN=0]="WARN",H[H.WARN_SOFT=1]="WARN_SOFT",H[H.ANNOUNCEMENT=2]="ANNOUNCEMENT",H[H.EVENT=3]="EVENT",H);let Dp="banners--warn--bC4ke",Dg="banners--primaryCtaButton--tyhCJ",DE="banners--content--ciED3",Df="banners--titleSmall--ceZgU",Dh="banners--bold--qt00U",Dv="banners--message--9BMLM",Db="banners--messageSmall--YT-82",Dy="banners--secondaryCtaButton--uYrvi",Dw="banners--ctaButtonGroup--r8cfU",DT="banners--closeButton--IXY-V",Dx="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",DC="banners--teamUpgradeNotice--gqc9c",DN="banners--softWarningBanner--QK9Y5",Dk="banners--softWarningBannerBlue--uQmhb";var DS=a(702595);let DI=el.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),el.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},el.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),el.createElement("g",{mask:"url(#mask0_4:25)"}),el.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),el.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));class DA extends el.PureComponent{render(){let{title:e,message:t,cta:a,ctaTrackingProperties:r,learnMoreUrl:n,onClickCta:l,severity:i,secondaryCTA:s,secondaryOnClickCta:o,svg:c,trackingContextName:d="Banner",contentStyles:m,reverseCtas:u,dismissible:_,onClose:p}=this.props;return i===D_.ANNOUNCEMENT?el.createElement(e8.fu,{name:d,properties:{severity:i,...this.props.tracking}},el.createElement("div",{className:DE},c&&el.createElement(eC.B,{svg:c,useOriginalSrcFills_DEPRECATED:!0}),el.createElement("div",{className:Dv},el.createElement("div",{className:Df},e),el.createElement("div",{className:Db},t)),el.createElement(eT.e2,{reversed:u,className:Dw},l&&el.createElement(eT.vd,{className:Dg,onClick:l,trackingProperties:r},a),o&&el.createElement(eT.tM,{className:Dy,onClick:o},s),_&&p&&el.createElement(cg.Jn,{className:DT,onClick:p})))):i===D_.EVENT?el.createElement(e8.fu,{name:d,properties:{severity:i,...this.props.tracking}},el.createElement("div",{className:`${DE} ${m}`},el.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},DI),el.createElement("div",{className:Dv},el.createElement("p",{className:Df},e),el.createElement("p",{className:Db},t)),el.createElement(eT.e2,{className:Dw},l&&el.createElement(eT.vd,{className:Dg,onClick:l,trackingProperties:r},a),o&&el.createElement(eT.tM,{className:Dy,onClick:o},s),_&&p&&el.createElement(cg.Jn,{className:DT,onClick:p})))):el.createElement(e8.fu,{name:d,properties:{severity:i,...this.props.tracking}},el.createElement("div",{className:`${DE} ${m}`},el.createElement(eC.B,{svg:DS.A,className:"banners--warningIcon--A5YS-",autosize:i===D_.WARN_SOFT}),el.createElement("div",{className:Dv},el.createElement("span",{className:"banners--title--OIA0P"},e),t,n&&el.createElement("span",null,"\xa0",el.createElement("a",{target:"_blank",rel:"noopener",href:n},el.createElement(e2.Tx,{id:"payments.learn_more"})))),el.createElement(eT.e2,{reversed:u,className:Dw},l&&el.createElement(eT.vd,{className:Dg,onClick:l,trackingProperties:r},a),!l&&el.createElement("div",{className:"banners--ctaMessage--5MB88"},a),_&&p&&el.createElement(cg.Jn,{className:DT,onClick:p}))))}}DA.displayName="BannerContentView";var DL=a(760824),DR=a(986060),DO=a(454984),DD=a(779200),DF=a(659969);let DM=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.teams)[e.teamId].subscription,r=e.paymentRequiresAction;return(0,el.useEffect)(()=>{DF.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,i$.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,el.useEffect)(()=>{r||a===lm.Qh.INCOMPLETE||t(t3.ES({type:DM.type}))},[a,t,r]),el.createElement(lD.Eo,{title:(0,e2.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,e2.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:e3.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},el.createElement(e2.Tx,{id:"payments.pending_subscription_modal_description"}))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var DP=a(677050),DB=a(403262),DU=a(169321),DW=a(123243);function DV(e,t){let a;if(!e.currentUserOrgId||!(0,d2.wn)(e.currentUserOrgId,e))return null;let r=e.orgById[e.currentUserOrgId],n=(0,sQ.canAdminOrg)(e.currentUserOrgId,e),l=r.past_due_at&&(0,dq.A)(r.past_due_at).add(2,"weeks")>(0,dq.A)(new Date);if(!n&&l)return null;let i=(0,o2.zR)(e.orgUsersByOrgId.orgUsers[e.currentUserOrgId]).map(e=>el.createElement("span",{key:e.id,className:Dh},e.user.handle," (",e.user.email,")"));return a=n?r.billing===s0.EZ.CHARGE_IMMEDIATELY?el.createElement(e2.Tx,{id:"payments.org_past_due_on_payment",invoice:el.createElement("a",{onClick:()=>{null==t||t(aC.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:mz.J7.BILLING}))}},el.createElement(e2.Tx,{id:"payments.outstanding_invoice"})),orgName:r.name}):el.createElement(e2.Tx,{id:"payments.org_past_due_on_payment_invoiced",email:el.createElement("b",{className:Dh},(0,em.W4)()),orgName:r.name}):el.createElement(e2.Tx,{id:"payments.please_reach_out_to_org_admins",orgName:r.name,admins:(0,sQ.canMemberOrg)(e.currentUserOrgId,e)&&el.createElement("span",null," ",el.createElement(ux.T,{formatType:"disjunction"},i)),numAdmins:i.length}),{severity:D_.WARN,title:(0,e2.t)("payments.payment_not_received"),message:a,cta:null,onClickCta:null}}function DG(e,t,a,r,n){var l;let i=a?r.teams[a]:null;if(a&&!i||"file"===e)return null;let s=r.currentTeamId,o=i&&i.subscription===lm.Qh.GRACE_PERIOD,c=r.billingSummary,d=(null==i?void 0:i.subscription)===lm.Qh.INCOMPLETE,m=!!(null==i?void 0:i.org_id),u=!!(null==i?void 0:i.subscription),_=e=>{var t;return(null==e?void 0:e.status)==="open"&&(null==(t=null==e?void 0:e.payment_intent)?void 0:t.status)===gf.pk.REQUIRES_SOURCE_ACTION},p=(0,em.kc)().requires_action_3ds_banner&&o&&!m&&u&&(_(null==c?void 0:c.last_monthly_invoice)||_(null==c?void 0:c.last_annual_invoice)),g=i&&(d||p),E=i&&i.subscription===lm.Qh.PAST_DUE,f=i&&i.subscription===lm.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,h=a&&(0,sQ.canOwnTeam)(a,r),v=a&&(0,sQ.canAdminTeam)(a,r),b=a&&(0,sQ.canEditTeam)(a,r),y=i&&(0,d2.oc)(i.id,r),w=i&&!(0,d2.n0)(i)&&!i.student_team&&y,T="folder"===e?t:null,x=0,C={showReminder:!1,showAccessRestricted:!1},N=a||(null==T?void 0:T.team_id),k="folder"===e&&!T;if(r.user){let t=N?(0,sQ.getRolesForUserAndTeam)(N,r):[],a=N&&(0,sQ.hasMinRole)(t,oi.e6.EDITOR),n=["folder","team"].includes(e)&&a,{ps_benchmark:l}=(0,em.kc)(),i=(0,d0.cn)(r.user),o=r.userEduGracePeriods;k?(l&&s&&(0,d0.hP)(r.user.id,r.roles.byTeamId,r.teams[s])||!l&&(0,d0.ej)(r.user.id,r.roles.byTeamId,r.teams))&&(C=(0,d0.df)(o,i),x=(0,d0.Me)(o)):N&&n&&(C=(0,d0.GU)(o,i,N,!!r.teams[N].student_team),x=(0,d0.qS)(o,N))}let S=i&&!(0,d2.n0)(i)&&!i.student_team&&T&&!(0,gM.Gi)(T),I=S&&T.is_invite_only,A=S&&T.is_view_only,L=T&&(0,gM.sp)(T),R=!L&&!i&&T&&(0,d2.ZZ)(T,r),O=()=>null==n?void 0:n(oa.WX({teamId:i.id,selectedView:r.selectedView})),D=e=>{e.preventDefault(),null==n||n(t3.to({type:DD.I,data:{teamId:a}}))},F=()=>{null==n||n(aC.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:mG.I.SETTINGS}))},M=()=>ec.Ay.redirect("/education/apply","_blank"),P=()=>null==n?void 0:n(oa.WX({teamId:i.id,openInNewTab:!1,selectedView:{view:"team",teamId:i.id}})),B=()=>null==n?void 0:n((0,t3.to)({type:_V.V,data:{upsellSource:d8.b.BANNER}})),U=DV(r,n);if(U)return U;let W=(0,d2._b)(i),V=i&&i.subscription_raw!==lm.Qh.OK&&(0,d2.WQ)(i)&&v&&_j.ng.getProTrialStatus(i)!==DR.a.IN_TRIAL&&(r.selectedTab===mG.A.SETTINGS||W&&r.selectedTab===mG.A.HOME),G=["team","folder"].includes(e)&&b&&(0,mM.cU)(i),$=b&&function(e,t){var a;let r=e&&(null==(a=t[e.id])?void 0:a.dismissed_legacy_team_upgrade_notice_banner);return(0,mM.zs)(e)&&!r}(i,r.userTeamFlags),j=(0,dP.R$)(r.user,r.currentUserOrgId),H=_j.ng.canSeeExpiredProTrialBanner(r.userTeamFlags,i,r),q=i&&(null==(l=r.userTeamFlags[i.id])?void 0:l[_j.lg]),Y=r.user?(0,d0.x$)(r.eduPeriodEnd,(0,d0.cn)(r.user)):1/0,z=Y>0&&Y!==1/0,K=0===Y,J=i&&i.student_team_state===gf.kU.STUDENT_TEAM_CURRENT,Q=i&&i.student_team_state===gf.kU.STUDENT_TEAM_EXPIRED&&y,Z=z&&h&&J,X=K&&h&&Q,ee=z&&b&&J,et=K&&!b&&J,ea=(0,em.kc)().edu_offboarding_experience&&(Z||X||ee||et),er=(0,em.kc)().edu_offboarding_experience&&Q;if(o&&!p)return{severity:D_.WARN,title:(0,e2.t)("payments.payment_failed"),message:(0,e2.t)("payments.payment_failed_explanation"),cta:v?(0,e2.t)("payments.update_payment"):(0,e2.t)("payments.contact_admin"),ctaTrackingProperties:v?{trackingDescriptor:e3.c.UPDATE_PAYMENT}:void 0,onClickCta:v?F:null};if(E)return{severity:D_.WARN,title:(0,e2.t)("payments.locked"),message:(0,e2.t)("payments.locked_description",{teamName:i.name}),cta:v?(0,e2.t)("payments.update_payment"):(0,e2.t)("payments.contact_admin"),ctaTrackingProperties:v?{trackingDescriptor:e3.c.UPDATE_PAYMENT}:void 0,onClickCta:v?F:null};if(f)return{severity:D_.WARN,title:(0,e2.t)("payments.locked"),message:v?el.createElement("span",null,el.createElement(e2.Tx,{id:"payments.no_monthly_sub_over_editor_limit_admin.seat_rename",contactSupport:el.createElement("a",{href:`mailto:${(0,em.W4)()}`},el.createElement(e2.Tx,{id:"payments.contact_support"}))})):el.createElement("span",null,el.createElement(e2.Tx,{id:"payments.no_monthly_sub_over_editor_limit.seat_rename"})),cta:v?(0,e2.t)("payments.manage_plan"):null,onClickCta:v?()=>{null==n||n(aC.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:mG.I.SETTINGS}))}:null};if(H&&(y||b&&!q)){let e,t,r,l;return y?(e=b?el.createElement(e2.Tx,{id:"payments.pro_trial_expiry.locked_description_on_team",teamName:i.name,lowerUsageLink:el.createElement(e8.$z,{onClick:D},el.createElement(e2.Tx,{id:"payments.pro_trial_expiry.lower_usage"}))}):el.createElement(e2.Tx,{id:"payments.pro_trial_expiry.locked_description_for_viewer_on_team",teamName:i.name}),t=b?el.createElement(e2.Tx,{id:"payments.pro_trial_upgrade_cta.upgrade"}):null,r=`${DN} `,l="Pro Trial Expiry Banner Locked"):(e=i?el.createElement(e2.Tx,{id:"payments.pro_trial.trial_ended_banner_message",teamName:i.name}):el.createElement(e2.Tx,{id:"payments.pro_trial.trial_ended_banner_message.no_name"}),t=el.createElement(e2.Tx,{id:"payments.pro_trial.trial_ended_banner_upgrade_cta"}),r=`${DN} ${Dk}`,l="Pro Trial Expiry Banner Unlocked"),{severity:D_.WARN_SOFT,title:(0,e2.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:b?P:void 0,svg:DB.A,bannerClassName:r,trackingContextName:l,dismissible:!y,onClose:y?void 0:()=>{a&&(null==n||n(DL.bE({all_team_flags:[{team_id:a,flags:{[_j.lg]:!0}}]})))}}}if(ea){let e=()=>null==n?void 0:n(t3.to({type:DO.ZL,data:{team:i}}));if(Z||ee)return{severity:D_.WARN_SOFT,title:el.createElement(e2.Tx,{id:"edu.banner.your_education_status_is_expiring_soon"}),message:el.createElement(e2.Tx,{id:"edu.banner.to_keep_collaborating_upgrade_team",teamName:i.name,verify:el.createElement(eT.Us,{href:"/education/apply",target:"_blank",trusted:!0},el.createElement(e2.Tx,{id:"edu.banner.verify_your_education_status"}))}),cta:el.createElement(e2.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:DP.A,bannerClassName:`${DN} ${Dk}`,trackingContextName:"Edu Offboarding Banner"};if(X)return{severity:D_.WARN_SOFT,title:el.createElement(e2.Tx,{id:"edu.banner.your_education_plan_has_expired"}),message:el.createElement(e2.Tx,{id:"edu.banner.team_is_now_view_only_for_all_members",teamName:i.name}),cta:el.createElement(e2.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:DP.A,bannerClassName:DN,trackingContextName:"Edu Offboarding Banner"};if(et)return{severity:D_.WARN_SOFT,title:el.createElement(e2.Tx,{id:"edu.banner.your_education_plan_has_expired"}),message:el.createElement(e2.Tx,{id:"edu.banner.you_can_no_longer_edit_files",teamName:i.name}),cta:el.createElement(e2.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:DP.A,bannerClassName:DN,trackingContextName:"Edu Offboarding Banner"}}else if(er)return{severity:D_.WARN_SOFT,title:el.createElement(e2.Tx,{id:"edu.banner.team_s_education_status_has_expired",teamName:i.name}),message:el.createElement(e2.Tx,{id:"edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"}),cta:null,svg:DP.A,bannerClassName:DN,trackingContextName:"Edu Offboarding Banner"};else if(w){let e;return e=v||b?el.createElement("span",null,el.createElement("b",{style:cs.sx.fontSemiBold.$},el.createElement(e2.Tx,{id:"payments.team_over_starter_team_limit",teamName:i.name})," "),el.createElement(e2.Tx,{id:"payments.team_over_starter_team_limit_upgrade",teamName:i.name,lowerYourUsage:el.createElement("a",{href:"#",onClick:D},el.createElement(e2.Tx,{id:"payments.team_over_starter_team_limit_lower_your_usage"}))})):el.createElement("span",null,el.createElement("b",{style:cs.sx.fontSemiBold.$},el.createElement(e2.Tx,{id:"payments.team_over_starter_team_limit",teamName:i.name})," "),el.createElement(e2.Tx,{id:"payments.contact_admin_for_details"})),{severity:D_.WARN,title:(0,e2.t)("payments.locked"),message:e,cta:b?(0,e2.t)("payments.upgrade_now"):null,ctaTrackingProperties:b?{trackingDescriptor:e3.c.UPGRADE_NOW,upsellSource:d8.b.BANNER}:void 0,onClickCta:b?O:null}}else if(j){let e=r.user.external_restricted_org_id,t=(0,e2.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&r.orgById[e]){let a=r.orgById[e];t=(0,e2.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:a.name})}return{severity:D_.WARN,title:(0,e2.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}else if(r.user&&["team","folder"].includes(e)&&C.showAccessRestricted){let e,t=(0,e2.t)("banner.edu_grace_period.your_education_plan_has_expired");return i?(0,d0.eB)(r.user.id,r.roles.byTeamId,i)?e=(0,e2.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:i.name}):(0,d0.QS)(r.user.id,r.roles.byTeamId,i)?e=(0,e2.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:i.name}):(t=(0,e2.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:i.name}),e=(0,e2.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,e2.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:D_.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,e2.t)("banner.edu_grace_period.verify_status_button"),onClickCta:M,svg:DP.A,bannerClassName:DC}}else if(["team","folder"].includes(e)&&C.showReminder)return{severity:D_.ANNOUNCEMENT,title:(0,e2.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:x}),message:(0,e2.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,e2.t)("banner.edu_grace_period.verify_status_button"),onClickCta:M,svg:DW.A};else if(I||A)return{severity:D_.WARN,title:(0,e2.t)("payments.folder_locked"),message:(0,e2.t)("payments.folder_locked_description",{projectType:"Invite"==(I?"Invite":"View")?(0,e2.t)("payments.invite_only_projects"):(0,e2.t)("payments.view_only_projects"),teamName:i.name}),learnMoreUrl:"/pricing",cta:b?(0,e2.t)("payments.upgrade_now"):(0,e2.t)("payments.contact_admin_for_details"),ctaTrackingProperties:b?{trackingDescriptor:e3.c.UPGRADE_NOW,upsellSource:d8.b.BANNER}:void 0,onClickCta:b?O:null};else if(R&&"folder"===e)return{severity:D_.WARN,title:(0,e2.t)("payments.locked"),message:(0,e2.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(L&&"folder"===e)return{severity:D_.WARN,title:(0,e2.t)("payments.abandoned_project"),message:(0,e2.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if($){let e=(0,e2.t)("payments.file_limit_unified",{figmaFiles:d2.WW,figjamFiles:d2.WW});G?$||(e=(0,e2.t)("payments.file_limit_figjam",{figjamFiles:d2.WW})):e=(0,e2.t)("payments.file_limit_figma",{figmaFiles:d2.WW});let t=()=>el.createElement("button",{type:"button",onClick:B,className:"banners--bannerInlineTextButton--GRx12"},el.createElement(e2.Tx,{id:"payments.check_out_our_paid_plans"})),a=i?el.createElement("span",null,el.createElement(e2.Tx,{id:"payments.team_over_starter_team_limit_with_button.legacy_team",fileLimitString:e,checkoutOurPlans:t(),teamName:i.name})):el.createElement("span",null,el.createElement(e2.Tx,{id:"payments.team_over_starter_team_limit_with_button.no_legacy_team_present",fileLimitString:e,checkoutOurPlans:t()}));return{severity:D_.ANNOUNCEMENT,title:(0,e2.t)("payments.team_over_starter_team_limit_title"),message:a,cta:(0,e2.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:e3.c.UPGRADE_NOW,upsellSource:d8.b.BANNER},onClickCta:O,svg:DU.A,bannerClassName:DC,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(V){let e=(0,dq.A)(i.grace_period_end).toDate(),t=el.createElement(e2.Tx,{id:"payments.pro_plan_ends_relative_time_string",relative_time_string:el.createElement(lI.h1,{date:e})});return W||(t=el.createElement(e2.Tx,{id:"payments.pro_plan_ends_on_date",end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:D_.ANNOUNCEMENT,title:t,message:(0,e2.t)("payments.pro_plan_ends_for_team_description",{teamName:i.name}),cta:(0,e2.t)("payments.pro_plan_ends_button"),onClickCta:P,svg:W?DU.A:DB.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:W?DC:void 0}}else if(g){let e=d?(0,e2.t)("payments.complete_team_payment_description",{teamName:i.name}):(0,e2.t)("payments.complete_team_renewal_payment_description");return{severity:D_.WARN,title:(0,e2.t)("payments.complete_payment"),message:e,cta:el.createElement(mE.V,{trackingProperties:{trackingDescriptor:e3.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>null==n?void 0:n(t3.to({type:DM,data:{teamId:a,paymentRequiresAction:!!p}}))},el.createElement(e2.Tx,{id:"payments.complete_payment_cta"})),onClickCta:null}}return null}function D$(e,t,a,r){return!!DG(t,a,r,{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,sQ.getPermissionsState)(e)},null)}function Dj(e,t){let a={...e};return"string"==typeof t.title&&(a.title=t.title),"string"==typeof t.message&&(a.message=t.message),a}let DH=(0,ei.Ng)(e=>{var t;return{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!(null==(t=e.user)?void 0:t.student_validated_at),userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,sQ.getPermissionsState)(e)}})(function(e){var t,a;let r;let n=(0,aX.Rs)(a9.UpR,{}),l=e.folderId?e.folders[e.folderId]:null,i=l?l.team_id:null,s=e.dispatch,o=i&&(0,sQ.canAdminTeam)(i,e),c=i?e.teams[i]:null,d=!!(null==c?void 0:c.org_id),m=!!(null==c?void 0:c.subscription);(0,el.useEffect)(()=>{(0,em.kc)().requires_action_3ds_banner&&i&&!d&&m&&o&&s(ks.Be({teamId:i}))},[s,i,d,m,o]);let u=(0,ei.d4)(e=>{var t;return null==(t=e.teamBilling)?void 0:t.summary}),_=DG(lm.vt.FOLDER,l,i,{eduPeriodEnd:null==(a=null==(t=n.data)?void 0:t.currentUser)?void 0:a.eduPeriodEnd,billingSummary:u,...e},e.dispatch);if(!_)return el.createElement("div",null);r=l?Dj({resourceType:lm.vt.TEAM,teamId:i,folderId:l.id},_):Dj({resourceType:"recents"},_);let p=_.severity===D_.WARN?Dp:"",g=_.bannerClassName||"",E=`${Dx} ${p} ${g}`;return el.createElement("div",{className:E},el.createElement(DA,{..._,tracking:r}))}),Dq=e=>{switch(e){case L9.t2.DESIGN:return"design";case L9.t2.FIGJAM:return"whiteboard";case L9.t2.PROTOTYPE:return"prototype";case L9.t2.SLIDES:return"slides";case L9.t2.ANY:return"";default:(0,eh.xb)(e)}},DY=e=>{switch(e){case L9.t2.DESIGN:return lm._Y.DESIGN;case L9.t2.FIGJAM:return lm._Y.WHITEBOARD;case L9.t2.SLIDES:return lm._Y.SLIDES;case L9.t2.PROTOTYPE:case L9.t2.ANY:case void 0:return null;default:(0,eh.xb)(e)}},Dz=e=>{switch(e){case L9.C0.NAME:return"name";case L9.C0.CREATED_AT:return"created_at";case L9.C0.TOUCHED_AT:return"updated_at";default:return(0,iA.$D)(o$.e.EXPLORE,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};function DK(e){var t,a,r,n,l,i,s;let o=(0,ei.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),c=(0,aX.Rs)(a9.SnC,{draftsFolderId:e.folderId,cursorColumn:(s=Dz(o.sort.key),`${(0,ac.m8)(s)}AndId`),sortOrder:o.sort.dir===L9.ue.ASC?"ASC":"DESC",firstPageSize:50,editorType:DY(o.filters.fileType)}),d=(0,el.useCallback)(e=>{var t,a,r,n,l,i;switch(e.type){case"fetchNextPage":"loaded"===c.status&&(null==(r=null==(a=null==(t=c.data)?void 0:t.currentUser)?void 0:a.draftFiles)?void 0:r.hasNextPage())&&(null==(i=null==(l=null==(n=c.data)?void 0:n.currentUser)?void 0:l.draftFiles)||i.loadNext(50));break;case"refetch":case"subscribe":case"unsubscribe":return;default:throw Error(`Unsupported action ${e.type}`)}},[c]),m="loaded"===c.status&&((null==(r=null==(a=null==(t=c.data)?void 0:t.currentUser)?void 0:a.draftFiles)?void 0:r.isLoadingNextPage)??!1),u="loaded"===c.status&&(null==(i=null==(l=null==(n=c.data)?void 0:n.currentUser)?void 0:l.draftFiles)?void 0:i.hasNextPage());return[{data:(0,el.useMemo)(()=>{var e,t;if("loaded"!==c.status||!(null==(e=c.data)?void 0:e.project))return null;let a=[],r=[],n=new Set,l=c.data.project.roles.map(e=>e.pending?(0,g_.V1)(e,{pending:!0,user:{email:e.pendingEmail||"",userId:e.userId},user_id:null,resource_id_or_key:e.resourceId,folder_id:e.resourceId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString()}):(0,g_.V1)(e,{pending:!1,user:(0,g_.V1)(e.user),user_id:e.userId||"",resource_id_or_key:e.resourceId,folder_id:e.resourceId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString()})),i=(0,g_.G)(c.data.project);for(let e of(null==(t=c.data.currentUser)?void 0:t.draftFiles)??[])!e.file||e.file.trashedAt||e.file.deletedAt||(e.file.repo&&!n.has(e.file.repo.id)&&(n.add(e.file.repo.id),r.push((0,g_.YT)(e.file.repo))),a.push((0,g_.V1)(e.file,{updated_at:e.file.updatedAt.toString(),created_at:e.file.createdAt.toString(),trashed_at:null,deleted_at:null,last_published_at:e.file.lastPublishedAt.toString()||null,org_audience:e.file.orgAudience??void 0})));let s={files:a,repos:r,roles:l,folder:i};return(0,g_.CY)(s),s},[c]),errors:c.errors,status:c.status,isFetchingNextPage:m,hasNextPage:u},d]}let DJ=e=>(0,ei.d4)(t=>D$(t,e.resourceType||lm.vt.FOLDER,e.resource||null,e.teamId||null)),DQ={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},DZ=(0,Dn.xx)(gM.r$),DX=(0,Dn.xx)(gM.ZN);function D0(e){var t,a,r,n,l,i,s,o,c,d,m,u,_,p,g,E,f;let{folder:h,sortFilterOptions:v,loadedFolders:b,selectedBranchKeyByRepoId:y}=(0,Rc.R)(t=>({folder:DZ(e.folderId,t.folders,t.fileByKey,t.fileKeysByFolderId,t.fileKeysByRepoId,t.repos,t.repoIdsByFolderId,(0,sQ.getPermissionsStateMemoized)(t)),sortFilterOptions:DX(e.folderId,t.tileSortFilterStateByView),loadedFolders:t.loadedFolders,selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),w=(0,ei.wA)(),T=(0,ov.Rp)(),x=(0,ei.d4)(({currentUserOrgId:e})=>e);(0,ep.I7)("exp_aa_test_org_drafts").getConfig();let C=()=>{},N=!1,[k,S]=((0,em.kc)().livegraph_draft_files_full_read?DK:(0,em.kc)().fb_redux_drafts_livestore?function(e){let t=(0,ei.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),a=(0,el.useMemo)(()=>({file_type:Dq(t.filters.fileType),sort_order:t.sort.dir===L9.ue.ASC?"asc":"desc",sort_column:Dz(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]),[r,n]=(0,nY.IT)((0,_F.BU)({folderId:e.folderId,...a}));return[r,(0,el.useCallback)(e=>{if("fetchNextPage"===e.type)return n.fetchNextPage();(0,eh.xb)(e.type)},[n])]}:function(e){let t=(0,ei.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),a=(0,el.useMemo)(()=>({file_type:Dq(t.filters.fileType),sort_order:t.sort.dir===L9.ue.ASC?"asc":"desc",sort_column:Dz(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]);return function(e){let{endpoint:t,queryParams:a,pageSize:r,parseResponse:n=e=>e,appendData:l=(e,t)=>[...e??[],...t??[]]}=e,i=(0,ei.wA)(),[s,o]=(0,el.useState)(Du.LOADING),[c,d]=(0,el.useState)(!0),[m,u]=(0,el.useState)(!1),[_,p]=(0,el.useState)(null),[g,E]=(0,el.useState)(null),f=(0,el.useCallback)(e=>{o(Du.ERRORS),E(e),i(a0.F.enqueue({message:(0,e2.t)("general.an_error_occurred"),error:!0}))},[o,E,i]),h=(0,el.useMemo)(()=>{let e=Object.entries(a).filter(([e,t])=>!!t).map(([e,t])=>`${e}=${t}`).join("&");return e?`${t}${-1===t.indexOf("?")?"?":"&"}${e}`:t},[t,a]),{fetchNext:v,hasMore:b}=(0,ao.WQ)(h,f,r);(0,el.useEffect)(()=>{d(!!b)},[b]);let y=(0,el.useCallback)(async(e=!1)=>{if(e||c&&!m){u(!0);let t=n(await v(e));p(e=>l(e,t)),u(!1),o(Du.LOADED)}},[c,m,v,n,o,p,l]),w=(0,el.useCallback)(e=>{switch(e.type){case"refetch":return y(!0);case"fetchNextPage":return y();default:throw Error(`Unsupported action ${e.type}`)}},[y]);return(0,el.useEffect)(()=>{o(Du.LOADING),p(null),E(null),w({type:"refetch"})},[h]),[{status:s,data:_,errors:g,isFetchingNextPage:m,hasNextPage:b},w]}({endpoint:`/api/folders/${e.folderId}/paginated_files`,queryParams:a,pageSize:50,appendData:(e,t)=>null!==t?{files:[...(null==e?void 0:e.files)??[],...t.files??[]],repos:[...(null==e?void 0:e.repos)??[],...t.repos??[]],roles:[...(null==e?void 0:e.roles)??[],...t.roles??[]],folder:(null==t?void 0:t.folder)??(null==e?void 0:e.folder)}:e})})({folderId:e.folderId});N=!!k.hasNextPage;let I=(0,em.kc)().fb_redux_drafts_livestore?null==(t=k.data)?void 0:t.folder:h,A=DJ({resourceType:lm.vt.FOLDER,resource:I,teamId:(null==I?void 0:I.team_id)||null}),L=(0,ei.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),{trackPerformanceEvent:R}=(0,Ab.S)("draft_files_pagination_performance",(0,em.kc)().livegraph_draft_files_full_read?"livegraph":"legacy");if(el.useEffect(()=>{R("fetch_end")},[R,null==(r=null==(a=k.data)?void 0:a.files)?void 0:r.length]),el.useEffect(()=>{k.status===Du.ERRORS&&R("fetch_error",{errors:JSON.stringify(k.errors??{})})},[R,k.status,k.errors]),el.useEffect(()=>(R("fetch_start"),()=>{R("fetch_cancel")}),[R]),C=el.useCallback(()=>{k.isFetchingNextPage||(R("fetch_next"),S({type:"fetchNextPage"}))},[k.isFetchingNextPage,S,R]),el.useEffect(()=>{(0,em.kc)().fb_redux_drafts_livestore||w((0,_F.Ic)({folderId:e.folderId}))},[w,L.filters.fileType,L.sort.dir,L.sort.key,e.folderId]),el.useEffect(()=>{!(0,em.kc)().fb_redux_drafts_livestore&&k.data&&w((0,_F.g$)({folderId:e.folderId,folderData:k.data}))},[w,e.folderId,k.data]),(0,em.kc)().livegraph_draft_files_dark_read&&!(0,em.kc)().livegraph_draft_files_full_read){let[t,a]=DK({folderId:e.folderId}),{trackPerformanceEvent:r}=(0,Ab.S)("draft_files_pagination_performance","livegraph");if(el.useEffect(()=>{r("fetch_end")},[r,null==(l=null==(n=t.data)?void 0:n.files)?void 0:l.length]),el.useEffect(()=>{t.status===Du.ERRORS&&r("fetch_error",{errors:JSON.stringify(t.errors??{})})},[r,t.status,t.errors]),el.useEffect(()=>(r("fetch_start"),()=>{r("fetch_cancel")}),[r]),k.status===Du.LOADED&&"loaded"===t.status)try{let e=new Set(["is_favorited","realtime_token","settings","thumbnail_url","thumbnail_url_override"]),a=(null==(i=t.data)?void 0:i.files)??[],r=(null==(s=k.data)?void 0:s.files.slice(a.length))??[],n=(0,fH.cQ)(r,a,t=>e.has(t),"key"),l=(null==(o=t.data)?void 0:o.repos)??[],g=(null==(c=k.data)?void 0:c.repos.slice(l.length))??[],E=(0,fH.cQ)(g,l,t=>e.has(t),"id"),f=(null==(d=t.data)?void 0:d.repos)??[],h=(null==(m=k.data)?void 0:m.repos.slice(f.length))??[],v=(0,fH.cQ)(h,f,t=>e.has(t),"id"),b=(0,fH.uJ)((null==(u=k.data)?void 0:u.folder.id)??"missing_folder_id",(null==(_=k.data)?void 0:_.folder)??{},(null==(p=t.data)?void 0:p.folder)??{},t=>e.has(t));(0,fH.Im)(n)&&(0,fH.Im)(E)&&(0,fH.Im)(v)&&(0,fH.Im)(b)||(0,e7.sx)("Draft Files: Sinatra LG diffs",{orgId:x,filesDiffs:JSON.stringify(n),reposDiffs:JSON.stringify(E),rolesDiffs:JSON.stringify(v),folderDiffs:JSON.stringify(b)})}catch(e){(0,e7.sx)("Draft Files: Sinatra LG diffs",{orgId:x,error:JSON.stringify(e)})}}let O=(0,em.kc)().fb_redux_drafts_livestore?(null==(g=k.data)?void 0:g.files)||[]:h.files,D=(0,em.kc)().fb_redux_drafts_livestore?(null==(E=k.data)?void 0:E.repos)||[]:h.repos,F=(0,em.kc)().fb_redux_drafts_livestore?(null==(f=k.data)?void 0:f.filesByRepoId)||{}:h.filesByRepoId,M=[...O.map(e=>({type:gd.nb.FILE,file:e})),...D.filter(e=>!e.trashed_at).map(e=>({type:gd.nb.REPO,repo:e,branches:F[e.id],selectedBranchKey:y[e.id]||""})),...Object.values(T).filter(e=>e.orgId===x).map(gd.gB)],P=(0,em.kc)().fb_redux_drafts_livestore?"loaded"===k.status:"loaded"===b[e.folderId],B=el.createElement(el.Fragment,null,el.createElement(R0,{newFileTile:!0,tiles:M,chunkSize:M.length,tileActions:DQ,sortFilterOptions:v,emptyStateText:"",hideSorter:!0,isDataPartial:N}),el.createElement(OZ.cx,null)),U=el.createElement(po.A,{loadingElementId:"loading-content-pane",loaded:P,loadingElementClassName:eE.cx.pr32.$},el.createElement(Dm,{key:`${v.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:C},B));return(0,e8.T8)(el.createElement(uw.r,{viewBarSticky:!0,banner:A?el.createElement(DH,{folderId:e.folderId}):void 0,content:U,viewbar:el.createElement(Ds,null)}),t6.e0.FILE_BROWSER,{view:"drafts"})}var D1=a(649433),D2=a(516056);let D4=(0,rr.Ju)(function(e){let t,a;let r=(0,ei.wA)(),[n,l]=el.useState(""),i=(0,ei.d4)(e=>e.deletedReposById),s=(0,ei.d4)(e=>e.fileByKey),{reposToDelete:o,draftsToDelete:c,deleteAllDraftsAsync:d,isDeleteAll:m,isPermanentDeletion:u}=e,_=c.map(e=>e.name).concat(o.map(e=>e.name)),p=_.length>1;t=u?p?(0,e2.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:_.length}):(0,e2.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:_[0]}):p?(0,e2.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:_.length}):(0,e2.t)("file_browser.draft_delete_modal.header_single_file_trash",{fileName:_[0]});let g=(t,a)=>{if(t.length>0){if(u){let a=t.reduce((e,t)=>(e[t.key]=!0,e),{});r(gn.YK({fileKeys:a,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let a=t.reduce((e,t)=>(e[t.key]=t,e),{});r(gn.VK({fileKeys:a,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let n={};a.forEach(e=>{let t=i[e.id];if(t)n[e.id]=t;else{let t=e.default_file_key&&s[e.default_file_key];t&&(n[e.id]={repo:e,main_file:t})}}),a.length>0&&(u?r((0,D1.YM)({reposById:n,userInitiated:!0})):r((0,D1.hT)({reposById:n,userInitiated:!0})))},E=()=>D2.k.deleteAllPersonalDrafts().then(()=>r(a0.F.enqueue({message:(0,e2.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>r(a0.F.enqueue({message:(0,e2.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),f=()=>{let{draftsToDelete:t,reposToDelete:a}=e;t.length+a.length>100?r(ae.s.error((0,e2.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),g(t,a))},h=()=>{d?E():f(),e.onClose()},v=el.useMemo(()=>n.trim().toLowerCase()!==(0,e2.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[n]);a=u?p?(0,e2.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:_.length}):(0,e2.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):p?(0,e2.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:_.length}):(0,e2.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:_[0]});let b=u?el.createElement(eT.qM,{onClick:h,disabled:v,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:u},dataTestId:"draft-delete-confirmation-button"},el.createElement("span",{"data-tooltip":(0,e2.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,e2.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":v?aA.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},(0,em.kc)().ps_trashed_drafts_enabled?(0,e2.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:_.length}):(0,e2.t)("file_browser.draft_delete_modal.button_delete"))):el.createElement(cp.vd,{onClick:h,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:u}},el.createElement(e2.Tx,{id:"file_browser.draft_delete_modal.button_delete_files",numFiles:_.length}));return el.createElement(e8.fu,{name:"draftDeleteModal",properties:{itemCount:_.length,isDeleteAsync:!!d,isDeleteAll:!!m}},el.createElement(lD.XV,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},el.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},el.createElement("p",null,a," ",!u&&el.createElement("p",null,el.createElement("br",null),el.createElement(e2.Tx,{id:"file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",fileCount:_.length}))),el.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},u&&el.createElement(e2.Tx,{id:"file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",deletionString:(0,e2.t)("file_browser.draft_delete_modal.button_delete")})),el.createElement("form",{onSubmit:h},u&&el.createElement("div",null,el.createElement(o5.L,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",dataTestId:"draft-delete-confirmation-input",value:n,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{l(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),el.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},el.createElement(eT.nR,{onClick:e.onClose},el.createElement(e2.Tx,{id:"modal.cancel"})),b)))))},"DraftDeleteModal");var D3=a(970164);let D8="draft_move_modal--modalBody--tk8mC",D5="draft_move_modal--folderName--Edpgq ellipsis--ellipsis--Tjyfa",D6="draft_move_modal--folderRow--ploo8",D9="draft_move_modal--hoverableFolderRow--hUAas",D7="draft_move_modal--iconContainer--YfzDe";var Fe=a(677550),Ft=((q=Ft||{}).FREE="Free",q.LOCKED="Locked",q.EDU="Edu",q.PRO="Pro",q.ORG="Org",q.ENT="Enterprise",q.GUEST="Guest",q);let Fa=(0,rr.Ju)(function(e){var t,a,r,n,l,i;let[s,o]=(0,el.useState)(null),{onClose:c,draftsToMove:d,reposToMove:m,onMoveSuccess:u,setSynchronousFileTransferInProgress:_,moveAllDraftsAsync:p,isMoveAll:g}=e,E=(0,ei.d4)(e=>(0,sQ.getPermissionsStateMemoized)(e)),f=(0,aX.Rs)(a9.G0Y,{orgId:null}),h=(0,ei.wA)(),v=(0,D3.z)(),b=()=>{v(),c()},y=e=>e?(0,d2.XX)(e)?e.studentTeamAt?"Edu":"Pro":(0,d2.oc)(e.id,E)?"Locked":"Free":"Free",w=({orgId:e,orgPermission:t,isEnterprise:a=!1})=>t===lm._D.GUEST?"Guest":e&&a?"Enterprise":"Org",T=e=>!!e&&(0,u5.kA)(E.orgById[e]),x=((null==(r=null==(a=null==(t=f.data)?void 0:t.currentUser)?void 0:a.teamRoles)?void 0:r.map(e=>e.team).filter(e=>!!e))??[]).filter(e=>e&&!e.deletedAt).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).map(e=>{var t;return{name:(null==e?void 0:e.name)??"",folderId:null==(t=null==e?void 0:e.currentTeamUser)?void 0:t.draftsFolderId,imgUrl:null==e?void 0:e.imgUrl,teamId:null==e?void 0:e.id,destinationBadgeType:y(e),isDisabled:!1}}).filter(e=>!!e.folderId)??[],C=(null==(i=null==(l=null==(n=f.data)?void 0:n.currentUser)?void 0:l.allOrgUsers)?void 0:i.map(e=>{var t,a,r;return{name:(null==(t=null==e?void 0:e.org)?void 0:t.name)??"",folderId:null==e?void 0:e.draftsFolderId,imgUrl:null==(a=null==e?void 0:e.org)?void 0:a.imgUrl,teamId:null==(r=null==e?void 0:e.draftsProject)?void 0:r.teamId,isDisabled:!0,destinationBadgeType:w({orgId:null==e?void 0:e.orgId,orgPermission:null==e?void 0:e.permission,isEnterprise:T(null==e?void 0:e.orgId)})}}).filter(e=>!!e.folderId))??[],N=x.concat(C),k=d.map(e=>e.name).concat(m.map(e=>e.name)),S=k.length>1?(0,e2.t)("file_browser.draft_move_modal.header_multiple_files_move",{fileCount:k.length}):(0,e2.t)("file_browser.draft_move_modal.header_single_file_move",{fileName:k[0]}),I=e=>D2.k.migrateAllPersonalDrafts(e).then(()=>h(a0.F.enqueue({message:(0,e2.t)("file_browser.draft_move_modal.async_draft_move_scheduled")}))).catch(()=>h(a0.F.enqueue({message:(0,e2.t)("file_browser.draft_move_modal.async_draft_move_scheduling_error")}))),A=(e,t)=>{d.length>0&&h(g5.C({files:d,folderName:e,folderId:t,isDraftsToMove:!0,onFinishCallback:e=>u(e,d.length),fromFileModal:!0})),m.length>0&&h((0,D1.mE)({repos:m,folderId:t,folderName:e}))};return"loading"===f.status?el.createElement(lD.XV,{title:S,fixedCenter:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},el.createElement("div",{className:D8},el.createElement(t7.a_,{className:"draft_move_modal--spinner--G4CKo"}))):(null==s&&N.length>0&&"Org"!==N[0].destinationBadgeType&&o(N[0].folderId),el.createElement(e8.fu,{name:"draftMoveModal",properties:{itemCount:k.length,IsMoveAsync:!!p,isMoveAll:!!g}},el.createElement(lD.XV,{title:S,fixedCenter:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},el.createElement("div",{className:D8},el.createElement(Fn,{onCreateNewTeamClick:b}),N&&el.createElement(rt.P,{width:480},el.createElement("div",{className:eE.cx.pl8.pr8.$},N.map(e=>el.createElement(Fl,{key:e.folderId,teamId:e.teamId,name:e.name,imgUrl:e.imgUrl,folderId:e.folderId,checked:s===e.folderId,destinationBadgeType:e.destinationBadgeType,isDisabled:e.isDisabled,onSelect:()=>o(e.folderId)})),el.createElement(Fr,{onCreateNewTeamClick:b}))),el.createElement("div",{className:"draft_move_modal--footer--g-XqF"},el.createElement(eT.nR,{onClick:c},el.createElement(e2.Tx,{id:"modal.cancel"})),el.createElement(eT.vd,{disabled:!s,onClick:()=>{let e=N.find(e=>e.folderId===s);s&&e&&(p?I(e.teamId):(_(d.length>0),A(e.name,s)),c())}},(0,e2.t)("file_browser.file_move.move")))))))},"DraftMoveModal");function Fr(e){return el.createElement(e8.Co,{"data-testid":"new-plan-button",className:ey()(D6,D9),onClick:e.onCreateNewTeamClick,innerText:"Drafts to move create new"},el.createElement("div",{className:D7},el.createElement(eC.B,{className:eE.cx.colorIcon.$,svg:Fe.A})),el.createElement("span",{className:D5},el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.create_new_plan_button_text"})))}function Fn(e){return el.createElement("div",{className:"draft_move_modal--chooseTeamOrOrgRow--OPBwF"},el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.files_will_remain_private_wherever_you_go",createNewTeamLink:el.createElement(eT.Us,{onClick:e.onCreateNewTeamClick,trusted:!0},el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.create_new_plan_link"}))}))}function Fl(e){let t,a;let r=el.createElement(eT.Us,{className:"draft_move_modal--learnMoreLink--b5crD",trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/18409526530967"},el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.learn_more_link"})),n=el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.destination_description_cannot_be_moved_here",learnMoreLink:r});switch(e.destinationBadgeType){case"Free":t=el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.destination_description_access_will_become_view_only"}),a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_free");break;case"Locked":t=el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.destination_description_access_will_become_view_only"}),a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_locked");break;case"Edu":t=el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.destination_description_collaborator_access_may_change"}),a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_edu");break;case"Pro":t=el.createElement(e2.Tx,{id:"file_browser.draft_move_modal.destination_description_collaborator_access_may_change"}),a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_pro");break;case"Org":a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_org"),t=n;break;case"Enterprise":a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_ent"),t=n;break;case"Guest":a=(0,e2.t)("file_browser.draft_move_modal.destination_description_badge_guest"),t=n}let l=["Org","Enterprise","Guest"].includes(e.destinationBadgeType),i=!e.checked&&!l;return el.createElement("button",{"data-testid":`${e.name}-button`,className:ey()(D6,e.checked?"draft_move_modal--selectedFolderRow--XmVi7":"",i?D9:""),onClick:e.onSelect,disabled:e.isDisabled},el.createElement("div",{className:D7},el.createElement(oq.nl,{size:oq.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:_W.U.HIDDEN,team:{id:e.teamId,imgUrl:e.imgUrl}})),el.createElement("div",{className:D5},el.createElement("span",{className:"draft_move_modal--destinationHeading--dBe0G"},e.name),el.createElement("span",{className:l?"draft_move_modal--destinationDescriptionOrg--wEClH draft_move_modal--destinationDescription--fMcX-":"draft_move_modal--destinationDescription--fMcX-"},t)),el.createElement(oj.Ex,{text:a,dataTestId:`${e.name}-badge`,color:e.checked?oj.zE.TOOLBAR_SELECTED:oj.zE.DEFAULT,className:ey()("draft_move_modal--teamBadge--ODLch",eE.cx.mr8.if(!e.checked,eE.cx.colorBgBrandTertiary.colorText).$)}))}var Fi=a(70964),Fs=a(821150);let Fo="drafts_to_move_page_view--fileCellDateSpan--yyBeV",Fc="drafts_to_move_page_view--dateColumn--dniST drafts_to_move_page_view--column--ZQepb table--column--974RA",Fd="drafts_to_move_page_view--emptyContentContainer--7kcRs",Fm="drafts_to_move_page_view--emptyContentHeader--yc3jH",Fu=(0,te.jz)(e5.ISO);var F_=((Y=F_||{}).DRAFT_FILES="draft-files",Y.DELETED_DRAFT_FILES="deleted-draft-files",Y),Fp=((z=Fp||{}).NONE="NONE",z.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",z.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",z.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",z.TRANSFER_COMPLETED="TRANSFER_COMPLETED",z);function Fg(e){let t=e=>{switch(e){case"draft-files":return(0,e2.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,e2.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,eh.xb)(e)}},a=t=>{let a=F_[t].replace(/-/g,"_");(0,a6.Cu)({text:a,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(F_[t])},r=Object.keys(F_).map(r=>el.createElement(w7.r,{tab:F_[r],onClick:()=>a(r),isSelected:e.selectedTab===F_[r],tabName:t(F_[r]),key:r}));return el.createElement(_x.g2,{leftSide:el.createElement(w7.f,{tabs:r}),rightSide:[]})}function FE(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.selectedView),r=(0,ei.d4)(e=>e.selectedBranchKeyByRepoId),n=(0,Re.v)(),{item:l}=e,i=gd.Tf.getFileKey(l)??"",s=(0,RI.Y)(i,gd.Tf.getFavoritedResourceType(l),gd.Tf.getOrgId(l),gd.Tf.getFavoriteResourceTeamId(l)),o=el.useMemo(()=>"loaded"===s.status?!!s.favorite:gd.Tf.getIsFavorited(l),[l,s]),c=e=>r=>{r.detail>1&&!gd.Tf.getTrashedAt(l)&&(RG({tile:e,index:0,dispatch:t,selectedView:a}),n(e,r),r.stopPropagation())};return el.createElement("div",{className:eE.cx.inlineFlex.minW0.$},el.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--3iJKC",onClick:c(l),"data-testid":`fileTile-${i}`},el.createElement(gU.H,{file:l.type===gd.nb.FILE?l.file:(0,Rg.mr)(l.repo,l.branches,r),fillContainer:!0}),el.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--F8DX1"},el.createElement(dE.oS,{type:gd.Tf.getFileIconType(l)??dE.y1.DESIGN,size:dE.LE.SMALL})),o&&el.createElement("div",{className:"drafts_to_move_page_view--topRightControls--3JxM0"},el.createElement("div",{className:"drafts_to_move_page_view--control--Ks90C"},el.createElement(gB.r,{setFavorite:eu.lQ,favoriteType:(0,_D.UL)(l.type),resourceId:i,noHoverState:!0,size:gB.m.SMALL,orgId:gd.Tf.getOrgId(l)??null,teamId:gd.Tf.getFavoriteResourceTeamId(l),disableTooltip:!0})))),el.createElement("div",{className:eE.cx.ml14.minW0.flex.flexColumn.itemSelfCenter.$},el.createElement("button",{className:"drafts_to_move_page_view--fileName--y1jUQ",onClick:c(l)},gd.Tf.getName(l)),e.shouldDisplayFileDates&&el.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--yes97"},el.createElement("span",{className:Fo},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.file_created_at_label",timeDifference:el.createElement(lI.h1,{date:gd.Tf.getCreatedAt(l)})})),el.createElement("span",{className:Fo},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.file_last_modified_at_label",timeDifference:el.createElement(lI.h1,{date:gd.Tf.getTouchedAt(l)??""})})))))}function Ff({currentFileTransferState:e}){let t="dark"===(0,LS.DP)(),a=e=>el.createElement(el.Fragment,null,el.createElement(t7.kt,{size:"large"}),el.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--FlLdd"},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.file_transfer_header",transferType:"ASYNC_FILE_MIGRATION"===e?el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.file_transfer_migration_type"}):el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.file_transfer_deletion_type"})})),el.createElement("p",null,el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.file_transfer_description"}))),r=()=>el.createElement("div",{className:"drafts_to_move_page_view--slideIn--jxSZ5"},el.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--De-kh"},el.createElement(Fi.Gv,{src:t?"https://static.figma.com/uploads/c9f2d8cbce5754a2b6e3e3e81adf5fe313429577":"https://static.figma.com/uploads/6212099329ba7714b869112a09f8dfffce71edf5",containerClassName:"drafts_to_move_page_view--allDoneGif--b3rbb",height:100,width:100}),el.createElement("p",{className:Fm},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.empty_header"})),el.createElement("p",null,el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.empty_body_text"})))),n=()=>el.createElement(t7.kt,{size:"large"});return el.createElement("div",{className:Fd},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return a(e);case"TRANSFER_COMPLETED":return r();default:return n()}})())}function Fh(){let e=(0,ei.wA)(),t=(0,ei.d4)(e=>{var t;return null==(t=e.user)?void 0:t.personal_drafts_folder_id}),a=(0,ei.d4)(e=>e.fileKeysByFolderId),r=(0,ei.d4)(e=>e.fileKeysByRepoId),n=(0,ei.d4)(e=>e.repoIdsByFolderId),l=(0,ei.d4)(e=>e.repos),i=(0,ei.d4)(e=>e.fileByKey),s=(0,ei.d4)(e=>e.selectedView),o=(0,ei.d4)(e=>e.selectedBranchKeyByRepoId),c=(0,ei.d4)(e=>e.userFlags),d=c.personal_draft_migration_scheduled,m=c.personal_draft_migration_completed,u=c.personal_draft_deletion_scheduled,_=c.personal_draft_deletion_completed,p=(0,ei.d4)(e=>e.loadedFolders),g=(0,ei.d4)(e=>e.deletedFilesByKey),E=(0,ei.d4)(e=>e.deletedReposById),{windowInnerWidth:f}=(0,wl.l)(),h=(0,aX.Rs)(a9.vXh,{}),v=(0,aX.Rs)(a9.Jzf,{projectId:t??""}),b=(0,Re.v)(),[y,w]=el.useState("draft-files"),[T,x]=el.useState(!1),[C,N]=el.useState("NONE"),[k,S]=el.useState(!1);el.useEffect(()=>{d&&(0,g9.rO)(d.updatedAt,null==m?void 0:m.updatedAt)?N("ASYNC_FILE_MIGRATION"):u&&(0,g9.rO)(u.updatedAt,null==_?void 0:_.updatedAt)?N("ASYNC_FILE_DELETION "):k?N("SYNCHRONOUS_DELETION_OR_MIGRATION"):N("NONE")},[d,m,u,_,k]),el.useEffect(()=>{e(sq.h3({orgId:null}))},[e]);let I="loaded"===h.status,A=el.useMemo(()=>{var e,t;if(!I)return[];let a=[];return(null==(t=null==(e=h.data)?void 0:e.currentUser)?void 0:t.draftsFolderId)&&a.push(h.data.currentUser.draftsFolderId),a},[I,h]),L=el.useMemo(()=>{var e,t,a,r;return(null==(t=null==(e=v.data)?void 0:e.project)?void 0:t.status)!==uR.tT.Loaded?new Set:new Set(((null==(r=null==(a=v.data)?void 0:a.project.data)?void 0:r.undeletedFilesHighLimit)??[]).map(e=>e.key))},[v]),R=el.useMemo(()=>{var e,t,a,r;if((null==(t=null==(e=v.data)?void 0:e.project)?void 0:t.status)!==uR.tT.Loaded)return new Set;let n=new Set;return((null==(r=null==(a=v.data)?void 0:a.project.data)?void 0:r.undeletedFilesHighLimit)??[]).forEach(e=>{e.fileRepoId&&n.add(e.fileRepoId)}),n},[v]),O=el.useCallback(e=>L.has(e),[L]),D=el.useCallback(e=>R.has(e),[R]);el.useEffect(()=>A.forEach(t=>I&&e((0,_F.jl)({folderId:t,loadedFolders:p}))),[p,A,e,I]);let F=I&&A.every(e=>e&&"loaded"===p[e]),M=el.useMemo(()=>Object.keys(g).map(e=>g[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&O(e.key)),[g,t,O]),P=el.useMemo(()=>Object.keys(E).map(e=>E[e]).filter(e=>e.main_file.folder_id===t&&D(e.repo.id)),[E,t,D]),B=el.useMemo(()=>A.flatMap(e=>n[e]).map(e=>l[e]).filter(e=>!!e&&D(e.id)),[A,l,n,D]),U=el.useMemo(()=>A.flatMap(e=>a[e]).map(e=>i[e]).filter(e=>!!e&&O(e.key)),[A,i,a,O]);el.useEffect(()=>{F&&0===U.length&&0===B.length&&w("deleted-draft-files")},[F,U.length,B.length]);let W=el.useMemo(()=>U.concat(M).map(e=>({type:gd.nb.FILE,file:e})),[U,M]),V="deleted-draft-files"===y?M:U,G=el.useMemo(()=>V.map(e=>({type:gd.nb.FILE,file:e})),[V]),$=el.useMemo(()=>B.map(e=>{let t=r[e.id].map(e=>i[e]).filter(e=>!!e);return{type:gd.nb.REPO,repo:e,branches:t,selectedBranchKey:o[e.id]}}),[B,o,i,r]),j=el.useMemo(()=>P.map(e=>({type:gd.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key})),[P]),H=j.concat($),q=G.concat("deleted-draft-files"===y?j:$),Y=W.length>0||H.length>0,z=q.length>0,[K,J]=el.useState([]),Q=()=>{e(t3.Ce()),x(!1)},Z=(t,a)=>{e(a0.F.enqueue({message:(0,e2.t)("visual_bell.files_moved_to_folder",{fileCount:a,folderName:t})})),S(!1),J([])},X=()=>{S(!1),J([])},ee=e=>{let t=[],a=[];return e.forEach(e=>{e.type===gd.nb.FILE&&t.push(e.file),e.type===gd.nb.REPO&&a.push(e.repo)}),{draftsToMove:t,reposToMove:a}},et=t=>{let{draftsToMove:a,reposToMove:r}=ee(K);x(!0),e(t3.to({type:D4,data:{isPermanentDeletion:t,draftsToDelete:a,reposToDelete:r,deleteAllDraftsAsync:K.length>100,setSynchronousFileTransferInProgress:S,onDeleteSuccess:X,onClose:Q}}))},ea=()=>{let{draftsToMove:t,reposToMove:a}=ee(K);x(!0),e(t3.to({type:Fa,data:{draftsToMove:t,reposToMove:a,moveAllDraftsAsync:K.length>100,onMoveSuccess:Z,onClose:Q,setSynchronousFileTransferInProgress:S}}))},er=function(e,t,a,r){let n=r>=1200,l=[{name:(0,e2.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--BD6M4 drafts_to_move_page_view--column--ZQepb table--column--974RA",getSortValue:e=>gd.Tf.getName(e),cellComponent:e=>el.createElement(FE,{item:e,shouldDisplayFileDates:!n})}];return n&&l.push({name:(0,e2.t)("file_browser.drafts_to_move.table_header_last_modified"),className:Fc,getSortValue:e=>gd.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=gd.Tf.getTouchedAt(e);return t?el.createElement(lI.h1,{date:t}):""}},{name:(0,e2.t)("file_browser.drafts_to_move.table_header_created"),className:Fc,getSortValue:e=>gd.Tf.getCreatedAt(e),cellComponent:e=>el.createElement(lI.h1,{date:gd.Tf.getCreatedAt(e)})}),l.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--3-geg drafts_to_move_page_view--column--ZQepb table--column--974RA",cellComponent:r=>0===a?el.createElement(el.Fragment,null,el.createElement(eT.tM,{className:ey()("drafts_to_move_page_view--openDraftButton--ly3lx",eE.cx.if(!!gd.Tf.getTrashedAt(r),eE.cx.invisible).$),onClick:e=>t(e,r)},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.open_draft_button"})),el.createElement(eT.tM,{className:"drafts_to_move_page_view--moveDraftButton--4LqqD",onClick:t=>e(t,r)},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.move_draft_button"}))):el.createElement(el.Fragment,null)}),l}((t,a)=>{let{draftsToMove:r,reposToMove:n}=ee([a]);e(t3.to({type:Fa,data:{draftsToMove:r,reposToMove:n,onMoveSuccess:Z,onClose:Q,setSynchronousFileTransferInProgress:S}})),t.stopPropagation()},(t,a)=>{RG({tile:a,index:0,dispatch:e,selectedView:s}),b(a,t),t.stopPropagation()},K.length,f),[en,es,eo]=(0,fq.z)({columnName:"name",isReversed:!1},q,er),ec=el.createElement("div",{className:Fd},el.createElement("span",{className:Fm},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.empty_header"})),el.createElement("span",null,el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.empty_content_description",tab:el.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--Ugp5u",onClick:()=>w("draft-files"===y?"deleted-draft-files":"draft-files")},"draft-files"===y?(0,e2.t)("file_browser.drafts_to_move.deleted_drafts"):(0,e2.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==C)return el.createElement(Ff,{currentFileTransferState:C});let ed=K.length<=0||K.length>100,eu="deleted-draft-files"===y||!(0,em.kc)().ps_trashed_drafts_enabled,e_=el.createElement(po.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--OOOaP",loadingElementId:"loading-content-pane",loaded:F},z?el.createElement(el.Fragment,null,el.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--tLSsD"},el.createElement(u$.Cj,{selectAllDisabled:eo.length>100,items:eo,columns:er,actionBarClassName:ey()("drafts_to_move_page_view--actionBar--TG5Rc",{"drafts_to_move_page_view--actionBarHidden--avoi-":T}),getItemKey:e=>gd.Tf.getFileKey(e)??"",minContentWidth:728,actionBar:e=>el.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--hdDze"},!ed&&el.createElement(eT.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--5lOW1",onClick:()=>et(eu)},eu?el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.bulk_delete_drafts_button"}):el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.bulk_trash_drafts_button"})),el.createElement(eT.vd,{className:"drafts_to_move_page_view--moveDraftsButton---AGWm",disabled:ed,onClick:ea},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.bulk_move_drafts_button",numSelected:K.length}))),emptyContent:"",onSelectedItemsChange:J,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,e2.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},isLoading:!Fs.s1,sortState:en,onSetSortState:es,shouldRoundBordersForSelectedRows:!0,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--sUqHh",header:"drafts_to_move_page_view--header--ZUjyY",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--9p9z3",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--P7CXQ"},scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--1fyPB",rowHeightOverride:Fu}))):Y?ec:el.createElement(Ff,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,e8.T8)(el.createElement(uw.r,{content:e_,viewbar:Y&&el.createElement(el.Fragment,null,el.createElement("div",{className:"drafts_to_move_page_view--viewbar--M3i1n"},el.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--Q2lBr"},el.createElement(_n.EG,{className:"drafts_to_move_page_view--yellowIcon--dyZ0F"}),el.createElement("div",null,el.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--xz8J7"},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.viewbar_heading"})),el.createElement("ul",{className:"drafts_to_move_page_view--viewbarDescription--UMuY-"},el.createElement("li",null,el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.move_drafts_below"})),el.createElement("li",null,el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.drafts_for_personal_work"})),el.createElement("li",null,el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.access_to_drafts"}))),el.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--pgDjN"},el.createElement(eT.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--kVs-g",onClick:()=>{x(!0),e(t3.to({type:Fa,data:{reposToMove:H.map(e=>e.repo),draftsToMove:W.map(e=>e.file),onMoveSuccess:Z,isMoveAll:!0,moveAllDraftsAsync:W.length>100,onClose:Q,setSynchronousFileTransferInProgress:S}}))}},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.move_all_drafts_button"})),el.createElement(eT.NY,{className:"drafts_to_move_page_view--learnMoreButton--KWGHS drafts_to_move_page_view--moveAllDraftsButton--kVs-g",href:"https://help.figma.com/hc/articles/18409526530967",target:"_blank"},el.createElement(e2.Tx,{id:"file_browser.drafts_to_move.viewbar_learn_more_link"})))))),el.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--B45K9"},el.createElement(Fg,{selectedTab:y,setSelectedTab:w})))}),t6.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:y})}var Fv=a(391388),Fb=a(543312),Fy=a(66154),Fw=a(573821);let FT="seen_pro_onboarding_unlimited_files_overlay",Fx=(0,aj.r1)(FT);function FC({teamId:e,canCreateFigjamBoard:t}){var a;let r=(0,eU.md)(Fx),n=(0,eU.md)(Fb.e),l=null==(a=(0,ei.d4)(e=>e.userTeamFlags)[e])?void 0:a[Fw.UA],i=(0,oz.kO)(),{show:s,isShowing:o,complete:c}=(0,a$.e)({overlay:aJ.jVB,priority:aH.N.DEFAULT_MODAL,experiment:{check:i,predicate:e=>e,postCheck:e=>!e}},[r,n]);return((0,ed.h)(()=>{l&&s({canShow:(t,a)=>a.some(t=>t.id===e)})}),o)?el.createElement(aY.M,{isShowing:o,userFlagOnShow:FT},el.createElement(e8.fu,{name:mf.S.getTooltipTrackingContext("Unlimited Files"),properties:mf.S.getTrackingProperties(e)},el.createElement(Fy.yG,{dismissModal:c,canCreateFigjamBoard:t}))):null}function FN(e){var t,a;let{selectedView:r,userFlags:n,userTeamFlags:l,userEduVerified:i,loadedFolders:s,isFreeUser:o,userAnalyticsData:c,...d}=(0,Rc.R)(e=>{var t;return{selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!(null==(t=e.user)?void 0:t.student_validated_at),loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,sQ.getPermissionsState)(e)}}),m=(0,ei.wA)(),u=(0,aX.Rs)(a9.UpR,{}),{teamId:_,selectedTab:p}=e,g=d.teams[_],E=!!(null==g?void 0:g.org_id),f=!!(null==g?void 0:g.subscription),h=_&&(0,sQ.canAdminTeam)(_,d);(0,el.useEffect)(()=>{(0,em.kc)().requires_action_3ds_banner&&_&&!E&&f&&h&&m(ks.Be({teamId:_}))},[m,_,E,f,h]);let v=(0,ei.d4)(e=>{var t;return null==(t=e.teamBilling)?void 0:t.summary}),b=DG(lm.vt.TEAM,g,_,{selectedView:r,userFlags:n,userTeamFlags:l,selectedTab:p,loadedFolders:s,isFreeUser:o,userAnalyticsData:c,eduPeriodEnd:null==(a=null==(t=u.data)?void 0:t.currentUser)?void 0:a.eduPeriodEnd,billingSummary:v,...d},m);if(!b)return el.createElement("div",null);let y=Dj({resourceType:lm.vt.TEAM,teamId:_},b),w=b.severity===D_.WARN?Dp:"",T=b.bannerClassName||"",x=`${Dx} ${w} ${T}`;return el.createElement("div",{className:x},el.createElement(DA,{...b,tracking:y}))}var Fk=a(106472),FS=a(611047),FI=a(218934);function FA({header:e,onClose:t,rightTextCta:a,tilesContent:r}){return el.createElement("div",{className:"recommendation_banner--container--jBT-5"},el.createElement("div",{className:"recommendation_banner--headerContainer--jXVDL"},el.createElement("div",{className:"recommendation_banner--header--kRx-1 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e),el.createElement("div",{className:"recommendation_banner--headerRight--mLXdu"},el.createElement("div",{className:"recommendation_banner--rightTextCta--f1Kay text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),el.createElement(cg.Jn,{className:"recommendation_banner--closeButton--sXqw1",onClick:t}))),el.createElement("div",{className:"recommendation_banner--tilesContainer--Ls9Wd tiles_view--tilesGrid--JGwjc tiles_view--tiles--mVpCC"},r.map((e,t)=>el.createElement("div",{key:t,className:"recommendation_banner--tile--i7A92"},e))))}let FL=[{featureType:"unlimited_files_and_projects",getTileTitle:()=>(0,e2.t)("team_view.pro_trials.feature_awareness_banner.consumption_limit"),imgSrc:"https://static.figma.com/uploads/7b0a8059eef8715404092dd314a2259303f727ed",gifSrc:"https://static.figma.com/uploads/519c3e21c17f32b5f0180b52d1e0f9ba6b1e6a93",href:"https://help.figma.com/hc/articles/360038006494"},{featureType:FS.qv.COMPONENT_PUBLISHING,getTileTitle:()=>(0,e2.t)("team_view.pro_trials.feature_awareness_banner.component_libraries"),imgSrc:"https://static.figma.com/uploads/597204c016801ba12cab10e9c048b1c6d5807a46",gifSrc:"https://static.figma.com/uploads/948d9b9b25fe5c298216981f3b67871986136b72",href:"https://help.figma.com/hc/articles/360041051154-Guide-to-libraries-in-Figma"},{featureType:FS.qv.PASSWORD_PROTECTION,getTileTitle:()=>(0,e2.t)("team_view.pro_trials.feature_awareness_banner.password_protection"),imgSrc:"https://static.figma.com/uploads/bd1e60801b4b2b5e3d8f85d570d909f8e6aecd46",gifSrc:"https://static.figma.com/uploads/c736fefeffa56ad1fef0e503f3a806a34376a24e",href:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files"},{featureType:FS.qv.OPEN_SESSIONS,getTileTitle:()=>(0,e2.t)("team_view.pro_trials.feature_awareness_banner.collaboration"),imgSrc:"https://static.figma.com/uploads/d718a8c9af11f5689629e016beb629c0a1aded39",gifSrc:"https://static.figma.com/uploads/389ab0b9dcb7f7c2ce3b597b4b7aa8d12a762d79",href:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session"},{featureType:"voting",getTileTitle:()=>(0,e2.t)("team_view.pro_trials.feature_awareness_banner.voting"),imgSrc:"https://static.figma.com/uploads/07061babefc345310003bf470a357f7c1a4f039d",gifSrc:"https://static.figma.com/uploads/15206fd8262e4243eb5b6a466c4227a6f8e700e6",href:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam"},{featureType:FS.qv.AUDIO,getTileTitle:()=>(0,e2.t)("team_view.pro_trials.feature_awareness_banner.audio"),imgSrc:"https://static.figma.com/uploads/d44e0e27103010a5a793e2481a49b37baf284fe9",gifSrc:"https://static.figma.com/uploads/9320e75867473c558394562fe255795e975bac3e",href:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team"}];function FR({teamId:e}){let t=(0,_$.TN)(e),a=(0,ei.wA)(),r=!!(0,Fk.q)({flag:"pro_trials_feature_awareness_banner_dismissed",teamId:e});return!_j.ng.canSeeProTrialUx(t)||r?null:el.createElement(e8.fu,{name:"Pro trials feature awareness banner",properties:_j.ng.getTrackingProperties()},el.createElement("div",{className:"pro_feature_awareness_banner--container--5qxHd"},el.createElement(FA,{header:el.createElement(e2.Tx,{id:"team_view.pro_trials.feature_awareness_banner.title"}),rightTextCta:el.createElement(eT.Ph,{className:"pro_feature_awareness_banner--learnMoreLink--eC4zT text--fontPos11--2LvXf text--_fontBase--QdLsd",trusted:!0,href:"https://www.figma.com/professional/",target:"_blank"},el.createElement(e2.Tx,{id:"team_view.pro_trials.feature_awareness_banner.learn_more"})),onClose:()=>{a(DL.bE({all_team_flags:[{team_id:e,flags:{pro_trials_feature_awareness_banner_dismissed:!0}}]}))},tilesContent:FL.map(({getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n},l)=>el.createElement(FO,{key:l,getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n}))})))}function FO({getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n}){let[l,i]=(0,el.useState)(!1);return el.createElement("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},el.createElement(FI.zq,{image:el.createElement("div",{className:"pro_feature_awareness_banner--imageContainer--S9gtC pro_feature_awareness_banner--base_cardImageContainer--mWhdn pro_feature_awareness_banner--_hasBorder--3MWsn"},el.createElement("div",{className:"pro_feature_awareness_banner--imageAspectRatio--iVQ44"}),el.createElement("div",{className:"pro_feature_awareness_banner--imageWrapper--CW6Sp"},el.createElement(eT.Ph,{trusted:!0,target:"_blank",href:r,trackingProperties:{featureType:n}},el.createElement(nL.Ho,{image:l?a:t,isSet:!0,isWhiteboard:!1,hubFileId:void 0,alt:e(),includeChromiumDownscalingFix:!0})))),bottomRow:el.createElement("div",{className:"pro_feature_awareness_banner--tileTitle--vGojT text--fontPos13--xW8hS text--_fontBase--QdLsd"},e())}))}var FD=a(560945),FF=a(522739),FM=a(701707),FP=a(384162),FB=a(178323),FU=a(887811),FW=a(106112),FV=a(27928),FG=a(583765),F$=a(67048),Fj=a(873327),FH=a(40092);a(487107);var Fq=a(315944);a(674858);let FY="templates_bar--seeMoreIcon--z8QbG",Fz="templates_bar--seeMoreTitle--zCP8Q text--fontPos13--xW8hS text--_fontBase--QdLsd";var FK=a(98015);function FJ(e){let t=(0,ei.wA)(),a=(0,aN.iZ)(),r=(0,FU.vD)(a),n=(0,FU.Qk)(!1,r),l=(0,t8.oh)(n),i=(0,t8.mC)(n),s=!!(0,em.kc)().figjam_hybrid_shelf,o=FU.NV.has(r)?r:aI.iF.ALL;el.useEffect(()=>{if(!l&&!i)return null!==o?t(FP.Dw({shelfType:aI.cS.FILE_BROWSER_TEMPLATES_BAR,filterLabel:o})):t(FP.sz({shelfType:aI.cS.FILE_BROWSER_TEMPLATES_BAR}))},[l,i,t,r,o]);let c=(0,ei.d4)(e=>e.communityHub.shelves[aI.cS.FILE_BROWSER_TEMPLATES_BAR]||[]),d=el.useMemo(()=>{let e=new Map;return c.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[c]),m=el.useCallback(e=>{if(!s||"All"!==e)return null;switch(o){case"ENG":return(0,e2.t)("file_browser.hybrid_templates_shelf.for_eng");case"MKT":return(0,e2.t)("file_browser.hybrid_templates_shelf.for_mkt");case"UR":return(0,e2.t)("file_browser.hybrid_templates_shelf.for_ur");case"PM":return(0,e2.t)("file_browser.hybrid_templates_shelf.for_pm");case"DES":return(0,e2.t)("file_browser.hybrid_templates_shelf.for_des");default:return null}},[s,o]),u=el.useMemo(()=>{let e=[];return c.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title,modifiedTabTitle:m(t.title)})}),e},[c,m]);return e.isShowing&&0!==u.length?el.createElement(e8.fu,{name:"topbar_templates_shown"},el.createElement("div",{className:"templates_bar--container--4CkSW"},el.createElement(FQ,{tabNameToTemplatesMap:d,folderId:e.folderId,onClose:e.onClose,tabList:u,newFileFrom:e.newFileFrom,normJobPrefix:r,team:e.team}))):null}function FQ(e){let[t,a]=el.useState(e.tabList[0]),[r,n]=el.useState(e.tabNameToTemplatesMap.get(t.tabKey)??[]),[l,i]=el.useState(null),{sizeRef:s,numTemplates:o,templateWidth:c,templateHeight:d}=function(e){let t=(0,el.useRef)(null),[a,r]=(0,el.useState)(0),n=a-48;(0,el.useLayoutEffect)(()=>{var e;r((null==(e=null==t?void 0:t.current)?void 0:e.offsetWidth)??0)},[r,t]),(0,FD.w)(t,e=>{r(e.width)});let l=(0,el.useMemo)(()=>n?Math.min(Math.floor((n+12)/183)-1,e):0,[n,e]),i=l&&n?Math.floor((n-12*l)/(l+1)):0;return{sizeRef:t,numTemplates:l,templateWidth:i,templateHeight:i?Math.floor(124*i/171):0}}((null==r?void 0:r.length)??0),m=!!(0,em.kc)().figjam_hybrid_shelf;el.useEffect(()=>{if(!e.tabList||0===e.tabList.length)return;let t=e.tabList[0];a(t),n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[e.tabList,e.tabNameToTemplatesMap]),el.useEffect(()=>{n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[t,e.tabNameToTemplatesMap]);let u=el.createElement(F2,{tabs:e.tabList,activeTab:t,setActiveTab:a,hasHybridShelf:m});return el.createElement(el.Fragment,null,el.createElement("div",{className:ey()("templates_bar--headerContainer--gyRwu",{"templates_bar--headerContainerRegular--l1QRi":!m,"templates_bar--headerContainerHybrid--UW-Fw":m})},!m&&el.createElement("div",{className:"templates_bar--headerLeft--Tn2Qa"},el.createElement(FX,null),el.createElement(F0,{normJobPrefix:e.normJobPrefix})),el.createElement("div",{className:m?"templates_bar--headerTabs--Zr9ok":"templates_bar--headerCenter--HcFAW"},m&&el.createElement("div",{className:eE.cx.mr8.mt1.$},el.createElement(FH.K7,null)),u),el.createElement("div",{className:m?"templates_bar--headerRight--A1wCT":"templates_bar--headerRightOld--WmVBv"},el.createElement(cg.Jn,{className:"templates_bar--closeButton--L8Jev templates_bar--headerIcon--mb0fo",onClick:e.onClose}))),m&&el.createElement(F3,{folderId:e.folderId,team:e.team,newFileFrom:e.newFileFrom}),el.createElement("div",{className:"templates_bar--body--Ll31S",ref:s},el.createElement("div",{className:"templates_bar--tilesContainer--3nB55"},null==r?void 0:r.slice(0,o??0).map((a,r)=>el.createElement("div",{key:a.id,style:{width:c,height:d,marginRight:12}},el.createElement(F1,{hubFile:a,rank:r,folderId:e.folderId,tab:t,duplicatingHubId:l,setDuplicatingHubId:i,newFileFrom:e.newFileFrom})))),el.createElement(FZ,{activeTab:t,width:c,height:d})))}function FZ(e){var t;let a=(0,ei.wA)(),r=(t=e.activeTab.tabTitle,el.useMemo(()=>{switch(t){case"Brainstorm":let e="https://static.figma.com/uploads/1b49485e3b8b3a7e8a6f8099d37025abf445eaa9";return{color:"#FFBDF2",bgColor:"#FFF5FD",src:e,srcSet:`https://static.figma.com/uploads/17a263251c06e92c17ebcf534106f46de670f126, ${e} 2x`};case"All":let a="https://static.figma.com/uploads/f48b345384c95e6becd8f0afd653da77516f3754";return{color:"#80CAFF",bgColor:"#D5EAFA",src:a,srcSet:`https://static.figma.com/uploads/4fb27f103e1c26fd5018968f50d4de3ffc525981, ${a} 2x`};case"Diagram":let r="https://static.figma.com/uploads/fb96122b14ed3ae9c4f99858e53f198e4519881d";return{color:"#FFD966",bgColor:"#FFECB4",src:r,srcSet:`https://static.figma.com/uploads/b7d203490b07b0cc0996a32539727dd689542562, ${r} 2x`};case"Meetings":let n="https://static.figma.com/uploads/5bd4f8be4b68b3406a4efc955452d597843fe395";return{color:"#FF8311",bgColor:"#F9CA9F",src:n,srcSet:`https://static.figma.com/uploads/7919f8b041bc650fc00a468edb5639ca277fce09, ${n} 2x`};case"Planning":let l="https://static.figma.com/uploads/a5b7b70525c9fd5b075019212a36a4c85f296f0c";return{color:"#DA9DFF",bgColor:"#EBCAFF",src:l,srcSet:`https://static.figma.com/uploads/5df93072bc6c4eff89a96011b823515116dd80f2, ${l} 2x`};default:return null}},[t]));return r?el.createElement("div",{className:"templates_bar--seeMoreContainer--RSV72"},el.createElement("button",{className:"templates_bar--seeMore--ZTqIJ",style:{backgroundColor:r.bgColor,width:e.width,height:e.height},onClick:()=>{(0,a6.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_see_more_clicked"),(0,FV.KF)(a,{templateInsertionLocation:ak.RD.NEW_FILE,triggeredFrom:"templatesShelfSeeMore",initiallySelectedCategoryTitle:e.activeTab.tabTitle})}},el.createElement("div",{className:ey()({"templates_bar--seeMoreImageWrapper--O7D4Y":!0,"templates_bar--seeMoreImageDiagrammingWrapper--1NuRi":"Diagram"===e.activeTab.tabTitle})},el.createElement("img",{className:"templates_bar--seeMoreImage--Awtac",srcSet:r.srcSet,src:r.src,alt:`See all ${e.activeTab.tabTitle} templates`})),el.createElement("div",{className:"templates_bar--seeMoreSwoopWrapper--RYmj8",style:{width:e.width,height:e.height}},el.createElement("svg",{className:"templates_bar--seeMoreSwoop--Jf9z-",viewBox:"0 0 171 83",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("g",null,el.createElement("path",{d:"M171 31.852C156.81 34.3516 142.025 35.6728 126.834 35.6728C78.3913 35.6728 34.0786 22.236 0 0V83H171V31.852Z",fill:r.color})))),el.createElement("div",{"data-preferred-theme":"light",className:"templates_bar--seeMoreContent--W-RMv"},"All"===e.activeTab.tabTitle?el.createElement("div",{className:Fz},el.createElement(e2.Tx,{id:"file_browser.templates_shelf.see_all"}),el.createElement(eC.B,{className:FY,svg:wd.A})):el.createElement(el.Fragment,null,el.createElement("div",{className:Fz},e.activeTab.modifiedTabTitle??e.activeTab.tabTitle),el.createElement("div",{className:"templates_bar--seeMorePrompt--LBBME text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.templates_shelf.see_more"}),el.createElement(eC.B,{className:FY,svg:wd.A})))))):null}function FX(){return el.createElement("svg",{className:"templates_bar--headerIconLeft--H66tS",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},el.createElement("path",{d:"M0.997498 3.32344C0.997498 2.22161 1.89071 1.3284 2.99254 1.3284H12.9678C14.0696 1.3284 14.9628 2.22161 14.9628 3.32344V13.2987C14.9628 14.4005 14.0696 15.2937 12.9678 15.2937H2.99254C1.89071 15.2937 0.997498 14.4005 0.997498 13.2987V3.32344Z",fill:"#9747FF"}),el.createElement("mask",{id:"path-2-inside-1_1042_9371",fill:"white"},el.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99255 4.32095H12.9678V12.3011H2.99255V4.32095ZM3.99007 5.31847H11.9702V7.31355H3.99007V5.31847ZM11.9702 8.31107H6.98264V11.3036H11.9702V8.31107ZM5.98512 11.3036H3.99007V8.31107H5.98512V11.3036Z"})),el.createElement("path",{d:"M3.99007 5.31847V4.32095H2.99255V5.31847H3.99007ZM11.9702 5.31847H12.9678V4.32095H11.9702V5.31847ZM11.9702 7.31355V8.31107H12.9678V7.31355H11.9702ZM3.99007 7.31355H2.99255V8.31107H3.99007V7.31355ZM2.99255 4.32095V3.32343H1.99503V4.32095H2.99255ZM12.9678 4.32095H13.9653V3.32343H12.9678V4.32095ZM12.9678 12.3011V13.2986H13.9653V12.3011H12.9678ZM2.99255 12.3011H1.99503V13.2986H2.99255V12.3011ZM11.9702 8.31107H12.9678V7.31355H11.9702V8.31107ZM6.98264 8.31107V7.31355H5.98512V8.31107H6.98264ZM6.98264 11.3036H5.98512V12.3011H6.98264V11.3036ZM11.9702 11.3036V12.3011H12.9678V11.3036H11.9702ZM5.98512 11.3036V12.3011H6.98264V11.3036H5.98512ZM3.99007 11.3036H2.99255V12.3011H3.99007V11.3036ZM3.99007 8.31107V7.31355H2.99255V8.31107H3.99007ZM5.98512 8.31107H6.98264V7.31355H5.98512V8.31107ZM3.99007 6.316H11.9702V4.32095H3.99007V6.316ZM10.9727 5.31847V7.31355H12.9678V5.31847H10.9727ZM4.9876 7.31355V5.31847H2.99255V7.31355H4.9876ZM11.9702 7.31355H6.98264V9.30859H11.9702V7.31355ZM5.98512 8.31107V11.3036H7.98016V8.31107H5.98512ZM6.98264 12.3011H11.9702V10.3061H6.98264V12.3011ZM12.9678 11.3036V8.31107H10.9727V11.3036H12.9678ZM5.98512 10.3061H3.99007V12.3011H5.98512V10.3061ZM4.9876 11.3036V8.31107H2.99255V11.3036H4.9876ZM3.99007 9.30859H5.98512V7.31355H3.99007V9.30859ZM4.9876 8.31107V11.3036H6.98264V8.31107H4.9876ZM11.9702 6.31603H3.99007V8.31107H11.9702V6.31603ZM3.99007 12.3011V4.32095H1.99503V12.3011H3.99007ZM2.99255 5.31847H12.9678V3.32343H2.99255V5.31847ZM11.9702 4.32095V12.3011H13.9653V4.32095H11.9702ZM12.9678 11.3036H2.99255V13.2986H12.9678V11.3036Z",fill:"white",mask:"url(#path-2-inside-1_1042_9371)"}))}function F0(e){let[t,a]=(0,FU.sh)(e.normJobPrefix);return el.createElement("div",{className:"templates_bar--headerTitle--m5Vbg text--fontPos13--xW8hS text--_fontBase--QdLsd"},t??el.createElement(e2.Tx,{id:"file_browser.templates_shelf.title"}))}function F1(e){let t=(0,ei.wA)(),a=e.hubFile,r=a.id,n=null!==e.duplicatingHubId,l=e.duplicatingHubId===r,i=a&&(0,ak.a6)(e.hubFile),s=n=>{n.stopPropagation(),e.setDuplicatingHubId(r),t(aw.rL({hubFileId:r,hubFileName:(null==i?void 0:i.name)||"this file",openInNewTab:!1,folderId:e.folderId,source:oC.f6.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,a6.Cu)({fileKey:t,rank:e.rank,templateId:r,productType:a.viewer_mode===lm.y4.WHITEBOARD?"figjam":"design"},"topbar_template_selected"),(0,FB._)("resource_inserted",{fileKey:t,resourceId:r,resourceName:i.name,resourceType:"template",templateType:FW.n.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return a?el.createElement(FI.zq,{containerStyle:"templates_bar--templatesTileContainer--hTKQ-",onClick:n?void 0:s,image:el.createElement(FI.FK,{backgroundColor:(0,l_.Cn)(a.client_meta),removeBorder:!0,className:"templates_bar--templatesTileImage--bDNev",customRatioClassName:"templates_bar--imageRatio--Dr7uR"},el.createElement(FI.zx.Cover,null,el.createElement("button",{className:"templates_bar--hoverOverlay--QIEvX browse_templates_modal--hoverOverlay--sFj3y",onClick:s,disabled:n})),el.createElement(FI.zx.Center,null,el.createElement(cp.$$,{onClick:s,className:"templates_bar--useTemplateButton--CWxra",disabled:n,tabIndex:-1},l?el.createElement(t7.kt,{size:"medium"}):el.createElement(e2.Tx,{id:"file_browser.new_file_creation_topbar.use_templates"}))),el.createElement(nL.Ho,{image:e.overrideThumbnailUrl||a.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!a.thumbnail_is_set,isWhiteboard:a.viewer_mode===lm.y4.WHITEBOARD,hubFileId:a.id,alt:(0,ak.a6)(a).name,imageClassName:"templates_bar--thumbnailImage--DWIMN",resizedThumbnailUrls:a.resized_thumbnail_urls})),bottomRow:el.createElement(FI.Wf.NameMetadata,{name:i.name,className:"templates_bar--tilesBottomRowContainer--SSuN1",textClassName:"templates_bar--tileBottomRowNameOnly--UNxtD text--fontPos13--xW8hS text--_fontBase--QdLsd"}),bottomRowStyle:"templates_bar--bottomRowStyle--ozdyD"}):null}function F2(e){let t=(0,ei.wA)();return el.createElement("div",{className:"templates_bar--tabs--17Jyk text--fontPos13--xW8hS text--_fontBase--QdLsd",style:cs.sx.add({columnGap:e.hasHybridShelf?"14px":"26px"}).$},!e.hasHybridShelf&&el.createElement(FF.GG,{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("file_browser.templates_shelf.search_tooltip"),"aria-label":(0,e2.t)("file_browser.templates_shelf.search_tooltip"),className:"templates_bar--searchButton--WVmXI templates_bar--headerIcon--mb0fo",onClick:()=>{(0,a6.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_search_clicked"),(0,FV.KF)(t,{templateInsertionLocation:ak.RD.NEW_FILE,triggeredFrom:"templatesShelfSearch"})}},el.createElement(n0.In,{icon:"search-32"})),e.tabs.map((t,a)=>el.createElement(F4,{key:t.tabKey,tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab,isTitleTab:e.hasHybridShelf&&0===a})))}function F4(e){return el.createElement(FF.GG,{className:ey()({"templates_bar--tab--qvVIz":!0,"templates_bar--activeTab--N8Kqo":e.isActive,"templates_bar--isTitleTab--2WBmz":e.isTitleTab}),onClick:()=>{(0,a6.Cu)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)}},e.tab.modifiedTabTitle??e.tab.tabTitle)}function F3(e){let[t,a]=(0,el.useState)(""),r=(0,eU.md)(FG.dO).status===Fq.c.LOADING,{onMake:n}=function(e,t,a){let r=(0,ei.wA)(),n=(0,Fj.Bq)(a);return{onMake:(a,l,i)=>{r(oh.zE({state:n,editorType:lm._Y.WHITEBOARD,team:t,from:e,openNewFileIn:(0,_k.oJ)(l)?oC.ai.NEW_TAB:oC.ai.SAME_TAB,figjamAiNewFileData:{prompt:i?`${i.title} ${i.subtitle}`:a,useCaseCategory:null==i?void 0:i.useCaseCategory,subtitle:null==i?void 0:i.subtitle,entrypoint:TX.fV.TEMPLATE_SHELF}}))}}}(e.newFileFrom,e.team,e.folderId);return el.createElement("div",{className:eE.cx.ml24.mr24.flex.flexRow.justifyCenter.$,style:cs.sx.add({width:"calc(100% - 48px)"}).$},el.createElement("div",{className:eE.cx.flex.itemsCenter.colorBg.b1.colorBorder.wFull.$,style:cs.sx.add({maxWidth:"800px",borderRadius:"12px"}).$},el.createElement("div",{className:eE.cx.ml12.font14.colorTextSecondary.flex.itemsCenter.gap8.$},el.createElement(eC.B,{svg:FK.A,style:cs.sx.add({fill:"currentColor"}).$}),el.createElement(F$.G,{location:"FILE_BROWSER_BAR"})),el.createElement("input",{className:ey()(eE.cx.flex1.px16.py12.h24.bgTransparent.font13.lh24.$,"templates_bar--input--uuFTa"),placeholder:(0,e2.t)("whiteboard.ai_onboarding.file_browser.placeholder"),value:t,onChange:e=>a(e.target.value),disabled:r,onKeyDown:e=>{t.length>0&&(0,_k.Fo)(e)&&"Enter"===e.key&&(e.preventDefault(),n(t))}}),el.createElement("div",{className:ey()(eE.cx.mr8.$,"templates_bar--figjamButton--htw2N")},el.createElement(FM.$n,{variant:"primary",disabled:0===t.length||r,onClick:e=>n(t,e)},el.createElement("div",{className:eE.cx.flex.itemsCenter.gap8.$},el.createElement(e2.Tx,{id:"file_browser.hybrid_templates_shelf.generate_button"}))))))}function F8(e){let t=e.team&&(0,h9.D)(e.team.id,e.team.org_id),a=(0,aX.Rs)(a9.d3q,{projectId:e.folderId||"0"}),r=el.useMemo(()=>{if(a&&"loaded"===a.status&&a.data)return(0,aX.oA)(a.data.project)},[a]),n=(0,ow.gj)(e.folderId||null,lm._Y.WHITEBOARD),l=(0,ow.gj)(e.folderId||null,lm._Y.DESIGN),i=t&&r?(0,aX.oA)(r.canCreateFigjamFile)&&(0,aX.oA)(r.canEdit):n,s=t&&r?(0,aX.oA)(r.canCreateDesignFile)&&(0,aX.oA)(r.canEdit):l,o=(0,aN.TA)(),c=e.team&&_j.ng.getProTrialStatus(e.team)===DR.a.IN_TRIAL,{recommendedTemplatesIsOpen:d,toggleRecommendedTemplates:m}=e,u=el.useCallback(()=>{m(),(0,a6.Cu)({userId:o,opening:!d},"topbar_recommended_templates_toggled")},[d,o,m]),_=!c&&!e.disableRecommendedTemplates&&i;return!e_.Ay.mobile&&(s||i)?el.createElement(el.Fragment,null,_&&el.createElement(FJ,{isShowing:e.recommendedTemplatesIsOpen,onClose:u,folderId:e.folderId,newFileFrom:e.newFileFrom,team:e.team}),c&&el.createElement(FR,{teamId:e.team.id})):null}(0,aj.r1)("dismissed_figjam_ai_file_browser_bar"),F8.displayName="NewFileCreationTopbar";var F5=a(433011);function F6(e){let[t,a]=el.useState(!1),[r]=el.useState(()=>new F5.W),{isSelected:n,selectPinnedFile:l,file:i,index:s,openFile:o}=e,c=el.useCallback(e=>{t?(n&&l(i.file,e),o(i.file,e,s)):(l(i.file,e),r.reset(),r.scheduleOnce(()=>{a(!1)},500),a(!0),e.preventDefault(),e.stopPropagation())},[r,s,n,o,i.file,l,t]);el.useEffect(()=>()=>r.reset(),[r]);let d=e.file.file,m=t?(0,oT.jN)({file:e.file.file}):void 0;return m&&(m=(0,i$.mc)(m,e.user),m=(0,i$.vk)(m,e.currentOrgId,e.currentTeamId,e.selectedView)),el.createElement("a",{className:ey()(Rw.GC,{[Rw.GV]:e.isSelected}),href:m,rel:"noopener",onClick:c,onContextMenu:t=>{e.onFileContextMenu(e.file.file,t,e.index)}},el.createElement("div",{className:Rw.PP},el.createElement(gU.H,{file:{key:d.key,editor_type:d.editorType,client_meta:(0,em.kc)().thumbnail_lg_client_meta?d.checkpointClientMeta||null:d.clientMeta,thumbnail_url:d.thumbnailUrl,thumbnail_url_override:d.thumbnailUrlOverride,thumbnail_guid:d.thumbnailGuid,has_file_link_password:d.hasFileLinkPassword,link_access:d.linkAccess,touched_at:null,updated_at:null},fillContainer:!0})),el.createElement("div",{className:Rw.q6},el.createElement("div",{className:Rw.z6},el.createElement(oK.E,{fontSize:13,fontWeight:"medium",truncate:!0},d.name)),el.createElement("div",{className:Rw.h7},e.file.pinnedByUser?el.createElement(oK.E,{i18nId:"tile.file_tile.pinned_by_user",i18nParams:{name:e.file.pinnedByUser.name},fontSize:11,fontWeight:"regular",truncate:!0}):el.createElement(oK.E,{i18nId:"tile.file_tile.pinned_just_now",fontSize:11,fontWeight:"regular",truncate:!0}))))}function F9(e){let t=el.useRef(null),a=el.useRef(null),r=el.useRef(null),n=el.useRef(null),l=el.useRef(null),{selectedView:i,tileSelect:s,fileByKey:o,currentOrgId:c,currentTeamId:d,user:m}=(0,Rc.R)(e=>({selectedView:e.selectedView,tileSelect:e.tileSelect,fileByKey:e.fileByKey,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,user:e.user})),u=(0,ei.wA)(),{showing:_,show:p,hide:g,data:E}=(0,Rr.L)(),f=el.useCallback((e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},n={type:gd.nb.PINNED_FILE,file:e},l=t.shiftKey&&t.altKey;if(s&&s[gh.F.PINNED_FILES]){if(s[gh.F.PINNED_FILES][n.file.key]){p({data:{tile:n,targetRect:r,index:a,enableRestore:l}});return}if(t.shiftKey||t.metaKey||t.ctrlKey){u(gs.y$({type:gh.F.PINNED_FILES,tiles:[n]})),p({data:{tile:n,targetRect:r,index:a,enableRestore:l}});return}}t.shiftKey||t.metaKey||t.ctrlKey||u(gs.an()),u(gs.y$({type:gh.F.PINNED_FILES,tiles:[n]})),p({data:{tile:n,targetRect:r,index:a,enableRestore:l}})},[u,p,s]),h=el.useCallback((e,t)=>{if(_){g();return}if(e_.Ay.mobile||e_.Ay.tablet){ec.Ay.redirect((0,oT.jN)({file:e}));return}t.stopPropagation();let a=s&&s[gh.F.PINNED_FILES]&&s[gh.F.PINNED_FILES][e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)a?u(gs.TK({tileKeys:[e.key]})):u(gs.y$({type:gh.F.PINNED_FILES,tiles:[{type:gd.nb.PINNED_FILE,file:e}]}));else{if(a)return;u(gs.an()),u(gs.y$({type:gh.F.PINNED_FILES,tiles:[{type:gd.nb.PINNED_FILE,file:e}]}))}},[u,_,g,s]),v=el.useCallback((e,t)=>{var a,r;eo.eD&&(0,e7.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify(i)}),u(sq.UN({fileKey:e.key,entrypoint:"pinned files"}));let n=e_.Ay.mac?t.metaKey:t.ctrlKey,l=null;if(n&&t.shiftKey?l=eo.aw.FOCAL_TAB:n?l=eo.aw.BACKGROUND_TAB:t.shiftKey&&(l=eo.aw.NEW_WINDOW),null!=l){u(aC.oB()),eo.eD&&(t.preventDefault(),t.stopPropagation(),eo.eD.openFile({fileKey:e.key,title:e.name||"Untitled",editorType:e.editorType,target:l,isTeamTemplate:e.isTeamTemplate,userId:null==m?void 0:m.id}));return}t.preventDefault(),t.stopPropagation(),u(Ru.p4({planId:c||Rv.P}));let s=i&&("recentsAndSharing"===i.view||"folder"===i.view)?i:void 0,_=(0,em.kc)().ps_benchmark;(0,i$.N7)(c,null==(a=o[e.key])?void 0:a.parent_org_id,d,null==(r=o[e.key])?void 0:r.team_id)?(0,i$.QV)(e.key,m,c,_?d:null,i,e.editorType):u(aC.$T({view:"fullscreen",fileKey:e.key,editorType:(0,ne.wN)(e.editorType),prevSelectedView:s}))},[u,c,d,o,i,m]),b=el.useCallback(()=>{let t=(null==E?void 0:E.tile)??null;return el.createElement(Ra.i,{...e,tile:t,openTile:e=>{(null==t?void 0:t.type)===gd.nb.PINNED_FILE&&(null==t?void 0:t.file)&&v(t.file,e)},dropdownVisible:_})},[_,E,v,e]),y=el.useCallback(e=>{(e.target===t.current||e.target===a.current||e.target===r.current||e.target===l.current||n.current&&n.current.contains(e.target))&&(u(aC.oB()),u(gs.an()))},[u]),w=s[gh.F.PINNED_FILES],T=RP+` ${Rw.dp}`;el.useEffect(()=>{if(e_.Ay.mobile&&e_.Ay.safari&&t.current){let e=t.current.className;window.addEventListener("load",()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)})}},[]);let x=el.useMemo(()=>e.files.map(e=>{var t;return null==(t=e.file)?void 0:t.key}).filter(e=>!!e),[e.files]);return(0,Rl.iu)(x,!!(0,em.kc)().tile_action_dropdown_lg),el.createElement("div",{className:"tiles_view--pinnedContainer--b-AJl",onMouseDown:y,ref:t},el.createElement("div",{className:T,ref:a},el.createElement("div",{ref:r,key:"grid",className:ey()(RM,"tiles_view--tilesGridPinned--KRPsq")},e.files.map((e,t)=>{let a=!!(w&&w[e.file.key]);return el.createElement(F6,{file:e,openFile:v,index:t,onFileContextMenu:f,isSelected:a,selectPinnedFile:h,key:`file-${e.file.key}`,currentOrgId:c,currentTeamId:d,selectedView:i,user:m})}))),b())}function F7(e){return el.createElement("div",{className:ey()("starter_team_overview_item--container--zUiy2",{"starter_team_overview_item--containerDisabled--US4qT":e.disabled,"starter_team_overview_item--containerDefault--tZ7Uf":!e.disabled})},el.createElement(eC.B,{className:"starter_team_overview_item--icon--OpyCt",svg:e.icon}),el.createElement("p",{className:"starter_team_overview_item--text--0KPWH"},e.text))}var Me=a(174726),Mt=a(965821);function Ma({folderId:e}){var t,a,r,n,l,i;let s=(0,aX.Rs)(a9.yU5,{projectId:e});if("loaded"!==s.status)return null;let o=(null==(r=null==(a=null==(t=s.data.project)?void 0:t.team)?void 0:a.teamFileCounts)?void 0:r.designFileCount)??0,c=(null==(i=null==(l=null==(n=s.data.project)?void 0:n.team)?void 0:l.teamFileCounts)?void 0:i.whiteboardFileCount)??0;return el.createElement(el.Fragment,null,el.createElement(F7,{icon:Mt.A,text:(0,e2.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:o,maxFreeFiles:d2.WW})}),el.createElement(F7,{icon:Me.A,text:(0,e2.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:c,maxFreeFiles:d2.WW})}))}function Mr({folderId:e}){return el.createElement("div",{className:"starter_team_overview--container--MAjuS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},el.createElement("div",{className:"starter_team_overview--header--x0fxV text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.folder.starter_team_overview"})),el.createElement("div",{className:"starter_team_overview--detailsWithFigjam--HLbbz"},el.createElement(Ma,{folderId:e})))}function Mn({folder:e}){let t=(0,ei.wA)(),a=el.createElement(eT.tM,{key:"upgrade_button",className:ey()(eE.cx.flex.itemsCenter.justifyCenter.mt8.$,"starter_team_project_upsell_footer--primaryCtaButton--SfjSr basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"),innerText:(0,e2.t)("file_browser.starter_team.view_plans"),onClick:()=>{t((0,t3.to)({type:_V.V,data:{teamId:e.team_id??void 0,upsellSource:d8.b.STARTER_TEAM_PROJECT_FOOTER}}))},trackingProperties:{trackingDescriptor:e3.c.VIEW_PLANS}},el.createElement(e2.Tx,{id:"file_browser.starter_team.view_plans"}));return el.createElement("div",{className:ey()(eE.cx.flex.p32.mt16.mb16.bRadius6.justifyCenter.colorBorder.$,"starter_team_project_upsell_footer--borderStyle--wGL35"),"data-testid":"StarterTeamProjectUpsellFooter"},el.createElement("div",{className:ey()(eE.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_project_upsell_footer--contentWrapper--22mjT")},el.createElement(oK.E,{fontWeight:"semi-bold",fontSize:18,i18nId:"file_browser.starter_folder.ready_for_an_upgrade"}),el.createElement("div",{className:eE.cx.alignCenter.mt8.$},el.createElement(oK.E,{fontSize:13,i18nId:"file_browser.starter_folder.folder_upgrade_info"})),el.createElement(Ma,{folderId:e.id}),a))}let Ml="upgrade_section--sidebarDivider--8emKU",Mi="upgrade_section--teamProUpgrade--3X-un text--fontPos11--2LvXf text--_fontBase--QdLsd",Ms="upgrade_section--upsellDescription--imWwC text--fontPos13--xW8hS text--_fontBase--QdLsd";function Mo({teamId:e}){var t,a;let r=(0,ei.wA)(),n=(0,_$.TN)(e),l=(0,ei.d4)(e=>e),i=l.teams[e],s=!!(0,em.kc)().upgrade_section_lg_perms,o=(0,aX.Rs)(a9.kQI,{id:e},{enabled:s}),c=s?!!(null==(a=null==(t=o.data)?void 0:t.team)?void 0:a.hasPermission):(0,sQ.canEditTeam)(e,l),d=i&&!i.org_id&&!i.subscription&&c,m=_j.ng.canSeeProTrialUx(n),u=(0,o1.hF)(l,l),_=i&&!(0,d2.w5)(i),p=(0,o1.mW)(l,i),g=()=>p&&u===o1.VY.SINGLE_TEAM,E=()=>p&&u===o1.VY.MULTIPLE_TEAMS,f=()=>g()?d8.b.SINGLE_TEAM_EVERGREEN_ORG_UPGRADE_SECTION:E()?d8.b.MULTI_TEAM_EVERGREEN_ORG_UPGRADE_SECTION:m?d8.b.PRO_TRIAL_UPSELL_MODAL:d8.b.UPGRADE_SECTION,h=g()||E(),v=t=>()=>{r((0,t3.to)({type:_V.V,data:{teamId:e,upsellSource:t}}))};return _&&d||h||m?h?el.createElement(e8.fu,{name:f(),properties:{buttonColor:"blue"}},el.createElement("div",{className:Ml}),el.createElement("p",{className:Ms},g()?(0,e2.t)("team_view.upgrade.org_upgrade"):E()?(0,e2.t)("team_view.upgrade.multi_team_org_upgrade"):void 0),el.createElement("div",{className:Mi},el.createElement(eT.vd,{onClick:()=>{u===o1.VY.SINGLE_TEAM&&r((0,t3.to)({type:EQ,data:{upsellSource:d8.b.ORG_UPGRADE_SECTION}})),u===o1.VY.MULTIPLE_TEAMS&&r((0,t3.to)({type:Ej,data:{upsellSource:d8.b.ORG_UPGRADE_SECTION}}))},trackingProperties:{teamId:e,trackingDescriptor:e3.c.UPGRADE,upsellSource:f()}},el.createElement(e2.Tx,{id:"team_view.upgrade.upgrade"})))):m?el.createElement(e8.fu,{name:f(),properties:_j.ng.getTrackingProperties()},el.createElement("div",{className:Ml}),el.createElement("p",{className:"upgrade_section--upsellTitle--jx9FJ text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(oK.E,{i18nId:"team_view.upgrade.pro_trials.title",fontSize:13,fontWeight:"medium"})),el.createElement("p",{className:Ms},el.createElement(oK.E,{i18nId:"team_view.upgrade.pro_trials.description",fontSize:13})),el.createElement("div",{className:Mi},el.createElement(eT.vd,{onClick:v(f()),trackingProperties:{teamId:e,trackingDescriptor:e3.c.UPGRADE_TO_PROFESSIONAL}},el.createElement(e2.Tx,{id:"team_view.upgrade.pro_trials.upgrade_to_professional_cta"})))):el.createElement(e8.fu,{name:f()},el.createElement("div",{className:Ml}),el.createElement("p",{className:Ms},el.createElement(eT.Us,{onClick:v(f()),trackingProperties:{trackingDescriptor:e3.c.UPGRADE_YOUR_TEAM},trusted:!0},el.createElement(e2.Tx,{id:"team_view.upgrade.upgrade_your_team"})),el.createElement(e2.Tx,{id:"team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"}))):null}function Mc(e){let t=e.tiles,{fileTilesByFileKey:a,repoTilesByRepoId:r,prototypeTilesByPrototypeId:n}=el.useMemo(()=>{let e={},a={},r={};return t.forEach(t=>{var n,l,i;if(t)switch(t.type){case gd.nb.FILE:let s=null==(n=t.file)?void 0:n.key;s&&(e[s]=t);break;case gd.nb.REPO:let o=null==(l=t.repo)?void 0:l.id;o&&(a[o]=t);break;case gd.nb.PROTOTYPE:let c=null==(i=t.prototype)?void 0:i.id;c&&(r[c]=t)}}),{fileTilesByFileKey:e,prototypeTilesByPrototypeId:r,repoTilesByRepoId:a}},[t]),{fileKeys:l,repoIds:i,prototypeIds:s}=el.useMemo(()=>({fileKeys:Object.keys(a),prototypeIds:Object.keys(n),repoIds:Object.keys(r)}),[a,n,r]),{isLoaded:o,permsByFileKey:c}=(0,Rl.t5)(l),{isLoaded:d,permsByPrototypeId:m}=(0,Ri.fI)(s),{isLoaded:u,permsByRepoId:_}=(0,Rs.BS)(i);return l.forEach(e=>{a[e].filePerms=c[e]}),s.forEach(e=>{n[e].prototypePerms=m[e]}),i.forEach(e=>{r[e].repoPerms=_[e]}),el.createElement(R0,{tileActions:e.tileActions,sortFilterOptions:e.sortFilterOptions,newFileTile:e.newFileTile,emptyStateText:e.emptyStateText,hideSorter:e.hideSorter,isFolder:e.isFolder,sharedWithYouFilters:e.sharedWithYouFilters,tiles:t,permsByFileKey:c,permsByRepoId:_,permsByPrototypeId:m,useLGPerms:!0,areLGPermsLoaded:o&&d&&u})}var Md=a(290750);class Mm extends el.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(aC.$T({view:"user",userId:t.id,userViewTab:Tv.o.INTERNAL_PROFILE}))}}componentDidMount(){Md.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return el.createElement("div",{className:"contributors--contributors--q3Ycv text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement("div",{className:"contributors--contributorsHeader--74xhE"},el.createElement(e2.Tx,{id:"file_browser.folder.recent_contributors"})),el.createElement(t1.x,{className:"contributors--loading--TWuwa",isLoading:!this.state.contributors},()=>el.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>el.createElement(aa.az,{key:t.user.id,className:"contributors--contributorAvatar--3GcQw",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&el.createElement("div",{className:"contributors--contributorEmpty--A202a text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.folder.people_who_have_edited_this_project_will_appear_here"})))))}}let Mu=(0,ei.Ng)((e,t)=>{let a=e.folders[t.folderId],r=a&&a.team_id?e.teams[a.team_id]:null;return{folderOrg:r&&r.org_id?e.orgById[r.org_id]:null,currentUserId:e.user?e.user.id:null}})(Mm);var M_=a(750293);function Mp(e,t,a,r,n){let l=(0,Fj.Bq)(r),i=(0,ei.wA)(),s=(0,aN.TA)(),o=(0,ei.d4)(e=>{let t=r?e.folders[r]:void 0;return t&&t.team_id?e.teams[t.team_id]:void 0});return(0,el.useCallback)(c=>{i((0,oh.zE)({state:l,editorType:e,team:o,from:t,openNewFileIn:(0,_k.oJ)(c)?oC.ai.NEW_TAB:oC.ai.SAME_TAB,folderId:n?r:void 0,callback:e=>{(0,a6.Cu)({userId:s,fileKey:e},a)}}))},[a,i,e,r,o,n,t,l,s])}var Mg=a(544949),ME=a(410436);let Mf=(0,rr.Ju)(function({folder:e}){let t=(0,ei.wA)();return el.createElement(Tj.c,{initialName:e.name,placeholder:(0,e2.t)("resource_rename_modal.project.placeholder"),submitText:(0,e2.t)("resource_rename_modal.project.submit"),onRename:a=>{t((0,_F.xv)({folderId:e.id,folderName:a})),t((0,_O.TI)())},maxLength:eT.wG})},"FolderRenameModal");var Mh=((K=Mh||{}).FB_PROJECT_VIEWER="fb_project_viewer",K);let Mv=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=function(e){switch(e){case oX.Te.DESIGN:return el.createElement(e2.Tx,{id:"org_upgrade.viewer_upgrade_confirm_title_design"});case oX.Te.WHITEBOARD:return el.createElement(e2.Tx,{id:"org_upgrade.viewer_upgrade_confirm_title_figjam"});default:(0,eh.xb)(e)}}(e.licenseType);return el.createElement(e8.fu,{name:"Confirm Viewer Upgrade Modal",properties:{upgradeReason:e.upgradeReason,teamId:e.teamId,orgId:e.orgId}},el.createElement(lD.XV,{title:a,maxWidth:360,minWidth:360,onClose:()=>{t(t3.Lo())},headerClassName:"confirm_viewer_upgrade_modal--headerRow--h12cH",dataTestId:"confirm_viewer_upgrade_modal"},el.createElement("div",{className:"confirm_viewer_upgrade_modal--contentContainer--h0lhe"},function(e,t){let a=el.createElement(e2.Tx,{id:"org_upgrade.action_text.upgrade_to_paid_seat"});return"fb_project_viewer"===e?t===oX.Te.DESIGN?el.createElement(e2.Tx,{id:"org_upgrade.action_text.create_edit_import_design_files",requestUpgradeInstructions:a}):t===oX.Te.WHITEBOARD?el.createElement(e2.Tx,{id:"org_upgrade.action_text.create_edit_import_figjam_boards",requestUpgradeInstructions:a}):el.createElement(e2.Tx,{id:"org_upgrade.action_text.edit_files",requestUpgradeInstructions:a}):el.createElement(e2.Tx,{id:"org_upgrade.action_text.edit_files",requestUpgradeInstructions:a})}(e.upgradeReason,e.licenseType),el.createElement("div",{className:"confirm_viewer_upgrade_modal--buttonRowRight--3p83I"},el.createElement(cp.vd,{onClick:e.onConfirm,trackingProperties:{trackingDescriptor:e3.c.CONFIRM_VIEWER_UPGRADE}},el.createElement(e2.Tx,{id:"org_upgrade.action_text.upgrade_now"}))))))},"CONFIRM_VIEWER_UPGRADE_MODAL");var Mb=a(731210),My=a(114959),Mw=a(771e3);function MT(e){let t=(0,ei.wA)(),a=el.useRef(null),r=(0,ei.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=ps.findDOMNode(a.current),i=[];return e.canCreateDesignFile&&i.push(el.createElement(dB.W.Option,{key:"new-design-file",children:el.createElement(el.Fragment,null,el.createElement(dE.oS,{className:eE.cx.pr6.$,size:dE.LE.SMALL,type:dE.y1.DESIGN}),el.createElement(e2.Tx,{id:"file_browser.tool_bar.new_design_file"})),onClick:e.onNewDesignFileClick})),e.canCreateWhiteBoardFile&&i.push(el.createElement(dB.W.Option,{key:"new-figjam-board",children:el.createElement(el.Fragment,null,el.createElement(dE.oS,{className:eE.cx.pr6.$,size:dE.LE.SMALL,type:dE.y1.WHITEBOARD}),el.createElement(e2.Tx,{id:"file_browser.tool_bar.new_figjam_board"})),onClick:e.onNewWhiteBoardClick})),el.createElement("button",{className:ey()(eE.cx.flex.itemsCenter.$,"new_file_toolbar_dropdown--newFileDropdown--EMhKI"),ref:a,onClick:a=>{e.dropdownKey&&l&&t(aC.j7({type:e.dropdownKey,data:{targetRect:null==l?void 0:l.getBoundingClientRect()}}))}},el.createElement(eC.B,{svg:Lx.A,className:ey()(eE.cx.pr6.$,"new_file_toolbar_dropdown--svg--i6V7L")}),el.createElement(e2.Tx,{id:"file_browser.tool_bar.new"}),n&&el.createElement(Mw.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},i))}var Mx=a(558011);function MC(e){var t,a,r,n,l,i;let s=(0,ei.wA)(),o=el.useRef(null),c=(0,ei.d4)(({dropdownShown:e})=>e),d=(0,ei.d4)(t=>(0,gM.oq)(e.folder.id,t))??null,m=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),u=(0,pV.S)(),_=(0,d5.Q)({currentOrgId:d,currentTeamId:null}),p=el.useMemo(()=>{if("loaded"===_.status)return(0,_D.T0)(_.data,e.folder.id)},[_,e.folder.id]);if("loaded"!==_.status)return el.createElement("div",{className:eE.cx.flex.itemsCenter.colorIcon.$},el.createElement(eC.B,{svg:nf.A}));let g=(0,_D.gV)(_.data,d),E=e.dropdownKey&&c&&c.type===e.dropdownKey&&c.data&&c.data.targetRect,f=o.current&&(null==(t=null==c?void 0:c.data)?void 0:t.targetRef)===o.current&&(null==c?void 0:c.type)===_z.jU,h=o.current,v=[];return e.folder.canCreateDesignFile&&v.push(el.createElement(dB.W.Option,{key:"import",children:el.createElement(e2.Tx,{id:"file_browser.folder.import"}),onClick:e.onImportClick})),e.folder.canView&&v.push(el.createElement(dB.W.Option,{key:"share",children:el.createElement(e2.Tx,{id:"file_browser.folder.share"}),onClick:e.onShareClick})),e.setFavorite&&(u?v.push(el.createElement(dB.W.Option,{key:"add-to-favorites-section",children:el.createElement("div",{className:eE.cx.flex.justifyBetween.itemsCenter.w150.$},el.createElement(e2.Tx,{id:"favorited_resources.add_to_sidebar"}),el.createElement(eC.B,{svg:Mx.A})),onClick:t=>{t.stopPropagation(),o.current&&s(aC.j7({type:_z.jU,data:{targetRect:h.getBoundingClientRect(),targetRef:h,resourceId:e.folder.id}}))}})):v.push(el.createElement(dB.W.Option,{key:"shaadd-to-favorites-section",children:e.folder.is_subscribed?el.createElement(e2.Tx,{id:"sidebar.remove_from_favorites"}):el.createElement(e2.Tx,{id:"sidebar.add_to_favorites"}),onClick:t=>{t.stopPropagation(),s(_O.ZJ({folderId:e.folder.id,folderName:e.folder.path,teamId:e.folder.team_id,isSubscribed:!e.folder.is_subscribed}))}}))),el.createElement("button",{className:eE.cx.flex.itemsCenter.colorIcon.$,ref:o,onClick:t=>{e.dropdownKey&&h&&s(aC.j7({type:e.dropdownKey,data:{targetRect:null==h?void 0:h.getBoundingClientRect()}}))}},el.createElement(eC.B,{svg:nf.A}),E&&el.createElement(Mw.Cf,{targetRect:c.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},v),f&&el.createElement(gR.t,{updateFavorite:(t,a)=>{(!g||t)&&(e.setFavorite&&e.setFavorite(t,null==p?void 0:p.resource.id,a),t&&a&&(m.delete(a),s(pc.U6({collapsedCustomSections:m})),ge.Fp({type:"topLevel",id:"custom",orgId:d,sectionId:a},!0)))},resourceId:e.folder.id,resourceType:lm.bk.FOLDER,isFavorited:void 0!==p,currentSectionId:(null==p?void 0:p.resource.sidebarSectionId)??void 0,sections:(0,aX.oA)(null==(r=null==(a=_.data)?void 0:a.currentUser)?void 0:r.userSidebarSections)??[],customSectionOrdering:(null==(i=null==(l=null==(n=_.data.currentUser)?void 0:n.baseOrgUser)?void 0:l.fileBrowserPreferences)?void 0:i.orderedSidebarSections)??[],showPoint:!0}))}var MN=a(137560),Mk=a(872429),MS=a(764257),MI=a(453381),MA=a(310435);function ML(e,t,a){return e===gt._YF.WHITEBOARD?t&&t.whiteboardPaidStatus===lm.El.RESTRICTED||a&&a.whiteboardPaidStatus===me.Zf.RESTRICTED:e===gt._YF.DESIGN&&(t&&t.designPaidStatus===lm.El.RESTRICTED||a&&a.designPaidStatus===me.Zf.RESTRICTED)}function MR(e,t,a){return{dataTestId:e,kind:LE.A.BUTTON,key:t,onClick:()=>{},styleClass:MA.NR,displayText:(0,e2.t)("file_browser.tool_bar.request_sent"),"data-tooltip":(0,e2.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:a}),"data-tooltip-type":"text"}}var MO=a(714236);function MD({folder:e,user:t,dispatch:a,team:r,shouldShowRenameModal:n,onClaimClick:l,lgFolder:i,scTeamUpdatedExperience:s}){var o,c,d,m,u,_,p,g;let[E,f]=el.useState(void 0),h=(0,em.kc)().fb_redux_folder_page_view_hdr,v=(0,aX.Rs)(a9.bFV,{id:e.id},{enabled:!!h}),b=()=>{e.name&&W&&(a(_O.WC()),a(t3.to({type:Mf,data:{folder:e}})))},y=()=>{wX.S.getFolderTransfer({folderId:e.id}).then(({data:e})=>{f(e.meta)},e=>{f(void 0)})};(0,ed.h)(()=>{y()}),(0,ed.h)(()=>{n&&b()});let w=(0,oz.fn)()===oz.ih.CONTROL,T=(0,sQ.usePermissionsState)(),x=(0,ei.d4)(e=>e.currentUserOrgId),C=(0,ei.d4)(e=>e.teamRoleRequests),N=el.useMemo(()=>{var e;return!s&&(null==(e=T.user)?void 0:e.id)!=null&&null!=r&&(0,sQ.canViewTeam)(r.id,T)&&!(0,sQ.hasMinRole)((0,sQ.getRolesForUserAndTeam)(r.id,T),oi.e6.VIEWER)},[T,r,s]),k=el.useMemo(()=>{var t,a;return s?i&&i.team&&(null==(t=(0,_J.oA)(i.team.org))?void 0:t.id):null==(a=e.team)?void 0:a.org_id},[e,s,i]),S=el.useMemo(()=>{var t;return s?i&&i.team&&i.team.id:null==(t=e.team)?void 0:t.id},[e,s,i]),I=el.useMemo(()=>{var e;return s?!!(null==(e=null==i?void 0:i.team)?void 0:e.canAdmin):!!r&&(0,sQ.canAdminTeam)(r.id,T)},[T,r,s,i]),A=el.useMemo(()=>s?I:N&&I,[N,I,s]),L=()=>{td.Ay.del(`/api/asset_transfer/${null==E?void 0:E.id}`).then(()=>{f(void 0),a(a0.F.enqueue({message:"Transfer revoked."}))},e=>{a(a0.F.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))})},R=()=>{a(t3.to({type:gb.W,data:{folderId:e.id}}))},O=el.useMemo(()=>{var t;let a=h?"loaded"===v.status&&(null==(t=v.data.project)?void 0:t.hasPermission):(0,sQ.canEditFolder)(e.id,T),r=!s&&!N&&!I&&e&&null!==x&&!a&&!e.is_invite_only&&!e.is_view_only,n=s&&!I&&e&&null!==x&&!(null==i?void 0:i.canEdit);return r||n},[N,I,e,x,T,s,i,h,v]),D=el.useMemo(()=>s&&i&&"loaded"===i.canCreateFigjamFile.status?i.canCreateFigjamFile.data&&i.canEdit:e.canCreateWhiteboardFile,[e,i,s]),F=el.useMemo(()=>s&&i&&"loaded"===i.canCreateDesignFile.status?i.canCreateDesignFile.data&&i.canEdit:e.canCreateDesignFile,[e,i,s]),M=F&&null!==x&&(0,MI.i)(),P=F&&null!==x&&(0,Mk.oz)(),B=D||F,U=el.useMemo(()=>s&&i?i.canRead:e.canView,[e,i,s]),W=el.useMemo(()=>s&&i?i.canEdit:e.canEdit,[e,i,s]),V=el.useMemo(()=>s&&i?(0,_J.oA)(i.isEditingLockedForUser):e.isEditingLocked,[e,i,s]),G=el.useMemo(()=>{if(O&&C&&r&&C[r.id]&&C[r.id].status===ME.c.PENDING)return C[r.id].id},[O,C,r]);el.useEffect(()=>{O&&x&&a((0,dF.Rw)())},[O,a,x]);let $=(0,go.jm)(k,S),j=(0,pV.S)(),H=S?(0,yD.GR)(a,S):()=>{},q=S?(0,yD.GR)(a,S,oi.e6.ADMIN):()=>{},Y=(0,E_.a)(e.id),z=(null==(c=null==(o=null==i?void 0:i.team)?void 0:o.org)?void 0:c.status)==="loaded"?null==(u=null==(m=null==(d=null==i?void 0:i.team)?void 0:d.org)?void 0:m.data)?void 0:u.currentBaseOrgUser:null,K=(null==(p=null==(_=null==i?void 0:i.team)?void 0:_.currentTeamUser)?void 0:p.status)==="loaded"?null==(g=null==i?void 0:i.team)?void 0:g.currentTeamUser.data:null,J=(0,ep.I7)("exp_pro_upgrade_project_view"),Q=(0,ep.I7)("exp_org_upgrade_project_view"),Z=(0,ep.I7)("exp_pro_upgrade_project_vr"),X=(0,ep.I7)("exp_org_upgrade_project_vr"),ee=(e,t)=>{var a,r,n,l,i,s;return!!((e===gt._YF.WHITEBOARD?z&&z.whiteboardPaidStatus===lm.El.STARTER||K&&K.whiteboardPaidStatus===me.Zf.STARTER:e===gt._YF.DESIGN&&(z&&z.designPaidStatus===lm.El.STARTER||K&&K.designPaidStatus===me.Zf.STARTER))&&t&&t.canEdit&&t.team&&(null==(a=t.team)?void 0:a.isStarterTeam.status)==="loaded"&&!(null==(n=null==(r=t.team)?void 0:r.isStarterTeam)?void 0:n.data)&&(null==(l=t.team)?void 0:l.isStudentTeam.status)==="loaded"&&!(null==(s=null==(i=t.team)?void 0:i.isStudentTeam)?void 0:s.data)&&(z&&Q.getConfig().getValue("showExp",!1)||K&&J.getConfig().getValue("showExp",!1)))},et=(e,t)=>{var a,r,n,l,i,s,o,c,d,m;return(e!==lm._Y.WHITEBOARD||(null==(r=null==(a=null==t?void 0:t.team)?void 0:a.org)?void 0:r.status)!=="loaded"||null==(l=null==(n=null==t?void 0:t.team)?void 0:n.org.data)||!l.isFigJamDisabled)&&!!(ML(e,z,K)&&t&&t.canEdit&&t.team&&(null==(i=t.team)?void 0:i.isStarterTeam.status)==="loaded"&&!(null==(o=null==(s=t.team)?void 0:s.isStarterTeam)?void 0:o.data)&&(null==(c=t.team)?void 0:c.isStudentTeam.status)==="loaded"&&!(null==(m=null==(d=t.team)?void 0:d.isStudentTeam)?void 0:m.data)&&(z&&X.getConfig().getValue("showExp",!1)||K&&Z.getConfig().getValue("showExp",!1)))},ea=e=>{var t,a,r,n;if(ML(e,z,K)){if(z&&X.getConfig().getValue("showExp",!1)){if(e===lm._Y.DESIGN&&(null==(t=z.designAccountTypeRequest)?void 0:t.status)==="pending"||e===lm._Y.WHITEBOARD&&(null==(a=z.whiteboardAccountTypeRequest)?void 0:a.status)==="pending")return!0}else if(K&&Z.getConfig().getValue("showExp",!1)&&(e===lm._Y.DESIGN&&(null==(r=K.designAccountTypeRequest)?void 0:r.status)==="pending"||e===lm._Y.WHITEBOARD&&(null==(n=K.whiteboardAccountTypeRequest)?void 0:n.status)==="pending"))return!0}return!1},er=(e,t)=>e&&t?MR("request-sent-all-editors-button",LE.D.REQUEST_SENT_ALL,(0,e2.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam")):e&&!t?MR("request-sent-design-button",LE.D.REQUEST_SENT_DESIGN,(0,e2.t)("file_browser.tool_bar.request_sent_tooltip_figma_design")):!e&&t?MR("request-sent-whiteboard-button",LE.D.REQUEST_SENT_WHITEBOARD,(0,e2.t)("file_browser.tool_bar.request_sent_tooltip_figjam")):{},en=(e,t)=>{var n;if(ee(t,i))return()=>{var r,n,l,s,o;a(t3.to({type:Mv,data:{upgradeReason:Mh.FB_PROJECT_VIEWER,licenseType:(0,oX.vc)(t),onConfirm:e,teamId:(null==(r=null==i?void 0:i.team)?void 0:r.id)??"",orgId:(null==(l=null==(n=null==i?void 0:i.team)?void 0:n.org)?void 0:l.status)==="loaded"?null==(o=null==(s=null==i?void 0:i.team)?void 0:s.org.data)?void 0:o.id:""}}))};if(et(t,i)){if(z&&(null==(n=null==i?void 0:i.team)?void 0:n.licenseGroupId.status)==="loaded")return()=>{var e;a(t3.to({type:Mb.Y,data:{orgId:k??"",orgUser:{id:z.id,user_id:z.userId,org_id:k??"",permission:z.permission,license_group_member:{license_group_id:(null==(e=null==i?void 0:i.team)?void 0:e.licenseGroupId.status)==="loaded"?null==i?void 0:i.team.licenseGroupId.data:null}},entryPoint:M_.PE.CreateFileProjectView,licenseType:(0,oX.vc)(t)}}))};if(K)return()=>{a(t3.to({type:My.PK,data:{team:r,entryPoint:M_.Wc.CREATE_FILE_PROJECT_VIEW,editorType:t}}))}}return e},es=Mp(lm._Y.DESIGN,oC.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_design_created",e.id,!!(s&&!r&&i&&i.canEdit)),eo=Mp(lm._Y.WHITEBOARD,oC.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_figjam_created",e.id,!!(s&&!r&&i&&i.canEdit)),ec=Mp(lm._Y.SLIDES,oC.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_slides_created",e.id,!!(s&&!r&&i&&i.canEdit)),eu=Mp(lm._Y.SITES,oC.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_sites_created",e.id,!!(s&&!r&&i&&i.canEdit)),e_=(t,r,n)=>{if(e){let l={folder:e,entrypoint:"folder_page_view",sectionId:n,favoriteId:r};t?a(pc.Mv(l)):a(pc.jv(l))}},eg=()=>{a(sq.gN(e.id)),a((0,Mg.L)({showImportModal:(0,em.kc)().figjam_3p_file_importer}))},ef=!!(0,gM.c8)(e.id,e.team_id,T).data;return el.createElement(Lb,{title:e.name,rightSideActions:(()=>{let n=[],s=(0,em.kc)().ps_benchmark&&(0,dP.R$)(t,x);ef&&n.push({kind:LE.A.BUTTON,key:LE.D.CLAIM,displayText:(0,e2.t)("file_browser.folder.join_as_owner"),onClick:l});let o={"data-onboarding-key":"folder-page-view-new-board-cta",dataTestId:"new-whiteboard-file-button",kind:LE.A.ICON_TEXT_BUTTON,key:LE.D.NEW_WHITEBOARD_FILE,displayText:(0,e2.t)("file_browser.tool_bar.new_figjam_board"),onClick:en(eo,lm._Y.WHITEBOARD),icon:Lx.A,styleClass:MO.pI,svgStyleClass:MO.sI},c={"data-onboarding-key":"folder-page-view-new-file-cta",dataTestId:"new-design-file-button",kind:LE.A.ICON_TEXT_BUTTON,key:LE.D.NEW_FILE,displayText:(0,e2.t)("file_browser.tool_bar.new_design_file"),onClick:en(es,lm._Y.DESIGN),icon:Lx.A,styleClass:MO.l8,svgStyleClass:MO.sI},d=ea(lm._Y.DESIGN),m=ea(lm._Y.WHITEBOARD),u=et(lm._Y.DESIGN,i)&&et(lm._Y.WHITEBOARD,i)&&d&&m;if(!V&&!s){let e=er(d,m),t={kind:LE.A.BUTTON,key:LE.D.IMPORT,styleClass:MA.EB,displayText:(0,e2.t)("file_browser.folder.import"),onClick:()=>{},"data-tooltip":(0,e2.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:(0,e2.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam")}),"data-tooltip-type":"text",dataTestId:"disabled-import-button"};if(u?(n.push(e),n.push(t)):(F?n.push(c):et(lm._Y.DESIGN,i)&&(d?n.push(e):n.push(c)),D?n.push(o):et(lm._Y.WHITEBOARD,i)&&(m?n.push(e):n.push(o))),M){let e=_N(ec);n.push(e)}if(P){let e=(0,MS.nJ)(eu);n.push(e)}}if(B&&!s&&n.push({kind:LE.A.BUTTON,key:LE.D.IMPORT,displayText:(0,e2.t)("file_browser.folder.import"),onClick:eg,"data-onboarding-key":O7._,dataTestId:"import-button"}),N)A?n.push({kind:LE.A.BUTTON,key:LE.D.JOIN_TEAM,displayText:(0,e2.t)("file_browser.team.join_team"),onClick:q}):n.push({kind:LE.A.BUTTON,key:LE.D.JOIN_TEAM,displayText:(0,e2.t)("file_browser.team.join_team"),onClick:H});else if(U){let e={kind:LE.A.BUTTON,key:LE.D.SHARE,displayText:(0,e2.t)("file_browser.folder.share"),onClick:R};n.push(e)}O&&n.push({kind:LE.A.BUTTON,key:LE.D.REQUEST_TO_EDIT,displayText:void 0!==G?(0,e2.t)("file_browser.team.cancel_request"):(0,e2.t)("file_browser.team.request_to_edit"),onClick:()=>{G?a(Tr.lT({requestId:G})):r&&a(t3.to({type:Tn.$S,data:{team:r,requesterCurrentLevel:oi.e6.VIEWER,source:"FolderPageView"}}))}});let _=j?el.createElement(gB.r,{setFavorite:e_,favoriteType:lm.bk.FOLDER,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:x,teamId:S??null}):el.createElement(MN.d,{folder:e});if(w&&(!(0,em.kc)().ps_benchmark||$)&&n.push({kind:LE.A.CUSTOM_BUTTON,key:LE.D.FAVORITE,element:_}),!V&&(F||D)){let e=el.createElement(MT,{dropdownKey:"new-file-dropdown",canCreateDesignFile:F,canCreateWhiteBoardFile:D,onNewDesignFileClick:en(es,lm._Y.DESIGN),onNewWhiteBoardClick:en(eo,lm._Y.WHITEBOARD)});n.push({kind:LE.A.CUSTOM_BUTTON,key:LE.D.NEW_FILE_DROPDOWN,styleClass:eE.cx.colorBgInverse.$,showOnMobile:!0,hideOnDesktop:!0,element:e})}let p=el.createElement(MC,{dropdownKey:"project-overflow-dropdown",folder:e,onImportClick:eg,onShareClick:R,setFavorite:$?e_:null});return n.push({kind:LE.A.CUSTOM_BUTTON,key:LE.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:p}),n})(),rightSideOfTitleAction:(()=>{let t=Y({folder:{...(0,oC.Kk)(e,W),isSubscribed:e.is_subscribed,description:e.description},onRenameClick:b,onRevokeTransfer:L,shouldShowJoinButton:N,getPendingInfo:y,pendingTransfer:E});return U&&t.length>0?{kind:LE.A.CUSTOM,key:LE.D.DROPDOWN,element:el.createElement(Lw,{buttonAriaLabel:(0,e2.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:t})}:void 0})()})}let MF="folder_page_view--sidebarDivider--IaP8x";function MM(e){let t=(0,ei.wA)(),a=(0,aX.Rs)(a9.CH9,{folderId:e.folderId}),r=el.useMemo(()=>{var e;return"loaded"===a.status?((null==(e=a.data.project)?void 0:e.pinnedFiles)||[]).filter(e=>!!e.file):[]},[a]);el.useEffect(()=>{t(_O.MR({folderId:e.folderId,fileKeys:r.map(e=>e.file.key)}))},[r,t,e.folderId]);let n=el.useCallback(()=>{t(gs.an())},[t]);return 0!==r.length?el.createElement(el.Fragment,null,el.createElement("div",{className:"folder_page_view--pinnedHeader--dJxEr",onMouseDown:n},el.createElement(oK.E,{i18nId:"file_browser.folder.pinned",fontSize:13,color:"secondary"})),el.createElement(F9,{files:r,tileActions:e.tileActions,repos:e.repos})):null}let MP={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToTop:!0,pinToWorkspace:!0},MB=(0,Dn.xx)(gM.ZN);function MU(e){var t,a,r;let{folderId:n,selectedTab:l}=e,i=(0,sQ.usePermissionsState)(),s=(0,_F.LK)(n),o=Fv.Qw.useTransformShallowEqual(s,e=>{let t=e.folder;return{...t,canView:(0,sQ.canViewFolder_DEPRECATED)(n,i),canEdit:(0,sQ.canEditFolder)(n,i),canCreateWhiteboardFile:(0,sQ.canCreateFile)(n,i,lm._Y.WHITEBOARD),canCreateDesignFile:(0,sQ.canCreateFile)(n,i,lm._Y.DESIGN),isEditingLocked:(0,d2.ZZ)(t,i),team:i.teams[t.team_id||""]||null}}).data,c=(0,ei.wA)(),d=(0,aX.Rs)(a9.Udv,{id:n});el.useLayoutEffect(()=>{var e;"loaded"!==d.status||(null==(e=d.data.project)?void 0:e.hasPermission)||c(aC.$T({view:"recentFiles"}))},[c,d]);let m=(0,aX.Rs)(a9.L8O,{projectId:n});el.useEffect(()=>{o&&!o.is_invite_only&&o.team_id&&!o.team&&c(on.Jt({teamId:o.team_id}))},[c,n,o]),el.useEffect(()=>{if(!(0,em.kc)().auto_accept_project_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,s3.QL)("auto_role");t&&o&&t in e&&((o.canView||"100"!==t)&&(o.canEdit||"300"!==t&&"900"!==t&&"999"!==t)&&c(a0.F.enqueue({message:(0,e2.t)("file_browser.auto_accept_project_invite_modal",{projectName:null==o?void 0:o.name,inviteType:e[t]})})),(0,s3.EM)("auto_role"))},[c,o]);let u=(null==(t=m.data)?void 0:t.project)||null,_=u&&u.team&&u.team.org?null==(a=(0,aX.oA)(u.team.org))?void 0:a.id:null,p=!!u&&(0,h9.D)((null==(r=u.team)?void 0:r.id)||null,_||null),g=(0,ei.d4)(e=>MB(n,e.tileSortFilterStateByView)),E=(0,ei.d4)(u5.yK),f=(0,ei.d4)(e=>!!(null==o?void 0:o.team)&&D$(e,lm.vt.TEAM,o.team,o.team_id)),h=(0,ei.d4)(e=>!!e.userFlags.hide_recommended_templates_in_projects),v=(0,ei.d4)(e=>e.selectedBranchKeyByRepoId),b=(0,sK.dq)(),y=(0,aN.iZ)(),w=()=>{c(r7.b({hide_recommended_templates_in_projects:!h}))},T=p&&u?u.canCreateFigjamFile&&"loaded"===u.canCreateFigjamFile.status&&u.canCreateFigjamFile.data&&u.canEdit:null==o?void 0:o.canCreateWhiteboardFile,x=p&&u?"loaded"===u.canCreateDesignFile.status&&u.canCreateDesignFile.data&&u.canEdit:null==o?void 0:o.canCreateDesignFile,C=p&&u?u.canEdit:null==o?void 0:o.canEdit,N=p&&u?u.canRead:null==o?void 0:o.canView,k=()=>!f&&!h,S=()=>{c(_O.B7({folderId:n}))},I=(0,gM.c8)(n,(null==o?void 0:o.team_id)||null,i),A=(0,oz.PP)();if(!o||"loaded"!==s.status||"loaded"!==m.status)return el.createElement("div",{className:"folder_page_view--loading--clD4x"},el.createElement(t7.kt,null));let L=e=>{c(_O.ub({folderId:n,description:e.trim()}))},R={view:"project",folderId:n,canEdit:o.canEdit,userSpace:b?t6.qo.ORG:t6.qo.PERSONAL},O=[mP.h.SETTINGS].includes(l),D=o.team&&!(0,d2.w5)(o.team);return(0,e8.T8)(el.createElement(uw.Z,{containerClass:ey()({"folder_page_view--xOverflowFileBrowserContainer--4aBZ5":O}),contentContainerClass:ey()({"folder_page_view--xOverflowFileBrowserContentContainer--wiRfj":O}),content:el.createElement("div",{className:eE.cx.flex.flexColumn.$},(()=>{let t=!!(x||T)&&!o.isEditingLocked,a=t?"":(0,e2.t)("file_browser.folder.no_files_yet");if("loaded"!==I.status)return null;let{files:r,repos:n,filesByRepoId:l}=s.data,i=[...r.map(e=>({type:gd.nb.FILE,file:e})),...n.filter(e=>!e.trashed_at).map(e=>({type:gd.nb.REPO,repo:e,branches:l[e.id],selectedBranchKey:v[e.id]||""}))],c=el.createElement(el.Fragment,null,el.createElement(F8,{team:o.team||void 0,newFileFrom:oC.f6.FILE_BROWSER_TOPBAR_FOLDER,disableRecommendedTemplates:E,folderId:o.id,recommendedTemplatesIsOpen:k(),toggleRecommendedTemplates:w,isInProjectsView:!0}),el.createElement(MM,{folderId:e.folderId,repos:n,tileActions:MP}),el.createElement(Mc,{newFileTile:t,tiles:i,tileActions:MP,sortFilterOptions:g,emptyStateText:a,isFolder:!0})),d=el.createElement(R1,{emptyStateText:(0,e2.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:S});return I.data?d:c})(),el.createElement(OZ.cx,null)),metaContent:e_.Ay.mobile||!D||(0,em.kc)().fbg_starter_project_redesign||A()?void 0:(()=>{let e=C&&!o.isEditingLocked,t=o.team&&!(0,d2.w5)(o.team),a=o.team;return el.createElement("div",{className:"folder_page_view--metaColumn--im-Ju"},(e||o.description)&&el.createElement(el.Fragment,null,el.createElement("div",{className:MF}),el.createElement("div",{className:"folder_page_view--folderDescription--FNP0x text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement("h3",{className:eE.cx.font13.fontMedium.$},el.createElement(e2.Tx,{id:"file_browser.about"})),el.createElement(ag,{value:o.description||"",placeholder:(0,e2.t)("file_browser.folder.add_a_description"),formatter:ap,submit:L,readOnly:!e}))),o.team_id&&el.createElement(el.Fragment,null,el.createElement("div",{className:MF})),N&&!e_.Ay.mobile?el.createElement(Mu,{key:n,folderId:n}):null,a&&t&&el.createElement(Mr,{folderId:o.id}),o.team_id&&el.createElement(Mo,{teamId:o.team_id}))})(),banner:o.team&&f?el.createElement(FN,{teamId:o.team.id}):void 0,header:el.createElement(el.Fragment,null,el.createElement(MD,{dispatch:c,user:y,folder:o,team:o.team,currentOrgId:b,onClaimClick:S,shouldShowRenameModal:e.shouldShowRenameModal||!1,lgFolder:u,scTeamUpdatedExperience:p}),o.canCreateDesignFile&&o.team&&el.createElement(FC,{teamId:o.team.id,canCreateFigjamBoard:o.canCreateWhiteboardFile})),footer:o.team&&(0,sQ.canEditTeam)(o.team.id,i)&&D&&(0,em.kc)().fbg_starter_project_redesign&&!A()?el.createElement(Mn,{folder:o}):el.createElement(el.Fragment,null)}),t6.e0.FILE_BROWSER,R)}var MW=a(468633);let MV="offline_create_file_buttons--subtext--GerJd text--fontPos11--2LvXf text--_fontBase--QdLsd",MG="offline_create_file_buttons--icon--0tuCg",M$="offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd",Mj="offline_create_file_buttons--disabledFileTile--d1WAu offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd",MH="offline_create_file_buttons--tileText--0MvHE";var Mq=a(852068);function MY(e){let t=(0,ow.gj)(e.folderId||null,lm._Y.DESIGN),a=(0,ow.gj)(e.folderId||null,lm._Y.WHITEBOARD),r=(0,ow.WV)(e.folderId||null,lm._Y.WHITEBOARD),n=(0,ow.WV)(e.folderId||null,lm._Y.DESIGN),l=(0,ei.d4)(e=>(0,sQ.isFigJamDisabledForOrg)(e.currentUserOrgId,(0,sQ.getPermissionsState)(e)));return r||n?el.createElement(el.Fragment,null,el.createElement(MK,{text:(0,e2.t)("file_browser.new_file_creation_topbar.new_design_file"),className:n?M$:Mj,editorType:lm._Y.DESIGN,newFileFrom:e.newFileFrom,disabledType:n?void 0:"for_user",team:e.team,subtext:n&&!t?(0,e2.t)("file_browser.new_file_creation_topbar.need_an_upgrade_to_create"):(0,e2.t)("file_browser.new_file_creation_topbar.design_and_prototype"),triggerOrgUpgradeModal:n&&!t,hidePlusIcon:e.hidePlusIcons,dataOnboardingKey:"folder-page-view-new-file-cta"}),el.createElement(MK,{text:(0,e2.t)("file_browser.new_file_creation_topbar.new_figjam_file"),className:r?M$:Mj,editorType:lm._Y.WHITEBOARD,newFileFrom:e.newFileFrom,team:e.team,disabledType:r?void 0:l?"for_org":"for_user",subtext:l?(0,e2.t)("file_browser.new_file_creation_topbar.disabled_by_your_organization"):r&&!a?(0,e2.t)("file_browser.new_file_creation_topbar.need_an_upgrade_to_create"):(0,e2.t)("file_browser.new_file_creation_topbar.whiteboard_and_diagram"),triggerOrgUpgradeModal:r&&!a,hidePlusIcon:e.hidePlusIcons,dataOnboardingKey:"folder-page-view-new-board-cta"}),!e.hideImportButton&&el.createElement(MJ,{disabled:!a&&!t,isInProjectsView:!!e.isInProjectsView})):null}var Mz=((J=Mz||{}).FOR_ORG="for_org",J.FOR_USER="for_user",J);function MK(e){var t;let a=(0,ei.wA)(),r=(0,Fj.Bq)(e.folderId),n=null==(t=r.user)?void 0:t.id,l=r.currentUserOrgId,i=l&&r.orgUsersByOrgId.orgUsers[l],s=n&&i&&i[n],o=el.useCallback((t,i)=>{if(t.stopPropagation(),t.preventDefault(),e.triggerOrgUpgradeModal){l&&s&&a((0,t3.to)({type:Mb.Y,data:{orgId:l,orgUser:s,entryPoint:M_.PE.CreateFile,licenseType:(0,oX.vc)(e.editorType)}}));return}a(oh.zE({state:r,editorType:e.editorType,team:e.team,from:e.newFileFrom,openNewFileIn:i?oC.ai.NEW_TAB:(0,_k.oJ)(t)?oC.ai.NEW_TAB:oC.ai.SAME_TAB,callback:t=>{(0,a6.Cu)({userId:n,fileKey:t},"design"===e.editorType?"topbar_design_created":"topbar_figjam_created")}}))},[a,e.editorType,r,e.newFileFrom,e.team,n,e.triggerOrgUpgradeModal,l,s]),c="whiteboard"===e.editorType?dE.y1.WHITEBOARD:dE.y1.DESIGN;return el.createElement("a",{className:e.className,onClick:e.disabledType?void 0:o,onAuxClick:e.disabledType?void 0:e=>o(e,!0),"data-onboarding-key":e.dataOnboardingKey},el.createElement(dE.oS,{type:c,className:MG}),el.createElement("div",{className:MH,"data-testid":`new-${e.editorType}-file-button`},e.text,e.subtext&&el.createElement("div",{className:MV},e.subtext)),!e.hidePlusIcon&&el.createElement(eC.B,{svg:dc.A,className:"offline_create_file_buttons--plusIcon--GOEF-"}))}function MJ(e){let t=(0,ei.wA)(),a=e.disabled?Mj:"offline_create_file_buttons--importFileTile--BeRPK offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd";return e.isInProjectsView&&(a+=" offline_create_file_buttons--importFileTileInProjects--XMydq offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd"),el.createElement("div",{className:a,onClick:e.disabled?void 0:()=>{e.folderId&&t(sq.gN(e.folderId)),t((0,Mg.L)({showImportModal:(0,em.kc)().figjam_3p_file_importer}))},role:"button",tabIndex:0,"data-testid":"file-import-button","data-onboarding-key":O7._},el.createElement(eC.B,{svg:Mq.A,className:ey()(MG,"offline_create_file_buttons--importIcon--Rq9PF")}),el.createElement("div",{className:MH},el.createElement(e2.Tx,{id:"file_browser.new_file_creation_topbar.import_file"}),el.createElement("div",{className:MV},el.createElement(e2.Tx,{id:"file_browser.new_file_creation_topbar.import_file_types"}))))}MK.displayName="NewFileTile";var MQ=a(639425);let MZ={open:!0,rename:!0},MX={tileSortFilterConfig:{viewMode:L9.XU.GRID,sort:{key:L9.C0.TOUCHED_AT,dir:L9.ue.DESC},filters:{creator:L9.rJ.ANY,fileType:L9.t2.ANY}},sortKeys:[]};function M0(){let e=(0,ei.d4)(e=>e.currentUserOrgId),t=Object.values((0,ov.Rp)()).filter(t=>(t.orgId??null)===e).map(gd.gB);return el.useEffect(()=>{if("visible"!==MW.Zt())return MW.B1(e=>{"visible"===e&&(0,og.cG)()});(0,og.cG)()},[]),el.createElement(uw.r,{content:el.createElement(el.Fragment,null,el.createElement("div",{className:"offline_files_view--newFileTilesContainer---Obo6 tiles_view--tilesGrid--JGwjc tiles_view--tiles--mVpCC"},el.createElement(MY,{newFileFrom:oC.f6.FILE_BROWSER_TOPBAR_OFFLINE,hideImportButton:!0})),el.createElement(R0,{tiles:t,tileActions:MZ,sortFilterOptions:MX,newFileTile:!1,emptyStateText:"",emptyStateContent:el.createElement(M1,null),hideSorter:!0}))})}function M1(){return el.createElement("div",{className:"offline_files_view--emptyState--CfmQ4"},el.createElement(eC.B,{className:"offline_files_view--emptyStateIcon--V9IxY",svg:MQ.A,height:"200px",width:"200px",autosize:!0}),el.createElement("div",{className:"offline_files_view--emptyStateText--AIw14 text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.offline_files.empty"})))}function M2({orgId:e}){let t=(0,sQ.usePermissionsState)(),a=(0,ei.wA)();return(0,sQ.canMemberOrg)(e,t)?el.createElement(Lv.K,{action:{kind:Lv.A.BUTTON,key:LE.D.VIEW_LIBRARIES,displayText:(0,e2.t)("org_view.view_libraries"),onClick:()=>{a(aC.$T({view:"org",orgId:e,orgViewTab:mU.X.LIBRARIES}))}}}):null}function M4({orgId:e}){let t=(0,ei.wA)(),a=(0,ei.d4)(u5.QT),r=(0,ei.d4)(t=>t.orgById[e]),{canCreateTeam:n}=(0,dM.l6)(r,void 0);return a||!n?null:el.createElement(Lv.K,{action:{kind:Lv.A.CUSTOM,key:LE.D.NEW_TEAM,element:el.createElement(LN,{onClick:()=>{t(t3.to({type:pu.Uc,data:{}}))},variant:"inverse",text:(0,e2.t)("license_group_view.toolbar.new_team_button")})}})}function M3({orgId:e}){return e?el.createElement(el.Fragment,null,el.createElement(M4,{orgId:e,key:"org-new-team-action"}),el.createElement(M2,{orgId:e,key:"org-library"})):null}class M8 extends el.PureComponent{render(){let e=DV(this.props,this.props.dispatch);if(!e)return el.createElement("div",null);let t=Dj({resourceType:"org",orgId:this.props.currentUserOrgId},e),a=e.severity===D_.WARN?Dp:"",r=`${Dx} ${a}`;return el.createElement("div",{className:r},el.createElement(DA,{...e,tracking:t}))}}M8.displayName="OrgDelinquencyBanner";let M5=(0,ei.Ng)(e=>({currentUserOrgId:e.currentUserOrgId,selectedView:e.selectedView,...(0,sQ.getPermissionsState)(e),userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData}))(M8);var M6=a(918012);let M9="org_meta_content--container--eDzLK";function M7({org:e}){return el.createElement("div",{className:eE.cx.flex.flexColumn.rowGap16.$},el.createElement(aa.Ro,{entity:e,size:36}),el.createElement(oK.E,{fontWeight:"medium",fontSize:13},e.name))}function Pe({handle:e}){let t=(0,ei.wA)();return el.createElement("a",{href:`/@${e}`,className:M6.B,onClick:a=>{a.metaKey||(a.preventDefault(),t(aC.$T({view:"communityHub",subView:"handle",handle:e})))}},el.createElement(oK.E,{fontSize:11},"@",e))}function Pt({orgId:e}){let t=(0,ei.d4)(t=>(0,o2.Xy)(t.orgUsersByOrgId.orgUsers[e]).map(e=>e.user)),a=(0,ei.wA)();return el.createElement(LW,{label:(0,e2.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{a(aC.$T({view:"user",userId:t.id,userViewTab:Tv.o.INTERNAL_PROFILE}))},canLeave:!1})}function Pa({org:e,orgStats:t}){let a=t?el.createElement(oK.E,{fontSize:11,color:"secondary"},el.createElement(e2.Tx,{id:"org_home_view_meta.member_count",memberCount:t.memberCount.data}),el.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?el.createElement(e2.Tx,{id:"org_home_view_meta.workspace_count",workspaceCount:t.workspaceCount.data}):el.createElement(e2.Tx,{id:"org_home_view_meta.team_count",teamCount:t.discoverableTeamCount.data})):el.createElement(uM.Wi,{className:eE.cx.mb4.$,animationType:uM.JR.SHIMMER});return el.createElement("div",{className:M9},el.createElement(M7,{org:e}),el.createElement("span",{className:eE.cx.mt4.$},a),e.community_profile_handle?el.createElement("span",{className:eE.cx.mt2.$},el.createElement(Pe,{handle:e.community_profile_handle})):null,el.createElement("span",{className:eE.cx.mt32.$},el.createElement(Pt,{orgId:e.id})))}function Pr({org:e}){var t;let a=(0,aX.Rs)(a9.nYs,{orgId:e.id});return el.createElement(Pa,{orgStats:(null==(t=a.data)?void 0:t.org)??null,org:e})}function Pn({org:e}){var t;let a=(0,aX.Rs)(a9.kei,{orgId:e.id});return el.createElement(Pa,{orgStats:(null==(t=a.data)?void 0:t.org)??null,org:e})}function Pl({org:e}){return el.createElement("div",{className:M9},el.createElement(M7,{org:e}),e.community_profile_handle?el.createElement("span",{className:eE.cx.mt4.$},el.createElement(Pe,{handle:e.community_profile_handle})):null,el.createElement("span",{className:eE.cx.mt4.$},el.createElement(oK.E,{fontSize:11,color:"secondary"},el.createElement(e2.Tx,{id:"payments_modal.guest_permission_disclaimer"})," ",el.createElement("a",{className:M6.B,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},el.createElement(e2.Tx,{id:"org_home_view_meta.learn_more"})))))}var Pi=a(253967);let Ps="org_plugins_view--resourcesGrid--x5F38 profile_resources_grid--_resourcesGridTemplateColumns--19JO6",Po="org_plugins_view--container--uKrvi",Pc="org_plugins_view--emptyState--zYep4 tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd";function Pd(){let e=(0,Nf.Yo)(),t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.publishedPlugins);el.useEffect(()=>{t(t4.Xt())},[t]);let r=function(){if(!e)return[];let t=(0,aS.Qt)((0,aS.i8)(Object.values(a)),e.id);return Object.keys(t).map(e=>t[e])}();return e&&0!==r.length?el.createElement("div",{className:Po},el.createElement("div",{className:Ps},r.map((e,t)=>el.createElement(nL.AB,{isPublic:!1,pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"OrgPluginsView",innerText:(0,e2.t)("org_view.plugin_tile"),trackingProperties:{pluginId:e.id,position:t},dropdown:el.createElement(Pi.d,{resource:e})})),el.createElement(nL.hT,{numResources:r.length}))):el.createElement("div",{className:Pc},el.createElement(e2.Tx,{id:"org_view.private_plugins_will_appear_here"}))}let Pm=e=>{switch(e){case mU.X.HOME:return(0,e2.t)("org_view.overview");case mU.X.YOUR_TEAMS:return(0,e2.t)("org_view.your_teams");case mU.X.PLUGINS:return(0,e2.t)("org_view.plugins");case mU.X.WIDGETS:return(0,e2.t)("org_view.widgets");default:return null}};function Pu(e){let t=(0,ei.wA)(),a=(0,sK.sZ)(),r=e=>{t(aC.$T({view:"org",orgId:(null==a?void 0:a.id)??"",orgViewTab:e}))},n=Object.keys(mU.X).reduce((t,a)=>{let n=Pm(mU.X[a]);return null!=n&&t.push(el.createElement(w7.r,{tab:mU.X[a],onClick:r,isSelected:e.selectedTab===mU.X[a],tabName:n,key:a})),t},[]),l=el.createElement(w7.f,{tabs:n});return el.createElement(_x.g2,{leftSide:l,rightSide:[]})}var P_=a(39954);let Pp=(0,ei.Ng)(e=>({orgEntity:(0,eK.Jl)(e),publishedWidgets:e.publishedWidgets}))(function(e){let t=(0,ei.wA)();el.useEffect(()=>{t(t4.gI())},[t]);let a=el.useMemo(()=>{if(!e.orgEntity)return[];let t=(0,aS.Qt)((0,aS.i8)(Object.values(e.publishedWidgets)),e.orgEntity.id);return Object.keys(t).map(e=>t[e])},[e.orgEntity,e.publishedWidgets]);return e.orgEntity&&0!==a.length?el.createElement("div",{className:Po},el.createElement("div",{className:Ps},a.map((e,t)=>el.createElement(P_.F9,{key:`widget-${e.id}`,widget:e,viewContext:"OrgWidgetsView",trackingProperties:{widget:e.id,position:t}})),el.createElement(nL.hT,{numResources:a.length}))):el.createElement("div",{className:Pc},el.createElement(e2.Tx,{id:"org_view.private_widgets_will_appear_here"}))});var Pg=a(193212);function PE(e){var t;let a,r,n;let{workspace:l,teamCount:i,isSelected:s,onSelect:o}=e,c=(0,ei.d4)(e=>e.currentUserOrgId),[d,m]=el.useState(!1),u=(0,Pg.aq)(),_=(null==(t=l.colorConfig)?void 0:t.colors)??[],p=e.isMainWorkspace?_[0]:void 0,g=l.description??void 0;p&&(p=(0,_d.ZC)(l.id,p,u()));let E=(0,ei.wA)(),f=()=>{E(sq.kg({clickedResourceType:"workspace",resourceIdOrKey:l.id})),E(aC.$T({view:"workspace",subView:m$.V0.DIRECTORY,workspaceId:l.id,selectedTab:m$.dN.TEAMS}))},h=el.useCallback((e,t,a)=>{if(l){let r={workspace:{id:l.id,name:l.name??"",imgUrl:l.imgUrl},entrypoint:"workspace_tile",sectionId:a,favoriteId:t};e?E(pc.ZW(r)):E(pc.if(r))}},[E,l]);p&&((0,_d.kx)(p)?(a="org_page_view--workspaceTileTitleColorForDarkBackground--hu8jm",r="org_page_view--secondaryTextColorOnDarkBackground--HhTC7",n="org_page_view--favoriteStarContainerForDarkBackground--u7III workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9"):(a="org_page_view--workspaceTileTitleColorForLightBackground--xEhQG",r="org_page_view--secondaryTextColorOnLightBackground--7Mv5d",n="org_page_view--favoriteStarContainerForLightBackground--FBLOV workspace_page_header--favoriteStarContainerForLightBackground--GXMcy"));let v=el.createElement(aa.z6,{entity:l,size:40}),b=(0,aX.oA)(l.memberCount),y=el.createElement("div",{className:ey()(eE.cx.flex.flexRow.itemsCenter.$,r)},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_view.license_group.member_count",memberCount:(null==b?void 0:b.data)??"0"}),el.createElement("span",null,"\xa0\xb7\xa0"),el.createElement(e2.Tx,{id:"org_view.license_group.team_count",teamCount:i}))),w=el.createElement(gB.r,{setFavorite:h,favoriteType:lm.bk.WORKSPACE,resourceId:l.id,size:gB.m.MEDIUM,containerStyle:ey()("org_page_view--favoriteStarContainer--E-zI- button_styles--button--Ix6rT",n),noHoverState:!0,orgId:c,parentBackgroundColor:p}),T=l.orgAccess===lm.bU.SECRET?el.createElement("div",{className:eE.cx.ml4.$,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,e2.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},el.createElement(n0.In,{icon:"lock-16"})):null;return el.createElement(Ls.a,{backgroundColor:p,description:g,descriptionClassName:r,name:el.createElement("span",{className:a},l.name),titleSubtitleRight:T,headerLeft:v,footerLeft:y,headerRight:w,onClick:e=>{1===e.detail?o():2===e.detail&&f()},canView:!0,onMouseOver:()=>{m(!0)},onMouseOut:()=>{m(!1)},isCardActive:d||s,isSelected:s})}function Pf(e){let{unassignedTeams:t,isSelected:a,onSelect:r}=e,[n,l]=el.useState(!1),i=(0,ei.wA)(),s=()=>{i(sq.kg({clickedResourceType:"workspace"})),i(aC.$T({view:"workspace",subView:m$.V0.DIRECTORY,workspaceId:null,selectedTab:m$.dN.TEAMS}))},o=el.createElement(e2.Tx,{id:"org_view.license_group.unassigned_tile.name"}),c=el.createElement(aa.md,{teams:t,size:40,isHovered:n}),d=el.createElement("span",null,"\xa0"),m=el.createElement(e2.Tx,{id:"org_view.license_group.unassigned_tile.description",teamCount:t.length});return el.createElement(Ls.a,{name:o,headerLeft:c,headerRight:d,footerLeft:m,onClick:e=>{1===e.detail?r():2===e.detail&&s()},canView:!0,onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)},isCardActive:n||a,isSelected:a})}function Ph(){var e,t;let[a,r]=el.useState(null),n=(0,ei.wA)(),l=(0,sQ.usePermissionsState)(),i=(0,ei.d4)(e=>e.currentUserOrgId),s=(0,sK.sZ)(),o=(0,dM.SJ)(i),{canCreateTeam:c}=(0,dM.l6)(s,void 0),d=(0,aX.Rs)(a9.bUn,{orgId:i}),m="loaded"!==d.status,u=(null==(t=null==(e=d.data)?void 0:e.org)?void 0:t.workspaces)??[],_=m?[]:[...u],p=(0,eU.md)(yM),g="loaded"!==p.status,{workspaceTeamCounts:E,unassignedTeams:f}=el.useMemo(()=>{let e=(p.data||[]).filter(e=>(0,Tt.dP)(e,l,i));return{workspaceTeamCounts:(0,gg.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[l,i,p]);(0,as.KQ)(_,"name");let h=_.find(e=>e.id===o.data),v=_.map(e=>{if(e.id!==(null==h?void 0:h.id))return el.createElement(PE,{key:e.id,workspace:e,teamCount:E[e.id]??0,isSelected:(null==a?void 0:a.type)==="workspace"&&a.workspaceId===e.id,onSelect:()=>{r({type:"workspace",workspaceId:e.id})}})});if(f.length>0&&v.push(el.createElement(Pf,{key:"unassigned",unassignedTeams:f,isSelected:(null==a?void 0:a.type)==="unassigned-teams",onSelect:()=>{r({type:"unassigned-teams"})}})),m||g)return el.createElement(La,{isLoading:!0});let b=h&&el.createElement(el.Fragment,null,el.createElement("div",{className:eE.cx.pl32.$},el.createElement(oK.E,{color:"secondary",fontSize:11},el.createElement(e2.Tx,{id:"org_view.your_workspace"}))),el.createElement(La,{emptyView:el.createElement(el.Fragment,null),tileSize:Lt.Medium},el.createElement(PE,{key:h.id,workspace:h,teamCount:E[h.id]??0,isMainWorkspace:!0,isSelected:(null==a?void 0:a.type)==="workspace"&&a.workspaceId===h.id,onSelect:()=>{r({type:"workspace",workspaceId:h.id})}})));return el.createElement(el.Fragment,null,b,h&&el.createElement("div",{className:eE.cx.pl32.$},el.createElement(oK.E,{color:"secondary",fontSize:11},el.createElement(e2.Tx,{id:"org_view.other_workspaces"}))),el.createElement(La,{emptyView:el.createElement(Ln,{onCreateTeam:c?()=>{n(t3.to({type:pu.Uc,data:{}}))}:void 0}),tileSize:Lt.Medium},v))}let Pv=(e,t)=>({canMemberOrg:(0,sQ.canMemberOrg)(e.currentUserOrgId,(0,sQ.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,u5.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id]:null});function Pb(e){let{canMemberOrg:t,org:a,isEnterpriseOrgDirectoryEnabled:r,currentOrgUser:n}=(0,Rc.R)(t=>Pv(t,e.orgId)),l=(0,ei.wA)();el.useEffect(()=>{t&&(l(yD.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),l(uQ.Pg({orgId:e.orgId})))},[t,e.orgId,l]);let i=null;switch(e.selectedTab){case mU.X.WIDGETS:i=el.createElement(Pp,null);break;case mU.X.PLUGINS:i=el.createElement(Pd,null);break;case mU.X.YOUR_TEAMS:i=el.createElement(L_,{onlyJoinedTeams:!0});break;case mU.X.HOME:case mU.X.FONTS:case mU.X.LIBRARIES:i=r?el.createElement(Ph,null):el.createElement(L_,null)}let s=n&&n.permission===lm._D.GUEST,o=null;o=s?el.createElement(Pl,{org:a}):r?el.createElement(Pr,{org:a}):el.createElement(Pn,{org:a});let c=el.createElement(Pu,{selectedTab:e.selectedTab});return el.createElement(uw.r,{banner:el.createElement(M5,null),viewbar:c,content:i,metaContent:o})}var Py=a(58716);function Pw(){return eo.eD||!(0,em.kc)().desktop_get_app_navbar?null:el.createElement(Lv.K,{action:{kind:Lv.A.CUSTOM,key:LE.D.GET_DESKTOP_APP,element:el.createElement("button",{onClick:()=>{ec.Ay.redirect(`/download/desktop/${e_.Ay.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:MA.Fu},el.createElement(eC.B,{className:MA.Kk,svg:Py.A}),el.createElement(e2.Tx,{id:"banner.desktop_download_button"}))}})}function PT(e){let t=Mp(lm._Y.DESIGN,e.from,"toolbar_design_created");return el.createElement(Lv.K,{action:{kind:Lv.A.ICON_TEXT_BUTTON,key:LE.D.NEW_FILE,displayText:(0,e2.t)("file_browser.tool_bar.new_design_file"),onClick:t,icon:Lx.A,styleClass:MO.l8,svgStyleClass:MO.sI,dataTestId:"new-design-file-button"}})}var Px=a(636967);function PC(e){let t=Mp(lm._Y.WHITEBOARD,e.from,"toolbar_figjam_created");return el.createElement(Lv.K,{action:{kind:Lv.A.ICON_TEXT_BUTTON,key:LE.D.NEW_WHITEBOARD_FILE,displayText:(0,e2.t)("file_browser.tool_bar.new_figjam_board"),onClick:t,icon:Lx.A,styleClass:MO.pI,svgStyleClass:MO.sI,dataTestId:"new-whiteboard-file-button"}})}function PN(e){let t;let a=(0,aX.Rs)(a9.RIo,{orgId:null});return"loaded"!==a.status?null:(t=a.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>!!(e&&e.projects&&!e.deletedAt&&e.projects.length>0))).length?el.createElement(e8.fu,{name:e.dropdownType===Px.$c.DESIGN?"New File Creation Dropdown Design":"New File Creation Dropdown FigJam",properties:{userId:a.data.currentUser.id,numberOfEditableProjects:t.length,fileCreationDefaultsDropdownType:e.dropdownType}},el.createElement(Px.X8,{buttonText:e.dropdownType===Px.$c.DESIGN?(0,e2.t)("file_browser.tool_bar.new_design_file"):(0,e2.t)("file_browser.tool_bar.new_figjam_board"),dataTestId:e.dataTestId,teamsWithEditableProjects:t,dropdownType:e.dropdownType,hideOnMobile:!0})):e.dropdownType===Px.$c.DESIGN?el.createElement(PT,{key:"newDesignAction",from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS}):el.createElement(PC,{key:"newFigjamAction",from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS})}function Pk(){let e=(0,ei.wA)(),t=(0,aN.Pc)();return el.createElement(Lv.K,{action:{kind:Lv.A.BUTTON,key:LE.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(aC.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,e2.t)("internal_profile.view_community_profile"),styleClass:eE.cx.colorText.$}})}var PS=a(540193),PI=a(748185),PA=a(552963),PL=a(322611),PR=a(116746),PO=a(435095);let PD=e=>el.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),PF=(0,rr.Ju)(function(e){let t=(0,ei.wA)(),a=(0,aN.iZ)();return a?el.createElement(PL.u,{tintedModalBackground:!0,headerText:(0,e2.t)("interstitial.unsubscribe_success_header")},el.createElement("div",{className:PO.Yg},el.createElement(e2.Tx,{id:"interstitial.unsubscribe_success_subheader_with_address",emailName:PD((()=>{switch(e.policyType){case"FileCommentActivity":return(0,e2.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,e2.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,e2.t)("interstitial.feed_weekly_digest");default:(0,eh.xb)(e.policyType)}})()),emailAddress:PD(a.email)})),el.createElement(eT.nD,{onClick:()=>{t(t3.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},el.createElement(e2.Tx,{id:"interstitial.done"})),el.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,t3.to)({type:PR.s,data:{tab:PR.c.NOTIFICATIONS}})),t(t3.aZ())}},el.createElement(e2.Tx,{id:"interstitial.open_notifications_settings"}))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var PM=a(368361);class PP extends el.Component{constructor(e){super(e),this.accountModalTabViewToTab=e=>{switch(e){case t5.bb.ACCOUNT:return PR.c.ACCOUNT;case t5.bb.COMMUNITY:return PR.c.COMMUNITY;case t5.bb.NOTIFICATIONS:return PR.c.NOTIFICATIONS}},this.manageNotifications=()=>{this.props.dispatch((0,t3.to)({type:PR.s,data:{tab:this.accountModalTabViewToTab(t5.bb.NOTIFICATIONS)}})),this.props.dispatch(a0.F.dequeue({}))},this.tileActions={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},this.state={trackedScroll:!1}}componentDidMount(){let e=(0,s3.QL)("upgrade_modal_type"),t=(0,oX.px)(e||""),a=null;if(null!==t){(0,s3.EM)("upgrade_modal_type");let e=(0,s3.QL)("entry_point");(0,s3.EM)("entry_point");let r=this.props.currentOrgUser;e&&(Object.values(M_.PE).includes(e)?a=e:Object.values(M_.tc).includes(e)?a=e:Object.values(M_.i$).includes(e)&&(a=e)),r&&(0,o2.oE)(r,t)&&this.props.dispatch((0,t3.to)({type:Mb.Y,data:{orgId:this.props.currentUserOrgId,orgUser:r,entryPoint:a||(t===oX.oM.DEV_MODE?M_.i$.DowngradeEmail:M_.PE.DEPRECATED_Recents),licenseType:t,trackForDowngradeNotificationExperiment:!0}}))}this.loadModalsIfNeeded(void 0)}componentDidUpdate(e){this.loadModalsIfNeeded(e)}loadModalsIfNeeded(e){if(this.props.accountModalTab&&this.props.accountModalTab!==(null==e?void 0:e.accountModalTab))this.props.dispatch((0,t3.to)({type:PR.s,data:{tab:this.accountModalTabViewToTab(this.props.accountModalTab)}})),this.props.dispatch(aC.$T({view:"recentFiles"}));else if(this.props.universalPublishingModal&&this.props.universalPublishingModal!==(null==e?void 0:e.universalPublishingModal))this.props.dispatch((0,t3.to)({type:PM.R,data:{source:aI.Zm.RECENT_FILES_DIRECT_LINK}})),this.props.dispatch(aC.$T({view:"recentFiles"}));else if(this.props.emailPolicyToUnsubscribeFrom&&this.props.emailPolicyToUnsubscribeFrom!==(null==e?void 0:e.emailPolicyToUnsubscribeFrom)){let e=this.props.emailPolicyToUnsubscribeFrom;PA.z.updateUserCommunicationPreference({channelType:"email",policyType:e,policySetting:"none"}).then(()=>{this.props.dispatch((0,t3.to)({type:PF,data:{policyType:e}}))}).catch(e=>{this.manageNotifications()}),this.props.dispatch(aC.$T({view:"recentFiles"}))}}render(){let{sortFilterOptions:e,tiles:t}=this.props,a=e_.Ay.mobile||e_.Ay.tablet?(0,e2.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",r="loaded"===t.status;return el.createElement(po.A,{loadingElementId:"loading-content-pane",loaded:r,loadingElementClassName:eE.cx.pr32.$},el.createElement(Mc,{tiles:t.data,tileActions:this.tileActions,sortFilterOptions:e,newFileTile:!0,emptyStateText:a,hideSorter:!0}),el.createElement(OZ.cx,null))}}PP.displayName="RecentFilesPageView";let PB=(0,ei.Ng)(()=>{let e=(0,Dn.xx)(e=>({tileSortFilterConfig:e.recentsAndSharing.recents,sortKeys:[L9.C0.NAME,L9.C0.CREATED_AT,L9.C0.ACCESSED_AT]}));return t=>({sortFilterOptions:e(t.tileSortFilterStateByView),dropdownShown:t.dropdownShown,selectedView:t.selectedView,currentUserOrgId:t.currentUserOrgId,hasBanner:D$(t,lm.vt.FOLDER,null,null),trackScroll:()=>(0,a6.uE)("Recents Page Scrolled",t)})})(PP);function PU(e){let t=(0,ei.d4)(e=>e.currentUserOrgId),a=!!(0,em.kc)().livegraph_recent_files_full_read,r=(0,PS.ql)(t||null,PI.xBc.CAN_VIEW_PROTOTYPE,!0,!1,a),n=(0,PS.lP)(t||null,PI.xBc.CAN_VIEW_PROTOTYPE,!!(0,em.kc)().recent_files_lg||a,a),l=a?n:r;el.useEffect(()=>{PS.uX.clear()},[]);let[i,s]=el.useState(!1);if("loaded"===r.status&&"loaded"===n.status&&!i){s(!0);try{let e=new Set(["hub_file","realtime_token","thumbnail_url","thumbnail_url_override"]),a=(0,fH.cQ)(PS.uX.getSinatraData().recent_files,PS.uX.getLGData().recent_files,t=>e.has(t),"key");(0,e7.sx)("Recent Files: Sinatra LG diffs",{orgId:t,differences:JSON.stringify(a),lgSource:PS.kx.LG100,objType:"file"});let[r,n]=PS.uX.getSinatraRepoData(),[l,i]=PS.uX.getLGRepoData(),s=(0,fH.cQ)(r,l,e=>"realtime_token"===e,"id"),o=(0,fH.cQ)(n,i,t=>e.has(t),"key");(0,e7.sx)("Recent Files: Sinatra LG diffs",{orgId:t,differences:JSON.stringify(s),lgSource:PS.kx.LG100,objType:"repo"}),(0,e7.sx)("Recent Files: Sinatra LG diffs",{orgId:t,differences:JSON.stringify(o),lgSource:PS.kx.LG100,objType:"repo_file"});let c=(0,fH.cQ)(PS.uX.getSinatraData().org_drafts_owners,PS.uX.getLGData().org_drafts_owners,e=>"license_group_admins"===e||"workspace_users"===e,"id");(0,e7.sx)("Recent Files: Sinatra LG diffs",{orgId:t,differences:JSON.stringify(c),lgSource:PS.kx.LG100,objType:"org_user"})}catch(e){(0,e7.sx)("Recent Files: Sinatra LG diffs",{orgId:t,error:JSON.stringify(e),lgSource:PS.kx.LG100,objType:"error"})}}let o=(0,PS.O8)(t||null,PI.xBc.CAN_VIEW_PROTOTYPE),c=(0,mj.a9)(),d=(0,ov.Rp)(),m=el.useMemo(()=>l.transform(e=>e.map(gd.fA)),[l]),u=el.useMemo(()=>o.transform(e=>e.map(gd.Nu)),[o]),_=(0,ei.d4)(e=>e.recentRepos),p=(0,ei.d4)(e=>e.selectedBranchKeyByRepoId),g=el.useMemo(()=>_.map(e=>(0,gd.uy)(e,p)),[_,p]),E=el.useMemo(()=>Object.values(d).map(gd.gB),[d]),f=el.useMemo(()=>Fv.Qw.merge([m,u],g,E),[E,m,u,g]);return el.createElement(PB,{accountModalTab:e.accountModalTab,universalPublishingModal:e.universalPublishingModal,emailPolicyToUnsubscribeFrom:e.emailPolicyToUnsubscribeFrom,currentOrgUser:c,tiles:f})}let PW="banner--title--6lfBu",PV="banner--bullet--TXPR6",PG="banner--svg--U4OZC";var P$=a(447020),Pj=a(313673);function PH(){let e=(0,ei.wA)(),t=!!(0,pm.f)("dismissed_config_2024_april_promo_banner"),a=()=>{e(r7.b({dismissed_config_2024_april_promo_banner:!0}))};return(0,em.kc)().config_2024_promo_banner&&!t?el.createElement(e8.fu,{name:"Config 2024 April Promo Banner",properties:{severity:D_.EVENT}},el.createElement("div",{className:"banner--wrapper--2-3jR"},el.createElement("div",{className:"banner--logo_cta_wrapper--GAw-F"},el.createElement(eC.B,{svg:Pj.A,svgClassName:["banner--logo--SIeox",PG].join(" ")}),el.createElement("h2",{className:[PW,"banner--hide_on_desktop--odWDi","banner--show_on_mobile--kS-gu"].join(" ")},el.createElement(eC.B,{svg:P$.A,svgClassName:PG,className:PV}),el.createElement(e2.Tx,{id:"banner.config_2024_april_promo.title"}))),el.createElement("div",{className:"banner--copy_and_ctas--7rpUU"},el.createElement("h2",{className:[PW,"banner--title_desktop--v6uBx","banner--hide_on_mobile--3PcQQ"].join(" ")},el.createElement(eC.B,{svg:P$.A,svgClassName:PG,className:PV}),el.createElement(e2.Tx,{id:"banner.config_2024_april_promo.title"})),el.createElement(eT.e2,{className:"banner--button_group--Y4VeY"},el.createElement(eT.vd,{className:"banner--primary_button---HbtH",onClick:()=>{(0,i$.FJ)("https://config.figma.com/agenda?utm_source=figma&utm_medium=prod&utm_campaign=agenda","_blank")}},el.createElement(e2.Tx,{id:"banner.config_2024_promo.primary_cta"})),el.createElement(eT.tM,{className:"banner--secondary_button--8cU3d",onClick:()=>{a()}},el.createElement(e2.Tx,{id:"banner.config_2024_promo.secondary_cta"})))))):null}function Pq(){let e=(0,ei.wA)(),t=(0,ei.d4)(({orgById:e})=>e),a=(0,ei.d4)(({currentUserOrgId:e})=>e),r=(0,u5.yK)({orgById:t,currentUserOrgId:a}),n=!!(0,ei.d4)(e=>e.userFlags).hide_recommended_templates_in_recents;return el.createElement(F8,{newFileFrom:oC.f6.FILE_BROWSER_TOPBAR_RECENTS,disableRecommendedTemplates:r,recommendedTemplatesIsOpen:!n,toggleRecommendedTemplates:()=>e(r7.b({hide_recommended_templates_in_recents:!n}))})}let PY=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,nb.vh)(),this.PlanFilterOptionsSchemaValidator=(0,nb.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function Pz(){return{"":{label:(0,e2.t)("shared_with_you.filters.all_organizations")}}}let PK=gp.M4.Query({fetch:async e=>{let t=await PY.getPlanFilterOptions({resource_type:e}),a={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(a[e.plan_id]=t)}),{...Pz(),...a}}});function PJ(e){let t=e.join("&resource_type[]="),[a]=(0,gp.IT)(PK(t));return a.data||Pz()}let PQ={"":"Anyone"};function PZ(e){let[t,a]=(0,el.useState)(PQ),r=e.join("&resource_type[]=");return(0,el.useEffect)(()=>{PY.getSharerFilterOptions({resource_type:r}).then(({data:e})=>{a(e.meta.shared_by_filters.reduce((e,{user_id:t,label:a})=>({...e,[t]:a}),{...PQ}))})},[r]),t}let PX=(e,t)=>`${t}:${e}`;function P0(e){let t=(0,aX.Rs)(a9.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),a=(0,el.useCallback)(e=>{switch(e.type){case"fetchNextPage":"loaded"===t.status&&t.data.sharedWithYouResources.hasNextPage()&&t.data.sharedWithYouResources.loadNext(30);break;case"subscribe":case"unsubscribe":return;default:throw Error(`Unsupported action ${e.type}`)}},[t]),r="loaded"===t.status&&t.data.sharedWithYouResources.isLoadingNextPage;return[{data:(0,el.useMemo)(()=>"loaded"!==t.status?{}:t.data.sharedWithYouResources.reduce((e,t)=>{var a;if(t.sharedWithYouFile){let a=function(e){if(!e||!e.file)return null;let{file:t,...a}=e,r=(0,g_.V1)({...t,...a,edit_url:`${window.location.origin}/file/${t.key}/${(0,ac.sy)(t.name||"")}`,client_meta:t.checkpointClientMeta}),n=(0,g_.V1)({type:gd.nb.FILE,file:r},{filePerms:(0,Rl.ru)(t)});return{file:r,tile:n}}(t.sharedWithYouFile);if(!a)return e;e[PX(t.id,"file")]={resourceKey:PX(t.id,"file"),tile:a.tile,actions:{},subscribed:!0}}else if(t.sharedWithYouFolder){let{folder:r,...n}=t.sharedWithYouFolder;if(null==r)return e;let l=(0,g_.V1)({...r,...n},{created_at:r.createdAt.toString(),updated_at:r.updatedAt.toString(),deleted_at:(null==(a=r.deletedAt)?void 0:a.toString())||null}),i=(0,g_.V1)({type:gd.nb.PROJECT,folder:l}),s=PX(t.id,"folder");e[s]={resourceKey:s,tile:i,actions:{},subscribed:!0}}else if(t.sharedWithYouRepo){let a=function(e){var t;let{repo:a,...r}=e;if(null===a)return null;let{branches:n,...l}=a,i=(null==(t=null==n?void 0:n.filter(e=>null!=e))?void 0:t.map(e=>(0,g_.V1)({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${(0,ac.sy)(e.name||"")}`:"",client_meta:e.checkpointClientMeta})))??[],s=(0,g_.V1)({...l,...r}),o=(0,g_.V1)({type:gd.nb.REPO,repo:s,branches:i,selectedBranchKey:""},{repoPerms:(0,Rs.zh)(a)});return{repo:s,branches:i,tile:o}}(t.sharedWithYouRepo);if(!a)return e;let r=PX(t.id,"file_repo");e[r]={resourceKey:r,tile:a.tile,actions:{},subscribed:!0}}else if(t.sharedWithYouPrototype){let a=function(e){let{prototype:t,...a}=e;if(null==t)return null;let r=(0,g_.V1)({...t,...a});return(0,g_.V1)({type:gd.nb.PROTOTYPE,prototype:r},{prototypePerms:(0,Ri.Ro)(t)})}(t.sharedWithYouPrototype);if(!a)return e;let r=PX(t.id,"prototype");e[r]={resourceKey:r,tile:a,actions:{},subscribed:!0}}return e},{}),[t]),errors:t.errors,status:t.status,isFetchingNextPage:r},a]}function P1(){var e,t;let a=(0,sJ._6)(),r=(0,ei.d4)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===a.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,l=PZ(["file","file_repo","prototype"]),i=PJ(["file","file_repo","prototype"]),s={tileSortFilterConfig:n,sortKeys:[L9.C0.SHARED_AT]},o=e=>{switch(e){case L9.t2.DESIGN:return"design";case L9.t2.FIGJAM:return"whiteboard";case L9.t2.PROTOTYPE:return"prototype";case L9.t2.SLIDES:return"slides";case L9.t2.ANY:return null;default:(0,eh.xb)(e)}},[c,d]=P0(el.useMemo(()=>{var e,t;return{resourceTypes:["file","file_repo","prototype"],sharedBy:n.filters.sharedBy??"",planId:(null==(e=n.filters.plan)?void 0:e.planId)??"",planType:(null==(t=n.filters.plan)?void 0:t.planType)??"",fileType:o(n.filters.fileType)??"",sortOrder:n.sort.dir===L9.ue.ASC?"asc":"desc",sortKey:(0,L9.De)(n.sort.key)??"shared_at"}},[n.filters.sharedBy,null==(e=n.filters.plan)?void 0:e.planId,null==(t=n.filters.plan)?void 0:t.planType,n.filters.fileType,n.sort.dir,n.sort.key])),m=(0,el.useMemo)(()=>c.data??{},[c.data]),u=(0,el.useMemo)(()=>Object.values(m).map(e=>{let t=e.tile;return(t.type===gd.nb.FILE||t.type===gd.nb.REPO)&&(t.renameCallbacks={onStopRename:e=>{t.type===gd.nb.FILE?t.file.name=e??t.file.name:t.type===gd.nb.REPO&&(t.repo.name=e??t.repo.name)}}),t}),[m]),{trackPerformanceEvent:_}=(0,Ab.S)("swy_files_pagination_performance","livegraph");(0,el.useEffect)(()=>{_("fetch_end")},[_,u.length]),(0,el.useEffect)(()=>{c.status===Du.ERRORS&&_("fetch_error",{errors:JSON.stringify(c.errors??{})})},[_,c.status,c.errors]),(0,el.useEffect)(()=>(_("fetch_start"),()=>{_("fetch_cancel")}),[_]);let p=(0,el.useCallback)(()=>{c.isFetchingNextPage||(_("fetch_next"),d({type:"fetchNextPage"}))},[c.isFetchingNextPage,d,_]),g=Dd(u,(0,el.useCallback)((e,t)=>{var a,r,n,l;let i=Object.values(m).find(e=>e.tile===t);e.isIntersecting?null==(r=null==(a=null==i?void 0:i.actions)?void 0:a.subscribe)||r.call(a):null==(l=null==(n=null==i?void 0:i.actions)?void 0:n.unsubscribe)||l.call(n)},[m]),{rootMargin:"100% 0px 100% 0px"}),E={},f={};return u.forEach(e=>{switch(e.type){case gd.nb.FILE:e.file&&e.filePerms&&(E[e.file.key]=e.filePerms);break;case gd.nb.REPO:e.repo&&e.repoPerms&&(f[e.repo.id]=e.repoPerms)}}),el.createElement(po.A,{loadingElementId:"loading-content-pane",delay:250,loaded:c.status===Du.LOADED,loadingElementClassName:eE.cx.pr32.$},el.createElement(Dm,{onShouldFetchNextPage:p},el.createElement(R0,{tiles:u,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},getTileRef:e=>g.get(e)??null,chunkSize:u.length,sortFilterOptions:s,newFileTile:!1,emptyStateText:c.isFetchingNextPage?"":(0,e2.t)("shared_with_you.no_items"),sharedWithYouFilters:{sharer:l,plan:i,fileType:!0},hideSorter:!0,useLGPerms:!0,permsByFileKey:E,permsByRepoId:f,areLGPermsLoaded:!0,currentPlanFilter:n.filters.plan,currentSharedByFilter:n.filters.sharedBy})))}var P2=a(750486),P4=a(889908);function P3(e,t,a){return e&&t&&!(0,d2.w5)(e)&&"recentsAndSharing"!==a}function P8({canEditTeam:e}){let t=(0,ei.wA)(),a=(0,mM.ol)(),r=(0,sJ.z3)(),n=(0,ep.I7)("exp_fbg_project_limit_upsell");if(!P3(a,e,r)||!n.getConfig().getValue("show_upsell",!1))return null;let l=el.createElement(eT.Us,{className:eE.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,t3.to)({type:_V.V,data:{upsellSource:d8.b.FOLDER_UPSELL_CARD,teamId:null==a?void 0:a.id}}))},trackingProperties:{trackingDescriptor:e3.c.PROFESSIONAL_PLAN},trusted:!0},el.createElement(e2.Tx,{id:"team_view.folder_upsell.professional_plan"}));return el.createElement(e8.fu,{name:"Folder Upsell Card"},el.createElement(e8.$z,{className:ey()(eE.cx.flex.alignLeft.p24.$,"folder_upsell--card--bpbsz"),onClick:()=>{t((0,t3.to)({type:k1.DV,data:{team:a,resource:kK.vL.FOLDER,action:gf.ZN.CREATE_FOLDER,currentPlan:kY.F.Plan.STARTER,upsellPlan:kY.F.Plan.PRO,editorType:null}}))},trackingProperties:{trackingDescriptor:e3.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},el.createElement("div",{style:cs.sx.add({paddingBottom:"85%"}).$})," ",el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement("div",{className:eE.cx.relative.wFull.hFull.$},el.createElement("div",{style:cs.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},el.createElement(nX.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},el.createElement(n0.In,{icon:"new-40",fill:"onbrand"}))),el.createElement(nX.Y,{direction:"vertical",spacing:"12px"},el.createElement(nX.Y,{direction:"horizontal",spacing:"12px"},el.createElement(nX.Y,{cornerRadius:8,backgroundColor:"default"}),el.createElement(nX.Y,{cornerRadius:8,backgroundColor:"default"})),el.createElement(nX.Y,{direction:"horizontal",spacing:"12px"},el.createElement(nX.Y,{cornerRadius:8,backgroundColor:"default"}),el.createElement(nX.Y,{cornerRadius:8,backgroundColor:"default"})))),el.createElement(nX.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},el.createElement(oK.E,{i18nId:"team_view.folder_upsell.upgrade_to_create_more_projects",fontSize:13,fontWeight:"medium"}),el.createElement(oK.E,{fontSize:11,color:"secondary",i18nId:"team_view.folder_upsell.get_unlimited_everything",i18nParams:{professionalPlanLink:l}})))))}function P5({canEditTeam:e}){let t=(0,ei.wA)(),a=(0,mM.ol)(),r=(0,sJ.z3)(),n=(0,ep.I7)("exp_fbg_project_limit_upsell");if(!P3(a,e,r)||!n.getConfig().getValue("show_upsell",!1))return null;let l=el.createElement(eT.Us,{className:eE.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,t3.to)({type:_V.V,data:{upsellSource:d8.b.FOLDER_UPSELL_CARD,teamId:null==a?void 0:a.id}}))},trackingProperties:{trackingDescriptor:e3.c.PROFESSIONAL_PLAN},trusted:!0},el.createElement(e2.Tx,{id:"team_view.folder_upsell.professional_plan"}));return el.createElement(e8.fu,{name:"Folder Upsell List"},el.createElement("div",{className:eE.cx.flex.mt16.bRadius8.b1.colorBorder.$,style:cs.sx.add({borderStyle:"dashed",marginLeft:"-16px"}).$},el.createElement(e8.$z,{className:ey()(eE.cx.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.$,"folder_upsell--list--Jrhrl"),onClick:()=>{t((0,t3.to)({type:k1.DV,data:{team:a,resource:kK.vL.FOLDER,action:gf.ZN.CREATE_FOLDER,currentPlan:kY.F.Plan.STARTER,upsellPlan:kY.F.Plan.PRO,editorType:null}}))},trackingProperties:{trackingDescriptor:e3.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},el.createElement("div",{className:ey()(eE.cx.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--kcbDu")},el.createElement("div",{style:cs.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},el.createElement(nX.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},el.createElement(n0.In,{icon:"plus-32",fill:"onbrand"}))),el.createElement(nX.Y,{direction:"vertical",spacing:4},el.createElement(nX.Y,{direction:"horizontal",spacing:4},el.createElement(nX.Y,{cornerRadius:2,backgroundColor:"default"}),el.createElement(nX.Y,{cornerRadius:2,backgroundColor:"default"})),el.createElement(nX.Y,{direction:"horizontal",spacing:4},el.createElement(nX.Y,{cornerRadius:2,backgroundColor:"default"}),el.createElement(nX.Y,{cornerRadius:2,backgroundColor:"default"})))),el.createElement(nX.Y,{direction:"vertical",spacing:0},el.createElement(oK.E,{fontSize:13,i18nId:"team_view.folder_upsell.upgrade_to_create_more_projects"}),el.createElement(oK.E,{fontSize:11,color:"secondary",i18nId:"team_view.folder_upsell.get_unlimited_everything",i18nParams:{professionalPlanLink:l}})))))}var P6=a(605048),P9=a(341798);let P7="folder_list_view--emptyState--GUJd9 tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",Be="project-card";function Bt(e){let t=(0,ei.wA)(),a=(0,ei.d4)(e=>e.dropdownShown),r=(0,ei.d4)(e=>e.folders),n=(0,ei.d4)(e=>e.currentUserOrgId),l=(0,pV.S)(),i=(0,ei.d4)(e=>e.user),s=(0,ow.FC)(),o=e.folderList.map(t=>{let a=(0,u5.wA)(s),r=s.user&&s.roles.byFolderId[t.id]?s.roles.byFolderId[t.id][s.user.id]:void 0;return{...t,canView:(0,sQ.canViewResource)(lm.vt.FOLDER,t.id,s),hideSubtitle:!!(a&&!(0,sQ.canMemberOrg)(a.id,s)),currentUserHasViewRole:!!e.isCurrentUserInTeam||!!r&&r.level>=oi.e6.VIEWER}}),c=()=>e.viewMode===L9.XU.LIST,d=l?(0,_B.He)(a):void 0,m=(t,a)=>{var r;let{hideSubtitle:n,...i}=t,s=!n&&e.showTeamNameOrAuthor,o=t.currentUserHasViewRole||l;return el.createElement(P4.Z,{key:t.id,showTeamNameOrAuthor:s,folder:i,folderRef:null==(r=e.getFolderRef)?void 0:r.call(e,t),hideSubscribe:!o,dataOnboardingKey:a,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter})};return 0===o.length?el.createElement(el.Fragment,null,e.onCreateNewFolder&&!(0,dP.R$)(i,n)?el.createElement("div",{className:P7},e.canEditTeamContents?el.createElement(el.Fragment,null,el.createElement("div",{className:"folder_list_view--emptyTitle--zy2c5 tiles_view--emptyTitle--Ir5LP"},el.createElement(e2.Tx,{id:"team_view.folder_empty_view.no_projects_yet"})),el.createElement(e2.Tx,{id:"team_view.folder_empty_view.projects_help_you_organize"}),el.createElement(eT.cw,{className:"folder_list_view--emptyButton--DID6b tiles_view--emptyButton--3MMre",onClick:e.onCreateNewFolder},el.createElement(eC.B,{svg:pg.A,className:"folder_list_view--newProjectIcon--ma0OH tiles_view--newFileIcon--1n9v-"}),el.createElement(e2.Tx,{id:"team_view.folder_empty_view.new_project"}))):el.createElement(e2.Tx,{id:"team_view.folder_empty_view.this_team_does_not_have_any_projects_yet"})):null!=e.emptyStateText?el.createElement("div",{className:P7},e.emptyStateText):el.createElement(e2.Tx,{id:"team_view.folder_empty_view.no_projects"})):el.createElement(el.Fragment,null,(()=>{let t=o.length>=2?1:1===o.length?0:void 0,a=c()+o.map(e=>e.id).join(",");return c()?el.createElement(el.Fragment,null,el.createElement(P6.u,{folderList:o,onChangeSortOptions:e.onChangeSortOptions,dataOnboardingKey:Be,dataOnboardingKeyIndex:t}),el.createElement(P5,{canEditTeam:e.canEditTeamContents})):el.createElement(Rm.o,{chunkSize:e.chunkSize??30,className:c()?"folder_list_view--foldersContainerList--Tbl-m":"folder_list_view--foldersContainerGrid--YLPKJ",listKey:a},el.createElement(La,{containerClassName:"folder_list_view--tileGrid--Fvj1y",tileSize:Lt.Medium,emptyView:el.createElement(el.Fragment,null)},o.map((e,a)=>a===t?m(e,Be):m(e,"")),el.createElement(P8,{canEditTeam:e.canEditTeamContents})))})(),d&&el.createElement(E_.p,{folder:d,onRenameClick:()=>{if(!d||!d.canEdit)return;let e=r[null==d?void 0:d.id];t((0,_O.WC)()),t((0,t3.to)({type:Mf,data:{folder:e}}))}}))}let Ba=[gE.Dq.NAME,gE.Dq.TEAM,gE.Dq.OWNER,gE.Dq.LAST_MODIFIED],Br=[gE.Dq.SHARED_AT],Bn=[gE.Dq.NAME,gE.Dq.TEAM,gE.Dq.OWNER,gE.Dq.LAST_MODIFIED,gE.Dq.SHARED_AT],Bl=[gE.Dq.NAME,gE.Dq.LAST_MODIFIED],Bi={[gE.Dq.NAME]:L9.ue.ASC,[gE.Dq.TEAM]:L9.ue.ASC,[gE.Dq.OWNER]:L9.ue.ASC,[gE.Dq.LAST_MODIFIED]:L9.ue.DESC,[gE.Dq.SHARED_AT]:L9.ue.DESC},Bs={[L9.XU.GRID]:{[gE.Dq.NAME]:el.createElement(e2.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[gE.Dq.TEAM]:el.createElement(e2.Tx,{id:"tile.sort_filter.owner"}),[gE.Dq.OWNER]:el.createElement(e2.Tx,{id:"tile.sort_filter.team"}),[gE.Dq.LAST_MODIFIED]:el.createElement(e2.Tx,{id:"tile.sort_filter.sort_last_modified"}),[gE.Dq.SHARED_AT]:el.createElement(e2.Tx,{id:"tile.sort_filter.date_shared"}),[gE.Dq.CREATED_AT]:el.createElement(e2.Tx,{id:"tile.sort_filter.sort_date_created"})},[L9.XU.LIST]:{[gE.Dq.NAME]:el.createElement(e2.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[gE.Dq.TEAM]:el.createElement(e2.Tx,{id:"tile.sort_filter.owner"}),[gE.Dq.OWNER]:el.createElement(e2.Tx,{id:"tile.sort_filter.team"}),[gE.Dq.LAST_MODIFIED]:el.createElement(e2.Tx,{id:"tile.sort_filter.sort_last_modified"}),[gE.Dq.SHARED_AT]:el.createElement(e2.Tx,{id:"tile.sort_filter.date_shared"}),[gE.Dq.CREATED_AT]:el.createElement(e2.Tx,{id:"tile.sort_filter.sort_date_created"})}},Bo={viewMode:L9.XU.GRID,sortMode:{sortKey:gE.Dq.LAST_MODIFIED,sortDesc:!0}},Bc={...Bo,sortMode:{sortKey:gE.Dq.SHARED_AT,sortDesc:!0}},Bd={name:nv.f.byProperty("name",nv.f.LEXICOGRAPHICALLY),lastModified:nv.f.byProperty("folderLastUpdated"),team:nv.f.byProperty("folderTeamName",nv.f.LEXICOGRAPHICALLY),owner:nv.f.byProperty("folderOwnerName",nv.f.LEXICOGRAPHICALLY),sharedAt:nv.f.byProperty("folderSharedAt"),createdAt:nv.f.byProperty("created_at")};function Bm(e){let{folderList:t,...a}=e,r=(0,ei.d4)(e=>e.teams),n=(0,ei.d4)(e=>e.roles),l=(0,ei.d4)(e=>e.viewBarViewModeOptionByView),i=(0,ei.d4)(e=>e.viewBarSortOptionsByView),s=e.isSharerInfoIncluded?Br:Ba,o=e.showTeamNameOrAuthor?s:Bl,c=e.isSharerInfoIncluded?Bc:Bo,d=el.useMemo(()=>({viewMode:(0,P2.y2)(e.viewId,l,c.viewMode),sortMode:(0,P2.bV)(e.viewId,{viewBarSortOptionsByView:i},o,c.sortMode)}),[c.sortMode,c.viewMode,e.viewId,o,i,l]),m=(0,ei.wA)(),u=t=>{m(aC.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},_=t=>{m(aC.uV({viewId:e.viewId,viewMode:t}))},p=e.isSharerInfoIncluded?"folder_list_view--sharedWithYouFolderColumnHeader--RaSHW folder_list_view--columns--JzvpB":"folder_list_view--allFolderColumnHeader--SfHKv folder_list_view--columns--JzvpB",g=e.showTeamNameOrAuthor?p:"folder_list_view--basicFolderColumnHeader--Izp4r folder_list_view--columns--JzvpB",E="sharedWithYou"===e.selectedView.view,f="recentsAndSharing"===e.selectedView.view,h=!E&&!f,v=el.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=Bd[d.sortMode.sortKey];if(!t)return e.folderList;let a=d.sortMode.sortDesc?nv.f.reverse(t):t,l=e.folderList.map(e=>({...e,...(0,P9.Z)({teams:r,roles:n},e)}));return l.sort(a),l},[e.selectedView.view,d.sortMode.sortKey,d.sortMode.sortDesc,e.folderList,r,n]);return el.createElement("div",{className:"folder_list_view--tabContentContainer--mtAzG"},E?el.createElement(Bu,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:_,viewBarOptions:d}):null,h?el.createElement(_x.fB,{sortKeys:o,listSortKeys:o,initialSortOrders:Bi,mobileListSortKeys:o,tabletListSortKeys:o,sortKeyDescriptions:Bs,listHeaderClassName:`folder_list_view--listViewHeader---6zkp text--fontPos13--xW8hS text--_fontBase--QdLsd ${g}`,options:d,onChangeSortOptions:u,onChangeViewModeOption:_,displayColumns:E?Bn:o,hideViewModeToggle:E||f}):null,el.createElement(Bt,{folderList:v,getFolderRef:e.getFolderRef,chunkSize:e.chunkSize,viewMode:d.viewMode,onChangeSortOptions:u,...a}))}function Bu(e){let{sortFilterOptions:t,sharedWithYouFilters:a,onChangeViewModeOption:r,viewBarOptions:n}=e,l=(0,ei.wA)(),i=(0,sJ._6)();if("sharedWithYou"!==i.view)return null;if(null==t)return(0,eh.KF)(!0,`sortFilterOptions prop is ${t}`),null;let s=el.createElement(_x.$f,{options:t,selectedView:i,dispatch:l}),o=el.createElement("div",{className:eE.cx.flex.alignCenter.$},el.createElement(_x.$c,{initialViewMode:n.viewMode,onViewModeChange:r})),c=el.createElement("div",{className:eE.cx.flex.$},s,o),d=el.createElement(_x.C9,{options:t,selectedView:i,dispatch:l,sharedWithYouFilters:a});return el.createElement(_x.lU,{leftSide:d,rightSide:c})}function B_(){return{[L9.cT.ALL]:(0,e2.t)("shared_with_you.filters.org_deleted_drafts.all"),[L9.cT.SHARED]:(0,e2.t)("shared_with_you.filters.org_deleted_drafts.shared"),[L9.cT.ORG_DELETED_DRAFTS]:(0,e2.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function Bp(){var e,t;let a=(0,sJ._6)(),r=(0,ei.d4)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===a.view?r.recentsAndSharing.sharedProjects:r.sharedWithYou,l=PZ(["folder"]),i=PJ(["folder"]),s=B_(),o={tileSortFilterConfig:n,sortKeys:[L9.C0.SHARED_AT]},[c,d]=P0((0,el.useMemo)(()=>{var e,t;return{resourceTypes:["folder"],sharedBy:n.filters.sharedBy??"",planId:(null==(e=n.filters.plan)?void 0:e.planId)??"",planType:(null==(t=n.filters.plan)?void 0:t.planType)??"",orgDeletedDrafts:n.filters.orgDeletedDrafts??"",sortOrder:n.sort.dir===L9.ue.ASC?"asc":"desc",sortKey:(0,L9.De)(n.sort.key)??"shared_at"}},[n.filters.sharedBy,null==(e=n.filters.plan)?void 0:e.planId,null==(t=n.filters.plan)?void 0:t.planType,n.filters.orgDeletedDrafts,n.sort.dir,n.sort.key])),m=(0,el.useMemo)(()=>c.data??{},[c.data]),u=(0,el.useMemo)(()=>Object.values(m).map(e=>e.tile).filter(e=>e.type===gd.nb.PROJECT).map(e=>({...e.folder,touched_at:e.folder.updated_at})),[m]),_=(0,el.useMemo)(()=>u.map(e=>e.id),[u]),{trackPerformanceEvent:p}=(0,Ab.S)("swy_projects_pagination_performance","livegraph");(0,el.useEffect)(()=>{p("fetch_end")},[p,_.length]),(0,el.useEffect)(()=>{c.status===Du.ERRORS&&p("fetch_error",{errors:JSON.stringify(c.errors??{})})},[p,c.status,c.errors]),(0,el.useEffect)(()=>(p("fetch_start"),()=>{p("fetch_cancel")}),[p]);let g=(0,el.useCallback)(()=>{c.isFetchingNextPage||(p("fetch_next"),d({type:"fetchNextPage"}))},[c.isFetchingNextPage,d,p]),E=Dd(_,(0,el.useCallback)((e,t)=>{var a,r,n,l;let i=Object.values(m).find(e=>e.tile.type===gd.nb.PROJECT&&e.tile.folder.id===t);e.isIntersecting?null==(r=null==(a=null==i?void 0:i.actions)?void 0:a.subscribe)||r.call(a):null==(l=null==(n=null==i?void 0:i.actions)?void 0:n.unsubscribe)||l.call(n)},[m]),{rootMargin:"100% 0px 100% 0px"});return el.createElement(po.A,{loadingElementId:"loading-content-pane",delay:250,loaded:c.status===Du.LOADED,loadingElementClassName:eE.cx.pr32.$},el.createElement(Dm,{onShouldFetchNextPage:g},el.createElement(Bm,{viewId:"shared-with-you-projects",folderList:u,getFolderRef:e=>E.get(e.id)??null,chunkSize:u.length,showTeamNameOrAuthor:!1,isCurrentUserInTeam:!1,isSharerInfoIncluded:!0,sharedWithYouFilters:{sharer:l,plan:i,orgDeletedDrafts:s},sortFilterOptions:o,selectedView:a,emptyStateText:c.isFetchingNextPage?"":(0,e2.t)("shared_with_you.no_items"),useLGPerms:!0,currentPlanFilter:n.filters.plan})))}var Bg=a(601538);let BE="seen_shared_files_onboarding",Bf=(0,aj.r1)("seen_account_profile_switcher_onboarding"),Bh=(0,aj.r1)(BE);function Bv(){let e=(0,eU.md)(Bf),t=(0,eU.md)(Bh),a=(0,a$.e)({overlay:aJ.fz8,priority:aH.N.SECONDARY_MODAL},[t,e]);return(0,ed.h)(()=>{a.show({canShow:(e,t)=>t&&!e})}),el.createElement(fW.rq,{targetKey:Bg.Bh,isShowing:a.isShowing,title:el.createElement(e2.Tx,{id:"rcs.shared_with_you.shared_files_title"}),description:el.createElement(e2.Tx,{id:"rcs.shared_with_you.shared_files_description",recents:el.createElement("span",{className:eE.cx.fontBold.$},el.createElement(e2.Tx,{id:"rcs.shared_with_you.recents"}))}),primaryCta:{type:"button",label:el.createElement(e2.Tx,{id:"rcs.got_it"}),onClick:a.complete,ctaTrackingDescriptor:e3.c.DONE},width:350,onClose:a.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:BE})}let Bb=e=>{switch(e){case mW.G.RECENTLY_VIEWED:return(0,e2.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case mW.G.SHARED_PROJECTS:return(0,e2.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case mW.G.SHARED_FILES:return(0,e2.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,eh.xb)(e)}};function By(e){var t,a,r,n,l,i;let s=(0,aN.TA)(),o=(0,ei.d4)(e=>e.orgUsersByOrgId.orgUsers),c=el.useMemo(()=>null!==s&&Object.values(o).some(e=>{var t;return(null==(t=e[s])?void 0:t.permission)===lm._D.ADMIN}),[s,o]),d=e.options.tileSortFilterConfig.filters.sharedBy,m=e.options.tileSortFilterConfig.filters.plan;return el.createElement("div",{className:"recents_and_sharing_viewbar--dropdownCollectionContainer--2Yk4e"},el.createElement(el.Fragment,null,(null==(t=e.filters)?void 0:t.sharer)&&Object.keys(null==(a=e.filters)?void 0:a.sharer).length>1&&el.createElement(el.Fragment,null,d&&el.createElement(_x.qD,{userId:d}),el.createElement(_x.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),(null==(r=e.filters)?void 0:r.plan)&&Object.keys(null==(n=e.filters)?void 0:n.plan).length>1&&el.createElement(el.Fragment,null,(null==m?void 0:m.planId)&&el.createElement(_x.lV,{planOption:e.filters.plan[m.planId]}),el.createElement(_x.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),(null==(l=e.filters)?void 0:l.fileType)&&el.createElement(el.Fragment,null,el.createElement(_x.ye,{config:e.options.tileSortFilterConfig,tab:e.tab})),(null==(i=e.filters)?void 0:i.orgDeletedDrafts)&&c&&el.createElement(el.Fragment,null,el.createElement(_x.T3,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.orgDeletedDrafts,tab:e.tab}))))}function Bw(e){let t=e.selectedTab,a=(0,ei.wA)(),r=(0,sJ._6)(),n=(0,ei.d4)(e=>e.tileSortFilterStateByView),l=t===mW.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],i=PZ(l),s=function(){var e;let t=(0,aN.TA)(),a=(0,ei.d4)(e=>e.authedUsers);return((t?null==(e=a.byId[t])?void 0:e.plans:[])??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"})).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...Pz()})}(),o=PJ(l),c=B_(),d={sharer:t!==mW.G.RECENTLY_VIEWED?i:void 0,plan:t===mW.G.RECENTLY_VIEWED?s:o,fileType:t!==mW.G.SHARED_PROJECTS,orgDeletedDrafts:t===mW.G.SHARED_PROJECTS?c:void 0},m=el.useMemo(()=>{let e;switch(t){case mW.G.RECENTLY_VIEWED:e=n.recentsAndSharing.recents;break;case mW.G.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case mW.G.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,eh.xb)(t)}return{tileSortFilterConfig:e,sortKeys:mW.o[t]}},[t,n]),u=e=>{e===mW.G.SHARED_FILES?(0,e7.sx)("file_browser_shared_files"):e===mW.G.SHARED_PROJECTS&&(0,e7.sx)("file_browser_shared_projects"),a(aC.$T({view:"recentsAndSharing",tab:e}))},_=e=>{(0,e7.sx)("file view toggle",{viewType:e===L9.XU.GRID?"grid":"list"}),Object.keys(mW.G).map(t=>{a(aC.JF({selectedView:r,config:{...m.tileSortFilterConfig,viewMode:e},tab:mW.G[t]}))},a(aC.uV({viewId:"shared-with-you-projects",viewMode:e})))},p=el.createElement("div",{className:eE.cx.flex.alignCenter.$},el.createElement(_x.$c,{initialViewMode:m.tileSortFilterConfig.viewMode,onViewModeChange:_})),g=el.createElement(_x.mc,{options:m,selectedView:r,dispatch:a,tab:t}),E=el.createElement("div",{className:eE.cx.flex.$,key:"sortWithViewOptions"},g,p),f=el.createElement(By,{options:m,filters:d,tab:t,key:"recentsAndSharingTileFilters"}),h=el.createElement(_x.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:m,filters:d,onViewModeChange:_,tab:t}),v=Object.keys(mW.G).map(t=>{let a="SHARED_FILES"===t?Bg.Bh:"";return el.createElement(w7.r,{tab:mW.G[t],onClick:u,isSelected:e.selectedTab===mW.G[t],tabName:Bb(mW.G[t]),key:t,dataOnboardingKey:a})});return el.createElement(el.Fragment,null,el.createElement(aV.p,null,el.createElement(Bv,null)),el.createElement(_x.g2,{leftSide:el.createElement(w7.f,{tabs:v}),rightSide:[f,E],rightSideMobile:h}))}function BT(e){switch(e){case t5.bb.ACCOUNT:return PR.c.ACCOUNT;case t5.bb.COMMUNITY:return PR.c.COMMUNITY;case t5.bb.NOTIFICATIONS:return PR.c.NOTIFICATIONS}}function Bx(e){let t=(0,ei.wA)(),a=DJ({}),{selectedTab:r,accountModalTab:n,emailPolicyToUnsubscribeFrom:l}=e,i=el.createElement(Bw,{selectedTab:r}),s=(0,dZ.Z)(n),o=(0,dZ.Z)(l);return(0,el.useEffect)(()=>{n&&n!==s?(t((0,t3.to)({type:PR.s,data:{tab:BT(n)}})),t(aC.$T({view:"recentsAndSharing",tab:mW.G.RECENTLY_VIEWED}))):l&&l!==o&&(PA.z.updateUserCommunicationPreference({channelType:"email",policyType:l,policySetting:"none"}).then(()=>{t((0,t3.to)({type:PF,data:{policyType:l}}))}).catch(e=>{t((0,t3.to)({type:PR.s,data:{tab:BT(t5.bb.NOTIFICATIONS)}})),t(a0.F.dequeue({}))}),t(aC.$T({view:"recentsAndSharing",tab:mW.G.RECENTLY_VIEWED})))},[n,s,l,o,t]),el.createElement(uw.r,{banner:a?el.createElement(DH,{folderId:null}):el.createElement(PH,null),viewbar:i,viewBarSticky:!0,toolbar:el.createElement(Pq,null),content:function(e){switch(e){case mW.G.SHARED_FILES:return el.createElement(P1,null);case mW.G.SHARED_PROJECTS:return el.createElement(Bp,null);case mW.G.RECENTLY_VIEWED:return el.createElement(PU,null)}}(r)})}var BC=a(24171);let BN=(0,_t.rw)();function Bk(e){let t=(0,ei.wA)(),a=[el.createElement(BN,{tab:BC.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(aC.$T({view:"sharedWithYou",tab:BC.G.FILES}))},mobileNavTabTitle:(0,e2.t)("shared_with_you.toolbar.files")},el.createElement(e2.Tx,{id:"shared_with_you.toolbar.files"})),el.createElement(BN,{tab:BC.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(aC.$T({view:"sharedWithYou",tab:BC.G.PROJECTS}))},mobileNavTabTitle:(0,e2.t)("shared_with_you.toolbar.projects")},el.createElement(e2.Tx,{id:"shared_with_you.toolbar.projects"}))];return el.createElement(_e.W,{resetTileSelectionOnMouseDown:!0,tabs:a})}function BS(e){return el.createElement(uw.r,{toolbar:el.createElement(Bk,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return el.createElement(P1,null);case"projects":return el.createElement(Bp,null)}}(e.tab)})}function BI({team:e}){return el.createElement(u3,{supportedLicenses:[oX.oM.DESIGN,oX.oM.WHITEBOARD],planType:uy.ps.TEAM,planId:e.id})}function BA({team:e,shouldShowDevModeSuggestedUpgradesModal:t}){let a=(0,ei.wA)(),r=(0,ei.d4)(e=>e.avatarEditorState),n=(0,em.kc)().billing_dev_mode_customer_ui,l=(0,uy.IA)({planType:uy.ps.TEAM,planId:e.id}),[i,s]=(0,eU.fp)(uq),[o,c]=el.useState(n&&l);el.useEffect(()=>{if(null!==l){c(n&&l);let t=[uy.ps.TEAM,e.id].toString(),a={...i};a[t]=!!(n&&l),s(a)}},[n,l,e.id]);let d=()=>{c(!1);let t=[uy.ps.TEAM,e.id].toString(),a={...i};a[t]=!1,s(a)},m=()=>{a(t3.to({type:Nm,data:{planId:e.id,planType:uy.ps.TEAM,onNoUpgrades:d}}))};return(0,ed.h)(()=>{n&&(0,em.kc)().dev_mode_suggested_upgrades&&t&&e.pro_team&&m()}),el.createElement("div",{style:cs.sx.add({width:"780px",marginLeft:"auto",marginRight:"auto"}).$},el.createElement("div",{style:cs.sx.flex.flexRow.gap24.justifyStart.add({marginTop:"40px",marginBottom:"40px"}).$},el.createElement(mJ.ER,{dispatch:a,entityType:mY.ck.TEAM,entity:e,size:80,avatarEditorState:r}),el.createElement("div",{className:eE.cx.flex.flexColumn.justifyCenter.itemsStart.$},el.createElement(oK.E,{fontWeight:"regular",fontSize:24},e.name),e.community_profile_handle&&el.createElement(e8.jm,{className:ey()(eE.cx.lh24.font13.cursorPointer.$,"admin_dashboard_tab--communityHandle--H8wF1"),onClick:()=>{a(aC.$T({view:"communityHub",subView:"handle",handle:e.community_profile_handle}))}},"@",e.community_profile_handle))),e.pro_team&&el.createElement(nX.Y,{spacing:16,direction:"vertical"},o&&el.createElement(e8.fu,{name:t6.e0.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD,properties:{adminRequestsDashboard:!0,teamId:e.id}},(0,em.kc)().dev_mode_suggests_tile_dismissal?el.createElement(No,{onClick:m,title:(0,e2.t)("admin_dashboard.suggested.tile.title",{dateObject:uy.Se}),subText:el.createElement(e2.Tx,{id:"admin_dashboard.suggested.tile.subtext.main",dismissalLink:el.createElement("span",{className:"admin_dashboard_tab--suggestedUpgradesDismissalLink--mN1Pi",role:"button",onClick:()=>{Nd.dismissDevModeSuggestedUpgrades({team_id:e.id}),c(!1)},tabIndex:0},el.createElement(e2.Tx,{id:"admin_dashboard.suggested.tile.subtext.dismissal_link"}))}),buttonText:(0,e2.t)("admin_dashboard.suggested.button"),color:Nl.YELLOW,dataTestId:"dev-mode-suggested-upgrades-team"}):el.createElement(Ns,{onClick:m,title:(0,e2.t)("admin_dashboard.suggested.tile.title",{dateObject:uy.Se}),text:(0,e2.t)("admin_dashboard.suggested.tile.body.dm_opted_in"),color:Nl.YELLOW,dataTestId:"dev-mode-suggested-upgrades-team"})),el.createElement("div",{className:eE.cx.mb16.$},el.createElement(BI,{team:e}))))}let BL="step_pay--smallGrayText--4bo0T",BR="step_pay--smallText--ZZAQ8 text--fontPos11--2LvXf text--_fontBase--QdLsd",BO="step_pay--rowFlex--xEMMn step_pay--row--OiURo";function BD(e){let t=el.useRef(null),[a,r]=el.useState(!1),[n,l]=el.useState(null),i=new r$.vr(e.currency),s=i.getPrices(),o=!e.allowZeroSeats,c=e.numAnnualEditors-(e.numFreeAnnualEditors||0),d=!!e.numFreeAnnualEditors,m=!d||c>0,u=t=>{e.onNumAnnualEditorsChange(t)},_=void 0!==e.monthlyCostOverride?e.monthlyCostOverride:e.editorType===lm._Y.WHITEBOARD?s.annualFigjam:s.annualFigma,p=el.createElement("button",{type:"button",className:"step_pay--changeLink--W5wlP blue_link--blueLink--9rlnd","data-testid":`add-${e.editorType}-seats`,onClick:()=>r(!0)},el.createElement(e2.Tx,{id:"payments.step_pay.add_more_seats"}));return el.createElement("div",{className:BO,key:`${e.editorType}-step-pay-row`},el.createElement("div",null,el.createElement("div",{className:"step_pay--flex--Obb9Z"},el.createElement("span",null,el.createElement(e2.Tx,{id:"payments.step_pay.editors_on_annual_plan.seat_rename",numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:a?el.createElement(eT.ks,{ref:t,className:"step_pay--numEditorsInput--kz1-v",value:null==n?e.numAnnualEditors:n,onChange:e=>{l(e.target.value)},onBlur:()=>{let t=parseInt(n);if(!isNaN(t)){if(t<0)e.dispatch(ae.s.error((0,e2.t)("flash.no_negative_seats")));else if(0===t)o?e.dispatch(ae.s.error((0,e2.t)("flash.at_least_one_editor.seat_rename"))):u(0);else if(t>d2.m){let t=el.createElement("a",{href:`mailto:${(0,em.W4)()}`},el.createElement(e2.Tx,{id:"flash.annual_plan.contact_support_link"}));e.dispatch(ae.s.error(el.createElement(e2.Tx,{id:"flash.annual_plan.contact_support",contactSupport:t,maxAnnualSubscriptions:d2.m})))}else t>100?e.dispatch(t3.to({type:BU,data:{numAnnualEditors:t,onConfirm:()=>u(t)}})):u(t)}l(null),r(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===_k.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===_k.Uz.ESCAPE&&r(!1)}}):e.numAnnualEditors,productType:(0,uU.E)((0,oX.vc)(e.editorType))}))),!a&&el.createElement("div",{className:eE.cx.flex.flexColumn.gap4.$},e.editorBreakdown,el.createElement("p",{className:BL},el.createElement(e2.Tx,{id:"payments.step_pay.add_more_editors",addMoreSeats:p})))),el.createElement(BP,{amount:e.totalCost,freeLineItem:d&&e.numFreeAnnualEditors?e.numFreeAnnualEditors>0?(0,e2.t)("payments.step_pay.price_per_editor_12_months",{price:i.formatMoney(0,{showCents:!1}),editorString:(0,e2.t)("payments.step_pay.num_editors.seat_rename",{numEditors:e.numFreeAnnualEditors})}):(0,e2.t)("payments.step_pay.none_selected"):void 0,lineItem:m?c>0?(0,e2.t)("payments.step_pay.price_per_editor_12_months",{price:i.formatMoney(_,{showCents:!1}),editorString:(0,e2.t)("payments.step_pay.num_editors.seat_rename",{numEditors:c})}):(0,e2.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function BF(){return el.createElement("div",{className:"step_pay--separator--EvA0A"})}function BM(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:a}=e,r=(0,co.mF)(s1.tY.ANNUAL),[n,l]=el.useState({jamboardOfferSeatsRemaining:0,numAnnualFigjamPaidSeats:0,numJamboardFreeSeatsUsed:0,shouldRedeemJamboardOffer:!1}),i=(0,co.lA)(a),s=(0,co.U8)({numWhiteboardEditors:a,billingPeriod:s1.tY.ANNUAL}),o=(0,co.PJ)({numWhiteboardEditors:a,billingPeriod:s1.tY.ANNUAL});el.useEffect(()=>{e.submitPending||l({jamboardOfferSeatsRemaining:i,numAnnualFigjamPaidSeats:s,numJamboardFreeSeatsUsed:o,shouldRedeemJamboardOffer:r})},[r,i,s,o,e.submitPending]);let c=new r$.vr(e.currency).getPrices(),{isTeamPro:d,totalDesignEditors:m,totalWhiteboardEditors:u}=e,_=m-t,p=t*c.annualFigma*12,g=_*c.monthlyFigma,E=p+(!d&&_>0?g:0),f=u-n.numAnnualFigjamPaidSeats,h=n.numAnnualFigjamPaidSeats*c.annualFigjam*12,v=f*c.monthlyFigjam,b=h+(!d&&f>0?v:0);return el.createElement("div",null,el.createElement(BD,{dispatch:e.dispatch,editorType:lm._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==a,currency:e.currency,totalCost:E}),el.createElement(BD,{dispatch:e.dispatch,editorType:lm._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:a,numFreeAnnualEditors:n.shouldRedeemJamboardOffer?n.numJamboardFreeSeatsUsed:null,allowZeroSeats:0!==t,currency:e.currency,totalCost:b,monthlyCostOverride:n.shouldRedeemJamboardOffer&&n.numAnnualFigjamPaidSeats<=0?0:void 0,editorBreakdown:n.shouldRedeemJamboardOffer&&n.numAnnualFigjamPaidSeats>0?el.createElement(el.Fragment,null,n.numJamboardFreeSeatsUsed>0&&el.createElement("p",{className:BR},el.createElement(e2.Tx,{id:"payments.step_pay.x_free_editor_seats.seat_rename",numEditors:n.numJamboardFreeSeatsUsed,seatString:el.createElement(e2.Tx,{id:"payments.step_pay.x_seats",numSeats:n.numJamboardFreeSeatsUsed})})),n.numAnnualFigjamPaidSeats>0&&el.createElement("p",{className:BR},el.createElement(e2.Tx,{id:"payments.step_pay.x_paid_editor_seats.seat_rename",numEditors:n.numAnnualFigjamPaidSeats,seatString:el.createElement(e2.Tx,{id:"payments.step_pay.x_seats",numSeats:n.numAnnualFigjamPaidSeats})}))):void 0}),n.shouldRedeemJamboardOffer&&el.createElement("div",{className:eE.cx.pb24.$},el.createElement(cx,{numOfferSeatsRemaining:n.jamboardOfferSeatsRemaining})),el.createElement(BF,null),el.createElement("div",{className:BO},el.createElement("div",{className:"step_pay--totalLabelText--AGl3f"},el.createElement(e2.Tx,{id:"payments.step_pay.subscription"})),el.createElement(BB,{amount:E+b,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function BP(e){let t=new r$.vr(e.currency);return el.createElement("div",{className:"step_pay--subtotal--6UO6U"},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",el.createElement("div",{className:eE.cx.flex.flexColumn.gap4.$},e.freeLineItem&&el.createElement("div",{className:BL},e.freeLineItem),e.lineItem&&el.createElement("div",{className:BL},e.lineItem)))}function BB(e){let t=new r$.vr(e.currency);return el.createElement("div",{className:"step_pay--total--GbAo4"},el.createElement("p",{className:"step_pay--totalText--l8b9r step_pay--jumboText--w9p0A","data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&el.createElement("p",{className:"step_pay--plusTaxText--V1-m8"},el.createElement(e2.Tx,{id:"payments.step_pay.plus_sales_tax"})))}let BU="confirm-seats-modal";function BW(e){let t=e.modalShown.data.numAnnualEditors;return el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,e2.t)("payments.step_pay.confirm_seats"),...e},el.createElement(e2.Tx,{id:"payments.step_pay.happy_you_want_to_buy_seats",numAnnualEditors:t}))}function BV(e){return el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"change_annual_plan_modal.number_of_editors.seat_rename",productType:(0,uU.E)((0,oX.vc)(e.editorType))}),el.createElement(eT.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:d2.m,value:e.tempNumEditors,onChange:t=>{let a=t.target.value;e.setTempEditorsValue(parseInt(a))}}))}(0,rr.qK)(BU,e=>el.createElement(BW,{...e}));let BG="team-admin-change-annual-plan";function B$(e){let t=(0,co.mF)(s1.tY.ANNUAL);return el.createElement(Bj,{...e,showJamboardOfferBanner:t})}(0,rr.qK)(BG,e=>el.createElement(B$,{...e,promotionCodeId:e.modalShown.data.promotionCodeId,selectedView:e.selectedView}));class Bj extends el.PureComponent{constructor(e){super(e),this.team=()=>this.props.teams[this.props.selectedView.teamId],this.confirmSeats=(e,t,a)=>{this.props.dispatch(oa.MV({teamId:this.team().id,annualQuantity:e,annualWhiteboardQuantity:t,promotionCodeId:a??void 0}))},this.onSubmit=()=>{var e,t,a;isNaN(this.state.tempDesignEditors)||isNaN(this.state.tempWhiteboardEditors)||this.state.tempDesignEditors<0||this.state.tempWhiteboardEditors<0||0===this.state.tempDesignEditors&&0===this.state.tempWhiteboardEditors?this.props.dispatch(ae.s.error((0,e2.t)("change_annual_plan_modal.invalid_seats_error"))):this.state.tempDesignEditors+this.state.tempWhiteboardEditors>d2.m?(this.props.dispatch(ae.s.error(el.createElement("div",null,el.createElement(e2.Tx,{id:"change_annual_plan_modal.contact_support_to_purchase_more_seats_error",maxAnnualSubscriptions:d2.m,contactSupportLink:el.createElement("a",{href:`mailto:${(0,em.W4)()}`},(0,e2.t)("change_annual_plan_modal.contact_support_link"))})))),this.setState({tempDesignEditors:(null==(e=this.annualSub())?void 0:e.design_quantity)||(null==(t=this.annualSub())?void 0:t.quantity)||0,tempWhiteboardEditors:(null==(a=this.annualSub())?void 0:a.whiteboard_quantity)||0})):this.state.tempWhiteboardEditors+this.state.tempDesignEditors>100?this.props.dispatch(t3.to({type:BU,data:{numAnnualEditors:this.state.tempDesignEditors+this.state.tempWhiteboardEditors,onConfirm:this.confirmSeats.bind(this,this.state.tempDesignEditors,this.state.tempWhiteboardEditors,this.state.promotionCodeId)}})):this.props.dispatch(oa.MV({teamId:this.team().id,annualQuantity:this.state.tempDesignEditors,annualWhiteboardQuantity:this.state.tempWhiteboardEditors,promotionCodeId:this.state.promotionCodeId??void 0}))},this.annualSub=()=>{try{let e=this.props.teamBilling.summary;if(null==e?void 0:e.annual_subscription)return(null==e?void 0:e.annual_subscription)||void 0;return}catch(e){return}},this.cancelPlan=()=>{this.props.dispatch(t3.to({type:BH}))},this.hide=()=>{this.props.dispatch(t3.Ce())},this.renderInstructions=()=>{let e=this.props.teamBilling.summary.currency,t=new r$.vr(e),a=t.getPrices();return el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"change_annual_plan_modal.instructions.seat_rename",monthlyEditorCost:t.formatMoney(a.monthlyFigma,{showCents:!1}),editorProduct:(0,uU.E)(oX.oM.DESIGN),monthlyFigjamCost:t.formatMoney(a.monthlyFigjam,{showCents:!1}),figJamProduct:(0,uU.E)(oX.oM.WHITEBOARD)}))};let t=this.annualSub(),a=(null==t?void 0:t.whiteboard_quantity)||0;this.state={tempDesignEditors:(null==t?void 0:t.design_quantity)||(null==t?void 0:t.quantity)||0,tempWhiteboardEditors:a,promotionCodeId:e.promotionCodeId}}render(){var e,t;let a=this.annualSub(),r=!!(null==a?void 0:a.trial_end)&&!!(0,d2.mt)(a.trial_end),n=a?(0,e2.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(a.current_period_end)}):(0,e2.t)("change_annual_plan_modal.unknown_start_date"),l=r?(0,e2.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:n}):(0,e2.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:n});return el.createElement(e8.fu,{name:"Change Annual Plan Modal",properties:{teamId:this.team().id,userId:null==(e=this.props.user)?void 0:e.id}},el.createElement(rn.Rw,{confirmationTitle:l,confirmText:(0,e2.t)("change_annual_plan_modal.confirm_text"),onConfirm:this.onSubmit,onCancel:this.hide,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending,trackedConfirmationProperties:{teamId:this.team().id,userId:null==(t=this.props.user)?void 0:t.id,monthly_quantity_design:this.state.tempDesignEditors,monthly_quantity_figjam:this.state.tempWhiteboardEditors},...this.props},el.createElement("br",null),el.createElement(e2.Tx,{id:"change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"}),el.createElement("br",null),el.createElement("br",null),this.renderInstructions(),el.createElement("br",null),el.createElement("br",null),el.createElement(BV,{editorType:lm._Y.DESIGN,tempNumEditors:this.state.tempDesignEditors,setTempEditorsValue:e=>this.setState({tempDesignEditors:e}),dispatch:this.props.dispatch}),el.createElement(el.Fragment,null,el.createElement("br",null),el.createElement("br",null),el.createElement(BV,{editorType:lm._Y.WHITEBOARD,tempNumEditors:this.state.tempWhiteboardEditors,setTempEditorsValue:e=>this.setState({tempWhiteboardEditors:e}),dispatch:this.props.dispatch})),el.createElement("br",null),el.createElement("br",null),this.props.showJamboardOfferBanner&&el.createElement("div",{className:eE.cx.pb16.$},el.createElement(cx,{numOfferSeatsRemaining:(0,co.lA)(isNaN(this.state.tempWhiteboardEditors)?0:this.state.tempWhiteboardEditors)})),el.createElement("a",{className:"change_annual_plan_modal--link--X4F62 blue_link--blueLink--9rlnd",onClick:this.cancelPlan},r?(0,e2.t)("change_annual_plan_modal.remove_annual_plan"):(0,e2.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}}Bj.displayName="ChangeAnnualPlanModal";let BH="team-admin-cancel-annual-plan";function Bq(e){let t=e.teams[e.selectedView.teamId],a=(0,ei.wA)(),r=e.teamBilling.summary.currency,n=new r$.vr(r),l=n.getPrices();return el.createElement(rn.Rw,{confirmationTitle:(0,e2.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,e2.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,e2.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{let e=t.id;a(oa.MV({teamId:e,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{a(t3.to({type:BG,data:{}}))},dontClose:!0,disableConfirm:e.payment.submitPutAnnualQuantityPending,...e},el.createElement("br",null),el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"change_annual_plan_modal.cancel_annual_plan_text.seat_rename",monthlyEditorCost:n.formatMoney(l.monthlyFigma),monthlyFigJamEditorCost:n.formatMoney(l.monthlyFigjam)})),el.createElement("br",null),el.createElement("br",null),el.createElement(e2.Tx,{id:"change_annual_plan_modal.cancel_annual_plan_subtext"}))}(0,rr.qK)(BH,e=>el.createElement(Bq,{...e,selectedView:e.selectedView}));let BY="cost_breakdown--row--0ykUQ",Bz="cost_breakdown--primary--DX3HO",BK="cost_breakdown--secondary--BRXvV",BJ="cost_breakdown--currency--hNdBB";function BQ(e){let t=new r$.vr(e.currency),a=t.formatMoney(e.whiteboardCostAnnual),r=t.formatMoney(e.whiteboardCostMonthly),n=t.getPrices(),l=(0,e2.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsMonthly}),i=(0,e2.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsAnnual}),s=(0,e2.t)("org_admin_settings.cost_breakdown.12_months");return el.createElement(el.Fragment,null,e.whiteboardSeatsAnnual>0&&el.createElement("div",{className:BY},el.createElement("div",{className:Bz},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_annual_annual_fig_jam_editor_seats.seat_rename",whiteboardSeatsAnnual:e.whiteboardSeatsAnnual})),el.createElement("span",{className:BJ},a)),el.createElement("div",{className:BK},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_triple",cost:t.formatMoney(n.annualFigjam),seats:i,numMonths:s}))),e.whiteboardSeatsMonthly>0&&el.createElement("div",{className:BY},el.createElement("div",{className:Bz},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_monthly_monthly_fig_jam_editor_seats.seat_rename",whiteboardSeatsMonthly:e.whiteboardSeatsMonthly})),el.createElement("span",{className:BJ},r)),el.createElement("div",{className:BK},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_double",cost:t.formatMoney(n.monthlyFigjam),seats:l}))))}function BZ(e){let t=e.currency,a=new r$.vr(t),r=a.getPrices(),n=e.nDesignEditorsMonthly,l=e.nDesignEditorsAnnual,i=e.nWhiteboardEditorsMonthly,s=e.nWhiteboardEditorsAnnual,o=e.nFigjamEditors,c=e.whiteboardCotermUpgrades,d=(null==c?void 0:c.amount)||0,m=a.formatMoney(d),u=e.designCotermUpgrades,_=12*r.annualFigma*e.nDesignEditorsAnnual,p=r.monthlyFigma*e.nDesignEditorsMonthly,g=_+p,E=a.formatMoney(_),f=a.formatMoney(p),h=(null==u?void 0:u.amount)||0,v=a.formatMoney(h),b=12*r.annualFigjam*s,y=r.monthlyFigjam*i,w=b+y,T=a.formatMoney(g+w+h+d),x=(0,e2.t)("org_admin_settings.cost_breakdown.seats",{seats:n}),C=(0,e2.t)("org_admin_settings.cost_breakdown.seats",{seats:l}),N=(0,e2.t)("org_admin_settings.cost_breakdown.12_months");return el.createElement("div",{className:"cost_breakdown--container--XzO4k"},l>0&&el.createElement("div",{className:BY},el.createElement("div",{className:Bz},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_annual_annual_design_editor_seats.seat_rename",designSeatsAnnual:l})),el.createElement("span",{className:BJ},E)),el.createElement("div",{className:BK},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_triple",cost:a.formatMoney(r.annualFigma),seats:C,numMonths:N}))),n>0&&el.createElement("div",{className:BY},el.createElement("div",{className:Bz},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_monthly_monthly_design_editor_seats.seat_rename",designSeatsMonthly:n})),el.createElement("span",{className:BJ},f)),el.createElement("div",{className:BK},el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_double",cost:a.formatMoney(r.monthlyFigma),seats:x}))),el.createElement(BQ,{whiteboardSeatsMonthly:i,whiteboardSeatsAnnual:s,whiteboardCostMonthly:y,whiteboardCostAnnual:b,figjamSeats:o,currency:t}),u&&u.quantity>0&&u.amount>0&&el.createElement("div",{className:BY},el.createElement("div",{className:Bz},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_monthly_cotermed_design_editor_seats.seat_rename",seatsCotermed:u.quantity})),el.createElement("span",{className:BJ},v))),c&&c.quantity>0&&c.amount>0&&el.createElement("div",{className:BY},el.createElement("div",{className:Bz},el.createElement("span",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_monthly_cotermed_whiteboard_editor_seats.seat_rename",seatsCotermed:c.quantity})),el.createElement("span",{className:BJ},m))),el.createElement("div",{className:"cost_breakdown--divider--xV4yx"}),el.createElement("div",{className:"cost_breakdown--total--BrmSb"},el.createElement("div",null,el.createElement(e2.Tx,{id:"org_admin_settings.cost_breakdown.total"})),el.createElement("div",{className:BJ},T)))}let BX=(0,rr.Ju)(function(e){let t=(0,ei.wA)();return el.createElement(lD.XV,{onClose:()=>t(t3.Ce()),title:e.title,minWidth:341,maxWidth:341},el.createElement(BZ,{currency:e.currency,nDesignEditorsAnnual:e.nDesignEditorsAnnual,nDesignEditorsMonthly:e.nDesignEditorsMonthly,nFigjamEditors:e.nFigjamEditors,nWhiteboardEditorsAnnual:e.nWhiteboardEditorsAnnual,nWhiteboardEditorsMonthly:e.nWhiteboardEditorsMonthly,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades}))},"ProCostBreakdown"),B0="billing_overview--metadataRow--P--In billing_details_figjam--metadataRow--c0l-n",B1="billing_overview--cell--exAWf billing_details_figjam--cell--fkRJo",B2="billing_overview--container--U-Uxd billing_details_figjam--container--SYdeB",B4="billing_overview--header--rKibN billing_details_figjam--header--nkA7z",B3="billing_overview--primaryData--LWql8 billing_details_figjam--primaryData--vva8d",B8="billing_overview--secondaryData--qQKaw billing_details_figjam--secondaryData--8llxR",B5="billing_overview--link--TqR9h billing_details_figjam--link--LSPvP billing_tab--link--Q0N6G blue_link--blueLink--9rlnd";function B6(e){let{billing:t,dispatch:a,team:r}=e,n=t.summary.annual_subscription,l=t.summary.monthly_subscription;return(null==n?void 0:n.canceled_at)||(null==l?void 0:l.canceled_at)?el.createElement(B7,{billing:t,dispatch:a,team:r}):el.createElement(B9,{billing:t,dispatch:a,team:r})}function B9(e){let{billing:t,dispatch:a}=e,r=t.summary.monthly_subscription,n=t.summary.annual_subscription,l=(null==n?void 0:n.design_quantity)||(null==n?void 0:n.quantity)||0,i=(null==r?void 0:r.design_quantity)||(null==r?void 0:r.quantity)||0,s=(null==n?void 0:n.whiteboard_quantity)||0,o=(null==r?void 0:r.whiteboard_quantity)||0,c=null==r?void 0:r.design_coterm_upgrades,d=null==r?void 0:r.whiteboard_coterm_upgrades,m=(0,co.hP)(s1.tY.ANNUAL),u=Ul((null==r?void 0:r.estimated_amount_due)||0,(null==n?void 0:n.estimated_amount_due)||0,null==r?void 0:r.current_period_end,null==n?void 0:n.current_period_end);if(!u)return el.createElement(el.Fragment,null);let{nextInvoiceAt:_,invoiceTotal:p,areInvoicesCombined:g}=u,E=(0,dq.A)(new Date),f=n&&E.isAfter((0,dq.A)(n.current_period_end).add(-30,"days")),h=!!(null==n?void 0:n.trial_end)&&(0,d2.mt)(n.trial_end),v=!!(null==r?void 0:r.trial_end)&&(0,d2.mt)(r.trial_end),b=d8.b.BILLING_OVERVIEW,y=g||!r?l:0,w=g||!r?s:0,T=o+s;return el.createElement("div",{className:B2},el.createElement("div",{className:B0},el.createElement(Ut,{nextInvoiceAt:Ui(_)}),el.createElement(Ur,{annualSeats:l,monthlySeats:i,monthlySeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.monthly_design_editor_seats.seat_rename"}),totalSeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.total_design_editor_seats.seat_rename"})}),el.createElement(Ur,{annualSeats:s,monthlySeats:o,monthlySeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.monthly_fig_jam_editor_seats.seat_rename"}),totalSeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.total_fig_jam_editor_seats.seat_rename"})}),el.createElement(Ua,{currency:t.summary.currency,invoiceTotal:p,isCurrent:!0,isPlural:g,annualDesignSeats:y,monthlyDesignSeats:i,annualWhiteboardSeats:w,monthlyWhiteboardSeats:o,figjamSeats:t.summary.whiteboard_quantity||0,designCotermUpgrades:c,whiteboardCotermUpgrades:d})),el.createElement("div",{className:B0},el.createElement("div",{className:B1},n&&!h&&el.createElement(el.Fragment,null,el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.professional_plan_annual_renewal"})),el.createElement("div",{className:B8},Ui(n.current_period_end))),n&&h&&el.createElement(el.Fragment,null,el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.professional_plan_annual_subscription_start"})),el.createElement("div",{className:B8},Ui(h))),r&&!v&&el.createElement(el.Fragment,null,el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.professional_plan_monthly_renewal"})),el.createElement("div",{className:B8},Ui(r.current_period_end))),r&&v&&el.createElement(el.Fragment,null,el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.professional_plan_monthly_subscription_start"})),el.createElement("div",{className:B8},Ui(v))),el.createElement(eT.Ph,{className:B5,onClick:()=>{a(aC.$T({view:"orgSelfServe",upsellSource:b}))},trackingProperties:{trackingDescriptor:e3.c.UPGRADE_TO_ORGANIZATION,upsellSource:d8.b.BILLING_OVERVIEW},trusted:!0},el.createElement(e2.Tx,{id:"team_view.billing.upgrade_plan_to_organization"})),f&&el.createElement(eT.Ph,{className:B5,onClick:()=>{a((0,t3.to)({type:BG,data:{promotionCodeId:m}}))},trusted:!0},el.createElement(e2.Tx,{id:"team_view.billing.change_annual_plan"}))),el.createElement("div",{className:B1},el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.total_editor_seats_today.seat_rename"})),el.createElement("div",{className:B8},el.createElement(e2.Tx,{id:"team_view.billing.monthly_design_seats_breakdown",designSeats:i+l,figjamSeats:T})))))}function B7(e){let{billing:t,dispatch:a,team:r}=e,n=t.summary.last_monthly_invoice,l=t.summary.last_annual_invoice,i=t.summary.monthly_subscription,s=t.summary.annual_subscription,o=t.summary.has_billing_address,c=(null==s?void 0:s.design_quantity)||(null==s?void 0:s.quantity)||0,d=(null==i?void 0:i.design_quantity)||(null==i?void 0:i.quantity)||0,m=(null==s?void 0:s.whiteboard_quantity)||0,u=(null==i?void 0:i.whiteboard_quantity)||0,_=(null==l?void 0:l.total)===0,p=(null==n?void 0:n.design_quantity)||0,g=(null==l?void 0:l.design_quantity)||0,E=(null==n?void 0:n.whiteboard_quantity)||0,f=(null==l?void 0:l.whiteboard_quantity)||0,h=Ul((null==n?void 0:n.total)||0,(null==l?void 0:l.total)||0,null==n?void 0:n.date,null==l?void 0:l.date);if(!h)return el.createElement(el.Fragment,null);let{invoiceTotal:v,areInvoicesCombined:b}=h,y=!!((null==i?void 0:i.canceled_at)||(null==s?void 0:s.canceled_at)),w=!b&&i||_?0:g,T=!b&&i||_?0:f;return el.createElement("div",{className:B2},el.createElement("div",{className:B0},el.createElement(Ut,{nextInvoiceAt:(0,e2.t)("team_view.billing.canceled")}),el.createElement(Ua,{currency:t.summary.currency,invoiceTotal:v,isCurrent:!1,isPlural:b,monthlyDesignSeats:p,annualDesignSeats:w,figjamSeats:t.summary.whiteboard_quantity||0,monthlyWhiteboardSeats:E,annualWhiteboardSeats:T}),el.createElement(Ur,{annualSeats:w,monthlySeats:p,monthlySeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.monthly_design_editor_seats.seat_rename"}),totalSeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.total_design_editor_seats.seat_rename"})}),el.createElement(Ur,{annualSeats:T,monthlySeats:E,monthlySeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.monthly_fig_jam_editor_seats.seat_rename"}),totalSeatsHeaderText:el.createElement(e2.Tx,{id:"team_view.billing.total_fig_jam_editor_seats.seat_rename"})})),el.createElement("div",{className:B0},el.createElement("div",{className:B1},(null==i?void 0:i.canceled_at)&&el.createElement(Ue,{sub:i,expiringDesignSeatCount:d,expiringWhiteboardSeatCount:u,billingPeriod:"monthly"}),(null==s?void 0:s.canceled_at)&&el.createElement(Ue,{sub:s,expiringDesignSeatCount:c,expiringWhiteboardSeatCount:m,billingPeriod:"annual"}),el.createElement(eT.Ph,{className:B5,onClick:()=>(0,ks.C8)({team:r,dispatch:a,cancelling:y,monthlySub:i,annualSub:s,canSeeBillingAddressExp:o}),trusted:!0},el.createElement(e2.Tx,{id:"team_view.billing.reactivate_professional_plan"}))),t.summary.billing_contact&&el.createElement(Un,{billingContact:t.summary.billing_contact,team:r,dispatch:a})))}function Ue(e){return el.createElement(el.Fragment,null,el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.professional_plan_billing_period_cancellation",billingPeriod:e.billingPeriod})),el.createElement("div",{className:B8},el.createElement(e2.Tx,{id:"team_view.add_to_favorites.billing.lost_access",canceledAt:Ui(e.sub.canceled_at),listOfEditorsLosingAccess:(0,ac.Yx)([(0,e2.t)("team_view.add_to_favorites.billing.figma_design_editors.seat_rename",{designSeats:e.expiringDesignSeatCount}),(0,e2.t)("team_view.add_to_favorites.billing.figjam_editors.seat_rename",{figjamSeats:e.expiringWhiteboardSeatCount})]),currentPeriodEnd:Ui(e.sub.current_period_end)})))}function Ut(e){return el.createElement("div",{className:B1},el.createElement("span",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.next_invoice_issue_date"})),el.createElement("div",{className:B3}," ",e.nextInvoiceAt))}function Ua(e){let t=(0,ei.wA)(),a=new r$.vr(e.currency);return el.createElement("div",{className:B1},el.createElement("span",{className:B4},e.isCurrent?el.createElement(e2.Tx,{id:"team_view.billing.invoices_total",numInvoices:e.isPlural?2:1}):el.createElement(e2.Tx,{id:"team_view.billing.last_invoices_total",numInvoices:e.isPlural?2:1})),el.createElement("div",{className:B3},a.formatMoney(e.invoiceTotal)),e.invoiceTotal>0&&el.createElement("span",{className:"billing_overview--costBreakdownLink--A4Uf1 billing_details_figjam--link--LSPvP billing_tab--link--Q0N6G blue_link--blueLink--9rlnd",onClick:()=>t((0,t3.to)({type:BX,data:{title:"Cost Breakdown",currency:e.currency,nDesignEditorsAnnual:e.annualDesignSeats,nDesignEditorsMonthly:e.monthlyDesignSeats,nFigjamEditors:e.figjamSeats,nWhiteboardEditorsAnnual:e.annualWhiteboardSeats,nWhiteboardEditorsMonthly:e.monthlyWhiteboardSeats,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades}}))},el.createElement(e2.Tx,{id:"team_view.billing.see_cost_breakdown"})))}function Ur(e){let{monthlySeats:t,annualSeats:a,monthlySeatsHeaderText:r,totalSeatsHeaderText:n}=e;if(!a||0===a)return el.createElement("div",{className:B1},el.createElement("span",{className:B4},r),el.createElement("div",{className:B3},t));let l=a+t;return el.createElement("div",{className:B1},el.createElement("span",{className:B4},n),el.createElement("div",{className:B3},l),el.createElement("div",{className:"billing_overview--totalSeatsNextInvoiceBadges--eUrPc"},el.createElement(oj.Ex,{color:oj.zE.DEFAULT,text:(0,e2.t)("team_view.billing.annual_seats_annual",{annualSeats:a})}),el.createElement(oj.Ex,{color:oj.zE.DEFAULT,text:(0,e2.t)("team_view.billing.monthly_seats_monthly",{monthlySeats:t})})))}function Un(e){let{billingContact:t,team:a,dispatch:r}=e,n=async e=>await ks.BO({email:e,dispatch:r,teamId:a.id});return el.createElement("div",{className:B1},el.createElement("div",{className:B4},el.createElement(e2.Tx,{id:"team_view.billing.invoices_sent_to"})),el.createElement("div",{className:B8},t),el.createElement("div",{className:B5,onClick:()=>r((0,t3.to)({type:SA,data:{currentContacts:t,onSubmit:n,isOrg:!1}}))},el.createElement(e2.Tx,{id:"team_view.billing.change_contact"})))}function Ul(e,t,a,r){try{let n=a&&(0,dq.A)(a),l=r&&(0,dq.A)(r),i=r&&a&&n?n.diff(l,"days"):null;if((i||0===i)&&i>=-1&&i<=1)return{invoiceTotal:e+t,nextInvoiceAt:a,areInvoicesCombined:!0};if(a)return{invoiceTotal:e,nextInvoiceAt:a,areInvoicesCombined:!1};if(r)return{invoiceTotal:t,nextInvoiceAt:r,areInvoicesCombined:!1};throw Error(`Invalid invoices. Month: ${a}. Annual: ${r}`)}catch(e){console.error(e)}return{invoiceTotal:0,nextInvoiceAt:"",areInvoicesCombined:!1}}let Ui=e=>(0,dq.A)(e).format("MMM D, YYYY"),Us="invoices_table--colDate--ltJux",Uo="invoices_table--colDescription--owrLP",Uc="invoices_table--colSeats--YSOh8 invoices_table--_rightAligned--9BWDS",Ud="invoices_table--colStatus--3BUus";function Um(e){return el.createElement(el.Fragment,null,el.createElement(Uu,null),e.invoices.map((e,t)=>"open"!==e.status&&"paid"!==e.status?null:el.createElement(U_,{key:t,invoice:e})))}function Uu(){return el.createElement(va.Hj,{header:!0,useAdminTableStyles:!0,leftPadding:!0},el.createElement("div",{className:Us},el.createElement(e2.Tx,{id:"team_view.invoices_table.date"})),el.createElement("div",{className:Uo},el.createElement(e2.Tx,{id:"team_view.invoices_table.description"})),el.createElement("div",{className:Uc},el.createElement(e2.Tx,{id:"team_view.invoices_table.design_editor_seats.seat_rename"})),el.createElement("div",{className:Uc},el.createElement(e2.Tx,{id:"team_view.invoices_table.fig_jam_editor_seats.seat_rename"})),el.createElement("div",{className:Uc},el.createElement(e2.Tx,{id:"team_view.invoices_table.invoice_total"})),el.createElement("div",{className:Ud},el.createElement(e2.Tx,{id:"team_view.invoices_table.status"})))}function U_(e){let{invoice:t}=e,a=new r$.vr(t.currency);return el.createElement(va.Hj,{useAdminTableStyles:!0,className:"invoices_table--row--Gy1k-",leftPadding:!0},el.createElement("div",{className:Us},el.createElement("div",null,(0,dq.A)(t.date).format("MMM D, YYYY"))),el.createElement("div",{className:Uo},"Professional team (annual)"===t.product_name?el.createElement(e2.Tx,{id:"team_view.invoices.annual_team"}):"Professional team (monthly)"===t.product_name?el.createElement(e2.Tx,{id:"team_view.invoices.monthly_team"}):el.createElement(el.Fragment,null,t.product_name)),el.createElement("div",{className:Uc},t.design_quantity),el.createElement("div",{className:Uc},t.whiteboard_quantity),el.createElement("div",{className:"invoices_table--colCharges--FBt9y invoices_table--_rightAligned--9BWDS"},el.createElement("span",null,a.formatMoney(t.total,{showCents:!0}))),el.createElement("div",{className:Ud},el.createElement("div",null,(()=>{var e;if((null==(e=t.payment_intent)?void 0:e.status)==="processing")return el.createElement(e2.Tx,{id:"team_view.invoices.status.processing"});switch(t.status){case"draft":return el.createElement(e2.Tx,{id:"team_view.invoices.status.draft"});case"open":return el.createElement(e2.Tx,{id:"team_view.invoices.status.open"});case"paid":return el.createElement(e2.Tx,{id:"team_view.invoices.status.paid"});case"uncollectible":return el.createElement(e2.Tx,{id:"team_view.invoices.status.uncollectible"});case"void":return el.createElement(e2.Tx,{id:"team_view.invoices.status.void"});default:return el.createElement(el.Fragment,null,t.status)}})()),el.createElement("a",{className:"invoices_table--link--G7oWr blue_link--blueLink--9rlnd",href:t.invoice_pdf,target:"_blank",rel:"noopener"},el.createElement(e2.Tx,{id:"team_view.invoices_table.view_invoice"}))))}let Up=(0,e8.kp)(function(e){let{team:t,billing:a,dispatch:r}=e;return el.createElement("div",{className:"billing_table--container--PQw1u admin_settings_page--container--NGwts"},el.createElement(B6,{team:t,dispatch:r,billing:a}),el.createElement("div",{className:"billing_table--tableTitle--NcifK billing_table_figjam--tableTitle--rftSv billing_table_figjam--header--5D9kz billing_tab--header--KBlJX"},el.createElement(e2.Tx,{id:"team_view.invoices"})),el.createElement("div",{className:"billing_table--divider--cTk2g invoices_table--divider--tw9ff"}),el.createElement(Um,{invoices:a.invoices}))},"Pro Team Billing Table");var Ug=((Q=Ug||{})[Q.SEARCH=0]="SEARCH",Q[Q.FILTER=1]="FILTER",Q);let UE=new fQ.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"email",weight:1}]});var Uf=((Z=Uf||{}).MORE_SEVEN_DAYS="more_than_seven_days",Z.MORE_THIRTY_DAYS="more_than_thirty_days",Z.MORE_THREE_MONTHS="more_than_three_months",Z);let Uh=[oi.e6.OWNER,oi.e6.ADMIN,oi.e6.EDITOR,oi.e6.VIEWER,oi.e6.NONE],Uv={lastActiveFilter:null,permissionFilter:null,designPaidStatusFilter:null,figjamPaidStatusFilter:null,paidMemberNoRolesFilter:!1};var Ub=a(446297),Uy=a(840912),Uw=((X=Uw||{}).ROLE_UPGRADE="role_upgrade",X.INVITE_REDEEM="invite_redeem",X.INVITE_AUTOUPGRADE="invite_autoupgrade",X.CREATE_TEAM="create_team",X.FIGMA_ADMIN="figma_admin",X.DEPART_TEAM="depart_team",X.CREATE_FILE="create_file",X.RESOURCE_MOVED="resource_moved_to_team",X.RESOURCE_MOVED_FROM_DRAFTS="resource_moved_from_plan_drafts",X.RESTORED_FROM_TRASH="resource_restored_from_trash",X.JOIN_LINK_REDEEM="join_link_redeem",X.ADMIN_UPGRADE="team_admin_upgrade",X.CHECKOUT="checkout",X.EDIT_REQUEST_APPROVAL="edit_request_approval",X.EDIT_REQUEST_AUTO_APPROVAL="edit_request_auto_approval",X.EDIT_ACTION="edit_action",X.EDIT_BUTTON="edit_button",X.FIGJAM_GA_REUPGRADE="fj_ga_reupgrade",X.RUN_PLUGIN="run_plugin",X.DEV_MODE="dev_mode",X);let UT="members_table--columnMargin--Kg0mG",Ux="members_table--permissionsColumn--415vv members_table--column--vBhuN admin_settings_page--membersColumn--VDK1e table--column--974RA",UC="members_table--avatarWithHandle--QIbUT admin_settings_page--avatarWithHandle--7e9O9 ellipsis--ellipsis--Tjyfa",UN="members_table--link--Fy2ui admin_settings_page--link--PfcO5 blue_link--blueLink--9rlnd",Uk="members_table--secondaryUpgradeDateText--8edD-",US="members_table--infoIcon--WiD-W admin_settings_page--infoIcon--S958Z",UI="members_table--warningIcon--OnBS-",UA="members_table--dropdownColumn--RyviA multi_select_list--dropdownColumn--n-MKQ table--column--974RA";function UL(e){var t,a;let r;let n=(0,ei.wA)(),l=function(){let e=(0,ei.wA)();return t=>{e(oR.O2({...t}))}}(),{member:i,dropdownShown:s,team:o,paidStatusType:c}=e,d=(0,ac.Ay)((0,lS.zN)(i.email??"")??"");r=c===me.j4.WHITEBOARD?(null==(t=null==i?void 0:i.team_user)?void 0:t.whiteboard_paid_status)||me.Zf.STARTER:(null==(a=null==i?void 0:i.team_user)?void 0:a.design_paid_status)||me.Zf.STARTER;let m=[me.Zf.FULL,me.Zf.STARTER,me.Zf.RESTRICTED].filter(e=>!r||r===me.Zf.STARTER||e!==me.Zf.STARTER),u=e=>({[me.Zf.FULL]:(0,e2.t)("paid_status.editor.seat_rename"),[me.Zf.STARTER]:(0,e2.t)("paid_status.viewer"),[me.Zf.RESTRICTED]:(0,e2.t)("paid_status.viewer_restricted")})[e],_=m.map(e=>{let t=u(e);return{type:"option",key:e,text:t,selectedLabel:t}});return el.createElement("div",{className:UA},el.createElement("div",{className:c},el.createElement(v7.H,{dispatch:n,disabled:e.member.ecc_upgrading_locked,dropdownShown:s,value:r,options:_,onChange:e=>{let t=i.team_user;if(!t){if(!i.id)return;return l({team:o,teamUsers:[],usersWithNoTeamUserIds:[i.id],members:[{...i}],paidStatus:e,paidStatusType:c,entryPoint:Nc.MEMBERS_TAB})}return l({team:o,teamUsers:[t],members:[{...i}],paidStatus:e,paidStatusType:c,entryPoint:Nc.MEMBERS_TAB})},id:`TEAM-USER-${c.toUpperCase()}-PAID-STATUS---${i.email}`})),e.member.ecc_upgrading_locked&&el.createElement(eC.B,{className:US,svg:lq.A,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:d}),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}))}let UR=(0,rr.Ju)(function(e){var t,a,r,n,l,i;let{team:s}=e,{id:o,name:c}=s,d=e.members.length,m=e.members.filter(e=>e.id).map(e=>e.id).join();return el.createElement(e8.fu,{name:"Team Remove Members Modal",properties:{memberCount:d,memberIds:m,teamId:o}},el.createElement(lD.Eo,{destructive:!0,title:(0,e2.t)("team_view.remove_members_modal.title",{member_count:d,member_identity:(null==(t=e.members[0])?void 0:t.name)||(null==(a=e.members[0])?void 0:a.email)}),confirmText:(0,e2.t)("team_view.remove_members_modal.confirmation"),onConfirm:e.onConfirm},el.createElement("p",null,e.includesPendingTeamRole?(0,e2.t)("team_view.remove_members_modal.pending_role_removal_copy",{member_count:d,user_name_or_email:(null==(r=e.members[0])?void 0:r.name)||(null==(n=e.members[0])?void 0:n.email),team_name:c}):(0,e2.t)("team_view.remove_members_modal.confirmed_role_removal_copy",{member_count:d,user_name_or_email:(null==(l=e.members[0])?void 0:l.name)||(null==(i=e.members[0])?void 0:i.email),team_name:c}))))},"ConfirmMembersRemoveModal"),UO="member_modal--emptyModalState--oh2-0",UD="member_modal--columnProduct--2RA0E table--column--974RA",UF="member_modal--columnFile--gVfs2 table--column--974RA",UM="member_modal--emptyCell--HvCgX",UP="member_modal--columnLastEdit--9nKQ2 table--column--974RA";function UB(e){let t=(0,em.kc)().ps_benchmark;return el.createElement("div",{key:`last-${e.editor_type}-activity-${e.userId}`,className:"member_modal--tableRow--RC2JR"},el.createElement("div",{className:UD},el.createElement("span",null,(0,uU.E)((0,oX.vc)(e.editor_type)))),(()=>{if(!e.editActivity)return el.createElement("div",{className:UF},el.createElement("span",{className:UM},"\u2013"));if(t)return el.createElement("div",{className:UF},el.createElement("div",{className:"member_modal--fileName--B0k6f"},e.editActivity.file_name));if(e.editActivity.can_view)return el.createElement("div",{className:UF},el.createElement(eT.N_,{className:"member_modal--columnFileAccessible--PW3lU member_modal--columnFile--gVfs2 table--column--974RA",onClick:()=>{e.editActivity&&e.editActivity.file_key&&(e.dispatch(aC.$T({view:"fullscreen",fileKey:e.editActivity.file_key,editorType:(0,ne.wN)(e.editor_type)})),e.dispatch(t3.Ce()))},trusted:!0},e.editActivity.file_name));{let t=`file_tooltip_inaccessible_${e.editor_type}`;return el.createElement("div",{className:UF,"data-tooltip-proxy-element-id":t},el.createElement("div",{id:t,className:"member_modal--inaccessibleFile--vYYs8","data-tooltip-type":aA.Ib.TEXT,"data-tooltip":(0,e2.t)("team_view.pro_member_modal.file_inaccessible_tooltip_warning")},e.editActivity.file_name))}})(),el.createElement("div",{className:UP},e.editActivity?el.createElement(lI.h1,{capitalize:!0,date:e.actionAt}):el.createElement("span",{className:UM},"\u2013")))}let UU=(0,ei.Ng)(e=>({viewingUserId:e.user.id}))(function(e){var t,a;let r=(0,ei.wA)(),[n,l]=el.useState({}),[i,s]=el.useState(!1);el.useEffect(()=>{s(!0),dY.$.getUsersLastActive({teamId:e.team.id,teamMemberId:e.teamMember.id}).then(e=>{l(e.data.meta)}).catch(e=>{var t;r(ae.s.error((null==(t=e.data)?void 0:t.message)||(0,e2.t)("team_view.pro_member_modal.error_on_activity_retrieval_fallback_message"))),console.error("Unable to load latest edits",e)}).finally(()=>s(!1))},[r,e.team.id,e.teamMember.id]);let o=e.teamMember.name;(0,eh.KF)(!!o,"Expected a user object with a name");let c=o?(0,e2.t)("team_view.pro_member_modal.title_with_username",{username:o}):(0,e2.t)("team_view.pro_member_modal.title_without_username");return el.createElement(e8.fu,{name:"Pro Member Modal",properties:{viewingUserId:e.viewingUserId}},el.createElement(lD.XV,{maxWidth:442,minWidth:442,onClose:()=>{r(t3.Ce())},title:c},el.createElement("div",{className:"member_modal--modalBody--htum6"},i?el.createElement("div",{className:UO},el.createElement(t7.kt,null)):e.lastDesignActivity||e.lastWhiteboardActivity?el.createElement("div",{className:"member_modal--lastEditTable--Bqrpu"},el.createElement("div",{className:"member_modal--headerRow--pSP4-"},el.createElement("div",{className:UD},(0,e2.t)("team_view.pro_member_modal.edit_table_product_header")),el.createElement("div",{className:UF},(0,e2.t)("team_view.pro_member_modal.edit_table_file_header")),el.createElement("div",{className:UP},(0,e2.t)("team_view.pro_member_modal.edit_table_last_active_header"))),el.createElement(UB,{userId:e.teamMember.id||"team-member-no-user",editor_type:lm._Y.DESIGN,actionAt:(null==(t=e.lastDesignActivity)?void 0:t.action_at)||"\u2013",editActivity:n.design_file,dispatch:r}),el.createElement(UB,{userId:e.teamMember.id||"team-member-no-user",editor_type:lm._Y.WHITEBOARD,editActivity:n.whiteboard_file,actionAt:(null==(a=e.lastWhiteboardActivity)?void 0:a.action_at)||"\u2013",dispatch:r})):el.createElement("div",{className:UO},(0,e2.t)("team_view.pro_member_modal.no_activity_found")))))});UU.displayName="ProMemberModal";let UW=(0,rr.Ju)(UU,"ProMemberModal");function UV(e){return el.createElement("span",{className:e.className||""},"\u2013")}class UG extends el.PureComponent{constructor(){super(...arguments),this.MEMBERS_SELECTED_NOUN="user",this.FILTER_LAST_ACTIVE_DROPDOWN="FILTER_LAST_ACTIVE_DROPDOWN",this.FILTER_DESIGN_ROLE_DROPDOWN="FILTER_DESIGN_ROLE_DROPDOWN",this.FILTER_DESIGN_PAID_STATUS="FILTER_DESIGN_PAID_STATUS",this.FILTER_FIGJAM_PAID_STATUS="FILTER_FIGJAM_PAID_STATUS",this.NUM_BATCH_ACTIONS_LIMIT=20,this.BATCH_CHANGE_ROLE_DROPDOWN="BATCH_CHANGE_ROLE_DROPDOWN",this.onCopyEmailsToClipboard=e=>{this.props.dispatch(nc.II({emailList:e}))},this.onViewUser=(e,t)=>{e.stopPropagation(),this.props.dispatch(aC.$T({view:"user",userId:t,userViewTab:Tv.o.INTERNAL_PROFILE}))},this.batchRemoveMembers=e=>{let t=[],a=[];e.forEach(e=>{var r;e.id&&(null==(r=e.team_role)||!r.pending)&&e.email&&(t.push(e.email),a.push(e.id))}),this.props.dispatch(on._E({teamId:this.props.team.id,userIds:a,emails:t}))},this.onRemoveMemberOrChangeMemberPermission=e=>{let{member:t,newLevel:a}=e,r=t.team_role,n=()=>{let e=null==r?void 0:r.pending;if(t.id&&a===oi.e6.NONE&&!e){this.batchRemoveMembers([t]);return}r&&this.props.dispatch((0,Th.yN)({role:r,level:a}))};r&&a===oi.e6.OWNER?this.props.dispatch(t3.to({type:Tb.b,data:{resourceType:r.resource_type,resourceName:this.props.team.name,newOwnerName:r.user.handle,onConfirmTransfer:()=>{n()}}})):r&&a===oi.e6.VIEWER&&!r.pending?this.props.dispatch(Ub.yX({team:this.props.team,memberEmails:[t.email]})):n()},this.onInviteMemberToTeam=e=>{this.props.dispatch(t3.to({type:Ex.T9,data:{teamId:this.props.team.id,notifyOnSuccess:!0,prepopulateEmail:e.email}}))},this.onLeaveTeam=e=>{this.onRemoveMemberOrChangeMemberPermission({member:e,newLevel:oi.e6.NONE})},this.onRemoveUsersFromTeam=e=>{let t=e.find(e=>{var t;return null==(t=null==e?void 0:e.team_role)?void 0:t.pending});this.props.dispatch(t3.to({type:UR,data:{members:e,team:this.props.team,onConfirm:()=>{this.batchRemoveMembers(e),e.forEach(e=>{var t;(null==(t=e.team_role)?void 0:t.pending)&&this.onRemoveMemberOrChangeMemberPermission({member:e,newLevel:oi.e6.NONE})});let t=1===e.length?e[0].name||e[0].email:(0,e2.t)("team_view.upgrade.members_length_users",{memberLength:e.length});this.props.dispatch(a0.F.enqueue({type:"team-users-removed",message:(0,e2.t)("team_view.upgrade.members_removed_text_removed_from_this_props_team_name",{membersRemovedText:t,teamName:this.props.team.name})}))},includesPendingTeamRole:!!t}}))},this.onResendInvite=e=>{e.team_role&&this.props.dispatch((0,ol.$S)({role:e.team_role}))},this.getMemberKey=e=>e.member.email,this.tableColumns=()=>{let e=this.props.team;return[{name:(0,mM.Rq)(Uy.d.NAME),className:"members_table--avatarColumn--DXLZe members_table--column--vBhuN admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>e.member.name||e.member.email,cellComponent:this.renderNameCell},{name:(0,mM.Rq)(Uy.d.ACTIVE_AT),className:"members_table--lastActiveColumn--GBIBy members_table--column--vBhuN admin_settings_page--membersColumn--VDK1e table--column--974RA",getSortValue:e=>e.member.last_active||0,sortNumerically:!0,sortReversed:!0,cellComponent:this.renderLastActiveCell},{name:(0,mM.Rq)(Uy.d.PERMISSIONS),className:Ux,getSortValue:e=>{var t;return(null==(t=e.member.team_role)?void 0:t.level)||0},sortNumerically:!0,sortReversed:!0,cellComponent:this.renderPermissionsCell,headerClassName:UT},...this.insertIf(e.canAdmin&&(0,d2.n0)(e),{name:(0,mM.Rq)(Uy.d.DESIGN_PAID_STATUS),className:Ux,onboardingKey:"onboarding-figjam-pro-billing-team-admin-role",getSortValue:e=>{let t=e.member.team_user;return(null==t?void 0:t.design_paid_status)?me.TW[t.design_paid_status]:me.TW[me.Zf.STARTER]},sortNumerically:!0,sortReversed:!0,getSecondarySortValue:t=>{var a;let r=null==(a=t.member.design_editor_upgrade)?void 0:a.created_at;return e.canAdmin&&r?(0,dq.A)(r).unix():0},sortSecondaryReversed:!0,cellComponent:this.renderPaidStatusCell.bind(this,me.j4.DESIGN),headerClassName:UT}),...this.insertIf(e.canAdmin&&(0,d2.n0)(e),{name:(0,mM.Rq)(Uy.d.FIGJAM_PAID_STATUS),className:Ux,getSortValue:e=>{let t=e.member.team_user;return(null==t?void 0:t.whiteboard_paid_status)?me.TW[t.whiteboard_paid_status]:me.TW[me.Zf.STARTER]},sortNumerically:!0,sortReversed:!0,getSecondarySortValue:t=>{var a;let r=null==(a=t.member.whiteboard_editor_upgrade)?void 0:a.created_at;return e.canAdmin&&r?(0,dq.A)(r).unix():0},sortSecondaryReversed:!0,cellComponent:this.renderPaidStatusCell.bind(this,me.j4.WHITEBOARD),headerClassName:UT,headerExtraContent:null}),{name:"",className:"members_table--menuColumn--Fc6ef admin_settings_page--iconColumn--kO4-J",cellComponent:this.renderMenuCell}]},this.tableItems=()=>this.props.filteredMembers.map(e=>{let t=this.props.currentMemberId===e.id;return{member:e,dispatch:this.props.dispatch,isCurrentMember:t,dropdownShown:this.props.dropdownShown,onRemoveMemberOrChangeMemberPermission:this.onRemoveMemberOrChangeMemberPermission}}),this.permissionsTooltip=(e,t,a,r)=>{var n,l;let i=e.team_user,s=this.paidViewerTooltipMessage(e);if(s)return el.createElement(eC.B,{className:US,svg:lq.A,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.TEAM_VIEWER_WITH_DESCENDED_ROLES,"data-tooltip-descended-role-text":s,"data-tooltip-descended-role-email":e.email,"data-tooltip-descended-role-user-id":e.id,"data-tooltip-member-table-team-id":this.props.team.id,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":400,"data-tooltip-interactive":!0});let o=(0,dP.qR)(i,lm._Y.DESIGN),c=(0,dP.qR)(i,lm._Y.WHITEBOARD),d=(null==(n=e.team_role)?void 0:n.level)!==oi.e6.VIEWER;if((0,em.kc)().edu_onboarding_grace_period&&!e.edu_edit_access_allowed&&!(null==(l=e.team_role)?void 0:l.pending)&&d&&r)return el.createElement(eC.B,{className:UI,svg:TF.A,"data-tooltip-timeout-delay":50,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":aA.MW.RESTRICTED_EDU_USER,"data-tooltip-offset-y":10,"data-tooltip-max-width":250,"data-tooltip-title":(0,e2.t)("team_view.upgrade.can_only_view",{teamMember:e.name}),"data-tooltip-text":(0,e2.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply")});if(t||!((o||c)&&d))return null;let m=a?aA.MW.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_SELF:aA.MW.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_OTHER,u=(0,Ty._r)(!!o,!!c);return el.createElement(eC.B,{className:UI,svg:TF.A,"data-tooltip-type":aA.Ib.SPECIAL,"data-tooltip":m,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-restricted-text":u})},this.getEffectiveFileCounts=e=>{let t=e.team_user,a=e.edit_roles,r=(null==a?void 0:a.whiteboard_files.length)||0,n=(null==a?void 0:a.design_files.length)||0,l=e.view_roles,i=(null==l?void 0:l.file_count)||0,s=(0,dP.qR)(t,lm._Y.DESIGN),o=(0,dP.qR)(t,lm._Y.WHITEBOARD),c=r,d=n,m=i;return s&&(d=0,m+=n),o&&(c=0,m+=r),{editableWhiteboardFileCount:c,editableDesignFileCount:d,viewableFileCount:m}},this.editorDescription=e=>{let{editableWhiteboardFileCount:t,editableDesignFileCount:a,viewableFileCount:r}=this.getEffectiveFileCounts(e),n=e.edit_roles,l=(null==n?void 0:n.folders.length)||0,i=e.view_roles,s=(null==i?void 0:i.folder_count)||0,o=e.team_user,c=(0,dP.y5)(o,lm._Y.DESIGN),d=(0,dP.y5)(o,lm._Y.WHITEBOARD);if(!c&&!d)return l>0?(0,e2.t)("team_view.upgrade.can_manage_folder_edit_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{numberFolderEditRoles:l}):s>0?(0,e2.t)("team_view.upgrade.can_view_files_in_folder_view_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{folderViewRolesCount:s}):r>0?(0,e2.t)("team_view.upgrade.can_view_viewable_file_count_get_plural_or_singular_viewable_file_count_file",{viewableFileCount:r}):void 0;if(l>0)return(0,e2.t)("team_view.upgrade.can_edit_files_in_folder_edit_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{folderEditRolesCount:l});let m=t+a;return m>0?(0,e2.t)("team_view.upgrade.can_edit_editable_file_count_get_plural_or_singular_editable_file_count_file",{editableFileCount:m}):s>0?(0,e2.t)("team_view.upgrade.can_view_files_in_folder_view_roles_count_get_plural_or_singular_folder_view_roles_count_project",{folderViewRolesCount:s}):r>0?(0,e2.t)("team_view.upgrade.can_view_viewable_file_count_get_plural_or_singular_viewable_file_count_file",{viewableFileCount:r}):void 0},this.insertIf=(e,t)=>e?[t]:[],this.getMemberMenuItems=e=>{var t,a;let r=!e.member.team_role,n=(null==(t=e.member.team_role)?void 0:t.pending)||!1,l=(0,mM.Dj)(e.member),i=(null==(a=e.member.team_role)?void 0:a.level)===oi.e6.OWNER,{canAdmin:s,canEdit:o}=this.props.team,c=e.member.canEditRole,d=e.member.canRemoveUser,m=(e,t)=>e?[t]:[],u=[...m(s&&l,{text:(0,e2.t)("team_view.settings.see_edit_access"),callback:()=>{this.showEditAccessModal(e.member)}}),{text:(0,e2.t)("team_view.settings.copy_email"),callback:()=>{this.onCopyEmailsToClipboard([e.member.email])}},...m(r&&o&&!n,{text:(0,e2.t)("team_view.settings.invite_to_team"),callback:()=>{this.onInviteMemberToTeam(e.member)}})],_=[...m(n&&c,{text:(0,e2.t)("team_view.settings.resend_invite"),callback:()=>{this.onResendInvite(e.member)}}),...m(!e.isCurrentMember&&d,{text:(0,e2.t)("team_view.settings.remove"),callback:()=>{this.onRemoveUsersFromTeam([e.member])}}),...m(e.isCurrentMember&&!i,{text:(0,e2.t)("team_view.settings.leave_team"),callback:()=>{this.onLeaveTeam(e.member)}})];return _.length>0?(u.push({isDivider:!0}),u.concat(_)):u},this.renderNameCell=e=>{var t;let{member:a,isCurrentMember:r}=e,n=a.id?{id:a.id,img_url:a.img_url,name:a.name,email:a.email}:{email:a.email,name:void 0};if(null==(t=a.team_role)?void 0:t.pending){let e={color:oj.zE.DEFAULT,subtle:!0,text:(0,e2.t)("team_view.settings.pending")};return el.createElement(aa.az,{entity:n,size:24,showIsMe:!1,hideFallbackInitial:!1,defaultFallbackAvatarSvg:dC.A,fallbackSvg:dC.A,className:UC,onClick:e=>{e.stopPropagation(),this.onCopyEmailsToClipboard([a.email])},overrideHandle:n.email,defaultText:"-",badge:e})}{let t=a.id?e=>{this.onViewUser(e,a.id)}:void 0;return el.createElement(uX,{onLabelClick:t,className:UC,dispatch:e.dispatch,entity:n,showIsMe:r,showTooltip:!0,size:24})}},this.renderLastActiveCell=e=>{let{member:t}=e;return(t.last_design_active||t.last_whiteboard_active)&&t.last_active?el.createElement(eT.N_,{className:UN,onClick:e=>{e.stopPropagation(),this.props.dispatch(t3.to({type:UW,data:{teamMember:t,team:this.props.team,lastDesignActivity:t.last_design_active,lastWhiteboardActivity:t.last_whiteboard_active}}))},trusted:!0},el.createElement(lI.h1,{capitalize:!0,date:new Date(1e3*t.last_active)})):t.last_active?el.createElement(lI.h1,{capitalize:!0,date:new Date(1e3*t.last_active)}):el.createElement(UV,null)},this.showEditAccessModal=e=>{this.props.dispatch(t3.to({type:Ex.PP,data:{memberEmail:e.email,teamId:this.props.team.id}}))},this.renderDescendedPermissions=e=>{var t,a,r,n,l,i,s,o,c,d;let m=this.editorDescription(e),u=(0,mM.Dj)(e);return el.createElement("div",{className:UT},u&&el.createElement(eT.Ph,{onClick:t=>{t.stopPropagation(),this.showEditAccessModal(e)},className:UN,trackingProperties:{linkSource:"View Edit Roles Link",fileCount:((null==(a=null==(t=e.edit_roles)?void 0:t.design_files)?void 0:a.length)??0)+((null==(n=null==(r=e.edit_roles)?void 0:r.whiteboard_files)?void 0:n.length)??0),designFileCount:(null==(i=null==(l=e.edit_roles)?void 0:l.design_files)?void 0:i.length)??0,whiteboardFileCount:(null==(o=null==(s=e.edit_roles)?void 0:s.whiteboard_files)?void 0:o.length)??0,folderCount:(null==(d=null==(c=e.edit_roles)?void 0:c.folders)?void 0:d.length)??0},trusted:!0},m),!u&&el.createElement(el.Fragment,null,m),el.createElement("div",{className:"members_table--secondaryText--xELek"},el.createElement(e2.Tx,{id:"team_view.team_members_table.no_team_permissions_for_user"})))},this.accountTypeSelection=e=>{switch(e){case me.Zf.FULL:return(0,e2.t)("team_view.team_members_table.menu_paid_status_filter_selection_editor.seat_rename");case me.Zf.STARTER:return(0,e2.t)("team_view.team_members_table.menu_paid_status_filter_selection_viewer");case me.Zf.RESTRICTED:return(0,e2.t)("general.viewer_restricted")}},this.renderEmptyContent=()=>{let e=()=>{this.props.onFilter(Uv)},t=el.createElement(e2.Tx,{id:"team_view.team_members_table.default_empty_state"}),a=el.createElement(e2.Tx,{id:"team_view.team_members_table.member_filter_empty_state",reset_link:el.createElement("a",{className:UN,onClick:()=>e()},(0,e2.t)("team_view.team_members_table.member_filter_empty_reset_link"))}),r=el.createElement(e2.Tx,{id:"team_view.team_members_table.search_empty_state"}),n=Object.values(this.props.filters).some(e=>!!e);return n&&this.props.searchQuery?this.props.lastFilterAction===Ug.SEARCH?r:a:n?a:this.props.searchQuery?r:t},this.renderStickyContent=()=>el.createElement("div",{className:"members_table--menuBar--YyZ6Z multi_select_list--menuBar--8xNGR"},el.createElement("div",{className:be.cE},el.createElement("div",{className:eE.cx.pr8.$},el.createElement(uP.y2,{onChange:this.props.onSearch,focusOnMount:!1,query:this.props.searchQuery,clearSearch:()=>{this.props.onSearch("")},placeholder:(0,e2.t)("team_view.search_bar.search_members_with_ellipsis")})),el.createElement(uj.bv,{label:(0,mM.Rq)(Uy.d.ACTIVE_AT),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_LAST_ACTIVE_DROPDOWN,selectedValue:this.props.filters.lastActiveFilter,values:[Uf.MORE_SEVEN_DAYS,Uf.MORE_THIRTY_DAYS,Uf.MORE_THREE_MONTHS],getCount:e=>this.props.filterCounts.lastActive[e],getDisplayText:e=>(function(e){switch(e){case"more_than_seven_days":return(0,e2.t)("team_view.team_members_table.filters.last_active..more_than_7_days_ago");case"more_than_thirty_days":return(0,e2.t)("team_view.team_members_table.filters.last_active..more_than_30_days_ago");case"more_than_three_months":return(0,e2.t)("team_view.team_members_table.filters.last_active..more_than_3_months_ago");default:(0,eh.xb)(e)}})(e),updateFilter:e=>this.props.onFilter({lastActiveFilter:e})}),el.createElement(uj.bv,{label:(0,mM.Rq)(Uy.d.PERMISSIONS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_DESIGN_ROLE_DROPDOWN,values:Uh,selectedValue:this.props.filters.permissionFilter,getCount:e=>this.props.filterCounts.permission[e],getDisplayText:e=>(function(e){switch(e){case oi.e6.OWNER:return(0,e2.t)("team_view.team_members_table.filters.permissions.owner");case oi.e6.ADMIN:return(0,e2.t)("team_view.team_members_table.filters.permissions.admin");case oi.e6.EDITOR:return(0,e2.t)("team_view.team_members_table.filters.permissions.can_edit");case oi.e6.VIEWER:return(0,e2.t)("team_view.team_members_table.filters.permissions.can_view");case oi.e6.NONE:return(0,e2.t)("team_view.team_members_table.filters.permissions.no_team_permissions");default:(0,eh.xb)(e)}})(e),updateFilter:e=>this.props.onFilter({permissionFilter:e})}),this.props.team.canAdmin&&this.props.team.pro_team&&el.createElement(uj.bv,{label:(0,mM.Rq)(Uy.d.DESIGN_PAID_STATUS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_DESIGN_PAID_STATUS,values:[me.Zf.FULL,me.Zf.STARTER,me.Zf.RESTRICTED],selectedValue:this.props.filters.designPaidStatusFilter,getCount:e=>this.props.filterCounts.designPaidStatus[e],getDisplayText:e=>this.accountTypeSelection(e),updateFilter:e=>this.props.onFilter({designPaidStatusFilter:e})}),this.props.team.canAdmin&&this.props.team.pro_team&&el.createElement(uj.bv,{label:(0,mM.Rq)(Uy.d.FIGJAM_PAID_STATUS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_FIGJAM_PAID_STATUS,values:[me.Zf.FULL,me.Zf.STARTER,me.Zf.RESTRICTED],selectedValue:this.props.filters.figjamPaidStatusFilter,getCount:e=>this.props.filterCounts.figjamPaidStatus[e],getDisplayText:e=>this.accountTypeSelection(e),updateFilter:e=>this.props.onFilter({figjamPaidStatusFilter:e})}),this.props.filters.paidMemberNoRolesFilter&&el.createElement(oj.Ex,{className:"members_table--filterBadge--rHtHL",color:oj.zE.DEFAULT,onClose:()=>this.props.onFilter({paidMemberNoRolesFilter:!1}),size:oj.vj.LARGE,text:"Users with no roles"}))),this.renderBulkActions=e=>{var t,a;let r=e.map(e=>e.member);if(0===r.length)return el.createElement(el.Fragment,null);let n=r.map(e=>e.email),l=r.every(e=>e.canRemoveUser),i=r.every(e=>(0,mM.Dj)(e)),s=r.some(e=>{var t;return null==(t=e.team_role)?void 0:t.pending}),o=e.filter(e=>e.member.ecc_upgrading_locked).length>0,c=r.length>this.NUM_BATCH_ACTIONS_LIMIT,d=!!e.find(e=>e.isCurrentMember),{canAdmin:m}=this.props.team,u=r.filter(e=>e.id).map(e=>e.id),_={userCount:u.length},p=u.join();return el.createElement(el.Fragment,null,this.props.team.pro_team&&m&&!s&&!o&&el.createElement(uj.Ve,{className:"members_table--batchActionsDropdownSelector--Tqhd9",dispatch:this.props.dispatch,showingDropdown:(null==(t=this.props.dropdownShown)?void 0:t.type)===this.BATCH_CHANGE_ROLE_DROPDOWN,type:this.BATCH_CHANGE_ROLE_DROPDOWN,isMultilevelDropdown:!0},(null==(a=this.props.dropdownShown)?void 0:a.type)===this.BATCH_CHANGE_ROLE_DROPDOWN&&this.renderBatchRoleDropdown(r),el.createElement(e2.Tx,{id:"team_view.settings.change_role.seat_rename"})),m&&i&&!s&&1===r.length&&el.createElement(uj.IU,{label:(0,e2.t)("team_view.settings.see_edit_access"),onClick:()=>{let e=r[0];this.showEditAccessModal(e)}}),el.createElement(uj.IU,{trackingProperties:{..._,copiedUserIds:p},label:(0,e2.t)("team_view.settings.copy_get_plural_or_singular_selected_members_length_email",{numEmails:r.length}),onClick:()=>{this.onCopyEmailsToClipboard(n)}}),l&&!d&&el.createElement(uj.IU,{label:(0,e2.t)("team_view.settings.remove"),trackingProperties:{..._,removedUserIds:p},onClick:()=>{let e=r.map(e=>e);this.onRemoveUsersFromTeam(e)},disabled:c,...c?{tooltip:(0,e2.t)("team_view.settings.you_can_only_remove_limit_users_at_a_time",{batchLimit:this.NUM_BATCH_ACTIONS_LIMIT})}:{}}))},this.renderPermissionsCell=e=>{var t;let{member:a}=e;if(!a.team_role)return this.renderDescendedPermissions(a);if(a.team_role){let r;r=this.props.teamIsOrphaned&&this.props.canAdminOrgTeam?oi.e6.OWNER:e.isCurrentMember?oi.e6.NONE:a.canEditRole?a.canMakeOwner&&!a.team_role.pending?oi.e6.OWNER:a.canMakeAdmin?oi.e6.ADMIN:oi.e6.EDITOR:oi.e6.NONE;let{canRead:n,canEdit:l,canAdmin:i}=this.props.team,s=this.permissionsTooltip(a,i,(null==(t=a.team_role)?void 0:t.user_id)===this.props.currentMemberId,this.props.team.student_team);if(r===oi.e6.NONE)return el.createElement(el.Fragment,null,el.createElement("div",{className:UT}),el.createElement("span",null,(0,dP.QN)(a.team_role.level)),s);let o=this.getPermissionsLevels(r),c=o.filter(e=>e.hasOwnProperty("key")).map(e=>e.key).join();return el.createElement(el.Fragment,null,el.createElement("div",{className:UA},el.createElement("div",{className:"members_table--permissionSelector--GNfPA","data-testid":e.member.email+"_team_permissions"},el.createElement(v7.H,{dispatch:this.props.dispatch,dropdownShown:e.dropdownShown,value:a.team_role.level,options:o,onChange:t=>e.onRemoveMemberOrChangeMemberPermission({member:a,newLevel:t}),id:`TEAM-PERMISSIONS-DROPDOWN-${e.member.email}`,disabled:n&&!l,trackingProperties:{options:c,userIdForPermissions:a.id,linkSource:"Permissions Selector"}}))),s)}(0,eh.xb)(a)},this.renderUpgradeDate=(e,t)=>{let a=function(e,t){switch(e.reason){case"role_upgrade":if(e.actor_name)return(0,e2.t)("team_user.upgrade_reasons.role_upgrade.seat_rename",{actorName:e.actor_name,memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});return(0,e2.t)("team_user.upgrade_reasons.role_upgrade_without_actor_name.seat_rename",{memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"invite_redeem":return(0,e2.t)("team_user.upgrade_reasons.invite_redeem.seat_rename",{actorName:e.actor_name||"",memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"invite_autoupgrade":return(0,e2.t)("team_user.upgrade_reasons.invite_autoupgrade.seat_rename",{actorName:e.actor_name||"",memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"resource_moved_from_plan_drafts":case"resource_moved_to_team":return(0,e2.t)("team_user.upgrade_reasons.resource_moved",{memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"create_team":return(0,e2.t)("team_user.upgrade_reasons.create_team",{memberNameOrEmail:t});case"resource_restored_from_trash":return(0,e2.t)("team_user.upgrade_reasons.restored_from_trash",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"figma_admin":return(0,e2.t)("team_user.upgrade_reasons.figma_admin",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"depart_team":return(0,e2.t)("team_user.upgrade_reasons.depart_team",{memberNameOrEmail:t});case"join_link_redeem":return(0,e2.t)("team_user.upgrade_reasons.join_link_redeem",{memberNameOrEmail:t});case"create_file":return(0,e2.t)("team_user.upgrade_reasons.create_file",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"team_admin_upgrade":case"checkout":return(0,e2.t)("team_user.upgrade_reasons.checkout.seat_rename",{actorName:e.actor_name||"",memberNameOrEmail:t});case"edit_request_auto_approval":case"edit_request_approval":return(0,e2.t)("team_user.upgrade_reasons.edit_request_approval",{memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"edit_action":return(0,e2.t)("team_user.upgrade_reasons.edit_action",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"edit_button":return(0,e2.t)("team_user.upgrade_reasons.edit_button",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"fj_ga_reupgrade":return(0,e2.t)("team_user.upgrade_reasons.figjam_ga_reupgrade",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"run_plugin":return(0,e2.t)("team_user.upgrade_reasons.run_plugin",{memberNameOrEmail:t});default:return(0,e2.t)("team_user.upgrade_reasons.default",{memberNameOrEmail:t})}}(t,e.name||e.email),r=(0,dq.A)(t.created_at).format("MMM DD, YYYY");return a?el.createElement("div",{className:Uk,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":a,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},r):el.createElement("div",{className:Uk},r)},this.renderPaidStatusCell=(e,t)=>{var a;if((null==(a=t.member.team_role)?void 0:a.pending)&&(0,dP.b5)(t.member.team_user,lm._Y.DESIGN)&&(0,dP.b5)(t.member.team_user,lm._Y.WHITEBOARD))return el.createElement(UV,{className:"members_table--emptyRoleCell--0H6he"});let r=t.member.team_user,n=t.member.design_editor_upgrade,l=(null==r?void 0:r.design_paid_status)===me.Zf.FULL;return e===me.j4.WHITEBOARD&&(n=t.member.whiteboard_editor_upgrade,l=(null==r?void 0:r.whiteboard_paid_status)===me.Zf.FULL),el.createElement("div",{"data-testid":t.member.email+"_"+e},el.createElement(UL,{member:t.member,dropdownShown:t.dropdownShown,team:this.props.team,paidStatusType:e}),this.props.team.canAdmin&&!!(null==n?void 0:n.created_at)&&l&&this.renderUpgradeDate(t.member,n))},this.renderMenuCell=e=>{var t;let a=`MENU_DROPDOWN-${this.getMemberKey(e)}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a,n=this.getMemberMenuItems(e),l=n.filter(e=>!e.isDivider).map(e=>e.text).join();return el.createElement("div",{"data-testid":`${e.member.email}_menu_item`},el.createElement(uj.Ve,{className:be.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},el.createElement(eC.B,{svg:nf.A,className:"members_table--menuIcon--ctDWH admin_settings_page--menuIcon--Bx2JO"}),r&&el.createElement(e8.fu,{name:"Member Dropdown Menu",properties:{userIdForDropdown:e.member.id,optionsShown:l,teamId:this.props.team.id}},el.createElement(dB.W.DropdownWithScrim,{dispatch:e.dispatch,className:"members_table--dropdown--UhI0R admin_settings_page--dropdown---eJDX",style:e.dropdownShown.data.position},n.map(e=>e.isDivider?el.createElement(dB.W.Separator,{key:"MEMBERS-MENU-SEPARATOR"}):el.createElement(dB.W.OptionTracked,{innerText:e.text,onClick:e.callback,key:`MEMBERS-MENU-ITEM${e.text}`},e.text))))))}}paidViewerTooltipMessage(e){let t=e.team_role;if((null==t?void 0:t.level)===oi.e6.VIEWER&&!t.pending)return this.editorDescription(e)}getPermissionsLevels(e){let t=[];return Object.values(oi.e6).reverse().forEach(a=>{if(a>=oi.e6.VIEWER&&a<=e){let e=(0,dP.QN)(a);t.push({type:"option",key:a,text:e,selectedLabel:e})}}),t}getTeamUsersAndUsersWithNoTeamUserIdsFromMembers(e){return[e.map(e=>e.team_user).filter(e=>!!e),e.filter(e=>!e.team_user&&!!e.id).map(e=>e.id)]}showPaidStatusUpdateModal(e,t,a){let[r,n]=this.getTeamUsersAndUsersWithNoTeamUserIdsFromMembers(a);this.props.dispatch(oR.O2({team:this.props.team,teamUsers:r,usersWithNoTeamUserIds:n,members:a.map(e=>({id:e.id,email:e.email,firstName:e.name,design_editor_upgrade:e.design_editor_upgrade,whiteboard_editor_upgrade:e.whiteboard_editor_upgrade})),paidStatusType:e,paidStatus:t,entryPoint:Nc.MEMBERS_TAB}))}getTeamUserPaidStatusDisplayText(e){return({[me.Zf.FULL]:(0,e2.t)("paid_status.editor.seat_rename"),[me.Zf.STARTER]:(0,e2.t)("paid_status.viewer"),[me.Zf.RESTRICTED]:(0,e2.t)("paid_status.viewer_restricted")})[e]}areAllValuesTheSame(e,t){return!(e.size>1)&&Array.from(e)[0]===t}renderBatchRoleDropdown(e){let t=new Set,a=new Set;e.forEach(e=>{var r,n;t.add((null==(r=null==e?void 0:e.team_user)?void 0:r.design_paid_status)||me.Zf.STARTER),a.add((null==(n=null==e?void 0:e.team_user)?void 0:n.whiteboard_paid_status)||me.Zf.STARTER)});let r={[me.j4.DESIGN]:{[me.Zf.STARTER]:this.areAllValuesTheSame(t,me.Zf.STARTER)},[me.j4.WHITEBOARD]:{[me.Zf.STARTER]:this.areAllValuesTheSame(a,me.Zf.STARTER)}},n=[],l=[];return n.push({displayText:this.getTeamUserPaidStatusDisplayText(me.Zf.FULL),callback:this.showPaidStatusUpdateModal.bind(this,me.j4.DESIGN,me.Zf.FULL,e)}),l.push({displayText:this.getTeamUserPaidStatusDisplayText(me.Zf.FULL),callback:this.showPaidStatusUpdateModal.bind(this,me.j4.WHITEBOARD,me.Zf.FULL,e)}),r[me.j4.DESIGN][me.Zf.STARTER]&&n.push({displayText:this.getTeamUserPaidStatusDisplayText(me.Zf.STARTER)}),r[me.j4.WHITEBOARD][me.Zf.STARTER]&&l.push({displayText:this.getTeamUserPaidStatusDisplayText(me.Zf.STARTER)}),n.push({displayText:this.getTeamUserPaidStatusDisplayText(me.Zf.RESTRICTED),callback:this.showPaidStatusUpdateModal.bind(this,me.j4.DESIGN,me.Zf.RESTRICTED,e)}),l.push({displayText:this.getTeamUserPaidStatusDisplayText(me.Zf.RESTRICTED),callback:this.showPaidStatusUpdateModal.bind(this,me.j4.WHITEBOARD,me.Zf.RESTRICTED,e)}),el.createElement(el.Fragment,null,el.createElement(n_.j,{showPoint:!1,items:[{displayText:"Design",children:n},{displayText:"FigJam",children:l}],onSelectItem:e=>{e.callback&&e.callback("",null,this.props.dispatch)},parentRect:this.props.dropdownShown.data.targetRect,dispatch:this.props.dispatch}))}render(){return el.createElement("div",{className:"members_table--container--rlevN admin_settings_page--membersContainer--FzuLv"},el.createElement(Uj,{initialSortState:{columnName:(0,mM.Rq)(Uy.d.NAME),isReversed:!1},items:this.tableItems(),columns:this.tableColumns(),render:(e,t,a)=>el.createElement(u$.Cj,{items:a,columns:this.tableColumns(),getItemKey:this.getMemberKey,emptyContent:el.createElement(nX.Y,{height:200,verticalAlignItems:"center",horizontalAlignItems:"center"},this.renderEmptyContent()),stickyContent:this.renderStickyContent(),itemTypeContext:{itemType:this.MEMBERS_SELECTED_NOUN,getSelectedCountString:e=>(0,e2.t)("multi_select_list.selected_count_user",{numSelected:e})},actionBar:this.renderBulkActions,onScroll:()=>this.props.dispatch(aC.oB()),minContentWidth:(0,te.hG)(e5.YEj),sortState:e,onSetSortState:t})}))}}UG.displayName="TeamMembersTable";let U$=(0,e8.kp)(UG,"Pro Team Members Table");function Uj({initialSortState:e,items:t,columns:a,render:r}){let[n,l,i]=(0,fq.z)(e,t,a);return r(n,l,i)}function UH(e){let[t,a]=el.useState(Uv),[r,n]=el.useState(""),[l,i]=el.useState(Ug.FILTER),s=(0,dq.A)().subtract(3,"days"),o=(0,dq.A)().subtract(30,"days"),c=(0,dq.A)().subtract(3,"months"),d=Object.values(e.membersList);r&&(UE.set(Object.values(e.membersList)),d=UE.search(r)),d=d.filter(e=>{var a,r,n,l,i;if(t.paidMemberNoRolesFilter&&!(0,mM.Ce)(e))return!1;if(t.permissionFilter){if(t.permissionFilter===oi.e6.NONE){if(!((null==(a=e.team_role)?void 0:a.level)===oi.e6.NONE||(null==(r=e.team_role)?void 0:r.level)===void 0))return!1}else if((null==(n=e.team_role)?void 0:n.level)!==t.permissionFilter)return!1}if(t.lastActiveFilter){let a=e.last_active?(0,dq.A)(1e3*e.last_active):0;if(t.lastActiveFilter===Uf.MORE_SEVEN_DAYS&&a>s||t.lastActiveFilter===Uf.MORE_THIRTY_DAYS&&a>o||t.lastActiveFilter===Uf.MORE_THREE_MONTHS&&a>c)return!1}if(t.designPaidStatusFilter){let a=(null==(l=e.team_user)?void 0:l.design_paid_status)||me.Zf.STARTER;if(t.designPaidStatusFilter!==a)return!1}if(t.figjamPaidStatusFilter){let a=(null==(i=e.team_user)?void 0:i.whiteboard_paid_status)||me.Zf.STARTER;if(t.figjamPaidStatusFilter!==a)return!1}return!0});let m={permission:{[oi.e6.OWNER]:0,[oi.e6.ADMIN]:0,[oi.e6.EDITOR]:0,[oi.e6.VIEWER]:0,[oi.e6.NONE]:0},lastActive:{[Uf.MORE_SEVEN_DAYS]:0,[Uf.MORE_THIRTY_DAYS]:0,[Uf.MORE_THREE_MONTHS]:0},designPaidStatus:{[me.Zf.FULL]:0,[me.Zf.RESTRICTED]:0,[me.Zf.STARTER]:0},figjamPaidStatus:{[me.Zf.FULL]:0,[me.Zf.RESTRICTED]:0,[me.Zf.STARTER]:0}};return Object.values(d).forEach(e=>{var t,a,r,n;if(null==(t=e.team_role)?void 0:t.level){if(Uh.includes(null==(a=e.team_role)?void 0:a.level)){let t=e.team_role.level;m.permission[t]+=1}}else m.permission[oi.e6.NONE]+=1;let l=e.last_active?(0,dq.A)(1e3*e.last_active):0;l<c&&(m.lastActive[Uf.MORE_THREE_MONTHS]+=1),l<o&&(m.lastActive[Uf.MORE_THIRTY_DAYS]+=1),l<s&&(m.lastActive[Uf.MORE_SEVEN_DAYS]+=1);let i=(null==(r=e.team_user)?void 0:r.design_paid_status)||me.Zf.STARTER;m.designPaidStatus[i]+=1;let d=(null==(n=e.team_user)?void 0:n.whiteboard_paid_status)||me.Zf.STARTER;m.figjamPaidStatus[d]+=1}),el.createElement(U$,{dispatch:e.dispatch,currentMemberId:e.currentMemberId,team:e.team,dropdownShown:e.dropdownShown,canAdminOrgTeam:e.canAdminOrgTeam,teamIsOrphaned:(Object.values(e.membersList).forEach(e=>{var t,a;if((null==(t=e.team_role)?void 0:t.level)===oi.e6.OWNER||(null==(a=e.team_role)?void 0:a.level)===oi.e6.ADMIN)return!1}),!0),filters:t,filteredMembers:d,allMembers:Object.values(e.membersList),filterCounts:m,onFilter:e=>{a({...t,...e}),i(Ug.FILTER)},searchQuery:r,onSearch:e=>{n(e),i(Ug.SEARCH)},lastFilterAction:l})}a(113853),a(648834);var Uq=a(530809);let UY="add_annual_seats_modal--billingRow--RZSvE",Uz="add_annual_seats_modal--leftContent--60BpG",UK="add_annual_seats_modal--rightContent--cq2sK",UJ="settings_table--link--CD3-h",UQ="settings_table--boldText--m0ODJ settings_table--modalText--6vlFq",UZ=(0,rr.Ju)(function(e){let[t,a]=(0,el.useState)(e.monthlySub.design_quantity),[r,n]=(0,el.useState)(e.monthlySub.whiteboard_quantity||0),l=(0,ei.wA)(),{annualSub:i,monthlySub:s,teamId:o,userId:c,currency:d}=e,m=new r$.vr(d),u=m.getPrices(),_=(0,dq.A)(s.current_period_end),p=(0,d2.nT)(s.current_period_end,i.current_period_end),g=(0,co.mF)(s1.tY.ANNUAL),E=(0,co.lA)(r),f=(0,co.PJ)({numWhiteboardEditors:r,billingPeriod:s1.tY.ANNUAL}),h=(0,co.U8)({numWhiteboardEditors:r,billingPeriod:s1.tY.ANNUAL}),v=(0,co.hP)(s1.tY.ANNUAL),b=g&&h<=0&&f>0,y=0===r,w=h>0||y||!g,T=()=>{a(t+1)},x=()=>{a(t-1)},C=()=>{n(r+1)},N=()=>{n(r-1)},k=()=>t>s.design_quantity?t-s.design_quantity:0,S=()=>r>(s.whiteboard_quantity||0)?r-(s.whiteboard_quantity||0):0;return el.createElement(e8.fu,{name:"Add Annual Seats Modal",properties:{userId:c,teamId:o}},el.createElement(lD.Eo,{title:(0,e2.t)("team_view.add_annual_seats_modal.add_seats_title"),confirmText:(0,e2.t)("team_view.add_annual_seats_modal.add_annual_seats"),disabled:!t&&!r,onConfirm:()=>{l(oa.MV({teamId:o,annualQuantity:t+i.design_quantity,annualWhiteboardQuantity:r+(i.whiteboard_quantity||0),promotionCodeId:v??void 0}))},trackedConfirmationProperties:{teamId:o,userId:c,monthly_quantity_design:s.design_quantity,monthly_quantity_figjam:s.whiteboard_quantity||0},minWidth:498,maxWidth:498},el.createElement("div",{className:"settings_table--modalText--6vlFq"},el.createElement(e2.Tx,{id:"team_view.add_annual_seats_modal.add_seats_explanation"}),el.createElement("div",{className:"add_annual_seats_modal--billingSummaryContainer--jlYXE"},el.createElement("div",{className:UY},el.createElement("div",{className:Uz},el.createElement(cu,{editorType:oX.vu,incrementSeats:()=>T(),decrementSeats:()=>x(),numEditors:t,minSeatsCount:0,headerText:(0,e2.t)("team_view.add_annual_seats_modal.num_monthly_editor_seats.seat_rename",{designQuantity:t,productName:(0,uU.E)(oX.oM.DESIGN)}),headerSubText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(u.annualFigma),remainingMonthsText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:t})}),clarificationText:k()?(0,e2.t)("team_view.add_annual_seats_modal.unused_seats_will_be_added",{productName:(0,uU.E)(oX.oM.DESIGN),unusedSeats:k()}):void 0,updateAdditionalSeatsText:c_(a),shouldShowJamboardOffer:!1})),el.createElement("div",{className:UK},el.createElement("div",null,m.formatMoney(t*p*u.annualFigma)))),el.createElement("div",{className:UY},el.createElement("div",{className:Uz},el.createElement(cu,{editorType:oX.tL,incrementSeats:()=>C(),decrementSeats:()=>N(),numEditors:r,minSeatsCount:0,headerText:(0,e2.t)("team_view.add_annual_seats_modal.num_monthly_editor_seats.seat_rename",{designQuantity:r,productName:(0,uU.E)(oX.oM.WHITEBOARD)}),headerFreeSubText:f>0?(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(0),remainingMonthsText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:f})}):void 0,headerSubText:w?(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(u.annualFigjam),remainingMonthsText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,e2.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:h})}):void 0,clarificationText:S()?(0,e2.t)("team_view.add_annual_seats_modal.unused_seats_will_be_added",{productName:(0,uU.E)(oX.oM.WHITEBOARD),unusedSeats:S()}):void 0,updateAdditionalSeatsText:c_(n),shouldShowJamboardOffer:!1})),el.createElement("div",{className:UK},b?el.createElement(oj.Ex,{color:oj.zE.FIGJAM,text:el.createElement(e2.Tx,{id:"pro_cart.jamboard_offer.offer_badge.n_months_free",numMonths:p})}):el.createElement("div",null,m.formatMoney(h*p*u.annualFigjam)))),g&&el.createElement("div",{className:UY},el.createElement(cx,{numOfferSeatsRemaining:E}))),el.createElement("div",{className:"add_annual_seats_modal--totalRow--JdHqF add_annual_seats_modal--billingRow--RZSvE"},el.createElement("div",{className:Uz},el.createElement(e2.Tx,{id:"team_view.add_annual_seats_modal.total_charge_description",chargeDate:_.toDate()})),el.createElement("div",{className:UK},el.createElement("div",null,m.formatMoney(t*p*u.annualFigma+h*p*u.annualFigjam)))))))},"AddAnnualSeatsModal");function UX(e){return e?(0,dq.A)(e).format("MMMM D, YYYY"):""}function U0(e){let t=(0,ei.wA)(),a=e.billing.summary.annual_subscription,r=e.billing.summary.monthly_subscription,n=e.billing.summary.shipping_address,l=!!e.billing.summary.has_billing_address;return(0,ed.h)(()=>{e.billing.summary.show_vat_gst&&kl(ki.m,()=>{(0,ks.Hq)({team:e.team,dispatch:t})})}),el.createElement(el.Fragment,null,el.createElement(e8.fu,{name:"Team Admin Console Settings Table",properties:{teamId:e.team.id}},el.createElement("div",{className:"settings_section--adminConsoleSettingsWrapper--4YZ3T settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,em.kc)().pro_team_business_names&&e.team.pro_team&&el.createElement(SV,{title:(0,e2.t)("settings_table.team_profile"),settings:U2({team:e.team,teamName:e.team.name,legalName:e.team.legal_name??"",canSeeBillingAddressExp:l,dispatch:t})}),el.createElement(SV,{title:(0,e2.t)("settings_table.plan"),settings:U1({annualSub:a,dispatch:t,monthlySub:r,team:e.team,userId:e.userId,showVatGst:e.billing.summary.show_vat_gst,currency:e.billing.summary.currency,canSeeBillingAddressExp:l})}),e.team.pro_team&&el.createElement(SV,{title:l?(0,e2.t)("settings_table.billing_section"):(0,e2.t)("settings_table.billing"),description:U4(r,a),settings:U3({annualSub:a,dispatch:t,monthlySub:r,team:e.team,billingContact:e.billing.summary.billing_contact,currency:e.billing.summary.currency,showVatGst:e.billing.summary.show_vat_gst,shippingAddress:n,canSeeBillingAddressExp:l})}),el.createElement(SV,{title:(0,e2.t)("settings_tab.section_header.login_and_provisioning"),settings:U8({dispatch:t,team:e.team}),nullForEmptySettings:!0}),e.team.pro_team&&(0,em.kc)().dse_preset_libraries&&el.createElement(SV,{title:(0,e2.t)("settings_table.resources"),settings:[el.createElement(Sq,{key:"figma_libraries",label:(0,e2.t)("settings_tab.ui_kits_toggle_label"),description:(0,e2.t)("settings_tab.ui_kits_toggle_description"),isActive:!e.team.figma_provided_libraries_disabled,testId:"figma-provided-libraries-setting-toggle",onToggle:a=>{t(on.tk({figma_provided_libraries_disabled:!a,teamId:e.team.id}))}})]}))))}let U1=({monthlySub:e,annualSub:t,dispatch:a,team:r,userId:n,currency:l,showVatGst:i,canSeeBillingAddressExp:s})=>{let o=r.id,c=[],d=(0,d2.WQ)(r),m=(0,co.hP)(s1.tY.ANNUAL);if(!e&&!t){let e=el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_table.upgrade_to_the_professional_plan_or_to_an_organization_and_get_access_to_shared_team_libraries_advanced_security_features_and_more",more:el.createElement("a",{className:UJ,href:"/pricing",onClick:e=>{e.stopPropagation()},target:"_blank"},el.createElement(e2.Tx,{id:"settings_table.more"}))}));if(d){let t=new Date(r.grace_period_end);e=el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_table.to_keep_using_paid_features_like_unlimited_team_figma_files_projects_and_team_libraries_after_your_free_professional_plan_expires_on_date_purchase_the_professional_plan_for_your_team",date:t}))}return c.push(el.createElement(S$,{label:d?(0,e2.t)("settings_table.purchase_professional_plan"):(0,e2.t)("settings_table.upgrade_your_plan"),onClick:()=>{d?We(a,o):Wt(a,o,d8.b.BILLING_SETTINGS)},description:e})),c}if(c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.upgrade_your_plan"),description:el.createElement("span",null,el.createElement(e2.Tx,{id:"settings_table.consolidate_your_teams_access_shared_libraries_enable_advanced_security_features_and_more",more:el.createElement("a",{className:UJ,href:"/organization",target:"_blank",onClick:e=>e.stopPropagation()},el.createElement(e2.Tx,{id:"settings_table.more"}))})),onClick:()=>{ec.Ay.redirect("/purchase-organization","_blank")}})),(null==e?void 0:e.canceled_at)||(null==t?void 0:t.canceled_at)||!e)return c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.reactivate_plan"),description:(0,e2.t)("settings_table.reactivate_your_subscription_of_professional"),onClick:()=>{(0,ks.C8)({team:r,dispatch:a,cancelling:!0,monthlySub:e,annualSub:t,currency:l,canSeeBillingAddressExp:s})}})),c;let u=(0,dq.A)(),_=t&&u.isAfter((0,dq.A)(t.current_period_end).add(-30,"days")),p=t&&!_;t?_?c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.change_annual_plan"),description:(0,e2.t)("settings_table.you_can_change_the_number_of_seats_on_your_annual_plan_before_it_renews"),onClick:()=>{U6(a,m)}})):p&&c.push(el.createElement(S$,{label:(0,e2.t)("team_view.settings_table.add_annual_seats"),description:(0,e2.t)("team_view.settings_table.add_annual_seats_description"),onClick:()=>{U9(a,r.id,n,e,t,l)}})):c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.add_annual_seats"),description:(0,e2.t)("settings_table.you_can_simplify_your_billing_by_converting_your_monthly_seats_to_annual"),onClick:()=>{U5(a,r.id)}}));let g=UX((null==t?void 0:t.current_period_end)||(null==e?void 0:e.current_period_end)),E=()=>a((0,t3.to)({type:Ex.lb,data:{teamId:o,billingEndDate:g||void 0}}));return c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.cancel_plan"),description:(0,e2.t)("settings_table.cancel_your_subscription_of_professional"),onClick:()=>{a((0,t3.to)({type:Uq.v,data:{teamId:o,onContinue:E}}))}})),s||c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.change_payment_method"),description:(0,e2.t)("settings_table.change_and_update_the_payment_method_on_file"),onClick:()=>(0,ks.C8)({team:r,dispatch:a,cancelling:!1,monthlySub:e,annualSub:t,currency:l,canSeeBillingAddressExp:s})})),i&&!s&&c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.vat_gst"),description:(0,e2.t)("settings_table.change_vat_gst_id"),onClick:()=>(0,ks.Hq)({team:r,dispatch:a})})),c},U2=({team:e,teamName:t,legalName:a,canSeeBillingAddressExp:r,dispatch:n})=>{let l=[];return l.push(el.createElement(S$,{label:r?(0,e2.t)("settings_table.display_name.label"):(0,e2.t)("settings_table.names"),description:r?(0,e2.t)("settings_table.change_display_name"):(0,e2.t)("settings_table.change_names"),onClick:()=>(0,ks.ot)({team:e,updatedDisplayName:t,updatedLegalName:a,canSeeBillingAddressExp:r,dispatch:n})})),l},U4=(e,t)=>{let a=null!=e&&null!=e.current_period_end&&null==e.canceled_at,r=null!=t&&null!=t.current_period_end&&null==t.canceled_at,n=null!=e&&e.canceled_at,l=null!=t&&t.canceled_at,i=null;if(r&&a){let a=UX(null==e?void 0:e.current_period_end),r=UX(null==t?void 0:t.current_period_end);i=el.createElement(e2.Tx,{id:"team_view.settings_table.multiple_subscription_renewal",monthly_billing_date:el.createElement("span",{className:UQ},el.createElement(e2.Tx,{id:"team_view.settings_table.billing_date",billing_date:a})),annual_billing_date:el.createElement("span",{className:UQ},el.createElement(e2.Tx,{id:"team_view.settings_table.billing_date",billing_date:r}))})}else if(r){let e=UX(t.current_period_end);i=el.createElement(e2.Tx,{id:"team_view.settings_table.single_subscription_renewal_annual",billing_date:el.createElement("span",{className:UQ},el.createElement(e2.Tx,{id:"team_view.settings_table.billing_date",billing_date:e}))})}else if(a){let t=UX(e.current_period_end);i=el.createElement(e2.Tx,{id:"team_view.settings_table.single_subscription_renewal_monthly",billing_date:el.createElement("span",{className:UQ},el.createElement(e2.Tx,{id:"team_view.settings_table.billing_date",billing_date:t}))})}else if(l&&n)i=el.createElement(e2.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_annual_and_monthly"});else if(l)i=el.createElement(e2.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_annual"});else if(n)i=el.createElement(e2.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_monthly"});else if(null!=e||null!=t)return(0,iA.x1)("billing","Ambiguous pro team renewal status",{monthly_period_end:null==e?void 0:e.current_period_end,monthly_canceled_at:null==e?void 0:e.canceled_at,annual_period_end:null==t?void 0:t.current_period_end,annual_canceled_at:null==t?void 0:t.canceled_at}),el.createElement(el.Fragment,null);return el.createElement("div",{className:"settings_table--sectionDescription--rFneV"},el.createElement("span",null,i))},U3=({monthlySub:e,annualSub:t,dispatch:a,team:r,billingContact:n,currency:l,showVatGst:i,shippingAddress:s,canSeeBillingAddressExp:o})=>{let c=[];return o&&c.push(el.createElement(S$,{label:(0,e2.t)("team_view.settings_table.update_payment_details.payment_details"),description:(0,e2.t)("team_view.settings_table.update_payment_details.update_payment_method"),onClick:()=>(0,ks.C8)({team:r,dispatch:a,cancelling:!1,monthlySub:e,annualSub:t,currency:l,canSeeBillingAddressExp:o})})),o&&c.push(el.createElement(S$,{label:(0,e2.t)("team_view.settings_table.update_invoice_details.invoice_details"),description:(0,e2.t)("team_view.settings_table.update_invoice_details.update_invoice_details"),onClick:()=>a((0,t3.to)({type:ku,data:{teamId:r.id,shippingAddress:s||(0,s1.EB)(),legalCompanyName:r.legal_name||"",canSeeBillingAddressExp:o}}))})),c.push(el.createElement(S$,{label:(0,e2.t)("team_view.settings_table.new_editor_notifications.seat_rename"),description:(0,e2.t)("team_view.settings_table.new_editor_notifications_description.seat_rename"),onClick:()=>{a((0,t3.to)({type:SP,data:{planType:kg.TEAM,planId:r.id}}))}})),c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.billing_contacts"),description:(0,e2.t)("settings_table.billing_contacts_description"),onClick:()=>{U7(a,r,n||"")}})),i&&o&&c.push(el.createElement(S$,{label:(0,e2.t)("settings_table.vat_gst"),description:(0,e2.t)("settings_table.change_vat_gst_id"),onClick:()=>(0,ks.Hq)({team:r,dispatch:a})})),c},U8=({team:e,dispatch:t})=>{let a=[];return e.pro_team&&a.push(el.createElement(S$,{label:(0,e2.t)("settings_tab.default_role_label.seat_rename"),description:el.createElement(e2.Tx,{id:"settings_table.default_role_entrypoint_description.seat_rename",plan_type:(0,e2.t)("settings_table.team")}),onClick:()=>{t((0,t3.to)({type:Sx,data:{planType:kg.TEAM,planId:e.id}}))}})),a},U5=(e,t)=>{e(aC.$T({view:"addAnnualPlan",teamId:t}))},U6=(e,t)=>{e((0,t3.to)({type:BG,data:{promotionCodeId:t}}))},U9=(e,t,a,r,n,l)=>{e((0,t3.to)({type:UZ,data:{currency:l,teamId:t,monthlySub:r,annualSub:n,userId:a}}))},U7=(e,t,a)=>{let r=async a=>await ks.BO({email:a,dispatch:e,teamId:t.id});e((0,t3.to)({type:SA,data:{currentContacts:a,onSubmit:r,isOrg:!1}}))},We=(e,t)=>{e(oa.WX({teamId:t,openInNewTab:!1,selectedView:{view:"team",teamId:t}}))},Wt=(e,t,a)=>{e((0,t3.to)({type:_V.V,data:{teamId:t,upsellSource:a,openCheckoutInNewTab:!0}}))};function Wa(e){let t=(0,aX.Rs)(a9.Bl3,{id:e??""},{enabled:!!e}),a=(0,ei.wA)();el.useLayoutEffect(()=>{var e;"loaded"!==t.status||(null==(e=t.data.team)?void 0:e.hasPermission)||a(aC.$T({view:"recentFiles"}))},[t,a])}var Wr=a(600904);function Wn({selectedTab:e,teamId:t}){let a=(0,ei.wA)();return el.createElement("div",{className:eE.cx.mt24.mb24.$},el.createElement(nX.Y,null,el.createElement(oK.E,{fontSize:20},(0,mM.pe)(e)),el.createElement(nX.M,null),e===mG.I.MEMBERS&&(0,h9.D)(t,null)&&el.createElement(Wr.V,{icon:"plus-32",variant:"secondary",onClick:()=>{a((0,t3.to)({type:Ex.T9,data:{teamId:t,notifyOnSuccess:!0,initialView:0}}))},trackingProperties:{action:"Add members to team"}},el.createElement(oK.E,{i18nId:"team_admin.members_tab.invite_users"}))))}let Wl=(0,_t.rw)();function Wi(e){let t=(0,ei.wA)(),a=el.useCallback(a=>{a===mG.I.MEMBERS&&t(on.m$({teamId:e.teamId})),a===mG.I.BILLING&&t(ks.Q({teamId:e.teamId,shouldForceFetch:!0})),a===mG.I.SETTINGS&&t(ks.Be({teamId:e.teamId})),t(aC.$T({view:"teamAdminConsole",teamId:e.teamId,teamAdminConsoleViewTab:a}))},[t,e.teamId]),r=Object.values(mG.I).filter(t=>t!==mG.I.DASHBOARD&&t!==mG.I.BILLING||e.isProTeam).map(t=>el.createElement(Wl,{tab:t,selectedTab:e.selectedTab,key:t,onClick:a,mobileNavTabTitle:(0,mM.pe)(t)},(0,mM.pe)(t))),n=el.createElement("button",{className:ey()(eE.cx.flex.mr32.bRadius4.pt4.pb4.pr8.pl8.maxW150.$,"team_admin_console_view--teamNameHeaderHoverState--UPIlM"),onClick:()=>{t(aC.$T({view:"team",teamId:e.teamId,teamViewTab:mG.A.HOME}))}},el.createElement(oK.E,{truncate:!0},e.teamName));return el.createElement(_e.W,{tabs:r,left:n})}let Ws="admin_settings_page--innerLoadingSpinner--rAJUv";function Wo(e){let t;let a=(0,ei.wA)(),r=(0,ei.d4)(t=>t.teams[e.teamId]);Wa(null==r?void 0:r.id);let n=(0,ei.d4)(t=>(0,sQ.canAdminTeam)(e.teamId,t)),l=(0,ei.d4)(t=>(0,sQ.canEditTeam)(e.teamId,t)),i=(0,ei.d4)(t=>(0,sQ.canViewTeam)(e.teamId,t)),s=(0,ei.d4)(e=>e.loadingState),o=(0,ei.d4)(e=>e.teamBilling),c=(0,ei.d4)(e=>e.dropdownShown),d=(0,ei.d4)(e=>(0,sQ.getPermissionsState)(e)),m=(0,ei.d4)(t=>(0,sQ.canMakeAdmin)(lm.vt.TEAM,e.teamId,t)),u=(0,ei.d4)(e=>e.roles),_=(0,aN.iZ)(),p=(0,ei.d4)(t=>t.teamMembersByTeamId[e.teamId]),g={};if(p&&_&&r&&Object.entries(p).map(([e,t])=>{var a;let n=!!t.team_role&&(0,sQ.canEditRole)(t.team_role,d),l=!!t.team_role&&(0,sQ.isResourceOwner)(_.id,r.id,lm.vt.TEAM,u),i=!!t.team_role&&m,s=(null==(a=t.team_role)?void 0:a.level)||-1;g[e]={...t,canEditRole:n,canMakeOwner:l,canMakeAdmin:i,canRemoveUser:s<oi.e6.OWNER}}),el.useEffect(()=>{if(r){if(e.selectedTab===mG.I.BILLING){let e=ks.Be.loadingKeyForPayload({teamId:r.id}),t=ks.NP.loadingKeyForPayload({teamId:r.id});((0,t8.VP)(s,e)||(0,t8.D2)(s,e))&&((0,t8.VP)(s,t)||(0,t8.D2)(s,t))||a(ks.Q({teamId:r.id}))}else if(e.selectedTab===mG.I.MEMBERS){let e=on.m$.loadingKeyForPayload({teamId:r.id});(0,t8.VP)(s,e)||(0,t8.D2)(s,e)||a(on.m$({teamId:r.id}))}else if(e.selectedTab===mG.I.SETTINGS){let e=ks.Be.loadingKeyForPayload({teamId:r.id});(0,t8.VP)(s,e)||(0,t8.D2)(s,e)||a(ks.Be({teamId:r.id}))}}},[a,e.selectedTab,s,r]),!_||!n||!r)return el.createElement(Lg,{resourceType:t5.Ft.TEAM});let E=!1,f=!0,h=e.selectedTab;switch(e.selectedTab!==mG.I.DASHBOARD||r.pro_team&&n||(h=mG.I.MEMBERS),h){case mG.I.DASHBOARD:t=el.createElement(BA,{team:r,shouldShowDevModeSuggestedUpgradesModal:e.shouldShowDevModeSuggestedUpgradesModal}),f=!1;break;case mG.I.MEMBERS:E=(0,t8.VP)(s,on.m$.loadingKeyForPayload({teamId:r.id}));let v={...r,canAdmin:n,canRead:i,canEdit:l};t=el.createElement(UH,{key:`admin-team-members-${r.id}`,team:v,dispatch:a,membersList:g,currentMemberId:_.id,dropdownShown:c,canAdminOrgTeam:!1});break;case mG.I.BILLING:let b=ks.Be.loadingKeyForPayload({teamId:r.id}),y=ks.NP.loadingKeyForPayload({teamId:r.id});E=(0,t8.VP)(s,b)||!(0,t8.D2)(s,b)||(0,t8.VP)(s,y)||!(0,t8.D2)(s,y),t=el.createElement(Up,{team:r,billing:o,dispatch:a});break;case mG.I.SETTINGS:E=(0,t8.VP)(s,ks.Be.loadingKeyForPayload({teamId:r.id})),t=el.createElement(U0,{team:r,userId:_.id,billing:o});break;default:return(0,eh.xb)(h)}return el.createElement(uw.r,{containerClass:"team_admin_console_view--fileBrowserContentContainer--Yl1zE",scrollableContainerClass:"team_admin_console_view--fileBrowserScrollableContainer--D5mrZ",toolbar:el.createElement(Wi,{teamName:r.name,teamId:e.teamId,isProTeam:r.pro_team,selectedTab:h}),content:E?el.createElement("div",{className:"admin_settings_page--container--NGwts"},el.createElement(t7.kt,{className:Ws})):el.createElement(el.Fragment,null,f&&el.createElement("div",{className:eE.cx.ml36.mr36.$},el.createElement(Wn,{selectedTab:h,teamId:e.teamId})),t)})}var Wc=a(297536),Wd=a(937890);let Wm="professional_badge_onboarding_key",Wu="seen_professional_badge_overlay";function W_({teamId:e}){var t,a;let r=(0,ei.d4)(e=>e.userTeamFlags),n=null==(t=r[e])?void 0:t[Wu],l=null==(a=r[e])?void 0:a[Fw.UA],i=(0,oz.kO)(),s=(0,a$.e)({overlay:aJ.zMZ,priority:aH.N.DEFAULT_MODAL,experiment:{check:i,predicate:e=>e,postCheck:()=>!0}}),o=(0,ei.wA)();return((0,el.useEffect)(()=>{l&&!n&&s.show()},[s,l,n]),s.isShowing)?el.createElement(fW.rq,{isShowing:s.isShowing,title:el.createElement(e2.Tx,{id:"pro_onboarding.see_whats_included"}),description:el.createElement(e2.Tx,{id:"pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"}),targetKey:Wm,onClose:()=>{o(DL.bE({all_team_flags:[{team_id:e,flags:{[Wu]:!0}}]})),s.complete()},trackingContextName:t6.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:mf.S.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:az.EL.FALLBACK,clickOutsideToHide:!0}):null}var Wp=a(50292);let Wg="seen_pro_onboarding_unlimited_projects_overlay",WE=(0,aj.r1)(Wg);function Wf({teamId:e}){var t,a;let r=(0,eU.md)(WE),n=(0,eU.md)(Fb.e),l=(0,ei.d4)(e=>e.userTeamFlags),i=null==(t=l[e])?void 0:t[Fw.UA],s=null==(a=l[e])?void 0:a[Wu],o=(0,oz.kO)(),{show:c,isShowing:d,complete:m}=(0,a$.e)({overlay:aJ._9u,priority:aH.N.DEFAULT_MODAL,experiment:{check:o,predicate:e=>e,postCheck:e=>!e}},[r,n]);return((0,ed.h)(()=>{i&&s&&c({canShow:(t,a)=>a.some(t=>t.id===e)})}),d)?el.createElement(aY.M,{isShowing:d,userFlagOnShow:Wg},el.createElement(e8.fu,{name:mf.S.getTooltipTrackingContext("Unlimited Projects"),properties:mf.S.getTrackingProperties(e)},el.createElement(Fy.jA,{dismissModal:m}))):null}function Wh(e){var t,a,r,n,l,i;let s=(0,ei.wA)(),o=el.useRef(null),c=(0,ei.d4)(({dropdownShown:e})=>e),d=e.team.org_id??null,m=(0,d5.Q)({currentOrgId:d,currentTeamId:null}),u=(0,ei.d4)(e=>e.favorites.collapsedCustomSections),_=(0,pV.S)(),p=el.useMemo(()=>{if("loaded"===m.status)return(0,_D.T0)(m.data,e.team.id)},[m,e.team.id]);if("loaded"!==m.status)return el.createElement("div",{className:eE.cx.flex.itemsCenter.colorIcon.$},el.createElement(eC.B,{svg:nf.A}));let g=(0,_D.gV)(m.data,d),E=e.dropdownKey&&c&&c.type===e.dropdownKey&&c.data&&c.data.targetRect,f=o.current&&(null==(t=null==c?void 0:c.data)?void 0:t.targetRef)===o.current&&(null==c?void 0:c.type)===_z.jU,h=o.current,v=[];return e.showInvite&&v.push(el.createElement(dB.W.Option,{key:"import",children:el.createElement(e2.Tx,{id:"file_browser.team.invite"}),onClick:e.onInviteClick})),v.push(el.createElement(dB.W.Option,{key:"share",children:el.createElement(e2.Tx,{id:"file_browser.team.view_members"}),onClick:t=>e.onMembersClick(t)})),_&&v.push(el.createElement(dB.W.Option,{key:"add-to-favorites-section",children:el.createElement("div",{className:eE.cx.flex.justifyBetween.itemsCenter.w150.$},el.createElement(e2.Tx,{id:"favorited_resources.add_to_sidebar"}),el.createElement(eC.B,{svg:Mx.A})),onClick:t=>{t.stopPropagation(),o.current&&s(aC.j7({type:_z.jU,data:{targetRect:h.getBoundingClientRect(),targetRef:h,resourceId:e.team.id}}))}})),el.createElement("button",{className:eE.cx.flex.itemsCenter.colorIcon.$,ref:o,onClick:t=>{e.dropdownKey&&h&&s(aC.j7({type:e.dropdownKey,data:{targetRect:null==h?void 0:h.getBoundingClientRect()}}))}},el.createElement(eC.B,{svg:nf.A}),E&&el.createElement(Mw.Cf,{targetRect:c.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},v),f&&el.createElement(gR.t,{updateFavorite:(t,a)=>{(!g||t)&&(e.setFavorite(t,null==p?void 0:p.resource.id,a),t&&a&&(u.delete(a),s(pc.U6({collapsedCustomSections:u})),ge.Fp({type:"topLevel",id:"custom",orgId:d,sectionId:a},!0)))},resourceId:e.team.id,resourceType:lm.bk.TEAM,isFavorited:void 0!==p,currentSectionId:(null==p?void 0:p.resource.sidebarSectionId)??void 0,sections:((null==(r=null==(a=m.data)?void 0:a.currentUser)?void 0:r.userSidebarSections)?(0,aX.oA)(m.data.currentUser.userSidebarSections):null)??[],customSectionOrdering:(null==(i=null==(l=null==(n=m.data.currentUser)?void 0:n.baseOrgUser)?void 0:l.fileBrowserPreferences)?void 0:i.orderedSidebarSections)??[],showPoint:!0}))}function Wv(){return el.createElement("div",{className:eE.cx.flex.p12.colorBgSelected.bRadius6.$},el.createElement("div",{className:eE.cx.mr12.colorIcon.itemSelfCenter.$},el.createElement(eC.B,{svg:lq.A})),el.createElement(e2.Tx,{id:"sidebar.meta.this_team_is_for_education_users_only"}),"\xa0",el.createElement(eT.Us,{target:"_blank",trusted:!0,href:"/education/"},el.createElement(e2.Tx,{id:"org_home_view_meta.learn_more"})))}function Wb({team:e}){var t,a;let r=(0,ei.wA)(),n=!!(0,em.kc)().starter_team_upsell_ftr_lg_perms,l=(0,aX.Rs)(a9.kQI,{id:e.id},{enabled:n}),i=(0,ei.d4)(t=>(0,sQ.canEditTeam)(e.id,t)),s=n?!!(null==(a=null==(t=l.data)?void 0:t.team)?void 0:a.hasPermission):i,[{data:o}]=(0,nY.IT)((0,_F.Xg)({teamId:e.id})),c=(o||[]).filter(e=>""!==e.name).length,d=(0,ep.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&s&&c>=d2.Wf)||d.getConfig().getValue("show_upsell",!1))return null;let m=el.createElement(eT.Us,{onClick:()=>{r((0,t3.to)({type:_V.V,data:{teamId:e.id,upsellSource:d8.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:e3.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},el.createElement(e2.Tx,{id:"file_browser.starter_team.upgrade_link"}));return el.createElement(e8.fu,{name:"Starter Team Upsell Footer"},el.createElement("div",{className:ey()(eE.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--zaJ4n"),"data-testid":"starterTeamUpsellFooter"},el.createElement("div",{className:ey()(eE.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper---iD0R")},el.createElement("strong",null,c===d2.Wf?el.createElement(e2.Tx,{id:"file_browser.starter_team.project_limit_warning",maxProjects:d2.Wf}):el.createElement(e2.Tx,{id:"file_browser.starter_team.project_limit_warning_over_max_projects"})),el.createElement("p",{className:eE.cx.alignCenter.$},el.createElement(e2.Tx,{id:"file_browser.starter_team.project_limit_info",upgradeLink:m})))))}function Wy(e){let{team:t,orgTeamActionType:a}=e;switch(a){case Tt.gO.CLICK_JOIN:case Tt.gO.BYPASS_REQUEST:return el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name}),el.createElement("br",null),el.createElement(e2.Tx,{id:"file_browser.team.please_join_team"}));case Tt.gO.CLICK_REQUEST:return el.createElement(el.Fragment,null,el.createElement(e2.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name}),el.createElement("br",null),el.createElement(e2.Tx,{id:"file_browser.team.please_request_to_join_team"}));case Tt.gO.CLICK_WITHDRAW:return el.createElement(e2.Tx,{id:"file_browser.team.request_to_join_team_is_pending",teamName:t.name});default:return el.createElement(e2.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name})}}let Ww=(0,ei.Ng)((e,t)=>({orgTeamActionType:(0,Tt.YP)(t.team,e.teamRoleRequests[t.team.id],(0,sQ.getPermissionsState)(e),e.currentUserOrgId),team:t.team,teamRoleRequest:e.teamRoleRequests[t.team.id]}))(function(e){let{team:t,orgTeamActionType:a}=e,r=(0,ei.wA)(),n=el.createElement("div",{className:"team_page_view--nonMemberViewContainer--YGW4u"},el.createElement("div",{className:"team_page_view--header--uI3b0"},el.createElement(oq.nl,{team:t,size:oq.Pf.LARGE}),el.createElement("span",{className:"team_page_view--teamName--gBwlm text--fontPos18--rYXJb text--_fontBase--QdLsd"},t.name)),el.createElement("div",{className:"team_page_view--joinOptionText--Bs2e9 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},el.createElement(Wy,{team:t,orgTeamActionType:a})),el.createElement("div",{className:"team_page_view--joinButton--LKnWo"},el.createElement(Lo.m,{team:t,onJoin:(0,yD.GR)(r,t.id),onLeave:()=>{r(t3.to({type:Ta.p,data:{teamId:t.id}}))},onJoinRequestOverride:()=>{r(t3.to({type:Tn.$S,data:{team:t}}))},onBypassRequestOverride:(0,yD.GR)(r,t.id,oi.e6.OWNER),onWithdrawRequestForTeamOverride:()=>{var t;let a=null==(t=e.teamRoleRequest)?void 0:t.id;a&&r(Tr.lT({requestId:a}))},isCardActive:!1})));return el.createElement(uw.r,{content:n})}),WT=(0,ei.Ng)((e,t)=>{let a=e.teams[t.teamId],r=e.currentUserOrgId,n=(0,sQ.canAdminTeam)(t.teamId,e),l=(0,sQ.canEditTeam)(t.teamId,e),i=(0,sQ.canViewTeam)(t.teamId,e),s=a&&a.org_id&&e.orgById[a.org_id]||null,o=!!s&&(0,sQ.canAdminOrg)(s.id,e),c=(0,sQ.canMakeAdmin)(lm.vt.TEAM,t.teamId,e),d=(0,sQ.hasAdminRoleAccessOnTeam)(t.teamId,e),m=(0,sQ.hasEditorRoleAccessOnTeam)(t.teamId,e),u={};e.teamMembersByTeamId[t.teamId]&&Object.entries(e.teamMembersByTeamId[t.teamId]).map(([a,r])=>{var l;let i=!!r.team_role&&(0,sQ.canEditRole)(r.team_role,e),s=!!r.team_role&&(0,sQ.isResourceOwner)(e.user.id,t.teamId,lm.vt.TEAM,e.roles),o=!!r.team_role&&c,d=(null==(l=r.team_role)?void 0:l.level)||-1;u[a]={...r,canEditRole:i,canMakeOwner:s,canMakeAdmin:o,canRemoveUser:n&&d<oi.e6.OWNER}});let _=(0,sQ.hasViewerRoleAccessOnTeam)(t.teamId,e);return{team:a&&{...a,canAdmin:n,canEdit:l,canRead:i,isCurrentUserInTeam:_,canEditTeamContents:m},org:s,currentOrgId:r,teamRoleRequest:e.teamRoleRequests[t.teamId],avatarEditorState:e.avatarEditorState,canAdminOrgTeam:o,loadingState:e.loadingState,billing:e.teamBilling,membersList:u,user:e.user,canDeleteTeam:d,dropdownShown:e.dropdownShown}})(function(e){var t,a,r,n,l;let i;let{selectedTab:s,loadingState:o,team:c,teamId:d,org:m,currentOrgId:u,upgradeModalType:_}=e,p=(0,ei.wA)(),g=(0,sJ._6)(),[E,f]=el.useState(!1),[{status:h,data:v}]=(0,nY.IT)((0,_F.Xg)({teamId:null==(t=e.team)?void 0:t.id}),{revalidateOnMount:!0});Wa(e.teamId);let b=(0,ei.d4)(e=>e.teamRoleRequests),y=(0,ei.d4)(e=>c&&e.teamUserByTeamId[c.id]),w=!!(0,ei.d4)(e=>{var t;return c&&(0,sQ.canManageOrgTeam)(c.id,e,null==(t=e.user)?void 0:t.id)}),[T,x]=el.useState(),C=(0,d2.w5)(c)&&!(null==c?void 0:c.org_id),N=(0,h9.D)((null==c?void 0:c.id)||null,(null==c?void 0:c.org_id)||null),k=(0,aX.Rs)(a9.GyZ,{teamId:d}),S="loaded"===k.status,I=el.useMemo(()=>(0,Wc.X)(k),[k]),A=N?!!(I&&I.canAdmin):!!(c&&c.canAdmin),L=N?!!(I&&I.canEdit):!!(c&&c.canEdit),R=N?!!(I&&I.canRead):!!(c&&c.canRead),O=el.useCallback(()=>{wX.S.getTeamTransfer({teamId:d}).then(({data:e})=>{x(e.meta)},e=>{x(void 0)})},[d]);(0,ed.h)(()=>{let e=(0,s3.QL)("team_role_redemption");if(e&&parseInt(e) in oi.e6){let e=(0,Wd.VE)();e&&p(a0.F.enqueue({message:e})),(0,s3.EM)("team_role_redemption")}}),(0,ed.h)(()=>{if(!(0,em.kc)().auto_accept_team_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,s3.QL)("auto_role");t&&null!==c&&t in e&&(((null==c?void 0:c.canRead)||"100"!==t)&&((null==c?void 0:c.canEdit)||"300"!==t)&&((null==c?void 0:c.canAdmin)||"900"!==t&&"999"!==t)&&p(a0.F.enqueue({message:(0,e2.t)("join_team_flash.auto_accept_team_invite_modal",{teamName:(null==c?void 0:c.name)||"",inviteType:e[t]})})),(0,s3.EM)("auto_role"))}),el.useEffect(()=>{O()},[null==T?void 0:T.id,O]),el.useEffect(()=>{let e=TE.um.loadingKeyForPayload();(0,t8.VP)(o,e)||(0,t8.D2)(o,e)||p(TE.um())},[p,o]),el.useEffect(()=>{u&&p((0,dF.Rw)())},[p,u]),el.useEffect(()=>{if(c)f(!1);else{let e=yD.HD.loadingKeyForPayload({teamId:d}),t=`TEAM_GET_ACTION_${d}`;u&&!o[e]?p(yD.HD({teamId:d,disableFlashError:!0})):(0,t8.VP)(o,e)||(0,t8.VP)(o,t)||f(!0)}},[p,o,c,d,u]),el.useEffect(()=>{if(c&&!c.org_id){if(s===mG.A.BILLING){let e=ks.Be.loadingKeyForPayload({teamId:c.id}),t=ks.NP.loadingKeyForPayload({teamId:c.id}),a=!(0,t8.D2)(o,e)&&!(0,t8.VP)(o,e),r=!(0,t8.D2)(o,t)&&!(0,t8.VP)(o,t);(a||r)&&p(ks.Q({teamId:c.id}))}else if(s===mG.A.MEMBERS){let e=on.m$.loadingKeyForPayload({teamId:c.id});(0,t8.VP)(o,e)||(0,t8.D2)(o,e)||p(on.m$({teamId:c.id}))}else if(s===mG.A.SETTINGS){let e=ks.Be.loadingKeyForPayload({teamId:c.id});A&&C&&!(0,t8.VP)(o,e)&&!(0,t8.D2)(o,e)&&p(ks.Q({teamId:c.id}))}}},[p,s,o,c,m,C,A]);let D=(0,aN.iZ)(),F=D&&y&&y[D.id],M=null==(r=null==(a=(0,aX.Rs)(a9.Cit,{teamId:d}).data)?void 0:a.team)?void 0:r.currentTeamUser,P=(0,ei.d4)(e=>e.roles);el.useEffect(()=>{var e,t;let a;if(!(c&&D&&F&&M&&_)||!C)return;let r=_===lm.G_.DEV_MODE,n=_===lm.G_.WHITEBOARD?lm._Y.WHITEBOARD:lm._Y.DESIGN;if(n===lm._Y.DESIGN?a=(null==(e=M.designAccountTypeRequest)?void 0:e.status)==="pending":n===lm._Y.WHITEBOARD&&(a=(null==(t=M.whiteboardAccountTypeRequest)?void 0:t.status)==="pending"),!0===a&&p(ae.s.flash((0,e2.t)("team_view.request_upgrade.request_already_sent"))),!1===a&&(0,u5.dk)(!!(0,dP.qR)(F,n)||r&&!(0,dP.y5)(F,n),a,c,D)){let e=(0,s3.QL)("entry_point")||(r?M_.i$.DowngradeEmail:M_.tc.DOWNGRADE_EMAIL);p(t3.to({type:My.PK,data:{editorType:n,team:c,entryPoint:e}}))}p(aC.$T({view:"team",teamId:c.id,teamViewTab:s}))},[p,c,D,F,M,_,C,s]),(0,ed.h)(()=>{e.showProOnboardingModal&&p(t3.to({type:Wp.C,data:{teamId:d}}))});let B=el.useCallback((t,a,r)=>{if(e.team){let n={team:e.team,entrypoint:"team_page_view",sectionId:r,favoriteId:a};t?p(pc.DN(n)):p(pc.ox(n))}},[p,e.team]),U=el.useCallback(()=>{td.Ay.del(`/api/asset_transfer/${null==T?void 0:T.id}`).then(()=>{x(void 0),p(a0.F.enqueue({message:(0,e2.t)("asset_transfers.revoke.transfer_revoked")}))},e=>{p(a0.F.enqueue({message:(0,e2.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[null==T?void 0:T.id,p]),W=el.useMemo(()=>{if(c)return{team:c,pending:T,onRevokeTransfer:U,updatePending:O,billing:e.billing}},[O,U,T,c,e.billing]),V={view:"team",teamId:d,teamViewTab:mG.A.HOME},G=xu(xi.MEMBERS,W,!!(null==c?void 0:c.canAdmin),V),$=xu(xi.SETTINGS,W,!!(null==c?void 0:c.canAdmin),V);el.useEffect(()=>{e.selectedTab===mG.A.MEMBERS?G():e.selectedTab===mG.A.SETTINGS&&$()},[]);let j=el.useCallback(e=>{let t={view:"team",teamId:c?c.id:"",teamViewTab:e};p(aC.$T(t))},[p,c]),H=el.useMemo(()=>{if(c){if((0,h9.D)(c.id,c.org_id)){if(R)switch(c.org_access){case lm.bU.PRIVATE:return(0,e2.t)("file_browser.team_header.closed_team_header");case lm.bU.SECRET:return(0,e2.t)("file_browser.team_header.secret_team_header")}}else switch(c.org_access){case lm.bU.PRIVATE:if(L)return(0,e2.t)("file_browser.team_header.private_team_can_edit");if(R)return(0,e2.t)("file_browser.team_header.private_team_can_view");break;case lm.bU.SECRET:if(L)return(0,e2.t)("file_browser.team_header.secret_team_can_edit");if(R)return(0,e2.t)("file_browser.team_header.secret_team_can_view")}}},[c,R,L]),q=el.useMemo(()=>{if(c&&R){if(c.org_access===lm.bU.PRIVATE)return(0,e2.t)("file_browser.team_header.closed_team_subtitle");if(c.org_access===lm.bU.SECRET)return(0,e2.t)("file_browser.team_header.secret_team_subtitle")}},[c,R]),Y=(0,_q.N)();if(!S)return el.createElement(t7.qc,null);if(E||!R&&!u)return el.createElement(Lg,{resourceType:t5.Ft.TEAM});if(!c)return null;if(!R)return el.createElement(Ww,{team:c});let z=()=>{p((0,_F.SX)({where:gE.Ah.FolderListView,team:c}))},K=()=>{p(aC.oB()),$(),j(mG.A.SETTINGS)},J=()=>{p(aC.oB()),p(aC.$T({view:"teamAdminConsole",teamId:c.id,isProTeam:c.pro_team})),(0,e7.sx)("Admin Console Opened",{trackingContext:t6.e0.FILE_BROWSER,entryPoint:"team_page_view"})},Q="loaded"===h;i=c.org_id?Q?el.createElement(el.Fragment,null,el.createElement(Bm,{viewId:`team-${e.teamId}`,folderList:v||[],showTeamNameOrAuthor:!1,onCreateNewFolder:N?L?z:void 0:c.isCurrentUserInTeam?z:void 0,canEditTeamContents:N?L:c.canEditTeamContents,isCurrentUserInTeam:c.isCurrentUserInTeam,selectedView:g}),el.createElement(OZ.cx,null)):el.createElement(t7.qc,null):el.createElement(el.Fragment,null,Q?el.createElement(el.Fragment,null,el.createElement(FR,{teamId:c.id}),el.createElement(Bm,{viewId:`team-${e.teamId}`,folderList:v||[],showTeamNameOrAuthor:!1,onCreateNewFolder:c.isCurrentUserInTeam?z:void 0,canEditTeamContents:N?L:c.canEditTeamContents,isCurrentUserInTeam:c.isCurrentUserInTeam,selectedView:g}),el.createElement(OZ.cx,null)):el.createElement(t7.qc,null));let Z=[mG.A.MEMBERS,mG.A.BILLING,mG.A.SETTINGS].includes(e.selectedTab),X=c.canAdmin?el.createElement(mJ.FL,{entity:c,entityType:mY.ck.TEAM,avatarEditorState:e.avatarEditorState,size:40,dispatch:p,avatarSvg:gO.A,svgSizeRatio:.6}):el.createElement(oq.nl,{team:c,size:40,avatarSvg:gO.A,svgSizeRatio:.6}),ee=!R&&!w,et=(()=>{if(ee)return;let e=Y({team:c,onChangeTeamIconClick:()=>{p((0,_G.o)({team:c}))},onRenameClick:()=>{p(t3.to({type:Ex.hc,data:{team:c}}))},teamRoleRequests:b});if(!L&&!(0,h9.D)(c.id,c.org_id))return e;let t=[];return W&&(L&&t.push({displayText:(0,e2.t)("team_view.settings.view_settings"),callback:K}),(0,h9.D)((null==c?void 0:c.id)||null,(null==c?void 0:c.org_id)||null)&&m&&t.push({displayText:(0,e2.t)("teams_table.view_team_members"),callback:G}),C||t.push({displayText:"",separator:!0})),C&&c.canAdmin&&t.push({displayText:(0,e2.t)("team_view.settings.view_admin_console"),callback:J},{displayText:"",separator:!0}),t.push(...e),t})(),ea=et?{kind:LE.A.CUSTOM,key:LE.D.DROPDOWN,element:el.createElement(Lw,{buttonAriaLabel:(0,e2.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${c.id}`,dropdownOptions:et})}:void 0,er=c.pro_team&&(0,em.kc)().pro_onboarding_launch,en=c.student_team?el.createElement(Wv,null):(0,d2.w5)(c)?void 0:el.createElement(Wb,{team:c}),es=(0,h9.D)((null==c?void 0:c.id)||null,(null==c?void 0:c.org_id)||null);return el.createElement(uw.Z,{containerClass:ey()({"team_page_view--xOverflowFileBrowserContainer--ZNwlr":Z}),contentContainerClass:ey()({"team_page_view--xOverflowFileBrowserContentContainer--QCjlt":Z}),content:i,footer:en,banner:el.createElement(FN,{teamId:e.teamId,selectedTab:e.selectedTab}),header:el.createElement(Lb,{avatar:X,title:c.name,rightSideActions:function(e,t,a,r,n,l,i,s,o,c,d,m,u,_){var p;let g=(0,mM.pG)(s,i).length,E=(0,h9.D)((null==e?void 0:e.id)||null,(null==e?void 0:e.org_id)||null),f=E?d:e.canRead,h=E?c:e.canEditTeamContents,v=[],b=!!(m&&Object.keys(m).includes(e.id))&&(null==(p=m[e.id])?void 0:p.status)===ME.c.PENDING,y=e.isCurrentUserInTeam??!0,w=e.canAdmin&&!e.isCurrentUserInTeam,T=!E&&e.org_access===lm.bU.PUBLIC&&f&&!y,x={kind:Lv.A.CUSTOM_BUTTON,key:LE.D.FAVORITE,element:el.createElement(gB.r,{setFavorite:o,favoriteType:lm.bk.TEAM,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:e.org_id})},C={kind:Lv.A.ICON_TEXT_BUTTON,key:LE.D.VIEW_MEMBERS,displayText:g.toString(),onClick:e=>{_&&_(e)},icon:Lq.A,svgStyleClass:"team_page_view--iconTextButtonSvg--De4li",showOnMobile:!1};if(w)v.push({kind:Lv.A.BUTTON,key:LE.D.JOIN_TEAM,displayText:(0,e2.t)("file_browser.team.join_team"),onClick:(0,yD.GR)(r,e.id,oi.e6.ADMIN)});else if(T)return v.push({kind:Lv.A.BUTTON,key:LE.D.JOIN_TEAM,displayText:(0,e2.t)("file_browser.team.join_team"),onClick:(0,yD.GR)(r,e.id)}),E||v.push(C),v.push(x),v;(a===mG.A.HOME||n)&&(h&&!(0,dP.R$)(l,e.org_id)?v.push({kind:Lv.A.CUSTOM,key:LE.D.NEW_PROJECT,element:el.createElement(el.Fragment,null,el.createElement(LN,{"data-onboarding-key":"team-view-new-project-cta",dataTestId:"team-view-new-project-cta",variant:"inverse",onClick:()=>{r((0,_F.SX)({team:{...e,canEdit:h,canAdmin:e.canAdmin,canEditTeamContents:E?c:e.canEditTeamContents},where:gE.Ah.FolderListView}))},text:(0,e2.t)("file_browser.team.add_project")}),el.createElement(Wf,{teamId:e.id})),showOnMobile:!0}):!e.org_id||!m||e.org_access===lm.bU.SECRET||w||T||e.canAdmin||v.push({kind:Lv.A.BUTTON,key:LE.D.REQUEST_TO_EDIT,displayText:b?(0,e2.t)("file_browser.team.cancel_request"):(0,e2.t)("file_browser.team.request_to_edit"),onClick:()=>{var t;b?r(Tr.lT({requestId:null==(t=m[e.id])?void 0:t.id})):r(t3.to({type:Tn.$S,data:{team:e,requesterCurrentLevel:oi.e6.VIEWER}}))}})),(a===mG.A.MEMBERS||n)&&t&&v.push({kind:Lv.A.BUTTON,key:LE.D.INVITE,displayText:E?(0,e2.t)("file_browser.team.share"):(0,e2.t)("file_browser.team.invite"),onClick:()=>{r(t3.to({type:Ex.T9,data:{teamId:e.id,notifyOnSuccess:!0}}))}}),E||v.push(C),e.org_id&&v.push(x);let N=el.createElement(Wh,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:t,onInviteClick:()=>{r(t3.to({type:Ex.T9,data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:e=>{_&&_(e)},setFavorite:o});return v.push({kind:Lv.A.CUSTOM_BUTTON,key:LE.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:N}),v}(c,!0,s,p,!0,e.user,e.teamId,P,B,L,R,b,null==(l=null==(n=P.byTeamId)?void 0:n[e.teamId])||l[e.user.id],e=>{e.stopPropagation(),p(aC.oB()),G(),j(mG.A.MEMBERS)}),rightSideOfTitleAction:ea,pageHeaderIcon:!es&&H?el.createElement("div",{className:eE.cx.ml8.mr4.$,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":H,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200},el.createElement(n0.In,{icon:"lock-16"})):void 0,badge:el.createElement(nX.Y,{direction:"horizontal"},es&&H?el.createElement("div",{className:eE.cx.ml4.mr4.$,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":H,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":(0,h9.D)(c.id,c.org_id)?q:""},el.createElement(n0.In,{icon:"lock-16"})):void 0,er?el.createElement(el.Fragment,null,el.createElement(e8.fu,{name:oj._Y.PROFESSIONAL,properties:mf.S.getTrackingProperties(d)},el.createElement(e8.$z,{type:"button",onClick:()=>{p(t3.to({type:mh,data:{teamId:c.id}}))},"data-onboarding-key":Wm,className:"team_page_view--pointerOnHover--GKhRb"},el.createElement(oj.Ex,{color:oj.zE.INFORMATIONAL,text:(0,e2.t)("pro_onboarding.professional"),size:oj.vj.EXTRA_LARGE}))),el.createElement(W_,{teamId:e.teamId})):void 0)})})}),Wx={ctrlKey:"metaKey"};function WC(e,t={}){let a=(0,ei.wA)(),r=(0,ei.d4)(e=>e),n=el.useMemo(()=>({metaKey:e=>{let t=(0,d3.xS)(r,e);a(sq.V3({url:t}))},...t}),[t,a,r]);return el.useCallback((t,r)=>{let l=e(r),i=Object.keys(n).find(e=>t[e]);if(i){let e=n[e_.Ay.mac?i:Wx[i]||i];if(e){t.preventDefault(),e(l);return}}a(aC.$T(l))},[n,a,e])}var WN=a(692630),Wk=a(196495),WS=a(548310),WI=a(654696);let WA="org_user_meta_content--teamsHeader--pWfKo org_user_meta_content--sectionHeader--ukacB text--fontPos13--xW8hS text--_fontBase--QdLsd";function WL(e){let t=(0,ei.wA)(),a=(0,aN.iZ)(),r=(0,WS.w)(e.user),n=(0,ei.d4)(t=>t.currentUserOrgId===e.orgId),l=()=>{t((0,t3.to)({type:WI.u}))};return el.createElement("div",{className:eE.cx.flex.flexColumn.ml16.hFull.$},el.createElement(t1.x,{isLoading:e.isLoading},()=>{var t,i,s;return el.createElement(el.Fragment,null,el.createElement("div",{className:"org_user_meta_content--userData--bc-ey"},el.createElement(oq.H8,{user:e.user,size:oq.Pf.LARGE}),el.createElement("div",{className:"org_user_meta_content--userName--sh6JB text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),(null==(t=e.user.profile)?void 0:t.job_title)&&el.createElement("div",{className:"org_user_meta_content--jobTitle--psim4 text--fontPos11--2LvXf text--_fontBase--QdLsd"},el.createElement(oj.Ex,{color:oj.zE.INVERT,text:(0,uJ.lb)(null==(i=e.user.profile)?void 0:i.job_title)}),e.userId===(null==a?void 0:a.id)&&el.createElement("span",{className:"org_user_meta_content--blueLink--QP8wm blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:l},el.createElement(e2.Tx,{id:"internal_profile.change_job_title"}))),e.user.email&&el.createElement("div",{className:"org_user_meta_content--email--EBrcv text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),el.createElement(ag,{value:e.description??"",placeholder:(0,e2.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:ap,readOnly:e.isReadOnly,className:"org_user_meta_content--description--d6GIh text--fontPos13--xW8hS text--_fontBase--QdLsd"})),r&&(null==(s=e.user)?void 0:s.id)===(null==a?void 0:a.id)&&el.createElement(WM,{user:e.user}),n&&el.createElement(rt.P,{className:eE.cx.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:eE.cx.p16.borderBox.flex.flexColumn.$},el.createElement("div",{className:WA},el.createElement(e2.Tx,{id:"internal_profile.teams"})),el.createElement(WP,{userId:e.userId,orgId:e.orgId}),el.createElement("div",{className:WA},el.createElement(e2.Tx,{id:"internal_profile.recent_projects"})),el.createElement(WD,{files:e.recents,isYourProfile:!e.isReadOnly})))}))}function WR(e){let t=(0,aN.iZ)(),a=(0,ei.wA)();return el.createElement(WL,{submitDescription:t=>{a(Wk.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function WO(e){let t=(0,ei.wA)(),a=(0,aN.iZ)();return el.createElement(WL,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!a||a.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,e2.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:a=>{e.orgId&&e.orgUser&&t(uQ.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:a},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function WD(e){let t=(0,ei.d4)(e=>e),a=WC(e=>({view:"folder",folderId:e})),r=el.useMemo(()=>{if(e.files.status!==oL.r.SUCCESS)return[];let a=[],r=[];if(!e.files)return a;let n=new Set;for(let l of e.files.value){if(n.has(l.folder_id)||(n.add(l.folder_id),""===l.folder_name||null==l.folder_name))continue;let e={id:l.folder_id,name:l.folder_name,teamName:l.team_name,hasAccess:(0,sQ.canViewFolder_DEPRECATED)(l.folder_id,t)};if(e.hasAccess?a.push(e):r.push(e),a.length+r.length>=5)break}return a.concat(r)},[e.files,t]);return el.createElement(t1.x,{state:e.files},()=>el.createElement("div",null,0===r.length&&el.createElement("div",{className:"org_user_meta_content--projectEmptyState--IbIBj text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,e2.t)("internal_profile.your_recent_projects_will_appear_here"):(0,e2.t)("internal_profile.their_recent_projects_will_appear_here")),r.map(e=>el.createElement("div",{key:e.id,onClick:e.hasAccess?t=>a(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project---8Hf0 org_user_meta_content--projectBase--TuABJ text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--W-qx7 org_user_meta_content--dim--ebFTp org_user_meta_content--projectBase--TuABJ text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},el.createElement("span",{"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,e2.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function WF(e){return el.createElement("div",{className:"org_user_meta_content--userProfileNotification--2Pst6"},el.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--Ui3fK text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),el.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--W6AG- text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),el.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--SOHUb"},e.action))}function WM(e){let{profile:t}=e.user,a=(0,ei.wA)(),[r,n]=el.useState(!1),l=r=>{n(!0),setTimeout(()=>{a(Wk.yJ({user:{id:e.user.id,job_title:r,profile:{...t,job_title:r}},userInitiated:!0}))},600),(0,a6.Cu)({trackingContext:t6.e0.FILE_BROWSER,context:"job_title",text:"Set Job Title",jobTitle:r})};return el.createElement(el.Fragment,null,(null==t?void 0:t.images)?null:el.createElement(WF,{title:(0,e2.t)("internal_profile.profile_image_nudge.title"),text:(0,e2.t)("internal_profile.profile_image_nudge.text"),action:el.createElement(eT.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--REOcA",onClick:()=>{a((0,_G.X)({entity:e.user,entityType:mY.ck.CURRENT_USER,shape:"CIRCLE"})),(0,a6.Cu)({trackingContext:t6.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},el.createElement(e2.Tx,{id:"internal_profile.profile_image_nudge.action"}))}),(null==t?void 0:t.job_title)?null:el.createElement(WF,{title:(0,e2.t)("internal_profile.job_title_nudge.title"),text:(0,e2.t)("internal_profile.job_title_nudge.text"),action:r?el.createElement(t7.kt,null):el.createElement(el.Fragment,null,uJ.s_.map(e=>el.createElement(oj.Ex,{key:e,color:oj.zE.INVERT,subtle:!0,text:(0,uJ.lb)(e),className:"org_user_meta_content--userProfileNotificationBadge--kgYsv",onClick:()=>l(e)})))}))}let WP=(0,ei.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,a]=el.useState(null);el.useEffect(()=>{D2.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{a(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let r=WC(e=>({view:"team",teamId:e.id})),n=(t||[]).sort((t,a)=>{let r=(0,sQ.canViewTeam)(t.id,e.permissionState),n=(0,sQ.canViewTeam)(a.id,e.permissionState);return r&&!n?-1:!r&&n?1:0});return el.createElement(t1.x,{isLoading:!t},()=>el.createElement("div",{className:eE.cx.flex.flexColumn.gap8.$},n.map(t=>{let a=(0,sQ.canViewTeam)(t.id,e.permissionState);return el.createElement(aa.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:a?r:void 0,className:`org_user_meta_content--teamListItem--v7nwo text--fontPos13--xW8hS text--_fontBase--QdLsd ${a?"":"org_user_meta_content--dim--ebFTp"}`,"data-tooltip-type":aA.Ib.TEXT,"data-tooltip":a?void 0:(0,e2.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&el.createElement(e2.Tx,{id:"internal_profile.no_teams_in_common"})))});function WB(e){let t=(0,aS.i8)(e.publishedPlugins),a=(0,aS.LH)((0,aS.ky)(t,e.userId),e.org),r=Object.keys(a).map(e=>a[e]),n=(0,as.LN)(r);return 0===n.length?null:el.createElement(el.Fragment,null,el.createElement("div",{className:"user_org_resources--sectionHeader--FlyJy internal_user_profile_page_view--sectionHeader--wtWNa text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"file_browser.settings.plugins_published",orgName:e.org.name})),el.createElement("div",{className:"user_org_resources--container--XBt6w profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},n.map(e=>el.createElement(nL.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,isPublic:!!e.roles.is_public,viewContext:"UserOrgResources"})),el.createElement(nL.hT,{numResources:n.length})))}function WU(e){let{org:t}=e;return el.createElement(t1.x,{state:e.plugins},a=>el.createElement(WB,{...e,org:t,publishedPlugins:a}))}var WW=a(204545);function WV(e){let{org:t}=e,a=(0,ei.d4)(a=>(t&&t.id&&a.orgUsersByOrgId.orgUsers[t.id]||{})[e.user.id]);return t?el.createElement(WO,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:a}):el.createElement(WR,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let WG=e=>{let t=e.user.id,a=(0,ei.wA)(),r=(0,ei.d4)(e=>e.selectedView),n=e.orgUser&&e.orgUser.org_id,l=(0,ei.d4)(e=>e.currentUserOrgId),i=void 0===n?l:n,s=(0,ei.d4)(e=>i&&e.orgById[i]||null),o=(0,em.kc)().xr_debounce_threshold&&s,c="user"===r.view?r.userViewTab:void 0;el.useEffect(()=>{a((0,t3.ES)({type:WN.E}))},[a,c]);let d=(0,ei.d4)(e=>e.userFlags);el.useEffect(()=>{d.seen_profile||a(r7.b({seen_profile:!0}))},[a,d.seen_profile]);let m=(0,ei.d4)(e=>e.tileSortFilterStateByView.user),u=el.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:L9.rJ.ANY,fileType:L9.t2.ANY},sort:{key:L9.C0.ACCESSED_AT,dir:L9.ue.DESC}},tileSortFilterConfig:m,sortKeys:[L9.C0.NAME,L9.C0.CREATED_AT,L9.C0.ACCESSED_AT]}),[m]),_=el.useMemo(()=>{let e=new URLSearchParams;return i&&e.append("org_id",i),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,i]),[p,g]=el.useState([]),[E,f]=el.useState(!0),[h,v]=el.useState(null),[b,y]=el.useState(0),w=el.useCallback(e=>{v(e),a(a0.F.enqueue({message:(0,e2.t)("internal_profile.an_error_occurred"),error:!0}))},[a]),{fetchNext:T,hasMore:x}=(0,ao.WQ)(_,w,55),C=el.useCallback(async()=>{if(!x)return;let e=async()=>{try{let e=await T();if(!Array.isArray(e))return;g(t=>[...t,...e])}catch(e){w(e)}};await e()},[T,w,x]);el.useEffect(()=>{(async()=>{p.length<55&&b<3&&(await C(),y(e=>e+1),f(!1))})()},[b]);let N=el.useMemo(()=>p.filter(e=>{switch(m.filters.fileType){case L9.t2.ANY:return!0;case L9.t2.DESIGN:return"design"===e.editor_type;case L9.t2.FIGJAM:return"whiteboard"===e.editor_type;case L9.t2.PROTOTYPE:return!1;case L9.t2.SLIDES:return"slides"===e.editor_type;default:(0,eh.xb)(m.filters.fileType)}}),[p,m]),k=el.useMemo(()=>h?{status:oL.r.FAILURE,error:h}:E?{status:oL.r.LOADING}:{status:oL.r.SUCCESS,value:N},[E,h,N]),S=(0,Cb.J)(()=>s&&s.community_profile_id?a(aT.pZ({profileId:s.community_profile_id})):Promise.resolve([]),[a,s]),I=e=>{a(aC.$T({view:"user",userId:t,userViewTab:e}))},A=c===Tv.o.INTERNAL_PROFILE?[el.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--xhqRO"},el.createElement(_x.$4,{options:u,hideSortMenu:!0,selectedView:r,dispatch:a}))]:[],L=el.createElement(_x.g2,{leftSide:o?el.createElement(w7.f,{tabs:[el.createElement(w7.r,{key:Tv.o.INTERNAL_PROFILE,tab:Tv.o.INTERNAL_PROFILE,isSelected:c===Tv.o.INTERNAL_PROFILE,onClick:()=>I(Tv.o.INTERNAL_PROFILE),tabName:(0,e2.t)("internal_profile.file_contributions")}),el.createElement(w7.r,{key:Tv.o.INTERNAL_PROFILE_POSTS,tab:Tv.o.INTERNAL_PROFILE_POSTS,isSelected:c===Tv.o.INTERNAL_PROFILE_POSTS,onClick:()=>I(Tv.o.INTERNAL_PROFILE_POSTS),tabName:(0,e2.t)("internal_profile.posts")})]}):A,rightSide:o?A:[]});return(0,e8.T8)(el.createElement(uw.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--vtgjx",containerClass:"internal_user_profile_page_view--pageContainerInner--2wHIo",content:el.createElement("div",{className:"internal_user_profile_page_view--content--VaPM-"},el.createElement("div",{className:"internal_user_profile_page_view--viewbar--Xnlyi"},L),c===Tv.o.INTERNAL_PROFILE&&el.createElement(el.Fragment,null,s&&el.createElement(WU,{plugins:S,userId:e.user.id,org:s}),!o&&el.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--wtWNa text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(e2.Tx,{id:"internal_profile.file_contributions"})),el.createElement(Wj,{files:k,fetchNext:C})),c===Tv.o.INTERNAL_PROFILE_POSTS&&s&&el.createElement(OY,{currentOrgId:s.id,selectedUser:e.user})),metaContent:el.createElement(WV,{user:e.user,recents:k,org:s,orgUser:e.orgUser})}),t6.e0.USER_DETAILS,{view:"org_user",userId:t})};function W$(e){return el.createElement(WG,{key:e.user.id,user:e.user,orgUser:e.orgUser})}let Wj=(0,ei.Ng)((e,t)=>({permissionState:e}))(function(e){let{fetchNext:t}=e,a=WC(e=>({view:"fullscreen",fileKey:e.key,editorType:(0,ne.wN)(e.editorType||"design")})),r=el.useCallback((e,a)=>{e+a.trackHeight>=a.scrollHeight&&t()},[t]),n=el.useMemo(()=>e.files.status===oL.r.SUCCESS?e.files.value.map(e=>({key:e.key})):[],[e.files]),l=!!(0,em.kc)().profile_page_lg_permissions,i=(0,aX.p)(a9.sMs,n,{enabled:l}),s=el.useMemo(()=>{let e={};return i.forEach(t=>{var a;"loaded"===t.result.status&&(e[t.args.key]=!!(null==(a=t.result.data.file)?void 0:a.hasPermission))}),e},[i]);return el.createElement(t1.x,{className:"internal_user_profile_page_view--loading--Z6KIE",state:e.files},t=>el.createElement(el.Fragment,null,el.createElement("div",{className:"internal_user_profile_page_view--fileListHeader--nN9yE internal_user_profile_page_view--grid--2kLiL text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement("div",null,el.createElement(e2.Tx,{id:"internal_profile.file_name"})),el.createElement("div",null),el.createElement("div",{className:"internal_user_profile_page_view--projectHeader--6fnlB"},el.createElement(e2.Tx,{id:"internal_profile.project"})),el.createElement("div",{className:"internal_user_profile_page_view--activityHeader--Iw7TC"},el.createElement(e2.Tx,{id:"internal_profile.last_activity"}))),el.createElement(rt.P,{onScroll:r,className:"internal_user_profile_page_view--scrollContainer--WZUyt",innerClassName:"internal_user_profile_page_view--scrollContainerInner--YyCpD"},t.map(t=>{let r=(l?!!s[t.key]:(0,sQ.canViewFile)(t.key,e.permissionState))?r=>{e.dispatch(sq.UN({fileKey:t.key,entrypoint:"internal user profile page view"})),a(r,{key:t.key,editorType:t.editor_type})}:void 0;return el.createElement("a",{onClick:r,href:(0,oT.rl)(t),key:t.key,className:"internal_user_profile_page_view--recentFile--XUSFM internal_user_profile_page_view--grid--2kLiL text--fontPos13--xW8hS text--_fontBase--QdLsd"},el.createElement(gU.H,{listView:!0,file:{touched_at:null,updated_at:null,...t}}),el.createElement("div",{className:"internal_user_profile_page_view--filename--dPz4X ellipsis--ellipsis--Tjyfa"},null!==t.source_file_name&&el.createElement(el.Fragment,null,t.source_file_name,el.createElement(eC.B,{svg:WW.A,className:"internal_user_profile_page_view--branchIcon--Kr8Fu"})),t.name),el.createElement("div",{className:"internal_user_profile_page_view--projectName--UiqlR ellipsis--ellipsis--Tjyfa"},t.folder_name),el.createElement("div",{className:"internal_user_profile_page_view--activity--olr1C"},el.createElement(lI.h1,{date:new Date(1e3*t.timestamp)})))}))))}),WH=(e,t,a)=>a?Promise.resolve([]):D2.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),Wq=(e,t,a)=>e&&e.id===a?Promise.resolve(e):D2.k.getUser({userId:a}).then(e=>e.data.meta).catch(e=>{throw t(ae.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),WY=(e,t,a)=>a?e(uQ.I1({orgId:a,userId:t})):Promise.resolve(null),Wz={[Tv.o.INTERNAL_PROFILE]:{Component:W$},[Tv.o.INTERNAL_PROFILE_POSTS]:{Component:W$},[Tv.o.PLUGINS]:{Component:el.Fragment}};function WK(e){return el.createElement(e.component,{...e.context})}function WJ(e){let t=(0,ei.wA)(),a=(0,aN.iZ)(),r=e.orgId,n=(0,ei.d4)(e=>e.currentUserOrgId),l=void 0===r?n:r,i=(0,Cb.J)(()=>{let r=Wq(a,t,e.userId),n=WY(t,e.userId,l);return Promise.all([r,WH(t,e.userId,l),n]).then(([a,r,n])=>((0,go.hL)(a.handle),{userId:e.userId,user:a,teams:r,orgUser:n,profileHandle:a.community_profile_handle||null,on404Redirect:r.length>0||n?()=>{t(aC.$T({view:"user",userId:e.userId,orgId:l,userViewTab:Tv.o.INTERNAL_PROFILE}))}:()=>{ec.Ay.redirect("/404")}}))},[t,a,l,e.userId]),{tab:s}=e;if(!s)return null;let{Component:o}=Wz[s];return el.createElement(t1.x,{className:"user_page_view--loadingContainer--6lglF",state:i,failure:void 0},t=>el.createElement(WK,{component:o,tab:s,userId:e.userId,context:t}))}function WQ(e){let t=(0,eU.md)(oE.b),a=(0,eU.md)(mF.t),r=(0,eU.md)(mF.d2),n=(0,sK.sZ)(),l=function(e,t,a,r){var n;let{selectedView:l}=e;if(t)return{pageContent:el.createElement(M0,null),pageHeaderContent:(0,e2.t)("file_browser.tool_bar.offline_files")};switch(l.view){case"communityHub":{let{content:e,key:t}=s$(l);return{pageContent:el.createElement(uw.r,{toolbar:void 0,content:e,collapseSidebarOnTabletView:!0,key:t}),CustomPageLayout:mO}}case"deletedFiles":return{pageHeaderContent:(0,e2.t)("file_browser.tool_bar.deleted"),pageContent:(0,e8.T8)(el.createElement(Dc,{key:"deleted"}),t6.e0.FILE_BROWSER,{view:"deleted"})};case"draftsToMove":return{pageHeaderContent:(0,e2.t)("file_browser.tool_bar.drafts_to_move"),pageContent:el.createElement(Fh,{key:"draftsToMove"})};case"folder":if(l.folderId===(null==(n=e.user)?void 0:n.drafts_folder_id))return{pageHeaderContent:(0,e2.t)("file_browser.tool_bar.drafts"),pageHeaderActions:WX({from:oC.f6.FILE_BROWSER_TOPBAR_DRAFTS,user:e.user,currentOrgId:e.currentUserOrgId}),pageContent:(0,e8.T8)(el.createElement(D0,{folderId:l.folderId,key:"drafts",userId:e.user.id}),t6.e0.FILE_BROWSER_DRAFTS,{orgId:e.currentUserOrgId,teamId:e.currentTeamId})};{let e=l.folderViewTab||mP.h.HOME,t=l.shouldShowRenameModal||!1;return{pageContent:el.createElement(MU,{folderId:l.folderId,selectedTab:e,key:`folder-${l.folderId}`,shouldShowRenameModal:t})}}case"workspace":switch(l.subView){case m$.V0.ADMIN:return{pageContent:(0,e8.T8)(el.createElement(A7,{workspaceId:l.workspaceId,selectedTab:l.selectedTab}),t6.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:l.workspaceId,workspaceViewTab:l.selectedTab})};case m$.V0.DIRECTORY:return{pageContent:(0,e8.T8)(el.createElement(Oi,null),t6.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:l.workspaceId,workspaceGroupViewTab:l.selectedTab})};default:(0,eh.xb)(l)}case"licenseGroup":if(l.subView===mB.GN.ADMIN)return{pageContent:(0,e8.T8)(el.createElement(yL,null),t6.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:l.licenseGroupId,licenseGroupViewTab:l.selectedTab})};(0,eh.xb)(l);case"org":return{pageHeaderContent:e.currentOrg?el.createElement(Eb,null):void 0,pageHeaderActions:[el.createElement(M3,{orgId:l.orgId,key:"org-page-header-actions"})],pageContent:(0,e8.T8)(el.createElement(Pb,{orgId:l.orgId,selectedTab:l.orgViewTab}),t6.e0.ORG_PAGE,{orgId:l.orgId,orgViewTab:(l.orgViewTab===mU.X.HOME?"HOME":l.orgViewTab)||""})};case"orgAdminSettings":return{pageContent:(0,e8.T8)(el.createElement(A2,{selectedTab:l.orgAdminSettingsViewTab,selectedSecondaryTab:l.orgAdminSettingsViewSecondaryTab,selectedExtensionId:l.selectedExtensionId,selectedWorkspaceId:l.selectedWorkspaceId}),t6.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:e.currentUserOrgId,orgViewTab:l.orgAdminSettingsViewTab,source:l.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:l.orgAdminSettingsViewSecondaryTab})};case"billingGroupDashboard":return{pageContent:(0,e8.T8)(el.createElement(_T,null),t6.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:e.currentUserOrgId,orgViewTab:l.selectedTab})};case"recentFiles":return e.dispatch(aC.$T({view:"recentsAndSharing",tab:mW.G.RECENTLY_VIEWED})),{pageHeaderContent:(0,e2.t)("file_browser.tool_bar.recents"),pageHeaderActions:[el.createElement(PT,{key:"newDesignAction",from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS}),el.createElement(PC,{key:"newFigjamAction",from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS}),el.createElement(_N,{key:"newSlidesAction",from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS,currentOrgId:e.currentUserOrgId}),el.createElement(_C.kD,{key:`${ne.oQ}ToolbarAction`,from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS}),el.createElement(O7.E,{key:"importAction"})],pageContent:(0,e8.T8)(el.createElement(PU,{accountModalTab:l.accountModalTab,universalPublishingModal:l.universalPublishingModal,emailPolicyToUnsubscribeFrom:l.emailPolicyToUnsubscribeFrom}),t6.e0.FILE_BROWSER,{view:"recent",userSpace:e.currentUserOrgId?t6.qo.ORG:t6.qo.PERSONAL})};case"recentsAndSharing":let i=l.tab||mW.G.RECENTLY_VIEWED,s=r===t6.qo.ORG,o=WX({from:oC.f6.FILE_BROWSER_TOPBAR_RECENTS,isFreeUser:a,isInOrgSpace:s,user:e.user,currentOrgId:e.currentUserOrgId});return{pageHeaderContent:(0,e2.t)("file_browser.tool_bar.recents"),pageHeaderActions:o,pageContent:(0,e8.T8)(el.createElement(Bx,{selectedTab:i,userId:e.user.id,accountModalTab:l.accountModalTab,emailPolicyToUnsubscribeFrom:l.emailPolicyToUnsubscribeFrom}),t6.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:e.currentUserOrgId?t6.qo.ORG:t6.qo.PERSONAL})};case"resourceUnavailable":return{pageContent:el.createElement(Lg,{resourceType:l.resourceType})};case"search":{let{searchScope:t,query:a}=e.search.parameters,r=!e_.Ay.mobile;return{pageHeaderContent:el.createElement(WZ,{query:a}),pageContent:(0,e8.T8)(el.createElement(_x.bS,null),t6.e0.UNIFIED_SEARCH,{showInternalModal:r&&t!==mV.Rx.COMMUNITY,showCommunityModal:r&&t===mV.Rx.COMMUNITY})}}case"sharedWithYou":return{pageContent:el.createElement(BS,{tab:l.tab})};case"team":{let t=e.teams[l.teamId],a=l.teamViewTab??(0,mM.ZP)(t,e.permissionState);return{pageContent:(0,e8.T8)(el.createElement(WT,{teamId:l.teamId,selectedTab:a,upgradeModalType:l.upgradeModalType,showProOnboardingModal:l.isProUpgrade,key:`team-${l.teamId}`}),t6.e0.TEAM_PAGE,{teamId:l.teamId,canUpgradeToPro:(0,d2.hp)(t,e.permissionState),userSpace:e.currentUserOrgId?t6.qo.ORG:t6.qo.PERSONAL,canEdit:(0,sQ.canEditTeam)(l.teamId,e.permissionState)})}}case"teamAdminConsole":{let e=l.teamAdminConsoleViewTab??(l.isProTeam?mG.I.DASHBOARD:mG.I.MEMBERS);return{pageContent:(0,e8.T8)(el.createElement(Wo,{teamId:l.teamId,selectedTab:e,shouldShowDevModeSuggestedUpgradesModal:!!l.shouldShowDevModeSuggestedUpgradesModal}),t6.e0.TEAM_ADMIN_PAGE,{teamId:l.teamId,teamAdminConsoleViewTab:e})}}case"teamFeed":let c=[{text:(0,e2.t)("fig_feed.feed"),onClick:()=>{e.dispatch(aC.$T({view:"teamFeed"}))}}],d=[];return l.hashtag?(c.push({text:`#${l.hashtag}`,onClick:()=>{}}),d.push(el.createElement(Ow,{key:"feed-hashtag-actions",hashtag:l.hashtag}))):d.push(el.createElement(OJ,{key:"create-feed-post-button"})),{pageHeaderContent:el.createElement(_u,{items:c}),pageHeaderActions:d,pageContent:el.createElement(W0,{postUuid:l.postUuid,creatorId:l.creatorId,feedTab:l.feedTab,hashtag:l.hashtag})};case"user":return{pageHeaderContent:(0,e2.t)("internal_profile.profile"),pageHeaderActions:e.user.community_profile_handle&&e.user.id===l.userId?[el.createElement(Pk,{key:"viewCommunityProfileAction"})]:void 0,pageContent:el.createElement(WJ,{userId:l.userId,tab:l.userViewTab,orgId:l.orgId})};default:return null}}({...e,currentOrg:n},t,!!a.data,r.data?r.data:t6.qo.ORG),i=e.showingFileBrowserLoader;if(!l)return null;let{CustomPageLayout:s,pageContent:o}=l;return s?el.createElement(O6,null,el.createElement(s,null,!i&&o)):el.createElement(O6,null,el.createElement(fF,{...e,showingFileBrowserLoader:i,pageHeaderContent:l.pageHeaderContent,pageHeaderActions:l.pageHeaderActions},o))}function WZ(e){return e.query?el.createElement("div",{className:eE.cx.flex.columnGap8.$},el.createElement("span",{className:eE.cx.flexShrink0.$},el.createElement(oK.E,{color:"secondary",i18nId:"search.search_results_for"})),el.createElement("div",{className:eE.cx.flex.fontMedium.minW0.$},"\u201C",el.createElement(oK.E,{truncate:!0},e.query),"\u201D")):el.createElement("div",{className:eE.cx.flex.columnGap8.$},el.createElement("span",{className:eE.cx.flexShrink0.$},el.createElement(oK.E,{color:"secondary",i18nId:"search.search_results"})))}function WX({from:e,user:t,isFreeUser:a,isInOrgSpace:r,currentOrgId:n}){if((0,em.kc)().ps_benchmark&&t&&(0,dP.R$)(t,n))return[];let l=e===oC.f6.FILE_BROWSER_TOPBAR_RECENTS&&(0,oz.mw)(!!a,!!r)?[el.createElement(PN,{key:"newDesignActionDropdown",from:e,dropdownType:Px.$c.DESIGN,dataTestId:"new-design-file-button-dropdown"}),el.createElement(PN,{key:"newFigjamActionDropdown",from:e,dropdownType:Px.$c.WHITEBOARD,dataTestId:"new-whiteboard-file-button-dropdown"})]:[el.createElement(PT,{key:"newDesignAction",from:e}),el.createElement(PC,{key:"newFigjamAction",from:e})];return[el.createElement(Pw,{key:"getDesktopApp"}),...l,el.createElement(_N,{key:"newSlidesAction",from:e,currentOrgId:n}),el.createElement(_C.kD,{key:`${ne.oQ}ToolbarAction`,from:e}),el.createElement(el.Fragment,{key:"importAction"},el.createElement(O7.E,null),el.createElement(aV.p,null,el.createElement(Dr,null)))]}function W0(e){return(0,mD.w)()?el.createElement(O3,{postUuid:e.postUuid,creatorId:e.creatorId,feedTab:e.feedTab,hashtag:e.hashtag}):null}var W1=a(464382),W2=a(127113),W4=a(701283);function W3(){return(0,og.wK)()||!(0,em.kc)().fb_offline_notification?null:el.createElement(W8,null)}function W8(){let[e,t]=el.useState(!0);return el.createElement("div",{className:"offline_notification--notification--3p0EP notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},el.createElement(eC.B,{className:W4.Kk,svg:El.A,width:"24",height:"24"}),el.createElement("div",{className:W4.iU},el.createElement(e2.Tx,{id:e?"file_browser.offline_notification.youre_offline_message_body":"file_browser.offline_notification.youre_offline_message_body_no_create",youreOfflineMessagePrefix:el.createElement("span",{className:"offline_notification--messageBold--y8Jg9"},el.createElement(e2.Tx,{id:"file_browser.offline_notification.youre_offline_message_prefix"}))})),e&&el.createElement("div",{className:W4.o1},el.createElement(W5,{onClick:()=>t(!1)})))}function W5({onClick:e}){let t=(0,ei.wA)(),a=(0,Fj.Bq)();return el.createElement("div",{className:"offline_notification--createFileButton--MT2kG notification--action--v-pvn",role:"button",tabIndex:0,onClick:()=>{e(),t(oh.zE({state:a,editorType:lm._Y.DESIGN,team:void 0,from:oC.f6.OFFLINE_NOTIFICATION,openNewFileIn:oC.ai.SAME_TAB}))}},el.createElement(e2.Tx,{id:"file_browser.offline_notification.create_file"}))}function W6(e){return el.createElement("div",null,e.topbar,el.createElement("div",{className:"signed_out_view--content--Fm79J"},e.content))}let W9="legacy_upgrade--closeButton--jY7QA";function W7(e){let{dispatch:t,loadingState:a,selectedView:r,payment:n,payment:{submitPending:l},teams:i,teamBilling:s,teamUserByTeamId:o}=e,c=i[r.teamId],d=ks.Be.loadingKeyForPayload({teamId:c.id}),m=(0,co.hP)(s1.tY.ANNUAL);if((0,el.useEffect)(()=>{(0,t8.VP)(a,d)||(0,t8.D2)(a,d)||t(ks.Be({teamId:c.id}))},[a,t,d,c.id]),(0,t8.VP)(a,d)&&!(0,t8.D2)(a,d))return el.createElement(t7.kt,{className:Ws});let{taxes:u,numDesignEditors:_,numWhiteboardEditors:p}=n,g=el.createElement(eC.B,{svg:ou.default,onClick:()=>{(0,e7.sx)("Add Annual Plan Canceled",{teamId:r.teamId}),window.history.length<=1?t(aC.$T({view:"team",teamId:r.teamId})):history.go(-1)},className:W9}),{currency:E}=s.summary,f=c.editors,h=o[c.id]||{},v=Object.keys(h).filter(e=>{var t;return(null==(t=h[e])?void 0:t.whiteboard_paid_status)===me.Zf.FULL}).length,b=new r$.vr(E),y=b.getPrices();return el.createElement("div",{className:"legacy_upgrade--addAnnualPlan--uv5bo"},el.createElement(od,{menu:g},el.createElement(e8.fu,{name:"Step Pay"},el.createElement("div",{className:"step_pay--addAnnualPlan--SSWpR"},el.createElement(os.JR,null,el.createElement(e2.Tx,{id:"payments.add_annual_plan.title"})),el.createElement(os.Kh,null,el.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--jhJMX"},el.createElement(e2.Tx,{id:"payments.add_annual_plan.intro.seat_rename",monthlyDesignEditorCost:b.formatMoney(y.monthlyFigma,{showCents:!1}),monthlyFigjamEditorCost:b.formatMoney(y.monthlyFigjam,{showCents:!1})}))),el.createElement("div",{className:"step_pay--paymentForm--9gihS"},el.createElement(BM,{totalDesignEditors:f,totalWhiteboardEditors:v,numAnnualDesignEditors:_||0,numAnnualWhiteboardEditors:p||0,onNumAnnualDesignEditorsChange:e=>{t(oa.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(oa.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(aC.$T({view:"team",teamId:r.teamId,teamViewTab:mG.A.SETTINGS}))},isTeamPro:!0,dispatch:t,taxes:u,teamId:r.teamId,currency:E,submitPending:l}),el.createElement("form",{onSubmit:e=>{e.preventDefault(),t(r7.b({completed_pro_cart_flow:!0})),t(oa.I2({submitPending:!0})),t(oa.XF({teamId:r.teamId,promotionCodeId:m??void 0}))}},el.createElement("div",{className:"step_pay--bigTerms--CNPJr"},el.createElement(e2.Tx,{id:"payments.add_annual_plan.auto_renew.seat_rename",cancellingIsEasyLink:el.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},el.createElement(e2.Tx,{id:"payments.add_annual_plan.cancelling_is_easy_link_text"}))}),el.createElement("br",null),el.createElement("br",null),el.createElement(e2.Tx,{id:"payments.add_annual_plan.tos",tosLink:el.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},el.createElement(e2.Tx,{id:"payments.add_annual_plan.tos_link_text"}))})),el.createElement("div",{className:"step_pay--flowActionsSingle--EOkBh step_pay--row--OiURo"},el.createElement(eT.vd,{type:"submit",disabled:l,className:"step_pay--bigButton--8w0i-"},el.createElement(e2.Tx,{id:"payments.add_annual_plan.cta_text"})))))))))}function Ve(e){let t=(0,ei.d4)(e=>e.user),[a,r]=el.useState(()=>(0,r$.LN)()),n=d8.b.UPGRADE_NEW_TEAM,l=(0,ei.wA)(),i=(0,oz.WQ)({isInDevMode:!1,isProCurrent:!1,hasFeatureListOverride:!1})&&(0,o1.Hw)(t),s=(t,r)=>{let n=e.selectedView;l(oa.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:a,billingPeriod:r}))},o=null===e.selectedView.teamId?void 0:()=>{var t;let a=(0,em.kc)().ps_benchmark,r=null==(t=e.user)?void 0:t.id;if(a&&r){let t={userId:r,orgId:null,teamId:e.selectedView.teamId};l(sq._l({workspace:t,view:{view:"allProjects"}}))}else l(aC.$T({view:"team",teamId:e.selectedView.teamId}))},c=e.selectedView.teamId,d=el.useRef(null);return el.createElement(e8.fu,{name:"Upgrade Team",properties:{teamId:c,step:s1.tn.UPGRADE_NEW_TEAM}},el.createElement("div",{className:"legacy_upgrade--teamUpgrade--Bxk5R"},el.createElement(od,{menu:el.createElement(oc,{onClick:()=>{var t;let a=(0,em.kc)().ps_benchmark,r=null==(t=e.user)?void 0:t.id,n=e.selectedView.teamId;if(a){let t={view:"recentFiles"};r&&n?l(sq._l({workspace:{userId:r,teamId:n,orgId:null},view:e.selectedView.previousView||t})):l(aC.$T(e.selectedView.previousView||t))}else l(aC.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentFiles"})))}},el.createElement(eC.B,{svg:ou.default,className:W9})),pageRef:d},el.createElement(oo,{index:3}),el.createElement(e8.fu,{name:"Upgrade New Team",properties:{teamId:c,trackingDescriptor:e3.c.UPGRADE_YOUR_TEAM}},el.createElement("div",{className:ey()(e.className,{"step_upgrade_new_team--container--ReFL-":!i})},el.createElement(os.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--rP7Ym step_upgrade_new_team--stepTitle---CuKv"},el.createElement("span",null,el.createElement(e2.Tx,{id:"plan_details.choose_your_team_plan"}))),el.createElement(mn.O,{currency:a,chooseStarterPlan:o,chooseProPlan:e=>s(null,e),chooseOrgPlan:()=>{l(oa.Bq({currency:a,upsellSource:n}))},updateCurrency:e=>{r(e),l(aC.oB())},upsellSource:n,parentRef:d}),i&&el.createElement(ml.V,null))))))}let Vt="file_browser_view--filebrowserHtml--o5jk-",Va="file_browser_view--filebrowserBody--kfBDY",Vr="file_browser_view--desktop--P76jd";class Vn extends el.Component{constructor(){super(...arguments),this.state={viewHistoryStackSize:0,viewHistoryStackPosition:0,screenChangedFromNavigationButtons:!1},this.getShouldAllowImport=()=>{let e="folder"===this.props.selectedView.view?this.props.folders[this.props.selectedView.folderId]:null;return(0,sz.dh)({selectedView:this.props.selectedView,selectedFolder:e,permissionsState:this.props.permissionState})},this.onDragEnter=e=>{this.getShouldAllowImport()&&this.props.dispatch(sY.v7())},this.onDragLeave=e=>{this.getShouldAllowImport()&&this.props.dispatch(sY.TQ())},this.onDrop=e=>{this.props.dispatch(sY.TQ()),this.getShouldAllowImport()&&this.props.dispatch((0,sz.b6)({dataTransfer:e}))},this.goBack=()=>{this.state.viewHistoryStackPosition>0&&(history.back(),this.setState({viewHistoryStackPosition:this.state.viewHistoryStackPosition-1,screenChangedFromNavigationButtons:!0}))},this.goForward=()=>{this.state.viewHistoryStackPosition<this.state.viewHistoryStackSize&&(history.forward(),this.setState({viewHistoryStackPosition:this.state.viewHistoryStackPosition+1,screenChangedFromNavigationButtons:!0}))}}componentDidMount(){document.body.classList.add(Va),document.documentElement.classList.add(Vt),(0,ef.OS)(this.props.dispatch),(0,a6.I0)(this.props.selectedView),(eo.eD||(0,es.ce)())&&(this.desktopBackgroundElement=document.createElement("div"),this.desktopBackgroundElement.classList.add("file_browser_view--desktopBackground--PpISK"),document.body.appendChild(this.desktopBackgroundElement),document.body.classList.add(Vr)),(0,ep.hW)("exp_aa_test_file_browser_view").catch(eu.lQ),"communityHub"===this.props.selectedView.view&&function(e,t){let a=t.figjam_editor_onboarded||(0,s8._q)(t)||t.editor_community_duplicate_onboarded||t.orgs_onboarded||t.welcome_onboarded,r=(0,s3.QL)("after-auth-duplicate-file-id"),n=(0,s3.QL)("show_eula");r&&(n?e((0,t3.to)({type:s5.p,data:{hubFileId:r}})):a||e((0,t3.to)({type:s7,data:{hubFileId:r}})))}(this.props.dispatch,this.props.userFlags)}componentDidUpdate(e){this.shouldScrollToTop(e)&&window.scrollTo(0,0),e.selectedView!==this.props.selectedView&&(this.state.screenChangedFromNavigationButtons?this.setState({screenChangedFromNavigationButtons:!1}):this.setState({viewHistoryStackSize:this.state.viewHistoryStackPosition+1,viewHistoryStackPosition:this.state.viewHistoryStackPosition+1}))}componentWillUnmount(){document.body.classList.remove(Va),document.documentElement.classList.remove(Vt),this.desktopBackgroundElement&&(document.body.classList.remove(Vr),document.body.removeChild(this.desktopBackgroundElement)),this.props.dispatch(t3.AS())}shouldScrollToTop(e){return!((0,eK.Gk)(e.selectedView)&&(0,eK.Gk)(this.props.selectedView))&&(0,sZ.SW)(e.selectedView,this.props.selectedView)}render(){var e,t,a;let r=this.props.selectedView,n=(0,eK.d9)(this.props.selectedView),l=e_.g3&&!(0,em.kc)().file_browser_enable_mweb&&!n,i=(e_.uG&&(0,em.kc)().file_browser_enable_mweb||e_.mZ)&&!n;if("teamUpgrade"===r.view)return r.paymentStep===s1.tn.UPGRADE_NEW_TEAM?el.createElement(Ve,{...this.props,selectedView:r}):el.createElement(mN,{selectedView:r});if("addAnnualPlan"===r.view)return el.createElement(W7,{...this.props,selectedView:r});if("teamCreation"===r.view)return r.fromNewTab?void this.props.dispatch(sq.Dw({previousView:r.previousView,onSubmitReturnToPrevView:r.onSubmitReturnToPrevView,isEduTeam:r.isEduTeam})):el.createElement(dH,{...this.props,selectedView:r});if("addCollaborators"===r.view)return el.createElement(o_,{...this.props,selectedView:r});if("orgSelfServe"===r.view)return el.createElement(dO,{step:r.step||s0.X1.Initial,initialDesignSeats:r.initialDesignEditors||0,orgMigrated:!!r.orgMigrated,dropdownShown:this.props.dropdownShown,newTeamProps:r.newTeamProps,upsellSource:r.upsellSource});if("teamRestore"===r.view)return el.createElement(dQ,{...this.props,selectedView:r});if("promoReview"===r.view)return el.createElement(dD.z,{promo:null==(e=this.props.payment)?void 0:e.promo,selectedView:r});else if("eduReview"===r.view)return el.createElement(oF,{selectedView:r});if(!this.props.user){let{content:e,key:t}=s$(r);return e?el.createElement(W6,{content:el.createElement("div",null,(0,e8.T8)(e,t6.e0.COMMUNITY_HUB)),topbar:(0,em.kc)().cmty_consolidated_navbar?null:el.createElement(oe.p,null),key:t}):(console.error(`Signed out page: unrecognized route ${ec.Ay.location.pathname}, redirecting to /`),ec.Ay.redirect("/"),null)}if((0,em.kc)().ps_benchmark&&!this.props.currentUserOrgId&&!this.props.currentTeamId)return console.error("No current organization or team plan set for user. Redirecting to /files"),ec.Ay.redirect("/files"),null;let s=!l||(null==(t=this.props.user)?void 0:t.job_title)?()=>{var e;return el.createElement(oM.Ru,{userIdForTracking:null==(e=this.props.user)?void 0:e.id,renderBlockingPrompt:!0})}:()=>el.createElement(el.Fragment,null,el.createElement(aV.p,{featureFlag:"exp_mobile_web_nux_ff"},el.createElement(ot.s,null)),el.createElement(oG,null));return el.createElement(W2.C.Provider,{value:{goBack:this.goBack,goForward:this.goForward,canGoBack:this.state.viewHistoryStackPosition>0,canGoForward:this.state.viewHistoryStackPosition<this.state.viewHistoryStackSize}},l?s():el.createElement(el.Fragment,null,i&&el.createElement(oM.Ru,{userIdForTracking:null==(a=this.props.user)?void 0:a.id}),el.createElement(eg.Y,{className:eE.cx.flex.flexColumn.$,isDragTarget:sz.al,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop},el.createElement(oS,null),el.createElement(W3,null),el.createElement(WQ,{...this.props,user:this.props.user,showingFileBrowserLoader:this.props.showingFileBrowserLoader}),this.getShouldAllowImport()&&el.createElement(Vi,null))))}}function Vl(){let e=(0,ei.wA)(),t=(0,sK.dq)(),a=(0,ns.U)(),r=(0,ei.d4)(e=>e.teams),n=(0,aN.iZ)(),l=(0,ei.d4)(e=>e.userFlags),i=(0,ei.d4)(e=>e.folders),s=(0,sJ._6)(),o=W1.q.useIsLoading(),c=(0,ei.d4)(e=>e.autosave),d=(0,ei.d4)(e=>e.payment),m=(0,ei.d4)(e=>e.teamUserByTeamId),u=(0,ei.d4)(e=>e.teamBilling),_=(0,ei.d4)(e=>e.teamCreation),p=(0,ei.d4)(e=>e.loadingState),g=(0,sQ.usePermissionsState)(),E=(0,ei.d4)(e=>e.orgById),f=(0,ei.d4)(e=>e.orgUsersByOrgId),h=(0,ei.d4)(e=>e.favorites),v=(0,ei.d4)(e=>e.currentTeamId),b=(0,ei.d4)(e=>e.mobileNavShown),y=(0,ei.d4)(e=>e.userTeamFlags),w=(0,ei.d4)(e=>e.search),T=(0,ei.d4)(e=>e.dragState),x=(0,ei.d4)(e=>e.userStateLoaded);return(0,ed.h)(()=>{n&&e(sH.Jw())}),el.createElement(Vn,{showingFileBrowserLoader:o,dispatch:e,currentUserOrgId:t,dropdownShown:a,teams:r,user:n,userFlags:l,folders:i,selectedView:s,autosave:c,payment:d,teamUserByTeamId:m,teamBilling:u,teamCreation:_,loadingState:p,permissionState:g,orgById:E,orgUsersByOrgId:f,favorites:h,currentTeamId:v,mobileNavShown:b,userTeamFlags:y,search:w,dragState:T,userStateLoaded:x})}function Vi(){let e=(0,ei.d4)(e=>e.fileImport),t=e.isDraggingImport?"file_browser_view--dragTargetDragging--1cfWv file_browser_view--dragTargetNormal--VEem6":"file_browser_view--dragTargetNormal--VEem6";switch(e.step){case sX.Y5.CONFIRM_PDF_IMPORT:return null;case sX.Y5.START:case sX.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case sX.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return el.createElement("div",{className:t})}}Vn.displayName="FileBrowserView"},815186:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN:()=>et,FolderCreationModal:()=>ee,FolderTeamAccessRow:()=>ea});var r=a(411855),n=a(188507),l=a(367253),i=a(966712),s=a(499737),o=a(268537),c=a(946689),d=a(493323),m=a(574176),u=a(939863),_=a(694443),p=a(738269),g=a(270056),E=a(662275),f=a(672517),h=a(860178),v=a(99506),b=a(279453),y=a(623746),w=a(643067),T=a(243987),x=a(147206),C=a(297536),N=a(389643),k=a(668860),S=a(501256),I=a(143678),A=a(613077),L=a(320063),R=a(418956),O=a(630949),D=a(849291),F=a(582947),M=a(397065),P=a(340514),B=a(864114),U=a(493364),W=a(463546);let V=(0,F.r1)("seen_sharing_clarity_project_modal_overlay"),G="sc_project_creation_permission_onboarding_key";function $(){let e=(0,R.md)(V),{show:t,isShowing:a,complete:n}=(0,D.e)({overlay:W.QpH,priority:M.N.DEFAULT_MODAL},[e]);(0,L.h)(()=>{t({canShow:e=>!e})});let l=r.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360038006494-Create-a-new-project",className:O.cx.colorTextOnbrand.underline.$},r.createElement(u.Tx,{id:"rcs.sharing_clarity.learn_more"}));return r.createElement(P.rq,{isShowing:a,title:r.createElement(u.Tx,{id:"rcs.sharing_clarity.project_creation_permissions_title"}),description:r.createElement("p",null,r.createElement(u.Tx,{id:"rcs.sharing_clarity.project_creation_permissions_description",learnMoreLink:l})),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",onClose:n,targetKey:G,arrowPosition:U.F_.LEFT_TITLE,zIndex:B.R.MODAL,emphasized:!0,disableHighlight:!0})}var j=a(988722),H=a(585878),q=a(542059),Y=a(299410),z=a(498540),K=a(479842),J=a(515471);let Q="folder_creation_modal--sectionHeader--wKnFn text--fontPos11--2LvXf text--_fontBase--QdLsd";var Z=a(289298),X=a(562128);function ee(e){let t=(0,n.wA)(),[a,o]=r.useState(""),[m,_]=r.useState(!1),[T,L]=r.useState(0),[R,O]=r.useState(v.eD.TEAM_ACCESS_EDIT),D=(0,n.d4)(e=>e.contacts),F=(0,n.d4)(e=>e.dropdownShown),M=(0,n.d4)(e=>e.autocomplete),P=(0,h.iZ)(),B=(0,s.Rs)(b.mCn,{teamId:e.teamId}),U=(0,i.kc)().sc_workspace_audience,W=r.useMemo(()=>{var t;if("loading"===B.status||!B.data)return null;let a=B.data.team;if(!a)return null;let r="loaded"===a.workspace.status?a.workspace.data:void 0;return{team:{id:e.teamId,name:a.name,imgUrl:a.imgUrl,subscription:a.subscription,student_team:!!a.studentTeamAt,grace_period_end:a.gracePeriodEnd,restrictions_list:a.restrictionsList,canAdmin:a.canAdmin,canEdit:a.canEdit,sharing_audience_control:a.sharingAudienceControl},org:a.org&&{id:a.org.id,name:a.org.name,img_url:a.org.imgUrl,org_domains:(0,y.vy)(a.org.orgDomains),domain_capture:a.org.domainCapture,invite_whitelist_guest_invite_setting:null==(t=a.org.inviteWhitelist)?void 0:t.guestInviteSetting}||null,orgUser:a.org&&a.org.currentBaseOrgUser,workspace:r}},[B,e.teamId]),V=W&&W.team,j=W&&W.org,q=j&&j.org_domains?j.org_domains:{domains:[],isFetching:!1,fetchedAt:null},J=r.useCallback(()=>V&&V.sharing_audience_control!==v.PQ.ORG_EDIT&&V.sharing_audience_control!==v.PQ.ORG_VIEW?V.sharing_audience_control===v.PQ.WORKSPACE_EDIT||V.sharing_audience_control===v.PQ.WORKSPACE_VIEW?Y._9.WORKSPACE:Y._9.INVITE_ONLY:Y._9.ORG,[V]),Z=r.useCallback(()=>V&&(V.sharing_audience_control===v.PQ.ORG_EDIT||V.sharing_audience_control===v.PQ.WORKSPACE_EDIT)?Y.J4.EDIT:Y.J4.VIEW,[V]),[X,ee]=r.useState(J()),[et,er]=r.useState(Z()),[en,el]=r.useState(k.e6.EDITOR);r.useEffect(()=>{ee(J()),er(Z())},[J,Z]);let ei=()=>{1===T?L(0):(t(E.Lo()),t(p.bx()))},es=e=>(0,C.t9)(e,j,q),eo=e=>(0,C.yI)(e,D.usersByEmail[e]||e,j,q,P.email),ec=()=>j&&j.domain_capture&&q.domains.length>0?(0,S.Z)(M).filter(e=>(0,l.xf)(e)&&!(0,w.H_)(q.domains,e)):[],ed=e=>{if(j&&(null==j?void 0:j.invite_whitelist_guest_invite_setting)==null&&e.length>0){t((0,E.to)({type:K.F,data:{emails:e,onConfirm:()=>{em()},popStack:!0,orgName:j.name}}));return}},em=()=>{let r;X===Y._9.ORG?r=et===Y.J4.EDIT?v.PQ.ORG_EDIT:v.PQ.ORG_VIEW:X===Y._9.WORKSPACE?r=et===Y.J4.EDIT?v.PQ.WORKSPACE_EDIT:v.PQ.WORKSPACE_VIEW:X===Y._9.INVITE_ONLY&&(r=v.PQ.INVITE_ONLY),t(g.vt({shouldRedirect:!e.modalShown,name:a.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:j?r:void 0,teamAccess:R,inviteEmails:(0,S.Z)(M),inviteLevel:en,orgId:null==j?void 0:j.id}))};return r.createElement(f.fu,{name:I.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:null==V?void 0:V.id}},r.createElement(H.XV,{title:0===T?(0,u.t)("project_creation.create_project"):(0,u.t)("project_creation.add_people_to_project_name",{projectName:a}),onClose:ei,maxWidth:468},W?r.createElement("div",{className:"folder_creation_modal--modalContainer--wRNmR"},0===T?r.createElement(r.Fragment,null,r.createElement("div",{className:Q},(0,u.t)("project_creation.name")),r.createElement(c.ks,{className:"folder_creation_modal--folderNameInput--lvd-8",onChange:e=>o(e.target.value),onFocus:()=>_(!0),onBlur:()=>_(!1),value:a,autoFocus:!0,required:!0,maxLength:c.wG,minLength:1,placeholder:(0,u.t)("project_creation.ex_growth_experiments"),"aria-label":(0,u.t)("project_creation.project_name")}),0===a.trim().length&&!m&&r.createElement("div",{className:"folder_creation_modal--inputErrorMessage---KNBO"},(0,u.t)("project_creation.project_name_empty")),j&&V&&r.createElement(r.Fragment,null,r.createElement("div",{className:Q,"data-onboarding-key":G},(0,u.t)("project_creation.who_has_access")),r.createElement($,null),r.createElement(Y.YU,{resourceType:v.vt.FOLDER,value:X,onChange:ee,org:j,team:V,audienceAccessLevel:et,workspace:U?W.workspace:void 0}),X!==Y._9.INVITE_ONLY&&r.createElement(r.Fragment,null,r.createElement("div",{className:Q},(0,u.t)("folder_permissions_modal.what_they_can_do")),r.createElement(Y.Iz,{selectedPermissionsLevel:et,setSelectedPermissionsLevel:er}),r.createElement("div",{className:"folder_creation_modal--subtitle--vUiLm text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd"},et===Y.J4.VIEW?(0,u.t)("project_creation.can_view_and_comment"):(0,u.t)("project_creation.can_create_and_edit_files"))))):(()=>{let e=j?j.id:null,a=W&&W.orgUser,n=[k.e6.EDITOR,k.e6.VIEWER];return r.createElement("div",{className:"folder_creation_modal--stepTwoContainer--Q9CMW"},r.createElement(A.e,{autocomplete:M,dispatch:t,dropdownShown:F,dropdownKey:"permissions-invite-dropdown",inviteLevel:en,onInviteLevelChange:el,getSelectText:x.C1,options:n,searchResultToken:es,fetchAsyncSearchResults:t=>(0,N.Wj)(t,D.usersByEmail,P,[],e,null,null,(null==a?void 0:a.permission)===v._D.GUEST),searchResults:e=>(0,N.Uj)(e,D.usersByEmail,P,[]),validateToken:eo,TokenComponent:z.gy,SearchResultComponent:z.o6,joinLinkShown:!1,shouldAutoFocus:!0,placeholderText:(0,u.t)("team_creation.add_a_name_or_email")}),V&&r.createElement(ea,{team:V,teamAccess:R,setTeamAccess:O,orgId:e}))})(),r.createElement("div",{className:"folder_creation_modal--bottomRow--gj3BQ"},r.createElement("div",{className:"folder_creation_modal--footer--Hd8n4 folder_creation_modal--subtitle--vUiLm text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement(u.Tx,{id:"project_creation.step_number_of_max_steps",currentStep:T+1,maxSteps:2})),r.createElement("div",{className:"folder_creation_modal--buttons--EYzqW"},r.createElement(c.tM,{onClick:ei},0===T?r.createElement(u.Tx,{id:"project_creation.cancel"}):r.createElement(u.Tx,{id:"project_creation.back"})),r.createElement(c.vd,{onClick:()=>{if(0===T)L(1);else if(j){let e=ec();e.length>0?ed(e):em()}else em()},disabled:0===T&&0===a.trim().length},0===T?r.createElement(u.Tx,{id:"general.continue"}):r.createElement(u.Tx,{id:"project_creation.create_project"}))))):r.createElement("div",{className:"folder_creation_modal--loading--83GdT"},r.createElement(d.qc,null))))}let et="FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN";function ea(e){let t=t=>{(0,T.w5)(e.team)?e.setTeamAccess(t):(e.setTeamAccess(v.eD.TEAM_ACCESS_EDIT),t===v.eD.TEAM_ACCESS_VIEW?l((0,E.to)({type:q.Ni,data:{team:e.team,editorType:null}})):l((0,E.to)({type:q.Dp,data:{team:e.team,editorType:null}})))},a=r.createElement(_.n,{team:e.team,size:24,avatarSvg:X.A,opacity:e.teamAccess===v.eD.TEAM_ACCESS_DISABLED?"0.7":void 0}),l=(0,n.wA)(),i=(0,n.d4)(e=>e.dropdownShown),s=e.team.id&&e.team.canEdit,c=()=>i&&i.type===et,d=null,g={};return c()&&i.data&&i.data.position&&(g={...i.data.position}),r.createElement(r.Fragment,null,r.createElement("div",{className:J.xf},r.createElement("div",{className:"folder_creation_modal--teamAvatarContainer--2xN2C"},a),r.createElement("div",{className:J.$S},r.createElement("div",{className:J.yb},r.createElement("div",{className:e.teamAccess===v.eD.TEAM_ACCESS_DISABLED?"folder_creation_modal--teamNameFaded--B9QVe folder_creation_modal--teamName--ecRTL ellipsis--ellipsis--Tjyfa folder_creation_modal--fadedText--8h9CR":"folder_creation_modal--teamName--ecRTL ellipsis--ellipsis--Tjyfa"},e.team.name),r.createElement(r.Fragment,null,e.teamAccess===v.eD.TEAM_ACCESS_DISABLED&&s&&r.createElement("button",{className:J.KU,onClick:()=>t(v.eD.TEAM_ACCESS_EDIT)},r.createElement(u.Tx,{id:"folder_access_row.give_access"})),e.teamAccess!==v.eD.TEAM_ACCESS_DISABLED&&s&&r.createElement(r.Fragment,null,r.createElement("button",{ref:e=>{e&&(d=e)},onClick:()=>{if(c())l(p.oB());else if(d){let t=d.getBoundingClientRect(),a=e.teamAccess===v.eD.TEAM_ACCESS_VIEW;l(p.j7({type:et,data:{position:{top:t.top+-((a?1:0)*24),bottom:"auto",left:t.left,right:"auto"}}}))}},className:J.Lt,"data-onboarding-key":j.I},r.createElement("span",null,e.teamAccess===v.eD.TEAM_ACCESS_VIEW?(0,u.t)("permissions.level_name.can_view"):(0,u.t)("permissions.level_name.can_access")),r.createElement("div",{className:J.Lo},r.createElement(m.B,{svg:Z.A}))),r.createElement(j.S,null)),c()&&r.createElement(o.W.Dropdown,{className:J.N1,style:{position:"fixed",...g}},r.createElement("div",{"data-testid":"folder-level-edit"},r.createElement(o.W.CheckableOption,{checked:e.teamAccess===v.eD.TEAM_ACCESS_EDIT,onClick:()=>t(v.eD.TEAM_ACCESS_EDIT)},r.createElement(u.Tx,{id:"permissions.level_name.can_access"}))),r.createElement("div",{"data-testid":"folder-level-view"},r.createElement(o.W.CheckableOption,{checked:e.teamAccess===v.eD.TEAM_ACCESS_VIEW,onClick:()=>t(v.eD.TEAM_ACCESS_VIEW)},r.createElement(u.Tx,{id:"permissions.level_name.can_view"}))),r.createElement(o.W.Separator,null),r.createElement(o.W.Option,{onClick:()=>t(v.eD.TEAM_ACCESS_DISABLED)},r.createElement(u.Tx,{id:"folder_access_row.remove"}))))))))}},937700:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NEW_FOLDER_DROPDOWN_TYPE:()=>q,NewFolderModal:()=>Y});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(935283),o=a(794272),c=a(498750),d=a(96328),m=a(268537),u=a(946689),_=a(574176),p=a(939863),g=a(67294),E=a(738269),f=a(270056),h=a(662275),v=a(672517),b=a(243987),y=a(451e3),w=a(143678),T=a(320063),x=a(358145),C=a(418956),N=a(349410),k=a(849291),S=a(543312),I=a(582947),A=a(212957),L=a(397065),R=a(147829),O=a(66154),D=a(463546);let F="seen_pro_onboarding_private_projects_overlay",M=(0,I.r1)(F);function P({teamId:e,onShow:t}){let a=(0,C.md)(M),l=(0,C.md)(S.e),i=(0,N.kO)(),{show:s,isShowing:o,complete:c}=(0,k.e)({overlay:D.Igi,priority:L.N.DEFAULT_MODAL,experiment:{check:i,predicate:e=>e,postCheck:e=>!e}},[a,l]),d=(0,n.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)==="new-folder-dropdown"}),m=(0,x.Z)(d);return((0,T.h)(()=>{s({canShow:(t,a)=>a.some(t=>t.id===e),onShow:t})}),r.useEffect(()=>{m&&!d&&o&&c()},[m,d,o,c]),o)?r.createElement(R.M,{isShowing:o,userFlagOnShow:F},r.createElement(v.fu,{name:A.S.getTooltipTrackingContext("Private Projects"),properties:A.S.getTrackingProperties(e)},r.createElement(O.P4,{dismissModal:c}))):null}var B=a(585878),U=a(542059);let W="new_folder_modal--row--bb7Iz",V="new_folder_modal--access--ZduJp",G="new_folder_modal--icon--rz8VJ",$="new_folder_modal--currentAccessLabel--CPesy";var j=a(112512),H=a(59670);let q="new-folder-dropdown";function Y(){let{modalShown:e,dropdownShown:t,creatingNewFolder:a}=(0,o.R)(e=>({modalShown:e.modalShown,dropdownShown:e.dropdownShown,creatingNewFolder:e.creatingNewFolder})),l=(0,n.wA)();return a?r.createElement(z,{dispatch:l,dropdownShown:t,creatingNewFolder:a,modalShown:e}):null}class z extends r.PureComponent{constructor(e){super(e),this.textAreaRef=r.createRef(),this.createFolder=()=>{let e=!1,t=!1;switch(this.state.folderLevel){case y.H1.EDIT:e=!1,t=!1;break;case y.H1.VIEW:e=!1,t=!0;break;case y.H1.DISABLE:e=!0,t=!1;break;default:(0,s.xb)(this.state.folderLevel)}this.props.dispatch(f.vt({shouldRedirect:!this.props.modalShown.prevModal,name:this.state.name.trim(),teamId:this.props.creatingNewFolder.team.id,isInviteOnly:e,isViewOnly:t}))},this.onKeyDown=e=>{e.keyCode===c.Uz.ENTER&&(e.preventDefault(),this.createFolder())},this.isDropdownShown=()=>this.props.dropdownShown&&this.props.dropdownShown.type===q,this.togglePermissionDropdown=()=>{this.isDropdownShown()?this.props.dispatch(E.oB()):this.props.dispatch(E.j7({type:q}))},this.onClose=()=>{this.props.dispatch(h.Lo()),this.props.dispatch(E.bx())},this.onNameChange=e=>{let t=e.target;this.setState({folderLevel:this.state.folderLevel,name:t.value})},this.setEdit=()=>{this.setState({folderLevel:y.H1.EDIT,name:this.state.name})},this.setPaidLevel=e=>{if((0,b.w5)(this.props.creatingNewFolder.team))this.setState({folderLevel:e,name:this.state.name});else{this.setState({folderLevel:y.H1.EDIT,name:this.state.name});let t=this.props.creatingNewFolder.team;e===y.H1.VIEW?this.props.dispatch(h.to({type:U.Ni,data:{team:t,editorType:null}})):this.props.dispatch(h.to({type:U.Dp,data:{team:t,editorType:null}}))}},this.setViewOnly=()=>{this.setPaidLevel(y.H1.VIEW)},this.setInviteOnly=()=>{this.setPaidLevel(y.H1.DISABLE)},this.renderCurrentAccess=()=>{switch(this.state.folderLevel){case y.H1.EDIT:case y.H1.VIEW:let e=this.props.creatingNewFolder.team,t=this.state.folderLevel===y.H1.EDIT?(0,p.t)("project_creation.everyone_at_team_name_can_edit",{teamName:(0,d.EJ)(e.name,13)}):(0,p.t)("project_creation.everyone_at_team_name_can_view",{teamName:(0,d.EJ)(e.name,13)}),a=this.state.folderLevel===y.H1.EDIT?(0,p.t)("project_creation.everyone_on_this_team_can_edit"):(0,p.t)("project_creation.everyone_on_this_team_can_view");return r.createElement("div",{className:V},r.createElement("div",{className:"new_folder_modal--avatar--fVtVZ"},r.createElement(g.nl,{team:e})),r.createElement("div",{className:$},e.name?t:a),r.createElement(_.B,{className:G,svg:j.A}));case y.H1.DISABLE:return r.createElement("div",{className:V},r.createElement(_.B,{className:"new_folder_modal--lockIcon--E7rG3 new_folder_modal--icon--rz8VJ",svg:H.A}),r.createElement("div",{className:$},r.createElement(p.Tx,{id:"project_creation.invite_only"})),r.createElement(_.B,{className:G,svg:j.A}))}},this.state={folderLevel:y.H1.EDIT,name:""}}componentDidMount(){this.textAreaRef.current&&this.textAreaRef.current.select()}render(){let e=this.props.creatingNewFolder.team;return r.createElement(v.fu,{name:w.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:e.id}},r.createElement(B.XV,{title:(0,p.t)("project_creation.create_new_project"),onClose:this.onClose,maxWidth:468},r.createElement("div",{className:W},r.createElement("input",{className:"new_folder_modal--projectName--Exf3S basic_form--textInput--e9Rn5 basic_form--input--mz9WY",ref:this.textAreaRef,onChange:this.onNameChange,onKeyDown:this.onKeyDown,placeholder:(0,p.t)("project_creation.project_name"),"aria-label":(0,p.t)("project_creation.project_name")})),r.createElement("div",{className:i()(W,"new_folder_modal--row_overflow--Qz8aJ")},r.createElement("div",{className:"new_folder_modal--inviteSelect--esHb7",onClick:this.togglePermissionDropdown},this.renderCurrentAccess(),this.isDropdownShown()&&r.createElement(m.W.Dropdown,{className:"new_folder_modal--contextMenu--Z-VhD",dataOnboardingKey:"create-new-project-permission-dropdown"},r.createElement("div",{"data-testid":"folder-level-edit"},r.createElement(m.W.CheckableOption,{onClick:this.setEdit,checked:this.state.folderLevel===y.H1.EDIT},e.name?r.createElement(p.Tx,{id:"project_creation.everyone_at_team_name_can_edit",teamName:(0,d.EJ)(e.name,22)}):r.createElement(p.Tx,{id:"project_creation.everyone_on_this_team_can_edit"}))),r.createElement("div",{"data-testid":"folder-level-view"},r.createElement(m.W.CheckableOption,{onClick:this.setViewOnly,checked:this.state.folderLevel===y.H1.VIEW},e.name?r.createElement(p.Tx,{id:"project_creation.everyone_at_team_name_can_view",teamName:(0,d.EJ)(e.name,22)}):r.createElement(p.Tx,{id:"project_creation.everyone_on_this_team_can_view"}))),r.createElement("div",{"data-testid":"folder-level-invite"},r.createElement(m.W.CheckableOption,{onClick:this.setInviteOnly,checked:this.state.folderLevel===y.H1.DISABLE},r.createElement(p.Tx,{id:"project_creation.invite_only_let_me_choose_who_has_access"}))))),r.createElement("div",{className:"new_folder_modal--buttons--1VkaT"},r.createElement(u.nR,{onClick:this.onClose},r.createElement(p.Tx,{id:"project_creation.cancel"})),r.createElement(u.$$,{disabled:!this.state.name.trim(),onClick:this.createFolder},r.createElement(p.Tx,{id:"project_creation.create_project"}))))),r.createElement(P,{teamId:e.id,onShow:this.togglePermissionDropdown}))}}z.displayName="NewFolderModal"},92912:(e,t,a)=>{"use strict";a.d(t,{I:()=>_});var r=a(411855),n=a(188507),l=a(776250),i=a(939863),s=a(688083),o=a(428467),c=a(392830),d=a(451e3),m=a(945020),u=a(12167);function _(e){let t=(0,n.d4)(e=>(0,o.getPermissionsStateMemoized)(e)),a=(0,c.D)(e.team.id,e.team.orgId),_=r.useMemo(()=>a?e.team.canEdit:(0,o.hasEditorRoleAccessOnTeam)(e.team.id,t),[e.team,t,a]),p=r.useMemo(()=>a?e.team.canEdit:(0,o.canEditTeam)(e.team.id,t),[e.team,t,a]),g=r.useMemo(()=>a?e.team.canAdmin:(0,o.hasAdminRoleAccessOnTeam)(e.team.id,t),[e.team,t,a]),E=(0,n.wA)(),f=r.useCallback(t=>{t.stopPropagation(),_&&((0,l.sx)("New Folder",{trackingContext:e.trackingContextName}),E((0,s.SX)({where:d.Ah.FolderListView,team:{...(0,m.Ws)(e.team),canEdit:p,canEditTeamContents:_,canAdmin:g}})))},[E,e.team,e.trackingContextName,_,p,_,g]);return _?r.createElement(u.f,{data_tooltip:(0,i.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:f,isBackgroundTransparent:e.isBackgroundTransparent}):null}},900911:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConfirmDowngradeEditorsModal:()=>o});var r=a(411855),n=a(96328),l=a(939863),i=a(672517),s=a(585878);function o(e){let{team:t,editors:a}=e,{id:o}=t,c=a.length,d=a.filter(e=>e.id).map(e=>e.id).join(),m=(0,l.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,l.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return r.createElement(i.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:o}},r.createElement(s.Eo,{title:c>1?u:m,confirmText:(0,l.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},r.createElement("p",null,c>1&&(0,l.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),r.createElement(l.Tx,{id:"team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"}))))}},34686:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>c});var r=a(411855),n=a(946689),l=a(939863),i=a(672517),s=a(36816),o=a(585878);function c(e){let{team:t,members:a,paidStatus:c}=e,{id:d}=t;if(![s.Zf.FULL,s.Zf.RESTRICTED].includes(c))return r.createElement(r.Fragment,null);let m=a.length,u=a.filter(e=>e.id).map(e=>e.id).join(),_=c===s.Zf.RESTRICTED,p=e.paidStatusType===s.j4.WHITEBOARD,g=p?a.every(e=>!e.whiteboard_editor_upgrade):a.every(e=>!e.design_editor_upgrade),E=c===s.Zf.RESTRICTED&&g,f=a[0].name||a[0].email;return r.createElement(i.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:m,memberIds:u,teamId:d}},r.createElement(o.Eo,{title:_?E?p?r.createElement(l.Tx,{id:"team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"}):r.createElement(l.Tx,{id:"team_view.downgrade_design_access_from_viewer_to_viewer_restricted"}):p?r.createElement(l.Tx,{id:"team_view.remove_figjam_edit_status.seat_rename"}):r.createElement(l.Tx,{id:"team_view.remove_design_edit_status.seat_rename"}):p?r.createElement(l.Tx,{id:"team_view.grant_figjam_edit_status.seat_rename"}):r.createElement(l.Tx,{id:"team_view.grant_design_edit_status.seat_rename"}),confirmText:_?E?(0,l.t)("team_view.change"):(0,l.t)("team_view.remove.seat_rename"):(0,l.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},c===s.Zf.RESTRICTED&&(E?p?r.createElement(l.Tx,{id:"team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",memberNameOrEmail:f,numMembers:m}):r.createElement(l.Tx,{id:"team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",memberNameOrEmail:f,numMembers:m}):p?r.createElement(l.Tx,{id:"team_view.downgrade_figjam_description.seat_rename",memberNameOrEmail:f,numMembers:m}):r.createElement(l.Tx,{id:"team_view.downgrade_design_description.seat_rename",memberNameOrEmail:f,numMembers:m})),c===s.Zf.FULL&&r.createElement(r.Fragment,null,p?r.createElement(l.Tx,{id:"team_view.change_to_editor_figjam_description.seat_rename",numMembers:m,memberNameOrEmail:f}):r.createElement(l.Tx,{id:"team_view.change_to_editor_design_description.seat_rename",numMembers:m,memberNameOrEmail:f}),r.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--8tVX8"},r.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--di1lh",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},r.createElement(l.Tx,{id:"team_view.learn_more.seat_rename"}))))))}},11457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MemberEditAccessModal:()=>N});var r=a(411855),n=a(188507),l=a(717068),i=a(886653),s=a(827586),o=a(939863),c=a(662275),d=a(672517),m=a(99506),u=a(147206),_=a(668860),p=a(36816),g=a(585878);let E="edit_access_modal--column--Ju-WW",f="edit_access_modal--resource--K-YK6",h="edit_access_modal--resourceTitle--lek8O edit_access_modal--resource--K-YK6",v="edit_access_modal--greyResource--bmXfA edit_access_modal--resource--K-YK6",b=e=>"file"===e?r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.none_files"}):r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.none_projects"});function y(e){let t;let{hasTeamEditPermissions:a,isDesignEditor:n,isWhiteboardEditor:l,resourceType:i}=e;if(a)return"project"===i?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_projects"})):n&&l?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_files"})):n&&!l?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_design_files"})):!n&&l?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_figjam_files"})):r.createElement("div",{className:v},b(i));let s=e.resources;if(0===s.privateResourceCount&&0===s.editableResources.length)return r.createElement("div",{className:v},b(i));if(s.privateResourceCount>0){let e=r.createElement("span",null);0===s.editableResources.length&&"project"===i?e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_projects",numProjects:s.privateResourceCount}):0===s.editableResources.length&&"file"===i?e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_files",numFiles:s.privateResourceCount}):s.editableResources.length>0&&"project"===i?e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_projects_list_end",numProjects:s.privateResourceCount}):s.editableResources.length>0&&"file"===i&&(e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_files_list_end",numFiles:s.privateResourceCount})),t=r.createElement("div",{className:f},e)}return r.createElement(r.Fragment,null,s.editableResources.map(e=>r.createElement("div",{key:e.id_or_key,className:f},e.name)),t)}let w=(e,t)=>{if("file"===e.resource_type){let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.key}}else{let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.id}}},T=(0,i.xx)((e,t)=>{let a={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let r=w(e,t);r?a.editableResources.push(r):a.privateResourceCount++}),(0,l.v7)(a.editableResources,e=>e.name)),a}),x=e=>{let t=e.team_user,a=e.edit_roles,r=(null==a?void 0:a.whiteboard_files)||[],n=(null==a?void 0:a.design_files)||[],l=(0,u.qR)(t,m._Y.DESIGN);return{whiteboardRoles:(0,u.qR)(t,m._Y.WHITEBOARD)?[]:r,designRoles:l?[]:n}},C=(e,t)=>{let{whiteboardRoles:a,designRoles:r}=x(e);return T(a.concat(r),t)},N=(0,n.Ng)((e,t)=>{var a,r;let n=e.teamMembersByTeamId[t.teamId][t.memberEmail];return{folders:T(null==(a=n.edit_roles)?void 0:a.folders,e.folders),files:C(n,e.fileByKey),isCurrentEditor:n.id===(null==(r=e.user)?void 0:r.id),team:e.teams[t.teamId],member:n}})(function(e){var t,a,l,i,m;let u=(0,n.wA)(),{files:f,folders:v,member:b,team:w}=e,T=!!b.team_role&&(null==(t=b.team_role)?void 0:t.level)>=_.e6.EDITOR,x=v.editableResources.length+v.privateResourceCount,C=f.editableResources.length+f.privateResourceCount;return r.createElement(d.fu,{name:"Member Edit Access Modal",properties:{teamId:w.id,userId:b.id,folderCount:x,fileCount:C}},r.createElement(g.XV,{title:(0,o.t)("team_view.member_edit_access_modal.title",{memberName:b.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--8np0a",onClose:()=>{u(c.Ce())}},r.createElement("div",{className:"edit_access_modal--headerContainer--gRRBn edit_access_modal--resourceContainer--mv77E"},r.createElement("div",{className:E},r.createElement("div",{className:h},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.projects_title"}))),r.createElement("div",{className:E},r.createElement("div",{className:h},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.files_title"})))),r.createElement(s.P,{className:"edit_access_modal--scrollContainer---Ejhb",hideScrollbar:!0},r.createElement("div",{className:"edit_access_modal--resourceContainer--mv77E"},r.createElement("div",{className:E},r.createElement(y,{hasTeamEditPermissions:T,isWhiteboardEditor:(null==(a=b.team_user)?void 0:a.whiteboard_paid_status)===p.Zf.FULL,isDesignEditor:(null==(l=b.team_user)?void 0:l.design_paid_status)===p.Zf.FULL,resources:v,resourceType:"project"})),r.createElement("div",{className:E},r.createElement(y,{hasTeamEditPermissions:T,isWhiteboardEditor:(null==(i=b.team_user)?void 0:i.whiteboard_paid_status)===p.Zf.FULL,isDesignEditor:(null==(m=b.team_user)?void 0:m.design_paid_status)===p.Zf.FULL,resources:f,resourceType:"file"}))))))})},671072:(e,t,a)=>{"use strict";a.d(t,{u:()=>o});var r=a(411855),n=a(67294),l=a(498606),i=a(436128);let s=n.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return r.createElement("div",{className:"avatars_pile--viewersList--nxwgy"},e.totalNum-t.length>0&&r.createElement("div",{className:"avatars_pile--horizontalPileNumber--6h3zK avatars_pile--baseNumber--Qqq-z","data-tooltip-type":l.Ib.TEXT,"data-tooltip":o},e.totalNum-t.length),t.reverse().map(t=>r.createElement("div",{className:"avatars_pile--avatar--6RPYa",key:t.id},r.createElement(i.W,{user:t},r.createElement(n.H8,{user:t,size:e.avatarSize?e.avatarSize:s})))))}},487107:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var r=a(411855),n=a(629019),l=a.n(n),i=a(630949),s=a(435898),o=a(674858);function c({suggestion:{title:e,subtitle:t,type:a},onClick:n}){return r.createElement("button",{onClick:n,className:l()(i.cx.flex.justifyBetween.itemsCenter.p12.b1.colorBorder.bRadius6.wFull.alignLeft.hFull.$,o.Y6),"data-testid":"figjam-ai-one-click"},r.createElement("div",{className:i.cx.flex.itemsCenter.gap12.$},(0,s.sm)(a),r.createElement("div",{className:i.cx.flex.flexColumn.itemsStart.gap8.$},r.createElement("div",{className:i.cx.colorText.font13.$},e),r.createElement("div",{className:i.cx.colorTextSecondary.font13.$},t))))}},57440:(e,t,a)=>{var r=a(450310),n=a(859851);e.exports=function(e){return n(r(e))}},48464:e=>{var t=Math.floor,a=Math.random;e.exports=function(e,r){return e+t(a()*(r-e+1))}},585726:(e,t,a)=>{var r=a(859851),n=a(903005);e.exports=function(e){return r(n(e))}},700989:(e,t,a)=>{var r=a(402275);e.exports=function(e,t){return r(t,function(t){return e[t]})}},859851:(e,t,a)=>{var r=a(48464);e.exports=function(e,t){var a=-1,n=e.length,l=n-1;for(t=void 0===t?n:t;++a<t;){var i=r(a,l),s=e[i];e[i]=e[a],e[a]=s}return e.length=t,e}},3794:e=>{e.exports=function(e){for(var t=-1,a=null==e?0:e.length,r=0,n=[];++t<a;){var l=e[t];l&&(n[r++]=l)}return n}},169566:(e,t,a)=>{var r=a(57440),n=a(585726),l=a(525874);e.exports=function(e){return(l(e)?r:n)(e)}},903005:(e,t,a)=>{var r=a(700989),n=a(3511);e.exports=function(e){return null==e?[]:r(e,n(e))}},460845:(e,t,a)=>{"use strict";a.d(t,{N_:()=>p});var r=a(753178),n=(a(930864),a(411855)),l=a(908376),i=a(861396),s=a(955207),o=a(801760);n.Component,n.Component;var c=function(e,t){return"function"==typeof e?e(t):e},d=function(e,t){return"string"==typeof e?(0,l.yJ)(e,null,null,t):e},m=function(e){return e},u=n.forwardRef;void 0===u&&(u=m);var _=u(function(e,t){var a=e.innerRef,r=e.navigate,l=e.onClick,o=(0,s.A)(e,["innerRef","navigate","onClick"]),c=o.target,d=(0,i.A)({},o,{onClick:function(e){try{l&&l(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),r())}});return m!==u?d.ref=t||a:d.ref=a,n.createElement("a",d)}),p=u(function(e,t){var a=e.component,p=void 0===a?_:a,g=e.replace,E=e.to,f=e.innerRef,h=(0,s.A)(e,["component","replace","to","innerRef"]);return n.createElement(r.XZ.Consumer,null,function(e){e||(0,o.A)(!1);var a=e.history,r=d(c(E,e.location),e.location),s=r?a.createHref(r):"",_=(0,i.A)({},h,{href:s,navigate:function(){var t=c(E,e.location),r=(0,l.AO)(e.location)===(0,l.AO)(d(t));(g||r?a.replace:a.push)(t)}});return m!==u?_.ref=t||f:_.innerRef=f,n.createElement(p,_)})}),g=function(e){return e},E=n.forwardRef;void 0===E&&(E=g),E(function(e,t){var a=e["aria-current"],l=void 0===a?"page":a,m=e.activeClassName,u=void 0===m?"active":m,_=e.activeStyle,f=e.className,h=e.exact,v=e.isActive,b=e.location,y=e.sensitive,w=e.strict,T=e.style,x=e.to,C=e.innerRef,N=(0,s.A)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return n.createElement(r.XZ.Consumer,null,function(e){e||(0,o.A)(!1);var a=b||e.location,s=d(c(x,a),a),m=s.pathname,k=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=k?(0,r.B6)(a.pathname,{path:k,exact:h,sensitive:y,strict:w}):null,I=!!(v?v(S,a):S),A="function"==typeof f?f(I):f,L="function"==typeof T?T(I):T;I&&(A=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(A,u),L=(0,i.A)({},L,_));var R=(0,i.A)({"aria-current":I&&l||null,className:A,style:L,to:s},N);return g!==E?R.ref=t||C:R.innerRef=C,n.createElement(p,R)})})}}]);

//# debugId=bdf643fb-b6ed-58ae-8231-2c8c498e1a66

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/897400ef422de6a15f63f5f081edbccaecc1c22d/file_browser-a72d70bb8843dbce.min.js.map